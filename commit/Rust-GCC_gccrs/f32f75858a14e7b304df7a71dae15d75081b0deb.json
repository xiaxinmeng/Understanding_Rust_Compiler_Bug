{"sha": "f32f75858a14e7b304df7a71dae15d75081b0deb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMyZjc1ODU4YTE0ZTdiMzA0ZGY3YTcxZGFlMTVkNzUwODFiMGRlYg==", "commit": {"author": {"name": "Matthew Green", "email": "mrg@eterna.com.au", "date": "2019-06-17T14:43:11Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2019-06-17T14:43:11Z"}, "message": "[netbsd][aarch64] add netbsd/aarch64 target\n\nInitial support for AArch64 running NetBSD.\n\nMatthew Green <mrg@eterna.com.au>\nMaya Rashish <coypu@sdf.org>\n\ngcc:\n\t* config.gcc (aarch64*-*-netbsd*): New target.\n\t* config/aarch64/aarch64-netbsd.h: New file.\n\t* config/aarch64/t-aarch64-netbsd: Likewise.\n\nlibgcc:\n\t* config.host (aarch64*-*-netbsd*): New case.\n\nCo-Authored-By: Maya Rashish <coypu@sdf.org>\n\nFrom-SVN: r272387", "tree": {"sha": "02586d019f74d3b896d2d2f5b98a9bb3bbaf1d75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02586d019f74d3b896d2d2f5b98a9bb3bbaf1d75"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f32f75858a14e7b304df7a71dae15d75081b0deb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f32f75858a14e7b304df7a71dae15d75081b0deb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f32f75858a14e7b304df7a71dae15d75081b0deb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f32f75858a14e7b304df7a71dae15d75081b0deb/comments", "author": {"login": "mrgtwentythree", "id": 61165273, "node_id": "MDQ6VXNlcjYxMTY1Mjcz", "avatar_url": "https://avatars.githubusercontent.com/u/61165273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrgtwentythree", "html_url": "https://github.com/mrgtwentythree", "followers_url": "https://api.github.com/users/mrgtwentythree/followers", "following_url": "https://api.github.com/users/mrgtwentythree/following{/other_user}", "gists_url": "https://api.github.com/users/mrgtwentythree/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrgtwentythree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrgtwentythree/subscriptions", "organizations_url": "https://api.github.com/users/mrgtwentythree/orgs", "repos_url": "https://api.github.com/users/mrgtwentythree/repos", "events_url": "https://api.github.com/users/mrgtwentythree/events{/privacy}", "received_events_url": "https://api.github.com/users/mrgtwentythree/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "360a758ec81936f87978d6422677bb759202e47c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/360a758ec81936f87978d6422677bb759202e47c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/360a758ec81936f87978d6422677bb759202e47c"}], "stats": {"total": 125, "additions": 125, "deletions": 0}, "files": [{"sha": "dfcf057efced41823ab403d4ea887dbc2022bb35", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -1,3 +1,10 @@\n+2019-06-17  Matthew Green  <mrg@eterna.com.au>\n+\t    Maya Rashish  <coypu@sdf.org>\n+\n+\t* config.gcc (aarch64*-*-netbsd*): New target.\n+\t* config/aarch64/aarch64-netbsd.h: New file.\n+\t* config/aarch64/t-aarch64-netbsd: Likewise.\n+\n 2019-06-17  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* tree-ssa-alias.c (aliasing_component_refs_p): Consider only"}, {"sha": "fda048dc12b1655c8d6a6cca38cf54f2d10f4c1d", "filename": "gcc/config.gcc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -1021,6 +1021,12 @@ aarch64*-*-freebsd*)\n \ttmake_file=\"${tmake_file} aarch64/t-aarch64 aarch64/t-aarch64-freebsd\"\n \ttm_defines=\"${tm_defines}  TARGET_DEFAULT_ASYNC_UNWIND_TABLES=1\"\n \t;;\n+aarch64*-*-netbsd*)\n+\ttm_file=\"${tm_file} dbxelf.h elfos.h ${nbsd_tm_file}\"\n+\ttm_file=\"${tm_file} aarch64/aarch64-elf.h aarch64/aarch64-netbsd.h\"\n+\ttmake_file=\"${tmake_file} aarch64/t-aarch64 aarch64/t-aarch64-netbsd\"\n+\textra_options=\"${extra_options} netbsd.opt netbsd-elf.opt\"\n+\t;;\n aarch64*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h gnu-user.h linux.h glibc-stdint.h\"\n \ttm_file=\"${tm_file} aarch64/aarch64-elf.h aarch64/aarch64-linux.h\""}, {"sha": "2686a1b7ae7d636b2a1bbece6d83d1364236b4fd", "filename": "gcc/config/aarch64/aarch64-netbsd.h", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig%2Faarch64%2Faarch64-netbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig%2Faarch64%2Faarch64-netbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-netbsd.h?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -0,0 +1,80 @@\n+/* Definitions for AArch64 running NetBSD\n+   Copyright (C) 2016-2019 Free Software Foundation, Inc.\n+\n+   This file is part of GCC.\n+\n+   GCC is free software; you can redistribute it and/or modify it\n+   under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 3, or (at your option)\n+   any later version.\n+\n+   GCC is distributed in the hope that it will be useful, but\n+   WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   General Public License for more details.\n+\n+   You should have received a copy of the GNU General Public License\n+   along with GCC; see the file COPYING3.  If not see\n+   <http://www.gnu.org/licenses/>.  */\n+\n+#ifndef GCC_AARCH64_NETBSD_H\n+#define GCC_AARCH64_NETBSD_H\n+\n+#define TARGET_LINKER_BIG_EMULATION \"aarch64nbsdb\"\n+#define TARGET_LINKER_LITTLE_EMULATION \"aarch64nbsd\"\n+\n+#if TARGET_BIG_ENDIAN_DEFAULT\n+#define TARGET_LINKER_EMULATION  TARGET_LINKER_BIG_EMULATION\n+#else\n+#define TARGET_LINKER_EMULATION  TARGET_LINKER_LITTLE_EMULATION\n+#endif\n+\n+#undef  SUBTARGET_EXTRA_LINK_SPEC\n+#define SUBTARGET_EXTRA_LINK_SPEC \" -m\" TARGET_LINKER_EMULATION\n+\n+#define NETBSD_ENTRY_POINT \"__start\"\n+\n+#define NETBSD_TARGET_LINK_SPEC  \"%{h*} \"\t\t\t\t\\\n+  \"-X %{mbig-endian:-EB -m \" TARGET_LINKER_BIG_EMULATION \"} \"\t\t\\\n+  \"%{mlittle-endian:-EL -m \" TARGET_LINKER_LITTLE_EMULATION \"} \"\t\\\n+  \"%(netbsd_link_spec)\"\n+\n+#if TARGET_FIX_ERR_A53_835769_DEFAULT\n+#define CA53_ERR_835769_SPEC \\\n+  \" %{!mno-fix-cortex-a53-835769:--fix-cortex-a53-835769}\"\n+#else\n+#define CA53_ERR_835769_SPEC \\\n+  \" %{mfix-cortex-a53-835769:--fix-cortex-a53-835769}\"\n+#endif\n+\n+#ifdef TARGET_FIX_ERR_A53_843419_DEFAULT\n+#define CA53_ERR_843419_SPEC \\\n+  \" %{!mno-fix-cortex-a53-843419:--fix-cortex-a53-843419}\"\n+#else\n+#define CA53_ERR_843419_SPEC \\\n+  \" %{mfix-cortex-a53-843419:--fix-cortex-a53-843419}\"\n+#endif\n+\n+#undef  LINK_SPEC\n+#define LINK_SPEC NETBSD_LINK_SPEC_ELF\t\t\\\n+\t\t  NETBSD_TARGET_LINK_SPEC\t\\\n+\t\t  CA53_ERR_835769_SPEC\t\t\\\n+\t\t  CA53_ERR_843419_SPEC\n+\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      NETBSD_OS_CPP_BUILTINS_ELF();\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+#undef SUBTARGET_CPP_SPEC\n+#define SUBTARGET_CPP_SPEC NETBSD_CPP_SPEC\n+\n+#undef EXTRA_SPECS\n+#define EXTRA_SPECS \\\n+  { \"asm_cpu_spec\",             ASM_CPU_SPEC }, \\\n+  NETBSD_SUBTARGET_EXTRA_SPECS\n+\n+#endif  /* GCC_AARCH64_NETBSD_H */"}, {"sha": "aa447d0f6d47c948d1714942329a02821f89cf4f", "filename": "gcc/config/aarch64/t-aarch64-netbsd", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig%2Faarch64%2Ft-aarch64-netbsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/gcc%2Fconfig%2Faarch64%2Ft-aarch64-netbsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Ft-aarch64-netbsd?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -0,0 +1,21 @@\n+# Machine description for AArch64 architecture.\n+#  Copyright (C) 2016-2019 Free Software Foundation, Inc.\n+#\n+#  This file is part of GCC.\n+#\n+#  GCC is free software; you can redistribute it and/or modify it\n+#  under the terms of the GNU General Public License as published by\n+#  the Free Software Foundation; either version 3, or (at your option)\n+#  any later version.\n+#\n+#  GCC is distributed in the hope that it will be useful, but\n+#  WITHOUT ANY WARRANTY; without even the implied warranty of\n+#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+#  General Public License for more details.\n+#\n+#  You should have received a copy of the GNU General Public License\n+#  along with GCC; see the file COPYING3.  If not see\n+#  <http://www.gnu.org/licenses/>.\n+\n+LIB1ASMSRC   = aarch64/lib1funcs.asm\n+LIB1ASMFUNCS = _aarch64_sync_cache_range"}, {"sha": "934733d66b86deb10ba8c1bb45ded55491f0a0cc", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -1,3 +1,8 @@\n+2019-06-17  Matthew Green  <mrg@eterna.com.au>\n+\t    Maya Rashish  <coypu@sdf.org>\n+\n+\t* config.host (aarch64*-*-netbsd*): New case.\n+\n 2019-06-16  Jozef Lawrynowicz  <jozef.l@mittosystems.com>\n \n \t* config/msp430/slli.S (__mspabi_sllll): New library function for"}, {"sha": "e6a834b8fc893010c48c5acef8fc0763c16b22b6", "filename": "libgcc/config.host", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32f75858a14e7b304df7a71dae15d75081b0deb/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32f75858a14e7b304df7a71dae15d75081b0deb/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=f32f75858a14e7b304df7a71dae15d75081b0deb", "patch": "@@ -359,6 +359,12 @@ aarch64*-*-freebsd*)\n \ttmake_file=\"${tmake_file} ${cpu_type}/t-softfp t-softfp t-crtfm\"\n \tmd_unwind_header=aarch64/freebsd-unwind.h\n \t;;\n+aarch64*-*-netbsd*)\n+\textra_parts=\"$extra_parts crtfastmath.o\"\n+\ttmake_file=\"${tmake_file} ${cpu_type}/t-aarch64\"\n+\ttmake_file=\"${tmake_file} ${cpu_type}/t-softfp t-softfp t-crtfm\"\n+\tmd_unwind_header=aarch64/aarch64-unwind.h\n+\t;;\n aarch64*-*-fuchsia*)\n \ttmake_file=\"${tmake_file} ${cpu_type}/t-aarch64\"\n \ttmake_file=\"${tmake_file} ${cpu_type}/t-softfp t-softfp\""}]}