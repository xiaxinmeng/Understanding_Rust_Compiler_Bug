{"sha": "143384686241627bd96a5f7509aee3a8291280a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQzMzg0Njg2MjQxNjI3YmQ5NmE1Zjc1MDlhZWUzYTgyOTEyODBhNQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-14T14:07:07Z"}, "committer": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2020-10-14T14:07:07Z"}, "message": "Turn offset_map to HOST_WIDE_INT\n\ngcc/ChangeLog:\n\n2020-10-14  Jan Hubicka  <hubicka@ucw.cz>\n\n\t* ipa-fnsummary.c (remap_edge_summaries): Make offset_map HOST_WIDE_INT.\n\t(remap_freqcounting_predicate): Likewise.\n\t(ipa_merge_fn_summary_after_inlining): Likewise.\n\t* ipa-predicate.c (predicate::remap_after_inlining): Likewise\n\t* ipa-predicate.h (remap_after_inlining): Update.", "tree": {"sha": "7e6348f26f76fbc993d6d14c41685947c9102365", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e6348f26f76fbc993d6d14c41685947c9102365"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/143384686241627bd96a5f7509aee3a8291280a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/143384686241627bd96a5f7509aee3a8291280a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/143384686241627bd96a5f7509aee3a8291280a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/143384686241627bd96a5f7509aee3a8291280a5/comments", "author": null, "committer": null, "parents": [{"sha": "4d90edb96e199e2e73ba71de5ab3b7c1c0aad6d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d90edb96e199e2e73ba71de5ab3b7c1c0aad6d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d90edb96e199e2e73ba71de5ab3b7c1c0aad6d0"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "9e3eda4d3cbe3d616ff7e6b707a437521f75f0a8", "filename": "gcc/ipa-fnsummary.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-fnsummary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-fnsummary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-fnsummary.c?ref=143384686241627bd96a5f7509aee3a8291280a5", "patch": "@@ -3896,7 +3896,7 @@ remap_edge_summaries (struct cgraph_edge *inlined_edge,\n \t\t      class ipa_node_params *params_summary,\n \t\t      class ipa_fn_summary *callee_info,\n \t\t      vec<int> operand_map,\n-\t\t      vec<int> offset_map,\n+\t\t      vec<HOST_WIDE_INT> offset_map,\n \t\t      clause_t possible_truths,\n \t\t      predicate *toplev_predicate)\n {\n@@ -3957,7 +3957,7 @@ remap_freqcounting_predicate (class ipa_fn_summary *info,\n \t\t\t      class ipa_fn_summary *callee_info,\n \t\t\t      vec<ipa_freqcounting_predicate, va_gc> *v,\n \t\t\t      vec<int> operand_map,\n-\t\t\t      vec<int> offset_map,\n+\t\t\t      vec<HOST_WIDE_INT> offset_map,\n \t\t\t      clause_t possible_truths,\n \t\t\t      predicate *toplev_predicate)\n \n@@ -3987,7 +3987,7 @@ ipa_merge_fn_summary_after_inlining (struct cgraph_edge *edge)\n   clause_t clause = 0;\t/* not_inline is known to be false.  */\n   size_time_entry *e;\n   auto_vec<int, 8> operand_map;\n-  auto_vec<int, 8> offset_map;\n+  auto_vec<HOST_WIDE_INT, 8> offset_map;\n   int i;\n   predicate toplev_predicate;\n   class ipa_call_summary *es = ipa_call_summaries->get (edge);"}, {"sha": "605da912d26562725854e159d180d647df5a7e1e", "filename": "gcc/ipa-predicate.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-predicate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-predicate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-predicate.c?ref=143384686241627bd96a5f7509aee3a8291280a5", "patch": "@@ -508,7 +508,7 @@ predicate::remap_after_inlining (class ipa_fn_summary *info,\n \t\t\t\t class ipa_node_params *params_summary,\n \t\t\t\t class ipa_fn_summary *callee_info,\n \t\t\t\t vec<int> operand_map,\n-\t\t\t\t vec<int> offset_map,\n+\t\t\t\t vec<HOST_WIDE_INT> offset_map,\n \t\t\t\t clause_t possible_truths,\n \t\t\t\t const predicate &toplev_predicate)\n {"}, {"sha": "34a0d239d2ae820345518ae0d450ad0d0f7d92a7", "filename": "gcc/ipa-predicate.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-predicate.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/143384686241627bd96a5f7509aee3a8291280a5/gcc%2Fipa-predicate.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-predicate.h?ref=143384686241627bd96a5f7509aee3a8291280a5", "patch": "@@ -243,7 +243,8 @@ class predicate\n   predicate remap_after_inlining (class ipa_fn_summary *,\n \t\t  \t\t  class ipa_node_params *params_summary,\n \t\t\t          class ipa_fn_summary *,\n-\t\t\t          vec<int>, vec<int>, clause_t, const predicate &);\n+\t\t\t\t  vec<int>, vec<HOST_WIDE_INT>,\n+\t\t\t\t  clause_t, const predicate &);\n \n   void stream_in (class lto_input_block *);\n   void stream_out (struct output_block *);"}]}