{"sha": "1038f4f99a5911c3e21740685e648442f7b28117", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTAzOGY0Zjk5YTU5MTFjM2UyMTc0MDY4NWU2NDg0NDJmN2IyODExNw==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1995-02-01T19:28:29Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1995-02-01T19:28:29Z"}, "message": "55th Cygnus<->FSF merge\n\nFrom-SVN: r8849", "tree": {"sha": "7e3931abb2d0b8aa7f067f3d1acb0a2e684b3b26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e3931abb2d0b8aa7f067f3d1acb0a2e684b3b26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1038f4f99a5911c3e21740685e648442f7b28117", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1038f4f99a5911c3e21740685e648442f7b28117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1038f4f99a5911c3e21740685e648442f7b28117", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1038f4f99a5911c3e21740685e648442f7b28117/comments", "author": null, "committer": null, "parents": [{"sha": "74356a720d06374cc8c4bf32f8fa6913fa9c4de8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74356a720d06374cc8c4bf32f8fa6913fa9c4de8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74356a720d06374cc8c4bf32f8fa6913fa9c4de8"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "c5cfb77b45b98708bbe276db4fd422770a0fc66b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1038f4f99a5911c3e21740685e648442f7b28117", "patch": "@@ -3,6 +3,18 @@ Wed Jan 25 15:02:09 1995  David S. Miller  (davem@nadzieja.rutgers.edu)\n \t* class.c (instantiate_type): Change error message text.\n \t* typeck2.c (store_init_value): Likewise.\n \n+Wed Feb  1 10:12:14 1995  Mike Stump  <mrs@cygnus.com>\n+\n+\t* decl2.c (finish_file): Fix bug in Jan 31st change.\n+\n+Tue Jan 31 16:59:15 1995  Gerald Baumgartner  (gb@lorenzo.cs.purdue.edu)\n+\n+\t* sig.c (build_signature_pointer_or_reference_type): Don't set\n+\tIS_AGGR_TYPE for signature pointers/reference so expand_default_init\n+\tdoesn't expect to find a copy constructor.\n+\t* call.c (build_method_call): Treat signature pointers/reference\n+\tas if IS_AGGR_TYPE were set.\n+\n Tue Jan 31 13:28:56 1995  Mike Stump  <mrs@cygnus.com>\n \n \t* gc.c (get_typeid): Pawn off error messages to build_t_desc."}, {"sha": "631f1af222bb4c08ed257d7185e2128490ceb46b", "filename": "gcc/cp/call.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=1038f4f99a5911c3e21740685e648442f7b28117", "patch": "@@ -1729,7 +1729,10 @@ build_method_call (instance, name, parms, basetype_path, flags)\n \t}\n       else\n \t{\n-\t  if (! IS_AGGR_TYPE (basetype))\n+\t  if (! IS_AGGR_TYPE (basetype)\n+\t      && ! (TYPE_LANG_SPECIFIC (basetype)\n+\t\t    && (IS_SIGNATURE_POINTER (basetype)\n+\t\t\t|| IS_SIGNATURE_REFERENCE (basetype))))\n \t    goto non_aggr_error;\n \n \t  /* If `instance' is a signature pointer/reference and `name' is"}, {"sha": "0f4ec36b76b47b15373a5799997d28ad3f352b00", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=1038f4f99a5911c3e21740685e648442f7b28117", "patch": "@@ -2789,7 +2789,7 @@ finish_file ()\n \n   /* These must be done in backward order to destroy,\n      in which they happen to be!  */\n-  while (vars)\n+  for (vars = static_aggregates; vars; vars = TREE_CHAIN (vars))\n     {\n       tree decl = TREE_VALUE (vars);\n       tree type = TREE_TYPE (decl);\n@@ -2813,7 +2813,6 @@ finish_file ()\n \t  if (TREE_STATIC (vars))\n \t    expand_end_cond ();\n \t}\n-      vars = TREE_CHAIN (vars);\n     }\n \n   for (; static_dtors; static_dtors = TREE_CHAIN (static_dtors))"}, {"sha": "282dce97717a27c00fa2aa6898f3f3f1455496a2", "filename": "gcc/cp/sig.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fsig.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1038f4f99a5911c3e21740685e648442f7b28117/gcc%2Fcp%2Fsig.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsig.c?ref=1038f4f99a5911c3e21740685e648442f7b28117", "patch": "@@ -199,6 +199,9 @@ build_signature_pointer_or_reference_type (to_type, constp, volatilep, refp)\n     CLASSTYPE_VFIELD (t) = vptr;\n     DECL_FCONTEXT (CLASSTYPE_VFIELD (t)) = t;\n     TYPE_ALIGN (t) = TYPE_ALIGN (optr_type);\n+\n+    /* A signature pointer/reference isn't a `real' class.  */\n+    IS_AGGR_TYPE (t) = 0;\n   }\n \n   {"}]}