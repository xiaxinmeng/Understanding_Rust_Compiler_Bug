{"sha": "bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmNiNThkZmNkNWFlYTZhY2Y2NzQ1ZGFkMzkyZTllMWM3ZmI2MzdhMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-02-25T02:20:56Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-02-25T02:20:56Z"}, "message": "In <prototypes.h>, fix prototypes of getcwd and link.\n\nFrom-SVN: r6620", "tree": {"sha": "889a80e23cf466d00de968087e4c84b9f140b3b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/889a80e23cf466d00de968087e4c84b9f140b3b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3/comments", "author": null, "committer": null, "parents": [{"sha": "a69b6c05eb53bcd87c37b88b66ec83fa2ff8b07d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a69b6c05eb53bcd87c37b88b66ec83fa2ff8b07d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a69b6c05eb53bcd87c37b88b66ec83fa2ff8b07d"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "1b90331a4f3b326a553c26f7f2eb191115ace02f", "filename": "gcc/fixinc.sco", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3/gcc%2Ffixinc.sco", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3/gcc%2Ffixinc.sco", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.sco?ref=bcb58dfcd5aea6acf6745dad392e9e1c7fb637a3", "patch": "@@ -227,6 +227,34 @@ if [ \\! -z \"$file_to_fix\" ]; then\n   rm -f /tmp/$base\n fi\n \n+# Fix third broken decl of getcwd on SCO.  Also fix incorrect decl of\n+# link.\n+file=prototypes.h\n+base=`basename $file`\n+if [ -r ${LIB}/$file ]; then\n+  file_to_fix=${LIB}/$file\n+else\n+  if [ -r ${INPUT}/$file ]; then\n+    file_to_fix=${INPUT}/$file\n+  else\n+    file_to_fix=\"\"\n+  fi\n+fi\n+if [ \\! -z \"$file_to_fix\" ]; then\n+  echo Checking $file_to_fix\n+  sed -e 's/getcwd(char \\*, int)/getcwd(char *, size_t)/' $file_to_fix \\\n+    | sed -e 's/const  int\tlink(const char \\*, char \\*)/extern  int\tlink(const char *, const char *)/' > /tmp/$base\n+  if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n+    true\n+  else\n+    echo Fixed $file_to_fix\n+    rm -f ${LIB}/$file\n+    cp /tmp/$base ${LIB}/$file\n+    chmod a+r ${LIB}/$file\n+  fi\n+  rm -f /tmp/$base\n+fi\n+\n # Fix an error in this file: the #if says _cplusplus, not the double\n # underscore __cplusplus that it should be\n file=tinfo.h"}]}