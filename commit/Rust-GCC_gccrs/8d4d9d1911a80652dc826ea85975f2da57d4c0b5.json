{"sha": "8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ0ZDlkMTkxMWE4MDY1MmRjODI2ZWE4NTk3NWYyZGE1N2Q0YzBiNQ==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "pfeifer@dbai.tuwien.ac.at", "date": "2003-05-20T11:47:50Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2003-05-20T11:47:50Z"}, "message": "gcc_release (upload_files): Put diff files into a \"diffs\" subdirectory\n\n\t* gcc_release (upload_files): Put diff files into a \"diffs\"\n\tsubdirectory\n\nFrom-SVN: r66996", "tree": {"sha": "e18169ba2808407cf2131f2d712fb4ce48a77b55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e18169ba2808407cf2131f2d712fb4ce48a77b55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d4d9d1911a80652dc826ea85975f2da57d4c0b5/comments", "author": null, "committer": null, "parents": [{"sha": "c93aa80414eb376508a8e6dc4ef1d6cf8175535e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c93aa80414eb376508a8e6dc4ef1d6cf8175535e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c93aa80414eb376508a8e6dc4ef1d6cf8175535e"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "975c615a041dfbaaee4f66bdae826816b21e83b8", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4d9d1911a80652dc826ea85975f2da57d4c0b5/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4d9d1911a80652dc826ea85975f2da57d4c0b5/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "patch": "@@ -1,3 +1,8 @@\n+2003-05-20  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n+\n+\t* gcc_release (upload_files): Put diff files into a \"diffs\"\n+\tsubdirectory\n+\n 2003-05-18  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* gcc_release: GNU CC -> GCC."}, {"sha": "9f22b839d0d21db456fb1175ffda4a48bb1b6834", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d4d9d1911a80652dc826ea85975f2da57d4c0b5/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d4d9d1911a80652dc826ea85975f2da57d4c0b5/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=8d4d9d1911a80652dc826ea85975f2da57d4c0b5", "patch": "@@ -335,20 +335,30 @@ upload_files() {\n \n   # Make sure the directory exists on the server.\n   if [ $LOCAL -eq 0 ]; then\n-    ${SSH} -l ${GCC_USERNAME} ${GCC_HOSTNAME} mkdir ${FTP_PATH}\n+    ${SSH} -l ${GCC_USERNAME} ${GCC_HOSTNAME} \\\n+      mkdir -p \"${FTP_PATH}/diffs\"\n     UPLOAD_PATH=\"${GCC_USERNAME}@${GCC_HOSTNAME}:${FTP_PATH}\"\n   else\n-    mkdir -p \"${FTP_PATH}\" \\\n+    mkdir -p \"${FTP_PATH}/diffs\" \\\n       || error \"Could not create \\`${FTP_PATH}'\"\n     UPLOAD_PATH=${FTP_PATH}\n   fi\n \n+  # Then copy files to their respective (sub)directories.\n   for x in gcc*.gz gcc*.bz2; do\n     if [ -e ${x} ]; then\n       # Make sure the file will be readable on the server.\n       chmod a+r ${x}\n       # Copy it.\n-      ${SCP} ${x} ${UPLOAD_PATH} || error \"Could not upload ${x}\"\n+      case ${x} in\n+        *.diff.*)\n+          SUBDIR=\"diffs/\";\n+          ;;\n+        *)\n+          SUBDIR=\"\";\n+      esac\n+      ${SCP} ${x} ${UPLOAD_PATH}/${SUBDIR} \\\n+        || error \"Could not upload ${x}\"\n     fi\n   done\n }"}]}