{"sha": "5f070bc759432417ea6bb27d743b6f95ae034c68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWYwNzBiYzc1OTQzMjQxN2VhNmJiMjdkNzQzYjZmOTVhZTAzNGM2OA==", "commit": {"author": {"name": "Ziemowit Laski", "email": "zlaski@apple.com", "date": "2004-09-09T01:49:00Z"}, "committer": {"name": "Ziemowit Laski", "email": "zlaski@gcc.gnu.org", "date": "2004-09-09T01:49:00Z"}, "message": "Make-lang.in (cp/semantics.o): Depend on c-common.h.\n\n[gcc/cp/ChangeLog]\n2004-09-08  Ziemowit Laski  <zlaski@apple.com>\n\n        * Make-lang.in (cp/semantics.o): Depend on c-common.h.\n        * semantics.c: Include c-common.h.\n        (finish_compound_stmt): Call objc_clear_super_receiver().\n\nFrom-SVN: r87219", "tree": {"sha": "853382fd4d63856099c92d462a258734abb1ea00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/853382fd4d63856099c92d462a258734abb1ea00"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f070bc759432417ea6bb27d743b6f95ae034c68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f070bc759432417ea6bb27d743b6f95ae034c68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f070bc759432417ea6bb27d743b6f95ae034c68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f070bc759432417ea6bb27d743b6f95ae034c68/comments", "author": null, "committer": null, "parents": [{"sha": "deb176fa3bb3d05c3fba4f1dc36735853bc18804", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deb176fa3bb3d05c3fba4f1dc36735853bc18804", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deb176fa3bb3d05c3fba4f1dc36735853bc18804"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "2792cca7fed16fae752fee929adfe41b5aece0c6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5f070bc759432417ea6bb27d743b6f95ae034c68", "patch": "@@ -1,3 +1,9 @@\n+2004-09-08  Ziemowit Laski  <zlaski@apple.com>\n+\n+\t* Make-lang.in (cp/semantics.o): Depend on c-common.h.\n+\t* semantics.c: Include c-common.h.\n+\t(finish_compound_stmt): Call objc_clear_super_receiver().\n+\n 2004-09-08  Ziemowit Laski  <zlaski@apple.com>\n \n \t* cp-tree.h (do_poplevel): New prototype."}, {"sha": "29a533bd849102972306047cd18be8cc0d7261a5", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=5f070bc759432417ea6bb27d743b6f95ae034c68", "patch": "@@ -267,7 +267,7 @@ cp/repo.o: cp/repo.c $(CXX_TREE_H) $(TM_H) toplev.h diagnostic.h \\\n   gt-cp-repo.h\n cp/semantics.o: cp/semantics.c $(CXX_TREE_H) $(TM_H) except.h toplev.h \\\n   flags.h debug.h output.h $(RTL_H) $(TIMEVAR_H) $(EXPR_H) \\\n-  tree-inline.h cgraph.h $(TARGET_H)\n+  tree-inline.h cgraph.h $(TARGET_H) c-common.h\n cp/dump.o: cp/dump.c $(CXX_TREE_H) $(TM_H) tree-dump.h\n cp/optimize.o: cp/optimize.c $(CXX_TREE_H) $(TM_H) rtl.h integrate.h insn-config.h \\\n   input.h $(PARAMS_H) debug.h tree-inline.h tree-gimple.h $(TARGET_H)"}, {"sha": "5d50ea687eb774795653d36125210263aa9c2e34", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f070bc759432417ea6bb27d743b6f95ae034c68/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=5f070bc759432417ea6bb27d743b6f95ae034c68", "patch": "@@ -31,6 +31,7 @@\n #include \"tm.h\"\n #include \"tree.h\"\n #include \"cp-tree.h\"\n+#include \"c-common.h\"\n #include \"tree-inline.h\"\n #include \"tree-mudflap.h\"\n #include \"except.h\"\n@@ -1088,7 +1089,13 @@ finish_compound_stmt (tree stmt)\n   else if (STATEMENT_LIST_NO_SCOPE (stmt))\n     stmt = pop_stmt_list (stmt);\n   else\n-    stmt = do_poplevel (stmt);\n+    {\n+      /* Destroy any ObjC \"super\" receivers that may have been\n+\t created.  */\n+      objc_clear_super_receiver ();\n+\n+      stmt = do_poplevel (stmt);\n+    }\n \n   /* ??? See c_end_compound_stmt wrt statement expressions.  */\n   add_stmt (stmt);"}]}