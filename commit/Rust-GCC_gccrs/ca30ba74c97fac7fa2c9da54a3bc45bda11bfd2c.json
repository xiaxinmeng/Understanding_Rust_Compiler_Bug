{"sha": "ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EzMGJhNzRjOTdmYWM3ZmEyYzlkYTU0YTNiYzQ1YmRhMTFiZmQyYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-07T18:36:36Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-05-07T18:36:36Z"}, "message": "compiler: fix ICE in handling of rune constants.\n\nThis patch corrects an ICE in handling on constant expressions\nsuch as\n\nconst r = ^'a'\n\nPart of issue 9.\n\nFrom-SVN: r187264", "tree": {"sha": "b47b23126fa614e444f4e05b6fdd5afc57b04be7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b47b23126fa614e444f4e05b6fdd5afc57b04be7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c/comments", "author": null, "committer": null, "parents": [{"sha": "c414667bc2a1aa812048cc6f7bba291820dcf5e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c414667bc2a1aa812048cc6f7bba291820dcf5e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c414667bc2a1aa812048cc6f7bba291820dcf5e9"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "f6fb65866f00e5441713fdf50da03f3a680e1c5a", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=ca30ba74c97fac7fa2c9da54a3bc45bda11bfd2c", "patch": "@@ -3712,7 +3712,10 @@ Unary_expression::eval_constant(Operator op, const Numeric_constant* unc,\n     return false;\n \n   mpz_t uval;\n-  unc->get_int(&uval);\n+  if (unc->is_rune())\n+    unc->get_rune(&uval);\n+  else\n+    unc->get_int(&uval);\n   mpz_t val;\n   mpz_init(val);\n "}]}