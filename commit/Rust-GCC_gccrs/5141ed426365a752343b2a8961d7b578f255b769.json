{"sha": "5141ed426365a752343b2a8961d7b578f255b769", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE0MWVkNDI2MzY1YTc1MjM0M2IyYTg5NjFkN2I1NzhmMjU1Yjc2OQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2015-04-15T12:24:28Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-04-15T12:24:28Z"}, "message": "re PR rtl-optimization/42522 ((zero_extract:SI (mem:QI) ...) misoptimized)\n\n        PR rtl-optimization/42522\n        * cse.c (fold_rtx): Try to simplify a ZERO_EXTRACT or\n        SIGN_EXTRACT as a whole object rather than simplifying\n        its operand.\n\nFrom-SVN: r222125", "tree": {"sha": "1d0879dbbab7c2c5b15c92110904392c69270b07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d0879dbbab7c2c5b15c92110904392c69270b07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5141ed426365a752343b2a8961d7b578f255b769", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5141ed426365a752343b2a8961d7b578f255b769", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5141ed426365a752343b2a8961d7b578f255b769", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5141ed426365a752343b2a8961d7b578f255b769/comments", "author": null, "committer": null, "parents": [{"sha": "366ee94b445fd959c7947e45d2cb9a2a4a0b4509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/366ee94b445fd959c7947e45d2cb9a2a4a0b4509", "html_url": "https://github.com/Rust-GCC/gccrs/commit/366ee94b445fd959c7947e45d2cb9a2a4a0b4509"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "a0f2fe7e2b9b75d7c46c04f0851e1e0e9842b6f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5141ed426365a752343b2a8961d7b578f255b769/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5141ed426365a752343b2a8961d7b578f255b769/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5141ed426365a752343b2a8961d7b578f255b769", "patch": "@@ -1,3 +1,10 @@\n+2015-04-15  Jeff Law  <law@redhat.com>\n+\n+\tPR rtl-optimization/42522\n+\t* cse.c (fold_rtx): Try to simplify a ZERO_EXTRACT or\n+\tSIGN_EXTRACT as a whole object rather than simplifying\n+\tits operand.\n+\n 2015-04-15  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR ipa/65765"}, {"sha": "d7638f051f337818dad1c5ab2e1adba2847bf3ed", "filename": "gcc/cse.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5141ed426365a752343b2a8961d7b578f255b769/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5141ed426365a752343b2a8961d7b578f255b769/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=5141ed426365a752343b2a8961d7b578f255b769", "patch": "@@ -3150,6 +3150,15 @@ fold_rtx (rtx x, rtx_insn *insn)\n     {\n     case MEM:\n     case SUBREG:\n+    /* The first operand of a SIGN/ZERO_EXTRACT has a different meaning\n+       than it would in other contexts.  Basically its mode does not\n+       signify the size of the object read.  That information is carried\n+       by size operand.    If we happen to have a MEM of the appropriate\n+       mode in our tables with a constant value we could simplify the\n+       extraction incorrectly if we allowed substitution of that value\n+       for the MEM.   */\n+    case ZERO_EXTRACT:\n+    case SIGN_EXTRACT:\n       if ((new_rtx = equiv_constant (x)) != NULL_RTX)\n         return new_rtx;\n       return x;"}]}