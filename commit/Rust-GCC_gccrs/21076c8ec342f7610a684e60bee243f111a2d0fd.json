{"sha": "21076c8ec342f7610a684e60bee243f111a2d0fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjEwNzZjOGVjMzQyZjc2MTBhNjg0ZTYwYmVlMjQzZjExMWEyZDBmZA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-09-12T17:27:04Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-12T17:27:04Z"}, "message": "print-rtl.c (print_decl_name): New.\n\n        * print-rtl.c (print_decl_name): New.\n        (print_mem_expr): Use it.\n\nFrom-SVN: r87395", "tree": {"sha": "4ee187759fbe33dcc95a607a9dee9d8c02fac25d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ee187759fbe33dcc95a607a9dee9d8c02fac25d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21076c8ec342f7610a684e60bee243f111a2d0fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21076c8ec342f7610a684e60bee243f111a2d0fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21076c8ec342f7610a684e60bee243f111a2d0fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21076c8ec342f7610a684e60bee243f111a2d0fd/comments", "author": null, "committer": null, "parents": [{"sha": "f6a41d17646f19146749442cced240b927f88b8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a41d17646f19146749442cced240b927f88b8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a41d17646f19146749442cced240b927f88b8b"}], "stats": {"total": 34, "additions": 28, "deletions": 6}, "files": [{"sha": "df4dd94b39e8e6b136871283a9631d559731a4a5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21076c8ec342f7610a684e60bee243f111a2d0fd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21076c8ec342f7610a684e60bee243f111a2d0fd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=21076c8ec342f7610a684e60bee243f111a2d0fd", "patch": "@@ -1,3 +1,8 @@\n+2004-09-12  Richard Henderson  <rth@redhat.com\n+\n+\t* print-rtl.c (print_decl_name): New.\n+\t(print_mem_expr): Use it.\n+\n 2004-09-12  Richard Henderson  <rth@redhat.com\n \n         PR 17186, part deux"}, {"sha": "0683159629216474cf719deab1c3590fcf7dbb27", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21076c8ec342f7610a684e60bee243f111a2d0fd/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21076c8ec342f7610a684e60bee243f111a2d0fd/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=21076c8ec342f7610a684e60bee243f111a2d0fd", "patch": "@@ -67,6 +67,23 @@ int flag_simple = 0;\n int dump_for_graph;\n \n #ifndef GENERATOR_FILE\n+static void\n+print_decl_name (FILE *outfile, tree node)\n+{\n+  if (DECL_NAME (node))\n+    fputs (IDENTIFIER_POINTER (DECL_NAME (node)), outfile);\n+  else\n+    {\n+      if (TREE_CODE (node) == LABEL_DECL && LABEL_DECL_UID (node) != -1)\n+\tfprintf (outfile, \"L.\" HOST_WIDE_INT_PRINT_DEC, LABEL_DECL_UID (node));\n+      else\n+        {\n+          char c = TREE_CODE (node) == CONST_DECL ? 'C' : 'D';\n+\t  fprintf (outfile, \"%c.%u\", c, DECL_UID (node));\n+        }\n+    }\n+}\n+\n void\n print_mem_expr (FILE *outfile, tree expr)\n {\n@@ -76,22 +93,22 @@ print_mem_expr (FILE *outfile, tree expr)\n \tprint_mem_expr (outfile, TREE_OPERAND (expr, 0));\n       else\n \tfputs (\" <variable>\", outfile);\n-      if (DECL_NAME (TREE_OPERAND (expr, 1)))\n-\tfprintf (outfile, \".%s\",\n-\t\t IDENTIFIER_POINTER (DECL_NAME (TREE_OPERAND (expr, 1))));\n+      fputc ('.', outfile);\n+      print_decl_name (outfile, TREE_OPERAND (expr, 1));\n     }\n   else if (TREE_CODE (expr) == INDIRECT_REF)\n     {\n       fputs (\" (*\", outfile);\n       print_mem_expr (outfile, TREE_OPERAND (expr, 0));\n       fputs (\")\", outfile);\n     }\n-  else if (DECL_NAME (expr))\n-    fprintf (outfile, \" %s\", IDENTIFIER_POINTER (DECL_NAME (expr)));\n   else if (TREE_CODE (expr) == RESULT_DECL)\n     fputs (\" <result>\", outfile);\n   else\n-    fputs (\" <anonymous>\", outfile);\n+    {\n+      fputc (' ', outfile);\n+      print_decl_name (outfile, expr);\n+    }\n }\n #endif\n "}]}