{"sha": "3704ef744f0b39b4c28d84bef7702644b62ccefb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzcwNGVmNzQ0ZjBiMzliNGMyOGQ4NGJlZjc3MDI2NDRiNjJjY2VmYg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2002-02-20T23:10:36Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2002-02-20T23:10:36Z"}, "message": "c-decl.c (pushdecl): If no global declaration is found for an extern declaration in block scope...\n\n* c-decl.c (pushdecl): If no global declaration is found for an\nextern declaration in block scope, try a limbo one.\n\nFrom-SVN: r49917", "tree": {"sha": "1c28552e88dee65c48db7b4762419839fed1b764", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c28552e88dee65c48db7b4762419839fed1b764"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3704ef744f0b39b4c28d84bef7702644b62ccefb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3704ef744f0b39b4c28d84bef7702644b62ccefb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3704ef744f0b39b4c28d84bef7702644b62ccefb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3704ef744f0b39b4c28d84bef7702644b62ccefb/comments", "author": null, "committer": null, "parents": [{"sha": "7552da58e17fb0e2c53a03bd986eee6baea79730", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7552da58e17fb0e2c53a03bd986eee6baea79730", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7552da58e17fb0e2c53a03bd986eee6baea79730"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "9538ca24128306e685017cb1cd6efed855b5586f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3704ef744f0b39b4c28d84bef7702644b62ccefb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3704ef744f0b39b4c28d84bef7702644b62ccefb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3704ef744f0b39b4c28d84bef7702644b62ccefb", "patch": "@@ -1,3 +1,8 @@\n+2002-02-20  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* c-decl.c (pushdecl): If no global declaration is found for an\n+\textern declaration in block scope, try a limbo one.\n+\n 2002-02-20  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/4401"}, {"sha": "23c37ef8d93ae1473def30611409676d73882e2c", "filename": "gcc/c-decl.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3704ef744f0b39b4c28d84bef7702644b62ccefb/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3704ef744f0b39b4c28d84bef7702644b62ccefb/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=3704ef744f0b39b4c28d84bef7702644b62ccefb", "patch": "@@ -2199,11 +2199,13 @@ pushdecl (x)\n \t not errors.  X11 for instance depends on this.  */\n       if (! t && DECL_EXTERNAL (x) && TREE_PUBLIC (x) && ! flag_traditional)\n \t{\n-\t  t = lookup_name (name);\n+\t  t = IDENTIFIER_GLOBAL_VALUE (name);\n \t  /* Type decls at global scope don't conflict with externs declared\n \t     inside lexical blocks.  */\n-\t  if (t && TREE_CODE (t) == TYPE_DECL)\n-\t    t = 0;\n+\t  if (! t || TREE_CODE (t) == TYPE_DECL)\n+\t    /* If there's no visible global declaration, try for an\n+               invisible one.  */\n+\t    t = IDENTIFIER_LIMBO_VALUE (name);\n \t  different_binding_level = 1;\n \t}\n       if (t != 0 && t == error_mark_node)"}]}