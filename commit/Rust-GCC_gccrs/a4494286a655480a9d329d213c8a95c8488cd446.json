{"sha": "a4494286a655480a9d329d213c8a95c8488cd446", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ0OTQyODZhNjU1NDgwYTlkMzI5ZDIxM2M4YTk1Yzg0ODhjZDQ0Ng==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1999-07-07T15:22:55Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1999-07-07T15:22:55Z"}, "message": "Makefile.in (needed-list): Only include stuff we actually need for libstdc++.\n\n\t* Makefile.in (needed-list): Only include stuff we actually need\n\tfor libstdc++.\n\nFrom-SVN: r27999", "tree": {"sha": "11e953420281c7491c256c35c44aa7feef3140e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11e953420281c7491c256c35c44aa7feef3140e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4494286a655480a9d329d213c8a95c8488cd446", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4494286a655480a9d329d213c8a95c8488cd446", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4494286a655480a9d329d213c8a95c8488cd446", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4494286a655480a9d329d213c8a95c8488cd446/comments", "author": null, "committer": null, "parents": [{"sha": "1a6d4fb73c25078994d945918a1451a94f79e56c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a6d4fb73c25078994d945918a1451a94f79e56c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a6d4fb73c25078994d945918a1451a94f79e56c"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "483f4d511592e80632a4119768c85713dc4f8fda", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4494286a655480a9d329d213c8a95c8488cd446/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4494286a655480a9d329d213c8a95c8488cd446/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=a4494286a655480a9d329d213c8a95c8488cd446", "patch": "@@ -1,3 +1,8 @@\n+1999-07-07  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* Makefile.in (needed-list): Only include stuff we actually need\n+\tfor libstdc++.\n+\n 1999-06-21  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>\n \n \t* configure.in (checkfuncs): Add gettimeofday."}, {"sha": "485ba76d87a3a24655e2c533c74936950c8e186f", "filename": "libiberty/Makefile.in", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4494286a655480a9d329d213c8a95c8488cd446/libiberty%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4494286a655480a9d329d213c8a95c8488cd446/libiberty%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FMakefile.in?ref=a4494286a655480a9d329d213c8a95c8488cd446", "patch": "@@ -154,13 +154,20 @@ install_to_tooldir: all\n \tmv -f $(tooldir)/lib$(MULTISUBDIR)/$(TARGETLIB).n $(tooldir)/lib$(MULTISUBDIR)/$(TARGETLIB)\n \t@$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=install\n \n-# needed-list is used by libstdc++.\n+# needed-list is used by libstdc++.  NEEDED is the list of functions\n+# to include there.  Do not add anything LGPL to this list; libstdc++\n+# can't use anything encumbering.\n+NEEDED = atexit calloc memchr memcmp memcpy memmove memset rename strchr \\\n+\t strerror strrchr strstr strtol strtoul tmpnam vfprintf vprintf \\\n+\t vfork waitpid\n needed-list: Makefile\n-\tf=\"$(LIBOBJS) $(ALLOCA) $(EXTRA_OFILES)\"; \\\n-\tcase $$f in \\\n-\t  *alloca.o*) f=\"$$f xmalloc.o xexit.o\" ;; \\\n-\tesac; \\\n-\techo $$f > needed-list\n+\trm -f needed-list; touch needed-list; \\\n+\tfiles=\"$(LIBOBJS) $(EXTRA_OFILES)\"; \\\n+\tfor f in $(NEEDED); do \\\n+\t  case \"$$files\" in \\\n+\t    *$$f*) echo $$f >> needed-list ;; \\\n+\t  esac; \\\n+\tdone\n \n # required-list was used when building a shared bfd/opcodes/libiberty\n # library.  I don't know if it used by anything currently."}]}