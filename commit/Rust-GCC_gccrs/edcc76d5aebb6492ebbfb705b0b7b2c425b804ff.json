{"sha": "edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWRjYzc2ZDVhZWJiNjQ5MmViYmZiNzA1YjBiN2IyYzQyNWI4MDRmZg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-30T16:46:20Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-30T16:46:20Z"}, "message": "re PR fortran/36192 (ICE with wrong index types and bad parens)\n\n2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/36192\n\t* interface.c (get_expr_storage_size):  Check for INTEGER type before\n\tcalling gmp routines.\n\n2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/36192\n\t* gfortran.dg/pr36192_1.f90: New test.\n\nFrom-SVN: r229590", "tree": {"sha": "8a113f828fa743bfa5e1aa1c2a573f4e5311601a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a113f828fa743bfa5e1aa1c2a573f4e5311601a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/comments", "author": null, "committer": null, "parents": [{"sha": "dc0f176a1c2142d6814b9b47ed516c9a0b2b9592", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc0f176a1c2142d6814b9b47ed516c9a0b2b9592", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc0f176a1c2142d6814b9b47ed516c9a0b2b9592"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "f197ca9f022216016081d7c590d40d14005d3820", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "patch": "@@ -1,8 +1,15 @@\n+2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/36192\n+\t* interface.c (get_expr_storage_size):  Check for INTEGER type before\n+\tcalling gmp routines.\n+\n 2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/68154\n \t* decl.c (add_init_expr_to_sym): if the char length in the typespec\n \tis NULL, check for and use a constructor. \n+\n 2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/68054"}, {"sha": "dcf3eae81e7b42ddc2c43ba7549563ee3ea6eb38", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "patch": "@@ -2455,7 +2455,9 @@ get_expr_storage_size (gfc_expr *e)\n \t  {\n \t    if (ref->u.ar.as->lower[i] && ref->u.ar.as->upper[i]\n \t\t&& ref->u.ar.as->lower[i]->expr_type == EXPR_CONSTANT\n-\t\t&& ref->u.ar.as->upper[i]->expr_type == EXPR_CONSTANT)\n+\t\t&& ref->u.ar.as->lower[i]->ts.type == BT_INTEGER\n+\t\t&& ref->u.ar.as->upper[i]->expr_type == EXPR_CONSTANT\n+\t\t&& ref->u.ar.as->upper[i]->ts.type == BT_INTEGER)\n \t      elements *= mpz_get_si (ref->u.ar.as->upper[i]->value.integer)\n \t\t\t  - mpz_get_si (ref->u.ar.as->lower[i]->value.integer)\n \t\t\t  + 1L;"}, {"sha": "caa46c45f97c944f50e81abe5771db21ceb7c882", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "patch": "@@ -1,3 +1,8 @@\n+2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/36192\n+\t* gfortran.dg/pr36192_1.f90: New test.\n+\n 2015-10-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/68154"}, {"sha": "77df31765ac8b6626e9b625f409834a3f5c9e9c9", "filename": "gcc/testsuite/gfortran.dg/pr36192_1.f90", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr36192_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edcc76d5aebb6492ebbfb705b0b7b2c425b804ff/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr36192_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr36192_1.f90?ref=edcc76d5aebb6492ebbfb705b0b7b2c425b804ff", "patch": "@@ -0,0 +1,12 @@\n+! { dg-do compile }\n+! PR fortran/36192\n+program three_body\n+   real, parameter ::  n = 2, d = 2\n+   real, dimension(n,d) :: x_hq ! { dg-error \"of INTEGER type|of INTEGER type\" }\n+   call step(x_hq)\n+   contains\n+   subroutine step(x)\n+      real, dimension(:,:), intent(in) :: x\n+   end subroutine step\n+end program three_body\n+! { dg-prune-output \"must have constant shape\" }"}]}