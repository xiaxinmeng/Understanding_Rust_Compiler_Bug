{"sha": "0e5b2a4dee2850e912836a4e644432929ca777cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGU1YjJhNGRlZTI4NTBlOTEyODM2YTRlNjQ0NDMyOTI5Y2E3NzdjYg==", "commit": {"author": {"name": "Craig Burley", "email": "burley@gnu.org", "date": "1998-09-01T09:13:23Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-09-01T09:13:23Z"}, "message": "bugs.texi, [...]: Doc updates from Craig.\n\n8\n        * bugs.texi, g77.1, g77.texi, intdoc.in, news.texi: Doc updates\n        from Craig.\n\nFrom-SVN: r22154", "tree": {"sha": "8a1fc75d537df97797eb161e8837df4fe284746f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a1fc75d537df97797eb161e8837df4fe284746f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e5b2a4dee2850e912836a4e644432929ca777cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e5b2a4dee2850e912836a4e644432929ca777cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e5b2a4dee2850e912836a4e644432929ca777cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e5b2a4dee2850e912836a4e644432929ca777cb/comments", "author": null, "committer": null, "parents": [{"sha": "6f2347ce0140b76efd5defaf9310201cf7621263", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f2347ce0140b76efd5defaf9310201cf7621263", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f2347ce0140b76efd5defaf9310201cf7621263"}], "stats": {"total": 362, "additions": 350, "deletions": 12}, "files": [{"sha": "861709720b1be22eb42ff8f4076ea43b85928c5d", "filename": "gcc/f/news.texi", "status": "modified", "additions": 350, "deletions": 12, "changes": 362, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e5b2a4dee2850e912836a4e644432929ca777cb/gcc%2Ff%2Fnews.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e5b2a4dee2850e912836a4e644432929ca777cb/gcc%2Ff%2Fnews.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fnews.texi?ref=0e5b2a4dee2850e912836a4e644432929ca777cb", "patch": "@@ -5,7 +5,7 @@\n @c The text of this file appears in the file BUGS\n @c in the G77 distribution, as well as in the G77 manual.\n \n-@c 1998-05-20\n+@c 1998-09-01\n \n @ifclear NEWSONLY\n @node News\n@@ -46,7 +46,205 @@ Miscellany\n This order is not strict---for example, some items\n involve a combination of these elements.\n \n-@heading In @code{egcs} 1.1:\n+Note that two variants of @code{g77} are tracked below.\n+The @code{egcs} variant is described vis-a-vis\n+previous versions of @code{egcs} and/or\n+an official FSF version,\n+as appropriate.\n+\n+Therefore, @code{egcs} versions sometimes have multiple listings\n+to help clarify how they differ from other versions,\n+though this can make getting a complete picture\n+of what a particular @code{egcs} version contains\n+somewhat more difficult.\n+\n+@heading In @code{egcs} 1.1 (versus 0.5.24):\n+@itemize @bullet\n+@item\n+Fix @code{g77} crash compiling code\n+containing the construct @samp{CMPLX(0.)} or similar.\n+\n+@item\n+Fix @code{g77} crash\n+(or apparently infinite run-time)\n+when compiling certain complicated expressions\n+involving @code{COMPLEX} arithmetic\n+(especially multiplication).\n+\n+@cindex DNRM2\n+@cindex stack, 387 coprocessor\n+@cindex Intel x86\n+@cindex -O2\n+@item\n+Fix a code-generation bug that afflicted\n+Intel x86 targets when @samp{-O2} was specified\n+compiling, for example, an old version of\n+the @samp{DNRM2} routine.\n+\n+The x87 coprocessor stack was being\n+mismanaged in cases involving assigned @code{GOTO}\n+and @code{ASSIGN}.\n+\n+@cindex alignment\n+@cindex double-precision performance\n+@cindex -malign-double\n+@item\n+Align static double-precision variables and arrays\n+on Intel x86 targets\n+regardless of whether @samp{-malign-double} is specified.\n+\n+Generally, this affects only local variables and arrays\n+having the @code{SAVE} attribute\n+or given initial values via @code{DATA}.\n+@end itemize\n+\n+@heading In @code{egcs} 1.1 (versus @code{egcs} 1.0.3):\n+@itemize @bullet\n+@item\n+Fix bugs in the @code{libU77} intrinsic @samp{HostNm}\n+that wrote one byte beyond the end of its @samp{CHARACTER}\n+argument,\n+and in the @code{libU77} intrinsics\n+@samp{GMTime} and @samp{LTime}\n+that overwrote their arguments.\n+\n+@item\n+Assumed arrays with negative bounds\n+(such as @samp{REAL A(-1:*)})\n+no longer elicit spurious diagnostics from @code{g77},\n+even on systems with pointers having\n+different sizes than integers.\n+\n+@item\n+Valid combinations of @code{EXTERNAL},\n+passing that external as a dummy argument\n+without explicitly giving it a type,\n+and, in a subsequent program unit,\n+referencing that external as\n+an external function with a different type\n+no longer crash @code{g77}.\n+\n+@item\n+@code{CASE DEFAULT} no longer crashes @code{g77}.\n+\n+@item\n+The @samp{-Wunused} option no longer issues a spurious\n+warning about the ``master'' procedure generated by\n+@code{g77} for procedures containing @code{ENTRY} statements.\n+\n+@item\n+Support @samp{FORMAT(I<@var{expr}>)} when @var{expr} is a\n+compile-time constant @code{INTEGER} expression.\n+\n+@item\n+Fix @code{g77} @samp{-g} option so procedures that\n+use @samp{ENTRY} can be stepped through, line by line,\n+in @code{gdb}.\n+\n+@item\n+Allow any @code{REAL} argument to intrinsics\n+@code{Second} and @code{CPU_Time}.\n+\n+@item\n+Use @code{tempnam}, if available, to open scratch files\n+(as in @samp{OPEN(STATUS='SCRATCH')})\n+so that the @code{TMPDIR} environment variable,\n+if present, is used.\n+\n+@item\n+@code{g77}'s version of @code{libf2c} separates out\n+the setting of global state\n+(such as command-line arguments and signal handling)\n+from @file{main.o} into distinct, new library\n+archive members.\n+\n+This should make it easier to write portable applications\n+that have their own (non-Fortran) @code{main()} routine\n+properly set up the @code{libf2c} environment, even\n+when @code{libf2c} (now @code{libg2c}) is a shared library.\n+\n+@item\n+@code{g77} no longer installs the @file{f77} command\n+and @file{f77.1} man page\n+in the @file{/usr} or @file{/usr/local} heirarchy,\n+even if the @file{f77-install-ok} file exists\n+in the source or build directory.\n+See the installation documentation for more information.\n+\n+@item\n+@code{g77} no longer installs the @file{libf2c.a} library\n+and @file{f2c.h} include file\n+in the @file{/usr} or @file{/usr/local} heirarchy,\n+even if the @file{f2c-install-ok} or @file{f2c-exists-ok} files exist\n+in the source or build directory.\n+See the installation documentation for more information.\n+\n+@item\n+The @file{libf2c.a} library produced by @code{g77} has been\n+renamed to @file{libg2c.a}.\n+It is installed only in the @code{gcc} ``private''\n+directory heirarchy, @file{gcc-lib}.\n+This allows system administrators and users to choose which\n+version of the @code{libf2c} library from @code{netlib} they\n+wish to use on a case-by-case basis.\n+See the installation documentation for more information.\n+\n+@item\n+The @file{f2c.h} include (header) file produced by @code{g77}\n+has been renamed to @file{g2c.h}.\n+It is installed only in the @code{gcc} ``private''\n+directory heirarchy, @file{gcc-lib}.\n+This allows system administrators and users to choose which\n+version of the include file from @code{netlib} they\n+wish to use on a case-by-case basis.\n+See the installation documentation for more information.\n+\n+@item\n+The @code{g77} command now expects the run-time library\n+to be named @code{libg2c.a} instead of @code{libf2c.a},\n+to ensure that a version other than the one built and\n+installed as part of the same @code{g77} version is picked up.\n+\n+@item\n+During the configuration and build process,\n+@code{g77} creates subdirectories it needs only as it\n+needs them.\n+Other cleaning up of the configuration and build process\n+has been performed as well.\n+\n+@item\n+@code{install-info} now used to update the directory of\n+Info documentation to contain an entry for @code{g77}\n+(during installation).\n+\n+@item\n+Some diagnostics have been changed from warnings to errors,\n+to prevent inadvertent use of the resulting, probably buggy,\n+programs.\n+These mostly include diagnostics about use of unsupported features\n+in the @code{OPEN}, @code{INQUIRE}, @code{READ}, and\n+@code{WRITE} statements,\n+and about truncations of various sorts of constants.\n+\n+@item\n+Improve compilation of @code{FORMAT} expressions so that\n+a null byte is appended to the last operand if it\n+is a constant.\n+This provides a cleaner run-time diagnostic as provided\n+by @code{libf2c} for statements like @samp{PRINT '(I1', 42}.\n+\n+@item\n+Improve documentation and indexing.\n+\n+@item\n+The upgrade to @code{libf2c} as of 1998-06-18\n+should fix a variety of problems, including\n+those involving some uses of the @samp{T} format\n+specifier, and perhaps some build (porting) problems\n+as well.\n+@end itemize\n+\n+@heading In 0.5.24 and @code{egcs} 1.1 (versus 0.5.23):\n @itemize @bullet\n @item\n @code{g77} no longer produces incorrect code\n@@ -97,11 +295,11 @@ not to the longstanding deficiencies vis-a-vis\n @samp{COMMON} and @samp{EQUIVALENCE}.\n \n @item\n-The F90 @samp{DATE_AND_TIME} intrinsic now is\n+The F90 @samp{Date_and_Time} intrinsic now is\n supported.\n \n @item\n-The F90 @samp{SYSTEM_CLOCK} intrinsic allows\n+The F90 @samp{System_Clock} intrinsic allows\n the optional arguments (except for the @samp{Count}\n argument) to be omitted.\n \n@@ -112,7 +310,8 @@ Upgrade to @code{libf2c} as of 1998-06-18.\n Improve documentation and indexing.\n @end itemize\n \n-@heading In 0.5.23:\n+@c 1998-05-20: 0.5.23 released.\n+@heading In 0.5.23 (versus 0.5.22):\n @itemize @bullet\n @item\n This release contains several regressions against\n@@ -138,7 +337,7 @@ the options @samp{-fargument-alias}, @samp{-fargument-noalias},\n and @samp{-fargument-noalias-global},\n and the corresponding alias-analysis code.\n \n-(Version 1.0.1 of @code{egcs} has the alias-analysis\n+(@code{egcs} has the alias-analysis\n code, but not the @code{__restrict__} keyword.\n @code{egcs} @code{g77} users benefit from the alias-analysis\n code despite the lack of the @code{__restrict__} keyword,\n@@ -150,7 +349,7 @@ Support for the GNU compiler options\n @samp{-freduce-all-givs},\n and @samp{-frerun-loop-opt}.\n \n-(Version 1.0.1 of @code{egcs} supports these options.\n+(@code{egcs} supports these options.\n @code{g77} users of @code{egcs} benefit from them even if\n they are not explicitly specified,\n because the defaults are optimized for @code{g77} users.)\n@@ -294,7 +493,8 @@ specifier, and perhaps some build (porting) problems\n as well.\n @end itemize\n \n-@heading In 0.5.22:\n+@c 1998-03-16: 0.5.22 released.\n+@heading In 0.5.22 (versus 0.5.21):\n @itemize @bullet\n @item\n Fix code generation for iterative @code{DO} loops that\n@@ -304,7 +504,7 @@ For example, @samp{DO 10 J=2,J} now is compiled correctly.\n \n @cindex DNRM2\n @cindex stack, 387 coprocessor\n-@cindex ix86\n+@cindex Intel x86\n @cindex -O2\n @item\n Fix a code-generation bug that afflicted\n@@ -321,7 +521,7 @@ Fix @code{DTime} intrinsic so as not to truncate\n results to integer values (on some systems).\n \n @item\n-Fix @code{SIGNAL} intrinsic so it offers portable\n+Fix @code{Signal} intrinsic so it offers portable\n support for 64-bit systems (such as Digital Alphas\n running GNU/Linux).\n \n@@ -382,7 +582,7 @@ Allow any numeric argument to intrinsics\n \n @item\n Use @code{tempnam}, if available, to open scratch files\n-(as in @samp{OPEN(STATUS='SCRATCH')}\n+(as in @samp{OPEN(STATUS='SCRATCH')})\n so that the @code{TMPDIR} environment variable,\n if present, is used.\n \n@@ -421,7 +621,7 @@ anyway for a statement like @samp{PRINT '(I)garbage', 1}\n by printing @samp{(I)garbage} as the format string.)\n \n @item\n-Improve compilation of FORMAT expressions so that\n+Improve compilation of @code{FORMAT} expressions so that\n a null byte is appended to the last operand if it\n is a constant.\n This provides a cleaner run-time diagnostic as provided\n@@ -446,6 +646,137 @@ This fixes a formatted-I/O bug that afflicted\n (such as Digital Alpha running GNU/Linux).\n @end itemize\n \n+@c 1998-03-15: egcs-1.0.2 released.\n+@heading In @code{egcs} 1.0.2 (versus @code{egcs} 1.0.1):\n+@itemize @bullet\n+@item\n+Fix @code{g77} crash triggered by @code{CASE} statement with\n+an omitted lower or upper bound.\n+\n+@item\n+Fix @code{g77} crash on statements such as\n+@samp{PRINT *, (REAL(Z(I)),I=1,2)}, where\n+@samp{Z} is @code{DOUBLE COMPLEX}.\n+\n+@cindex ELF support\n+@cindex support, ELF\n+@cindex -fPIC option\n+@cindex options, -fPIC\n+@item\n+Fix @samp{-fPIC} (such as compiling for ELF targets)\n+on the Intel x86 architecture target\n+so invalid assembler code is no longer produced.\n+\n+@item\n+Fix @samp{-fpedantic} to not reject procedure invocations\n+such as @samp{I=J()} and @samp{CALL FOO()}.\n+\n+@item\n+Fix @samp{-fugly-comma} to affect invocations of\n+only external procedures.\n+Restore rejection of gratuitous trailing omitted\n+arguments to intrinsics, as in @samp{I=MAX(3,4,,)}.\n+\n+@item\n+Fix compiler so it accepts @samp{-fgnu-intrinsics-*} and\n+@samp{-fbadu77-intrinsics-*} options.\n+@end itemize\n+\n+@c 1998-01-02: egcs-1.0.1 released.\n+@heading In @code{egcs} 1.0.1 (versus @code{egcs} 1.0):\n+@itemize @bullet\n+@item\n+Fix run-time crash involving @code{NAMELIST} on 64-bit\n+machines such as Alphas.\n+@end itemize\n+\n+@c 1997-12-03: egcs-1.0 released.\n+@heading In @code{egcs} 1.0 (versus 0.5.21):\n+@itemize @bullet\n+@item\n+Version 1.0 of @code{egcs}\n+contains several regressions against\n+version 0.5.21 of @code{g77},\n+due to using the\n+``vanilla'' @code{gcc} back end instead of patching\n+it to fix a few bugs and improve performance in a\n+few cases.\n+\n+@xref{Actual Bugs,,Actual Bugs We Haven't Fixed Yet},\n+available in plain-text format in @code{gcc/f/BUGS},\n+for information on the known bugs in this version,\n+including the regressions.\n+\n+Features that have been dropped from this version\n+of @code{g77} due to their being implemented\n+via @code{g77}-specific patches to the @code{gcc}\n+back end in previous releases include:\n+\n+@itemize --\n+@item\n+Support for the C-language @code{restrict} keyword.\n+\n+@item\n+Support for the @samp{-W} option warning about\n+integer division by zero.\n+\n+@item\n+The Intel x86-specific option @samp{-malign-double}\n+applying to stack-allocated data\n+as well as statically-allocate data.\n+@end itemize\n+\n+Note that the @file{gcc/f/gbe/} subdirectory has been removed\n+from this distribution as a result of @code{g77}\n+being fully integrated with\n+the @code{egcs} variant of the @code{gcc} back end.\n+\n+@item\n+Fix code generation for iterative @code{DO} loops that\n+have one or more references to the iteration variable,\n+or to aliases of it, in their control expressions.\n+For example, @samp{DO 10 J=2,J} now is compiled correctly.\n+\n+@item\n+Fix @code{DTime} intrinsic so as not to truncate\n+results to integer values (on some systems).\n+\n+@item\n+Remove support for non-@code{egcs} versions of @code{gcc}.\n+\n+@cindex -@w{}-driver option\n+@cindex g77 options, -@w{}-driver\n+@cindex options, -@w{}-driver\n+@item\n+Remove support for the @samp{--driver} option,\n+as @code{g77} now does all the driving,\n+just like @code{gcc}.\n+\n+@item\n+Allow any numeric argument to intrinsics\n+@code{Int2} and @code{Int8}.\n+\n+@item\n+Improve diagnostic messages from @code{libf2c}\n+so it is more likely that the printing of the\n+active format string is limited to the string,\n+with no trailing garbage being printed.\n+\n+(Unlike @code{f2c}, @code{g77} did not append\n+a null byte to its compiled form of every\n+format string specified via a @code{FORMAT} statement.\n+However, @code{f2c} would exhibit the problem\n+anyway for a statement like @samp{PRINT '(I)garbage', 1}\n+by printing @samp{(I)garbage} as the format string.)\n+\n+@item\n+Upgrade to @code{libf2c} as of 1997-09-23.\n+This fixes a formatted-I/O bug that afflicted\n+64-bit systems with 32-bit integers\n+(such as Digital Alpha running GNU/Linux).\n+@end itemize\n+\n+@c 1997-09-09: 0.5.21 released.\n @heading In 0.5.21:\n @itemize @bullet\n @item\n@@ -765,6 +1096,7 @@ that aren't quite accurate in @code{g77}'s version of\n Reserve @code{INTEGER(KIND=0)} for future use.\n @end itemize\n \n+@c 1997-02-28: 0.5.20 released.\n @heading In 0.5.20:\n @itemize @bullet\n @item\n@@ -1026,6 +1358,7 @@ up automatically via a message in the diagnostic itself.\n the Info documentation.)\n @end itemize\n \n+@c 1997-02-01: 0.5.19.1 released.\n @heading In 0.5.19.1:\n @itemize @bullet\n @item\n@@ -1050,6 +1383,7 @@ For example, @samp{C = CSQRT(C)}, @samp{Z = Z/C}, and @samp{Z = Z**I}\n @code{DOUBLE COMPLEX}) have been fixed.\n @end itemize\n \n+@c 1996-12-07: 0.5.19 released.\n @heading In 0.5.19:\n @itemize @bullet\n @item\n@@ -1169,6 +1503,7 @@ of the areas.\n Improvements to documentation and indexing.\n @end itemize\n \n+@c 1996-04-01: 0.5.18 released.\n @heading In 0.5.18:\n @itemize @bullet\n @item\n@@ -1356,6 +1691,7 @@ named @code{netlib.bell-labs.com}, and the\n maintainer's new address is @email{dmg@@bell-labs.com}.\n @end itemize\n \n+@c 1995-11-18: 0.5.17 released.\n @heading In 0.5.17:\n @itemize @bullet\n @item\n@@ -1462,6 +1798,7 @@ Support @code{gcc} version 2.7.1.\n Upgrade to @code{libf2c} as of 1995-11-15.\n @end itemize\n \n+@c 1995-08-30: 0.5.16 released.\n @heading In 0.5.16:\n @itemize @bullet\n @item\n@@ -1634,6 +1971,7 @@ Build @code{libf2c} with @samp{-g0}, not @samp{-g2}, in effect\n smaller library without lots of debugging clutter.\n @end itemize\n \n+@c 1995-05-19: 0.5.15 released.\n @heading In 0.5.15:\n @itemize @bullet\n @item"}]}