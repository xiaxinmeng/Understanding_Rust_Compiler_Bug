{"sha": "1bbd065b6cec92d339f9f076aee19f4bad67e81f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWJiZDA2NWI2Y2VjOTJkMzM5ZjlmMDc2YWVlMTlmNGJhZDY3ZTgxZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-10-06T21:38:35Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-10-06T21:38:35Z"}, "message": "(cse_insn): Don't call force_const_mem on (const (truncate)).\n\nFrom-SVN: r8231", "tree": {"sha": "1e0e1b0e69edae87b925940ce77b5fc8e47064e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e0e1b0e69edae87b925940ce77b5fc8e47064e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1bbd065b6cec92d339f9f076aee19f4bad67e81f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bbd065b6cec92d339f9f076aee19f4bad67e81f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bbd065b6cec92d339f9f076aee19f4bad67e81f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bbd065b6cec92d339f9f076aee19f4bad67e81f/comments", "author": null, "committer": null, "parents": [{"sha": "ffa8bd9bcbd42f40bd17134c3ff3703596782aad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffa8bd9bcbd42f40bd17134c3ff3703596782aad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffa8bd9bcbd42f40bd17134c3ff3703596782aad"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "67f2c148b57ab4d0ac0faec07b455bbffe511214", "filename": "gcc/cse.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bbd065b6cec92d339f9f076aee19f4bad67e81f/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bbd065b6cec92d339f9f076aee19f4bad67e81f/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=1bbd065b6cec92d339f9f076aee19f4bad67e81f", "patch": "@@ -6724,7 +6724,11 @@ cse_insn (insn, in_libcall_block)\n \n \t  else if (constant_pool_entries_cost\n \t\t   && CONSTANT_P (trial)\n-\t\t   && (src_folded == 0 || GET_CODE (src_folded) != MEM)\n+\t\t   && ! (GET_CODE (trial) == CONST\n+\t\t\t && GET_CODE (XEXP (trial, 0)) == TRUNCATE)\n+\t\t   && (src_folded == 0\n+\t\t       || (GET_CODE (src_folded) != MEM\n+\t\t\t   && ! src_folded_force_flag))\n \t\t   && GET_MODE_CLASS (mode) != MODE_CC)\n \t    {\n \t      src_folded_force_flag = 1;"}]}