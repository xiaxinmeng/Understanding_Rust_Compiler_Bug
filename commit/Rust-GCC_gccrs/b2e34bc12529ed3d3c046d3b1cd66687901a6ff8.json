{"sha": "b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjJlMzRiYzEyNTI5ZWQzZDNjMDQ2ZDNiMWNkNjY2ODc5MDFhNmZmOA==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2007-09-04T21:10:59Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2007-09-04T21:10:59Z"}, "message": "ppu_intrinsics.h (__protected_stream_count): Rename count macro arugment for clarity.\n\n\t* config/rs6000/ppu_intrinsics.h (__protected_stream_count):\n\tRename count macro arugment for clarity.\n\t(__protected_unlimited_stream_set): Pass UG=1 to __dcbt_TH1000.\n\t(__protected_stream_set): Likewise, pass 0.\n\ntestsuite/\n\t* gcc.target/powerpc/ppu-intrinsics.c: Add test cases for the\n\t__protected_stream family of macros.\n\nFrom-SVN: r128103", "tree": {"sha": "59926d4233f76c86f9db086126cbc4da0d011363", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/59926d4233f76c86f9db086126cbc4da0d011363"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/comments", "author": null, "committer": null, "parents": [{"sha": "9380ed8466ef43c4ec1e330fc3e7ddf36ceaa406", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9380ed8466ef43c4ec1e330fc3e7ddf36ceaa406", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9380ed8466ef43c4ec1e330fc3e7ddf36ceaa406"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "f06ccc5080dc512a35e4b5d1316d929f22efd87a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "patch": "@@ -1,3 +1,10 @@\n+2007-09-05  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* config/rs6000/ppu_intrinsics.h (__protected_stream_count):\n+\tRename count macro arugment for clarity.\n+\t(__protected_unlimited_stream_set): Pass UG=1 to __dcbt_TH1000.\n+\t(__protected_stream_set): Likewise, pass 0.\n+\n 2007-09-04  Jan Hubicka  <jh@suse.cz>\n \n \t* tree-tailcall.c (eliminate_tail_call): Expect unrenamed return value."}, {"sha": "7a7551eaa544d91452741b55ce5daf6603379d63", "filename": "gcc/config/rs6000/ppu_intrinsics.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Fconfig%2Frs6000%2Fppu_intrinsics.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Fconfig%2Frs6000%2Fppu_intrinsics.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fppu_intrinsics.h?ref=b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "patch": "@@ -246,19 +246,19 @@ typedef int __V4SI __attribute__((vector_size(16)));\n \t   \t\t       | ((ID) & 0xF))) : : \"memory\")\n \n #define __protected_unlimited_stream_set(DIRECTION, ADDR, ID)\t\\\n-\t__dcbt_TH1000 ((ADDR), (DIRECTION)>>1, 0, (ID))\n+\t__dcbt_TH1000 ((ADDR), (DIRECTION)>>1, 1, (ID))\n \n #define __protected_stream_set(DIRECTION, ADDR, ID)\t\\\n-\t__dcbt_TH1000 ((ADDR), (DIRECTION)>>1, 1, (ID))\n+\t__dcbt_TH1000 ((ADDR), (DIRECTION)>>1, 0, (ID))\n \n #define __protected_stream_stop_all()\t\t\t\\\n \t__dcbt_TH1010 (0, 3, 0, 0, 0, 0)\n \n #define __protected_stream_stop(ID)\t\t\t\\\n \t__dcbt_TH1010 (0, 2, 0, 0, 0, (ID))\n \n-#define __protected_stream_count(CNT, ID)\t\t\\\n-\t__dcbt_TH1010 (0, 0, (CNT), 0, 0, (ID))\n+#define __protected_stream_count(COUNT, ID)\t\t\\\n+\t__dcbt_TH1010 (0, 0, (COUNT), 0, 0, (ID))\n \n #define __protected_stream_go()\t\t\t\t\\\n \t__dcbt_TH1010 (1, 0, 0, 0, 0, 0)"}, {"sha": "b68ba679f7453bfe0dd07bfd64d0635c5ff40a0d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "patch": "@@ -1,3 +1,8 @@\n+2007-09-05  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* gcc.target/powerpc/ppu-intrinsics.c: Add test cases for the\n+\t__protected_stream family of macros.\n+\n 2007-09-04  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/tree-ssa/loadpre8.c: Disable inlining."}, {"sha": "53b6c709ec243bba840449a978190996f7dec1f3", "filename": "gcc/testsuite/gcc.target/powerpc/ppu-intrinsics.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppu-intrinsics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2e34bc12529ed3d3c046d3b1cd66687901a6ff8/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppu-intrinsics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fppu-intrinsics.c?ref=b2e34bc12529ed3d3c046d3b1cd66687901a6ff8", "patch": "@@ -32,5 +32,12 @@ int main ()\n   i = __fctiw (d);\n   i = __fctiwz (d);\n \n+  __protected_stream_count (1, 2);\n+  __protected_stream_go ();\n+  __protected_stream_set (1, 0x1000, 3);\n+  __protected_stream_stop (3);\n+  __protected_stream_stop_all ();\n+  __protected_unlimited_stream_set (3, 0x1000, 1);\n+\n   return 0;\n }"}]}