{"sha": "5012f3e3c7edc51900339aa25057dd7c483e7447", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAxMmYzZTNjN2VkYzUxOTAwMzM5YWEyNTA1N2RkN2M0ODNlNzQ0Nw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-10-15T01:36:13Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-10-15T01:36:13Z"}, "message": "re PR libfortran/33672 (Additional runtime checks needed for namelist reads)\n\n2007-10-14  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/33672\n\t* gfortran.dg/namelist_40.f90: New test.\n\nFrom-SVN: r129310", "tree": {"sha": "3fa07a9551ded0ccc39b199ed99d924a935004ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fa07a9551ded0ccc39b199ed99d924a935004ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5012f3e3c7edc51900339aa25057dd7c483e7447", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5012f3e3c7edc51900339aa25057dd7c483e7447", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5012f3e3c7edc51900339aa25057dd7c483e7447", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5012f3e3c7edc51900339aa25057dd7c483e7447/comments", "author": null, "committer": null, "parents": [{"sha": "45dfbe77d27ed422d1b6ed93f053d7d23a6d61a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45dfbe77d27ed422d1b6ed93f053d7d23a6d61a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45dfbe77d27ed422d1b6ed93f053d7d23a6d61a5"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "4bfde80528a8538fdbcd511ad3a6b7e28468023e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5012f3e3c7edc51900339aa25057dd7c483e7447/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5012f3e3c7edc51900339aa25057dd7c483e7447/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5012f3e3c7edc51900339aa25057dd7c483e7447", "patch": "@@ -1,3 +1,8 @@\n+2007-10-14  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/33672\n+\t* gfortran.dg/namelist_40.f90: New test.\n+\n 2007-10-14  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/33745"}, {"sha": "3c9d813343a3c02cce879ad67f484761af8383e9", "filename": "gcc/testsuite/gfortran.dg/namelist_40.f90", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5012f3e3c7edc51900339aa25057dd7c483e7447/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5012f3e3c7edc51900339aa25057dd7c483e7447/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_40.f90?ref=5012f3e3c7edc51900339aa25057dd7c483e7447", "patch": "@@ -0,0 +1,54 @@\n+! { dg-do run }\n+! PR33672 Additional runtime checks needed for namelist reads\n+! Submitted by Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+module global\n+  type             ::  mt\n+    character(len=2) ::  ch(2) = (/\"aa\",\"bb\"/)\n+  end type mt\n+  type             ::  bt\n+    integer        ::  i(2) = (/1,2/)\n+    type(mt)       ::  m(2)\n+  end type bt\n+end module global\n+\n+program namelist_40\n+  use global\n+  type(bt)         ::  x(2)\n+  character(40)    ::  teststring \n+  namelist /mynml/ x\n+\n+  teststring = \" x(2)%m%ch(:)(2:2) = 'z','z',\"\n+  call writenml (teststring)\n+  teststring = \" x(2)%m(2)%ch(:)(2) = 'z','z',\"\n+  call writenml (teststring)\n+  teststring = \" x(2)%m(2)%ch(:)(:3) = 'z','z',\"\n+  call writenml (teststring)\n+  teststring = \" x(2)%m(2)%ch(1:2)(k:) = 'z','z',\"\n+  call writenml (teststring)\n+  \n+contains\n+\n+subroutine writenml (astring)\n+  character(40), intent(in)  :: astring\n+  character(300)   :: errmessage\n+  integer          :: ierror\n+\n+  open (10, status=\"scratch\", delim='apostrophe')\n+  write (10, '(A)') \"&MYNML\"\n+  write (10, '(A)') astring\n+  write (10, '(A)') \"/\"\n+  rewind (10)\n+  read (10, nml = mynml, iostat=ierror, iomsg=errmessage)\n+  if (ierror == 0) call abort\n+  print '(a)', trim(errmessage)\n+  close (10)\n+\n+end subroutine writenml\n+\n+end program namelist_40\n+! { dg-output \"Multiple sub-objects with non-zero rank in namelist object x(\\n|\\r\\n|\\r)\" }\n+! { dg-output \"Missing colon in substring qualifier for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }\n+! { dg-output \"Substring out of range for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }\n+! { dg-output \"Bad character in substring qualifier for namelist variable x%m%ch(\\n|\\r\\n|\\r)\" }\n+! { dg-final { cleanup-modules \"global\" } }"}]}