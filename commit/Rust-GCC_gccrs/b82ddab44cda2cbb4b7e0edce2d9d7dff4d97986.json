{"sha": "b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgyZGRhYjQ0Y2RhMmNiYjRiN2UwZWRjZTJkOWQ3ZGZmNGQ5Nzk4Ng==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-11-25T09:25:31Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-11-25T09:25:31Z"}, "message": "search.c (is_subobject_of_p_1): Fix thinko.\n\n\t* search.c (is_subobject_of_p_1): Fix thinko.\n\t(lookup_field_queue_p): Likewise.\n\nFrom-SVN: r59455", "tree": {"sha": "bbfdaaa82e453add21d85aa34d890ccf7a05c2e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbfdaaa82e453add21d85aa34d890ccf7a05c2e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986/comments", "author": null, "committer": null, "parents": [{"sha": "7580b910da21de80368a59d2ced427170142cbb3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7580b910da21de80368a59d2ced427170142cbb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7580b910da21de80368a59d2ced427170142cbb3"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "bdda5b04c7ab18ee3687d2093dcb9793eb53ea54", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "patch": "@@ -1,3 +1,8 @@\n+2002-11-25  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* search.c (is_subobject_of_p_1): Fix thinko.\n+\t(lookup_field_queue_p): Likewise.\n+\n 2002-11-24  Mark Mitchell  <mark@codesourcery.com>\n \n \t* class.c (layout_class_type): Reuse tail padding when laying out"}, {"sha": "fefd11b8b1686410073dc2244d6627d0e0740855", "filename": "gcc/cp/search.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986/gcc%2Fcp%2Fsearch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986/gcc%2Fcp%2Fsearch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsearch.c?ref=b82ddab44cda2cbb4b7e0edce2d9d7dff4d97986", "patch": "@@ -1116,7 +1116,7 @@ is_subobject_of_p_1 (parent, binfo, most_derived)\n   binfos = BINFO_BASETYPES (binfo);\n   n_baselinks = binfos ? TREE_VEC_LENGTH (binfos) : 0;\n \n-  /* Iterate the base types.  */\n+  /* Iterate through the base types.  */\n   for (i = 0; i < n_baselinks; i++)\n     {\n       tree base_binfo = TREE_VEC_ELT (binfos, i);\n@@ -1132,7 +1132,7 @@ is_subobject_of_p_1 (parent, binfo, most_derived)\n       if (TREE_VIA_VIRTUAL (base_binfo))\n \t{\n \t  if (CLASSTYPE_MARKED4 (base_type))\n-\t    return 0;\n+\t    continue;\n \t  SET_CLASSTYPE_MARKED4 (base_type);\n \t  base_binfo = binfo_for_vbase (base_type, most_derived);\n \t}\n@@ -1202,11 +1202,12 @@ lookup_field_queue_p (binfo, data)\n \n   /* If this base class is hidden by the best-known value so far, we\n      don't need to look.  */\n+  binfo = CANONICAL_BINFO (binfo, lfi->type);\n   if (!lfi->from_dep_base_p && lfi->rval_binfo\n       && is_subobject_of_p (binfo, lfi->rval_binfo, lfi->type))\n     return NULL_TREE;\n \n-  return CANONICAL_BINFO (binfo, lfi->type);\n+  return binfo;\n }\n \n /* Within the scope of a template class, you can refer to the to the"}]}