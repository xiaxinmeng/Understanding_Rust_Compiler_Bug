{"sha": "780bc8922ba77cec3de90ce86eefedf54ad80c8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzgwYmM4OTIyYmE3N2NlYzNkZTkwY2U4NmVlZmVkZjU0YWQ4MGM4Zg==", "commit": {"author": {"name": "Peter Bergner", "email": "bergner@linux.ibm.com", "date": "2019-11-08T00:34:09Z"}, "committer": {"name": "Peter Bergner", "email": "bergner@gcc.gnu.org", "date": "2019-11-08T00:34:09Z"}, "message": "Add another test case to exercise the previous MODE_PARTIAL_INT change.\n\ngcc/testsuite/\n\tPR other/92090\n\t* gcc.target/powerpc/pr92090-2.c: New test.\n\nFrom-SVN: r277942", "tree": {"sha": "b3afaf025196910e8a36daab7fbeaf5d40b29f47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3afaf025196910e8a36daab7fbeaf5d40b29f47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/780bc8922ba77cec3de90ce86eefedf54ad80c8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/780bc8922ba77cec3de90ce86eefedf54ad80c8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/780bc8922ba77cec3de90ce86eefedf54ad80c8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/780bc8922ba77cec3de90ce86eefedf54ad80c8f/comments", "author": {"login": "peter-bergner", "id": 17504345, "node_id": "MDQ6VXNlcjE3NTA0MzQ1", "avatar_url": "https://avatars.githubusercontent.com/u/17504345?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peter-bergner", "html_url": "https://github.com/peter-bergner", "followers_url": "https://api.github.com/users/peter-bergner/followers", "following_url": "https://api.github.com/users/peter-bergner/following{/other_user}", "gists_url": "https://api.github.com/users/peter-bergner/gists{/gist_id}", "starred_url": "https://api.github.com/users/peter-bergner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peter-bergner/subscriptions", "organizations_url": "https://api.github.com/users/peter-bergner/orgs", "repos_url": "https://api.github.com/users/peter-bergner/repos", "events_url": "https://api.github.com/users/peter-bergner/events{/privacy}", "received_events_url": "https://api.github.com/users/peter-bergner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6a9c4224e411c625e326927ebf75e27b8fe2d26b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a9c4224e411c625e326927ebf75e27b8fe2d26b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a9c4224e411c625e326927ebf75e27b8fe2d26b"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "e1a8da60d43f13afcb5142fb6399eff0a0172379", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/780bc8922ba77cec3de90ce86eefedf54ad80c8f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/780bc8922ba77cec3de90ce86eefedf54ad80c8f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=780bc8922ba77cec3de90ce86eefedf54ad80c8f", "patch": "@@ -1,3 +1,8 @@\n+2019-11-07  Peter Bergner <bergner@linux.ibm.com>\n+\n+\tPR other/92090\n+\t* gcc.target/powerpc/pr92090-2.c: New test.\n+\n 2019-11-07  Joseph Myers  <joseph@codesourcery.com>\n \n \t* gcc.dg/tm/attrs-1.c: New test."}, {"sha": "8922a53147141717833245ec8aace03ff378134a", "filename": "gcc/testsuite/gcc.target/powerpc/pr92090-2.c", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/780bc8922ba77cec3de90ce86eefedf54ad80c8f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr92090-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/780bc8922ba77cec3de90ce86eefedf54ad80c8f/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr92090-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr92090-2.c?ref=780bc8922ba77cec3de90ce86eefedf54ad80c8f", "patch": "@@ -0,0 +1,44 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -Os -mbig -w\" } */\n+\n+/* Verify that we don't ICE.  */\n+\n+int a;\n+static _Atomic long double b, c, d, m;\n+double n;\n+extern int foo (void);\n+extern void bar (int, int, int, int);\n+\n+void\n+bug (void)\n+{\n+  b = 1.79769313486231580793728971405301199e308L;\n+  for (int i = 0; i < 10000; i++)\n+    if (__builtin_isinf (n))\n+      b;\n+  c = 1;\n+  int e, f, g, h;\n+  while (a)\n+    ;\n+  for (int i; i; i++)\n+    {\n+      double j = c /= foo ();\n+      if (__builtin_isinf (j))\n+\t{\n+\t  if (foo == 1 << 31)\n+\t    e++;\n+\t  f++;\n+\t  c = 0;\n+\t}\n+      else\n+\t{\n+\t  if (foo == 1 << 30)\n+\t    g++;\n+\t  h++;\n+\t  c = 1;\n+\t}\n+    }\n+  bar (e, f, g, h);\n+  d = 1.79769313486231580793728971405301199e308L;\n+  m = 1;\n+}"}]}