{"sha": "5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA0MWE2MWNmYzRlMTQ0M2I3ZDgxZTBhN2VjNjNlMWJjMjA0MTdkOQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1997-11-25T18:55:32Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-25T18:55:32Z"}, "message": "* crtstuff.c (do_global_dtors_aux): Handle multiple calls better.\n\nFrom-SVN: r16698", "tree": {"sha": "a915de9cb92b482fd48a7e8ad8c61a1d3e0733bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a915de9cb92b482fd48a7e8ad8c61a1d3e0733bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9/comments", "author": null, "committer": null, "parents": [{"sha": "bb727b5ae32bf10d1e7597f064382b9214584271", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb727b5ae32bf10d1e7597f064382b9214584271", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb727b5ae32bf10d1e7597f064382b9214584271"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "dc5659e6c7bc8407591a3629758e14bd2db48806", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "patch": "@@ -1,3 +1,7 @@\n+Tue Nov 25 10:00:42 1997  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* crtstuff.c (do_global_dtors_aux): Handle multiple calls better.\n+\n Tue Nov 25 01:26:55 1997  Bruno Haible <haible@ilog.fr>:\n \n \t* dwarf2out.c (ASM_OUTPUT_DWARF_DELTA1): Implement."}, {"sha": "c120862139a2a6310aab1e1115abd80aca7c11c7", "filename": "gcc/crtstuff.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9/gcc%2Fcrtstuff.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9/gcc%2Fcrtstuff.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcrtstuff.c?ref=5041a61cfc4e1443b7d81e0a7ec63e1bc20417d9", "patch": "@@ -128,6 +128,11 @@ static void\n __do_global_dtors_aux ()\n {\n   static func_ptr *p = __DTOR_LIST__ + 1;\n+  static int completed = 0;\n+\n+  if (completed)\n+    return;\n+\n   while (*p)\n     {\n       p++;\n@@ -137,8 +142,10 @@ __do_global_dtors_aux ()\n #ifdef EH_FRAME_SECTION_ASM_OP\n   __deregister_frame (__EH_FRAME_BEGIN__);\n #endif\n+  completed = 1;\n }\n \n+\n /* Stick a call to __do_global_dtors_aux into the .fini section.  */\n \n static void"}]}