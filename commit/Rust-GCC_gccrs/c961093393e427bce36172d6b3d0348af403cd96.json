{"sha": "c961093393e427bce36172d6b3d0348af403cd96", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzk2MTA5MzM5M2U0MjdiY2UzNjE3MmQ2YjNkMDM0OGFmNDAzY2Q5Ng==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-04-28T21:52:16Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-04-28T21:52:16Z"}, "message": "Replace absolute linenrs in gfortran.dg\n\n2017-04-28  Tom de Vries  <tom@codesourcery.com>\n\n\tPR testsuite/80557\n\t* gfortran.dg/gomp/appendix-a/a.24.1.f90: Replace absolute linenrs.\n\t* gfortran.dg/gomp/appendix-a/a.31.3.f90: Same.\n\nFrom-SVN: r247400", "tree": {"sha": "fb4d66ea921b2d87bb9f8add9307b41f02ee328a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb4d66ea921b2d87bb9f8add9307b41f02ee328a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c961093393e427bce36172d6b3d0348af403cd96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c961093393e427bce36172d6b3d0348af403cd96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c961093393e427bce36172d6b3d0348af403cd96", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c961093393e427bce36172d6b3d0348af403cd96/comments", "author": null, "committer": null, "parents": [{"sha": "b5be38bc30107969515bed284c65e39efe978af2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5be38bc30107969515bed284c65e39efe978af2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5be38bc30107969515bed284c65e39efe978af2"}], "stats": {"total": 38, "additions": 21, "deletions": 17}, "files": [{"sha": "3e1b9959c7018cdc4a93145b9ead53a21f9971cc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c961093393e427bce36172d6b3d0348af403cd96", "patch": "@@ -1,3 +1,9 @@\n+2017-04-28  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR testsuite/80557\n+\t* gfortran.dg/gomp/appendix-a/a.24.1.f90: Replace absolute linenrs.\n+\t* gfortran.dg/gomp/appendix-a/a.31.3.f90: Same.\n+\n 2017-04-28  Tom de Vries  <tom@codesourcery.com>\n \n \tPR testsuite/80557"}, {"sha": "52a2cbb82da919c5d55e7c1762185b7aeb9682dc", "filename": "gcc/testsuite/gfortran.dg/gomp/appendix-a/a.24.1.f90", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.24.1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.24.1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.24.1.f90?ref=c961093393e427bce36172d6b3d0348af403cd96", "patch": "@@ -11,16 +11,16 @@ SUBROUTINE A24(A)\n !$OMP THREADPRIVATE(/BLOCKX/)\n       INTEGER I, J\n       i=1\n-!$OMP PARALLEL DEFAULT(NONE) PRIVATE(A) SHARED(Z) PRIVATE(J)\n+!$OMP PARALLEL DEFAULT(NONE) PRIVATE(A) SHARED(Z) PRIVATE(J) ! { dg-line omp_parallel }\n       J = OMP_GET_NUM_THREADS();\n                ! O.K. - J is listed in PRIVATE clause\n       A = Z(J) ! O.K. - A is listed in PRIVATE clause\n                !       - Z is listed in SHARED clause\n       X=1      ! O.K. - X is THREADPRIVATE\n       Z(I) = Y ! Error - cannot reference I or Y here\n ! { dg-error \"'i' not specified\" \"\" { target *-*-* } .-1 } */\n-! { dg-error \"enclosing 'parallel'\" \"\" { target *-*-* } 14 } */\n-! { dg-error \"'y' not specified\" \"\" { target *-*-* } 20 }  */\n+! { dg-error \"enclosing 'parallel'\" \"\" { target *-*-* } omp_parallel } */\n+! { dg-error \"'y' not specified\" \"\" { target *-*-* } .-3 }  */\n !$OMP DO firstprivate(y)\n       DO I = 1,10\n         Z(I) = Y ! O.K. - I is the loop iteration variable"}, {"sha": "7de656a37f87c8b8be8266dda18563a1c1ef5885", "filename": "gcc/testsuite/gfortran.dg/gomp/appendix-a/a.31.3.f90", "status": "modified", "additions": 12, "deletions": 14, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.31.3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c961093393e427bce36172d6b3d0348af403cd96/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.31.3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fappendix-a%2Fa.31.3.f90?ref=c961093393e427bce36172d6b3d0348af403cd96", "patch": "@@ -1,15 +1,13 @@\n ! { dg-do compile }\n-        PROGRAM A31_3_WRONG\n-        MAX = HUGE(0)\n-        M=0\n-        !$OMP PARALLEL DO REDUCTION(MAX: M) ! MAX is no longer the\n-                                            ! intrinsic so this\n-                                            ! is non-conforming\n-! { dg-error \"OMP DECLARE REDUCTION max not found\" \"\" { target *-*-* } 5 } */\n-        DO I = 1, 100\n-        CALL SUB(M,I)\n-        END DO\n-        END PROGRAM A31_3_WRONG\n-        SUBROUTINE SUB(M,I)\n-        M = MAX(M,I)\n-        END SUBROUTINE SUB\n+PROGRAM A31_3_WRONG\n+  MAX = HUGE(0)\n+  M=0\n+  !$OMP PARALLEL DO REDUCTION(MAX: M) ! MAX is no longer the intrinsic so this is non-conforming\n+  ! { dg-error \"OMP DECLARE REDUCTION max not found\" \"\" { target *-*-* } .-1 } */\n+  DO I = 1, 100\n+     CALL SUB(M,I)\n+  END DO\n+END PROGRAM A31_3_WRONG\n+SUBROUTINE SUB(M,I)\n+  M = MAX(M,I)\n+END SUBROUTINE SUB"}]}