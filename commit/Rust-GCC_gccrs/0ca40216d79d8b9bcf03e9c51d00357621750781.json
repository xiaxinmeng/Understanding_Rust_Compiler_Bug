{"sha": "0ca40216d79d8b9bcf03e9c51d00357621750781", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGNhNDAyMTZkNzlkOGI5YmNmMDNlOWM1MWQwMDM1NzYyMTc1MDc4MQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-05-10T12:05:24Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-05-10T12:05:24Z"}, "message": "optabs.c (emit_cmp_and_jump_insns): Handle the case where both operands to the comparison are constants.\n\n\t* optabs.c (emit_cmp_and_jump_insns): Handle the case where both\n\toperands to the comparison are constants.\n\nFrom-SVN: r26860", "tree": {"sha": "dc70c5ce9029ea09e374ec66cc46cb97a0bcc102", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc70c5ce9029ea09e374ec66cc46cb97a0bcc102"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ca40216d79d8b9bcf03e9c51d00357621750781", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ca40216d79d8b9bcf03e9c51d00357621750781", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ca40216d79d8b9bcf03e9c51d00357621750781", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ca40216d79d8b9bcf03e9c51d00357621750781/comments", "author": null, "committer": null, "parents": [{"sha": "f2646f9c9a772664d468b288873de38175c1e1ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2646f9c9a772664d468b288873de38175c1e1ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2646f9c9a772664d468b288873de38175c1e1ec"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "f62484d5503fb42afbb917361bf1ca7ec5e1ce82", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ca40216d79d8b9bcf03e9c51d00357621750781/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ca40216d79d8b9bcf03e9c51d00357621750781/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0ca40216d79d8b9bcf03e9c51d00357621750781", "patch": "@@ -1,3 +1,8 @@\n+Mon May 10 12:59:20 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* optabs.c (emit_cmp_and_jump_insns): Handle the case where both\n+\toperands to the comparison are constants.\n+\n Mon May 10 07:28:10 1999  Bruce Korb <autogen@autogen.freeservers.com>\n \n \t* fixinc/inclhack.def(arm_norcroft_hint): check before fixing"}, {"sha": "75f224c48096a8497c876ad3bd078f99b9f939e4", "filename": "gcc/optabs.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ca40216d79d8b9bcf03e9c51d00357621750781/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ca40216d79d8b9bcf03e9c51d00357621750781/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=0ca40216d79d8b9bcf03e9c51d00357621750781", "patch": "@@ -2976,6 +2976,15 @@ emit_cmp_and_jump_insns (x, y, comparison, size, mode, unsignedp, align, label)\n       op0 = x;\n       op1 = y;\n     }\n+\n+#ifdef HAVE_cc0\n+  /* If OP0 is still a constant, then both X and Y must be constants.  Force\n+     X into a register to avoid aborting in emit_cmp_insn due to non-canonical\n+     RTL.  */\n+  if (CONSTANT_P (op0))\n+    op0 = force_reg (mode, op0);\n+#endif\n+\n   emit_cmp_insn (op0, op1, comparison, size, mode, unsignedp, align);\n \n   if (unsignedp)"}]}