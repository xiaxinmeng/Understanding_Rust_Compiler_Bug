{"sha": "651bed366a537cac8a9561d749e0a83e277259ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUxYmVkMzY2YTUzN2NhYzhhOTU2MWQ3NDllMGE4M2UyNzcyNTljZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-07-28T16:12:00Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-07-28T16:12:00Z"}, "message": "natString.cc (init(gnu.gcj.runtime.StringBuffer)): New method.\n\n\t* java/lang/natString.cc (init(gnu.gcj.runtime.StringBuffer)):\n\tNew method.\n\tInclude gnu/gcj/runtime/StringBuffer.h.\n\t* java/lang/String.java (init(gnu.gcj.runtime.StringBuffer)): New\n\tnative method.\n\t(String(gnu.gcj.runtime.StringBuffer)): Use it.\n\nFrom-SVN: r69890", "tree": {"sha": "0df6dcf0658d8ff35dcfa4a03ea147a206a5c0d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0df6dcf0658d8ff35dcfa4a03ea147a206a5c0d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/651bed366a537cac8a9561d749e0a83e277259ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/651bed366a537cac8a9561d749e0a83e277259ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/651bed366a537cac8a9561d749e0a83e277259ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/651bed366a537cac8a9561d749e0a83e277259ce/comments", "author": null, "committer": null, "parents": [{"sha": "5dfa45d043db04ebddf4081364661e0784304d39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dfa45d043db04ebddf4081364661e0784304d39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dfa45d043db04ebddf4081364661e0784304d39"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "9c4177f9fd47bdf3b22c299814f9d40a3f331a7d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=651bed366a537cac8a9561d749e0a83e277259ce", "patch": "@@ -1,3 +1,12 @@\n+2003-07-28  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/lang/natString.cc (init(gnu.gcj.runtime.StringBuffer)):\n+\tNew method.\n+\tInclude gnu/gcj/runtime/StringBuffer.h.\n+\t* java/lang/String.java (init(gnu.gcj.runtime.StringBuffer)): New\n+\tnative method.\n+\t(String(gnu.gcj.runtime.StringBuffer)): Use it.\n+\n 2003-07-27  Anthony Green  <green@redhat.com>\n \n \t* configure.in: Fix newlib check."}, {"sha": "6844405e34c525437009c6d998e402b0fd6dc4bc", "filename": "libjava/java/lang/String.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2Fjava%2Flang%2FString.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2Fjava%2Flang%2FString.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FString.java?ref=651bed366a537cac8a9561d749e0a83e277259ce", "patch": "@@ -419,7 +419,7 @@ public String(StringBuffer buffer)\n   {\n     // No need to synchronize or mark the buffer, since we know it is\n     // only used once.\n-    init (buffer.value, 0, buffer.count, true);\n+    init (buffer);\n   }\n \n   /**\n@@ -1253,5 +1253,6 @@ private native void init(char[] chars, int offset, int count,\n   private native void init(byte[] chars, int hibyte, int offset, int count);\n   private native void init(byte[] chars, int offset, int count, String enc)\n     throws UnsupportedEncodingException;\n+  private native void init(gnu.gcj.runtime.StringBuffer buffer);\n   private static native void rehash();\n }"}, {"sha": "6fd928478b565936d5b5af8ab8cae5c57582ff7c", "filename": "libjava/java/lang/natString.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2Fjava%2Flang%2FnatString.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/651bed366a537cac8a9561d749e0a83e277259ce/libjava%2Fjava%2Flang%2FnatString.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatString.cc?ref=651bed366a537cac8a9561d749e0a83e277259ce", "patch": "@@ -28,6 +28,7 @@ details.  */\n #include <java/util/Locale.h>\n #include <gnu/gcj/convert/UnicodeToBytes.h>\n #include <gnu/gcj/convert/BytesToUnicode.h>\n+#include <gnu/gcj/runtime/StringBuffer.h>\n #include <jvm.h>\n \n static void unintern (jobject);\n@@ -525,6 +526,12 @@ java::lang::String::init (jbyteArray bytes, jint offset, jint count,\n   this->count = outpos;\n }\n \n+void\n+java::lang::String::init (gnu::gcj::runtime::StringBuffer *buffer)\n+{\n+  init (buffer->value, 0, buffer->count, true);\n+}\n+\n jboolean\n java::lang::String::equals(jobject anObject)\n {"}]}