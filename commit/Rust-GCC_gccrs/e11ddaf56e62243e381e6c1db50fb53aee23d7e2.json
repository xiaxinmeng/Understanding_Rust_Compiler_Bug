{"sha": "e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTExZGRhZjU2ZTYyMjQzZTM4MWU2YzFkYjUwZmI1M2FlZTIzZDdlMg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2009-12-14T08:58:06Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2009-12-14T08:58:06Z"}, "message": "configure.ac (--with-specs): New option.\n\n\t* configure.ac (--with-specs): New option.\n\t* configure: Regenerated.\n\t* gcc.c (driver_self_specs): Include CONFIGURE_SPECS.\n\t* Makefile.in (DRIVER_DEFINES): Add -DCONFIGURE_SPECS.\n\nFrom-SVN: r155208", "tree": {"sha": "b9830288d3feaecb3cfe960d0d30da55e118bcca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b9830288d3feaecb3cfe960d0d30da55e118bcca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/comments", "author": null, "committer": null, "parents": [{"sha": "b6eb7438616d087fb7f65984e030399cde77ca70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6eb7438616d087fb7f65984e030399cde77ca70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6eb7438616d087fb7f65984e030399cde77ca70"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "21be2daef9806913ae5192a85e1ac2e734d752fe", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "patch": "@@ -2100,7 +2100,8 @@ DRIVER_DEFINES = \\\n   -DTOOLDIR_BASE_PREFIX=\\\"$(libsubdir_to_prefix)$(prefix_to_exec_prefix)\\\" \\\n   @TARGET_SYSTEM_ROOT_DEFINE@ \\\n   $(VALGRIND_DRIVER_DEFINES) \\\n-  `test \"X$${SHLIB_LINK}\" = \"X\" || test \"@enable_shared@\" != \"yes\" || echo \"-DENABLE_SHARED_LIBGCC\"`\n+  `test \"X$${SHLIB_LINK}\" = \"X\" || test \"@enable_shared@\" != \"yes\" || echo \"-DENABLE_SHARED_LIBGCC\"` \\\n+  -DCONFIGURE_SPECS=\"\\\"@CONFIGURE_SPECS@\\\"\"\n \n gcc.o: gcc.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) intl.h multilib.h \\\n     Makefile $(lang_specs_files) specs.h prefix.h $(GCC_H) $(FLAGS_H) \\"}, {"sha": "ac223471a6e7aa14330421027c154b84902181c2", "filename": "gcc/configure", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "patch": "@@ -757,6 +757,7 @@ REPORT_BUGS_TEXI\n REPORT_BUGS_TO\n PKGVERSION\n onestep\n+CONFIGURE_SPECS\n CROSS_SYSTEM_HEADER_DIR\n TARGET_SYSTEM_ROOT_DEFINE\n TARGET_SYSTEM_ROOT\n@@ -880,6 +881,7 @@ with_dwarf2\n enable_shared\n with_build_sysroot\n with_sysroot\n+with_specs\n enable_intermodule\n with_pkgversion\n with_bugurl\n@@ -1632,6 +1634,7 @@ Optional Packages:\n   --with-build-sysroot=sysroot\n                           use sysroot as the system root during the build\n   --with-sysroot=DIR Search for usr/lib, usr/include, et al, within DIR.\n+  --with-specs=SPECS      add SPECS to driver command-line processing\n   --with-pkgversion=PKG   Use PKG in the version string in place of \"GCC\"\n   --with-bugurl=URL       Direct users to URL to report a bug\n   --with-multilib-list    Select multilibs (SH only)\n@@ -6853,6 +6856,17 @@ fi\n \n \n \n+\n+# Check whether --with-specs was given.\n+if test \"${with_specs+set}\" = set; then :\n+  withval=$with_specs; CONFIGURE_SPECS=$withval\n+else\n+  CONFIGURE_SPECS=\n+\n+fi\n+\n+\n+\n # Build with intermodule optimisations\n # Check whether --enable-intermodule was given.\n if test \"${enable_intermodule+set}\" = set; then :\n@@ -17023,7 +17037,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17026 \"configure\"\n+#line 17040 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -17129,7 +17143,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17132 \"configure\"\n+#line 17146 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "9622c23fd36fc76970f9b2c42fc345f7e57f85fe", "filename": "gcc/configure.ac", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "patch": "@@ -785,6 +785,14 @@ AC_SUBST(TARGET_SYSTEM_ROOT)\n AC_SUBST(TARGET_SYSTEM_ROOT_DEFINE)\n AC_SUBST(CROSS_SYSTEM_HEADER_DIR)\n \n+AC_ARG_WITH(specs,\n+  [AS_HELP_STRING([--with-specs=SPECS],\n+                  [add SPECS to driver command-line processing])],\n+  [CONFIGURE_SPECS=$withval],\n+  [CONFIGURE_SPECS=]\n+)\n+AC_SUBST(CONFIGURE_SPECS)\n+\n # Build with intermodule optimisations\n AC_ARG_ENABLE(intermodule,\n [  --enable-intermodule    build the compiler in one step],"}, {"sha": "ad69de7bd2264709e579285df6ab0f1562143f96", "filename": "gcc/gcc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e11ddaf56e62243e381e6c1db50fb53aee23d7e2/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=e11ddaf56e62243e381e6c1db50fb53aee23d7e2", "patch": "@@ -955,7 +955,7 @@ static const char *const multilib_defaults_raw[] = MULTILIB_DEFAULTS;\n \n static const char *const driver_self_specs[] = {\n   \"%{fdump-final-insns:-fdump-final-insns=.} %<fdump-final-insns\",\n-  DRIVER_SELF_SPECS, GOMP_SELF_SPECS\n+  DRIVER_SELF_SPECS, CONFIGURE_SPECS, GOMP_SELF_SPECS\n };\n \n #ifndef OPTION_DEFAULT_SPECS"}]}