{"sha": "0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGE0YTUxYzc1Yjk0MWM1MTdkOGFjMjZkZmRkOTI0NjliYzBmNjIxYQ==", "commit": {"author": {"name": "Adam Nemet", "email": "anemet@caviumnetworks.com", "date": "2008-11-18T21:00:28Z"}, "committer": {"name": "Adam Nemet", "email": "nemet@gcc.gnu.org", "date": "2008-11-18T21:00:28Z"}, "message": "config.gcc (mips*-sde-elf*): Handle mipsisa64r2*.\n\ngcc/\n\t* config.gcc (mips*-sde-elf*): Handle mipsisa64r2*.\n\t(mipsisa64r2-*-elf*, mipsisa64r2el-*-elf*): Add new cases to\n\tmipsisa*-*-elf*.  Handle mipsisa64r2*.\n\t* config/mips/sde.h (LINK_SPEC): Handle -mips64r2.\n\t* config/mips/t-isa3264 (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n\tmips64r2.\n\t(MULTILIB_EXCLUSIONS): Add mips64r2/mfp64.\n\t* config/mips/t-sde (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n\tmips64r2.\n\t(MULTILIB_EXCLUSIONS): Add mips64r2/mfp64.  Add mips64r2/mips16.\n\tFix mips16 if mips64 or mips64r2 are multilib defaults.\n\t* config/mips/t-sdemtk (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n\tmips64r2.\n\nlibgcc/\n\t* config.host (mipsisa64r2-*-elf* | mipsisa64r2el-*-elf*): New\n\tcase.\n\nFrom-SVN: r141976", "tree": {"sha": "3768ee676ca7a24e1e6058450ca3370836de68d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3768ee676ca7a24e1e6058450ca3370836de68d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/comments", "author": null, "committer": null, "parents": [{"sha": "32f6cf87195cca799139485fd79a8567e3d4eabc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32f6cf87195cca799139485fd79a8567e3d4eabc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32f6cf87195cca799139485fd79a8567e3d4eabc"}], "stats": {"total": 60, "additions": 47, "deletions": 13}, "files": [{"sha": "fc9a9fe2d2cd30aa839f6bb676fa27e4bb5d3af3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -1,3 +1,19 @@\n+2008-11-18  Adam Nemet  <anemet@caviumnetworks.com>\n+\n+\t* config.gcc (mips*-sde-elf*): Handle mipsisa64r2*.\n+\t(mipsisa64r2-*-elf*, mipsisa64r2el-*-elf*): Add new cases to\n+\tmipsisa*-*-elf*.  Handle mipsisa64r2*.\n+\t* config/mips/sde.h (LINK_SPEC): Handle -mips64r2.\n+\t* config/mips/t-isa3264 (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n+\tmips64r2.\n+\t(MULTILIB_EXCLUSIONS): Add mips64r2/mfp64.\n+\t* config/mips/t-sde (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n+\tmips64r2.\n+\t(MULTILIB_EXCLUSIONS): Add mips64r2/mfp64.  Add mips64r2/mips16.\n+\tFix mips16 if mips64 or mips64r2 are multilib defaults.\n+\t* config/mips/t-sdemtk (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add\n+\tmips64r2.\n+\n 2008-11-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/38130"}, {"sha": "ded0b1c7f67640862f75711e97e15d1bb5f19436", "filename": "gcc/config.gcc", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -1602,14 +1602,18 @@ mips*-sde-elf*)\n \t  mipsisa32*)\n \t    tm_defines=\"MIPS_ISA_DEFAULT=32 MIPS_ABI_DEFAULT=ABI_32\"\n \t    ;;\n+\t  mipsisa64r2*)\n+\t    tm_defines=\"MIPS_ISA_DEFAULT=65 MIPS_ABI_DEFAULT=ABI_N32\"\n+\t    ;;\n \t  mipsisa64*)\n \t    tm_defines=\"MIPS_ISA_DEFAULT=64 MIPS_ABI_DEFAULT=ABI_N32\"\n \t    ;;\n \tesac\n \t;;\n mipsisa32-*-elf* | mipsisa32el-*-elf* | \\\n mipsisa32r2-*-elf* | mipsisa32r2el-*-elf* | \\\n-mipsisa64-*-elf* | mipsisa64el-*-elf*)\n+mipsisa64-*-elf* | mipsisa64el-*-elf* | \\\n+mipsisa64r2-*-elf* | mipsisa64r2el-*-elf*)\n \ttm_file=\"elfos.h ${tm_file} mips/elf.h\"\n \ttmake_file=\"mips/t-isa3264 mips/t-libgcc-mips16\"\n \tcase ${target} in\n@@ -1619,6 +1623,9 @@ mipsisa64-*-elf* | mipsisa64el-*-elf*)\n \t  mipsisa32*)\n \t    tm_defines=\"${tm_defines} MIPS_ISA_DEFAULT=32\"\n \t    ;;\n+\t  mipsisa64r2*)\n+\t    tm_defines=\"${tm_defines} MIPS_ISA_DEFAULT=65\"\n+\t    ;;\n \t  mipsisa64*)\n \t    tm_defines=\"${tm_defines} MIPS_ISA_DEFAULT=64\"\n \t    ;;"}, {"sha": "ee8b20b09968a54d79f174bbe50019db9c063ba7", "filename": "gcc/config/mips/sde.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Fsde.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Fsde.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fsde.h?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -66,7 +66,7 @@ along with GCC; see the file COPYING3.  If not see\n #undef LINK_SPEC\n #define LINK_SPEC \"\\\n %(endian_spec) \\\n-%{G*} %{mips1} %{mips2} %{mips3} %{mips4} %{mips32} %{mips32r2} %{mips64} \\\n+%{G*} %{mips1} %{mips2} %{mips3} %{mips4} %{mips32*} %{mips64*} \\\n %{bestGnum} \\\n %{shared} %{non_shared} %{call_shared} \\\n %{mabi=n32:-melf32%{EB:b}%{EL:l}tsmipn32} \\"}, {"sha": "ef2de4e86753a741f77f97c78b80156bde232bb8", "filename": "gcc/config/mips/t-isa3264", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-isa3264", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-isa3264", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-isa3264?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -17,13 +17,13 @@ TARGET_LIBGCC2_CFLAGS = -G 0\n # Build the libraries for both hard and soft floating point\n \n ifneq ($(filter MIPS_ABI_DEFAULT=ABI_EABI,$(tm_defines)),)\n-MULTILIB_OPTIONS = msoft-float EL/EB mips32/mips32r2/mips64\n-MULTILIB_DIRNAMES = soft-float el eb mips32 mips32r2 mips64\n+MULTILIB_OPTIONS = msoft-float EL/EB mips32/mips32r2/mips64/mips64r2\n+MULTILIB_DIRNAMES = soft-float el eb mips32 mips32r2 mips64 mips64r2\n else\n-MULTILIB_OPTIONS = msoft-float/mfp64 EL/EB mips32/mips32r2/mips64\n-MULTILIB_DIRNAMES = soft-float fp64 el eb mips32 mips32r2 mips64\n+MULTILIB_OPTIONS = msoft-float/mfp64 EL/EB mips32/mips32r2/mips64/mips64r2\n+MULTILIB_DIRNAMES = soft-float fp64 el eb mips32 mips32r2 mips64 mips64r2\n ifneq ($(filter MIPS_ISA_DEFAULT=33,$(tm_defines)),)\n-MULTILIB_EXCLUSIONS = mips32/mfp64 mips64/mfp64\n+MULTILIB_EXCLUSIONS = mips32/mfp64 mips64/mfp64 mips64r2/mfp64\n else\n MULTILIB_EXCLUSIONS = !mips32r2/mfp64\n endif"}, {"sha": "64180d9ecf1b3d357961e34c689a9408f048949f", "filename": "gcc/config/mips/t-sde", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-sde", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-sde", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-sde?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -10,19 +10,23 @@ $(T)crtn.o: $(srcdir)/config/mips/crtn.asm $(GCC_PASSES)\n \t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(MULTILIB_CFLAGS) $(INCLUDES) \\\n \t-c -o $(T)crtn.o -x assembler-with-cpp $(srcdir)/config/mips/crtn.asm\n \n-MULTILIB_OPTIONS = EL/EB mips32/mips32r2/mips64 mips16 msoft-float/mfp64 mcode-readable=no\n-MULTILIB_DIRNAMES = el eb mips32 mips32r2 mips64 mips16 sof f64 spram\n+MULTILIB_OPTIONS = EL/EB mips32/mips32r2/mips64/mips64r2 mips16 msoft-float/mfp64 mcode-readable=no\n+MULTILIB_DIRNAMES = el eb mips32 mips32r2 mips64 mips64r2 mips16 sof f64 spram\n MULTILIB_MATCHES = EL=mel EB=meb\n \n # The -mfp64 option is only valid in conjunction with -mips32r2.\n ifneq ($(filter MIPS_ISA_DEFAULT=33,$(tm_defines)),)\n-MULTILIB_EXCLUSIONS := mips32/mfp64 mips64/mfp64\n+MULTILIB_EXCLUSIONS := mips32/mfp64 mips64/mfp64 mips64r2/mfp64\n else\n MULTILIB_EXCLUSIONS := !mips32r2/mfp64\n endif\n \n # Don't build 64-bit MIPS16 multilibs.\n-MULTILIB_EXCLUSIONS += mips16/mips64\n+ifneq ($(filter MIPS_ISA_DEFAULT=6%,$(tm_defines)),)\n+MULTILIB_EXCLUSIONS += !mips32/!mips32r2/mips16\n+else\n+MULTILIB_EXCLUSIONS += mips64/mips16 mips64r2/mips16\n+endif\n \n EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o crti.o crtn.o\n "}, {"sha": "1135015f665bb21fa3cb4dd7891a9cd4c1721e27", "filename": "gcc/config/mips/t-sdemtk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-sdemtk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/gcc%2Fconfig%2Fmips%2Ft-sdemtk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-sdemtk?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -1,8 +1,8 @@\n # Override newlib settings in t-sde and set up for building\n # against SDE header files and libraries.\n \n-MULTILIB_OPTIONS = EL/EB mips32/mips32r2/mips64 mips16 msoft-float/mno-float/mfp64\n-MULTILIB_DIRNAMES = el eb mips32 mips32r2 mips64 mips16 sof nof f64\n+MULTILIB_OPTIONS = EL/EB mips32/mips32r2/mips64/mips64r2 mips16 msoft-float/mno-float/mfp64\n+MULTILIB_DIRNAMES = el eb mips32 mips32r2 mips64 mips64r2 mips16 sof nof f64\n \n # Remove stdarg.h and stddef.h from USER_H.\n USER_H = $(srcdir)/ginclude/float.h \\"}, {"sha": "f73b8c7c89cb17130cc0deb003ce48b2b757ac40", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -1,3 +1,8 @@\n+2008-11-18  Adam Nemet  <anemet@caviumnetworks.com>\n+\n+\t* config.host (mipsisa64r2-*-elf* | mipsisa64r2el-*-elf*): New\n+\tcase.\n+\n 2008-11-09  Thomas Schwinge  <tschwinge@gnu.org>\n \n \t* config.host <t-tls>: Also enable for GNU/kFreeBSD and GNU/kNetBSD."}, {"sha": "747fd7e336bc562d36a4cb47f62f097e2dd491cf", "filename": "libgcc/config.host", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0a4a51c75b941c517d8ac26dfdd92469bc0f621a/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=0a4a51c75b941c517d8ac26dfdd92469bc0f621a", "patch": "@@ -395,6 +395,8 @@ mipsisa32r2-*-elf* | mipsisa32r2el-*-elf*)\n \t;;\n mipsisa64-*-elf* | mipsisa64el-*-elf*)\n \t;;\n+mipsisa64r2-*-elf* | mipsisa64r2el-*-elf*)\n+\t;;\n mipsisa64sr71k-*-elf*)\n         ;;\n mipsisa64sb1-*-elf* | mipsisa64sb1el-*-elf*)"}]}