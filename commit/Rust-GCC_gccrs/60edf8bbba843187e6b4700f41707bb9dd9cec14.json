{"sha": "60edf8bbba843187e6b4700f41707bb9dd9cec14", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjBlZGY4YmJiYTg0MzE4N2U2YjQ3MDBmNDE3MDdiYjlkZDljZWMxNA==", "commit": {"author": {"name": "Matt Turner", "email": "mattst88@gmail.com", "date": "2017-06-22T19:46:10Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2017-06-22T19:46:10Z"}, "message": "driver-i386.c (host_detect_local_cpu): Add Kaby Lake models to skylake case.\n\ngcc/\n\n2017-06-22  Matt Turner  <mattst88@gmail.com>\n\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Add Kaby\n\tLake models to skylake case.  Assume skylake for unknown\n\tmodels with clflushopt.\n\ngcc/testsuite/\n\n2017-06-22  Matt Turner  <mattst88@gmail.com>\n\n\t* gcc.target/i386/builtin_target.c: Add Kaby Lake models to\n\tskylake check.\n\nlibgcc/\n\n2017-06-22  Matt Turner  <mattst88@gmail.com>\n\n\t* config/i386/cpuinfo.c (get_intel_cpu): Add Kaby Lake models to\n\tskylake case.\n\nFrom-SVN: r249574", "tree": {"sha": "e4de099703dae5c02d03f44b991b9e8f140a5a3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4de099703dae5c02d03f44b991b9e8f140a5a3c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/60edf8bbba843187e6b4700f41707bb9dd9cec14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60edf8bbba843187e6b4700f41707bb9dd9cec14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60edf8bbba843187e6b4700f41707bb9dd9cec14", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60edf8bbba843187e6b4700f41707bb9dd9cec14/comments", "author": {"login": "mattst88", "id": 590254, "node_id": "MDQ6VXNlcjU5MDI1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/590254?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattst88", "html_url": "https://github.com/mattst88", "followers_url": "https://api.github.com/users/mattst88/followers", "following_url": "https://api.github.com/users/mattst88/following{/other_user}", "gists_url": "https://api.github.com/users/mattst88/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattst88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattst88/subscriptions", "organizations_url": "https://api.github.com/users/mattst88/orgs", "repos_url": "https://api.github.com/users/mattst88/repos", "events_url": "https://api.github.com/users/mattst88/events{/privacy}", "received_events_url": "https://api.github.com/users/mattst88/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4333d74bab07cb91b535d2072cc0fad48cf24f49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4333d74bab07cb91b535d2072cc0fad48cf24f49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4333d74bab07cb91b535d2072cc0fad48cf24f49"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "087126dcd4304296b6d25cd034c2fe1ae232e1ea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -1,3 +1,9 @@\n+2017-06-22  Matt Turner  <mattst88@gmail.com>\n+\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Add Kaby\n+\tLake models to skylake case.  Assume skylake for unknown\n+\tmodels with clflushopt.\n+\n 2017-06-22  Jeff Law  <law@redhat.com>\n \n \t* config/aarch64/aarch64.c (aarch64_emit_probe_stack_range): Handle"}, {"sha": "570c49031bd9072fb7c5f9be87e630b7b0987429", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -781,6 +781,9 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \tcase 0x4e:\n \tcase 0x5e:\n \t  /* Skylake.  */\n+\tcase 0x8e:\n+\tcase 0x9e:\n+\t  /* Kaby Lake.  */\n \t  cpu = \"skylake\";\n \t  break;\n \tcase 0x57:\n@@ -794,6 +797,9 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t      /* Assume Knights Landing.  */\n \t      if (has_avx512f)\n \t\tcpu = \"knl\";\n+\t      /* Assume Skylake.  */\n+\t      else if (has_clflushopt)\n+\t\tcpu = \"skylake\";\n \t      /* Assume Broadwell.  */\n \t      else if (has_adx)\n \t\tcpu = \"broadwell\";"}, {"sha": "b41c8d9c4416f1a03d048a890844054a742f590d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -1,3 +1,8 @@\n+2017-06-22  Matt Turner  <mattst88@gmail.com>\n+\n+\t* gcc.target/i386/builtin_target.c: Add Kaby Lake models to\n+\tskylake check.\n+\n 2017-06-22 Carl Love  <cel@us.ibm.com>\n \n \t* gcc.target/powerpc/builtins-3.c (vmulosh, vmulouh, vmulesh,"}, {"sha": "9c190eb7ebc393b8cd802c03cba82be08e92171f", "filename": "gcc/testsuite/gcc.target/i386/builtin_target.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fbuiltin_target.c?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -88,6 +88,9 @@ check_intel_cpu_model (unsigned int family, unsigned int model,\n \t    case 0x4e:\n \t    case 0x5e:\n \t      /* Skylake.  */\n+\t    case 0x8e:\n+\t    case 0x9e:\n+\t      /* Kaby Lake.  */\n \t      assert (__builtin_cpu_is (\"corei7\"));\n \t      assert (__builtin_cpu_is (\"skylake\"));\n \t      break;"}, {"sha": "1b5d2b5a17d4e610bebc8337f837e27f2ddc9a28", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -1,3 +1,8 @@\n+2017-06-22  Matt Turner  <mattst88@gmail.com>\n+\n+\t* config/i386/cpuinfo.c (get_intel_cpu): Add Kaby Lake models to\n+\tskylake case.\n+\n 2017-06-21  Richard Biener  <rguenther@suse.de>\n \n \tPR gcov-profile/81080"}, {"sha": "b008fb6e39628f2d14d3766ce840756100cb0cc7", "filename": "libgcc/config/i386/cpuinfo.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60edf8bbba843187e6b4700f41707bb9dd9cec14/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60edf8bbba843187e6b4700f41707bb9dd9cec14/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c?ref=60edf8bbba843187e6b4700f41707bb9dd9cec14", "patch": "@@ -183,6 +183,9 @@ get_intel_cpu (unsigned int family, unsigned int model, unsigned int brand_id)\n \t    case 0x4e:\n \t    case 0x5e:\n \t      /* Skylake.  */\n+\t    case 0x8e:\n+\t    case 0x9e:\n+\t      /* Kaby Lake.  */\n \t      __cpu_model.__cpu_type = INTEL_COREI7;\n \t      __cpu_model.__cpu_subtype = INTEL_COREI7_SKYLAKE;\n \t      break;"}]}