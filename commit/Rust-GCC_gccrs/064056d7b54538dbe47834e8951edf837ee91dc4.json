{"sha": "064056d7b54538dbe47834e8951edf837ee91dc4", "node_id": "C_kwDOANBUbNoAKDA2NDA1NmQ3YjU0NTM4ZGJlNDc4MzRlODk1MWVkZjgzN2VlOTFkYzQ", "commit": {"author": {"name": "Doug Rupp", "email": "rupp@adacore.com", "date": "2021-07-12T18:47:53Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-09-22T15:01:43Z"}, "message": "[Ada] VxWorks inconsistent use of return type (Int_Unlock)\n\ngcc/ada/\n\n\t* libgnarl/s-osinte__vxworks.ads: Make procedure vice function.\n\t* libgnarl/s-vxwext.ads: Likewise.\n\t* libgnarl/s-vxwext__kernel-smp.adb: Likewise.\n\t* libgnarl/s-vxwext__kernel.adb: Likewise.\n\t* libgnarl/s-vxwext__kernel.ads: Likewise.\n\t* libgnarl/s-vxwext__rtp-smp.adb: Likewise.\n\t* libgnarl/s-vxwext__rtp.adb: Likewise.\n\t* libgnarl/s-vxwext__rtp.ads: Likewise.\n\t* libgnarl/s-taprop__vxworks.adb (Stop_All_Tasks): Call\n\tInt_Unlock as a procedure.", "tree": {"sha": "d4eee78034b562176cf9cf12cbf465f660bd5f4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4eee78034b562176cf9cf12cbf465f660bd5f4b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/064056d7b54538dbe47834e8951edf837ee91dc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/064056d7b54538dbe47834e8951edf837ee91dc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/064056d7b54538dbe47834e8951edf837ee91dc4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/064056d7b54538dbe47834e8951edf837ee91dc4/comments", "author": {"login": "Cementitious", "id": 115579865, "node_id": "U_kgDOBuOb2Q", "avatar_url": "https://avatars.githubusercontent.com/u/115579865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cementitious", "html_url": "https://github.com/Cementitious", "followers_url": "https://api.github.com/users/Cementitious/followers", "following_url": "https://api.github.com/users/Cementitious/following{/other_user}", "gists_url": "https://api.github.com/users/Cementitious/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cementitious/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cementitious/subscriptions", "organizations_url": "https://api.github.com/users/Cementitious/orgs", "repos_url": "https://api.github.com/users/Cementitious/repos", "events_url": "https://api.github.com/users/Cementitious/events{/privacy}", "received_events_url": "https://api.github.com/users/Cementitious/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2df3e43eb97a3d1e96485a9b682f9a07478b6da7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2df3e43eb97a3d1e96485a9b682f9a07478b6da7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2df3e43eb97a3d1e96485a9b682f9a07478b6da7"}], "stats": {"total": 27, "additions": 13, "deletions": 14}, "files": [{"sha": "b2882372309c4dfeece7f9779f5e11722703dc03", "filename": "gcc/ada/libgnarl/s-osinte__vxworks.ads", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-osinte__vxworks.ads?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -232,8 +232,7 @@ package System.OS_Interface is\n    --  If we are in the kernel space, lock interrupts. It typically maps to\n    --  intLock.\n \n-   function Int_Unlock (Old : int) return int\n-     renames System.VxWorks.Ext.Int_Unlock;\n+   procedure Int_Unlock (Old : int) renames System.VxWorks.Ext.Int_Unlock;\n    --  If we are in the kernel space, unlock interrupts. It typically maps to\n    --  intUnlock. The parameter Old is only used on PowerPC where it contains\n    --  the returned value from Int_Lock (the old MPSR)."}, {"sha": "2b9883305a2289342369e820cc766ec488347ad7", "filename": "gcc/ada/libgnarl/s-taprop__vxworks.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-taprop__vxworks.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-taprop__vxworks.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-taprop__vxworks.adb?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -1268,7 +1268,7 @@ package body System.Task_Primitives.Operations is\n          C := C.Common.All_Tasks_Link;\n       end loop;\n \n-      Dummy := Int_Unlock (Old);\n+      Int_Unlock (Old);\n    end Stop_All_Tasks;\n \n    ---------------"}, {"sha": "8497d2ccc80e60b20adf94337304139dc2ac85cf", "filename": "gcc/ada/libgnarl/s-vxwext.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext.ads?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -57,7 +57,7 @@ package System.VxWorks.Ext is\n    function Int_Lock return int;\n    pragma Import (C, Int_Lock, \"intLock\");\n \n-   function Int_Unlock (Old : int) return int;\n+   procedure Int_Unlock (Old : int);\n    pragma Import (C, Int_Unlock, \"intUnlock\");\n \n    function Interrupt_Connect"}, {"sha": "8c91c4500dbdaa41970fb0d0255c1ca7dea11914", "filename": "gcc/ada/libgnarl/s-vxwext__kernel-smp.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel-smp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel-smp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel-smp.adb?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -48,10 +48,10 @@ package body System.VxWorks.Ext is\n    -- Int_Unlock --\n    ----------------\n \n-   function Int_Unlock (Old : int) return int is\n+   procedure Int_Unlock (Old : int) is\n       pragma Unreferenced (Old);\n    begin\n-      return ERROR;\n+      null;\n    end Int_Unlock;\n \n    ---------------"}, {"sha": "7d3cc8dcdb50791444e85d6ef248879c3ce3b6f8", "filename": "gcc/ada/libgnarl/s-vxwext__kernel.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.adb?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -49,10 +49,10 @@ package body System.VxWorks.Ext is\n    -- Int_Unlock --\n    ----------------\n \n-   function intUnlock (Old : int) return int;\n+   procedure intUnlock (Old : int);\n    pragma Import (C, intUnlock, \"intUnlock\");\n \n-   function Int_Unlock (Old : int) return int renames intUnlock;\n+   procedure Int_Unlock (Old : int) renames intUnlock;\n \n    ---------------\n    -- semDelete --"}, {"sha": "57ce053195b4eae6dce26f694d99bf9a9d5a5a95", "filename": "gcc/ada/libgnarl/s-vxwext__kernel.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__kernel.ads?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -56,7 +56,7 @@ package System.VxWorks.Ext is\n    function Int_Lock return int;\n    pragma Convention (C, Int_Lock);\n \n-   function Int_Unlock (Old : int) return int;\n+   procedure Int_Unlock (Old : int);\n    pragma Convention (C, Int_Unlock);\n \n    function Interrupt_Connect"}, {"sha": "8061c379576f2c38d219080639ceb59032017467", "filename": "gcc/ada/libgnarl/s-vxwext__rtp-smp.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp-smp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp-smp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp-smp.adb?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -48,10 +48,10 @@ package body System.VxWorks.Ext is\n    -- Int_Unlock --\n    ----------------\n \n-   function Int_Unlock (Old : int) return int is\n+   procedure Int_Unlock (Old : int) is\n       pragma Unreferenced (Old);\n    begin\n-      return ERROR;\n+      null;\n    end Int_Unlock;\n \n    -----------------------"}, {"sha": "65511b0493d3279750a6c701b5520247763b8918", "filename": "gcc/ada/libgnarl/s-vxwext__rtp.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.adb?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -48,10 +48,10 @@ package body System.VxWorks.Ext is\n    -- Int_Unlock --\n    ----------------\n \n-   function Int_Unlock (Old : int) return int is\n+   procedure Int_Unlock (Old : int) is\n       pragma Unreferenced (Old);\n    begin\n-      return ERROR;\n+      null;\n    end Int_Unlock;\n \n    -----------------------"}, {"sha": "70dfcbca5948a8188bdea7135af16b47daf7cd4f", "filename": "gcc/ada/libgnarl/s-vxwext__rtp.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/064056d7b54538dbe47834e8951edf837ee91dc4/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fs-vxwext__rtp.ads?ref=064056d7b54538dbe47834e8951edf837ee91dc4", "patch": "@@ -56,7 +56,7 @@ package System.VxWorks.Ext is\n    function Int_Lock return int;\n    pragma Inline (Int_Lock);\n \n-   function Int_Unlock (Old : int) return int;\n+   procedure Int_Unlock (Old : int);\n    pragma Inline (Int_Unlock);\n \n    function Interrupt_Connect"}]}