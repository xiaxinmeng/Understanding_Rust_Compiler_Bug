{"sha": "8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGJiNTBlNWNlMDljNTMxNDQwZWMwYzFlNzNiMjRjM2IwYTk0NWM2OQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2012-05-04T11:47:06Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2012-05-04T11:47:06Z"}, "message": "re PR lto/50602 (ICE in tree_nrv, at tree-nrv.c:155 during large LTO build)\n\n2012-05-04  Richard Guenther  <rguenther@suse.de>\n\n\tPR lto/50602\n\t* lto-wrapper.c (merge_and_complain): Complain about mismatches\n\tof -freg-struct-return and -fpcc-struct-return.\n\t(run_gcc): Pass through -freg-struct-return and -fpcc-struct-return\n\tfrom the input file options and ignore those from the link\n\tcommand line.\n\nFrom-SVN: r187155", "tree": {"sha": "6f50d2bd7ecee321c80696963ea3eb2bb17ad755", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f50d2bd7ecee321c80696963ea3eb2bb17ad755"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "efe7068bc9c80858b6025e737eafb90b0a7882c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efe7068bc9c80858b6025e737eafb90b0a7882c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efe7068bc9c80858b6025e737eafb90b0a7882c5"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "6403309039575290d927fe99bbb93ab0ce2ebe12", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "patch": "@@ -1,3 +1,12 @@\n+2012-05-04  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR lto/50602\n+\t* lto-wrapper.c (merge_and_complain): Complain about mismatches\n+\tof -freg-struct-return and -fpcc-struct-return.\n+\t(run_gcc): Pass through -freg-struct-return and -fpcc-struct-return\n+\tfrom the input file options and ignore those from the link\n+\tcommand line.\n+\n 2012-05-04  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/53168"}, {"sha": "b656db251fac45cd222bdb46226fb799037ef5b9", "filename": "gcc/lto-wrapper.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69/gcc%2Flto-wrapper.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8bb50e5ce09c531440ec0c1e73b24c3b0a945c69/gcc%2Flto-wrapper.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-wrapper.c?ref=8bb50e5ce09c531440ec0c1e73b24c3b0a945c69", "patch": "@@ -414,6 +414,16 @@ merge_and_complain (struct cl_decoded_option **decoded_options,\n \t  if (j == *decoded_options_count)\n \t    append_option (decoded_options, decoded_options_count, foption);\n \t  break;\n+\n+\tcase OPT_freg_struct_return:\n+\tcase OPT_fpcc_struct_return:\n+\t  for (j = 0; j < *decoded_options_count; ++j)\n+\t    if ((*decoded_options)[j].opt_index == foption->opt_index)\n+\t      break;\n+\t  if (j == *decoded_options_count)\n+\t    fatal (\"Option %s not used consistently in all LTO input files\",\n+\t\t   foption->orig_option_with_args_text);\n+\t  break;\n \t}\n     }\n }\n@@ -558,6 +568,8 @@ run_gcc (unsigned argc, char *argv[])\n \tcase OPT_fcommon:\n \tcase OPT_fexceptions:\n \tcase OPT_fgnu_tm:\n+\tcase OPT_freg_struct_return:\n+\tcase OPT_fpcc_struct_return:\n \t  break;\n \n \tdefault:\n@@ -619,6 +631,12 @@ run_gcc (unsigned argc, char *argv[])\n \t  /* We've handled these LTO options, do not pass them on.  */\n \t  continue;\n \n+\tcase OPT_freg_struct_return:\n+\tcase OPT_fpcc_struct_return:\n+\t  /* Ignore these, they are determined by the input files.\n+\t     ???  We fail to diagnose a possible mismatch here.  */\n+\t  continue;\n+\n \tdefault:\n \t  break;\n \t}"}]}