{"sha": "992592ec7a83b1001cf88633fae88d92f8dba79c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTkyNTkyZWM3YTgzYjEwMDFjZjg4NjMzZmFlODhkOTJmOGRiYTc5Yw==", "commit": {"author": {"name": "Christian Widmer", "email": "shadow@umbrox.de", "date": "2013-08-27T17:24:37Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2013-08-27T17:24:37Z"}, "message": "re PR target/57927 (-march=core-avx2  different than -march=native on INTEL Haswell (i7-4700K))\n\n\tPR target/57927\n\t* config/i386/driver-i386.c (host_detect_local_cpu): Add detection\n\tof Ivy Bridge and Haswell processors.  Assume core-avx2 for unknown\n\tAVX2 capable processors.\n\nFrom-SVN: r202026", "tree": {"sha": "793126886fa5cc9be9c2c5988dd901757e879112", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/793126886fa5cc9be9c2c5988dd901757e879112"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/992592ec7a83b1001cf88633fae88d92f8dba79c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/992592ec7a83b1001cf88633fae88d92f8dba79c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/992592ec7a83b1001cf88633fae88d92f8dba79c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/992592ec7a83b1001cf88633fae88d92f8dba79c/comments", "author": {"login": "ShadowsFriend", "id": 105785, "node_id": "MDQ6VXNlcjEwNTc4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/105785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShadowsFriend", "html_url": "https://github.com/ShadowsFriend", "followers_url": "https://api.github.com/users/ShadowsFriend/followers", "following_url": "https://api.github.com/users/ShadowsFriend/following{/other_user}", "gists_url": "https://api.github.com/users/ShadowsFriend/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShadowsFriend/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShadowsFriend/subscriptions", "organizations_url": "https://api.github.com/users/ShadowsFriend/orgs", "repos_url": "https://api.github.com/users/ShadowsFriend/repos", "events_url": "https://api.github.com/users/ShadowsFriend/events{/privacy}", "received_events_url": "https://api.github.com/users/ShadowsFriend/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9116eb22e40a1b87b603bccf96e0b4add7b09a3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9116eb22e40a1b87b603bccf96e0b4add7b09a3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9116eb22e40a1b87b603bccf96e0b4add7b09a3b"}], "stats": {"total": 35, "additions": 25, "deletions": 10}, "files": [{"sha": "9698dc910184135626b19e0dfff935cdc47d6c8b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/992592ec7a83b1001cf88633fae88d92f8dba79c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/992592ec7a83b1001cf88633fae88d92f8dba79c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=992592ec7a83b1001cf88633fae88d92f8dba79c", "patch": "@@ -1,3 +1,10 @@\n+2013-08-27  Christian Widmer  <shadow@umbrox.de>\n+\n+\tPR target/57927\n+\t* config/i386/driver-i386.c (host_detect_local_cpu): Add detection\n+\tof Ivy Bridge and Haswell processors.  Assume core-avx2 for unknown\n+\tAVX2 capable processors.\n+\n 2013-08-27  Tejas Belagod  <tejas.belagod@arm.com>\n \n \t* config/aarch64/arm_neon.h: Replace all inline asm implementations"}, {"sha": "001d12fd241066bd50bffa1c62bf38e6bd7a8c92", "filename": "gcc/config/i386/driver-i386.c", "status": "modified", "additions": 18, "deletions": 10, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/992592ec7a83b1001cf88633fae88d92f8dba79c/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/992592ec7a83b1001cf88633fae88d92f8dba79c/gcc%2Fconfig%2Fi386%2Fdriver-i386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdriver-i386.c?ref=992592ec7a83b1001cf88633fae88d92f8dba79c", "patch": "@@ -644,13 +644,18 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t  /* Atom.  */\n \t  cpu = \"atom\";\n \t  break;\n+\tcase 0x0f:\n+\t  /* Merom.  */\n+\tcase 0x17:\n+\tcase 0x1d:\n+\t  /* Penryn.  */\n+\t  cpu = \"core2\";\n+\t  break;\n \tcase 0x1a:\n \tcase 0x1e:\n \tcase 0x1f:\n \tcase 0x2e:\n \t  /* Nehalem.  */\n-\t  cpu = \"corei7\";\n-\t  break;\n \tcase 0x25:\n \tcase 0x2c:\n \tcase 0x2f:\n@@ -662,20 +667,23 @@ const char *host_detect_local_cpu (int argc, const char **argv)\n \t  /* Sandy Bridge.  */\n \t  cpu = \"corei7-avx\";\n \t  break;\n-\tcase 0x17:\n-\tcase 0x1d:\n-\t  /* Penryn.  */\n-\t  cpu = \"core2\";\n+\tcase 0x3a:\n+\tcase 0x3e:\n+\t  /* Ivy Bridge.  */\n+\t  cpu = \"core-avx-i\";\n \t  break;\n-\tcase 0x0f:\n-\t  /* Merom.  */\n-\t  cpu = \"core2\";\n+\tcase 0x3c:\n+\t  /* Haswell.  */\n+\t  cpu = \"core-avx2\";\n \t  break;\n \tdefault:\n \t  if (arch)\n \t    {\n \t      /* This is unknown family 0x6 CPU.  */\n-\t      if (has_avx)\n+\t      if (has_avx2)\n+\t\t/* Assume Haswell.  */\n+\t\tcpu = \"core-avx2\";\n+\t      else if (has_avx)\n \t\t/* Assume Sandy Bridge.  */\n \t\tcpu = \"corei7-avx\";\n \t      else if (has_sse4_2)"}]}