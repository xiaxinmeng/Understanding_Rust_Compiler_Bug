{"sha": "79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzliNzU0ZDQ3ZmY1ZmVmOTlmZTU3YjM1NzllZjM3ZjEzNWE2ZGM2ZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-01-26T04:05:32Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-01-26T04:05:32Z"}, "message": "cp-demangle.c (cplus_demangle_type): Check for invalid type after \"DF\".\n\n\t* cp-demangle.c (cplus_demangle_type): Check for invalid type\n\tafter \"DF\".\n\t* testsuite/demangle-expected: Add test.\n\nFrom-SVN: r156226", "tree": {"sha": "acf80aac712595d9af66c48e19f3415b96e24e07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acf80aac712595d9af66c48e19f3415b96e24e07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/comments", "author": null, "committer": null, "parents": [{"sha": "77f02d096a409ba23e9f19a887ae6561ad0424ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77f02d096a409ba23e9f19a887ae6561ad0424ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77f02d096a409ba23e9f19a887ae6561ad0424ce"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "fcbef269c8777426a8de1fe94b98b20ca5e21dd4", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "patch": "@@ -1,3 +1,9 @@\n+2010-01-25  Ian Lance Taylor  <iant@google.com>\n+\n+\t* cp-demangle.c (cplus_demangle_type): Check for invalid type\n+\tafter \"DF\".\n+\t* testsuite/demangle-expected: Add test.\n+\n 2010-01-20  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/42338\n@@ -294,7 +300,7 @@\n \twith other than 1 operand.\n \t(d_print_comp): Handle function parameters.  Fix bug with\n \tfunction used in type of function.\n-\t* testsuite/demangle-expected: Upate tests.\n+\t* testsuite/demangle-expected: Update tests.\n \n 2009-02-21  Mark Mitchell  <mark@codesourcery.com>\n "}, {"sha": "2f4d0cc9a30ff253d1c4a21f3c02cdc214bec11b", "filename": "libiberty/cp-demangle.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2Fcp-demangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2Fcp-demangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcp-demangle.c?ref=79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "patch": "@@ -1,5 +1,5 @@\n /* Demangler for g++ V3 ABI.\n-   Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008\n+   Copyright (C) 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010\n    Free Software Foundation, Inc.\n    Written by Ian Lance Taylor <ian@wasabisystems.com>.\n \n@@ -2193,6 +2193,8 @@ cplus_demangle_type (struct d_info *di)\n \t    /* For demangling we don't care about the bits.  */\n \t    d_number (di);\n \t  ret->u.s_fixed.length = cplus_demangle_type (di);\n+\t  if (ret->u.s_fixed.length == NULL)\n+\t    return NULL;\n \t  d_number (di);\n \t  peek = d_next_char (di);\n \t  ret->u.s_fixed.sat = (peek == 's');"}, {"sha": "eaa7ca9c9e581723796056af4777972f92d5dee8", "filename": "libiberty/testsuite/demangle-expected", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2Ftestsuite%2Fdemangle-expected", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79b754d47ff5fef99fe57b3579ef37f135a6dc6e/libiberty%2Ftestsuite%2Fdemangle-expected", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Fdemangle-expected?ref=79b754d47ff5fef99fe57b3579ef37f135a6dc6e", "patch": "@@ -4019,5 +4019,8 @@ prot.lock.update\n --format=gnat\n prot__lock__update_E6s\n prot.lock.update\n-\n-\n+#\n+# Used to crash the demangler.\n+--format=gnu-v3\n+DFA\n+DFA"}]}