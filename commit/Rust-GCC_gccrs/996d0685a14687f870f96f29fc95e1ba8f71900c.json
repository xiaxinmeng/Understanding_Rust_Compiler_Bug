{"sha": "996d0685a14687f870f96f29fc95e1ba8f71900c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTk2ZDA2ODVhMTQ2ODdmODcwZjk2ZjI5ZmM5NWUxYmE4ZjcxOTAwYw==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1998-12-09T12:53:34Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1998-12-09T12:53:34Z"}, "message": "update old-dejagnu proc to accompany jasons 12/7 change to g++.old-deja/old-deja.exp\n\nFrom-SVN: r24222", "tree": {"sha": "92efb876d2906a4149fe8e4fc96769c09e1c5a51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92efb876d2906a4149fe8e4fc96769c09e1c5a51"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/996d0685a14687f870f96f29fc95e1ba8f71900c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/996d0685a14687f870f96f29fc95e1ba8f71900c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/996d0685a14687f870f96f29fc95e1ba8f71900c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/996d0685a14687f870f96f29fc95e1ba8f71900c/comments", "author": null, "committer": null, "parents": [{"sha": "dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfb0fb1d9072ea071a79d25bacae6304c8b022ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfb0fb1d9072ea071a79d25bacae6304c8b022ea"}], "stats": {"total": 11, "additions": 4, "deletions": 7}, "files": [{"sha": "bfa29b0643c780345080fc8eacd904f405fd4318", "filename": "gcc/testsuite/lib/old-dejagnu.exp", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/996d0685a14687f870f96f29fc95e1ba8f71900c/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/996d0685a14687f870f96f29fc95e1ba8f71900c/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fold-dejagnu.exp?ref=996d0685a14687f870f96f29fc95e1ba8f71900c", "patch": "@@ -119,11 +119,7 @@ proc old-dejagnu-stat { } {\n # Returns 0 if successful, 1 if their were any errors.\n # PROG is the full path name of the file to compile.\n #\n-# CFLAGS_VAR is the name of the global variable containing compiler flags.\n-# We ignore this now.\n-#\n-# CFLAGS is the options to always pass to the compiler.\n-# This is also ignored.\n+# CFLAGSX is the options to always pass to the compiler.\n #\n # DEFAULT_CFLAGS are additional options if the testcase has none.\n #\n@@ -137,7 +133,7 @@ proc old-dejagnu-stat { } {\n #\n # Think of \"cflags\" here as \"compiler flags\", not \"C compiler flags\".\n \n-proc old-dejagnu { compiler prog cflagsx default_cflags libs } {\n+proc old-dejagnu { compiler prog name cflagsx default_cflags libs } {\n     global verbose\n     global tool\n     global subdir\t\t;# eg: g++.old-dejagnu\n@@ -199,7 +195,8 @@ proc old-dejagnu { compiler prog cflagsx default_cflags libs } {\n # Other keywords: \"Build don't link:\", \"Build don't run:\", \"Build then link:\",\n #                 \"Additional sources: <file>.cc ...\"\n \n-    set name \"[file tail [file dirname $prog]]/[file tail $prog]\"\n+# $name is now passed in.\n+#    set name \"[file tail [file dirname $prog]]/[file tail $prog]\"\n \n     set tmp [grep $prog \"FIXME -.*\"]\n     if ![string match \"\" $tmp] then {"}]}