{"sha": "60def7edd2381f2b6d5cde1b4be98dff4a248368", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjBkZWY3ZWRkMjM4MWYyYjZkNWNkZTFiNGJlOThkZmY0YTI0ODM2OA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-02-02T12:27:43Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-02T12:27:43Z"}, "message": "revert: configure.ac: Depend addition of -pthread on host OS.\n\n\tRevert:\n\t2006-07-05  Eric Christopher  <echristo@apple.com>\n\t* configure.ac: Depend addition of -pthread on host OS.\n\t* configure: Regenerate.\n\nFrom-SVN: r121497", "tree": {"sha": "a6d6cbce7980b6a1e007f4931f342ecbafccc541", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6d6cbce7980b6a1e007f4931f342ecbafccc541"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/60def7edd2381f2b6d5cde1b4be98dff4a248368", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60def7edd2381f2b6d5cde1b4be98dff4a248368", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60def7edd2381f2b6d5cde1b4be98dff4a248368", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60def7edd2381f2b6d5cde1b4be98dff4a248368/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3e66d096990519fcf0408a3bfc5b92e7d32b6462", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e66d096990519fcf0408a3bfc5b92e7d32b6462", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e66d096990519fcf0408a3bfc5b92e7d32b6462"}], "stats": {"total": 29, "additions": 11, "deletions": 18}, "files": [{"sha": "e07a91d86c5f3980b45764900d1e789cc3b5c443", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=60def7edd2381f2b6d5cde1b4be98dff4a248368", "patch": "@@ -1,3 +1,10 @@\n+2007-02-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tRevert:\n+\t2006-07-05  Eric Christopher  <echristo@apple.com>\n+\t* configure.ac: Depend addition of -pthread on host OS.\n+\t* configure: Regenerate.\n+\n 2007-01-31  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* libgomp.texi: Fix spacing after abbreviations."}, {"sha": "fe7517bbafd267a1e7836d6272015b4759f3f9f3", "filename": "libgomp/configure", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=60def7edd2381f2b6d5cde1b4be98dff4a248368", "patch": "@@ -8464,8 +8464,7 @@ fi\n # Check to see if -pthread or -lpthread is needed.  Prefer the former.\n # In case the pthread.h system header is not found, this test will fail.\n XPCFLAGS=\"\"\n-\n-# Darwin doesn't need the -pthread option since threads are in libSystem\n+CFLAGS=\"$CFLAGS -pthread\"\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8504,13 +8503,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-  case $host in\n-   *-darwin*)\n-     ;;\n-   default)\n-     XPCFLAGS=\" -Wc,-pthread\"\n-     ;;\n-     esac\n+  XPCFLAGS=\" -Wc,-pthread\"\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5"}, {"sha": "4ee96e2b3dd0f5a529f2a363d1fc756aa6864af2", "filename": "libgomp/configure.ac", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/60def7edd2381f2b6d5cde1b4be98dff4a248368/libgomp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.ac?ref=60def7edd2381f2b6d5cde1b4be98dff4a248368", "patch": "@@ -166,20 +166,13 @@ GCC_HEADER_STDINT(gstdint.h)\n # Check to see if -pthread or -lpthread is needed.  Prefer the former.\n # In case the pthread.h system header is not found, this test will fail.\n XPCFLAGS=\"\"\n-\n-# Darwin doesn't need the -pthread option since threads are in libSystem\n+CFLAGS=\"$CFLAGS -pthread\"\n AC_LINK_IFELSE(\n  [AC_LANG_PROGRAM(\n   [#include <pthread.h>\n    void *g(void *d) { return NULL; }],\n   [pthread_t t; pthread_create(&t,NULL,g,NULL);])],\n- [case $host in\n-   *-darwin*)\n-     ;;\n-   default)\n-     XPCFLAGS=\" -Wc,-pthread\"\n-     ;;\n-     esac],\n+ [XPCFLAGS=\" -Wc,-pthread\"],\n  [CFLAGS=\"$save_CFLAGS\" LIBS=\"-lpthread $LIBS\"\n   AC_LINK_IFELSE(\n    [AC_LANG_PROGRAM("}]}