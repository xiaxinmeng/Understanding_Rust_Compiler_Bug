{"sha": "bf0add700f0d605df10d2081911b56ced7386b84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmYwYWRkNzAwZjBkNjA1ZGYxMGQyMDgxOTExYjU2Y2VkNzM4NmI4NA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-11T03:04:47Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-11T03:04:47Z"}, "message": "(stmt): Don't call default_conversion on top-level expressions.\n\nFrom-SVN: r5725", "tree": {"sha": "26af474c267b6574815147d9037403521ca10518", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/26af474c267b6574815147d9037403521ca10518"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf0add700f0d605df10d2081911b56ced7386b84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf0add700f0d605df10d2081911b56ced7386b84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf0add700f0d605df10d2081911b56ced7386b84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf0add700f0d605df10d2081911b56ced7386b84/comments", "author": null, "committer": null, "parents": [{"sha": "f1a2b9559f41a54c52fff5e1f3b98c85c5a1b3dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1a2b9559f41a54c52fff5e1f3b98c85c5a1b3dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1a2b9559f41a54c52fff5e1f3b98c85c5a1b3dd"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "2d6c965a26ab9ce35d30c12250120a7054247f93", "filename": "gcc/c-parse.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf0add700f0d605df10d2081911b56ced7386b84/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf0add700f0d605df10d2081911b56ced7386b84/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=bf0add700f0d605df10d2081911b56ced7386b84", "patch": "@@ -1648,11 +1648,18 @@ stmt:\n \t| expr ';'\n \t\t{ stmt_count++;\n \t\t  emit_line_note ($<filename>-1, $<lineno>0);\n+/* It appears that this should not be done--that a non-lvalue array\n+   shouldn't get an error if the value isn't used.\n+   Section 3.2.2.1 says that an array lvalue gets converted to a pointer\n+   if it appears as a top-level expression,\n+   but says nothing about non-lvalue arrays.  */\n+#if 0\n \t\t  /* Call default_conversion to get an error\n \t\t     on referring to a register array if pedantic.  */\n \t\t  if (TREE_CODE (TREE_TYPE ($1)) == ARRAY_TYPE\n \t\t      || TREE_CODE (TREE_TYPE ($1)) == FUNCTION_TYPE)\n \t\t    $1 = default_conversion ($1);\n+#endif\n \t\t  iterator_expand ($1);\n \t\t  clear_momentary (); }\n \t| simple_if ELSE"}]}