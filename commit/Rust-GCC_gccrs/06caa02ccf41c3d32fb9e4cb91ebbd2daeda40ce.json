{"sha": "06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZjYWEwMmNjZjQxYzNkMzJmYjllNGNiOTFlYmJkMmRhZWRhNDBjZQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-02-03T06:54:41Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-02-03T06:54:41Z"}, "message": "compiler, runtime: mark stub methods, ignore them in runtime.Caller.\n\n    \n    This fixes the long-standing bug in which the testing package misreports\n    the file/line of an error.\n    \n    Reviewed-on: https://go-review.googlesource.com/19179\n\nFrom-SVN: r233098", "tree": {"sha": "c9fbab9c042a0361d5e78a65eee1132843133999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9fbab9c042a0361d5e78a65eee1132843133999"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/comments", "author": null, "committer": null, "parents": [{"sha": "e2bd26b72289a01eed0248a80abb5fb3687497d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2bd26b72289a01eed0248a80abb5fb3687497d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2bd26b72289a01eed0248a80abb5fb3687497d4"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "4f095c4d3f25253e969e0303308d71d078d5c8fe", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "patch": "@@ -1,4 +1,4 @@\n-a408bef550251926c28673818db2c64302faac1d\n+c70e74c116d08c6f2e787551eb1366983815c032\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "0443281dd8154f6d8c4558b6d3620e2ca64caf23", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "patch": "@@ -9632,13 +9632,14 @@ Type::build_stub_methods(Gogo* gogo, const Type* type, const Methods* methods,\n \tpackage = NULL;\n       else\n \tpackage = type->named_type()->named_object()->package();\n+      std::string stub_name = name + \"$stub\";\n       Named_object* stub;\n       if (package != NULL)\n-\tstub = Named_object::make_function_declaration(name, package,\n+\tstub = Named_object::make_function_declaration(stub_name, package,\n \t\t\t\t\t\t       stub_type, location);\n       else\n \t{\n-\t  stub = gogo->start_function(name, stub_type, false,\n+\t  stub = gogo->start_function(stub_name, stub_type, false,\n \t\t\t\t      fntype->location());\n \t  Type::build_one_stub_method(gogo, m, buf, stub_params,\n \t\t\t\t      fntype->is_varargs(), location);"}, {"sha": "0c1c60314567d89f630a9c8da3e5d9a6018a60a5", "filename": "libgo/runtime/go-callers.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/libgo%2Fruntime%2Fgo-callers.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce/libgo%2Fruntime%2Fgo-callers.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-callers.c?ref=06caa02ccf41c3d32fb9e4cb91ebbd2daeda40ce", "patch": "@@ -74,6 +74,8 @@ callback (void *data, uintptr_t pc, const char *filename, int lineno,\n       p = __builtin_strrchr (function, '$');\n       if (p != NULL && __builtin_strcmp(p, \"$recover\") == 0)\n \treturn 0;\n+      if (p != NULL && __builtin_strncmp(p, \"$stub\", 5) == 0)\n+\treturn 0;\n     }\n \n   if (arg->skip > 0)"}]}