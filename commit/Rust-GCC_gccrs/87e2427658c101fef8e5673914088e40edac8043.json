{"sha": "87e2427658c101fef8e5673914088e40edac8043", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdlMjQyNzY1OGMxMDFmZWY4ZTU2NzM5MTQwODhlNDBlZGFjODA0Mw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T02:45:34Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T02:45:34Z"}, "message": "Change output to be a sequence of short strings\nseparated by commas rather than a single long macro definition.\n\nFrom-SVN: r12240", "tree": {"sha": "0687113601b533ee6429aaeb84de0008898b1aba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0687113601b533ee6429aaeb84de0008898b1aba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87e2427658c101fef8e5673914088e40edac8043", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87e2427658c101fef8e5673914088e40edac8043", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87e2427658c101fef8e5673914088e40edac8043", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87e2427658c101fef8e5673914088e40edac8043/comments", "author": null, "committer": null, "parents": [{"sha": "ffd8633682c0936947fc1cc8c6f18f7340eede2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffd8633682c0936947fc1cc8c6f18f7340eede2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffd8633682c0936947fc1cc8c6f18f7340eede2e"}], "stats": {"total": 32, "additions": 14, "deletions": 18}, "files": [{"sha": "e66106ff7aebcabc371cf6c355cd86d40b6b3d83", "filename": "gcc/genmultilib", "status": "modified", "additions": 14, "deletions": 18, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87e2427658c101fef8e5673914088e40edac8043/gcc%2Fgenmultilib", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87e2427658c101fef8e5673914088e40edac8043/gcc%2Fgenmultilib", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenmultilib?ref=87e2427658c101fef8e5673914088e40edac8043", "patch": "@@ -62,16 +62,15 @@\n #   genmultilib \"m68000/m68020 msoft-float\" \"m68000 m68020 msoft-float\"\n #\t\t\"m68000=mc68000\"\n # This produces:\n-#   #define MULTILIB_SELECT \"\\\n-#   . !m68000 !mc68000 !m68020 !msoft-float;\\\n-#   m68000 m68000 !m68020 !msoft-float;\\\n-#   m68000 mc60000 !m68020 !msoft-float;\\\n-#   m68020 !m68000 !mc68000 m68020 !msoft-float;\\\n-#   msoft-float !m68000 !mc68000 !m68020 msoft-float;\\\n-#   m68000/msoft-float m68000 !m68020 msoft-float;\\\n-#   m68000/msoft-float mc68000 !m68020 msoft-float;\\\n-#   m68020/msoft-float !m68000 !mc68000 m68020 msoft-float;\\\n-#   \"\n+#   \". !m68000 !mc68000 !m68020 !msoft-float;\",\n+#   \"m68000 m68000 !m68020 !msoft-float;\",\n+#   \"m68000 mc60000 !m68020 !msoft-float;\",\n+#   \"m68020 !m68000 !mc68000 m68020 !msoft-float;\",\n+#   \"msoft-float !m68000 !mc68000 !m68020 msoft-float;\",\n+#   \"m68000/msoft-float m68000 !m68020 msoft-float;\",\n+#   \"m68000/msoft-float mc68000 !m68020 msoft-float;\",\n+#   \"m68020/msoft-float !m68000 !mc68000 m68020 msoft-float;\",\n+#\n # The effect is that `gcc -msoft-float' (for example) will append\n # msoft-float to the directory name when searching for libraries or\n # startup files, and `gcc -m68000 -msoft-float' (for example) will\n@@ -185,7 +184,7 @@ cat >tmpmultilib2 <<\\EOF\n # ${dirout} is the directory name and ${optout} is the current list of\n # options.\n if [ \"$#\" = \"0\" ]; then\n-  echo \"${dirout} ${optout};\\\\\"\n+  echo \"\\\"${dirout} ${optout};\\\",\"\n else\n   first=$1\n   shift\n@@ -200,9 +199,6 @@ fi\n EOF\n chmod +x tmpmultilib2\n \n-# We are ready to start output.\n-echo '#define MULTILIB_SELECT \"\\'\n-\n # Start with the current directory, which includes only negations.\n optout=\n for set in ${options}; do\n@@ -214,7 +210,7 @@ optout=`echo ${optout} | sed -e 's/^ //'`\n if [ -n \"${matchnegations}\" ]; then\n   optout=`echo \";${optout};\" | sed -e 's/ /;/g' ${matchnegations} -e 's/^;//' -e 's/;$//' -e 's/;/ /g'`\n fi\n-echo \". ${optout};\\\\\"\n+echo \"\\\". ${optout};\\\",\"\n \n # Work over the list of combinations.  We have to translate each one\n # to use the directory names rather than the option names, we have to\n@@ -254,9 +250,9 @@ for combo in ${combinations}; do\n   dirout=\"${dirout}\" optout=\"${optout}\" ./tmpmultilib2 ${matches}\n done\n \n-rm -f tmpmultilib2\n+# Terminate the list of string.\n+echo \"NULL\"\n \n-# That's it.\n-echo '\"'\n+rm -f tmpmultilib2\n \n exit 0"}]}