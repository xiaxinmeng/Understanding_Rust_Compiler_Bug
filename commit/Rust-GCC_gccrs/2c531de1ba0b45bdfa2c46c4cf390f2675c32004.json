{"sha": "2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM1MzFkZTFiYTBiNDViZGZhMmM0NmM0Y2YzOTBmMjY3NWMzMjAwNA==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@suse.de", "date": "2003-01-14T08:03:58Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2003-01-14T08:03:58Z"}, "message": "Make-lang.in (treelang.install-info): Depend only on info files if BUILD_INFO is set.\n\n\t* Make-lang.in (treelang.install-info): Depend only on info files\n\tif BUILD_INFO is set.  Fix install rules.\n\t(treelang.): New.\n\nFrom-SVN: r61264", "tree": {"sha": "75e841a316cd4ffbc63b63c193fd6244867c4c39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75e841a316cd4ffbc63b63c193fd6244867c4c39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c531de1ba0b45bdfa2c46c4cf390f2675c32004/comments", "author": {"login": "ajaeger", "id": 16867, "node_id": "MDQ6VXNlcjE2ODY3", "avatar_url": "https://avatars.githubusercontent.com/u/16867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajaeger", "html_url": "https://github.com/ajaeger", "followers_url": "https://api.github.com/users/ajaeger/followers", "following_url": "https://api.github.com/users/ajaeger/following{/other_user}", "gists_url": "https://api.github.com/users/ajaeger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajaeger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajaeger/subscriptions", "organizations_url": "https://api.github.com/users/ajaeger/orgs", "repos_url": "https://api.github.com/users/ajaeger/repos", "events_url": "https://api.github.com/users/ajaeger/events{/privacy}", "received_events_url": "https://api.github.com/users/ajaeger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7b5102af84468663e23a5687ef8bc118c89030a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b5102af84468663e23a5687ef8bc118c89030a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b5102af84468663e23a5687ef8bc118c89030a5"}], "stats": {"total": 38, "additions": 26, "deletions": 12}, "files": [{"sha": "deb95598835f1350461f6636c78b3e70ea499d7e", "filename": "gcc/treelang/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c531de1ba0b45bdfa2c46c4cf390f2675c32004/gcc%2Ftreelang%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c531de1ba0b45bdfa2c46c4cf390f2675c32004/gcc%2Ftreelang%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftreelang%2FChangeLog?ref=2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "patch": "@@ -1,3 +1,9 @@\n+2003-01-14  Andreas Jaeger  <aj@suse.de>\n+\n+\t* Make-lang.in (treelang.install-info): Depend only on info files\n+\tif BUILD_INFO is set.  Fix install rules.\n+\t(treelang.): New.\n+\n 2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n \n \t* Make-lang.in (treelang.install.common.done,"}, {"sha": "53975e3517b95697a78eeb7343d4aaa9ea1390ec", "filename": "gcc/treelang/Make-lang.in", "status": "modified", "additions": 20, "deletions": 12, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c531de1ba0b45bdfa2c46c4cf390f2675c32004/gcc%2Ftreelang%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c531de1ba0b45bdfa2c46c4cf390f2675c32004/gcc%2Ftreelang%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftreelang%2FMake-lang.in?ref=2c531de1ba0b45bdfa2c46c4cf390f2675c32004", "patch": "@@ -1,7 +1,7 @@\n # Top level makefile fragment for TREELANG For GCC. -*- makefile -*-\n \n-#   Copyright (C) 1994, 1995, 1997, 1998, 1999 2000, 2001, 2002 Free\n-#   Software Foundation, Inc.\n+#   Copyright (C) 1994, 1995, 1997, 1998, 1999, 2000, 2001, 2002, 2003\n+#   Free Software Foundation, Inc.\n \n #This file is part of GCC.\n \n@@ -175,16 +175,24 @@ treelang.install.common.done:  installdirs treelang.done\n \tdone\n \t$(STAMP) treelang.install.common.done\n \n-treelang.install-info: $(srcdir)/treelang/treelang.info\n-\tfor name in $(srcdir)/treelang/treelang.info; \\\n-\tdo \\\n-\t   if [ -f $$name ] ; then \\\n-\t    name2=\"`echo \\`basename $$name\\` | sed -e '$(program_transform_name)' `\"; \\\n-\t    rm -f $(DESTDIR)$(libsubdir)/$$name2$(exeext); \\\n-\t    $(INSTALL_PROGRAM) $$name$(exeext) $(DESTDIR)$(libsubdir)/$$name2$(exeext); \\\n-\t    chmod a+x $(DESTDIR)$(libsubdir)/$$name2$(exeext); \\\n-\t  fi ; \\\n-\tdone\n+# We might not be able to build the info files\n+.PHONY: treelang.\n+treelang.:\n+treelang.install-info: treelang.$(BUILD_INFO)\n+\tif [ -f $(srcdir)/treelang/treelang.info ] ; then \\\n+\t  rm -f $(DESTDIR)$(infodir)/treelang.info*; \\\n+\t  for f in $(srcdir)/treelang/treelang.info*; do \\\n+\t      realfile=`echo $$f | sed -e 's|.*/\\([^/]*\\)$$|\\1|'`; \\\n+\t      $(INSTALL_DATA) $$f $(DESTDIR)$(infodir)/$$realfile; \\\n+\t  done; \\\n+\t  chmod a-x $(DESTDIR)$(infodir)/treelang.info*; \\\n+\telse true; fi\n+\t@if [ -f $(srcdir)/treelang/treelang.info ] ; then \\\n+\t  if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \\\n+\t    echo \" install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/treelang.info\"; \\\n+\t    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/treelang.info || : ; \\\n+\t  else : ; fi; \\\n+\telse : ; fi\n \n treelang.install-man: \n "}]}