{"sha": "9833f6792a3fc80658167415883160d47ddd68b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTgzM2Y2NzkyYTNmYzgwNjU4MTY3NDE1ODgzMTYwZDQ3ZGRkNjhiNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-07-05T16:40:01Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-07-05T16:40:01Z"}, "message": "re PR c++/6706 (ICE with variable-sized arrays and DWARF-1 output)\n\n\tPR c++/6706\n\t* dwarfout.c (output_reg_number): Fix warning message.\n\t(output_bound_representation): Check SAVE_EXPR_RTL is not NULL\n\tbefore using it.\n\n\tPR c++/6706\n\t* g++.dg/debug/debug6.C: New test.\n\t* g++.dg/debug/debug7.C: New test.\n\nFrom-SVN: r55264", "tree": {"sha": "d2f8efa5fa2c3a5ebae7ee24ce51a1b2fad27932", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2f8efa5fa2c3a5ebae7ee24ce51a1b2fad27932"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9833f6792a3fc80658167415883160d47ddd68b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9833f6792a3fc80658167415883160d47ddd68b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9833f6792a3fc80658167415883160d47ddd68b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9833f6792a3fc80658167415883160d47ddd68b4/comments", "author": null, "committer": null, "parents": [{"sha": "7dc17098a2c31f04a702967845220d5b1e4a2336", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dc17098a2c31f04a702967845220d5b1e4a2336", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dc17098a2c31f04a702967845220d5b1e4a2336"}], "stats": {"total": 44, "additions": 42, "deletions": 2}, "files": [{"sha": "767dd7399227d81a477046a3b83b611e8b64ee62", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9833f6792a3fc80658167415883160d47ddd68b4", "patch": "@@ -1,3 +1,10 @@\n+2002-07-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/6706\n+\t* dwarfout.c (output_reg_number): Fix warning message.\n+\t(output_bound_representation): Check SAVE_EXPR_RTL is not NULL\n+\tbefore using it.\n+\t\n 2002-07-05  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* gcc/gcc.c (asm_debug): Move initialization ..."}, {"sha": "d51e65f473b16c1d8e62b8a70453f0a612d12861", "filename": "gcc/dwarfout.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Fdwarfout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Fdwarfout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarfout.c?ref=9833f6792a3fc80658167415883160d47ddd68b4", "patch": "@@ -2077,7 +2077,8 @@ output_reg_number (rtl)\n \n   if (regno >= DWARF_FRAME_REGISTERS)\n     {\n-      warning_with_decl (dwarf_last_decl, \"internal regno botch: regno = %d\\n\",\n+      warning_with_decl (dwarf_last_decl, \n+\t\t\t \"internal regno botch: `%s' has regno = %d\\n\",\n \t\t\t regno);\n       regno = 0;\n     }\n@@ -2294,7 +2295,8 @@ output_bound_representation (bound, dim_num, u_or_l)\n \t\t   || TREE_CODE (bound) == CONVERT_EXPR)\n \t      bound = TREE_OPERAND (bound, 0);\n \n-\t    if (TREE_CODE (bound) == SAVE_EXPR)\n+\t    if (TREE_CODE (bound) == SAVE_EXPR \n+\t\t&& SAVE_EXPR_RTL (bound))\n \t      output_loc_descriptor\n \t\t(eliminate_regs (SAVE_EXPR_RTL (bound), 0, NULL_RTX));\n \t  }"}, {"sha": "8880177b83a26565879e51eedd82796170558aca", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9833f6792a3fc80658167415883160d47ddd68b4", "patch": "@@ -1,3 +1,9 @@\n+2002-07-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/6706\n+\t* g++.dg/debug/debug6.C: New test.\n+\t* g++.dg/debug/debug7.C: New test.\n+\n Thu Jul  4 07:36:48 2002  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \t* gcc.c-torture/compile/simd-3.c: New test."}, {"sha": "64f121b00ad1067019366baa5f897ffb40d13940", "filename": "gcc/testsuite/g++.dg/debug/debug6.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug6.C?ref=9833f6792a3fc80658167415883160d47ddd68b4", "patch": "@@ -0,0 +1,7 @@\n+// { dg-do compile }\n+\n+void foo()\n+{\n+  int i=1, x[i];\n+}\n+"}, {"sha": "78faa20ff03010f1b5d754bf59dd605fd0c3b6ab", "filename": "gcc/testsuite/g++.dg/debug/debug7.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9833f6792a3fc80658167415883160d47ddd68b4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdebug7.C?ref=9833f6792a3fc80658167415883160d47ddd68b4", "patch": "@@ -0,0 +1,18 @@\n+// { dg-do compile }\n+\n+void f (int);\n+\n+int\n+main() {\n+\n+  int a = 4;\n+  int b = 5;\n+  int (*x)[b] = new int[a][b];\n+\n+  x[2][1] = 7;\n+\n+  for (int i = 0; i < a; ++i)\n+    for (int j = 0; j < b; ++j)\n+      f (x[i][j]);\n+  delete [] x;\n+}"}]}