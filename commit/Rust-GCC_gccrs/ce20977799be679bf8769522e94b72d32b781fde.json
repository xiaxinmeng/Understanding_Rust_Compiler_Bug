{"sha": "ce20977799be679bf8769522e94b72d32b781fde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2UyMDk3Nzc5OWJlNjc5YmY4NzY5NTIyZTk0YjcyZDMyYjc4MWZkZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-06-17T19:49:49Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-06-17T19:49:49Z"}, "message": "tree.c (builtin_valid_in_constant_expr_p): Test for DECL_BUILT_IN_CLASS equal to BUILT_IN_NORMAL instead of just DECL_BUILT_IN.\n\n\t* tree.c (builtin_valid_in_constant_expr_p): Test for\n\tDECL_BUILT_IN_CLASS equal to BUILT_IN_NORMAL instead of just\n\tDECL_BUILT_IN.\n\t(bot_manip): Likewise.\n\t* call.c (magic_varargs_p): Likewise.\n\nFrom-SVN: r237563", "tree": {"sha": "73341ee471d2e43e911a83a87fc47007b162bf4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73341ee471d2e43e911a83a87fc47007b162bf4b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce20977799be679bf8769522e94b72d32b781fde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce20977799be679bf8769522e94b72d32b781fde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce20977799be679bf8769522e94b72d32b781fde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce20977799be679bf8769522e94b72d32b781fde/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bf54f1234fed3a9968d2ff0425c1a5470d93367b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf54f1234fed3a9968d2ff0425c1a5470d93367b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf54f1234fed3a9968d2ff0425c1a5470d93367b"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "166ec2d6f034757e27e484bac03b5b087a878d50", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ce20977799be679bf8769522e94b72d32b781fde", "patch": "@@ -1,3 +1,11 @@\n+2016-06-17  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* tree.c (builtin_valid_in_constant_expr_p): Test for\n+\tDECL_BUILT_IN_CLASS equal to BUILT_IN_NORMAL instead of just\n+\tDECL_BUILT_IN.\n+\t(bot_manip): Likewise.\n+\t* call.c (magic_varargs_p): Likewise.\n+\n 2016-06-17  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* decl.c (grokfndecl): Change pair of errors to error + inform."}, {"sha": "b739fa0905d1ffa7e4ec864d5acf0419e1ea8edf", "filename": "gcc/cp/call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=ce20977799be679bf8769522e94b72d32b781fde", "patch": "@@ -7140,7 +7140,7 @@ magic_varargs_p (tree fn)\n   if (flag_cilkplus && is_cilkplus_reduce_builtin (fn) != BUILT_IN_NONE)\n     return 2;\n \n-  if (DECL_BUILT_IN (fn))\n+  if (DECL_BUILT_IN_CLASS (fn) == BUILT_IN_NORMAL)\n     switch (DECL_FUNCTION_CODE (fn))\n       {\n       case BUILT_IN_CLASSIFY_TYPE:"}, {"sha": "6010f63746f058fc6db3ba2b56fa1f67ed962f44", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce20977799be679bf8769522e94b72d32b781fde/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=ce20977799be679bf8769522e94b72d32b781fde", "patch": "@@ -341,7 +341,8 @@ cp_stabilize_reference (tree ref)\n bool\n builtin_valid_in_constant_expr_p (const_tree decl)\n {\n-  if (!(TREE_CODE (decl) == FUNCTION_DECL && DECL_BUILT_IN (decl)))\n+  if (!(TREE_CODE (decl) == FUNCTION_DECL\n+\t&& DECL_BUILT_IN_CLASS (decl) == BUILT_IN_NORMAL))\n     /* Not a built-in.  */\n     return false;\n   switch (DECL_FUNCTION_CODE (decl))\n@@ -2536,7 +2537,7 @@ bot_manip (tree* tp, int* walk_subtrees, void* data)\n       /* builtin_LINE and builtin_FILE get the location where the default\n \t argument is expanded, not where the call was written.  */\n       tree callee = get_callee_fndecl (*tp);\n-      if (callee && DECL_BUILT_IN (callee))\n+      if (callee && DECL_BUILT_IN_CLASS (callee) == BUILT_IN_NORMAL)\n \tswitch (DECL_FUNCTION_CODE (callee))\n \t  {\n \t  case BUILT_IN_FILE:"}]}