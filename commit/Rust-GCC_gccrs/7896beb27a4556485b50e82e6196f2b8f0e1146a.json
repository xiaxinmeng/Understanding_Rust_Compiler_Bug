{"sha": "7896beb27a4556485b50e82e6196f2b8f0e1146a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg5NmJlYjI3YTQ1NTY0ODViNTBlODJlNjE5NmYyYjhmMGUxMTQ2YQ==", "commit": {"author": {"name": "Marco Trudel", "email": "mtrudel@gmx.ch", "date": "2007-01-18T20:47:50Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-01-18T20:47:50Z"}, "message": "jni.cc (_Jv_JNI_FindClass): Initialize class.\n\n2007-01-18  Marco Trudel  <mtrudel@gmx.ch>\n\n\t* jni.cc (_Jv_JNI_FindClass): Initialize class.\n\t* testsuite/libjava.jni/findclass2.jar: New file.\n\t* testsuite/libjava.jni/findclass2.h: New file.\n\t* testsuite/libjava.jni/findclass2.java: New file\n\t* testsuite/libjava.jni/findclass2.c: New file.\n\t* testsuite/libjava.jni/findclass2.out: New file.\n\nFrom-SVN: r120930", "tree": {"sha": "4c2a62510b05498eb172331a262a4868c7425147", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c2a62510b05498eb172331a262a4868c7425147"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7896beb27a4556485b50e82e6196f2b8f0e1146a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7896beb27a4556485b50e82e6196f2b8f0e1146a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7896beb27a4556485b50e82e6196f2b8f0e1146a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7896beb27a4556485b50e82e6196f2b8f0e1146a/comments", "author": null, "committer": null, "parents": [{"sha": "576c9028f00d275eb9beb66ab2116383759130bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/576c9028f00d275eb9beb66ab2116383759130bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/576c9028f00d275eb9beb66ab2116383759130bb"}], "stats": {"total": 65, "additions": 64, "deletions": 1}, "files": [{"sha": "e572a5f91a99ba3052b6f187e41836ff4b53534f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -1,3 +1,12 @@\n+2007-01-18  Marco Trudel  <mtrudel@gmx.ch>\n+\n+\t* jni.cc (_Jv_JNI_FindClass): Initialize class.\n+\t* testsuite/libjava.jni/findclass2.jar: New file.\n+\t* testsuite/libjava.jni/findclass2.h: New file.\n+\t* testsuite/libjava.jni/findclass2.java: New file\n+\t* testsuite/libjava.jni/findclass2.c: New file.\n+\t* testsuite/libjava.jni/findclass2.out: New file.\n+\n 2007-01-18  Tom Tromey  <tromey@redhat.com>\n \n \t* configure: Rebuilt."}, {"sha": "9dc9780f9a06efebbec59a400d2ce06f4615a4f8", "filename": "libjava/jni.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -1,6 +1,6 @@\n // jni.cc - JNI implementation, including the jump table.\n \n-/* Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006\n+/* Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007\n    Free Software Foundation\n \n    This file is part of libgcj.\n@@ -552,6 +552,7 @@ _Jv_JNI_FindClass (JNIEnv *env, const char *name)\n \t}\n \n       r = loader->loadClass (n);\n+      _Jv_InitClass (r);\n     }\n   catch (jthrowable t)\n     {"}, {"sha": "634aea710541f937d1aee12de3bdd1d10d8cd780", "filename": "libjava/testsuite/libjava.jni/findclass2.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.c?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -0,0 +1,9 @@\n+#include <stdlib.h>\n+\n+#include <findclass2.h>\n+\n+JNIEXPORT void JNICALL\n+Java_findclass2_searchClass (JNIEnv *env, jclass klass)\n+{\n+  (*env)->FindClass (env, \"findclass2$inner\");\n+}"}, {"sha": "65d074644f487cba8ee37cd4ae87106fce984c2f", "filename": "libjava/testsuite/libjava.jni/findclass2.h", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.h?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -0,0 +1,19 @@\n+/* DO NOT EDIT THIS FILE - it is machine generated */\n+\n+#include <jni.h>\n+\n+#ifndef __findclass2__\n+#define __findclass2__\n+\n+#ifdef __cplusplus\n+extern \"C\"\n+{\n+#endif\n+\n+JNIEXPORT void JNICALL Java_findclass2_searchClass (JNIEnv *env, jclass);\n+\n+#ifdef __cplusplus\n+}\n+#endif\n+\n+#endif /* __findclass2__ */"}, {"sha": "05f867dce0c022ae3425f3ba1a89c19cd7452dbc", "filename": "libjava/testsuite/libjava.jni/findclass2.jar", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.jar", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.jar", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.jar?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a"}, {"sha": "f7c0996e19a8ee2e42297577d7259163338cc872", "filename": "libjava/testsuite/libjava.jni/findclass2.java", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.java?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -0,0 +1,24 @@\n+// Test that FindClass initializes the class.\n+\n+public class findclass2\n+{\n+  public static class inner\n+  {\n+    static\n+    {\n+      System.out.println(\"hello\");\n+    }\n+  }\n+\n+  public static native void searchClass();\n+\n+  static\n+  {\n+    System.loadLibrary(\"findclass2\");\n+  }\n+\n+  public static void main(String[] args)\n+  {\n+    searchClass();\n+  }\n+}"}, {"sha": "ce013625030ba8dba906f756967f9e9ca394464a", "filename": "libjava/testsuite/libjava.jni/findclass2.out", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.out", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7896beb27a4556485b50e82e6196f2b8f0e1146a/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.out", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2Ffindclass2.out?ref=7896beb27a4556485b50e82e6196f2b8f0e1146a", "patch": "@@ -0,0 +1 @@\n+hello"}]}