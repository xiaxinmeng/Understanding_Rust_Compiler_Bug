{"sha": "f8e9fc30f7f06af84310ecb982ee8600f62610fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhlOWZjMzBmN2YwNmFmODQzMTBlY2I5ODJlZTg2MDBmNjI2MTBmYg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-06T11:03:44Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-06T11:03:44Z"}, "message": "[multiple changes]\n\n2011-09-06  Ed Schonberg  <schonberg@adacore.com>\n\n\t* lib-xref.adb (OK_To_Set_Referenced): A reference to a formal\n\tin a parameter association must not set the Referenced flag on\n\tthe formal.\n\t* prj-nmsc.adb (Check_File_Naming_Schemes): Remove useless formal\n\n2011-09-06  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* gnat_rm.texi: Add a section on attribute Descriptor_Size\n\nFrom-SVN: r178587", "tree": {"sha": "2d2f91b3a0cd4aed6e03e988e2bd29d877adfeb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d2f91b3a0cd4aed6e03e988e2bd29d877adfeb2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8e9fc30f7f06af84310ecb982ee8600f62610fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e9fc30f7f06af84310ecb982ee8600f62610fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8e9fc30f7f06af84310ecb982ee8600f62610fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e9fc30f7f06af84310ecb982ee8600f62610fb/comments", "author": null, "committer": null, "parents": [{"sha": "e8e38f35ff31141dd99c9fe036c226c096a30739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8e38f35ff31141dd99c9fe036c226c096a30739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8e38f35ff31141dd99c9fe036c226c096a30739"}], "stats": {"total": 55, "additions": 49, "deletions": 6}, "files": [{"sha": "da553f82c2ab8d9d3eb74516f4a666b30b1e318b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=f8e9fc30f7f06af84310ecb982ee8600f62610fb", "patch": "@@ -1,3 +1,14 @@\n+2011-09-06  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* lib-xref.adb (OK_To_Set_Referenced): A reference to a formal\n+\tin a parameter association must not set the Referenced flag on\n+\tthe formal.\n+\t* prj-nmsc.adb (Check_File_Naming_Schemes): Remove useless formal\n+\n+2011-09-06  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* gnat_rm.texi: Add a section on attribute Descriptor_Size\n+\n 2011-09-06  Arnaud Charlet  <charlet@adacore.com>\n \n \t* gcc-interface/Makefile.in (common-tools, gnatmake-re,"}, {"sha": "7680876f2edb9b4a85168b43f78ff90d9a6d27f5", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=f8e9fc30f7f06af84310ecb982ee8600f62610fb", "patch": "@@ -236,6 +236,7 @@ Implementation Defined Attributes\n * Compiler_Version::\n * Code_Address::\n * Default_Bit_Order::\n+* Descriptor_Size::\n * Elaborated::\n * Elab_Body::\n * Elab_Spec::\n@@ -5718,6 +5719,7 @@ consideration, you should minimize the use of these attributes.\n * Compiler_Version::\n * Code_Address::\n * Default_Bit_Order::\n+* Descriptor_Size::\n * Elaborated::\n * Elab_Body::\n * Elab_Spec::\n@@ -5932,6 +5934,29 @@ as a @code{Pos} value (0 for @code{High_Order_First}, 1 for\n @code{Low_Order_First}).  This is used to construct the definition of\n @code{Default_Bit_Order} in package @code{System}.\n \n+@node Descriptor_Size\n+@unnumberedsec Descriptor_Size\n+@cindex Descriptor\n+@cindex Dope vector\n+@findex Descriptor_Size\n+@noindent\n+Attribute @code{Descriptor_Size} returns the size in bits of the descriptor\n+allocated for an unconstrained array type. An array descriptor contains bounds\n+information and is located immediately before the first element of the array.\n+The value of attribute @code{Descriptor_Size} is of type universal integer.\n+\n+@smallexample @c ada\n+type Unconstr_Array is array (Positive range <>) of Boolean;\n+Put_Line (\"Descriptor size = \" & Unconstr_Array'Descriptor_Size'Img);\n+@end smallexample\n+\n+@noindent\n+The attribute takes into account any additional padding due to type alignment.\n+In the example above, the descriptor contains two values of type\n+@code{Positive} representing the low and high bound. Since @code{Positive} has\n+a size of 31 bits and an alignment of 4, the descriptor size is @code{2 *\n+Positive'Size + 2} or 64 bits.\n+\n @node Elaborated\n @unnumberedsec Elaborated\n @findex Elaborated"}, {"sha": "f16e8abbdc4c851fbf846406167945ce19afd1e8", "filename": "gcc/ada/lib-xref.adb", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Flib-xref.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Flib-xref.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref.adb?ref=f8e9fc30f7f06af84310ecb982ee8600f62610fb", "patch": "@@ -512,6 +512,16 @@ package body Lib.Xref is\n                      return False;\n                   end if;\n                end if;\n+\n+            --  A reference to a formal in a named parameter association does\n+            --  not make the formal referenced. Formals that are unused in the\n+            --  subprogram body are properly flagged as such, even if calls\n+            --  elsewhere use named notation.\n+\n+            elsif Nkind (P) = N_Parameter_Association\n+              and then N = Selector_Name (P)\n+            then\n+               return False;\n             end if;\n          end if;\n "}, {"sha": "8c202a3954676705b244785a3cde34bf819891f4", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8e9fc30f7f06af84310ecb982ee8600f62610fb/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=f8e9fc30f7f06af84310ecb982ee8600f62610fb", "patch": "@@ -376,8 +376,7 @@ package body Prj.Nmsc is\n    --  otherwise only those currently set in the Source_Names hash table.\n \n    procedure Check_File_Naming_Schemes\n-     (In_Tree               : Project_Tree_Ref;\n-      Project               : Project_Processing_Data;\n+     (Project               : Project_Processing_Data;\n       File_Name             : File_Name_Type;\n       Alternate_Languages   : out Language_List;\n       Language              : out Language_Ptr;\n@@ -6619,8 +6618,7 @@ package body Prj.Nmsc is\n    -------------------------------\n \n    procedure Check_File_Naming_Schemes\n-     (In_Tree               : Project_Tree_Ref;\n-      Project               : Project_Processing_Data;\n+     (Project               : Project_Processing_Data;\n       File_Name             : File_Name_Type;\n       Alternate_Languages   : out Language_List;\n       Language              : out Language_Ptr;\n@@ -6923,8 +6921,7 @@ package body Prj.Nmsc is\n \n       if Check_Name then\n          Check_File_Naming_Schemes\n-           (In_Tree               => Data.Tree,\n-            Project               => Project,\n+           (Project               => Project,\n             File_Name             => File_Name,\n             Alternate_Languages   => Alternate_Languages,\n             Language              => Language,"}]}