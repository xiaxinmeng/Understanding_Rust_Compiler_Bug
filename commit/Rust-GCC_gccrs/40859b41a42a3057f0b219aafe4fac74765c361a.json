{"sha": "40859b41a42a3057f0b219aafe4fac74765c361a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDA4NTliNDFhNDJhMzA1N2YwYjIxOWFhZmU0ZmFjNzQ3NjVjMzYxYQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-05-19T21:41:03Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-19T21:41:03Z"}, "message": "Makefile.in (deduced.h): Only run scan-types if $(SYSTEM_HEADER_DIR) exists.\n\n        * Makefile.in (deduced.h): Only run scan-types if $(SYSTEM_HEADER_DIR)\n        exists.\n        * cross-make (SYSTEM_HEADER_DIR): Now $(tooldir)/sys-include.\nBring over from Cygnus sources.\n\nFrom-SVN: r19898", "tree": {"sha": "3345732fd7f1f80495eb4b2173c5e61b69cd9c9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3345732fd7f1f80495eb4b2173c5e61b69cd9c9c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40859b41a42a3057f0b219aafe4fac74765c361a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40859b41a42a3057f0b219aafe4fac74765c361a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40859b41a42a3057f0b219aafe4fac74765c361a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40859b41a42a3057f0b219aafe4fac74765c361a/comments", "author": null, "committer": null, "parents": [{"sha": "b8887b63230e09737eba0330a02c3149463aec04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8887b63230e09737eba0330a02c3149463aec04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8887b63230e09737eba0330a02c3149463aec04"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "aa8aa7f2fffa0d2e81c3ad9d3bbe1a710a617638", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=40859b41a42a3057f0b219aafe4fac74765c361a", "patch": "@@ -1,3 +1,9 @@\n+Tue May 19 22:31:20 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* Makefile.in (deduced.h): Only run scan-types if $(SYSTEM_HEADER_DIR)\n+\texists.\n+\t* cross-make (SYSTEM_HEADER_DIR): Now $(tooldir)/sys-include.\n+\n Tue May 19 19:08:52 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* config/mips/mips.c (double_memory_operand): Accept any MEM during"}, {"sha": "5f92f4de2483540c6d9eae7cd97cd677642195ff", "filename": "gcc/Makefile.in", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=40859b41a42a3057f0b219aafe4fac74765c361a", "patch": "@@ -2026,10 +2026,15 @@ stmp-fixinc: $(FIXINCLUDES) gsyslimits.h\n # Files related to the fixproto script.\n \n deduced.h: $(GCC_PASSES) $(srcdir)/scan-types.sh stmp-int-hdrs\n-\tCC=\"$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(ALL_CPPFLAGS) -I. -I$(srcdir) -Iinclude -I${SYSTEM_HEADER_DIR}\"; \\\n+\tif [ -d $(SYSTEM_HEADER_DIR) ]; \\\n+\tthen \\\n+\t  CC=\"$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(ALL_CPPFLAGS) -I. -I$(srcdir) -Iinclude -I${SYSTEM_HEADER_DIR}\"; \\\n \t  export CC; \\\n-\t  $(SHELL) $(srcdir)/scan-types.sh \"$(srcdir)\" >tmp-deduced.h\n-\tmv tmp-deduced.h deduced.h\n+\t  $(SHELL) $(srcdir)/scan-types.sh \"$(srcdir)\" >tmp-deduced.h; \\\n+\t  mv tmp-deduced.h deduced.h; \\\n+\telse \\\n+\t  touch deduced.h; \\\n+\tfi\n \n gen-protos: gen-protos.o scan.o cppalloc.o $(HOST_LIBDEPS)\n \t${HOST_CC} $(HOST_CFLAGS) $(HOST_LDFLAGS) -o $@ \\"}, {"sha": "810f5051a632404342626e58952ab07a3e03f75f", "filename": "gcc/cross-make", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2Fcross-make", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40859b41a42a3057f0b219aafe4fac74765c361a/gcc%2Fcross-make", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcross-make?ref=40859b41a42a3057f0b219aafe4fac74765c361a", "patch": "@@ -12,7 +12,8 @@ RANLIB = $(RANLIB_FOR_TARGET)\n RANLIB_TEST = $(RANLIB_TEST_FOR_TARGET)\n \n # Dir to search for system headers.  Normally /usr/include.\n-SYSTEM_HEADER_DIR = $(tooldir)/include\n+# Use CROSS_INCLUDE_DIR not TOOL_INCLUDE_DIR for other vendor's headers.\n+SYSTEM_HEADER_DIR = $(tooldir)/sys-include\n \n # Don't try to compile the things we can't compile.\n ALL = all.cross"}]}