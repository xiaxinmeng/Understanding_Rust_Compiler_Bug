{"sha": "68038e6a2d102b71e0ca6d977b43e21583998b2c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgwMzhlNmEyZDEwMmI3MWUwY2E2ZDk3N2I0M2UyMTU4Mzk5OGIyYw==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2014-05-19T15:50:40Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2014-05-19T15:50:40Z"}, "message": "* lib/target-supports.exp\n\t(check_effective_target_vect_sizes_32B_16B): Return false if\n\t128-bit AVX vectors preferred.\n\nFrom-SVN: r210617", "tree": {"sha": "38ee3fdf9c063006645c493e48e45e46a25501f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38ee3fdf9c063006645c493e48e45e46a25501f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68038e6a2d102b71e0ca6d977b43e21583998b2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68038e6a2d102b71e0ca6d977b43e21583998b2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68038e6a2d102b71e0ca6d977b43e21583998b2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68038e6a2d102b71e0ca6d977b43e21583998b2c/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "128ded1e8671e9067fdf34037d0a25b28f848823", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/128ded1e8671e9067fdf34037d0a25b28f848823", "html_url": "https://github.com/Rust-GCC/gccrs/commit/128ded1e8671e9067fdf34037d0a25b28f848823"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "2142b677bb1bb132ecdd5f5ed1d178088ade7232", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68038e6a2d102b71e0ca6d977b43e21583998b2c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68038e6a2d102b71e0ca6d977b43e21583998b2c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=68038e6a2d102b71e0ca6d977b43e21583998b2c", "patch": "@@ -1,3 +1,9 @@\n+2014-05-19  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* lib/target-supports.exp\n+\t(check_effective_target_vect_sizes_32B_16B): Return false if\n+\t128-bit AVX vectors preferred.\n+\n 2014-05-19  Mike Stump  <mikestump@comcast.net>\n \n \t* lib/target-supports.exp (check_effective_target_avx): Early out"}, {"sha": "7304f5275ee5bf92050e698bcaadb890e1bb5c6a", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68038e6a2d102b71e0ca6d977b43e21583998b2c/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68038e6a2d102b71e0ca6d977b43e21583998b2c/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=68038e6a2d102b71e0ca6d977b43e21583998b2c", "patch": "@@ -5285,7 +5285,11 @@ proc check_avx_available { } {\n # Return true if 32- and 16-bytes vectors are available.\n \n proc check_effective_target_vect_sizes_32B_16B { } {\n-  return [check_avx_available];\n+  if { [check_avx_available] && ![check_prefer_avx128] } {\n+     return 1;\n+  } else {\n+    return 0;\n+  }\n }\n \n # Return true if 128-bits vectors are preferred even if 256-bits vectors"}]}