{"sha": "4c122404fabbd651dab4c6a1217257ff5fe03ae9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGMxMjI0MDRmYWJiZDY1MWRhYjRjNmExMjE3MjU3ZmY1ZmUwM2FlOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2019-09-01T12:55:58Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-09-01T12:55:58Z"}, "message": "target-supports.exp (check_effective_target_pthread): Add #include <pthread.h> directive to the test.\n\n\t* lib/target-supports.exp (check_effective_target_pthread): Add\n\t#include <pthread.h> directive to the test.\n\nFrom-SVN: r275271", "tree": {"sha": "1be1d65da44049c4bc08745f87b834aa84a23051", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1be1d65da44049c4bc08745f87b834aa84a23051"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c122404fabbd651dab4c6a1217257ff5fe03ae9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c122404fabbd651dab4c6a1217257ff5fe03ae9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c122404fabbd651dab4c6a1217257ff5fe03ae9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c122404fabbd651dab4c6a1217257ff5fe03ae9/comments", "author": null, "committer": null, "parents": [{"sha": "2dae2123477fb0c04b62b313a60ba83254ba27e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dae2123477fb0c04b62b313a60ba83254ba27e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dae2123477fb0c04b62b313a60ba83254ba27e1"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "a84a8b983aec76856159f2b23d2ba7bc4db9ef9a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c122404fabbd651dab4c6a1217257ff5fe03ae9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c122404fabbd651dab4c6a1217257ff5fe03ae9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4c122404fabbd651dab4c6a1217257ff5fe03ae9", "patch": "@@ -2,6 +2,9 @@\n \n \t* gcc.c-torture/execute/20190901-1.c: New test.\n \n+\t* lib/target-supports.exp (check_effective_target_pthread): Add\n+\t#include <pthread.h> directive to the test.\n+\n 2019-09-01  Paul Thomas  <pault@gcc.gnu.org>\n \n \t* gfortran.dg/select_rank_1.f90 : New test."}, {"sha": "739321abe3eb7e293827b81701cdaa57dfcb030b", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c122404fabbd651dab4c6a1217257ff5fe03ae9/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c122404fabbd651dab4c6a1217257ff5fe03ae9/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=4c122404fabbd651dab4c6a1217257ff5fe03ae9", "patch": "@@ -1052,11 +1052,10 @@ proc check_effective_target_swapcontext {} {\n     }]\n }\n \n-# Return 1 if compilation with -pthread is error-free for trivial\n-# code, 0 otherwise.\n-\n+# Return 1 if the target supports POSIX threads, 0 otherwise.\n proc check_effective_target_pthread {} {\n     return [check_no_compiler_messages pthread object {\n+\t#include <pthread.h>\n \tvoid foo (void) { }\n     } \"-pthread\"]\n }"}]}