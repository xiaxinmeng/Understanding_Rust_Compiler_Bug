{"sha": "bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmViYjNhOThjZTBiYzUyZTc5N2U3MGUxNmNiMTc5NmRmZDQwOTk4Yw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2007-05-22T06:55:27Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2007-05-22T06:55:27Z"}, "message": "linux.h (ASM_SPEC): Add asm_pcrel_spec.\n\n\t* config/m68k/linux.h (ASM_SPEC): Add asm_pcrel_spec.\n\t* config/m68k/m68k-none.h (ASM_SPEC): Don't override here.\n\t* config/m68k/m68k.h (ASM_PCREL_SPEC): New.\n\t(ASM_SPEC): Add asm_pcrel_spec.\n\t(EXTRA_SPECS): Add asm_pcrel_spec.\n\nFrom-SVN: r124937", "tree": {"sha": "7e58274f27fe1fab5b2663b402df612ae0e375d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e58274f27fe1fab5b2663b402df612ae0e375d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/comments", "author": null, "committer": null, "parents": [{"sha": "c076e75f302976d9c9befa9951242b70f0604ace", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c076e75f302976d9c9befa9951242b70f0604ace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c076e75f302976d9c9befa9951242b70f0604ace"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "d390d085da5f3e84ba78b474cdd809758972d10a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "patch": "@@ -1,3 +1,11 @@\n+2007-05-22  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* config/m68k/linux.h (ASM_SPEC): Add asm_pcrel_spec.\n+\t* config/m68k/m68k-none.h (ASM_SPEC): Don't override here.\n+\t* config/m68k/m68k.h (ASM_PCREL_SPEC): New.\n+\t(ASM_SPEC): Add asm_pcrel_spec.\n+\t(EXTRA_SPECS): Add asm_pcrel_spec.\n+\n 2007-05-21  David Daney  <ddaney@avtrex.com>\n \n \t* doc/install.texi (Building a cross compiler): Add requirements"}, {"sha": "533899688b36cd602df026f8f6a5ca403028eaae", "filename": "gcc/config/m68k/linux.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Flinux.h?ref=bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "patch": "@@ -25,8 +25,8 @@ Boston, MA 02110-1301, USA.  */\n \n /* Add %(asm_cpu_spec) to the svr4.h definition of ASM_SPEC.  */\n #undef ASM_SPEC\n-#define ASM_SPEC \\\n-  \"%(asm_cpu_spec) %{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*}\"\n+#define ASM_SPEC \"%(asm_cpu_spec) %(asm_pcrel_spec) \\\n+  %{v:-V} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Yd,*}\"\n \n /* for 68k machines this only needs to be TRUE for the 68000 */\n "}, {"sha": "c0d6421f1152210c9d20b84af525603979ea1ed8", "filename": "gcc/config/m68k/m68k-none.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Fm68k-none.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Fm68k-none.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k-none.h?ref=bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "patch": "@@ -18,6 +18,3 @@ along with GCC; see the file COPYING.  If not, write to\n the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n Boston, MA 02110-1301, USA.  */\n \n-#undef ASM_SPEC\n-#define ASM_SPEC \"%(asm_cpu_spec) %{fPIC:--pcrel} %{fpic:--pcrel} \\\n- %{msep-data:--pcrel} %{mid-shared-library:--pcrel}\""}, {"sha": "6591380b2d22af572a034c9c94f34844682882f5", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bebb3a98ce0bc52e797e70e16cb1796dfd40998c/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=bebb3a98ce0bc52e797e70e16cb1796dfd40998c", "patch": "@@ -48,11 +48,15 @@ Boston, MA 02110-1301, USA.  */\n %{m68060}%{mcpu32}%{m68332}%{m5200}%{m5206e}%{m528x}%{m5307}%{m5407}%{mcfv4e}\\\n %{mcpu=*:-mcpu=%*}%{march=*:-march=%*}\\\n \"\n+#define ASM_PCREL_SPEC \"%{fPIC|fpic|mpcrel:--pcrel} \\\n+ %{msep-data|mid-shared-library:--pcrel} \\\n+\"\n \n-#define ASM_SPEC \"%(asm_cpu_spec)\"\n+#define ASM_SPEC \"%(asm_cpu_spec) %(asm_pcrel_spec)\"\n \n #define EXTRA_SPECS\t\t\t\t\t\\\n   { \"asm_cpu_spec\", ASM_CPU_SPEC },\t\t\t\\\n+  { \"asm_pcrel_spec\", ASM_PCREL_SPEC },\t\t\t\\\n   SUBTARGET_EXTRA_SPECS\n \n #define SUBTARGET_EXTRA_SPECS"}]}