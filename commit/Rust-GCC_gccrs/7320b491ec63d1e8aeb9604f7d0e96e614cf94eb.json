{"sha": "7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzMyMGI0OTFlYzYzZDFlOGFlYjk2MDRmN2QwZTk2ZTYxNGNmOTRlYg==", "commit": {"author": {"name": "Earl Chew", "email": "earl_chew@agilent.com", "date": "2005-02-26T23:34:36Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2005-02-26T23:34:36Z"}, "message": "stl_tree.h (_Rb_tree<>::_M_insert): Don't leak memory if _M_key_compare throws.\n\n2005-02-26  Earl Chew  <earl_chew@agilent.com>\n\t    Christopher Jefferson  <chris@bubblescope.net>\n\n\t* include/bits/stl_tree.h (_Rb_tree<>::_M_insert): Don't leak\n\tmemory if _M_key_compare throws.\n\nCo-Authored-By: Chris Jefferson <chris@bubblescope.net>\n\nFrom-SVN: r95597", "tree": {"sha": "a029e8eef16bca52f634a1bfbf2a9fe856d53c91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a029e8eef16bca52f634a1bfbf2a9fe856d53c91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb/comments", "author": null, "committer": null, "parents": [{"sha": "5395b47b3c40aa64fc6f388af69aa2c9e0cb9f0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5395b47b3c40aa64fc6f388af69aa2c9e0cb9f0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5395b47b3c40aa64fc6f388af69aa2c9e0cb9f0b"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "441bb58ad3eab8b75f28af1f276ff651ac8e30c0", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "patch": "@@ -1,3 +1,9 @@\n+2005-02-26  Earl Chew  <earl_chew@agilent.com>\n+\t    Christopher Jefferson  <chris@bubblescope.net>\n+\n+\t* include/bits/stl_tree.h (_Rb_tree<>::_M_insert): Don't leak\n+\tmemory if _M_key_compare throws.\n+\n 2005-02-25  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1/type_traits: Add the trivial is_union and is_class;"}, {"sha": "c51456360753dbc4ba16fefa59d7d6fc21129496", "filename": "libstdc++-v3/include/bits/stl_tree.h", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7320b491ec63d1e8aeb9604f7d0e96e614cf94eb/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h?ref=7320b491ec63d1e8aeb9604f7d0e96e614cf94eb", "patch": "@@ -786,12 +786,11 @@ namespace std\n     _Rb_tree<_Key, _Val, _KeyOfValue, _Compare, _Alloc>::\n     _M_insert(_Base_ptr __x, _Base_ptr __p, const _Val& __v)\n     {\n-      _Link_type __z = _M_create_node(__v);\n-      bool __insert_left;\n+      bool __insert_left = (__x != 0 || __p == _M_end()\n+\t\t\t    || _M_impl._M_key_compare(_KeyOfValue()(__v), \n+\t\t\t\t\t\t      _S_key(__p)));\n \n-      __insert_left = (__x != 0 || __p == _M_end()\n-\t\t       || _M_impl._M_key_compare(_KeyOfValue()(__v), \n-\t\t\t\t\t\t _S_key(__p)));\n+      _Link_type __z = _M_create_node(__v);\n \n       _Rb_tree_insert_and_rebalance(__insert_left, __z, __p,  \n \t\t\t\t    this->_M_impl._M_header);"}]}