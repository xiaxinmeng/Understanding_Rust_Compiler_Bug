{"sha": "dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQxZGI1ZWMzMTI2MGM2YmQ0NWRiYjAxYmE5ZjgzMGIwZThmNzMzNA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "1999-11-27T14:47:23Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1999-11-27T14:47:23Z"}, "message": "* expr.c (store_constructor): Don't clobber TARGET if CLEARED.\n\nFrom-SVN: r30676", "tree": {"sha": "b8ae72b86b8ae408235956a931501621c226ccf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8ae72b86b8ae408235956a931501621c226ccf1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334/comments", "author": null, "committer": null, "parents": [{"sha": "ac51c4e37c5fdf86f0545deff7c6c95314099e97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac51c4e37c5fdf86f0545deff7c6c95314099e97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac51c4e37c5fdf86f0545deff7c6c95314099e97"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "e378c87d73d2f93bfceed06bd6d6b56c712a12eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "patch": "@@ -1,5 +1,7 @@\n Sat Nov 27 08:38:26 1999  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n+\t* expr.c (store_constructor): Don't clobber TARGET if CLEARED.\n+\n \t* combine.c (try_combine): Add code to try to merge a set of a\n \ttwo-word pseudo to a constant with a setting of one of those words\n \tto a constant."}, {"sha": "5fc55e5257241f5e8a3ed2b635b004a90d65517f", "filename": "gcc/expr.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=dd1db5ec31260c6bd45dbb01ba9f830b0e8f7334", "patch": "@@ -4088,8 +4088,9 @@ store_constructor (exp, target, align, cleared)\n       register tree elt;\n \n       /* Inform later passes that the whole union value is dead.  */\n-      if (TREE_CODE (type) == UNION_TYPE\n-\t  || TREE_CODE (type) == QUAL_UNION_TYPE)\n+      if ((TREE_CODE (type) == UNION_TYPE\n+\t   || TREE_CODE (type) == QUAL_UNION_TYPE)\n+\t  && ! cleared)\n \t{\n \t  emit_insn (gen_rtx_CLOBBER (VOIDmode, target));\n \n@@ -4125,7 +4126,7 @@ store_constructor (exp, target, align, cleared)\n \n \t  cleared = 1;\n \t}\n-      else\n+      else if (! cleared)\n \t/* Inform later passes that the old value is dead.  */\n \temit_insn (gen_rtx_CLOBBER (VOIDmode, target));\n "}]}