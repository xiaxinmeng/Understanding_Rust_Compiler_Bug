{"sha": "694032374b54ca07cc100bce67a29973fd483a82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk0MDMyMzc0YjU0Y2EwN2NjMTAwYmNlNjdhMjk5NzNmZDQ4M2E4Mg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-01-15T21:49:31Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-01-15T21:49:31Z"}, "message": "sourcebuild.texi (libgcj Tests): Don't mention jacks.\n\ngcc\n\t* doc/sourcebuild.texi (libgcj Tests): Don't mention jacks.\n\t* doc/install.texi (Testing): Don't mention jacks.\n\t(Configuration): Document --enable-java-maintainer-mode.  Move\n\t--with-java-home to libgcj-specific section.  Document\n\t--with-ecj-jar.\n\t(Prerequisites): Mention --enable-java-maintainer-mode, ecj1.\ncontrib\n\t* download_ecj: New file.\n\nFrom-SVN: r120802", "tree": {"sha": "8bb89a795eca0616854e43ec1a53c2a18f228220", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bb89a795eca0616854e43ec1a53c2a18f228220"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/694032374b54ca07cc100bce67a29973fd483a82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694032374b54ca07cc100bce67a29973fd483a82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/694032374b54ca07cc100bce67a29973fd483a82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694032374b54ca07cc100bce67a29973fd483a82/comments", "author": null, "committer": null, "parents": [{"sha": "52bdc5310c2cdcc68ea7a98445860853d63e51b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52bdc5310c2cdcc68ea7a98445860853d63e51b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52bdc5310c2cdcc68ea7a98445860853d63e51b9"}], "stats": {"total": 108, "additions": 86, "deletions": 22}, "files": [{"sha": "a097c762ce3b069e28c89af14cbb75f8bbabd317", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694032374b54ca07cc100bce67a29973fd483a82/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694032374b54ca07cc100bce67a29973fd483a82/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=694032374b54ca07cc100bce67a29973fd483a82", "patch": "@@ -1,3 +1,7 @@\n+2007-01-15  Tom Tromey  <tromey@redhat.com>\n+\n+\t* download_ecj: New file.\n+\n 2006-09-27  Matthew Sachs  <msachs@apple.com>\n \n \t* compareSumTests3: POD syntax fix."}, {"sha": "5043f9407899c8dc80f1ddbbd067dcc4118bcb97", "filename": "contrib/download_ecj", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694032374b54ca07cc100bce67a29973fd483a82/contrib%2Fdownload_ecj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694032374b54ca07cc100bce67a29973fd483a82/contrib%2Fdownload_ecj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fdownload_ecj?ref=694032374b54ca07cc100bce67a29973fd483a82", "patch": "@@ -0,0 +1,25 @@\n+#! /bin/sh\n+\n+#\n+# Download the ecj jar file needed by gcj.\n+# Run this from the top level of the gcc source tree and the libjava\n+# build will do the right thing.\n+#\n+# (C) 2006 Free Software Foundation\n+#\n+# This script is Free Software, and it can be copied, distributed and\n+# modified as defined in the GNU General Public License.  A copy of\n+# its license can be downloaded from http://www.gnu.org/copyleft/gpl.html\n+#\n+\n+ftp -n sourceware.org << EOF\n+verbose\n+hash\n+user ftp ''\n+cd /pub/java\n+binary\n+get ecj-latest.jar\n+EOF\n+\n+mv ecj-latest.jar ecj.jar\n+"}, {"sha": "30bc446b07c4ec7dee600d6f6c83e33962d0a1b2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694032374b54ca07cc100bce67a29973fd483a82/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694032374b54ca07cc100bce67a29973fd483a82/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=694032374b54ca07cc100bce67a29973fd483a82", "patch": "@@ -1,3 +1,12 @@\n+2007-01-15  Tom Tromey  <tromey@redhat.com>\n+\n+\t* doc/sourcebuild.texi (libgcj Tests): Don't mention jacks.\n+\t* doc/install.texi (Testing): Don't mention jacks.\n+\t(Configuration): Document --enable-java-maintainer-mode.  Move\n+\t--with-java-home to libgcj-specific section.  Document\n+\t--with-ecj-jar.\n+\t(Prerequisites): Mention --enable-java-maintainer-mode, ecj1.\n+\n 2007-01-15  Jan Hubicka  <jh@suse.cz>\n \n \t* tree-ssa-dce.c (DCE_TODOs): New."}, {"sha": "599fb65f67c527bd7b00741d0d1b102ab32745b9", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 46, "deletions": 14, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694032374b54ca07cc100bce67a29973fd483a82/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694032374b54ca07cc100bce67a29973fd483a82/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=694032374b54ca07cc100bce67a29973fd483a82", "patch": "@@ -43,7 +43,7 @@\n @end ifset\n \n @c Copyright (C) 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-@c 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.\n+@c 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.\n @c *** Converted to texinfo by Dean Wakerley, dean@wakerley.com\n \n @c IMPORTANT: whenever you modify this file, run `install.texi2html' to\n@@ -431,6 +431,17 @@ Useful when submitting patches for the GCC source code.\n Necessary when applying patches, created with @command{diff}, to one's\n own sources.\n \n+@item ecj1\n+@itemx gjavah\n+\n+If you wish to modify @file{.java} files in libjava, you will need to\n+configure with @option{--enable-java-maintainer-mode}, and you will need\n+to have executables named @command{ecj1} and @command{gjavah} in your path.\n+The @command{ecj1} executable should run the Eclipse Java compiler via\n+the GCC-specific entry point.  You can download a suitable jar from\n+@uref{ftp://sourceware.org/pub/java/}, or by running the script\n+@command{contrib/download_ecj}.\n+\n @end table\n \n @html\n@@ -1101,14 +1112,6 @@ particularly useful if you intend to use several versions of GCC in\n parallel.  This is currently supported by @samp{libgfortran},\n @samp{libjava}, @samp{libmudflap}, @samp{libstdc++}, and @samp{libobjc}.\n \n-@item --with-java-home=@var{dirname}\n-This @samp{libjava} option overrides the default value of the\n-@samp{java.home} system property.  It is also used to set\n-@samp{sun.boot.class.path} to @file{@var{dirname}/lib/rt.jar}.  By\n-default @samp{java.home} is set to @file{@var{prefix}} and\n-@samp{sun.boot.class.path} to\n-@file{@var{datadir}/java/libgcj-@var{version}.jar}.\n-\n @item --enable-languages=@var{lang1},@var{lang2},@dots{}\n Specify that only a particular subset of compilers and\n their runtime libraries should be built.  For a list of valid values for\n@@ -1420,6 +1423,40 @@ The following options apply to building @samp{libgcj}.\n @subsubheading General Options\n \n @table @code\n+@item --enable-java-maintainer-mode\n+By default the @samp{libjava} build will not attempt to compile the\n+@file{.java} source files to @file{.class}.  Instead, it will use the\n+@file{.class} files from the source tree.  If you use this option you\n+must have executables named @command{ecj1} and @command{gjavah} in your path\n+for use by the build.  You must use this option if you intend to\n+modify any @file{.java} files in @file{libjava}.\n+\n+@item --with-java-home=@var{dirname}\n+This @samp{libjava} option overrides the default value of the\n+@samp{java.home} system property.  It is also used to set\n+@samp{sun.boot.class.path} to @file{@var{dirname}/lib/rt.jar}.  By\n+default @samp{java.home} is set to @file{@var{prefix}} and\n+@samp{sun.boot.class.path} to\n+@file{@var{datadir}/java/libgcj-@var{version}.jar}.\n+\n+@item --with-ecj-jar=@var{filename}\n+This option can be used to specify the location of an external jar\n+file containing the Eclipse Java compiler.  A specially modified\n+version of this compiler is used by @command{gcj} to parse\n+@file{.java} source files.  If this option is given, the\n+@samp{libjava} build will create and install an @file{ecj1} executable\n+which uses this jar file at runtime.\n+\n+If this option is not given, but an @file{ecj.jar} file is found in\n+the topmost source tree at configure time, then the @samp{libgcj}\n+build will create and install @file{ecj1}, and will also install the\n+discovered @file{ecj.jar} into a suitable place in the install tree.\n+\n+If @file{ecj1} is not installed, then the user will have to supply one\n+on his path in order for @command{gcj} to properly parse @file{.java}\n+source files.  A suitable jar is available from\n+@uref{ftp://sourceware.org/pub/java/}.\n+\n @item --disable-getenv-properties\n Don't set system properties from @env{GCJ_PROPERTIES}.\n \n@@ -1984,11 +2021,6 @@ testsuite at @file{libjava/testsuite/libjava.mauve/mauve}, or by\n specifying the location of that tree when invoking @samp{make}, as in\n @samp{make MAUVEDIR=~/mauve check}.\n \n-@uref{http://sources.redhat.com/mauve/jacks.html,,Jacks}\n-is a free testsuite that tests Java compiler front ends.  This suite\n-can be run as part of libgcj testing by placing the Jacks tree within\n-the libjava testsuite at @file{libjava/testsuite/libjava.jacks/jacks}.\n-\n @section How to interpret test results\n \n The result of running the testsuite are various @file{*.sum} and @file{*.log}"}, {"sha": "7498047f6ce5cf6865849cfe9ffe8bac9a7bc7ac", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694032374b54ca07cc100bce67a29973fd483a82/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694032374b54ca07cc100bce67a29973fd483a82/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=694032374b54ca07cc100bce67a29973fd483a82", "patch": "@@ -1,4 +1,4 @@\n-@c Copyright (C) 2002, 2003, 2004, 2005 Free Software Foundation, Inc.\n+@c Copyright (C) 2002, 2003, 2004, 2005, 2007 Free Software Foundation, Inc.\n @c This is part of the GCC manual.\n @c For copying conditions, see the file gcc.texi.\n \n@@ -1288,13 +1288,7 @@ failures for a test run against the list of expected failures in\n Update this file when adding new failing tests to Mauve, or when fixing\n bugs in libgcj that had caused Mauve test failures.\n \n-The @uref{http://sources.redhat.com/mauve/jacks.html,,\n-Jacks} project provides a testsuite for Java compilers that can be used\n-to test changes that affect the GCJ front end.  This testsuite is run as\n-part of Java testing by placing the Jacks tree within the libjava\n-testsuite sources at @file{libjava/testsuite/libjava.jacks/jacks}.\n-\n-We encourage developers to contribute test cases to Mauve and Jacks.\n+We encourage developers to contribute test cases to Mauve.\n \n @node gcov Testing\n @subsection Support for testing @command{gcov}"}]}