{"sha": "236930f5d7fcb017967b9c8686247b908955d253", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM2OTMwZjVkN2ZjYjAxNzk2N2I5Yzg2ODYyNDdiOTA4OTU1ZDI1Mw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2002-02-08T17:56:12Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2002-02-08T17:56:12Z"}, "message": "gcc_release: Substitute dates in snapshot-README and snapshot-index.html files rather than...\n\n\t* gcc_release: Substitute dates in snapshot-README and\n\tsnapshot-index.html files rather than directly using the old files\n\ton the FTP site.  Set QMAILHOST.\n\nFrom-SVN: r49619", "tree": {"sha": "756139dee7f88c704534b2c2df97807f40c9a6d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/756139dee7f88c704534b2c2df97807f40c9a6d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/236930f5d7fcb017967b9c8686247b908955d253", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/236930f5d7fcb017967b9c8686247b908955d253", "html_url": "https://github.com/Rust-GCC/gccrs/commit/236930f5d7fcb017967b9c8686247b908955d253", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/236930f5d7fcb017967b9c8686247b908955d253/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "694d53ee5f54de768cdc8e40e72977a22d997f8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694d53ee5f54de768cdc8e40e72977a22d997f8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/694d53ee5f54de768cdc8e40e72977a22d997f8a"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "12673404ae9e2ab3321e7a3be768c6c5b6b446c4", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/236930f5d7fcb017967b9c8686247b908955d253/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/236930f5d7fcb017967b9c8686247b908955d253/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=236930f5d7fcb017967b9c8686247b908955d253", "patch": "@@ -1,3 +1,9 @@\n+2002-02-08  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* gcc_release: Substitute dates in snapshot-README and\n+\tsnapshot-index.html files rather than directly using the old files\n+\ton the FTP site.  Set QMAILHOST.\n+\n 2002-02-08  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \n \t* snapshot-index.html: Improve markup."}, {"sha": "5c1b03976876daae536a1c78621a735bcec0d83e", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/236930f5d7fcb017967b9c8686247b908955d253/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/236930f5d7fcb017967b9c8686247b908955d253/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=236930f5d7fcb017967b9c8686247b908955d253", "patch": "@@ -521,7 +521,6 @@ else\n   # was.\n   if [ $LOCAL -ne 0 ]; then\n     LAST_DATE=`cat ~/.snapshot_date`\n-    PREV_LAST_DATE=`cat ~/.prev_snapshot_date`\n     LAST_LONG_DATE=`date --date=$LAST_DATE +%Y-%m-%d`\n     LAST_DIR=~ftp/pub/gcc/snapshots/${LAST_LONG_DATE}\n     OLD_TARS=${LAST_DIR}/gcc-${LAST_DATE}.tar.gz\n@@ -588,30 +587,29 @@ if [ $MODE_UPLOAD -ne 0 ]; then\n   if [ $SNAPSHOT -ne 0 ] && [ $LOCAL -ne 0 ]; then\n     # Update links on the FTP server.\n     TEXT_DATE=`date --date=$DATE +%B\\ %d,\\ %Y`\n-    LAST_TEXT_DATE=`date --date=$LAST_DATE +%B\\ %d,\\ %Y`\n     cd ~ftp/pub/gcc/snapshots\n-    sed -e \"s%$LAST_DATE%$DATE%g\" -e \"s%$PREV_LAST_DATE%$LAST_DATE%g\" \\\n-      -e \"s%$LAST_LONG_DATE%$LONG_DATE%g\" \\\n-      -e \"s%$LAST_TEXT_DATE%$TEXT_DATE%g\" < README > $$\n+    sed -e \"s%@DATE@%$DATE%g\" -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n+      -e \"s%@LONG_DATE@%$LONG_DATE%g\" \\\n+      -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-README > $$\n     mv $$ README\n-    sed -e \"s%$LAST_DATE%$DATE%g\" -e \"s%$PREV_LAST_DATE%$LAST_DATE%g\" \\\n-      -e \"s%$LAST_LONG_DATE%$LONG_DATE%g\" \\\n-      -e \"s%$LAST_TEXT_DATE%$TEXT_DATE%g\" < index.html > $$\n+    sed -e \"s%@DATE@%$DATE%g\" -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n+      -e \"s%@LONG_DATE@%$LONG_DATE%g\" \\\n+      -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" < ~/scripts/snapshot-index.html > $$\n     mv $$ index.html\n \n     touch LATEST-IS-$LONG_DATE\n     rm -f LATEST-IS-$LAST_LONG_DATE\n \n     # Update snapshot date file.\n     changedir ~\n-    mv .snapshot_date .prev_snapshot_date\n     echo $DATE >.snapshot_date\n \n     # Update gcc_latest_snapshot tag.\n     ${CVS} rtag -d gcc_latest_snapshot gcc\n     ${CVS} rtag -rgcc_ss_${DATE} gcc_latest_snapshot gcc\n \n     # Announce the snapshot.\n+    export QMAILHOST=gcc.gnu.org\n     mail -s \"gcc-ss-$DATE is now available\" gcc@gcc.gnu.org < ~ftp/pub/gcc/snapshots/README\n \n     # Remove working directory"}]}