{"sha": "eb5af262af2fa9034ec4fb08b0434ce01458bffb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWI1YWYyNjJhZjJmYTkwMzRlYzRmYjA4YjA0MzRjZTAxNDU4YmZmYg==", "commit": {"author": {"name": "Georg-Johann Lay", "email": "avr@gjlay.de", "date": "2012-10-17T12:53:22Z"}, "committer": {"name": "Georg-Johann Lay", "email": "gjl@gcc.gnu.org", "date": "2012-10-17T12:53:22Z"}, "message": "avr-arch.h (avr_extra_arch_macro): Remove prototype.\n\n\t* config/avr/avr-arch.h (avr_extra_arch_macro): Remove prototype.\n\t* config/avr/avr.c (avr_extra_arch_macro): Remove variable.\n\t(avr_option_override): Remove setting of avr_extra_arch_macro.\n\t* config/avr/avr-c.c (avr_extra_arch_macro): Replace with\n\tavr_current_device->macro.\n\nFrom-SVN: r192532", "tree": {"sha": "96feccbe6f5ab295f4b01881b276cb8bef445d7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96feccbe6f5ab295f4b01881b276cb8bef445d7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eb5af262af2fa9034ec4fb08b0434ce01458bffb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb5af262af2fa9034ec4fb08b0434ce01458bffb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb5af262af2fa9034ec4fb08b0434ce01458bffb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb5af262af2fa9034ec4fb08b0434ce01458bffb/comments", "author": null, "committer": {"login": "sprintersb", "id": 8905355, "node_id": "MDQ6VXNlcjg5MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8905355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprintersb", "html_url": "https://github.com/sprintersb", "followers_url": "https://api.github.com/users/sprintersb/followers", "following_url": "https://api.github.com/users/sprintersb/following{/other_user}", "gists_url": "https://api.github.com/users/sprintersb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprintersb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprintersb/subscriptions", "organizations_url": "https://api.github.com/users/sprintersb/orgs", "repos_url": "https://api.github.com/users/sprintersb/repos", "events_url": "https://api.github.com/users/sprintersb/events{/privacy}", "received_events_url": "https://api.github.com/users/sprintersb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3855380a5f5375c21664983af433a5f1b67e738d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3855380a5f5375c21664983af433a5f1b67e738d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3855380a5f5375c21664983af433a5f1b67e738d"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "84a1667bb94ff52e9f25261772c7cf82b39a9c89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eb5af262af2fa9034ec4fb08b0434ce01458bffb", "patch": "@@ -1,3 +1,11 @@\n+2012-10-17  Georg-Johann Lay  <avr@gjlay.de>\n+\n+\t* config/avr/avr-arch.h (avr_extra_arch_macro): Remove prototype.\n+\t* config/avr/avr.c (avr_extra_arch_macro): Remove variable.\n+\t(avr_option_override): Remove setting of avr_extra_arch_macro.\n+\t* config/avr/avr-c.c (avr_extra_arch_macro): Replace with\n+\tavr_current_device->macro.\n+\n 2012-10-17  Richard Biener  <rguenther@suse.de>\n \n \t* tree-streamer-out.c (write_ts_decl_common_tree_pointers):"}, {"sha": "a2a1a51c271412ab311670606460aedac6c7f60e", "filename": "gcc/config/avr/avr-arch.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr-arch.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr-arch.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr-arch.h?ref=eb5af262af2fa9034ec4fb08b0434ce01458bffb", "patch": "@@ -149,7 +149,6 @@ struct arch_info_s\n \n /* Preprocessor macros to define depending on MCU type.  */\n \n-extern const char *avr_extra_arch_macro;\n extern const struct base_arch_s *avr_current_arch;\n extern const struct mcu_type_s *avr_current_device;\n extern const struct mcu_type_s avr_mcu_types[];"}, {"sha": "6e7f8c7119f8b721e83b776fa0bdf912322e987a", "filename": "gcc/config/avr/avr-c.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr-c.c?ref=eb5af262af2fa9034ec4fb08b0434ce01458bffb", "patch": "@@ -88,8 +88,8 @@ avr_cpu_cpp_builtins (struct cpp_reader *pfile)\n \n   if (avr_current_arch->macro)\n     cpp_define_formatted (pfile, \"__AVR_ARCH__=%s\", avr_current_arch->macro);\n-  if (avr_extra_arch_macro)\n-    cpp_define (pfile, avr_extra_arch_macro);\n+  if (avr_current_device->macro)\n+    cpp_define (pfile, avr_current_device->macro);\n   if (AVR_HAVE_RAMPD)    cpp_define (pfile, \"__AVR_HAVE_RAMPD__\");\n   if (AVR_HAVE_RAMPX)    cpp_define (pfile, \"__AVR_HAVE_RAMPX__\");\n   if (AVR_HAVE_RAMPY)    cpp_define (pfile, \"__AVR_HAVE_RAMPY__\");"}, {"sha": "9ae52663668e1eecc96c4b6a6190883579ac04c0", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb5af262af2fa9034ec4fb08b0434ce01458bffb/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=eb5af262af2fa9034ec4fb08b0434ce01458bffb", "patch": "@@ -195,9 +195,6 @@ rtx rampz_rtx;\n static GTY(()) rtx xstring_empty;\n static GTY(()) rtx xstring_e;\n \n-/* Preprocessor macros to define depending on MCU type.  */\n-const char *avr_extra_arch_macro;\n-\n /* Current architecture.  */\n const struct base_arch_s *avr_current_arch;\n \n@@ -310,7 +307,6 @@ avr_option_override (void)\n \n   avr_current_device = &avr_mcu_types[avr_mcu_index];\n   avr_current_arch = &avr_arch_types[avr_current_device->arch];\n-  avr_extra_arch_macro = avr_current_device->macro;\n   \n   /* RAM addresses of some SFRs common to all Devices in respective Arch. */\n "}]}