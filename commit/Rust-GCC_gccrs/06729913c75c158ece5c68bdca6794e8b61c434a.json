{"sha": "06729913c75c158ece5c68bdca6794e8b61c434a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDY3Mjk5MTNjNzVjMTU4ZWNlNWM2OGJkY2E2Nzk0ZThiNjFjNDM0YQ==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2001-04-11T05:25:00Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2001-04-11T05:25:00Z"}, "message": "ltcf-cxx.sh: Support creation of C++ shared libraries on recent versions of FreeBSD (release...\n\n2001-04-10  Loren J. Rittle  <ljrittle@acm.org>\n\n\t* ltcf-cxx.sh: Support creation of C++ shared libraries on\n\trecent versions of FreeBSD (release 3 or later).\n\t* ltconfig: On FreeBSD, -lc must not be provided when building\n\ta shared library or else the standard -pthread gcc option is\n\trendered worthless to later users of the built library.\n\nFrom-SVN: r41237", "tree": {"sha": "7e166152603047eabd9e2f4e7b50afbc37176914", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e166152603047eabd9e2f4e7b50afbc37176914"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06729913c75c158ece5c68bdca6794e8b61c434a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06729913c75c158ece5c68bdca6794e8b61c434a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06729913c75c158ece5c68bdca6794e8b61c434a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06729913c75c158ece5c68bdca6794e8b61c434a/comments", "author": null, "committer": null, "parents": [{"sha": "585f3871e9dde596b2c453d535a8b8a4583bfb3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/585f3871e9dde596b2c453d535a8b8a4583bfb3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/585f3871e9dde596b2c453d535a8b8a4583bfb3e"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "df4e6ca6af5e6af652aa9489dbc1370def87bcc5", "filename": "ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06729913c75c158ece5c68bdca6794e8b61c434a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06729913c75c158ece5c68bdca6794e8b61c434a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=06729913c75c158ece5c68bdca6794e8b61c434a", "patch": "@@ -1,3 +1,11 @@\n+2001-04-10  Loren J. Rittle  <ljrittle@acm.org>\n+\n+\t* ltcf-cxx.sh: Support creation of C++ shared libraries on\n+\trecent versions of FreeBSD (release 3 or later).\n+\t* ltconfig: On FreeBSD, -lc must not be provided when building\n+\ta shared library or else the standard -pthread gcc option is\n+\trendered worthless to later users of the built library.\n+\n 2001-04-06  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* MAINTAINERS: Add self and RTH as C front end maintainers."}, {"sha": "a5f089be04f9b610040e0be29b520d50486d62dd", "filename": "ltcf-cxx.sh", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06729913c75c158ece5c68bdca6794e8b61c434a/ltcf-cxx.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06729913c75c158ece5c68bdca6794e8b61c434a/ltcf-cxx.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltcf-cxx.sh?ref=06729913c75c158ece5c68bdca6794e8b61c434a", "patch": "@@ -233,11 +233,15 @@ case $host_os in\n         ;;\n     esac\n     ;;\n-  freebsd*)\n-    # FreeBSD uses GNU C++ and GNU ld\n-    # FIXME: insert proper C++ library support\n+  freebsd[12]*)\n+    # C++ shared libraries reported to be fairly broken before switch to ELF\n     ld_shlibs=no\n     ;;\n+  freebsd*)\n+    # FreeBSD 3 and later use GNU C++ and GNU ld with standard ELF\n+    # conventions\n+    ld_shlibs=yes\n+    ;;\n   hpux*)\n     hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n     hardcode_libdir_separator=:"}, {"sha": "423e47bae0c469ae719b4625175a1bf4ba589f07", "filename": "ltconfig", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06729913c75c158ece5c68bdca6794e8b61c434a/ltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06729913c75c158ece5c68bdca6794e8b61c434a/ltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltconfig?ref=06729913c75c158ece5c68bdca6794e8b61c434a", "patch": "@@ -1108,6 +1108,7 @@ freebsd*)\n     freebsd-elf*)\n       library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'\n       need_version=no\n+      need_lc=no\n       need_lib_prefix=no\n       ;;\n     freebsd-*)"}]}