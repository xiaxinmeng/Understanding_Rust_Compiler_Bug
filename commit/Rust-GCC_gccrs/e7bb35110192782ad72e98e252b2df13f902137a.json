{"sha": "e7bb35110192782ad72e98e252b2df13f902137a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdiYjM1MTEwMTkyNzgyYWQ3MmU5OGUyNTJiMmRmMTNmOTAyMTM3YQ==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@suse.de", "date": "2003-06-16T22:09:03Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2003-06-16T22:09:03Z"}, "message": "abi_check.cc: Create summary report.\n\n\n2003-06-16  Andreas Jaeger  <aj@suse.de>\n\n        * testsuite/abi_check.cc: Create summary report.\n\nFrom-SVN: r68044", "tree": {"sha": "441ce8c06e67ef3e260df2af20631bb57bb12430", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/441ce8c06e67ef3e260df2af20631bb57bb12430"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7bb35110192782ad72e98e252b2df13f902137a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7bb35110192782ad72e98e252b2df13f902137a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7bb35110192782ad72e98e252b2df13f902137a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7bb35110192782ad72e98e252b2df13f902137a/comments", "author": {"login": "ajaeger", "id": 16867, "node_id": "MDQ6VXNlcjE2ODY3", "avatar_url": "https://avatars.githubusercontent.com/u/16867?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajaeger", "html_url": "https://github.com/ajaeger", "followers_url": "https://api.github.com/users/ajaeger/followers", "following_url": "https://api.github.com/users/ajaeger/following{/other_user}", "gists_url": "https://api.github.com/users/ajaeger/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajaeger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajaeger/subscriptions", "organizations_url": "https://api.github.com/users/ajaeger/orgs", "repos_url": "https://api.github.com/users/ajaeger/repos", "events_url": "https://api.github.com/users/ajaeger/events{/privacy}", "received_events_url": "https://api.github.com/users/ajaeger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fad205ffba97267072c69704481aac372dd62f16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fad205ffba97267072c69704481aac372dd62f16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fad205ffba97267072c69704481aac372dd62f16"}], "stats": {"total": 53, "additions": 36, "deletions": 17}, "files": [{"sha": "edc2e5b18772a54421bc4b5476c2847752ea0b75", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bb35110192782ad72e98e252b2df13f902137a/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bb35110192782ad72e98e252b2df13f902137a/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=e7bb35110192782ad72e98e252b2df13f902137a", "patch": "@@ -1,3 +1,7 @@\n+2003-06-16  Andreas Jaeger  <aj@suse.de>\n+        \n+        * testsuite/abi_check.cc: Create summary report.\n+ \n 2003-06-16  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* testsuite/27_io/basic_filebuf/sgetn/char/1-in.cc: Fix"}, {"sha": "c2768258f09ab4e05f295358284cd1f1fa3c4dab", "filename": "libstdc++-v3/testsuite/abi_check.cc", "status": "modified", "additions": 32, "deletions": 17, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bb35110192782ad72e98e252b2df13f902137a/libstdc%2B%2B-v3%2Ftestsuite%2Fabi_check.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bb35110192782ad72e98e252b2df13f902137a/libstdc%2B%2B-v3%2Ftestsuite%2Fabi_check.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fabi_check.cc?ref=e7bb35110192782ad72e98e252b2df13f902137a", "patch": "@@ -412,25 +412,40 @@ main(int argc, char** argv)\n     }\n \n   // Report results.\n-  cout << added_names.size() << \" added symbols \" << endl;\n-  for (size_t j = 0; j < added_names.size() ; ++j)\n-    report_symbol_info(test_symbols[added_names[j]], j + 1);\n-\n-  cout << missing_names.size() << \" missing symbols \" << endl;\n-  for (size_t j = 0; j < missing_names.size() ; ++j)\n-    report_symbol_info(baseline_symbols[missing_names[j]], j + 1);\n-\n-  cout << incompatible.size() << \" incompatible symbols \" << endl;\n-  for (size_t j = 0; j < incompatible.size() ; ++j)\n+  if (added_names.size())\n     {\n-      // First, report name.\n-      const symbol_info& base = incompatible[j].first;\n-      const symbol_info& test = incompatible[j].second;\n-      report_symbol_info(test, j + 1, false);\n-\n-      // Second, report reason or reasons incompatible.\n-      check_compatible(base, test, true);\n+      cout << added_names.size() << \" added symbols \" << endl;\n+      for (size_t j = 0; j < added_names.size() ; ++j)\n+\treport_symbol_info(test_symbols[added_names[j]], j + 1);\n+    }\n+  \n+  if (missing_names.size())\n+    {\n+      cout << missing_names.size() << \" missing symbols \" << endl;\n+      for (size_t j = 0; j < missing_names.size() ; ++j)\n+\treport_symbol_info(baseline_symbols[missing_names[j]], j + 1);\n     }\n+  \n+  if (incompatible.size ())\n+    {\n+      cout << incompatible.size() << \" incompatible symbols \" << endl;\n+      for (size_t j = 0; j < incompatible.size() ; ++j)\n+\t{\n+\t  // First, report name.\n+\t  const symbol_info& base = incompatible[j].first;\n+\t  const symbol_info& test = incompatible[j].second;\n+\t  report_symbol_info(test, j + 1, false);\n+\t  \n+\t  // Second, report reason or reasons incompatible.\n+\t  check_compatible(base, test, true);\n+\t}\n+    }\n+  \n+  cout << \"\\n\\t\\t=== libstdc++-v3 check-abi Summary for \" << baseline_file \n+       << \" ===\" << endl << endl;\n+  cout << \"# of added symbols:\\t\\t \" << added_names.size() << endl;\n+  cout << \"# of missing symbols:\\t\\t \" << missing_names.size() << endl;\n+  cout << \"# of incompatible symbols:\\t \" << incompatible.size() << endl;\n \n   return 0;\n }"}]}