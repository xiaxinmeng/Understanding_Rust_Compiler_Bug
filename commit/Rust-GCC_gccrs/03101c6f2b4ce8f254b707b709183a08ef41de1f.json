{"sha": "03101c6f2b4ce8f254b707b709183a08ef41de1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDMxMDFjNmYyYjRjZThmMjU0YjcwN2I3MDkxODNhMDhlZjQxZGUxZg==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-11-29T17:56:19Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-11-29T17:56:19Z"}, "message": "cfgrtl.c (cfg_layout_redirect_edge_and_branch): Speed up by simplifying edge manipulation.\n\n\t* cfgrtl.c (cfg_layout_redirect_edge_and_branch): Speed up by\n\tsimplifying edge manipulation.\n\nFrom-SVN: r91474", "tree": {"sha": "13792550dcad7fea8744ca68de3f87d9b9e8af6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/13792550dcad7fea8744ca68de3f87d9b9e8af6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03101c6f2b4ce8f254b707b709183a08ef41de1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03101c6f2b4ce8f254b707b709183a08ef41de1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03101c6f2b4ce8f254b707b709183a08ef41de1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03101c6f2b4ce8f254b707b709183a08ef41de1f/comments", "author": null, "committer": null, "parents": [{"sha": "62112e35c6368eeb4fe5192d9240958e4c477287", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62112e35c6368eeb4fe5192d9240958e4c477287", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62112e35c6368eeb4fe5192d9240958e4c477287"}], "stats": {"total": 24, "additions": 5, "deletions": 19}, "files": [{"sha": "4f6a58d0f043993573d9dd62c549b7a6246eace4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03101c6f2b4ce8f254b707b709183a08ef41de1f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03101c6f2b4ce8f254b707b709183a08ef41de1f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03101c6f2b4ce8f254b707b709183a08ef41de1f", "patch": "@@ -6,6 +6,9 @@\n \t* tree-ssa-loop-manip.c: Likewise.\n \t* tree-ssa.c: Likewise.\n \n+\t* cfgrtl.c (cfg_layout_redirect_edge_and_branch): Speed up by\n+\tsimplifying edge manipulation.\n+\n 2004-11-29  Alan Modra  <amodra@bigpond.net.au>\n \n \t* varasm.c (default_elf_select_section_1): Only pass DECL_P decl"}, {"sha": "818c5b826e8ff9c6120cf2186bdcdbca4ed081c5", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 2, "deletions": 19, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03101c6f2b4ce8f254b707b709183a08ef41de1f/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03101c6f2b4ce8f254b707b709183a08ef41de1f/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=03101c6f2b4ce8f254b707b709183a08ef41de1f", "patch": "@@ -2587,25 +2587,8 @@ cfg_layout_redirect_edge_and_branch (edge e, basic_block dest)\n          of conditional jump, remove it.  */\n       if (EDGE_COUNT (src->succs) == 2)\n \t{\n-\t  bool found = false;\n-\t  unsigned ix = 0;\n-\t  edge tmp, s;\n-\t  edge_iterator ei;\n-\n-\t  FOR_EACH_EDGE (tmp, ei, src->succs)\n-\t    if (e == tmp)\n-\t      {\n-\t\tfound = true;\n-\t\tix = ei.index;\n-\t\tbreak;\n-\t      }\n-\n-\t  gcc_assert (found);\n-\n-\t  if (EDGE_COUNT (src->succs) > (ix + 1))\n-\t    s = EDGE_SUCC (src, ix + 1);\n-\t  else\n-\t    s = EDGE_SUCC (src, 0);\n+\t  /* Find the edge that is different from E.  */\n+\t  edge s = EDGE_SUCC (src, EDGE_SUCC (src, 0) == e);\n \n \t  if (s->dest == dest\n \t      && any_condjump_p (BB_END (src))"}]}