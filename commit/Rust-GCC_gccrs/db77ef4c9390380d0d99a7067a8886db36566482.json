{"sha": "db77ef4c9390380d0d99a7067a8886db36566482", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI3N2VmNGM5MzkwMzgwZDBkOTlhNzA2N2E4ODg2ZGIzNjU2NjQ4Mg==", "commit": {"author": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@users.sourceforge.net", "date": "2003-02-17T15:42:58Z"}, "committer": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@gcc.gnu.org", "date": "2003-02-17T15:42:58Z"}, "message": "re PR c++/9457 (ICE in tsubst_copy, at cp/pt.c:7124)\n\n\tPR c++/9457\n\t* pt.c (tsubst_copy_and_build) [CONSTRUCTOR]: Substitute\n\tCONSTRUCTOR_ELTS only once.\n\n\t* g++.dg/template/init1.C: New test.\n\nFrom-SVN: r63002", "tree": {"sha": "73dba666cb0507d4543200b08950e8ea5197d87c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73dba666cb0507d4543200b08950e8ea5197d87c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db77ef4c9390380d0d99a7067a8886db36566482", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db77ef4c9390380d0d99a7067a8886db36566482", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db77ef4c9390380d0d99a7067a8886db36566482", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db77ef4c9390380d0d99a7067a8886db36566482/comments", "author": null, "committer": null, "parents": [{"sha": "e6ddcef66a2a8ee4bc82cda39d96c78ae488f37a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6ddcef66a2a8ee4bc82cda39d96c78ae488f37a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6ddcef66a2a8ee4bc82cda39d96c78ae488f37a"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "7278ec4e6fbb4d1ba1b8e451d620a68e65db69f7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=db77ef4c9390380d0d99a7067a8886db36566482", "patch": "@@ -1,3 +1,9 @@\n+2003-02-17  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/9457\n+\t* pt.c (tsubst_copy_and_build) [CONSTRUCTOR]: Substitute\n+\tCONSTRUCTOR_ELTS only once.\n+\n 2003-02-16  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/9459"}, {"sha": "959bd54e93d032c9348fab289433dd218de5e4c9", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=db77ef4c9390380d0d99a7067a8886db36566482", "patch": "@@ -8290,8 +8290,7 @@ tsubst_copy_and_build (t, args, complain, in_decl)\n \t   initializers as they are identifier nodes which will be\n \t   looked up by digest_init.  */\n \tpurpose_p = !(type && IS_AGGR_TYPE (type));\n-\tfor (elts = tsubst_copy (CONSTRUCTOR_ELTS (t), args, complain,\n-\t\t\t\t in_decl);\n+\tfor (elts = CONSTRUCTOR_ELTS (t);\n \t     elts;\n \t     elts = TREE_CHAIN (elts))\n \t  {"}, {"sha": "bf170897512f4faed6919fe2eb45c920b9180bc2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=db77ef4c9390380d0d99a7067a8886db36566482", "patch": "@@ -1,3 +1,8 @@\n+2003-02-17  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/9457\n+\t* g++.dg/template/init1.C: New test.\n+\n Sun Feb 16 23:08:19 CET 2003  Jan HUbicka  <jh@suse.cz>\n \n \t* gcc.dg/c90-const-expr-3.c (DZERO): New static variable"}, {"sha": "fdbff8d3cb19633ac0bb29b8421486e9b51a7dc3", "filename": "gcc/testsuite/g++.dg/template/init1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finit1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db77ef4c9390380d0d99a7067a8886db36566482/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finit1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Finit1.C?ref=db77ef4c9390380d0d99a7067a8886db36566482", "patch": "@@ -0,0 +1,10 @@\n+// { dg-do compile }\n+\n+// Origin: Wolfgang Bangerth <bangerth@ticam.utexas.edu>\n+\n+// PR c++/9457: ICE tsubst'ing initializers in templates.\n+\n+template <typename> void foo (int count) {\n+  int i = {count};\n+}\n+template void foo<int> (int);"}]}