{"sha": "18efbe51766315fbe4d23dd710f22eab09ee826a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThlZmJlNTE3NjYzMTVmYmU0ZDIzZGQ3MTBmMjJlYWIwOWVlODI2YQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2007-07-25T15:32:33Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2007-07-25T15:32:33Z"}, "message": "re PR libstdc++/31836 (FAIL: 27_io/basic_istream/extractors_arithmetic/char/12.cc execution test)\n\n\tPR libstdc++/31836\n\t* config/locale/generic/c_locale.cc (__convert_to_v): Don't use\n\tstrtold if _GLIBCXX_HAVE_BROKEN_STRTOLD is defined.\n\t* config/os/hpux/os_defines.h (_GLIBCXX_HAVE_BROKEN_STRTOLD): Define\n\tif __hppa__ is defined.\n\nFrom-SVN: r126914", "tree": {"sha": "0b584d9d2eb61d779a579fcb783e98c6d4921dfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b584d9d2eb61d779a579fcb783e98c6d4921dfb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18efbe51766315fbe4d23dd710f22eab09ee826a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18efbe51766315fbe4d23dd710f22eab09ee826a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18efbe51766315fbe4d23dd710f22eab09ee826a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18efbe51766315fbe4d23dd710f22eab09ee826a/comments", "author": null, "committer": null, "parents": [{"sha": "edb3b6224a89999ad344de7ca6919e2e7a2de4c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edb3b6224a89999ad344de7ca6919e2e7a2de4c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edb3b6224a89999ad344de7ca6919e2e7a2de4c2"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "99d61538bc32d1452a695f719094733f67e33149", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=18efbe51766315fbe4d23dd710f22eab09ee826a", "patch": "@@ -1,3 +1,11 @@\n+2007-07-25  John Davind Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR libstdc++/31836\n+\t* config/locale/generic/c_locale.cc (__convert_to_v): Don't use\n+\tstrtold if _GLIBCXX_HAVE_BROKEN_STRTOLD is defined.\n+\t* config/os/hpux/os_defines.h (_GLIBCXX_HAVE_BROKEN_STRTOLD): Define\n+\tif __hppa__ is defined.\n+\n 2007-07-16  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \tPR bootstrap/3456"}, {"sha": "80cef2d8818bca532df4662195ca6de1d3911c9f", "filename": "libstdc++-v3/config/locale/generic/c_locale.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgeneric%2Fc_locale.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgeneric%2Fc_locale.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgeneric%2Fc_locale.cc?ref=18efbe51766315fbe4d23dd710f22eab09ee826a", "patch": "@@ -149,7 +149,7 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n       errno = 0;\n #endif\n \n-#if defined(_GLIBCXX_HAVE_STRTOLD)\n+#if defined(_GLIBCXX_HAVE_STRTOLD) && !defined(_GLIBCXX_HAVE_BROKEN_STRTOLD)\n       char* __sanity;\n       long double __ld = strtold(__s, &__sanity);\n "}, {"sha": "6118a2671dda57a5cfbb1cee3646b78e30e7cf1e", "filename": "libstdc++-v3/config/os/hpux/os_defines.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18efbe51766315fbe4d23dd710f22eab09ee826a/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h?ref=18efbe51766315fbe4d23dd710f22eab09ee826a", "patch": "@@ -97,4 +97,12 @@ typedef long int __padding_type;\n    are weak; gthread relies on such unsatisfied references being resolved\n    to null pointers when weak symbol support is on.  */\n #define _GLIBCXX_GTHREAD_USE_WEAK 0\n+\n+// The strtold function is obsolete and not C99 conformant on PA HP-UX.\n+// It returns plus or minus _LDBL_MAX instead of plus or minus HUGE_VALL\n+// if the correct value would cause overflow.  It doesn't handle \"inf\",\n+// \"infinity\" and \"nan\".  It is not thread safe. \n+#if defined (__hppa__)\n+#define _GLIBCXX_HAVE_BROKEN_STRTOLD 1\n+#endif\n #endif"}]}