{"sha": "42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJmYjkwZDdhNWFiYTJhMjY2N2FlMmZjYWZiYmZiMDA5ZWNhYWJhMg==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2016-01-23T20:28:17Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2016-01-23T20:28:17Z"}, "message": "Fix clobber removal in parloops\n\n2016-01-23  Tom de Vries  <tom@codesourcery.com>\n\n\tPR tree-optimization/69426\n\t* tree-parloops.c (eliminate_local_variables_stmt): Handle vdef of\n\tremoved clobber.\n\n\t* gcc.dg/autopar/pr69426.c: New test.\n\nFrom-SVN: r232767", "tree": {"sha": "bec680c4c53c4351e28e8af67e65118b6db72c5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bec680c4c53c4351e28e8af67e65118b6db72c5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/comments", "author": null, "committer": null, "parents": [{"sha": "69da78025ec5e1408576eda81cb97d2e53cdace8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69da78025ec5e1408576eda81cb97d2e53cdace8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69da78025ec5e1408576eda81cb97d2e53cdace8"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "d45c45f54267e22a1c97fbeb63b8cc29aed662ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "patch": "@@ -1,3 +1,9 @@\n+2016-01-23  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR tree-optimization/69426\n+\t* tree-parloops.c (eliminate_local_variables_stmt): Handle vdef of\n+\tremoved clobber.\n+\n 2016-01-23  Jakub Jelinek  <jakub@redhat.com>\n \n \t* tree-ssanames.c (release_free_names_and_compact_live_names): Replace"}, {"sha": "0967d44f79848417a81507409d5d06fd0f1b12a5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "patch": "@@ -1,3 +1,8 @@\n+2016-01-23  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR tree-optimization/69426\n+\t* gcc.dg/autopar/pr69426.c: New test.\n+\n 2016-01-23  Martin Sebor  <msebor@redhat.com>\n \n \tPR c++/58109"}, {"sha": "e91421cefedc3c034739453afea2cf0e42e64c91", "filename": "gcc/testsuite/gcc.dg/autopar/pr69426.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fpr69426.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fpr69426.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fautopar%2Fpr69426.c?ref=42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "patch": "@@ -0,0 +1,19 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -ftree-parallelize-loops=2\" } */\n+\n+int iq;\n+\n+void\n+mr(void)\n+{\n+  unsigned int i8;\n+\n+  for (i8 = 0; i8 != 1; i8 += 3) {\n+    void *f0[] = { f0 };\n+    int hv;\n+\n+    for (; hv < 1; ++hv)\n+      iq = 0;\n+  }\n+  ++iq;\n+}"}, {"sha": "52dfc254e62ab498bd415185ef2a7571eb42911d", "filename": "gcc/tree-parloops.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftree-parloops.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2/gcc%2Ftree-parloops.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-parloops.c?ref=42fb90d7a5aba2a2667ae2fcafbbfb009ecaaba2", "patch": "@@ -725,6 +725,7 @@ eliminate_local_variables_stmt (edge entry, gimple_stmt_iterator *gsi,\n     }\n   else if (gimple_clobber_p (stmt))\n     {\n+      unlink_stmt_vdef (stmt);\n       stmt = gimple_build_nop ();\n       gsi_replace (gsi, stmt, false);\n       dta.changed = true;"}]}