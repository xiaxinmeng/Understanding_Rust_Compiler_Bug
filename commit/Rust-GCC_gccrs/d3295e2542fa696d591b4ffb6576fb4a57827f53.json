{"sha": "d3295e2542fa696d591b4ffb6576fb4a57827f53", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMyOTVlMjU0MmZhNjk2ZDU5MWI0ZmZiNjU3NmZiNGE1NzgyN2Y1Mw==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2001-11-30T00:17:49Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2001-11-30T00:17:49Z"}, "message": "cris.c (cris_notice_update_cc): Check first destination also against overlap with cc_status.value2 and second...\n\n\t* config/cris/cris.c (cris_notice_update_cc): Check first\n\tdestination also against overlap with cc_status.value2 and second\n\tdestination against overlap with cc_status.value1.  For overlaps,\n\tclear overlapped value, don't just CC_STATUS_INIT.\n\n\t* config/cris/cris.h (EXTRA_CONSTRAINT_T): Fix spacing and FIXME.\n\t(LINK_SPEC): Remove whitespace at end of line.\n\nFrom-SVN: r47463", "tree": {"sha": "c6a2e44319bb55ffb73fb989348151b9e345aec2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6a2e44319bb55ffb73fb989348151b9e345aec2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3295e2542fa696d591b4ffb6576fb4a57827f53", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3295e2542fa696d591b4ffb6576fb4a57827f53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3295e2542fa696d591b4ffb6576fb4a57827f53", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3295e2542fa696d591b4ffb6576fb4a57827f53/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c65fd410e91c87f9dcc07a6486478dd5c0508aee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c65fd410e91c87f9dcc07a6486478dd5c0508aee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c65fd410e91c87f9dcc07a6486478dd5c0508aee"}], "stats": {"total": 60, "additions": 42, "deletions": 18}, "files": [{"sha": "5e0e316eeb2db45cbbe75e1112cc5ddcb8ae95d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3295e2542fa696d591b4ffb6576fb4a57827f53", "patch": "@@ -1,3 +1,13 @@\n+2001-11-30  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* config/cris/cris.c (cris_notice_update_cc): Check first\n+\tdestination also against overlap with cc_status.value2 and second\n+\tdestination against overlap with cc_status.value1.  For overlaps,\n+\tclear overlapped value, don't just CC_STATUS_INIT.\n+\n+\t* config/cris/cris.h (EXTRA_CONSTRAINT_T): Fix spacing and FIXME.\n+\t(LINK_SPEC): Remove whitespace at end of line.\n+\t\n 2001-11-29  Jakub Jelinek  <jakub@redhat.com>\n \n \t* c-lex.c (init_c_lex): Canonicalize \"-\" filename to \"\"."}, {"sha": "e5b634ffe925c22bc540d4f71e674c223319ebea", "filename": "gcc/config/cris/cris.c", "status": "modified", "additions": 28, "deletions": 11, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2Fconfig%2Fcris%2Fcris.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2Fconfig%2Fcris%2Fcris.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.c?ref=d3295e2542fa696d591b4ffb6576fb4a57827f53", "patch": "@@ -1953,17 +1953,34 @@ cris_notice_update_cc (exp, insn)\n \t\t{\n \t\t  /* For \"move.S rz,[rx=ry+o]\" and \"clear.S [rx=ry+o]\",\n \t\t     say flags are not changed, except for overlap.  */\n-\t\t  if ((cc_status.value1\n-\t\t       && cris_reg_overlap_mentioned_p (XEXP\n-\t\t\t\t\t\t\t(XVECEXP\n-\t\t\t\t\t\t\t (exp, 0, 0), 0),\n-\t\t\t\t\t\t\tcc_status.value1))\n-\t\t      || (cc_status.value2\n-\t\t\t  && cris_reg_overlap_mentioned_p (XEXP\n-\t\t\t\t\t\t\t   (XVECEXP\n-\t\t\t\t\t\t\t    (exp, 0, 1), 0),\n-\t\t\t\t\t\t\t   cc_status.value2)))\n-\t\t    CC_STATUS_INIT;\n+\t\t  if (cc_status.value1\n+\t\t      && cris_reg_overlap_mentioned_p (XEXP\n+\t\t\t\t\t\t       (XVECEXP\n+\t\t\t\t\t\t\t(exp, 0, 0), 0),\n+\t\t\t\t\t\t       cc_status.value1))\n+\t\t    cc_status.value1 = 0;\n+\n+\t\t  if (cc_status.value1\n+\t\t      && cris_reg_overlap_mentioned_p (XEXP\n+\t\t\t\t\t\t       (XVECEXP\n+\t\t\t\t\t\t\t(exp, 0, 1), 0),\n+\t\t\t\t\t\t       cc_status.value1))\n+\t\t    cc_status.value1 = 0;\n+\n+\t\t  if (cc_status.value2\n+\t\t      && cris_reg_overlap_mentioned_p (XEXP\n+\t\t\t\t\t\t       (XVECEXP\n+\t\t\t\t\t\t\t(exp, 0, 0), 0),\n+\t\t\t\t\t\t       cc_status.value2))\n+\t\t    cc_status.value2 = 0;\n+\n+\t\t  if (cc_status.value2\n+\t\t      && cris_reg_overlap_mentioned_p (XEXP\n+\t\t\t\t\t\t       (XVECEXP\n+\t\t\t\t\t\t\t(exp, 0, 1), 0),\n+\t\t\t\t\t\t       cc_status.value2))\n+\t\t    cc_status.value2 = 0;\n+\n \t\t  return;\n \t\t}\n \t    }"}, {"sha": "e5cd2d11d814f9d7667a93ffce3eb6418fa8fc30", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3295e2542fa696d591b4ffb6576fb4a57827f53/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=d3295e2542fa696d591b4ffb6576fb4a57827f53", "patch": "@@ -204,7 +204,7 @@ extern const char *cris_elinux_stacksize_str;\n #undef LINK_SPEC\n #define LINK_SPEC \\\n  \"%{v:--verbose}\\\n-  %(link_subtarget)\" \n+  %(link_subtarget)\"\n \n /* For the cris-*-elf subtarget.  */\n #define CRIS_LINK_SUBTARGET_SPEC \\\n@@ -775,16 +775,13 @@ enum reg_class {NO_REGS, ALL_REGS, LIM_REG_CLASSES};\n   || CONSTANT_INDEX_P (X)\t\t\t\t\t\\\n  )\n \n-/* FIXME: Bug below: We can't have XEXP (X, 0)) both be MEM and a\n-   CONSTANT_P.  Parens don't match indentation.  */\n-\n #define EXTRA_CONSTRAINT_T(X)\t\t\t\t\t\t\\\n  (\t\t\t\t\t\t\t\t\t\\\n-  /* Three-address-operands.  All are indirect-memory:  */\t\t\\\n+  /* Memory three-address operand.  All are indirect-memory:  */\t\\\n   GET_CODE (X) == MEM\t\t\t\t\t\t\t\\\n   && ((GET_CODE (XEXP (X, 0)) == MEM\t\t\t\t\t\\\n-  /* Double indirect: [[reg]] or [[reg+]]?  */\t\t\t\t\\\n-  && (BASE_OR_AUTOINCR_P (XEXP (XEXP (X, 0), 0))))\t\t\t\\\n+       /* Double indirect: [[reg]] or [[reg+]]?  */\t\t\t\\\n+       && (BASE_OR_AUTOINCR_P (XEXP (XEXP (X, 0), 0))))\t\t\t\\\n       /* Just an explicite indirect reference: [const]?  */\t\t\\\n       || CONSTANT_P (XEXP (X, 0))\t\t\t\t\t\\\n       /* Something that is indexed; [...+...]?  */\t\t\t\\"}]}