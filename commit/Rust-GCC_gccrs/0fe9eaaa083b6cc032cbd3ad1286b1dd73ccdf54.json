{"sha": "0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZlOWVhYWEwODNiNmNjMDMyY2JkM2FkMTI4NmIxZGQ3M2NjZGY1NA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-04-22T06:21:01Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-04-22T06:25:02Z"}, "message": "libstdc++: Improve tests for __cpp_lib_erase_if macro\n\n\t* testsuite/21_strings/basic_string/erasure.cc: Check for updated\n\tvalue of __cpp_lib_erase_if.\n\t* testsuite/23_containers/deque/erasure.cc: Likewise.\n\t* testsuite/23_containers/forward_list/erasure.cc: Likewise.\n\t* testsuite/23_containers/list/erasure.cc: Likewise.\n\t* testsuite/23_containers/map/erasure.cc: Likewise.\n\t* testsuite/23_containers/set/erasure.cc: Likewise.\n\t* testsuite/23_containers/unordered_map/erasure.cc: Likewise.\n\t* testsuite/23_containers/unordered_set/erasure.cc: Likewise.\n\t* testsuite/23_containers/vector/erasure.cc: Likewise.", "tree": {"sha": "c782848f090bef5a9c6a3c5ae6bfbebf81a41d91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c782848f090bef5a9c6a3c5ae6bfbebf81a41d91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "05f14938111e34edd272628a9268444256735e10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05f14938111e34edd272628a9268444256735e10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05f14938111e34edd272628a9268444256735e10"}], "stats": {"total": 52, "additions": 36, "deletions": 16}, "files": [{"sha": "2e1484fefb5d4179ea77a422324ad4aae6a8f8ac", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -1,3 +1,17 @@\n+2020-04-22  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\t* testsuite/21_strings/basic_string/erasure.cc: Check for\n+\t__cpp_lib_erase_if macro.\n+\t* testsuite/23_containers/deque/erasure.cc: Add header name to #error\n+\tmessages.\n+\t* testsuite/23_containers/forward_list/erasure.cc: Likewise.\n+\t* testsuite/23_containers/list/erasure.cc: Likewise.\n+\t* testsuite/23_containers/map/erasure.cc: Likewise.\n+\t* testsuite/23_containers/set/erasure.cc: Likewise.\n+\t* testsuite/23_containers/unordered_map/erasure.cc: Likewise.\n+\t* testsuite/23_containers/unordered_set/erasure.cc: Likewise.\n+\t* testsuite/23_containers/vector/erasure.cc: Likewise.\n+\n 2020-04-21  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* include/bits/stl_iterator.h (__normal_iterator): Use synth-three-way"}, {"sha": "f36562a3f19c56883a67b499eb1056893fbbec55", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/erasure.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -21,6 +21,12 @@\n #include <string>\n #include <testsuite_hooks.h>\n \n+#ifndef __cpp_lib_erase_if\n+# error \"Feature-test macro for erase_if missing in <string>\"\n+#elif __cpp_lib_erase_if < 202002\n+# error \"Feature-test macro for erase_if has wrong value in <string>\"\n+#endif\n+\n void\n test01()\n {"}, {"sha": "8bd0206c8905e1fe0099755b622c94c09d09aaa6", "filename": "libstdc++-v3/testsuite/23_containers/deque/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fdeque%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fdeque%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fdeque%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <deque>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <deque>\"\n #endif\n \n void"}, {"sha": "133dc3a699baaeae8e89e39849060566db528fca", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <forward_list>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <forward_list>\"\n #endif\n \n void"}, {"sha": "3620342ba9a532fc50d4462f4e8197368ad539bb", "filename": "libstdc++-v3/testsuite/23_containers/list/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Flist%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <list>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <list>\"\n #endif\n \n void"}, {"sha": "1bd84813a9717aae8ef76a5145730c3830cf924a", "filename": "libstdc++-v3/testsuite/23_containers/map/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fmap%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fmap%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fmap%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -23,9 +23,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <map>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <map>\"\n #endif\n \n auto is_odd_pair = [](const std::pair<const int, std::string>& p)"}, {"sha": "e5cc4a2c9499ee6370c90d8fc8f90c6e000fc763", "filename": "libstdc++-v3/testsuite/23_containers/set/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fset%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fset%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fset%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <set>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <set>\"\n #endif\n \n auto is_odd = [](const int i) { return i % 2 != 0; };"}, {"sha": "d08510f789c36a7803b973d1014d43aec8ff7b55", "filename": "libstdc++-v3/testsuite/23_containers/unordered_map/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -23,9 +23,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <unordered_map>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <unordered_map>\"\n #endif\n \n auto is_odd_pair = [](const std::pair<const int, std::string>& p)"}, {"sha": "bc719d6a1dd607551ee94c182e6f8334888ab55d", "filename": "libstdc++-v3/testsuite/23_containers/unordered_set/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <unordered_set>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <unordered_set>\"\n #endif\n \n void"}, {"sha": "548068741d20c287d7631dbff2b47e72ce6d7d6c", "filename": "libstdc++-v3/testsuite/23_containers/vector/erasure.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Ferasure.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Ferasure.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector%2Ferasure.cc?ref=0fe9eaaa083b6cc032cbd3ad1286b1dd73ccdf54", "patch": "@@ -22,9 +22,9 @@\n #include <testsuite_hooks.h>\n \n #ifndef __cpp_lib_erase_if\n-# error \"Feature-test macro for erase_if missing\"\n+# error \"Feature-test macro for erase_if missing in <vector>\"\n #elif __cpp_lib_erase_if < 202002\n-# error \"Feature-test macro for erase_if has wrong value\"\n+# error \"Feature-test macro for erase_if has wrong value in <vector>\"\n #endif\n \n void"}]}