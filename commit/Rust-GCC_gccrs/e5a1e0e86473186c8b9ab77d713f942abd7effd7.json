{"sha": "e5a1e0e86473186c8b9ab77d713f942abd7effd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTVhMWUwZTg2NDczMTg2YzhiOWFiNzdkNzEzZjk0MmFiZDdlZmZkNw==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1997-05-15T02:25:25Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "1997-05-15T02:25:25Z"}, "message": "function.c (expand_function_end): Make sure we finish off any leftover exception handlers.\n\n\t* function.c (expand_function_end): Make sure we finish off any\n\tleftover exception handlers.\n\nFrom-SVN: r14067", "tree": {"sha": "6d9079c6f5bfe02819fc1ad57cd7e48bfb6e7410", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d9079c6f5bfe02819fc1ad57cd7e48bfb6e7410"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5a1e0e86473186c8b9ab77d713f942abd7effd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5a1e0e86473186c8b9ab77d713f942abd7effd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5a1e0e86473186c8b9ab77d713f942abd7effd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5a1e0e86473186c8b9ab77d713f942abd7effd7/comments", "author": null, "committer": null, "parents": [{"sha": "6b023d07003ec5b59ffc7ce36e0a25a59afee663", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b023d07003ec5b59ffc7ce36e0a25a59afee663", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b023d07003ec5b59ffc7ce36e0a25a59afee663"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "b2468dec5bc241732a2be2b38ef12550994f9380", "filename": "gcc/function.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5a1e0e86473186c8b9ab77d713f942abd7effd7/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5a1e0e86473186c8b9ab77d713f942abd7effd7/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=e5a1e0e86473186c8b9ab77d713f942abd7effd7", "patch": "@@ -5572,6 +5572,24 @@ expand_function_end (filename, line, end_bindings)\n   if (end_bindings)\n     expand_end_bindings (0, 0, 0);\n \n+  /* Now handle any leftover exception regions that may have been\n+     created for the parameters.  */\n+  {\n+    rtx last = get_last_insn ();\n+    rtx label;\n+\n+    expand_leftover_cleanups ();\n+\n+    /* If the above emitted any code, may sure we jump around it.  */\n+    if (last != get_last_insn ())\n+      {\n+\tlabel = gen_label_rtx ();\n+\tlast = emit_jump_insn_after (gen_jump (label), last);\n+\tlast = emit_barrier_after (last);\n+\temit_label (label);\n+      }\n+  }\n+\n   /* If we had calls to alloca, and this machine needs\n      an accurate stack pointer to exit the function,\n      insert some code to save and restore the stack pointer.  */"}]}