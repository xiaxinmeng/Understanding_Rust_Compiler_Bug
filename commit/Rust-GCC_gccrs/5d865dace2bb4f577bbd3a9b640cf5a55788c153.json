{"sha": "5d865dace2bb4f577bbd3a9b640cf5a55788c153", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ4NjVkYWNlMmJiNGY1NzdiYmQzYTliNjQwY2Y1YTU1Nzg4YzE1Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@libertysurf.fr", "date": "2004-09-24T06:17:07Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2004-09-24T06:17:07Z"}, "message": "config.gcc (sparc64-*-solaris2*): Include sparc/sol2-gas.h if the GNU assembler is used.\n\n\t* config.gcc (sparc64-*-solaris2*): Include sparc/sol2-gas.h\n\tif the GNU assembler is used.\n\t(sparc-*-solaris2*): Likewise.\n\t* dbxout.c (NO_DBX_BNSYM_ENSYM): Default to zero.\n\t(dbxout_function_end): Protect N_ENSYM with it.\n\t(dbxout_begin_prologue): Protect N_BNSYM with it.\n\t* doc/tm.texi (NO_DBX_BNSYM_ENSYM): Document it.\n\t* config/sparc/sol2.h (NO_DBX_BNSYM_ENSYM): Define to 1.\n\t* config/sparc/sol2-gas.h: New file.\n\nFrom-SVN: r88013", "tree": {"sha": "158cf50046eaac97425a94833a0a484ea974467a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/158cf50046eaac97425a94833a0a484ea974467a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d865dace2bb4f577bbd3a9b640cf5a55788c153", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d865dace2bb4f577bbd3a9b640cf5a55788c153", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d865dace2bb4f577bbd3a9b640cf5a55788c153", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d865dace2bb4f577bbd3a9b640cf5a55788c153/comments", "author": {"login": "ebotcazou", "id": 48091907, "node_id": "MDQ6VXNlcjQ4MDkxOTA3", "avatar_url": "https://avatars.githubusercontent.com/u/48091907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebotcazou", "html_url": "https://github.com/ebotcazou", "followers_url": "https://api.github.com/users/ebotcazou/followers", "following_url": "https://api.github.com/users/ebotcazou/following{/other_user}", "gists_url": "https://api.github.com/users/ebotcazou/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebotcazou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebotcazou/subscriptions", "organizations_url": "https://api.github.com/users/ebotcazou/orgs", "repos_url": "https://api.github.com/users/ebotcazou/repos", "events_url": "https://api.github.com/users/ebotcazou/events{/privacy}", "received_events_url": "https://api.github.com/users/ebotcazou/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e6ab8dc2e7ddc9ba64cfa46742e55948c0e57791", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6ab8dc2e7ddc9ba64cfa46742e55948c0e57791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6ab8dc2e7ddc9ba64cfa46742e55948c0e57791"}], "stats": {"total": 38, "additions": 36, "deletions": 2}, "files": [{"sha": "dce454e42f2aa3a55ebc095ea95504906b416d10", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -1,3 +1,15 @@\n+2004-09-24  Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\t* config.gcc (sparc64-*-solaris2*): Include sparc/sol2-gas.h\n+\tif the GNU assembler is used.\n+\t(sparc-*-solaris2*): Likewise.\n+\t* dbxout.c (NO_DBX_BNSYM_ENSYM): Default to zero.\n+\t(dbxout_function_end): Protect N_ENSYM with it.\n+\t(dbxout_begin_prologue): Protect N_BNSYM with it.\n+\t* doc/tm.texi (NO_DBX_BNSYM_ENSYM): Document it.\n+\t* config/sparc/sol2.h (NO_DBX_BNSYM_ENSYM): Define to 1.\n+\t* config/sparc/sol2-gas.h: New file.\n+\n 2004-09-23  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR bootstrap/17369"}, {"sha": "0ec389e6ef01eb1ef8626293b60508d50ed2c601", "filename": "gcc/config.gcc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -1869,7 +1869,7 @@ sparc64-*-solaris2* | sparcv9-*-solaris2*)\n \t\ttm_file=\"${tm_file} sparc/sol2-gld.h sparc/sol2-gld-bi.h\"\n \tfi\n \tif test x$gas = xyes; then\n-\t\ttm_file=\"${tm_file} sparc/sol2-gas-bi.h\"\n+\t\ttm_file=\"${tm_file} sparc/sol2-gas.h sparc/sol2-gas-bi.h\"\n \tfi\n \ttmake_file=\"t-sol2 sparc/t-sol2 sparc/t-sol2-64 sparc/t-crtfm\"\n \tif test x$gnu_ld = xyes; then\n@@ -1894,6 +1894,9 @@ sparc-*-solaris2*)\n \tif test x$gnu_ld = xyes; then\n \t\ttm_file=\"${tm_file} sparc/sol2-gld.h\"\n \tfi\n+\tif test x$gas = xyes; then\n+\t\ttm_file=\"${tm_file} sparc/sol2-gas.h\"\n+\tfi\n \ttmake_file=\"t-sol2 sparc/t-sol2 sparc/t-crtfm\"\n \tif test x$gnu_ld = xyes; then\n \t\ttmake_file=\"$tmake_file t-slibgcc-elf-ver\""}, {"sha": "7e808f7acaf3feb50c006c346fe9cf9694118455", "filename": "gcc/config/sparc/sol2-gas.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig%2Fsparc%2Fsol2-gas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig%2Fsparc%2Fsol2-gas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2-gas.h?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -0,0 +1,5 @@\n+/* Definitions of target machine for GCC, for SPARC running Solaris 2\n+   using the GNU assembler.  */\n+\n+/* Undefine this so that BNSYM/ENSYM pairs are emitted by STABS+.  */\n+#undef NO_DBX_BNSYM_ENSYM"}, {"sha": "8b5edb070c9e50ec107410db9da51704e1c94349", "filename": "gcc/config/sparc/sol2.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig%2Fsparc%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fconfig%2Fsparc%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2.h?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -108,6 +108,9 @@ Boston, MA 02111-1307, USA.  */\n     }\t\t\t\t\t\t\t\t\\\n   while (0)\n \n+/* The Solaris assembler cannot grok .stabd directives.  */\n+#undef NO_DBX_BNSYM_ENSYM\n+#define NO_DBX_BNSYM_ENSYM 1\n \f\n \n #undef  ENDFILE_SPEC"}, {"sha": "8dd153e151a1aec62f2371835f282a9c6213f658", "filename": "gcc/dbxout.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -150,6 +150,10 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define NO_DBX_FUNCTION_END 0\n #endif\n \n+#ifndef NO_DBX_BNSYM_ENSYM\n+#define NO_DBX_BNSYM_ENSYM 0\n+#endif\n+\n enum typestatus {TYPE_UNSEEN, TYPE_XREF, TYPE_DEFINED};\n \n /* Structure recording information about a C data type.\n@@ -487,7 +491,7 @@ dbxout_function_end (void)\n   fprintf (asmfile, \"\\n\");\n #endif\n \n-  if (!flag_debug_only_used_symbols)\n+  if (!NO_DBX_BNSYM_ENSYM && !flag_debug_only_used_symbols)\n     fprintf (asmfile, \"%s%d,0,0\\n\", ASM_STABD_OP, N_ENSYM);\n }\n #endif /* DBX_DEBUGGING_INFO */\n@@ -794,6 +798,7 @@ dbxout_begin_prologue (unsigned int lineno, const char *filename)\n {\n   if (use_gnu_debug_info_extensions\n       && !NO_DBX_FUNCTION_END\n+      && !NO_DBX_BNSYM_ENSYM\n       && !flag_debug_only_used_symbols)\n     fprintf (asmfile, \"%s%d,0,0\\n\", ASM_STABD_OP, N_BNSYM);\n "}, {"sha": "fc033ecc6913022195881ce1aef7ffdd91d4b092", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d865dace2bb4f577bbd3a9b640cf5a55788c153/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=5d865dace2bb4f577bbd3a9b640cf5a55788c153", "patch": "@@ -7998,6 +7998,12 @@ On those machines, define this macro to turn this feature off without\n disturbing the rest of the gdb extensions.\n @end defmac\n \n+@defmac NO_DBX_BNSYM_ENSYM\n+Some assemblers cannot handle the @code{.stabd BNSYM/ENSYM,0,0} gdb dbx\n+extension construct.  On those machines, define this macro to turn this\n+feature off without disturbing the rest of the gdb extensions.\n+@end defmac\n+\n @node File Names and DBX\n @subsection File Names in DBX Format\n "}]}