{"sha": "3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ExYTRlZDI2ZWE4YjRhMGY0ZWMzODVlYWMyZTQxY2JhMmU4NzVhYg==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2004-02-28T22:46:32Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2004-02-28T22:46:32Z"}, "message": "atomicity.h (__atomic_add): Make first argument volatile.\n\n\t* config/cpu/hppa/atomicity.h (__atomic_add): Make first argument\n\tvolatile.\n\t* config/os/hpux/os_defines.h (_GLIBCXX_INST_ATOMICITY_LOCK): Use\n\t__GXX_WEAK__ instead of _GLIBCXX_SUPPORTS_WEAK.\n\nFrom-SVN: r78633", "tree": {"sha": "94149ba593bcd16f704c428eb1aac6a7defdee9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94149ba593bcd16f704c428eb1aac6a7defdee9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/comments", "author": null, "committer": null, "parents": [{"sha": "5f1908384a6a173ed89192d47b4ef5aa10c31a60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f1908384a6a173ed89192d47b4ef5aa10c31a60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f1908384a6a173ed89192d47b4ef5aa10c31a60"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "44f6fcc46bb44dab52f1e046917aeeaaa8aa2c07", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "patch": "@@ -1,3 +1,10 @@\n+2004-02-28  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\t* config/cpu/hppa/atomicity.h (__atomic_add): Make first argument\n+\tvolatile.\n+\t* config/os/hpux/os_defines.h (_GLIBCXX_INST_ATOMICITY_LOCK): Use\n+\t__GXX_WEAK__ instead of _GLIBCXX_SUPPORTS_WEAK.\n+\n 2004-02-28  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/locale_facets.tcc (num_get<>::_M_extract_float):"}, {"sha": "d173976e68e5d5095e893816083c33f45624d8fe", "filename": "libstdc++-v3/config/cpu/hppa/atomicity.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fhppa%2Fatomicity.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fhppa%2Fatomicity.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fhppa%2Fatomicity.h?ref=3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "patch": "@@ -76,7 +76,7 @@ namespace __gnu_cxx\n   \n   void\n   __attribute__ ((__unused__))\n-  __atomic_add(_Atomic_word* __mem, int __val)\n+  __atomic_add(volatile _Atomic_word* __mem, int __val)\n   {\n     int tmp;\n     volatile int& lock = _Atomicity_lock<0>::_S_atomicity_lock;"}, {"sha": "64962fedb1c9a4af5da803955b998786a81d0b8d", "filename": "libstdc++-v3/config/os/hpux/os_defines.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fhpux%2Fos_defines.h?ref=3a1a4ed26ea8b4a0f4ec385eac2e41cba2e875ab", "patch": "@@ -1,6 +1,6 @@\n // Specific definitions for HPUX  -*- C++ -*-\n \n-// Copyright (C) 2000, 2002 Free Software Foundation, Inc.\n+// Copyright (C) 2000, 2002, 2004 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -93,7 +93,7 @@ typedef long int __padding_type;\n \n /* We need explicit instantiation of the atomicity lock on HPPA if\n    there is no weak support.  */\n-#if !defined(_GLIBCXX_SUPPORTS_WEAK) && defined (__hppa__)\n+#if !__GXX_WEAK__ && defined (__hppa__)\n #define _GLIBCXX_INST_ATOMICITY_LOCK 1\n #endif\n "}]}