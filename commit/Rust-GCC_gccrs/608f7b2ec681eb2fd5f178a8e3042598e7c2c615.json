{"sha": "608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA4ZjdiMmVjNjgxZWIyZmQ1ZjE3OGE4ZTMwNDI1OThlN2MyYzYxNQ==", "commit": {"author": {"name": "David Ayers", "email": "ayers@fsfe.org", "date": "2009-04-02T21:46:00Z"}, "committer": {"name": "David Ayers", "email": "ayers@gcc.gnu.org", "date": "2009-04-02T21:46:00Z"}, "message": "re PR objc/18456 (ICE compiling Objective C code with protocol-qualified objects)\n\n2009-04-02  David Ayers  <ayers@fsfe.org>\n\n\tPR objc/18456\n\t* objc.dg/bad-receiver-type-2.m: New test contributed by\n\tAlexander Mamberg.\n\nFrom-SVN: r145478", "tree": {"sha": "601f65ef6fb8114b0ad4977e3a4e461b0984fcf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/601f65ef6fb8114b0ad4977e3a4e461b0984fcf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "html_url": "https://github.com/Rust-GCC/gccrs/commit/608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608f7b2ec681eb2fd5f178a8e3042598e7c2c615/comments", "author": {"login": "david-ayers", "id": 7547014, "node_id": "MDQ6VXNlcjc1NDcwMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7547014?v=4", "gravatar_id": "", "url": "https://api.github.com/users/david-ayers", "html_url": "https://github.com/david-ayers", "followers_url": "https://api.github.com/users/david-ayers/followers", "following_url": "https://api.github.com/users/david-ayers/following{/other_user}", "gists_url": "https://api.github.com/users/david-ayers/gists{/gist_id}", "starred_url": "https://api.github.com/users/david-ayers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/david-ayers/subscriptions", "organizations_url": "https://api.github.com/users/david-ayers/orgs", "repos_url": "https://api.github.com/users/david-ayers/repos", "events_url": "https://api.github.com/users/david-ayers/events{/privacy}", "received_events_url": "https://api.github.com/users/david-ayers/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "aa1ca044b55fdca2b9c38728b512357f7ebc966b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa1ca044b55fdca2b9c38728b512357f7ebc966b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa1ca044b55fdca2b9c38728b512357f7ebc966b"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "e1265cf94dfa9f56875d7deaab646f42718df681", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608f7b2ec681eb2fd5f178a8e3042598e7c2c615/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608f7b2ec681eb2fd5f178a8e3042598e7c2c615/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "patch": "@@ -1,3 +1,9 @@\n+2009-04-02  David Ayers  <ayers@fsfe.org>\n+\n+\tPR objc/18456\n+\t* objc.dg/bad-receiver-type-2.m: New test contributed by\n+\tAlexander Mamberg.\n+\n 2009-04-02  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/25185"}, {"sha": "eca8400d50378da21358055962ceaf1f7ab5f51f", "filename": "gcc/testsuite/objc.dg/bad-receiver-type-2.m", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608f7b2ec681eb2fd5f178a8e3042598e7c2c615/gcc%2Ftestsuite%2Fobjc.dg%2Fbad-receiver-type-2.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608f7b2ec681eb2fd5f178a8e3042598e7c2c615/gcc%2Ftestsuite%2Fobjc.dg%2Fbad-receiver-type-2.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fbad-receiver-type-2.m?ref=608f7b2ec681eb2fd5f178a8e3042598e7c2c615", "patch": "@@ -0,0 +1,41 @@\n+/* { dg-do compile } */\n+/* Contributed by Alexander Malmberg: PR18456 */\n+\n+@interface Foo\n+-(void) foo;\n+@end\n+\n+void *ip;\n+\n+void (*func1)(void);\n+\n+struct\n+{\n+    int a:2;\n+} struct1,struct2[2];\n+\n+union\n+{\n+    int a:2;\n+} union1,union2[2];\n+\n+Foo **f;\n+\n+int main(int argc,char **argv)\n+{\n+  [(struct {int a;} *)ip foo];  /* { dg-warning \"invalid receiver type\" } */\n+  [func1 foo];                  /* { dg-warning \"invalid receiver type\" } */\n+  [struct1.a foo];              /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-warning \"cast to pointer from integer\" \"\" { target *-*-* } 28 } */ \n+  [union1.a foo];               /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-warning \"cast to pointer from integer\" \"\" { target *-*-* } 30 } */ \n+  [struct1 foo];                /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-error \"cannot convert\" \"\" { target *-*-* } 32 } */ \n+  [union1 foo];                 /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-error \"cannot convert\" \"\" { target *-*-* } 34 } */ \n+  [struct2 foo];                /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-error \"cannot convert\" \"\" { target *-*-* } 36 } */ \n+  [union2 foo];                 /* { dg-warning \"invalid receiver type\" } */\n+                                /* { dg-error \"cannot convert\" \"\" { target *-*-* } 38 } */ \n+  [f foo];                      /* { dg-warning \"invalid receiver type\" } */\n+}"}]}