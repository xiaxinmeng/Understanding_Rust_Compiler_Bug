{"sha": "25a182be4fb67d8d972a8f8789f1557cc1a945e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjVhMTgyYmU0ZmI2N2Q4ZDk3MmE4Zjg3ODlmMTU1N2NjMWE5NDVlMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-30T21:45:57Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-30T21:45:57Z"}, "message": "libgo: Use the right files on Solaris variants.\n\nFrom-SVN: r171753", "tree": {"sha": "fa4a3d11e32ee82c36da293ab8b0d552b7b23a0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa4a3d11e32ee82c36da293ab8b0d552b7b23a0e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25a182be4fb67d8d972a8f8789f1557cc1a945e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a182be4fb67d8d972a8f8789f1557cc1a945e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25a182be4fb67d8d972a8f8789f1557cc1a945e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a182be4fb67d8d972a8f8789f1557cc1a945e0/comments", "author": null, "committer": null, "parents": [{"sha": "372776deba3c3ae4b563856f7ba2411eadec91a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/372776deba3c3ae4b563856f7ba2411eadec91a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/372776deba3c3ae4b563856f7ba2411eadec91a8"}], "stats": {"total": 34, "additions": 23, "deletions": 11}, "files": [{"sha": "0a13bc96188501143c1b7db0cbeb594e53a8717b", "filename": "libgo/Makefile.am", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a182be4fb67d8d972a8f8789f1557cc1a945e0/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a182be4fb67d8d972a8f8789f1557cc1a945e0/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=25a182be4fb67d8d972a8f8789f1557cc1a945e0", "patch": "@@ -689,8 +689,12 @@ if LIBGO_IS_SOLARIS\n if LIBGO_IS_386\n go_os_dir_file = go/os/dir_largefile.go\n else\n+if LIBGO_IS_SPARC\n+go_os_dir_file = go/os/dir_largefile.go\n+else\n go_os_dir_file = go/os/dir_regfile.go\n endif\n+endif\n else\n if LIBGO_IS_LINUX\n go_os_dir_file = go/os/dir_largefile.go\n@@ -1219,16 +1223,21 @@ syscall_filesize_file = syscalls/sysfile_largefile.go\n syscall_stat_file = syscalls/sysfile_stat_largefile.go\n else # !LIBGO_IS_LINUX\n if LIBGO_IS_SOLARIS\n-# FIXME: Same for sparc vs. sparc64.  Introduce new/additional conditional?\n if LIBGO_IS_386\n-# Use lseek64 on 386 Solaris.\n+# Use lseek64 on 32-bit Solaris/x86.\n syscall_filesize_file = syscalls/sysfile_largefile.go\n syscall_stat_file = syscalls/sysfile_stat_largefile.go\n-else # !LIBGO_IS_LINUX && LIBGO_IS_SOLARIS && !LIBGO_IS_386\n-# Use lseek on amd64 Solaris.\n+else # !LIBGO_IS_386\n+if LIBGO_IS_SPARC\n+# Use lseek64 on 32-bit Solaris/SPARC.\n+syscall_filesize_file = syscalls/sysfile_largefile.go\n+syscall_stat_file = syscalls/sysfile_stat_largefile.go\n+else # !LIBGO_IS_386 && !LIBGO_IS_SPARC\n+# Use lseek on 64-bit Solaris.\n syscall_filesize_file = syscalls/sysfile_regfile.go\n syscall_stat_file = syscalls/sysfile_stat_regfile.go\n-endif # !LIBGO_IS_386\n+endif # !LIBGO_IS_386 && !LIBGO_IS_SPARC\n+endif # !LIBGO_IS_SOLARIS\n else # !LIBGO_IS_LINUX && !LIBGO_IS_SOLARIS\n # Use lseek by default.\n syscall_filesize_file = syscalls/sysfile_regfile.go"}, {"sha": "f605f9cec9b12dfb41547e578dcfd483c831aa22", "filename": "libgo/Makefile.in", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a182be4fb67d8d972a8f8789f1557cc1a945e0/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a182be4fb67d8d972a8f8789f1557cc1a945e0/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=25a182be4fb67d8d972a8f8789f1557cc1a945e0", "patch": "@@ -1067,7 +1067,8 @@ go_netchan_files = \\\n \tgo/netchan/export.go \\\n \tgo/netchan/import.go\n \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_SOLARIS_TRUE@go_os_dir_file = go/os/dir_regfile.go\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_FALSE@go_os_dir_file = go/os/dir_regfile.go\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_TRUE@go_os_dir_file = go/os/dir_largefile.go\n @LIBGO_IS_386_TRUE@@LIBGO_IS_SOLARIS_TRUE@go_os_dir_file = go/os/dir_largefile.go\n @LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_FALSE@go_os_dir_file = go/os/dir_regfile.go\n @LIBGO_IS_LINUX_TRUE@@LIBGO_IS_SOLARIS_FALSE@go_os_dir_file = go/os/dir_largefile.go\n@@ -1612,18 +1613,20 @@ go_testing_script_files = \\\n \n # Define Syscall and Syscall6.\n @LIBGO_IS_RTEMS_TRUE@syscall_syscall_file = syscalls/syscall_stubs.go\n-# Use lseek on amd64 Solaris.\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@syscall_filesize_file = syscalls/sysfile_regfile.go\n-# FIXME: Same for sparc vs. sparc64.  Introduce new/additional conditional?\n-# Use lseek64 on 386 Solaris.\n+# Use lseek on 64-bit Solaris.\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_FALSE@syscall_filesize_file = syscalls/sysfile_regfile.go\n+# Use lseek64 on 32-bit Solaris/SPARC.\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_TRUE@syscall_filesize_file = syscalls/sysfile_largefile.go\n+# Use lseek64 on 32-bit Solaris/x86.\n @LIBGO_IS_386_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@syscall_filesize_file = syscalls/sysfile_largefile.go\n # Use lseek by default.\n @LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_FALSE@syscall_filesize_file = syscalls/sysfile_regfile.go\n \n # Declare libc functions that vary for largefile systems.\n # Always use lseek64 on GNU/Linux.\n @LIBGO_IS_LINUX_TRUE@syscall_filesize_file = syscalls/sysfile_largefile.go\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@syscall_stat_file = syscalls/sysfile_stat_regfile.go\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_FALSE@syscall_stat_file = syscalls/sysfile_stat_regfile.go\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@@LIBGO_IS_SPARC_TRUE@syscall_stat_file = syscalls/sysfile_stat_largefile.go\n @LIBGO_IS_386_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_TRUE@syscall_stat_file = syscalls/sysfile_stat_largefile.go\n @LIBGO_IS_LINUX_FALSE@@LIBGO_IS_SOLARIS_FALSE@syscall_stat_file = syscalls/sysfile_stat_regfile.go\n @LIBGO_IS_LINUX_TRUE@syscall_stat_file = syscalls/sysfile_stat_largefile.go"}]}