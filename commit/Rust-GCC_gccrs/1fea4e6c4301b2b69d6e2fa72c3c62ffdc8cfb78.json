{"sha": "1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZlYTRlNmM0MzAxYjJiNjlkNmUyZmE3MmMzYzYyZmZkYzhjZmI3OA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2006-03-09T20:21:58Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2006-03-09T20:21:58Z"}, "message": "re PR libgcj/24461 (array access in either GZIPInputStream, Inflater, natInflate.cc, or zlib)\n\n\tPR libgcj/24461:\n\t* java/util/zip/InflaterInputStream.java (fill): Throw exception\n\tif stream is truncated.\n\nFrom-SVN: r111870", "tree": {"sha": "414ca6a90249ad802ad690103f33743cda5d6ee1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/414ca6a90249ad802ad690103f33743cda5d6ee1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78/comments", "author": null, "committer": null, "parents": [{"sha": "e59a1e40f318e53c11a069140e4380ca05dd75cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e59a1e40f318e53c11a069140e4380ca05dd75cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e59a1e40f318e53c11a069140e4380ca05dd75cd"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "bde6b45470ee89746d989b6aedfabb62b2f80db7", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "patch": "@@ -1,3 +1,9 @@\n+2006-03-09  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR libgcj/24461:\n+\t* java/util/zip/InflaterInputStream.java (fill): Throw exception\n+\tif stream is truncated.\n+\n 2006-03-09  Tom Tromey  <tromey@redhat.com>\n \n \t* win32.cc (_Jv_platform_nanotime): New function."}, {"sha": "11b06d24a28a41e0d564fc544295128325b1d2eb", "filename": "libjava/java/util/zip/InflaterInputStream.java", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78/libjava%2Fjava%2Futil%2Fzip%2FInflaterInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78/libjava%2Fjava%2Futil%2Fzip%2FInflaterInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2Fzip%2FInflaterInputStream.java?ref=1fea4e6c4301b2b69d6e2fa72c3c62ffdc8cfb78", "patch": "@@ -1,5 +1,5 @@\n /* InflaterInputStream.java - Input stream filter for decompressing\n-   Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005\n+   Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006\n    Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n@@ -153,8 +153,10 @@ protected void fill() throws IOException\n     \n     len = in.read(buf, 0, buf.length);\n \n-    if (len >= 0)\n-      inf.setInput(buf, 0, len);\n+    if (len < 0)\n+      throw new ZipException(\"Deflated stream ends early.\");\n+    \n+    inf.setInput(buf, 0, len);\n   }\n \n   /**"}]}