{"sha": "856bb3ef935edfa315bf4552a25493f11ee949b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODU2YmIzZWY5MzVlZGZhMzE1YmY0NTUyYTI1NDkzZjExZWU5NDliNg==", "commit": {"author": {"name": "Giuliano Belinassi", "email": "giuliano.belinassi@usp.br", "date": "2019-07-24T19:10:36Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2019-07-24T19:10:36Z"}, "message": "cgraphunit.c (symbol_table::compile): Start and stop TV_CGRAPH_IPA_PASSES and TV_CGRAPH_FUNC_EXPANSION timers.\n\n\t* cgraphunit.c (symbol_table::compile): Start and stop\n\tTV_CGRAPH_IPA_PASSES and TV_CGRAPH_FUNC_EXPANSION timers.\n\t* timevar.def (TV_CGRAPH_IPA_PASSES, TV_CGRAPH_FUNC_EXPANSION): New.\n\nFrom-SVN: r273767", "tree": {"sha": "c976a4dde08e85c92db84e958fb1cc71413e6652", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c976a4dde08e85c92db84e958fb1cc71413e6652"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/856bb3ef935edfa315bf4552a25493f11ee949b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/856bb3ef935edfa315bf4552a25493f11ee949b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/856bb3ef935edfa315bf4552a25493f11ee949b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/856bb3ef935edfa315bf4552a25493f11ee949b6/comments", "author": null, "committer": null, "parents": [{"sha": "efab3e3a7326ad503532955ccd31f953851e388a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efab3e3a7326ad503532955ccd31f953851e388a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efab3e3a7326ad503532955ccd31f953851e388a"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "65495e2fce41a60ced058481195f95948b08b156", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=856bb3ef935edfa315bf4552a25493f11ee949b6", "patch": "@@ -1,3 +1,9 @@\n+2019-07-24  Giuliano Belinassi  <giuliano.belinassi@usp.br>\n+\n+\t* cgraphunit.c (symbol_table::compile): Start and stop \n+\tTV_CGRAPH_IPA_PASSES and TV_CGRAPH_FUNC_EXPANSION timers.\n+\t* timevar.def (TV_CGRAPH_IPA_PASSES, TV_CGRAPH_FUNC_EXPANSION): New.\n+\n 2019-07-24  Oliver Browne  <oliverbrowne62@gmail.com>\n \n \t* gimplify.c (flag_instrument_functions_exclude_p): Include"}, {"sha": "cb08efeb5bee0b18652e4e95df80f451afecc087", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=856bb3ef935edfa315bf4552a25493f11ee949b6", "patch": "@@ -2613,8 +2613,11 @@ symbol_table::compile (void)\n \n   /* Don't run the IPA passes if there was any error or sorry messages.  */\n   if (!seen_error ())\n+  {\n+    timevar_start (TV_CGRAPH_IPA_PASSES);\n     ipa_passes ();\n-\n+    timevar_stop (TV_CGRAPH_IPA_PASSES);\n+  }\n   /* Do nothing else if any IPA pass found errors or if we are just streaming LTO.  */\n   if (seen_error ()\n       || ((!in_lto_p || flag_incremental_link == INCREMENTAL_LINK_LTO)\n@@ -2680,7 +2683,11 @@ symbol_table::compile (void)\n   /* Output first asm statements and anything ordered. The process\n      flag is cleared for these nodes, so we skip them later.  */\n   output_in_order ();\n+\n+  timevar_start (TV_CGRAPH_FUNC_EXPANSION);\n   expand_all_functions ();\n+  timevar_stop (TV_CGRAPH_FUNC_EXPANSION);\n+\n   output_variables ();\n \n   process_new_functions ();"}, {"sha": "3551a433b1f279fead2e5fdc7d7fa025498b2a73", "filename": "gcc/timevar.def", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2Ftimevar.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/856bb3ef935edfa315bf4552a25493f11ee949b6/gcc%2Ftimevar.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftimevar.def?ref=856bb3ef935edfa315bf4552a25493f11ee949b6", "patch": "@@ -68,6 +68,8 @@ DEFTIMEVAR (TV_PCH_CPP_RESTORE       , \"PCH preprocessor state restore\")\n \n DEFTIMEVAR (TV_CGRAPH                , \"callgraph construction\")\n DEFTIMEVAR (TV_CGRAPHOPT             , \"callgraph optimization\")\n+DEFTIMEVAR (TV_CGRAPH_FUNC_EXPANSION , \"callgraph functions expansion\")\n+DEFTIMEVAR (TV_CGRAPH_IPA_PASSES     , \"callgraph ipa passes\")\n DEFTIMEVAR (TV_IPA_FNSUMMARY         , \"ipa function summary\")\n DEFTIMEVAR (TV_IPA_UNREACHABLE       , \"ipa dead code removal\")\n DEFTIMEVAR (TV_IPA_INHERITANCE       , \"ipa inheritance graph\")"}]}