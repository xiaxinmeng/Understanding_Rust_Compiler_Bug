{"sha": "bc93e287d0e7a100c1aba869398b5341839c1927", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmM5M2UyODdkMGU3YTEwMGMxYWJhODY5Mzk4YjUzNDE4MzljMTkyNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2003-09-04T10:47:46Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2003-09-04T10:47:46Z"}, "message": "libgcc-ia64.ver: Export _Unwind_GetBSP@@GCC_3.3.2.\n\n\t* config/ia64/libgcc-ia64.ver: Export _Unwind_GetBSP@@GCC_3.3.2.\n\t* config/ia64/unwind-ia64.c (_Unwind_GetBSP): New function.\n\t* unwind.h (_Unwind_GetBSP): New prototype.\n\t* libgcc-std.ver: Add empty GCC_3.3.2 version.\n\t* mkmap-symver.awk: For symbol versions with no exported symbols,\n\tdon't put anything into version script, just change all symbol\n\tversions which inherit from it to inherit from its ancestor.\n\nFrom-SVN: r71057", "tree": {"sha": "fbca5c641e0562d683b20ddb9cb242c318a76e78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbca5c641e0562d683b20ddb9cb242c318a76e78"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc93e287d0e7a100c1aba869398b5341839c1927", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc93e287d0e7a100c1aba869398b5341839c1927", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc93e287d0e7a100c1aba869398b5341839c1927", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc93e287d0e7a100c1aba869398b5341839c1927/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ec24a740308c01129bd934831787db53fbde8bc1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec24a740308c01129bd934831787db53fbde8bc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec24a740308c01129bd934831787db53fbde8bc1"}], "stats": {"total": 46, "additions": 40, "deletions": 6}, "files": [{"sha": "2874e3514b57423a200fd2e7d527b2dbf96f5765", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -1,3 +1,13 @@\n+2003-09-04  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/ia64/libgcc-ia64.ver: Export _Unwind_GetBSP@@GCC_3.3.2.\n+\t* config/ia64/unwind-ia64.c (_Unwind_GetBSP): New function.\n+\t* unwind.h (_Unwind_GetBSP): New prototype.\n+\t* libgcc-std.ver: Add empty GCC_3.3.2 version.\n+\t* mkmap-symver.awk: For symbol versions with no exported symbols,\n+\tdon't put anything into version script, just change all symbol\n+\tversions which inherit from it to inherit from its ancestor.\n+\n 2003-09-04  Eric Christopher  <echristo@redhat.com>\n \n \t* config/mips/mips.c (mips_expand_prologue): Convert to"}, {"sha": "cd769907df0cbd0e1772b4178bd48542824f5c5a", "filename": "gcc/config/ia64/libgcc-ia64.ver", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fconfig%2Fia64%2Flibgcc-ia64.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fconfig%2Fia64%2Flibgcc-ia64.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Flibgcc-ia64.ver?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -7,3 +7,6 @@ GCC_3.0 {\n   __ia64_trampoline\n   __ia64_backtrace\n }\n+GCC_3.3.2 {\n+  _Unwind_GetBSP\n+}"}, {"sha": "41f59d10b9d658e7e3af71bd1f8994996e239685", "filename": "gcc/config/ia64/unwind-ia64.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fconfig%2Fia64%2Funwind-ia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fconfig%2Fia64%2Funwind-ia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Funwind-ia64.c?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -1667,6 +1667,14 @@ _Unwind_GetCFA (struct _Unwind_Context *context)\n   return (_Unwind_Ptr) context->psp;\n }\n \n+/* Get the value of the Backing Store Pointer as saved in CONTEXT.  */\n+\n+_Unwind_Word\n+_Unwind_GetBSP (struct _Unwind_Context *context)\n+{\n+  return (_Unwind_Ptr) context->bsp;\n+}\n+\n \f\n static _Unwind_Reason_Code\n uw_frame_state_for (struct _Unwind_Context *context, _Unwind_FrameState *fs)"}, {"sha": "1caebc54cfa56ca68802532016194664ad7688eb", "filename": "gcc/libgcc-std.ver", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Flibgcc-std.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Flibgcc-std.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc-std.ver?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -191,7 +191,11 @@ GCC_3.3.1 {\n   __gcc_personality_v0\n }\n \n-%inherit GCC_3.4 GCC_3.3.1\n+%inherit GCC_3.3.2 GCC_3.3.1\n+GCC_3.3.2 {\n+}\n+\n+%inherit GCC_3.4 GCC_3.3.2\n GCC_3.4 {\n   # bit scanning and counting built-ins\n   __clzsi2"}, {"sha": "7953afcff806dcf0bc6172bab5e3032ee3e9647d", "filename": "gcc/mkmap-symver.awk", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fmkmap-symver.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Fmkmap-symver.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmkmap-symver.awk?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -95,22 +95,28 @@ function output(lib) {\n   if (inherit[lib])\n     output(inherit[lib]);\n \n-  printf(\"%s {\\n\", lib);\n-  sawglobal = 0;\n+  empty=1\n   for (sym in ver)\n     if ((ver[sym] == lib) && (sym in def))\n       {\n-\tif (!sawglobal)\n+\tif (empty)\n \t  {\n+\t    printf(\"%s {\\n\", lib);\n \t    printf(\"  global:\\n\");\n-\t    sawglobal = 1;\n+\t    empty = 0;\n \t  }\n \tprintf(\"\\t%s;\\n\", sym);\n \tif (dotsyms)\n \t  printf(\"\\t.%s;\\n\", sym);\n       }\n \n-  if (inherit[lib])\n+  if (empty)\n+    {\n+      for (l in libs)\n+\tif (inherit[l] == lib)\n+\t  inherit[l] = inherit[lib];\n+    }\n+  else if (inherit[lib])\n     printf(\"} %s;\\n\", inherit[lib]);\n   else\n     printf (\"\\n  local:\\n\\t*;\\n};\\n\");"}, {"sha": "35c765ef4ac3fe3d0a7dace8aec70ef4182d8884", "filename": "gcc/unwind.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Funwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc93e287d0e7a100c1aba869398b5341839c1927/gcc%2Funwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind.h?ref=bc93e287d0e7a100c1aba869398b5341839c1927", "patch": "@@ -210,6 +210,9 @@ _Unwind_GetTextRelBase (struct _Unwind_Context *_C __attribute__ ((__unused__)))\n   abort ();\n   return 0;\n }\n+\n+/* @@@ Retrieve the Backing Store Pointer of the given context.  */\n+extern _Unwind_Word _Unwind_GetBSP (struct _Unwind_Context *);\n #else\n extern _Unwind_Ptr _Unwind_GetDataRelBase (struct _Unwind_Context *);\n extern _Unwind_Ptr _Unwind_GetTextRelBase (struct _Unwind_Context *);"}]}