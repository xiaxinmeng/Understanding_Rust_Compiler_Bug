{"sha": "21864445019fb2a47312b6afcb2aede62cdc677a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE4NjQ0NDUwMTlmYjJhNDczMTJiNmFmY2IyYWVkZTYyY2RjNjc3YQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2006-10-16T23:07:46Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2006-10-16T23:07:46Z"}, "message": "re PR c++/29408 (parse error for valid code)\n\n\tPR c++/29408\n\t* parser.c (cp_parser_using_declaration): Stop parsing when\n\tsomething goes wrong with an access declaration.\n\tPR c++/29408\n\t* g++.dg/parse/dtor12.C: New test.\n\nFrom-SVN: r117800", "tree": {"sha": "4516cb9af9e0def299358adb9611a4eda5ac901b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4516cb9af9e0def299358adb9611a4eda5ac901b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21864445019fb2a47312b6afcb2aede62cdc677a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21864445019fb2a47312b6afcb2aede62cdc677a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21864445019fb2a47312b6afcb2aede62cdc677a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21864445019fb2a47312b6afcb2aede62cdc677a/comments", "author": null, "committer": null, "parents": [{"sha": "b4c74ba24343fb49967075548248964138920c30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4c74ba24343fb49967075548248964138920c30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4c74ba24343fb49967075548248964138920c30"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "ff4718029e30871f37a2894d53294188c6d9f18b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=21864445019fb2a47312b6afcb2aede62cdc677a", "patch": "@@ -1,5 +1,9 @@\n 2006-10-16  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/29408\n+\t* parser.c (cp_parser_using_declaration): Stop parsing when\n+\tsomething goes wrong with an access declaration.\n+\n \tPR c++/29435\n \t* typeck.c (cxx_sizeof_or_alignof_type): Complete non-dependent\n \ttypes when their sizes are required.  Refine test for VLAs."}, {"sha": "1ffc9ee887792b79d512d03b3ee27e62c5d4187e", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=21864445019fb2a47312b6afcb2aede62cdc677a", "patch": "@@ -10681,6 +10681,12 @@ cp_parser_using_declaration (cp_parser* parser,\n   if (!qscope)\n     qscope = global_namespace;\n \n+  if (access_declaration_p && cp_parser_error_occurred (parser))\n+    /* Something has already gone wrong; there's no need to parse\n+       further.  Since an error has occurred, the return value of\n+       cp_parser_parse_definitely will be false, as required.  */\n+    return cp_parser_parse_definitely (parser);\n+\n   /* Parse the unqualified-id.  */\n   identifier = cp_parser_unqualified_id (parser,\n \t\t\t\t\t /*template_keyword_p=*/false,"}, {"sha": "3bf1718e792f13c06232a173cb76cbb45328b8f9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=21864445019fb2a47312b6afcb2aede62cdc677a", "patch": "@@ -1,5 +1,8 @@\n 2006-10-16  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/29408\n+\t* g++.dg/parse/dtor12.C: New test.\n+\n \tPR c++/29435\n \t* g++.dg/template/sizeof11.C: New test.\n "}, {"sha": "1acdfa36b69d41f84b4be6bf6de2fd5577c64a84", "filename": "gcc/testsuite/g++.dg/parse/dtor12.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fdtor12.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21864445019fb2a47312b6afcb2aede62cdc677a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fdtor12.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fdtor12.C?ref=21864445019fb2a47312b6afcb2aede62cdc677a", "patch": "@@ -0,0 +1,6 @@\n+// PR c++/29408\n+\n+template <class T> class a\n+{\n+  ~a<T>();\n+};"}]}