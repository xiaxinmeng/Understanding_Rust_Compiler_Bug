{"sha": "3bddec9b927ffbd4064cdbb593949b70db07d9b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JkZGVjOWI5MjdmZmJkNDA2NGNkYmI1OTM5NDliNzBkYjA3ZDliMA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-09-22T03:10:24Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-09-22T03:10:24Z"}, "message": "re PR libfortran/45723 (opening /dev/null for appending writes)\n\n2010-09-21  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/45723\n\t* io/open.c (new_unit): On POSITION_APPEND don't seek if file length is\n\tzero.\n\nFrom-SVN: r164507", "tree": {"sha": "8ebf00fd8e3f39fccd1b3a4dd4ea6f91237c030f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ebf00fd8e3f39fccd1b3a4dd4ea6f91237c030f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3bddec9b927ffbd4064cdbb593949b70db07d9b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bddec9b927ffbd4064cdbb593949b70db07d9b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bddec9b927ffbd4064cdbb593949b70db07d9b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bddec9b927ffbd4064cdbb593949b70db07d9b0/comments", "author": null, "committer": null, "parents": [{"sha": "efd6aa2ff5a70745f4d4de40ae9b58f11b624097", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd6aa2ff5a70745f4d4de40ae9b58f11b624097", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efd6aa2ff5a70745f4d4de40ae9b58f11b624097"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "8411513a819aeb80fc1f0f96011d38902d7f1bc1", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bddec9b927ffbd4064cdbb593949b70db07d9b0/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bddec9b927ffbd4064cdbb593949b70db07d9b0/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=3bddec9b927ffbd4064cdbb593949b70db07d9b0", "patch": "@@ -1,3 +1,9 @@\n+2010-09-21  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/45723\n+\t* io/open.c (new_unit): On POSITION_APPEND don't seek if file length is\n+\tzero.\n+\n 2010-09-14  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/45532\n@@ -6,7 +12,8 @@\n \n 2010-09-12  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n-\t* intrinsics/pack_generic.c (pack): Add missing return and fix whitespace.\n+\t* intrinsics/pack_generic.c (pack): Add missing return and fix\n+\twhitespace.\n \t* intrinsics/cshift0.c (cshift0): Fix whitespace.\n \t* intrinsics/unpack_generic.c (unpack1, unpack0): Fix whitespace.\n "}, {"sha": "d7448c007f137ae5f637d4ecd12ff189cae6d1fd", "filename": "libgfortran/io/open.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bddec9b927ffbd4064cdbb593949b70db07d9b0/libgfortran%2Fio%2Fopen.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bddec9b927ffbd4064cdbb593949b70db07d9b0/libgfortran%2Fio%2Fopen.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fopen.c?ref=3bddec9b927ffbd4064cdbb593949b70db07d9b0", "patch": "@@ -555,7 +555,7 @@ new_unit (st_parameter_open *opp, gfc_unit *u, unit_flags * flags)\n \n   if (flags->position == POSITION_APPEND)\n     {\n-      if (sseek (u->s, 0, SEEK_END) < 0)\n+      if (file_size (opp->file, opp->file_len) > 0 && sseek (u->s, 0, SEEK_END) < 0)\n \tgenerate_error (&opp->common, LIBERROR_OS, NULL);\n       u->endfile = AT_ENDFILE;\n     }"}]}