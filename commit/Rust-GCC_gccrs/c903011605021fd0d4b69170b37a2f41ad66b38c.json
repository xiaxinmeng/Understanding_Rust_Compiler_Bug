{"sha": "c903011605021fd0d4b69170b37a2f41ad66b38c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzkwMzAxMTYwNTAyMWZkMGQ0YjY5MTcwYjM3YTJmNDFhZDY2YjM4Yw==", "commit": {"author": {"name": "Manfred Hollstein", "email": "manfred@gcc.gnu.org", "date": "1998-06-01T00:26:36Z"}, "committer": {"name": "Manfred Hollstein", "email": "manfred@gcc.gnu.org", "date": "1998-06-01T00:26:36Z"}, "message": "warn_summary: Update to Kaveh's latest version allowing to specify the last stage built.\n\n \n\t* warn_summary: Update to Kaveh's latest version allowing to\n\tspecify the last stage built.\n\nFrom-SVN: r20161", "tree": {"sha": "dfc29d24b3f6c183db9e44919a1253bfa1c2fbf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfc29d24b3f6c183db9e44919a1253bfa1c2fbf4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c903011605021fd0d4b69170b37a2f41ad66b38c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c903011605021fd0d4b69170b37a2f41ad66b38c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c903011605021fd0d4b69170b37a2f41ad66b38c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c903011605021fd0d4b69170b37a2f41ad66b38c/comments", "author": null, "committer": null, "parents": [{"sha": "91af92df6e82440368949cc14cbda10ef9904dd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91af92df6e82440368949cc14cbda10ef9904dd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91af92df6e82440368949cc14cbda10ef9904dd6"}], "stats": {"total": 29, "additions": 22, "deletions": 7}, "files": [{"sha": "c1607872861a9ae67ec94c186f69dc150c0727be", "filename": "contrib/warn_summary", "status": "modified", "additions": 22, "deletions": 7, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c903011605021fd0d4b69170b37a2f41ad66b38c/contrib%2Fwarn_summary", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c903011605021fd0d4b69170b37a2f41ad66b38c/contrib%2Fwarn_summary", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fwarn_summary?ref=c903011605021fd0d4b69170b37a2f41ad66b38c", "patch": "@@ -4,14 +4,18 @@\n #\n # By Kaveh Ghazi  (ghazi@caip.rutgers.edu)  12/13/97.\n \n-# This function displays all warnings from stage3 of the bootstrap.\n-stage3warns()\n+# This function displays all warnings from stageN of the bootstrap.\n+stageNwarns()\n {\n+  stageNminus1=`expr $stageN - 1`\n # Some awks choke on long lines so grep them out.\n   grep -v libf2c.a $1 | \\\n-\t$AWK '/ warning: /{if(t==1)print} ; /stage2/{if(t==0)t=1}'\n+\t$AWK \"/ warning: /{if(t==1)print} ; /stage$stageNminus1/{if(t==0)t=1} ; /stage$stageN/{if(t==1)t=0}\"\n }\n \n+usage=\"usage: `basename $0` [-s stage] [file(s)]\"\n+stageN=3\n+\n # Find a good awk.\n if test -z \"$AWK\" ; then\n   for AWK in gawk nawk awk ; do\n@@ -23,18 +27,29 @@ if test -z \"$AWK\" ; then\n   done\n fi\n \n+while test -n \"$1\" ; do\n+ case \"$1\" in\n+   -s)  if test -z \"$2\"; then echo $usage; exit 1; fi; stageN=\"$2\"; shift 2 ;;\n+   -s*) stageN=\"`expr $1 : '-s\\(.*\\)'`\" ; shift ;;\n+   -*)  echo $usage ; exit 1 ;;\n+   *)   break ;;\n+ esac\n+done\n+\n+\n+\n for file in \"$@\" ; do\n \n-  count=`stage3warns $file | wc -l`\n-  echo There are $count warnings in stage3 of this bootstrap.\n+  count=`stageNwarns $file | wc -l`\n+  echo There are $count warnings in stage$stageN of this bootstrap.\n \n   echo\n   echo Number of warnings per file:\n-  stage3warns $file | $AWK -F: '{print$1}' | sort | uniq -c | sort -nr\n+  stageNwarns $file | $AWK -F: '{print$1}' | sort | uniq -c | sort -nr\n \n   echo\n   echo Number of warning types:\n-  stage3warns $file | sed 's/.*warning: //; \n+  stageNwarns $file | sed 's/.*warning: //; \n \t\ts/`\\(int\\)'\"'\"'/\"\\1\"/g;\n \t\ts/`\\(char\\)'\"'\"'/\"\\1\"/g;\n \t\ts/`\\(inline\\)'\"'\"'/\"\\1\"/g;"}]}