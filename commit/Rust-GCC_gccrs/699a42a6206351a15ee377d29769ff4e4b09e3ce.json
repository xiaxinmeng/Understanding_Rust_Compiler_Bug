{"sha": "699a42a6206351a15ee377d29769ff4e4b09e3ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk5YTQyYTYyMDYzNTFhMTVlZTM3N2QyOTc2OWZmNGU0YjA5ZTNjZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "1999-12-09T10:41:45Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-12-09T10:41:45Z"}, "message": "linux64.h (TARGET_DEFAULT): Make -mapp-regs default on linux64 again.\n\n        * config/sparc/linux64.h (TARGET_DEFAULT): Make -mapp-regs\n        default on linux64 again.\n        * config/sparc/t-linux64: Add mno-app-regs and non-medlow code\n        models for multilibing.\n        * genmultilib: Accept | as alternative separator within a set in\n        MULTILIB_OPTIONS.\n\nFrom-SVN: r30841", "tree": {"sha": "049a8600399737ad4bba947e298352ca1d14d35b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/049a8600399737ad4bba947e298352ca1d14d35b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/699a42a6206351a15ee377d29769ff4e4b09e3ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/699a42a6206351a15ee377d29769ff4e4b09e3ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/699a42a6206351a15ee377d29769ff4e4b09e3ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/699a42a6206351a15ee377d29769ff4e4b09e3ce/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "373eb3b3b1bc8ceb67c43ada7efd1afa3ee7813f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/373eb3b3b1bc8ceb67c43ada7efd1afa3ee7813f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/373eb3b3b1bc8ceb67c43ada7efd1afa3ee7813f"}], "stats": {"total": 74, "additions": 53, "deletions": 21}, "files": [{"sha": "d306231610c3c1ce159e0d17c6e6aa77987c6ada", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=699a42a6206351a15ee377d29769ff4e4b09e3ce", "patch": "@@ -1,3 +1,12 @@\n+1999-12-09  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/sparc/linux64.h (TARGET_DEFAULT): Make -mapp-regs\n+\tdefault on linux64 again.\n+\t* config/sparc/t-linux64: Add mno-app-regs and non-medlow code\n+\tmodels for multilibing.\n+\t* genmultilib: Accept | as alternative separator within a set in\n+\tMULTILIB_OPTIONS.\n+\n Wed Dec  8 22:24:15 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* flow.c (count_basic_blocks): Don't add (use (const_int 0)) insns."}, {"sha": "1f84a249b6dd651b19907765b400946472cf15f8", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=699a42a6206351a15ee377d29769ff4e4b09e3ce", "patch": "@@ -38,7 +38,7 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_DEFAULT\n #define TARGET_DEFAULT \\\n   (MASK_V9 + MASK_PTR64 + MASK_64BIT /* + MASK_HARD_QUAD */ \\\n-   + MASK_STACK_BIAS + MASK_EPILOGUE + MASK_FPU)\n+   + MASK_STACK_BIAS + MASK_APP_REGS + MASK_EPILOGUE + MASK_FPU)\n #endif\n \n /* Output at beginning of assembler file.  */"}, {"sha": "efabfc7edc7d269c97ed3cf77780c13fb7d4d6ef", "filename": "gcc/config/sparc/t-linux64", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fconfig%2Fsparc%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fconfig%2Fsparc%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-linux64?ref=699a42a6206351a15ee377d29769ff4e4b09e3ce", "patch": "@@ -1,6 +1,7 @@\n-MULTILIB_OPTIONS = m64/m32\n-MULTILIB_DIRNAMES = 64 32\n-MULTILIB_MATCHES =\n+MULTILIB_OPTIONS = m64/m32 mno-app-regs|mcmodel=medany\n+MULTILIB_DIRNAMES = 64 32 alt \n+MULTILIB_MATCHES = mcmodel?medany=mcmodel?medmid\n+MULTILIB_EXCEPTIONS = *m32/*medany *m32/*mno-app-regs\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib"}, {"sha": "b6dfdf39c4f1a8c17832617b4515b670846b865a", "filename": "gcc/genmultilib", "status": "modified", "additions": 39, "deletions": 17, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fgenmultilib", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/699a42a6206351a15ee377d29769ff4e4b09e3ce/gcc%2Fgenmultilib", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenmultilib?ref=699a42a6206351a15ee377d29769ff4e4b09e3ce", "patch": "@@ -1,6 +1,6 @@\n #!/bin/sh \n # Generates multilib.h.\n-#   Copyright (C) 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n+#   Copyright (C) 1994, 1995, 1996, 1997, 1999 Free Software Foundation, Inc.\n \n #This file is part of GNU CC.\n \n@@ -25,9 +25,14 @@\n \n # The first argument is a list of sets of options.  The elements in\n # the list are separated by spaces.  Within an element, the options\n-# are separated by slashes.  No leading dash is used on the options.\n-# Each option in a set is mutually incompatible with all other options\n+# are separated by slashes or pipes.  No leading dash is used on the\n+# options.\n+# Each option in a set separated by slashes is mutually incompatible\n+# with all other options\n # in the set.\n+# Each option in a set separated by pipes will be used for the library\n+# compilation and any of the options in the set will be sufficient\n+# for it to be triggered.\n \n # The optional second argument is a list of subdirectory names.  If\n # the second argument is non-empty, there must be as many elements in\n@@ -106,13 +111,23 @@ cat >tmpmultilib <<\\EOF\n if [ \"$#\" != \"0\" ]; then\n   first=$1\n   shift\n-  for opt in `echo $first | sed -e 's|/| |'g`; do\n-    echo ${initial}${opt}/\n-  done\n-  ./tmpmultilib $@\n-  for opt in `echo $first | sed -e 's|/| |'g`; do\n-    initial=\"${initial}${opt}/\" ./tmpmultilib $@\n-  done\n+  case \"$first\" in\n+  *\\|*)\n+    all=${initial}`echo $first | sed -e 's_|_/_'g`\n+    first=`echo $first | sed -e 's_|_ _'g`\n+    echo ${all}/\n+    initial=\"${initial}${all}/\" ./tmpmultilib $@\n+    ./tmpmultilib $first $@ | grep -v \"^${all}\"\n+    ;;\n+  *)\n+    for opt in `echo $first | sed -e 's|/| |'g`; do\n+      echo ${initial}${opt}/\n+    done\n+    ./tmpmultilib $@\n+    for opt in `echo $first | sed -e 's|/| |'g`; do\n+      initial=\"${initial}${opt}/\" ./tmpmultilib $@\n+    done\n+  esac\n fi\n EOF\n chmod +x tmpmultilib\n@@ -155,10 +170,17 @@ if [ -n \"${dirnames}\" ]; then\n   set x ${dirnames}\n   shift\n   for set in ${options}; do\n-    for opt in `echo ${set} | sed -e 's|/| |'g`; do\n-      if [ \"$1\" != \"${opt}\" ]; then\n-        todirnames=\"${todirnames} -e s|/${opt}/|/${1}/|g\"\n-      fi\n+    for opts in `echo ${set} | sed -e 's|/| |'g`; do\n+      patt=\"/\"\n+      for opt in `echo ${opts} | sed -e 's_|_ _'g`; do\n+        if [ \"$1\" != \"${opt}\" ]; then\n+          todirnames=\"${todirnames} -e s|/${opt}/|/${1}/|g\"\n+\t  patt=\"${patt}${1}/\"\n+\t  if [ \"${patt}\" != \"/${1}/\" ]; then\n+\t    todirnames=\"${todirnames} -e s|${patt}|/${1}/|g\"\n+          fi\n+        fi\n+      done\n       shift\n     done\n   done\n@@ -198,7 +220,7 @@ chmod +x tmpmultilib2\n # Start with the current directory, which includes only negations.\n optout=\n for set in ${options}; do\n-  for opt in `echo ${set} | sed -e 's|/| |'g`; do\n+  for opt in `echo ${set} | sed -e 's_[/|]_ _g'`; do\n     optout=\"${optout} !${opt}\"\n   done\n done\n@@ -223,7 +245,7 @@ for combo in ${combinations}; do\n   # present, and negate each option that is not present.\n   optout=\n   for set in ${options}; do\n-    setopts=`echo ${set} | sed -e 's|/| |g'`\n+    setopts=`echo ${set} | sed -e 's_[/|]_ _g'`\n     for opt in ${setopts}; do\n       if expr \"${combo} \" : \".*/${opt}/.*\" > /dev/null; then\n \toptout=\"${optout} ${opt}\"\n@@ -254,7 +276,7 @@ for match in ${matches}; do\n   echo \"\\\"${r} ${l};\\\",\"\n done\n for set in ${options}; do\n-  for opt in `echo ${set} | sed -e 's|/| |'g`; do\n+  for opt in `echo ${set} | sed -e 's_[/|]_ _'g`; do\n     echo \"\\\"${opt} ${opt};\\\",\"\n   done\n done"}]}