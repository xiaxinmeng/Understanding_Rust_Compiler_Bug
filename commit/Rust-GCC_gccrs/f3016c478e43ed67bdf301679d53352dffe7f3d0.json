{"sha": "f3016c478e43ed67bdf301679d53352dffe7f3d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMwMTZjNDc4ZTQzZWQ2N2JkZjMwMTY3OWQ1MzM1MmRmZmU3ZjNkMA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-08-10T08:48:37Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-08-10T08:48:37Z"}, "message": "re PR bootstrap/49907 (lto-plugin -Wall in stage1)\n\n2011-08-10  Richard Guenther  <rguenther@suse.de>\n\n\tPR bootstrap/49907\n\tlto-plugin/\n\t* configure.ac: Use ACX_PROG_CC_WARNING_OPTS to detect -Wall presence.\n\t* Makefile.am (AM_CFLAGS): Adjust.  Do not build with -Werror.\n\t* configure: Regenerate.\n\t* Makefile.in: Likewise.\n\t* aclocal.m4: Likewise.\n\nFrom-SVN: r177614", "tree": {"sha": "cea47d2eb05d752cb1acdff0aad1891625790827", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cea47d2eb05d752cb1acdff0aad1891625790827"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3016c478e43ed67bdf301679d53352dffe7f3d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3016c478e43ed67bdf301679d53352dffe7f3d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3016c478e43ed67bdf301679d53352dffe7f3d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3016c478e43ed67bdf301679d53352dffe7f3d0/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d62bab6a7c366d625c1f31903ec971f4e5f1349e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d62bab6a7c366d625c1f31903ec971f4e5f1349e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d62bab6a7c366d625c1f31903ec971f4e5f1349e"}], "stats": {"total": 62, "additions": 58, "deletions": 4}, "files": [{"sha": "3fb20a9c0afd8983427032f42c3625ee258918ee", "filename": "lto-plugin/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FChangeLog?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -1,3 +1,13 @@\n+2011-08-10  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR bootstrap/49907\n+\tlto-plugin/\n+\t* configure.ac: Use ACX_PROG_CC_WARNING_OPTS to detect -Wall presence.\n+\t* Makefile.am (AM_CFLAGS): Adjust.  Do not build with -Werror.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Likewise.\n+\t* aclocal.m4: Likewise.\n+\n 2011-04-20  Jim Meyering  <meyering@redhat.com>\n \n \t* lto-plugin.c (free_1, free_2): Remove useless if-before-free."}, {"sha": "b24015e137bf73156371ce0efc5bea2efb51d8d6", "filename": "lto-plugin/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.am?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -8,7 +8,7 @@ target_noncanonical := @target_noncanonical@\n libexecsubdir := $(libexecdir)/gcc/$(target_noncanonical)/$(gcc_version)\n \n AM_CPPFLAGS = -I$(top_srcdir)/../include $(DEFS)\n-AM_CFLAGS = -Wall -Werror\n+AM_CFLAGS = @ac_lto_plugin_warn_cflags@\n AM_LIBTOOLFLAGS = --tag=disable-static\n \n libexecsub_LTLIBRARIES = liblto_plugin.la"}, {"sha": "0c8d89fc7e2efe8254818d3394b1b5d56b391001", "filename": "lto-plugin/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2FMakefile.in?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -47,6 +47,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/lthostflags.m4 \\\n \t$(top_srcdir)/../config/override.m4 \\\n+\t$(top_srcdir)/../config/warnings.m4 \\\n \t$(top_srcdir)/../libtool.m4 $(top_srcdir)/../ltoptions.m4 \\\n \t$(top_srcdir)/../ltsugar.m4 $(top_srcdir)/../ltversion.m4 \\\n \t$(top_srcdir)/../lt~obsolete.m4 $(top_srcdir)/configure.ac\n@@ -167,6 +168,7 @@ abs_top_builddir = @abs_top_builddir@\n abs_top_srcdir = @abs_top_srcdir@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n+ac_lto_plugin_warn_cflags = @ac_lto_plugin_warn_cflags@\n am__include = @am__include@\n am__leading_dot = @am__leading_dot@\n am__quote = @am__quote@\n@@ -227,7 +229,7 @@ AUTOMAKE_OPTIONS = no-dependencies\n gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n libexecsubdir := $(libexecdir)/gcc/$(target_noncanonical)/$(gcc_version)\n AM_CPPFLAGS = -I$(top_srcdir)/../include $(DEFS)\n-AM_CFLAGS = -Wall -Werror\n+AM_CFLAGS = @ac_lto_plugin_warn_cflags@\n AM_LIBTOOLFLAGS = --tag=disable-static\n libexecsub_LTLIBRARIES = liblto_plugin.la\n gcc_build_dir = ../$(host_subdir)/gcc"}, {"sha": "ce9a5c2e428d7a283988f41c53d180055838a2dc", "filename": "lto-plugin/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Faclocal.m4?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -973,6 +973,7 @@ m4_include([../config/depstand.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/lthostflags.m4])\n m4_include([../config/override.m4])\n+m4_include([../config/warnings.m4])\n m4_include([../libtool.m4])\n m4_include([../ltoptions.m4])\n m4_include([../ltsugar.m4])"}, {"sha": "9815917f8fde64126e345aa7e986ef9a1cb3c6f7", "filename": "lto-plugin/configure", "status": "modified", "additions": 42, "deletions": 2, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Fconfigure?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -622,6 +622,7 @@ EGREP\n GREP\n SED\n LIBTOOL\n+ac_lto_plugin_warn_cflags\n am__fastdepCC_FALSE\n am__fastdepCC_TRUE\n CCDEPMODE\n@@ -4040,6 +4041,45 @@ rm -rf conftest*\n   fi\n fi\n \n+ac_lto_plugin_warn_cflags=\n+save_CFLAGS=\"$CFLAGS\"\n+for option in -Wall; do\n+  as_acx_Woption=`$as_echo \"acx_cv_prog_cc_warning_$option\" | $as_tr_sh`\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CC supports $option\" >&5\n+$as_echo_n \"checking whether $CC supports $option... \" >&6; }\n+if { as_var=$as_acx_Woption; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  CFLAGS=\"$option\"\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  eval \"$as_acx_Woption=yes\"\n+else\n+  eval \"$as_acx_Woption=no\"\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+fi\n+eval ac_res=\\$$as_acx_Woption\n+\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n+$as_echo \"$ac_res\" >&6; }\n+  if test `eval 'as_val=${'$as_acx_Woption'};$as_echo \"$as_val\"'` = yes; then :\n+  ac_lto_plugin_warn_cflags=\"$ac_lto_plugin_warn_cflags${ac_lto_plugin_warn_cflags:+ }$option\"\n+fi\n+  done\n+CFLAGS=\"$save_CFLAGS\"\n+\n case `pwd` in\n   *\\ * | *\\\t*)\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: Libtool does not cope well with whitespace in \\`pwd\\`\" >&5\n@@ -10498,7 +10538,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10501 \"configure\"\n+#line 10541 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10604,7 +10644,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10607 \"configure\"\n+#line 10647 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "9a418d231fe52b73b9d18ad5443bfafda2ad89e0", "filename": "lto-plugin/configure.ac", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3016c478e43ed67bdf301679d53352dffe7f3d0/lto-plugin%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/lto-plugin%2Fconfigure.ac?ref=f3016c478e43ed67bdf301679d53352dffe7f3d0", "patch": "@@ -6,6 +6,7 @@ AM_INIT_AUTOMAKE([foreign no-dist])\n AM_MAINTAINER_MODE\n AC_PROG_CC\n AC_SYS_LARGEFILE\n+ACX_PROG_CC_WARNING_OPTS([-Wall], [ac_lto_plugin_warn_cflags])\n AM_PROG_LIBTOOL\n ACX_LT_HOST_FLAGS\n AC_SUBST(target_noncanonical)"}]}