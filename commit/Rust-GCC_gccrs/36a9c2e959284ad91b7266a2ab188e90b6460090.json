{"sha": "36a9c2e959284ad91b7266a2ab188e90b6460090", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZhOWMyZTk1OTI4NGFkOTFiNzI2NmEyYWIxODhlOTBiNjQ2MDA5MA==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-05-05T23:34:48Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-05-05T23:34:48Z"}, "message": "combine.c (combinable_i3pat): Do not make REG_DEAD notes for the stack pointer, frame pointer or arg pointer.\n\n\t* combine.c (combinable_i3pat): Do not make REG_DEAD notes for\n\tthe stack pointer, frame pointer or arg pointer.\n\nFrom-SVN: r4345", "tree": {"sha": "41127013820dc7e8b7c81b6bf4330ba750ed86ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41127013820dc7e8b7c81b6bf4330ba750ed86ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36a9c2e959284ad91b7266a2ab188e90b6460090", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a9c2e959284ad91b7266a2ab188e90b6460090", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36a9c2e959284ad91b7266a2ab188e90b6460090", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a9c2e959284ad91b7266a2ab188e90b6460090/comments", "author": null, "committer": null, "parents": [{"sha": "194c082fed560df8e159d72303bdd10c77c109ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/194c082fed560df8e159d72303bdd10c77c109ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/194c082fed560df8e159d72303bdd10c77c109ea"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "66375ff68e5a86e419fff2d4e9ac861415870cf3", "filename": "gcc/combine.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36a9c2e959284ad91b7266a2ab188e90b6460090/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36a9c2e959284ad91b7266a2ab188e90b6460090/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=36a9c2e959284ad91b7266a2ab188e90b6460090", "patch": "@@ -1043,9 +1043,18 @@ combinable_i3pat (i3, loc, i2dest, i1dest, i1_not_in_src, pi3dest_killed)\n \treturn 0;\n \n       /* If DEST is used in I3, it is being killed in this insn,\n-\t so record that for later.  */\n+\t so record that for later. \n+\t Never add REG_DEAD notes for the FRAME_POINTER_REGNUM or the\n+\t STACK_POINTER_REGNUM, since these are always considered to be\n+\t live.  Similarly for ARG_POINTER_REGNUM if it is fixed.  */\n       if (pi3dest_killed && GET_CODE (dest) == REG\n-\t  && reg_referenced_p (dest, PATTERN (i3)))\n+\t  && reg_referenced_p (dest, PATTERN (i3))\n+\t  && REGNO (dest) != FRAME_POINTER_REGNUM\n+#if ARG_POINTER_REGNUM != FRAME_POINTER_REGNUM\n+\t  && (REGNO (dest) != ARG_POINTER_REGNUM\n+\t      || ! fixed_regs [REGNO (dest)])\n+#endif\n+\t  && REGNO (dest) != STACK_POINTER_REGNUM)\n \t{\n \t  if (*pi3dest_killed)\n \t    return 0;"}]}