{"sha": "c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY1MWUxZTA4NTcxZmRmNTlkYTkyODllOWZkOTdjMGJlODRlYzZiNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchell@usa.net", "date": "1998-04-01T13:45:40Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-04-01T13:45:40Z"}, "message": "varasm.c (make_decl_rtl): Update the DECL_ASSEMBLER_NAME for a entity in a local scope.\n\n\t* varasm.c (make_decl_rtl): Update the DECL_ASSEMBLER_NAME for a\n\tentity in a local scope.\n\t* fold-const.c (fold): Call truthvalue_conversion for values which\n\tare folded to boolean type.\n\nFrom-SVN: r18929", "tree": {"sha": "d3f7291b661afbc8eb2c33949cf6f107a80050a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3f7291b661afbc8eb2c33949cf6f107a80050a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/comments", "author": null, "committer": null, "parents": [{"sha": "3a598fbeb416142a7b9aa9a332eab71c1828d36b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a598fbeb416142a7b9aa9a332eab71c1828d36b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a598fbeb416142a7b9aa9a332eab71c1828d36b"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "2ab4fa966e6412b4b2dc8f24d114a3c9b8ad2976", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "patch": "@@ -1,3 +1,11 @@\n+1998-04-01  Mark Mitchell  <mmitchell@usa.net>\n+\n+\t* varasm.c (make_decl_rtl): Update the DECL_ASSEMBLER_NAME for a\n+\tentity in a local scope.\n+\n+\t* fold-const.c (fold): Call truthvalue_conversion for values which\n+\tare folded to boolean type.\n+\n Wed Apr  1 06:09:53 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* 1750a.md, arm.c, clipper.c, clipper.md: Use GEN_INT consistently."}, {"sha": "537e2b201f44a5a6414f21dcbba9f5b32f5e3e2e", "filename": "gcc/fold-const.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "patch": "@@ -5636,6 +5636,8 @@ fold (expr)\n \tTREE_INT_CST_LOW (t1) ^= 1;\n \n       TREE_TYPE (t1) = type;\n+      if (TREE_CODE (type) == BOOLEAN_TYPE)\n+\treturn truthvalue_conversion (t1);\n       return t1;\n \n     case COND_EXPR:"}, {"sha": "634753ea6f257d5a856ee0f56875a4f02c316356", "filename": "gcc/varasm.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c651e1e08571fdf59da9289e9fd97c0be84ec6b4/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=c651e1e08571fdf59da9289e9fd97c0be84ec6b4", "patch": "@@ -734,6 +734,12 @@ make_decl_rtl (decl, asmspec, top_level)\n \t      ASM_FORMAT_PRIVATE_NAME (label, name, var_labelno);\n \t      name = obstack_copy0 (saveable_obstack, label, strlen (label));\n \t      var_labelno++;\n+\n+\t      /* We've changed the name by which this entity is\n+\t\t known.  In order that we can generate \n+\t\t correct references to it, we update its\n+\t\t DECL_ASSEMBLER_NAME.  */\n+\t      DECL_ASSEMBLER_NAME (decl) = get_identifier (name);\n \t    }\n \n \t  if (name == 0)"}]}