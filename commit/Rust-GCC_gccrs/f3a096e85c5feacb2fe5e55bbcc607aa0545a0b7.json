{"sha": "f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNhMDk2ZTg1YzVmZWFjYjJmZTVlNTViYmNjNjA3YWEwNTQ1YTBiNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-07-10T02:21:12Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-07-10T02:21:12Z"}, "message": "* builtins.c (expand_builtin_stpcpy): Don't modify len.\n\nFrom-SVN: r84435", "tree": {"sha": "be03de63c62861ac911ec3443d502f80da74720a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be03de63c62861ac911ec3443d502f80da74720a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7/comments", "author": null, "committer": null, "parents": [{"sha": "21f56031ca49d7c142075e533a40a42fd2af296d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21f56031ca49d7c142075e533a40a42fd2af296d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21f56031ca49d7c142075e533a40a42fd2af296d"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "3fb67e77a89e7919cc1db8e393022bae38253ac2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "patch": "@@ -1,3 +1,7 @@\n+2004-07-09  Richard Henderson  <rth@redhat.com>\n+\n+\t* builtins.c (expand_builtin_stpcpy): Don't modify len.\n+\n 2004-07-10  Kelley Cook  <kcook@gcc.gnu.org>\n \n \t* flags.h: Delete redundant prototypes that are being generated"}, {"sha": "91d3c87a50fc72630e4fb103390a96735a238274", "filename": "gcc/builtins.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=f3a096e85c5feacb2fe5e55bbcc607aa0545a0b7", "patch": "@@ -3102,7 +3102,7 @@ expand_builtin_stpcpy (tree arglist, rtx target, enum machine_mode mode)\n     return 0;\n   else\n     {\n-      tree dst, src, len;\n+      tree dst, src, len, lenp1;\n       tree narglist;\n       rtx ret;\n \n@@ -3117,8 +3117,8 @@ expand_builtin_stpcpy (tree arglist, rtx target, enum machine_mode mode)\n \t\t\t      target, /*endp=*/2);\n \n       dst = TREE_VALUE (arglist);\n-      len = fold (size_binop (PLUS_EXPR, len, ssize_int (1)));\n-      narglist = build_tree_list (NULL_TREE, len);\n+      lenp1 = size_binop (PLUS_EXPR, len, ssize_int (1));\n+      narglist = build_tree_list (NULL_TREE, lenp1);\n       narglist = tree_cons (NULL_TREE, src, narglist);\n       narglist = tree_cons (NULL_TREE, dst, narglist);\n       ret = expand_builtin_mempcpy (narglist, target, mode, /*endp=*/2);"}]}