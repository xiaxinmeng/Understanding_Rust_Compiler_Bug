{"sha": "54bf2539c55b886ea60d407a7ef2f56f0a19e861", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTRiZjI1MzljNTViODg2ZWE2MGQ0MDdhN2VmMmY1NmYwYTE5ZTg2MQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2019-11-20T01:02:46Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2019-11-20T01:02:46Z"}, "message": "cvt.c (ocp_convert): Use additional warning sentinel.\n\n/cp\n2019-11-20  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* cvt.c (ocp_convert): Use additional warning sentinel.\n\n/testsuite\n2019-11-20  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* g++.dg/warn/multiple-sign-compare-warn-1.C: New.\n\nFrom-SVN: r278475", "tree": {"sha": "cd7b998fe3ca5f58cbfbb179cdea717858fc3eca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd7b998fe3ca5f58cbfbb179cdea717858fc3eca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54bf2539c55b886ea60d407a7ef2f56f0a19e861", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54bf2539c55b886ea60d407a7ef2f56f0a19e861", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54bf2539c55b886ea60d407a7ef2f56f0a19e861", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54bf2539c55b886ea60d407a7ef2f56f0a19e861/comments", "author": null, "committer": null, "parents": [{"sha": "56d475cab2f80341343d518f73aeef0e8630555c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d475cab2f80341343d518f73aeef0e8630555c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56d475cab2f80341343d518f73aeef0e8630555c"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "34af32c9f194e42dab616c889aee6e01682dcfd8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=54bf2539c55b886ea60d407a7ef2f56f0a19e861", "patch": "@@ -1,3 +1,7 @@\n+2019-11-20  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* cvt.c (ocp_convert): Use additional warning sentinel.\n+\n 2019-11-19  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/92414"}, {"sha": "e67b32ea3b0de6fd6b6f7894d1184636c96116f2", "filename": "gcc/cp/cvt.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Fcp%2Fcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Fcp%2Fcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcvt.c?ref=54bf2539c55b886ea60d407a7ef2f56f0a19e861", "patch": "@@ -847,6 +847,7 @@ ocp_convert (tree type, tree expr, int convtype, int flags,\n \t      /* Prevent bogus -Wint-in-bool-context warnings coming\n \t\t from c_common_truthvalue_conversion down the line.  */\n \t      warning_sentinel w (warn_int_in_bool_context);\n+\t      warning_sentinel c (warn_sign_compare);\n \t      return cp_truthvalue_conversion (e, complain);\n \t    }\n \t}"}, {"sha": "0964e44ada59187dcc395efc8e9a7ff940e4e2c2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=54bf2539c55b886ea60d407a7ef2f56f0a19e861", "patch": "@@ -1,3 +1,7 @@\n+2019-11-20  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* g++.dg/warn/multiple-sign-compare-warn-1.C: New.\n+\n 2019-11-20  Joseph Myers  <joseph@codesourcery.com>\n \n \t* gcc.dg/c2x-attr-deprecated-2.c, gcc.dg/c2x-attr-fallthrough-2.c,"}, {"sha": "39426cd73cfa10928c686ce472d4bb211ddaeb92", "filename": "gcc/testsuite/g++.dg/warn/multiple-sign-compare-warn-1.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fmultiple-sign-compare-warn-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bf2539c55b886ea60d407a7ef2f56f0a19e861/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fmultiple-sign-compare-warn-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fmultiple-sign-compare-warn-1.C?ref=54bf2539c55b886ea60d407a7ef2f56f0a19e861", "patch": "@@ -0,0 +1,11 @@\n+// { dg-options \"-Wsign-compare\" }\n+\n+int foo()\n+{\n+  unsigned char b = '1';\n+\n+  bool x = ~b; // { dg-bogus \"promoted bitwise complement of an unsigned value is always nonzero.*promoted bitwise complement of an unsigned value is always nonzero\" }\n+ // { dg-warning \"promoted bitwise complement of an unsigned value is always nonzero\" \"\" { target *-*-* } .-1 }\n+\n+  return 0;\n+}"}]}