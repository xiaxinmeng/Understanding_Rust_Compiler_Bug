{"sha": "0c58da3ed06415bce7a2cc636b9c8343237c8736", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM1OGRhM2VkMDY0MTViY2U3YTJjYzYzNmI5YzgzNDMyMzdjODczNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-01-08T01:58:54Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-01-08T01:58:54Z"}, "message": "decl2.c (grokfield): Don't accept `asm' specifiers for non-static data members.\n\n\t* decl2.c (grokfield): Don't accept `asm' specifiers for\n\tnon-static data members.\n\nFrom-SVN: r38792", "tree": {"sha": "d36ca4f64fca2eb5b935f93b00bee0d54e6ba253", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d36ca4f64fca2eb5b935f93b00bee0d54e6ba253"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c58da3ed06415bce7a2cc636b9c8343237c8736", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c58da3ed06415bce7a2cc636b9c8343237c8736", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c58da3ed06415bce7a2cc636b9c8343237c8736", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c58da3ed06415bce7a2cc636b9c8343237c8736/comments", "author": null, "committer": null, "parents": [{"sha": "b1095f9cec18563c97fb5106b30019cff71a86bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1095f9cec18563c97fb5106b30019cff71a86bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1095f9cec18563c97fb5106b30019cff71a86bd"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "0f4e41c18a513fd0ed288ab460d7daa9f38a6d64", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0c58da3ed06415bce7a2cc636b9c8343237c8736", "patch": "@@ -1,3 +1,8 @@\n+2001-01-07  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* decl2.c (grokfield): Don't accept `asm' specifiers for\n+\tnon-static data members.\n+\n 2001-01-07  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* expr.c (cplus_expand_expr): Don't reset `target'."}, {"sha": "a8269c28f0f5b879e8cac2a56c4988947343c009", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=0c58da3ed06415bce7a2cc636b9c8343237c8736", "patch": "@@ -1794,15 +1794,10 @@ grokfield (declarator, declspecs, init, asmspec_tree, attrlist)\n   if (TREE_CODE (value) == FIELD_DECL)\n     {\n       if (asmspec)\n-\t{\n-\t  /* This must override the asm specifier which was placed\n-\t     by grokclassfn.  Lay this out fresh.  */\n-\t  DECL_RTL (value) = NULL_RTX;\n-\t  DECL_ASSEMBLER_NAME (value) = get_identifier (asmspec);\n-\t}\n+\tcp_error (\"`asm' specifiers are not permitted on non-static data members\");\n       if (DECL_INITIAL (value) == error_mark_node)\n \tinit = error_mark_node;\n-      cp_finish_decl (value, init, asmspec_tree, flags);\n+      cp_finish_decl (value, init, NULL_TREE, flags);\n       DECL_INITIAL (value) = init;\n       DECL_IN_AGGR_P (value) = 1;\n       return value;"}, {"sha": "b7065d759f2065593d0c32f18bb3f73b94108468", "filename": "gcc/testsuite/g++.old-deja/g++.other/asm1.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fasm1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c58da3ed06415bce7a2cc636b9c8343237c8736/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fasm1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fasm1.C?ref=0c58da3ed06415bce7a2cc636b9c8343237c8736", "patch": "@@ -0,0 +1,6 @@\n+// Build don't link:\n+// Origin: Mark Mitchell <mark@codesourcery.com>\n+\n+struct S {\n+  int i asm (\"abc\"); // ERROR - `asm' specifier not permitted \n+};"}]}