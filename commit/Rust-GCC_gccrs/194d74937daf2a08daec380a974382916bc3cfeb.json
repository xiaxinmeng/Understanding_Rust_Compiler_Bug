{"sha": "194d74937daf2a08daec380a974382916bc3cfeb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk0ZDc0OTM3ZGFmMmEwOGRhZWMzODBhOTc0MzgyOTE2YmMzY2ZlYg==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-06-07T03:04:04Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-06-07T03:04:04Z"}, "message": "cpplib.h (struct parse_file): Removed.\n\n* cpplib.h (struct parse_file):  Removed.\n(CPP_FATAL_LIMIT, CPP_FATAL_ERRORS, CPP_OUT_BUFFER):  New macros.\n\nFrom-SVN: r12199", "tree": {"sha": "e18a4f66177eeb779feffa12e1d17b43732e2068", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e18a4f66177eeb779feffa12e1d17b43732e2068"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/194d74937daf2a08daec380a974382916bc3cfeb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/194d74937daf2a08daec380a974382916bc3cfeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/194d74937daf2a08daec380a974382916bc3cfeb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/194d74937daf2a08daec380a974382916bc3cfeb/comments", "author": null, "committer": null, "parents": [{"sha": "1c20ae99caa2fc9cef616a71d9a85b88ede29d03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c20ae99caa2fc9cef616a71d9a85b88ede29d03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c20ae99caa2fc9cef616a71d9a85b88ede29d03"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "44a949d2e59c378dc1b89c8588e5be28ca74959a", "filename": "gcc/cpplib.h", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/194d74937daf2a08daec380a974382916bc3cfeb/gcc%2Fcpplib.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/194d74937daf2a08daec380a974382916bc3cfeb/gcc%2Fcpplib.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.h?ref=194d74937daf2a08daec380a974382916bc3cfeb", "patch": "@@ -29,7 +29,6 @@ extern \"C\" {\n \n typedef unsigned char U_CHAR;\n \n-struct parse_file;\n typedef struct cpp_reader cpp_reader;\n typedef struct cpp_buffer cpp_buffer;\n typedef struct cpp_options cpp_options;\n@@ -266,12 +265,20 @@ struct cpp_reader {\n #endif\n };\n \n+#define CPP_FATAL_LIMIT 1000\n+/* True if we have seen a \"fatal\" error. */\n+#define CPP_FATAL_ERRORS(READER) ((READER)->errors >= CPP_FATAL_LIMIT)\n+\n #define CPP_BUF_PEEK(BUFFER) \\\n   ((BUFFER)->cur < (BUFFER)->rlimit ? *(BUFFER)->cur : EOF)\n #define CPP_BUF_GET(BUFFER) \\\n   ((BUFFER)->cur < (BUFFER)->rlimit ? *(BUFFER)->cur++ : EOF)\n #define CPP_FORWARD(BUFFER, N) ((BUFFER)->cur += (N))\n \n+/* Macros for manipulating the token_buffer. */\n+\n+#define CPP_OUT_BUFFER(PFILE) ((PFILE)->token_buffer)\n+\n /* Number of characters currently in PFILE's output buffer. */\n #define CPP_WRITTEN(PFILE) ((PFILE)->limit - (PFILE)->token_buffer)\n #define CPP_PWRITTEN(PFILE) ((PFILE)->limit)\n@@ -298,8 +305,10 @@ struct cpp_reader {\n #define CPP_SET_WRITTEN(PFILE,N) ((PFILE)->limit = (PFILE)->token_buffer + (N))\n \n #define CPP_OPTIONS(PFILE) ((cpp_options*)(PFILE)->data)\n+\n #define CPP_BUFFER(PFILE) ((PFILE)->buffer)\n #define CPP_PREV_BUFFER(BUFFER) ((BUFFER)+1)\n+/* The bottom of the buffer stack. */\n #define CPP_NULL_BUFFER(PFILE) (&(PFILE)->buffer_stack[CPP_STACK_MAX])\n \n /* Pointed to by cpp_reader::data. */"}]}