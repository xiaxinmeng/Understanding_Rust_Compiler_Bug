{"sha": "6bff33fb01fdf5bf628d03c47ce94294f8c586be", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJmZjMzZmIwMWZkZjViZjYyOGQwM2M0N2NlOTQyOTRmOGM1ODZiZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2002-03-01T00:49:53Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2002-03-01T00:49:53Z"}, "message": "configure.in (libstdcxx_flags): Don't add libstdc++-v3 flags for libjava.\n\n* configure.in (libstdcxx_flags): Don't add libstdc++-v3 flags for\nlibjava.\n(CXX_FOR_TARGET): Explain why -shared-libgcc here.\n\nFrom-SVN: r50169", "tree": {"sha": "99f0c163cc46e120456cb4098c18c727dbe3e321", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99f0c163cc46e120456cb4098c18c727dbe3e321"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bff33fb01fdf5bf628d03c47ce94294f8c586be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bff33fb01fdf5bf628d03c47ce94294f8c586be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bff33fb01fdf5bf628d03c47ce94294f8c586be", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bff33fb01fdf5bf628d03c47ce94294f8c586be/comments", "author": null, "committer": null, "parents": [{"sha": "2060fd4ca6372a2b6c4c9c3dd0db38a408a13a6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2060fd4ca6372a2b6c4c9c3dd0db38a408a13a6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2060fd4ca6372a2b6c4c9c3dd0db38a408a13a6a"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "462eb3e36bd1eaecbf3043569c284e922eac496d", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bff33fb01fdf5bf628d03c47ce94294f8c586be/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bff33fb01fdf5bf628d03c47ce94294f8c586be/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=6bff33fb01fdf5bf628d03c47ce94294f8c586be", "patch": "@@ -1,3 +1,9 @@\n+2002-02-28  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* configure.in (libstdcxx_flags): Don't add libstdc++-v3 flags for\n+\tlibjava.\n+\t(CXX_FOR_TARGET): Explain why -shared-libgcc here.\n+\n 2002-02-23  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* Makefile.in (MAKEINFO): Don't assume makeinfo will be built just"}, {"sha": "8c37ac9bef3ca1976af67d52a659cbe4251d4e5e", "filename": "configure.in", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bff33fb01fdf5bf628d03c47ce94294f8c586be/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bff33fb01fdf5bf628d03c47ce94294f8c586be/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=6bff33fb01fdf5bf628d03c47ce94294f8c586be", "patch": "@@ -50,7 +50,7 @@ fi\n \n libstdcxx_version=\"target-libstdc++-v3\"\n # Don't use libstdc++-v3's flags to configure/build itself.\n-libstdcxx_flags='`case $$dir in libstdc++-v3) ;; *) test ! -f $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags || $(SHELL) $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags --build-includes;; esac` -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs'\n+libstdcxx_flags='`case $$dir in libstdc++-v3 | libjava) ;; *) test ! -f $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags || $(SHELL) $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags --build-includes;; esac` -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs'\n \n # these tools are built for the host environment\n # Note, the powerpc-eabi build depends on sim occurring before gdb in order to\n@@ -1548,6 +1548,9 @@ fi\n if test \"x${CXX_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${topsrcdir}/gcc; then\n+  # We add -shared-libgcc to CXX_FOR_TARGET whenever we use xgcc instead\n+  # of g++ for linking C++ or Java, because g++ has -shared-libgcc by\n+  # default whereas gcc does not.\n   CXX_FOR_TARGET='$$r/gcc/`case $$dir in libstdc++-v3 | libjava) echo xgcc -shared-libgcc ;; *) echo g++ ;; esac` -B$$r/gcc/ -nostdinc++ '$libstdcxx_flags\n elif test \"$host\" = \"$target\"; then\n   CXX_FOR_TARGET='$(CXX)'"}]}