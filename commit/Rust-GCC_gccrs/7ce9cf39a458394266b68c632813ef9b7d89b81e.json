{"sha": "7ce9cf39a458394266b68c632813ef9b7d89b81e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2NlOWNmMzlhNDU4Mzk0MjY2YjY4YzYzMjgxM2VmOWI3ZDg5YjgxZQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2015-08-25T23:32:06Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2015-08-25T23:32:06Z"}, "message": "configure.ac: Only compile with -fPIC if the target supports it.\n\n\t* configure.ac: Only compile with -fPIC if the target\n\tsupports it.\n\t* configure: Regenerate.\n\nFrom-SVN: r227203", "tree": {"sha": "cb01c9c9d57c1272bda09c4601ea9503707034f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb01c9c9d57c1272bda09c4601ea9503707034f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ce9cf39a458394266b68c632813ef9b7d89b81e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ce9cf39a458394266b68c632813ef9b7d89b81e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ce9cf39a458394266b68c632813ef9b7d89b81e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ce9cf39a458394266b68c632813ef9b7d89b81e/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fd1b493945637c44444f4a079dc35254da5cdd60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd1b493945637c44444f4a079dc35254da5cdd60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd1b493945637c44444f4a079dc35254da5cdd60"}], "stats": {"total": 34, "additions": 31, "deletions": 3}, "files": [{"sha": "8961199e36d860a6354dd8924e644275cee504c3", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=7ce9cf39a458394266b68c632813ef9b7d89b81e", "patch": "@@ -1,3 +1,9 @@\n+2015-08-26  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* configure.ac: Only compile with -fPIC if the target\n+\tsupports it.\n+\t* configure: Regenerate.\n+\n 2015-08-24  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* configure.ac: Set have_mmap to no on spu-*-* targets."}, {"sha": "72832d529e1700af0e9357990589e016e8d30adc", "filename": "libbacktrace/configure", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure?ref=7ce9cf39a458394266b68c632813ef9b7d89b81e", "patch": "@@ -11710,11 +11710,29 @@ fi\n \n # When building as a target library, shared libraries may want to link\n # this in.  We don't want to provide another shared library to\n-# complicate dependencies.  Instead, we just compile with -fPIC.\n+# complicate dependencies.  Instead, we just compile with -fPIC, if\n+# the target supports compiling with that option.\n PIC_FLAG=\n if test -n \"${with_target_subdir}\"; then\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -fPIC\"\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n   PIC_FLAG=-fPIC\n fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  CFLAGS=\"$ac_save_CFLAGS\"\n+fi\n # Similarly, use -fPIC with --enable-host-shared:\n # Check whether --enable-host-shared was given.\n if test \"${enable_host_shared+set}\" = set; then :"}, {"sha": "feca006974b39c953081a8d6ebb10da3dc53f505", "filename": "libbacktrace/configure.ac", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ce9cf39a458394266b68c632813ef9b7d89b81e/libbacktrace%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2Fconfigure.ac?ref=7ce9cf39a458394266b68c632813ef9b7d89b81e", "patch": "@@ -163,10 +163,14 @@ fi\n \n # When building as a target library, shared libraries may want to link\n # this in.  We don't want to provide another shared library to\n-# complicate dependencies.  Instead, we just compile with -fPIC.\n+# complicate dependencies.  Instead, we just compile with -fPIC, if\n+# the target supports compiling with that option.\n PIC_FLAG=\n if test -n \"${with_target_subdir}\"; then\n-  PIC_FLAG=-fPIC\n+  ac_save_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -fPIC\"\n+  AC_TRY_COMPILE([], [], [PIC_FLAG=-fPIC])\n+  CFLAGS=\"$ac_save_CFLAGS\"\n fi\n # Similarly, use -fPIC with --enable-host-shared:\n AC_ARG_ENABLE(host-shared,"}]}