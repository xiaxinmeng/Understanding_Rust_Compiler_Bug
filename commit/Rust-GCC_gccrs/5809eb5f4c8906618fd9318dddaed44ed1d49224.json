{"sha": "5809eb5f4c8906618fd9318dddaed44ed1d49224", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTgwOWViNWY0Yzg5MDY2MThmZDkzMThkZGRhZWQ0NGVkMWQ0OTIyNA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@hxi.com", "date": "2002-01-31T23:29:09Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2002-01-31T23:29:09Z"}, "message": "rtlanal.c (subreg_regno_offset): Do not use SUBREG_REGNO_OFFSET.\n\n\t* rtlanal.c (subreg_regno_offset): Do not use\n\tSUBREG_REGNO_OFFSET.\n\t* system.h: Add SUBREG_REGNO_OFFSET to the GCC poison list.\n\t* doc/tm.texi (SUBREG_REGNO_OFFSET): Remove.\n\nFrom-SVN: r49381", "tree": {"sha": "08400a85d775966593e59a8818fb65d6e459f863", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08400a85d775966593e59a8818fb65d6e459f863"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5809eb5f4c8906618fd9318dddaed44ed1d49224", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5809eb5f4c8906618fd9318dddaed44ed1d49224", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5809eb5f4c8906618fd9318dddaed44ed1d49224", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5809eb5f4c8906618fd9318dddaed44ed1d49224/comments", "author": null, "committer": null, "parents": [{"sha": "a588fe25b7c357b4a84de452a757ab7fc5b8cb58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a588fe25b7c357b4a84de452a757ab7fc5b8cb58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a588fe25b7c357b4a84de452a757ab7fc5b8cb58"}], "stats": {"total": 42, "additions": 10, "deletions": 32}, "files": [{"sha": "158f01932d87806c88d502e290af2af8fc01b552", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5809eb5f4c8906618fd9318dddaed44ed1d49224", "patch": "@@ -1,3 +1,10 @@\n+2002-01-31  Kazu Hirata  <kazu@hxi.com>\n+\n+\t* rtlanal.c (subreg_regno_offset): Do not use\n+\tSUBREG_REGNO_OFFSET.\n+\t* system.h: Add SUBREG_REGNO_OFFSET to the GCC poison list.\n+\t* doc/tm.texi (SUBREG_REGNO_OFFSET): Remove.\n+\n 2002-01-31  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gccbug.in: Follow GNU Coding Standards for --version.  Use GCC"}, {"sha": "e9797bfd53f7ebc5dac0ff8d0412f0291c879a8d", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=5809eb5f4c8906618fd9318dddaed44ed1d49224", "patch": "@@ -1953,25 +1953,6 @@ allocation.\n Define this macro if the compiler should avoid copies to/from @code{CCmode}\n registers.  You should only define this macro if support for copying to/from\n @code{CCmode} is incomplete.\n-\n-@findex SUBREG_REGNO_OFFSET\n-@item SUBREG_REGNO_OFFSET\n-Define this macro if the compiler needs to handle subregs in a non-standard\n-way.  The macro returns the correct regno offset for mode @code{YMODE} given\n-a subreg of type @code{XMODE}.\n-This macro takes 4 parameters:\n-@table @code\n-@item XREGNO\n-A regno of an inner hard subreg_reg (or what will become one).\n-@item XMODE\n-The mode of xregno.\n-@item OFFSET\n-The byte offset.\n-@item YMODE\n-The mode of a top level SUBREG (or what may become one).\n-@end table\n-The default function can be found in @file{rtlanal.c}, function\n-@code{subreg_regno_offset}.  Normally this does not need to be defined.\n @end table\n \n @node Leaf Functions"}, {"sha": "f185c616f5a6f144c1e41d9ca54ffc5a227dba4e", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=5809eb5f4c8906618fd9318dddaed44ed1d49224", "patch": "@@ -2947,25 +2947,18 @@ subreg_lsb (x)\n    xmode  - The mode of xregno.\n    offset - The byte offset.\n    ymode  - The mode of a top level SUBREG (or what may become one).\n-   RETURN - The regno offset which would be used.  \n-   This function can be overridden by defining SUBREG_REGNO_OFFSET,\n-   taking the same parameters.  */\n+   RETURN - The regno offset which would be used.  */\n unsigned int\n subreg_regno_offset (xregno, xmode, offset, ymode)\n      unsigned int xregno;\n      enum machine_mode xmode;\n      unsigned int offset;\n      enum machine_mode ymode;\n {\n-  unsigned ret;\n   int nregs_xmode, nregs_ymode;\n   int mode_multiple, nregs_multiple;\n   int y_offset;\n \n-/* Check for an override, and use it instead.  */\n-#ifdef SUBREG_REGNO_OFFSET\n-  ret = SUBREG_REGNO_OFFSET (xregno, xmode, offset, ymode);\n-#else\n   if (xregno >= FIRST_PSEUDO_REGISTER)\n     abort ();\n \n@@ -2981,10 +2974,7 @@ subreg_regno_offset (xregno, xmode, offset, ymode)\n \n   y_offset = offset / GET_MODE_SIZE (ymode);\n   nregs_multiple =  nregs_xmode / nregs_ymode;\n-  ret = (y_offset / (mode_multiple / nregs_multiple)) * nregs_ymode;\n-#endif\n-\n-  return ret;\n+  return (y_offset / (mode_multiple / nregs_multiple)) * nregs_ymode;\n }\n \n /* Return the final regno that a subreg expression refers to.  */"}, {"sha": "9bd0599a49e412ae794493d26dbbcb08a5e543a4", "filename": "gcc/system.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5809eb5f4c8906618fd9318dddaed44ed1d49224/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=5809eb5f4c8906618fd9318dddaed44ed1d49224", "patch": "@@ -605,7 +605,7 @@ typedef char _Bool;\n \tOMIT_EH_TABLE EASY_DIV_EXPR IMPLICIT_FIX_EXPR\t\t\t   \\\n \tLONGJMP_RESTORE_FROM_STACK MAX_INT_TYPE_SIZE ASM_IDENTIFY_GCC\t   \\\n \tSTDC_VALUE TRAMPOLINE_ALIGN ASM_IDENTIFY_GCC_AFTER_SOURCE\t   \\\n-\tSLOW_ZERO_EXTEND\n+\tSLOW_ZERO_EXTEND SUBREG_REGNO_OFFSET\n \n #endif /* IN_GCC */\n "}]}