{"sha": "5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY5YWU3ZjJkNmZhOTZhMDEwN2JiZmM5ZThkN2NkMzcyN2ZjZjJkMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-07-23T04:42:09Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-07-23T04:42:09Z"}, "message": "runtime: Ignore SIGPROF if not on a Go thread.\n\nFrom-SVN: r201154", "tree": {"sha": "cec25b76a29bb0eee3093c06dc1f16e49b741531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cec25b76a29bb0eee3093c06dc1f16e49b741531"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0/comments", "author": null, "committer": null, "parents": [{"sha": "433cc7b037fbadc15e43083aed48e2f71e0e282f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/433cc7b037fbadc15e43083aed48e2f71e0e282f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/433cc7b037fbadc15e43083aed48e2f71e0e282f"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "9771b71cfcf60abbbf59987aa7976a607aa5b8f4", "filename": "libgo/runtime/go-signal.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0/libgo%2Fruntime%2Fgo-signal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0/libgo%2Fruntime%2Fgo-signal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-signal.c?ref=5f9ae7f2d6fa96a0107bbfc9e8d7cd3727fcf2d0", "patch": "@@ -166,21 +166,22 @@ runtime_sighandler (int sig, Siginfo *info,\n   int i;\n \n   m = runtime_m ();\n-  if (m == NULL)\n-    {\n-      runtime_badsignal (sig);\n-      return;\n-    }\n \n #ifdef SIGPROF\n   if (sig == SIGPROF)\n     {\n-      if (gp != runtime_m ()->g0 && gp != runtime_m ()->gsignal)\n+      if (m != NULL && gp != m->g0 && gp != m->gsignal)\n \truntime_sigprof ();\n       return;\n     }\n #endif\n \n+  if (m == NULL)\n+    {\n+      runtime_badsignal (sig);\n+      return;\n+    }\n+\n   for (i = 0; runtime_sigtab[i].sig != -1; ++i)\n     {\n       SigTab *t;"}]}