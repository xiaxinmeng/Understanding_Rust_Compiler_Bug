{"sha": "44f31fec967ed184b6d808455e7417ab2a553284", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRmMzFmZWM5NjdlZDE4NGI2ZDgwODQ1NWU3NDE3YWIyYTU1MzI4NA==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@apple.com", "date": "2006-12-08T22:22:51Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2006-12-08T22:22:51Z"}, "message": "t-darwin (TARGET_LIBGCC2_CFLAGS): Build libgcc with -mmacosx-version-min=10.4.\n\n\t* config/rs6000/t-darwin (TARGET_LIBGCC2_CFLAGS): Build\n\tlibgcc with -mmacosx-version-min=10.4.\n\t* config/rs6000/darwin.h (SUBTARGET_OVERRIDE_OPTIONS): Default to\n\tG4 for 10.5+ unless doing kernel builds.\n\nFrom-SVN: r119666", "tree": {"sha": "a4a0cf7908ce265888b05ea9c7898d8a2ea271ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4a0cf7908ce265888b05ea9c7898d8a2ea271ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44f31fec967ed184b6d808455e7417ab2a553284", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44f31fec967ed184b6d808455e7417ab2a553284", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44f31fec967ed184b6d808455e7417ab2a553284", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44f31fec967ed184b6d808455e7417ab2a553284/comments", "author": null, "committer": null, "parents": [{"sha": "4280a3e362da8fbf6236b723f544ea598a00c9be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4280a3e362da8fbf6236b723f544ea598a00c9be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4280a3e362da8fbf6236b723f544ea598a00c9be"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "7e9facba1a216a49bed07b3bd2365f158e79afd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=44f31fec967ed184b6d808455e7417ab2a553284", "patch": "@@ -1,3 +1,10 @@\n+2006-12-08  Mike Stump  <mrs@apple.com>\n+\n+\t* config/rs6000/t-darwin (TARGET_LIBGCC2_CFLAGS): Build\n+\tlibgcc with -mmacosx-version-min=10.4.\n+\t* config/rs6000/darwin.h (SUBTARGET_OVERRIDE_OPTIONS): Default to\n+\tG4 for 10.5+ unless doing kernel builds.\n+\n 2006-12-08  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/30120"}, {"sha": "ed6e42afa587fd998d7032a0dcaf4fb19d69d58c", "filename": "gcc/config/rs6000/darwin.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin.h?ref=44f31fec967ed184b6d808455e7417ab2a553284", "patch": "@@ -96,6 +96,18 @@ do {\t\t\t\t\t\t\t\t\t\\\n       rs6000_default_long_calls = 1;\t\t\t\t\t\\\n       target_flags |= MASK_SOFT_FLOAT;\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\\n+  /* Unless the user (not the configurer) has explicitly overridden\t\\\n+     it with -mcpu=G3 or -mno-altivec, then 10.5+ targets default to\t\\\n+     G4 unless targetting the kernel.  */\t\t\t\t\\\n+  if (!flag_mkernel\t\t\t\t\t\t\t\\\n+      && !flag_apple_kext\t\t\t\t\t\t\\\n+      && darwin_macosx_version_min\t\t\t\t\t\\\n+      && strverscmp (darwin_macosx_version_min, \"10.5\") >= 0\t\t\\\n+      && ! (target_flags_explicit & MASK_ALTIVEC)\t\t\t\\\n+      && ! rs6000_select[1].string)\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      target_flags |= MASK_ALTIVEC;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n } while(0)\n \n #define C_COMMON_OVERRIDE_OPTIONS do {\t\t\t\t\t\\"}, {"sha": "3513d5280f069706f5e21d78fae7b1c08bc42255", "filename": "gcc/config/rs6000/t-darwin", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2Fconfig%2Frs6000%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44f31fec967ed184b6d808455e7417ab2a553284/gcc%2Fconfig%2Frs6000%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-darwin?ref=44f31fec967ed184b6d808455e7417ab2a553284", "patch": "@@ -18,7 +18,7 @@ DARWIN_EXTRA_CRT_BUILD_CFLAGS = -mlongcall\n # it to not properly process the first # directive, causing temporary\n # file names to appear in stabs, causing the bootstrap to fail.  Using -pipe\n # works around this by not having any temporary file names.\n-TARGET_LIBGCC2_CFLAGS = -Wa,-force_cpusubtype_ALL -pipe\n+TARGET_LIBGCC2_CFLAGS = -Wa,-force_cpusubtype_ALL -pipe -mmacosx-version-min=10.4\n \n # Export the _xlq* symbols from darwin-ldouble.c.\n SHLIB_MAPFILES += $(srcdir)/config/rs6000/libgcc-ppc64.ver"}]}