{"sha": "d1ba078d9bcc3457d36ba12695cfef29eb3ca942", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDFiYTA3OGQ5YmNjMzQ1N2QzNmJhMTI2OTVjZmVmMjllYjNjYTk0Mg==", "commit": {"author": {"name": "Gerg\u00f6 Barany", "email": "gergo@codesourcery.com", "date": "2019-01-21T11:08:57Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2020-11-13T21:58:56Z"}, "message": "Add 'libgomp.oacc-fortran/pr94358-1.f90' [PR94358]\n\nDocument status quo re PR94358 \"[OMP] Privatize internal array variables\nintroduced by the Fortran FE\".\n\n\tlibgomp/\n\tPR fortran/94358\n\t* testsuite/libgomp.oacc-fortran/pr94358-1.f90: New.\n\nCo-authored-by: Thomas Schwinge <thomas@codesourcery.com>", "tree": {"sha": "ed343a478549505196d1f0050aee5bfe8bed62b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed343a478549505196d1f0050aee5bfe8bed62b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1ba078d9bcc3457d36ba12695cfef29eb3ca942", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1ba078d9bcc3457d36ba12695cfef29eb3ca942", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1ba078d9bcc3457d36ba12695cfef29eb3ca942", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1ba078d9bcc3457d36ba12695cfef29eb3ca942/comments", "author": null, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d4a3152d3f3f62ccd614df5da6c3c0d2f6e5fa0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4a3152d3f3f62ccd614df5da6c3c0d2f6e5fa0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4a3152d3f3f62ccd614df5da6c3c0d2f6e5fa0d"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "5013c5ba04bf307b63a34a5bbd4d44273922f7a7", "filename": "libgomp/testsuite/libgomp.oacc-fortran/pr94358-1.f90", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1ba078d9bcc3457d36ba12695cfef29eb3ca942/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1ba078d9bcc3457d36ba12695cfef29eb3ca942/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90?ref=d1ba078d9bcc3457d36ba12695cfef29eb3ca942", "patch": "@@ -0,0 +1,34 @@\n+! { dg-do run }\n+! { dg-additional-options \"-fopt-info-omp-all\" }\n+\n+subroutine kernel(lo, hi, a, b, c)\n+  implicit none\n+  integer :: lo, hi, i\n+  real, dimension(lo:hi) :: a, b, c\n+\n+  !$acc kernels copyin(lo, hi) ! { dg-optimized \"assigned OpenACC seq loop parallelism\" }\n+  !$acc loop independent\n+  do i = lo, hi\n+     b(i) = a(i)\n+  end do\n+  !$acc loop independent\n+  do i = lo, hi\n+     c(i) = b(i)\n+  end do\n+  !$acc end kernels\n+end subroutine kernel\n+\n+program main\n+  integer :: n = 20\n+  real, dimension(1:20) :: a, b, c\n+\n+  a(:) = 1\n+  b(:) = 2\n+  c(:) = 3\n+\n+  call kernel(1, n, a, b, c)\n+\n+  do i = 1, n\n+     if (c(i) .ne. 1) call abort\n+  end do\n+end program main"}]}