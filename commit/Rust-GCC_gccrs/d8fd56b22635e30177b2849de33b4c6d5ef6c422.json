{"sha": "d8fd56b22635e30177b2849de33b4c6d5ef6c422", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhmZDU2YjIyNjM1ZTMwMTc3YjI4NDlkZTMzYjRjNmQ1ZWY2YzQyMg==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2016-09-22T13:16:30Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2016-09-22T13:16:30Z"}, "message": "make prev_real_insn take rtx_insn *\n\ngcc/ChangeLog:\n\n2016-09-22  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* emit-rtl.c (prev_real_insn): Change argument type to rtx_insn *.\n\t* rtl.h: Adjust prototype.\n\t* config/sh/sh.md: Adjust.\n\t* dwarf2out.c (add_var_loc_to_decl): Likewise.\n\nFrom-SVN: r240359", "tree": {"sha": "0369f768fb4fc55c622f688583135c8ba9c72631", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0369f768fb4fc55c622f688583135c8ba9c72631"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8fd56b22635e30177b2849de33b4c6d5ef6c422", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8fd56b22635e30177b2849de33b4c6d5ef6c422", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8fd56b22635e30177b2849de33b4c6d5ef6c422", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8fd56b22635e30177b2849de33b4c6d5ef6c422/comments", "author": null, "committer": null, "parents": [{"sha": "30d2ef86a977ef7dd7472eec447be218bce286a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30d2ef86a977ef7dd7472eec447be218bce286a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30d2ef86a977ef7dd7472eec447be218bce286a4"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "7576a1eea50177071b676880791f0819a2c5c58c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d8fd56b22635e30177b2849de33b4c6d5ef6c422", "patch": "@@ -1,3 +1,10 @@\n+2016-09-22  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* emit-rtl.c (prev_real_insn): Change argument type to rtx_insn *.\n+\t* rtl.h: Adjust prototype.\n+\t* config/sh/sh.md: Adjust.\n+\t* dwarf2out.c (add_var_loc_to_decl): Likewise.\n+\n 2016-09-22  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* emit-rtl.c (next_nondebug_insn): Change argument type to"}, {"sha": "25e03efc313d3df6cfabbac9be273c33085eba62", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=d8fd56b22635e30177b2849de33b4c6d5ef6c422", "patch": "@@ -7178,7 +7178,8 @@\n \t\t      (label_ref (match_operand 1 \"\" \"\"))))\n    (use (label_ref (match_operand 2 \"\" \"\")))]\n   \"TARGET_SH2\n-   && (! INSN_UID (operands[1]) || prev_real_insn (operands[1]) == insn)\"\n+   && (! INSN_UID (operands[1])\n+       || prev_real_insn (as_a<rtx_insn *> (operands[1])) == insn)\"\n   \"braf\t%0%#\"\n   [(set_attr \"needs_delay_slot\" \"yes\")\n    (set_attr \"type\" \"jump_ind\")])"}, {"sha": "e36473a5c52f16e86b6546456aada56b5b7070c9", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=d8fd56b22635e30177b2849de33b4c6d5ef6c422", "patch": "@@ -5415,7 +5415,7 @@ add_var_loc_to_decl (tree decl, rtx loc_note, const char *label)\n       && NOTE_VAR_LOCATION_LOC (temp->first->loc)\n       && GET_CODE (NOTE_VAR_LOCATION_LOC (temp->first->loc))\n \t == GET_CODE (DECL_INCOMING_RTL (decl))\n-      && prev_real_insn (temp->first->loc) == NULL_RTX\n+      && prev_real_insn (as_a<rtx_insn *> (temp->first->loc)) == NULL_RTX\n       && (bitsize != -1\n \t  || !rtx_equal_p (NOTE_VAR_LOCATION_LOC (temp->first->loc),\n \t\t\t   NOTE_VAR_LOCATION_LOC (loc_note))"}, {"sha": "0fc0a670f68df3b5ab175ad275f1328a770eac31", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=d8fd56b22635e30177b2849de33b4c6d5ef6c422", "patch": "@@ -3461,10 +3461,8 @@ next_real_insn (rtx uncast_insn)\n    SEQUENCEs.  */\n \n rtx_insn *\n-prev_real_insn (rtx uncast_insn)\n+prev_real_insn (rtx_insn *insn)\n {\n-  rtx_insn *insn = safe_as_a <rtx_insn *> (uncast_insn);\n-\n   while (insn)\n     {\n       insn = PREV_INSN (insn);"}, {"sha": "c253fdac64c4ef4f73bff986ecc74c3f400cf4c0", "filename": "gcc/rtl.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8fd56b22635e30177b2849de33b4c6d5ef6c422/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=d8fd56b22635e30177b2849de33b4c6d5ef6c422", "patch": "@@ -2842,7 +2842,7 @@ extern rtx_insn *prev_nondebug_insn (rtx_insn *);\n extern rtx_insn *next_nondebug_insn (rtx_insn *);\n extern rtx_insn *prev_nonnote_nondebug_insn (rtx);\n extern rtx_insn *next_nonnote_nondebug_insn (rtx);\n-extern rtx_insn *prev_real_insn (rtx);\n+extern rtx_insn *prev_real_insn (rtx_insn *);\n extern rtx_insn *next_real_insn (rtx);\n extern rtx_insn *prev_active_insn (rtx);\n extern rtx_insn *next_active_insn (rtx);"}]}