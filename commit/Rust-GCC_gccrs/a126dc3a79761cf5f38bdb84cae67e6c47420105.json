{"sha": "a126dc3a79761cf5f38bdb84cae67e6c47420105", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTEyNmRjM2E3OTc2MWNmNWYzOGJkYjg0Y2FlNjdlNmM0NzQyMDEwNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-10-30T00:55:15Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-10-30T00:55:15Z"}, "message": "m68k.c (notice_update_cc): Clear cc status for shifts and rotates.\n\n        * config/m68k/m68k.c (notice_update_cc): Clear cc status for\n        shifts and rotates.\n\nFrom-SVN: r73073", "tree": {"sha": "f5674203f19436b76a704d1cab3d4713389f2f09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5674203f19436b76a704d1cab3d4713389f2f09"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a126dc3a79761cf5f38bdb84cae67e6c47420105", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a126dc3a79761cf5f38bdb84cae67e6c47420105", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a126dc3a79761cf5f38bdb84cae67e6c47420105", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a126dc3a79761cf5f38bdb84cae67e6c47420105/comments", "author": null, "committer": null, "parents": [{"sha": "03d1cb6dc60e6386d484bc4ba77a837ce0dffef6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03d1cb6dc60e6386d484bc4ba77a837ce0dffef6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03d1cb6dc60e6386d484bc4ba77a837ce0dffef6"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "dbb059ecbd9ce6fa20205d77a5233b8c619d3ba3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a126dc3a79761cf5f38bdb84cae67e6c47420105/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a126dc3a79761cf5f38bdb84cae67e6c47420105/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a126dc3a79761cf5f38bdb84cae67e6c47420105", "patch": "@@ -1,3 +1,8 @@\n+2003-10-29  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/m68k/m68k.c (notice_update_cc): Clear cc status for\n+\tshifts and rotates.\n+\n 2003-10-30  Alan Modra  <amodra@bigpond.net.au>\n \n \t* config/rs6000/rs6000.md: Remove duplicate pattern."}, {"sha": "ee41fc67d2f8064f9ed091dbf8ddd8327af8cc6c", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a126dc3a79761cf5f38bdb84cae67e6c47420105/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a126dc3a79761cf5f38bdb84cae67e6c47420105/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=a126dc3a79761cf5f38bdb84cae67e6c47420105", "patch": "@@ -2595,12 +2595,17 @@ notice_update_cc (rtx exp, rtx insn)\n   if (cc_status.value2 != 0)\n     switch (GET_CODE (cc_status.value2))\n       {\n-      case PLUS: case MINUS: case MULT:\n-      case DIV: case UDIV: case MOD: case UMOD: case NEG:\n-#if 0 /* These instructions always clear the overflow bit */\n       case ASHIFT: case ASHIFTRT: case LSHIFTRT:\n       case ROTATE: case ROTATERT:\n-#endif\n+\t/* These instructions always clear the overflow bit, and set\n+\t   the carry to the bit shifted out.  */\n+\t/* ??? We don't currently have a way to signal carry not valid,\n+\t   nor do we check for it in the branch insns.  */\n+\tCC_STATUS_INIT;\n+\tbreak;\n+\n+      case PLUS: case MINUS: case MULT:\n+      case DIV: case UDIV: case MOD: case UMOD: case NEG:\n \tif (GET_MODE (cc_status.value2) != VOIDmode)\n \t  cc_status.flags |= CC_NO_OVERFLOW;\n \tbreak;"}]}