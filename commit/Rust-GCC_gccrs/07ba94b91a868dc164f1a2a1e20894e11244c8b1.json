{"sha": "07ba94b91a868dc164f1a2a1e20894e11244c8b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdiYTk0YjkxYTg2OGRjMTY0ZjFhMmExZTIwODk0ZTExMjQ0YzhiMQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@cavium.com", "date": "2012-05-21T18:56:35Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2012-05-21T18:56:35Z"}, "message": "re PR bootstrap/53183 (libgcc does not always figure out the size of double/long double)\n\n2012-05-21  Andrew Pinski  <apinski@cavium.com>\n\n        PR bootstrap/53183\n        * configure.ac: Define the default includes to being none.\n        * configure: Regenerate.\n\nFrom-SVN: r187732", "tree": {"sha": "4437fc3c82259bd38db5831b973110949e4a6abc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4437fc3c82259bd38db5831b973110949e4a6abc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07ba94b91a868dc164f1a2a1e20894e11244c8b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07ba94b91a868dc164f1a2a1e20894e11244c8b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07ba94b91a868dc164f1a2a1e20894e11244c8b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07ba94b91a868dc164f1a2a1e20894e11244c8b1/comments", "author": {"login": "apinski-cavium", "id": 6335315, "node_id": "MDQ6VXNlcjYzMzUzMTU=", "avatar_url": "https://avatars.githubusercontent.com/u/6335315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apinski-cavium", "html_url": "https://github.com/apinski-cavium", "followers_url": "https://api.github.com/users/apinski-cavium/followers", "following_url": "https://api.github.com/users/apinski-cavium/following{/other_user}", "gists_url": "https://api.github.com/users/apinski-cavium/gists{/gist_id}", "starred_url": "https://api.github.com/users/apinski-cavium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apinski-cavium/subscriptions", "organizations_url": "https://api.github.com/users/apinski-cavium/orgs", "repos_url": "https://api.github.com/users/apinski-cavium/repos", "events_url": "https://api.github.com/users/apinski-cavium/events{/privacy}", "received_events_url": "https://api.github.com/users/apinski-cavium/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "577e03958f140f6361e2813cced093a50a66489a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/577e03958f140f6361e2813cced093a50a66489a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/577e03958f140f6361e2813cced093a50a66489a"}], "stats": {"total": 340, "additions": 15, "deletions": 325}, "files": [{"sha": "329eafe64e01e14fc91a234fc6536e5c73f51b08", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=07ba94b91a868dc164f1a2a1e20894e11244c8b1", "patch": "@@ -1,3 +1,9 @@\n+2012-05-21  Andrew Pinski  <apinski@cavium.com>\n+\n+\tPR bootstrap/53183\n+\t* configure.ac: Define the default includes to being none.\n+\t* configure: Regenerate.\n+\n 2012-05-16  Olivier Hainque  <hainque@adacore.com>\n \n \t* Makefile.in (install-unwind_h): Rename into ..."}, {"sha": "0751859c8fc8a30c62b02a220039d523fb7ad380", "filename": "libgcc/configure", "status": "modified", "additions": 4, "deletions": 325, "changes": 329, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfigure?ref=07ba94b91a868dc164f1a2a1e20894e11244c8b1", "patch": "@@ -552,42 +552,7 @@ PACKAGE_BUGREPORT=''\n PACKAGE_URL='http://www.gnu.org/software/libgcc/'\n \n ac_unique_file=\"static-object.mk\"\n-# Factoring default headers for most tests.\n-ac_includes_default=\"\\\n-#include <stdio.h>\n-#ifdef HAVE_SYS_TYPES_H\n-# include <sys/types.h>\n-#endif\n-#ifdef HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-#ifdef STDC_HEADERS\n-# include <stdlib.h>\n-# include <stddef.h>\n-#else\n-# ifdef HAVE_STDLIB_H\n-#  include <stdlib.h>\n-# endif\n-#endif\n-#ifdef HAVE_STRING_H\n-# if !defined STDC_HEADERS && defined HAVE_MEMORY_H\n-#  include <memory.h>\n-# endif\n-# include <string.h>\n-#endif\n-#ifdef HAVE_STRINGS_H\n-# include <strings.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-# include <inttypes.h>\n-#endif\n-#ifdef HAVE_STDINT_H\n-# include <stdint.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\"\n-\n+ac_includes_default='/* none */'\n ac_subst_vars='LTLIBOBJS\n LIBOBJS\n asm_hidden_op\n@@ -605,8 +570,6 @@ enable_decimal_float\n decimal_float\n long_double_type_size\n double_type_size\n-EGREP\n-GREP\n CPP\n OBJEXT\n EXEEXT\n@@ -1732,35 +1695,6 @@ rm -f conftest.val\n   return $ac_retval\n \n } # ac_fn_c_compute_int\n-\n-# ac_fn_c_check_header_preproc LINENO HEADER VAR\n-# ----------------------------------------------\n-# Tests whether HEADER is present, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_preproc ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n-$as_echo_n \"checking for $2... \" >&6; }\n-if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <$2>\n-_ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n-  eval \"$3=yes\"\n-else\n-  eval \"$3=no\"\n-fi\n-rm -f conftest.err conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-\n-} # ac_fn_c_check_header_preproc\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -2117,6 +2051,9 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+# The libgcc should not depend on any header files\n+\n+\n \n # Check whether --with-target-subdir was given.\n if test \"${with_target_subdir+set}\" = set; then :\n@@ -4029,264 +3966,6 @@ ac_c_preproc_warn_flag=yes\n \n \n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n-$as_echo_n \"checking for grep that handles long lines and -e... \" >&6; }\n-if test \"${ac_cv_path_GREP+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -z \"$GREP\"; then\n-  ac_path_GREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_prog in grep ggrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_GREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n-      { test -f \"$ac_path_GREP\" && $as_test_x \"$ac_path_GREP\"; } || continue\n-# Check for GNU ac_path_GREP and select it if it is found.\n-  # Check for GNU $ac_path_GREP\n-case `\"$ac_path_GREP\" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_GREP=\"$ac_path_GREP\" ac_path_GREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\"conftest.in\"\n-  while :\n-  do\n-    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n-    mv \"conftest.tmp\" \"conftest.in\"\n-    cp \"conftest.in\" \"conftest.nl\"\n-    $as_echo 'GREP' >> \"conftest.nl\"\n-    \"$ac_path_GREP\" -e 'GREP$' -e '-(cannot match)-' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n-    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_GREP=\"$ac_path_GREP\"\n-      ac_path_GREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_GREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \"$ac_cv_path_GREP\"; then\n-    as_fn_error \"no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n-  fi\n-else\n-  ac_cv_path_GREP=$GREP\n-fi\n-\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\" >&5\n-$as_echo \"$ac_cv_path_GREP\" >&6; }\n- GREP=\"$ac_cv_path_GREP\"\n-\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for egrep\" >&5\n-$as_echo_n \"checking for egrep... \" >&6; }\n-if test \"${ac_cv_path_EGREP+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n-   then ac_cv_path_EGREP=\"$GREP -E\"\n-   else\n-     if test -z \"$EGREP\"; then\n-  ac_path_EGREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_prog in egrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_EGREP=\"$as_dir/$ac_prog$ac_exec_ext\"\n-      { test -f \"$ac_path_EGREP\" && $as_test_x \"$ac_path_EGREP\"; } || continue\n-# Check for GNU ac_path_EGREP and select it if it is found.\n-  # Check for GNU $ac_path_EGREP\n-case `\"$ac_path_EGREP\" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_EGREP=\"$ac_path_EGREP\" ac_path_EGREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\"conftest.in\"\n-  while :\n-  do\n-    cat \"conftest.in\" \"conftest.in\" >\"conftest.tmp\"\n-    mv \"conftest.tmp\" \"conftest.in\"\n-    cp \"conftest.in\" \"conftest.nl\"\n-    $as_echo 'EGREP' >> \"conftest.nl\"\n-    \"$ac_path_EGREP\" 'EGREP$' < \"conftest.nl\" >\"conftest.out\" 2>/dev/null || break\n-    diff \"conftest.out\" \"conftest.nl\" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_EGREP=\"$ac_path_EGREP\"\n-      ac_path_EGREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_EGREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \"$ac_cv_path_EGREP\"; then\n-    as_fn_error \"no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\" \"$LINENO\" 5\n-  fi\n-else\n-  ac_cv_path_EGREP=$EGREP\n-fi\n-\n-   fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\" >&5\n-$as_echo \"$ac_cv_path_EGREP\" >&6; }\n- EGREP=\"$ac_cv_path_EGREP\"\n-\n-\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\" >&5\n-$as_echo_n \"checking for ANSI C header files... \" >&6; }\n-if test \"${ac_cv_header_stdc+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_header_stdc=yes\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <string.h>\n-\n-_ACEOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  $EGREP \"memchr\" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-\n-_ACEOF\n-if (eval \"$ac_cpp conftest.$ac_ext\") 2>&5 |\n-  $EGREP \"free\" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-  if test \"$cross_compiling\" = yes; then :\n-  :\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ctype.h>\n-#include <stdlib.h>\n-#if ((' ' & 0x0FF) == 0x020)\n-# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#else\n-# define ISLOWER(c) \\\n-\t\t   (('a' <= (c) && (c) <= 'i') \\\n-\t\t     || ('j' <= (c) && (c) <= 'r') \\\n-\t\t     || ('s' <= (c) && (c) <= 'z'))\n-# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n-#endif\n-\n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int\n-main ()\n-{\n-  int i;\n-  for (i = 0; i < 256; i++)\n-    if (XOR (islower (i), ISLOWER (i))\n-\t|| toupper (i) != TOUPPER (i))\n-      return 2;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n-\n-fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\" >&5\n-$as_echo \"$ac_cv_header_stdc\" >&6; }\n-if test $ac_cv_header_stdc = yes; then\n-\n-$as_echo \"#define STDC_HEADERS 1\" >>confdefs.h\n-\n-fi\n-\n-# On IRIX 5.3, sys/types and inttypes.h are conflicting.\n-for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n-\t\t  inttypes.h stdint.h unistd.h\n-do :\n-  as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-ac_fn_c_check_header_preproc \"$LINENO\" \"$ac_header\" \"$as_ac_Header\"\n-eval as_val=\\$$as_ac_Header\n-   if test \"x$as_val\" = x\"\"yes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define `$as_echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n # The cast to long int works around a bug in the HP C Compiler\n # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n # declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'."}, {"sha": "47fe4e84d2af37941aba06059b68e2bc696fbd9f", "filename": "libgcc/configure.ac", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07ba94b91a868dc164f1a2a1e20894e11244c8b1/libgcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfigure.ac?ref=07ba94b91a868dc164f1a2a1e20894e11244c8b1", "patch": "@@ -14,6 +14,11 @@ AC_PREREQ(2.64)\n AC_INIT([GNU C Runtime Library], 1.0,,[libgcc])\n AC_CONFIG_SRCDIR([static-object.mk])\n \n+# The libgcc should not depend on any header files\n+AC_DEFUN([_AC_INCLUDES_DEFAULT_REQUIREMENTS],\n+  [m4_divert_text([DEFAULTS],\n+    [ac_includes_default='/* none */'])])\n+\n AC_ARG_WITH(target-subdir,\n [  --with-target-subdir=SUBDIR      Configuring in a subdirectory for target])\n AC_ARG_WITH(cross-host,"}]}