{"sha": "489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg5Y2U5ZTdhYjI1YTA0OWFlNTQ2ZjM2YWFkYTNmNWU1YTM2NDZkOA==", "commit": {"author": {"name": "Peter O'Gorman", "email": "peter@pogma.com", "date": "2005-02-16T04:48:47Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-02-16T04:48:47Z"}, "message": "re PR bootstrap/18810 (Darwin's as unlinks /dev/null)\n\n2005-02-15  Peter O'Gorman  <peter@pogma.com>\n\n        PR bootstrap/18810\n        * mklibgcc.in (vis_hide): Use a temporary object file, not\n        -o /dev/null.\n\nFrom-SVN: r95096", "tree": {"sha": "4b2634e86686c58e08459634610971676f159fc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4b2634e86686c58e08459634610971676f159fc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/489ce9e7ab25a049ae546f36aada3f5e5a3646d8/comments", "author": {"login": "pogma", "id": 607929, "node_id": "MDQ6VXNlcjYwNzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/607929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pogma", "html_url": "https://github.com/pogma", "followers_url": "https://api.github.com/users/pogma/followers", "following_url": "https://api.github.com/users/pogma/following{/other_user}", "gists_url": "https://api.github.com/users/pogma/gists{/gist_id}", "starred_url": "https://api.github.com/users/pogma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pogma/subscriptions", "organizations_url": "https://api.github.com/users/pogma/orgs", "repos_url": "https://api.github.com/users/pogma/repos", "events_url": "https://api.github.com/users/pogma/events{/privacy}", "received_events_url": "https://api.github.com/users/pogma/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7e9534bc544cd62cb587a17c50eed08f8ca68185", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e9534bc544cd62cb587a17c50eed08f8ca68185", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e9534bc544cd62cb587a17c50eed08f8ca68185"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "34725947a28fef39f16683b7b21d4067289c5689", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/489ce9e7ab25a049ae546f36aada3f5e5a3646d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/489ce9e7ab25a049ae546f36aada3f5e5a3646d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "patch": "@@ -1,3 +1,9 @@\n+2005-02-15  Peter O'Gorman  <peter@pogma.com>\n+\n+\tPR bootstrap/18810\n+\t* mklibgcc.in (vis_hide): Use a temporary object file, not\n+\t-o /dev/null.\n+\n 2005-02-15  Andy Hutchinson  <HutchinsonAndy@netscape.net>\n \n \tPR target/19924"}, {"sha": "3a789350868437216d05bdf6bb36e5931879fa41", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/489ce9e7ab25a049ae546f36aada3f5e5a3646d8/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/489ce9e7ab25a049ae546f36aada3f5e5a3646d8/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=489ce9e7ab25a049ae546f36aada3f5e5a3646d8", "patch": "@@ -100,11 +100,15 @@ if [ \"$SHLIB_LINK\" ]; then\n   # the command line, and a #define to prevent libgcc2.h etc from\n   # overriding that with #pragmas.  The dance with @ is to prevent\n   # echo from seeing anything it might take for an option.\n+  # echo turns the \\$\\$\\$\\$ into $$$$ and when make sees it it\n+  # becomes $$ and the shell substitutes the pid. Makes for a\n+  # slightly safer temp file.\n   echo \"vis_hide := \\$(strip \\$(subst @,-,\\\\\"\n   echo \"    \\$(shell if echo 'void foo(void); void foo(void) {}' | \\\\\"\n   echo \"          $gcc_compile -fvisibility=hidden -Werror \\\\\"\n-  echo \"          -c -xc - -o /dev/null 2> /dev/null; \\\\\"\n+  echo \"          -c -xc - -o vis_temp_file\\$\\$\\$\\$.o 2> /dev/null; \\\\\"\n   echo \"          then echo @fvisibility=hidden @DHIDE_EXPORTS; \\\\\"\n+  echo \"          rm vis_temp_file\\$\\$\\$\\$.o 2> /dev/null; \\\\\"\n   echo \"          fi)))\"\n   echo\n "}]}