{"sha": "7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VlNGY2ZjNlYzRjNTEyMjFhOGZjNDRmOThmNWRhNGM5NWY3NzlhZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-03-28T11:59:06Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-03-28T11:59:06Z"}, "message": "gfortran.h (gfc_dt): Rename default_exp field to dec_ext.\n\n\t* gfortran.h (gfc_dt): Rename default_exp field to dec_ext.\n\t* ioparm.def (IOPARM_dt_default_exp): Rename to ...\n\t(IOPARM_dt_dec_ext): ... this.\n\t* trans-io.c (build_dt): Adjust for default_exp renaming to\n\tdec_ext and IOPARM_dt_default_exp renaming to IOPARM_dt_dec_ext.\n\t* io.c (match_io): Likewise.\n\n\t* io/io.h (IOPARM_DT_DEFAULT_EXP): Rename to ...\n\t(IOPARM_DT_DEC_EXT): ... this.\n\t* io/list_read.c (parse_real): Adjust for IOPARM_DT_DEFAULT_EXP\n\trenaming to IOPARM_DT_DEC_EXT.\n\t(read_real): Likewise.\n\t* io/read.c (read_f): Likewise.\n\nFrom-SVN: r258920", "tree": {"sha": "ae5de4e2be1e263ebdf5ccaeda1ee67d7c62326b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae5de4e2be1e263ebdf5ccaeda1ee67d7c62326b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5b1a758d26d594569fbf2ca1381fa27ec416fd23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b1a758d26d594569fbf2ca1381fa27ec416fd23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b1a758d26d594569fbf2ca1381fa27ec416fd23"}], "stats": {"total": 39, "additions": 29, "deletions": 10}, "files": [{"sha": "85fcaae0890c13b0a2135b7bd272d05787cba95f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -1,3 +1,12 @@\n+2018-03-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gfortran.h (gfc_dt): Rename default_exp field to dec_ext.\n+\t* ioparm.def (IOPARM_dt_default_exp): Rename to ...\n+\t(IOPARM_dt_dec_ext): ... this.\n+\t* trans-io.c (build_dt): Adjust for default_exp renaming to\n+\tdec_ext and IOPARM_dt_default_exp renaming to IOPARM_dt_dec_ext.\n+\t* io.c (match_io): Likewise.\n+\n 2018-03-27  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/85084"}, {"sha": "507570ccbff2c03b8b3c7972b30aaeb9a682fd63", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -2437,7 +2437,7 @@ typedef struct\n   gfc_expr *io_unit, *format_expr, *rec, *advance, *iostat, *size, *iomsg,\n \t   *id, *pos, *asynchronous, *blank, *decimal, *delim, *pad, *round,\n \t   *sign, *extra_comma, *dt_io_kind, *udtio;\n-  char default_exp;\n+  char dec_ext;\n \n   gfc_symbol *namelist;\n   /* A format_label of `format_asterisk' indicates the \"*\" format */"}, {"sha": "0aa31bb6a4f7830df35ebd71a91b5b81d4919bcb", "filename": "gcc/fortran/io.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fio.c?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -4291,9 +4291,10 @@ match_io (io_kind k)\n \tgoto syntax;\n     }\n \n-  /* See if we want to use defaults for missing exponents in real transfers.  */\n+  /* See if we want to use defaults for missing exponents in real transfers\n+     and other DEC runtime extensions.  */\n   if (flag_dec)\n-    dt->default_exp = 1;\n+    dt->dec_ext = 1;\n \n   /* A full IO statement has been matched.  Check the constraints.  spec_end is\n      supplied for cases where no locus is supplied.  */"}, {"sha": "9ab3b58946e34ce3f29ebc567513bfc48b2f63ee", "filename": "gcc/fortran/ioparm.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fioparm.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Fioparm.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fioparm.def?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -118,5 +118,5 @@ IOPARM (dt,      round,\t\t1 << 23, char2)\n IOPARM (dt,      sign,\t\t1 << 24, char1)\n #define IOPARM_dt_f2003\t\t      (1 << 25)\n #define IOPARM_dt_dtio\t\t      (1 << 26)\n-#define IOPARM_dt_default_exp\t      (1 << 27)\n+#define IOPARM_dt_dec_ext\t      (1 << 27)\n IOPARM (dt,      u,\t\t0,\t pad)"}, {"sha": "2626c4651e2d78702cb156983fff54b35de5a7d2", "filename": "gcc/fortran/trans-io.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Ftrans-io.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/gcc%2Ffortran%2Ftrans-io.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-io.c?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -1958,8 +1958,8 @@ build_dt (tree function, gfc_code * code)\n       if (dt->udtio)\n \tmask |= IOPARM_dt_dtio;\n \n-      if (dt->default_exp)\n-\tmask |= IOPARM_dt_default_exp;\n+      if (dt->dec_ext)\n+\tmask |= IOPARM_dt_dec_ext;\n \n       if (dt->namelist)\n \t{"}, {"sha": "8c6a71060ec6cbbf32df7b722036c33562c5bbad", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -1,3 +1,12 @@\n+2018-03-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* io/io.h (IOPARM_DT_DEFAULT_EXP): Rename to ...\n+\t(IOPARM_DT_DEC_EXT): ... this.\n+\t* io/list_read.c (parse_real): Adjust for IOPARM_DT_DEFAULT_EXP\n+\trenaming to IOPARM_DT_DEC_EXT.\n+\t(read_real): Likewise.\n+\t* io/read.c (read_f): Likewise.\n+\n 2018-03-15  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR libgfortran/84880"}, {"sha": "ccbaf47ff907ab5aa797c9bff4502df5f3bfc31f", "filename": "libgfortran/io/io.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Fio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Fio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fio.h?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -442,7 +442,7 @@ st_parameter_inquire;\n #define IOPARM_DT_HAS_SIGN\t\t\t(1 << 24)\n #define IOPARM_DT_HAS_F2003                     (1 << 25)\n #define IOPARM_DT_HAS_UDTIO                     (1 << 26)\n-#define IOPARM_DT_DEFAULT_EXP\t\t\t(1 << 27)\n+#define IOPARM_DT_DEC_EXT\t\t\t(1 << 27)\n /* Internal use bit.  */\n #define IOPARM_DT_IONML_SET\t\t\t(1u << 31)\n "}, {"sha": "300c3bd23f300465dc0a85143479f36737a75fc0", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -1380,7 +1380,7 @@ parse_real (st_parameter_dt *dtp, void *buffer, int length)\n   if (!isdigit (c))\n     {\n       /* Extension: allow default exponent of 0 when omitted.  */\n-      if (dtp->common.flags & IOPARM_DT_DEFAULT_EXP)\n+      if (dtp->common.flags & IOPARM_DT_DEC_EXT)\n \t{\n \t  push_char (dtp, '0');\n \t  goto done;\n@@ -1831,7 +1831,7 @@ read_real (st_parameter_dt *dtp, void *dest, int length)\n   if (!isdigit (c))\n     {\n       /* Extension: allow default exponent of 0 when omitted.  */\n-      if (dtp->common.flags & IOPARM_DT_DEFAULT_EXP)\n+      if (dtp->common.flags & IOPARM_DT_DEC_EXT)\n \t{\n \t  push_char (dtp, '0');\n \t  goto done;"}, {"sha": "976020af448019dbe236ffa5b521f83f1fd7daf6", "filename": "libgfortran/io/read.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Fread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae/libgfortran%2Fio%2Fread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fread.c?ref=7ee4f6f3ec4c51221a8fc44f98f5da4c95f779ae", "patch": "@@ -1093,7 +1093,7 @@ read_f (st_parameter_dt *dtp, const fnode *f, char *dest, int length)\n   if (w == 0)\n     {\n       /* Extension: allow default exponent of 0 when omitted.  */\n-      if (dtp->common.flags & IOPARM_DT_DEFAULT_EXP)\n+      if (dtp->common.flags & IOPARM_DT_DEC_EXT)\n \tgoto done;\n       else\n \tgoto bad_float;"}]}