{"sha": "33a55f2919b6667660c3d1f87ac0969fb76f26fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzNhNTVmMjkxOWI2NjY3NjYwYzNkMWY4N2FjMDk2OWZiNzZmMjZmZQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-11-12T15:39:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-11-12T15:39:44Z"}, "message": "hppa: Install __sync libfuncs for linux.\n\n        * config/pa/pa-linux.h (TARGET_SYNC_LIBCALL): New.\n        * config/pa/pa.h (TARGET_SYNC_LIBCALL): New default.\n        * config/pa/pa.c (pa_init_libfuncs): Use init_sync_libfuncs.\n\nFrom-SVN: r181320", "tree": {"sha": "4034c1df3a62329780ea83855d5b039cc2c0034f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4034c1df3a62329780ea83855d5b039cc2c0034f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33a55f2919b6667660c3d1f87ac0969fb76f26fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33a55f2919b6667660c3d1f87ac0969fb76f26fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33a55f2919b6667660c3d1f87ac0969fb76f26fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33a55f2919b6667660c3d1f87ac0969fb76f26fe/comments", "author": null, "committer": null, "parents": [{"sha": "5f41422fc7be19182f2df199f84ff20c96636526", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f41422fc7be19182f2df199f84ff20c96636526", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f41422fc7be19182f2df199f84ff20c96636526"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "592ea0ad4c39ed1f810fb6b06db072436a2e7287", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=33a55f2919b6667660c3d1f87ac0969fb76f26fe", "patch": "@@ -1,3 +1,9 @@\n+2011-11-12  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/pa/pa-linux.h (TARGET_SYNC_LIBCALL): New.\n+\t* config/pa/pa.h (TARGET_SYNC_LIBCALL): New default.\n+\t* config/pa/pa.c (pa_init_libfuncs): Use init_sync_libfuncs.\n+\n 2011-11-12  Iain Sandoe  <iains@gcc.gnu.org>\n \n \tPR target/45233"}, {"sha": "addc0e18c8bbb08d7cffcd830d989be70316dbc7", "filename": "gcc/config/pa/pa-linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-linux.h?ref=33a55f2919b6667660c3d1f87ac0969fb76f26fe", "patch": "@@ -136,3 +136,6 @@ along with GCC; see the file COPYING3.  If not see\n /* Linux always uses gas.  */\n #undef TARGET_GAS\n #define TARGET_GAS 1\n+\n+#undef TARGET_SYNC_LIBCALL\n+#define TARGET_SYNC_LIBCALL 1"}, {"sha": "134f1f88be866c9b269b65897e00bdf411f0c1ec", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=33a55f2919b6667660c3d1f87ac0969fb76f26fe", "patch": "@@ -5587,6 +5587,9 @@ pa_init_libfuncs (void)\n       set_conv_libfunc (ufloat_optab, TFmode, DImode,\n \t\t\t\"_U_Qfcnvxf_udbl_to_quad\");\n     }\n+\n+  if (TARGET_SYNC_LIBCALL)\n+    init_sync_libfuncs (UNITS_PER_WORD);\n }\n \n /* HP's millicode routines mean something special to the assembler."}, {"sha": "c52e3d50877a156e31611a0b6a0ee1e2d8bcf8d1", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33a55f2919b6667660c3d1f87ac0969fb76f26fe/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=33a55f2919b6667660c3d1f87ac0969fb76f26fe", "patch": "@@ -74,6 +74,11 @@ extern unsigned long total_code_bytes;\n #define HPUX_LONG_DOUBLE_LIBRARY 0\n #endif\n \n+/* Linux kernel atomic operation support.  */\n+#ifndef TARGET_SYNC_LIBCALL\n+#define TARGET_SYNC_LIBCALL 0\n+#endif\n+\n /* The following three defines are potential target switches.  The current\n    defines are optimal given the current capabilities of GAS and GNU ld.  */\n "}]}