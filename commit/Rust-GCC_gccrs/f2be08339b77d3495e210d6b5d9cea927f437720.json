{"sha": "f2be08339b77d3495e210d6b5d9cea927f437720", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJiZTA4MzM5Yjc3ZDM0OTVlMjEwZDZiNWQ5Y2VhOTI3ZjQzNzcyMA==", "commit": {"author": {"name": "Cui,Lili", "email": "lili.cui@intel.com", "date": "2021-04-12T01:59:25Z"}, "committer": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2021-04-12T07:39:52Z"}, "message": "Change march=alderlake ISA list and add m_ALDERLAKE to m_CORE_AVX2\n\nAlder Lake Intel Hybrid Technology will not support Intel\u00ae AVX-512. ISA\nfeatures such as Intel\u00ae AVX, AVX-VNNI, Intel\u00ae AVX2, and UMONITOR/UMWAIT/TPAUSE\nare supported.\n\ngcc/ChangeLog\n\n\t* config/i386/i386.h (PTA_ALDERLAKE): Change alderlake ISA list.\n\t* config/i386/i386-options.c (m_CORE_AVX2): Add m_ALDERLAKE.\n\t* common/config/i386/cpuinfo.h (get_intel_cpu): Add AlderLake model.\n\t* doc/invoke.texi: Change alderlake ISA list.", "tree": {"sha": "e85ec8e50827a315e712055ce13bef627b1646be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e85ec8e50827a315e712055ce13bef627b1646be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2be08339b77d3495e210d6b5d9cea927f437720", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2be08339b77d3495e210d6b5d9cea927f437720", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2be08339b77d3495e210d6b5d9cea927f437720", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2be08339b77d3495e210d6b5d9cea927f437720/comments", "author": {"login": "cuilili8868", "id": 54013017, "node_id": "MDQ6VXNlcjU0MDEzMDE3", "avatar_url": "https://avatars.githubusercontent.com/u/54013017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuilili8868", "html_url": "https://github.com/cuilili8868", "followers_url": "https://api.github.com/users/cuilili8868/followers", "following_url": "https://api.github.com/users/cuilili8868/following{/other_user}", "gists_url": "https://api.github.com/users/cuilili8868/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuilili8868/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuilili8868/subscriptions", "organizations_url": "https://api.github.com/users/cuilili8868/orgs", "repos_url": "https://api.github.com/users/cuilili8868/repos", "events_url": "https://api.github.com/users/cuilili8868/events{/privacy}", "received_events_url": "https://api.github.com/users/cuilili8868/received_events", "type": "User", "site_admin": false}, "committer": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a0ecde220da1edf7062ec429aa2c7a5b4103e92f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0ecde220da1edf7062ec429aa2c7a5b4103e92f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0ecde220da1edf7062ec429aa2c7a5b4103e92f"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "c1ee7a1f8b85fb64a25312014d0b11332e0c7bb9", "filename": "gcc/common/config/i386/cpuinfo.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fi386%2Fcpuinfo.h?ref=f2be08339b77d3495e210d6b5d9cea927f437720", "patch": "@@ -476,6 +476,7 @@ get_intel_cpu (struct __processor_model *cpu_model,\n       cpu_model->__cpu_subtype = INTEL_COREI7_TIGERLAKE;\n       break;\n     case 0x97:\n+    case 0x9a:\n       /* Alder Lake.  */\n       cpu = \"alderlake\";\n       CHECK___builtin_cpu_is (\"corei7\");"}, {"sha": "02e9c97d17437ef5a02eb198c0e0f153ac4e3e32", "filename": "gcc/config/i386/i386-options.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fconfig%2Fi386%2Fi386-options.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fconfig%2Fi386%2Fi386-options.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-options.c?ref=f2be08339b77d3495e210d6b5d9cea927f437720", "patch": "@@ -129,7 +129,7 @@ along with GCC; see the file COPYING3.  If not see\n #define m_CORE_AVX512 (m_SKYLAKE_AVX512 | m_CANNONLAKE \\\n \t\t       | m_ICELAKE_CLIENT | m_ICELAKE_SERVER | m_CASCADELAKE \\\n \t\t       | m_TIGERLAKE | m_COOPERLAKE | m_SAPPHIRERAPIDS)\n-#define m_CORE_AVX2 (m_HASWELL | m_SKYLAKE | m_CORE_AVX512)\n+#define m_CORE_AVX2 (m_HASWELL | m_SKYLAKE | m_ALDERLAKE | m_CORE_AVX512)\n #define m_CORE_ALL (m_CORE2 | m_NEHALEM  | m_SANDYBRIDGE | m_CORE_AVX2)\n #define m_GOLDMONT (HOST_WIDE_INT_1U<<PROCESSOR_GOLDMONT)\n #define m_GOLDMONT_PLUS (HOST_WIDE_INT_1U<<PROCESSOR_GOLDMONT_PLUS)"}, {"sha": "24894b4422aa932ba45abb0b72d0f925cebf4480", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=f2be08339b77d3495e210d6b5d9cea927f437720", "patch": "@@ -2547,9 +2547,6 @@ constexpr wide_int_bitmask PTA_SAPPHIRERAPIDS = PTA_COOPERLAKE | PTA_MOVDIRI\n   | PTA_MOVDIR64B | PTA_AVX512VP2INTERSECT | PTA_ENQCMD | PTA_CLDEMOTE\n   | PTA_PTWRITE | PTA_WAITPKG | PTA_SERIALIZE | PTA_TSXLDTRK | PTA_AMX_TILE\n   | PTA_AMX_INT8 | PTA_AMX_BF16 | PTA_UINTR | PTA_AVXVNNI;\n-constexpr wide_int_bitmask PTA_ALDERLAKE = PTA_SKYLAKE | PTA_CLDEMOTE\n-  | PTA_PTWRITE | PTA_WAITPKG | PTA_SERIALIZE | PTA_HRESET | PTA_KL\n-  | PTA_WIDEKL | PTA_AVXVNNI;\n constexpr wide_int_bitmask PTA_KNL = PTA_BROADWELL | PTA_AVX512PF\n   | PTA_AVX512ER | PTA_AVX512F | PTA_AVX512CD | PTA_PREFETCHWT1;\n constexpr wide_int_bitmask PTA_BONNELL = PTA_CORE2 | PTA_MOVBE;\n@@ -2562,6 +2559,10 @@ constexpr wide_int_bitmask PTA_GOLDMONT_PLUS = PTA_GOLDMONT | PTA_RDPID\n   | PTA_SGX | PTA_PTWRITE;\n constexpr wide_int_bitmask PTA_TREMONT = PTA_GOLDMONT_PLUS | PTA_CLWB\n   | PTA_GFNI | PTA_MOVDIRI | PTA_MOVDIR64B | PTA_CLDEMOTE | PTA_WAITPKG;\n+constexpr wide_int_bitmask PTA_ALDERLAKE = PTA_TREMONT | PTA_ADX | PTA_AVX\n+  | PTA_AVX2 | PTA_BMI | PTA_BMI2 | PTA_F16C | PTA_FMA | PTA_LZCNT\n+  | PTA_PCONFIG | PTA_PKU | PTA_VAES | PTA_VPCLMULQDQ | PTA_SERIALIZE\n+  | PTA_HRESET | PTA_KL | PTA_WIDEKL | PTA_AVXVNNI;\n constexpr wide_int_bitmask PTA_KNM = PTA_KNL | PTA_AVX5124VNNIW\n   | PTA_AVX5124FMAPS | PTA_AVX512VPOPCNTDQ;\n "}, {"sha": "6b585cec7404889b8aa0f0c6dd78e9d5cdab1e90", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2be08339b77d3495e210d6b5d9cea927f437720/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=f2be08339b77d3495e210d6b5d9cea927f437720", "patch": "@@ -30188,10 +30188,11 @@ instruction set support.\n \n @item alderlake\n Intel Alderlake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n-SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, BMI,\n-BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES, CLDEMOTE,\n-PTWRITE, WAITPKG, SERIALIZE, KEYLOCKER, HRESET and AVX-VNNI instruction set\n-support.\n+SSE4.1, SSE4.2, POPCNT, AES, PREFETCHW, PCLMUL, RDRND, XSAVE, XSAVEC, XSAVES,\n+XSAVEOPT, FSGSBASE, PTWRITE, RDPID, SGX, UMIP, GFNI-SSE, CLWB, MOVDIRI,\n+MOVDIR64B, CLDEMOTE, WAITPKG, ADCX, AVX, AVX2, BMI, BMI2, F16C, FMA, LZCNT,\n+PCONFIG, PKU, VAES, VPCLMULQDQ, SERIALIZE, HRESET, KL, WIDEKL and AVX-VNNI\n+instruction set support.\n \n @item k6\n AMD K6 CPU with MMX instruction set support."}]}