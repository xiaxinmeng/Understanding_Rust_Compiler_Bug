{"sha": "9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWEwYmFiMGJlNjgyYmUyYWFlZTVmMTE0NjUxOGM0ZDk0ZDQ0YWM4ZQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2009-05-26T19:23:45Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2009-05-26T19:23:45Z"}, "message": "re PR fortran/40246 (ICE on invalid SOURCE= using NULLIFY)\n\n2009-05-26  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/40246\n        * match.c (gfc_match_nullify): NULLify freed pointer.\n\n2009-05-26  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/40246\n        * gfortran.dg/nullify_4.f90: New test.\n\nFrom-SVN: r147879", "tree": {"sha": "21a6ec79e2177c353922e154676c03fc9d0b347f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/21a6ec79e2177c353922e154676c03fc9d0b347f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ae2392a94bb89e198642d304d2f04ca67142c006", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2392a94bb89e198642d304d2f04ca67142c006", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae2392a94bb89e198642d304d2f04ca67142c006"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "048d44e191a91c237c47a075cff8922503f0067f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "patch": "@@ -1,3 +1,8 @@\n+2009-05-26  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/40246\n+\t* match.c (gfc_match_nullify): NULLify freed pointer.\n+\n 2009-05-26  Ian Lance Taylor  <iant@google.com>\n \n \t* Make-lang.in (gfortranspec.o): Use $(COMPILER)."}, {"sha": "cf558b54e1b932ba3ddfe64d2a4c0a406d4d0d84", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "patch": "@@ -2418,6 +2418,11 @@ gfc_match_nullify (void)\n \n cleanup:\n   gfc_free_statements (new_st.next);\n+  new_st.next = NULL;\n+  gfc_free_expr (new_st.expr1);\n+  new_st.expr1 = NULL;\n+  gfc_free_expr (new_st.expr2);\n+  new_st.expr2 = NULL;\n   return MATCH_ERROR;\n }\n "}, {"sha": "f42781b6ddfebb85ef610659e2599b6776f93463", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "patch": "@@ -1,3 +1,8 @@\n+2009-05-26  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/40246\n+\t* gfortran.dg/nullify_4.f90: New test.\n+\n 2009-05-26  Richard Guenther  <rguenther@suse.de>\n \n \t* gcc.dg/tree-ssa/inline-3.c: Remove dump file."}, {"sha": "48dcf72ca9d24a4a697d05a0bf06fe998fde418c", "filename": "gcc/testsuite/gfortran.dg/nullify_4.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ftestsuite%2Fgfortran.dg%2Fnullify_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a0bab0be682be2aaee5f1146518c4d94d44ac8e/gcc%2Ftestsuite%2Fgfortran.dg%2Fnullify_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnullify_4.f90?ref=9a0bab0be682be2aaee5f1146518c4d94d44ac8e", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+! PR fortran/40246\n+!\n+! Check error recovery; was crashing before.\n+!\n+real, pointer :: ptr\n+nullify(ptr, mesh%coarser) ! { dg-error \"Syntax error in NULLIFY statement\" }\n+end"}]}