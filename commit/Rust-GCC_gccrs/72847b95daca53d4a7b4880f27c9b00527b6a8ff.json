{"sha": "72847b95daca53d4a7b4880f27c9b00527b6a8ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI4NDdiOTVkYWNhNTNkNGE3YjQ4ODBmMjdjOWIwMDUyN2I2YThmZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-29T22:33:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-29T22:33:46Z"}, "message": "(TARGET_NO_FP_IN_TOC): New; deleted TARGET_FP_IN_TOC.\n\n(TARGET_SWITCHES): Rearrange to have three TOC choices.\n(ASM_OUTPUT_SPECIAL_POOL_ENTRY): Use TARGET_NO_FP_IN_TOC.\n\nFrom-SVN: r5226", "tree": {"sha": "6e8c62617cc4f4ef9118412e115b74daab741ca5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e8c62617cc4f4ef9118412e115b74daab741ca5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72847b95daca53d4a7b4880f27c9b00527b6a8ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72847b95daca53d4a7b4880f27c9b00527b6a8ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72847b95daca53d4a7b4880f27c9b00527b6a8ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72847b95daca53d4a7b4880f27c9b00527b6a8ff/comments", "author": null, "committer": null, "parents": [{"sha": "4418d41b542f8dde947d87cb8b6d0d9e4d61e71b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4418d41b542f8dde947d87cb8b6d0d9e4d61e71b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4418d41b542f8dde947d87cb8b6d0d9e4d61e71b"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "f50c6b3a160987a4ebcd4acb289a1a4ebb01937b", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72847b95daca53d4a7b4880f27c9b00527b6a8ff/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72847b95daca53d4a7b4880f27c9b00527b6a8ff/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=72847b95daca53d4a7b4880f27c9b00527b6a8ff", "patch": "@@ -65,10 +65,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n /* Run-time compilation parameters selecting different hardware subsets.  */\n \n-/* Flag to allow putting fp constants in the TOC; can be turned off when\n+/* Flag to disable putting fp constants in the TOC; can be turned on when\n    the TOC overflows.  */\n \n-#define TARGET_FP_IN_TOC  (target_flags & 1)\n+#define TARGET_NO_FP_IN_TOC  (target_flags & 1)\n \n /* Flag to output only one TOC entry per module.  Normally linking fails if\n    there are more than 16K unique variables/constants in an executable.  With\n@@ -89,13 +89,12 @@ extern int target_flags;\n    An empty string NAME is used to identify the default VALUE.  */\n \n #define TARGET_SWITCHES\t\t\\\n-  {{\"fp-in-toc\", 1},\t\t\\\n-   {\"no-fp-in-toc\", -1},\t\\\n+  {{\"normal-toc\", - (1|2)},\t\\\n+   {\"no-fp-in-toc\", 1},\t\\\n    {\"minimal-toc\", 2},\t\t\\\n-   {\"no-minimal-toc\", -2},\t\\\n    { \"\", TARGET_DEFAULT}}\n \n-#define TARGET_DEFAULT 1\n+#define TARGET_DEFAULT 0\n \n /* On the RS/6000, we turn on various flags if optimization is selected.  */\n \n@@ -1565,7 +1564,8 @@ toc_section ()\t\t\t\t\t\t\\\n    || (GET_CODE (X) == CONST && GET_CODE (XEXP (X, 0)) == PLUS\t\\\n        && GET_CODE (XEXP (XEXP (X, 0), 0)) == SYMBOL_REF)\t\\\n    || GET_CODE (X) == LABEL_REF\t\t\t\t\t\\\n-   || (TARGET_FP_IN_TOC && GET_CODE (X) == CONST_DOUBLE\t\t\\\n+   || (! (TARGET_NO_FP_IN_TOC && ! TARGET_MINIMAL_TOC)\t\t\\\n+       && GET_CODE (X) == CONST_DOUBLE\t\t\t\t\\\n        && GET_MODE_CLASS (GET_MODE (X)) == MODE_FLOAT\t\t\\\n        && BITS_PER_WORD == HOST_BITS_PER_INT))\n "}]}