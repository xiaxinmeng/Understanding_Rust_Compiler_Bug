{"sha": "e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTNiMThkZjQ1YmQ4ZmU0ZDRmYTE1NGQ4ZjUyZTA1ZWJiNGE4MWRhOA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-01-25T15:10:03Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-01-25T15:10:03Z"}, "message": "compiler: don't write sink constants to C header file\n    \n    Reviewed-on: https://go-review.googlesource.com/89815\n\nFrom-SVN: r257049", "tree": {"sha": "8ffa32ea82433e0486acaf7cc115ca42405e64be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ffa32ea82433e0486acaf7cc115ca42405e64be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8/comments", "author": null, "committer": null, "parents": [{"sha": "e77a1236a74de93773633cd39748bb8f79f0ea82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e77a1236a74de93773633cd39748bb8f79f0ea82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e77a1236a74de93773633cd39748bb8f79f0ea82"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "e55b2bcfc6cece78fcebc3ee831f1f4a9e791844", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "patch": "@@ -1,4 +1,4 @@\n-0bbc03f81c862fb35be3edee9824698a7892a17e\n+016ea21c4cba324c6ea6424da7988c6f985e671b\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "f89099e7e7f437486ef578459baf18a3d040b730", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=e3b18df45bd8fe4d4fa154d8f52e05ebb4a81da8", "patch": "@@ -4633,7 +4633,9 @@ Gogo::write_c_header()\n \n       if (no->is_type() && no->type_value()->struct_type() != NULL)\n \ttypes.push_back(no);\n-      if (no->is_const() && no->const_value()->type()->integer_type() != NULL)\n+      if (no->is_const()\n+\t  && no->const_value()->type()->integer_type() != NULL\n+\t  && !no->const_value()->is_sink())\n \t{\n \t  Numeric_constant nc;\n \t  unsigned long val;"}]}