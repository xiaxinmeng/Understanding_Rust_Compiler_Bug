{"sha": "e6e1cf4ce3e2a9e986728a6187f0cb548fd67370", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTZlMWNmNGNlM2UyYTllOTg2NzI4YTYxODdmMGNiNTQ4ZmQ2NzM3MA==", "commit": {"author": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-05-10T19:19:06Z"}, "committer": {"name": "John Hassey", "email": "hassey@gnu.org", "date": "1993-05-10T19:19:06Z"}, "message": "(TRAMPOLINE_TEMPLATE): Fixed invalid bsr insn.\n\nFrom-SVN: r4412", "tree": {"sha": "87c4bfcad4e224f528f340823e0328732aed3a11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87c4bfcad4e224f528f340823e0328732aed3a11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370/comments", "author": null, "committer": null, "parents": [{"sha": "600ceaa944f3736fcb8afc0bfd507ac226a24e04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/600ceaa944f3736fcb8afc0bfd507ac226a24e04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/600ceaa944f3736fcb8afc0bfd507ac226a24e04"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "21671439eb137c676c583eef5b82a3cb7bd378f1", "filename": "gcc/config/m88k/m88k.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370/gcc%2Fconfig%2Fm88k%2Fm88k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6e1cf4ce3e2a9e986728a6187f0cb548fd67370/gcc%2Fconfig%2Fm88k%2Fm88k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fm88k.h?ref=e6e1cf4ce3e2a9e986728a6187f0cb548fd67370", "patch": "@@ -1183,6 +1183,10 @@ enum reg_class { NO_REGS, AP_REG, XRF_REGS, GENERAL_REGS, AGRF_REGS,\n /*** Trampolines for Nested Functions ***/\n \n /* Output assembler code for a block containing the constant parts\n+  char buf[256];\t\t\t\t\t\t\t\\\n+  static int labelno = 0;\t\t\t\t\t\t\\\n+  labelno++;\t\t\t\t\t\t\t\t\\\n+  ASM_GENERATE_INTERNAL_LABEL (buf, \"LTRMP\", labelno);\t\t\t\\\n    of a trampoline, leaving space for the variable parts.\n \n    This block is placed on the stack and filled in.  It is aligned\n@@ -1197,7 +1201,8 @@ enum reg_class { NO_REGS, AP_REG, XRF_REGS, GENERAL_REGS, AGRF_REGS,\n   /* Save the return address (r1) in the static chain reg (r11).  */\t\\\n   fprintf (FILE, \"\\tor\\t %s,%s,0\\n\", reg_names[11], reg_names[1]);\t\\\n   /* Locate this block; transfer to the next instruction.  */\t\t\\\n-  fprintf (FILE, \"\\tbsr\\t 1\\n\");\t\t\t\t\t\\\n+  fprintf (FILE, \"\\tbsr\\t %s\\n\", &buf[1]);\t\t\t\t\t\\\n+  ASM_OUTPUT_INTERNAL_LABEL (FILE, \"LTRMP\", labelno);\t\t\t\\\n   /* Save r10; use it as the relative pointer; restore r1.  */\t\t\\\n   fprintf (FILE, \"\\tst\\t %s,%s,24\\n\", reg_names[10], reg_names[1]);\t\\\n   fprintf (FILE, \"\\tor\\t %s,%s,0\\n\", reg_names[10], reg_names[1]);\t\\\n@@ -1927,7 +1932,7 @@ enum reg_class { NO_REGS, AP_REG, XRF_REGS, GENERAL_REGS, AGRF_REGS,\n \tif (!flag_inhibit_size_directive)\t\t\t\t\\\n \t  {\t\t\t\t\t\t\t\t\\\n \t    char label[256];\t\t\t\t\t\t\\\n-\t    static int labelno;\t\t\t\t\t\t\\\n+\t    static int labelno = 0;\t\t\t\t\t\\\n \t    labelno++;\t\t\t\t\t\t\t\\\n \t    ASM_GENERATE_INTERNAL_LABEL (label, \"Lfe\", labelno);\t\\\n \t    ASM_OUTPUT_INTERNAL_LABEL (FILE, \"Lfe\", labelno);\t\t\\"}]}