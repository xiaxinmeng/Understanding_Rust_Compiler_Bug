{"sha": "cb8d51687d5faba3725ff96b8277fb1142003450", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2I4ZDUxNjg3ZDVmYWJhMzcyNWZmOTZiODI3N2ZiMTE0MjAwMzQ1MA==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2000-05-20T21:32:42Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-05-20T21:32:42Z"}, "message": "many applications of c_fix=format + tests\n\nFrom-SVN: r34059", "tree": {"sha": "ec9ed8f6cb6cdae81ec97a3f4a41bbffb408fa9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec9ed8f6cb6cdae81ec97a3f4a41bbffb408fa9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cb8d51687d5faba3725ff96b8277fb1142003450", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb8d51687d5faba3725ff96b8277fb1142003450", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb8d51687d5faba3725ff96b8277fb1142003450", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb8d51687d5faba3725ff96b8277fb1142003450/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fa5b690ab65ed343d1088c56e66308a6e99b2d04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa5b690ab65ed343d1088c56e66308a6e99b2d04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa5b690ab65ed343d1088c56e66308a6e99b2d04"}], "stats": {"total": 1416, "additions": 1008, "deletions": 408}, "files": [{"sha": "b1e00d1212c5c78a55a24a948ab2442ed230ae15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cb8d51687d5faba3725ff96b8277fb1142003450", "patch": "@@ -28,7 +28,7 @@\n \n 2000-05-20  Bruce Korb  <bkorb@gnu.org>\n \n-\t* fixinc/inclhack.def:  more applications of c_fix=format + tests\n+\t* fixinc/inclhack.def:  many applications of c_fix=format + tests\n \t* fixinc/check.diff:  regenerated\n \t* fixinc/fixincl.x:  regenerated\n "}, {"sha": "373da30c5e021e08b2c1549787b4a465e0ee08cb", "filename": "gcc/fixinc/check.diff", "status": "modified", "additions": 429, "deletions": 22, "changes": 451, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Fcheck.diff", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Fcheck.diff", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fcheck.diff?ref=cb8d51687d5faba3725ff96b8277fb1142003450", "patch": "@@ -236,6 +236,21 @@\n   #if defined( LYNXOS_FCNTL_PROTO_CHECK )\n ! extern int fcntl(int, int, ...);\n   #endif  /* LYNXOS_FCNTL_PROTO_CHECK */\n+*** inc/hsfs/hsfs_spec.h\n+--- res/hsfs/hsfs_spec.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #if defined( SUN_BOGUS_IFDEF_CHECK )\n+! #ifdef  __i386__ || __vax__ || __sun4c__\n+  #endif  /* SUN_BOGUS_IFDEF_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #if defined( SUN_BOGUS_IFDEF_CHECK )\n+! #if  __i386__ || __vax__ || __sun4c__\n+  #endif  /* SUN_BOGUS_IFDEF_CHECK */\n *** inc/inttypes.h\n --- res/inttypes.h\n ***************\n@@ -295,6 +310,27 @@\n   #if defined( MACHINE_ANSI_H_VA_LIST_CHECK )\n !  # define _BSD_VA_LIST_\t__builtin_va_list\n   #endif  /* MACHINE_ANSI_H_VA_LIST_CHECK */\n+*** inc/malloc.h\n+--- res/malloc.h\n+***************\n+*** 1,8 ****\n+  \n+  \n+  #if defined( SUN_MALLOC_CHECK )\n+! typedef char *\tmalloc_t;\n+! int \tfree();\n+! char*\tmalloc();\n+! char*\trealloc();\n+  #endif  /* SUN_MALLOC_CHECK */\n+--- 1,8 ----\n+  \n+  \n+  #if defined( SUN_MALLOC_CHECK )\n+! typedef void *\tmalloc_t;\n+! void\tfree();\n+! void*\tmalloc();\n+! void*\trealloc();\n+  #endif  /* SUN_MALLOC_CHECK */\n *** inc/math.h\n --- res/math.h\n ***************\n@@ -340,7 +376,11 @@\n   #endif  /* M88K_BAD_HYPOT_OPT_CHECK */\n   \n   \n---- 1,61 ----\n+--- 1,65 ----\n++ #ifndef FIXINC_SUNOS_MATHERR_DECL_CHECK\n++ #define FIXINC_SUNOS_MATHERR_DECL_CHECK 1\n++ \n++ struct exception;\n + #ifndef FIXINC_MATH_EXCEPTION_CHECK\n + #define FIXINC_MATH_EXCEPTION_CHECK 1\n + \n@@ -403,20 +443,56 @@\n   \n   \n ***************\n-*** 45,49 ****\n---- 65,76 ----\n+*** 45,56 ****\n+--- 69,84 ----\n   \n   \n   #if defined( MATH_HUGE_VAL_IFNDEF_CHECK )\n + #ifndef HUGE_VAL\n   # define\tHUGE_VAL 3.4e+40\n + #endif\n   #endif  /* MATH_HUGE_VAL_IFNDEF_CHECK */\n+  \n+  \n+  #if defined( RS6000_DOUBLE_CHECK )\n++ #ifndef __cplusplus\n+  extern int class();\n++ #endif\n+  #endif  /* RS6000_DOUBLE_CHECK */\n+  \n+  \n+***************\n+*** 60,64 ****\n+--- 88,101 ----\n+  \n+  \n+  #if defined( SVR4__P_CHECK )\n++ #ifndef __P\n+  #define __P(a) a\n++ #endif\n+  #endif  /* SVR4__P_CHECK */\n + #ifdef __cplusplus\n + #undef exception\n + #endif\n + \n + #endif  /* FIXINC_MATH_EXCEPTION_CHECK */\n++ \n++ #endif  /* FIXINC_SUNOS_MATHERR_DECL_CHECK */\n+*** inc/netdnet/dnetdb.h\n+--- res/netdnet/dnetdb.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #if defined( NODEENT_SYNTAX_CHECK )\n+! char *na_addr\t\n+  #endif  /* NODEENT_SYNTAX_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #if defined( NODEENT_SYNTAX_CHECK )\n+! char *na_addr\t;\n+  #endif  /* NODEENT_SYNTAX_CHECK */\n *** inc/netinet/ip.h\n --- res/netinet/ip.h\n ***************\n@@ -436,17 +512,90 @@\n   }; /* mumbled struct */\n   \n   #endif  /* IP_MISSING_SEMI_CHECK */\n+*** inc/pixrect/memvar.h\n+--- res/pixrect/memvar.h\n+***************\n+*** 1,5 ****\n+--- 1,9 ----\n+  \n+  \n+  #if defined( SUN_CATMACRO_CHECK )\n++ #ifdef __STDC__\n++ #  define CAT(a,b) a##b\n++ #else\n+  #define CAT(a,b)\ta/**/b\n++ #endif\n+  #endif  /* SUN_CATMACRO_CHECK */\n+*** inc/pthread.h\n+--- res/pthread.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #if defined( PTHREAD_PAGE_SIZE_CHECK )\n+! int __page_size;\n+  #endif  /* PTHREAD_PAGE_SIZE_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #if defined( PTHREAD_PAGE_SIZE_CHECK )\n+! extern int __page_size;\n+  #endif  /* PTHREAD_PAGE_SIZE_CHECK */\n+*** inc/reg_types.h\n+--- res/reg_types.h\n+***************\n+*** 4,11 ****\n+  typedef struct {\n+    int stuff, mo_suff;\n+  } regex_t;\n+! extern regex_t    re;\n+! extern regoff_t   ro;\n+! extern regmatch_t rm;\n+  \n+  #endif  /* OSF_NAMESPACE_A_CHECK */\n+--- 4,11 ----\n+  typedef struct {\n+    int stuff, mo_suff;\n+  } regex_t;\n+! extern __regex_t    re;\n+! extern __regoff_t   ro;\n+! extern __regmatch_t rm;\n+  \n+  #endif  /* OSF_NAMESPACE_A_CHECK */\n+*** inc/regex.h\n+--- res/regex.h\n+***************\n+*** 2,5 ****\n+--- 2,8 ----\n+  \n+  #if defined( OSF_NAMESPACE_C_CHECK )\n+  #include <reg_types.h>\n++ typedef __regex_t\tregex_t;\n++ typedef __regoff_t\tregoff_t;\n++ typedef __regmatch_t\tregmatch_t;\n+  #endif  /* OSF_NAMESPACE_C_CHECK */\n *** inc/rpc/auth.h\n --- res/rpc/auth.h\n ***************\n-*** 1,5 ****\n---- 1,6 ----\n+*** 1,12 ****\n+--- 1,17 ----\n   \n   \n   #if defined( STRUCT_SOCKADDR_CHECK )\n + struct sockaddr;\n   extern AUTH* authdes_create( struct sockaddr* );\n   #endif  /* STRUCT_SOCKADDR_CHECK */\n+  \n+  \n+  #if defined( SUN_AUTH_PROTO_CHECK )\n+  struct auth_t {\n++ #ifdef __cplusplus\n++     int (*name)(...); /* C++ bad */\n++ #else\n+      int (*name)(); /* C++ bad */\n++ #endif\n+  };\n+  #endif  /* SUN_AUTH_PROTO_CHECK */\n *** inc/rpc/rpc.h\n --- res/rpc/rpc.h\n ***************\n@@ -473,6 +622,40 @@\n + struct __file_s;\n   extern void xdrstdio_create( struct __file_s* );\n   #endif  /* STRUCT_FILE_CHECK */\n+*** inc/rpcsvc/rstat.h\n+--- res/rpcsvc/rstat.h\n+***************\n+*** 2,7 ****\n+  \n+  #if defined( STATSSWTCH_CHECK )\n+  struct statswtch {\n+!   int boottime\n+  };\n+  #endif  /* STATSSWTCH_CHECK */\n+--- 2,7 ----\n+  \n+  #if defined( STATSSWTCH_CHECK )\n+  struct statswtch {\n+!   int boottime;\n+  };\n+  #endif  /* STATSSWTCH_CHECK */\n+*** inc/rpcsvc/rusers.h\n+--- res/rpcsvc/rusers.h\n+***************\n+*** 2,7 ****\n+  \n+  #if defined( SUN_RUSERS_SEMI_CHECK )\n+  struct mumble\n+!   int _cnt\n+  };\n+  #endif  /* SUN_RUSERS_SEMI_CHECK */\n+--- 2,7 ----\n+  \n+  #if defined( SUN_RUSERS_SEMI_CHECK )\n+  struct mumble\n+!   int _cnt;\n+  };\n+  #endif  /* SUN_RUSERS_SEMI_CHECK */\n *** inc/sparc/asm_linkage.h\n --- res/sparc/asm_linkage.h\n ***************\n@@ -491,7 +674,7 @@\n *** inc/stdio.h\n --- res/stdio.h\n ***************\n-*** 1,12 ****\n+*** 1,27 ****\n   \n   \n   #if defined( ALPHA_GETOPT_CHECK )\n@@ -504,7 +687,22 @@\n   int foo;\n   #endif\n   #endif  /* ISC_OMITS_WITH_STDC_CHECK */\n---- 1,17 ----\n+  \n+  \n+  #if defined( READ_RET_TYPE_CHECK )\n+! extern int\tfclose(), fflush(), fread(), fwrite(), foo();\n+  #endif  /* READ_RET_TYPE_CHECK */\n+  \n+  \n+  #if defined( RS6000_PARAM_CHECK )\n+! extern int rename(const char *old, const char *new);\n+  #endif  /* RS6000_PARAM_CHECK */\n+  \n+  \n+  #if defined( STDIO_STDARG_H_CHECK )\n+  \n+  #endif  /* STDIO_STDARG_H_CHECK */\n+--- 1,35 ----\n + #ifndef FIXINC_STDIO_STDARG_H_CHECK\n + #define FIXINC_STDIO_STDARG_H_CHECK 1\n + \n@@ -522,9 +720,19 @@\n   int foo;\n   #endif\n   #endif  /* ISC_OMITS_WITH_STDC_CHECK */\n-***************\n-*** 15,17 ****\n---- 20,24 ----\n+  \n+  \n+  #if defined( READ_RET_TYPE_CHECK )\n+! extern unsigned int fread(), fwrite();\n+! extern int\tfclose(), fflush(), foo();\n+  #endif  /* READ_RET_TYPE_CHECK */\n+  \n+  \n+  #if defined( RS6000_PARAM_CHECK )\n+! extern int rename(const char *_old, const char *_new);\n+  #endif  /* RS6000_PARAM_CHECK */\n+  \n+  \n   #if defined( STDIO_STDARG_H_CHECK )\n   \n   #endif  /* STDIO_STDARG_H_CHECK */\n@@ -533,7 +741,7 @@\n *** inc/stdlib.h\n --- res/stdlib.h\n ***************\n-*** 1,12 ****\n+*** 1,38 ****\n   \n   \n   #if defined( ARM_WCHAR_CHECK )\n@@ -543,10 +751,36 @@\n   #endif  /* ARM_WCHAR_CHECK */\n   \n   \n+  #if defined( INT_ABORT_FREE_AND_EXIT_CHECK )\n+! extern int abort(int);\n+! extern int free(void*);\n+! extern int exit(void*);\n+  #endif  /* INT_ABORT_FREE_AND_EXIT_CHECK */\n+  \n+  \n   #if defined( NEWS_OS_RECURSION_CHECK )\n   #include <stdlib.h>\n   #endif  /* NEWS_OS_RECURSION_CHECK */\n---- 1,14 ----\n+  \n+  \n+  #if defined( SVR4_GETCWD_CHECK )\n+! extern char* getcwd(char *, int);\n+  #endif  /* SVR4_GETCWD_CHECK */\n+  \n+  \n+  #if defined( SVR4_PROFIL_CHECK )\n+! profil(unsigned short *, unsigned int, unsigned int, unsigned int);\n+  #endif  /* SVR4_PROFIL_CHECK */\n+  \n+  \n+  #if defined( SYSZ_STDLIB_FOR_SUN_CHECK )\n+! extern char*\tcalloc(size_t);\n+! extern char*\tmalloc(size_t);\n+! extern char*\trealloc(void*,size_t);\n+! extern char*\tbsearch(void*,size_t,size_t);\n+  \n+  #endif  /* SYSZ_STDLIB_FOR_SUN_CHECK */\n+--- 1,40 ----\n   \n   \n   #if defined( ARM_WCHAR_CHECK )\n@@ -556,11 +790,52 @@\n   #endif  /* ARM_WCHAR_CHECK */\n   \n   \n+  #if defined( INT_ABORT_FREE_AND_EXIT_CHECK )\n+! extern void\tabort(int);\n+! extern void\tfree(void*);\n+! extern void\texit(void*);\n+  #endif  /* INT_ABORT_FREE_AND_EXIT_CHECK */\n+  \n+  \n   #if defined( NEWS_OS_RECURSION_CHECK )\n + #ifdef BOGUS_RECURSION\n   #include <stdlib.h>\n + #endif\n   #endif  /* NEWS_OS_RECURSION_CHECK */\n+  \n+  \n+  #if defined( SVR4_GETCWD_CHECK )\n+! extern char* getcwd(char *, size_t);\n+  #endif  /* SVR4_GETCWD_CHECK */\n+  \n+  \n+  #if defined( SVR4_PROFIL_CHECK )\n+! profil(unsigned short *, size_t, int, unsigned int);\n+  #endif  /* SVR4_PROFIL_CHECK */\n+  \n+  \n+  #if defined( SYSZ_STDLIB_FOR_SUN_CHECK )\n+! extern void *\tcalloc(size_t);\n+! extern void *\tmalloc(size_t);\n+! extern void *\trealloc(void*,size_t);\n+! extern void *\tbsearch(void*,size_t,size_t);\n+  \n+  #endif  /* SYSZ_STDLIB_FOR_SUN_CHECK */\n+*** inc/strings.h\n+--- res/strings.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #if defined( SUNOS_STRLEN_CHECK )\n+!  int\tstrlen(); /* string length */\n+  #endif  /* SUNOS_STRLEN_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #if defined( SUNOS_STRLEN_CHECK )\n+!  __SIZE_TYPE__ strlen(); /* string length */\n+  #endif  /* SUNOS_STRLEN_CHECK */\n *** inc/sundev/vuid_event.h\n --- res/sundev/vuid_event.h\n ***************\n@@ -644,6 +919,7 @@\n   #if defined( HP_SYSFILE_CHECK )\n ! extern void foo(struct file *, ...); /* HPUX_SOURCE - bad varargs */\n   #endif  /* HP_SYSFILE_CHECK */\n+Only in inc:  inc/sys/lc_core.h\n *** inc/sys/limits.h\n --- res/sys/limits.h\n ***************\n@@ -716,18 +992,32 @@\n *** inc/sys/signal.h\n --- res/sys/signal.h\n ***************\n-*** 1,5 ****\n+*** 1,10 ****\n   \n   \n   #if defined( AIX_VOLATILE_CHECK )\n ! typedef volatile int sig_atomic_t;\n   #endif  /* AIX_VOLATILE_CHECK */\n---- 1,5 ----\n+  \n+  \n+  #if defined( SUN_SIGNAL_CHECK )\n+  void\t(*signal())();\n+  #endif  /* SUN_SIGNAL_CHECK */\n+--- 1,14 ----\n   \n   \n   #if defined( AIX_VOLATILE_CHECK )\n ! typedef int sig_atomic_t;\n   #endif  /* AIX_VOLATILE_CHECK */\n+  \n+  \n+  #if defined( SUN_SIGNAL_CHECK )\n++ #ifdef __cplusplus\n++ void\t(*signal(...))(...);\n++ #else\n+  void\t(*signal())();\n++ #endif\n+  #endif  /* SUN_SIGNAL_CHECK */\n *** inc/sys/spinlock.h\n --- res/sys/spinlock.h\n ***************\n@@ -746,18 +1036,74 @@\n *** inc/sys/stat.h\n --- res/sys/stat.h\n ***************\n-*** 1,5 ****\n+*** 1,27 ****\n   \n   \n   #if defined( M88K_BAD_S_IF_CHECK )\n ! #define S_ISREG(m) (m & S_IFREG) /* is regular? */\n   #endif  /* M88K_BAD_S_IF_CHECK */\n---- 1,5 ----\n+  \n+  \n+  #if defined( RS6000_FCHMOD_CHECK )\n+! extern int fchmod(char *, mode_t);\n+  #endif  /* RS6000_FCHMOD_CHECK */\n+  \n+  \n+  #if defined( SCO_STATIC_FUNC_CHECK )\n+  #ifdef __STDC__\n+  static int\tstat(const char *__f, struct stat *__p) {\n+  return __stat32(__f, __p);\n+  }\n+  \n+  #  else /* !__STDC__ */\n+  static int\tstat(__f, __p)\n+  char *__f;\n+  struct stat *__p;\n+  {\n+  return __stat32(__f, __p);\n+  }\n+  #endif\n+  #endif  /* SCO_STATIC_FUNC_CHECK */\n+--- 1,39 ----\n   \n   \n   #if defined( M88K_BAD_S_IF_CHECK )\n ! #define S_ISREG(m) (((m) & S_IFMT) == S_IFREG) /* is regular? */\n   #endif  /* M88K_BAD_S_IF_CHECK */\n+  \n+  \n+  #if defined( RS6000_FCHMOD_CHECK )\n+! extern int fchmod(int, mode_t);\n+  #endif  /* RS6000_FCHMOD_CHECK */\n+  \n+  \n+  #if defined( SCO_STATIC_FUNC_CHECK )\n+  #ifdef __STDC__\n++ #if __cplusplus\n++ extern \"C\" {\n++ #endif /* __cplusplus */\n+  static int\tstat(const char *__f, struct stat *__p) {\n+  return __stat32(__f, __p);\n+  }\n++ #if __cplusplus\n++  }\n++ #endif /* __cplusplus */\n+  \n+  #  else /* !__STDC__ */\n++ #if __cplusplus\n++ extern \"C\" {\n++ #endif /* __cplusplus */\n+  static int\tstat(__f, __p)\n+  char *__f;\n+  struct stat *__p;\n+  {\n+  return __stat32(__f, __p);\n+  }\n++ #if __cplusplus\n++  }\n++ #endif /* __cplusplus */\n+  #endif\n+  #endif  /* SCO_STATIC_FUNC_CHECK */\n *** inc/sys/time.h\n --- res/sys/time.h\n ***************\n@@ -773,39 +1119,86 @@\n   #if defined( HPUX_SYSTIME_CHECK )\n ! struct sigevent;\n   #endif  /* HPUX_SYSTIME_CHECK */\n+*** inc/sys/times.h\n+--- res/sys/times.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #if defined( SCO_UTIME_CHECK )\n+! extern int utime(const char *, struct utimbuf *);\n+  #endif  /* SCO_UTIME_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #if defined( SCO_UTIME_CHECK )\n+! extern int utime(const char *, const struct utimbuf *);\n+  #endif  /* SCO_UTIME_CHECK */\n *** inc/sys/types.h\n --- res/sys/types.h\n ***************\n-*** 1,6 ****\n+*** 1,11 ****\n   \n   \n   #if defined( IRIX_MULTILINE_CMNT_CHECK )\n ! /* we check the type of the result\n ! // of the sizeof something.  This is a bad test :-( */\n   #endif  /* IRIX_MULTILINE_CMNT_CHECK */\n---- 1,6 ----\n+  \n+  \n+  #if defined( SYSTYPES_STDLIB_SIZE_T_CHECK )\n+! typedef unsigned int size_t; /* size of something */\n+  #endif  /* SYSTYPES_STDLIB_SIZE_T_CHECK */\n+--- 1,17 ----\n   \n   \n   #if defined( IRIX_MULTILINE_CMNT_CHECK )\n ! /* we check the type of the result */\n ! // /* of the sizeof something.  This is a bad test :-( */\n   #endif  /* IRIX_MULTILINE_CMNT_CHECK */\n+  \n+  \n+  #if defined( SYSTYPES_STDLIB_SIZE_T_CHECK )\n+! #ifndef __SIZE_TYPE__\n+! #define __SIZE_TYPE__ long unsigned int\n+! #endif\n+! #ifndef _GCC_SIZE_T\n+! #define _GCC_SIZE_T\n+! typedef __SIZE_TYPE__ size_t; /* size of something */\n+! #endif\n+  #endif  /* SYSTYPES_STDLIB_SIZE_T_CHECK */\n *** inc/sys/wait.h\n --- res/sys/wait.h\n ***************\n-*** 2,7 ****\n---- 2,8 ----\n+*** 2,12 ****\n+  \n+  #if defined( AIX_SYSWAIT_CHECK )\n+  /* bos325, */\n+  extern pid_t wait3();\n+  /* pid_t wait3(int *, int, struct rusage *); */\n+  #endif  /* AIX_SYSWAIT_CHECK */\n+  \n+  \n+  #if defined( NEXT_WAIT_UNION_CHECK )\n+! extern pid_d wait(union wait*);\n+  #endif  /* NEXT_WAIT_UNION_CHECK */\n+--- 2,13 ----\n   \n   #if defined( AIX_SYSWAIT_CHECK )\n   /* bos325, */\n + struct rusage;\n   extern pid_t wait3();\n   /* pid_t wait3(int *, int, struct rusage *); */\n   #endif  /* AIX_SYSWAIT_CHECK */\n+  \n+  \n+  #if defined( NEXT_WAIT_UNION_CHECK )\n+! extern pid_d wait(void*);\n+  #endif  /* NEXT_WAIT_UNION_CHECK */\n *** inc/testing.h\n --- res/testing.h\n ***************\n-*** 1,36 ****\n+*** 1,43 ****\n   \n   \n   #if defined( CTRL_QUOTES_DEF_CHECK )\n@@ -834,12 +1227,19 @@\n   #endif  /* MACHINE_NAME_CHECK */\n   \n   \n+  #if defined( SCO_STRICT_ANSI_CHECK )\n+! #if !__STDC__ /* not standard C */\n+  int foo;\n+  #endif\n+  #endif  /* SCO_STRICT_ANSI_CHECK */\n+  \n+  \n   #if defined( UNDEFINE_NULL_CHECK )\n   #define NULL 0UL\r\n   #define NULL\t((void*)0)\n   \n   #endif  /* UNDEFINE_NULL_CHECK */\n---- 1,40 ----\n+--- 1,47 ----\n   \n   \n   #if defined( CTRL_QUOTES_DEF_CHECK )\n@@ -868,6 +1268,13 @@\n   #endif  /* MACHINE_NAME_CHECK */\n   \n   \n+  #if defined( SCO_STRICT_ANSI_CHECK )\n+! #if !defined(__STRICT_ANSI__) /* not standard C */\n+  int foo;\n+  #endif\n+  #endif  /* SCO_STRICT_ANSI_CHECK */\n+  \n+  \n   #if defined( UNDEFINE_NULL_CHECK )\n + #ifndef NULL\r\n   #define NULL 0UL\r"}, {"sha": "912a159112ab2bc04d7ab386bd0b372f8f993154", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 349, "deletions": 255, "changes": 604, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=cb8d51687d5faba3725ff96b8277fb1142003450", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 121 fixup descriptions.\n+ * This file contains 122 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -1764,11 +1764,47 @@ const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n     \"-e\", \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Int_Abort_Free_And_Exit fix\n+ */\n+#define INT_ABORT_FREE_AND_EXIT_FIXIDX   40\n+tSCC zInt_Abort_Free_And_ExitName[] =\n+     \"int_abort_free_and_exit\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zInt_Abort_Free_And_ExitList[] =\n+  \"|stdlib.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzInt_Abort_Free_And_ExitMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zInt_Abort_Free_And_ExitSelect0[] =\n+       \"int[ \\t]+(abort|free|exit)[ \\t]*\\\\(\";\n+\n+#define    INT_ABORT_FREE_AND_EXIT_TEST_CT  1\n+tTestDesc aInt_Abort_Free_And_ExitTests[] = {\n+  { TT_EGREP,    zInt_Abort_Free_And_ExitSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Int_Abort_Free_And_Exit\n+ */\n+const char* apzInt_Abort_Free_And_ExitPatch[] = {\n+    \"format\",\n+    \"void\\t%1(\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define ISC_OMITS_WITH_STDC_FIXIDX       40\n+#define ISC_OMITS_WITH_STDC_FIXIDX       41\n tSCC zIsc_Omits_With_StdcName[] =\n      \"isc_omits_with_stdc\";\n \n@@ -1804,7 +1840,7 @@ const char* apzIsc_Omits_With_StdcPatch[] = {\n  *\n  *  Description of Io_Quotes_Def fix\n  */\n-#define IO_QUOTES_DEF_FIXIDX             41\n+#define IO_QUOTES_DEF_FIXIDX             42\n tSCC zIo_Quotes_DefName[] =\n      \"io_quotes_def\";\n \n@@ -1839,7 +1875,7 @@ const char* apzIo_Quotes_DefPatch[] = {\n  *\n  *  Description of Io_Quotes_Use fix\n  */\n-#define IO_QUOTES_USE_FIXIDX             42\n+#define IO_QUOTES_USE_FIXIDX             43\n tSCC zIo_Quotes_UseName[] =\n      \"io_quotes_use\";\n \n@@ -1874,7 +1910,7 @@ const char* apzIo_Quotes_UsePatch[] = {\n  *\n  *  Description of Hpux_Maxint fix\n  */\n-#define HPUX_MAXINT_FIXIDX               43\n+#define HPUX_MAXINT_FIXIDX               44\n tSCC zHpux_MaxintName[] =\n      \"hpux_maxint\";\n \n@@ -1913,7 +1949,7 @@ const char* apzHpux_MaxintPatch[] = {\n  *\n  *  Description of Hpux_Systime fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              44\n+#define HPUX_SYSTIME_FIXIDX              45\n tSCC zHpux_SystimeName[] =\n      \"hpux_systime\";\n \n@@ -1949,7 +1985,7 @@ const char* apzHpux_SystimePatch[] = {\n  *\n  *  Description of Ip_Missing_Semi fix\n  */\n-#define IP_MISSING_SEMI_FIXIDX           45\n+#define IP_MISSING_SEMI_FIXIDX           46\n tSCC zIp_Missing_SemiName[] =\n      \"ip_missing_semi\";\n \n@@ -1984,7 +2020,7 @@ const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Irix_Asm_Apostrophe fix\n  */\n-#define IRIX_ASM_APOSTROPHE_FIXIDX       46\n+#define IRIX_ASM_APOSTROPHE_FIXIDX       47\n tSCC zIrix_Asm_ApostropheName[] =\n      \"irix_asm_apostrophe\";\n \n@@ -2021,7 +2057,7 @@ const char* apzIrix_Asm_ApostrophePatch[] = {\n  *\n  *  Description of Irix_Multiline_Cmnt fix\n  */\n-#define IRIX_MULTILINE_CMNT_FIXIDX       47\n+#define IRIX_MULTILINE_CMNT_FIXIDX       48\n tSCC zIrix_Multiline_CmntName[] =\n      \"irix_multiline_cmnt\";\n \n@@ -2049,7 +2085,7 @@ const char* apzIrix_Multiline_CmntPatch[] = { \"sed\",\n  *\n  *  Description of Isc_Fmod fix\n  */\n-#define ISC_FMOD_FIXIDX                  48\n+#define ISC_FMOD_FIXIDX                  49\n tSCC zIsc_FmodName[] =\n      \"isc_fmod\";\n \n@@ -2085,7 +2121,7 @@ const char* apzIsc_FmodPatch[] = {\n  *\n  *  Description of Kandr_Concat fix\n  */\n-#define KANDR_CONCAT_FIXIDX              49\n+#define KANDR_CONCAT_FIXIDX              50\n tSCC zKandr_ConcatName[] =\n      \"kandr_concat\";\n \n@@ -2121,7 +2157,7 @@ const char* apzKandr_ConcatPatch[] = {\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            50\n+#define LIMITS_IFNDEFS_FIXIDX            51\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2160,7 +2196,7 @@ const char* apzLimits_IfndefsPatch[] = {\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             51\n+#define LYNX_VOID_INT_FIXIDX             52\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2196,7 +2232,7 @@ const char* apzLynx_Void_IntPatch[] = {\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        52\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        53\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2233,7 +2269,7 @@ const char* apzLynxos_Fcntl_ProtoPatch[] = {\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        53\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        54\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2282,7 +2318,7 @@ static __inline__ double fake_hypot (x, y)\\n\\\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             54\n+#define M88K_BAD_S_IF_FIXIDX             55\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2321,7 +2357,7 @@ const char* apzM88k_Bad_S_IfPatch[] = {\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           55\n+#define M88K_MULTI_INCL_FIXIDX           56\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2358,7 +2394,7 @@ const char* apzM88k_Multi_InclPatch[] = {\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    56\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    57\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2402,7 +2438,7 @@ const char* apzMachine_Ansi_H_Va_ListPatch[] = {\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              57\n+#define MACHINE_NAME_FIXIDX              58\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2435,7 +2471,7 @@ const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            58\n+#define MATH_EXCEPTION_FIXIDX            59\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2483,7 +2519,7 @@ const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 59\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 60\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2530,7 +2566,7 @@ const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      60\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      61\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2569,7 +2605,7 @@ const char* apzMath_Huge_Val_IfndefPatch[] = {\n  *\n  *  Description of Nested_Motorola fix\n  */\n-#define NESTED_MOTOROLA_FIXIDX           61\n+#define NESTED_MOTOROLA_FIXIDX           62\n tSCC zNested_MotorolaName[] =\n      \"nested_motorola\";\n \n@@ -2599,7 +2635,7 @@ const char* apzNested_MotorolaPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Sys_Limits fix\n  */\n-#define NESTED_SYS_LIMITS_FIXIDX         62\n+#define NESTED_SYS_LIMITS_FIXIDX         63\n tSCC zNested_Sys_LimitsName[] =\n      \"nested_sys_limits\";\n \n@@ -2635,7 +2671,7 @@ const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_AUTH_DES_FIXIDX           63\n+#define NESTED_AUTH_DES_FIXIDX           64\n tSCC zNested_Auth_DesName[] =\n      \"nested_auth_des\";\n \n@@ -2671,7 +2707,7 @@ const char* apzNested_Auth_DesPatch[] = {\n  *\n  *  Description of Nested_Ultrix fix\n  */\n-#define NESTED_ULTRIX_FIXIDX             64\n+#define NESTED_ULTRIX_FIXIDX             65\n tSCC zNested_UltrixName[] =\n      \"nested_ultrix\";\n \n@@ -2698,7 +2734,7 @@ const char* apzNested_UltrixPatch[] = { \"sed\",\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         65\n+#define NEWS_OS_RECURSION_FIXIDX         66\n tSCC zNews_Os_RecursionName[] =\n      \"news_os_recursion\";\n \n@@ -2716,7 +2752,7 @@ tSCC zNews_Os_RecursionList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zNews_Os_RecursionSelect0[] =\n-       \"#include <stdlib\\\\.h>\";\n+       \"[ \\t]*#include <stdlib\\\\.h>.*\";\n \n #define    NEWS_OS_RECURSION_TEST_CT  1\n tTestDesc aNews_Os_RecursionTests[] = {\n@@ -2736,7 +2772,7 @@ const char* apzNews_Os_RecursionPatch[] = {\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          66\n+#define NEXT_MATH_PREFIX_FIXIDX          67\n tSCC zNext_Math_PrefixName[] =\n      \"next_math_prefix\";\n \n@@ -2773,7 +2809,7 @@ const char* apzNext_Math_PrefixPatch[] = {\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             67\n+#define NEXT_TEMPLATE_FIXIDX             68\n tSCC zNext_TemplateName[] =\n      \"next_template\";\n \n@@ -2810,7 +2846,7 @@ const char* apzNext_TemplatePatch[] = {\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             68\n+#define NEXT_VOLITILE_FIXIDX             69\n tSCC zNext_VolitileName[] =\n      \"next_volitile\";\n \n@@ -2847,7 +2883,7 @@ const char* apzNext_VolitilePatch[] = {\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           69\n+#define NEXT_WAIT_UNION_FIXIDX           70\n tSCC zNext_Wait_UnionName[] =\n      \"next_wait_union\";\n \n@@ -2874,15 +2910,16 @@ tTestDesc aNext_Wait_UnionTests[] = {\n /*\n  *  Fix Command Arguments for Next_Wait_Union\n  */\n-const char* apzNext_Wait_UnionPatch[] = { \"sed\",\n-    \"-e\", \"s@wait(union wait@wait(void@\",\n+const char* apzNext_Wait_UnionPatch[] = {\n+    \"format\",\n+    \"wait(void\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            70\n+#define NODEENT_SYNTAX_FIXIDX            71\n tSCC zNodeent_SyntaxName[] =\n      \"nodeent_syntax\";\n \n@@ -2895,21 +2932,30 @@ tSCC zNodeent_SyntaxList[] =\n  *  Machine/OS name selection pattern\n  */\n #define apzNodeent_SyntaxMachs (const char**)NULL\n-#define NODEENT_SYNTAX_TEST_CT  0\n-#define aNodeent_SyntaxTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zNodeent_SyntaxSelect0[] =\n+       \"char[ \\t]*\\\\*na_addr[ \\t]*$\";\n+\n+#define    NODEENT_SYNTAX_TEST_CT  1\n+tTestDesc aNodeent_SyntaxTests[] = {\n+  { TT_EGREP,    zNodeent_SyntaxSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Nodeent_Syntax\n  */\n-const char* apzNodeent_SyntaxPatch[] = { \"sed\",\n-    \"-e\", \"s/char.*na_addr *$/char *na_addr;/\",\n+const char* apzNodeent_SyntaxPatch[] = {\n+    \"format\",\n+    \"%0;\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           71\n+#define OSF_NAMESPACE_A_FIXIDX           72\n tSCC zOsf_Namespace_AName[] =\n      \"osf_namespace_a\";\n \n@@ -2945,64 +2991,72 @@ tTestDesc aOsf_Namespace_ATests[] = {\n /*\n  *  Fix Command Arguments for Osf_Namespace_A\n  */\n-const char* apzOsf_Namespace_APatch[] = { \"sed\",\n-    \"-e\", \"s/regex_t/__regex_t/g\",\n-    \"-e\", \"s/regoff_t/__regoff_t/g\",\n-    \"-e\", \"s/regmatch_t/__regmatch_t/g\",\n+const char* apzOsf_Namespace_APatch[] = {\n+    \"format\",\n+    \"__%0\",\n+    \"reg(ex|off|match)_t[^;]\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Osf_Namespace_B fix\n+ *  Description of Osf_Namespace_C fix\n  */\n-#define OSF_NAMESPACE_B_FIXIDX           72\n-tSCC zOsf_Namespace_BName[] =\n-     \"osf_namespace_b\";\n+#define OSF_NAMESPACE_C_FIXIDX           73\n+tSCC zOsf_Namespace_CName[] =\n+     \"osf_namespace_c\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zOsf_Namespace_BList[] =\n+tSCC zOsf_Namespace_CList[] =\n   \"|regex.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzOsf_Namespace_BMachs (const char**)NULL\n+#define apzOsf_Namespace_CMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zOsf_Namespace_CSelect0[] =\n+       \"#include <reg_types.h>.*\";\n \n /*\n  *  perform the 'test' shell command - do fix on success\n  */\n-tSCC zOsf_Namespace_BTest0[] =\n+tSCC zOsf_Namespace_CTest0[] =\n        \" -r reg_types.h\";\n-tSCC zOsf_Namespace_BTest1[] =\n+tSCC zOsf_Namespace_CTest1[] =\n        \" -r sys/lc_core.h\";\n-tSCC zOsf_Namespace_BTest2[] =\n+tSCC zOsf_Namespace_CTest2[] =\n        \" -n \\\"`grep '} regex_t;' reg_types.h`\\\"\";\n-tSCC zOsf_Namespace_BTest3[] =\n+tSCC zOsf_Namespace_CTest3[] =\n        \" -z \\\"`grep __regex_t regex.h`\\\"\";\n \n-#define    OSF_NAMESPACE_B_TEST_CT  4\n-tTestDesc aOsf_Namespace_BTests[] = {\n-  { TT_TEST,     zOsf_Namespace_BTest0,   0 /* unused */ },\n-  { TT_TEST,     zOsf_Namespace_BTest1,   0 /* unused */ },\n-  { TT_TEST,     zOsf_Namespace_BTest2,   0 /* unused */ },\n-  { TT_TEST,     zOsf_Namespace_BTest3,   0 /* unused */ }, };\n+#define    OSF_NAMESPACE_C_TEST_CT  5\n+tTestDesc aOsf_Namespace_CTests[] = {\n+  { TT_TEST,     zOsf_Namespace_CTest0,   0 /* unused */ },\n+  { TT_TEST,     zOsf_Namespace_CTest1,   0 /* unused */ },\n+  { TT_TEST,     zOsf_Namespace_CTest2,   0 /* unused */ },\n+  { TT_TEST,     zOsf_Namespace_CTest3,   0 /* unused */ },\n+  { TT_EGREP,    zOsf_Namespace_CSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Osf_Namespace_B\n+ *  Fix Command Arguments for Osf_Namespace_C\n  */\n-const char* apzOsf_Namespace_BPatch[] = { \"sed\",\n-    \"-e\", \"/#include <reg_types.h>/a\\\\\\n\\\n-typedef __regex_t\\tregex_t;\\\\\\n\\\n-typedef __regoff_t\\tregoff_t;\\\\\\n\\\n-typedef __regmatch_t\\tregmatch_t;\\n\",\n+const char* apzOsf_Namespace_CPatch[] = {\n+    \"format\",\n+    \"%0\\n\\\n+typedef __regex_t\\tregex_t;\\n\\\n+typedef __regoff_t\\tregoff_t;\\n\\\n+typedef __regmatch_t\\tregmatch_t;\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         73\n+#define PTHREAD_PAGE_SIZE_FIXIDX         74\n tSCC zPthread_Page_SizeName[] =\n      \"pthread_page_size\";\n \n@@ -3029,15 +3083,16 @@ tTestDesc aPthread_Page_SizeTests[] = {\n /*\n  *  Fix Command Arguments for Pthread_Page_Size\n  */\n-const char* apzPthread_Page_SizePatch[] = { \"sed\",\n-    \"-e\", \"s/^int __page_size/extern int __page_size/\",\n+const char* apzPthread_Page_SizePatch[] = {\n+    \"format\",\n+    \"extern %0\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             74\n+#define READ_RET_TYPE_FIXIDX             75\n tSCC zRead_Ret_TypeName[] =\n      \"read_ret_type\";\n \n@@ -3064,16 +3119,18 @@ tTestDesc aRead_Ret_TypeTests[] = {\n /*\n  *  Fix Command Arguments for Read_Ret_Type\n  */\n-const char* apzRead_Ret_TypePatch[] = { \"sed\",\n-    \"-e\", \"s/^\\\\(extern int\\tfclose(), fflush()\\\\), \\\\(fread(), fwrite()\\\\)\\\\(.*\\\\)$/extern unsigned int\\t\\\\2;\\\\\\n\\\n-\\\\1\\\\3/\",\n+const char* apzRead_Ret_TypePatch[] = {\n+    \"format\",\n+    \"extern unsigned int fread(), fwrite();\\n\\\n+%1%2\",\n+    \"(extern int\\t.*), fread\\\\(\\\\), fwrite\\\\(\\\\)(.*)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             75\n+#define RS6000_DOUBLE_FIXIDX             76\n tSCC zRs6000_DoubleName[] =\n      \"rs6000_double\";\n \n@@ -3100,18 +3157,19 @@ tTestDesc aRs6000_DoubleTests[] = {\n /*\n  *  Fix Command Arguments for Rs6000_Double\n  */\n-const char* apzRs6000_DoublePatch[] = { \"sed\",\n-    \"-e\", \"/class[(]/i\\\\\\n\\\n-#ifndef __cplusplus\\n\",\n-    \"-e\", \"/class[(]/a\\\\\\n\\\n-#endif\\n\",\n+const char* apzRs6000_DoublePatch[] = {\n+    \"format\",\n+    \"#ifndef __cplusplus\\n\\\n+%0\\n\\\n+#endif\",\n+    \"^.*[^a-zA-Z_]class\\\\(.*\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             76\n+#define RS6000_FCHMOD_FIXIDX             77\n tSCC zRs6000_FchmodName[] =\n      \"rs6000_fchmod\";\n \n@@ -3129,7 +3187,7 @@ tSCC zRs6000_FchmodList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zRs6000_FchmodSelect0[] =\n-       \"fchmod\\\\(char\";\n+       \"fchmod\\\\(char \\\\*\";\n \n #define    RS6000_FCHMOD_TEST_CT  1\n tTestDesc aRs6000_FchmodTests[] = {\n@@ -3138,15 +3196,16 @@ tTestDesc aRs6000_FchmodTests[] = {\n /*\n  *  Fix Command Arguments for Rs6000_Fchmod\n  */\n-const char* apzRs6000_FchmodPatch[] = { \"sed\",\n-    \"-e\", \"s/fchmod(char \\\\*/fchmod(int/\",\n+const char* apzRs6000_FchmodPatch[] = {\n+    \"format\",\n+    \"fchmod(int\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              77\n+#define RS6000_PARAM_FIXIDX              78\n tSCC zRs6000_ParamName[] =\n      \"rs6000_param\";\n \n@@ -3164,7 +3223,7 @@ tSCC zRs6000_ParamList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zRs6000_ParamSelect0[] =\n-       \"const char new\";\n+       \"rename\\\\(const char \\\\*old, const char \\\\*new\\\\)\";\n \n #define    RS6000_PARAM_TEST_CT  1\n tTestDesc aRs6000_ParamTests[] = {\n@@ -3173,15 +3232,16 @@ tTestDesc aRs6000_ParamTests[] = {\n /*\n  *  Fix Command Arguments for Rs6000_Param\n  */\n-const char* apzRs6000_ParamPatch[] = { \"sed\",\n-    \"-e\", \"s@rename(const char \\\\*old, const char \\\\*new)@rename(const char *_old, const char *_new)@\",\n+const char* apzRs6000_ParamPatch[] = {\n+    \"format\",\n+    \"rename(const char *_old, const char *_new)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           78\n+#define SCO_STATIC_FUNC_FIXIDX           79\n tSCC zSco_Static_FuncName[] =\n      \"sco_static_func\";\n \n@@ -3225,7 +3285,7 @@ extern \\\"C\\\" {\\\\\\n\\\n  *\n  *  Description of Sco_Strict_Ansi fix\n  */\n-#define SCO_STRICT_ANSI_FIXIDX           79\n+#define SCO_STRICT_ANSI_FIXIDX           80\n tSCC zSco_Strict_AnsiName[] =\n      \"sco_strict_ansi\";\n \n@@ -3253,15 +3313,17 @@ tTestDesc aSco_Strict_AnsiTests[] = {\n /*\n  *  Fix Command Arguments for Sco_Strict_Ansi\n  */\n-const char* apzSco_Strict_AnsiPatch[] = { \"sed\",\n-    \"-e\", \"s/!__STDC__/!defined(__STRICT_ANSI__)/g\",\n+const char* apzSco_Strict_AnsiPatch[] = {\n+    \"format\",\n+    \"%1defined(__STRICT_ANSI__)%2\",\n+    \"^([ \\t]*#[ \\t]*if[ \\t].*!)__STDC__(.*)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sco_Utime fix\n  */\n-#define SCO_UTIME_FIXIDX                 80\n+#define SCO_UTIME_FIXIDX                 81\n tSCC zSco_UtimeName[] =\n      \"sco_utime\";\n \n@@ -3281,7 +3343,7 @@ tSCC* apzSco_UtimeMachs[] = {\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSco_UtimeSelect0[] =\n-       \"(const char *, struct utimbuf *);\";\n+       \"\\\\(const char \\\\*, struct utimbuf \\\\*\\\\);\";\n \n #define    SCO_UTIME_TEST_CT  1\n tTestDesc aSco_UtimeTests[] = {\n@@ -3290,15 +3352,16 @@ tTestDesc aSco_UtimeTests[] = {\n /*\n  *  Fix Command Arguments for Sco_Utime\n  */\n-const char* apzSco_UtimePatch[] = { \"sed\",\n-    \"-e\", \"s/(const char \\\\*, struct utimbuf \\\\*);/(const char *, const struct utimbuf *);/\",\n+const char* apzSco_UtimePatch[] = {\n+    \"format\",\n+    \"(const char *, const struct utimbuf *);\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sony_Include fix\n  */\n-#define SONY_INCLUDE_FIXIDX              81\n+#define SONY_INCLUDE_FIXIDX              82\n tSCC zSony_IncludeName[] =\n      \"sony_include\";\n \n@@ -3333,7 +3396,7 @@ const char* apzSony_IncludePatch[] = { \"sed\",\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                82\n+#define STATSSWTCH_FIXIDX                83\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3360,15 +3423,16 @@ tTestDesc aStatsswtchTests[] = {\n /*\n  *  Fix Command Arguments for Statsswtch\n  */\n-const char* apzStatsswtchPatch[] = { \"sed\",\n-    \"-e\", \"s/boottime$/boottime;/\",\n+const char* apzStatsswtchPatch[] = {\n+    \"format\",\n+    \"boottime;\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            83\n+#define STDIO_STDARG_H_FIXIDX            84\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3405,7 +3469,7 @@ const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             84\n+#define STDIO_VA_LIST_FIXIDX             85\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3450,7 +3514,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               85\n+#define STRUCT_FILE_FIXIDX               86\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -3487,7 +3551,7 @@ const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           86\n+#define STRUCT_SOCKADDR_FIXIDX           87\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -3531,7 +3595,7 @@ const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            87\n+#define SUN_AUTH_PROTO_FIXIDX            88\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3558,20 +3622,21 @@ tTestDesc aSun_Auth_ProtoTests[] = {\n /*\n  *  Fix Command Arguments for Sun_Auth_Proto\n  */\n-const char* apzSun_Auth_ProtoPatch[] = { \"sed\",\n-    \"-e\", \"s/^\\\\(.*(\\\\*[a-z][a-z_]*)(\\\\)\\\\();.*\\\\)/\\\\\\n\\\n-#ifdef __cplusplus\\\\\\n\\\n-\\\\1...\\\\2\\\\\\n\\\n-#else\\\\\\n\\\n-\\\\1\\\\2\\\\\\n\\\n-#endif/\",\n+const char* apzSun_Auth_ProtoPatch[] = {\n+    \"format\",\n+    \"#ifdef __cplusplus\\n\\\n+%1(...);%2\\n\\\n+#else\\n\\\n+%1();%2\\n\\\n+#endif\",\n+    \"(.*\\\\(\\\\*[a-z][a-z_]*\\\\))\\\\(\\\\);(.*)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           88\n+#define SUN_BOGUS_IFDEF_FIXIDX           89\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3589,7 +3654,7 @@ tSCC zSun_Bogus_IfdefList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSun_Bogus_IfdefSelect0[] =\n-       \"#ifdef __i386__ || __vax__\";\n+       \"#ifdef(.*\\\\|\\\\|.*)\";\n \n #define    SUN_BOGUS_IFDEF_TEST_CT  1\n tTestDesc aSun_Bogus_IfdefTests[] = {\n@@ -3598,43 +3663,9 @@ tTestDesc aSun_Bogus_IfdefTests[] = {\n /*\n  *  Fix Command Arguments for Sun_Bogus_Ifdef\n  */\n-const char* apzSun_Bogus_IfdefPatch[] = { \"sed\",\n-    \"-e\", \"s/\\\\#ifdef __i386__ || __vax__/\\\\#if __i386__ || __vax__/g\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Sun_Bogus_Ifdef_Sun4c fix\n- */\n-#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     89\n-tSCC zSun_Bogus_Ifdef_Sun4cName[] =\n-     \"sun_bogus_ifdef_sun4c\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSun_Bogus_Ifdef_Sun4cList[] =\n-  \"|hsfs/hsnode.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzSun_Bogus_Ifdef_Sun4cMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zSun_Bogus_Ifdef_Sun4cSelect0[] =\n-       \"#ifdef __i386__ || __sun4c__\";\n-\n-#define    SUN_BOGUS_IFDEF_SUN4C_TEST_CT  1\n-tTestDesc aSun_Bogus_Ifdef_Sun4cTests[] = {\n-  { TT_EGREP,    zSun_Bogus_Ifdef_Sun4cSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Sun_Bogus_Ifdef_Sun4c\n- */\n-const char* apzSun_Bogus_Ifdef_Sun4cPatch[] = { \"sed\",\n-    \"-e\", \"s/\\\\#ifdef __i386__ || __sun4c__/\\\\#if __i386__ || __sun4c__/g\",\n+const char* apzSun_Bogus_IfdefPatch[] = {\n+    \"format\",\n+    \"#if%1\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3659,7 +3690,7 @@ tSCC zSun_CatmacroList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSun_CatmacroSelect0[] =\n-       \"^#define[ \\t]+CAT\\\\(a,b\\\\)\";\n+       \"^#define[ \\t]+CAT\\\\(a,b\\\\).*\";\n \n #define    SUN_CATMACRO_TEST_CT  1\n tTestDesc aSun_CatmacroTests[] = {\n@@ -3668,13 +3699,13 @@ tTestDesc aSun_CatmacroTests[] = {\n /*\n  *  Fix Command Arguments for Sun_Catmacro\n  */\n-const char* apzSun_CatmacroPatch[] = { \"sed\",\n-    \"-e\", \"/^#define[ \\t]CAT(a,b)/ i\\\\\\n\\\n-#ifdef __STDC__ \\\\\\n\\\n-#define CAT(a,b) a##b\\\\\\n\\\n-#else\\n\",\n-    \"-e\", \"/^#define[ \\t]CAT(a,b)/ a\\\\\\n\\\n-#endif\\n\",\n+const char* apzSun_CatmacroPatch[] = {\n+    \"format\",\n+    \"#ifdef __STDC__\\n\\\n+#  define CAT(a,b) a##b\\n\\\n+#else\\n\\\n+%0\\n\\\n+#endif\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3764,7 +3795,7 @@ tSCC zSun_SignalList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSun_SignalSelect0[] =\n-       \"^void\\t\\\\(\\\\*signal\\\\(\\\\)\\\\)\\\\(\\\\);\";\n+       \"^void\\t\\\\(\\\\*signal\\\\(\\\\)\\\\)\\\\(\\\\);.*\";\n \n #define    SUN_SIGNAL_TEST_CT  1\n tTestDesc aSun_SignalTests[] = {\n@@ -3773,13 +3804,13 @@ tTestDesc aSun_SignalTests[] = {\n /*\n  *  Fix Command Arguments for Sun_Signal\n  */\n-const char* apzSun_SignalPatch[] = { \"sed\",\n-    \"-e\", \"/^void\\t(\\\\*signal())();$/i\\\\\\n\\\n-#ifdef __cplusplus\\\\\\n\\\n-void\\t(*signal(...))(...);\\\\\\n\\\n-#else\\n\",\n-    \"-e\", \"/^void\\t(\\\\*signal())();$/a\\\\\\n\\\n-#endif\\n\",\n+const char* apzSun_SignalPatch[] = {\n+    \"format\",\n+    \"#ifdef __cplusplus\\n\\\n+void\\t(*signal(...))(...);\\n\\\n+#else\\n\\\n+%0\\n\\\n+#endif\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3800,23 +3831,29 @@ tSCC zSunos_Matherr_DeclList[] =\n  */\n #define apzSunos_Matherr_DeclMachs (const char**)NULL\n \n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSunos_Matherr_DeclSelect0[] =\n+       \"matherr\";\n+\n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zSunos_Matherr_DeclBypass0[] =\n        \"matherr.*struct exception\";\n \n-#define    SUNOS_MATHERR_DECL_TEST_CT  1\n+#define    SUNOS_MATHERR_DECL_TEST_CT  2\n tTestDesc aSunos_Matherr_DeclTests[] = {\n-  { TT_NEGREP,   zSunos_Matherr_DeclBypass0, (regex_t*)NULL }, };\n+  { TT_NEGREP,   zSunos_Matherr_DeclBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zSunos_Matherr_DeclSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Sunos_Matherr_Decl\n  */\n-const char* apzSunos_Matherr_DeclPatch[] = { \"sed\",\n-    \"-e\", \"/^struct exception/,$b\",\n-    \"-e\", \"/matherr/i\\\\\\n\\\n-struct exception;\\n\",\n+const char* apzSunos_Matherr_DeclPatch[] = {\n+    \"wrap\",\n+    \"struct exception;\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3841,7 +3878,7 @@ tSCC zSunos_StrlenList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSunos_StrlenSelect0[] =\n-       \"int[ \\t]*strlen\";\n+       \"int[ \\t]*strlen\\\\(\\\\);(.*)\";\n \n #define    SUNOS_STRLEN_TEST_CT  1\n tTestDesc aSunos_StrlenTests[] = {\n@@ -3850,15 +3887,54 @@ tTestDesc aSunos_StrlenTests[] = {\n /*\n  *  Fix Command Arguments for Sunos_Strlen\n  */\n-const char* apzSunos_StrlenPatch[] = { \"sed\",\n-    \"-e\", \"s/int[ \\t]*strlen();/__SIZE_TYPE__ strlen();/\",\n+const char* apzSunos_StrlenPatch[] = {\n+    \"format\",\n+    \"__SIZE_TYPE__ strlen();%1\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Svr4__P fix\n+ */\n+#define SVR4__P_FIXIDX                   96\n+tSCC zSvr4__PName[] =\n+     \"svr4__p\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zSvr4__PList[] =\n+  \"|math.h|floatingpoint.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzSvr4__PMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSvr4__PSelect0[] =\n+       \"^#define[ \\t]+__P.*\";\n+\n+#define    SVR4__P_TEST_CT  1\n+tTestDesc aSvr4__PTests[] = {\n+  { TT_EGREP,    zSvr4__PSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Svr4__P\n+ */\n+const char* apzSvr4__PPatch[] = {\n+    \"format\",\n+    \"#ifndef __P\\n\\\n+%0\\n\\\n+#endif\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               96\n+#define SVR4_GETCWD_FIXIDX               97\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -3885,15 +3961,16 @@ tTestDesc aSvr4_GetcwdTests[] = {\n /*\n  *  Fix Command Arguments for Svr4_Getcwd\n  */\n-const char* apzSvr4_GetcwdPatch[] = { \"sed\",\n-    \"-e\", \"s/getcwd(char \\\\*, int)/getcwd(char *, size_t)/\",\n+const char* apzSvr4_GetcwdPatch[] = {\n+    \"format\",\n+    \"getcwd(char *, size_t)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               97\n+#define SVR4_PROFIL_FIXIDX               98\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -3906,21 +3983,30 @@ tSCC zSvr4_ProfilList[] =\n  *  Machine/OS name selection pattern\n  */\n #define apzSvr4_ProfilMachs (const char**)NULL\n-#define SVR4_PROFIL_TEST_CT  0\n-#define aSvr4_ProfilTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSvr4_ProfilSelect0[] =\n+       \"profil\\\\(unsigned short \\\\*, unsigned int, unsigned int, unsigned int\\\\)\";\n+\n+#define    SVR4_PROFIL_TEST_CT  1\n+tTestDesc aSvr4_ProfilTests[] = {\n+  { TT_EGREP,    zSvr4_ProfilSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Svr4_Profil\n  */\n-const char* apzSvr4_ProfilPatch[] = { \"sed\",\n-    \"-e\", \"s/profil(unsigned short \\\\*, unsigned int, unsigned int, unsigned int)/profil(unsigned short *, size_t, int, unsigned)/\",\n+const char* apzSvr4_ProfilPatch[] = {\n+    \"format\",\n+    \"profil(unsigned short *, size_t, int, unsigned int)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  98\n+#define SYSTYPES_FIXIDX                  99\n tSCC zSystypesName[] =\n      \"systypes\";\n \n@@ -3979,7 +4065,7 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n  *\n  *  Description of Systypes_Stdlib_Size_T fix\n  */\n-#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    99\n+#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    100\n tSCC zSystypes_Stdlib_Size_TName[] =\n      \"systypes_stdlib_size_t\";\n \n@@ -3997,7 +4083,7 @@ tSCC zSystypes_Stdlib_Size_TList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zSystypes_Stdlib_Size_TSelect0[] =\n-       \"typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t\";\n+       \"typedef[ \\t]+[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t.*\";\n \n /*\n  *  content bypass pattern - skip fix if pattern found\n@@ -4013,19 +4099,19 @@ tTestDesc aSystypes_Stdlib_Size_TTests[] = {\n /*\n  *  Fix Command Arguments for Systypes_Stdlib_Size_T\n  */\n-const char* apzSystypes_Stdlib_Size_TPatch[] = { \"sed\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/i\\\\\\n\\\n-#ifndef _GCC_SIZE_T\\\\\\n\\\n-#define _GCC_SIZE_T\\n\",\n-    \"-e\", \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/a\\\\\\n\\\n-#endif\\n\",\n+const char* apzSystypes_Stdlib_Size_TPatch[] = {\n+    \"format\",\n+    \"#ifndef _GCC_SIZE_T\\n\\\n+#define _GCC_SIZE_T\\n\\\n+%0\\n\\\n+#endif\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             100\n+#define SYSV68_STRING_FIXIDX             101\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -4062,7 +4148,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       101\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       102\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4075,27 +4161,30 @@ tSCC zSysz_Stdlib_For_SunList[] =\n  *  Machine/OS name selection pattern\n  */\n #define apzSysz_Stdlib_For_SunMachs (const char**)NULL\n-#define SYSZ_STDLIB_FOR_SUN_TEST_CT  0\n-#define aSysz_Stdlib_For_SunTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zSysz_Stdlib_For_SunSelect0[] =\n+       \"char[ \\t]*\\\\*[ \\t]*(calloc|malloc|realloc|bsearch)[ \\t]*\\\\(\";\n+\n+#define    SYSZ_STDLIB_FOR_SUN_TEST_CT  1\n+tTestDesc aSysz_Stdlib_For_SunTests[] = {\n+  { TT_EGREP,    zSysz_Stdlib_For_SunSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Sysz_Stdlib_For_Sun\n  */\n-const char* apzSysz_Stdlib_For_SunPatch[] = { \"sed\",\n-    \"-e\", \"s/int\\tabort/void\\tabort/g\",\n-    \"-e\", \"s/int\\tfree/void\\tfree/g\",\n-    \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*calloc/void \\\\*\\tcalloc/g\",\n-    \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*malloc/void \\\\*\\tmalloc/g\",\n-    \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*realloc/void \\\\*\\trealloc/g\",\n-    \"-e\", \"s/char[ \\t]*\\\\*[ \\t]*bsearch/void \\\\*\\tbsearch/g\",\n-    \"-e\", \"s/int[ \\t][ \\t]*exit/void\\texit/g\",\n+const char* apzSysz_Stdlib_For_SunPatch[] = {\n+    \"format\",\n+    \"void *\\t%1(\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     102\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     103\n tSCC zSysz_Stdtypes_For_SunName[] =\n      \"sysz_stdtypes_for_sun\";\n \n@@ -4136,7 +4225,7 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           103\n+#define TINFO_CPLUSPLUS_FIXIDX           104\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4171,7 +4260,7 @@ const char* apzTinfo_CplusplusPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         104\n+#define ULTRIX_ATOF_PARAM_FIXIDX         105\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4206,7 +4295,7 @@ const char* apzUltrix_Atof_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              105\n+#define ULTRIX_CONST_FIXIDX              106\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4241,7 +4330,7 @@ const char* apzUltrix_ConstPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       106\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       107\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4277,7 +4366,7 @@ struct utsname;\\n\",\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              107\n+#define ULTRIX_IFDEF_FIXIDX              108\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4312,7 +4401,7 @@ const char* apzUltrix_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             108\n+#define ULTRIX_STATIC_FIXIDX             109\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4349,7 +4438,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             109\n+#define UNDEFINE_NULL_FIXIDX             110\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4395,7 +4484,7 @@ const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   110\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   111\n tSCC zUnixware7_Byteorder_FixName[] =\n      \"unixware7_byteorder_fix\";\n \n@@ -4438,7 +4527,7 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             111\n+#define VA_I960_MACRO_FIXIDX             112\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4476,7 +4565,7 @@ const char* apzVa_I960_MacroPatch[] = { \"sed\",\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 112\n+#define VOID_NULL_FIXIDX                 113\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4511,7 +4600,7 @@ const char* apzVoid_NullPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       113\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       114\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4561,7 +4650,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     114\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     115\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -4596,7 +4685,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     115\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     116\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -4645,7 +4734,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              116\n+#define VXWORKS_TIME_FIXIDX              117\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -4696,7 +4785,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\\\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 117\n+#define X11_CLASS_FIXIDX                 118\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -4736,7 +4825,7 @@ const char* apzX11_ClassPatch[] = { \"sed\",\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           118\n+#define X11_CLASS_USAGE_FIXIDX           119\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -4771,7 +4860,7 @@ const char* apzX11_Class_UsagePatch[] = { \"sed\",\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   119\n+#define X11_NEW_FIXIDX                   120\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -4812,7 +4901,7 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               120\n+#define X11_SPRINTF_FIXIDX               121\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -4850,9 +4939,9 @@ extern char *\\tsprintf();\\\\\\n\\\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          115\n+#define REGEX_COUNT          121\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            121\n+#define FIX_COUNT            122\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -5055,6 +5144,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,\n      aHpux8_Bogus_InlinesTests,   apzHpux8_Bogus_InlinesPatch },\n \n+  {  zInt_Abort_Free_And_ExitName,    zInt_Abort_Free_And_ExitList,\n+     apzInt_Abort_Free_And_ExitMachs,\n+     INT_ABORT_FREE_AND_EXIT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aInt_Abort_Free_And_ExitTests,   apzInt_Abort_Free_And_ExitPatch },\n+\n   {  zIsc_Omits_With_StdcName,    zIsc_Omits_With_StdcList,\n      apzIsc_Omits_With_StdcMachs,\n      ISC_OMITS_WITH_STDC_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -5202,47 +5296,47 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zNext_Wait_UnionName,    zNext_Wait_UnionList,\n      apzNext_Wait_UnionMachs,\n-     NEXT_WAIT_UNION_TEST_CT, FD_MACH_ONLY,\n+     NEXT_WAIT_UNION_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aNext_Wait_UnionTests,   apzNext_Wait_UnionPatch },\n \n   {  zNodeent_SyntaxName,    zNodeent_SyntaxList,\n      apzNodeent_SyntaxMachs,\n-     NODEENT_SYNTAX_TEST_CT, FD_MACH_ONLY,\n+     NODEENT_SYNTAX_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aNodeent_SyntaxTests,   apzNodeent_SyntaxPatch },\n \n   {  zOsf_Namespace_AName,    zOsf_Namespace_AList,\n      apzOsf_Namespace_AMachs,\n-     OSF_NAMESPACE_A_TEST_CT, FD_MACH_ONLY,\n+     OSF_NAMESPACE_A_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aOsf_Namespace_ATests,   apzOsf_Namespace_APatch },\n \n-  {  zOsf_Namespace_BName,    zOsf_Namespace_BList,\n-     apzOsf_Namespace_BMachs,\n-     OSF_NAMESPACE_B_TEST_CT, FD_MACH_ONLY,\n-     aOsf_Namespace_BTests,   apzOsf_Namespace_BPatch },\n+  {  zOsf_Namespace_CName,    zOsf_Namespace_CList,\n+     apzOsf_Namespace_CMachs,\n+     OSF_NAMESPACE_C_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aOsf_Namespace_CTests,   apzOsf_Namespace_CPatch },\n \n   {  zPthread_Page_SizeName,    zPthread_Page_SizeList,\n      apzPthread_Page_SizeMachs,\n-     PTHREAD_PAGE_SIZE_TEST_CT, FD_MACH_ONLY,\n+     PTHREAD_PAGE_SIZE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aPthread_Page_SizeTests,   apzPthread_Page_SizePatch },\n \n   {  zRead_Ret_TypeName,    zRead_Ret_TypeList,\n      apzRead_Ret_TypeMachs,\n-     READ_RET_TYPE_TEST_CT, FD_MACH_ONLY,\n+     READ_RET_TYPE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aRead_Ret_TypeTests,   apzRead_Ret_TypePatch },\n \n   {  zRs6000_DoubleName,    zRs6000_DoubleList,\n      apzRs6000_DoubleMachs,\n-     RS6000_DOUBLE_TEST_CT, FD_MACH_ONLY,\n+     RS6000_DOUBLE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aRs6000_DoubleTests,   apzRs6000_DoublePatch },\n \n   {  zRs6000_FchmodName,    zRs6000_FchmodList,\n      apzRs6000_FchmodMachs,\n-     RS6000_FCHMOD_TEST_CT, FD_MACH_ONLY,\n+     RS6000_FCHMOD_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aRs6000_FchmodTests,   apzRs6000_FchmodPatch },\n \n   {  zRs6000_ParamName,    zRs6000_ParamList,\n      apzRs6000_ParamMachs,\n-     RS6000_PARAM_TEST_CT, FD_MACH_ONLY,\n+     RS6000_PARAM_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aRs6000_ParamTests,   apzRs6000_ParamPatch },\n \n   {  zSco_Static_FuncName,    zSco_Static_FuncList,\n@@ -5252,12 +5346,12 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zSco_Strict_AnsiName,    zSco_Strict_AnsiList,\n      apzSco_Strict_AnsiMachs,\n-     SCO_STRICT_ANSI_TEST_CT, FD_MACH_ONLY,\n+     SCO_STRICT_ANSI_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSco_Strict_AnsiTests,   apzSco_Strict_AnsiPatch },\n \n   {  zSco_UtimeName,    zSco_UtimeList,\n      apzSco_UtimeMachs,\n-     SCO_UTIME_TEST_CT, FD_MACH_ONLY,\n+     SCO_UTIME_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSco_UtimeTests,   apzSco_UtimePatch },\n \n   {  zSony_IncludeName,    zSony_IncludeList,\n@@ -5267,7 +5361,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n-     STATSSWTCH_TEST_CT, FD_MACH_ONLY,\n+     STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aStatsswtchTests,   apzStatsswtchPatch },\n \n   {  zStdio_Stdarg_HName,    zStdio_Stdarg_HList,\n@@ -5292,22 +5386,17 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zSun_Auth_ProtoName,    zSun_Auth_ProtoList,\n      apzSun_Auth_ProtoMachs,\n-     SUN_AUTH_PROTO_TEST_CT, FD_MACH_ONLY,\n+     SUN_AUTH_PROTO_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSun_Auth_ProtoTests,   apzSun_Auth_ProtoPatch },\n \n   {  zSun_Bogus_IfdefName,    zSun_Bogus_IfdefList,\n      apzSun_Bogus_IfdefMachs,\n-     SUN_BOGUS_IFDEF_TEST_CT, FD_MACH_ONLY,\n+     SUN_BOGUS_IFDEF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSun_Bogus_IfdefTests,   apzSun_Bogus_IfdefPatch },\n \n-  {  zSun_Bogus_Ifdef_Sun4cName,    zSun_Bogus_Ifdef_Sun4cList,\n-     apzSun_Bogus_Ifdef_Sun4cMachs,\n-     SUN_BOGUS_IFDEF_SUN4C_TEST_CT, FD_MACH_ONLY,\n-     aSun_Bogus_Ifdef_Sun4cTests,   apzSun_Bogus_Ifdef_Sun4cPatch },\n-\n   {  zSun_CatmacroName,    zSun_CatmacroList,\n      apzSun_CatmacroMachs,\n-     SUN_CATMACRO_TEST_CT, FD_MACH_ONLY,\n+     SUN_CATMACRO_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSun_CatmacroTests,   apzSun_CatmacroPatch },\n \n   {  zSun_MallocName,    zSun_MallocList,\n@@ -5322,27 +5411,32 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zSun_SignalName,    zSun_SignalList,\n      apzSun_SignalMachs,\n-     SUN_SIGNAL_TEST_CT, FD_MACH_ONLY,\n+     SUN_SIGNAL_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSun_SignalTests,   apzSun_SignalPatch },\n \n   {  zSunos_Matherr_DeclName,    zSunos_Matherr_DeclList,\n      apzSunos_Matherr_DeclMachs,\n-     SUNOS_MATHERR_DECL_TEST_CT, FD_MACH_ONLY,\n+     SUNOS_MATHERR_DECL_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSunos_Matherr_DeclTests,   apzSunos_Matherr_DeclPatch },\n \n   {  zSunos_StrlenName,    zSunos_StrlenList,\n      apzSunos_StrlenMachs,\n-     SUNOS_STRLEN_TEST_CT, FD_MACH_ONLY,\n+     SUNOS_STRLEN_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSunos_StrlenTests,   apzSunos_StrlenPatch },\n \n+  {  zSvr4__PName,    zSvr4__PList,\n+     apzSvr4__PMachs,\n+     SVR4__P_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aSvr4__PTests,   apzSvr4__PPatch },\n+\n   {  zSvr4_GetcwdName,    zSvr4_GetcwdList,\n      apzSvr4_GetcwdMachs,\n-     SVR4_GETCWD_TEST_CT, FD_MACH_ONLY,\n+     SVR4_GETCWD_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSvr4_GetcwdTests,   apzSvr4_GetcwdPatch },\n \n   {  zSvr4_ProfilName,    zSvr4_ProfilList,\n      apzSvr4_ProfilMachs,\n-     SVR4_PROFIL_TEST_CT, FD_MACH_ONLY,\n+     SVR4_PROFIL_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSvr4_ProfilTests,   apzSvr4_ProfilPatch },\n \n   {  zSystypesName,    zSystypesList,\n@@ -5352,7 +5446,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zSystypes_Stdlib_Size_TName,    zSystypes_Stdlib_Size_TList,\n      apzSystypes_Stdlib_Size_TMachs,\n-     SYSTYPES_STDLIB_SIZE_T_TEST_CT, FD_MACH_ONLY,\n+     SYSTYPES_STDLIB_SIZE_T_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSystypes_Stdlib_Size_TTests,   apzSystypes_Stdlib_Size_TPatch },\n \n   {  zSysv68_StringName,    zSysv68_StringList,\n@@ -5362,7 +5456,7 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n \n   {  zSysz_Stdlib_For_SunName,    zSysz_Stdlib_For_SunList,\n      apzSysz_Stdlib_For_SunMachs,\n-     SYSZ_STDLIB_FOR_SUN_TEST_CT, FD_MACH_ONLY,\n+     SYSZ_STDLIB_FOR_SUN_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aSysz_Stdlib_For_SunTests,   apzSysz_Stdlib_For_SunPatch },\n \n   {  zSysz_Stdtypes_For_SunName,    zSysz_Stdtypes_For_SunList,"}, {"sha": "f8d71910a1a63e73bf144c40f35095273a04a5ee", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 229, "deletions": 130, "changes": 359, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cb8d51687d5faba3725ff96b8277fb1142003450/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=cb8d51687d5faba3725ff96b8277fb1142003450", "patch": "@@ -1022,6 +1022,23 @@ fix = {\n };\n \n \n+/*\n+ *  Fix return type of abort and free\n+ */\n+fix = {\n+    hackname  = int_abort_free_and_exit;\n+    files     = stdlib.h;\n+    select    = \"int[ \\t]+(abort|free|exit)[ \\t]*\\\\(\";\n+\n+    c_fix     = format;\n+    c_fix_arg = \"void\\t%1(\";\n+\n+    test_text = \"extern int abort(int);\\n\"\n+                \"extern int free(void*);\\n\"\n+                \"extern int exit(void*);\";\n+};\n+\n+\n /*\n  *  On Interactive Unix 2.2, certain traditional Unix definitions\n  *  (notably getc and putc in stdio.h) are omitted if __STDC__ is\n@@ -1343,9 +1360,9 @@ fix = {\n     hackname  = machine_name;\n     c_test    = machine_name;\n     c_fix     = machine_name;\n+\n     test_text = \"/* MACH_DIFF: */\\n\"\n-    \"#if defined( i386 )\"\n-    \" || defined( sparc )\"\n+    \"#if defined( i386 ) || defined( sparc ) || defined( vax )\"\n     \"\\n/* no uniform test, so be careful  :-) */\";\n };\n \n@@ -1485,7 +1502,7 @@ fix = {\n fix = {\n     hackname = news_os_recursion;\n     files    = stdlib.h;\n-    select   = '#include <stdlib\\.h>';\n+    select   = \"[ \\t]*#include <stdlib\\\\.h>.*\";\n \n     c_fix     = format;\n     c_fix_arg = \"#ifdef BOGUS_RECURSION\\n%0\\n#endif\";\n@@ -1551,22 +1568,26 @@ fix = {\n  *  conditional, so it doesn't need this fix.  So everything is okay.\n  */\n fix = {\n-    hackname = next_wait_union;\n-    files    = sys/wait.h;\n-\n-    select = 'wait\\(union wait';\n+    hackname  = next_wait_union;\n+    files     = sys/wait.h;\n \n-    sed = \"s@wait(union wait@wait(void@\";\n+    select    = 'wait\\(union wait';\n+    c_fix     = format;\n+    c_fix_arg = \"wait(void\";\n+    test_text = \"extern pid_d wait(union wait*);\";\n };\n \n \n /*\n  *  a missing semi-colon at the end of the nodeent structure definition.\n  */\n fix = {\n-    hackname = nodeent_syntax;\n-    files    = netdnet/dnetdb.h;\n-    sed      = \"s/char.*na_addr *$/char *na_addr;/\";\n+    hackname  = nodeent_syntax;\n+    files     = netdnet/dnetdb.h;\n+    select    = \"char[ \\t]*\\\\*na_addr[ \\t]*$\";\n+    c_fix     = format;\n+    c_fix_arg = \"%0;\";\n+    test_text = \"char *na_addr\\t\";\n };\n \n \n@@ -1584,23 +1605,33 @@ fix = {\n     test     = \" -n \\\"`grep '} regex_t;' reg_types.h`\\\"\";\n     test     = \" -z \\\"`grep __regex_t regex.h`\\\"\";\n \n-    sed      = \"s/regex_t/__regex_t/g\";\n-    sed      = \"s/regoff_t/__regoff_t/g\";\n-    sed      = \"s/regmatch_t/__regmatch_t/g\";\n+    c_fix     = format;\n+    c_fix_arg = \"__%0\";\n+    c_fix_arg = \"reg(ex|off|match)_t[^;]\";\n+\n+    test_text = \"`touch inc/sys/lc_core.h`\"\n+    \"typedef struct {\\n  int stuff, mo_suff;\\n} regex_t;\\n\"\n+    \"extern regex_t    re;\\n\"\n+    \"extern regoff_t   ro;\\n\"\n+    \"extern regmatch_t rm;\\n\";\n };\n \n fix = {\n-    hackname = osf_namespace_b;\n+    hackname = osf_namespace_c;\n     files    = regex.h;\n     test     = \" -r reg_types.h\";\n     test     = \" -r sys/lc_core.h\";\n     test     = \" -n \\\"`grep '} regex_t;' reg_types.h`\\\"\";\n     test     = \" -z \\\"`grep __regex_t regex.h`\\\"\";\n \n-    sed      = \"/#include <reg_types.h>/a\\\\\\n\"\n-               \"typedef __regex_t\\tregex_t;\\\\\\n\"\n-               \"typedef __regoff_t\\tregoff_t;\\\\\\n\"\n-               \"typedef __regmatch_t\\tregmatch_t;\\n\";\n+    select    = \"#include <reg_types\\.h>.*\";\n+    c_fix     = format;\n+    c_fix_arg = \"%0\\n\"\n+                \"typedef __regex_t\\tregex_t;\\n\"\n+                \"typedef __regoff_t\\tregoff_t;\\n\"\n+                \"typedef __regmatch_t\\tregmatch_t;\";\n+\n+    test_text = \"#include <reg_types.h>\";\n };\n \n \n@@ -1610,10 +1641,12 @@ fix = {\n  *  This is the default for all ANSI standard C++ compilers.\n  */\n fix = {\n-    hackname = pthread_page_size;\n-    files    = pthread.h;\n-    select   = \"^int __page_size\";\n-    sed      = \"s/^int __page_size/extern int __page_size/\";\n+    hackname  = pthread_page_size;\n+    files     = pthread.h;\n+    select    = \"^int __page_size\";\n+    c_fix     = format;\n+    c_fix_arg = \"extern %0\";\n+    test_text = \"int __page_size;\";\n };\n \n \n@@ -1624,47 +1657,56 @@ fix = {\n     hackname = read_ret_type;\n     files    = stdio.h;\n     select   = \"extern int\\t.*, fread\\\\(\\\\), fwrite\\\\(\\\\)\";\n-    sed      = \"s/^\\\\(extern int\\tfclose(), fflush()\\\\), \"\n-                 \"\\\\(fread(), fwrite()\\\\)\\\\(.*\\\\)$\"\n-               \"/extern unsigned int\\t\\\\2;\\\\\\n\\\\1\\\\3/\";\n+    c_fix     = format;\n+    c_fix_arg = \"extern unsigned int fread(), fwrite();\\n%1%2\";\n+    c_fix_arg = \"(extern int\\t.*), fread\\\\(\\\\), fwrite\\\\(\\\\)(.*)\";\n+\n+    test_text = \"extern int\\tfclose(), fflush(), fread(), fwrite(), foo();\";\n };\n \n \n /*\n  *  function class(double x) conflicts with C++ keyword on rs/6000 \n  */\n fix = {\n-    hackname = rs6000_double;\n-    files    = math.h;\n-    select   = '[^a-zA-Z_]class\\(';\n-    \n-    sed   = \"/class[(]/i\\\\\\n#ifndef __cplusplus\\n\";\n-    sed   = \"/class[(]/a\\\\\\n#endif\\n\";\n+    hackname  = rs6000_double;\n+    files     = math.h;\n+    select    = '[^a-zA-Z_]class\\(';\n+\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __cplusplus\\n%0\\n#endif\";\n+    c_fix_arg = '^.*[^a-zA-Z_]class\\(.*';\n+\n+    test_text = \"extern int class();\";\n };\n \n \n /*\n  *  Wrong fchmod prototype on RS/6000.\n  */\n fix = {\n-    hackname = rs6000_fchmod;\n-    files    = sys/stat.h;\n-    select   = 'fchmod\\(char';\n-    sed      = 's/fchmod(char \\*/fchmod(int/';\n+    hackname  = rs6000_fchmod;\n+    files     = sys/stat.h;\n+    select    = 'fchmod\\(char \\*';\n+    c_fix     = format;\n+    c_fix_arg = \"fchmod(int\";\n+    test_text = \"extern int fchmod(char *, mode_t);\";\n };\n \n \n /*\n  *  parameters conflict with C++ new on rs/6000 \n  */\n fix = {\n-    hackname = rs6000_param;\n-    files  = \"stdio.h\";\n-    files  = \"unistd.h\";\n-    select = 'const char new';\n+    hackname  = rs6000_param;\n+    files     = \"stdio.h\";\n+    files     = \"unistd.h\";\n \n-    sed = 's@rename(const char \\*old, const char \\*new)@'\n-            'rename(const char *_old, const char *_new)@';\n+    select    = 'rename\\(const char \\*old, const char \\*new\\)';\n+    c_fix     = format;\n+    c_fix_arg = 'rename(const char *_old, const char *_new)';\n+\n+    test_text = 'extern int rename(const char *old, const char *new);';\n };\n \n \n@@ -1690,6 +1732,20 @@ fix = {\n                \"#if __cplusplus\\\\\\n\"\n                \" }\\\\\\n\"\n                \"#endif /* __cplusplus */\";\n+\n+    test_text =\n+    \"#ifdef __STDC__\\n\"\n+    \"static int\\tstat(const char *__f, struct stat *__p) {\\n\"\n+    \"\\treturn __stat32(__f, __p);\\n\"\n+    \"}\\n\\n#  else /* !__STDC__ */\\n\"\n+\n+    \"static int\\tstat(__f, __p)\\n\"\n+    \"\\tchar *__f;\\n\"\n+    \"\\tstruct stat *__p;\\n\"\n+    \"{\\n\"\n+    \"\\treturn __stat32(__f, __p);\\n\"\n+    \"}\\n\"\n+    \"#endif\";\n };\n \n \n@@ -1700,7 +1756,12 @@ fix = {\n     hackname = sco_strict_ansi;\n     mach     = \"i?86-*-sco3.2*\";\n     select   = \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n-    sed      = 's/!__STDC__/!defined(__STRICT_ANSI__)/g';\n+\n+    c_fix     = format;\n+    c_fix_arg = \"%1defined(__STRICT_ANSI__)%2\";\n+    c_fix_arg = \"^([ \\t]*#[ \\t]*if[ \\t].*!)__STDC__(.*)\";\n+\n+    test_text = \"#if !__STDC__ /* not standard C */\\nint foo;\\n#endif\";\n };\n \n \n@@ -1709,12 +1770,15 @@ fix = {\n  *  In 3.2v4.0 the const is missing.\n  */\n fix = {\n-    hackname = sco_utime;\n-    files    = sys/times.h;\n-    mach     = \"i?86-*-sco3.2v4*\";\n-    select   = \"\\(const char \\*, struct utimbuf \\*\\);\";\n-    sed      = 's/(const char \\*, struct utimbuf \\*);/'\n-                 '(const char *, const struct utimbuf *);/';\n+    hackname  = sco_utime;\n+    files     = sys/times.h;\n+    mach      = \"i?86-*-sco3.2v4*\";\n+\n+    select    = '\\(const char \\*, struct utimbuf \\*\\);';\n+    c_fix     = format;\n+    c_fix_arg = '(const char *, const struct utimbuf *);';\n+\n+    test_text = \"extern int utime(const char *, struct utimbuf *);\";\n };\n \n \n@@ -1731,6 +1795,23 @@ fix = {\n };\n #endif\n \n+\n+/*\n+ *  Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n+ */\n+#ifdef SONY\n+fix = {\n+    hackname = sony_stdio;\n+    files    = stdio.h;\n+    test     = \" -x /bin/sony\";\n+    test     = \" ! -z \\\"`if /bin/sony ; then echo true ; fi`\\\"\";\n+    sed      = \"s/__filbuf/_filbuf/g\\n\"\n+               \"s/__flsbuf/_flsbuf/g\\n\"\n+               \"s/__iob/_iob/g\";\n+};\n+#endif\n+\n+\n /*\n  *  Incorrect #include in Sony News-OS 3.2.\n  */\n@@ -1757,6 +1838,7 @@ fix = {\n };\n #endif\n \n+\n /*\n  *  Add a `static' declaration of `getrnge' into <regexp.h>.\n  *\n@@ -1780,10 +1862,12 @@ fix = {\n  *  a missing semi-colon at the end of the statsswtch structure definition.\n  */\n fix = {\n-    hackname = statsswtch;\n-    files    = rpcsvc/rstat.h;\n-    select   = \"boottime$\";\n-    sed      = \"s/boottime$/boottime;/\";\n+    hackname  = statsswtch;\n+    files     = rpcsvc/rstat.h;\n+    select    = \"boottime$\";\n+    c_fix     = format;\n+    c_fix_arg = \"boottime;\";\n+    test_text = \"struct statswtch {\\n  int boottime\\n};\";\n };\n \n \n@@ -1895,56 +1979,51 @@ fix = {\n     /*\n      *  Select those files containing '(*name)()'.\n      */\n-    select   = '\\(\\*[a-z][a-z_]*\\)\\(\\)';\n-    sed      = 's'\n-                '/^\\(.*(\\*[a-z][a-z_]*)(\\)'      '\\();.*\\)'\n-                \"/\\\\\\n\"\n-                    \"#ifdef __cplusplus\\\\\\n\"\n-                    '\\1...\\2' \"\\\\\\n\"\n-                    \"#else\\\\\\n\"\n-                    '\\1\\2' \"\\\\\\n\"\n-                    \"#endif\"\n-                \"/\";\n-};\n+    select    = '\\(\\*[a-z][a-z_]*\\)\\(\\)';\n \n+    c_fix     = format;\n+    c_fix_arg = \"#ifdef __cplusplus\\n%1(...);%2\\n\"\n+                \"#else\\n%1();%2\\n#endif\";\n+    c_fix_arg = '(.*\\(\\*[a-z][a-z_]*\\))\\(\\);(.*)';\n \n-/*\n- *  Fix bogus #ifdef on SunOS 4.1.\n- */\n-fix = {\n-    hackname = sun_bogus_ifdef;\n-    files  = \"hsfs/hsfs_spec.h\";\n-    files  = \"hsfs/iso_spec.h\";\n-    select = '#ifdef __i386__ || __vax__';\n-    sed    = \"s/\\\\#ifdef __i386__ || __vax__/\\\\#if __i386__ || __vax__/g\";\n+    test_text =\n+    \"struct auth_t {\\n\"\n+    \"    int (*name)(); /* C++ bad */\\n\"\n+    \"};\";\n };\n \n \n /*\n  *  Fix bogus #ifdef on SunOS 4.1.\n  */\n fix = {\n-    hackname = sun_bogus_ifdef_sun4c;\n-    files  = \"hsfs/hsnode.h\";\n-    select = '#ifdef __i386__ || __sun4c__';\n-    sed    = \"s/\\\\#ifdef __i386__ || __sun4c__/\\\\#if __i386__ || __sun4c__/g\";\n+    hackname  = sun_bogus_ifdef;\n+    files     = \"hsfs/hsfs_spec.h\";\n+    files     = \"hsfs/iso_spec.h\";\n+    select    = '#ifdef(.*\\|\\|.*)';\n+    c_fix     = format;\n+    c_fix_arg = \"#if%1\";\n+\n+    test_text = \"#ifdef  __i386__ || __vax__ || __sun4c__\";\n };\n \n \n /*\n  *  Fix the CAT macro in SunOS memvar.h.\n  */\n fix = {\n-    hackname = sun_catmacro;\n-    files  = pixrect/memvar.h;\n-    select = \"^#define[ \\t]+CAT\\\\(a,b\\\\)\";\n-    sed    = \"/^#define[ \\t]CAT(a,b)/ i\\\\\\n\"\n-                 \"#ifdef __STDC__ \\\\\\n\"\n-                 \"#define CAT(a,b) a##b\\\\\\n\"\n-                 \"#else\\n\";\n+    hackname  = sun_catmacro;\n+    files     = pixrect/memvar.h;\n+    select    = \"^#define[ \\t]+CAT\\\\(a,b\\\\).*\";\n+    c_fix     = format;\n \n-    sed    = \"/^#define[ \\t]CAT(a,b)/ a\\\\\\n\"\n-                 \"#endif\\n\";\n+    c_fix_arg =\n+    \"#ifdef __STDC__\\n\"\n+    \"#  define CAT(a,b) a##b\\n\"\n+    \"#else\\n%0\\n#endif\";\n+\n+    test_text =\n+    \"#define CAT(a,b)\\ta/**/b\";\n };\n \n \n@@ -1960,6 +2039,12 @@ fix = {\n     sed   = \"s/int[ \\t][ \\t]*free/void\\tfree/g\";\n     sed   = \"s/char\\\\([ \\t]*\\\\*[ \\t]*malloc\\\\)/void\\\\1/g\";\n     sed   = \"s/char\\\\([ \\t]*\\\\*[ \\t]*realloc\\\\)/void\\\\1/g\";\n+\n+    test_text =\n+    \"typedef char *\\tmalloc_t;\\n\"\n+    \"int \\tfree();\\n\"\n+    \"char*\\tmalloc();\\n\"\n+    \"char*\\trealloc();\";\n };\n \n \n@@ -1971,6 +2056,7 @@ fix = {\n     files    = rpcsvc/rusers.h;\n     select   = \"_cnt$\";\n     sed      = \"/^struct/,/^};/s/_cnt$/_cnt;/\";\n+    test_text = \"struct mumble\\n  int _cnt\\n};\";\n };\n \n \n@@ -1982,15 +2068,15 @@ fix = {\n     hackname = sun_signal;\n     files    = sys/signal.h;\n     files    = signal.h;\n-    select   = \"^void\\t\" '\\(\\*signal\\(\\)\\)\\(\\);';\n+    select   = \"^void\\t\" '\\(\\*signal\\(\\)\\)\\(\\);.*';\n \n-    sed = \"/^void\\t\" '(\\*signal())();$/i'  \"\\\\\\n\"\n-          \"#ifdef __cplusplus\"             \"\\\\\\n\"\n-          \"void\\t(*signal(...))(...);\"     \"\\\\\\n\"\n-          \"#else\"                          \"\\n\";\n+    c_fix     = format;\n+    c_fix_arg =\n+          \"#ifdef __cplusplus\\n\"\n+          \"void\\t(*signal(...))(...);\\n\"\n+          \"#else\\n%0\\n#endif\";\n \n-    sed = \"/^void\\t\" '(\\*signal())();$/a'  \"\\\\\\n\"\n-          '#endif'                         \"\\n\";\n+    test_text = \"void\\t(*signal())();\";\n };\n \n \n@@ -1999,16 +2085,17 @@ fix = {\n  *  of struct exception, so the prototype (added by fixproto) causes havoc.\n  */\n fix = {\n-    hackname = sunos_matherr_decl;\n-    files    = math.h;\n+    hackname  = sunos_matherr_decl;\n+    files     = math.h;\n+\n     /*  If matherr has a prototype already, the header needs no fix.  */\n-    bypass   = 'matherr.*struct exception';\n-    /*\n-     *  Once a declaration for 'struct exception' is found,\n-     *  stop trying to insert a forward reference for it.\n-     */\n-    sed = \"/^struct exception/,$b\";\n-    sed = \"/matherr/i\\\\\\nstruct exception;\\n\";\n+    bypass    = 'matherr.*struct exception';\n+    select    = matherr;\n+\n+    c_fix     = wrap;\n+    c_fix_arg = \"struct exception;\\n\";\n+\n+    test_text = \"extern int matherr();\";\n };\n \n \n@@ -2018,8 +2105,10 @@ fix = {\n fix = {\n     hackname = sunos_strlen;\n     files    = strings.h;\n-    select   = \"int[ \\t]*strlen\";\n-    sed = \"s/int[ \\t]*strlen();/__SIZE_TYPE__ strlen();/\";\n+    select   = \"int[ \\t]*strlen\\\\(\\\\);(.*)\";\n+    c_fix     = format;\n+    c_fix_arg = \"__SIZE_TYPE__ strlen();%1\";\n+    test_text = \" int\\tstrlen(); /* string length */\";\n };\n \n \n@@ -2028,16 +2117,17 @@ fix = {\n  *  which conflicts with the fixproto definition.  The fixproto\n  *  definition and the Solaris definition are used the same way.\n  */\n-#ifdef SVR4\n fix = {\n     hackname = svr4__p;\n     files    = math.h;\n     files    = floatingpoint.h;\n-    select   = \"^#define[ \\t]*__P\";\n-    sed      = \"/^#define[ \\t]*__P/i\\\\\\n#ifndef __P\\n\";\n-    sed      = \"/^#define[ \\t]*__P/a\\\\\\n#endif\\n\";\n+    select   = \"^#define[ \\t]+__P.*\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __P\\n%0\\n#endif\";\n+\n+    test_text = \"#define __P(a) a\";\n };\n-#endif\n+\n \n /*\n  *  Disable apparent native compiler optimization cruft in SVR4.2 <string.h>\n@@ -2158,7 +2248,10 @@ fix = {\n     files    = prototypes.h;\n     select   = 'getcwd\\(char \\*, int\\)';\n \n-    sed = 's/getcwd(char \\*, int)/getcwd(char *, size_t)/';\n+    c_fix     = format;\n+    c_fix_arg = \"getcwd(char *, size_t)\";\n+\n+    test_text = \"extern char* getcwd(char *, int);\";\n };\n \n \n@@ -2212,9 +2305,9 @@ fix = {\n     files    = sys/mkdev.h;\n     select   = '^static';\n \n-    sed\t     = \"/^dev_t makedev(/s/^/static /\";\n-    sed\t     = \"/^major_t major(/s/^/static /\";\n-    sed\t     = \"/^minor_t minor(/s/^/static /\";\n+    sed      = \"/^dev_t makedev(/s/^/static /\";\n+    sed      = \"/^major_t major(/s/^/static /\";\n+    sed      = \"/^minor_t minor(/s/^/static /\";\n };\n #endif /* SVR5 */\n \n@@ -2254,9 +2347,13 @@ fix = {\n     files    = stdlib.h;\n     files    = unistd.h;\n \n-    sed = 's/profil(unsigned short \\*, unsigned int, '\n-                         'unsigned int, unsigned int)'\n-           '/profil(unsigned short *, size_t, int, unsigned)/';\n+    select    =\n+    'profil\\(unsigned short \\*, unsigned int, unsigned int, unsigned int\\)';\n+    c_fix     = format;\n+    c_fix_arg = 'profil(unsigned short *, size_t, int, unsigned int)';\n+\n+    test_text =\n+    'profil(unsigned short *, unsigned int, unsigned int, unsigned int);';\n };\n \n \n@@ -2417,15 +2514,15 @@ fix = {\n     hackname = systypes_stdlib_size_t;\n     files    = sys/types.h;\n     files    = stdlib.h;\n-    select   = \"typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t\";\n+    select   = \"typedef[ \\t]+[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t.*\";\n     bypass   = \"_(GCC|BSD)_SIZE_T\";\n \n-    sed    = \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/i\\\\\\n\"\n-                 \"#ifndef _GCC_SIZE_T\\\\\\n\"\n-                 \"#define _GCC_SIZE_T\\n\";\n+    c_fix     = format;\n+    c_fix_arg =\n+    \"#ifndef _GCC_SIZE_T\\n\"\n+    \"#define _GCC_SIZE_T\\n%0\\n#endif\";\n \n-    sed    = \"/typedef[ \\t][ \\t]*[A-Za-z_][ \\tA-Za-z_]*[ \\t]size_t/a\\\\\\n\"\n-                 \"#endif\\n\";\n+    test_text = \"typedef unsigned int size_t; /* size of something */\";\n };\n \n \n@@ -2455,19 +2552,21 @@ fix = {\n \n \n /*\n- *  Fix return type of exit and abort in <stdlib.h>\n+ *  Fix return type of calloc, malloc, realloc, bsearch and exit\n  */\n fix = {\n     hackname = sysz_stdlib_for_sun;\n     files    = stdlib.h;\n \n-    sed   = \"s/int\\tabort/void\\tabort/g\";\n-    sed   = \"s/int\\tfree/void\\tfree/g\";\n-    sed   = \"s/char[ \\t]*\\\\*[ \\t]*calloc/void \\\\*\\tcalloc/g\";\n-    sed   = \"s/char[ \\t]*\\\\*[ \\t]*malloc/void \\\\*\\tmalloc/g\";\n-    sed   = \"s/char[ \\t]*\\\\*[ \\t]*realloc/void \\\\*\\trealloc/g\";\n-    sed   = \"s/char[ \\t]*\\\\*[ \\t]*bsearch/void \\\\*\\tbsearch/g\";\n-    sed   = \"s/int[ \\t][ \\t]*exit/void\\texit/g\";\n+    select    = \"char[ \\t]*\\\\*[ \\t]*(calloc|malloc|realloc|bsearch)[ \\t]*\\\\(\";\n+    c_fix     = format;\n+    c_fix_arg = \"void *\\t%1(\";\n+\n+    test_text =\n+    \"extern char*\\tcalloc(size_t);\\n\"\n+    \"extern char*\\tmalloc(size_t);\\n\"\n+    \"extern char*\\trealloc(void*,size_t);\\n\"\n+    \"extern char*\\tbsearch(void*,size_t,size_t);\\n\";\n };\n \n "}]}