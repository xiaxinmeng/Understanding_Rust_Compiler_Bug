{"sha": "7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2MyM2FjMGQyNWQyZDVmODE0ZjUzYTYzNTdkNGM1NzJlNDhmMDZkMw==", "commit": {"author": {"name": "Fritz Reese", "email": "fritzoreese@gmail.com", "date": "2017-08-10T12:52:01Z"}, "committer": {"name": "Fritz Reese", "email": "foreese@gcc.gnu.org", "date": "2017-08-10T12:52:01Z"}, "message": "options.c (set_dec_flags): Only set legacy standards when value is not zero.\n\n2017-08-10  Fritz Reese <fritzoreese@gmail.com>\n\n    gcc/fortran/ChangeLog:\n\n\t* options.c (set_dec_flags): Only set legacy standards when value\n\tis not zero.\n\nFrom-SVN: r251025", "tree": {"sha": "6c1a29d9da408c97145d581e8f5233d6cfbea367", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c1a29d9da408c97145d581e8f5233d6cfbea367"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3/comments", "author": {"login": "fritzr", "id": 2230564, "node_id": "MDQ6VXNlcjIyMzA1NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2230564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fritzr", "html_url": "https://github.com/fritzr", "followers_url": "https://api.github.com/users/fritzr/followers", "following_url": "https://api.github.com/users/fritzr/following{/other_user}", "gists_url": "https://api.github.com/users/fritzr/gists{/gist_id}", "starred_url": "https://api.github.com/users/fritzr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fritzr/subscriptions", "organizations_url": "https://api.github.com/users/fritzr/orgs", "repos_url": "https://api.github.com/users/fritzr/repos", "events_url": "https://api.github.com/users/fritzr/events{/privacy}", "received_events_url": "https://api.github.com/users/fritzr/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "57e1270f58ad000b55282ae12b3c641f940bc923", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57e1270f58ad000b55282ae12b3c641f940bc923", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57e1270f58ad000b55282ae12b3c641f940bc923"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "50f2f0449085d6efe5d27228ffb6b6fe41a3af7b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "patch": "@@ -1,3 +1,8 @@\n+2017-08-10  Fritz Reese <fritzoreese@gmail.com>\n+\n+\t* options.c (set_dec_flags): Only set legacy standards when value\n+\tis not zero.\n+\n 2017-08-10  Fritz Reese <fritzoreese@gmail.com>\n \n \t* options.c (set_dec_flags, gfc_post_options): Only set flag_d_lines"}, {"sha": "f7bbd7f2cde5c2ec277bba4ea9fe5ecf4c318271", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c23ac0d25d2d5f814f53a6357d4c572e48f06d3/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=7c23ac0d25d2d5f814f53a6357d4c572e48f06d3", "patch": "@@ -52,11 +52,13 @@ set_default_std_flags (void)\n static void\n set_dec_flags (int value)\n {\n-  /* Allow legacy code without warnings.  */\n-  gfc_option.allow_std |= GFC_STD_F95_OBS | GFC_STD_F95_DEL\n-    | GFC_STD_GNU | GFC_STD_LEGACY;\n-  gfc_option.warn_std &= ~(GFC_STD_LEGACY | GFC_STD_F95_DEL);\n-\n+  if (value)\n+    {\n+      /* Allow legacy code without warnings.  */\n+      gfc_option.allow_std |= GFC_STD_F95_OBS | GFC_STD_F95_DEL\n+        | GFC_STD_GNU | GFC_STD_LEGACY;\n+      gfc_option.warn_std &= ~(GFC_STD_LEGACY | GFC_STD_F95_DEL);\n+    }\n \n   /* Set other DEC compatibility extensions.  */\n   flag_dollar_ok |= value;"}]}