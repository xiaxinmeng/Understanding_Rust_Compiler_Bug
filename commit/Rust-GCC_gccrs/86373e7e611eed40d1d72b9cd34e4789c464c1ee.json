{"sha": "86373e7e611eed40d1d72b9cd34e4789c464c1ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYzNzNlN2U2MTFlZWQ0MGQxZDcyYjljZDM0ZTQ3ODljNDY0YzFlZQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2009-09-12T19:46:45Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2009-09-12T19:46:45Z"}, "message": "dbgcnt.c (dbg_cnt_process_single_pair): constify.\n\ngcc/\n\t* dbgcnt.c (dbg_cnt_process_single_pair): constify.\n\t* opts.c (common_handle_option): constify.\ngcc/cp/\n\t* repo.c (extract_string, get_base_filename, init_repo): constify.\nlibcpp/\n\t* directives.c (cpp_define): constify.\n\nFrom-SVN: r151661", "tree": {"sha": "605928edb601a58710dd81dc6f1253e604104372", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/605928edb601a58710dd81dc6f1253e604104372"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86373e7e611eed40d1d72b9cd34e4789c464c1ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86373e7e611eed40d1d72b9cd34e4789c464c1ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86373e7e611eed40d1d72b9cd34e4789c464c1ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86373e7e611eed40d1d72b9cd34e4789c464c1ee/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "beb1adc15ee60b3597bf6b985bf94a01e39142ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/beb1adc15ee60b3597bf6b985bf94a01e39142ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/beb1adc15ee60b3597bf6b985bf94a01e39142ad"}], "stats": {"total": 37, "additions": 26, "deletions": 11}, "files": [{"sha": "9a4cf3f56c5e7a38fc1b67096d5a65692cb0925f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -1,3 +1,8 @@\n+2009-09-10  Jason Merrill  <jason@redhat.com>\n+\n+\t* dbgcnt.c (dbg_cnt_process_single_pair): constify.\n+\t* opts.c (common_handle_option): constify.\n+\n 2009-09-12  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* doc/install.texi (avr): Remove obsolete reference site."}, {"sha": "d98d4154af8b74ea3c7260cb6601dc13269b5cd4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -1,3 +1,7 @@\n+2009-09-10  Jason Merrill  <jason@redhat.com>\n+\n+\t* repo.c (extract_string, get_base_filename, init_repo): constify.\n+\n 2009-09-09  Jason Merrill  <jason@redhat.com>\n \n \t* error.c (find_typenames_r): Also add decltypes."}, {"sha": "aa970785ca3b3e7f0c6976d9fbd1b932d34ec82b", "filename": "gcc/cp/repo.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fcp%2Frepo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fcp%2Frepo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Frepo.c?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -37,7 +37,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"diagnostic.h\"\n #include \"flags.h\"\n \n-static char *extract_string (char **);\n+static const char *extract_string (const char **);\n static const char *get_base_filename (const char *);\n static FILE *open_repo_file (const char *);\n static char *afgets (FILE *);\n@@ -53,10 +53,10 @@ static bool temporary_obstack_initialized_p;\n \n /* Parse a reasonable subset of shell quoting syntax.  */\n \n-static char *\n-extract_string (char **pp)\n+static const char *\n+extract_string (const char **pp)\n {\n-  char *p = *pp;\n+  const char *p = *pp;\n   int backquote = 0;\n   int inside = 0;\n \n@@ -89,13 +89,13 @@ extract_string (char **pp)\n static const char *\n get_base_filename (const char *filename)\n {\n-  char *p = getenv (\"COLLECT_GCC_OPTIONS\");\n+  const char *p = getenv (\"COLLECT_GCC_OPTIONS\");\n   const char *output = NULL;\n   int compiling = 0;\n \n   while (p && *p)\n     {\n-      char *q = extract_string (&p);\n+      const char *q = extract_string (&p);\n \n       if (strcmp (q, \"-o\") == 0)\n \t{\n@@ -161,6 +161,7 @@ void\n init_repo (void)\n {\n   char *buf;\n+  const char *p;\n   FILE *repo_file;\n \n   if (! flag_use_repository)\n@@ -212,8 +213,8 @@ init_repo (void)\n   fclose (repo_file);\n \n   if (old_args && !get_random_seed (true)\n-      && (buf = strstr (old_args, \"'-frandom-seed=\")))\n-    set_random_seed (extract_string (&buf) + strlen (\"-frandom-seed=\"));\n+      && (p = strstr (old_args, \"'-frandom-seed=\")))\n+    set_random_seed (extract_string (&p) + strlen (\"-frandom-seed=\"));\n }\n \n static FILE *"}, {"sha": "3fe34854f0653cd51af08e532cfb999619f5e489", "filename": "gcc/dbgcnt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fdbgcnt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fdbgcnt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbgcnt.c?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -101,7 +101,7 @@ dbg_cnt_set_limit_by_name (const char *name, int len, int value)\n static const char *\n dbg_cnt_process_single_pair (const char *arg)\n {\n-   char *colon = strchr (arg, ':');\n+   const char *colon = strchr (arg, ':');\n    char *endptr = NULL;\n    int value;\n    "}, {"sha": "878635f8ca331a601079a1403d09cd31b75e11a2", "filename": "gcc/opts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -1512,7 +1512,7 @@ common_handle_option (size_t scode, const char *arg, int value,\n \t      { NULL, 0 }\n \t    };\n \t    unsigned int * pflags;\n-\t    char * comma;\n+\t    const char * comma;\n \t    unsigned int lang_flag, specific_flag;\n \t    unsigned int len;\n \t    unsigned int i;"}, {"sha": "033106322a43c1b3f4df59809e9841377c473978", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -1,3 +1,7 @@\n+2009-09-10  Jason Merrill  <jason@redhat.com>\n+\n+\t* directives.c (cpp_define): constify.\n+\n 2009-09-02  Ian Lance Taylor  <iant@google.com>\n \n \t* macro.c (stringify_arg): Escape CPP_WCHAR tokens."}, {"sha": "c5a1895b86eedb05a31a958abc835d8c20d3682b", "filename": "libcpp/directives.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86373e7e611eed40d1d72b9cd34e4789c464c1ee/libcpp%2Fdirectives.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86373e7e611eed40d1d72b9cd34e4789c464c1ee/libcpp%2Fdirectives.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fdirectives.c?ref=86373e7e611eed40d1d72b9cd34e4789c464c1ee", "patch": "@@ -2156,7 +2156,8 @@ do_unassert (cpp_reader *pfile)\n void\n cpp_define (cpp_reader *pfile, const char *str)\n {\n-  char *buf, *p;\n+  char *buf;\n+  const char *p;\n   size_t count;\n \n   /* Copy the entire option so we can modify it."}]}