{"sha": "5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWEzYThlYjEyZWE4ZmExMDJjZmJkYmQyNDI5ZmMxMTlhNDFmNTkwNA==", "commit": {"author": {"name": "Joel Dice", "email": "dicej@mailsnare.net", "date": "2009-10-20T16:01:21Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2009-10-20T16:01:21Z"}, "message": "re PR java/28474 (mangle_name.c mangles names unecessarily)\n\n2009-10-20  Joel Dice <dicej@mailsnare.net>\n\n        PR java/28474\n        * mangle_name.c (append_unicode_mangled_name): Fix mangling\n        of names with multiple underscores and \"U\".\n        (unicode_mangling_length): Likewise.\n\nFrom-SVN: r153021", "tree": {"sha": "91b9f4244278d77eb5b23593a3d0f4ca4015ff76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91b9f4244278d77eb5b23593a3d0f4ca4015ff76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904/comments", "author": null, "committer": null, "parents": [{"sha": "a30f893635475a17a11e58861c472df04c63a90f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30f893635475a17a11e58861c472df04c63a90f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30f893635475a17a11e58861c472df04c63a90f"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "7815bc8a050805b778239c286281970329dea332", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "patch": "@@ -1,3 +1,10 @@\n+2009-10-20  Joel Dice <dicej@mailsnare.net>\n+\n+\tPR java/28474\n+\t* mangle_name.c (append_unicode_mangled_name): Fix mangling\n+\tof names with multiple underscores and \"U\".\n+\t(unicode_mangling_length): Likewise.\n+\n 2009-10-03  Simon Baldwin  <simonb@google.com>\n \n \t* config-lang.in (lang_dirs): Remove zlib."}, {"sha": "a75f5cad0907fb49e2a2d5ec2162ebd9fafa38c2", "filename": "gcc/java/mangle_name.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904/gcc%2Fjava%2Fmangle_name.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904/gcc%2Fjava%2Fmangle_name.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fmangle_name.c?ref=5a3a8eb12ea8fa102cfbdbd2429fc119a41f5904", "patch": "@@ -266,7 +266,10 @@ append_unicode_mangled_name (const char *name, int len)\n       int ch = UTF8_GET(ptr, limit);\n \n       if ((ISALNUM (ch) && ch != 'U') || ch == '$')\n-\tobstack_1grow (mangle_obstack, ch);\n+        {\n+\t  obstack_1grow (mangle_obstack, ch);\n+          uuU = 0;\n+        }\n       /* Everything else needs encoding */\n       else\n \t{\n@@ -321,7 +324,10 @@ unicode_mangling_length (const char *name, int len)\n       if (ch < 0)\n \terror (\"internal error - invalid Utf8 name\");\n       if ((ISALNUM (ch) && ch != 'U') || ch == '$')\n-\tnum_chars++;\n+\t{\n+\t  num_chars++;\n+\t  uuU = 0;\n+\t}\n       /* Everything else needs encoding */\n       else\n \t{"}]}