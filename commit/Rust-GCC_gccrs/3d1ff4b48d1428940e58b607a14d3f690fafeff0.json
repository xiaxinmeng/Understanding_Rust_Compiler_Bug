{"sha": "3d1ff4b48d1428940e58b607a14d3f690fafeff0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2QxZmY0YjQ4ZDE0Mjg5NDBlNThiNjA3YTE0ZDNmNjkwZmFmZWZmMA==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2008-05-21T00:04:45Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2008-05-21T00:04:45Z"}, "message": "re PR testsuite/20771 (Duplicate PCH test names)\n\n\tPR testsuite/20771\n\t* lib/dg-pch.exp: Move a flag in arguments to dg-test to differentiate\n\tcompile results for pch test lines in gcc.sum.\n\t* gcc.dg/pch/counter-2.c: Add comments to dg-error directives to\n\tmake them unique in gcc.sum.\n\t* gcc.dg/pch/valid-1.c: Ditto.\n\t* gcc.dg/pch/valid-2.c: Ditto.\n\t* gcc.dg/pch/valid-3.c: Ditto.\n\t* gcc.dg/pch/warn-1.c: Same for dg-warning.\n\nFrom-SVN: r135696", "tree": {"sha": "cfd8b5c86a789aaa8d30b50447dab83c0c9fc441", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfd8b5c86a789aaa8d30b50447dab83c0c9fc441"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d1ff4b48d1428940e58b607a14d3f690fafeff0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d1ff4b48d1428940e58b607a14d3f690fafeff0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d1ff4b48d1428940e58b607a14d3f690fafeff0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d1ff4b48d1428940e58b607a14d3f690fafeff0/comments", "author": null, "committer": null, "parents": [{"sha": "b348936e59deb981e3ceb1c6f66ff126aca690d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b348936e59deb981e3ceb1c6f66ff126aca690d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b348936e59deb981e3ceb1c6f66ff126aca690d7"}], "stats": {"total": 34, "additions": 23, "deletions": 11}, "files": [{"sha": "295538e968044db4aa1e3c62b1f27fd1fdab3122", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -1,3 +1,15 @@\n+2008-05-20  Janis Johnson  <janis187@us.ibm.com>\n+\n+\tPR testsuite/20771\n+\t* lib/dg-pch.exp: Move a flag in arguments to dg-test to differentiate\n+\tcompile results for pch test lines in gcc.sum.\n+\t* gcc.dg/pch/counter-2.c: Add comments to dg-error directives to\n+\tmake them unique in gcc.sum.\n+\t* gcc.dg/pch/valid-1.c: Ditto.\n+\t* gcc.dg/pch/valid-2.c: Ditto.\n+\t* gcc.dg/pch/valid-3.c: Ditto.\n+\t* gcc.dg/pch/warn-1.c: Same for dg-warning.\n+\n 2008-05-20  Andy Hutchinson  <hutchinsonandy@aim.com>\n \n \t* gcc.dg/array-quals-1.c: xfail read only section"}, {"sha": "22ba245b698910689e33e7e143b62f922385cea7", "filename": "gcc/testsuite/gcc.dg/pch/counter-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fcounter-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fcounter-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fcounter-2.c?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -8,8 +8,8 @@\n #endif\n \n #include \"counter-2.h\" /* { dg-warning \"not used because `__COUNTER__' is invalid\" } */\n-/* { dg-error \"counter-2.h: No such file or directory\" \"\" { target *-*-* } 10 } */\n-/* { dg-error \"one or more PCH files were found, but they were invalid\" \"\" { target *-*-* } 10 } */\n+/* { dg-error \"counter-2.h: No such file or directory\" \"no such file\" { target *-*-* } 10 } */\n+/* { dg-error \"one or more PCH files were found, but they were invalid\" \"invalid files\" { target *-*-* } 10 } */\n \n int main(void) \n {"}, {"sha": "1bf7d914467e25f0a34432c8aa329efe2282d6ae", "filename": "gcc/testsuite/gcc.dg/pch/valid-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -1,7 +1,7 @@\n /* { dg-options \"-I. -Winvalid-pch -g\" } */\n \n #include \"valid-1.h\"/* { dg-warning \"created with -gnone, but used with -g\" } */\n-/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n-/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"No such file\" \"no such file\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"invalid files\" { target *-*-* } 3 } */\n \n int x;"}, {"sha": "4dbc4b2d37d91f34eb91aa9326fecdce5de0909e", "filename": "gcc/testsuite/gcc.dg/pch/valid-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -1,6 +1,6 @@\n /* { dg-options \"-I. -Winvalid-pch -fexceptions\" } */\n \n #include \"valid-2.h\" /* { dg-warning \"settings for -fexceptions do not match\" } */\n-/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n-/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"No such file\" \"no such file\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"invalid files\" { target *-*-* } 3 } */\n int x;"}, {"sha": "c7884f993a0ae695d33d34503aff0ce2ecd73231", "filename": "gcc/testsuite/gcc.dg/pch/valid-3.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -1,6 +1,6 @@\n /* { dg-options \"-I. -Winvalid-pch -fno-unit-at-a-time\" } */\n \n #include \"valid-3.h\"/* { dg-warning \"settings for -funit-at-a-time do not match\" } */\n-/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n-/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"No such file\" \"no such file\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"invalid files\" { target *-*-* } 3 } */\n int x;"}, {"sha": "eaa9cafc39a282a385d6f0dadabdd0360445c2f9", "filename": "gcc/testsuite/gcc.dg/pch/warn-1.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -3,8 +3,8 @@\n #define DEFINED_VALUE 3\n \n #include \"warn-1.h\"/* { dg-warning \"not used because .DEFINED_VALUE. is defined\" } */\n-/* { dg-error \"No such file\" \"\" { target *-*-* } 5 } */\n-/* { dg-error \"they were invalid\" \"\" { target *-*-* } 5 } */\n+/* { dg-error \"No such file\" \"no such file\" { target *-*-* } 5 } */\n+/* { dg-error \"they were invalid\" \"invalid files\" { target *-*-* } 5 } */\n \n \n int main(void) "}, {"sha": "b12decceac6438d31ae0a6fd284345b905361d16", "filename": "gcc/testsuite/lib/dg-pch.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Flib%2Fdg-pch.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d1ff4b48d1428940e58b607a14d3f690fafeff0/gcc%2Ftestsuite%2Flib%2Fdg-pch.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fdg-pch.exp?ref=3d1ff4b48d1428940e58b607a14d3f690fafeff0", "patch": "@@ -48,7 +48,7 @@ proc dg-pch { subdir test options suffix } {\n \t    # Ensure that the PCH file is used, not the original header.\n \t    file_on_host delete \"$bname$suffix\"\n \n-\t    dg-test -keep-output $test $flags \"-I.\"\n+\t    dg-test -keep-output $test \"$flags -I.\" \"\"\n \t    file_on_host delete \"$bname$suffix.gch\"\n \t    if { [ file_on_host exists \"$bname.s\" ] } {\n \t\tremote_upload host \"$bname.s\" \"$bname.s-gch\""}]}