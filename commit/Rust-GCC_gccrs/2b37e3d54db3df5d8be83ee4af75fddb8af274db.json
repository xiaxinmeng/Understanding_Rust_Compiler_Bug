{"sha": "2b37e3d54db3df5d8be83ee4af75fddb8af274db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmIzN2UzZDU0ZGIzZGY1ZDhiZTgzZWU0YWY3NWZkZGI4YWYyNzRkYg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:42:26Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:42:26Z"}, "message": "Makefile.in: Set gcc_version here.\n\n\t* Makefile.in: Set gcc_version here.\n\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.  Adjust quoting\n\tin definition of toolexeclibdir so that $(gcc_version) is expanded\n\tby the Makefile.\n\t* aclocal.m4, configure: Regenerate.\n\nFrom-SVN: r96816", "tree": {"sha": "a97fb268c47ec92460902048500681a73454c2eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a97fb268c47ec92460902048500681a73454c2eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b37e3d54db3df5d8be83ee4af75fddb8af274db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b37e3d54db3df5d8be83ee4af75fddb8af274db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b37e3d54db3df5d8be83ee4af75fddb8af274db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b37e3d54db3df5d8be83ee4af75fddb8af274db/comments", "author": null, "committer": null, "parents": [{"sha": "47194af45f17503265dcba6095bbadb2c5498a6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47194af45f17503265dcba6095bbadb2c5498a6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47194af45f17503265dcba6095bbadb2c5498a6c"}], "stats": {"total": 47, "additions": 16, "deletions": 31}, "files": [{"sha": "1ee4c363192c921b22f9665cd2b74b1214f90950", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=2b37e3d54db3df5d8be83ee4af75fddb8af274db", "patch": "@@ -1,3 +1,11 @@\n+2005-03-21  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in: Set gcc_version here.\n+\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.  Adjust quoting\n+\tin definition of toolexeclibdir so that $(gcc_version) is expanded\n+\tby the Makefile.\n+\t* aclocal.m4, configure: Regenerate.\n+\n 2005-03-03  David Ayers  <d.ayers@inode.at>\n \n \t* objc/hash.h (OBJC_IGNORE_DEPRECATED_API): Update deprecated\n@@ -80,7 +88,7 @@\n \t* aclocal.m4, config.h.in: Regenerate.\n \n 2004-10-08  Mike Stump  <mrs@apple.com>\n-            Andrew Pinski  <pinskia@physics.uc.edu>\n+\t    Andrew Pinski  <pinskia@physics.uc.edu>\n \n \t* aclocal.m4: Rename to ...\n \t* acinclude.m4: here and also use m4_include instead of sinclude.\n@@ -148,7 +156,7 @@\n \tzero-sized array.\n \t(objc_method): Hoist definition to file scope.\n \t(_objc_load_callback, _objc_object_alloc, class_get_class_method,\n-\tclass_get_instance_method, class_create_instance, \n+\tclass_get_instance_method, class_create_instance,\n \tclass_get_class_name, class_get_instance_size,\n \tclass_get_meta_class, class_get_super_class, class_get_version,\n \tclass_is_class, class_is_meta_class, class_set_version,"}, {"sha": "44e3dd71f951ba242434a29d659122d2b449fb6f", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=2b37e3d54db3df5d8be83ee4af75fddb8af274db", "patch": "@@ -33,7 +33,7 @@ VPATH = @glibcpp_srcdir@\n prefix = @prefix@\n exec_prefix = @exec_prefix@\n target_noncanonical = @target_noncanonical@\n-gcc_version = @gcc_version@\n+gcc_version := $(shell cat $(srcdir)/../gcc/BASE-VER)\n host_subdir = @host_subdir@\n top_srcdir = @top_srcdir@\n toplevel_srcdir = @toplevel_srcdir@"}, {"sha": "1c772b8f88576b51c38e2878b06fb59ac6bd3b1a", "filename": "libobjc/aclocal.m4", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Faclocal.m4?ref=2b37e3d54db3df5d8be83ee4af75fddb8af274db", "patch": "@@ -198,5 +198,4 @@ if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" != yes\"; then\n fi\n ])\n \n-m4_include([../config/gcc-version.m4])\n m4_include([acinclude.m4])"}, {"sha": "a3c36bf65a171f33567bae4a3826fd614619bfa3", "filename": "libobjc/configure", "status": "modified", "additions": 4, "deletions": 24, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=2b37e3d54db3df5d8be83ee4af75fddb8af274db", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir VERSION OBJC_BOEHM_GC toplevel_srcdir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version_trigger gcc_version_full gcc_version toolexecdir toolexeclibdir includedirname libext CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP CPPFLAGS EGREP LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir VERSION OBJC_BOEHM_GC toplevel_srcdir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir toolexecdir toolexeclibdir includedirname libext CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP CPPFLAGS EGREP LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1588,23 +1588,6 @@ case $srcdir in\n esac\n \n \n-\n-if test \"${with_gcc_version_trigger+set}\" = set; then\n-  gcc_version_trigger=$with_gcc_version_trigger\n-else\n-  gcc_version_trigger=$srcdir/../gcc/version.c\n-fi\n-if test -f \"${gcc_version_trigger}\"; then\n-  gcc_version_full=`grep version_string \"${gcc_version_trigger}\" | sed -e 's/.*\"\\([^\"]*\\)\".*/\\1/'`\n-else\n-  gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`\n-fi\n-gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n-\n-\n-\n-\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -1613,7 +1596,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_noncanonical)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n@@ -3712,7 +3695,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 3715 \"configure\"' > conftest.$ac_ext\n+  echo '#line 3698 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -5140,7 +5123,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 5143 \"configure\"\n+#line 5126 \"configure\"\n @interface Frob\n @end\n @implementation Frob\n@@ -5864,9 +5847,6 @@ s,@target_vendor@,$target_vendor,;t t\n s,@target_os@,$target_os,;t t\n s,@target_noncanonical@,$target_noncanonical,;t t\n s,@glibcpp_srcdir@,$glibcpp_srcdir,;t t\n-s,@gcc_version_trigger@,$gcc_version_trigger,;t t\n-s,@gcc_version_full@,$gcc_version_full,;t t\n-s,@gcc_version@,$gcc_version,;t t\n s,@toolexecdir@,$toolexecdir,;t t\n s,@toolexeclibdir@,$toolexeclibdir,;t t\n s,@includedirname@,$includedirname,;t t"}, {"sha": "149d7e51c2bf7f12fdcaf7171f07bd3d9a5997d0", "filename": "libobjc/configure.ac", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b37e3d54db3df5d8be83ee4af75fddb8af274db/libobjc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.ac?ref=2b37e3d54db3df5d8be83ee4af75fddb8af274db", "patch": "@@ -118,8 +118,6 @@ case $srcdir in\n esac\n AC_SUBST(glibcpp_srcdir)\n \n-TL_AC_GCC_VERSION([$srcdir/..])\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -128,7 +126,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_noncanonical)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&"}]}