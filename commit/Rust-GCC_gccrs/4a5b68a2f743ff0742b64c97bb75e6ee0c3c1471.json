{"sha": "4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGE1YjY4YTJmNzQzZmYwNzQyYjY0Yzk3YmI3NWU2ZWUwYzNjMTQ3MQ==", "commit": {"author": {"name": "Neil Booth", "email": "neilb@earthling.net", "date": "2000-11-22T20:36:10Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2000-11-22T20:36:10Z"}, "message": "cpplex.c (trigraph_ok): Ensure we don't warn twice.\n\n\t* cpplex.c (trigraph_ok): Ensure we don't warn twice.\n\t* cpplib.h (struct cpp_buffer): New member last_Wtrigraphs.\n\nFrom-SVN: r37669", "tree": {"sha": "2ae21a5cad4b86f0223248b6d989593f99c8520f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ae21a5cad4b86f0223248b6d989593f99c8520f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/comments", "author": null, "committer": null, "parents": [{"sha": "a165f034f9475245783ff7949b28ee3134bcc21a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a165f034f9475245783ff7949b28ee3134bcc21a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a165f034f9475245783ff7949b28ee3134bcc21a"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "0966d8fa23777406e5a6705500ed8137f5b10da3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "patch": "@@ -1,3 +1,8 @@\n+2000-11-22  Neil Booth  <neilb@earthling.net>\n+\n+\t* cpplex.c (trigraph_ok): Ensure we don't warn twice.\n+\t* cpplib.h (struct cpp_buffer): New member last_Wtrigraphs.\n+\t\n 2000-11-22  Richard Henderson  <rth@redhat.com>\n \n \t* haifa-sched.c (sched_analyze_1): Don't special-case calls"}, {"sha": "bec14e76042edbaf5bc6131452e0e5031ab13dc4", "filename": "gcc/cpplex.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "patch": "@@ -159,9 +159,13 @@ trigraph_ok (pfile, from_char)\n \t\t\t       \"trigraph ??%c converted to %c\",\n \t\t\t       (int) from_char,\n \t\t\t       (int) _cpp_trigraph_map[from_char]);\n-      else\n-\tcpp_warning_with_line (pfile, buffer->lineno, CPP_BUF_COL (buffer) - 2,\n-\t\t\t       \"trigraph ??%c ignored\", (int) from_char);\n+      else if (buffer->cur != buffer->last_Wtrigraphs)\n+\t{\n+\t  buffer->last_Wtrigraphs = buffer->cur;\n+\t  cpp_warning_with_line (pfile, buffer->lineno,\n+\t\t\t\t CPP_BUF_COL (buffer) - 2,\n+\t\t\t\t \"trigraph ??%c ignored\", (int) from_char);\n+\t}\n     }\n \n   return accept;"}, {"sha": "91cca9007335e056a0dead105a40d8e50e4e797d", "filename": "gcc/cpplib.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2Fcpplib.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471/gcc%2Fcpplib.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.h?ref=4a5b68a2f743ff0742b64c97bb75e6ee0c3c1471", "patch": "@@ -282,6 +282,10 @@ struct cpp_buffer\n   /* Line number at line_base (above). */\n   unsigned int lineno;\n \n+  /* Because of the way the lexer works, -Wtrigraphs can sometimes\n+     warn twice for the same trigraph.  This helps prevent that.  */\n+  const unsigned char *last_Wtrigraphs;\n+\n   /* True if we have already warned about C++ comments in this file.\n      The warning happens only for C89 extended mode with -pedantic on,\n      or for -Wtraditional, and only once per file (otherwise it would"}]}