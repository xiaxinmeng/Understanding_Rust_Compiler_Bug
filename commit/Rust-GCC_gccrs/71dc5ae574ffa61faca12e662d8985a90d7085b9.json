{"sha": "71dc5ae574ffa61faca12e662d8985a90d7085b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFkYzVhZTU3NGZmYTYxZmFjYTEyZTY2MmQ4OTg1YTkwZDcwODViOQ==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2021-03-10T16:01:12Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2021-03-10T16:01:12Z"}, "message": "Add options to link with libatomic in various tests.\n\nlibstdc++-v3/ChangeLog:\n\n\t* testsuite/29_atomics/atomic/wait_notify/bool.cc: Add options to\n\tlink with libatomic.\n\t* testsuite/29_atomics/atomic/wait_notify/generic.cc: Likewise.\n\t* testsuite/29_atomics/atomic/wait_notify/pointers.cc: Likewise.\n\t* testsuite/29_atomics/atomic_flag/wait_notify/1.cc: Likewise.\n\t* testsuite/30_threads/barrier/arrive.cc: Likewise.\n\t* testsuite/30_threads/barrier/arrive_and_drop.cc: Likewise.\n\t* testsuite/30_threads/barrier/arrive_and_wait.cc: Likewise.\n\t* testsuite/30_threads/barrier/completion.cc: Likewise.\n\t* testsuite/30_threads/latch/3.cc: Likewise.\n\t* testsuite/30_threads/semaphore/try_acquire.cc: Likewise.\n\t* testsuite/30_threads/semaphore/try_acquire_for.cc: Likewise.\n\t* testsuite/30_threads/semaphore/try_acquire_until.cc: Likewise.", "tree": {"sha": "0a79c7a76ca99ff946f313ad101d49cdcef4c896", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a79c7a76ca99ff946f313ad101d49cdcef4c896"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71dc5ae574ffa61faca12e662d8985a90d7085b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71dc5ae574ffa61faca12e662d8985a90d7085b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71dc5ae574ffa61faca12e662d8985a90d7085b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71dc5ae574ffa61faca12e662d8985a90d7085b9/comments", "author": null, "committer": null, "parents": [{"sha": "b97af562b574697a4fff7fb8c69f579c01e70dec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b97af562b574697a4fff7fb8c69f579c01e70dec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b97af562b574697a4fff7fb8c69f579c01e70dec"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "b26ffb5749c9f74ff16af5e7cb7223c05209fa0c", "filename": "libstdc++-v3/testsuite/29_atomics/atomic/wait_notify/bool.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fbool.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fbool.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fbool.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "e67ab776e711534e9ce00450240bfff43c1bdfb2", "filename": "libstdc++-v3/testsuite/29_atomics/atomic/wait_notify/generic.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fgeneric.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fgeneric.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fgeneric.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "023354366b3f67296992ee9673b32106a0ecd6fd", "filename": "libstdc++-v3/testsuite/29_atomics/atomic/wait_notify/pointers.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fpointers.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fpointers.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic%2Fwait_notify%2Fpointers.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-additional-options \"-pthread\" { target pthread } }\n // { dg-require-gthreads \"\" }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "241251fc72f828d6a68ec729d8968041834d04d9", "filename": "libstdc++-v3/testsuite/29_atomics/atomic_flag/wait_notify/1.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic_flag%2Fwait_notify%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic_flag%2Fwait_notify%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fatomic_flag%2Fwait_notify%2F1.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "1faad7e9281a590366e62ef41818f4e32f4403c2", "filename": "libstdc++-v3/testsuite/30_threads/barrier/arrive.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "2e203ea82096453ef859953975a858d1c4f4c9a8", "filename": "libstdc++-v3/testsuite/30_threads/barrier/arrive_and_drop.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_drop.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_drop.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_drop.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "f5460fbe62098ebed77fd1b2aef15211ed2a72d3", "filename": "libstdc++-v3/testsuite/30_threads/barrier/arrive_and_wait.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_wait.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_wait.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Farrive_and_wait.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "fd3cb92206010687b9fe05c00652b285dfa1fa9e", "filename": "libstdc++-v3/testsuite/30_threads/barrier/completion.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Fcompletion.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Fcompletion.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fbarrier%2Fcompletion.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -2,6 +2,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n // Copyright (C) 2020-2021 Free Software Foundation, Inc.\n //"}, {"sha": "2da6a84e2c57bd2898e431c73b6db1f78f473ce4", "filename": "libstdc++-v3/testsuite/30_threads/latch/3.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Flatch%2F3.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Flatch%2F3.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Flatch%2F3.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -19,6 +19,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n #include <latch>\n #include <atomic>"}, {"sha": "63f3fa3cbf876c0b734dc6baa8073e87afd1cd2a", "filename": "libstdc++-v3/testsuite/30_threads/semaphore/try_acquire.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -19,6 +19,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-effective-target pthread }\n // { dg-require-gthreads \"\" }\n+// { dg-add-options libatomic }\n \n #include <semaphore>\n #include <limits>"}, {"sha": "e7edc9eeef1b9f8bae12a5ce1179b68734264f26", "filename": "libstdc++-v3/testsuite/30_threads/semaphore/try_acquire_for.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_for.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_for.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_for.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -19,6 +19,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-effective-target pthread }\n // { dg-require-gthreads \"\" }\n+// { dg-add-options libatomic }\n \n #include <semaphore>\n #include <chrono>"}, {"sha": "49ba33b499981ba760cf32ffffecfa8e461562e1", "filename": "libstdc++-v3/testsuite/30_threads/semaphore/try_acquire_until.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_until.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71dc5ae574ffa61faca12e662d8985a90d7085b9/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_until.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fsemaphore%2Ftry_acquire_until.cc?ref=71dc5ae574ffa61faca12e662d8985a90d7085b9", "patch": "@@ -19,6 +19,7 @@\n // { dg-do run { target c++2a } }\n // { dg-require-gthreads \"\" }\n // { dg-additional-options \"-pthread\" { target pthread } }\n+// { dg-add-options libatomic }\n \n #include <semaphore>\n #include <chrono>"}]}