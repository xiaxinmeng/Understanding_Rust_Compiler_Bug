{"sha": "1ceaad38dfebb9dac622f304cb76acc3cac96247", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNlYWFkMzhkZmViYjlkYWM2MjJmMzA0Y2I3NmFjYzNjYWM5NjI0Nw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-05-31T23:26:58Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-31T23:26:58Z"}, "message": "* pt.c (tsubst): Always copy BINFO_BASETYPES.\n\nFrom-SVN: r20158", "tree": {"sha": "ff27bf481cbb0051bfab81d496b274a0a05579b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff27bf481cbb0051bfab81d496b274a0a05579b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ceaad38dfebb9dac622f304cb76acc3cac96247", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ceaad38dfebb9dac622f304cb76acc3cac96247", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ceaad38dfebb9dac622f304cb76acc3cac96247", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ceaad38dfebb9dac622f304cb76acc3cac96247/comments", "author": null, "committer": null, "parents": [{"sha": "9045f690f8149396782d96b723b6f97f78dddb37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9045f690f8149396782d96b723b6f97f78dddb37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9045f690f8149396782d96b723b6f97f78dddb37"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "c7e34a1bc7eb528b1c606aec3b7c7b8e9864bdf3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ceaad38dfebb9dac622f304cb76acc3cac96247/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ceaad38dfebb9dac622f304cb76acc3cac96247/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1ceaad38dfebb9dac622f304cb76acc3cac96247", "patch": "@@ -1,3 +1,7 @@\n+1998-05-31  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* pt.c (tsubst): Always copy BINFO_BASETYPES.\n+\n 1998-05-29  scott snyder  <snyder@d0sgif.fnal.gov>\n \n \t* tree.c (layout_basetypes): If we change TYPE_SIZE, change"}, {"sha": "3927b5181befbb7653344420c7d82787e536cd9a", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ceaad38dfebb9dac622f304cb76acc3cac96247/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ceaad38dfebb9dac622f304cb76acc3cac96247/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=1ceaad38dfebb9dac622f304cb76acc3cac96247", "patch": "@@ -4830,16 +4830,14 @@ tsubst (t, args, in_decl)\n     case TREE_VEC:\n       if (type != NULL_TREE)\n \t{\n-\t  /* A binfo node.  */\n+\t  /* A binfo node.  We always need to make a copy, of the node\n+\t     itself and of its BINFO_BASETYPES.  */\n \n \t  t = copy_node (t);\n \n \t  /* Make sure type isn't a typedef copy.  */\n \t  type = BINFO_TYPE (TYPE_BINFO (type));\n \n-\t  if (type == TREE_TYPE (t))\n-\t    return t;\n-\n \t  TREE_TYPE (t) = complete_type (type);\n \t  if (IS_AGGR_TYPE (type))\n \t    {"}]}