{"sha": "dec883836b9d119cab6c2f935512a682045d137c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVjODgzODM2YjlkMTE5Y2FiNmMyZjkzNTUxMmE2ODIwNDVkMTM3Yw==", "commit": {"author": {"name": "Doug Evans", "email": "dje@canuck.cygnus.com", "date": "1997-10-10T20:48:55Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1997-10-10T20:48:55Z"}, "message": "configure.in: Handle --with-newlib.\n\n\t* configure.in: Handle --with-newlib.\n\t* Makefile.in (LIBGCC2_CFLAGS): Add @inhibit_libc@.\n\n\t* sparc/t-sp64 (LIBGCC2_CFLAGS): Delete.\n\nFrom-SVN: r15889", "tree": {"sha": "7722478f4d9b2ffe9f09382ebf87e00e52bbfd3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7722478f4d9b2ffe9f09382ebf87e00e52bbfd3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dec883836b9d119cab6c2f935512a682045d137c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec883836b9d119cab6c2f935512a682045d137c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dec883836b9d119cab6c2f935512a682045d137c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dec883836b9d119cab6c2f935512a682045d137c/comments", "author": null, "committer": null, "parents": [{"sha": "7ac63bcadb511dd552b7ce6b31dad203eea4971e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ac63bcadb511dd552b7ce6b31dad203eea4971e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ac63bcadb511dd552b7ce6b31dad203eea4971e"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "d4c5d7da837410e9d7f5507d4c56ed1539021a75", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec883836b9d119cab6c2f935512a682045d137c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec883836b9d119cab6c2f935512a682045d137c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dec883836b9d119cab6c2f935512a682045d137c", "patch": "@@ -1,3 +1,10 @@\n+Fri Oct 10 13:46:56 1997  Doug Evans  <dje@canuck.cygnus.com>\n+\n+\t* configure.in: Handle --with-newlib.\n+\t* Makefile.in (LIBGCC2_CFLAGS): Add @inhibit_libc@.\n+\n+\t* sparc/t-sp64 (LIBGCC2_CFLAGS): Delete.\n+\n Wed Oct  8 14:37:44 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* config/ptx4.h: Fix typo."}, {"sha": "47b4163843941390c5ff7d6df38f8dc32c60a599", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec883836b9d119cab6c2f935512a682045d137c/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec883836b9d119cab6c2f935512a682045d137c/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=dec883836b9d119cab6c2f935512a682045d137c", "patch": "@@ -269,7 +269,8 @@ LIBGCC2 = libgcc2.a\n # we use this here because that should be enough, and also\n # so that -g1 will be tested.\n LIBGCC2_DEBUG_CFLAGS = -g1\n-LIBGCC2_CFLAGS = -O2 $(LIBGCC2_INCLUDES) $(GCC_CFLAGS) $(TARGET_LIBGCC2_CFLAGS) $(LIBGCC2_DEBUG_CFLAGS) -DIN_LIBGCC2 -D__GCC_FLOAT_NOT_NEEDED\n+LIBGCC2_CFLAGS = -O2 $(LIBGCC2_INCLUDES) $(GCC_CFLAGS) $(TARGET_LIBGCC2_CFLAGS) $(LIBGCC2_DEBUG_CFLAGS) -DIN_LIBGCC2 -D__GCC_FLOAT_NOT_NEEDED \\\n+\t@inhibit_libc@\n \n # Additional options to use when compiling libgcc2.a.\n # Some targets override this to -Iinclude"}, {"sha": "4d256006ee449506af415b64947b3ec9c7fac76a", "filename": "gcc/configure", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec883836b9d119cab6c2f935512a682045d137c/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec883836b9d119cab6c2f935512a682045d137c/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=dec883836b9d119cab6c2f935512a682045d137c", "patch": "@@ -4560,6 +4560,16 @@ if [ ! -f Makefile.in ]; then\n \techo \"source ${srcdir}/.gdbinit\" >> .gdbinit\n fi\n \n+# If this is using newlib, then define inhibit_libc in\n+# LIBGCC2_CFLAGS.  This will cause __eprintf to be left out of\n+# libgcc.a, but that's OK because newib should have its own version of\n+# assert.h.\n+inhibit_libc=\n+if [ x$with_newlib = xyes ]; then\n+\tinhibit_libc=-Dinhibit_libc\n+fi\n+\n+\n # Override SCHED_OBJ and SCHED_CFLAGS to enable the Haifa scheduler.\n sched_prefix=\n sched_cflags=\n@@ -4825,6 +4835,7 @@ s%@SET_MAKE@%$SET_MAKE%g\n s%@CPP@%$CPP%g\n s%@manext@%$manext%g\n s%@objext@%$objext%g\n+s%@inhibit_libc@%$inhibit_libc%g\n s%@sched_prefix@%$sched_prefix%g\n s%@sched_cflags@%$sched_cflags%g\n s%@subdirs@%$subdirs%g"}, {"sha": "4cc80d2f4a80b62ec1aa2d0cc8b4ea63132a6875", "filename": "gcc/configure.in", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dec883836b9d119cab6c2f935512a682045d137c/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dec883836b9d119cab6c2f935512a682045d137c/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=dec883836b9d119cab6c2f935512a682045d137c", "patch": "@@ -3045,6 +3045,16 @@ if [[ ! -f Makefile.in ]]; then\n \techo \"source ${srcdir}/.gdbinit\" >> .gdbinit\n fi\n \n+# If this is using newlib, then define inhibit_libc in\n+# LIBGCC2_CFLAGS.  This will cause __eprintf to be left out of\n+# libgcc.a, but that's OK because newib should have its own version of\n+# assert.h.\n+inhibit_libc=\n+if [[ x$with_newlib = xyes ]]; then\n+\tinhibit_libc=-Dinhibit_libc\n+fi\n+AC_SUBST(inhibit_libc)\n+\n # Override SCHED_OBJ and SCHED_CFLAGS to enable the Haifa scheduler.\n sched_prefix=\n sched_cflags="}]}