{"sha": "b099377f9e59ecee866f43f2be943b8751769039", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA5OTM3N2Y5ZTU5ZWNlZTg2NmY0M2YyYmU5NDNiODc1MTc2OTAzOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1995-03-01T19:54:15Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1995-03-01T19:54:15Z"}, "message": "Add cpp predefines for VxWorks, and default to -mca\n\nFrom-SVN: r9102", "tree": {"sha": "b027b34cb39f0848fd21b04935ecbbfc38e0d34a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b027b34cb39f0848fd21b04935ecbbfc38e0d34a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b099377f9e59ecee866f43f2be943b8751769039", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b099377f9e59ecee866f43f2be943b8751769039", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b099377f9e59ecee866f43f2be943b8751769039", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b099377f9e59ecee866f43f2be943b8751769039/comments", "author": null, "committer": null, "parents": [{"sha": "2038d7efaa2752871497ca4ee85043d9c4356c73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2038d7efaa2752871497ca4ee85043d9c4356c73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2038d7efaa2752871497ca4ee85043d9c4356c73"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "d661185c753c16f6fd2e78ac1855361b7fe83ea2", "filename": "gcc/config/i960/vx960-coff.h", "status": "modified", "additions": 31, "deletions": 2, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b099377f9e59ecee866f43f2be943b8751769039/gcc%2Fconfig%2Fi960%2Fvx960-coff.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b099377f9e59ecee866f43f2be943b8751769039/gcc%2Fconfig%2Fi960%2Fvx960-coff.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fvx960-coff.h?ref=b099377f9e59ecee866f43f2be943b8751769039", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Vxworks i960 version.\n-   Copyright (C) 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -31,9 +31,38 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC \"\"\n \n+/* Predefine vxworks.  */\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-Di960 -Di80960 -DI960 -DI80960 -Dvxworks -Acpu(i960) -Amachine(i960)\"\n+\n+/* The VxWorks header files expect the compiler to define CPU to a\n+   magic number.  */\n+\n+#undef CPP_SPEC\n+#define\tCPP_SPEC \"%{mic*:-D__i960\\\n+\t\t\t%{mka:-D__i960KA}%{mkb:-D__i960KB}\\\n+\t\t\t%{msa:-D__i960SA}%{msb:-D__i960SB}\\\n+\t\t\t%{mmc:-D__i960MC}\\\n+\t\t\t%{mca:-D__i960CA}%{mcc:-D__i960CC}\\\n+\t\t\t%{mcf:-D__i960CF}}\\\n+\t%{mka:-D__i960KA__ -D__i960_KA__ %{!ansi:-DCPU=I960KA}}\\\n+\t%{mkb:-D__i960KB__ -D__i960_KB__ %{!ansi:-DCPU=I960KB}}\\\n+\t%{msa:-D__i960SA__ -D__i960_SA__}\\\n+\t%{msb:-D__i960SB__ -D__i960_SB__}\\\n+\t%{mmc:-D__i960MC__ -D__i960_MC__}\\\n+\t%{mca:-D__i960CA__ -D__i960_CA__ %{!ansi:-DCPU=I960CA}}\\\n+\t%{mcc:-D__i960CC__ -D__i960_CC__}\\\n+\t%{mcf:-D__i960CF__ -D__i960_CF__}\\\n+\t%{!mka:%{!mkb:%{!msa:%{!msb:%{!mmc:%{!mca:\\\n+\t\t%{!mcc:%{!mcf:-D__i960_CA -D__i960CA__ %{!ansi:-DCPU=I960CA}\\\n+\t\t\t      %{mic*:-D__i960CA}}}}}}}}}\"\n+\n+/* Default to -mca.  */\n+\n #undef CC1_SPEC\n #define CC1_SPEC \\\n-\t\"%{!mka:%{!mkb:%{!msa:%{!msb:%{!mmc:%{!mca:%{!mcc:%{!mcf:-mkb}}}}}}}}\\\n+\t\"%{!mka:%{!mkb:%{!msa:%{!msb:%{!mmc:%{!mca:%{!mcc:%{!mcf:-mca}}}}}}}}\\\n \t %{!gs*:%{!gc*:%{mbout:%{g*:-gstabs}}\\\n \t\t       %{mcoff:%{g*:-gcoff}}\\\n \t\t       %{!mbout:%{!mcoff:%{g*:-gcoff}}}}}\""}]}