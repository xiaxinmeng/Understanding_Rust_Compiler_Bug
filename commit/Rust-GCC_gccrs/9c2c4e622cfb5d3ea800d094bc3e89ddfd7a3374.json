{"sha": "9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWMyYzRlNjIyY2ZiNWQzZWE4MDBkMDk0YmMzZTg5ZGRmZDdhMzM3NA==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2014-07-13T14:32:01Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2014-07-13T14:32:01Z"}, "message": "Add xmm-register version of fuse-caller-save testcase\n\n2014-07-13  Tom de Vries  <tom@codesourcery.com>\n\n\t* gcc.target/i386/fuse-caller-save-xmm-run.c: New test.\n\t* gcc.target/i386/fuse-caller-save-xmm.c: New test.\n\nFrom-SVN: r212495", "tree": {"sha": "4d38107553db66193e9bfe78ea639f45e2e3965e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d38107553db66193e9bfe78ea639f45e2e3965e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/comments", "author": null, "committer": null, "parents": [{"sha": "c6abdc366af68c28e3e8da236dfa7037be38971e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6abdc366af68c28e3e8da236dfa7037be38971e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6abdc366af68c28e3e8da236dfa7037be38971e"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "43adb4719edc0e522a0ab4057cab1a263f28c697", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "patch": "@@ -1,3 +1,8 @@\n+2014-07-13  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* gcc.target/i386/fuse-caller-save-xmm-run.c: New test.\n+\t* gcc.target/i386/fuse-caller-save-xmm.c: New test.\n+\n 2014-07-13  Edward Smith-Rowland  <3dw4rd@verizon.net>\n \n \tPR C++/60209 - Declaration of user-defined literal operator cause error"}, {"sha": "66b133c40ac8922d901a05888036a7d02f48b8a7", "filename": "gcc/testsuite/gcc.target/i386/fuse-caller-save-xmm-run.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm-run.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm-run.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm-run.c?ref=9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "patch": "@@ -0,0 +1,32 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O2 -msse -fuse-caller-save\" } */\n+\n+typedef double v2df __attribute__((vector_size (16)));\n+\n+static v2df __attribute__((noinline))\n+bar (v2df a)\n+{\n+  return a + (v2df){ 3.0, 3.0 };\n+}\n+\n+v2df __attribute__((noinline))\n+foo (v2df y)\n+{\n+  return y + bar (y);\n+}\n+\n+int\n+main (void)\n+{\n+  int success;\n+  union {\n+    v2df v;\n+    double d[2];\n+  } u;\n+\n+  u.v = foo ((v2df){ 5.0, 5.0});\n+  success = (u.d[0] == 13.0\n+\t     && u.d[1] == 13.0);\n+\n+  return !success;\n+}"}, {"sha": "ff21f0cdb3a4c1f5c4bb0620354f64768433b9db", "filename": "gcc/testsuite/gcc.target/i386/fuse-caller-save-xmm.c", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffuse-caller-save-xmm.c?ref=9c2c4e622cfb5d3ea800d094bc3e89ddfd7a3374", "patch": "@@ -0,0 +1,37 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -msse -fuse-caller-save\" } */\n+\n+typedef double v2df __attribute__((vector_size (16)));\n+\n+static v2df __attribute__((noinline))\n+bar (v2df a)\n+{\n+  return a + (v2df){ 3.0, 3.0 };\n+}\n+\n+v2df __attribute__((noinline))\n+foo (v2df y)\n+{\n+  return y + bar (y);\n+}\n+\n+int\n+main (void)\n+{\n+  int success;\n+  union {\n+    v2df v;\n+    double d[2];\n+  } u;\n+\n+  u.v = foo ((v2df){ 5.0, 5.0});\n+  success = (u.d[0] == 13.0\n+\t     && u.d[1] == 13.0);\n+\n+  return !success;\n+}\n+\n+/* { dg-final { scan-assembler-not \"movaps\\t%xmm1, \\\\(%rsp\\\\)\" } } */\n+/* { dg-final { scan-assembler-not \"movapd\\t\\\\(%rsp\\\\), %xmm1\" } } */\n+/* { dg-final { scan-assembler-times \".cfi_def_cfa_offset 16\" 1 } } */\n+/* { dg-final { scan-assembler-times \".cfi_def_cfa_offset 32\" 1 } } */"}]}