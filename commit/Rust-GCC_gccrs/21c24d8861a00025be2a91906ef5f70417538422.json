{"sha": "21c24d8861a00025be2a91906ef5f70417538422", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFjMjRkODg2MWEwMDAyNWJlMmE5MTkwNmVmNWY3MDQxNzUzODQyMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-03-19T21:57:58Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-03-19T21:57:58Z"}, "message": "(parse_number, yylex), cccp.c (rescan), cpplib.c\n\n(parse_number, yylex), cccp.c (rescan), cpplib.c\n(cpp_get_token): Unless -lang-c89 is specified, allow C9X-style\nhexadecimal floating-point numbers as preprocessor numbers.\n\nFrom-SVN: r13746", "tree": {"sha": "64dafb5e444a68e38b4bd78d253bb766a26f320f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64dafb5e444a68e38b4bd78d253bb766a26f320f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21c24d8861a00025be2a91906ef5f70417538422", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21c24d8861a00025be2a91906ef5f70417538422", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21c24d8861a00025be2a91906ef5f70417538422", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21c24d8861a00025be2a91906ef5f70417538422/comments", "author": null, "committer": null, "parents": [{"sha": "b415e1000b951b555b6b5ed0636201a0dbf3cf4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b415e1000b951b555b6b5ed0636201a0dbf3cf4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b415e1000b951b555b6b5ed0636201a0dbf3cf4c"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "2d2d34f8b2893af0edf5398c6a171a8654e45f77", "filename": "gcc/cexp.y", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21c24d8861a00025be2a91906ef5f70417538422/gcc%2Fcexp.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21c24d8861a00025be2a91906ef5f70417538422/gcc%2Fcexp.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcexp.y?ref=21c24d8861a00025be2a91906ef5f70417538422", "patch": "@@ -161,6 +161,9 @@ extern int pedantic;\n /* Flag for -traditional.  */\n extern int traditional;\n \n+/* Flag for -lang-c89.  */\n+extern int c89;\n+\n #ifndef CHAR_TYPE_SIZE\n #define CHAR_TYPE_SIZE BITS_PER_UNIT\n #endif\n@@ -531,7 +534,7 @@ parse_number (olen)\n \t    yylval.integer.signedp = UNSIGNED;\n \t  }\n \telse {\n-\t  if (c == '.' || c == 'e' || c == 'E')\n+\t  if (c == '.' || c == 'e' || c == 'E' || c == 'p' || c == 'P')\n \t    yyerror (\"Floating point numbers not allowed in #if expressions\");\n \t  else {\n \t    char *buf = (char *) alloca (p - lexptr + 40);\n@@ -834,7 +837,9 @@ yylex ()\n     for (namelen = 1; ; namelen++) {\n       int d = tokstart[namelen];\n       if (! ((is_idchar[d] || d == '.')\n-\t     || ((d == '-' || d == '+') && (c == 'e' || c == 'E')\n+\t     || ((d == '-' || d == '+')\n+\t\t && (c == 'e' || c == 'E'\n+\t\t     || ((c == 'p' || c == 'P') && ! c89))\n \t\t && ! traditional)))\n \tbreak;\n       c = d;"}]}