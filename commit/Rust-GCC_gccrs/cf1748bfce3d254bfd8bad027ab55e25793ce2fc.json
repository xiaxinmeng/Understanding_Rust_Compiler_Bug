{"sha": "cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2YxNzQ4YmZjZTNkMjU0YmZkOGJhZDAyN2FiNTVlMjU3OTNjZTJmYw==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-06-27T04:30:18Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-06-27T04:30:18Z"}, "message": "[multiple changes]\n\n2000-06-23  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n\t* class.c (set_super_info): Handle ACC_PRIVATE for (inner)\n\tclasses.\n\t* java-tree.h (TYPE_PRIVATE_INNER_CLASS): New macro.\n\t(struct lang_type): New field `pic.'\n\t(CLASS_PRIVATE): New macro.\n\t* parse.y (check_inner_class_access): New function.\n\t(jdep_resolve_class): Call it.\n\n2000-06-09  Bryce McKinlay  <bryce@albatross.co.nz>\n\n        * parse.y (register_fields): Permit static fields in inner classes\n        if they are final. Fix for PR gcj/255.\n\n(These patches are fixes to the PR #224 and #255:\n http://sourceware.cygnus.com/ml/java-prs/2000-q2/msg00158.html\n http://sourceware.cygnus.com/ml/java-prs/2000-q2/msg00287.html)\n\nFrom-SVN: r34725", "tree": {"sha": "c2d03eb4b63c497be0beb8cbe569f96cb6890ed4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2d03eb4b63c497be0beb8cbe569f96cb6890ed4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/comments", "author": null, "committer": null, "parents": [{"sha": "047142d32ee7988c4715e6784fd0fe228db7caa8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/047142d32ee7988c4715e6784fd0fe228db7caa8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/047142d32ee7988c4715e6784fd0fe228db7caa8"}], "stats": {"total": 937, "additions": 501, "deletions": 436}, "files": [{"sha": "0259572f10216dc873a936cd87e59dc00c949a7d", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "patch": "@@ -18,6 +18,16 @@\n \t* parse.y (check_abstract_method_definitions): Also check if\n \t`other_method' is abstract.\n \n+2000-06-23  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+\t* class.c (set_super_info): Handle ACC_PRIVATE for (inner)\n+\tclasses.\n+\t* java-tree.h (TYPE_PRIVATE_INNER_CLASS): New macro.\n+\t(struct lang_type): New field `pic.'\n+\t(CLASS_PRIVATE): New macro.\n+\t* parse.y (check_inner_class_access): New function.\n+\t(jdep_resolve_class): Call it.\n+\n 2000-06-23  Tom Tromey  <tromey@cygnus.com>\n \n \t* parse.y (patch_incomplete_class_ref): Initialize the returned\n@@ -84,6 +94,11 @@\n \n \t* lang.c (lang_get_alias_set): Mark parameter with ATTRIBUTE_UNUSED.\n \n+2000-06-09  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+\t* parse.y (register_fields): Permit static fields in inner classes\n+\tif they are final. Fix for PR gcj/255.\n+\n 2000-06-06  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* parse.h (REGISTER_IMPORT): Use `chainon' to link new entries."}, {"sha": "d719f04ff26fb311f72896d0222d5db01461fa09", "filename": "gcc/java/class.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fclass.c?ref=cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "patch": "@@ -400,6 +400,7 @@ set_super_info (access_flags, this_class, super_class, interfaces_count)\n   if (access_flags & ACC_INTERFACE) CLASS_INTERFACE (class_decl) = 1;\n   if (access_flags & ACC_ABSTRACT)  CLASS_ABSTRACT (class_decl) = 1;\n   if (access_flags & ACC_STATIC)    CLASS_STATIC (class_decl) = 1;\n+  if (access_flags & ACC_PRIVATE)   CLASS_PRIVATE (class_decl) = 1;\n }\n \n /* Return length of inheritance chain of CLAS, where java.lang.Object is 0,"}, {"sha": "2f1bbec1ebff1213706c53e6c17f38c1c3da6cc2", "filename": "gcc/java/java-tree.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fjava-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fjava-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjava-tree.h?ref=cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "patch": "@@ -575,6 +575,7 @@ struct lang_decl_var\n /* The decl of the synthetic method `class$' used to handle `.class'\n    for non primitive types when compiling to bytecode. */\n #define TYPE_DOT_CLASS(T)        (TYPE_LANG_SPECIFIC(T)->dot_class)\n+#define TYPE_PRIVATE_INNER_CLASS(T) (TYPE_LANG_SPECIFIC(T)->pic)\n \n struct lang_type\n {\n@@ -589,6 +590,7 @@ struct lang_type\n \t\t\t\t   needs to be invoked and generated when\n \t\t\t\t   compiling to bytecode to implement\n \t\t\t\t   <non_primitive_type>.class */\n+  unsigned pic:1;\t\t/* Private Inner Class. */\n };\n \n #ifdef JAVA_USE_HANDLES\n@@ -837,6 +839,7 @@ struct rtx_def * java_lang_expand_expr PARAMS ((tree, rtx, enum machine_mode,\n #define CLASS_ABSTRACT(DECL) DECL_LANG_FLAG_5 (DECL)\n #define CLASS_SUPER(DECL) DECL_LANG_FLAG_6 (DECL)\n #define CLASS_STATIC(DECL) DECL_LANG_FLAG_7 (DECL)\n+#define CLASS_PRIVATE(DECL) (TYPE_PRIVATE_INNER_CLASS (TREE_TYPE (DECL)))\n \n /* @deprecated marker flag on methods, fields and classes */\n "}, {"sha": "84a51a0997169807588be93ce5206308eb23b27f", "filename": "gcc/java/parse.c", "status": "modified", "additions": 456, "deletions": 433, "changes": 889, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "patch": "@@ -175,6 +175,7 @@ static int process_imports PARAMS ((void));\n static void read_import_dir PARAMS ((tree));\n static int find_in_imports_on_demand PARAMS ((tree));\n static void find_in_imports PARAMS ((tree));\n+static void check_inner_class_access PARAMS ((tree, tree, tree));\n static int check_pkg_class_access PARAMS ((tree, tree));\n static void register_package PARAMS ((tree));\n static tree resolve_package PARAMS ((tree, tree *));\n@@ -488,7 +489,7 @@ static tree package_list = NULL_TREE;\n } while (0)\n \n \n-#line 417 \"./parse.y\"\n+#line 418 \"./parse.y\"\n typedef union {\n   tree node;\n   int sub_token;\n@@ -498,7 +499,7 @@ typedef union {\n   } operator;\n   int value;\n } YYSTYPE;\n-#line 427 \"./parse.y\"\n+#line 428 \"./parse.y\"\n \n #include \"lex.c\"\n #ifndef YYDEBUG\n@@ -799,57 +800,57 @@ static const short yyrhs[] = {   123,\n \n #if YYDEBUG != 0\n static const short yyrline[] = { 0,\n-   576,   582,   584,   585,   586,   587,   588,   592,   594,   597,\n-   599,   600,   603,   605,   608,   612,   616,   620,   626,   628,\n-   630,   632,   637,   639,   642,   646,   651,   656,   658,   659,\n-   660,   661,   662,   663,   664,   667,   672,   678,   680,   683,\n-   689,   691,   695,   697,   700,   727,   729,   733,   746,   748,\n-   752,   755,   757,   759,   769,   774,   789,   793,   793,   796,\n-   796,   798,   800,   805,   809,   811,   813,   815,   819,   821,\n-   823,   830,   836,   841,   845,   854,   864,   866,   869,   871,\n-   872,   873,   880,   882,   884,   885,   887,   892,   895,   905,\n-   908,   910,   914,   917,   924,   930,   938,   940,   942,   944,\n-   946,   950,   952,   956,   967,   968,   972,   975,   977,   979,\n-   981,   986,   988,   990,   992,   999,  1005,  1007,  1016,  1018,\n-  1022,  1027,  1032,  1036,  1041,  1046,  1051,  1058,  1068,  1070,\n-  1072,  1076,  1079,  1081,  1085,  1087,  1088,  1093,  1099,  1106,\n-  1122,  1129,  1132,  1135,  1139,  1145,  1149,  1158,  1160,  1162,\n-  1166,  1168,  1171,  1178,  1186,  1188,  1192,  1199,  1209,  1213,\n-  1213,  1216,  1216,  1219,  1219,  1222,  1222,  1224,  1228,  1234,\n-  1239,  1241,  1245,  1248,  1252,  1254,  1257,  1259,  1260,  1262,\n-  1266,  1270,  1276,  1281,  1284,  1286,  1290,  1296,  1300,  1305,\n-  1314,  1318,  1323,  1337,  1339,  1342,  1344,  1346,  1353,  1357,\n-  1360,  1364,  1366,  1367,  1368,  1369,  1370,  1374,  1376,  1377,\n-  1378,  1379,  1383,  1385,  1386,  1387,  1388,  1389,  1390,  1391,\n-  1392,  1393,  1394,  1397,  1402,  1413,  1416,  1420,  1427,  1437,\n-  1443,  1449,  1455,  1457,  1462,  1464,  1469,  1471,  1473,  1475,\n-  1477,  1481,  1483,  1484,  1485,  1486,  1487,  1488,  1491,  1497,\n-  1499,  1501,  1505,  1510,  1515,  1521,  1531,  1537,  1539,  1541,\n-  1548,  1551,  1553,  1555,  1559,  1561,  1564,  1568,  1570,  1573,\n-  1580,  1586,  1588,  1590,  1594,  1602,  1605,  1607,  1609,  1613,\n-  1618,  1627,  1632,  1639,  1646,  1648,  1650,  1654,  1657,  1666,\n-  1673,  1675,  1679,  1692,  1694,  1700,  1706,  1710,  1712,  1716,\n-  1719,  1721,  1725,  1728,  1730,  1732,  1736,  1739,  1741,  1743,\n-  1747,  1750,  1752,  1754,  1758,  1764,  1766,  1770,  1777,  1779,\n-  1781,  1783,  1787,  1799,  1802,  1804,  1809,  1813,  1815,  1822,\n-  1830,  1847,  1849,  1854,  1858,  1861,  1866,  1868,  1871,  1873,\n-  1875,  1877,  1878,  1879,  1880,  1881,  1885,  1890,  1892,  1894,\n-  1896,  1903,  1909,  1918,  1921,  1923,  1925,  1929,  1932,  1934,\n-  1938,  1944,  1945,  1951,  1952,  1954,  1956,  1958,  1960,  1962,\n-  1971,  1975,  2005,  2008,  2022,  2025,  2029,  2035,  2040,  2044,\n-  2047,  2049,  2051,  2055,  2064,  2072,  2074,  2078,  2081,  2085,\n-  2096,  2098,  2106,  2133,  2135,  2139,  2144,  2151,  2155,  2158,\n-  2160,  2171,  2182,  2187,  2196,  2198,  2202,  2205,  2207,  2212,\n-  2217,  2222,  2229,  2231,  2232,  2233,  2236,  2241,  2246,  2248,\n-  2249,  2251,  2253,  2254,  2256,  2260,  2263,  2267,  2270,  2274,\n-  2276,  2278,  2280,  2281,  2283,  2287,  2296,  2298,  2300,  2313,\n-  2315,  2321,  2323,  2325,  2329,  2331,  2336,  2341,  2346,  2348,\n-  2350,  2354,  2356,  2361,  2366,  2368,  2372,  2374,  2379,  2384,\n-  2389,  2391,  2393,  2397,  2399,  2404,  2409,  2414,  2419,  2421,\n-  2423,  2425,  2427,  2429,  2433,  2435,  2440,  2445,  2447,  2451,\n-  2453,  2458,  2462,  2464,  2469,  2473,  2475,  2480,  2484,  2486,\n-  2491,  2495,  2497,  2502,  2506,  2508,  2513,  2519,  2521,  2525,\n-  2527,  2530,  2533,  2541,  2543,  2544,  2547,  2549,  2552,  2556\n+   577,   583,   585,   586,   587,   588,   589,   593,   595,   598,\n+   600,   601,   604,   606,   609,   613,   617,   621,   627,   629,\n+   631,   633,   638,   640,   643,   647,   652,   657,   659,   660,\n+   661,   662,   663,   664,   665,   668,   673,   679,   681,   684,\n+   690,   692,   696,   698,   701,   728,   730,   734,   747,   749,\n+   753,   756,   758,   760,   770,   775,   790,   794,   794,   797,\n+   797,   799,   801,   806,   810,   812,   814,   816,   820,   822,\n+   824,   831,   837,   842,   846,   855,   865,   867,   870,   872,\n+   873,   874,   881,   883,   885,   886,   888,   893,   896,   906,\n+   909,   911,   915,   918,   925,   931,   939,   941,   943,   945,\n+   947,   951,   953,   957,   968,   969,   973,   976,   978,   980,\n+   982,   987,   989,   991,   993,  1000,  1006,  1008,  1017,  1019,\n+  1023,  1028,  1033,  1037,  1042,  1047,  1052,  1059,  1069,  1071,\n+  1073,  1077,  1080,  1082,  1086,  1088,  1089,  1094,  1100,  1107,\n+  1123,  1130,  1133,  1136,  1140,  1146,  1150,  1159,  1161,  1163,\n+  1167,  1169,  1172,  1179,  1187,  1189,  1193,  1200,  1210,  1214,\n+  1214,  1217,  1217,  1220,  1220,  1223,  1223,  1225,  1229,  1235,\n+  1240,  1242,  1246,  1249,  1253,  1255,  1258,  1260,  1261,  1263,\n+  1267,  1271,  1277,  1282,  1285,  1287,  1291,  1297,  1301,  1306,\n+  1315,  1319,  1324,  1338,  1340,  1343,  1345,  1347,  1354,  1358,\n+  1361,  1365,  1367,  1368,  1369,  1370,  1371,  1375,  1377,  1378,\n+  1379,  1380,  1384,  1386,  1387,  1388,  1389,  1390,  1391,  1392,\n+  1393,  1394,  1395,  1398,  1403,  1414,  1417,  1421,  1428,  1438,\n+  1444,  1450,  1456,  1458,  1463,  1465,  1470,  1472,  1474,  1476,\n+  1478,  1482,  1484,  1485,  1486,  1487,  1488,  1489,  1492,  1498,\n+  1500,  1502,  1506,  1511,  1516,  1522,  1532,  1538,  1540,  1542,\n+  1549,  1552,  1554,  1556,  1560,  1562,  1565,  1569,  1571,  1574,\n+  1581,  1587,  1589,  1591,  1595,  1603,  1606,  1608,  1610,  1614,\n+  1619,  1628,  1633,  1640,  1647,  1649,  1651,  1655,  1658,  1667,\n+  1674,  1676,  1680,  1693,  1695,  1701,  1707,  1711,  1713,  1717,\n+  1720,  1722,  1726,  1729,  1731,  1733,  1737,  1740,  1742,  1744,\n+  1748,  1751,  1753,  1755,  1759,  1765,  1767,  1771,  1778,  1780,\n+  1782,  1784,  1788,  1800,  1803,  1805,  1810,  1814,  1816,  1823,\n+  1831,  1848,  1850,  1855,  1859,  1862,  1867,  1869,  1872,  1874,\n+  1876,  1878,  1879,  1880,  1881,  1882,  1886,  1891,  1893,  1895,\n+  1897,  1904,  1910,  1919,  1922,  1924,  1926,  1930,  1933,  1935,\n+  1939,  1945,  1946,  1952,  1953,  1955,  1957,  1959,  1961,  1963,\n+  1972,  1976,  2006,  2009,  2023,  2026,  2030,  2036,  2041,  2045,\n+  2048,  2050,  2052,  2056,  2065,  2073,  2075,  2079,  2082,  2086,\n+  2097,  2099,  2107,  2134,  2136,  2140,  2145,  2152,  2156,  2159,\n+  2161,  2172,  2183,  2188,  2197,  2199,  2203,  2206,  2208,  2213,\n+  2218,  2223,  2230,  2232,  2233,  2234,  2237,  2242,  2247,  2249,\n+  2250,  2252,  2254,  2255,  2257,  2261,  2264,  2268,  2271,  2275,\n+  2277,  2279,  2281,  2282,  2284,  2288,  2297,  2299,  2301,  2314,\n+  2316,  2322,  2324,  2326,  2330,  2332,  2337,  2342,  2347,  2349,\n+  2351,  2355,  2357,  2362,  2367,  2369,  2373,  2375,  2380,  2385,\n+  2390,  2392,  2394,  2398,  2400,  2405,  2410,  2415,  2420,  2422,\n+  2424,  2426,  2428,  2430,  2434,  2436,  2441,  2446,  2448,  2452,\n+  2454,  2459,  2463,  2465,  2470,  2474,  2476,  2481,  2485,  2487,\n+  2492,  2496,  2498,  2503,  2507,  2509,  2514,  2520,  2522,  2526,\n+  2528,  2531,  2534,  2542,  2544,  2545,  2548,  2550,  2553,  2557\n };\n #endif\n \n@@ -2932,69 +2933,69 @@ yyparse(YYPARSE_PARAM_ARG)\n   switch (yyn) {\n \n case 1:\n-#line 578 \"./parse.y\"\n+#line 579 \"./parse.y\"\n {;\n     break;}\n case 18:\n-#line 622 \"./parse.y\"\n+#line 623 \"./parse.y\"\n { \n \t\t  yyval.node = build_java_array_type (yyvsp[-2].node, -1);\n \t\t  CLASS_LOADED_P (yyval.node) = 1;\n \t\t;\n     break;}\n case 19:\n-#line 627 \"./parse.y\"\n+#line 628 \"./parse.y\"\n { yyval.node = build_unresolved_array_type (yyvsp[-2].node); ;\n     break;}\n case 20:\n-#line 629 \"./parse.y\"\n+#line 630 \"./parse.y\"\n { yyval.node = build_unresolved_array_type (yyvsp[-2].node); ;\n     break;}\n case 21:\n-#line 631 \"./parse.y\"\n+#line 632 \"./parse.y\"\n {RULE (\"']' expected\"); RECOVER;;\n     break;}\n case 22:\n-#line 633 \"./parse.y\"\n+#line 634 \"./parse.y\"\n {RULE (\"']' expected\"); RECOVER;;\n     break;}\n case 26:\n-#line 648 \"./parse.y\"\n+#line 649 \"./parse.y\"\n { yyval.node = make_qualified_name (yyvsp[-2].node, yyvsp[0].node, yyvsp[-1].operator.location); ;\n     break;}\n case 28:\n-#line 657 \"./parse.y\"\n+#line 658 \"./parse.y\"\n {yyval.node = NULL;;\n     break;}\n case 36:\n-#line 669 \"./parse.y\"\n+#line 670 \"./parse.y\"\n {\n \t\t  yyval.node = NULL;\n \t\t;\n     break;}\n case 37:\n-#line 673 \"./parse.y\"\n+#line 674 \"./parse.y\"\n {\n \t\t  yyval.node = NULL;\n \t\t;\n     break;}\n case 40:\n-#line 685 \"./parse.y\"\n+#line 686 \"./parse.y\"\n { \n \t\t  ctxp->package = EXPR_WFL_NODE (yyvsp[-1].node);\n \t\t  register_package (ctxp->package);\n \t\t;\n     break;}\n case 41:\n-#line 690 \"./parse.y\"\n+#line 691 \"./parse.y\"\n {yyerror (\"Missing name\"); RECOVER;;\n     break;}\n case 42:\n-#line 692 \"./parse.y\"\n+#line 693 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 45:\n-#line 702 \"./parse.y\"\n+#line 703 \"./parse.y\"\n {\n \t\t  tree name = EXPR_WFL_NODE (yyvsp[-1].node), last_name;\n \t\t  int   i = IDENTIFIER_LENGTH (name)-1;\n@@ -3022,15 +3023,15 @@ case 45:\n \t\t;\n     break;}\n case 46:\n-#line 728 \"./parse.y\"\n+#line 729 \"./parse.y\"\n {yyerror (\"Missing name\"); RECOVER;;\n     break;}\n case 47:\n-#line 730 \"./parse.y\"\n+#line 731 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 48:\n-#line 735 \"./parse.y\"\n+#line 736 \"./parse.y\"\n {\n \t\t  tree name = EXPR_WFL_NODE (yyvsp[-3].node);\n \t\t  /* Don't import java.lang.* twice. */\n@@ -3044,40 +3045,40 @@ case 48:\n \t\t;\n     break;}\n case 49:\n-#line 747 \"./parse.y\"\n+#line 748 \"./parse.y\"\n {yyerror (\"'*' expected\"); RECOVER;;\n     break;}\n case 50:\n-#line 749 \"./parse.y\"\n+#line 750 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 51:\n-#line 754 \"./parse.y\"\n+#line 755 \"./parse.y\"\n { end_class_declaration (0); ;\n     break;}\n case 52:\n-#line 756 \"./parse.y\"\n+#line 757 \"./parse.y\"\n { end_class_declaration (0); ;\n     break;}\n case 53:\n-#line 758 \"./parse.y\"\n+#line 759 \"./parse.y\"\n { yyval.node = NULL; ;\n     break;}\n case 54:\n-#line 760 \"./parse.y\"\n+#line 761 \"./parse.y\"\n {\n \t\t  YYERROR_NOW;\n \t\t  yyerror (\"Class or interface declaration expected\");\n \t\t;\n     break;}\n case 55:\n-#line 771 \"./parse.y\"\n+#line 772 \"./parse.y\"\n {\n \t\t  yyval.value = (1 << yyvsp[0].value);\n \t\t;\n     break;}\n case 56:\n-#line 775 \"./parse.y\"\n+#line 776 \"./parse.y\"\n {\n \t\t  int acc = (1 << yyvsp[0].value);\n \t\t  if (yyval.value & acc)\n@@ -3091,83 +3092,83 @@ case 56:\n \t\t;\n     break;}\n case 57:\n-#line 791 \"./parse.y\"\n+#line 792 \"./parse.y\"\n { create_class (yyvsp[-4].value, yyvsp[-2].node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 59:\n-#line 794 \"./parse.y\"\n+#line 795 \"./parse.y\"\n { create_class (0, yyvsp[-2].node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 61:\n-#line 797 \"./parse.y\"\n+#line 798 \"./parse.y\"\n {yyerror (\"Missing class name\"); RECOVER;;\n     break;}\n case 62:\n-#line 799 \"./parse.y\"\n+#line 800 \"./parse.y\"\n {yyerror (\"Missing class name\"); RECOVER;;\n     break;}\n case 63:\n-#line 801 \"./parse.y\"\n+#line 802 \"./parse.y\"\n {\n \t\t  if (!ctxp->class_err) yyerror (\"'{' expected\"); \n \t\t  DRECOVER(class1);\n \t\t;\n     break;}\n case 64:\n-#line 806 \"./parse.y\"\n+#line 807 \"./parse.y\"\n {if (!ctxp->class_err) yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 65:\n-#line 810 \"./parse.y\"\n+#line 811 \"./parse.y\"\n { yyval.node = NULL; ;\n     break;}\n case 66:\n-#line 812 \"./parse.y\"\n+#line 813 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 67:\n-#line 814 \"./parse.y\"\n+#line 815 \"./parse.y\"\n {yyerror (\"'{' expected\"); ctxp->class_err=1;;\n     break;}\n case 68:\n-#line 816 \"./parse.y\"\n+#line 817 \"./parse.y\"\n {yyerror (\"Missing super class name\"); ctxp->class_err=1;;\n     break;}\n case 69:\n-#line 820 \"./parse.y\"\n+#line 821 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 70:\n-#line 822 \"./parse.y\"\n+#line 823 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 71:\n-#line 824 \"./parse.y\"\n+#line 825 \"./parse.y\"\n {\n \t\t  ctxp->class_err=1;\n \t\t  yyerror (\"Missing interface name\"); \n \t\t;\n     break;}\n case 72:\n-#line 832 \"./parse.y\"\n+#line 833 \"./parse.y\"\n { \n \t\t  ctxp->interface_number = 1;\n \t\t  yyval.node = build_tree_list (yyvsp[0].node, NULL_TREE);\n \t\t;\n     break;}\n case 73:\n-#line 837 \"./parse.y\"\n+#line 838 \"./parse.y\"\n { \n \t\t  ctxp->interface_number++;\n \t\t  yyval.node = chainon (yyvsp[-2].node, build_tree_list (yyvsp[0].node, NULL_TREE));\n \t\t;\n     break;}\n case 74:\n-#line 842 \"./parse.y\"\n+#line 843 \"./parse.y\"\n {yyerror (\"Missing interface name\"); RECOVER;;\n     break;}\n case 75:\n-#line 847 \"./parse.y\"\n+#line 848 \"./parse.y\"\n { \n \t\t  /* Store the location of the `}' when doing xrefs */\n \t\t  if (flag_emit_xref)\n@@ -3177,7 +3178,7 @@ case 75:\n \t\t;\n     break;}\n case 76:\n-#line 855 \"./parse.y\"\n+#line 856 \"./parse.y\"\n { \n \t\t  /* Store the location of the `}' when doing xrefs */\n \t\t  if (flag_emit_xref)\n@@ -3187,30 +3188,30 @@ case 76:\n \t\t;\n     break;}\n case 82:\n-#line 874 \"./parse.y\"\n+#line 875 \"./parse.y\"\n {\n \t\t  TREE_CHAIN (yyvsp[0].node) = CPC_INSTANCE_INITIALIZER_STMT (ctxp);\n \t\t  SET_CPC_INSTANCE_INITIALIZER_STMT (ctxp, yyvsp[0].node);\n \t\t;\n     break;}\n case 84:\n-#line 883 \"./parse.y\"\n+#line 884 \"./parse.y\"\n { yyval.node = yyvsp[-1].node; ;\n     break;}\n case 86:\n-#line 886 \"./parse.y\"\n+#line 887 \"./parse.y\"\n { end_class_declaration (1); ;\n     break;}\n case 87:\n-#line 888 \"./parse.y\"\n+#line 889 \"./parse.y\"\n { end_class_declaration (1); ;\n     break;}\n case 88:\n-#line 894 \"./parse.y\"\n+#line 895 \"./parse.y\"\n { register_fields (0, yyvsp[-2].node, yyvsp[-1].node); ;\n     break;}\n case 89:\n-#line 896 \"./parse.y\"\n+#line 897 \"./parse.y\"\n {\n \t\t  check_modifiers \n \t\t    (\"Illegal modifier `%s' for field declaration\",\n@@ -3220,19 +3221,19 @@ case 89:\n \t\t;\n     break;}\n case 91:\n-#line 909 \"./parse.y\"\n+#line 910 \"./parse.y\"\n { yyval.node = chainon (yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 92:\n-#line 911 \"./parse.y\"\n+#line 912 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 93:\n-#line 916 \"./parse.y\"\n+#line 917 \"./parse.y\"\n { yyval.node = build_tree_list (yyvsp[0].node, NULL_TREE); ;\n     break;}\n case 94:\n-#line 918 \"./parse.y\"\n+#line 919 \"./parse.y\"\n { \n \t\t  if (java_error_count)\n \t\t    yyvsp[0].node = NULL_TREE;\n@@ -3241,39 +3242,39 @@ case 94:\n \t\t;\n     break;}\n case 95:\n-#line 925 \"./parse.y\"\n+#line 926 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing variable initializer\");\n \t\t  yyval.node = build_tree_list (yyvsp[-2].node, NULL_TREE);\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 96:\n-#line 931 \"./parse.y\"\n+#line 932 \"./parse.y\"\n {\n \t\t  yyerror (\"';' expected\");\n \t\t  yyval.node = build_tree_list (yyvsp[-3].node, NULL_TREE);\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 98:\n-#line 941 \"./parse.y\"\n+#line 942 \"./parse.y\"\n { yyval.node = build_unresolved_array_type (yyvsp[-2].node); ;\n     break;}\n case 99:\n-#line 943 \"./parse.y\"\n+#line 944 \"./parse.y\"\n {yyerror (\"Invalid declaration\"); DRECOVER(vdi);;\n     break;}\n case 100:\n-#line 945 \"./parse.y\"\n+#line 946 \"./parse.y\"\n {yyerror (\"']' expected\"); DRECOVER(vdi);;\n     break;}\n case 101:\n-#line 947 \"./parse.y\"\n+#line 948 \"./parse.y\"\n {yyerror (\"Unbalanced ']'\"); DRECOVER(vdi);;\n     break;}\n case 104:\n-#line 958 \"./parse.y\"\n+#line 959 \"./parse.y\"\n {\n \t\t  current_function_decl = yyvsp[0].node;\n \t\t  if (current_function_decl\n@@ -3284,68 +3285,68 @@ case 104:\n \t\t;\n     break;}\n case 105:\n-#line 967 \"./parse.y\"\n+#line 968 \"./parse.y\"\n { finish_method_declaration (yyvsp[0].node); ;\n     break;}\n case 106:\n-#line 969 \"./parse.y\"\n+#line 970 \"./parse.y\"\n {YYNOT_TWICE yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 107:\n-#line 974 \"./parse.y\"\n+#line 975 \"./parse.y\"\n { yyval.node = method_header (0, yyvsp[-2].node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 108:\n-#line 976 \"./parse.y\"\n+#line 977 \"./parse.y\"\n { yyval.node = method_header (0, void_type_node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 109:\n-#line 978 \"./parse.y\"\n+#line 979 \"./parse.y\"\n { yyval.node = method_header (yyvsp[-3].value, yyvsp[-2].node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 110:\n-#line 980 \"./parse.y\"\n+#line 981 \"./parse.y\"\n { yyval.node = method_header (yyvsp[-3].value, void_type_node, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 111:\n-#line 982 \"./parse.y\"\n+#line 983 \"./parse.y\"\n {\n \t\t  yyerror (\"Invalid method declaration, method name required\");\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 112:\n-#line 987 \"./parse.y\"\n+#line 988 \"./parse.y\"\n {RECOVER;;\n     break;}\n case 113:\n-#line 989 \"./parse.y\"\n+#line 990 \"./parse.y\"\n {yyerror (\"Identifier expected\"); RECOVER;;\n     break;}\n case 114:\n-#line 991 \"./parse.y\"\n+#line 992 \"./parse.y\"\n {yyerror (\"Identifier expected\"); RECOVER;;\n     break;}\n case 115:\n-#line 993 \"./parse.y\"\n+#line 994 \"./parse.y\"\n {\n \t\t  yyerror (\"Invalid method declaration, return type required\");\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 116:\n-#line 1001 \"./parse.y\"\n+#line 1002 \"./parse.y\"\n { \n \t\t  ctxp->formal_parameter_number = 0;\n \t\t  yyval.node = method_declarator (yyvsp[-2].node, NULL_TREE);\n \t\t;\n     break;}\n case 117:\n-#line 1006 \"./parse.y\"\n+#line 1007 \"./parse.y\"\n { yyval.node = method_declarator (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 118:\n-#line 1008 \"./parse.y\"\n+#line 1009 \"./parse.y\"\n {\n \t\t  EXPR_WFL_LINECOL (wfl_operator) = yyvsp[-1].operator.location;\n \t\t  TREE_PURPOSE (yyvsp[-2].node) = \n@@ -3356,59 +3357,59 @@ case 118:\n \t\t;\n     break;}\n case 119:\n-#line 1017 \"./parse.y\"\n+#line 1018 \"./parse.y\"\n {yyerror (\"')' expected\"); DRECOVER(method_declarator);;\n     break;}\n case 120:\n-#line 1019 \"./parse.y\"\n+#line 1020 \"./parse.y\"\n {yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 121:\n-#line 1024 \"./parse.y\"\n+#line 1025 \"./parse.y\"\n {\n \t\t  ctxp->formal_parameter_number = 1;\n \t\t;\n     break;}\n case 122:\n-#line 1028 \"./parse.y\"\n+#line 1029 \"./parse.y\"\n {\n \t\t  ctxp->formal_parameter_number += 1;\n \t\t  yyval.node = chainon (yyvsp[-2].node, yyvsp[0].node);\n \t\t;\n     break;}\n case 123:\n-#line 1033 \"./parse.y\"\n+#line 1034 \"./parse.y\"\n { yyerror (\"Missing formal parameter term\"); RECOVER; ;\n     break;}\n case 124:\n-#line 1038 \"./parse.y\"\n+#line 1039 \"./parse.y\"\n {\n \t\t  yyval.node = build_tree_list (yyvsp[0].node, yyvsp[-1].node);\n \t\t;\n     break;}\n case 125:\n-#line 1042 \"./parse.y\"\n+#line 1043 \"./parse.y\"\n { \n \t\t  yyval.node = build_tree_list (yyvsp[0].node, yyvsp[-1].node);\n \t\t  ARG_FINAL_P (yyval.node) = 1;\n \t\t;\n     break;}\n case 126:\n-#line 1047 \"./parse.y\"\n+#line 1048 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing identifier\"); RECOVER;\n \t\t  yyval.node = NULL_TREE;\n \t\t;\n     break;}\n case 127:\n-#line 1052 \"./parse.y\"\n+#line 1053 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing identifier\"); RECOVER;\n \t\t  yyval.node = NULL_TREE;\n \t\t;\n     break;}\n case 128:\n-#line 1060 \"./parse.y\"\n+#line 1061 \"./parse.y\"\n {\n \t\t  check_modifiers (\"Illegal modifier `%s'. Only `final' was expected here\",\n \t\t\t\t   yyvsp[0].value, ACC_FINAL);\n@@ -3417,49 +3418,49 @@ case 128:\n \t\t;\n     break;}\n case 129:\n-#line 1069 \"./parse.y\"\n+#line 1070 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 130:\n-#line 1071 \"./parse.y\"\n+#line 1072 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 131:\n-#line 1073 \"./parse.y\"\n+#line 1074 \"./parse.y\"\n {yyerror (\"Missing class type term\"); RECOVER;;\n     break;}\n case 132:\n-#line 1078 \"./parse.y\"\n+#line 1079 \"./parse.y\"\n { yyval.node = build_tree_list (yyvsp[0].node, yyvsp[0].node); ;\n     break;}\n case 133:\n-#line 1080 \"./parse.y\"\n+#line 1081 \"./parse.y\"\n { yyval.node = tree_cons (yyvsp[0].node, yyvsp[0].node, yyvsp[-2].node); ;\n     break;}\n case 134:\n-#line 1082 \"./parse.y\"\n+#line 1083 \"./parse.y\"\n {yyerror (\"Missing class type term\"); RECOVER;;\n     break;}\n case 137:\n-#line 1089 \"./parse.y\"\n+#line 1090 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 138:\n-#line 1095 \"./parse.y\"\n+#line 1096 \"./parse.y\"\n {\n \t\t  TREE_CHAIN (yyvsp[0].node) = CPC_STATIC_INITIALIZER_STMT (ctxp);\n \t\t  SET_CPC_STATIC_INITIALIZER_STMT (ctxp, yyvsp[0].node);\n \t\t;\n     break;}\n case 139:\n-#line 1100 \"./parse.y\"\n+#line 1101 \"./parse.y\"\n {\n \t\t  TREE_CHAIN (yyvsp[-1].node) = CPC_STATIC_INITIALIZER_STMT (ctxp);\n \t\t  SET_CPC_STATIC_INITIALIZER_STMT (ctxp, yyvsp[-1].node);\n \t\t;\n     break;}\n case 140:\n-#line 1108 \"./parse.y\"\n+#line 1109 \"./parse.y\"\n {\n \t\t  check_modifiers (\"Illegal modifier `%s' for static initializer\", yyvsp[0].value, ACC_STATIC);\n \t\t  /* Can't have a static initializer in an innerclass */\n@@ -3473,198 +3474,198 @@ case 140:\n \t\t;\n     break;}\n case 141:\n-#line 1124 \"./parse.y\"\n+#line 1125 \"./parse.y\"\n {\n \t\t  current_function_decl = yyvsp[0].node;\n \t\t  source_start_java_method (current_function_decl);\n \t\t;\n     break;}\n case 142:\n-#line 1129 \"./parse.y\"\n+#line 1130 \"./parse.y\"\n { finish_method_declaration (yyvsp[0].node); ;\n     break;}\n case 143:\n-#line 1134 \"./parse.y\"\n+#line 1135 \"./parse.y\"\n { yyval.node = method_header (0, NULL_TREE, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 144:\n-#line 1136 \"./parse.y\"\n+#line 1137 \"./parse.y\"\n { yyval.node = method_header (yyvsp[-2].value, NULL_TREE, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 145:\n-#line 1141 \"./parse.y\"\n+#line 1142 \"./parse.y\"\n { \n \t\t  ctxp->formal_parameter_number = 0;  \n \t\t  yyval.node = method_declarator (yyvsp[-2].node, NULL_TREE);\n \t\t;\n     break;}\n case 146:\n-#line 1146 \"./parse.y\"\n+#line 1147 \"./parse.y\"\n { yyval.node = method_declarator (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 147:\n-#line 1154 \"./parse.y\"\n+#line 1155 \"./parse.y\"\n { \n \t\t  BLOCK_EXPR_BODY (yyvsp[0].node) = empty_stmt_node;\n \t\t  yyval.node = yyvsp[0].node;\n \t\t;\n     break;}\n case 148:\n-#line 1159 \"./parse.y\"\n+#line 1160 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 149:\n-#line 1161 \"./parse.y\"\n+#line 1162 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 150:\n-#line 1163 \"./parse.y\"\n+#line 1164 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 153:\n-#line 1173 \"./parse.y\"\n+#line 1174 \"./parse.y\"\n { \n \t\t  yyval.node = build_method_invocation (yyvsp[-3].node, NULL_TREE); \n \t\t  yyval.node = build_debugable_stmt (EXPR_WFL_LINECOL (yyvsp[-3].node), yyval.node);\n \t\t  yyval.node = java_method_add_stmt (current_function_decl, yyval.node);\n \t\t;\n     break;}\n case 154:\n-#line 1179 \"./parse.y\"\n+#line 1180 \"./parse.y\"\n { \n \t\t  yyval.node = build_method_invocation (yyvsp[-4].node, yyvsp[-2].node); \n \t\t  yyval.node = build_debugable_stmt (EXPR_WFL_LINECOL (yyvsp[-4].node), yyval.node);\n \t\t  yyval.node = java_method_add_stmt (current_function_decl, yyval.node);\n \t\t;\n     break;}\n case 155:\n-#line 1187 \"./parse.y\"\n+#line 1188 \"./parse.y\"\n {yyval.node = parse_jdk1_1_error (\"explicit constructor invocation\"); ;\n     break;}\n case 156:\n-#line 1189 \"./parse.y\"\n+#line 1190 \"./parse.y\"\n {yyval.node = parse_jdk1_1_error (\"explicit constructor invocation\"); ;\n     break;}\n case 157:\n-#line 1194 \"./parse.y\"\n+#line 1195 \"./parse.y\"\n {\n \t\t  tree wfl = build_wfl_node (this_identifier_node);\n \t\t  EXPR_WFL_LINECOL (wfl) = yyvsp[0].operator.location;\n \t\t  yyval.node = wfl;\n \t\t;\n     break;}\n case 158:\n-#line 1200 \"./parse.y\"\n+#line 1201 \"./parse.y\"\n {\n \t\t  tree wfl = build_wfl_node (super_identifier_node);\n \t\t  EXPR_WFL_LINECOL (wfl) = yyvsp[0].operator.location;\n \t\t  yyval.node = wfl;\n \t\t;\n     break;}\n case 159:\n-#line 1211 \"./parse.y\"\n+#line 1212 \"./parse.y\"\n { create_interface (0, yyvsp[0].node, NULL_TREE); ;\n     break;}\n case 161:\n-#line 1214 \"./parse.y\"\n+#line 1215 \"./parse.y\"\n { create_interface (yyvsp[-2].value, yyvsp[0].node, NULL_TREE); ;\n     break;}\n case 163:\n-#line 1217 \"./parse.y\"\n+#line 1218 \"./parse.y\"\n { create_interface (0, yyvsp[-1].node, yyvsp[0].node);\t;\n     break;}\n case 165:\n-#line 1220 \"./parse.y\"\n+#line 1221 \"./parse.y\"\n { create_interface (yyvsp[-3].value, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 167:\n-#line 1223 \"./parse.y\"\n+#line 1224 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 168:\n-#line 1225 \"./parse.y\"\n+#line 1226 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 169:\n-#line 1230 \"./parse.y\"\n+#line 1231 \"./parse.y\"\n { \n \t\t  ctxp->interface_number = 1;\n \t\t  yyval.node = build_tree_list (yyvsp[0].node, NULL_TREE);\n \t\t;\n     break;}\n case 170:\n-#line 1235 \"./parse.y\"\n+#line 1236 \"./parse.y\"\n { \n \t\t  ctxp->interface_number++;\n \t\t  yyval.node = chainon (yyvsp[-2].node, build_tree_list (yyvsp[0].node, NULL_TREE));\n \t\t;\n     break;}\n case 171:\n-#line 1240 \"./parse.y\"\n+#line 1241 \"./parse.y\"\n {yyerror (\"Invalid interface type\"); RECOVER;;\n     break;}\n case 172:\n-#line 1242 \"./parse.y\"\n+#line 1243 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 173:\n-#line 1247 \"./parse.y\"\n+#line 1248 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 174:\n-#line 1249 \"./parse.y\"\n+#line 1250 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 179:\n-#line 1261 \"./parse.y\"\n+#line 1262 \"./parse.y\"\n { end_class_declaration (1); ;\n     break;}\n case 180:\n-#line 1263 \"./parse.y\"\n+#line 1264 \"./parse.y\"\n { end_class_declaration (1); ;\n     break;}\n case 182:\n-#line 1272 \"./parse.y\"\n+#line 1273 \"./parse.y\"\n { \n \t\t  check_abstract_method_header (yyvsp[-1].node);\n \t\t  current_function_decl = NULL_TREE; /* FIXME ? */\n \t\t;\n     break;}\n case 183:\n-#line 1277 \"./parse.y\"\n+#line 1278 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 184:\n-#line 1283 \"./parse.y\"\n+#line 1284 \"./parse.y\"\n { yyval.node = build_new_array_init (yyvsp[-1].operator.location, NULL_TREE); ;\n     break;}\n case 185:\n-#line 1285 \"./parse.y\"\n+#line 1286 \"./parse.y\"\n { yyval.node = build_new_array_init (yyvsp[-2].operator.location, yyvsp[-1].node); ;\n     break;}\n case 186:\n-#line 1287 \"./parse.y\"\n+#line 1288 \"./parse.y\"\n { yyval.node = build_new_array_init (yyvsp[-3].operator.location, yyvsp[-2].node); ;\n     break;}\n case 187:\n-#line 1292 \"./parse.y\"\n+#line 1293 \"./parse.y\"\n { \n \t\t  yyval.node = tree_cons (maybe_build_array_element_wfl (yyvsp[0].node), \n \t\t\t\t  yyvsp[0].node, NULL_TREE);\n \t\t;\n     break;}\n case 188:\n-#line 1297 \"./parse.y\"\n+#line 1298 \"./parse.y\"\n {\n \t\t  yyval.node = tree_cons (maybe_build_array_element_wfl (yyvsp[0].node), yyvsp[0].node, yyvsp[-2].node);\n \t\t;\n     break;}\n case 189:\n-#line 1301 \"./parse.y\"\n+#line 1302 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 190:\n-#line 1307 \"./parse.y\"\n+#line 1308 \"./parse.y\"\n { \n \t\t  /* Store the location of the `}' when doing xrefs */\n \t\t  if (current_function_decl && flag_emit_xref)\n@@ -3674,15 +3675,15 @@ case 190:\n \t\t;\n     break;}\n case 191:\n-#line 1315 \"./parse.y\"\n+#line 1316 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 192:\n-#line 1320 \"./parse.y\"\n+#line 1321 \"./parse.y\"\n { enter_block (); ;\n     break;}\n case 193:\n-#line 1325 \"./parse.y\"\n+#line 1326 \"./parse.y\"\n { \n \t\t  maybe_absorb_scoping_blocks ();\n \t\t  /* Store the location of the `}' when doing xrefs */\n@@ -3695,38 +3696,38 @@ case 193:\n \t\t;\n     break;}\n case 197:\n-#line 1345 \"./parse.y\"\n+#line 1346 \"./parse.y\"\n { java_method_add_stmt (current_function_decl, yyvsp[0].node); ;\n     break;}\n case 198:\n-#line 1347 \"./parse.y\"\n+#line 1348 \"./parse.y\"\n { \n \t\t  LOCAL_CLASS_P (TREE_TYPE (GET_CPC ())) = 1;\n \t\t  end_class_declaration (1);\n \t\t;\n     break;}\n case 200:\n-#line 1359 \"./parse.y\"\n+#line 1360 \"./parse.y\"\n { declare_local_variables (0, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 201:\n-#line 1361 \"./parse.y\"\n+#line 1362 \"./parse.y\"\n { declare_local_variables (yyvsp[-2].value, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 207:\n-#line 1371 \"./parse.y\"\n+#line 1372 \"./parse.y\"\n { yyval.node = exit_block (); ;\n     break;}\n case 212:\n-#line 1380 \"./parse.y\"\n+#line 1381 \"./parse.y\"\n { yyval.node = exit_block (); ;\n     break;}\n case 224:\n-#line 1399 \"./parse.y\"\n+#line 1400 \"./parse.y\"\n { yyval.node = empty_stmt_node; ;\n     break;}\n case 225:\n-#line 1404 \"./parse.y\"\n+#line 1405 \"./parse.y\"\n {\n \t\t  yyval.node = build_labeled_block (EXPR_WFL_LINECOL (yyvsp[-1].node), \n \t\t\t\t\t    EXPR_WFL_NODE (yyvsp[-1].node));\n@@ -3736,19 +3737,19 @@ case 225:\n \t\t;\n     break;}\n case 226:\n-#line 1415 \"./parse.y\"\n+#line 1416 \"./parse.y\"\n { yyval.node = finish_labeled_statement (yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 227:\n-#line 1417 \"./parse.y\"\n+#line 1418 \"./parse.y\"\n {yyerror (\"':' expected\"); RECOVER;;\n     break;}\n case 228:\n-#line 1422 \"./parse.y\"\n+#line 1423 \"./parse.y\"\n { yyval.node = finish_labeled_statement (yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 229:\n-#line 1429 \"./parse.y\"\n+#line 1430 \"./parse.y\"\n {\n \t\t  /* We have a statement. Generate a WFL around it so\n \t\t     we can debug it */\n@@ -3759,106 +3760,106 @@ case 229:\n \t\t;\n     break;}\n case 230:\n-#line 1438 \"./parse.y\"\n+#line 1439 \"./parse.y\"\n {\n \t\t  if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Invalid expression statement\");\n \t\t  DRECOVER (expr_stmt);\n \t\t;\n     break;}\n case 231:\n-#line 1444 \"./parse.y\"\n+#line 1445 \"./parse.y\"\n {\n \t\t  if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Invalid expression statement\");\n \t\t  DRECOVER (expr_stmt);\n \t\t;\n     break;}\n case 232:\n-#line 1450 \"./parse.y\"\n+#line 1451 \"./parse.y\"\n {\n \t\t  if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Invalid expression statement\");\n \t\t  DRECOVER (expr_stmt);\n \t\t;\n     break;}\n case 233:\n-#line 1456 \"./parse.y\"\n+#line 1457 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 234:\n-#line 1458 \"./parse.y\"\n+#line 1459 \"./parse.y\"\n {\n \t\t  parse_ctor_invocation_error ();\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 235:\n-#line 1463 \"./parse.y\"\n+#line 1464 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 236:\n-#line 1465 \"./parse.y\"\n+#line 1466 \"./parse.y\"\n {\n \t\t  parse_ctor_invocation_error ();\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 237:\n-#line 1470 \"./parse.y\"\n+#line 1471 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 238:\n-#line 1472 \"./parse.y\"\n+#line 1473 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 239:\n-#line 1474 \"./parse.y\"\n+#line 1475 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 240:\n-#line 1476 \"./parse.y\"\n+#line 1477 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 241:\n-#line 1478 \"./parse.y\"\n+#line 1479 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 249:\n-#line 1493 \"./parse.y\"\n+#line 1494 \"./parse.y\"\n { \n \t\t  yyval.node = build_if_else_statement (yyvsp[-3].operator.location, yyvsp[-2].node, \n \t\t\t\t\t\tyyvsp[0].node, NULL_TREE);\n \t\t;\n     break;}\n case 250:\n-#line 1498 \"./parse.y\"\n+#line 1499 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 251:\n-#line 1500 \"./parse.y\"\n+#line 1501 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 252:\n-#line 1502 \"./parse.y\"\n+#line 1503 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 253:\n-#line 1507 \"./parse.y\"\n+#line 1508 \"./parse.y\"\n { yyval.node = build_if_else_statement (yyvsp[-5].operator.location, yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 254:\n-#line 1512 \"./parse.y\"\n+#line 1513 \"./parse.y\"\n { yyval.node = build_if_else_statement (yyvsp[-5].operator.location, yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 255:\n-#line 1517 \"./parse.y\"\n+#line 1518 \"./parse.y\"\n {\n \t\t  enter_block ();\n \t\t;\n     break;}\n case 256:\n-#line 1521 \"./parse.y\"\n+#line 1522 \"./parse.y\"\n { \n \t\t  /* Make into \"proper list\" of COMPOUND_EXPRs.\n \t\t     I.e. make the last statment also have its own\n@@ -3869,116 +3870,116 @@ case 256:\n \t\t;\n     break;}\n case 257:\n-#line 1533 \"./parse.y\"\n+#line 1534 \"./parse.y\"\n { \n \t\t  yyval.node = build (SWITCH_EXPR, NULL_TREE, yyvsp[-1].node, NULL_TREE);\n \t\t  EXPR_WFL_LINECOL (yyval.node) = yyvsp[-2].operator.location;\n \t\t;\n     break;}\n case 258:\n-#line 1538 \"./parse.y\"\n+#line 1539 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 259:\n-#line 1540 \"./parse.y\"\n+#line 1541 \"./parse.y\"\n {yyerror (\"Missing term or ')'\"); DRECOVER(switch_statement);;\n     break;}\n case 260:\n-#line 1542 \"./parse.y\"\n+#line 1543 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 261:\n-#line 1550 \"./parse.y\"\n+#line 1551 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 262:\n-#line 1552 \"./parse.y\"\n+#line 1553 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 263:\n-#line 1554 \"./parse.y\"\n+#line 1555 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 264:\n-#line 1556 \"./parse.y\"\n+#line 1557 \"./parse.y\"\n { yyval.node = NULL_TREE; ;\n     break;}\n case 270:\n-#line 1575 \"./parse.y\"\n+#line 1576 \"./parse.y\"\n { \n \t\t  tree lab = build1 (CASE_EXPR, NULL_TREE, yyvsp[-1].node);\n \t\t  EXPR_WFL_LINECOL (lab) = yyvsp[-2].operator.location;\n \t\t  java_method_add_stmt (current_function_decl, lab);\n \t\t;\n     break;}\n case 271:\n-#line 1581 \"./parse.y\"\n+#line 1582 \"./parse.y\"\n { \n \t\t  tree lab = build1 (DEFAULT_EXPR, NULL_TREE, NULL_TREE);\n \t\t  EXPR_WFL_LINECOL (lab) = yyvsp[-1].operator.location;\n \t\t  java_method_add_stmt (current_function_decl, lab);\n \t\t;\n     break;}\n case 272:\n-#line 1587 \"./parse.y\"\n+#line 1588 \"./parse.y\"\n {yyerror (\"Missing or invalid constant expression\"); RECOVER;;\n     break;}\n case 273:\n-#line 1589 \"./parse.y\"\n+#line 1590 \"./parse.y\"\n {yyerror (\"':' expected\"); RECOVER;;\n     break;}\n case 274:\n-#line 1591 \"./parse.y\"\n+#line 1592 \"./parse.y\"\n {yyerror (\"':' expected\"); RECOVER;;\n     break;}\n case 275:\n-#line 1596 \"./parse.y\"\n+#line 1597 \"./parse.y\"\n { \n \t\t  tree body = build_loop_body (yyvsp[-2].operator.location, yyvsp[-1].node, 0);\n \t\t  yyval.node = build_new_loop (body);\n \t\t;\n     break;}\n case 276:\n-#line 1604 \"./parse.y\"\n+#line 1605 \"./parse.y\"\n { yyval.node = finish_loop_body (0, NULL_TREE, yyvsp[0].node, 0); ;\n     break;}\n case 277:\n-#line 1606 \"./parse.y\"\n+#line 1607 \"./parse.y\"\n {YYERROR_NOW; yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 278:\n-#line 1608 \"./parse.y\"\n+#line 1609 \"./parse.y\"\n {yyerror (\"Missing term and ')' expected\"); RECOVER;;\n     break;}\n case 279:\n-#line 1610 \"./parse.y\"\n+#line 1611 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 280:\n-#line 1615 \"./parse.y\"\n+#line 1616 \"./parse.y\"\n { yyval.node = finish_loop_body (0, NULL_TREE, yyvsp[0].node, 0); ;\n     break;}\n case 281:\n-#line 1620 \"./parse.y\"\n+#line 1621 \"./parse.y\"\n { \n \t\t  tree body = build_loop_body (0, NULL_TREE, 1);\n \t\t  yyval.node = build_new_loop (body);\n \t\t;\n     break;}\n case 282:\n-#line 1629 \"./parse.y\"\n+#line 1630 \"./parse.y\"\n { yyval.node = finish_loop_body (yyvsp[-3].operator.location, yyvsp[-2].node, yyvsp[-5].node, 1); ;\n     break;}\n case 283:\n-#line 1634 \"./parse.y\"\n+#line 1635 \"./parse.y\"\n {\n \t\t  if (TREE_CODE_CLASS (TREE_CODE (yyvsp[-4].node)) == 'c')\n \t\t    yyvsp[-4].node = build_wfl_node (yyvsp[-4].node);\n \t\t  yyval.node = finish_for_loop (EXPR_WFL_LINECOL (yyvsp[-4].node), yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node);\n \t\t;\n     break;}\n case 284:\n-#line 1640 \"./parse.y\"\n+#line 1641 \"./parse.y\"\n { \n \t\t  yyval.node = finish_for_loop (0, NULL_TREE, yyvsp[-2].node, yyvsp[0].node);\n \t\t  /* We have not condition, so we get rid of the EXIT_EXPR */\n@@ -3987,23 +3988,23 @@ case 284:\n \t\t;\n     break;}\n case 285:\n-#line 1647 \"./parse.y\"\n+#line 1648 \"./parse.y\"\n {yyerror (\"Invalid control expression\"); RECOVER;;\n     break;}\n case 286:\n-#line 1649 \"./parse.y\"\n+#line 1650 \"./parse.y\"\n {yyerror (\"Invalid update expression\"); RECOVER;;\n     break;}\n case 287:\n-#line 1651 \"./parse.y\"\n+#line 1652 \"./parse.y\"\n {yyerror (\"Invalid update expression\"); RECOVER;;\n     break;}\n case 288:\n-#line 1656 \"./parse.y\"\n+#line 1657 \"./parse.y\"\n { yyval.node = finish_for_loop (EXPR_WFL_LINECOL (yyvsp[-4].node), yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node);;\n     break;}\n case 289:\n-#line 1658 \"./parse.y\"\n+#line 1659 \"./parse.y\"\n { \n \t\t  yyval.node = finish_for_loop (0, NULL_TREE, yyvsp[-2].node, yyvsp[0].node);\n \t\t  /* We have not condition, so we get rid of the EXIT_EXPR */\n@@ -4012,23 +4013,23 @@ case 289:\n \t\t;\n     break;}\n case 290:\n-#line 1668 \"./parse.y\"\n+#line 1669 \"./parse.y\"\n { \n \t\t  /* This scope defined for local variable that may be\n                      defined within the scope of the for loop */\n \t\t  enter_block (); \n \t\t;\n     break;}\n case 291:\n-#line 1674 \"./parse.y\"\n+#line 1675 \"./parse.y\"\n {yyerror (\"'(' expected\"); DRECOVER(for_1);;\n     break;}\n case 292:\n-#line 1676 \"./parse.y\"\n+#line 1677 \"./parse.y\"\n {yyerror (\"Invalid init statement\"); RECOVER;;\n     break;}\n case 293:\n-#line 1681 \"./parse.y\"\n+#line 1682 \"./parse.y\"\n { \n \t\t  /* We now declare the loop body. The loop is\n                      declared as a for loop. */\n@@ -4041,138 +4042,138 @@ case 293:\n \t\t;\n     break;}\n case 294:\n-#line 1693 \"./parse.y\"\n+#line 1694 \"./parse.y\"\n { yyval.node = empty_stmt_node; ;\n     break;}\n case 295:\n-#line 1695 \"./parse.y\"\n+#line 1696 \"./parse.y\"\n { \n \t\t  /* Init statement recorded within the previously\n                      defined block scope */\n \t\t  yyval.node = java_method_add_stmt (current_function_decl, yyvsp[0].node);\n \t\t;\n     break;}\n case 296:\n-#line 1701 \"./parse.y\"\n+#line 1702 \"./parse.y\"\n { \n \t\t  /* Local variable are recorded within the previously\n \t\t     defined block scope */\n \t\t  yyval.node = NULL_TREE;\n \t\t;\n     break;}\n case 297:\n-#line 1707 \"./parse.y\"\n+#line 1708 \"./parse.y\"\n {yyerror (\"';' expected\"); DRECOVER(for_init_1);;\n     break;}\n case 298:\n-#line 1711 \"./parse.y\"\n+#line 1712 \"./parse.y\"\n {yyval.node = empty_stmt_node;;\n     break;}\n case 299:\n-#line 1713 \"./parse.y\"\n+#line 1714 \"./parse.y\"\n { yyval.node = build_debugable_stmt (BUILD_LOCATION (), yyvsp[0].node); ;\n     break;}\n case 300:\n-#line 1718 \"./parse.y\"\n+#line 1719 \"./parse.y\"\n { yyval.node = add_stmt_to_compound (NULL_TREE, NULL_TREE, yyvsp[0].node); ;\n     break;}\n case 301:\n-#line 1720 \"./parse.y\"\n+#line 1721 \"./parse.y\"\n { yyval.node = add_stmt_to_compound (yyvsp[-2].node, NULL_TREE, yyvsp[0].node); ;\n     break;}\n case 302:\n-#line 1722 \"./parse.y\"\n+#line 1723 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 303:\n-#line 1727 \"./parse.y\"\n+#line 1728 \"./parse.y\"\n { yyval.node = build_bc_statement (yyvsp[-1].operator.location, 1, NULL_TREE); ;\n     break;}\n case 304:\n-#line 1729 \"./parse.y\"\n+#line 1730 \"./parse.y\"\n { yyval.node = build_bc_statement (yyvsp[-2].operator.location, 1, yyvsp[-1].node); ;\n     break;}\n case 305:\n-#line 1731 \"./parse.y\"\n+#line 1732 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 306:\n-#line 1733 \"./parse.y\"\n+#line 1734 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 307:\n-#line 1738 \"./parse.y\"\n+#line 1739 \"./parse.y\"\n { yyval.node = build_bc_statement (yyvsp[-1].operator.location, 0, NULL_TREE); ;\n     break;}\n case 308:\n-#line 1740 \"./parse.y\"\n+#line 1741 \"./parse.y\"\n { yyval.node = build_bc_statement (yyvsp[-2].operator.location, 0, yyvsp[-1].node); ;\n     break;}\n case 309:\n-#line 1742 \"./parse.y\"\n+#line 1743 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 310:\n-#line 1744 \"./parse.y\"\n+#line 1745 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 311:\n-#line 1749 \"./parse.y\"\n+#line 1750 \"./parse.y\"\n { yyval.node = build_return (yyvsp[-1].operator.location, NULL_TREE); ;\n     break;}\n case 312:\n-#line 1751 \"./parse.y\"\n+#line 1752 \"./parse.y\"\n { yyval.node = build_return (yyvsp[-2].operator.location, yyvsp[-1].node); ;\n     break;}\n case 313:\n-#line 1753 \"./parse.y\"\n+#line 1754 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 314:\n-#line 1755 \"./parse.y\"\n+#line 1756 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 315:\n-#line 1760 \"./parse.y\"\n+#line 1761 \"./parse.y\"\n { \n \t\t  yyval.node = build1 (THROW_EXPR, NULL_TREE, yyvsp[-1].node);\n \t\t  EXPR_WFL_LINECOL (yyval.node) = yyvsp[-2].operator.location;\n \t\t;\n     break;}\n case 316:\n-#line 1765 \"./parse.y\"\n+#line 1766 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 317:\n-#line 1767 \"./parse.y\"\n+#line 1768 \"./parse.y\"\n {yyerror (\"';' expected\"); RECOVER;;\n     break;}\n case 318:\n-#line 1772 \"./parse.y\"\n+#line 1773 \"./parse.y\"\n { \n \t\t  yyval.node = build (SYNCHRONIZED_EXPR, NULL_TREE, yyvsp[-2].node, yyvsp[0].node);\n \t\t  EXPR_WFL_LINECOL (yyval.node) = \n \t\t    EXPR_WFL_LINECOL (MODIFIER_WFL (SYNCHRONIZED_TK));\n \t\t;\n     break;}\n case 319:\n-#line 1778 \"./parse.y\"\n+#line 1779 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER;;\n     break;}\n case 320:\n-#line 1780 \"./parse.y\"\n+#line 1781 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 321:\n-#line 1782 \"./parse.y\"\n+#line 1783 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 322:\n-#line 1784 \"./parse.y\"\n+#line 1785 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 323:\n-#line 1789 \"./parse.y\"\n+#line 1790 \"./parse.y\"\n {\n \t\t  check_modifiers (\n              \"Illegal modifier `%s'. Only `synchronized' was expected here\",\n@@ -4183,41 +4184,41 @@ case 323:\n \t\t;\n     break;}\n case 324:\n-#line 1801 \"./parse.y\"\n+#line 1802 \"./parse.y\"\n { yyval.node = build_try_statement (yyvsp[-2].operator.location, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 325:\n-#line 1803 \"./parse.y\"\n+#line 1804 \"./parse.y\"\n { yyval.node = build_try_finally_statement (yyvsp[-2].operator.location, yyvsp[-1].node, yyvsp[0].node); ;\n     break;}\n case 326:\n-#line 1805 \"./parse.y\"\n+#line 1806 \"./parse.y\"\n { yyval.node = build_try_finally_statement \n \t\t    (yyvsp[-3].operator.location, build_try_statement (yyvsp[-3].operator.location,\n \t\t\t\t\t\t       yyvsp[-2].node, yyvsp[-1].node), yyvsp[0].node);\n \t\t;\n     break;}\n case 327:\n-#line 1810 \"./parse.y\"\n+#line 1811 \"./parse.y\"\n {yyerror (\"'{' expected\"); DRECOVER (try_statement);;\n     break;}\n case 329:\n-#line 1816 \"./parse.y\"\n+#line 1817 \"./parse.y\"\n { \n \t\t  TREE_CHAIN (yyvsp[0].node) = yyvsp[-1].node;\n \t\t  yyval.node = yyvsp[0].node;\n \t\t;\n     break;}\n case 330:\n-#line 1824 \"./parse.y\"\n+#line 1825 \"./parse.y\"\n { \n \t\t  java_method_add_stmt (current_function_decl, yyvsp[0].node);\n \t\t  exit_block ();\n \t\t  yyval.node = yyvsp[-1].node;\n \t\t;\n     break;}\n case 331:\n-#line 1832 \"./parse.y\"\n+#line 1833 \"./parse.y\"\n { \n \t\t  /* We add a block to define a scope for\n \t\t     formal_parameter (CCBP). The formal parameter is\n@@ -4235,140 +4236,140 @@ case 331:\n \t\t;\n     break;}\n case 332:\n-#line 1848 \"./parse.y\"\n+#line 1849 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER; yyval.node = NULL_TREE;;\n     break;}\n case 333:\n-#line 1850 \"./parse.y\"\n+#line 1851 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term or ')' expected\"); \n \t\t  RECOVER; yyval.node = NULL_TREE;\n \t\t;\n     break;}\n case 334:\n-#line 1855 \"./parse.y\"\n+#line 1856 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER; yyval.node = NULL_TREE;;\n     break;}\n case 335:\n-#line 1860 \"./parse.y\"\n+#line 1861 \"./parse.y\"\n { yyval.node = yyvsp[0].node; ;\n     break;}\n case 336:\n-#line 1862 \"./parse.y\"\n+#line 1863 \"./parse.y\"\n {yyerror (\"'{' expected\"); RECOVER; ;\n     break;}\n case 340:\n-#line 1874 \"./parse.y\"\n+#line 1875 \"./parse.y\"\n { yyval.node = build_this (yyvsp[0].operator.location); ;\n     break;}\n case 341:\n-#line 1876 \"./parse.y\"\n+#line 1877 \"./parse.y\"\n {yyval.node = yyvsp[-1].node;;\n     break;}\n case 347:\n-#line 1886 \"./parse.y\"\n+#line 1887 \"./parse.y\"\n { \n \t\t  tree wfl = build_wfl_node (this_identifier_node);\n \t\t  yyval.node = make_qualified_primary (yyvsp[-2].node, wfl, EXPR_WFL_LINECOL (yyvsp[-2].node));\n \t\t;\n     break;}\n case 348:\n-#line 1891 \"./parse.y\"\n+#line 1892 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 349:\n-#line 1893 \"./parse.y\"\n+#line 1894 \"./parse.y\"\n {yyerror (\"'class' or 'this' expected\" ); RECOVER;;\n     break;}\n case 350:\n-#line 1895 \"./parse.y\"\n+#line 1896 \"./parse.y\"\n {yyerror (\"'class' expected\" ); RECOVER;;\n     break;}\n case 351:\n-#line 1897 \"./parse.y\"\n+#line 1898 \"./parse.y\"\n {yyerror (\"'class' expected\" ); RECOVER;;\n     break;}\n case 352:\n-#line 1905 \"./parse.y\"\n+#line 1906 \"./parse.y\"\n { \n \t\t  yyval.node = build_java_array_type (yyvsp[-2].node, -1);\n \t\t  CLASS_LOADED_P (yyval.node) = 1;\n \t\t;\n     break;}\n case 353:\n-#line 1910 \"./parse.y\"\n+#line 1911 \"./parse.y\"\n { yyval.node = build_unresolved_array_type (yyvsp[-2].node); ;\n     break;}\n case 354:\n-#line 1920 \"./parse.y\"\n+#line 1921 \"./parse.y\"\n { yyval.node = build_incomplete_class_ref (yyvsp[-1].operator.location, yyvsp[-2].node); ;\n     break;}\n case 355:\n-#line 1922 \"./parse.y\"\n+#line 1923 \"./parse.y\"\n { yyval.node = build_incomplete_class_ref (yyvsp[-1].operator.location, yyvsp[-2].node); ;\n     break;}\n case 356:\n-#line 1924 \"./parse.y\"\n+#line 1925 \"./parse.y\"\n { yyval.node = build_class_ref (yyvsp[-2].node); ;\n     break;}\n case 357:\n-#line 1926 \"./parse.y\"\n+#line 1927 \"./parse.y\"\n { yyval.node = build_class_ref (void_type_node); ;\n     break;}\n case 358:\n-#line 1931 \"./parse.y\"\n+#line 1932 \"./parse.y\"\n { yyval.node = build_new_invocation (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 359:\n-#line 1933 \"./parse.y\"\n+#line 1934 \"./parse.y\"\n { yyval.node = build_new_invocation (yyvsp[-2].node, NULL_TREE); ;\n     break;}\n case 361:\n-#line 1939 \"./parse.y\"\n+#line 1940 \"./parse.y\"\n { \n \t\t  tree ctor = build_new_invocation (yyvsp[-2].node, NULL_TREE);\n \t\t  yyval.node = make_qualified_primary (yyvsp[-3].node, ctor, \n \t\t\t\t\t       EXPR_WFL_LINECOL (yyvsp[-3].node));\n \t\t;\n     break;}\n case 363:\n-#line 1946 \"./parse.y\"\n+#line 1947 \"./parse.y\"\n { \n \t\t  tree ctor = build_new_invocation (yyvsp[-3].node, yyvsp[-1].node);\n \t\t  yyval.node = make_qualified_primary (yyvsp[-4].node, ctor, \n \t\t\t\t\t       EXPR_WFL_LINECOL (yyvsp[-4].node));\n \t\t;\n     break;}\n case 365:\n-#line 1953 \"./parse.y\"\n+#line 1954 \"./parse.y\"\n {yyerror (\"'(' expected\"); DRECOVER(new_1);;\n     break;}\n case 366:\n-#line 1955 \"./parse.y\"\n+#line 1956 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 367:\n-#line 1957 \"./parse.y\"\n+#line 1958 \"./parse.y\"\n {yyerror (\"')' or term expected\"); RECOVER;;\n     break;}\n case 368:\n-#line 1959 \"./parse.y\"\n+#line 1960 \"./parse.y\"\n {yyerror (\"')' expected\"); RECOVER;;\n     break;}\n case 369:\n-#line 1961 \"./parse.y\"\n+#line 1962 \"./parse.y\"\n {YYERROR_NOW; yyerror (\"Identifier expected\"); RECOVER;;\n     break;}\n case 370:\n-#line 1963 \"./parse.y\"\n+#line 1964 \"./parse.y\"\n {yyerror (\"'(' expected\"); RECOVER;;\n     break;}\n case 371:\n-#line 1973 \"./parse.y\"\n+#line 1974 \"./parse.y\"\n { create_anonymous_class (yyvsp[-4].operator.location, yyvsp[-3].node); ;\n     break;}\n case 372:\n-#line 1975 \"./parse.y\"\n+#line 1976 \"./parse.y\"\n { \n \t\t  tree id = build_wfl_node (DECL_NAME (GET_CPC ()));\n \t\t  EXPR_WFL_LINECOL (id) = EXPR_WFL_LINECOL (yyvsp[-5].node);\n@@ -4401,11 +4402,11 @@ case 372:\n \t\t;\n     break;}\n case 373:\n-#line 2006 \"./parse.y\"\n+#line 2007 \"./parse.y\"\n { create_anonymous_class (yyvsp[-3].operator.location, yyvsp[-2].node); ;\n     break;}\n case 374:\n-#line 2008 \"./parse.y\"\n+#line 2009 \"./parse.y\"\n { \n \t\t  tree id = build_wfl_node (DECL_NAME (GET_CPC ()));\n \t\t  EXPR_WFL_LINECOL (id) = EXPR_WFL_LINECOL (yyvsp[-4].node);\n@@ -4420,49 +4421,49 @@ case 374:\n \t\t;\n     break;}\n case 375:\n-#line 2024 \"./parse.y\"\n+#line 2025 \"./parse.y\"\n { yyval.node = yyvsp[-2].node; ;\n     break;}\n case 376:\n-#line 2026 \"./parse.y\"\n+#line 2027 \"./parse.y\"\n { yyval.node = yyvsp[-2].node; ;\n     break;}\n case 377:\n-#line 2031 \"./parse.y\"\n+#line 2032 \"./parse.y\"\n { \n \t\t  yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, NULL_TREE);\n \t\t  ctxp->formal_parameter_number = 1; \n \t\t;\n     break;}\n case 378:\n-#line 2036 \"./parse.y\"\n+#line 2037 \"./parse.y\"\n {\n \t\t  ctxp->formal_parameter_number += 1;\n \t\t  yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, yyvsp[-2].node);\n \t\t;\n     break;}\n case 379:\n-#line 2041 \"./parse.y\"\n+#line 2042 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 380:\n-#line 2046 \"./parse.y\"\n+#line 2047 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-1].node, yyvsp[0].node, 0); ;\n     break;}\n case 381:\n-#line 2048 \"./parse.y\"\n+#line 2049 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-1].node, yyvsp[0].node, 0); ;\n     break;}\n case 382:\n-#line 2050 \"./parse.y\"\n+#line 2051 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-2].node, yyvsp[-1].node, CURRENT_OSB (ctxp));;\n     break;}\n case 383:\n-#line 2052 \"./parse.y\"\n+#line 2053 \"./parse.y\"\n { yyval.node = build_newarray_node (yyvsp[-2].node, yyvsp[-1].node, CURRENT_OSB (ctxp));;\n     break;}\n case 384:\n-#line 2056 \"./parse.y\"\n+#line 2057 \"./parse.y\"\n {\n \t\t  char *sig;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4473,7 +4474,7 @@ case 384:\n \t\t;\n     break;}\n case 385:\n-#line 2065 \"./parse.y\"\n+#line 2066 \"./parse.y\"\n { \n \t\t  tree type = yyvsp[-2].node;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4483,23 +4484,23 @@ case 385:\n \t\t;\n     break;}\n case 386:\n-#line 2073 \"./parse.y\"\n+#line 2074 \"./parse.y\"\n {yyerror (\"'[' expected\"); DRECOVER (\"]\");;\n     break;}\n case 387:\n-#line 2075 \"./parse.y\"\n+#line 2076 \"./parse.y\"\n {yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 388:\n-#line 2080 \"./parse.y\"\n+#line 2081 \"./parse.y\"\n { yyval.node = build_tree_list (NULL_TREE, yyvsp[0].node); ;\n     break;}\n case 389:\n-#line 2082 \"./parse.y\"\n+#line 2083 \"./parse.y\"\n { yyval.node = tree_cons (NULL_TREE, yyvsp[0].node, yyval.node); ;\n     break;}\n case 390:\n-#line 2087 \"./parse.y\"\n+#line 2088 \"./parse.y\"\n { \n \t\t  if (JNUMERIC_TYPE_P (TREE_TYPE (yyvsp[-1].node)))\n \t\t    {\n@@ -4511,19 +4512,19 @@ case 390:\n \t\t;\n     break;}\n case 391:\n-#line 2097 \"./parse.y\"\n+#line 2098 \"./parse.y\"\n {yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 392:\n-#line 2099 \"./parse.y\"\n+#line 2100 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term\");\n \t\t  yyerror (\"']' expected\");\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 393:\n-#line 2108 \"./parse.y\"\n+#line 2109 \"./parse.y\"\n { \n \t\t  int allocate = 0;\n \t\t  /* If not initialized, allocate memory for the osb\n@@ -4551,19 +4552,19 @@ case 393:\n \t\t;\n     break;}\n case 394:\n-#line 2134 \"./parse.y\"\n+#line 2135 \"./parse.y\"\n { CURRENT_OSB (ctxp)++; ;\n     break;}\n case 395:\n-#line 2136 \"./parse.y\"\n+#line 2137 \"./parse.y\"\n { yyerror (\"']' expected\"); RECOVER;;\n     break;}\n case 396:\n-#line 2141 \"./parse.y\"\n+#line 2142 \"./parse.y\"\n { yyval.node = make_qualified_primary (yyvsp[-2].node, yyvsp[0].node, yyvsp[-1].operator.location); ;\n     break;}\n case 397:\n-#line 2145 \"./parse.y\"\n+#line 2146 \"./parse.y\"\n {\n \t\t  tree super_wfl = \n \t\t    build_wfl_node (super_identifier_node);\n@@ -4572,19 +4573,19 @@ case 397:\n \t\t;\n     break;}\n case 398:\n-#line 2152 \"./parse.y\"\n+#line 2153 \"./parse.y\"\n {yyerror (\"Field expected\"); DRECOVER (super_field_acces);;\n     break;}\n case 399:\n-#line 2157 \"./parse.y\"\n+#line 2158 \"./parse.y\"\n { yyval.node = build_method_invocation (yyvsp[-2].node, NULL_TREE); ;\n     break;}\n case 400:\n-#line 2159 \"./parse.y\"\n+#line 2160 \"./parse.y\"\n { yyval.node = build_method_invocation (yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 401:\n-#line 2161 \"./parse.y\"\n+#line 2162 \"./parse.y\"\n { \n \t\t  if (TREE_CODE (yyvsp[-4].node) == THIS_EXPR)\n \t\t    yyval.node = build_this_super_qualified_invocation \n@@ -4597,7 +4598,7 @@ case 401:\n \t\t;\n     break;}\n case 402:\n-#line 2172 \"./parse.y\"\n+#line 2173 \"./parse.y\"\n { \n \t\t  if (TREE_CODE (yyvsp[-5].node) == THIS_EXPR)\n \t\t    yyval.node = build_this_super_qualified_invocation \n@@ -4610,121 +4611,121 @@ case 402:\n \t\t;\n     break;}\n case 403:\n-#line 2183 \"./parse.y\"\n+#line 2184 \"./parse.y\"\n { \n \t\t  yyval.node = build_this_super_qualified_invocation \n \t\t    (0, yyvsp[-2].node, NULL_TREE, yyvsp[-4].operator.location, yyvsp[-3].operator.location);\n \t\t;\n     break;}\n case 404:\n-#line 2188 \"./parse.y\"\n+#line 2189 \"./parse.y\"\n {\n \t\t  yyval.node = build_this_super_qualified_invocation \n \t\t    (0, yyvsp[-3].node, yyvsp[-1].node, yyvsp[-5].operator.location, yyvsp[-4].operator.location);\n \t\t;\n     break;}\n case 405:\n-#line 2197 \"./parse.y\"\n+#line 2198 \"./parse.y\"\n { yyerror (\"'(' expected\"); DRECOVER (method_invocation); ;\n     break;}\n case 406:\n-#line 2199 \"./parse.y\"\n+#line 2200 \"./parse.y\"\n { yyerror (\"'(' expected\"); DRECOVER (method_invocation); ;\n     break;}\n case 407:\n-#line 2204 \"./parse.y\"\n+#line 2205 \"./parse.y\"\n { yyval.node = build_array_ref (yyvsp[-2].operator.location, yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 408:\n-#line 2206 \"./parse.y\"\n+#line 2207 \"./parse.y\"\n { yyval.node = build_array_ref (yyvsp[-2].operator.location, yyvsp[-3].node, yyvsp[-1].node); ;\n     break;}\n case 409:\n-#line 2208 \"./parse.y\"\n+#line 2209 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term and ']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 410:\n-#line 2213 \"./parse.y\"\n+#line 2214 \"./parse.y\"\n {\n \t\t  yyerror (\"']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 411:\n-#line 2218 \"./parse.y\"\n+#line 2219 \"./parse.y\"\n {\n \t\t  yyerror (\"Missing term and ']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 412:\n-#line 2223 \"./parse.y\"\n+#line 2224 \"./parse.y\"\n {\n \t\t  yyerror (\"']' expected\");\n \t\t  DRECOVER(array_access);\n \t\t;\n     break;}\n case 417:\n-#line 2238 \"./parse.y\"\n+#line 2239 \"./parse.y\"\n { yyval.node = build_incdec (yyvsp[0].operator.token, yyvsp[0].operator.location, yyvsp[-1].node, 1); ;\n     break;}\n case 418:\n-#line 2243 \"./parse.y\"\n+#line 2244 \"./parse.y\"\n { yyval.node = build_incdec (yyvsp[0].operator.token, yyvsp[0].operator.location, yyvsp[-1].node, 1); ;\n     break;}\n case 421:\n-#line 2250 \"./parse.y\"\n+#line 2251 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 422:\n-#line 2252 \"./parse.y\"\n+#line 2253 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 424:\n-#line 2255 \"./parse.y\"\n+#line 2256 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 425:\n-#line 2257 \"./parse.y\"\n+#line 2258 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 426:\n-#line 2262 \"./parse.y\"\n+#line 2263 \"./parse.y\"\n {yyval.node = build_incdec (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node, 0); ;\n     break;}\n case 427:\n-#line 2264 \"./parse.y\"\n+#line 2265 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 428:\n-#line 2269 \"./parse.y\"\n+#line 2270 \"./parse.y\"\n {yyval.node = build_incdec (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node, 0); ;\n     break;}\n case 429:\n-#line 2271 \"./parse.y\"\n+#line 2272 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 431:\n-#line 2277 \"./parse.y\"\n+#line 2278 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 432:\n-#line 2279 \"./parse.y\"\n+#line 2280 \"./parse.y\"\n {yyval.node = build_unaryop (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[0].node); ;\n     break;}\n case 434:\n-#line 2282 \"./parse.y\"\n+#line 2283 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 435:\n-#line 2284 \"./parse.y\"\n+#line 2285 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;\n     break;}\n case 436:\n-#line 2289 \"./parse.y\"\n+#line 2290 \"./parse.y\"\n { \n \t\t  tree type = yyvsp[-3].node;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4734,15 +4735,15 @@ case 436:\n \t\t;\n     break;}\n case 437:\n-#line 2297 \"./parse.y\"\n+#line 2298 \"./parse.y\"\n { yyval.node = build_cast (yyvsp[-3].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 438:\n-#line 2299 \"./parse.y\"\n+#line 2300 \"./parse.y\"\n { yyval.node = build_cast (yyvsp[-3].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 439:\n-#line 2301 \"./parse.y\"\n+#line 2302 \"./parse.y\"\n { \n \t\t  const char *ptr;\n \t\t  while (CURRENT_OSB (ctxp)--)\n@@ -4757,275 +4758,275 @@ case 439:\n \t\t;\n     break;}\n case 440:\n-#line 2314 \"./parse.y\"\n+#line 2315 \"./parse.y\"\n {yyerror (\"']' expected, invalid type expression\");;\n     break;}\n case 441:\n-#line 2316 \"./parse.y\"\n+#line 2317 \"./parse.y\"\n {\n \t          if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Invalid type expression\"); RECOVER;\n \t\t  RECOVER;\n \t\t;\n     break;}\n case 442:\n-#line 2322 \"./parse.y\"\n+#line 2323 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 443:\n-#line 2324 \"./parse.y\"\n+#line 2325 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 444:\n-#line 2326 \"./parse.y\"\n+#line 2327 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 446:\n-#line 2332 \"./parse.y\"\n+#line 2333 \"./parse.y\"\n { \n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), \n \t\t\t\t    yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node);\n \t\t;\n     break;}\n case 447:\n-#line 2337 \"./parse.y\"\n+#line 2338 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 448:\n-#line 2342 \"./parse.y\"\n+#line 2343 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 449:\n-#line 2347 \"./parse.y\"\n+#line 2348 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 450:\n-#line 2349 \"./parse.y\"\n+#line 2350 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 451:\n-#line 2351 \"./parse.y\"\n+#line 2352 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 453:\n-#line 2357 \"./parse.y\"\n+#line 2358 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 454:\n-#line 2362 \"./parse.y\"\n+#line 2363 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 455:\n-#line 2367 \"./parse.y\"\n+#line 2368 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 456:\n-#line 2369 \"./parse.y\"\n+#line 2370 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 458:\n-#line 2375 \"./parse.y\"\n+#line 2376 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 459:\n-#line 2380 \"./parse.y\"\n+#line 2381 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 460:\n-#line 2385 \"./parse.y\"\n+#line 2386 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 461:\n-#line 2390 \"./parse.y\"\n+#line 2391 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 462:\n-#line 2392 \"./parse.y\"\n+#line 2393 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 463:\n-#line 2394 \"./parse.y\"\n+#line 2395 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 465:\n-#line 2400 \"./parse.y\"\n+#line 2401 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 466:\n-#line 2405 \"./parse.y\"\n+#line 2406 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 467:\n-#line 2410 \"./parse.y\"\n+#line 2411 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 468:\n-#line 2415 \"./parse.y\"\n+#line 2416 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 469:\n-#line 2420 \"./parse.y\"\n+#line 2421 \"./parse.y\"\n { yyval.node = build_binop (INSTANCEOF_EXPR, yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 470:\n-#line 2422 \"./parse.y\"\n+#line 2423 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 471:\n-#line 2424 \"./parse.y\"\n+#line 2425 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 472:\n-#line 2426 \"./parse.y\"\n+#line 2427 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 473:\n-#line 2428 \"./parse.y\"\n+#line 2429 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 474:\n-#line 2430 \"./parse.y\"\n+#line 2431 \"./parse.y\"\n {yyerror (\"Invalid reference type\"); RECOVER;;\n     break;}\n case 476:\n-#line 2436 \"./parse.y\"\n+#line 2437 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 477:\n-#line 2441 \"./parse.y\"\n+#line 2442 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 478:\n-#line 2446 \"./parse.y\"\n+#line 2447 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 479:\n-#line 2448 \"./parse.y\"\n+#line 2449 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 481:\n-#line 2454 \"./parse.y\"\n+#line 2455 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 482:\n-#line 2459 \"./parse.y\"\n+#line 2460 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 484:\n-#line 2465 \"./parse.y\"\n+#line 2466 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 485:\n-#line 2470 \"./parse.y\"\n+#line 2471 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 487:\n-#line 2476 \"./parse.y\"\n+#line 2477 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 488:\n-#line 2481 \"./parse.y\"\n+#line 2482 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 490:\n-#line 2487 \"./parse.y\"\n+#line 2488 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 491:\n-#line 2492 \"./parse.y\"\n+#line 2493 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 493:\n-#line 2498 \"./parse.y\"\n+#line 2499 \"./parse.y\"\n {\n \t\t  yyval.node = build_binop (BINOP_LOOKUP (yyvsp[-1].operator.token), yyvsp[-1].operator.location,\n \t\t\t\t    yyvsp[-2].node, yyvsp[0].node); \n \t\t;\n     break;}\n case 494:\n-#line 2503 \"./parse.y\"\n+#line 2504 \"./parse.y\"\n {yyerror (\"Missing term\"); RECOVER;;\n     break;}\n case 496:\n-#line 2509 \"./parse.y\"\n+#line 2510 \"./parse.y\"\n {\n \t\t  yyval.node = build (CONDITIONAL_EXPR, NULL_TREE, yyvsp[-4].node, yyvsp[-2].node, yyvsp[0].node);\n \t\t  EXPR_WFL_LINECOL (yyval.node) = yyvsp[-3].operator.location;\n \t\t;\n     break;}\n case 497:\n-#line 2514 \"./parse.y\"\n+#line 2515 \"./parse.y\"\n {\n \t\t  YYERROR_NOW;\n \t\t  yyerror (\"Missing term\");\n \t\t  DRECOVER (1);\n \t\t;\n     break;}\n case 498:\n-#line 2520 \"./parse.y\"\n+#line 2521 \"./parse.y\"\n {yyerror (\"Missing term\"); DRECOVER (2);;\n     break;}\n case 499:\n-#line 2522 \"./parse.y\"\n+#line 2523 \"./parse.y\"\n {yyerror (\"Missing term\"); DRECOVER (3);;\n     break;}\n case 502:\n-#line 2532 \"./parse.y\"\n+#line 2533 \"./parse.y\"\n { yyval.node = build_assignment (yyvsp[-1].operator.token, yyvsp[-1].operator.location, yyvsp[-2].node, yyvsp[0].node); ;\n     break;}\n case 503:\n-#line 2534 \"./parse.y\"\n+#line 2535 \"./parse.y\"\n {\n \t\t  if (ctxp->prevent_ese != lineno)\n \t\t    yyerror (\"Missing term\");\n@@ -5254,7 +5255,7 @@ case 503:\n     }\n   return 1;\n }\n-#line 2560 \"./parse.y\"\n+#line 2561 \"./parse.y\"\n \n \f\n \n@@ -6815,11 +6816,11 @@ register_fields (flags, type, variable_list)\n       tree init = TREE_VALUE (current);\n       tree current_name = EXPR_WFL_NODE (cl);\n \n-      /* Can't declare static fields in inner classes */\n+      /* Can't declare non-final static fields in inner classes */\n       if ((flags & ACC_STATIC) && !TOPLEVEL_CLASS_TYPE_P (class_type)\n-\t  && !CLASS_INTERFACE (TYPE_NAME (class_type)))\n+          && !(flags & ACC_FINAL))\n \tparse_error_context \n-\t  (cl, \"Field `%s' can't be static in innerclass `%s'. Only members of interfaces and top-level classes can be static\",\n+          (cl, \"Field `%s' can't be static in inner class `%s' unless it is final\",\n \t   IDENTIFIER_POINTER (EXPR_WFL_NODE (cl)),\n \t   lang_printable_name (class_type, 0));\n \n@@ -7905,6 +7906,7 @@ jdep_resolve_class (dep)\n   if (!decl)\n     complete_class_report_errors (dep);\n \n+  check_inner_class_access (decl, JDEP_ENCLOSING (dep), JDEP_WFL (dep));\n   return decl;\n }\n \n@@ -9478,6 +9480,27 @@ lookup_package_type (name, from)\n   return get_identifier (subname);\n }\n \n+static void\n+check_inner_class_access (decl, enclosing_type, cl)\n+     tree decl, enclosing_type, cl;\n+{\n+  /* We don't issue an error message when CL is null. CL can be null\n+     as a result of processing a JDEP crafted by\n+     source_start_java_method for the purpose of patching its parm\n+     decl. But the error would have been already trapped when fixing\n+     the method's signature. */\n+  if (!(cl && PURE_INNER_CLASS_DECL_P (decl) && CLASS_PRIVATE (decl))\n+      || (PURE_INNER_CLASS_DECL_P (enclosing_type)\n+\t  && common_enclosing_context_p (TREE_TYPE (enclosing_type), \n+\t\t\t\t\t  TREE_TYPE (decl)))\n+      || enclosing_context_p (TREE_TYPE (enclosing_type), TREE_TYPE (decl)))\n+    return;\n+\n+  parse_error_context (cl, \"Can't access nested %s %s. Only plublic classes and interfaces in other packages can be accessed\",\n+\t\t       (CLASS_INTERFACE (decl) ? \"interface\" : \"class\"),\n+\t\t       lang_printable_name (decl, 0));\n+}\n+\n /* Check that CLASS_NAME refers to a PUBLIC class. Return 0 if no\n    access violations were found, 1 otherwise.  */\n "}, {"sha": "3888403bc0d1e9c65e78d789bc4c0e1e9b4c89cc", "filename": "gcc/java/parse.y", "status": "modified", "additions": 26, "deletions": 3, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf1748bfce3d254bfd8bad027ab55e25793ce2fc/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=cf1748bfce3d254bfd8bad027ab55e25793ce2fc", "patch": "@@ -100,6 +100,7 @@ static int process_imports PARAMS ((void));\n static void read_import_dir PARAMS ((tree));\n static int find_in_imports_on_demand PARAMS ((tree));\n static void find_in_imports PARAMS ((tree));\n+static void check_inner_class_access PARAMS ((tree, tree, tree));\n static int check_pkg_class_access PARAMS ((tree, tree));\n static void register_package PARAMS ((tree));\n static tree resolve_package PARAMS ((tree, tree *));\n@@ -4117,11 +4118,11 @@ register_fields (flags, type, variable_list)\n       tree init = TREE_VALUE (current);\n       tree current_name = EXPR_WFL_NODE (cl);\n \n-      /* Can't declare static fields in inner classes */\n+      /* Can't declare non-final static fields in inner classes */\n       if ((flags & ACC_STATIC) && !TOPLEVEL_CLASS_TYPE_P (class_type)\n-\t  && !CLASS_INTERFACE (TYPE_NAME (class_type)))\n+          && !(flags & ACC_FINAL))\n \tparse_error_context \n-\t  (cl, \"Field `%s' can't be static in innerclass `%s'. Only members of interfaces and top-level classes can be static\",\n+          (cl, \"Field `%s' can't be static in inner class `%s' unless it is final\",\n \t   IDENTIFIER_POINTER (EXPR_WFL_NODE (cl)),\n \t   lang_printable_name (class_type, 0));\n \n@@ -5207,6 +5208,7 @@ jdep_resolve_class (dep)\n   if (!decl)\n     complete_class_report_errors (dep);\n \n+  check_inner_class_access (decl, JDEP_ENCLOSING (dep), JDEP_WFL (dep));\n   return decl;\n }\n \n@@ -6780,6 +6782,27 @@ lookup_package_type (name, from)\n   return get_identifier (subname);\n }\n \n+static void\n+check_inner_class_access (decl, enclosing_type, cl)\n+     tree decl, enclosing_type, cl;\n+{\n+  /* We don't issue an error message when CL is null. CL can be null\n+     as a result of processing a JDEP crafted by\n+     source_start_java_method for the purpose of patching its parm\n+     decl. But the error would have been already trapped when fixing\n+     the method's signature. */\n+  if (!(cl && PURE_INNER_CLASS_DECL_P (decl) && CLASS_PRIVATE (decl))\n+      || (PURE_INNER_CLASS_DECL_P (enclosing_type)\n+\t  && common_enclosing_context_p (TREE_TYPE (enclosing_type), \n+\t\t\t\t\t  TREE_TYPE (decl)))\n+      || enclosing_context_p (TREE_TYPE (enclosing_type), TREE_TYPE (decl)))\n+    return;\n+\n+  parse_error_context (cl, \"Can't access nested %s %s. Only public classes and interfaces in other packages can be accessed\",\n+\t\t       (CLASS_INTERFACE (decl) ? \"interface\" : \"class\"),\n+\t\t       lang_printable_name (decl, 0));\n+}\n+\n /* Check that CLASS_NAME refers to a PUBLIC class. Return 0 if no\n    access violations were found, 1 otherwise.  */\n "}]}