{"sha": "15dda4d3bc2128d7b59a1b8265911068ef0beb58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVkZGE0ZDNiYzIxMjhkN2I1OWExYjgyNjU5MTEwNjhlZjBiZWI1OA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-03-30T19:01:58Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-03-30T19:01:58Z"}, "message": "re PR other/6955 (collect2 says \"core dumped\" when there is no core)\n\n\tPR other/6955\n\t* collect2.c (collect_wait): Use WCOREDUMP and fix output message.\n\t* system.h (WCOREDUMP, WCOREFLG): Define if necessary.\n\nFrom-SVN: r65048", "tree": {"sha": "2f9ae577f446e2df7bdc4c485d4ca512a55a9a32", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f9ae577f446e2df7bdc4c485d4ca512a55a9a32"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15dda4d3bc2128d7b59a1b8265911068ef0beb58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15dda4d3bc2128d7b59a1b8265911068ef0beb58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15dda4d3bc2128d7b59a1b8265911068ef0beb58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15dda4d3bc2128d7b59a1b8265911068ef0beb58/comments", "author": null, "committer": null, "parents": [{"sha": "5bf92e20913144dd2f78754dd76310e75786e478", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bf92e20913144dd2f78754dd76310e75786e478", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bf92e20913144dd2f78754dd76310e75786e478"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "7a1e510a605f158f0a6c51014847f37a62c77ad0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15dda4d3bc2128d7b59a1b8265911068ef0beb58", "patch": "@@ -1,3 +1,9 @@\n+2003-03-30  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\tPR other/6955\n+\t* collect2.c (collect_wait): Use WCOREDUMP and fix output message.\n+\t* system.h (WCOREDUMP, WCOREFLG): Define if necessary.\n+\n 2003-03-30  Richard Henderson  <rth@redhat.com>\n \n \tPR c/10083"}, {"sha": "ca1fe92b1e23a70588802b275ec35ee5348e3732", "filename": "gcc/collect2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=15dda4d3bc2128d7b59a1b8265911068ef0beb58", "patch": "@@ -1508,7 +1508,7 @@ collect_wait (prog)\n \t  int sig = WTERMSIG (status);\n \t  error (\"%s terminated with signal %d [%s]%s\",\n \t\t prog, sig, strsignal(sig),\n-\t\t status & 0200 ? \"\" : \", core dumped\");\n+\t\t WCOREDUMP(status) ? \", core dumped\" : \"\");\n \t  collect_exit (FATAL_EXIT_CODE);\n \t}\n "}, {"sha": "2f16008be19459c9fb7340dd62b168f5a6e1e7ff", "filename": "gcc/system.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15dda4d3bc2128d7b59a1b8265911068ef0beb58/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=15dda4d3bc2128d7b59a1b8265911068ef0beb58", "patch": "@@ -270,6 +270,12 @@ extern int errno;\n #ifndef WSTOPSIG\n #define WSTOPSIG WEXITSTATUS\n #endif\n+#ifndef WCOREDUMP\n+#define WCOREDUMP(S) ((S) & WCOREFLG)\n+#endif\n+#ifndef WCOREFLG\n+#define WCOREFLG 0200\n+#endif\n \n /* The HAVE_DECL_* macros are three-state, undefined, 0 or 1.  If they\n    are defined to 0 then we must provide the relevant declaration"}]}