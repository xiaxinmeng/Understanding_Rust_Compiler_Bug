{"sha": "d54d2a054a7075fb550e297780c5b41838bf63bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU0ZDJhMDU0YTcwNzVmYjU1MGUyOTc3ODBjNWI0MTgzOGJmNjNiYg==", "commit": {"author": {"name": "Stan Shebs", "email": "shebs@apple.com", "date": "2001-05-01T20:45:55Z"}, "committer": {"name": "Stan Shebs", "email": "shebs@gcc.gnu.org", "date": "2001-05-01T20:45:55Z"}, "message": "objc-act.c (build_module_descriptor): Clear DECL_CONTEXT of UOBJC_MODULES_decl.\n\n        * objc/objc-act.c (build_module_descriptor): Clear DECL_CONTEXT\n        of UOBJC_MODULES_decl.\n        (generate_strings): Clear DECL_CONTEXT of new decl nodes.\n        (generate_descriptor_table): Ditto.\n        (generate_protocols): Ditto.\n        (generate_protocol_list): Ditto.\n        (generate_classref_translation_entry): Ditto.\n\nFrom-SVN: r41736", "tree": {"sha": "a81d0094c3675d86fff58926e7f82957671a8c7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a81d0094c3675d86fff58926e7f82957671a8c7c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d54d2a054a7075fb550e297780c5b41838bf63bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d54d2a054a7075fb550e297780c5b41838bf63bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d54d2a054a7075fb550e297780c5b41838bf63bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d54d2a054a7075fb550e297780c5b41838bf63bb/comments", "author": null, "committer": null, "parents": [{"sha": "1c4c47db1846bb0f088817dda89a7c500438d662", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c4c47db1846bb0f088817dda89a7c500438d662", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c4c47db1846bb0f088817dda89a7c500438d662"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "4f5a9964ed02e1b693efcce0eefcbc428a324cdd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d54d2a054a7075fb550e297780c5b41838bf63bb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d54d2a054a7075fb550e297780c5b41838bf63bb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d54d2a054a7075fb550e297780c5b41838bf63bb", "patch": "@@ -1,3 +1,13 @@\n+2001-05-01  Stan Shebs  <shebs@apple.com>\n+\n+\t* objc/objc-act.c (build_module_descriptor): Clear DECL_CONTEXT\n+\tof UOBJC_MODULES_decl.\n+\t(generate_strings): Clear DECL_CONTEXT of new decl nodes.\n+\t(generate_descriptor_table): Ditto.\n+\t(generate_protocols): Ditto.\n+\t(generate_protocol_list): Ditto.\n+\t(generate_classref_translation_entry): Ditto.\n+\n 2001-05-01  Jeffrey Oldham  <oldham@codesourcery.com>\n \n \t* invoke.texi (Optimize Options): Add documentation for `--param"}, {"sha": "a96a2cea80adab98adb9c55dbc8e05197a6fbaf6", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d54d2a054a7075fb550e297780c5b41838bf63bb/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d54d2a054a7075fb550e297780c5b41838bf63bb/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=d54d2a054a7075fb550e297780c5b41838bf63bb", "patch": "@@ -1811,6 +1811,8 @@ build_module_descriptor ()\n \n   DECL_ARTIFICIAL (UOBJC_MODULES_decl) = 1;\n   DECL_IGNORED_P (UOBJC_MODULES_decl) = 1;\n+  DECL_CONTEXT (UOBJC_MODULES_decl) = NULL_TREE;\n+\n   finish_decl (UOBJC_MODULES_decl,\n \t       init_module_descriptor (TREE_TYPE (UOBJC_MODULES_decl)),\n \t       NULL_TREE);\n@@ -2022,6 +2024,7 @@ generate_strings ()\n       decl_specs = tree_cons (NULL_TREE, ridpointers[(int) RID_CHAR], sc_spec);\n       expr_decl = build_nt (ARRAY_REF, DECL_NAME (decl), NULL_TREE);\n       decl = start_decl (expr_decl, decl_specs, 1, NULL_TREE, NULL_TREE);\n+      DECL_CONTEXT (decl) = NULL_TREE;\n       string_expr = my_build_string (IDENTIFIER_LENGTH (string) + 1,\n \t\t\t\t     IDENTIFIER_POINTER (string));\n       finish_decl (decl, string_expr, NULL_TREE);\n@@ -2036,6 +2039,7 @@ generate_strings ()\n       decl_specs = tree_cons (NULL_TREE, ridpointers[(int) RID_CHAR], sc_spec);\n       expr_decl = build_nt (ARRAY_REF, DECL_NAME (decl), NULL_TREE);\n       decl = start_decl (expr_decl, decl_specs, 1, NULL_TREE, NULL_TREE);\n+      DECL_CONTEXT (decl) = NULL_TREE;\n       string_expr = my_build_string (IDENTIFIER_LENGTH (string) + 1,\n \t\t\t\t     IDENTIFIER_POINTER (string));\n       finish_decl (decl, string_expr, NULL_TREE);\n@@ -2050,6 +2054,7 @@ generate_strings ()\n       decl_specs = tree_cons (NULL_TREE, ridpointers[(int) RID_CHAR], sc_spec);\n       expr_decl = build_nt (ARRAY_REF, DECL_NAME (decl), NULL_TREE);\n       decl = start_decl (expr_decl, decl_specs, 1, NULL_TREE, NULL_TREE);\n+      DECL_CONTEXT (decl) = NULL_TREE;\n       string_expr = my_build_string (IDENTIFIER_LENGTH (string) + 1,\n \t\t\t\tIDENTIFIER_POINTER (string));\n       finish_decl (decl, string_expr, NULL_TREE);\n@@ -2955,7 +2960,8 @@ generate_descriptor_table (type, name, size, list, proto)\n   decl_specs = tree_cons (NULL_TREE, type, sc_spec);\n \n   decl = start_decl (synth_id_with_class_suffix (name, proto),\n-\t\t\t\tdecl_specs, 1, NULL_TREE, NULL_TREE);\n+\t\t     decl_specs, 1, NULL_TREE, NULL_TREE);\n+  DECL_CONTEXT (decl) = NULL_TREE;\n \n   initlist = build_tree_list (NULL_TREE, build_int_2 (size, 0));\n   initlist = tree_cons (NULL_TREE, list, initlist);\n@@ -3212,6 +3218,8 @@ generate_protocols ()\n       decl = start_decl (synth_id_with_class_suffix (\"_OBJC_PROTOCOL\", p),\n \t\t\t decl_specs, 1, NULL_TREE, NULL_TREE);\n \n+      DECL_CONTEXT (decl) = NULL_TREE;\n+\n       protocol_name_expr = add_objc_string (PROTOCOL_NAME (p), class_names);\n \n       if (refs_decl)\n@@ -4238,6 +4246,7 @@ generate_protocol_list (i_or_p)\n   expr_decl = build1 (INDIRECT_REF, NULL_TREE, expr_decl);\n \n   refs_decl = start_decl (expr_decl, decl_specs, 1, NULL_TREE, NULL_TREE);\n+  DECL_CONTEXT (refs_decl) = NULL_TREE;\n \n   finish_decl (refs_decl, build_constructor (TREE_TYPE (refs_decl),\n \t\t\t\t\t     nreverse (initlist)),\n@@ -8346,6 +8355,7 @@ generate_classref_translation_entry (chain)\n   /* The decl that is returned from start_decl is the one that we\n      forward declared in build_class_reference.  */\n   decl = start_decl (name, decl_specs, 1, NULL_TREE, NULL_TREE);\n+  DECL_CONTEXT (decl) = NULL_TREE;\n   finish_decl (decl, expr, NULL_TREE);\n   return;\n }"}]}