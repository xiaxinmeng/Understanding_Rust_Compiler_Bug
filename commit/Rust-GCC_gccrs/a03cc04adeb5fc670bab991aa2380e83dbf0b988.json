{"sha": "a03cc04adeb5fc670bab991aa2380e83dbf0b988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAzY2MwNGFkZWI1ZmM2NzBiYWI5OTFhYTIzODBlODNkYmYwYjk4OA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-03-26T08:07:07Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-03-26T08:07:07Z"}, "message": "New tests\n\nFrom-SVN: r133593", "tree": {"sha": "5076ab76afd75736fa0335fd590a2ff4905f668f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5076ab76afd75736fa0335fd590a2ff4905f668f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a03cc04adeb5fc670bab991aa2380e83dbf0b988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a03cc04adeb5fc670bab991aa2380e83dbf0b988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a03cc04adeb5fc670bab991aa2380e83dbf0b988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a03cc04adeb5fc670bab991aa2380e83dbf0b988/comments", "author": null, "committer": null, "parents": [{"sha": "0afae63b0abc188340b1ee927ddbe0934ef26d9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0afae63b0abc188340b1ee927ddbe0934ef26d9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0afae63b0abc188340b1ee927ddbe0934ef26d9f"}], "stats": {"total": 138, "additions": 138, "deletions": 0}, "files": [{"sha": "bce495e228e8076feaf79997a32420abf356fb3e", "filename": "gcc/testsuite/gnat.dg/forward_anon.adb", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,8 @@\n+--  { dg-do compile }\n+\n+package body Forward_Anon is\n+   function Get_Current return access Object is\n+   begin\n+      return Current_Object;\n+   end;\n+end;"}, {"sha": "ff68ff400d31628620f41ba96c1ea1601e0c69da", "filename": "gcc/testsuite/gnat.dg/forward_anon.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fforward_anon.ads?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,9 @@\n+package Forward_Anon is\n+   type Object is null record; \n+   function Get_Current return access Object;\n+   Current_Object : constant access Object;\n+        \n+ private\n+   One_Object : aliased Object;\n+   Current_Object : constant access Object := One_Object'Access;\n+end;"}, {"sha": "bfe90a30320b69a62e9b94b7e45dcd15d6459c2f", "filename": "gcc/testsuite/gnat.dg/iface1.ads", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fiface1.ads?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,12 @@\n+generic\n+   type Data is private;\n+package Iface1 is\n+   type Future is synchronized interface;\n+   type Any_Future is access all Future;\n+\n+   procedure Get (This : in out Future; P : out Data) is abstract;\n+   procedure Set (This : in out Future; P : in Data) is abstract;\n+\n+   type Reusable_Future is synchronized interface and Future;\n+   type Any_Reusable_Future is access all Reusable_Future'Class;\n+end Iface1;"}, {"sha": "c565599521ef0e58beb4f963410b8b83f5bdce27", "filename": "gcc/testsuite/gnat.dg/iface2.adb", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,7 @@\n+--  { dg-do compile }\n+package body Iface2 is\n+   procedure change (This, That : Prot.Any_Future) is\n+   begin\n+      null;\n+   end;\n+end Iface2;"}, {"sha": "d25bc4246c049f919072e263cf4201335e49100e", "filename": "gcc/testsuite/gnat.dg/iface2.ads", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fiface2.ads?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,6 @@\n+with Iface1;\n+generic\n+   with package Prot is new Iface1 (<>);\n+package Iface2 is\n+   procedure change (This, That : Prot.Any_Future);\n+end Iface2;"}, {"sha": "2688e929896fb78a01bee582391f722bcb999e70", "filename": "gcc/testsuite/gnat.dg/init_scalar1.adb", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Finit_scalar1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Finit_scalar1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Finit_scalar1.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,16 @@\n+--  { dg-do run }\n+--  { dg-options \"-gnatws -gnatVa\" }\n+\n+pragma Initialize_Scalars;\n+procedure init_scalar1 is\n+  type Fixed_3T is delta 2.0 ** (- 4)\n+      range - 2.0 ** 19 ..  (2.0 ** 19 - 2.0 ** (- 4));\n+  for Fixed_3T'Size use 3*8;\n+\n+  Write_Value : constant Fixed_3T := Fixed_3T(524287.875);\n+  type singleton is array (1 .. 1) of Fixed_3T;\n+  pragma Pack (singleton);\n+  it : Singleton;\n+begin\n+   null;\n+end;"}, {"sha": "dc6f485b8febafb8cfedcfcc106b29a9f8e8a2bf", "filename": "gcc/testsuite/gnat.dg/self1.adb", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fself1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fself1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fself1.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,21 @@\n+--  { dg-do compile }\n+\n+procedure Self1 is      \n+   type Event;\n+        \n+   type Link (E : access Event) is limited record\n+      Val : Integer;\n+   end record;\n+\n+   type Ptr is access all Event;\n+   \n+   type Event is tagged limited record\n+      Inner : Link (Event'access);\n+      Size  : Integer;\n+   end record;              \n+        \n+   Obj2 : Ptr := new Event'(Inner => (Event'access, 15),\n+                            Size => Link'size);\n+begin\n+   null;                    \n+end;    "}, {"sha": "cfd84699426d51ae3e2ee2d5e469f8ddd0893f04", "filename": "gcc/testsuite/gnat.dg/specs/restricted_pkg.ads", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fspecs%2Frestricted_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Fspecs%2Frestricted_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fspecs%2Frestricted_pkg.ads?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,10 @@\n+--  { dg-do compile }\n+--  { dg-options \"-gnatc\" }\n+\n+pragma Restrictions (No_Entry_Queue);\n+package Restricted_Pkg is\n+   type Iface is limited interface;\n+   protected type PO is new Iface with\n+      procedure Dummy;\n+   end; \n+end;    "}, {"sha": "82973147e3a3f136da13d3d6580695a45e8535ff", "filename": "gcc/testsuite/gnat.dg/test_bip_no_alloc.adb", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_bip_no_alloc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_bip_no_alloc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Ftest_bip_no_alloc.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,24 @@\n+--  { dg-do compile }\n+\n+pragma Restrictions (No_Allocators);\n+procedure Test_BIP_No_Alloc is\n+\n+   type LR (B : Boolean) is limited record\n+      X : Integer;\n+   end record;\n+\n+   function FLR return LR is\n+   begin\n+      --  A return statement in a function with a limited and unconstrained\n+      --  result subtype can result in expansion of an allocator for the\n+      --  secondary stack, but that should not result in a violation of the\n+      --  restriction No_Allocators.\n+\n+      return (B => False, X => 123);\n+   end FLR;\n+\n+   Obj : LR := FLR;\n+\n+begin\n+   null;\n+end Test_BIP_No_Alloc;"}, {"sha": "5d01570d6347a758ab8c8daba40cc1448f08e612", "filename": "gcc/testsuite/gnat.dg/too_many_tasks.adb", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Ftoo_many_tasks.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a03cc04adeb5fc670bab991aa2380e83dbf0b988/gcc%2Ftestsuite%2Fgnat.dg%2Ftoo_many_tasks.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Ftoo_many_tasks.adb?ref=a03cc04adeb5fc670bab991aa2380e83dbf0b988", "patch": "@@ -0,0 +1,25 @@\n+-- { dg-do run }\n+\n+procedure too_many_tasks is \n+   Global : Natural := 0;\n+   function Output return Integer is\n+   begin\n+      Global := Global + 1;\n+      return Global;\n+   end Output;\n+        \n+   task type A;\n+   task type B;\n+        \n+   task body A is\n+      I : Integer := Output;\n+      T : B;\n+   begin null; end A;\n+        \n+   task body B is\n+      I : Integer := Output;\n+      T : A;\n+   begin null; end B; \n+        \n+   T : A;\n+begin null; end;"}]}