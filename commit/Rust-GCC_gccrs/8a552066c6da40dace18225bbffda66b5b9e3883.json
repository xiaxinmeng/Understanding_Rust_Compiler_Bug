{"sha": "8a552066c6da40dace18225bbffda66b5b9e3883", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE1NTIwNjZjNmRhNDBkYWNlMTgyMjViYmZmZGE2NmI1YjllMzg4Mw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-03-08T15:21:52Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-03-08T15:21:52Z"}, "message": "Do not initialize the pointer variable __new_handler with an address.\n\nFrom-SVN: r9129", "tree": {"sha": "a54b014dd355ae71c2d294ec14facfffcb537e39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a54b014dd355ae71c2d294ec14facfffcb537e39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a552066c6da40dace18225bbffda66b5b9e3883", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a552066c6da40dace18225bbffda66b5b9e3883", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a552066c6da40dace18225bbffda66b5b9e3883", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a552066c6da40dace18225bbffda66b5b9e3883/comments", "author": null, "committer": null, "parents": [{"sha": "c9040e2c81683a96a8e1b0903096d612d0f84013", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9040e2c81683a96a8e1b0903096d612d0f84013", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9040e2c81683a96a8e1b0903096d612d0f84013"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "6846dfc975b16adff91965371a935f84f9a539c2", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a552066c6da40dace18225bbffda66b5b9e3883/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a552066c6da40dace18225bbffda66b5b9e3883/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=8a552066c6da40dace18225bbffda66b5b9e3883", "patch": "@@ -1604,19 +1604,21 @@ __bb_init_func (struct bb *blocks)\n \n typedef void (*vfp)(void);\n extern vfp __new_handler;\n+extern void __default_new_handler (void);\n \n void *\n __builtin_new (size_t sz)\n {\n   void *p;\n+  vfp handler = (__new_handler) ? __new_handler : __default_new_handler;\n \n   /* malloc (0) is unpredictable; avoid it.  */\n   if (sz == 0)\n     sz = 1;\n   p = (void *) malloc (sz);\n   while (p == 0)\n     {\n-      (*__new_handler) ();\n+      (*handler) ();\n       p = (void *) malloc (sz);\n     }\n   \n@@ -1657,7 +1659,7 @@ __builtin_vec_new (size_t sz)\n typedef void (*vfp)(void);\n void __default_new_handler (void);\n \n-vfp __new_handler = __default_new_handler;\n+vfp __new_handler = (vfp)0;\n \n vfp\n set_new_handler (vfp handler)"}]}