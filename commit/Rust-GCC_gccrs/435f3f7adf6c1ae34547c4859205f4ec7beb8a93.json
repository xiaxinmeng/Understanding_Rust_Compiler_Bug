{"sha": "435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDM1ZjNmN2FkZjZjMWFlMzQ1NDdjNDg1OTIwNWY0ZWM3YmViOGE5Mw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2017-01-06T03:34:25Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2017-01-06T03:34:25Z"}, "message": "[bootstrap-O1] change value type to avoid sprintf buffer size warning\n\nIn stage2 of bootstrap-O1, the code that warns if sprintf might\noverflow its output buffer cannot tell that an unsigned value narrowed\nto 16 bits will fit in 4 bytes with %4x.\n\nConverting the value to 'unsigned short' makes it obvious that it\nfits, at least on machines with 16-bit shorts.\n\nfor  gcc/c-family/ChangeLog\n\n\t* c-pretty-print.c (pp_c_tree_decl_identifier): Convert 16-bit\n\tvalue to unsigned short to fit in 4 hex digits without\n\twarnings.\n\nFrom-SVN: r244121", "tree": {"sha": "ef6481220571101b18b84ff2a010256645d29fce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef6481220571101b18b84ff2a010256645d29fce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/435f3f7adf6c1ae34547c4859205f4ec7beb8a93/comments", "author": null, "committer": null, "parents": [{"sha": "a172ab790bb47dc296099506157019f8d4874637", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a172ab790bb47dc296099506157019f8d4874637", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a172ab790bb47dc296099506157019f8d4874637"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "375dad193589caad85623e3d7d341b6e6b733c0a", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/435f3f7adf6c1ae34547c4859205f4ec7beb8a93/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/435f3f7adf6c1ae34547c4859205f4ec7beb8a93/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "patch": "@@ -1,3 +1,9 @@\n+2017-01-06  Alexandre Oliva <aoliva@redhat.com>\n+\n+\t* c-pretty-print.c (pp_c_tree_decl_identifier): Convert 16-bit\n+\tvalue to unsigned short to fit in 4 hex digits without\n+\twarnings.\n+\n 2017-01-05  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* c.opt (fsso-struct): Add 'native' value."}, {"sha": "5d79519fa7d968a70f839c4996b269a997e0148a", "filename": "gcc/c-family/c-pretty-print.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/435f3f7adf6c1ae34547c4859205f4ec7beb8a93/gcc%2Fc-family%2Fc-pretty-print.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/435f3f7adf6c1ae34547c4859205f4ec7beb8a93/gcc%2Fc-family%2Fc-pretty-print.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-pretty-print.c?ref=435f3f7adf6c1ae34547c4859205f4ec7beb8a93", "patch": "@@ -2376,7 +2376,8 @@ pp_c_tree_decl_identifier (c_pretty_printer *pp, tree t)\n   else\n     {\n       static char xname[8];\n-      sprintf (xname, \"<U%4x>\", ((unsigned)((uintptr_t)(t) & 0xffff)));\n+      sprintf (xname, \"<U%4hx>\", ((unsigned short) ((uintptr_t) (t)\n+\t\t\t\t\t\t    & 0xffff)));\n       name = xname;\n     }\n "}]}