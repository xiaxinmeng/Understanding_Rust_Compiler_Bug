{"sha": "c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZiOGI1ZTRkMzJmMWUxNTEwMDJmZDUyZDE4ZDIxY2YyMzVlYTc5MQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2017-01-17T15:26:11Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-01-17T15:26:11Z"}, "message": "PR69699 document why __GLIBCXX__ macro is useless\n\n\tPR libstdc++/69699\n\t* doc/xml/manual/abi.xml (abi.versioning.history): Explain why the\n\t_GLIBCXX__ macro is not useful. Remove redundant date information\n\tand link to the GCC release timeline.\n\t(abi.versioning.active): Move partial sentence into the previous\n\tparagraph.\n\t* doc/html/*: Regenerate.\n\nFrom-SVN: r244532", "tree": {"sha": "ba1f0e369658cce6d8cffedcd226514608222b62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba1f0e369658cce6d8cffedcd226514608222b62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "04c872aae4a834dd60cef275d66bd7a3503f8128", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04c872aae4a834dd60cef275d66bd7a3503f8128", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04c872aae4a834dd60cef275d66bd7a3503f8128"}], "stats": {"total": 112, "additions": 66, "deletions": 46}, "files": [{"sha": "b00f7d3ab7861029eda7d89f6184686a1998d052", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "patch": "@@ -1,5 +1,13 @@\n 2017-01-17  Jonathan Wakely  <jwakely@redhat.com>\n \n+\tPR libstdc++/69699\n+\t* doc/xml/manual/abi.xml (abi.versioning.history): Explain why the\n+\t_GLIBCXX__ macro is not useful. Remove redundant date information\n+\tand link to the GCC release timeline.\n+\t(abi.versioning.active): Move partial sentence into the previous\n+\tparagraph.\n+\t* doc/html/*: Regenerate.\n+\n \tPR libstdc++/79114\n \t* libsupc++/nested_exception.h (throw_with_nested): Use decay instead\n \tof remove_reference."}, {"sha": "8988e4559a6479907e3ba0292d29cb29bf68e59b", "filename": "libstdc++-v3/doc/html/manual/abi.html", "status": "modified", "additions": 26, "deletions": 6, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fabi.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fabi.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fhtml%2Fmanual%2Fabi.html?ref=c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "patch": "@@ -153,12 +153,33 @@\n     was released, in compressed ISO date format, as an unsigned long.\n     </p><p>\n     This macro is defined in the file \"c++config\" in the\n-    \"libstdc++-v3/include/bits\" directory. (Up to GCC 4.1.0, it was\n-    changed every night by an automated script. Since GCC 4.1.0, it is\n-    the same value as gcc/DATESTAMP.)\n+    \"libstdc++-v3/include/bits\" directory. Up to GCC 4.1.0, it was\n+    changed every night by an automated script. Since GCC 4.1.0 it is set\n+    during configuration to the same value as\n+    <code class=\"filename\">gcc/DATESTAMP</code>, so for an official release its value\n+    is the same as the date of the release, which is given in the <a class=\"link\" href=\"https://gcc.gnu.org/develop.html#timeline\" target=\"_top\">GCC Release\n+    Timeline</a>.\n+    </p><p>\n+    This macro is not useful for determining whether a particular feature is\n+    supported by the version of libstdc++ you are using. The date of a release\n+    might be after a feature was added to the development trunk, but the\n+    release could be from an older branch. For example, in the 5.4.0 release\n+    the macro has the value 20160603 which is greater than the 20160427 value\n+    of the macro in the 6.1.0 release, but there are features supported in the\n+    6.1.0 release that are not supported in 5.4.0 release.\n+    You also can't test for the the exact values listed below to try and\n+    identify a release, because a snapshot taken from the gcc-5-branch on\n+    2016-04-27 would have the same value for the macro as the 6.1.0 release\n+    despite being a different version.\n+    Many GNU/Linux distributions build their GCC packages from snapshots, so\n+    the macro can have dates that doesn't correspond to official releases.\n     </p><p>\n     It is versioned as follows:\n-    </p><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>GCC 3.0.0: 20010615</p></li><li class=\"listitem\"><p>GCC 3.0.1: 20010819</p></li><li class=\"listitem\"><p>GCC 3.0.2: 20011023</p></li><li class=\"listitem\"><p>GCC 3.0.3: 20011220</p></li><li class=\"listitem\"><p>GCC 3.0.4: 20020220</p></li><li class=\"listitem\"><p>GCC 3.1.0: 20020514</p></li><li class=\"listitem\"><p>GCC 3.1.1: 20020725</p></li><li class=\"listitem\"><p>GCC 3.2.0: 20020814</p></li><li class=\"listitem\"><p>GCC 3.2.1: 20021119</p></li><li class=\"listitem\"><p>GCC 3.2.2: 20030205</p></li><li class=\"listitem\"><p>GCC 3.2.3: 20030422</p></li><li class=\"listitem\"><p>GCC 3.3.0: 20030513</p></li><li class=\"listitem\"><p>GCC 3.3.1: 20030804</p></li><li class=\"listitem\"><p>GCC 3.3.2: 20031016</p></li><li class=\"listitem\"><p>GCC 3.3.3: 20040214</p></li><li class=\"listitem\"><p>GCC 3.4.0: 20040419</p></li><li class=\"listitem\"><p>GCC 3.4.1: 20040701</p></li><li class=\"listitem\"><p>GCC 3.4.2: 20040906</p></li><li class=\"listitem\"><p>GCC 3.4.3: 20041105</p></li><li class=\"listitem\"><p>GCC 3.4.4: 20050519</p></li><li class=\"listitem\"><p>GCC 3.4.5: 20051201</p></li><li class=\"listitem\"><p>GCC 3.4.6: 20060306</p></li><li class=\"listitem\"><p>GCC 4.0.0: 20050421</p></li><li class=\"listitem\"><p>GCC 4.0.1: 20050707</p></li><li class=\"listitem\"><p>GCC 4.0.2: 20050921</p></li><li class=\"listitem\"><p>GCC 4.0.3: 20060309</p></li><li class=\"listitem\"><p>GCC 4.1.0: 20060228</p></li><li class=\"listitem\"><p>GCC 4.1.1: 20060524</p></li><li class=\"listitem\"><p>GCC 4.1.2: 20070214</p></li><li class=\"listitem\"><p>GCC 4.2.0: 20070514</p></li><li class=\"listitem\"><p>GCC 4.2.1: 20070719</p></li><li class=\"listitem\"><p>GCC 4.2.2: 20071007</p></li><li class=\"listitem\"><p>GCC 4.2.3: 20080201</p></li><li class=\"listitem\"><p>GCC 4.2.4: 20080519</p></li><li class=\"listitem\"><p>GCC 4.3.0: 20080306</p></li><li class=\"listitem\"><p>GCC 4.3.1: 20080606</p></li><li class=\"listitem\"><p>GCC 4.3.2: 20080827</p></li><li class=\"listitem\"><p>GCC 4.3.3: 20090124</p></li><li class=\"listitem\"><p>GCC 4.3.4: 20090804</p></li><li class=\"listitem\"><p>GCC 4.3.5: 20100522</p></li><li class=\"listitem\"><p>GCC 4.3.6: 20110627</p></li><li class=\"listitem\"><p>GCC 4.4.0: 20090421</p></li><li class=\"listitem\"><p>GCC 4.4.1: 20090722</p></li><li class=\"listitem\"><p>GCC 4.4.2: 20091015</p></li><li class=\"listitem\"><p>GCC 4.4.3: 20100121</p></li><li class=\"listitem\"><p>GCC 4.4.4: 20100429</p></li><li class=\"listitem\"><p>GCC 4.4.5: 20101001</p></li><li class=\"listitem\"><p>GCC 4.4.6: 20110416</p></li><li class=\"listitem\"><p>GCC 4.4.7: 20120313</p></li><li class=\"listitem\"><p>GCC 4.5.0: 20100414</p></li><li class=\"listitem\"><p>GCC 4.5.1: 20100731</p></li><li class=\"listitem\"><p>GCC 4.5.2: 20101216</p></li><li class=\"listitem\"><p>GCC 4.5.3: 20110428</p></li><li class=\"listitem\"><p>GCC 4.5.4: 20120702</p></li><li class=\"listitem\"><p>GCC 4.6.0: 20110325</p></li><li class=\"listitem\"><p>GCC 4.6.1: 20110627</p></li><li class=\"listitem\"><p>GCC 4.6.2: 20111026</p></li><li class=\"listitem\"><p>GCC 4.6.3: 20120301</p></li><li class=\"listitem\"><p>GCC 4.7.0: 20120322</p></li><li class=\"listitem\"><p>GCC 4.7.1: 20120614</p></li><li class=\"listitem\"><p>GCC 4.7.2: 20120920</p></li></ul></div><p></p></li><li class=\"listitem\"><p>\n+    </p><div class=\"itemizedlist\"><ul class=\"itemizedlist\" style=\"list-style-type: disc; \"><li class=\"listitem\"><p>GCC 3.0.0: 20010615</p></li><li class=\"listitem\"><p>GCC 3.0.1: 20010819</p></li><li class=\"listitem\"><p>GCC 3.0.2: 20011023</p></li><li class=\"listitem\"><p>GCC 3.0.3: 20011220</p></li><li class=\"listitem\"><p>GCC 3.0.4: 20020220</p></li><li class=\"listitem\"><p>GCC 3.1.0: 20020514</p></li><li class=\"listitem\"><p>GCC 3.1.1: 20020725</p></li><li class=\"listitem\"><p>GCC 3.2.0: 20020814</p></li><li class=\"listitem\"><p>GCC 3.2.1: 20021119</p></li><li class=\"listitem\"><p>GCC 3.2.2: 20030205</p></li><li class=\"listitem\"><p>GCC 3.2.3: 20030422</p></li><li class=\"listitem\"><p>GCC 3.3.0: 20030513</p></li><li class=\"listitem\"><p>GCC 3.3.1: 20030804</p></li><li class=\"listitem\"><p>GCC 3.3.2: 20031016</p></li><li class=\"listitem\"><p>GCC 3.3.3: 20040214</p></li><li class=\"listitem\"><p>GCC 3.4.0: 20040419</p></li><li class=\"listitem\"><p>GCC 3.4.1: 20040701</p></li><li class=\"listitem\"><p>GCC 3.4.2: 20040906</p></li><li class=\"listitem\"><p>GCC 3.4.3: 20041105</p></li><li class=\"listitem\"><p>GCC 3.4.4: 20050519</p></li><li class=\"listitem\"><p>GCC 3.4.5: 20051201</p></li><li class=\"listitem\"><p>GCC 3.4.6: 20060306</p></li><li class=\"listitem\"><p>GCC 4.0.0: 20050421</p></li><li class=\"listitem\"><p>GCC 4.0.1: 20050707</p></li><li class=\"listitem\"><p>GCC 4.0.2: 20050921</p></li><li class=\"listitem\"><p>GCC 4.0.3: 20060309</p></li><li class=\"listitem\"><p>\n+      GCC 4.1.0 and later: the GCC release date, as shown in the\n+      <a class=\"link\" href=\"https://gcc.gnu.org/develop.html#timeline\" target=\"_top\">GCC\n+      Release Timeline</a>\n+    </p></li></ul></div><p></p></li><li class=\"listitem\"><p>\n     Incremental bumping of a library pre-defined macro,\n     _GLIBCPP_VERSION. This macro is defined as the released version of\n     the library, as a string literal. This is only implemented in\n@@ -226,13 +247,12 @@\n     </p></div><div class=\"section\"><div class=\"titlepage\"><div><div><h4 class=\"title\"><a id=\"abi.versioning.active\"></a>Checking Active</h4></div></div></div><p>\n       When the GNU C++ library is being built with symbol versioning\n       on, you should see the following at configure time for\n-      libstdc++:\n+      libstdc++ (showing either 'gnu' or another of the supported styles):\n     </p><pre class=\"screen\">\n <code class=\"computeroutput\">\n   checking versioning on shared library symbols... gnu\n </code>\n </pre><p>\n-  or another of the supported styles.\n   If you don't see this line in the configure output, or if this line\n   appears but the last word is 'no', then you are out of luck.\n </p><p>"}, {"sha": "c818bd86605321f5ca7630968b54d673c5914bd3", "filename": "libstdc++-v3/doc/xml/manual/abi.xml", "status": "modified", "additions": 32, "deletions": 40, "changes": 72, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fabi.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6b8b5e4d32f1e151002fd52d18d21cf235ea791/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fabi.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fabi.xml?ref=c6b8b5e4d32f1e151002fd52d18d21cf235ea791", "patch": "@@ -393,10 +393,32 @@ compatible.\n \n     <para>\n     This macro is defined in the file \"c++config\" in the\n-    \"libstdc++-v3/include/bits\" directory. (Up to GCC 4.1.0, it was\n-    changed every night by an automated script. Since GCC 4.1.0, it is\n-    the same value as gcc/DATESTAMP.)\n+    \"libstdc++-v3/include/bits\" directory. Up to GCC 4.1.0, it was\n+    changed every night by an automated script. Since GCC 4.1.0 it is set\n+    during configuration to the same value as\n+    <filename>gcc/DATESTAMP</filename>, so for an official release its value\n+    is the same as the date of the release, which is given in the <link\n+      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n+      xlink:href=\"https://gcc.gnu.org/develop.html#timeline\">GCC Release\n+    Timeline</link>.\n     </para>\n+\n+    <para>\n+    This macro is not useful for determining whether a particular feature is\n+    supported by the version of libstdc++ you are using. The date of a release\n+    might be after a feature was added to the development trunk, but the\n+    release could be from an older branch. For example, in the 5.4.0 release\n+    the macro has the value 20160603 which is greater than the 20160427 value\n+    of the macro in the 6.1.0 release, but there are features supported in the\n+    6.1.0 release that are not supported in 5.4.0 release.\n+    You also can't test for the the exact values listed below to try and\n+    identify a release, because a snapshot taken from the gcc-5-branch on\n+    2016-04-27 would have the same value for the macro as the 6.1.0 release\n+    despite being a different version.\n+    Many GNU/Linux distributions build their GCC packages from snapshots, so\n+    the macro can have dates that doesn't correspond to official releases.\n+    </para>\n+\n     <para>\n     It is versioned as follows:\n     </para>\n@@ -427,41 +449,12 @@ compatible.\n     <listitem><para>GCC 4.0.1: 20050707</para></listitem>\n     <listitem><para>GCC 4.0.2: 20050921</para></listitem>\n     <listitem><para>GCC 4.0.3: 20060309</para></listitem>\n-    <listitem><para>GCC 4.1.0: 20060228</para></listitem>\n-    <listitem><para>GCC 4.1.1: 20060524</para></listitem>\n-    <listitem><para>GCC 4.1.2: 20070214</para></listitem>\n-    <listitem><para>GCC 4.2.0: 20070514</para></listitem>\n-    <listitem><para>GCC 4.2.1: 20070719</para></listitem>\n-    <listitem><para>GCC 4.2.2: 20071007</para></listitem>\n-    <listitem><para>GCC 4.2.3: 20080201</para></listitem>\n-    <listitem><para>GCC 4.2.4: 20080519</para></listitem>\n-    <listitem><para>GCC 4.3.0: 20080306</para></listitem>\n-    <listitem><para>GCC 4.3.1: 20080606</para></listitem>\n-    <listitem><para>GCC 4.3.2: 20080827</para></listitem>\n-    <listitem><para>GCC 4.3.3: 20090124</para></listitem>\n-    <listitem><para>GCC 4.3.4: 20090804</para></listitem>\n-    <listitem><para>GCC 4.3.5: 20100522</para></listitem>\n-    <listitem><para>GCC 4.3.6: 20110627</para></listitem>\n-    <listitem><para>GCC 4.4.0: 20090421</para></listitem>\n-    <listitem><para>GCC 4.4.1: 20090722</para></listitem>\n-    <listitem><para>GCC 4.4.2: 20091015</para></listitem>\n-    <listitem><para>GCC 4.4.3: 20100121</para></listitem>\n-    <listitem><para>GCC 4.4.4: 20100429</para></listitem>\n-    <listitem><para>GCC 4.4.5: 20101001</para></listitem>\n-    <listitem><para>GCC 4.4.6: 20110416</para></listitem>\n-    <listitem><para>GCC 4.4.7: 20120313</para></listitem>\n-    <listitem><para>GCC 4.5.0: 20100414</para></listitem>\n-    <listitem><para>GCC 4.5.1: 20100731</para></listitem>\n-    <listitem><para>GCC 4.5.2: 20101216</para></listitem>\n-    <listitem><para>GCC 4.5.3: 20110428</para></listitem>\n-    <listitem><para>GCC 4.5.4: 20120702</para></listitem>\n-    <listitem><para>GCC 4.6.0: 20110325</para></listitem>\n-    <listitem><para>GCC 4.6.1: 20110627</para></listitem>\n-    <listitem><para>GCC 4.6.2: 20111026</para></listitem>\n-    <listitem><para>GCC 4.6.3: 20120301</para></listitem>\n-    <listitem><para>GCC 4.7.0: 20120322</para></listitem>\n-    <listitem><para>GCC 4.7.1: 20120614</para></listitem>\n-    <listitem><para>GCC 4.7.2: 20120920</para></listitem>\n+    <listitem><para>\n+      GCC 4.1.0 and later: the GCC release date, as shown in the\n+      <link xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n+        xlink:href=\"https://gcc.gnu.org/develop.html#timeline\">GCC\n+      Release Timeline</link>\n+    </para></listitem>\n     </itemizedlist>\n     <para/>\n     </listitem>\n@@ -619,7 +612,7 @@ compatible.\n     <para>\n       When the GNU C++ library is being built with symbol versioning\n       on, you should see the following at configure time for\n-      libstdc++:\n+      libstdc++ (showing either 'gnu' or another of the supported styles):\n     </para>\n \n <screen>\n@@ -629,7 +622,6 @@ compatible.\n </screen>\n \n <para>\n-  or another of the supported styles.\n   If you don't see this line in the configure output, or if this line\n   appears but the last word is 'no', then you are out of luck.\n </para>"}]}