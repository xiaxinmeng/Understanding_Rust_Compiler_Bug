{"sha": "4ec59de224960b41e45d957802bc30f46c78418c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVjNTlkZTIyNDk2MGI0MWU0NWQ5NTc4MDJiYzMwZjQ2Yzc4NDE4Yw==", "commit": {"author": {"name": "Matt Hiller", "email": "hiller@redhat.com", "date": "2002-03-08T22:44:21Z"}, "committer": {"name": "Matthew Hiller", "email": "hiller@gcc.gnu.org", "date": "2002-03-08T22:44:21Z"}, "message": "gensupport.c (first_dir_md_include): Renamed from include; change all references.\n\n2002-03-07  Matt Hiller  <hiller@redhat.com>\n\n\t* gensupport.c (first_dir_md_include): Renamed from include;\n\tchange all references.\n\t(last_dir_md_include): Renamed from last_include; change all\n\treferences.\n\t(init_md_reader): Unconditionally initialize base_dir whether or\n\tnot filename is a relative path.\n\nFrom-SVN: r50465", "tree": {"sha": "51bb3d467592e9b89a8f542ce05f00e1d7448906", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51bb3d467592e9b89a8f542ce05f00e1d7448906"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ec59de224960b41e45d957802bc30f46c78418c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec59de224960b41e45d957802bc30f46c78418c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ec59de224960b41e45d957802bc30f46c78418c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ec59de224960b41e45d957802bc30f46c78418c/comments", "author": null, "committer": null, "parents": [{"sha": "41daaf0ebfe2da33b369d47c8239ac69b63a874d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41daaf0ebfe2da33b369d47c8239ac69b63a874d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41daaf0ebfe2da33b369d47c8239ac69b63a874d"}], "stats": {"total": 32, "additions": 19, "deletions": 13}, "files": [{"sha": "ee59322d5b8020a7c3a9434a1cc1ecebf3ab1c0b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ec59de224960b41e45d957802bc30f46c78418c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ec59de224960b41e45d957802bc30f46c78418c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4ec59de224960b41e45d957802bc30f46c78418c", "patch": "@@ -73,6 +73,15 @@ Fri Mar  8 06:48:45 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* config/mips/mips.h (SUBTARGET_CPP_SIZE_SPEC): Simplify.\n \n+2002-03-07  Matt Hiller  <hiller@redhat.com>\n+\n+\t* gensupport.c (first_dir_md_include): Renamed from include;\n+\tchange all references.\n+\t(last_dir_md_include): Renamed from last_include; change all\n+\treferences.\n+\t(init_md_reader): Unconditionally initialize base_dir whether or\n+\tnot filename is a relative path.\n+\n 2002-03-07  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* config/fp-bit.c (_unord_f2): Compile it in even if"}, {"sha": "d7cb6732145fac413df99edec9bf4fa25ecd1bce", "filename": "gcc/gensupport.c", "status": "modified", "additions": 10, "deletions": 13, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ec59de224960b41e45d957802bc30f46c78418c/gcc%2Fgensupport.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ec59de224960b41e45d957802bc30f46c78418c/gcc%2Fgensupport.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgensupport.c?ref=4ec59de224960b41e45d957802bc30f46c78418c", "patch": "@@ -76,10 +76,10 @@ struct file_name_list\n     const char *fname;\n   };\n \n-struct file_name_list *include = 0;     /* First dir to search */\n+struct file_name_list *first_dir_md_include = 0;  /* First dir to search */\n         /* First dir to search for <file> */\n struct file_name_list *first_bracket_include = 0;\n-struct file_name_list *last_include = 0;        /* Last in chain */\n+struct file_name_list *last_dir_md_include = 0;        /* Last in chain */\n \n static void remove_constraints PARAMS ((rtx));\n static void process_rtx PARAMS ((rtx, int));\n@@ -227,7 +227,7 @@ process_include (desc, lineno)\n   struct file_name_list *stackp;\n   int flen;\n \n-  stackp = include;\n+  stackp = first_dir_md_include;\n \n   /* If specified file name is absolute, just open it.  */\n   if (IS_ABSOLUTE_PATHNAME (filename) || !stackp)\n@@ -981,11 +981,11 @@ init_md_reader_args (argc, argv)\n \t\tdirtmp = (struct file_name_list *)\n \t\t  xmalloc (sizeof (struct file_name_list));\n \t\tdirtmp->next = 0;\t/* New one goes on the end */\n-\t\tif (include == 0)\n-\t\t  include = dirtmp;\n+\t\tif (first_dir_md_include == 0)\n+\t\t  first_dir_md_include = dirtmp;\n \t\telse\n-\t\t  last_include->next = dirtmp;\n-\t\tlast_include = dirtmp;\t/* Tail follows the last one */\n+\t\t  last_dir_md_include->next = dirtmp;\n+\t\tlast_dir_md_include = dirtmp;\t/* Tail follows the last one */\n \t\tif (argv[i][1] == 'I' && argv[i][2] != 0)\n \t\t  dirtmp->fname = argv[i] + 2;\n \t\telse if (i + 1 == argc)\n@@ -1015,12 +1015,9 @@ init_md_reader (filename)\n   int c;\n   char *lastsl;\n \n-  if (!IS_ABSOLUTE_PATHNAME (filename))\n-    {\n-      lastsl = strrchr (filename, '/');\n-      if (lastsl != NULL) \n-\tbase_dir = save_string (filename, lastsl - filename + 1 );\n-    }\n+  lastsl = strrchr (filename, '/');\n+  if (lastsl != NULL) \n+    base_dir = save_string (filename, lastsl - filename + 1 );\n \n   read_rtx_filename = filename;\n   input_file = fopen (filename, \"r\");"}]}