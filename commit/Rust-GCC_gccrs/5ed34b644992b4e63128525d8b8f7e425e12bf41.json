{"sha": "5ed34b644992b4e63128525d8b8f7e425e12bf41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWVkMzRiNjQ0OTkyYjRlNjMxMjg1MjVkOGI4ZjdlNDI1ZTEyYmY0MQ==", "commit": {"author": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-05-12T10:16:09Z"}, "committer": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-05-12T10:16:09Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r963", "tree": {"sha": "811ead04d8b42a4c31c08b0bfe61f9269d82ec5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/811ead04d8b42a4c31c08b0bfe61f9269d82ec5a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5ed34b644992b4e63128525d8b8f7e425e12bf41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ed34b644992b4e63128525d8b8f7e425e12bf41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ed34b644992b4e63128525d8b8f7e425e12bf41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ed34b644992b4e63128525d8b8f7e425e12bf41/comments", "author": null, "committer": null, "parents": [{"sha": "52a73899c09cc8c9083e1a4c94154c34b94b709a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52a73899c09cc8c9083e1a4c94154c34b94b709a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52a73899c09cc8c9083e1a4c94154c34b94b709a"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "a1c3b811814ed95b4d7960685add3e7d03ea7883", "filename": "gcc/config/m68k/tower-as.h", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5ed34b644992b4e63128525d8b8f7e425e12bf41/gcc%2Fconfig%2Fm68k%2Ftower-as.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5ed34b644992b4e63128525d8b8f7e425e12bf41/gcc%2Fconfig%2Fm68k%2Ftower-as.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ftower-as.h?ref=5ed34b644992b4e63128525d8b8f7e425e12bf41", "patch": "@@ -155,8 +155,26 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (68k, Motorola/SGS/Tower32 syntax)\");\n \n-#undef BLOCK_PROFILER\n #undef FUNCTION_BLOCK_PROFILER\n+#define FUNCTION_BLOCK_PROFILER(FILE, LABELNO)\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    char label1[20], label2[20];\t\t\t\t\t\\\n+    ASM_GENERATE_INTERNAL_LABEL (label1, \"LPBX\", 0);\t\t\t\\\n+    ASM_GENERATE_INTERNAL_LABEL (label2, \"LPI\", LABELNO);\t\t\\\n+    fprintf (FILE, \"\\ttst.l %s\\n\\tbne %s\\n\\tpea %s\\n\\tjsr __bb_init_func\\n\\taddq.l &4,%%sp\\n\",\t\\\n+\t     label1, label2, label1);\t\t\t\t\t\\\n+    ASM_OUTPUT_INTERNAL_LABEL (FILE, \"LPI\", LABELNO);\t\t\t\\\n+    putc ('\\n', FILE);\t\t\t\t\t\t\\\n+    } while (0)\n+\n+#undef BLOCK_PROFILER\n+#define BLOCK_PROFILER(FILE, BLOCKNO)\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\\\n+    char label[20];\t\t\t\t\t\t\\\n+    ASM_GENERATE_INTERNAL_LABEL (label, \"LPBX\", 2);\t\t\\\n+    fprintf (FILE, \"\\taddq.l &1,%s+%d\\n\", label, 4 * BLOCKNO);\t\\\n+    } while (0)\n+\n #undef FUNCTION_PROFILER\n #define FUNCTION_PROFILER(FILE, LABEL_NO)\t\\\n     fprintf (FILE, \"\\tmov.l &LP%%%d,%%a0\\n\\tjsr mcount%%\\n\", (LABEL_NO))"}]}