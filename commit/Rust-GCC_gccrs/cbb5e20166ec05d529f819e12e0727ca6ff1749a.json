{"sha": "cbb5e20166ec05d529f819e12e0727ca6ff1749a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2JiNWUyMDE2NmVjMDVkNTI5ZjgxOWUxMmUwNzI3Y2E2ZmYxNzQ5YQ==", "commit": {"author": {"name": "Scott Gilbertson", "email": "scottg@mantatest.com", "date": "2006-02-23T20:50:49Z"}, "committer": {"name": "Scott Gilbertson", "email": "sgilbertson@gcc.gnu.org", "date": "2006-02-23T20:50:49Z"}, "message": "IntegerGraphicsState.java (getClip): Clone clip before returning, handle null clip.\n\n2006-02-23  Scott Gilbertson  <scottg@mantatest.com>\n\n\t* gnu/awt/j2d/IntegerGraphicsState.java (getClip): Clone clip\n\tbefore returning, handle null clip.\n\t(getClipBounds): Handle null clip.\n\t* gnu/awt/j2d/Graphics2DImpl.java (clipRect): Handle null clip.\n\t* gnu/awt/xlib/XCanvasPeer.java (): \n\t(getLocationOnScreen): Implement.\n\t* classpath/gnu/java/awt/peer/GLightweightPeer.java\n\t(repaint): Merged with Classpath.\n\t* classpath/java/awt/Graphics.java (hitClip): Merged with\n\tClasspath.\n\nFrom-SVN: r111395", "tree": {"sha": "e7dbeee69e81b207b0965b99b096bca140842b68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7dbeee69e81b207b0965b99b096bca140842b68"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cbb5e20166ec05d529f819e12e0727ca6ff1749a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbb5e20166ec05d529f819e12e0727ca6ff1749a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbb5e20166ec05d529f819e12e0727ca6ff1749a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbb5e20166ec05d529f819e12e0727ca6ff1749a/comments", "author": null, "committer": null, "parents": [{"sha": "072b06f2dce99ea6fe42d7ec20ab152019c5f40b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/072b06f2dce99ea6fe42d7ec20ab152019c5f40b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/072b06f2dce99ea6fe42d7ec20ab152019c5f40b"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "6804217ce4fceb5f44f2a10becb6f4a3cf10d682", "filename": "libjava/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -1,3 +1,16 @@\n+2006-02-23  Scott Gilbertson  <scottg@mantatest.com>\n+\n+\t* gnu/awt/j2d/IntegerGraphicsState.java (getClip): Clone clip\n+\tbefore returning, handle null clip.\n+\t(getClipBounds): Handle null clip.\n+\t* gnu/awt/j2d/Graphics2DImpl.java (clipRect): Handle null clip.\n+\t* gnu/awt/xlib/XCanvasPeer.java (): \n+\t(getLocationOnScreen): Implement.\n+\t* classpath/gnu/java/awt/peer/GLightweightPeer.java\n+\t(repaint): Merged with Classpath.\n+\t* classpath/java/awt/Graphics.java (hitClip): Merged with\n+\tClasspath.\n+\n 2006-02-21  Robert Schuster  <robertschuster@fsfe.org>\n \n \t* link.cc: Added variant of create_error_method that"}, {"sha": "25735bb745ff7ca62d9f4069fc6b4c0dec33294f", "filename": "libjava/classpath/gnu/java/awt/peer/GLightweightPeer.java", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGLightweightPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGLightweightPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGLightweightPeer.java?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -227,7 +227,12 @@ public boolean prepareImage(Image img, int width, int height,\n \n   public void print(Graphics graphics) {}\n \n-  public void repaint(long tm, int x, int y, int width, int height) {}\n+  public void repaint(long tm, int x, int y, int width, int height)\n+  {\n+    Component p = comp.getParent ();\n+    if(p != null)\n+      p.repaint(tm,x+comp.getX(),y+comp.getY(),width,height);\n+  }\n \n   public void requestFocus() {}\n "}, {"sha": "09bf7cacffad9076d3c72c58b46372e33a421cdc", "filename": "libjava/classpath/java/awt/Graphics.java", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphics.java?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -617,6 +617,9 @@ public String toString()\n    */\n   public boolean hitClip(int x, int y, int width, int height)\n   {\n+    Shape clip = getClip();\n+    if (clip == null)\n+      return true;\n     return getClip().intersects(x, y, width, height);\n   }\n "}, {"sha": "5091af69f690b5fae7a9fb0de7f2371cbf5eefc9", "filename": "libjava/gnu/awt/j2d/Graphics2DImpl.java", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fj2d%2FGraphics2DImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fj2d%2FGraphics2DImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fj2d%2FGraphics2DImpl.java?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -175,6 +175,12 @@ public Rectangle getClipBounds()\n   public void clipRect(int x, int y, int width, int height)\n   {\n     Shape clip = state.getClip();\n+    if (clip == null)\n+    {\n+      clip = new Rectangle (x,y,width,height);\n+      setClip (clip);\n+      return;\n+    }\n     if (clip instanceof Rectangle)\n       {\n \tRectangle clipRect = (Rectangle) clip;"}, {"sha": "bcfacd008f068637a7fd45d8d8ebfd6f336d21b4", "filename": "libjava/gnu/awt/j2d/IntegerGraphicsState.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fj2d%2FIntegerGraphicsState.java?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -132,9 +132,11 @@ public void setClip(Shape clip)\n \n   public Shape getClip()\n   {\n+    if (clip == null)\n+      return null;\n     if (clip instanceof Rectangle)\n       {\n-\tRectangle clipRect = (Rectangle) clip;\n+\tRectangle clipRect = (Rectangle) ((Rectangle) clip).clone();\n \tclipRect.x -= tx;\n \tclipRect.y -= ty;\n \treturn clipRect;\n@@ -149,6 +151,8 @@ public Shape getClip()\n \n   public Rectangle getClipBounds()\n   {\n+    if (clip == null)\n+      return null;\n     Rectangle clipRect = clip.getBounds();\n     \n     clipRect.x -= tx;"}, {"sha": "097ad0e47d26e92fcb69a61c6301309d93402878", "filename": "libjava/gnu/awt/xlib/XCanvasPeer.java", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fxlib%2FXCanvasPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbb5e20166ec05d529f819e12e0727ca6ff1749a/libjava%2Fgnu%2Fawt%2Fxlib%2FXCanvasPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fawt%2Fxlib%2FXCanvasPeer.java?ref=cbb5e20166ec05d529f819e12e0727ca6ff1749a", "patch": "@@ -247,10 +247,12 @@ public Graphics getGraphics()\n     gfx2d.setColor(component.getBackground());\n     return gfx2d;\n   }\n-    \n+\n+  private Rectangle locationBounds;\n   public Point getLocationOnScreen()\n   {\n-    throw new UnsupportedOperationException(\"FIXME, not implemented\");\n+    locationBounds = window.getBounds (locationBounds);\n+    return new Point (locationBounds.x,locationBounds.y);\n   }\n \n   public Dimension getMinimumSize ()"}]}