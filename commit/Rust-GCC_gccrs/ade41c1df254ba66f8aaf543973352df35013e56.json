{"sha": "ade41c1df254ba66f8aaf543973352df35013e56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRlNDFjMWRmMjU0YmE2NmY4YWFmNTQzOTczMzUyZGYzNTAxM2U1Ng==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-05-15T17:06:48Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-05-15T17:06:48Z"}, "message": "ipareference_1.c: Rename to ...\n\n\n\t* gcc.dg/lto/ipareference_1.c: Rename to ...\n\t* gcc.dg/lto/ipareference_0.c: ... this one.\n\t* gcc.dg/lto/ipareference_2.c: Rename to ...\n\t* gcc.dg/lto/ipareference_1.c: ... this one.\n\nFrom-SVN: r159436", "tree": {"sha": "cb0020cd40055b9d8a53a94d5518aa4fe75edae5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb0020cd40055b9d8a53a94d5518aa4fe75edae5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ade41c1df254ba66f8aaf543973352df35013e56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade41c1df254ba66f8aaf543973352df35013e56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ade41c1df254ba66f8aaf543973352df35013e56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ade41c1df254ba66f8aaf543973352df35013e56/comments", "author": null, "committer": null, "parents": [{"sha": "f33806415919e05f98b3abb9d15675e50a952f06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f33806415919e05f98b3abb9d15675e50a952f06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f33806415919e05f98b3abb9d15675e50a952f06"}], "stats": {"total": 83, "additions": 45, "deletions": 38}, "files": [{"sha": "441b2a4f60872e2acefef88db81b4c36c57b01e3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ade41c1df254ba66f8aaf543973352df35013e56", "patch": "@@ -1,3 +1,10 @@\n+2010-05-15  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcc.dg/lto/ipareference_1.c: Rename to ...\n+\t* gcc.dg/lto/ipareference_0.c: ... this one.\n+\t* gcc.dg/lto/ipareference_2.c: Rename to ...\n+\t* gcc.dg/lto/ipareference_1.c: ... this one.\n+\n 2010-05-15  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/lto/ipareference_1.c: New file."}, {"sha": "c759b758e4730d9573ade803e34c743d143e7d2e", "filename": "gcc/testsuite/gcc.dg/lto/ipareference_0.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_0.c?ref=ade41c1df254ba66f8aaf543973352df35013e56", "patch": "@@ -0,0 +1,26 @@\n+/* { dg-lto-options {{ -O1 -fwhopr }} } */\n+/* { dg-lto-do run } */\n+\n+/* Test that ipa-reference notice that get_val will not change since do_nothing does not\n+   modify anything.  This needs streaming cross file boundary summaries.  */\n+extern int get_val (void);\n+extern int set_val (void);\n+extern do_nothing (void);\n+void abort (void);\n+main()\n+{\n+  int a;\n+  int b;\n+  set_val ();\n+  a = get_val ();\n+  do_nothing();\n+  b = get_val ();\n+  if (a==b)\n+    {\n+      if (!__builtin_constant_p (a==b))\n+\tabort ();\n+      return 0;\n+    }\n+  else\n+    abort ();\n+}"}, {"sha": "c5d72faafb8365432e0cdf104fab09340d2677bd", "filename": "gcc/testsuite/gcc.dg/lto/ipareference_1.c", "status": "modified", "additions": 12, "deletions": 24, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ade41c1df254ba66f8aaf543973352df35013e56/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_1.c?ref=ade41c1df254ba66f8aaf543973352df35013e56", "patch": "@@ -1,26 +1,14 @@\n-/* { dg-lto-options {{ -O1 -fwhopr }} } */\n-/* { dg-lto-do run } */\n-\n-/* Test that ipa-reference notice that get_val will not change since do_nothing does not\n-   modify anything.  This needs streaming cross file boundary summaries.  */\n-extern int get_val (void);\n-extern int set_val (void);\n-extern do_nothing (void);\n-void abort (void);\n-main()\n+static int val;\n+int set_val (void)\n {\n-  int a;\n-  int b;\n-  set_val ();\n-  a = get_val ();\n-  do_nothing();\n-  b = get_val ();\n-  if (a==b)\n-    {\n-      if (!,__builtin_constant_p (a==b))\n-\tabort ();\n-      return 0;\n-    }\n-  else\n-    abort ();\n+  val = 5;\n+}\n+int get_val (void)\n+{\n+  return val;\n+}\n+__attribute__ ((__noinline__))\n+do_nothing ()\n+{\n+  asm volatile (\"\":::\"memory\");\n }"}, {"sha": "c5d72faafb8365432e0cdf104fab09340d2677bd", "filename": "gcc/testsuite/gcc.dg/lto/ipareference_2.c", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f33806415919e05f98b3abb9d15675e50a952f06/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f33806415919e05f98b3abb9d15675e50a952f06/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fipareference_2.c?ref=f33806415919e05f98b3abb9d15675e50a952f06", "patch": "@@ -1,14 +0,0 @@\n-static int val;\n-int set_val (void)\n-{\n-  val = 5;\n-}\n-int get_val (void)\n-{\n-  return val;\n-}\n-__attribute__ ((__noinline__))\n-do_nothing ()\n-{\n-  asm volatile (\"\":::\"memory\");\n-}"}]}