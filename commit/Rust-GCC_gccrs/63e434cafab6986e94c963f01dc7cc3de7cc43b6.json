{"sha": "63e434cafab6986e94c963f01dc7cc3de7cc43b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjNlNDM0Y2FmYWI2OTg2ZTk0Yzk2M2YwMWRjN2NjM2RlN2NjNDNiNg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-08-03T14:08:56Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-08-03T14:08:56Z"}, "message": "lto-symtab.h (lto_symtab_prevail_decl): Do not use DECL_ABSTRACT_ORIGIN as flag we can end up using that.\n\n2017-08-03  Richard Biener  <rguenther@suse.de>\n\n\t* lto-symtab.h (lto_symtab_prevail_decl): Do not use\n\tDECL_ABSTRACT_ORIGIN as flag we can end up using that.  Instead\n\tuse DECL_LANG_FLAG_0.\n\t(lto_symtab_prevail_decl): Likewise.\n\nFrom-SVN: r250856", "tree": {"sha": "f149fe1201cb0276fb2de146fcb27939708a69af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f149fe1201cb0276fb2de146fcb27939708a69af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63e434cafab6986e94c963f01dc7cc3de7cc43b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63e434cafab6986e94c963f01dc7cc3de7cc43b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63e434cafab6986e94c963f01dc7cc3de7cc43b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63e434cafab6986e94c963f01dc7cc3de7cc43b6/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "297db279102e9c5f5b32f0580a303dab6a0a5fd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297db279102e9c5f5b32f0580a303dab6a0a5fd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/297db279102e9c5f5b32f0580a303dab6a0a5fd5"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "9861e98d24f21b2870599233185211c803da8e29", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63e434cafab6986e94c963f01dc7cc3de7cc43b6/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63e434cafab6986e94c963f01dc7cc3de7cc43b6/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=63e434cafab6986e94c963f01dc7cc3de7cc43b6", "patch": "@@ -1,3 +1,10 @@\n+2017-08-03  Richard Biener  <rguenther@suse.de>\n+\n+\t* lto-symtab.h (lto_symtab_prevail_decl): Do not use\n+\tDECL_ABSTRACT_ORIGIN as flag we can end up using that.  Instead\n+\tuse DECL_LANG_FLAG_0.\n+\t(lto_symtab_prevail_decl): Likewise.\n+\n 2017-07-07  Torsten Duwe  <duwe@suse.de>\n \n \t* lto-lang.c (lto_attribute_table): Add entry for"}, {"sha": "89cd97b6dbda9641b310ff75bdd7ecc1cd963ddd", "filename": "gcc/lto/lto-symtab.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63e434cafab6986e94c963f01dc7cc3de7cc43b6/gcc%2Flto%2Flto-symtab.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63e434cafab6986e94c963f01dc7cc3de7cc43b6/gcc%2Flto%2Flto-symtab.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-symtab.h?ref=63e434cafab6986e94c963f01dc7cc3de7cc43b6", "patch": "@@ -23,26 +23,26 @@ extern tree lto_symtab_prevailing_decl (tree decl);\n extern tree lto_symtab_prevailing_virtual_decl (tree decl);\n \n /* Mark DECL to be previailed by PREVAILING.\n-   Use DECL_ABSTRACT_ORIGIN and DECL_CHAIN as special markers; those do not\n+   Use DECL_LANG_FLAG_0 and DECL_CHAIN as special markers; those do not\n    disturb debug_tree and diagnostics.\n    We are safe to modify them as we wish, because the declarations disappear\n    from the IL after the merging.  */\n \n inline void\n lto_symtab_prevail_decl (tree prevailing, tree decl)\n {\n-  gcc_checking_assert (DECL_ABSTRACT_ORIGIN (decl) != error_mark_node);\n+  gcc_checking_assert (! DECL_LANG_FLAG_0 (decl));\n   gcc_assert (TREE_PUBLIC (decl) || DECL_EXTERNAL (decl));\n   DECL_CHAIN (decl) = prevailing;\n-  DECL_ABSTRACT_ORIGIN (decl) = error_mark_node;\n+  DECL_LANG_FLAG_0 (decl) = 1;\n }\n \n /* Given the decl DECL, return the prevailing decl with the same name. */\n \n inline tree\n lto_symtab_prevailing_decl (tree decl)\n {\n-  if (DECL_ABSTRACT_ORIGIN (decl) == error_mark_node)\n+  if (DECL_LANG_FLAG_0 (decl))\n     return DECL_CHAIN (decl);\n   else\n     {"}]}