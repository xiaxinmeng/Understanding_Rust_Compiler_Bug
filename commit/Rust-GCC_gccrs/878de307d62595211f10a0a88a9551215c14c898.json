{"sha": "878de307d62595211f10a0a88a9551215c14c898", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc4ZGUzMDdkNjI1OTUyMTFmMTBhMGE4OGE5NTUxMjE1YzE0Yzg5OA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-05-19T23:54:07Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-05-19T23:54:07Z"}, "message": "* jump.c (mark_jump_label): Tidy previous change.\n\nFrom-SVN: r42327", "tree": {"sha": "75798dcbe3eaabce32356980ad6508f338871524", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75798dcbe3eaabce32356980ad6508f338871524"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/878de307d62595211f10a0a88a9551215c14c898", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/878de307d62595211f10a0a88a9551215c14c898", "html_url": "https://github.com/Rust-GCC/gccrs/commit/878de307d62595211f10a0a88a9551215c14c898", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/878de307d62595211f10a0a88a9551215c14c898/comments", "author": null, "committer": null, "parents": [{"sha": "baacc9f7a1ad09cdc71fe48645361b0aa242e1a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/baacc9f7a1ad09cdc71fe48645361b0aa242e1a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/baacc9f7a1ad09cdc71fe48645361b0aa242e1a0"}], "stats": {"total": 24, "additions": 10, "deletions": 14}, "files": [{"sha": "b5d739cce83d1d48a677ae0c8e2da8c94fa27eed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878de307d62595211f10a0a88a9551215c14c898/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878de307d62595211f10a0a88a9551215c14c898/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=878de307d62595211f10a0a88a9551215c14c898", "patch": "@@ -1,3 +1,7 @@\n+2001-05-19  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* jump.c (mark_jump_label): Tidy previous change.\n+\n 2001-05-19  Bruce Korb  <bkorb@gnu.org>\n \n \t* fixinc/genfixes: no need for two warnings"}, {"sha": "8f9c6b45a3681402de696433d595b9e4be4c375e", "filename": "gcc/jump.c", "status": "modified", "additions": 6, "deletions": 14, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878de307d62595211f10a0a88a9551215c14c898/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878de307d62595211f10a0a88a9551215c14c898/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=878de307d62595211f10a0a88a9551215c14c898", "patch": "@@ -2556,20 +2556,12 @@ mark_jump_label (x, insn, cross_jump, in_mem)\n \n \t\t/* We may also have a REG_EQUAL note to indicate that\n \t\t   a register is being set to the address of the\n-\t\t   label.  We cannot use find_reg_note as above\n-\t\t   because the REG_EQUAL note will use a LABEL_REF,\n-\t\t   not the actual CODE_LABEL.  */\n-\t\tfor (note = REG_NOTES (insn); note; note = XEXP (note, 1))\n-\t\t  if (REG_NOTE_KIND (note) == REG_EQUAL)\n-\t\t    {\n-\t\t      if (GET_CODE (XEXP (note, 0)) == LABEL_REF\n-\t\t\t  && XEXP (XEXP (note, 0), 0) == olabel)\n-\t\t\tXEXP (XEXP (note, 0), 0) = label;\n-\t\t      /* There is only one REG_EQUAL note per\n-\t\t\t instruction, so we are done at this \n-\t\t\t point.  */\n-\t\t      break;\n-\t\t    }\n+\t\t   label.  */\n+\t\tnote = find_reg_note (insn, REG_EQUAL, NULL_RTX);\n+\t\tif (note \n+\t\t    && GET_CODE (XEXP (note, 0)) == LABEL_REF\n+\t\t    && XEXP (XEXP (note, 0), 0) == olabel)\n+\t\t  XEXP (XEXP (note, 0), 0) = label;\n \t      }\n \n \t    /* Otherwise, add a REG_LABEL note for LABEL unless there already"}]}