{"sha": "0d53ee39f62797fed4aae53072ebe59ffe11b6c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ1M2VlMzlmNjI3OTdmZWQ0YWFlNTMwNzJlYmU1OWZmZTExYjZjOQ==", "commit": {"author": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-07-23T19:13:17Z"}, "committer": {"name": "Tom Wood", "email": "wood@gnu.org", "date": "1992-07-23T19:13:17Z"}, "message": "(ASM_OUTPUT_CASE_LABEL): Change to readonly section if the table contains addresses.\n\n(ASM_OUTPUT_CASE_LABEL): Change to readonly section if the\n\ttable contains addresses.\n\t(JUMP_TABLES_IN_TEXT_SECTION): True by default.\n\nFrom-SVN: r1673", "tree": {"sha": "520421d557d82c2a3531963d32b19515f37340e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/520421d557d82c2a3531963d32b19515f37340e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d53ee39f62797fed4aae53072ebe59ffe11b6c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d53ee39f62797fed4aae53072ebe59ffe11b6c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d53ee39f62797fed4aae53072ebe59ffe11b6c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d53ee39f62797fed4aae53072ebe59ffe11b6c9/comments", "author": null, "committer": null, "parents": [{"sha": "c73433339781b21b25b4f9f0e489291635da0d63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c73433339781b21b25b4f9f0e489291635da0d63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c73433339781b21b25b4f9f0e489291635da0d63"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "f5aa79d96d20714f58e759af40e1723962d988ee", "filename": "gcc/config/m88k/m88k.h", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d53ee39f62797fed4aae53072ebe59ffe11b6c9/gcc%2Fconfig%2Fm88k%2Fm88k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d53ee39f62797fed4aae53072ebe59ffe11b6c9/gcc%2Fconfig%2Fm88k%2Fm88k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm88k%2Fm88k.h?ref=0d53ee39f62797fed4aae53072ebe59ffe11b6c9", "patch": "@@ -206,9 +206,9 @@ extern char * reg_names[];\n /* Print subsidiary information on the compiler version in use.\n    Redefined in m88kv4.h, and m88kluna.h.  */\n #define VERSION_INFO1\t\"88open OCS/BCS, \"\n-#define VERSION_INFO2\t\"04 Jul 1992\"\n+#define VERSION_INFO2\t\"21 Jul 1992\"\n #define VERSION_STRING\tversion_string\n-#define\tTM_SCCS_ID\t\"@(#)m88k.h\t2.2.6.7 04 Jul 1992 08:35:55\"\n+#define\tTM_SCCS_ID\t\"@(#)m88k.h\t2.2.6.9 21 Jul 1992 09:24:47\"\n \n /* Run-time compilation parameters selecting different hardware subsets.  */\n \n@@ -1953,8 +1953,15 @@ enum reg_class { NO_REGS, AP_REG, XRF_REGS, GENERAL_REGS, AGRF_REGS,\n #define ASM_OUTPUT_ASCII(FILE, P, SIZE)  \\\n   output_ascii (FILE, ASCII_DATA_ASM_OP, 48, P, SIZE)\n \n-/* Override svr4.h.  */\n+/* Override svr4.h.  Change to the readonly data section for a table of\n+   addresses.  final_scan_insn changes back to the text section.  */\n #undef\tASM_OUTPUT_CASE_LABEL\n+#define ASM_OUTPUT_CASE_LABEL(FILE, PREFIX, NUM, TABLE)\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    if (! CASE_VECTOR_INSNS)\t\t\t\t\t\t\\\n+      readonly_data_section ();\t\t\t\t\t\t\\\n+    ASM_OUTPUT_INTERNAL_LABEL (FILE, PREFIX, NUM);\t\t\t\\\n+  } while (0)\n \n /* Epilogue for case labels.  This jump instruction is called by casesi\n    to transfer to the appropriate branch instruction within the table.\n@@ -2373,6 +2380,11 @@ sdata_section ()\t\t\t\t\t\t\t\\\n     const_section ();\t\t\t\t\t\t\t\\\n }\n \n+/* Jump tables consist of branch instructions and should be output in\n+   the text section.  When we use a table of addresses, we explicitly\n+   change to the readonly data section.  */\n+#define JUMP_TABLES_IN_TEXT_SECTION 1\n+\n /* Define this macro if references to a symbol must be treated differently\n    depending on something about the variable or function named by the\n    symbol (such as what section it is in)."}]}