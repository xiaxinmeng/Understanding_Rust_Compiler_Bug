{"sha": "155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTU1ZDM4YzBlNzBjNjIxYWMwZGZmNjBhZjFmOWFiNGMxNzhkODJjOQ==", "commit": {"author": {"name": "Martin v. Loewis", "email": "martin@mira.isdn.cs.tu-berlin.de", "date": "1999-08-11T18:28:36Z"}, "committer": {"name": "Martin v. L\u00f6wis", "email": "loewis@gcc.gnu.org", "date": "1999-08-11T18:28:36Z"}, "message": "* lex.c (do_identifier): Remove unnecessary lookup of class field.\n\nFrom-SVN: r28671", "tree": {"sha": "2decbd61035e15e7314e0ada40cd46a354db3ac7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2decbd61035e15e7314e0ada40cd46a354db3ac7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/155d38c0e70c621ac0dff60af1f9ab4c178d82c9/comments", "author": null, "committer": null, "parents": [{"sha": "94304469a6eb265b30ef91f25b0f8e17cd330395", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94304469a6eb265b30ef91f25b0f8e17cd330395", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94304469a6eb265b30ef91f25b0f8e17cd330395"}], "stats": {"total": 32, "additions": 4, "deletions": 28}, "files": [{"sha": "bc2d0d4ba3fe2414eb2f58cc31b23198f419a224", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/155d38c0e70c621ac0dff60af1f9ab4c178d82c9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/155d38c0e70c621ac0dff60af1f9ab4c178d82c9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "patch": "@@ -1,3 +1,7 @@\n+1999-08-10  Martin v. Loewis  <martin@mira.isdn.cs.tu-berlin.de>\n+\n+\t* lex.c (do_identifier): Remove unnecessary lookup of class field.\n+\n 1999-08-09  Martin v. Loewis  <martin@mira.isdn.cs.tu-berlin.de>\n \n \t* decl2.c (set_decl_namespace): Do not complain about non-matching"}, {"sha": "81ec12eecfd784034de1277dce2e799b2e2a3879", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/155d38c0e70c621ac0dff60af1f9ab4c178d82c9/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/155d38c0e70c621ac0dff60af1f9ab4c178d82c9/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=155d38c0e70c621ac0dff60af1f9ab4c178d82c9", "patch": "@@ -3091,34 +3091,6 @@ do_identifier (token, parsing, args)\n   else\n     id = lastiddecl;\n \n-  /* Scope class declarations before global\n-     declarations.  */\n-  if ((!id || is_global (id))\n-      && current_class_type != 0\n-      && TYPE_SIZE (current_class_type) == 0)\n-    {\n-      /* Could be from one of the base classes.  */\n-      tree field = lookup_field (current_class_type, token, 1, 0);\n-      if (field == 0)\n-\t;\n-      else if (field == error_mark_node)\n-\t/* We have already generated the error message.\n-\t   But we still want to return this value.  */\n-\tid = lookup_field (current_class_type, token, 0, 0);\n-      else if (TREE_CODE (field) == VAR_DECL\n-\t       || TREE_CODE (field) == CONST_DECL\n-\t       || TREE_CODE (field) == TEMPLATE_DECL)\n-\tid = field;\n-      else if (TREE_CODE (field) != FIELD_DECL)\n-\tmy_friendly_abort (61);\n-      else\n-\t{\n-\t  cp_error (\"invalid use of member `%D'\", field);\n-\t  id = error_mark_node;\n-\t  return id;\n-\t}\n-    }\n-\n   /* Do Koenig lookup if appropriate (inside templates we build lookup\n      expressions instead).  */\n   if (args && !current_template_parms && (!id || is_global (id)))"}]}