{"sha": "bf52ee6a4f86cbd60770fc22ad5abce0f437762a", "node_id": "C_kwDOANBUbNoAKGJmNTJlZTZhNGY4NmNiZDYwNzcwZmMyMmFkNWFiY2UwZjQzNzc2MmE", "commit": {"author": {"name": "Claire Dross", "email": "dross@adacore.com", "date": "2022-07-12T07:14:40Z"}, "committer": {"name": "Marc Poulhi\u00e8s", "email": "poulhies@adacore.com", "date": "2022-09-02T07:34:06Z"}, "message": "[Ada] Fix proof of runtime unit System.Wid_*\n\nRegain the proof of System.Wid_* after changes in provers and Why3.\n\ngcc/ada/\n\n\t* libgnat/s-widthu.adb (Lemma_Euclidean): Lemma to prove the\n\trelation between the quotient/remainder of a division.", "tree": {"sha": "16f5c5f9b1f5e1609fc7cb753773c3d6b5a3465c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16f5c5f9b1f5e1609fc7cb753773c3d6b5a3465c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf52ee6a4f86cbd60770fc22ad5abce0f437762a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf52ee6a4f86cbd60770fc22ad5abce0f437762a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf52ee6a4f86cbd60770fc22ad5abce0f437762a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf52ee6a4f86cbd60770fc22ad5abce0f437762a/comments", "author": {"login": "clairedross", "id": 8180017, "node_id": "MDQ6VXNlcjgxODAwMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8180017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clairedross", "html_url": "https://github.com/clairedross", "followers_url": "https://api.github.com/users/clairedross/followers", "following_url": "https://api.github.com/users/clairedross/following{/other_user}", "gists_url": "https://api.github.com/users/clairedross/gists{/gist_id}", "starred_url": "https://api.github.com/users/clairedross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clairedross/subscriptions", "organizations_url": "https://api.github.com/users/clairedross/orgs", "repos_url": "https://api.github.com/users/clairedross/repos", "events_url": "https://api.github.com/users/clairedross/events{/privacy}", "received_events_url": "https://api.github.com/users/clairedross/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dkm", "id": 87603, "node_id": "MDQ6VXNlcjg3NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/87603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkm", "html_url": "https://github.com/dkm", "followers_url": "https://api.github.com/users/dkm/followers", "following_url": "https://api.github.com/users/dkm/following{/other_user}", "gists_url": "https://api.github.com/users/dkm/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkm/subscriptions", "organizations_url": "https://api.github.com/users/dkm/orgs", "repos_url": "https://api.github.com/users/dkm/repos", "events_url": "https://api.github.com/users/dkm/events{/privacy}", "received_events_url": "https://api.github.com/users/dkm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c339b3b5a63bac5e5223e33cce4c9833153edbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c339b3b5a63bac5e5223e33cce4c9833153edbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c339b3b5a63bac5e5223e33cce4c9833153edbb"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "df5f224426c867e5a289815b054835070928fda3", "filename": "gcc/ada/libgnat/s-widthu.adb", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf52ee6a4f86cbd60770fc22ad5abce0f437762a/gcc%2Fada%2Flibgnat%2Fs-widthu.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf52ee6a4f86cbd60770fc22ad5abce0f437762a/gcc%2Fada%2Flibgnat%2Fs-widthu.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-widthu.adb?ref=bf52ee6a4f86cbd60770fc22ad5abce0f437762a", "patch": "@@ -73,6 +73,14 @@ package body System.Width_U is\n         Ghost,\n         Post => X / Y / Z = X / (Y * Z);\n \n+      procedure Lemma_Euclidian (V, Q, F, R : Big_Integer)\n+      with\n+        Ghost,\n+        Pre  => F > 0 and then Q = V / F and then R = V rem F,\n+        Post => V = Q * F + R;\n+      --  Ghost lemma to prove the relation between the quotient/remainder of\n+      --  division by F and the value V.\n+\n       ----------------------\n       -- Lemma_Lower_Mult --\n       ----------------------\n@@ -104,6 +112,12 @@ package body System.Width_U is\n          pragma Assert (X / YZ = XYZ + R / YZ);\n       end Lemma_Div_Twice;\n \n+      ---------------------\n+      -- Lemma_Euclidian --\n+      ---------------------\n+\n+      procedure Lemma_Euclidian (V, Q, F, R : Big_Integer) is null;\n+\n       --  Local variables\n \n       W : Natural;\n@@ -152,7 +166,7 @@ package body System.Width_U is\n             R : constant Big_Integer := Big (T_Init) rem F with Ghost;\n          begin\n             pragma Assert (Q < Big_10);\n-            pragma Assert (Big (T_Init) = Q * F + R);\n+            Lemma_Euclidian (Big (T_Init), Q, F, R);\n             Lemma_Lower_Mult (Q, Big (9), F);\n             pragma Assert (Big (T_Init) <= Big (9) * F + F - 1);\n             pragma Assert (Big (T_Init) < Big_10 * F);"}]}