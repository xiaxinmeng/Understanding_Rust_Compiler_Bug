{"sha": "26b0ad130a5795cd760d22e27d16d14d4579a77e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZiMGFkMTMwYTU3OTVjZDc2MGQyMmUyN2QxNmQxNGQ0NTc5YTc3ZQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-11-29T03:08:13Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-11-29T03:08:13Z"}, "message": "gnu.h (HURD_TARGET_OS_CPP_BUILTINS): New.\n\n\t* config/gnu.h (HURD_TARGET_OS_CPP_BUILTINS): New.\n\t* config/linux.h (LINUX_TARGET_OS_CPP_BUILTINS): New.\n\n\t* config/alpha/gnu.h, config/alpha/linux.h,\n\tconfig/arm/linux-elf.h, config/cris/cris.h, config/cris/linux.h,\n\tconfig/i370/linux.h, config/i386/gnu.h, config/i386/i386.h,\n\tconfig/i386/linux-aout.h, config/i386/linux.h,\n\tconfig/i386/linux64.h, config/ia64/linux.h, config/m68k/linux.h,\n\tconfig/m68k/uclinux.h, config/mips/linux.h,\n\tconfig/mn10300/linux.h, config/pa/pa-linux.h,\n\tconfig/rs6000/sysv4.h, config/s390/linux.h, config/sh/linux.h,\n\tconfig/sparc/linux.h, config/sparc/linux64.h,\n\tconfig/xtensa/linux.h (TARGET_OS_CPP_BUILTINS): Use\n\tHURD_TARGET_OS_CPP_BUILTINS/LINUX_TARGET_OS_CPP_BUILTINS or ensure\n\tall necessary assertions are included.\n\ntestsuite:\n\t* testsuite/gcc.dg/cpp/assert4.c: Update.\n\nFrom-SVN: r74031", "tree": {"sha": "6a19b386d0b5d0fafab73966f59bf9d44a1a9118", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a19b386d0b5d0fafab73966f59bf9d44a1a9118"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26b0ad130a5795cd760d22e27d16d14d4579a77e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b0ad130a5795cd760d22e27d16d14d4579a77e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26b0ad130a5795cd760d22e27d16d14d4579a77e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b0ad130a5795cd760d22e27d16d14d4579a77e/comments", "author": null, "committer": null, "parents": [{"sha": "2c07f13b2bccf42a860e5d3634e77fb6a264fa54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c07f13b2bccf42a860e5d3634e77fb6a264fa54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c07f13b2bccf42a860e5d3634e77fb6a264fa54"}], "stats": {"total": 168, "additions": 81, "deletions": 87}, "files": [{"sha": "b980ee6e26d2fddacce76090a16d558d5f28e0ac", "filename": "gcc/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -1,3 +1,21 @@\n+2003-11-28  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* config/gnu.h (HURD_TARGET_OS_CPP_BUILTINS): New.\n+\t* config/linux.h (LINUX_TARGET_OS_CPP_BUILTINS): New.\n+\t\n+\t* config/alpha/gnu.h, config/alpha/linux.h,\n+\tconfig/arm/linux-elf.h, config/cris/cris.h, config/cris/linux.h,\n+\tconfig/i370/linux.h, config/i386/gnu.h, config/i386/i386.h,\n+\tconfig/i386/linux-aout.h, config/i386/linux.h,\n+\tconfig/i386/linux64.h, config/ia64/linux.h, config/m68k/linux.h,\n+\tconfig/m68k/uclinux.h, config/mips/linux.h,\n+\tconfig/mn10300/linux.h, config/pa/pa-linux.h,\n+\tconfig/rs6000/sysv4.h, config/s390/linux.h, config/sh/linux.h,\n+\tconfig/sparc/linux.h, config/sparc/linux64.h,\n+\tconfig/xtensa/linux.h (TARGET_OS_CPP_BUILTINS): Use\n+\tHURD_TARGET_OS_CPP_BUILTINS/LINUX_TARGET_OS_CPP_BUILTINS or ensure\n+\tall necessary assertions are included.\n+\n 2003-11-28  Jan Hubicka  <jh@suse.cz>\n \n \t* emit-rtl.c (set_used_flags): New."}, {"sha": "40348c60abbb5baa579923cb91ce61f80c5e69f7", "filename": "gcc/config/alpha/gnu.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Falpha%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Falpha%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fgnu.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -6,11 +6,8 @@\n #undef TARGET_OS_CPP_BUILTINS /* config.gcc includes alpha/linux.h.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n     do {\t\t\t\t\t\\\n-\tbuiltin_define (\"__GNU__\");\t\t\\\n-\tbuiltin_define (\"__gnu_hurd__\");\t\\\n+\tHURD_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tbuiltin_define (\"_LONGLONG\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_assert (\"system=gnu\");\t\t\\\n     } while (0)\n \n #undef ELF_DYNAMIC_LINKER"}, {"sha": "a4bc3d3e4a4bcf12e1308addc4aee3d63dfb2fd9", "filename": "gcc/config/alpha/linux.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Falpha%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Falpha%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -30,6 +30,8 @@ Boston, MA 02111-1307, USA.  */\n \tbuiltin_define_std (\"linux\");\t\t\t\t\\\n \tbuiltin_define_std (\"unix\");\t\t\t\t\\\n \tbuiltin_assert (\"system=linux\");\t\t\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\t\t\\\n \t/* The GNU C++ standard library requires this.  */\t\\\n \tif (c_dialect_cxx ())\t\t\t\t\t\\\n \t  builtin_define (\"_GNU_SOURCE\");\t\t\t\\"}, {"sha": "3cde7116d527222399dc5e1f93833d4eb2c22f52", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -89,14 +89,7 @@\n    %{mbig-endian:-EB}\" \\\n    SUBTARGET_EXTRA_LINK_SPEC\n \n-#define TARGET_OS_CPP_BUILTINS()\t\t\\\n-    do {\t\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-    } while (0)\n+#define TARGET_OS_CPP_BUILTINS() LINUX_TARGET_OS_CPP_BUILTINS()\n \n /* This is how we tell the assembler that two symbols have the same value.  */\n #define ASM_OUTPUT_DEF(FILE, NAME1, NAME2) \\"}, {"sha": "9f130d6448cdfc5a44257790cfa7e9548656579d", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -251,6 +251,8 @@ extern const char *cris_elinux_stacksize_str;\n       builtin_define_std (\"CRIS\");\t\t\\\n       builtin_define_std (\"GNU_CRIS\");\t\t\\\n       builtin_define (\"__CRIS_ABI_version=2\");\t\\\n+      builtin_assert (\"cpu=cris\");\t\t\\\n+      builtin_assert (\"machine=cris\");\t\t\\\n     }\t\t\t\t\t\t\\\n   while (0)\n "}, {"sha": "f842f949d6479a7a510638ab7cd9a41b639e7429", "filename": "gcc/config/cris/linux.h", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fcris%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fcris%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -48,9 +48,7 @@ Boston, MA 02111-1307, USA.  */\n #undef CRIS_CPP_SUBTARGET_SPEC\n #define CRIS_CPP_SUBTARGET_SPEC \\\n   \"%{pthread:-D_REENTRANT}\\\n-   %{!march=*:%{!cpu=*:-D__arch_v10 -D__CRIS_arch_version=10}}\\\n-   %{!ansi:%{!std=*:%{!undef:-Dlinux -Dunix}\\\n-     -Asystem(unix) -Asystem(posix) -Acpu(cris) -Amachine(cris)}}\"\n+   %{!march=*:%{!cpu=*:-D__arch_v10 -D__CRIS_arch_version=10}}\"\n \n #undef CRIS_CC1_SUBTARGET_SPEC\n #define CRIS_CC1_SUBTARGET_SPEC \\\n@@ -103,9 +101,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-      builtin_define (\"__gnu_linux__\");\t\t\\\n-      builtin_define (\"__linux__\");\t\t\\\n-      builtin_define (\"__unix__\");\t\t\\\n+      LINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n       if (flag_pic)\t\t\t\t\\\n \t{\t\t\t\t\t\\\n \t  builtin_define (\"__PIC__\");\t\t\\"}, {"sha": "23a8a730ec9862e1b3fe671af798bbc33d2c604d", "filename": "gcc/config/gnu.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fgnu.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -18,3 +18,15 @@\n \n /* The system headers under GNU are C++-aware.  */\n #define NO_IMPLICIT_EXTERN_C\n+\n+#define HURD_TARGET_OS_CPP_BUILTINS()\t\t\\\n+    do {\t\t\t\t\t\\\n+\tbuiltin_define (\"__gnu_hurd__\");\t\\\n+\tbuiltin_define (\"__GNU__\");\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define_std (\"MACH\");\t\t\\\n+\tbuiltin_assert (\"system=gnu\");\t\t\\\n+\tbuiltin_assert (\"system=mach\");\t\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+    } while (0)"}, {"sha": "f402fbde9f3d50ddbfac43c651fb29340aa656c8", "filename": "gcc/config/i370/linux.h", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi370%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi370%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -29,13 +29,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_ELF_ABI\n \n /* Target OS preprocessor built-ins.  */\n-#define TARGET_OS_CPP_BUILTINS()\t\t\\\n-    do {\t\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-    } while (0)\n+#define TARGET_OS_CPP_BUILTINS() LINUX_TARGET_OS_CPP_BUILTINS()\n \n /* Options for this target machine.  */\n "}, {"sha": "cc9994bcaed84db220c36777b740cabc0a2f3ad6", "filename": "gcc/config/i386/gnu.h", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -7,14 +7,7 @@\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"MACH\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define (\"__GNU__\");\t\t\\\n-\tbuiltin_define (\"__gnu_hurd__\");\t\\\n-\tbuiltin_assert (\"system=gnu\");\t\t\\\n-\tbuiltin_assert (\"system=mach\");\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n+\tHURD_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tif (flag_pic)\t\t\t\t\\\n \t  {\t\t\t\t\t\\\n \t    builtin_define (\"__PIC__\");\t\t\\"}, {"sha": "c5c03abe20cdf5aac54d25e12e35dd459f3f99f5", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -546,6 +546,7 @@ extern int x86_prefetch_sse;\n       if (TARGET_64BIT)\t\t\t\t\t\t\\\n \t{\t\t\t\t\t\t\t\\\n \t  builtin_assert (\"cpu=x86_64\");\t\t\t\\\n+\t  builtin_assert (\"machine=x86_64\");\t\t\t\\\n \t  builtin_define (\"__amd64\");\t\t\t\t\\\n \t  builtin_define (\"__amd64__\");\t\t\t\t\\\n \t  builtin_define (\"__x86_64\");\t\t\t\t\\"}, {"sha": "d7be93c73128c36898804cf43fb987a5e12ecc66", "filename": "gcc/config/i386/linux-aout.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux-aout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux-aout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux-aout.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -26,10 +26,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tif (flag_pic)\t\t\t\t\\\n \t  {\t\t\t\t\t\\\n \t    builtin_define (\"__PIC__\");\t\t\\"}, {"sha": "e7d19ec181a25fe4e58814784340518770e9cb12", "filename": "gcc/config/i386/linux.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -73,10 +73,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tif (flag_pic)\t\t\t\t\\\n \t  {\t\t\t\t\t\\\n \t    builtin_define (\"__PIC__\");\t\t\\"}, {"sha": "98536c19bd3752ab3ad791222a990ef16c622b4e", "filename": "gcc/config/i386/linux64.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fi386%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux64.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -24,10 +24,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n   do\t\t\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\t\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\t\t\\\n \tif (flag_pic)\t\t\t\t\t\t\\\n \t  {\t\t\t\t\t\t\t\\\n \t    builtin_define (\"__PIC__\");\t\t\t\t\\"}, {"sha": "460dd26deaebdae5acda9e2bf0081b332708b508", "filename": "gcc/config/ia64/linux.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fia64%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fia64%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -12,10 +12,7 @@\n /* Target OS builtins.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n do {\t\t\t\t\t\t\\\n-\tbuiltin_assert(\"system=linux\");\t\t\\\n-\tbuiltin_define_std(\"linux\");\t\t\\\n-\tbuiltin_define_std(\"unix\");\t\t\\\n-\tbuiltin_define(\"__gnu_linux__\");\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tbuiltin_define(\"_LONGLONG\");\t\t\\\n } while (0)\n "}, {"sha": "0f7ba1777e8b865e78eae17a5af3b0a8e0ceb890", "filename": "gcc/config/linux.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -97,6 +97,16 @@ Boston, MA 02111-1307, USA.  */\n        %{!p:%{!pg:%{!g*:-lc} %{g*:-lg}}}}\"\n #endif\n \n+#define LINUX_TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n+    do {\t\t\t\t\t\t\t\\\n+\tbuiltin_define (\"__gnu_linux__\");\t\t\t\\\n+\tbuiltin_define_std (\"linux\");\t\t\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\t\t\\\n+\tbuiltin_assert (\"system=linux\");\t\t\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\t\t\\\n+    } while (0)\n+\n #if !defined(USE_GNULIBC_1) && defined(HAVE_LD_EH_FRAME_HDR)\n #define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n #endif"}, {"sha": "03e637088fc441c076e4a4c0c944e1bde42afda1", "filename": "gcc/config/m68k/linux.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fm68k%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fm68k%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -86,13 +86,9 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tbuiltin_define_std (\"mc68000\");\t\t\\\n \tbuiltin_define_std (\"mc68020\");\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n    }\t\t\t\t\t\t\\\n   while (0)\n "}, {"sha": "596cc1979c8b80ac62e1ff94c7e760e25f63fd85", "filename": "gcc/config/m68k/uclinux.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fm68k%2Fuclinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fm68k%2Fuclinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fuclinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -55,6 +55,8 @@ Boston, MA 02111-1307, USA.  */\n \tbuiltin_define_std (\"linux\");\t\t\\\n \tbuiltin_define_std (\"unix\");\t\t\\\n \tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_assert (\"system=linux\");\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\\\n \tbuiltin_assert (\"system=posix\");\t\\\n \tif (TARGET_ID_SHARED_LIBRARY)\t\t\\\n \t  builtin_define (\"__ID_SHARED_LIBRARY__\"); \\"}, {"sha": "ae64020882ec89443dd7e570b6b5ae38adbcc026", "filename": "gcc/config/mips/linux.h", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fmips%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fmips%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -55,12 +55,9 @@ Boston, MA 02111-1307, USA.  */\n \n #define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n     do {\t\t\t\t\t\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\t\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\t\t\\\n \tbuiltin_define (\"__PIC__\");\t\t\t\t\\\n \tbuiltin_define (\"__pic__\");\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\t\t\\\n-\tbuiltin_assert (\"system=linux\");\t\t\t\\\n \t/* The GNU C++ standard library requires this.  */\t\\\n \tif (c_dialect_cxx ())\t\t\t\t\t\\\n \t  builtin_define (\"_GNU_SOURCE\");\t\t\t\\"}, {"sha": "0130498ce5ad1e56fccc8f53fdef5ba90ea12ab7", "filename": "gcc/config/mn10300/linux.h", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fmn10300%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fmn10300%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -23,16 +23,7 @@\n #undef  PREFERRED_DEBUGGING_TYPE\n #define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n \n-#define TARGET_OS_CPP_BUILTINS()\t\t\\\n-    do\t\t\t\t\t\t\\\n-      {\t\t\t\t\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-      }\t\t\t\t\t\t\\\n-    while (0)\n+#define TARGET_OS_CPP_BUILTINS() LINUX_TARGET_OS_CPP_BUILTINS()\n \n #undef  CPP_SPEC\n #define CPP_SPEC \"%{mam33:-D__AM33__} %{!mam33:-D__AM33__=2 -D__AM33_2__} \\"}, {"sha": "c3808f1c34f7daea09384f4fa2b586eb47a91481", "filename": "gcc/config/pa/pa-linux.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-linux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -56,12 +56,8 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-\tbuiltin_define (\"__gnu_linux__\");\t\\\n-\tbuiltin_define_std (\"linux\");\t\t\\\n-\tbuiltin_define_std (\"unix\");\t\t\\\n+\tLINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n \tbuiltin_assert (\"machine=bigendian\");\t\\\n-\tbuiltin_assert (\"system=posix\");\t\\\n-\tbuiltin_assert (\"system=unix\");\t\t\\\n     }\t\t\t\t\t\t\\\n   while (0)\n "}, {"sha": "a49a1ca65165dfbc59882f28afafd4e936865ce0", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -1124,7 +1124,7 @@ extern int fixuplabelno;\n   %{!ansi:\t\t\t\t\t\t\t  \\\n     %{!std=*:-Dunix -D__unix -Dlinux -D__linux}\t\t\t  \\\n     %{std=gnu*:-Dunix -D__unix -Dlinux -D__linux}}}\t\t  \\\n--Asystem=unix -Asystem=posix %{pthread:-D_REENTRANT}\"\n+-Asystem=linux -Asystem=unix -Asystem=posix %{pthread:-D_REENTRANT}\"\n \n /* GNU/Hurd support.  */\n #define LIB_GNU_SPEC \"%{mnewlib: --start-group -lgnu -lc --end-group } \\"}, {"sha": "9a6db9d76c1def453a379ad0acab5c4ee589714f", "filename": "gcc/config/s390/linux.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fs390%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fs390%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -53,11 +53,7 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-      builtin_define_std (\"linux\");\t\t\\\n-      builtin_define_std (\"unix\");\t\t\\\n-      builtin_assert (\"system=linux\");\t\t\\\n-      builtin_assert (\"system=unix\");\t\t\\\n-      builtin_define (\"__gnu_linux__\");\t\t\\\n+      LINUX_TARGET_OS_CPP_BUILTINS();\t\t\\\n       if (flag_pic)\t\t\t\t\\\n         {\t\t\t\t\t\\\n           builtin_define (\"__PIC__\");\t\t\\"}, {"sha": "d28e0c246804db52c799b8023784902b9d10df79", "filename": "gcc/config/sh/linux.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsh%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsh%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -57,6 +57,8 @@ do { \\\n   builtin_define_std (\"unix\"); \\\n   builtin_define (\"__gnu_linux__\"); \\\n   builtin_define_std (\"linux\"); \\\n+  builtin_assert (\"system=linux\"); \\\n+  builtin_assert (\"system=unix\"); \\\n   builtin_assert (\"system=posix\"); \\\n } while (0)\n "}, {"sha": "8af7c5a0259a51485e7a587d3325dce931d73fe8", "filename": "gcc/config/sparc/linux.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsparc%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsparc%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -26,6 +26,7 @@ Boston, MA 02111-1307, USA.  */\n \tbuiltin_define_std (\"unix\");\t\t\\\n \tbuiltin_define_std (\"linux\");\t\t\\\n \tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_assert (\"system=linux\");\t\\\n \tbuiltin_assert (\"system=unix\");\t\t\\\n \tbuiltin_assert (\"system=posix\");\t\\\n     }\t\t\t\t\t\t\\"}, {"sha": "fb9f5a7370956d8cb6980a8f471291174357bca0", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -26,6 +26,7 @@ Boston, MA 02111-1307, USA.  */\n \tbuiltin_define_std (\"linux\");\t\t\\\n \tbuiltin_define (\"_LONGLONG\");\t\t\\\n \tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_assert (\"system=linux\");\t\\\n \tbuiltin_assert (\"system=unix\");\t\t\\\n \tbuiltin_assert (\"system=posix\");\t\\\n     }\t\t\t\t\t\t\\"}, {"sha": "0b3b077eca9b5fdef475dfd6b1be574afc9e15b2", "filename": "gcc/config/xtensa/linux.h", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fxtensa%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Fconfig%2Fxtensa%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flinux.h?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -19,13 +19,7 @@ along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n 02111-1307, USA.  */\n \n-#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\\\n-  do {\t\t\t\t\t\t\t\t\\\n-    builtin_define_std (\"linux\");\t\t\t\t\\\n-    builtin_define_std (\"unix\");\t\t\t\t\\\n-    builtin_define (\"__gnu_linux__\");\t\t\t\t\\\n-    builtin_assert (\"system=posix\");\t\t\t\t\\\n-  } while (0)\n+#define TARGET_OS_CPP_BUILTINS() LINUX_TARGET_OS_CPP_BUILTINS()\n \n #undef SUBTARGET_CPP_SPEC\n #define SUBTARGET_CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\""}, {"sha": "77938bd6a35cd30b8ab4b7e418bb2cae89f22cbe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -1,3 +1,7 @@\n+2003-11-28  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* testsuite/gcc.dg/cpp/assert4.c: Update.\n+\n 2003-11-28  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* gcc.dg/builtin-apply2.c: Set size of stack argument data to 64."}, {"sha": "1b09ab1beac50cb16e26cd52e132e30e5b76c466", "filename": "gcc/testsuite/gcc.dg/cpp/assert4.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassert4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b0ad130a5795cd760d22e27d16d14d4579a77e/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassert4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fassert4.c?ref=26b0ad130a5795cd760d22e27d16d14d4579a77e", "patch": "@@ -15,7 +15,7 @@\n #endif\n \n #if defined __gnu_hurd__\n-# if !#system(gnu) || !#system(unix) || !#system(posix)\n+# if !#system(gnu) || !#system(unix) || !#system(posix) || !#system(mach)\n #  error\n # endif\n #elif #system(gnu)\n@@ -128,6 +128,14 @@\n # error\n #endif\n \n+#if defined __cris__\n+# if !#cpu(cris) || !#machine(cris)\n+#  error\n+# endif\n+#elif #cpu(cris) || #machine(cris)\n+# error\n+#endif\n+\n #if defined __d30v__\n # if !#cpu(d30v) || !#machine(d30v)\n #  error"}]}