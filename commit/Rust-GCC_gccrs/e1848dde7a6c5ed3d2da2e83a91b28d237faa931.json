{"sha": "e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTE4NDhkZGU3YTZjNWVkM2QyZGEyZTgzYTkxYjI4ZDIzN2ZhYTkzMQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@twcny.rr.com", "date": "2002-06-19T23:39:42Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2002-06-19T23:39:42Z"}, "message": "* configure.in: Pull definition of is_cross_compiler earlier.\n\nFrom-SVN: r54807", "tree": {"sha": "88e5900c97840ee371dd0e5173b2f87c3b4b8264", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/88e5900c97840ee371dd0e5173b2f87c3b4b8264"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1848dde7a6c5ed3d2da2e83a91b28d237faa931/comments", "author": null, "committer": null, "parents": [{"sha": "8bc2fff1203005cbe433cd22cea65cfe7a4fd237", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bc2fff1203005cbe433cd22cea65cfe7a4fd237", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bc2fff1203005cbe433cd22cea65cfe7a4fd237"}], "stats": {"total": 27, "additions": 14, "deletions": 13}, "files": [{"sha": "a842b61c193422fba576eba800547405773b7358", "filename": "ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1848dde7a6c5ed3d2da2e83a91b28d237faa931/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1848dde7a6c5ed3d2da2e83a91b28d237faa931/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "patch": "@@ -1,5 +1,7 @@\n 2002-06-19  Nathanael Nerode  <neroden@twcny.rr.com>\n \n+\t* configure.in: Pull definition of is_cross_compiler earlier.\n+\n \t* configure.in: Rearrange a little.\n \n \t* configure.in: Remove references to librx."}, {"sha": "e3974bd21016f0fe584c4d7e9c812aff7f3b2ad2", "filename": "configure.in", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1848dde7a6c5ed3d2da2e83a91b28d237faa931/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1848dde7a6c5ed3d2da2e83a91b28d237faa931/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=e1848dde7a6c5ed3d2da2e83a91b28d237faa931", "patch": "@@ -119,6 +119,14 @@ appdirs=\"\"\n \n # per-target:\n \n+# Define is_cross_compiler to save on calls to 'test'.\n+is_cross_compiler=\n+if test x\"${host}\" = x\"${target}\" ; then\n+  is_cross_compiler=no\n+else\n+  is_cross_compiler=yes\n+fi\t\n+\n # Don't use libstdc++-v3's flags to configure/build itself.\n libstdcxx_flags='`case $$dir in libstdc++-v3 | libjava) ;; *) test ! -f $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags || $(SHELL) $$r/$(TARGET_SUBDIR)/libstdc++-v3/testsuite_flags --build-includes;; esac` -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs'\n \n@@ -426,19 +434,10 @@ esac\n # toolchains, we add some directories that should only be useful in a\n # cross-compiler.\n \n-is_cross_compiler=\n-\n-if test x\"${host}\" = x\"${target}\" ; then\n-\t# when doing a native toolchain, don't build the targets\n-\t# that are in the 'cross only' list\n-\tskipdirs=\"${skipdirs} ${cross_only}\"\n-\tis_cross_compiler=no\n-else\n-\t# similarly, don't build the targets in the 'native only' \n-\t# list when building a cross compiler\n-\tskipdirs=\"${skipdirs} ${native_only}\"\n-\tis_cross_compiler=yes\n-fi\t\n+case $is_cross_compiler in\n+  no) skipdirs=\"${skipdirs} ${cross_only}\" ;;\n+  yes) skipdirs=\"${skipdirs} ${native_only}\" ;;\n+esac\n \n # We always want to use the same name for this directory, so that dejagnu\n # can reliably find it."}]}