{"sha": "40b448ef3a8b5f8533de9c424a6843989ce99cbb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBiNDQ4ZWYzYThiNWY4NTMzZGU5YzQyNGE2ODQzOTg5Y2U5OWNiYg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2007-02-16T09:34:24Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2007-02-16T09:34:24Z"}, "message": "tree-flow-inline.h (single_imm_use_p): Remove.\n\n2007-02-16  Richard Guenther  <rguenther@suse.de>\n\n\t* tree-flow-inline.h (single_imm_use_p): Remove.\n\t(zero_imm_uses_p): Likewise.\n\t* tree-ssa-coalesce.c (create_outofssa_var_map): Use has_single_use\n\tinstead of single_imm_use_p.\n\t* tree-cfg.c (replace_uses_by): Use has_zero_use instead of\n\tzero_imm_uses_p.\n\nFrom-SVN: r122036", "tree": {"sha": "f8f3a676f08510bce33991ec76f4760c9c9b62bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8f3a676f08510bce33991ec76f4760c9c9b62bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40b448ef3a8b5f8533de9c424a6843989ce99cbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b448ef3a8b5f8533de9c424a6843989ce99cbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40b448ef3a8b5f8533de9c424a6843989ce99cbb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b448ef3a8b5f8533de9c424a6843989ce99cbb/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "70d0631e690e22718672d4cc78cf383acc1ffc51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70d0631e690e22718672d4cc78cf383acc1ffc51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70d0631e690e22718672d4cc78cf383acc1ffc51"}], "stats": {"total": 32, "additions": 11, "deletions": 21}, "files": [{"sha": "1af0a93776d21eb5d63d4f6f8e340d964177de89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=40b448ef3a8b5f8533de9c424a6843989ce99cbb", "patch": "@@ -1,3 +1,12 @@\n+2007-02-16  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree-flow-inline.h (single_imm_use_p): Remove.\n+\t(zero_imm_uses_p): Likewise.\n+\t* tree-ssa-coalesce.c (create_outofssa_var_map): Use has_single_use\n+\tinstead of single_imm_use_p.\n+\t* tree-cfg.c (replace_uses_by): Use has_zero_use instead of\n+\tzero_imm_uses_p.\n+\n 2007-02-16  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \tPR other/27843"}, {"sha": "a99f3c7f5eb31aaf8a4652abcd500488f6e09c57", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=40b448ef3a8b5f8533de9c424a6843989ce99cbb", "patch": "@@ -1208,7 +1208,7 @@ replace_uses_by (tree name, tree val)\n \t}\n     }\n \n-  gcc_assert (zero_imm_uses_p (name));\n+  gcc_assert (has_zero_uses (name));\n \n   /* Also update the trees stored in loop structures.  */\n   if (current_loops)"}, {"sha": "8d1072aaf4d18a8e52fb72b8ffa6e7d622891ca5", "filename": "gcc/tree-flow-inline.h", "status": "modified", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-flow-inline.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-flow-inline.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-flow-inline.h?ref=40b448ef3a8b5f8533de9c424a6843989ce99cbb", "patch": "@@ -560,17 +560,6 @@ has_single_use (tree var)\n }\n \n \n-/* If VAR has only a single immediate use, return true.  */\n-static inline bool\n-single_imm_use_p (tree var)\n-{\n-  ssa_use_operand_t *ptr;\n-\n-  ptr = &(SSA_NAME_IMM_USE_NODE (var));\n-  return (ptr != ptr->next && ptr == ptr->next->next);\n-}\n-\n-\n /* If VAR has only a single immediate use, return true, and set USE_P and STMT\n    to the use pointer and stmt of occurrence.  */\n static inline bool\n@@ -605,14 +594,6 @@ num_imm_uses (tree var)\n   return num;\n }\n \n-/* Return true if VAR has no immediate uses.  */\n-static inline bool\n-zero_imm_uses_p (tree var)\n-{\n-  ssa_use_operand_t *ptr = &(SSA_NAME_IMM_USE_NODE (var));\n-  return (ptr == ptr->next);\n-}\n-\n /* Return the tree pointer to by USE.  */ \n static inline tree\n get_use_from_ptr (use_operand_p use)"}, {"sha": "80586bd038ca2f3ab2181a292e555cdbfbfa5325", "filename": "gcc/tree-ssa-coalesce.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-ssa-coalesce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b448ef3a8b5f8533de9c424a6843989ce99cbb/gcc%2Ftree-ssa-coalesce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-coalesce.c?ref=40b448ef3a8b5f8533de9c424a6843989ce99cbb", "patch": "@@ -976,7 +976,7 @@ create_outofssa_var_map (coalesce_list_p cl, bitmap used_in_copy)\n \t\t  if ((e->flags & EDGE_ABNORMAL) == 0)\n \t\t    {\n \t\t      int cost = coalesce_cost_edge (e);\n-\t\t      if (cost == 1 && single_imm_use_p (arg))\n+\t\t      if (cost == 1 && has_single_use (arg))\n \t\t        add_cost_one_coalesce (cl, ver, SSA_NAME_VERSION (arg));\n \t\t      else\n \t\t\tadd_coalesce (cl, ver, SSA_NAME_VERSION (arg), cost);"}]}