{"sha": "5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU5NmU5MmZkOGZmZDRmM2Y5MDhlMTJhM2E5NThmYTkyY2I2ZTA3Ng==", "commit": {"author": {"name": "Thomas Fitzsimmons", "email": "fitzsim@redhat.com", "date": "2003-07-29T19:42:37Z"}, "committer": {"name": "Thomas Fitzsimmons", "email": "fitzsim@gcc.gnu.org", "date": "2003-07-29T19:42:37Z"}, "message": "GtkButtonPeer.java: Call getName rather than getXLFD.\n\n2003-07-29  Thomas Fitzsimmons  <fitzsim@redhat.com>\n\n\t* gnu/java/awt/peer/gtk/GtkButtonPeer.java: Call getName rather\n\tthan getXLFD.\n\t* gnu/java/awt/peer/gtk/GtkTextFieldPeer.java: Likewise.\n\t* gnu/java/awt/peer/gtk/GtkTextAreaPeer.java: Likewise.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c\n\t(gtkSetFont): Scale size parameter by PANGO_SCALE.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c:\n\tLikewise.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c:\n\tLikewise.\n\nFrom-SVN: r69936", "tree": {"sha": "a91d03214eb9318f66b67618c18dce682d7acbf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a91d03214eb9318f66b67618c18dce682d7acbf0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/comments", "author": null, "committer": null, "parents": [{"sha": "52c0c542ae190ab901e87c8216ea8199f6a17d24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52c0c542ae190ab901e87c8216ea8199f6a17d24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52c0c542ae190ab901e87c8216ea8199f6a17d24"}], "stats": {"total": 42, "additions": 30, "deletions": 12}, "files": [{"sha": "51626bd0cbb8edddcbc1dcdd043d356814a996d5", "filename": "libjava/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -1,3 +1,16 @@\n+2003-07-29  Thomas Fitzsimmons  <fitzsim@redhat.com>\n+\n+\t* gnu/java/awt/peer/gtk/GtkButtonPeer.java: Call getName rather\n+\tthan getXLFD.\n+\t* gnu/java/awt/peer/gtk/GtkTextFieldPeer.java: Likewise.\n+\t* gnu/java/awt/peer/gtk/GtkTextAreaPeer.java: Likewise.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c\n+\t(gtkSetFont): Scale size parameter by PANGO_SCALE.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c:\n+\tLikewise.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c:\n+\tLikewise.\n+\n 2003-07-29  Tom Tromey  <tromey@redhat.com>\n \n \t* defineclass.cc (handleField): Throw exception if field name is"}, {"sha": "830b9f08f8b498658e41ca3713423488b45f2769", "filename": "libjava/gnu/java/awt/peer/gtk/GtkButtonPeer.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -95,6 +95,6 @@ public void getArgs (Component component, GtkArgList args)\n \n   public void setFont (Font f)\n   {\n-    gtkSetFont(((GtkFontPeer)f.getPeer()).getXLFD(), f.getSize());\n+    gtkSetFont(f.getName(), f.getSize());\n   }\n }"}, {"sha": "b8973fdca9554c69b541470bf82cf4c19d796b79", "filename": "libjava/gnu/java/awt/peer/gtk/GtkTextAreaPeer.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -107,6 +107,6 @@ public void insertText (String str, int pos)\n \n   public void setFont (Font f)\n   {\n-    gtkSetFont(((GtkFontPeer)f.getPeer()).getXLFD(), f.getSize());\n+    gtkSetFont(f.getName(), f.getSize());\n   }\n }"}, {"sha": "20f61aa81e0a0f3cd6c2767e9e4112c6799f6acd", "filename": "libjava/gnu/java/awt/peer/gtk/GtkTextFieldPeer.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -104,7 +104,7 @@ public void setEchoCharacter (char c)\n \n   public void setFont (Font f)\n   {\n-    gtkSetFont(((GtkFontPeer)f.getPeer()).getXLFD(), f.getSize());\n+    gtkSetFont(f.getName(), f.getSize());\n   }\n \n   public void handleEvent (AWTEvent e)"}, {"sha": "110b01974d9437a3c2e0ae3ab37a6d17af50c8a4", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -42,11 +42,11 @@ exception statement from your version. */\n JNIEXPORT void JNICALL Java_gnu_java_awt_peer_gtk_GtkButtonPeer_create\n   (JNIEnv *env, jobject obj)\n {\n-  GtkButton *button;\n+  GtkWidget *button;\n \n   gdk_threads_enter ();\n   button = gtk_button_new();\n-  gtk_widget_show (GTK_WIDGET(button));\n+  gtk_widget_show (button);\n   gdk_threads_leave ();\n   NSA_SET_PTR (env, obj, button);\n }\n@@ -74,8 +74,10 @@ Java_gnu_java_awt_peer_gtk_GtkButtonPeer_gtkSetFont\n   gdk_threads_enter();\n \n   font_desc = pango_font_description_from_string (font_name);\n-  pango_font_description_set_size (font_desc, size);\n+  pango_font_description_set_size (font_desc, size * PANGO_SCALE);\n+\n   gtk_widget_modify_font (GTK_WIDGET(label), font_desc);\n+\n   pango_font_description_free (font_desc);\n \n   gdk_threads_leave();"}, {"sha": "3ebe2ab28494a2478f023e9f14755864e54735ac", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextAreaPeer.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextAreaPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextAreaPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextAreaPeer.c?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -170,18 +170,19 @@ Java_gnu_java_awt_peer_gtk_GtkTextAreaPeer_gtkSetFont\n \n   ptr = NSA_GET_PTR (env, obj);\n   text = GTK_WIDGET (TEXT_FROM_SW (ptr));\n-  \n+\n   font_name = (*env)->GetStringUTFChars (env, jname, NULL);\n \n   gdk_threads_enter();\n \n   font_desc = pango_font_description_from_string (font_name);\n-  pango_font_description_set_size (font_desc, size);\n+  pango_font_description_set_size (font_desc, size * PANGO_SCALE);\n+\n   gtk_widget_modify_font (GTK_WIDGET(text), font_desc);\n+\n   pango_font_description_free (font_desc);\n-  \n+\n   gdk_threads_leave();\n \n   (*env)->ReleaseStringUTFChars (env, jname, font_name);\n-\n }"}, {"sha": "d08934842ef8d0f1072e9e898231c23a7e1ac98a", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkTextFieldPeer.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextFieldPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5596e92fd8ffd4f3f908e12a3a958fa92cb6e076/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextFieldPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkTextFieldPeer.c?ref=5596e92fd8ffd4f3f908e12a3a958fa92cb6e076", "patch": "@@ -110,15 +110,17 @@ Java_gnu_java_awt_peer_gtk_GtkTextFieldPeer_gtkSetFont\n   PangoFontDescription *font_desc;\n \n   ptr = NSA_GET_PTR (env, obj);\n-  \n+\n   entry = GTK_WIDGET (ptr);\n   font_name = (*env)->GetStringUTFChars (env, jname, NULL);\n \n   gdk_threads_enter();\n \n   font_desc = pango_font_description_from_string (font_name);\n-  pango_font_description_set_size (font_desc, size);\n+  pango_font_description_set_size (font_desc, size * PANGO_SCALE);\n+\n   gtk_widget_modify_font (GTK_WIDGET(entry), font_desc);\n+\n   pango_font_description_free (font_desc);\n \n   gdk_threads_leave();"}]}