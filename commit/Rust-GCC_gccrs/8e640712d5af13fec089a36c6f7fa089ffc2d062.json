{"sha": "8e640712d5af13fec089a36c6f7fa089ffc2d062", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU2NDA3MTJkNWFmMTNmZWMwODlhMzZjNmY3ZmEwODlmZmMyZDA2Mg==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2017-04-25T17:18:39Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@gcc.gnu.org", "date": "2017-04-25T17:18:39Z"}, "message": "PR bootstrap/80486 - spurious -Walloc-size-larger-than and -Wstringop-overflow in dominance.c during profiledbootstrap\n\ngcc/ChangeLog:\n\n\tPR bootstrap/80486\n\t* dominance.c (dom_info::m_n_basic_blocks): Change type to unsigned.\n\t(new_zero_array): Adjust signature.\n\t(dom_info::dom_init): Used unsigned rather that size_t.\n\t(dom_info::dom_info): Same.\n\nFrom-SVN: r247261", "tree": {"sha": "6a1c05d5f81acd832195faf7a03f3efb3d1f7e7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a1c05d5f81acd832195faf7a03f3efb3d1f7e7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e640712d5af13fec089a36c6f7fa089ffc2d062", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e640712d5af13fec089a36c6f7fa089ffc2d062", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e640712d5af13fec089a36c6f7fa089ffc2d062", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e640712d5af13fec089a36c6f7fa089ffc2d062/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7629ae90d817ea1cb6928b1fe7036ef309ff094f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7629ae90d817ea1cb6928b1fe7036ef309ff094f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7629ae90d817ea1cb6928b1fe7036ef309ff094f"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "1c9ebbec4f15aab45bb9e2d999a67db3468bb2ea", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e640712d5af13fec089a36c6f7fa089ffc2d062/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e640712d5af13fec089a36c6f7fa089ffc2d062/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8e640712d5af13fec089a36c6f7fa089ffc2d062", "patch": "@@ -1,3 +1,11 @@\n+2017-04-25  Martin Sebor  <msebor@redhat.com>\n+\n+\tPR bootstrap/80486\n+\t* dominance.c (dom_info::m_n_basic_blocks): Change type to unsigned.\n+\t(new_zero_array): Adjust signature.\n+\t(dom_info::dom_init): Used unsigned rather that size_t.\n+\t(dom_info::dom_info): Same.\n+\n 2017-04-25  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "1d4bd543cceadca4d7ec301466bb9e4b8fe6ccc3", "filename": "gcc/dominance.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e640712d5af13fec089a36c6f7fa089ffc2d062/gcc%2Fdominance.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e640712d5af13fec089a36c6f7fa089ffc2d062/gcc%2Fdominance.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdominance.c?ref=8e640712d5af13fec089a36c6f7fa089ffc2d062", "patch": "@@ -125,7 +125,7 @@ class dom_info\n   bitmap m_fake_exit_edge;\n \n   /* Number of basic blocks in the function being compiled.  */\n-  size_t m_n_basic_blocks;\n+  unsigned m_n_basic_blocks;\n \n   /* True, if we are computing postdominators (rather than dominators).  */\n   bool m_reverse;\n@@ -148,7 +148,7 @@ void debug_dominance_tree (cdi_direction, basic_block);\n    `x = new T[num] {};'.  */\n \n template<typename T>\n-inline T *new_zero_array (size_t num)\n+inline T *new_zero_array (unsigned num)\n {\n   T *result = new T[num];\n   memset (result, 0, sizeof (T) * num);\n@@ -160,14 +160,15 @@ inline T *new_zero_array (size_t num)\n void\n dom_info::dom_init (void)\n {\n-  size_t num = m_n_basic_blocks;\n+  unsigned num = m_n_basic_blocks;\n+\n   m_dfs_parent = new_zero_array <TBB> (num);\n   m_dom = new_zero_array <TBB> (num);\n \n   m_path_min = new TBB[num];\n   m_key = new TBB[num];\n   m_set_size = new unsigned int[num];\n-  for (size_t i = 0; i < num; i++)\n+  for (unsigned i = 0; i < num; i++)\n     {\n       m_path_min[i] = m_key[i] = i;\n       m_set_size[i] = 1;\n@@ -221,13 +222,13 @@ dom_info::dom_info (function *fn, cdi_direction dir)\n dom_info::dom_info (vec<basic_block> region, cdi_direction dir)\n {\n   m_n_basic_blocks = region.length ();\n-  unsigned int nm1 = m_n_basic_blocks - 1;\n+  unsigned nm1 = m_n_basic_blocks - 1;\n \n   dom_init ();\n \n   /* Determine max basic block index in region.  */\n   int max_index = region[0]->index;\n-  for (size_t i = 1; i <= nm1; i++)\n+  for (unsigned i = 1; i <= nm1; i++)\n     if (region[i]->index > max_index)\n       max_index = region[i]->index;\n   max_index += 1;  /* set index on the first bb out of region.  */"}]}