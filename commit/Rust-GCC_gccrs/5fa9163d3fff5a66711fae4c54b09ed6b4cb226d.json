{"sha": "5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWZhOTE2M2QzZmZmNWE2NjcxMWZhZTRjNTRiMDllZDZiNGNiMjI2ZA==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2015-06-26T23:30:37Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "2015-06-26T23:30:37Z"}, "message": "gimple.c (gimple_call_set_fndecl): Remove.\n\n2015-06-26  Andrew MacLeod  <amacleod@redhat.com>\n\n\t* gimple.c (gimple_call_set_fndecl): Remove.\n\t* gimple.h (gimple_call_set_fndecl): Relocate to gimple.h and call\n\tbuild1_loc directly instead of build_fold_addr_expr_loc.\n\nFrom-SVN: r225090", "tree": {"sha": "ec7611dea9fc71a5129b3fb7622d00420a1d8f30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec7611dea9fc71a5129b3fb7622d00420a1d8f30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/comments", "author": null, "committer": null, "parents": [{"sha": "315219515d9dd4bea8c44b9abf8ede57c0919fad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/315219515d9dd4bea8c44b9abf8ede57c0919fad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/315219515d9dd4bea8c44b9abf8ede57c0919fad"}], "stats": {"total": 30, "additions": 19, "deletions": 11}, "files": [{"sha": "31ee3cb3ef51255593bc4f256b1166b7fde06461", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "patch": "@@ -1,3 +1,9 @@\n+2015-06-26  Andrew MacLeod  <amacleod@redhat.com>\n+\n+\t* gimple.c (gimple_call_set_fndecl): Remove.\n+\t* gimple.h (gimple_call_set_fndecl): Relocate to gimple.h and call\n+\tbuild1_loc directly instead of build_fold_addr_expr_loc.\n+\n 2015-06-26  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* hash-map.h (hash_map::traverse): Use the definition of the"}, {"sha": "b32c6b5ada48b122ed35e9dd8fce6045c601c737", "filename": "gcc/gimple.c", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2Fgimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2Fgimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple.c?ref=5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "patch": "@@ -199,16 +199,6 @@ gimple_build_return (tree retval)\n   return s;\n }\n \n-/* Set FNDECL to be the function called by call statement GS.  */\n-\n-void\n-gimple_call_set_fndecl (gimple gs, tree decl)\n-{\n-  GIMPLE_CHECK (gs, GIMPLE_CALL);\n-  gcc_gimple_checking_assert (!gimple_call_internal_p (gs));\n-  gimple_set_op (gs, 1, build_fold_addr_expr_loc (gimple_location (gs), decl));\n-}\n-\n /* Reset alias information on call S.  */\n \n void"}, {"sha": "253f4385dec5b0bd6a38995c94e0952f194df6ba", "filename": "gcc/gimple.h", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2Fgimple.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5fa9163d3fff5a66711fae4c54b09ed6b4cb226d/gcc%2Fgimple.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple.h?ref=5fa9163d3fff5a66711fae4c54b09ed6b4cb226d", "patch": "@@ -1296,7 +1296,6 @@ extern gimple currently_expanding_gimple_stmt;\n #define gimple_alloc(c, n) gimple_alloc_stat (c, n MEM_STAT_INFO)\n gimple gimple_alloc_stat (enum gimple_code, unsigned MEM_STAT_DECL);\n greturn *gimple_build_return (tree);\n-void gimple_call_set_fndecl (gimple, tree);\n void gimple_call_reset_alias_info (gcall *);\n gcall *gimple_build_call_vec (tree, vec<tree> );\n gcall *gimple_build_call (tree, unsigned, ...);\n@@ -2760,6 +2759,19 @@ gimple_call_set_fn (gcall *gs, tree fn)\n }\n \n \n+/* Set FNDECL to be the function called by call statement GS.  */\n+\n+static inline void\n+gimple_call_set_fndecl (gimple gs, tree decl)\n+{\n+  GIMPLE_CHECK (gs, GIMPLE_CALL);\n+  gcc_gimple_checking_assert (!gimple_call_internal_p (gs));\n+  gimple_set_op (gs, 1, build1_loc (gimple_location (gs), ADDR_EXPR,\n+\t\t\t\t     build_pointer_type (TREE_TYPE (decl)),\n+\t\t\t\t     decl));\n+}\n+\n+\n /* Set internal function FN to be the function called by call statement CALL_STMT.  */\n \n static inline void"}]}