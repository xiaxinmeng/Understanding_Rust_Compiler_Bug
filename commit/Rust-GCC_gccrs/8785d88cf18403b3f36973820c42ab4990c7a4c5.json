{"sha": "8785d88cf18403b3f36973820c42ab4990c7a4c5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc4NWQ4OGNmMTg0MDNiM2YzNjk3MzgyMGM0MmFiNDk5MGM3YTRjNQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@codesourcery.com", "date": "2007-09-01T18:55:48Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2007-09-01T18:55:48Z"}, "message": "m68k.c (TARGET_DEFAULT_TARGET_FLAGS): Remove.\n\n\t* config/m68k/m68k.c (TARGET_DEFAULT_TARGET_FLAGS): Remove.\n\t(override_options): Turn on -mstrict-align on non-ColdFire\n\ttargets.\n\t* config/m68k/m68k.h (BIGGEST_ALIGNMENT): Update a comment.\n\nFrom-SVN: r128015", "tree": {"sha": "c214bfd353e0500acfe289374e68aa2cf6f87411", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c214bfd353e0500acfe289374e68aa2cf6f87411"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8785d88cf18403b3f36973820c42ab4990c7a4c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8785d88cf18403b3f36973820c42ab4990c7a4c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8785d88cf18403b3f36973820c42ab4990c7a4c5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8785d88cf18403b3f36973820c42ab4990c7a4c5/comments", "author": null, "committer": null, "parents": [{"sha": "755478019ac28552396592d63b2e1ffeeaa24206", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/755478019ac28552396592d63b2e1ffeeaa24206", "html_url": "https://github.com/Rust-GCC/gccrs/commit/755478019ac28552396592d63b2e1ffeeaa24206"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "60eb7cae1b7648f067147bdd586e3a059547c596", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8785d88cf18403b3f36973820c42ab4990c7a4c5", "patch": "@@ -1,3 +1,10 @@\n+2007-09-01  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\t* config/m68k/m68k.c (TARGET_DEFAULT_TARGET_FLAGS): Remove.\n+\t(override_options): Turn on -mstrict-align on non-ColdFire\n+\ttargets.\n+\t* config/m68k/m68k.h (BIGGEST_ALIGNMENT): Update a comment.\n+\n 2007-09-01  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* c-common.c (const_strip_array_types): Delete."}, {"sha": "76d765e725245eda1337d335b49bd7b1b6e276f1", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=8785d88cf18403b3f36973820c42ab4990c7a4c5", "patch": "@@ -185,8 +185,6 @@ int m68k_last_compare_had_fp_operands;\n #undef TARGET_ASM_FILE_START_APP_OFF\n #define TARGET_ASM_FILE_START_APP_OFF true\n \n-#undef TARGET_DEFAULT_TARGET_FLAGS\n-#define TARGET_DEFAULT_TARGET_FLAGS MASK_STRICT_ALIGNMENT\n #undef TARGET_HANDLE_OPTION\n #define TARGET_HANDLE_OPTION m68k_handle_option\n \n@@ -510,6 +508,11 @@ override_options (void)\n   /* Use the architecture setting to derive default values for\n      certain flags.  */\n   target_mask = 0;\n+\n+  /* ColdFire is lenient about alignment.  */\n+  if (!TARGET_COLDFIRE)\n+    target_mask |= MASK_STRICT_ALIGNMENT;\n+\n   if ((m68k_cpu_flags & FL_BITFIELD) != 0)\n     target_mask |= MASK_BITFIELD;\n   if ((m68k_cpu_flags & FL_CF_HWDIV) != 0)"}, {"sha": "96756f3a4c85b2a51491a9ee24cd38ee87e31192", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8785d88cf18403b3f36973820c42ab4990c7a4c5/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=8785d88cf18403b3f36973820c42ab4990c7a4c5", "patch": "@@ -305,8 +305,7 @@ along with GCC; see the file COPYING3.  If not see\n /* No data type wants to be aligned rounder than this.\n    Most published ABIs say that ints should be aligned on 16-bit\n    boundaries, but CPUs with 32-bit busses get better performance\n-   aligned on 32-bit boundaries.  ColdFires without a misalignment\n-   module require 32-bit alignment.  */\n+   aligned on 32-bit boundaries.  */\n #define BIGGEST_ALIGNMENT (TARGET_ALIGN_INT ? 32 : 16)\n \n #define STRICT_ALIGNMENT (TARGET_STRICT_ALIGNMENT)"}]}