{"sha": "26586d771d2e0c7329c656c8f9a39c8151b53d44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY1ODZkNzcxZDJlMGM3MzI5YzY1NmM4ZjlhMzljODE1MWI1M2Q0NA==", "commit": {"author": {"name": "Alex Velenko", "email": "Alex.Velenko@arm.com", "date": "2015-01-28T15:11:58Z"}, "committer": {"name": "Alex Velenko", "email": "avelenko@gcc.gnu.org", "date": "2015-01-28T15:11:58Z"}, "message": "atomic-op-consume.c (scan-assember-times): Adjust scan-assembler-times pattern.\n\n2015-01-28  Alex Velenko  <Alex.Velenko@arm.com>\n\ngcc/testsuite/\n\n\t* gcc.target/arm/atomic-op-consume.c (scan-assember-times): Adjust\n\tscan-assembler-times pattern.\n\nFrom-SVN: r220208", "tree": {"sha": "8a76c6f4a82d6cc25b78135fde3bbed63accb500", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8a76c6f4a82d6cc25b78135fde3bbed63accb500"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26586d771d2e0c7329c656c8f9a39c8151b53d44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26586d771d2e0c7329c656c8f9a39c8151b53d44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26586d771d2e0c7329c656c8f9a39c8151b53d44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26586d771d2e0c7329c656c8f9a39c8151b53d44/comments", "author": null, "committer": null, "parents": [{"sha": "739cdc9041fbf867b8228ac9ff890045f366caf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/739cdc9041fbf867b8228ac9ff890045f366caf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/739cdc9041fbf867b8228ac9ff890045f366caf1"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "fb86e8c9fbf41e59f26611e7cd9be2204d267266", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26586d771d2e0c7329c656c8f9a39c8151b53d44/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26586d771d2e0c7329c656c8f9a39c8151b53d44/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=26586d771d2e0c7329c656c8f9a39c8151b53d44", "patch": "@@ -1,3 +1,8 @@\n+2015-01-28  Alex Velenko  <Alex.Velenko@arm.com>\n+\n+\t* gcc.target/arm/atomic-op-consume.c (scan-assember-times): Adjust\n+\tscan-assembler-times pattern.\n+\n 2015-01-28  Yuri Rumyantsev  <ysrumyan@gmail.com>\n \n \tPR middle-end/64809"}, {"sha": "cc6c02835044ca50f8fe67425f8157f249c6bcf3", "filename": "gcc/testsuite/gcc.target/arm/atomic-op-consume.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26586d771d2e0c7329c656c8f9a39c8151b53d44/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fatomic-op-consume.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26586d771d2e0c7329c656c8f9a39c8151b53d44/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fatomic-op-consume.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fatomic-op-consume.c?ref=26586d771d2e0c7329c656c8f9a39c8151b53d44", "patch": "@@ -5,6 +5,9 @@\n \n #include \"../aarch64/atomic-op-consume.x\"\n \n-/* { dg-final { scan-assembler-times \"ldrex\\tr\\[0-9\\]+, \\\\\\[r\\[0-9\\]+\\\\\\]\" 6 } } */\n+/* To workaround Bugzilla 59448 issue, a request for __ATOMIC_CONSUME is always\n+   promoted to __ATOMIC_ACQUIRE, implemented as MEMMODEL_ACQUIRE.  This causes\n+   \"LDAEX\" to be generated instead of \"LDREX\".  */\n+/* { dg-final { scan-assembler-times \"ldaex\\tr\\[0-9\\]+, \\\\\\[r\\[0-9\\]+\\\\\\]\" 6 } } */\n /* { dg-final { scan-assembler-times \"strex\\t...?, r\\[0-9\\]+, \\\\\\[r\\[0-9\\]+\\\\\\]\" 6 } } */\n /* { dg-final { scan-assembler-not \"dmb\" } } */"}]}