{"sha": "18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThiYTRiMGRiZDk3MWZjODc5YzhkYjNjYmU1MDcyNmM4YmQ3YzI1ZQ==", "commit": {"author": {"name": "Bob Duff", "email": "duff@adacore.com", "date": "2019-08-12T09:01:14Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-08-12T09:01:14Z"}, "message": "[Ada] Prevent crash in Put_Scaled\n\nThis patch fixes a bug in Put_Scaled, which causes a crash when checks\nare on.\n\n2019-08-12  Bob Duff  <duff@adacore.com>\n\ngcc/ada/\n\n\t* libgnat/a-tifiio.adb (Put_Scaled): Prevent AA from being\n\tnegative, since Field is range 0 .. something.\n\nFrom-SVN: r274300", "tree": {"sha": "25ec535fede4776b7031e22dfb6509150e949539", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/25ec535fede4776b7031e22dfb6509150e949539"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e/comments", "author": {"login": "bobduff", "id": 29099567, "node_id": "MDQ6VXNlcjI5MDk5NTY3", "avatar_url": "https://avatars.githubusercontent.com/u/29099567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobduff", "html_url": "https://github.com/bobduff", "followers_url": "https://api.github.com/users/bobduff/followers", "following_url": "https://api.github.com/users/bobduff/following{/other_user}", "gists_url": "https://api.github.com/users/bobduff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobduff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobduff/subscriptions", "organizations_url": "https://api.github.com/users/bobduff/orgs", "repos_url": "https://api.github.com/users/bobduff/repos", "events_url": "https://api.github.com/users/bobduff/events{/privacy}", "received_events_url": "https://api.github.com/users/bobduff/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e5f9f5020f798333b7ca2fd10cd48d8cfc09e6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e5f9f5020f798333b7ca2fd10cd48d8cfc09e6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e5f9f5020f798333b7ca2fd10cd48d8cfc09e6c"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "97f3141463913321a9363c1c72a4ad84c4a2ff56", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "patch": "@@ -1,3 +1,8 @@\n+2019-08-12  Bob Duff  <duff@adacore.com>\n+\n+\t* libgnat/a-tifiio.adb (Put_Scaled): Prevent AA from being\n+\tnegative, since Field is range 0 .. something.\n+\n 2019-08-12  Bob Duff  <duff@adacore.com>\n \n \t* doc/gnat_ugn/gnat_utility_programs.rst (gnatmetric, gnatpp,"}, {"sha": "d0486460ecdd6ab09328bb77ad9ba894caefcea7", "filename": "gcc/ada/libgnat/a-tifiio.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e/gcc%2Fada%2Flibgnat%2Fa-tifiio.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e/gcc%2Fada%2Flibgnat%2Fa-tifiio.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-tifiio.adb?ref=18ba4b0dbd971fc879c8db3cbe50726c8bd7c25e", "patch": "@@ -560,7 +560,7 @@ package body Ada.Text_IO.Fixed_IO is\n          E       : Integer)\n       is\n          pragma Assert (E >= -Max_Digits);\n-         AA : constant Field := E + A;\n+         AA : constant Field := Integer'Max (E + A, 0);\n          N  : constant Natural := (AA + Max_Digits - 1) / Max_Digits + 1;\n \n          Q  : array (0 .. N - 1) of Int64 := (others => 0);"}]}