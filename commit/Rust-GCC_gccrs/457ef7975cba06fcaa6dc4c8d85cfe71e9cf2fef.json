{"sha": "457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDU3ZWY3OTc1Y2JhMDZmY2FhNmRjNGM4ZDg1Y2ZlNzFlOWNmMmZlZg==", "commit": {"author": {"name": "Marc Espie", "email": "espie@gcc.gnu.org", "date": "2003-11-18T12:56:44Z"}, "committer": {"name": "Marc Espie", "email": "espie@gcc.gnu.org", "date": "2003-11-18T12:56:44Z"}, "message": "sysv4.h: OpenBSD hooks.\n\n2003-11-18  Marc Espie  <espie@openbsd.org>\n\n\t* config/rs6000/sysv4.h: OpenBSD hooks.\n\nFrom-SVN: r73702", "tree": {"sha": "7ab4f895b9ff5b593b7aa9ffee44daf6fa1676fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ab4f895b9ff5b593b7aa9ffee44daf6fa1676fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef/comments", "author": null, "committer": null, "parents": [{"sha": "fc6d6d62cf380294ecda48519c94ed5187a2df5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc6d6d62cf380294ecda48519c94ed5187a2df5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc6d6d62cf380294ecda48519c94ed5187a2df5e"}], "stats": {"total": 53, "additions": 51, "deletions": 2}, "files": [{"sha": "8e07f9033b1068935b426a4e7479c773746917f1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "patch": "@@ -1,3 +1,7 @@\n+2003-11-18  Marc Espie  <espie@openbsd.org>\n+\n+\t* config/rs6000/sysv4.h: OpenBSD hooks.\n+\n 2003-11-18  Richard Henderson  <rth@redhat.com>\n \n \t* expr.c (expand_expr): Don't look through constant arrays if\n@@ -29,7 +33,7 @@\n \tRemove prototype.\n \t* config/stormy16/stormy16.c (xstormy16_build_va_list): Rename\n \tto xstormy16_build_builtin_va_list and make static.\n-        (TARGET_BUILD_BUILTIN_VA_LIST): Define.\n+\t(TARGET_BUILD_BUILTIN_VA_LIST): Define.\n \n 2003-11-16  Kazu Hirata  <kazu@cs.umass.edu>\n "}, {"sha": "2c82b057e4368d427af925d73966b7d175bf1fa4", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 46, "deletions": 1, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=457ef7975cba06fcaa6dc4c8d85cfe71e9cf2fef", "patch": "@@ -199,6 +199,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n     rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"netbsd\"))\t\t\t\t\\\n     rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n+  else if (!strcmp (rs6000_abi_name, \"openbsd\"))\t\t\t\\\n+    rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"i960-old\"))\t\t\t\\\n     {\t\t\t\t\t\t\t\t\t\\\n       rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n@@ -808,6 +810,7 @@ extern int fixuplabelno;\n   mcall-aixdesc |\t\t   \\\n   mcall-freebsd |\t\t   \\\n   mcall-netbsd  |\t\t   \\\n+  mcall-openbsd |\t\t   \\\n   mcall-linux   |\t\t   \\\n   mcall-gnu             :-mbig;    \\\n   mcall-i960-old        :-mlittle}\"\n@@ -830,6 +833,7 @@ extern int fixuplabelno;\n   mcall-aixdesc |\t\t\t\t\t  \\\n   mcall-freebsd |\t\t\t\t\t  \\\n   mcall-netbsd  |\t\t\t\t\t  \\\n+  mcall-openbsd |\t\t\t\t\t  \\\n   mcall-linux   |\t\t\t\t\t  \\\n   mcall-gnu             : -mbig %(cc1_endian_big);        \\\n   mcall-i960-old        : -mlittle %(cc1_endian_little);  \\\n@@ -842,7 +846,8 @@ extern int fixuplabelno;\n     %{mcall-i960-old: -meabi } \\\n     %{mcall-linux: -mno-eabi } \\\n     %{mcall-gnu: -mno-eabi } \\\n-    %{mcall-netbsd: -mno-eabi }}} \\\n+    %{mcall-netbsd: -mno-eabi } \\\n+    %{mcall-openbsd: -mno-eabi }}} \\\n %{msdata: -msdata=default} \\\n %{mno-sdata: -msdata=none} \\\n %{profile: -p}\"\n@@ -875,6 +880,7 @@ extern int fixuplabelno;\n   mcall-linux  : %(link_start_linux)       ; \\\n   mcall-gnu    : %(link_start_gnu)         ; \\\n   mcall-netbsd : %(link_start_netbsd)      ; \\\n+  mcall-openbsd: %(link_start_openbsd)     ; \\\n                : %(link_start_default)     }\"\n \n #define LINK_START_DEFAULT_SPEC \"\"\n@@ -932,6 +938,7 @@ extern int fixuplabelno;\n   mcall-linux  : %(link_os_linux)       ; \\\n   mcall-gnu    : %(link_os_gnu)         ; \\\n   mcall-netbsd : %(link_os_netbsd)      ; \\\n+  mcall-openbsd: %(link_os_openbsd)     ; \\\n                : %(link_os_default)     }\"\n \n #define LINK_OS_DEFAULT_SPEC \"\"\n@@ -948,6 +955,7 @@ extern int fixuplabelno;\n   mcall-linux  : %(cpp_os_linux)       ; \\\n   mcall-gnu    : %(cpp_os_gnu)         ; \\\n   mcall-netbsd : %(cpp_os_netbsd)      ; \\\n+  mcall-openbsd: %(cpp_os_openbsd)     ; \\\n                : %(cpp_os_default)     }\"\n \n #define\tCPP_OS_DEFAULT_SPEC \"\"\n@@ -964,6 +972,7 @@ extern int fixuplabelno;\n   mcall-linux  : %(startfile_linux)       ; \\\n   mcall-gnu    : %(startfile_gnu)         ; \\\n   mcall-netbsd : %(startfile_netbsd)      ; \\\n+  mcall-openbsd: %(startfile_openbsd)     ; \\\n                : %(startfile_default)     }\"\n \n #define\tSTARTFILE_DEFAULT_SPEC \"\"\n@@ -980,6 +989,7 @@ extern int fixuplabelno;\n   mcall-linux  : %(lib_linux)       ; \\\n   mcall-gnu    : %(lib_gnu)         ; \\\n   mcall-netbsd : %(lib_netbsd)      ; \\\n+  mcall-openbsd: %(lib_openbsd)     ; \\\n                : %(lib_default)     }\"\n \n #define LIB_DEFAULT_SPEC \"\"\n@@ -996,6 +1006,7 @@ extern int fixuplabelno;\n   mcall-linux  : crtsavres.o%s        %(endfile_linux)       ; \\\n   mcall-gnu    : crtsavres.o%s        %(endfile_gnu)         ; \\\n   mcall-netbsd : crtsavres.o%s        %(endfile_netbsd)      ; \\\n+  mcall-openbsd: crtsavres.o%s        %(endfile_openbsd)     ; \\\n                : %(crtsavres_default) %(endfile_default)     }\"\n \n #define CRTSAVRES_DEFAULT_SPEC \"crtsavres.o%s\"\n@@ -1163,6 +1174,34 @@ ncrtn.o%s\"\n #define CPP_OS_NETBSD_SPEC \"\\\n -D__powerpc__ -D__NetBSD__ -D__KPRINTF_ATTRIBUTE__\"\n \n+/* OpenBSD support.  */\n+#ifndef\tLIB_OPENBSD_SPEC\n+#define LIB_OPENBSD_SPEC \"%{!shared:%{pthread:-lpthread%{p:_p}%{!p:%{pg:_p}}}} %{!shared:-lc%{p:_p}%{!p:%{pg:_p}}}\"\n+#endif\n+\n+#ifndef\tSTARTFILE_OPENBSD_SPEC\n+#define\tSTARTFILE_OPENBSD_SPEC \"\\\n+%{!shared: %{pg:gcrt0.o%s} %{!pg:%{p:gcrt0.o%s} %{!p:crt0.o%s}}} \\\n+%{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}\"\n+#endif\n+\n+#ifndef\tENDFILE_OPENBSD_SPEC\n+#define\tENDFILE_OPENBSD_SPEC \"\\\n+%{!shared:crtend.o%s} %{shared:crtendS.o%s}\"\n+#endif\n+\n+#ifndef LINK_START_OPENBSD_SPEC\n+#define LINK_START_OPENBSD_SPEC \"-Ttext 0x400074\"\n+#endif\n+\n+#ifndef LINK_OS_OPENBSD_SPEC\n+#define LINK_OS_OPENBSD_SPEC \"\"\n+#endif\n+\n+#ifndef CPP_OS_OPENBSD_SPEC\n+#define CPP_OS_OPENBSD_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_POSIX_THREADS}\"\n+#endif\n+\n /* WindISS support.  */\n \n #define LIB_WINDISS_SPEC \"--start-group -li -lcfp -lwindiss -lram -limpl -limpfp --end-group\"\n@@ -1195,6 +1234,7 @@ ncrtn.o%s\"\n   { \"lib_gnu\",\t\t\tLIB_GNU_SPEC },\t\t\t\t\\\n   { \"lib_linux\",\t\tLIB_LINUX_SPEC },\t\t\t\\\n   { \"lib_netbsd\",\t\tLIB_NETBSD_SPEC },\t\t\t\\\n+  { \"lib_openbsd\",\t\tLIB_OPENBSD_SPEC },\t\t\t\\\n   { \"lib_windiss\",              LIB_WINDISS_SPEC },                     \\\n   { \"lib_default\",\t\tLIB_DEFAULT_SPEC },\t\t\t\\\n   { \"startfile_ads\",\t\tSTARTFILE_ADS_SPEC },\t\t\t\\\n@@ -1205,6 +1245,7 @@ ncrtn.o%s\"\n   { \"startfile_gnu\",\t\tSTARTFILE_GNU_SPEC },\t\t\t\\\n   { \"startfile_linux\",\t\tSTARTFILE_LINUX_SPEC },\t\t\t\\\n   { \"startfile_netbsd\",\t\tSTARTFILE_NETBSD_SPEC },\t\t\\\n+  { \"startfile_openbsd\",\tSTARTFILE_OPENBSD_SPEC },\t\t\\\n   { \"startfile_windiss\",        STARTFILE_WINDISS_SPEC },               \\\n   { \"startfile_default\",\tSTARTFILE_DEFAULT_SPEC },\t\t\\\n   { \"endfile_ads\",\t\tENDFILE_ADS_SPEC },\t\t\t\\\n@@ -1215,6 +1256,7 @@ ncrtn.o%s\"\n   { \"endfile_gnu\",\t\tENDFILE_GNU_SPEC },\t\t\t\\\n   { \"endfile_linux\",\t\tENDFILE_LINUX_SPEC },\t\t\t\\\n   { \"endfile_netbsd\",\t\tENDFILE_NETBSD_SPEC },\t\t\t\\\n+  { \"endfile_openbsd\",\t\tENDFILE_OPENBSD_SPEC },\t\t\t\\\n   { \"endfile_windiss\",          ENDFILE_WINDISS_SPEC },                 \\\n   { \"endfile_default\",\t\tENDFILE_DEFAULT_SPEC },\t\t\t\\\n   { \"link_path\",\t\tLINK_PATH_SPEC },\t\t\t\\\n@@ -1229,6 +1271,7 @@ ncrtn.o%s\"\n   { \"link_start_gnu\",\t\tLINK_START_GNU_SPEC },\t\t\t\\\n   { \"link_start_linux\",\t\tLINK_START_LINUX_SPEC },\t\t\\\n   { \"link_start_netbsd\",\tLINK_START_NETBSD_SPEC },\t\t\\\n+  { \"link_start_openbsd\",\tLINK_START_OPENBSD_SPEC },\t\t\\\n   { \"link_start_windiss\",\tLINK_START_WINDISS_SPEC },\t\t\\\n   { \"link_start_default\",\tLINK_START_DEFAULT_SPEC },\t\t\\\n   { \"link_os\",\t\t\tLINK_OS_SPEC },\t\t\t\t\\\n@@ -1240,6 +1283,7 @@ ncrtn.o%s\"\n   { \"link_os_linux\",\t\tLINK_OS_LINUX_SPEC },\t\t\t\\\n   { \"link_os_gnu\",\t\tLINK_OS_GNU_SPEC },\t\t\t\\\n   { \"link_os_netbsd\",\t\tLINK_OS_NETBSD_SPEC },\t\t\t\\\n+  { \"link_os_openbsd\",\t\tLINK_OS_OPENBSD_SPEC },\t\t\t\\\n   { \"link_os_windiss\",\t\tLINK_OS_WINDISS_SPEC },\t\t\t\\\n   { \"link_os_default\",\t\tLINK_OS_DEFAULT_SPEC },\t\t\t\\\n   { \"cc1_endian_big\",\t\tCC1_ENDIAN_BIG_SPEC },\t\t\t\\\n@@ -1253,6 +1297,7 @@ ncrtn.o%s\"\n   { \"cpp_os_gnu\",\t\tCPP_OS_GNU_SPEC },\t\t\t\\\n   { \"cpp_os_linux\",\t\tCPP_OS_LINUX_SPEC },\t\t\t\\\n   { \"cpp_os_netbsd\",\t\tCPP_OS_NETBSD_SPEC },\t\t\t\\\n+  { \"cpp_os_openbsd\",\t\tCPP_OS_OPENBSD_SPEC },\t\t\t\\\n   { \"cpp_os_windiss\",           CPP_OS_WINDISS_SPEC },                  \\\n   { \"cpp_os_default\",\t\tCPP_OS_DEFAULT_SPEC },\t\t\t\\\n   SUBSUBTARGET_EXTRA_SPECS"}]}