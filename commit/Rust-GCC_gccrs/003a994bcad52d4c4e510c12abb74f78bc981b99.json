{"sha": "003a994bcad52d4c4e510c12abb74f78bc981b99", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDAzYTk5NGJjYWQ1MmQ0YzRlNTEwYzEyYWJiNzRmNzhiYzk4MWI5OQ==", "commit": {"author": {"name": "Chung-Ju Wu", "email": "jasonwucj@gmail.com", "date": "2017-09-16T16:23:23Z"}, "committer": {"name": "Chung-Ju Wu", "email": "jasonwucj@gcc.gnu.org", "date": "2017-09-16T16:23:23Z"}, "message": "Use -fsched-pressure and -fomit-frame-pointer\nin nds32_option_optimization_table.\n\ngcc/\n\t* common/config/nds32/nds32-common.c\n\t(nds32_option_optimization_table): Refine formatting.\n\t(nds32_option_optimization_table): Use -fsched-pressure and\n\t-fomit-frame-pointer for specific optimization level.\n\nFrom-SVN: r252876", "tree": {"sha": "99364853d0379036a0227638482ac2f8d36337e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99364853d0379036a0227638482ac2f8d36337e1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/003a994bcad52d4c4e510c12abb74f78bc981b99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/003a994bcad52d4c4e510c12abb74f78bc981b99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/003a994bcad52d4c4e510c12abb74f78bc981b99", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/003a994bcad52d4c4e510c12abb74f78bc981b99/comments", "author": {"login": "jasonwucj", "id": 5520732, "node_id": "MDQ6VXNlcjU1MjA3MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/5520732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasonwucj", "html_url": "https://github.com/jasonwucj", "followers_url": "https://api.github.com/users/jasonwucj/followers", "following_url": "https://api.github.com/users/jasonwucj/following{/other_user}", "gists_url": "https://api.github.com/users/jasonwucj/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasonwucj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasonwucj/subscriptions", "organizations_url": "https://api.github.com/users/jasonwucj/orgs", "repos_url": "https://api.github.com/users/jasonwucj/repos", "events_url": "https://api.github.com/users/jasonwucj/events{/privacy}", "received_events_url": "https://api.github.com/users/jasonwucj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8a498f99caba7f366e07fbf527d7ed7fcbe038b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a498f99caba7f366e07fbf527d7ed7fcbe038b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a498f99caba7f366e07fbf527d7ed7fcbe038b3"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "b5a39b9b0d27c2acba1e2904a5176341a2125391", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/003a994bcad52d4c4e510c12abb74f78bc981b99/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/003a994bcad52d4c4e510c12abb74f78bc981b99/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=003a994bcad52d4c4e510c12abb74f78bc981b99", "patch": "@@ -1,3 +1,10 @@\n+2017-09-16  Chung-Ju Wu  <jasonwucj@gmail.com>\n+\n+\t* common/config/nds32/nds32-common.c\n+\t(nds32_option_optimization_table): Refine formatting.\n+\t(nds32_option_optimization_table): Use -fsched-pressure and\n+\t-fomit-frame-pointer for specific optimization level.\n+\n 2017-09-16  Chung-Ju Wu  <jasonwucj@gmail.com>\n \n \t* config/nds32/nds32.c: Refine formatting and comments."}, {"sha": "13cada68ea514c671e6d5133a8ada4a97ed4d5c8", "filename": "gcc/common/config/nds32/nds32-common.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/003a994bcad52d4c4e510c12abb74f78bc981b99/gcc%2Fcommon%2Fconfig%2Fnds32%2Fnds32-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/003a994bcad52d4c4e510c12abb74f78bc981b99/gcc%2Fcommon%2Fconfig%2Fnds32%2Fnds32-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Fnds32%2Fnds32-common.c?ref=003a994bcad52d4c4e510c12abb74f78bc981b99", "patch": "@@ -74,12 +74,14 @@ nds32_handle_option (struct gcc_options *opts ATTRIBUTE_UNUSED,\n /* Implement TARGET_OPTION_OPTIMIZATION_TABLE.  */\n static const struct default_options nds32_option_optimization_table[] =\n {\n-  /* Enable -fomit-frame-pointer by default at -O1 or higher.  */\n-  { OPT_LEVELS_1_PLUS, OPT_fomit_frame_pointer, NULL, 1 },\n+  /* Enable -fsched-pressure by default at -O1 and above.  */\n+  { OPT_LEVELS_1_PLUS,            OPT_fsched_pressure,     NULL, 1 },\n+  /* Enable -fomit-frame-pointer by default at all optimization levels.  */\n+  { OPT_LEVELS_ALL,               OPT_fomit_frame_pointer, NULL, 1 },\n   /* Enable -mv3push by default at -Os, but it is useless under V2 ISA.  */\n-  { OPT_LEVELS_SIZE,   OPT_mv3push,             NULL, 1 },\n+  { OPT_LEVELS_SIZE,              OPT_mv3push,             NULL, 1 },\n \n-  { OPT_LEVELS_NONE,   0,                       NULL, 0 }\n+  { OPT_LEVELS_NONE,              0,                       NULL, 0 }\n };\n \n /* ------------------------------------------------------------------------ */"}]}