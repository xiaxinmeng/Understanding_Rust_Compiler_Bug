{"sha": "6357135a0e6e8d95d05b370f15e6daff39d7dfee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjM1NzEzNWEwZTZlOGQ5NWQwNWIzNzBmMTVlNmRhZmYzOWQ3ZGZlZQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2003-10-06T15:56:07Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2003-10-06T15:56:07Z"}, "message": "reload.c (find_reloads_subreg_address): Use correct offset for paradoxical MEM subregs on big-endian targets.\n\n\t* reload.c (find_reloads_subreg_address): Use correct offset for\n\tparadoxical MEM subregs on big-endian targets.\n\nFrom-SVN: r72153", "tree": {"sha": "c18ad9ed7b7463770d1ceca5a1b5e735e8be8eba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c18ad9ed7b7463770d1ceca5a1b5e735e8be8eba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6357135a0e6e8d95d05b370f15e6daff39d7dfee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6357135a0e6e8d95d05b370f15e6daff39d7dfee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6357135a0e6e8d95d05b370f15e6daff39d7dfee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6357135a0e6e8d95d05b370f15e6daff39d7dfee/comments", "author": null, "committer": null, "parents": [{"sha": "fffeb871a114219c8aa729064632af142b1bf6c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fffeb871a114219c8aa729064632af142b1bf6c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fffeb871a114219c8aa729064632af142b1bf6c6"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "b39d79c1b04b0a9a2d73de77f7814c88ce68c4c3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6357135a0e6e8d95d05b370f15e6daff39d7dfee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6357135a0e6e8d95d05b370f15e6daff39d7dfee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6357135a0e6e8d95d05b370f15e6daff39d7dfee", "patch": "@@ -1,3 +1,8 @@\n+2003-10-06  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* reload.c (find_reloads_subreg_address): Use correct offset for\n+\tparadoxical MEM subregs on big-endian targets.\n+\n 2003-10-06  Andrew Haley  <aph@redhat.com>\n \n \t* tree.c (get_callee_fndecl): Call"}, {"sha": "59852ba2b5eaaeb68b7a1532a29fd30640726a18", "filename": "gcc/reload.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6357135a0e6e8d95d05b370f15e6daff39d7dfee/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6357135a0e6e8d95d05b370f15e6daff39d7dfee/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=6357135a0e6e8d95d05b370f15e6daff39d7dfee", "patch": "@@ -5806,9 +5806,16 @@ find_reloads_subreg_address (rtx x, int force_replace, int opnum,\n \t  if (force_replace\n \t      || ! rtx_equal_p (tem, reg_equiv_mem[regno]))\n \t    {\n-\t      int offset = SUBREG_BYTE (x);\n \t      unsigned outer_size = GET_MODE_SIZE (GET_MODE (x));\n \t      unsigned inner_size = GET_MODE_SIZE (GET_MODE (SUBREG_REG (x)));\n+\t      int offset;\n+\n+\t      /* For big-endian paradoxical subregs, SUBREG_BYTE does not\n+\t\t hold the correct (negative) byte offset.  */\n+\t      if (BYTES_BIG_ENDIAN && outer_size > inner_size)\n+\t\toffset = inner_size - outer_size;\n+\t      else\n+\t\toffset = SUBREG_BYTE (x);\n \n \t      XEXP (tem, 0) = plus_constant (XEXP (tem, 0), offset);\n \t      PUT_MODE (tem, GET_MODE (x));"}]}