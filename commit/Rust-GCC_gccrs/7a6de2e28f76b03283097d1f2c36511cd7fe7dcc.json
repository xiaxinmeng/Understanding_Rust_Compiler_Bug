{"sha": "7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E2ZGUyZTI4Zjc2YjAzMjgzMDk3ZDFmMmMzNjUxMWNkN2ZlN2RjYw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-04-26T09:56:13Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-04-26T09:56:13Z"}, "message": "[multiple changes]\n\n2012-04-26  Ed Schonberg  <schonberg@adacore.com>\n\n\t* gnat_ugn.texi: Tweak dimensionality doc.\n\n2012-04-26  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_eval.adb: Minor reformatting.\n\nFrom-SVN: r186869", "tree": {"sha": "2f8bc6eddba0d37aae87881bd661085b52364e57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f8bc6eddba0d37aae87881bd661085b52364e57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/comments", "author": null, "committer": null, "parents": [{"sha": "5f44f0d4f87c30c3ad2497ef759c0b8578851b33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f44f0d4f87c30c3ad2497ef759c0b8578851b33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f44f0d4f87c30c3ad2497ef759c0b8578851b33"}], "stats": {"total": 31, "additions": 24, "deletions": 7}, "files": [{"sha": "2b65223d7d89d7b62ff3a1d7481a9fe99daf50a8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "patch": "@@ -1,3 +1,11 @@\n+2012-04-26  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* gnat_ugn.texi: Tweak dimensionality doc.\n+\n+2012-04-26  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_eval.adb: Minor reformatting.\n+\n 2012-04-26  Robert Dewar  <dewar@adacore.com>\n \n \t* einfo.adb, einfo.ads, sem_res.adb, sem_ch4.adb,"}, {"sha": "996137cc17f9ba2461f31dba494927045d64be7f", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "patch": "@@ -18534,6 +18534,10 @@ version 7.0.1 of GNAT onwards. The GNAT-specific aspect Dimension_System allows\n the user to define a system of units; the aspect Dimension then allows the user\n to declare dimensioned quantities within a given system.\n \n+The major advantage of this model is that it does not require the declaration of\n+multiple operators for all possible combinations of types: it is only necessary\n+to use the proper subtypes in object declarations.\n+\n The simplest way to impose dimensionality checking on a computation is to make\n use of the package System.Dim.Mks, which is part of the GNAT library. This\n package defines a floating-point type MKS_Type, for which a sequence of\n@@ -18592,11 +18596,12 @@ as well as useful multiples of these units:\n \n @noindent\n The user can then define a derived unit by providing the aspect that\n-specifies its dimensions within the MKS system:\n+specifies its dimensions within the MKS system, as well as the string to\n+be used for output of a value of that unit:\n \n @smallexample @c ada\n   subtype Acceleration is Mks_Type\n-    with Dimension => (\"m/sec**2\", 1, 0, -2, others => 0);\n+    with Dimension => (\"m/sec^^^2\", Meter => 1, Second => -2, others => 0);\n @end smallexample\n \n @noindent\n@@ -18608,11 +18613,13 @@ with System.Dim.Mks_IO; use System.Dim.Mks_IO;\n with Text_IO; use Text_IO;\n procedure Free_Fall is\n   subtype Acceleration is Mks_Type\n-    with Dimension => (\"m/sec**2\", 1, 0, -2, others => 0);\n+    with Dimension => (\"m/sec^^^2\", 1, 0, -2, others => 0);\n   G : constant acceleration := 9.81 * m / (s ** 2);\n   T : Time := 10.0*s;\n   Distance : Length;\n begin\n+  Put (\"Gravitational constant: \");\n+  Put (G, Aft => 2, Exp => 0); Put_Line (\"\");\n   Distance := 0.5 * G * T ** 2;\n   Put (\"distance travelled in 10 seconds of free fall \");\n   Put (Distance, Aft => 2, Exp => 0);\n@@ -18623,6 +18630,7 @@ end Free_Fall;\n @noindent\n Execution of this program yields:\n @smallexample\n+Gravitational constant:  9.81 m/sec^^^2\n distance travelled in 10 seconds of free fall 490.50 m\n @end smallexample\n \n@@ -18650,8 +18658,8 @@ are rejected with the following diagnoses:\n @end smallexample\n \n @noindent\n-The dimensions of an expression are properly displayed. If we add to the\n-program:\n+The dimensions of an expression are properly displayed, even if there is\n+no explicit subtype for it. If we add to the program:\n \n @smallexample @c ada\n       Put (\"Final velocity: \");"}, {"sha": "2bd111b9bec8dd1342710b8e433cd01fa5fb1a3d", "filename": "gcc/ada/sem_eval.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2Fsem_eval.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a6de2e28f76b03283097d1f2c36511cd7fe7dcc/gcc%2Fada%2Fsem_eval.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_eval.adb?ref=7a6de2e28f76b03283097d1f2c36511cd7fe7dcc", "patch": "@@ -516,6 +516,8 @@ package body Sem_Eval is\n          Subs : Nat;\n \n       begin\n+         --  Fixup only required for First/Last attribute reference\n+\n          if Nkind (N) = N_Attribute_Reference\n            and then (Attribute_Name (N) = Name_First\n                        or else\n@@ -577,8 +579,7 @@ package body Sem_Eval is\n \n             if Attribute_Name (N) = Name_First then\n                return Type_Low_Bound (Xtyp);\n-\n-            else -- Attribute_Name (N) = Name_Last\n+            else\n                return Type_High_Bound (Xtyp);\n             end if;\n          end if;"}]}