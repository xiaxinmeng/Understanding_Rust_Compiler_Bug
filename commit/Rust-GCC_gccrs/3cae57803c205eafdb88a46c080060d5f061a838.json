{"sha": "3cae57803c205eafdb88a46c080060d5f061a838", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NhZTU3ODAzYzIwNWVhZmRiODhhNDZjMDgwMDYwZDVmMDYxYTgzOA==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2001-11-15T12:11:52Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2001-11-15T12:11:52Z"}, "message": "configure.in: Check for target objdump and use that in eh_frame optimization test.\n\n\t* configure.in: Check for target objdump and use that in eh_frame\n\toptimization test.\n\t* configure: Regenerated.\n\nFrom-SVN: r47051", "tree": {"sha": "3793dcb7440df2f93e667a76d8275b29f75d120e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3793dcb7440df2f93e667a76d8275b29f75d120e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cae57803c205eafdb88a46c080060d5f061a838", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cae57803c205eafdb88a46c080060d5f061a838", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cae57803c205eafdb88a46c080060d5f061a838", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cae57803c205eafdb88a46c080060d5f061a838/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "feb265abdb7bce4cb67733dc1c1c96644e6f790f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feb265abdb7bce4cb67733dc1c1c96644e6f790f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feb265abdb7bce4cb67733dc1c1c96644e6f790f"}], "stats": {"total": 71, "additions": 50, "deletions": 21}, "files": [{"sha": "dca1dce309a839bba13c71274a7fc24830a7c7dc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3cae57803c205eafdb88a46c080060d5f061a838", "patch": "@@ -1,3 +1,9 @@\n+2001-11-15  Andreas Schwab  <schwab@suse.de>\n+\n+\t* configure.in: Check for target objdump and use that in eh_frame\n+\toptimization test.\n+\t* configure: Regenerated.\n+\n 2001-11-15  Jakub Jelinek  <jakub@redhat.com>\n \n \t* jump.c (squeeze_notes): Return true if no real insns were found."}, {"sha": "44ecb9f8d3404043af9ced3b72cea859ba9fc960", "filename": "gcc/configure", "status": "modified", "additions": 31, "deletions": 19, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=3cae57803c205eafdb88a46c080060d5f061a838", "patch": "@@ -6954,9 +6954,10 @@ if test -f ../gas/Makefile; then\n \trm -f as; $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/dev/null\n fi\n \n-# If we have nm in the build tree, make a link to it.\n+# If we have nm and objdump in the build tree, make a link to them.\n if test -f ../binutils/Makefile; then\n \trm -f nm; $symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/dev/null\n+\trm -f objdump; $symbolic_link ../binutils/objdump$host_exeext objdump$host_exeext 2>/dev/null\n fi\n \n # If we have ld in the build tree, make a link to it.\n@@ -6966,7 +6967,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6970: checking what assembler to use\" >&5\n+echo \"configure:6971: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -7052,7 +7053,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7056: checking what nm to use\" >&5\n+echo \"configure:7057: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -7061,9 +7062,20 @@ elif test x$host = x$target; then\n fi\n echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n+# Figure out what objdump we will be using.\n+echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n+echo \"configure:7068: checking what objdump to use\" >&5\n+if test -x objdump$host_exeext; then\n+\tgcc_cv_objdump=./objdump$host_exeext\n+elif test x$host = x$target; then\n+\t# Native build.\n+\tgcc_cv_objdump=objdump$host_exeext\n+fi\n+echo \"$ac_t\"\"$gcc_cv_objdump\" 1>&6\n+\n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7067: checking assembler alignment features\" >&5\n+echo \"configure:7079: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -7111,7 +7123,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7115: checking assembler subsection support\" >&5\n+echo \"configure:7127: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7151,7 +7163,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7155: checking assembler weak support\" >&5\n+echo \"configure:7167: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7174,7 +7186,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7178: checking assembler hidden support\" >&5\n+echo \"configure:7190: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7198,7 +7210,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7202: checking assembler leb128 support\" >&5\n+echo \"configure:7214: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7243,7 +7255,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7247: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7259: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7303,7 +7315,7 @@ EOF\n \t\t# If the assembler didn't choke, and we can objdump,\n \t\t# and we got the correct data, then succeed.\n \t\tif $gcc_cv_as -o conftest.o conftest.s > /dev/null 2>&1 \\\n-\t\t   && objdump -s -j .eh_frame conftest.o 2>/dev/null \\\n+\t\t   && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/dev/null \\\n \t\t      | tail -3 > conftest.got \\\n \t\t   && { cmp conftest.lit conftest.got > /dev/null 2>&1 \\\n \t\t        || cmp conftest.big conftest.got > /dev/null 2>&1; }\n@@ -7324,7 +7336,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:7328: checking assembler section merging support\" >&5\n+echo \"configure:7340: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7349,7 +7361,7 @@ echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:7353: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:7365: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7377,7 +7389,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:7381: checking assembler supports -relax\" >&5\n+echo \"configure:7393: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7407,7 +7419,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:7411: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:7423: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7452,7 +7464,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:7456: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:7468: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7492,7 +7504,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:7496: checking assembler instructions\" >&5\n+echo \"configure:7508: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7519,7 +7531,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:7523: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:7535: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x\n     then\n@@ -7549,7 +7561,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7553: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:7565: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -7747,7 +7759,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7751: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7763: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "633050f4f235aa378f07d6f7e3a75eada4b6eb07", "filename": "gcc/configure.in", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cae57803c205eafdb88a46c080060d5f061a838/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=3cae57803c205eafdb88a46c080060d5f061a838", "patch": "@@ -1133,9 +1133,10 @@ if test -f ../gas/Makefile; then\n \trm -f as; $symbolic_link ../gas/as-new$host_exeext as$host_exeext 2>/dev/null\n fi\n \n-# If we have nm in the build tree, make a link to it.\n+# If we have nm and objdump in the build tree, make a link to them.\n if test -f ../binutils/Makefile; then\n \trm -f nm; $symbolic_link ../binutils/nm-new$host_exeext nm$host_exeext 2>/dev/null\n+\trm -f objdump; $symbolic_link ../binutils/objdump$host_exeext objdump$host_exeext 2>/dev/null\n fi\n \n # If we have ld in the build tree, make a link to it.\n@@ -1242,6 +1243,16 @@ elif test x$host = x$target; then\n fi\n AC_MSG_RESULT($gcc_cv_nm)\n \n+# Figure out what objdump we will be using.\n+AC_MSG_CHECKING(what objdump to use)\n+if test -x objdump$host_exeext; then\n+\tgcc_cv_objdump=./objdump$host_exeext\n+elif test x$host = x$target; then\n+\t# Native build.\n+\tgcc_cv_objdump=objdump$host_exeext\n+fi\n+AC_MSG_RESULT($gcc_cv_objdump)\n+\n # Figure out what assembler alignment features are present.\n AC_MSG_CHECKING(assembler alignment features)\n gcc_cv_as_alignment_features=none\n@@ -1460,7 +1471,7 @@ EOF\n \t\t# If the assembler didn't choke, and we can objdump,\n \t\t# and we got the correct data, then succeed.\n \t\tif $gcc_cv_as -o conftest.o conftest.s > /dev/null 2>&1 \\\n-\t\t   && objdump -s -j .eh_frame conftest.o 2>/dev/null \\\n+\t\t   && $gcc_cv_objdump -s -j .eh_frame conftest.o 2>/dev/null \\\n \t\t      | tail -3 > conftest.got \\\n \t\t   && { cmp conftest.lit conftest.got > /dev/null 2>&1 \\\n \t\t        || cmp conftest.big conftest.got > /dev/null 2>&1; }"}]}