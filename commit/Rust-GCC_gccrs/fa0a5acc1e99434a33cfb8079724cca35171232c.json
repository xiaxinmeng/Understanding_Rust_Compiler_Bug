{"sha": "fa0a5acc1e99434a33cfb8079724cca35171232c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmEwYTVhY2MxZTk5NDM0YTMzY2ZiODA3OTcyNGNjYTM1MTcxMjMyYw==", "commit": {"author": {"name": "Gary Benson", "email": "gbenson@redhat.com", "date": "2011-02-14T14:28:00Z"}, "committer": {"name": "Gary Benson", "email": "gary@gcc.gnu.org", "date": "2011-02-14T14:28:00Z"}, "message": "PR libjava/47484: Install Python modules into versioned directory\n\nFrom-SVN: r170131", "tree": {"sha": "e8f57e6cce4c347c389b4b279784f714f6edf8c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8f57e6cce4c347c389b4b279784f714f6edf8c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa0a5acc1e99434a33cfb8079724cca35171232c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa0a5acc1e99434a33cfb8079724cca35171232c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa0a5acc1e99434a33cfb8079724cca35171232c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa0a5acc1e99434a33cfb8079724cca35171232c/comments", "author": null, "committer": null, "parents": [{"sha": "88d0743e1aafb0b370a4b0aefd19d09917b1e043", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88d0743e1aafb0b370a4b0aefd19d09917b1e043", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88d0743e1aafb0b370a4b0aefd19d09917b1e043"}], "stats": {"total": 45, "additions": 23, "deletions": 22}, "files": [{"sha": "f74b61aba0b0b380ae836997db570d40dcd537f0", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=fa0a5acc1e99434a33cfb8079724cca35171232c", "patch": "@@ -1,3 +1,10 @@\n+2011-02-14  Gary Benson  <gbenson@redhat.com>\n+\n+\tPR libjava/47484\n+\t* configure.ac (python_mod_dir, python_mod_dir_expanded):\n+\tInstall Python modules into versioned directory.\n+\t* configure: Regenerate.\n+\n 2011-02-13  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* configure: Regenerate."}, {"sha": "f79e53b1e8d38e1539af004f8d3acfcc7a110213", "filename": "libjava/configure", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=fa0a5acc1e99434a33cfb8079724cca35171232c", "patch": "@@ -24631,25 +24631,22 @@ here=`${PWDCMD-pwd}`\n # We get this from the environment.\n \n \n+default_python_dir=\"/share/gcc-`cat ${srcdir}/../gcc/BASE-VER`/python/libjava\"\n \n # Check whether --with-python-dir was given.\n if test \"${with_python_dir+set}\" = set; then :\n   withval=$with_python_dir; with_python_dir=$withval\n else\n-  with_python_dir=\"\"\n+  with_python_dir=\"${default_python_dir}\"\n fi\n \n \n-if test \"x${with_python_dir}\" = \"x\"\n-then\n-  # Needed for installing Python modules during make install.\n-  python_mod_dir=\"\\${prefix}/share/python\"\n-  # Needed for substituting into aot-compile*\n-  python_mod_dir_expanded=\"${expanded_prefix}/share/python\"\n-else\n-  python_mod_dir=\"\\${prefix}${with_python_dir}\"\n-  python_mod_dir_expanded=\"${expanded_prefix}${with_python_dir}\"\n-fi\n+# Needed for installing Python modules during make install.\n+python_mod_dir=\"\\${prefix}${with_python_dir}\"\n+\n+# Needed for substituting into aot-compile*\n+python_mod_dir_expanded=\"${expanded_prefix}${with_python_dir}\"\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: Python modules dir: ${python_mod_dir_expanded}\" >&5\n $as_echo \"Python modules dir: ${python_mod_dir_expanded}\" >&6; };\n "}, {"sha": "8187eecbd40b700b39333673ba216647b1c75a86", "filename": "libjava/configure.ac", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa0a5acc1e99434a33cfb8079724cca35171232c/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=fa0a5acc1e99434a33cfb8079724cca35171232c", "patch": "@@ -1843,21 +1843,18 @@ AC_SUBST(here)\n # We get this from the environment.\n AC_SUBST(GCJFLAGS)\n \n+default_python_dir=\"/share/gcc-`cat ${srcdir}/../gcc/BASE-VER`/python/libjava\"\n AC_ARG_WITH([python-dir],\n             AS_HELP_STRING([--with-python-dir],\n                            [the location to install Python modules. This path should NOT include the prefix.]),\n-            [with_python_dir=$withval], [with_python_dir=\"\"])\n+            [with_python_dir=$withval], [with_python_dir=\"${default_python_dir}\"])\n+\n+# Needed for installing Python modules during make install.\n+python_mod_dir=\"\\${prefix}${with_python_dir}\"\n+\n+# Needed for substituting into aot-compile*\n+python_mod_dir_expanded=\"${expanded_prefix}${with_python_dir}\"\n \n-if test \"x${with_python_dir}\" = \"x\"\n-then\n-  # Needed for installing Python modules during make install.\n-  python_mod_dir=\"\\${prefix}/share/python\"\n-  # Needed for substituting into aot-compile*\n-  python_mod_dir_expanded=\"${expanded_prefix}/share/python\"\n-else\n-  python_mod_dir=\"\\${prefix}${with_python_dir}\"\n-  python_mod_dir_expanded=\"${expanded_prefix}${with_python_dir}\"\n-fi\n AC_MSG_RESULT(Python modules dir: ${python_mod_dir_expanded});\n AC_SUBST(python_mod_dir)\n AC_SUBST(python_mod_dir_expanded)"}]}