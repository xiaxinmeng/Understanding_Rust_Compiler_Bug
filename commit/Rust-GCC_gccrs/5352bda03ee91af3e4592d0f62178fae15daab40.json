{"sha": "5352bda03ee91af3e4592d0f62178fae15daab40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM1MmJkYTAzZWU5MWFmM2U0NTkyZDBmNjIxNzhmYWUxNWRhYWI0MA==", "commit": {"author": {"name": "Bud Davis", "email": "bdavis9659@comcast.net", "date": "2004-08-25T00:31:33Z"}, "committer": {"name": "Bud Davis", "email": "bdavis@gcc.gnu.org", "date": "2004-08-25T00:31:33Z"}, "message": "re PR libfortran/17143 (2**63 prints garbage)\n\n2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n\n        PR fortran/17143\n        * runtime/error.c (itoa): keep from overflowing during\n        mod operation by using unsigned variable.\n\n        * gfortran.dg/pr17143.f90: New test.\n\nFrom-SVN: r86532", "tree": {"sha": "8fea482f4eead23b6036f3b25416d71571d83c8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fea482f4eead23b6036f3b25416d71571d83c8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5352bda03ee91af3e4592d0f62178fae15daab40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5352bda03ee91af3e4592d0f62178fae15daab40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5352bda03ee91af3e4592d0f62178fae15daab40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5352bda03ee91af3e4592d0f62178fae15daab40/comments", "author": null, "committer": null, "parents": [{"sha": "0d9f6a32e752c86c85053d46262e9bf901399a68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d9f6a32e752c86c85053d46262e9bf901399a68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d9f6a32e752c86c85053d46262e9bf901399a68"}], "stats": {"total": 37, "additions": 33, "deletions": 4}, "files": [{"sha": "9a442c429404c1ea2fbc7549ab6c56ea6f272089", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5352bda03ee91af3e4592d0f62178fae15daab40/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5352bda03ee91af3e4592d0f62178fae15daab40/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5352bda03ee91af3e4592d0f62178fae15daab40", "patch": "@@ -1,3 +1,8 @@\n+2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n+\n+\tPR fortran/17143\n+\t* gfortran.dg/pr17143.f90: New test.\n+\n 2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/17164"}, {"sha": "4be4e2b92b9f747f7a5aeda1c63bec4b178e71af", "filename": "gcc/testsuite/gfortran.dg/pr17143.f90", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5352bda03ee91af3e4592d0f62178fae15daab40/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr17143.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5352bda03ee91af3e4592d0f62178fae15daab40/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr17143.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr17143.f90?ref=5352bda03ee91af3e4592d0f62178fae15daab40", "patch": "@@ -0,0 +1,16 @@\n+! pr17143\n+! does not print 2*63 correctly\n+       character*25 l\n+       integer*8 i\n+       data i /1/\n+       do j = 1,63\n+          i = i * 2\n+       end do\n+       write(l,*)i\n+       if (l.ne.' -9223372036854775808') then\n+!                ^\n+!         the space is required before a number\n+          call abort\n+       endif \n+       end\n+"}, {"sha": "aff020da047aad9bbef403d221250e24a8c1fe37", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5352bda03ee91af3e4592d0f62178fae15daab40/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5352bda03ee91af3e4592d0f62178fae15daab40/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=5352bda03ee91af3e4592d0f62178fae15daab40", "patch": "@@ -1,3 +1,9 @@\n+2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n+\n+\tPR fortran/17143\t\n+\t* runtime/error.c (itoa): keep from overflowing during\n+        mod operation by using unsigned variable.\n+\n 2004-08-24  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/17164"}, {"sha": "448ead871c6bff2c287864b240dd8543f5f24d7b", "filename": "libgfortran/runtime/error.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5352bda03ee91af3e4592d0f62178fae15daab40/libgfortran%2Fruntime%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5352bda03ee91af3e4592d0f62178fae15daab40/libgfortran%2Fruntime%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Ferror.c?ref=5352bda03ee91af3e4592d0f62178fae15daab40", "patch": "@@ -117,6 +117,7 @@ itoa (int64_t n)\n {\n   int negative;\n   char *p;\n+  uint64_t t;\n \n   if (n == 0)\n     {\n@@ -126,19 +127,20 @@ itoa (int64_t n)\n     }\n \n   negative = 0;\n+  t = n;\n   if (n < 0)\n     {\n       negative = 1;\n-      n = -n;\n+      t = -n; /*must use unsigned to protect from overflow*/\n     }\n \n   p = buffer + sizeof (buffer) - 1;\n   *p-- = '\\0';\n \n-  while (n != 0)\n+  while (t != 0)\n     {\n-      *p-- = '0' + (n % 10);\n-      n /= 10;\n+      *p-- = '0' + (t % 10);\n+      t /= 10;\n     }\n \n   if (negative)"}]}