{"sha": "fa5848c7900928c031fc995f4b42958bc3562f86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmE1ODQ4Yzc5MDA5MjhjMDMxZmM5OTVmNGI0Mjk1OGJjMzU2MmY4Ng==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2003-03-08T16:10:30Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2003-03-08T16:10:30Z"}, "message": "cris.h: Remove EGCS references.\n\n\t* config/cris/cris.h: Remove EGCS references.\n \t(CPP_SPEC): Remove \"-$\".\n\t(INIT_CUMULATIVE_ARGS): Adjust parameter name to FNDECL.\n\nFrom-SVN: r63995", "tree": {"sha": "84a006b7411030bdb591c4c875c672f58e29ffeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84a006b7411030bdb591c4c875c672f58e29ffeb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa5848c7900928c031fc995f4b42958bc3562f86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa5848c7900928c031fc995f4b42958bc3562f86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa5848c7900928c031fc995f4b42958bc3562f86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa5848c7900928c031fc995f4b42958bc3562f86/comments", "author": null, "committer": null, "parents": [{"sha": "4555be989ffa8bc510f8760f9110e67faf63657e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4555be989ffa8bc510f8760f9110e67faf63657e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4555be989ffa8bc510f8760f9110e67faf63657e"}], "stats": {"total": 32, "additions": 13, "deletions": 19}, "files": [{"sha": "2de9a30b60c1922cc14fecc4b36e1f7dffc76b93", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa5848c7900928c031fc995f4b42958bc3562f86/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa5848c7900928c031fc995f4b42958bc3562f86/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fa5848c7900928c031fc995f4b42958bc3562f86", "patch": "@@ -1,3 +1,9 @@\n+2003-03-08  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* config/cris/cris.h: Remove EGCS references.\n+ \t(CPP_SPEC): Remove \"-$\".\n+\t(INIT_CUMULATIVE_ARGS): Adjust parameter name to FNDECL.\n+\n 2003-03-08  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* config/stormy16/stormy16.h (TARGET_CPU_CPP_BUILTINS): Use in"}, {"sha": "200edabd92d9e430ee5666edd679e5b92761b59c", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 7, "deletions": 19, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa5848c7900928c031fc995f4b42958bc3562f86/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa5848c7900928c031fc995f4b42958bc3562f86/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=fa5848c7900928c031fc995f4b42958bc3562f86", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for GCC.  Part of the machine description for CRIS.\n-   Copyright (C) 1998, 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n+   Copyright (C) 1998, 1999, 2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n    Contributed by Axis Communications.  Written by Hans-Peter Nilsson.\n \n This file is part of GCC.\n@@ -115,17 +115,8 @@ extern const char *cris_elinux_stacksize_str;\n /* Also provide canonical vN definitions when user specifies an alias.\n    Note that -melf overrides -maout.  */\n \n-/* The `-$' is here mostly due to the integrated preprocessor not\n-   handling the builtin expansion of \"#define __REGISTER_PREFIX__ $\"\n-   gracefully.  This is slightly redundant although not incorrect.\n-   We're quite alone defining REGISTER_PREFIX as \"$\" so it's unlikely\n-   someone will fight for us.  This year in the mountains.\n-   Note that for -melinux and -mlinux, command-line -isystem options are\n-   emitted both before and after the synthesized one.  We can't remove all\n-   of them: a %<isystem will only remove the first one and %<isystem*\n-   will not do TRT.  Those extra occurrences are harmless anyway.  */\n #define CPP_SPEC \\\n- \"-$ -D__CRIS_ABI_version=2\\\n+ \"-D__CRIS_ABI_version=2\\\n   %{mtune=*:-D__tune_%* %{mtune=v*:-D__CRIS_arch_tune=%*}}\\\n    %{mtune=etrax4:-D__tune_v3 -D__CRIS_arch_tune=3}\\\n    %{mtune=etrax100:-D__tune_v8 -D__CRIS_arch_tune=8}\\\n@@ -956,9 +947,8 @@ enum reg_class {NO_REGS, ALL_REGS, LIM_REG_CLASSES};\n struct cum_args {int regs;};\n \n /* The regs member is an integer, the number of arguments got into\n-   registers so far, and lib is nonzero if init_cumulative_args was\n-   found to generate a call to a library function.  */\n-#define INIT_CUMULATIVE_ARGS(CUM, FNTYPE, LIBNAME, INDIRECT)\t  \\\n+   registers so far.  */\n+#define INIT_CUMULATIVE_ARGS(CUM, FNTYPE, LIBNAME, FNDECL)\t  \\\n  ((CUM).regs = 0)\n \n #define FUNCTION_ARG_ADVANCE(CUM, MODE, TYPE, NAMED)\t\t\\\n@@ -1246,18 +1236,16 @@ struct cum_args {int regs;};\n    FIXME: Check and adjust for gcc-2.9x.  */\n #define LEGITIMIZE_ADDRESS(X, OLDX, MODE, WIN) {}\n \n-/* Functionality import from EGCS.\n-   Kludge to solve Axis-990219: Work around imperfection in\n+/* Kludge to solve Axis-990219: Work around imperfection in\n    reload_load_address1:\n     (plus (sign_extend (mem:qi (reg))) (reg))\n    should be reloaded as (plus (reg) (reg)), not\n     (plus (sign_extend (reg)) (reg)).\n    There are no checks that reload_load_address_1 \"reloads\"\n    addresses correctly, so invalidness is not caught or\n    corrected.\n-    When the right thing happens, the \"something_reloaded\" kludge can\n-   be removed.  The right thing does not appear to happen for\n-   EGCS CVS as of this date (above).  */\n+    When the right thing happens in reload, the kludge can\n+   be removed; still not as of 2003-02-27.  */\n \n #define LEGITIMIZE_RELOAD_ADDRESS(X, MODE, OPNUM, TYPE, IND_LEVELS, WIN) \\\n   do\t\t\t\t\t\t\t\t\t\\"}]}