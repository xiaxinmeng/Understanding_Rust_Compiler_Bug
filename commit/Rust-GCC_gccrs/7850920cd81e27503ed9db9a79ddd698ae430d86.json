{"sha": "7850920cd81e27503ed9db9a79ddd698ae430d86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg1MDkyMGNkODFlMjc1MDNlZDlkYjlhNzlkZGQ2OThhZTQzMGQ4Ng==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2009-04-29T05:12:00Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2009-04-29T05:12:00Z"}, "message": "re PR libstdc++/39868 (libstdc++ generates man pages, which conflict with the linux manpages)\n\n2009-04-28  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/39868\n\t* scripts/run_doxygen: Uncomment removal of includes.\n\t(problematic): Rewrite __cxxabiv1 namespace to abi.\n\nFrom-SVN: r146923", "tree": {"sha": "69d3e223e5fed18f0933838e3b35ca406330189f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69d3e223e5fed18f0933838e3b35ca406330189f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7850920cd81e27503ed9db9a79ddd698ae430d86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7850920cd81e27503ed9db9a79ddd698ae430d86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7850920cd81e27503ed9db9a79ddd698ae430d86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7850920cd81e27503ed9db9a79ddd698ae430d86/comments", "author": null, "committer": null, "parents": [{"sha": "04be270fb89cb20b2180b09283302a6cde941b00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04be270fb89cb20b2180b09283302a6cde941b00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04be270fb89cb20b2180b09283302a6cde941b00"}], "stats": {"total": 48, "additions": 25, "deletions": 23}, "files": [{"sha": "088bea8b160a8f94a41803848891c60bf325cd7b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7850920cd81e27503ed9db9a79ddd698ae430d86/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7850920cd81e27503ed9db9a79ddd698ae430d86/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7850920cd81e27503ed9db9a79ddd698ae430d86", "patch": "@@ -1,3 +1,9 @@\n+2009-04-28  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/39868\n+\t* scripts/run_doxygen: Uncomment removal of includes.\n+\t(problematic): Rewrite __cxxabiv1 namespace to abi.\n+\n 2009-04-26  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tRevert the last commit."}, {"sha": "bcb442be2199a9e104ec7f8f3d1facf4a0db4924", "filename": "libstdc++-v3/scripts/run_doxygen", "status": "modified", "additions": 19, "deletions": 23, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7850920cd81e27503ed9db9a79ddd698ae430d86/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7850920cd81e27503ed9db9a79ddd698ae430d86/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Frun_doxygen?ref=7850920cd81e27503ed9db9a79ddd698ae430d86", "patch": "@@ -1,7 +1,8 @@\n #!/bin/bash\n \n # Runs doxygen and massages the output files.\n-# Copyright (C) 2001, 2002, 2003, 2004, 2008 Free Software Foundation, Inc.\n+# Copyright (C) 2001, 2002, 2003, 2004, 2008, 2009 \n+# Free Software Foundation, Inc.\n #\n # Synopsis:  run_doxygen --mode=[html|man|xml] --host_alias=<alias> \\\n #                        v3srcdir  v3builddir\n@@ -217,19 +218,11 @@ rm -rf ext\n # File names with embedded spaces (EVIL!) need to be....?  renamed or removed?\n find . -name \"* *\" -print0 | xargs -0r rm        # requires GNU tools\n \n-# Cleanups before tr1* files get killed.\n-mv tr1_random_distributions.3 random_distributions.3\n-mv tr1_random_distributions_continuous.3 random_distributions_continuous.3\n-mv tr1_random_distributions_discrete.3 random_distributions_discrete.3\n-mv tr1_random_generators.3 random_generators.3\n-\n # man pages are for functions/types/other entities, not source files\n # directly.  who the heck would type \"man foo.h\" anyhow?\n-#find . -name \"[a-z]*\" -a ! -name \"std_*\" -print | xargs rm\n+find . -name \"[a-z]*\" -a ! -name \"std_*\" -print | xargs rm\n rm -f *.h.3 *.hpp.3 *config* *.cc.3 *.tcc.3 *_t.3\n-rm ext_*.3\n-rm tr1_*.3\n-rm debug_*.3\n+#rm ext_*.3 tr1_*.3 debug_*.3\n \n # this is used to examine what we would have deleted, for debugging\n #mkdir trash\n@@ -254,18 +247,18 @@ rm stdheader\n # Some of the pages for generated modules have text that confuses certain\n # implementations of man(1), e.g., Linux's.  We need to have another top-level\n # *roff tag to /stop/ the .SH NAME entry.\n-#problematic=`egrep --files-without-match '^\\.SH SYNOPSIS' [A-Z]*.3`\n-\n+problematic=`egrep --files-without-match '^\\.SH SYNOPSIS' [A-Z]*.3`\n #problematic='Containers.3 Sequences.3 Assoc_containers.3 Iterator_types.3'\n-#for f in $problematic; do\n-#    sed '/^\\.SH NAME/{\n-#n\n-#a\\\n-#\\\n-#.SH SYNOPSIS\n-#    }' $f > TEMP\n-#    mv TEMP $f\n-#done\n+\n+for f in $problematic; do\n+    sed '/^\\.SH NAME/{\n+n\n+a\\\n+\\\n+.SH SYNOPSIS\n+    }' $f > TEMP\n+    mv TEMP $f\n+done\n \n # Also, break this (generated) line up.  It's ugly as sin.\n problematic=`grep -l '[^^]Definition at line' *.3`\n@@ -320,7 +313,10 @@ for f in __atomic2_*; do\n     newname=`echo $f | sed 's/^__atomic2_/std::__atomic2::/'`\n     mv $f $newname\n done\n-\n+for f in __cxxabiv1_*; do\n+    newname=`echo $f | sed 's/^__cxxabiv1_/abi::/'`\n+    mv $f $newname\n+done\n \n # Generic removal bits, where there are things in the generated man\n # pages that need to be killed."}]}