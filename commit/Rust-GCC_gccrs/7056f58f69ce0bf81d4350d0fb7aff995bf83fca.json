{"sha": "7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA1NmY1OGY2OWNlMGJmODFkNDM1MGQwZmI3YWZmOTk1YmY4M2ZjYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2014-04-09T23:18:28Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2014-04-09T23:18:28Z"}, "message": "re PR ada/54040 ([x32] Incorrect timeval and timespec)\n\n\tPR ada/54040\n\tPR ada/59346\n\t* s-osinte-x32.adb (To_Timespec): Add use directive.\n\t* s-osprim-x32.ads (Clock): Adjust.\n\t(To_Timespec): Likewise.\n\nCo-Authored-By: Svante Signell <svante.signell@gmail.com>\n\nFrom-SVN: r209257", "tree": {"sha": "0de2bc8f0a3af7e345f4001d721f20ff6b8c549a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0de2bc8f0a3af7e345f4001d721f20ff6b8c549a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/comments", "author": null, "committer": null, "parents": [{"sha": "8267f6bb0819e2ac831b3d3a9207d7f6710f6bfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8267f6bb0819e2ac831b3d3a9207d7f6710f6bfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8267f6bb0819e2ac831b3d3a9207d7f6710f6bfc"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "b89bfec2aa7d461b8edec71c52cab25143f3e9e9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "patch": "@@ -12,6 +12,8 @@\n \t* s-linux-sparc.ads (Time): Likewise.\n \t* s-linux-x32.ads (Time): Likewise.\n \t* s-osprim-x32.ads (timespec): Adjust.\n+\t(Clock): Likewise.\n+\t(To_Timespec): Likewise.\n \t* s-osinte-linux.ads (Time): Define local subtypes for those defined\n \tin System.Linux.\n \t* s-taprop-linux.adb (Monotonic_Clock): Do not define timeval."}, {"sha": "467970b963d3892eed539b79d777fddb0bc8c03c", "filename": "gcc/ada/s-osinte-x32.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2Fs-osinte-x32.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2Fs-osinte-x32.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osinte-x32.adb?ref=7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "patch": "@@ -90,6 +90,7 @@ package body System.OS_Interface is\n       S : time_t;\n       F : Duration;\n \n+      use type System.Linux.time_t;\n    begin\n       S := time_t (Long_Long_Integer (D));\n       F := D - Duration (S);"}, {"sha": "e0c020c78f9e53aad19217dcbff7caf1326b5f23", "filename": "gcc/ada/s-osprim-x32.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2Fs-osprim-x32.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7056f58f69ce0bf81d4350d0fb7aff995bf83fca/gcc%2Fada%2Fs-osprim-x32.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osprim-x32.adb?ref=7056f58f69ce0bf81d4350d0fb7aff995bf83fca", "patch": "@@ -54,7 +54,7 @@ package body System.OS_Primitives is\n    -----------\n \n    function Clock return Duration is\n-      type timeval is array (1 .. 2) of time_t;\n+      type timeval is array (1 .. 2) of Long_Long_Integer;\n \n       procedure timeval_to_duration\n         (T    : not null access timeval;\n@@ -118,7 +118,7 @@ package body System.OS_Primitives is\n \n       return\n         timespec'(tv_sec  => S,\n-                  tv_nsec => time_t (Long_Long_Integer (F * 10#1#E9)));\n+                  tv_nsec => Long_Long_Integer (F * 10#1#E9));\n    end To_Timespec;\n \n    -----------------"}]}