{"sha": "3cba5cd6e019182dbff756f621af048d55cdda98", "node_id": "C_kwDOANBUbNoAKDNjYmE1Y2Q2ZTAxOTE4MmRiZmY3NTZmNjIxYWYwNDhkNTVjZGRhOTg", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2022-08-31T21:28:09Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2022-09-22T18:14:34Z"}, "message": "Replace another snippet with a call to gimple_range_ssa_names.\n\nWhen the original patch was applied, I missed a spot which could\nalso be rewritten to use gimple_range_ssa_names.\n\n\t* tree-ssa-threadbackward.cc\n\t  (back_threader::find_paths_to_names): Replace sequence with\n\t  a call to gimple_range_ssa_names.", "tree": {"sha": "3a1520acf6a57b062344f6f8a472c1020491e994", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a1520acf6a57b062344f6f8a472c1020491e994"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cba5cd6e019182dbff756f621af048d55cdda98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cba5cd6e019182dbff756f621af048d55cdda98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cba5cd6e019182dbff756f621af048d55cdda98", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cba5cd6e019182dbff756f621af048d55cdda98/comments", "author": null, "committer": null, "parents": [{"sha": "12b537b9b7fd50f4b2fbfcb7ccf45f8d66085577", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12b537b9b7fd50f4b2fbfcb7ccf45f8d66085577", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12b537b9b7fd50f4b2fbfcb7ccf45f8d66085577"}], "stats": {"total": 20, "additions": 3, "deletions": 17}, "files": [{"sha": "2a8cfa3ee01a71c8c3303232dfcfd9fec3b3c5d7", "filename": "gcc/tree-ssa-threadbackward.cc", "status": "modified", "additions": 3, "deletions": 17, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cba5cd6e019182dbff756f621af048d55cdda98/gcc%2Ftree-ssa-threadbackward.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cba5cd6e019182dbff756f621af048d55cdda98/gcc%2Ftree-ssa-threadbackward.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-threadbackward.cc?ref=3cba5cd6e019182dbff756f621af048d55cdda98", "patch": "@@ -435,28 +435,14 @@ back_threader::find_paths_to_names (basic_block bb, bitmap interesting,\n \t\t}\n \t      /* For other local defs process their uses, amending\n \t\t imports on the way.  */\n-\t      else if (gassign *ass = dyn_cast <gassign *> (def_stmt))\n+\t      else\n \t\t{\n \t\t  tree ssa[3];\n-\t\t  if (range_op_handler (ass))\n-\t\t    {\n-\t\t      ssa[0] = gimple_range_ssa_p (gimple_range_operand1 (ass));\n-\t\t      ssa[1] = gimple_range_ssa_p (gimple_range_operand2 (ass));\n-\t\t      ssa[2] = NULL_TREE;\n-\t\t    }\n-\t\t  else if (gimple_assign_rhs_code (ass) == COND_EXPR)\n-\t\t    {\n-\t\t      ssa[0] = gimple_range_ssa_p (gimple_assign_rhs1 (ass));\n-\t\t      ssa[1] = gimple_range_ssa_p (gimple_assign_rhs2 (ass));\n-\t\t      ssa[2] = gimple_range_ssa_p (gimple_assign_rhs3 (ass));\n-\t\t    }\n-\t\t  else\n-\t\t    continue;\n-\t\t  for (unsigned j = 0; j < 3; ++j)\n+\t\t  unsigned lim = gimple_range_ssa_names (ssa, 3, def_stmt);\n+\t\t  for (unsigned j = 0; j < lim; ++j)\n \t\t    {\n \t\t      tree rhs = ssa[j];\n \t\t      if (rhs\n-\t\t\t  && TREE_CODE (rhs) == SSA_NAME\n \t\t\t  && bitmap_set_bit (m_imports,\n \t\t\t\t\t     SSA_NAME_VERSION (rhs)))\n \t\t\t{"}]}