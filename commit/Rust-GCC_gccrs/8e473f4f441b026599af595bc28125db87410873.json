{"sha": "8e473f4f441b026599af595bc28125db87410873", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU0NzNmNGY0NDFiMDI2NTk5YWY1OTViYzI4MTI1ZGI4NzQxMDg3Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2017-10-05T16:32:21Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-10-05T16:32:21Z"}, "message": "re PR ada/82393 (Compilation error on cygwin64)\n\n\tPR ada/82393\n\t* mingw32.h (_O_U8TEXT, _O_U16TEXT, _O_WTEXT): Delete.\n\t* sysdep.c (__gnat_set_mode ): Use DJGPP version for Cygwin.\n\nFrom-SVN: r253454", "tree": {"sha": "e91f76fd8eba2bff86f5684fcc36b33c5fcd2527", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e91f76fd8eba2bff86f5684fcc36b33c5fcd2527"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e473f4f441b026599af595bc28125db87410873", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e473f4f441b026599af595bc28125db87410873", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e473f4f441b026599af595bc28125db87410873", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e473f4f441b026599af595bc28125db87410873/comments", "author": null, "committer": null, "parents": [{"sha": "10c98117e8f1dde3b61e3e0d358376b44b1e4b61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10c98117e8f1dde3b61e3e0d358376b44b1e4b61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10c98117e8f1dde3b61e3e0d358376b44b1e4b61"}], "stats": {"total": 24, "additions": 10, "deletions": 14}, "files": [{"sha": "f4588406422f02624a1517a750173bf7f3e593fc", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=8e473f4f441b026599af595bc28125db87410873", "patch": "@@ -1,3 +1,9 @@\n+2017-10-05  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/82393\n+\t* mingw32.h (_O_U8TEXT, _O_U16TEXT, _O_WTEXT): Delete.\n+\t* sysdep.c (__gnat_set_mode ): Use DJGPP version for Cygwin.\n+\n 2017-10-02  Eric Botcazou  <ebotcazou@adacore.com>\n             Pierre-Marie de Rodat  <derodat@adacore.com>\n "}, {"sha": "91f85f80f9330659ceb0d3b827d8fd4f14818edd", "filename": "gcc/ada/mingw32.h", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmingw32.h?ref=8e473f4f441b026599af595bc28125db87410873", "patch": "@@ -59,16 +59,6 @@\n #endif\n #include <windows.h>\n \n-#ifndef _O_U8TEXT\n-#define _O_U8TEXT _O_TEXT\n-#endif\n-#ifndef _O_U16TEXT\n-#define _O_U16TEXT _O_TEXT\n-#endif\n-#ifndef _O_WTEXT\n-#define _O_WTEXT _O_TEXT\n-#endif\n-\n /* After including this file it is possible to use the character t as prefix\n    to routines. If GNAT_UNICODE_SUPPORT is defined then the unicode enabled\n    versions will be used.  */"}, {"sha": "698c8ca04f72468cd68663f49e878b1fbb587223", "filename": "gcc/ada/sysdep.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2Fsysdep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e473f4f441b026599af595bc28125db87410873/gcc%2Fada%2Fsysdep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsysdep.c?ref=8e473f4f441b026599af595bc28125db87410873", "patch": "@@ -126,7 +126,7 @@ extern struct tm *localtime_r(const time_t *, struct tm *);\n \n */\n \n-#if defined (WINNT) || defined (__CYGWIN__) || defined(__DJGPP__)\n+#if defined (WINNT) || defined (__CYGWIN__) || defined (__DJGPP__)\n \n const char __gnat_text_translation_required = 1;\n \n@@ -137,7 +137,7 @@ const char __gnat_text_translation_required = 1;\n #define WIN_SETMODE _setmode\n #endif\n \n-#if defined(__DJGPP__)\n+#if defined (__DJGPP__)\n #include <io.h>\n #define _setmode setmode\n #endif /* __DJGPP__ */\n@@ -154,7 +154,7 @@ __gnat_set_text_mode (int handle)\n   WIN_SETMODE (handle, O_TEXT);\n }\n \n-#ifdef __DJGPP__\n+#if defined (__CYGWIN__) || defined (__DJGPP__)\n void\n __gnat_set_mode (int handle, int mode)\n {\n@@ -826,7 +826,7 @@ __gnat_localtime_tzoff (const time_t *timer ATTRIBUTE_UNUSED,\n \n #elif defined (__APPLE__) || defined (__FreeBSD__) || defined (__linux__) \\\n   || defined (__GLIBC__) || defined (__DragonFly__) || defined (__OpenBSD__) \\\n-  || defined(__DJGPP__)\n+  || defined (__DJGPP__)\n {\n   localtime_r (timer, &tp);\n   *off = tp.tm_gmtoff;"}]}