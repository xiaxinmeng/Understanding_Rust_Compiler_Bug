{"sha": "db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "node_id": "C_kwDOANBUbNoAKGRiNGIzOTljMjVmZDNjMzdlNTJjNmI4ZGJkZjZiYzljMGYxZGViNmM", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-10-26T09:25:42Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-10-26T09:25:42Z"}, "message": "parser: Fix ICE in closure parsing\n\n`pattern` is a `unique_ptr`, which should be set to NULL once\n`std::move`d, hence causing the ICE as we were dereferencing a NULL\npointer to get its location.", "tree": {"sha": "fcca24884621f0aa199b45c12782aa2e826c9295", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcca24884621f0aa199b45c12782aa2e826c9295"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cf743d57fc67d88ecba654be8574ea9a5be40d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0cf743d57fc67d88ecba654be8574ea9a5be40d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0cf743d57fc67d88ecba654be8574ea9a5be40d2"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "54f3c5c25a6a21e9dc7f7f5012ccd27408354cbb", "filename": "gcc/rust/parse/rust-parse-impl.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c/gcc%2Frust%2Fparse%2Frust-parse-impl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fparse%2Frust-parse-impl.h?ref=db4b399c25fd3c37e52c6b8dbdf6bc9c0f1deb6c", "patch": "@@ -8903,8 +8903,9 @@ Parser<ManagedTokenSource>::parse_closure_param ()\n \t}\n     }\n \n-  return AST::ClosureParam (std::move (pattern), pattern->get_locus (),\n-\t\t\t    std::move (type), std::move (outer_attrs));\n+  auto locus = pattern->get_locus ();\n+  return AST::ClosureParam (std::move (pattern), locus, std::move (type),\n+\t\t\t    std::move (outer_attrs));\n }\n \n // Parses a grouped or tuple expression (disambiguates)."}]}