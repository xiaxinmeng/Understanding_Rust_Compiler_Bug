{"sha": "8c7481f253d8943d16947248d76d7f717f8d7028", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGM3NDgxZjI1M2Q4OTQzZDE2OTQ3MjQ4ZDc2ZDdmNzE3ZjhkNzAyOA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-07-02T09:04:55Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-07-02T09:04:55Z"}, "message": "restore darwin8 objc/c++ test functionality.\n\n\t* objc-obj-c++-shared/next-abi.h: Remove dependency on system\n\theaders.  Add clause to reflect that, pre-10.5, ABI is always 0.\n\t* objc/execute/forward-1.m: Depend only on __NEXT_RUNTIME__ for\n\tthe method types to forward:.\n\nFrom-SVN: r161687", "tree": {"sha": "313edfe1d2ed01bfc0a676c807723550038ab4cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/313edfe1d2ed01bfc0a676c807723550038ab4cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c7481f253d8943d16947248d76d7f717f8d7028", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c7481f253d8943d16947248d76d7f717f8d7028", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c7481f253d8943d16947248d76d7f717f8d7028", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c7481f253d8943d16947248d76d7f717f8d7028/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a082684dfe6a5473f7f0bc4ec7373c01153aff7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a082684dfe6a5473f7f0bc4ec7373c01153aff7"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "8d84acde18070f0c6d20c9b872cc968498bcb48c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8c7481f253d8943d16947248d76d7f717f8d7028", "patch": "@@ -1,3 +1,10 @@\n+2010-07-02  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\t* objc-obj-c++-shared/next-abi.h: Remove dependency on system\n+\theaders.  Add clause to reflect that, pre-10.5, ABI is always 0.\n+\t* objc/execute/forward-1.m: Depend only on __NEXT_RUNTIME__ for\n+\tthe method types to forward:.\n+\n 2010-06-30  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/cpp0x/nullptr04.C: Use __INTPTR_TYPE__."}, {"sha": "3ab9804e5104bd772b5de36054dcfbd0e4b19472", "filename": "gcc/testsuite/objc-obj-c++-shared/next-abi.h", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2Fobjc-obj-c%2B%2B-shared%2Fnext-abi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2Fobjc-obj-c%2B%2B-shared%2Fnext-abi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc-obj-c%2B%2B-shared%2Fnext-abi.h?ref=8c7481f253d8943d16947248d76d7f717f8d7028", "patch": "@@ -19,7 +19,7 @@\n #undef NEXT_OBJC_USE_NEW_INTERFACE\n \n #ifdef __NEXT_RUNTIME__\n-#  if (MAC_OS_X_VERSION_MIN_REQUIRED >= MAC_OS_X_VERSION_10_5 || __OBJC2__)\n+#  if (__ENVIRONMENT_MAC_OS_X_VERSION_MIN_REQUIRED__ >= 1050 || __OBJC2__)\n     /* We have to use an updated interface for 32bit NeXT to avoid\n      * 'deprecated' warnings. \n      * For 64bit NeXT the ABI is different (and the interfaces 'deprecated'\n@@ -36,7 +36,10 @@\n        */\n #      define NEXT_OBJC_ABI_VERSION 0\n #    endif\n-#  endif\n-#endif\n+#  else\n+      /* Pre-OSX 10.5 all is ABI 0.  */\n+#     define NEXT_OBJC_ABI_VERSION 0\n+#  endif /* MAC_OS_X_VERSION_MIN_REQUIRED > 10.5 or OBJC2 */\n+#endif /* __NEXT_RUNTIME__ */\n \n #endif /* _OBJC_NEXT_ABI_H_ */"}, {"sha": "258a9164999f6e42dcc9ead9df79e451aaf7e281", "filename": "gcc/testsuite/objc/execute/forward-1.m", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2Fobjc%2Fexecute%2Fforward-1.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c7481f253d8943d16947248d76d7f717f8d7028/gcc%2Ftestsuite%2Fobjc%2Fexecute%2Fforward-1.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc%2Fexecute%2Fforward-1.m?ref=8c7481f253d8943d16947248d76d7f717f8d7028", "patch": "@@ -55,13 +55,12 @@ @implementation Forwarder\n     receiver = theReceiver;\n     return self;\n }\n-#ifdef NEXT_OBJC_USE_NEW_INTERFACE\n+#ifdef __NEXT_RUNTIME__\n - forward: (SEL)theSel: (marg_list)theArgFrame\n-{\n #else\n -(retval_t) forward: (SEL)theSel: (arglist_t)theArgFrame\n-{\n #endif\n+{\n   /* If we have a reciever try to perform on that object */\n     if (receiver)\n         return [receiver performv: theSel: theArgFrame];"}]}