{"sha": "1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZmZTdiNmVkMmRjZWI4NzhjOGYzNWM5YmMzNTYwZWFmMDFiNWNmOA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-06-29T21:44:57Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-06-29T21:44:57Z"}, "message": "re PR c++/36655 (unjustified warning for \"extern template\" when using -pedantic -std=c++0x)\n\n/cp\n2008-06-29  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/36655\n\t* pt.c (do_type_instantiation): In c++0x mode do not warn for\n\textern template.\n\n/testsuite\n2008-06-29  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/36655\n\t* g++.dg/cpp0x/extern_template-2.C: New.\n\t* g++.dg/cpp0x/extern_template.C: Rename to...\n\t* g++.dg/cpp0x/extern_template-1.C: ... this.\n\nFrom-SVN: r137261", "tree": {"sha": "0fdca0584aafd19991357668f83408d0525523bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fdca0584aafd19991357668f83408d0525523bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/comments", "author": null, "committer": null, "parents": [{"sha": "323ff9033223ed7c7b3ec10f2dfb61985fb55884", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/323ff9033223ed7c7b3ec10f2dfb61985fb55884", "html_url": "https://github.com/Rust-GCC/gccrs/commit/323ff9033223ed7c7b3ec10f2dfb61985fb55884"}], "stats": {"total": 30, "additions": 28, "deletions": 2}, "files": [{"sha": "5897d1b5a7411f9f17520d62b780ab52c8114444", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "patch": "@@ -1,3 +1,9 @@\n+2008-06-29  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/36655\n+\t* pt.c (do_type_instantiation): In c++0x mode do not warn for\n+\textern template.\n+\n 2008-06-29  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Make-lang.in (cp-warn): Delete $(CXX_COMPAT_WARN)."}, {"sha": "f24b6ff04b30e17ad3e29bcac4567b9d34080610", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "patch": "@@ -14676,8 +14676,17 @@ do_type_instantiation (tree t, tree storage, tsubst_flags_t complain)\n   if (storage != NULL_TREE)\n     {\n       if (pedantic && !in_system_header)\n-\tpedwarn(\"ISO C++ forbids the use of %qE on explicit instantiations\",\n-\t\tstorage);\n+\t{\n+\t  if (storage == ridpointers[(int) RID_EXTERN])\n+\t    {\n+\t      if (cxx_dialect == cxx98)\n+\t\tpedwarn(\"ISO C++ 1998 forbids the use of %<extern%> on \"\n+\t\t\t\"explicit instantiations\");\n+\t    }\n+\t  else\n+\t    pedwarn(\"ISO C++ forbids the use of %qE on explicit \"\n+\t\t    \"instantiations\", storage);\n+\t}\n \n       if (storage == ridpointers[(int) RID_INLINE])\n \tnomem_p = 1;"}, {"sha": "e1c86aeff2d8a6eabfb79e478dbbbc998e84579a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "patch": "@@ -1,3 +1,10 @@\n+2008-06-29  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/36655\n+\t* g++.dg/cpp0x/extern_template-2.C: New.\n+\t* g++.dg/cpp0x/extern_template.C: Rename to...\n+\t* g++.dg/cpp0x/extern_template-1.C: ... this.\n+\n 2008-06-29  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/36341"}, {"sha": "ec2cb784e19ec547cf35baf6ab4097992f2d9536", "filename": "gcc/testsuite/g++.dg/cpp0x/extern_template-1.C", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-1.C?ref=1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "previous_filename": "gcc/testsuite/g++.dg/cpp0x/extern_template.C"}, {"sha": "89a9ceb5a772837a9f9f38d380e24a18cc49c93e", "filename": "gcc/testsuite/g++.dg/cpp0x/extern_template-2.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fextern_template-2.C?ref=1ffe7b6ed2dceb878c8f35c9bc3560eaf01b5cf8", "patch": "@@ -0,0 +1,4 @@\n+// { dg-options \"-std=c++0x -pedantic\" }\n+\n+template <typename> class S {};\n+extern template class S<int>;"}]}