{"sha": "c3a3b536472eef9287eb2706fd03496147a9577f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNhM2I1MzY0NzJlZWY5Mjg3ZWIyNzA2ZmQwMzQ5NjE0N2E5NTc3Zg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-08-25T18:50:26Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-08-25T18:50:26Z"}, "message": "reorg.c (fill_simple_delay_slots): Do not abort if we encounter an insn on the unfilled_slots_list that has no...\n\n        * reorg.c (fill_simple_delay_slots): Do not abort if we encounter\n        an insn on the unfilled_slots_list that has no delay slots.\n        (fill_eager_delay_slots): Similarly.\n\nFrom-SVN: r21977", "tree": {"sha": "4cdd06abdaea3fcc110a781a9fdec72f773fe3bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4cdd06abdaea3fcc110a781a9fdec72f773fe3bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3a3b536472eef9287eb2706fd03496147a9577f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a3b536472eef9287eb2706fd03496147a9577f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3a3b536472eef9287eb2706fd03496147a9577f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a3b536472eef9287eb2706fd03496147a9577f/comments", "author": null, "committer": null, "parents": [{"sha": "38f76c25a93c43e508de67a0c620a57f1bce2eee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38f76c25a93c43e508de67a0c620a57f1bce2eee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38f76c25a93c43e508de67a0c620a57f1bce2eee"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "14a93843c6a38fb6059b78c125fe32b0029c0111", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a3b536472eef9287eb2706fd03496147a9577f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a3b536472eef9287eb2706fd03496147a9577f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c3a3b536472eef9287eb2706fd03496147a9577f", "patch": "@@ -1,3 +1,9 @@\n+Tue Aug 25 19:48:46 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* reorg.c (fill_simple_delay_slots): Do not abort if we encounter\n+\tan insn on the unfilled_slots_list that has no delay slots.\n+\t(fill_eager_delay_slots): Similarly.\n+\n Tue Aug 25 13:35:20 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* config/v850/v850.c (movsi_source_operand): Treat CONSTANT_P_RTX"}, {"sha": "cd0b6146271cafe780c501746b18bd3157018f4c", "filename": "gcc/reorg.c", "status": "modified", "additions": 25, "deletions": 2, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3a3b536472eef9287eb2706fd03496147a9577f/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3a3b536472eef9287eb2706fd03496147a9577f/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=c3a3b536472eef9287eb2706fd03496147a9577f", "patch": "@@ -3022,8 +3022,20 @@ fill_simple_delay_slots (non_jumps_p)\n       else\n \tflags = get_jump_flags (insn, NULL_RTX);\n       slots_to_fill = num_delay_slots (insn);\n+\n+      /* Some machine description have defined instructions to have\n+\t delay slots only in certain circumstances which may depend on\n+\t nearby insns (which change due to reorg's actions).\n+\n+\t For example, the PA port normally has delay slots for unconditional\n+\t jumps.\n+\n+\t However, the PA port claims such jumps do not have a delay slot\n+\t if they are immediate successors of certain CALL_INSNs.  This\n+\t allows the port to favor filling the delay slot of the call with\n+\t the unconditional jump.  */\n       if (slots_to_fill == 0)\n-\tabort ();\n+\tcontinue;\n \n       /* This insn needs, or can use, some delay slots.  SLOTS_TO_FILL\n \t says how many.  After initialization, first try optimizing\n@@ -3896,8 +3908,19 @@ fill_eager_delay_slots ()\n \tcontinue;\n \n       slots_to_fill = num_delay_slots (insn);\n+      /* Some machine description have defined instructions to have\n+\t delay slots only in certain circumstances which may depend on\n+\t nearby insns (which change due to reorg's actions).\n+\n+ \t For example, the PA port normally has delay slots for unconditional\n+\t jumps.\n+\n+\t However, the PA port claims such jumps do not have a delay slot\n+\t if they are immediate successors of certain CALL_INSNs.  This\n+\t allows the port to favor filling the delay slot of the call with\n+\t the unconditional jump.  */\n       if (slots_to_fill == 0)\n-\tabort ();\n+        continue;\n \n       slots_filled = 0;\n       target_label = JUMP_LABEL (insn);"}]}