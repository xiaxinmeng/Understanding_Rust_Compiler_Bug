{"sha": "209e170cf47f93c83786522b00ddba70b9df1a2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjA5ZTE3MGNmNDdmOTNjODM3ODY1MjJiMDBkZGJhNzBiOWRmMWEyZA==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-11-30T15:38:43Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-11-30T15:38:43Z"}, "message": "re PR tree-optimization/18298 (bad code from lim ssa pass with strcmp)\n\n2004-11-30  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/18298\n        * tree-optimize.c (init_tree_optimization_passes): Add a may_alias\n        pass right after fold builtins.\n2004-11-30  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/18298\n        * gcc.c-torture/execute/p18298.c: New test.\n\nFrom-SVN: r91529", "tree": {"sha": "8f63b0c093a96e65ae0a8f48af5102ab369bd089", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f63b0c093a96e65ae0a8f48af5102ab369bd089"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/209e170cf47f93c83786522b00ddba70b9df1a2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/209e170cf47f93c83786522b00ddba70b9df1a2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/209e170cf47f93c83786522b00ddba70b9df1a2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/209e170cf47f93c83786522b00ddba70b9df1a2d/comments", "author": null, "committer": null, "parents": [{"sha": "00bda9206b27e0c9d5bae355189fe2067ed12750", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00bda9206b27e0c9d5bae355189fe2067ed12750", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00bda9206b27e0c9d5bae355189fe2067ed12750"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "98e8238932770d9a4fb20be91611ae129aeaec93", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=209e170cf47f93c83786522b00ddba70b9df1a2d", "patch": "@@ -1,3 +1,9 @@\n+2004-11-30  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/18298\n+\t* tree-optimize.c (init_tree_optimization_passes): Add a may_alias\n+\tpass right after fold builtins.\n+\n 2004-11-30  Andreas Krebbel  <krebbel1@de.ibm.com>\n \t\n \t* config/s390/s390-modes.def: Added cc modes documentation."}, {"sha": "8d561ad5c84a6180a77e3d7e58cbed2fa1a8bf93", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=209e170cf47f93c83786522b00ddba70b9df1a2d", "patch": "@@ -1,3 +1,8 @@\n+2004-11-30  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/18298\n+\t* gcc.c-torture/execute/p18298.c: New test.\n+\n 2004-11-30  Ira Rosen  <irar@il.ibm.com>\n \t    Dorit Naishlos  <dorit@il.ibm.com>\n "}, {"sha": "5aff51f5fabc3e717f296035e01fd2f254943ffd", "filename": "gcc/testsuite/gcc.c-torture/execute/p18298.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fp18298.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fp18298.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fp18298.c?ref=209e170cf47f93c83786522b00ddba70b9df1a2d", "patch": "@@ -0,0 +1,18 @@\n+#include <stdbool.h>\n+#include <stdlib.h>\n+int strcmp (const char*, const char*);\n+char s[2048] = \"a\";\n+inline bool foo(const char *str) {\n+  return !strcmp(s,str);\n+}\n+int main() {\n+int i = 0;\n+  while(!(foo(\"\"))) {\n+    i ++;\n+    s[0] = '\\0';\n+    if (i>2)\n+     abort ();\n+  }\n+  return 0;\n+}\n+"}, {"sha": "9f58f533731b2c7a8cc9283118c0068de1450799", "filename": "gcc/tree-optimize.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftree-optimize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/209e170cf47f93c83786522b00ddba70b9df1a2d/gcc%2Ftree-optimize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-optimize.c?ref=209e170cf47f93c83786522b00ddba70b9df1a2d", "patch": "@@ -372,6 +372,10 @@ init_tree_optimization_passes (void)\n   NEXT_PASS (pass_ccp);\n   NEXT_PASS (pass_redundant_phi);\n   NEXT_PASS (pass_fold_builtins);\n+  /* FIXME: May alias should a TODO but for 4.0.0,\n+     we add may_alias right after fold builtins\n+     which can create arbitrary GIMPLE.  */\n+  NEXT_PASS (pass_may_alias);\n   NEXT_PASS (pass_split_crit_edges);\n   NEXT_PASS (pass_pre);\n   NEXT_PASS (pass_loop);"}]}