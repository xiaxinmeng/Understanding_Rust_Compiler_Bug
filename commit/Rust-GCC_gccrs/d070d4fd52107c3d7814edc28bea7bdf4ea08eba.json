{"sha": "d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA3MGQ0ZmQ1MjEwN2MzZDc4MTRlZGMyOGJlYTdiZGY0ZWEwOGViYQ==", "commit": {"author": {"name": "Dale Johannesen", "email": "dalej@apple.com", "date": "2004-12-23T16:21:31Z"}, "committer": {"name": "Dale Johannesen", "email": "dalej@gcc.gnu.org", "date": "2004-12-23T16:21:31Z"}, "message": "tree.c (iterative_hash_expr): Canonicalize builtins.\n\n2004-12-23  Dale Johannesen  <dalej@apple.com>\n\n        * tree.c (iterative_hash_expr):  Canonicalize builtins.\n\nFrom-SVN: r92553", "tree": {"sha": "450452ff042e27165daa4c91e8633587b75a073f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/450452ff042e27165daa4c91e8633587b75a073f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d070d4fd52107c3d7814edc28bea7bdf4ea08eba/comments", "author": null, "committer": null, "parents": [{"sha": "08167d1cdbfaf763a8bede8fd46c870356a921f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08167d1cdbfaf763a8bede8fd46c870356a921f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08167d1cdbfaf763a8bede8fd46c870356a921f5"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "a5f9c5d49d77b0417d2a6c3c415259703aa7b918", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d070d4fd52107c3d7814edc28bea7bdf4ea08eba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d070d4fd52107c3d7814edc28bea7bdf4ea08eba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "patch": "@@ -1,3 +1,7 @@\n+2004-12-23  Dale Johannesen  <dalej@apple.com>\n+\n+\t* tree.c (iterative_hash_expr):  Canonicalize builtins.\n+\n 2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n \n \tPR target/16819"}, {"sha": "d81abb2df9d1f16a8b501406c7fc6aa4bb08ca30", "filename": "gcc/tree.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d070d4fd52107c3d7814edc28bea7bdf4ea08eba/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d070d4fd52107c3d7814edc28bea7bdf4ea08eba/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=d070d4fd52107c3d7814edc28bea7bdf4ea08eba", "patch": "@@ -4130,12 +4130,24 @@ iterative_hash_expr (tree t, hashval_t val)\n       for (; t; t = TREE_CHAIN (t))\n \tval = iterative_hash_expr (TREE_VALUE (t), val);\n       return val;\n+    case FUNCTION_DECL:\n+      /* When referring to a built-in FUNCTION_DECL, use the\n+\t __builtin__ form.  Otherwise nodes that compare equal\n+\t according to operand_equal_p might get different\n+\t hash codes.  */\n+      if (DECL_BUILT_IN (t))\n+\t{\n+\t  val = iterative_hash_pointer (built_in_decls[DECL_FUNCTION_CODE (t)], \n+\t\t\t\t      val);\n+\t  return val;\n+\t}\n+      /* else FALL THROUGH */\n     default:\n       class = TREE_CODE_CLASS (code);\n \n       if (class == tcc_declaration)\n \t{\n-\t  /* Decls we can just compare by pointer.  */\n+\t  /* Otherwise, we can just compare decls by pointer.  */\n \t  val = iterative_hash_pointer (t, val);\n \t}\n       else"}]}