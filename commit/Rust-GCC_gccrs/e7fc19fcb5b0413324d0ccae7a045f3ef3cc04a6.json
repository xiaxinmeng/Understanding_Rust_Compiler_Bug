{"sha": "e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdmYzE5ZmNiNWIwNDEzMzI0ZDBjY2FlN2EwNDVmM2VmM2NjMDRhNg==", "commit": {"author": {"name": "Alan Hayward", "email": "alan.hayward@arm.com", "date": "2016-06-03T12:12:41Z"}, "committer": {"name": "Alan Hayward", "email": "alahay01@gcc.gnu.org", "date": "2016-06-03T12:12:41Z"}, "message": "2016-06-03  Alan Hayward  <alan.hayward@arm.com>\n\ngcc/\n\t* tree-vect-stmts.c (vectorizable_call) Remove GOMP_SIMD_LANE code.\n\nFrom-SVN: r237061", "tree": {"sha": "5d2372e37f3ce4317a322cfb23e8151facccb8ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5d2372e37f3ce4317a322cfb23e8151facccb8ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6/comments", "author": {"login": "a74nh", "id": 4146708, "node_id": "MDQ6VXNlcjQxNDY3MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/4146708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a74nh", "html_url": "https://github.com/a74nh", "followers_url": "https://api.github.com/users/a74nh/followers", "following_url": "https://api.github.com/users/a74nh/following{/other_user}", "gists_url": "https://api.github.com/users/a74nh/gists{/gist_id}", "starred_url": "https://api.github.com/users/a74nh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a74nh/subscriptions", "organizations_url": "https://api.github.com/users/a74nh/orgs", "repos_url": "https://api.github.com/users/a74nh/repos", "events_url": "https://api.github.com/users/a74nh/events{/privacy}", "received_events_url": "https://api.github.com/users/a74nh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b82617e340b663701f39e3ab40c44b0b358cf1e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b82617e340b663701f39e3ab40c44b0b358cf1e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b82617e340b663701f39e3ab40c44b0b358cf1e3"}], "stats": {"total": 27, "additions": 4, "deletions": 23}, "files": [{"sha": "84e81cf117c851bf6040f52bb33cd6a7af83bb15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "patch": "@@ -1,3 +1,7 @@\n+2016-06-03  Alan Hayward  <alan.hayward@arm.com>\n+\n+\t* tree-vect-stmts.c (vectorizable_call) Remove GOMP_SIMD_LANE code.\n+\n 2016-06-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* config/arm/thumb1.md (*thumb1_mulsi3): Fix typos in comment."}, {"sha": "a4b5c57237f1854585d6a1b1ce5bd2e93625002e", "filename": "gcc/tree-vect-stmts.c", "status": "modified", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6/gcc%2Ftree-vect-stmts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6/gcc%2Ftree-vect-stmts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-stmts.c?ref=e7fc19fcb5b0413324d0ccae7a045f3ef3cc04a6", "patch": "@@ -2622,29 +2622,6 @@ vectorizable_call (gimple *gs, gimple_stmt_iterator *gsi, gimple **vec_stmt,\n   else\n     lhs = gimple_call_lhs (stmt);\n \n-  if (gimple_call_internal_p (stmt)\n-      && gimple_call_internal_fn (stmt) == IFN_GOMP_SIMD_LANE)\n-    {\n-      /* Replace uses of the lhs of GOMP_SIMD_LANE call outside the loop\n-\t with vf - 1 rather than 0, that is the last iteration of the\n-\t vectorized loop.  */\n-      imm_use_iterator iter;\n-      use_operand_p use_p;\n-      gimple *use_stmt;\n-      FOR_EACH_IMM_USE_STMT (use_stmt, iter, lhs)\n-\t{\n-\t  basic_block use_bb = gimple_bb (use_stmt);\n-\t  if (use_bb\n-\t      && !flow_bb_inside_loop_p (LOOP_VINFO_LOOP (loop_vinfo), use_bb))\n-\t    {\n-\t      FOR_EACH_IMM_USE_ON_STMT (use_p, iter)\n-\t\tSET_USE (use_p, build_int_cst (TREE_TYPE (lhs),\n-\t\t\t\t\t       ncopies * nunits_out - 1));\n-\t      update_stmt (use_stmt);\n-\t    }\n-\t}\n-    }\n-\n   new_stmt = gimple_build_assign (lhs, build_zero_cst (type));\n   set_vinfo_for_stmt (new_stmt, stmt_info);\n   set_vinfo_for_stmt (stmt, NULL);"}]}