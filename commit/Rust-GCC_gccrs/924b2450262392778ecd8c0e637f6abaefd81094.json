{"sha": "924b2450262392778ecd8c0e637f6abaefd81094", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI0YjI0NTAyNjIzOTI3NzhlY2Q4YzBlNjM3ZjZhYmFlZmQ4MTA5NA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2005-06-13T19:20:22Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-06-13T19:20:22Z"}, "message": "re PR java/21844 (miscompilation of LinkedHashMap)\n\n\tPR java/21844:\n\t* parse.y (nested_field_access_p): Handle case where outer field\n\tis inherited by enclosing class.\n\nFrom-SVN: r100893", "tree": {"sha": "43d19766aaba73926ee2ae577243e6ab28129ad7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43d19766aaba73926ee2ae577243e6ab28129ad7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/924b2450262392778ecd8c0e637f6abaefd81094", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/924b2450262392778ecd8c0e637f6abaefd81094", "html_url": "https://github.com/Rust-GCC/gccrs/commit/924b2450262392778ecd8c0e637f6abaefd81094", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/924b2450262392778ecd8c0e637f6abaefd81094/comments", "author": null, "committer": null, "parents": [{"sha": "ab99519a1d26973028300440e48f36d4888b004d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab99519a1d26973028300440e48f36d4888b004d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab99519a1d26973028300440e48f36d4888b004d"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "52196e49a36316de63eea1e24c179d182fab9e34", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924b2450262392778ecd8c0e637f6abaefd81094/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924b2450262392778ecd8c0e637f6abaefd81094/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=924b2450262392778ecd8c0e637f6abaefd81094", "patch": "@@ -1,3 +1,9 @@\n+2005-06-13  Tom Tromey  <tromey@redhat.com>\n+\n+\tPR java/21844:\n+\t* parse.y (nested_field_access_p): Handle case where outer field\n+\tis inherited by enclosing class.\n+\n 2005-06-12  Per Bothner  <per@bothner.com>\n \n \t* class.c (inherits_from_p): Do load_class if needed."}, {"sha": "11087192bec588e30fe91eb7a344b8612a549cfc", "filename": "gcc/java/parse.y", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924b2450262392778ecd8c0e637f6abaefd81094/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924b2450262392778ecd8c0e637f6abaefd81094/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=924b2450262392778ecd8c0e637f6abaefd81094", "patch": "@@ -8389,13 +8389,6 @@ nested_field_access_p (tree type, tree decl)\n     {\n       if (type_root == decl_type)\n         return 1;\n-\n-      /* Before we give up, see whether it is a non-static field\n-         inherited from the enclosing context we are considering.  */\n-      if (!DECL_CONTEXT (TYPE_NAME (type_root))\n-          && !is_static\n-          && inherits_from_p (type_root, decl_type))\n-        return 1;\n     }\n \n   if (TREE_CODE (decl_type) == RECORD_TYPE\n@@ -8416,6 +8409,13 @@ nested_field_access_p (tree type, tree decl)\n   if (type_root == decl_type_root)\n     return 1;\n \n+  /* Before we give up, see whether it is a non-static field\n+     inherited from the enclosing context we are considering.  */\n+  if (!DECL_CONTEXT (TYPE_NAME (type_root))\n+      && !is_static\n+      && inherits_from_p (type_root, decl_type))\n+    return 1;\n+\n   return 0;\n }\n "}]}