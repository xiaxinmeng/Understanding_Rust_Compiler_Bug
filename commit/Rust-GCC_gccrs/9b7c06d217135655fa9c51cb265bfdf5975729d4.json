{"sha": "9b7c06d217135655fa9c51cb265bfdf5975729d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWI3YzA2ZDIxNzEzNTY1NWZhOWM1MWNiMjY1YmZkZjU5NzU3MjlkNA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-04-10T22:37:50Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-04-10T22:37:50Z"}, "message": "sparc.h (CPP_SPEC): Handle -mcpu={sparclet,tsc701}.\n\n\t* sparc/sparc.h (CPP_SPEC): Handle -mcpu={sparclet,tsc701}.\n\t(ASM_SPEC): Likewise.\n\t({MASK,TARGET}_BROKEN_SAVERESTORE): Define.\n\t(enum processor_type): 90C701 renamed to TSC701.\n\nFrom-SVN: r11692", "tree": {"sha": "609f92ee7e0e95552cdf020f9c90b3ecf4e91790", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/609f92ee7e0e95552cdf020f9c90b3ecf4e91790"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b7c06d217135655fa9c51cb265bfdf5975729d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b7c06d217135655fa9c51cb265bfdf5975729d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b7c06d217135655fa9c51cb265bfdf5975729d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b7c06d217135655fa9c51cb265bfdf5975729d4/comments", "author": null, "committer": null, "parents": [{"sha": "3592ea0d900fb5fc609caf0764dec29c9efe3253", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3592ea0d900fb5fc609caf0764dec29c9efe3253", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3592ea0d900fb5fc609caf0764dec29c9efe3253"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "7aae15fc92cfe271ff69f98cd05324fb7d392916", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b7c06d217135655fa9c51cb265bfdf5975729d4/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b7c06d217135655fa9c51cb265bfdf5975729d4/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=9b7c06d217135655fa9c51cb265bfdf5975729d4", "patch": "@@ -123,6 +123,7 @@ Unrecognized value in TARGET_CPU_DEFAULT.\n %{mf930:-D__sparclite__} %{mf934:-D__sparclite__} \\\n %{mv8:-D__sparc_v8__} \\\n %{msupersparc:-D__supersparc__ -D__sparc_v8__} \\\n+%{mcpu=sparclet:-D__sparclet__} %{mcpu=tsc701:-D__sparclet__} \\\n %{mcpu=sparclite:-D__sparclite__} \\\n %{mcpu=f930:-D__sparclite__} %{mcpu=f934:-D__sparclite__} \\\n %{mcpu=v8:-D__sparc_v8__} \\\n@@ -163,6 +164,7 @@ Unrecognized value in TARGET_CPU_DEFAULT.\n \n /* Override in target specific files.  */\n #define ASM_CPU_SPEC \"\\\n+%{mcpu=sparclet:-Asparclet} %{mcpu=tsc701:-Asparclet} \\\n %{msparclite:-Asparclite} \\\n %{mf930:-Asparclite} %{mf934:-Asparclite} \\\n %{mcpu=sparclite:-Asparclite} \\\n@@ -379,6 +381,14 @@ extern int target_flags;\n #define MASK_LIVE_G0 0x100000\n #define TARGET_LIVE_G0 (target_flags & MASK_LIVE_G0)\n \n+/* Non-zero means the cpu has broken `save' and `restore' insns, only\n+   the trivial versions work (save %g0,%g0,%g0; restore %g0,%g0,%g0).\n+   We assume the environment will properly handle or otherwise avoid\n+   trouble associated with an interrupt occuring after the `save' or trap\n+   occuring during it.  */\n+#define MASK_BROKEN_SAVERESTORE 0x200000\n+#define TARGET_BROKEN_SAVERESTORE (target_flags & MASK_BROKEN_SAVERESTORE)\n+\n /* Macro to define tables used to set the flags.\n    This is a list in braces of pairs in braces,\n    each pair being { \"NAME\", VALUE }\n@@ -458,7 +468,7 @@ enum processor_type {\n   PROCESSOR_F930,\n   PROCESSOR_F934,\n   PROCESSOR_SPARCLET,\n-  PROCESSOR_90C701,\n+  PROCESSOR_TSC701,\n   PROCESSOR_V8PLUS,\n   PROCESSOR_V9,\n   PROCESSOR_ULTRASPARC"}]}