{"sha": "dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFlMGRmNmNkOTc5YzcxYzdlZDFjNjBiOTIwM2YyYTQxYjAzZTIwZQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2021-06-22T22:21:00Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-09-20T12:31:30Z"}, "message": "[Ada] Small cleanup in System.Dwarf_Line\n\ngcc/ada/\n\n\t* libgnat/s-dwalin.ads: Remove clause for Ada.Exceptions.Traceback,\n\tadd clause for System.Traceback_Entries and alphabetize.\n\t(AET): Delete.\n\t(STE): New package renaming.\n\t(Symbolic_Traceback): Adjust.\n\t* libgnat/s-dwalin.adb: Remove clauses for Ada.Exceptions.Traceback\n\tand System.Traceback_Entries.\n\t(Symbolic_Traceback): Adjust.", "tree": {"sha": "0fc3e9762937d69a5247c9e34e9407ca03b33a92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fc3e9762937d69a5247c9e34e9407ca03b33a92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f5356c4bfeb42fcab6e2681709a386abf2c0ba1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f5356c4bfeb42fcab6e2681709a386abf2c0ba1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f5356c4bfeb42fcab6e2681709a386abf2c0ba1"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "56564c56a0b225cc0452ccd618e938858ff2ae73", "filename": "gcc/ada/libgnat/s-dwalin.adb", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e/gcc%2Fada%2Flibgnat%2Fs-dwalin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e/gcc%2Fada%2Flibgnat%2Fs-dwalin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-dwalin.adb?ref=dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "patch": "@@ -31,7 +31,6 @@\n \n with Ada.Characters.Handling;\n with Ada.Containers.Generic_Array_Sort;\n-with Ada.Exceptions.Traceback; use Ada.Exceptions.Traceback;\n with Ada.Unchecked_Deallocation;\n \n with Interfaces; use Interfaces;\n@@ -42,7 +41,6 @@ with System.Bounded_Strings;   use System.Bounded_Strings;\n with System.IO;                use System.IO;\n with System.Mmap;              use System.Mmap;\n with System.Object_Reader;     use System.Object_Reader;\n-with System.Traceback_Entries; use System.Traceback_Entries;\n with System.Storage_Elements;  use System.Storage_Elements;\n \n package body System.Dwarf_Lines is\n@@ -1864,7 +1862,7 @@ package body System.Dwarf_Lines is\n \n    procedure Symbolic_Traceback\n      (Cin          :        Dwarf_Context;\n-      Traceback    :        AET.Tracebacks_Array;\n+      Traceback    :        STE.Tracebacks_Array;\n       Suppress_Hex :        Boolean;\n       Symbol_Found :    out Boolean;\n       Res          : in out System.Bounded_Strings.Bounded_String)\n@@ -1893,7 +1891,7 @@ package body System.Dwarf_Lines is\n          --  If the buffer is full, no need to do any useless work\n          exit when Is_Full (Res);\n \n-         Addr_In_Traceback := PC_For (Traceback (J));\n+         Addr_In_Traceback := STE.PC_For (Traceback (J));\n \n          Offset_To_Lookup := Addr_In_Traceback - C.Load_Address;\n "}, {"sha": "23ec2752332fe7848c9cc949c60c73f28cca4559", "filename": "gcc/ada/libgnat/s-dwalin.ads", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e/gcc%2Fada%2Flibgnat%2Fs-dwalin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dae0df6cd979c71c7ed1c60b9203f2a41b03e20e/gcc%2Fada%2Flibgnat%2Fs-dwalin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-dwalin.ads?ref=dae0df6cd979c71c7ed1c60b9203f2a41b03e20e", "patch": "@@ -35,15 +35,14 @@\n --\n --  Files must be compiled with at least minimal debugging information (-g1).\n \n-with Ada.Exceptions.Traceback;\n-\n+with System.Bounded_Strings;\n with System.Object_Reader;\n with System.Storage_Elements;\n-with System.Bounded_Strings;\n+with System.Traceback_Entries;\n \n package System.Dwarf_Lines is\n \n-   package AET renames Ada.Exceptions.Traceback;\n+   package STE renames System.Traceback_Entries;\n    package SOR renames System.Object_Reader;\n \n    type Dwarf_Context (In_Exception : Boolean := False) is private;\n@@ -83,7 +82,7 @@ package System.Dwarf_Lines is\n \n    procedure Symbolic_Traceback\n      (Cin          :        Dwarf_Context;\n-      Traceback    :        AET.Tracebacks_Array;\n+      Traceback    :        STE.Tracebacks_Array;\n       Suppress_Hex :        Boolean;\n       Symbol_Found :    out Boolean;\n       Res          : in out System.Bounded_Strings.Bounded_String);"}]}