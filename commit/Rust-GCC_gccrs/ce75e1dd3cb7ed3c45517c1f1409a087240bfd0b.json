{"sha": "ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U3NWUxZGQzY2I3ZWQzYzQ1NTE3YzFmMTQwOWEwODcyNDBiZmQwYg==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2008-11-06T15:32:40Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2008-11-06T15:32:40Z"}, "message": "re PR target/26397 (Program crashes when rethrowing exception)\n\n        PR target/26397\n        * config/rs6000/aix.h (LIBSTDCXX_STATIC): Define.\n\n\tcp/\n        * g++spec.c (LIBSTDCXX_STATIC): New.\n        (lang_spec_driver): Use LIBSTDCXX_STATIC when not shared_libgcc.\n\nFrom-SVN: r141646", "tree": {"sha": "54d1c55a9915de05d92840d3755e415d3f3bdf61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/54d1c55a9915de05d92840d3755e415d3f3bdf61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/comments", "author": null, "committer": null, "parents": [{"sha": "66e62b4943dc28224c96f4986ed11a007180d7ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66e62b4943dc28224c96f4986ed11a007180d7ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66e62b4943dc28224c96f4986ed11a007180d7ea"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "3a8fe7013ec64955f6d72129971f652b4755cbe1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "patch": "@@ -1,3 +1,8 @@\n+2008-11-06  David Edelsohn  <edelsohn@gnu.org>\n+\n+\tPR target/26397\n+\t* config/rs6000/aix.h (LIBSTDCXX_STATIC): Define.\n+\t\n 2008-11-06  Kazu Hirata  <kazu@codesourcery.com>\n \n \tPR target/35574"}, {"sha": "4dc2e5034ab34bc1a2e9eb04ae2757d3b16a616e", "filename": "gcc/config/rs6000/aix.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fconfig%2Frs6000%2Faix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fconfig%2Frs6000%2Faix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faix.h?ref=ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "patch": "@@ -155,6 +155,9 @@\n #define LIB_SPEC \"%{pg:-L/lib/profiled -L/usr/lib/profiled}\\\n %{p:-L/lib/profiled -L/usr/lib/profiled} %{!shared:%{g*:-lg}} -lc\"\n \n+/* Static linking with shared libstdc++ requires libsupc++ as well.  */\n+#define LIBSTDCXX_STATIC \"-lstdc++ -lsupc++\"\n+\n /* This now supports a natural alignment mode.  */\n /* AIX word-aligns FP doubles but doubleword-aligns 64-bit ints.  */\n #define ADJUST_FIELD_ALIGN(FIELD, COMPUTED) \\"}, {"sha": "ec7a1aa5263d065c98953a6d70dfe89bcab2834c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "patch": "@@ -1,3 +1,10 @@\n+2008-11-06  David Edelsohn  <edelsohn@gnu.org>\n+\n+\tPR target/26397\n+\t* g++spec.c (LIBSTDCXX_STATIC): New.\n+\t(lang_spec_driver): Use LIBSTDCXX_STATIC when not\n+\tshared_libgcc.\n+\t\n 2008-11-05  Fabien Chene <fabien.chene@gmail.com>\n \n \tPR c++/35219"}, {"sha": "c161e99aad24d22faa4bdd8a9ab9924696702169", "filename": "gcc/cp/g++spec.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fcp%2Fg%2B%2Bspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b/gcc%2Fcp%2Fg%2B%2Bspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fg%2B%2Bspec.c?ref=ce75e1dd3cb7ed3c45517c1f1409a087240bfd0b", "patch": "@@ -44,6 +44,9 @@ along with GCC; see the file COPYING3.  If not see\n #ifndef LIBSTDCXX_PROFILE\n #define LIBSTDCXX_PROFILE LIBSTDCXX\n #endif\n+#ifndef LIBSTDCXX_STATIC\n+#define LIBSTDCXX_STATIC LIBSTDCXX\n+#endif\n \n void\n lang_specific_driver (int *in_argc, const char *const **in_argv,\n@@ -315,7 +318,8 @@ lang_specific_driver (int *in_argc, const char *const **in_argv,\n   /* Add `-lstdc++' if we haven't already done so.  */\n   if (library > 0)\n     {\n-      arglist[j] = saw_profile_flag ? LIBSTDCXX_PROFILE : LIBSTDCXX;\n+      arglist[j] = shared_libgcc == 0 ? LIBSTDCXX_STATIC\n+\t: saw_profile_flag ? LIBSTDCXX_PROFILE : LIBSTDCXX;\n       if (arglist[j][0] != '-' || arglist[j][1] == 'l')\n \tadded_libraries++;\n       j++;"}]}