{"sha": "ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU3ZmIwNTg4YzYzNjFiNGQ3NzMzN2FiMGY3NTI3YmU2NGZjZGRlMg==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-09-23T10:52:27Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2018-09-23T10:52:27Z"}, "message": "re PR fortran/87395 (ICE in in lookup_field_for_decl with whizard)\n\n2018-09-23  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/87395\n\t* gfc_conv_procedure_call: Reformat comments slightly. Do not add\n\tclobber on INTENT(OUT) for saved variables.\n\n2018-09-23  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\tPR fortran/87395\n\t* gfortran.dg/intent_out_10.f90: New test.\n\nFrom-SVN: r264512", "tree": {"sha": "2d8b427e3118ac65e89e93b8f2fc5d19b1ebda88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d8b427e3118ac65e89e93b8f2fc5d19b1ebda88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/comments", "author": null, "committer": null, "parents": [{"sha": "5cdf09b069a3bd155c6c9deb140aa5b37a7ed0a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cdf09b069a3bd155c6c9deb140aa5b37a7ed0a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cdf09b069a3bd155c6c9deb140aa5b37a7ed0a9"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "d8e8ed77223047e18a119bc15dacd6f439a70642", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "patch": "@@ -1,3 +1,9 @@\n+2018-09-23  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/87395\n+\t* gfc_conv_procedure_call: Reformat comments slightly. Do not add\n+\tclobber on INTENT(OUT) for saved variables.\n+\n 2018-09-22  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/41453"}, {"sha": "94f1d4d7a6855797ee0689f03565d52717ee4b9a", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "patch": "@@ -5281,7 +5281,10 @@ gfc_conv_procedure_call (gfc_se * se, gfc_symbol * sym,\n \t\t      add_clobber = fsym && fsym->attr.intent == INTENT_OUT\n \t\t\t&& !fsym->attr.allocatable && !fsym->attr.pointer\n \t\t\t&& !e->symtree->n.sym->attr.pointer\n-\t\t\t&& !e->symtree->n.sym->attr.dummy  /* See PR 41453.  */\n+\t\t\t/* See PR 41453.  */\n+\t\t\t&& !e->symtree->n.sym->attr.dummy\n+\t\t\t/* FIXME - PR 87395 and PR 41453  */\n+\t\t\t&& e->symtree->n.sym->attr.save == SAVE_NONE \n \t\t\t&& e->ts.type != BT_CHARACTER && e->ts.type != BT_DERIVED\n \t\t\t&& e->ts.type != BT_CLASS && !sym->attr.elemental;\n "}, {"sha": "946c2b58af8d9505b9303ab88a5cc4f667fb9732", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "patch": "@@ -1,3 +1,8 @@\n+2018-09-23  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\tPR fortran/87395\n+\t* gfortran.dg/intent_out_10.f90: New test.\n+\n 2018-09-22  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/41453"}, {"sha": "82e928c98fa991b9ae90413ac6e1d03a07ab9237", "filename": "gcc/testsuite/gfortran.dg/intent_out_10.f90", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee7fb0588c6361b4d77337ab0f7527be64fcdde2/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fintent_out_10.f90?ref=ee7fb0588c6361b4d77337ab0f7527be64fcdde2", "patch": "@@ -0,0 +1,14 @@\n+! { dg-do compile }\n+! PR 87395 - this used to ICE\n+module mo\n+  integer, save :: x\n+contains\n+  subroutine foo\n+    x = 42\n+    call bar(x)\n+  contains\n+    subroutine bar(y)\n+      integer, intent(out) :: y\n+    end subroutine bar\n+  end subroutine foo\n+end module mo"}]}