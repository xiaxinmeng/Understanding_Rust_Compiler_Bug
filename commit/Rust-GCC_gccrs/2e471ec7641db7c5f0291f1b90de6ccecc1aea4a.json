{"sha": "2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU0NzFlYzc2NDFkYjdjNWYwMjkxZjFiOTBkZTZjY2VjYzFhZWE0YQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2014-07-30T14:25:36Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-07-30T14:25:36Z"}, "message": "sem_ch3.ads, [...]: Minor reformatting.\n\n2014-07-30  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_ch3.ads, prj.ads, prj-nmsc.adb: Minor reformatting.\n\nFrom-SVN: r213283", "tree": {"sha": "3615f8b94b97c8c811f1c6984b26a012fadea153", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3615f8b94b97c8c811f1c6984b26a012fadea153"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/comments", "author": null, "committer": null, "parents": [{"sha": "43174f1527277ef15d1ebb5c50773ab89cbd2ba9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43174f1527277ef15d1ebb5c50773ab89cbd2ba9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43174f1527277ef15d1ebb5c50773ab89cbd2ba9"}], "stats": {"total": 109, "additions": 47, "deletions": 62}, "files": [{"sha": "cd83b8118233197f41f38adcbb2b0ef04cfb97d2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "patch": "@@ -1,3 +1,7 @@\n+2014-07-30  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_ch3.ads, prj.ads, prj-nmsc.adb: Minor reformatting.\n+\n 2014-07-30  Robert Dewar  <dewar@adacore.com>\n \n \t* par-ch5.adb (P_Sequence_Of_Statements): Properly handle"}, {"sha": "c975e1981b85726bf9c427528c0c6fe5d7324b11", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 31, "deletions": 53, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "patch": "@@ -547,12 +547,9 @@ package body Prj.Nmsc is\n       while J <= Str'Last loop\n          Name_Len := Name_Len + 1;\n \n-         if J <= Max\n-           and then Str (J .. J + Pattern'Length - 1) = Pattern\n-         then\n+         if J <= Max and then Str (J .. J + Pattern'Length - 1) = Pattern then\n             Name_Buffer (Name_Len) := Replacement;\n             J := J + Pattern'Length;\n-\n          else\n             Name_Buffer (Name_Len) := GNAT.Case_Util.To_Lower (Str (J));\n             J := J + 1;\n@@ -738,8 +735,7 @@ package body Prj.Nmsc is\n                --  the same file name in unrelated projects.\n \n             elsif Is_Extending (Project, Source.Project) then\n-               if not Locally_Removed\n-                 and then Naming_Exception /= Inherited\n+               if not Locally_Removed and then Naming_Exception /= Inherited\n                then\n                   Source_To_Replace := Source;\n                end if;\n@@ -2403,7 +2399,8 @@ package body Prj.Nmsc is\n                         Lang_Index.Config.Toolchain_Version :=\n                           Element.Value.Value;\n \n-                        --  For Ada, set proper checksum computation mode\n+                        --  For Ada, set proper checksum computation mode,\n+                        --  which has changed from version to version.\n \n                         if Lang_Index.Name = Name_Ada then\n                            declare\n@@ -2432,7 +2429,7 @@ package body Prj.Nmsc is\n                                  then\n                                     Checksum_GNAT_5_03 := True;\n \n-                                    --  Version 5.02 or earlier\n+                                    --  Version 5.02 or earlier (no checksums)\n \n                                     if Vers (6) /= '5'\n                                       or else Vers (Vers'Last) < '3'\n@@ -3355,7 +3352,7 @@ package body Prj.Nmsc is\n \n       Project.Library :=\n         Project.Library_Dir /= No_Path_Information\n-        and then Project.Library_Name /= No_Name;\n+          and then Project.Library_Name /= No_Name;\n \n       if Project.Extends = No_Project then\n          case Project.Qualifier is\n@@ -5016,7 +5013,7 @@ package body Prj.Nmsc is\n \n                   Error_Msg_Warn :=\n                     Project.Symbol_Data.Symbol_Policy /= Controlled\n-                    and then Project.Symbol_Data.Symbol_Policy /= Direct;\n+                      and then Project.Symbol_Data.Symbol_Policy /= Direct;\n \n                   Error_Msg\n                     (Data.Flags,\n@@ -5432,12 +5429,10 @@ package body Prj.Nmsc is\n       No_Sources : constant Boolean :=\n                      ((not Source_Files.Default\n                         and then Source_Files.Values = Nil_String)\n-                      or else\n-                        (not Source_Dirs.Default\n-                          and then Source_Dirs.Values = Nil_String)\n-                      or else\n-                        (not Languages.Default\n-                          and then Languages.Values = Nil_String))\n+                       or else (not Source_Dirs.Default\n+                                 and then Source_Dirs.Values = Nil_String)\n+                       or else (not Languages.Default\n+                                 and then Languages.Values = Nil_String))\n                      and then Project.Extends = No_Project;\n \n    --  Start of processing for Get_Directories\n@@ -5502,6 +5497,7 @@ package body Prj.Nmsc is\n \n             if not Dir_Exists and then not Project.Externally_Built then\n                if Opt.Directories_Must_Exist_In_Projects then\n+\n                   --  The object directory does not exist, report an error if\n                   --  the project is not externally built.\n \n@@ -5613,8 +5609,7 @@ package body Prj.Nmsc is\n \n       pragma Assert (Source_Dirs.Kind = List, \"Source_Dirs is not a list\");\n \n-      if not Source_Files.Default\n-        and then Source_Files.Values = Nil_String\n+      if not Source_Files.Default and then Source_Files.Values = Nil_String\n       then\n          Project.Source_Dirs := Nil_String;\n \n@@ -5779,9 +5774,7 @@ package body Prj.Nmsc is\n \n             --  A non empty, non comment line should contain a file name\n \n-            if Last /= 0\n-              and then (Last = 1 or else Line (1 .. 2) /= \"--\")\n-            then\n+            if Last /= 0 and then (Last = 1 or else Line (1 .. 2) /= \"--\") then\n                Name_Len := Last;\n                Name_Buffer (1 .. Name_Len) := Line (1 .. Last);\n                Canonical_Case_File_Name (Name_Buffer (1 .. Name_Len));\n@@ -5964,20 +5957,15 @@ package body Prj.Nmsc is\n       --  In the standard GNAT naming scheme, check for special cases: children\n       --  or separates of A, G, I or S, and run time sources.\n \n-      if Is_Standard_GNAT_Naming (Naming)\n-        and then Name_Len >= 3\n-      then\n+      if Is_Standard_GNAT_Naming (Naming) and then Name_Len >= 3 then\n          declare\n             S1 : constant Character := Name_Buffer (1);\n             S2 : constant Character := Name_Buffer (2);\n             S3 : constant Character := Name_Buffer (3);\n \n          begin\n-            if        S1 = 'a'\n-              or else S1 = 'g'\n-              or else S1 = 'i'\n-              or else S1 = 's'\n-            then\n+            if S1 = 'a' or else S1 = 'g' or else S1 = 'i' or else S1 = 's' then\n+\n                --  Children or separates of packages A, G, I or S. These names\n                --  are x__ ... or x~... (where x is a, g, i, or s). Both\n                --  versions (x__... and x~...) are allowed in all platforms,\n@@ -6045,9 +6033,7 @@ package body Prj.Nmsc is\n          end if;\n       end if;\n \n-      if Unit /= No_Name\n-        and then Current_Verbosity = High\n-      then\n+      if Unit /= No_Name and then Current_Verbosity = High then\n          case Kind is\n             when Spec => Debug_Output (\"spec of\", Unit);\n             when Impl => Debug_Output (\"body of\", Unit);\n@@ -6507,8 +6493,7 @@ package body Prj.Nmsc is\n                if Project.Project.Extends = No_Project\n                  and then\n                    Project.Project.Object_Directory = Project.Project.Directory\n-                 and then\n-                   not (Project.Project.Qualifier = Aggregate_Library)\n+                 and then not (Project.Project.Qualifier = Aggregate_Library)\n                then\n                   Project.Project.Object_Directory := No_Path_Information;\n                end if;\n@@ -6638,7 +6623,9 @@ package body Prj.Nmsc is\n                        (Project.Source_Names, Source.File);\n \n                      if NL /= No_Name_Location and then not NL.Listed then\n+\n                         --  Remove the exception\n+\n                         Source_Names_Htable.Set\n                           (Project.Source_Names,\n                            Source.File,\n@@ -6983,9 +6970,7 @@ package body Prj.Nmsc is\n \n       Source.Kind := Kind;\n \n-      if Current_Verbosity = High\n-        and then Source.File /= No_File\n-      then\n+      if Current_Verbosity = High and then Source.File /= No_File then\n          Debug_Output (\"override kind for \"\n                        & Get_Name_String (Source.File)\n                        & \" idx=\" & Source.Index'Img\n@@ -7154,8 +7139,7 @@ package body Prj.Nmsc is\n \n             --  A file name in a list must be a source of a language\n \n-            if Data.Flags.Error_On_Unknown_Language\n-              and then Name_Loc.Found\n+            if Data.Flags.Error_On_Unknown_Language and then Name_Loc.Found\n             then\n                Error_Msg_File_1 := File_Name;\n                Error_Msg\n@@ -7322,19 +7306,17 @@ package body Prj.Nmsc is\n             Read (Dir, Name, Last);\n             exit when Last = 0;\n \n-            if Name (1 .. Last) /= \".\"\n-                 and then\n-               Name (1 .. Last) /= \"..\"\n-            then\n+            if Name (1 .. Last) /= \".\" and then Name (1 .. Last) /= \"..\" then\n                declare\n                   Path_Name : constant String :=\n                     Normalize_Pathname\n                       (Name           => Name (1 .. Last),\n                        Directory      => Path_Str,\n                        Resolve_Links  => Resolve_Links)\n                     & Directory_Separator;\n-                  Path2     : Path_Information;\n-                  OK        : Boolean := True;\n+\n+                  Path2 : Path_Information;\n+                  OK    : Boolean := True;\n \n                begin\n                   if Is_Directory (Path_Name) then\n@@ -7446,8 +7428,8 @@ package body Prj.Nmsc is\n            Pattern_End - 1 >= Pattern'First\n            and then Pattern (Pattern_End - 1 .. Pattern_End) = \"**\"\n            and then (Pattern_End - 1 = Pattern'First\n-                     or else Pattern (Pattern_End - 2) = '/'\n-                     or else Pattern (Pattern_End - 2) = Directory_Separator);\n+                      or else Pattern (Pattern_End - 2) = '/'\n+                      or else Pattern (Pattern_End - 2) = Directory_Separator);\n \n          if Recursive then\n             Pattern_End := Pattern_End - 2;\n@@ -7820,9 +7802,7 @@ package body Prj.Nmsc is\n          Continuation : Boolean := False;\n          Iter         : Source_Iterator;\n       begin\n-         if not Project.Project.Externally_Built\n-           and then not Extending\n-         then\n+         if not Project.Project.Externally_Built and then not Extending then\n             Language := Project.Project.Languages;\n             while Language /= No_Language_Index loop\n \n@@ -8137,11 +8117,9 @@ package body Prj.Nmsc is\n             --  unit name is not null.\n \n             if Src.Kind /= Sep and then Src.Unit_Name /= No_Name then\n-\n                declare\n                   UData : Unit_Index :=\n-                            Units_Htable.Get\n-                              (Data.Tree.Units_HT, Src.Unit_Name);\n+                    Units_Htable.Get (Data.Tree.Units_HT, Src.Unit_Name);\n                begin\n                   if UData = No_Unit_Index then\n                      UData := new Unit_Data;"}, {"sha": "8ad6143ecd7e84b0d0e25ca7c771837d594b57ef", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "patch": "@@ -1952,7 +1952,6 @@ package Prj is\n    --  indentation level only affects output done through Debug_Output.\n \n private\n-\n    All_Packages : constant String_List_Access := null;\n \n    No_Project_Tree : constant Project_Tree_Ref := null;\n@@ -1992,14 +1991,18 @@ private\n       Last : in out Natural);\n    --  Append a String to the Buffer\n \n+   --  Table used to store the path name of all the created temporary files, so\n+   --  that they can be deleted at the end, or when the program is interrupted.\n+\n    package Temp_Files_Table is new GNAT.Dynamic_Tables\n      (Table_Component_Type => Path_Name_Type,\n       Table_Index_Type     => Integer,\n       Table_Low_Bound      => 1,\n       Table_Initial        => 10,\n       Table_Increment      => 10);\n-   --  Table to store the path name of all the created temporary files, so that\n-   --  they can be deleted at the end, or when the program is interrupted.\n+\n+   --  The following type is used to represent the part of a project tree which\n+   --  is private to the Project Manager.\n \n    type Private_Project_Tree_Data is record\n       Temp_Files   : Temp_Files_Table.Instance;\n@@ -2017,10 +2020,10 @@ private\n       --  Current value of project object path file env var. Used to avoid\n       --  setting the env var to the same value.\n       --  gnatmake only\n-\n    end record;\n-   --  Type to represent the part of a project tree which is private to the\n-   --  Project Manager.\n+\n+   --  The following type is used to hold processing flags which show what\n+   --  functions are required for the various tools that are handled.\n \n    type Processing_Flags is record\n       Require_Sources_Other_Lang : Boolean;"}, {"sha": "70b201d405521d4fbc0326de3d3b1ce67960b261", "filename": "gcc/ada/sem_ch3.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fsem_ch3.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e471ec7641db7c5f0291f1b90de6ccecc1aea4a/gcc%2Fada%2Fsem_ch3.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.ads?ref=2e471ec7641db7c5f0291f1b90de6ccecc1aea4a", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2013, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2014, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -196,8 +196,8 @@ package Sem_Ch3 is\n      (I            : Node_Id;\n       Related_Nod  : Node_Id;\n       Related_Id   : Entity_Id := Empty;\n-      Suffix_Index : Nat := 1;\n-      In_Iter_Schm : Boolean := False);\n+      Suffix_Index : Nat       := 1;\n+      In_Iter_Schm : Boolean   := False);\n    --  Process an index that is given in an array declaration, an entry\n    --  family declaration or a loop iteration. The index is given by an\n    --  index declaration (a 'box'), or by a discrete range. The later can"}]}