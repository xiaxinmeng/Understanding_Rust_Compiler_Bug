{"sha": "099f36ab8c55844ae47def2f3cacaef7d006d441", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDk5ZjM2YWI4YzU1ODQ0YWU0N2RlZjJmM2NhY2FlZjdkMDA2ZDQ0MQ==", "commit": {"author": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-08-06T05:18:09Z"}, "committer": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-08-06T05:18:09Z"}, "message": "re PR debug/22514 (ICE in force_decl_die with invalid code after error)\n\n2005-08-05  James A. Morrison  <phython@gcc.gnu.org>\n\n        PR c++/22514\n        * name-lookup.c (cp_emit_debug_info_for_using): Do nothing if\n        sorrycount or errorcount are nonzero.\n\nFrom-SVN: r102799", "tree": {"sha": "f31bebe66c7da34613432c4f884a5166a885a36e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f31bebe66c7da34613432c4f884a5166a885a36e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/099f36ab8c55844ae47def2f3cacaef7d006d441", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/099f36ab8c55844ae47def2f3cacaef7d006d441", "html_url": "https://github.com/Rust-GCC/gccrs/commit/099f36ab8c55844ae47def2f3cacaef7d006d441", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/099f36ab8c55844ae47def2f3cacaef7d006d441/comments", "author": null, "committer": null, "parents": [{"sha": "a6a09784ee39b0bd6d449cfc9f01772f72bbc6ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6a09784ee39b0bd6d449cfc9f01772f72bbc6ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6a09784ee39b0bd6d449cfc9f01772f72bbc6ac"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "574918b60bf2f7bac4805a625163c7c288d4065f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=099f36ab8c55844ae47def2f3cacaef7d006d441", "patch": "@@ -1,3 +1,9 @@\n+2005-08-05  James A. Morrison  <phython@gcc.gnu.org>\n+\n+\tPR c++/22514\n+\t* name-lookup.c (cp_emit_debug_info_for_using): Do nothing if\n+\tsorrycount or errorcount are nonzero.\n+\n 2005-08-05  Mark Mitchell  <mark@codesourcery.com>\n \n \t* name-lookup.c (pushtag): Remove accidental commit from:"}, {"sha": "a03b648398ac4540c06300e42ea4f786a5c3f063", "filename": "gcc/cp/name-lookup.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Fcp%2Fname-lookup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Fcp%2Fname-lookup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fname-lookup.c?ref=099f36ab8c55844ae47def2f3cacaef7d006d441", "patch": "@@ -4949,6 +4949,10 @@ pop_everything (void)\n void\n cp_emit_debug_info_for_using (tree t, tree context)\n {\n+  /* Don't try to emit any debug information if we have errors.  */\n+  if (sorrycount || errorcount)\n+    return;\n+\n   /* Ignore this FUNCTION_DECL if it refers to a builtin declaration\n      of a builtin function.  */\n   if (TREE_CODE (t) == FUNCTION_DECL"}, {"sha": "d0fb7f368bb877e2c06de863f853fc3a62a41377", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=099f36ab8c55844ae47def2f3cacaef7d006d441", "patch": "@@ -1,3 +1,7 @@\n+2005-08-05  James A. Morrison  <phython@gcc.gnu.org>\n+\n+\t* g++.dg/parse/pr22514.C: New test.\n+\n 2005-08-05  J\"orn Rennecke <joern.rennecke@st.com>\n \n \t* gcc.dg/intmax_t-1.c: Extend dg-error to cover sh*-*-elf targets."}, {"sha": "23dc9b2b061a4bad853096a64b5782e39afcf2e0", "filename": "gcc/testsuite/g++.dg/parse/pr22514.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fpr22514.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/099f36ab8c55844ae47def2f3cacaef7d006d441/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fpr22514.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fpr22514.C?ref=099f36ab8c55844ae47def2f3cacaef7d006d441", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+namespace s\n+{\n+  template <int> struct _List_base\n+  {\n+     int _M_impl;\n+  };\n+  template<int i> struct list : _List_base<i>\n+  {\n+    using _List_base<i>::_M_impl;\n+  }\n+}  /* { dg-error \"expected unqualified-id before '\\}'\" } */\n+s::list<1> OutputModuleListType;  /* { dg-error \"expected\" } */"}]}