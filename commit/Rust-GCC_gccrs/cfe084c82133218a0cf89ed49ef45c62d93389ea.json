{"sha": "cfe084c82133218a0cf89ed49ef45c62d93389ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ZlMDg0YzgyMTMzMjE4YTBjZjg5ZWQ0OWVmNDVjNjJkOTMzODllYQ==", "commit": {"author": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2004-02-08T23:30:49Z"}, "committer": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2004-02-08T23:30:49Z"}, "message": "m68k.h (REGISTER_NAMES): Prefix each name with REGISTER_PREFIX.\n\n\t* config/m68k/m68k.h (REGISTER_NAMES): Prefix each name with\n\tREGISTER_PREFIX.\n\t* (M68K_FP_REG_NAME): New macro to specify an alternate name for the\n\tframe pointer register, overridable by OS targets.\n\t* (M68K_REGNAME): Macro to obtain register name for asm output,\n\teventually replacing %a6 with M68K_FP_REG_NAME.\n\t* config/m68k/coff.h (REGISTER_NAMES): Don't redefine.\n\t* config/m68k/linux.h (REGISTER_NAMES): Likewise.\n\t* config/m68k/m68kelf.h (REGISTER_NAMES): Likewise.\n\t* config/m68k/netbsd-elf.h (REGISTER_NAMES): Likewise.\n\t* config/m68k/m68k.c: Use M68K_REGNAME(x) in place of reg_names[x].\n\nFrom-SVN: r77511", "tree": {"sha": "9ad5039093d8fce1be816124128f8bc4b5c770f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ad5039093d8fce1be816124128f8bc4b5c770f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfe084c82133218a0cf89ed49ef45c62d93389ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfe084c82133218a0cf89ed49ef45c62d93389ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfe084c82133218a0cf89ed49ef45c62d93389ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfe084c82133218a0cf89ed49ef45c62d93389ea/comments", "author": null, "committer": null, "parents": [{"sha": "01bbf777d3d20f33ca989ff1665ded9f59ceca5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01bbf777d3d20f33ca989ff1665ded9f59ceca5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01bbf777d3d20f33ca989ff1665ded9f59ceca5d"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "6f05bec1b86705e99fb9a4b333e9069e1a3bd4ef", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 20, "deletions": 3, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfe084c82133218a0cf89ed49ef45c62d93389ea/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfe084c82133218a0cf89ed49ef45c62d93389ea/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=cfe084c82133218a0cf89ed49ef45c62d93389ea", "patch": "@@ -1458,9 +1458,26 @@ do { if (cc_prev_status.flags & CC_IN_68881)\t\t\t\\\n    This sequence is indexed by compiler's hard-register-number (see above).  */\n \n #define REGISTER_NAMES \\\n-{\"d0\", \"d1\", \"d2\", \"d3\", \"d4\", \"d5\", \"d6\", \"d7\",\t\\\n- \"a0\", \"a1\", \"a2\", \"a3\", \"a4\", \"a5\", \"a6\", \"sp\",\t\\\n- \"fp0\", \"fp1\", \"fp2\", \"fp3\", \"fp4\", \"fp5\", \"fp6\", \"fp7\", \"argptr\" }\n+{REGISTER_PREFIX\"d0\", REGISTER_PREFIX\"d1\", REGISTER_PREFIX\"d2\",\t\\\n+ REGISTER_PREFIX\"d3\", REGISTER_PREFIX\"d4\", REGISTER_PREFIX\"d5\",\t\\\n+ REGISTER_PREFIX\"d6\", REGISTER_PREFIX\"d7\",\t\t\t\\\n+ REGISTER_PREFIX\"a0\", REGISTER_PREFIX\"a1\", REGISTER_PREFIX\"a2\", \\\n+ REGISTER_PREFIX\"a3\", REGISTER_PREFIX\"a4\", REGISTER_PREFIX\"a5\", \\\n+ REGISTER_PREFIX\"a6\", REGISTER_PREFIX\"sp\",\t\t\t\\\n+ REGISTER_PREFIX\"fp0\", REGISTER_PREFIX\"fp1\", REGISTER_PREFIX\"fp2\", \\\n+ REGISTER_PREFIX\"fp3\", REGISTER_PREFIX\"fp4\", REGISTER_PREFIX\"fp5\", \\\n+ REGISTER_PREFIX\"fp6\", REGISTER_PREFIX\"fp7\", REGISTER_PREFIX\"argptr\" }\n+\n+#define M68K_FP_REG_NAME REGISTER_PREFIX\"fp\"\n+\n+/* Return a register name by index, handling %fp nicely.\n+   We don't replace %fp for targets that don't map it to %a6\n+   since it may confuse GAS.  */\n+#define M68K_REGNAME(r) ( \\\n+  ((FRAME_POINTER_REGNUM == 14) \\\n+    && ((r) == FRAME_POINTER_REGNUM) \\\n+    && frame_pointer_needed) ? \\\n+    M68K_FP_REG_NAME : reg_names[(r)])\n \n /* How to renumber registers for dbx and gdb.\n    On the Sun-3, the floating point registers have numbers"}]}