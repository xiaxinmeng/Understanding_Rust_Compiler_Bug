{"sha": "17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdjMmUyYzBmZWFmOWI0ZDA3ZTU1OTI1Nzk0OTZlYjlmY2U1NTNiZg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2005-02-08T21:51:34Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2005-02-08T21:51:34Z"}, "message": "configure: Rebuilt.\n\n\t* configure: Rebuilt.\n\t* configure.ac: Reduce number of calls to AC_CHECK_FUNCS and\n\tAC_CHECK_HEADERS.\n\nFrom-SVN: r94748", "tree": {"sha": "b55c998eb2051c85431967ad6c3496032ba6f708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b55c998eb2051c85431967ad6c3496032ba6f708"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/comments", "author": null, "committer": null, "parents": [{"sha": "ee31ea68f45fde9d09ba5c7192db5bfdd5d95b82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee31ea68f45fde9d09ba5c7192db5bfdd5d95b82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee31ea68f45fde9d09ba5c7192db5bfdd5d95b82"}], "stats": {"total": 753, "additions": 46, "deletions": 707}, "files": [{"sha": "3c9d59b1f402fec9f235ab7c8951f0a5c0e300ad", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "patch": "@@ -1,3 +1,9 @@\n+2005-02-08  Tom Tromey  <tromey@redhat.com>\n+\n+\t* configure: Rebuilt.\n+\t* configure.ac: Reduce number of calls to AC_CHECK_FUNCS and\n+\tAC_CHECK_HEADERS.\n+\n 2005-02-07  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/natRuntime.cc (insertSystemProperties): Set"}, {"sha": "a243d6c952163903906250a8188d0e023412844f", "filename": "libjava/configure", "status": "modified", "additions": 29, "deletions": 699, "changes": 728, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "patch": "@@ -8557,558 +8557,36 @@ else\n \n \n \n-for ac_func in strerror ioctl select fstat open fsync sleep opendir\n-do\n-as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n-echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $ac_func innocuous_$ac_func\n-\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\n-#undef $ac_func\n-\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-{\n-#endif\n-/* We use char because int might match the return type of a gcc2\n-   builtin and then its argument prototype would still apply.  */\n-char $ac_func ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-char (*f) () = $ac_func;\n-#endif\n-#ifdef __cplusplus\n-}\n-#endif\n-\n-int\n-main ()\n-{\n-return f != $ac_func;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  eval \"$as_ac_var=yes\"\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-eval \"$as_ac_var=no\"\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n-if test `eval echo '${'$as_ac_var'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n-\n-\n-\n-\n-for ac_func in gmtime_r localtime_r readdir_r getpwuid_r getcwd\n-do\n-as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n-echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $ac_func innocuous_$ac_func\n-\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\n-#undef $ac_func\n-\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-{\n-#endif\n-/* We use char because int might match the return type of a gcc2\n-   builtin and then its argument prototype would still apply.  */\n-char $ac_func ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-char (*f) () = $ac_func;\n-#endif\n-#ifdef __cplusplus\n-}\n-#endif\n-\n-int\n-main ()\n-{\n-return f != $ac_func;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  eval \"$as_ac_var=yes\"\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-eval \"$as_ac_var=no\"\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n-if test `eval echo '${'$as_ac_var'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-for ac_func in access stat mkdir rename rmdir unlink realpath utime chmod\n-do\n-as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n-echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $ac_func innocuous_$ac_func\n-\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\n-#undef $ac_func\n-\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-{\n-#endif\n-/* We use char because int might match the return type of a gcc2\n-   builtin and then its argument prototype would still apply.  */\n-char $ac_func ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-char (*f) () = $ac_func;\n-#endif\n-#ifdef __cplusplus\n-}\n-#endif\n-\n-int\n-main ()\n-{\n-return f != $ac_func;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  eval \"$as_ac_var=yes\"\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-eval \"$as_ac_var=no\"\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n-if test `eval echo '${'$as_ac_var'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n-\n-for ac_func in nl_langinfo setlocale\n-do\n-as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n-echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $ac_func innocuous_$ac_func\n-\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\n-#undef $ac_func\n-\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-{\n-#endif\n-/* We use char because int might match the return type of a gcc2\n-   builtin and then its argument prototype would still apply.  */\n-char $ac_func ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-char (*f) () = $ac_func;\n-#endif\n-#ifdef __cplusplus\n-}\n-#endif\n-\n-int\n-main ()\n-{\n-return f != $ac_func;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  eval \"$as_ac_var=yes\"\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-eval \"$as_ac_var=no\"\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n-if test `eval echo '${'$as_ac_var'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n-\n-for ac_func in inet_aton inet_addr\n-do\n-as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n-echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-/* Define $ac_func to an innocuous variant, in case <limits.h> declares $ac_func.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $ac_func innocuous_$ac_func\n \n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n \n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n \n-#undef $ac_func\n \n-/* Override any gcc2 internal prototype to avoid an error.  */\n-#ifdef __cplusplus\n-extern \"C\"\n-{\n-#endif\n-/* We use char because int might match the return type of a gcc2\n-   builtin and then its argument prototype would still apply.  */\n-char $ac_func ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-char (*f) () = $ac_func;\n-#endif\n-#ifdef __cplusplus\n-}\n-#endif\n \n-int\n-main ()\n-{\n-return f != $ac_func;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.$ac_objext conftest$ac_exeext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest$ac_exeext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  eval \"$as_ac_var=yes\"\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n \n-eval \"$as_ac_var=no\"\n-fi\n-rm -f conftest.err conftest.$ac_objext \\\n-      conftest$ac_exeext conftest.$ac_ext\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_var'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_var'}'`\" >&6\n-if test `eval echo '${'$as_ac_var'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n- break\n-fi\n-done\n \n \n \n \n-for ac_func in inet_pton uname inet_ntoa\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+\n+for ac_func in strerror ioctl select fstat open fsync sleep opendir \\\n+                   gmtime_r localtime_r readdir_r getpwuid_r getcwd \\\n+\t\t   access stat mkdir rename rmdir unlink realpath utime chmod \\\n+\t\t   nl_langinfo setlocale \\\n+\t\t   inet_pton uname inet_ntoa \\\n+\t\t   fork execvp pipe sigaction ftruncate\n do\n as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n@@ -9216,10 +8694,7 @@ done\n \n \n \n-\n-\n-\n-for ac_func in fork execvp pipe sigaction ftruncate\n+for ac_func in inet_aton inet_addr\n do\n as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n@@ -9321,7 +8796,7 @@ if test `eval echo '${'$as_ac_var'}'` = yes; then\n   cat >>confdefs.h <<_ACEOF\n #define `echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n _ACEOF\n-\n+ break\n fi\n done\n \n@@ -14301,6 +13776,8 @@ esac\n # We check for sys/filio.h because Solaris 2.5 defines FIONREAD there.\n # On that system, sys/ioctl.h will not include sys/filio.h unless\n # BSD_COMP is defined; just including sys/filio.h is simpler.\n+# We avoid AC_HEADER_DIRENT since we really only care about dirent.h\n+# for now.  If you change this, you also must update natFile.cc.\n \n \n \n@@ -14320,159 +13797,12 @@ esac\n \n \n \n-for ac_header in unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/filio.h sys/stat.h sys/select.h sys/socket.h netinet/in.h arpa/inet.h netdb.h net/if.h pwd.h sys/config.h stdint.h langinfo.h locale.h\n-do\n-as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n-  echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n-echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n-else\n-  # Is the header compilable?\n-echo \"$as_me:$LINENO: checking $ac_header usability\" >&5\n-echo $ECHO_N \"checking $ac_header usability... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-$ac_includes_default\n-#include <$ac_header>\n-_ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\n-\t\t\t || test ! -s conftest.err'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n-  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n-  (eval $ac_try) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; }; then\n-  ac_header_compiler=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-ac_header_compiler=no\n-fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_compiler\" >&5\n-echo \"${ECHO_T}$ac_header_compiler\" >&6\n-\n-# Is the header present?\n-echo \"$as_me:$LINENO: checking $ac_header presence\" >&5\n-echo $ECHO_N \"checking $ac_header presence... $ECHO_C\" >&6\n-cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-#include <$ac_header>\n-_ACEOF\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n-  ac_status=$?\n-  grep -v '^ *+' conftest.er1 >conftest.err\n-  rm -f conftest.er1\n-  cat conftest.err >&5\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); } >/dev/null; then\n-  if test -s conftest.err; then\n-    ac_cpp_err=$ac_c_preproc_warn_flag\n-    ac_cpp_err=$ac_cpp_err$ac_c_werror_flag\n-  else\n-    ac_cpp_err=\n-  fi\n-else\n-  ac_cpp_err=yes\n-fi\n-if test -z \"$ac_cpp_err\"; then\n-  ac_header_preproc=yes\n-else\n-  echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-  ac_header_preproc=no\n-fi\n-rm -f conftest.err conftest.$ac_ext\n-echo \"$as_me:$LINENO: result: $ac_header_preproc\" >&5\n-echo \"${ECHO_T}$ac_header_preproc\" >&6\n-\n-# So?  What about this header?\n-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in\n-  yes:no: )\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&5\n-echo \"$as_me: WARNING: $ac_header: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the compiler's result\" >&5\n-echo \"$as_me: WARNING: $ac_header: proceeding with the compiler's result\" >&2;}\n-    ac_header_preproc=yes\n-    ;;\n-  no:yes:* )\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: present but cannot be compiled\" >&5\n-echo \"$as_me: WARNING: $ac_header: present but cannot be compiled\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header:     check for missing prerequisite headers?\" >&5\n-echo \"$as_me: WARNING: $ac_header:     check for missing prerequisite headers?\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: see the Autoconf documentation\" >&5\n-echo \"$as_me: WARNING: $ac_header: see the Autoconf documentation\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&5\n-echo \"$as_me: WARNING: $ac_header:     section \\\"Present But Cannot Be Compiled\\\"\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: proceeding with the preprocessor's result\" >&5\n-echo \"$as_me: WARNING: $ac_header: proceeding with the preprocessor's result\" >&2;}\n-    { echo \"$as_me:$LINENO: WARNING: $ac_header: in the future, the compiler will take precedence\" >&5\n-echo \"$as_me: WARNING: $ac_header: in the future, the compiler will take precedence\" >&2;}\n-    (\n-      cat <<\\_ASBOX\n-## ---------------------------------- ##\n-## Report this to the libjava lists.  ##\n-## ---------------------------------- ##\n-_ASBOX\n-    ) |\n-      sed \"s/^/$as_me: WARNING:     /\" >&2\n-    ;;\n-esac\n-echo \"$as_me:$LINENO: checking for $ac_header\" >&5\n-echo $ECHO_N \"checking for $ac_header... $ECHO_C\" >&6\n-if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  eval \"$as_ac_Header=\\$ac_header_preproc\"\n-fi\n-echo \"$as_me:$LINENO: result: `eval echo '${'$as_ac_Header'}'`\" >&5\n-echo \"${ECHO_T}`eval echo '${'$as_ac_Header'}'`\" >&6\n-\n-fi\n-if test `eval echo '${'$as_ac_Header'}'` = yes; then\n-  cat >>confdefs.h <<_ACEOF\n-#define `echo \"HAVE_$ac_header\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-\n-done\n-\n-# We avoid AC_HEADER_DIRENT since we really only care about dirent.h\n-# for now.  If you change this, you also must update natFile.cc.\n \n-for ac_header in dirent.h\n+for ac_header in unistd.h bstring.h sys/time.h sys/types.h fcntl.h \\\n+\t\t  sys/ioctl.h sys/filio.h sys/stat.h sys/select.h \\\n+\t\t  sys/socket.h netinet/in.h arpa/inet.h netdb.h net/if.h \\\n+\t\t  pwd.h sys/config.h stdint.h langinfo.h locale.h \\\n+\t\t  dirent.h\n do\n as_ac_Header=`echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n if eval \"test \\\"\\${$as_ac_Header+set}\\\" = set\"; then"}, {"sha": "d2f1c1058faacc03be09f860d603ba9d1c65e7a3", "filename": "libjava/configure.ac", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17c2e2c0feaf9b4d07e5592579496eb9fce553bf/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=17c2e2c0feaf9b4d07e5592579496eb9fce553bf", "patch": "@@ -759,13 +759,13 @@ if test \"x${with_newlib}\" = \"xyes\"; then\n    AC_DEFINE(NO_GETUID, 1, [Define if getuid() and friends are missing.])\n    PLATFORMNET=NoNet\n else\n-   AC_CHECK_FUNCS(strerror ioctl select fstat open fsync sleep opendir)\n-   AC_CHECK_FUNCS(gmtime_r localtime_r readdir_r getpwuid_r getcwd)\n-   AC_CHECK_FUNCS(access stat mkdir rename rmdir unlink realpath utime chmod)\n-   AC_CHECK_FUNCS(nl_langinfo setlocale)\n+   AC_CHECK_FUNCS([strerror ioctl select fstat open fsync sleep opendir \\\n+                   gmtime_r localtime_r readdir_r getpwuid_r getcwd \\\n+\t\t   access stat mkdir rename rmdir unlink realpath utime chmod \\\n+\t\t   nl_langinfo setlocale \\\n+\t\t   inet_pton uname inet_ntoa \\\n+\t\t   fork execvp pipe sigaction ftruncate])\n    AC_CHECK_FUNCS(inet_aton inet_addr, break)\n-   AC_CHECK_FUNCS(inet_pton uname inet_ntoa)\n-   AC_CHECK_FUNCS(fork execvp pipe sigaction ftruncate)\n    AC_CHECK_HEADERS(execinfo.h unistd.h dlfcn.h) \n    AC_CHECK_FUNC(backtrace, [\n      case \"$host\" in\n@@ -1207,10 +1207,13 @@ TL_AC_GXX_INCLUDE_DIR\n # We check for sys/filio.h because Solaris 2.5 defines FIONREAD there.\n # On that system, sys/ioctl.h will not include sys/filio.h unless\n # BSD_COMP is defined; just including sys/filio.h is simpler.\n-AC_CHECK_HEADERS(unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/filio.h sys/stat.h sys/select.h sys/socket.h netinet/in.h arpa/inet.h netdb.h net/if.h pwd.h sys/config.h stdint.h langinfo.h locale.h)\n # We avoid AC_HEADER_DIRENT since we really only care about dirent.h\n # for now.  If you change this, you also must update natFile.cc.\n-AC_CHECK_HEADERS(dirent.h)\n+AC_CHECK_HEADERS([unistd.h bstring.h sys/time.h sys/types.h fcntl.h \\\n+\t\t  sys/ioctl.h sys/filio.h sys/stat.h sys/select.h \\\n+\t\t  sys/socket.h netinet/in.h arpa/inet.h netdb.h net/if.h \\\n+\t\t  pwd.h sys/config.h stdint.h langinfo.h locale.h \\\n+\t\t  dirent.h])\n AC_CHECK_HEADERS(inttypes.h, [\n     AC_DEFINE(HAVE_INTTYPES_H, 1, [Define if <inttypes.h> is available])\n     AC_DEFINE(JV_HAVE_INTTYPES_H, 1, [Define if <inttypes.h> is available])"}]}