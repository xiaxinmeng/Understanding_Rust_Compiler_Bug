{"sha": "08a4adcf2b6ded2fea97195c715757df61a23395", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhhNGFkY2YyYjZkZWQyZmVhOTcxOTVjNzE1NzU3ZGY2MWEyMzM5NQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2021-01-14T12:21:56Z"}, "committer": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2021-01-14T12:23:13Z"}, "message": "i386: Remove reduntand assignment in i386-options.c [PR98671]\n\nAlso rename x86_prefetch_sse to ix86_prefetch_sse.\n\n2021-01-14  Uro\u0161 Bizjak  <ubizjak@gmail.com>\n\ngcc/\n\tPR target/98671\n\t* config/i386/i386-options.c (ix86_function_specific_save):\n\tRemove redundant assignment to opts->x_ix86_branch_cost.\n\t* config/i386/i386.c (ix86_prefetch_sse):\n\tRename from x86_prefetch_sse.  Update all uses.\n\t* config/i386/i386.h: Update for rename.\n\t* config/i386/i386-options.h: Ditto.", "tree": {"sha": "ad2c0c7ac90de8ec6bbf786d22f3bbc4dc554b8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad2c0c7ac90de8ec6bbf786d22f3bbc4dc554b8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08a4adcf2b6ded2fea97195c715757df61a23395", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08a4adcf2b6ded2fea97195c715757df61a23395", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08a4adcf2b6ded2fea97195c715757df61a23395", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08a4adcf2b6ded2fea97195c715757df61a23395/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0efdc7b31c2aeb3b0414a838e90014172b87302f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0efdc7b31c2aeb3b0414a838e90014172b87302f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0efdc7b31c2aeb3b0414a838e90014172b87302f"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "4e0165ff32cbaacc35fc9c6eac4e3ae23bec122a", "filename": "gcc/config/i386/i386-options.c", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386-options.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386-options.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-options.c?ref=08a4adcf2b6ded2fea97195c715757df61a23395", "patch": "@@ -641,7 +641,7 @@ ix86_function_specific_save (struct cl_target_option *ptr,\n {\n   ptr->arch = ix86_arch;\n   ptr->schedule = ix86_schedule;\n-  ptr->prefetch_sse = x86_prefetch_sse;\n+  ptr->prefetch_sse = ix86_prefetch_sse;\n   ptr->tune = ix86_tune;\n   ptr->branch_cost = ix86_branch_cost;\n   ptr->tune_defaulted = ix86_tune_defaulted;\n@@ -773,8 +773,7 @@ ix86_function_specific_restore (struct gcc_options *opts,\n   ix86_arch = (enum processor_type) ptr->arch;\n   ix86_schedule = (enum attr_cpu) ptr->schedule;\n   ix86_tune = (enum processor_type) ptr->tune;\n-  x86_prefetch_sse = ptr->prefetch_sse;\n-  opts->x_ix86_branch_cost = ptr->branch_cost;\n+  ix86_prefetch_sse = ptr->prefetch_sse;\n   ix86_tune_defaulted = ptr->tune_defaulted;\n   ix86_arch_specified = ptr->arch_specified;\n   opts->x_ix86_isa_flags_explicit = ptr->x_ix86_isa_flags_explicit;\n@@ -2348,7 +2347,7 @@ ix86_option_override_internal (bool main_args_p,\n \n \tif ((processor_alias_table[i].flags\n \t   & (PTA_PREFETCH_SSE | PTA_SSE)) != 0)\n-\t  x86_prefetch_sse = true;\n+\t  ix86_prefetch_sse = true;\n \tif (((processor_alias_table[i].flags & PTA_MWAITX) != 0)\n \t    && !(opts->x_ix86_isa_flags2_explicit & OPTION_MASK_ISA2_MWAITX))\n \t  opts->x_ix86_isa_flags2 |= OPTION_MASK_ISA2_MWAITX;\n@@ -2446,7 +2445,7 @@ ix86_option_override_internal (bool main_args_p,\n \tif (TARGET_CMOV\n \t    && ((processor_alias_table[i].flags\n \t      & (PTA_PREFETCH_SSE | PTA_SSE)) != 0))\n-\t  x86_prefetch_sse = true;\n+\t  ix86_prefetch_sse = true;\n \tbreak;\n       }\n \n@@ -2589,7 +2588,7 @@ ix86_option_override_internal (bool main_args_p,\n       || (TARGET_PRFCHW_P (opts->x_ix86_isa_flags)\n \t  && !TARGET_3DNOW_P (opts->x_ix86_isa_flags))\n       || TARGET_PREFETCHWT1_P (opts->x_ix86_isa_flags))\n-    x86_prefetch_sse = true;\n+    ix86_prefetch_sse = true;\n \n   /* Enable popcnt instruction for -msse4.2 or -mabm.  */\n   if (TARGET_SSE4_2_P (opts->x_ix86_isa_flags)"}, {"sha": "cdaca2644f413d811f44ee7a5b1585ce135637a4", "filename": "gcc/config/i386/i386-options.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386-options.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386-options.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-options.h?ref=08a4adcf2b6ded2fea97195c715757df61a23395", "patch": "@@ -33,7 +33,7 @@ extern enum attr_cpu ix86_schedule;\n \n extern enum processor_type ix86_tune;\n extern enum processor_type ix86_arch;\n-extern unsigned char x86_prefetch_sse;\n+extern unsigned char ix86_prefetch_sse;\n extern const struct processor_costs *ix86_tune_cost;\n \n extern int ix86_tune_defaulted;"}, {"sha": "48f9aa0d7318feb7a5ea48915e663e0da1cc12be", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=08a4adcf2b6ded2fea97195c715757df61a23395", "patch": "@@ -347,7 +347,7 @@ enum processor_type ix86_tune;\n enum processor_type ix86_arch;\n \n /* True if processor has SSE prefetch instruction.  */\n-unsigned char x86_prefetch_sse;\n+unsigned char ix86_prefetch_sse;\n \n /* Preferred alignment for stack boundary in bits.  */\n unsigned int ix86_preferred_stack_boundary;"}, {"sha": "f032746d2229ec2b551d8e6ddad8e1b524881f33", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08a4adcf2b6ded2fea97195c715757df61a23395/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=08a4adcf2b6ded2fea97195c715757df61a23395", "patch": "@@ -654,8 +654,8 @@ extern unsigned char ix86_arch_features[X86_ARCH_LAST];\n \n #define TARGET_FISTTP\t\t(TARGET_SSE3 && TARGET_80387)\n \n-extern unsigned char x86_prefetch_sse;\n-#define TARGET_PREFETCH_SSE\tx86_prefetch_sse\n+extern unsigned char ix86_prefetch_sse;\n+#define TARGET_PREFETCH_SSE\tix86_prefetch_sse\n \n #define ASSEMBLER_DIALECT\t(ix86_asm_dialect)\n "}]}