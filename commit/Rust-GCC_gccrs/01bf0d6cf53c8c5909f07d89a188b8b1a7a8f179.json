{"sha": "01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "node_id": "C_kwDOANBUbNoAKDAxYmYwZDZjZjUzYzhjNTkwOWYwN2Q4OWExODhiOGIxYTdhOGYxNzk", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2022-06-21T20:17:13Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-07-12T12:24:11Z"}, "message": "[Ada] Fix buffer overrun for small string concatenation at -O0\n\nThe concatenation routines may read too much data on the source side when\nthe destination buffer is larger than the final result.  This change makes\nsure that this does not happen any more and also removes obsolete stuff.\n\ngcc/ada/\n\n\t* rtsfind.ads (RE_Id): Remove RE_Str_Concat_Bounds_N values.\n\t(RE_Unit_Table): Remove RE_Str_Concat_Bounds_N entries.\n\t* libgnat/s-conca2.ads (Str_Concat_2): Adjust head comment.\n\t(Str_Concat_Bounds_2): Delete.\n\t* libgnat/s-conca2.adb (Str_Concat_2): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_2): Delete.\n\t* libgnat/s-conca3.ads (Str_Concat_3): Adjust head comment.\n\t(Str_Concat_Bounds_3): Delete.\n\t* libgnat/s-conca3.adb (Str_Concat_3): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_3): Delete.\n\t* libgnat/s-conca4.ads (Str_Concat_4): Adjust head comment.\n\t(Str_Concat_Bounds_4): Delete.\n\t* libgnat/s-conca4.adb (Str_Concat_4): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_4): Delete.\n\t* libgnat/s-conca5.ads (Str_Concat_5): Adjust head comment.\n\t(Str_Concat_Bounds_5): Delete.\n\t* libgnat/s-conca5.adb (Str_Concat_5): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_5): Delete.\n\t* libgnat/s-conca6.ads (Str_Concat_6): Adjust head comment.\n\t(Str_Concat_Bounds_6): Delete.\n\t* libgnat/s-conca6.adb (Str_Concat_6): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_6): Delete.\n\t* libgnat/s-conca7.ads (Str_Concat_7): Adjust head comment.\n\t(Str_Concat_Bounds_7): Delete.\n\t* libgnat/s-conca7.adb (Str_Concat_7): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_7): Delete.\n\t* libgnat/s-conca8.ads (Str_Concat_8): Adjust head comment.\n\t(Str_Concat_Bounds_8): Delete.\n\t* libgnat/s-conca8.adb (Str_Concat_8): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_8): Delete.\n\t* libgnat/s-conca9.ads (Str_Concat_9): Adjust head comment.\n\t(Str_Concat_Bounds_9): Delete.\n\t* libgnat/s-conca9.adb (Str_Concat_9): Use the length of the last\n\tinput to size the last assignment.\n\t(Str_Concat_Bounds_9): Delete.", "tree": {"sha": "5234ef512fd1cddfc6ca723b85c8999af5d8af5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5234ef512fd1cddfc6ca723b85c8999af5d8af5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ce2938ccff9e1cdfcd0ad63d3653dc671335620", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ce2938ccff9e1cdfcd0ad63d3653dc671335620", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ce2938ccff9e1cdfcd0ad63d3653dc671335620"}], "stats": {"total": 265, "additions": 19, "deletions": 246}, "files": [{"sha": "2a263caa769d4463809da2e79e1f9a12a091e233", "filename": "gcc/ada/libgnat/s-conca2.adb", "status": "modified", "additions": 1, "deletions": 19, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca2.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -46,26 +46,8 @@ package body System.Concat_2 is\n       R (F .. L) := S1;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S2'Length - 1;\n       R (F .. L) := S2;\n    end Str_Concat_2;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_2 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_2\n-     (Lo, Hi : out Natural;\n-      S1, S2 : String)\n-   is\n-   begin\n-      if S1 = \"\" then\n-         Lo := S2'First;\n-         Hi := S2'Last;\n-      else\n-         Lo := S1'First;\n-         Hi := S1'Last + S2'Length;\n-      end if;\n-   end Str_Concat_Bounds_2;\n-\n end System.Concat_2;"}, {"sha": "450435a0cf246ae00ea5d18262a7d6bcb95e6fc0", "filename": "gcc/ada/libgnat/s-conca2.ads", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca2.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -36,15 +36,8 @@ package System.Concat_2 is\n \n    procedure Str_Concat_2 (R : out String; S1, S2 : String);\n    --  Performs the operation R := S1 & S2. The bounds of R are known to be\n-   --  correct (usually set by a call to the Str_Concat_Bounds_2 procedure\n-   --  below), so no bounds checks are required, and it is known that none of\n+   --  sufficient so no bound checks are required, and it is known that none of\n    --  the input operands overlaps R. No assumptions can be made about the\n    --  lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_2\n-     (Lo, Hi : out Natural;\n-      S1, S2 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the two\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_2;"}, {"sha": "ddba8320ded55be0fa177f8368d77e964151db25", "filename": "gcc/ada/libgnat/s-conca3.adb", "status": "modified", "additions": 1, "deletions": 20, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca3.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_2;\n-\n package body System.Concat_3 is\n \n    pragma Suppress (All_Checks);\n@@ -52,25 +50,8 @@ package body System.Concat_3 is\n       R (F .. L) := S2;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S3'Length - 1;\n       R (F .. L) := S3;\n    end Str_Concat_3;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_3 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_3\n-     (Lo, Hi     : out Natural;\n-      S1, S2, S3 : String)\n-   is\n-   begin\n-      System.Concat_2.Str_Concat_Bounds_2 (Lo, Hi, S2, S3);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_3;\n-\n end System.Concat_3;"}, {"sha": "2ff3abc2ff0103d4d29258ea6a065bd43b880860", "filename": "gcc/ada/libgnat/s-conca3.ads", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca3.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca3.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca3.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -36,15 +36,8 @@ package System.Concat_3 is\n \n    procedure Str_Concat_3 (R : out String; S1, S2, S3 : String);\n    --  Performs the operation R := S1 & S2 & S3. The bounds of R are known to\n-   --  be correct (usually set by a call to the Str_Concat_Bounds_3 procedure\n-   --  below), so no bounds checks are required, and it is known that none of\n-   --  the input operands overlaps R. No assumptions can be made about the\n+   --  be sufficient so no bound checks are required, and it is known that none\n+   --  of the input operands overlaps R. No assumptions can be made about the\n    --  lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_3\n-     (Lo, Hi     : out Natural;\n-      S1, S2, S3 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the three\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_3;"}, {"sha": "e1c7e926e9d1a3569e6c7d150f4349685cfb55b4", "filename": "gcc/ada/libgnat/s-conca4.adb", "status": "modified", "additions": 1, "deletions": 20, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca4.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_3;\n-\n package body System.Concat_4 is\n \n    pragma Suppress (All_Checks);\n@@ -56,25 +54,8 @@ package body System.Concat_4 is\n       R (F .. L) := S3;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S4'Length - 1;\n       R (F .. L) := S4;\n    end Str_Concat_4;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_4 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_4\n-     (Lo, Hi         : out Natural;\n-      S1, S2, S3, S4 : String)\n-   is\n-   begin\n-      System.Concat_3.Str_Concat_Bounds_3 (Lo, Hi, S2, S3, S4);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_4;\n-\n end System.Concat_4;"}, {"sha": "ecc3108c977ca8c48d4e7a7bad8bd22205b85b25", "filename": "gcc/ada/libgnat/s-conca4.ads", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca4.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca4.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca4.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -36,15 +36,8 @@ package System.Concat_4 is\n \n    procedure Str_Concat_4 (R : out String; S1, S2, S3, S4 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4. The bounds\n-   --  of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_5 procedure below), so no bounds checks are required,\n+   --  of R are known to be sufficient so no bound checks are required,\n    --  and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_4\n-     (Lo, Hi         : out Natural;\n-      S1, S2, S3, S4 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the four\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_4;"}, {"sha": "2283747d78a69a7a72fceedfb42120df28157106", "filename": "gcc/ada/libgnat/s-conca5.adb", "status": "modified", "additions": 1, "deletions": 20, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca5.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_4;\n-\n package body System.Concat_5 is\n \n    pragma Suppress (All_Checks);\n@@ -60,25 +58,8 @@ package body System.Concat_5 is\n       R (F .. L) := S4;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S5'Length - 1;\n       R (F .. L) := S5;\n    end Str_Concat_5;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_5 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_5\n-     (Lo, Hi             : out Natural;\n-      S1, S2, S3, S4, S5 : String)\n-   is\n-   begin\n-      System.Concat_4.Str_Concat_Bounds_4 (Lo, Hi, S2, S3, S4, S5);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_5;\n-\n end System.Concat_5;"}, {"sha": "be7aaceda47dc2d26d28642f44290cb3bcb4c5ae", "filename": "gcc/ada/libgnat/s-conca5.ads", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca5.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca5.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca5.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -36,15 +36,8 @@ package System.Concat_5 is\n \n    procedure Str_Concat_5 (R : out String; S1, S2, S3, S4, S5 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4 & S5. The bounds\n-   --  of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_5 procedure below), so no bounds checks are required,\n+   --  of R are known to be sufficient so no bound checks are required,\n    --  and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_5\n-     (Lo, Hi             : out Natural;\n-      S1, S2, S3, S4, S5 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the five\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_5;"}, {"sha": "b574d0461461a68416ed309518abbdf0904f3a8e", "filename": "gcc/ada/libgnat/s-conca6.adb", "status": "modified", "additions": 1, "deletions": 20, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca6.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_5;\n-\n package body System.Concat_6 is\n \n    pragma Suppress (All_Checks);\n@@ -64,25 +62,8 @@ package body System.Concat_6 is\n       R (F .. L) := S5;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S6'Length - 1;\n       R (F .. L) := S6;\n    end Str_Concat_6;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_6 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_6\n-     (Lo, Hi                 : out Natural;\n-      S1, S2, S3, S4, S5, S6 : String)\n-   is\n-   begin\n-      System.Concat_5.Str_Concat_Bounds_5 (Lo, Hi, S2, S3, S4, S5, S6);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_6;\n-\n end System.Concat_6;"}, {"sha": "2aac3d0fd56292fe387e79b587446aeb7015f3d2", "filename": "gcc/ada/libgnat/s-conca6.ads", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca6.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca6.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca6.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -36,15 +36,8 @@ package System.Concat_6 is\n \n    procedure Str_Concat_6 (R : out String; S1, S2, S3, S4, S5, S6 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4 & S5 & S6. The\n-   --  bounds of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_6 procedure below), so no bounds checks are required,\n+   --  bounds of R are known to be sufficient so no bound checks are required,\n    --  and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_6\n-     (Lo, Hi                 : out Natural;\n-      S1, S2, S3, S4, S5, S6 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the six\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_6;"}, {"sha": "e624b5cd9ac04a773b1f792c67fd2f5307c43eb8", "filename": "gcc/ada/libgnat/s-conca7.adb", "status": "modified", "additions": 1, "deletions": 20, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca7.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_6;\n-\n package body System.Concat_7 is\n \n    pragma Suppress (All_Checks);\n@@ -71,25 +69,8 @@ package body System.Concat_7 is\n       R (F .. L) := S6;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S7'Length - 1;\n       R (F .. L) := S7;\n    end Str_Concat_7;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_7 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_7\n-     (Lo, Hi                     : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7 : String)\n-   is\n-   begin\n-      System.Concat_6.Str_Concat_Bounds_6 (Lo, Hi, S2, S3, S4, S5, S6, S7);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_7;\n-\n end System.Concat_7;"}, {"sha": "755499568e256d1bac332f35f6d9336221c8428a", "filename": "gcc/ada/libgnat/s-conca7.ads", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca7.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca7.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca7.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -38,15 +38,8 @@ package System.Concat_7 is\n      (R                          : out String;\n       S1, S2, S3, S4, S5, S6, S7 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4 & S5 & S6 & S7. The\n-   --  bounds of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_8 procedure below), so no bounds checks are required,\n+   --  bounds of R are known to be sufficient so no bound checks are required,\n    --  and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_7\n-     (Lo, Hi                     : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the seven\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_7;"}, {"sha": "98b2e59b65c14e54f66d66595f8c506f7f95d80a", "filename": "gcc/ada/libgnat/s-conca8.adb", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca8.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_7;\n-\n package body System.Concat_8 is\n \n    pragma Suppress (All_Checks);\n@@ -75,26 +73,8 @@ package body System.Concat_8 is\n       R (F .. L) := S7;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S8'Length - 1;\n       R (F .. L) := S8;\n    end Str_Concat_8;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_8 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_8\n-     (Lo, Hi                         : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7, S8 : String)\n-   is\n-   begin\n-      System.Concat_7.Str_Concat_Bounds_7\n-        (Lo, Hi, S2, S3, S4, S5, S6, S7, S8);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_8;\n-\n end System.Concat_8;"}, {"sha": "a2491548548ba45920eec934b0755a4352dc6875", "filename": "gcc/ada/libgnat/s-conca8.ads", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca8.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca8.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca8.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -38,15 +38,8 @@ package System.Concat_8 is\n      (R                              : out String;\n       S1, S2, S3, S4, S5, S6, S7, S8 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4 & S5 & S6 & S7 & S8.\n-   --  The bounds of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_8 procedure below), so no bounds checks are required,\n-   --  and it is known that none of the input operands overlaps R. No\n+   --  The bounds of R are known to be sufficient so no bound checks are\n+   --  required and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_8\n-     (Lo, Hi                         : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7, S8 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the eight\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_8;"}, {"sha": "08860f505affde404f9213494c04f088a55d7f57", "filename": "gcc/ada/libgnat/s-conca9.adb", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca9.adb?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -29,8 +29,6 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with System.Concat_8;\n-\n package body System.Concat_9 is\n \n    pragma Suppress (All_Checks);\n@@ -79,26 +77,8 @@ package body System.Concat_9 is\n       R (F .. L) := S8;\n \n       F := L + 1;\n-      L := R'Last;\n+      L := F + S9'Length - 1;\n       R (F .. L) := S9;\n    end Str_Concat_9;\n \n-   -------------------------\n-   -- Str_Concat_Bounds_9 --\n-   -------------------------\n-\n-   procedure Str_Concat_Bounds_9\n-     (Lo, Hi                             : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7, S8, S9 : String)\n-   is\n-   begin\n-      System.Concat_8.Str_Concat_Bounds_8\n-        (Lo, Hi, S2, S3, S4, S5, S6, S7, S8, S9);\n-\n-      if S1 /= \"\" then\n-         Hi := S1'Last + Hi - Lo + 1;\n-         Lo := S1'First;\n-      end if;\n-   end Str_Concat_Bounds_9;\n-\n end System.Concat_9;"}, {"sha": "39560ffd94d7f3276c7a4500ed1ae283efebe524", "filename": "gcc/ada/libgnat/s-conca9.ads", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca9.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Flibgnat%2Fs-conca9.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-conca9.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -38,15 +38,8 @@ package System.Concat_9 is\n      (R                                  : out String;\n       S1, S2, S3, S4, S5, S6, S7, S8, S9 : String);\n    --  Performs the operation R := S1 & S2 & S3 & S4 & S5 & S6 & S7 & S8 & S9.\n-   --  The bounds of R are known to be correct (usually set by a call to the\n-   --  Str_Concat_Bounds_9 procedure below), so no bounds checks are required,\n-   --  and it is known that none of the input operands overlaps R. No\n+   --  The bounds of R are known to be sufficient so no bound checks are\n+   --  required, and it is known that none of the input operands overlaps R. No\n    --  assumptions can be made about the lower bounds of any of the operands.\n \n-   procedure Str_Concat_Bounds_9\n-     (Lo, Hi                             : out Natural;\n-      S1, S2, S3, S4, S5, S6, S7, S8, S9 : String);\n-   --  Assigns to Lo..Hi the bounds of the result of concatenating the nine\n-   --  given strings, following the rules in the RM regarding null operands.\n-\n end System.Concat_9;"}, {"sha": "65c64090371d409ffdcc6aca974069707dc04a3d", "filename": "gcc/ada/rtsfind.ads", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Frtsfind.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179/gcc%2Fada%2Frtsfind.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Frtsfind.ads?ref=01bf0d6cf53c8c5909f07d89a188b8b1a7a8f179", "patch": "@@ -910,15 +910,6 @@ package Rtsfind is\n      RE_Str_Concat_8,                    -- System.Concat_8\n      RE_Str_Concat_9,                    -- System.Concat_9\n \n-     RE_Str_Concat_Bounds_2,             -- System.Concat_2\n-     RE_Str_Concat_Bounds_3,             -- System.Concat_3\n-     RE_Str_Concat_Bounds_4,             -- System.Concat_4\n-     RE_Str_Concat_Bounds_5,             -- System.Concat_5\n-     RE_Str_Concat_Bounds_6,             -- System.Concat_6\n-     RE_Str_Concat_Bounds_7,             -- System.Concat_7\n-     RE_Str_Concat_Bounds_8,             -- System.Concat_8\n-     RE_Str_Concat_Bounds_9,             -- System.Concat_9\n-\n      RE_Get_Active_Partition_Id,         -- System.DSA_Services\n      RE_Get_Local_Partition_Id,          -- System.DSA_Services\n      RE_Get_Passive_Partition_Id,        -- System.DSA_Services\n@@ -2608,15 +2599,6 @@ package Rtsfind is\n      RE_Str_Concat_8                     => System_Concat_8,\n      RE_Str_Concat_9                     => System_Concat_9,\n \n-     RE_Str_Concat_Bounds_2              => System_Concat_2,\n-     RE_Str_Concat_Bounds_3              => System_Concat_3,\n-     RE_Str_Concat_Bounds_4              => System_Concat_4,\n-     RE_Str_Concat_Bounds_5              => System_Concat_5,\n-     RE_Str_Concat_Bounds_6              => System_Concat_6,\n-     RE_Str_Concat_Bounds_7              => System_Concat_7,\n-     RE_Str_Concat_Bounds_8              => System_Concat_8,\n-     RE_Str_Concat_Bounds_9              => System_Concat_9,\n-\n      RE_Get_Active_Partition_Id          => System_DSA_Services,\n      RE_Get_Local_Partition_Id           => System_DSA_Services,\n      RE_Get_Passive_Partition_Id         => System_DSA_Services,"}]}