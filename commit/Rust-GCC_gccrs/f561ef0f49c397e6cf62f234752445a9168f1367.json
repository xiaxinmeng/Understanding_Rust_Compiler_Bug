{"sha": "f561ef0f49c397e6cf62f234752445a9168f1367", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU2MWVmMGY0OWMzOTdlNmNmNjJmMjM0NzUyNDQ1YTkxNjhmMTM2Nw==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2011-10-21T18:38:44Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2011-10-21T18:38:44Z"}, "message": "re PR bootstrap/50825 (bootstrap fails at stage1 libgcc from r180302)\n\n\tPR bootstrap/50825\n\t* sched-deps.c (add_dependence): If not doing predication, promote\n\tREG_DEP_CONTROL to REG_DEP_ANTI.\n\nFrom-SVN: r180310", "tree": {"sha": "e204e2088b4ff2ec53e8ecca8f7dd6f84f2fe793", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e204e2088b4ff2ec53e8ecca8f7dd6f84f2fe793"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f561ef0f49c397e6cf62f234752445a9168f1367", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f561ef0f49c397e6cf62f234752445a9168f1367", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f561ef0f49c397e6cf62f234752445a9168f1367", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f561ef0f49c397e6cf62f234752445a9168f1367/comments", "author": null, "committer": null, "parents": [{"sha": "fe66170d5b3b327c3d9cf27def4a8c05aafc2e45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe66170d5b3b327c3d9cf27def4a8c05aafc2e45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe66170d5b3b327c3d9cf27def4a8c05aafc2e45"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "bc6fdd978298dfd81fc65f5aacddb4935bb1efe2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f561ef0f49c397e6cf62f234752445a9168f1367/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f561ef0f49c397e6cf62f234752445a9168f1367/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f561ef0f49c397e6cf62f234752445a9168f1367", "patch": "@@ -1,3 +1,9 @@\n+2011-10-21  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\tPR bootstrap/50825\n+\t* sched-deps.c (add_dependence): If not doing predication, promote\n+\tREG_DEP_CONTROL to REG_DEP_ANTI.\n+\n 2011-10-21  Georg-Johann Lay  <avr@gjlay.de>\n \n \t* config/avr/avr.h (LEGITIMIZE_RELOAD_ADDRESS): Pass address of X"}, {"sha": "a778721d20b2fe0930538d505b5561970d937c68", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f561ef0f49c397e6cf62f234752445a9168f1367/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f561ef0f49c397e6cf62f234752445a9168f1367/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=f561ef0f49c397e6cf62f234752445a9168f1367", "patch": "@@ -1505,6 +1505,10 @@ sd_debug_lists (rtx insn, sd_list_types_def types)\n void\n add_dependence (rtx con, rtx pro, enum reg_note dep_type)\n {\n+  if (dep_type == REG_DEP_CONTROL\n+      && !(current_sched_info->flags & DO_PREDICATION))\n+    dep_type = REG_DEP_ANTI;\n+\n   /* A REG_DEP_CONTROL dependence may be eliminated through predication,\n      so we must also make the insn dependent on the setter of the\n      condition.  */"}]}