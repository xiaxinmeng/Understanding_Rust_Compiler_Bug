{"sha": "d35d546a7fcaf7e48e8d15abb8428d1e0b618948", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM1ZDU0NmE3ZmNhZjdlNDhlOGQxNWFiYjg0MjhkMWUwYjYxODk0OA==", "commit": {"author": {"name": "Ghjuvan Lacambre", "email": "lacambre@adacore.com", "date": "2021-06-17T08:01:33Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-09T12:35:32Z"}, "message": "[Ada] par-ch6: do not mark subprogram as missing \"is\" if imported\n\ngcc/ada/\n\n\t* par-ch6.adb (Contains_Import_Aspect): New function.\n\t(P_Subprogram): Acknowledge `Import` aspects.", "tree": {"sha": "45283218b21a4e47c7fb6e58d23bc7c71ffe32cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45283218b21a4e47c7fb6e58d23bc7c71ffe32cf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d35d546a7fcaf7e48e8d15abb8428d1e0b618948", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d35d546a7fcaf7e48e8d15abb8428d1e0b618948", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d35d546a7fcaf7e48e8d15abb8428d1e0b618948", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d35d546a7fcaf7e48e8d15abb8428d1e0b618948/comments", "author": {"login": "glacambre", "id": 11534587, "node_id": "MDQ6VXNlcjExNTM0NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/11534587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glacambre", "html_url": "https://github.com/glacambre", "followers_url": "https://api.github.com/users/glacambre/followers", "following_url": "https://api.github.com/users/glacambre/following{/other_user}", "gists_url": "https://api.github.com/users/glacambre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glacambre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glacambre/subscriptions", "organizations_url": "https://api.github.com/users/glacambre/orgs", "repos_url": "https://api.github.com/users/glacambre/repos", "events_url": "https://api.github.com/users/glacambre/events{/privacy}", "received_events_url": "https://api.github.com/users/glacambre/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f377685e3d82193b0f69bb0742e7f470f63532b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f377685e3d82193b0f69bb0742e7f470f63532b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f377685e3d82193b0f69bb0742e7f470f63532b2"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "be85d093d1fd72003ea1e92250fa4614e1cb8813", "filename": "gcc/ada/par-ch6.adb", "status": "modified", "additions": 25, "deletions": 1, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d35d546a7fcaf7e48e8d15abb8428d1e0b618948/gcc%2Fada%2Fpar-ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d35d546a7fcaf7e48e8d15abb8428d1e0b618948/gcc%2Fada%2Fpar-ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar-ch6.adb?ref=d35d546a7fcaf7e48e8d15abb8428d1e0b618948", "patch": "@@ -201,6 +201,28 @@ package body Ch6 is\n    --  Error recovery: cannot raise Error_Resync\n \n    function P_Subprogram (Pf_Flags : Pf_Rec) return Node_Id is\n+\n+      function Contains_Import_Aspect (Aspects : List_Id) return Boolean;\n+      --  Return True if Aspects contains an Import aspect.\n+\n+      ----------------------------\n+      -- Contains_Import_Aspect --\n+      ----------------------------\n+\n+      function Contains_Import_Aspect (Aspects : List_Id) return Boolean is\n+         Aspect : Node_Id := First (Aspects);\n+      begin\n+         while Present (Aspect) loop\n+            if Chars (Identifier (Aspect)) = Name_Import then\n+               return True;\n+            end if;\n+\n+            Next (Aspect);\n+         end loop;\n+\n+         return False;\n+      end Contains_Import_Aspect;\n+\n       Specification_Node : Node_Id;\n       Name_Node          : Node_Id;\n       Aspects            : List_Id;\n@@ -982,10 +1004,12 @@ package body Ch6 is\n          if Pf_Flags.Pbod\n \n            --  Disconnect this processing if we have scanned a null procedure\n-           --  because in this case the spec is complete anyway with no body.\n+           --  or an Import aspect because in this case the spec is complete\n+           --  anyway with no body.\n \n            and then (Nkind (Specification_Node) /= N_Procedure_Specification\n                       or else not Null_Present (Specification_Node))\n+           and then not Contains_Import_Aspect (Aspects)\n          then\n             SIS_Labl := Scopes (Scope.Last).Labl;\n             SIS_Sloc := Scopes (Scope.Last).Sloc;"}]}