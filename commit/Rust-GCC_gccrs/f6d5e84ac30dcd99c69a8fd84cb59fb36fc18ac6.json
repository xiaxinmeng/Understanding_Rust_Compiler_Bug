{"sha": "f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZkNWU4NGFjMzBkY2Q5OWM2OWE4ZmQ4NGNiNTlmYjM2ZmMxOGFjNg==", "commit": {"author": {"name": "Victor Kaplansky", "email": "victork@il.ibm.com", "date": "2008-09-02T12:38:32Z"}, "committer": {"name": "Victor Kaplansky", "email": "victork@gcc.gnu.org", "date": "2008-09-02T12:38:32Z"}, "message": "spu.md (divdf3): Removed.\n\n2008-09-02  Victor Kaplansky  <victork@il.ibm.com>\n\n  * gcc/config/spu/spu.md (divdf3): Removed.\n\nTestsuite Changelog:\n\n  * gcc.dg/fastmath-2.c: New.\n\nFrom-SVN: r139888", "tree": {"sha": "9dcf28a6d85b7ef950c6ad978ee8c31acc13a927", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9dcf28a6d85b7ef950c6ad978ee8c31acc13a927"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/comments", "author": null, "committer": null, "parents": [{"sha": "1aeaf0f764b0be261e12be19f8b73977440994cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aeaf0f764b0be261e12be19f8b73977440994cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aeaf0f764b0be261e12be19f8b73977440994cb"}], "stats": {"total": 79, "additions": 27, "deletions": 52}, "files": [{"sha": "039edb6d5a5e474588143af4f3ef25987d8c1ef0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "patch": "@@ -1,3 +1,8 @@\n+2008-09-02  Victor Kaplansky  <victork@il.ibm.com>\n+\n+\t* gcc/config/spu/spu.md (divdf3): Removed.\n+  \n+\n 2008-09-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/37095"}, {"sha": "7b4b743fc8dcfbbb505011cf6161ce31126211c8", "filename": "gcc/config/spu/spu.md", "status": "modified", "additions": 0, "deletions": 52, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Fconfig%2Fspu%2Fspu.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Fconfig%2Fspu%2Fspu.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.md?ref=f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "patch": "@@ -1864,58 +1864,6 @@\n     DONE;\n   })\n \n-;; Taken from STI's gcc\n-;; Does not correctly handle INF or NAN.\n-(define_expand \"divdf3\"\n-  [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n-        (div:DF (match_operand:DF 1 \"register_operand\" \"r\")\n-                (match_operand:DF 2 \"register_operand\" \"r\")))]\n-  \"flag_finite_math_only\"\n-  \"{    \n-    /*\n-    double\n-    divdf3 (double x, double y)\n-    {\n-        float x0;\n-        float y_f = (float) y;\n-        double x1, x2;\n-\n-        x0 = spu_extract(spu_re(spu_promote(y_f, 0)), 0);\n-        x1 = (double)(x0 * (2.0f - y_f * x0)); \n-        x2 = x1 * (2.0 - y * x1);\n-        return (x * x2 * (2.0 - y * x2));\n-    }\n-    */\n-\n-    rtx dst = operands[0];\n-    rtx x   = operands[1];\n-    rtx y   = operands[2];\n-    rtx y_f = gen_reg_rtx(SFmode);\n-    rtx x0_f = gen_reg_rtx(SFmode);\n-    rtx x1_f = gen_reg_rtx(SFmode);\n-    rtx x1 = gen_reg_rtx(DFmode);\n-    rtx x2 = gen_reg_rtx(DFmode);\n-    rtx t1_f = gen_reg_rtx(SFmode);\n-    rtx t1 = gen_reg_rtx(DFmode);\n-    rtx two = gen_reg_rtx(DFmode);\n-    rtx two_f = gen_reg_rtx(SFmode);\n-\n-    emit_insn (gen_truncdfsf2 (y_f, y));\n-    emit_insn (gen_frest_sf (x0_f, y_f));\n-    emit_insn (gen_fi_sf (x0_f, y_f, x0_f));\n-    emit_insn (gen_movsf (two_f, spu_float_const(\\\"2.0\\\",SFmode)));\n-    emit_insn (gen_fnms_sf (t1_f, y_f, x0_f, two_f));\n-    emit_insn (gen_mulsf3 (x1_f, t1_f, x0_f));\n-    emit_insn (gen_extendsfdf2 (x1, x1_f));\n-    emit_insn (gen_extendsfdf2 (two, two_f));\n-    emit_insn (gen_movdf (t1, two));\n-    emit_insn (gen_fnms_df (t1, y, x1, t1));\n-    emit_insn (gen_muldf3 (x2, x1, t1));\n-    emit_insn (gen_fnms_df (two, y, x2, two));\n-    emit_insn (gen_muldf3 (dst, x2, two));\n-    emit_insn (gen_muldf3 (dst, dst, x));\n-    DONE;\n-}\")\n \f\n ;; sqrt\n "}, {"sha": "304e76c0cca24cb00e80acd44f726c5c1276a0ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "patch": "@@ -1,3 +1,7 @@\n+2008-09-02  Victor Kaplansky  <victork@il.ibm.com>\n+\n+\t* gcc.dg/fastmath-2.c: New.\n+    \n 2008-09-02  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/37095"}, {"sha": "2003cf952bb08b89d23ae1183f92f8f39eb5c5ed", "filename": "gcc/testsuite/gcc.dg/fastmath-2.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Ftestsuite%2Fgcc.dg%2Ffastmath-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6/gcc%2Ftestsuite%2Fgcc.dg%2Ffastmath-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ffastmath-2.c?ref=f6d5e84ac30dcd99c69a8fd84cb59fb36fc18ac6", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O2 -ffast-math\" } */\n+\n+extern void abort (void);\n+\n+volatile double a = 2.002083e-146;\n+double b;\n+\n+int\n+main()\n+{\n+  b = 1. / a;\n+\n+  if (b != (1. / 2.002083e-146))\n+    abort ();\n+  return 0;\n+}\n+"}]}