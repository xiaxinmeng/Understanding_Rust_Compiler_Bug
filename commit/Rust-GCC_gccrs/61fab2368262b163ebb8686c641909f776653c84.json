{"sha": "61fab2368262b163ebb8686c641909f776653c84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFmYWIyMzY4MjYyYjE2M2ViYjg2ODZjNjQxOTA5Zjc3NjY1M2M4NA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-09T17:42:55Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-09T17:42:55Z"}, "message": "(build_message_expr): Don't crash if super_type is 0.\n\nFrom-SVN: r2723", "tree": {"sha": "8d956d7ee9dd23b8ce3e2ca7a55148b0167ab3b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d956d7ee9dd23b8ce3e2ca7a55148b0167ab3b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61fab2368262b163ebb8686c641909f776653c84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fab2368262b163ebb8686c641909f776653c84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61fab2368262b163ebb8686c641909f776653c84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fab2368262b163ebb8686c641909f776653c84/comments", "author": null, "committer": null, "parents": [{"sha": "233c0fef141de52fc4d61ea3e676771742a5c4eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/233c0fef141de52fc4d61ea3e676771742a5c4eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/233c0fef141de52fc4d61ea3e676771742a5c4eb"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "b5109ea8ddd6d21f91db42c202e25b155f5945ab", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fab2368262b163ebb8686c641909f776653c84/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fab2368262b163ebb8686c641909f776653c84/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=61fab2368262b163ebb8686c641909f776653c84", "patch": "@@ -1635,12 +1635,10 @@ check_ivars (inter, imp)\n     }\n }\n \n-/*\n- * \tstruct objc_super {\n- *\t\tid self;\n- *\t\tstruct objc_class *class;\n- *\t};\n- */\n+/* Set super_type to the data type node for struct objc_super *,\n+   first defining struct objc_super itself.\n+   This needs to be done just once per compilation.  */\n+\n static tree\n build_super_template ()\n {\n@@ -2695,7 +2693,8 @@ build_message_expr (mess)\n \n   /* Determine operation return type.  */\n \n-  if (TYPE_MAIN_VARIANT (rtype) == TYPE_MAIN_VARIANT (super_type))\n+  if (super_type != 0\n+      && TYPE_MAIN_VARIANT (rtype) == TYPE_MAIN_VARIANT (super_type))\n     {\n       tree iface;\n "}]}