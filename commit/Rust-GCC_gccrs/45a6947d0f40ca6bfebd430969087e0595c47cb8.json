{"sha": "45a6947d0f40ca6bfebd430969087e0595c47cb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDVhNjk0N2QwZjQwY2E2YmZlYmQ0MzA5NjkwODdlMDU5NWM0N2NiOA==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2017-11-08T16:25:03Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2017-11-08T16:25:03Z"}, "message": "spark_xrefs.ads (SPARK_Scope_Record): Rename Scope_Id component to Entity.\n\n2017-11-08  Piotr Trojanek  <trojanek@adacore.com>\n\n\t* spark_xrefs.ads (SPARK_Scope_Record): Rename Scope_Id component to\n\tEntity.\n\t* lib-xref-spark_specific.adb, spark_xrefs.adb: Propagate renaming of\n\tthe Scope_Id record component.\n\nFrom-SVN: r254542", "tree": {"sha": "f9f53f4e847c46d6ec4177d393c7bf8d0c6b62a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f9f53f4e847c46d6ec4177d393c7bf8d0c6b62a8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45a6947d0f40ca6bfebd430969087e0595c47cb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45a6947d0f40ca6bfebd430969087e0595c47cb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45a6947d0f40ca6bfebd430969087e0595c47cb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45a6947d0f40ca6bfebd430969087e0595c47cb8/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "00b3de222b3bc8eff6fb95219d7aa963b7fd277d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00b3de222b3bc8eff6fb95219d7aa963b7fd277d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00b3de222b3bc8eff6fb95219d7aa963b7fd277d"}], "stats": {"total": 29, "additions": 18, "deletions": 11}, "files": [{"sha": "1fb9feb5219d8a4dbcd2cf943d2ea3872ddd0b23", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=45a6947d0f40ca6bfebd430969087e0595c47cb8", "patch": "@@ -1,3 +1,10 @@\n+2017-11-08  Piotr Trojanek  <trojanek@adacore.com>\n+\n+\t* spark_xrefs.ads (SPARK_Scope_Record): Rename Scope_Id component to\n+\tEntity.\n+\t* lib-xref-spark_specific.adb, spark_xrefs.adb: Propagate renaming of\n+\tthe Scope_Id record component.\n+\n 2017-11-08  Piotr Trojanek  <trojanek@adacore.com>\n \n \t* spark_xrefs.ads (SPARK_File_Record): Remove string components."}, {"sha": "929de9a8f219cece6a2498c91ddfb388fd0dd303", "filename": "gcc/ada/lib-xref-spark_specific.adb", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Flib-xref-spark_specific.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Flib-xref-spark_specific.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref-spark_specific.adb?ref=45a6947d0f40ca6bfebd430969087e0595c47cb8", "patch": "@@ -161,7 +161,7 @@ package body SPARK_Specific is\n          --  range.\n \n          SPARK_Scope_Table.Append\n-           ((Scope_Id       => E,\n+           ((Entity         => E,\n              File_Num       => Dspec,\n              Scope_Num      => Scope_Id,\n              Spec_File_Num  => 0,\n@@ -323,7 +323,7 @@ package body SPARK_Specific is\n \n       function Entity_Of_Scope (S : Scope_Index) return Entity_Id is\n       begin\n-         return SPARK_Scope_Table.Table (S).Scope_Id;\n+         return SPARK_Scope_Table.Table (S).Entity;\n       end Entity_Of_Scope;\n \n       -------------------\n@@ -395,7 +395,7 @@ package body SPARK_Specific is\n          function Is_Past_Scope_Entity return Boolean is\n          begin\n             for Index in SPARK_Scope_Table.First .. S - 1 loop\n-               if SPARK_Scope_Table.Table (Index).Scope_Id = E then\n+               if SPARK_Scope_Table.Table (Index).Entity = E then\n                   return True;\n                end if;\n             end loop;\n@@ -407,7 +407,7 @@ package body SPARK_Specific is\n \n       begin\n          for Index in S .. SPARK_Scope_Table.Last loop\n-            if SPARK_Scope_Table.Table (Index).Scope_Id = E then\n+            if SPARK_Scope_Table.Table (Index).Entity = E then\n                return True;\n             end if;\n          end loop;\n@@ -606,7 +606,7 @@ package body SPARK_Specific is\n          declare\n             S : SPARK_Scope_Record renames SPARK_Scope_Table.Table (Index);\n          begin\n-            Set_Scope_Num (S.Scope_Id, S.Scope_Num);\n+            Set_Scope_Num (S.Entity, S.Scope_Num);\n          end;\n       end loop;\n \n@@ -920,7 +920,7 @@ package body SPARK_Specific is\n             declare\n                Srec : SPARK_Scope_Record renames SPARK_Scope_Table.Table (S);\n             begin\n-               Entity_Hash_Table.Set (Srec.Scope_Id, S);\n+               Entity_Hash_Table.Set (Srec.Entity, S);\n             end;\n          end loop;\n \n@@ -931,14 +931,14 @@ package body SPARK_Specific is\n                Srec : SPARK_Scope_Record renames SPARK_Scope_Table.Table (S);\n \n                Spec_Entity : constant Entity_Id :=\n-                               Unique_Entity (Srec.Scope_Id);\n+                               Unique_Entity (Srec.Entity);\n                Spec_Scope  : constant Scope_Index :=\n                                Entity_Hash_Table.Get (Spec_Entity);\n \n             begin\n                --  Generic spec may be missing in which case Spec_Scope is zero\n \n-               if Spec_Entity /= Srec.Scope_Id\n+               if Spec_Entity /= Srec.Entity\n                  and then Spec_Scope /= 0\n                then\n                   Srec.Spec_File_Num :="}, {"sha": "6c7dc0cadbce6c4c2b6b52ddea224af7255babad", "filename": "gcc/ada/spark_xrefs.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Fspark_xrefs.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Fspark_xrefs.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fspark_xrefs.adb?ref=45a6947d0f40ca6bfebd430969087e0595c47cb8", "patch": "@@ -75,7 +75,7 @@ package body SPARK_Xrefs is\n             Write_Int (Int (ASR.Scope_Num));\n             Write_Str (\"  Scope_Name = \"\"\");\n \n-            Write_Str (Unique_Name (ASR.Scope_Id));\n+            Write_Str (Unique_Name (ASR.Entity));\n \n             Write_Char ('\"');\n             Write_Str  (\"  From = \");"}, {"sha": "c5604fd5477143f68cb0fbf336a23726700b3ded", "filename": "gcc/ada/spark_xrefs.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Fspark_xrefs.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45a6947d0f40ca6bfebd430969087e0595c47cb8/gcc%2Fada%2Fspark_xrefs.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fspark_xrefs.ads?ref=45a6947d0f40ca6bfebd430969087e0595c47cb8", "patch": "@@ -109,8 +109,8 @@ package SPARK_Xrefs is\n    --  determined.\n \n    type SPARK_Scope_Record is record\n-      Scope_Id : Entity_Id;\n-      --  Pointer to scope name in ALI file\n+      Entity : Entity_Id;\n+      --  Entity that is represented by the scope\n \n       File_Num : Nat;\n       --  Set to the file dependency number for the scope"}]}