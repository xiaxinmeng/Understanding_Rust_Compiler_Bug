{"sha": "41ff8055c5caf3e399783c728a6c8a820b2c7a29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFmZjgwNTVjNWNhZjNlMzk5NzgzYzcyOGE2YzhhODIwYjJjN2EyOQ==", "commit": {"author": {"name": "Toon Moene", "email": "toon@moene.indiv.nluug.nl", "date": "2002-01-30T22:59:47Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2002-01-30T22:59:47Z"}, "message": "intrin.c (upcasecmp_): New function.\n\n2002-01-30  Toon Moene  <toon@moene.indiv.nluug.nl>\n\n\t* intrin.c (upcasecmp_): New function.\n\t(ffeintrin_cmp_name_): Use it to correctly compare name\n\tand table entry for bsearch.\n\nFrom-SVN: r49347", "tree": {"sha": "a205c250016e774fe94ee79562543f40dd404200", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a205c250016e774fe94ee79562543f40dd404200"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41ff8055c5caf3e399783c728a6c8a820b2c7a29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ff8055c5caf3e399783c728a6c8a820b2c7a29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41ff8055c5caf3e399783c728a6c8a820b2c7a29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ff8055c5caf3e399783c728a6c8a820b2c7a29/comments", "author": null, "committer": null, "parents": [{"sha": "86f808dc818c23a87f1554aa0b9c11a112ac4531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86f808dc818c23a87f1554aa0b9c11a112ac4531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86f808dc818c23a87f1554aa0b9c11a112ac4531"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "fb1e75b701853e460ca4a92ae4959606147d06a7", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ff8055c5caf3e399783c728a6c8a820b2c7a29/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ff8055c5caf3e399783c728a6c8a820b2c7a29/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=41ff8055c5caf3e399783c728a6c8a820b2c7a29", "patch": "@@ -1,3 +1,9 @@\n+2002-01-30  Toon Moene  <toon@moene.indiv.nluug.nl>\n+\n+\t* intrin.c (upcasecmp_): New function.\n+\t(ffeintrin_cmp_name_): Use it to correctly compare name\n+\tand table entry for bsearch.\n+\n 2002-01-26  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* intrin.c (ffeintrin_cmp_name_): Correct comparison"}, {"sha": "83a478c706575d6183e583f313c3027d30044335", "filename": "gcc/f/intrin.c", "status": "modified", "additions": 18, "deletions": 2, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ff8055c5caf3e399783c728a6c8a820b2c7a29/gcc%2Ff%2Fintrin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ff8055c5caf3e399783c728a6c8a820b2c7a29/gcc%2Ff%2Fintrin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fintrin.c?ref=41ff8055c5caf3e399783c728a6c8a820b2c7a29", "patch": "@@ -1153,7 +1153,23 @@ ffeintrin_check_any_ (ffebld arglist)\n   return FALSE;\n }\n \n-/* Compare name to intrinsic's name.  Uses strcmp on arguments' names.\n+/* Compare a forced-to-uppercase name with a known-upper-case name.  */\n+\n+static int\n+upcasecmp_ (const char *name, const char *ucname)\n+{\n+  for ( ; *name != 0 && *ucname != 0; name++, ucname++)\n+    {\n+      int i = TOUPPER(*name) - *ucname;\n+\n+      if (i != 0)\n+        return i;\n+    }\n+\n+  return *name - *ucname;\n+}\n+\n+/* Compare name to intrinsic's name.\n    The intrinsics table is sorted on the upper case entries; so first\n    compare irrespective of case on the `uc' entry.  If it matches,\n    compare according to the setting of intrinsics case comparison mode.  */\n@@ -1166,7 +1182,7 @@ ffeintrin_cmp_name_ (const void *name, const void *intrinsic)\n   const char *const ic = ((const struct _ffeintrin_name_ *) intrinsic)->name_ic;\n   int i;\n \n-  if ((i = strcasecmp (name, uc)) == 0)\n+  if ((i = upcasecmp_ (name, uc)) == 0)\n     {\n       switch (ffe_case_intrin ())\n \t{"}]}