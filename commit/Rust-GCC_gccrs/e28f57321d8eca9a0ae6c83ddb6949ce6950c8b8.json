{"sha": "e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI4ZjU3MzIxZDhlY2E5YTBhZTZjODNkZGI2OTQ5Y2U2OTUwYzhiOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-16T15:16:14Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-16T15:16:14Z"}, "message": "(use_crosses_set_p): Check for partially overlapping hard regs.\n\nFrom-SVN: r5163", "tree": {"sha": "570b351d1e48478e5b78952ad9179a767dda1337", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/570b351d1e48478e5b78952ad9179a767dda1337"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8/comments", "author": null, "committer": null, "parents": [{"sha": "e572bad3c657f4133cd91426e7bc52e4a9f199dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e572bad3c657f4133cd91426e7bc52e4a9f199dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e572bad3c657f4133cd91426e7bc52e4a9f199dd"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "a270b6bd5738f3cb4f7fef3328ef6983ae599f98", "filename": "gcc/combine.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=e28f57321d8eca9a0ae6c83ddb6949ce6950c8b8", "patch": "@@ -9404,14 +9404,20 @@ use_crosses_set_p (x, from_cuid)\n   if (code == REG)\n     {\n       register int regno = REGNO (x);\n+      int endreg = regno + (regno < FIRST_PSEUDO_REGISTER\n+\t\t\t    ? HARD_REGNO_NREGS (regno, GET_MODE (x)) : 1);\n+      \n #ifdef PUSH_ROUNDING\n       /* Don't allow uses of the stack pointer to be moved,\n \t because we don't know whether the move crosses a push insn.  */\n       if (regno == STACK_POINTER_REGNUM)\n \treturn 1;\n #endif\n-      return (reg_last_set[regno]\n-\t      && INSN_CUID (reg_last_set[regno]) > from_cuid);\n+      for (;regno < endreg; regno++)\n+\tif (reg_last_set[regno]\n+\t    && INSN_CUID (reg_last_set[regno]) > from_cuid)\n+\t  return 1;\n+      return 0;\n     }\n \n   if (code == MEM && mem_last_set > from_cuid)"}]}