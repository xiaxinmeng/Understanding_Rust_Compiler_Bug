{"sha": "e3eef942f2af7396eac71b5904e309086a5d9325", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTNlZWY5NDJmMmFmNzM5NmVhYzcxYjU5MDRlMzA5MDg2YTVkOTMyNQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-08-20T19:30:36Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-08-20T19:30:36Z"}, "message": "stmt.c (start_cleanup_deferal, [...]): Test block_stack before dereferencing it.\n\n\t* stmt.c (start_cleanup_deferal, end_cleanup_deferal): Test\n\tblock_stack before dereferencing it.\n\nFrom-SVN: r14861", "tree": {"sha": "9a998724eee2d94afabf425532271bbff0332889", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a998724eee2d94afabf425532271bbff0332889"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3eef942f2af7396eac71b5904e309086a5d9325", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3eef942f2af7396eac71b5904e309086a5d9325", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3eef942f2af7396eac71b5904e309086a5d9325", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3eef942f2af7396eac71b5904e309086a5d9325/comments", "author": null, "committer": null, "parents": [{"sha": "246853b927ebe22eac4f8079e2385df232fc0e02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/246853b927ebe22eac4f8079e2385df232fc0e02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/246853b927ebe22eac4f8079e2385df232fc0e02"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "d34368c9464966b0aef6131cea9e2277cfa7e3b8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3eef942f2af7396eac71b5904e309086a5d9325/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3eef942f2af7396eac71b5904e309086a5d9325/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e3eef942f2af7396eac71b5904e309086a5d9325", "patch": "@@ -1,4 +1,9 @@\n-Wed Aug 20 14:57:11 1997  Michael Meissner  <meissner@cygnus.com>\n+Wed Aug 20 11:58:33 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* stmt.c (start_cleanup_deferal, end_cleanup_deferal): Test\n+\tblock_stack before dereferencing it.\n+\n+Wed Aug 20 11:57:11 1997  Michael Meissner  <meissner@cygnus.com>\n \n \t* rs6000.h (ISSUE_RATE): Define instead of MACHINE_issue_rate.\n "}, {"sha": "bc1e6ba6dd22f594da3586251ababa824634828a", "filename": "gcc/stmt.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3eef942f2af7396eac71b5904e309086a5d9325/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3eef942f2af7396eac71b5904e309086a5d9325/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=e3eef942f2af7396eac71b5904e309086a5d9325", "patch": "@@ -4212,7 +4212,10 @@ expand_cleanups (list, dont_do, in_fixup, reachable)\n void\n start_cleanup_deferal ()\n {\n-  ++block_stack->data.block.conditional_code;\n+  /* block_stack can be NULL if we are inside the parameter list.  It is\n+     OK to do nothing, because cleanups aren't possible here.  */\n+  if (block_stack)\n+    ++block_stack->data.block.conditional_code;\n }\n \n /* Mark the end of a conditional region of code.  Because cleanup\n@@ -4223,7 +4226,10 @@ start_cleanup_deferal ()\n void\n end_cleanup_deferal ()\n {\n-  --block_stack->data.block.conditional_code;\n+  /* block_stack can be NULL if we are inside the parameter list.  It is\n+     OK to do nothing, because cleanups aren't possible here.  */\n+  if (block_stack)\n+    --block_stack->data.block.conditional_code;\n }\n \n /* Move all cleanups from the current block_stack"}]}