{"sha": "8994e34a895be02d645de5cd6802e82900e4b705", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk5NGUzNGE4OTViZTAyZDY0NWRlNWNkNjgwMmU4MjkwMGU0YjcwNQ==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2014-10-06T09:47:03Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2014-10-06T09:47:03Z"}, "message": "inline-2.c: Fix implicit declarations.\n\n\t* gcc.dg/ipa/inline-2.c: Fix implicit declarations.\n\t* gcc.dg/ipa/inline-4.c: Likewise.\n\t* gcc.dg/ipa/inline-5.c: Likewise.\n\t* gcc.dg/ipa/pr57539.c: Likewise.\n\t* gcc.dg/ipa/inline-6.c: Fix implicit declarations.  Fix\n\tdefaulting to int.\n\t* gcc.dg/ipa/inlinehint-1.c: Likewise.\n\t* gcc.dg/ipa/inlinehint-3.c: Likewise.\n\t* gcc.dg/ipa/inlinehint-2.c: Fix defaulting to int.\n\t* gcc.dg/ipa/ipacost-1.c: Likewise.\n\t* gcc.dg/ipa/ipacost-2.c: Likewise.\n\t* gcc.dg/ipa/pure-const-1.c: Use -fgnu89-inline.  Fix defaulting\n\tto int.\n\nFrom-SVN: r215920", "tree": {"sha": "467dcdccc3c652f58b30d6f6ba0b19f9afe604a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/467dcdccc3c652f58b30d6f6ba0b19f9afe604a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8994e34a895be02d645de5cd6802e82900e4b705", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8994e34a895be02d645de5cd6802e82900e4b705", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8994e34a895be02d645de5cd6802e82900e4b705", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8994e34a895be02d645de5cd6802e82900e4b705/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f92589236ab848f42a36ccb08a329813dddf8b2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f92589236ab848f42a36ccb08a329813dddf8b2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f92589236ab848f42a36ccb08a329813dddf8b2d"}], "stats": {"total": 50, "additions": 45, "deletions": 5}, "files": [{"sha": "586df821e3f0192af68addaa5de4dbb23a524aba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,3 +1,19 @@\n+2014-10-06  Marek Polacek  <polacek@redhat.com>\n+\n+\t* gcc.dg/ipa/inline-2.c: Fix implicit declarations.\n+\t* gcc.dg/ipa/inline-4.c: Likewise.\n+\t* gcc.dg/ipa/inline-5.c: Likewise.\n+\t* gcc.dg/ipa/pr57539.c: Likewise.\n+\t* gcc.dg/ipa/inline-6.c: Fix implicit declarations.  Fix\n+\tdefaulting to int.\n+\t* gcc.dg/ipa/inlinehint-1.c: Likewise.\n+\t* gcc.dg/ipa/inlinehint-3.c: Likewise.\n+\t* gcc.dg/ipa/inlinehint-2.c: Fix defaulting to int.\n+\t* gcc.dg/ipa/ipacost-1.c: Likewise.\n+\t* gcc.dg/ipa/ipacost-2.c: Likewise.\n+\t* gcc.dg/ipa/pure-const-1.c: Use -fgnu89-inline.  Fix defaulting\n+\tto int.\n+\n 2014-10-06  Marek Polacek  <polacek@redhat.com>\n \n \t* gcc.dg/debug/20010207-1.c: Use -fgnu89-inline.  Fix implicit"}, {"sha": "aa8eea3fa9402ed396178f364037da6cffecf077", "filename": "gcc/testsuite/gcc.dg/ipa/inline-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-2.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -3,6 +3,7 @@\n /* { dg-options \"-O3 -c -fdump-ipa-inline -fno-early-inlining\"  } */\n \n struct bah {int a,b,d;};\n+void test3 (int, int, int, int, int);\n \n __attribute__ ((noinline))\n void test(int a,int b,int c,int d,int e)"}, {"sha": "af5c3020f094996376e28a2e0091c32d9077c1e2", "filename": "gcc/testsuite/gcc.dg/ipa/inline-4.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-4.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,6 +1,8 @@\n /* { dg-do compile } */\n /* { dg-options \"-Os -c -fdump-ipa-inline -fno-early-inlining -fno-partial-inlining -fno-ipa-cp\"  } */\n \n+void work_hard (void);\n+\n void do_something (int shall_i_work)\n {\n   if (shall_i_work)"}, {"sha": "f0ee25adcbfc851f3751e83f5e2cdd9d5b7c2282", "filename": "gcc/testsuite/gcc.dg/ipa/inline-5.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-5.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,7 +1,10 @@\n /* Check statements that are eliminated by inlining.  */\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-ipa-inline-details -fno-early-inlining -fno-partial-inlining -fno-ipa-cp\"  } */\n+\n struct a {int a,b,c,d,e;};\n+void t(int);\n+void t2();\n \n void\n accessfield (struct a a)"}, {"sha": "5fb40842789cca64061d887081363befce789061", "filename": "gcc/testsuite/gcc.dg/ipa/inline-6.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finline-6.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,7 +1,12 @@\n /* Check statements that are eliminated by inlining.  */\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-ipa-inline-details -fno-early-inlining -fno-partial-inlining -fno-ipa-cp\"  } */\n-static t(int a)\n+\n+void foo (void);\n+void bar (void);\n+void bagr (void);\n+\n+static int t(int a)\n {\n   if (a==1)\n     {\n@@ -32,6 +37,7 @@ static t(int a)\n       bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr(); bagr();\n    }\n }\n+int\n main()\n {\n   t(1);"}, {"sha": "1cc5bdd0c0732599ce781ea70594655bc2a2faa0", "filename": "gcc/testsuite/gcc.dg/ipa/inlinehint-1.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-1.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,4 +1,6 @@\n /* { dg-options \"-O3 -c -fdump-ipa-inline-details -fno-early-inlining -fno-ipa-cp\"  } */\n+void test2 (int);\n+int\n test (int a)\n {\n    int i;\n@@ -8,6 +10,7 @@ test (int a)\n      test2(a);\n }\n }\n+int\n m()\n {\n   test (10);"}, {"sha": "1579c2496bc0c79abffa635b57394f127879f858", "filename": "gcc/testsuite/gcc.dg/ipa/inlinehint-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-2.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,10 +1,12 @@\n /* { dg-options \"-O3 -c -fdump-ipa-inline-details -fno-early-inlining -fno-ipa-cp\"  } */\n+int\n t(int s, void **p)\n {\n   int i;\n   for (i;i<10000;i+=s)\n     p[i]=0;\n }\n+int\n m(void **p)\n {\n   t (10, p);"}, {"sha": "f8d61a07efc9856896853acfdb839aa42f3454e3", "filename": "gcc/testsuite/gcc.dg/ipa/inlinehint-3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Finlinehint-3.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,5 +1,6 @@\n /* { dg-options \"-O3 -c -fdump-ipa-inline-details -fno-early-inlining -fno-ipa-cp\"  } */\n void abort (void);\n+int scc_entry (int);\n int sum;\n int a[10];\n int\n@@ -20,6 +21,7 @@ scc_entry (int c)\n     scc_next (c);\n   return sum;\n }\n+int\n main()\n {\n   int sum;"}, {"sha": "70c635e6bba0d3515fe0987c88a05a7be30336a0", "filename": "gcc/testsuite/gcc.dg/ipa/ipacost-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-1.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -43,6 +43,7 @@ i_can_not_be_propagated_fully2 (int *a)\n   i_can_not_be_propagated_fully (a);\n   i_can_not_be_propagated_fully (a);\n }\n+int\n main()\n {\n   i_can_be_propagated_fully2 (array);"}, {"sha": "290d1254c2d92a72043bb95310bb0fd5f1b18fca", "filename": "gcc/testsuite/gcc.dg/ipa/ipacost-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipacost-2.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -59,6 +59,7 @@ i_can_not_be_propagated_fully2 (int *a)\n   }\n   i_can_not_be_propagated_fully (a);\n }\n+int\n main()\n {\n   int i;"}, {"sha": "514b60079293a206d1992d587d9a95d0eda42b08", "filename": "gcc/testsuite/gcc.dg/ipa/pr57539.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr57539.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr57539.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpr57539.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -91,6 +91,8 @@ typedef struct nitem\n nitem;\n typedef int (*distfn) (box *, box *);\n typedef int (*intersectfn) (nitem *, nitem *);\n+int agnnodes (graph_t *);\n+int overlaps (nitem *, int);\n static int\n cmpitem (Dt_t * d, int *p1, int *p2, Dtdisc_t * disc)\n {"}, {"sha": "3f04c861bbcd7cfa44434bae29294395c5325655", "filename": "gcc/testsuite/gcc.dg/ipa/pure-const-1.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpure-const-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8994e34a895be02d645de5cd6802e82900e4b705/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpure-const-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpure-const-1.c?ref=8994e34a895be02d645de5cd6802e82900e4b705", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile { target nonpic } } */\n-/* { dg-options \"-O3 -fdump-tree-local-pure-const1 -fdump-ipa-pure-const -fdump-tree-optimized -fno-early-inlining\" } */\n+/* { dg-options \"-O3 -fdump-tree-local-pure-const1 -fdump-ipa-pure-const -fdump-tree-optimized -fno-early-inlining -fgnu89-inline\" } */\n void abort (void);\n int error_code;\n static int val;\n@@ -32,27 +32,28 @@ call_callback(int (*fn)(int), int a)\n   return fn(a);\n }\n \n-__attribute__ ((noinline, noclone))\n+__attribute__ ((noinline, noclone)) int\n i_am_const3(int a)\n {\n   return call_callback (call_me, a);\n }\n \n-__attribute__ ((noinline))\n+__attribute__ ((noinline)) int\n explode_badly()\n {\n   error_code = 0xbad;\n   abort ();\n }\n \n-__attribute__ ((noinline, noclone))\n+__attribute__ ((noinline, noclone)) int\n i_am_pure4(int a)\n {\n   if (a > 50)\n     explode_badly ();\n   return a;\n }\n \n+int\n test()\n {\n   int s;"}]}