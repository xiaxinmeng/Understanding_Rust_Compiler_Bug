{"sha": "10508db867934264bbc2578f1f454c19fa558fd3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTA1MDhkYjg2NzkzNDI2NGJiYzI1NzhmMWY0NTRjMTlmYTU1OGZkMw==", "commit": {"author": {"name": "Kwok Cheung Yeung", "email": "kcy@codesourcery.com", "date": "2020-11-05T18:11:23Z"}, "committer": {"name": "Kwok Cheung Yeung", "email": "kcy@codesourcery.com", "date": "2020-11-05T18:32:56Z"}, "message": "openmp: Mark deprecated symbols in OpenMP 5.0\n\n2020-11-05  Ulrich Drepper  <drepper@redhat.com>\n\t    Kwok Cheung Yeung  <kcy@codesourcery.com>\n\n\tlibgomp/\n\t* Makefile.am (%.mod): Add -cpp and -fopenmp to compile flags.\n\t* Makefile.in: Regenerate.\n\t* fortran.c: Wrap uses of omp_set_nested and omp_get_nested with\n\tpragmas to ignore -Wdeprecated-declarations warnings.\n\t* icv.c: Likewise.\n\t* omp.h.in (__GOMP_DEPRECATED_5_0): Define.\n\tMark omp_lock_hint_* enum values, omp_lock_hint_t, omp_set_nested,\n\tand omp_get_nested with __GOMP_DEPRECATED_5_0.\n\t* omp_lib.f90.in: Mark omp_get_nested and omp_set_nested as\n\tdeprecated.\n\t* testsuite/libgomp.c++/affinity-1.C: Add -Wno-deprecated-declarations\n\tto test options.\n\t* testsuite/libgomp.c/affinity-1.c: Likewise.\n\t* testsuite/libgomp.c/affinity-2.c: Likewise.\n\t* testsuite/libgomp.c/appendix-a/a.15.1.c: Likewise.\n\t* testsuite/libgomp.c/lib-1.c: Likewise.\n\t* testsuite/libgomp.c/nested-1.c: Likewise.\n\t* testsuite/libgomp.c/nested-2.c: Likewise.\n\t* testsuite/libgomp.c/nested-3.c: Likewise.\n\t* testsuite/libgomp.c/pr32362-1.c: Likewise.\n\t* testsuite/libgomp.c/pr32362-2.c: Likewise.\n\t* testsuite/libgomp.c/pr32362-3.c: Likewise.\n\t* testsuite/libgomp.c/pr35549.c: Likewise.\n\t* testsuite/libgomp.c/pr42942.c: Likewise.\n\t* testsuite/libgomp.c/pr61200.c: Likewise.\n\t* testsuite/libgomp.c/sort-1.c: Likewise.\n\t* testsuite/libgomp.c/target-5.c: Likewise.\n\t* testsuite/libgomp.c/target-6.c: Likewise.\n\t* testsuite/libgomp.c/teams-1.c: Likewise.\n\t* testsuite/libgomp.c/thread-limit-1.c: Likewise.\n\t* testsuite/libgomp.c/thread-limit-2.c: Likewise.\n\t* testsuite/libgomp.c/thread-limit-4.c: Likewise.\n\t* testsuite/libgomp.fortran/affinity1.f90: Likewise.\n\t* testsuite/libgomp.fortran/lib1.f90: Likewise.\n\t* testsuite/libgomp.fortran/lib2.f: Likewise.\n\t* testsuite/libgomp.fortran/nested1.f90: Likewise.\n\t* testsuite/libgomp.fortran/teams1.f90: Likewise.", "tree": {"sha": "78b3391e60cbbdc5ff85d144c861146e8fc8d196", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78b3391e60cbbdc5ff85d144c861146e8fc8d196"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10508db867934264bbc2578f1f454c19fa558fd3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10508db867934264bbc2578f1f454c19fa558fd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10508db867934264bbc2578f1f454c19fa558fd3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10508db867934264bbc2578f1f454c19fa558fd3/comments", "author": {"login": "k-yeung", "id": 16960193, "node_id": "MDQ6VXNlcjE2OTYwMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/16960193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-yeung", "html_url": "https://github.com/k-yeung", "followers_url": "https://api.github.com/users/k-yeung/followers", "following_url": "https://api.github.com/users/k-yeung/following{/other_user}", "gists_url": "https://api.github.com/users/k-yeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-yeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-yeung/subscriptions", "organizations_url": "https://api.github.com/users/k-yeung/orgs", "repos_url": "https://api.github.com/users/k-yeung/repos", "events_url": "https://api.github.com/users/k-yeung/events{/privacy}", "received_events_url": "https://api.github.com/users/k-yeung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "k-yeung", "id": 16960193, "node_id": "MDQ6VXNlcjE2OTYwMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/16960193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-yeung", "html_url": "https://github.com/k-yeung", "followers_url": "https://api.github.com/users/k-yeung/followers", "following_url": "https://api.github.com/users/k-yeung/following{/other_user}", "gists_url": "https://api.github.com/users/k-yeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-yeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-yeung/subscriptions", "organizations_url": "https://api.github.com/users/k-yeung/orgs", "repos_url": "https://api.github.com/users/k-yeung/repos", "events_url": "https://api.github.com/users/k-yeung/events{/privacy}", "received_events_url": "https://api.github.com/users/k-yeung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7fa1b2c8dac00eefadb1f0d459fd716027aa1b67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fa1b2c8dac00eefadb1f0d459fd716027aa1b67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fa1b2c8dac00eefadb1f0d459fd716027aa1b67"}], "stats": {"total": 92, "additions": 77, "deletions": 15}, "files": [{"sha": "4cf1f58199531a9a687a9c49373fadcc18b50ed6", "filename": "libgomp/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.am?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -92,7 +92,7 @@ openacc_kinds.mod: openacc.mod\n openacc.mod: openacc.lo\n \t:\n %.mod: %.f90\n-\t$(FC) $(FCFLAGS) -fsyntax-only $<\n+\t$(FC) $(FCFLAGS) -cpp -fopenmp -fsyntax-only $<\n fortran.lo: libgomp_f.h\n fortran.o: libgomp_f.h\n env.lo: libgomp_f.h"}, {"sha": "eb868b36704ac3c01c1c2270fdbcffd1edb708a4", "filename": "libgomp/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FMakefile.in?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1382,7 +1382,7 @@ openacc_kinds.mod: openacc.mod\n openacc.mod: openacc.lo\n \t:\n %.mod: %.f90\n-\t$(FC) $(FCFLAGS) -fsyntax-only $<\n+\t$(FC) $(FCFLAGS) -cpp -fopenmp -fsyntax-only $<\n fortran.lo: libgomp_f.h\n fortran.o: libgomp_f.h\n env.lo: libgomp_f.h"}, {"sha": "cd719f92fc8360e4e13c4bfd83f61ad83fa6dc31", "filename": "libgomp/fortran.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ffortran.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ffortran.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ffortran.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -47,10 +47,13 @@ ialias_redirect (omp_test_lock)\n ialias_redirect (omp_test_nest_lock)\n # endif\n ialias_redirect (omp_set_dynamic)\n-ialias_redirect (omp_set_nested)\n-ialias_redirect (omp_set_num_threads)\n ialias_redirect (omp_get_dynamic)\n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wdeprecated-declarations\"\n+ialias_redirect (omp_set_nested)\n ialias_redirect (omp_get_nested)\n+#pragma GCC diagnostic pop\n+ialias_redirect (omp_set_num_threads)\n ialias_redirect (omp_in_parallel)\n ialias_redirect (omp_get_max_threads)\n ialias_redirect (omp_get_num_procs)\n@@ -281,6 +284,8 @@ omp_set_dynamic_8_ (const int64_t *set)\n   omp_set_dynamic (!!*set);\n }\n \n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wdeprecated-declarations\"\n void\n omp_set_nested_ (const int32_t *set)\n {\n@@ -292,6 +297,7 @@ omp_set_nested_8_ (const int64_t *set)\n {\n   omp_set_nested (!!*set);\n }\n+#pragma GCC diagnostic pop\n \n void\n omp_set_num_threads_ (const int32_t *set)\n@@ -311,11 +317,14 @@ omp_get_dynamic_ (void)\n   return omp_get_dynamic ();\n }\n \n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wdeprecated-declarations\"\n int32_t\n omp_get_nested_ (void)\n {\n   return omp_get_nested ();\n }\n+#pragma GCC diagnostic pop\n \n int32_t\n omp_in_parallel_ (void)"}, {"sha": "8df15e385e705a799f4b82027d306a47df6e64cd", "filename": "libgomp/icv.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ficv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ficv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ficv.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -51,6 +51,8 @@ omp_get_dynamic (void)\n   return icv->dyn_var;\n }\n \n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wdeprecated-declarations\"\n void\n omp_set_nested (int val)\n {\n@@ -64,6 +66,7 @@ omp_get_nested (void)\n   struct gomp_task_icv *icv = gomp_icv (false);\n   return icv->nest_var;\n }\n+#pragma GCC diagnostic pop\n \n void\n omp_set_schedule (omp_sched_t kind, int chunk_size)\n@@ -222,10 +225,13 @@ omp_get_default_allocator (void)\n }\n \n ialias (omp_set_dynamic)\n-ialias (omp_set_nested)\n-ialias (omp_set_num_threads)\n ialias (omp_get_dynamic)\n+#pragma GCC diagnostic push\n+#pragma GCC diagnostic ignored \"-Wdeprecated-declarations\"\n+ialias (omp_set_nested)\n ialias (omp_get_nested)\n+#pragma GCC diagnostic pop\n+ialias (omp_set_num_threads)\n ialias (omp_set_schedule)\n ialias (omp_get_schedule)\n ialias (omp_get_max_threads)"}, {"sha": "be7df6d283f1c487ddd2d4e898fb050d3b7ae190", "filename": "libgomp/omp.h.in", "status": "modified", "additions": 15, "deletions": 8, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Fomp.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Fomp.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fomp.h.in?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -26,6 +26,12 @@\n #ifndef _OMP_H\n #define _OMP_H 1\n \n+#if defined(__GNUC__) && _OPENMP >= 201811\n+# define __GOMP_DEPRECATED_5_0 __attribute__((__deprecated__))\n+#else\n+# define __GOMP_DEPRECATED_5_0\n+#endif\n+\n #ifndef _LIBGOMP_OMP_LOCK_DEFINED\n #define _LIBGOMP_OMP_LOCK_DEFINED 1\n /* These two structures get edited by the libgomp build process to \n@@ -66,18 +72,19 @@ typedef enum omp_proc_bind_t\n typedef enum omp_sync_hint_t\n {\n   omp_sync_hint_none = 0,\n-  omp_lock_hint_none = omp_sync_hint_none,\n+  omp_lock_hint_none __GOMP_DEPRECATED_5_0 = omp_sync_hint_none,\n   omp_sync_hint_uncontended = 1,\n-  omp_lock_hint_uncontended = omp_sync_hint_uncontended,\n+  omp_lock_hint_uncontended __GOMP_DEPRECATED_5_0 = omp_sync_hint_uncontended,\n   omp_sync_hint_contended = 2,\n-  omp_lock_hint_contended = omp_sync_hint_contended,\n+  omp_lock_hint_contended __GOMP_DEPRECATED_5_0 = omp_sync_hint_contended,\n   omp_sync_hint_nonspeculative = 4,\n-  omp_lock_hint_nonspeculative = omp_sync_hint_nonspeculative,\n+  omp_lock_hint_nonspeculative __GOMP_DEPRECATED_5_0\n+    = omp_sync_hint_nonspeculative,\n   omp_sync_hint_speculative = 8,\n-  omp_lock_hint_speculative = omp_sync_hint_speculative\n+  omp_lock_hint_speculative __GOMP_DEPRECATED_5_0 = omp_sync_hint_speculative\n } omp_sync_hint_t;\n \n-typedef omp_sync_hint_t omp_lock_hint_t;\n+typedef __GOMP_DEPRECATED_5_0 omp_sync_hint_t omp_lock_hint_t;\n \n typedef struct __attribute__((__aligned__ (sizeof (void *)))) omp_depend_t\n {\n@@ -184,8 +191,8 @@ extern int omp_in_parallel (void) __GOMP_NOTHROW;\n extern void omp_set_dynamic (int) __GOMP_NOTHROW;\n extern int omp_get_dynamic (void) __GOMP_NOTHROW;\n \n-extern void omp_set_nested (int) __GOMP_NOTHROW;\n-extern int omp_get_nested (void) __GOMP_NOTHROW;\n+extern void omp_set_nested (int) __GOMP_NOTHROW __GOMP_DEPRECATED_5_0;\n+extern int omp_get_nested (void) __GOMP_NOTHROW __GOMP_DEPRECATED_5_0;\n \n extern void omp_init_lock (omp_lock_t *) __GOMP_NOTHROW;\n extern void omp_init_lock_with_hint (omp_lock_t *, omp_sync_hint_t)"}, {"sha": "3b7f0cba1166c6c88d0c03e89b4567e6e3fe2396", "filename": "libgomp/omp_lib.f90.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Fomp_lib.f90.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Fomp_lib.f90.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fomp_lib.f90.in?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -644,4 +644,8 @@\n           end function\n         end interface\n \n+#if _OPENMP >= 201811\n+!GCC$ ATTRIBUTES DEPRECATED :: omp_get_nested, omp_set_nested\n+#endif\n+\n       end module omp_lib"}, {"sha": "eff231650544ae88c61403d1cf057f30a8f14611", "filename": "libgomp/testsuite/libgomp.c++/affinity-1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Faffinity-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Faffinity-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Faffinity-1.C?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,4 +1,5 @@\n // { dg-do run }\n // { dg-set-target-env-var OMP_PROC_BIND \"true\" }\n+// { dg-additional-options \"-Wno-deprecated-declarations\" }\n \n #include \"../libgomp.c/affinity-1.c\""}, {"sha": "4c9f9d19db134f268b89f3274d03bb380df86949", "filename": "libgomp/testsuite/libgomp.c/affinity-1.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -17,7 +17,8 @@\n \n /* { dg-do run } */\n /* { dg-set-target-env-var OMP_PROC_BIND \"false\" } */\n-/* { dg-additional-options \"-DINTERPOSE_GETAFFINITY -DDO_FORK -ldl\" { target *-*-linux* } } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+/* { dg-additional-options \"-DINTERPOSE_GETAFFINITY -DDO_FORK -ldl -Wno-deprecated-declarations\" { target *-*-linux* } } */\n \n #ifndef _GNU_SOURCE\n #define _GNU_SOURCE"}, {"sha": "8e5bb56a16ae6ace87f2ce14cd9234662c458135", "filename": "libgomp/testsuite/libgomp.c/affinity-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Faffinity-2.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -2,6 +2,7 @@\n /* { dg-set-target-env-var OMP_PROC_BIND \"spread,close\" } */\n /* { dg-set-target-env-var OMP_PLACES \"{6,7}:4:-2,!{2,3}\" } */\n /* { dg-set-target-env-var OMP_NUM_THREADS \"2\" } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "469da6ad598865bb8cc10755575ea02f34c2135a", "filename": "libgomp/testsuite/libgomp.c/appendix-a/a.15.1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fappendix-a%2Fa.15.1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fappendix-a%2Fa.15.1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fappendix-a%2Fa.15.1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdio.h>"}, {"sha": "fc6f746b83a9b5eebfe8cfece6280df2b6d99f3a", "filename": "libgomp/testsuite/libgomp.c/lib-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Flib-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Flib-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Flib-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <stdlib.h>\n #include <omp.h>\n "}, {"sha": "925f5c55831bd81d99769c65a902dac6e52d1169", "filename": "libgomp/testsuite/libgomp.c/nested-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n "}, {"sha": "ab113f1bdbd7c6501de69e85402aa2d60132e1a7", "filename": "libgomp/testsuite/libgomp.c/nested-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-2.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n "}, {"sha": "625ca88a0a97e859dc8c7b7b1cb6d17bf891979f", "filename": "libgomp/testsuite/libgomp.c/nested-3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fnested-3.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n #include <string.h>"}, {"sha": "33890df3cf1bce585b6eab9914ec3a9813242e8f", "filename": "libgomp/testsuite/libgomp.c/pr32362-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR middle-end/32362 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "445ccbf5c2712578e0bf6ec90373f52098075196", "filename": "libgomp/testsuite/libgomp.c/pr32362-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-2.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR middle-end/32362 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "1d0b19cd733867ec19e0ba5b951b12b2adae633a", "filename": "libgomp/testsuite/libgomp.c/pr32362-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr32362-3.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR middle-end/32362 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "a492c563cc0efc913dd21dbb29e35f1837b857a5", "filename": "libgomp/testsuite/libgomp.c/pr35549.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr35549.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr35549.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr35549.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR middle-end/35549 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "260dd9003e8d847dc1bbc04514f8cbca53506626", "filename": "libgomp/testsuite/libgomp.c/pr42942.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr42942.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr42942.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr42942.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR libgomp/42942 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "c98c10a8253c6ac7cf4a8ccefb8d0543d51faab5", "filename": "libgomp/testsuite/libgomp.c/pr61200.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr61200.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr61200.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fpr61200.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* PR libgomp/61200 */\n /* { dg-do run } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <omp.h>\n #include <stdlib.h>"}, {"sha": "bcabea507e10bad7e160ac1ab1415c6b72d4f18c", "filename": "libgomp/testsuite/libgomp.c/sort-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fsort-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -15,6 +15,8 @@\n    along with GCC; see the file COPYING3.  If not see\n    <http://www.gnu.org/licenses/>.  */\n \n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <limits.h>\n #include <omp.h>\n #include <stdbool.h>"}, {"sha": "21a69ea68121238347ba711e2bc543078c90e266", "filename": "libgomp/testsuite/libgomp.c/target-5.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-5.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n "}, {"sha": "8ffcb5b5b6ae01340594fa23860bcceb8b3d032c", "filename": "libgomp/testsuite/libgomp.c/target-6.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Ftarget-6.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n "}, {"sha": "977e5fc53234a6f573468591c63df2691f38e855", "filename": "libgomp/testsuite/libgomp.c/teams-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fteams-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fteams-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fteams-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n+\n #include <omp.h>\n #include <stdlib.h>\n "}, {"sha": "c8f76f9c78d23e2c1cd50eed001289078a1a7dda", "filename": "libgomp/testsuite/libgomp.c/thread-limit-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-1.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-set-target-env-var OMP_THREAD_LIMIT \"6\" } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "2cff1fd48c33c27f0a6079ea5d6274599fdaa153", "filename": "libgomp/testsuite/libgomp.c/thread-limit-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-2.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-set-target-env-var OMP_THREAD_LIMIT \"9\" } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "351423cab9456857eec10c34ae0cfdb1cd26bc13", "filename": "libgomp/testsuite/libgomp.c/thread-limit-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fthread-limit-4.c?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run } */\n /* { dg-set-target-env-var OMP_THREAD_LIMIT \"9\" } */\n+/* { dg-additional-options \"-Wno-deprecated-declarations\" } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "ea84b834dda358343c299b644ded556532915f3e", "filename": "libgomp/testsuite/libgomp.fortran/affinity1.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Faffinity1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Faffinity1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Faffinity1.f90?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -3,6 +3,7 @@\n ! { dg-set-target-env-var OMP_PROC_BIND \"spread,close\" }\n ! { dg-set-target-env-var OMP_PLACES \"{6,7}:4:-2,!{2,3}\" }\n ! { dg-set-target-env-var OMP_NUM_THREADS \"2\" }\n+! { dg-additional-options \"-Wno-deprecated-declarations\" }\n \n   use omp_lib\n   integer :: num, i, nump"}, {"sha": "c99eb7bdd6d7671fced07714897842b38c9aae73", "filename": "libgomp/testsuite/libgomp.fortran/lib1.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib1.f90?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,4 +1,5 @@\n ! { dg-do run }\n+! { dg-additional-options \"-Wno-deprecated-declarations\" }\n \n   use omp_lib\n "}, {"sha": "a25611bb4d0ac398ae04558e1a0b1f0866c17f5d", "filename": "libgomp/testsuite/libgomp.fortran/lib2.f", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib2.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib2.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Flib2.f?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,4 +1,5 @@\n C { dg-do run }\n+C { dg-additional-options \"-Wno-deprecated-declarations\" }\n \n       USE OMP_LIB\n "}, {"sha": "bb3d0ed279785165fd2ab1b36040fa0ab982a54f", "filename": "libgomp/testsuite/libgomp.fortran/nested1.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fnested1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fnested1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fnested1.f90?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,4 +1,6 @@\n ! { dg-do run }\n+! { dg-additional-options \"-Wno-deprecated-declarations\" }\n+\n program nested1\n   use omp_lib\n   integer :: e1, e2, e3, e"}, {"sha": "0077a703f7489084daa1a4a13f0d32f68d4ffe3d", "filename": "libgomp/testsuite/libgomp.fortran/teams1.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fteams1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10508db867934264bbc2578f1f454c19fa558fd3/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fteams1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Fteams1.f90?ref=10508db867934264bbc2578f1f454c19fa558fd3", "patch": "@@ -1,3 +1,5 @@\n+! { dg-additional-options \"-Wno-deprecated-declarations\" }\n+\n program teams1\n   use omp_lib\n !$omp teams thread_limit (2)"}]}