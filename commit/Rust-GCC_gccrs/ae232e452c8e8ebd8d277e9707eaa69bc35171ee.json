{"sha": "ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWUyMzJlNDUyYzhlOGViZDhkMjc3ZTk3MDdlYWE2OWJjMzUxNzFlZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-08-06T03:26:19Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-08-06T03:26:19Z"}, "message": "visibility-8.C: Add constructor and destructor tests.\n\n\t* g++.dg/ext/visibility/visibility-8.C: Add constructor and\n\tdestructor tests.\n\nFrom-SVN: r85623", "tree": {"sha": "39d44d19a9efac4009fbf4ade4912051ed28e719", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39d44d19a9efac4009fbf4ade4912051ed28e719"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae232e452c8e8ebd8d277e9707eaa69bc35171ee/comments", "author": null, "committer": null, "parents": [{"sha": "9ddfe26ede88adcac397ad4d2c26f8322ab53107", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ddfe26ede88adcac397ad4d2c26f8322ab53107", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ddfe26ede88adcac397ad4d2c26f8322ab53107"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "02bff741a7309b71a87ecab9762538ae03ec2bf0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae232e452c8e8ebd8d277e9707eaa69bc35171ee/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae232e452c8e8ebd8d277e9707eaa69bc35171ee/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "patch": "@@ -1,3 +1,8 @@\n+2004-08-05  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* g++.dg/ext/visibility/visibility-8.C: Add constructor and\n+\tdestructor tests.\n+\n 2004-08-05  Mark Mitchell  <mark@codesourcery.com>\n \n \t* g++.dg/ext/visibility/assign1.C: Use scan-hidden and"}, {"sha": "f0139b362a8a8db1b5b7042184a55791d8f2d5a0", "filename": "gcc/testsuite/g++.dg/ext/visibility/visibility-8.C", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae232e452c8e8ebd8d277e9707eaa69bc35171ee/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fvisibility-8.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae232e452c8e8ebd8d277e9707eaa69bc35171ee/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fvisibility-8.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fvisibility-8.C?ref=ae232e452c8e8ebd8d277e9707eaa69bc35171ee", "patch": "@@ -6,6 +6,11 @@\n // { dg-final { scan-not-hidden \"_ZN1A1fEv\" } }\n // { dg-final { scan-not-hidden \"_Z1gv\" } }\n // { dg-final { scan-not-hidden \"_Z1hv\" } }\n+// { dg-final { scan-not-hidden \"_ZN1BC1Ev\" } }\n+// { dg-final { scan-not-hidden \"_ZN1BC2Ev\" } }\n+// { dg-final { scan-not-hidden \"_ZN1BD0Ev\" } }\n+// { dg-final { scan-not-hidden \"_ZN1BD1Ev\" } }\n+// { dg-final { scan-not-hidden \"_ZN1BD2Ev\" } }\n // { dg-final { scan-not-hidden \"_ZN1B1iEv\" } }\n // { dg-final { scan-not-hidden \"_ZN1B1jEv\" } }\n // { dg-final { scan-not-hidden \"_ZN1A1a\" } }\n@@ -28,11 +33,17 @@ __declspec(dllexport) void h();\n void h() {}\n \n struct B {\n+  B();\n+  __declspec(dllexport) virtual ~B();\n   void i();\n   __declspec(dllexport) void j();\n   __declspec(dllexport) static int b;\n };\n \n+__declspec(dllexport) B::B() {}\n+\n+B::~B() {}\n+\n __declspec(dllexport) void B::i() {}\n \n void B::j() {}"}]}