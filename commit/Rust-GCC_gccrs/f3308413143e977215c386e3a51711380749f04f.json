{"sha": "f3308413143e977215c386e3a51711380749f04f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMzMDg0MTMxNDNlOTc3MjE1YzM4NmUzYTUxNzExMzgwNzQ5ZjA0Zg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2011-05-31T16:25:15Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2011-05-31T16:25:15Z"}, "message": "i386.c (ix86_rtx_costs): Drop NEG from sub for FMA.\n\n* config/i386/i386.c (ix86_rtx_costs): Drop NEG from sub for FMA.\n* config/i386/sse.md: Add n to negated FMA pattern names.\n\nFrom-SVN: r174493", "tree": {"sha": "baeae37bc7ce10d4055b0c003d45f0e712672660", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/baeae37bc7ce10d4055b0c003d45f0e712672660"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3308413143e977215c386e3a51711380749f04f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3308413143e977215c386e3a51711380749f04f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3308413143e977215c386e3a51711380749f04f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3308413143e977215c386e3a51711380749f04f/comments", "author": null, "committer": null, "parents": [{"sha": "28c14a046d33670222387395e77280e131234482", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28c14a046d33670222387395e77280e131234482", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28c14a046d33670222387395e77280e131234482"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "e4aa907408178259ea4dfe9edbe4d3a866624f3a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3308413143e977215c386e3a51711380749f04f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3308413143e977215c386e3a51711380749f04f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f3308413143e977215c386e3a51711380749f04f", "patch": "@@ -1,3 +1,8 @@\n+2011-05-31  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/i386/i386.c (ix86_rtx_costs): Drop NEG from sub for FMA.\n+\t* config/i386/sse.md: Add n to negated FMA pattern names.\n+\n 2011-05-31  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* gcc.c (driver_handle_option): Fix disabling of -fcompare-debug."}, {"sha": "c4f0b9dea0e7f3e04eff33a4b6699b0b76f3f86c", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3308413143e977215c386e3a51711380749f04f/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3308413143e977215c386e3a51711380749f04f/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=f3308413143e977215c386e3a51711380749f04f", "patch": "@@ -29226,12 +29226,12 @@ ix86_rtx_costs (rtx x, int code, int outer_code_i, int *total, bool speed)\n         /* Negate in op0 or op2 is free: FMS, FNMA, FNMS.  */\n \tsub = XEXP (x, 0);\n \tif (GET_CODE (sub) == NEG)\n-\t  sub = XEXP (x, 0);\n+\t  sub = XEXP (sub, 0);\n \t*total += rtx_cost (sub, FMA, speed);\n \n \tsub = XEXP (x, 2);\n \tif (GET_CODE (sub) == NEG)\n-\t  sub = XEXP (x, 0);\n+\t  sub = XEXP (sub, 0);\n \t*total += rtx_cost (sub, FMA, speed);\n \treturn true;\n       }"}, {"sha": "365fbfaa5d9fa0f59fb1b62f89d6271bf3100885", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3308413143e977215c386e3a51711380749f04f/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3308413143e977215c386e3a51711380749f04f/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=f3308413143e977215c386e3a51711380749f04f", "patch": "@@ -1731,7 +1731,7 @@\n   [(set_attr \"type\" \"ssemuladd\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n-(define_insn \"*fma_fmadd_<mode>\"\n+(define_insn \"*fma_fnmadd_<mode>\"\n   [(set (match_operand:FMAMODE 0 \"register_operand\" \"=x,x,x\")\n \t(fma:FMAMODE\n \t  (neg:FMAMODE\n@@ -1746,7 +1746,7 @@\n   [(set_attr \"type\" \"ssemuladd\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n-(define_insn \"*fma_fmsub_<mode>\"\n+(define_insn \"*fma_fnmsub_<mode>\"\n   [(set (match_operand:FMAMODE 0 \"register_operand\" \"=x,x,x\")\n \t(fma:FMAMODE\n \t  (neg:FMAMODE"}]}