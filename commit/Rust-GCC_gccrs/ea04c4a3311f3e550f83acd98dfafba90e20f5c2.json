{"sha": "ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwNGM0YTMzMTFmM2U1NTBmODNhY2Q5OGRmYWZiYTkwZTIwZjVjMg==", "commit": {"author": {"name": "Andrew Pinski", "email": "apinski@apple.com", "date": "2003-10-06T06:11:14Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2003-10-06T06:11:14Z"}, "message": "darwin.c (machopic_non_lazy_ptr_name): Fix off by one errors in memcpy destinations.\n\n2003-10-05  Andrew Pinski  <apinski@apple.com>\n        * config/darwin.c (machopic_non_lazy_ptr_name): Fix off by one\n        errors in memcpy destinations.\n        (machopic_stub_name): Likewise.\n\nFrom-SVN: r72132", "tree": {"sha": "12f01e2e512070b46a514e2dde61ee1d8d543d26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12f01e2e512070b46a514e2dde61ee1d8d543d26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea04c4a3311f3e550f83acd98dfafba90e20f5c2/comments", "author": null, "committer": null, "parents": [{"sha": "6691a79e0687f631d0d99f539429d2acdfbf9234", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6691a79e0687f631d0d99f539429d2acdfbf9234", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6691a79e0687f631d0d99f539429d2acdfbf9234"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "6587b58c618236a830a5486d8c57dfc772a30474", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea04c4a3311f3e550f83acd98dfafba90e20f5c2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea04c4a3311f3e550f83acd98dfafba90e20f5c2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "patch": "@@ -1,3 +1,8 @@\n+2003-10-05  Andrew Pinski  <apinski@apple.com>\n+\t* config/darwin.c (machopic_non_lazy_ptr_name): Fix off by one\n+\terrors in memcpy destinations.\n+\t(machopic_stub_name): Likewise.\n+\n 2003-10-05  Andrew Pinski <apinski@apple.com>\n \n \t* config/darwin.c (machopic_non_lazy_ptr_name): "}, {"sha": "6688bbe32b6ff767fca7382adba5a5f802337e6b", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea04c4a3311f3e550f83acd98dfafba90e20f5c2/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea04c4a3311f3e550f83acd98dfafba90e20f5c2/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=ea04c4a3311f3e550f83acd98dfafba90e20f5c2", "patch": "@@ -304,17 +304,17 @@ machopic_non_lazy_ptr_name (const char *name)\n     bufferlen = 2;\n     if (name[0] == '*')\n       {\n-        memcpy (buffer+bufferlen, name+1, namelen-1+1);\n+        memcpy (buffer + bufferlen +1, name+1, namelen-1+1);\n         bufferlen += namelen-1;\n       }\n     else\n       {\n \tbuffer[bufferlen] = '_';\n-\tmemcpy (buffer+bufferlen+1, name, namelen+1);\n+\tmemcpy (buffer + bufferlen+1 +1, name, namelen+1);\n         bufferlen += namelen;\n       }\n \n-    memcpy (buffer + bufferlen, \"$non_lazy_ptr\", strlen(\"$non_lazy_ptr\")+1);\n+    memcpy (buffer + bufferlen +1, \"$non_lazy_ptr\", strlen(\"$non_lazy_ptr\")+1);\n     bufferlen += strlen(\"$non_lazy_ptr\");\n     ptr_name = get_identifier (buffer);\n \n@@ -379,24 +379,24 @@ machopic_stub_name (const char *name)\n     \n     if (name[0] == '*')\n       {\n-\tmemcpy (buffer + bufferlen, name+1, namelen - 1 +1);\n+\tmemcpy (buffer + bufferlen +1, name+1, namelen - 1 +1);\n         bufferlen += namelen - 1;\n       }\n     else\n       {\n \tbuffer[bufferlen] = '_';\n-\tmemcpy (buffer + bufferlen +1, name, namelen+1);\n+\tmemcpy (buffer + bufferlen+1 +1, name, namelen+1);\n         bufferlen += namelen;\n       }\n \n     if (needs_quotes)\n       {\n-        memcpy (buffer + bufferlen, \"$stub\\\"\", strlen(\"$stub\\\"\"));\n+        memcpy (buffer + bufferlen +1, \"$stub\\\"\", strlen(\"$stub\\\"\"));\n         bufferlen += strlen(\"$stub\\\"\");\n       }\n     else\n       {\n-        memcpy (buffer + bufferlen, \"$stub\", strlen(\"$stub\"));\n+        memcpy (buffer + bufferlen +1, \"$stub\", strlen(\"$stub\"));\n         bufferlen += strlen(\"$stub\");\n       }\n     ptr_name = get_identifier (buffer);"}]}