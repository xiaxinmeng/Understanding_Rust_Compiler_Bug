{"sha": "d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc1YTdiMWYzMjgzYzVjMDIwYWE1MWJmMDE5YjJkMWU5NTQ4NzY1ZQ==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2015-11-25T15:07:12Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-11-25T15:07:12Z"}, "message": "init.c (__gnat_is_stack_guard): Do not use mach calls for IOS simulator.\n\n2015-11-25  Tristan Gingold  <gingold@adacore.com>\n\n\t* init.c (__gnat_is_stack_guard): Do not use mach calls for\n\tIOS simulator.\n\nFrom-SVN: r230874", "tree": {"sha": "039d4ae7a8840d444b0600537f2d866009754004", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/039d4ae7a8840d444b0600537f2d866009754004"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d75a7b1f3283c5c020aa51bf019b2d1e9548765e/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "55250ed79fbc69935fe09a219307308fcd4c58e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55250ed79fbc69935fe09a219307308fcd4c58e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55250ed79fbc69935fe09a219307308fcd4c58e2"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "64c43fb3dadffa1e40ca48147e65dc471f8fce39", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d75a7b1f3283c5c020aa51bf019b2d1e9548765e/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d75a7b1f3283c5c020aa51bf019b2d1e9548765e/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "patch": "@@ -1,3 +1,8 @@\n+2015-11-25  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* init.c (__gnat_is_stack_guard): Do not use mach calls for\n+\tIOS simulator.\n+\n 2015-11-24  Pierre-Marie de Rodat  <derodat@adacore.com>\n \n \t* gcc-interface/utils.c (gnat_write_global_declarations): Output\n@@ -1241,8 +1246,6 @@\n \t(gnat_write_global_declarations): Output debugging information\n \tfor top-level imported declarations.\n \n-2015-11-12  Emmanuel Briot  <briot@adacore.com>\n-\n 2015-11-12  Emmanuel Briot  <briot@adacore.com>\n \n \t* s-os_lib.ads: Documentation update."}, {"sha": "57b02a1475d2f31f5b442b19fb03b64adfd193b5", "filename": "gcc/ada/init.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d75a7b1f3283c5c020aa51bf019b2d1e9548765e/gcc%2Fada%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d75a7b1f3283c5c020aa51bf019b2d1e9548765e/gcc%2Fada%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Finit.c?ref=d75a7b1f3283c5c020aa51bf019b2d1e9548765e", "patch": "@@ -2276,6 +2276,7 @@ __gnat_install_handler (void)\n \n #elif defined(__APPLE__)\n \n+#include <TargetConditionals.h>\n #include <signal.h>\n #include <stdlib.h>\n #include <sys/syscall.h>\n@@ -2288,7 +2289,7 @@ char __gnat_alternate_stack[32 * 1024]; /* 1 * MINSIGSTKSZ */\n    Tell the kernel to re-use alt stack when delivering a signal.  */\n #define\tUC_RESET_ALT_STACK\t0x80000000\n \n-#if !(defined (__arm__) || defined (__arm64__))\n+#if !(defined (__arm__) || defined (__arm64__) || TARGET_IPHONE_SIMULATOR)\n #include <mach/mach_vm.h>\n #include <mach/mach_init.h>\n #include <mach/vm_statistics.h>\n@@ -2303,7 +2304,7 @@ char __gnat_alternate_stack[32 * 1024]; /* 1 * MINSIGSTKSZ */\n static int\n __gnat_is_stack_guard (mach_vm_address_t addr)\n {\n-#if !(defined (__arm__) || defined (__arm64__))\n+#if !(defined (__arm__) || defined (__arm64__) || TARGET_IPHONE_SIMULATOR)\n   kern_return_t kret;\n   vm_region_submap_info_data_64_t info;\n   mach_vm_address_t start;"}]}