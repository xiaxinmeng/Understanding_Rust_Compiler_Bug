{"sha": "80599fd90cc3b730255b71d0fe904cd68b68f2ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA1OTlmZDkwY2MzYjczMDI1NWI3MWQwZmU5MDRjZDY4YjY4ZjJlYw==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1998-12-14T14:13:26Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1998-12-14T14:13:26Z"}, "message": "Delete REG_RETVAL and REG_LIBCALL notes after completeing reload\n\nFrom-SVN: r24310", "tree": {"sha": "b687af6807e7c2e99daf07c4d951b8b5349213fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b687af6807e7c2e99daf07c4d951b8b5349213fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/80599fd90cc3b730255b71d0fe904cd68b68f2ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80599fd90cc3b730255b71d0fe904cd68b68f2ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80599fd90cc3b730255b71d0fe904cd68b68f2ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80599fd90cc3b730255b71d0fe904cd68b68f2ec/comments", "author": null, "committer": null, "parents": [{"sha": "8c2dfb32b76245329231a8b435aff957340b863d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c2dfb32b76245329231a8b435aff957340b863d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c2dfb32b76245329231a8b435aff957340b863d"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "bb45298682cc33fd41b6aed12fa08a92b071bf00", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=80599fd90cc3b730255b71d0fe904cd68b68f2ec", "patch": "@@ -1,3 +1,11 @@\n+Mon Dec 14 14:09:34 1998  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* reload1.c (reload): Delete REG_RETVAL and REG_LIBCALL notes\n+          after completeing reload.\n+\n+\t* rtl.texi: Document that REG_RETVAL and REG_LIBCALL are\n+          deleted after reload.\n+\n Mon Dec 14 01:39:28 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* rtl.h (multiple_sets): Fix prototype."}, {"sha": "fb740aa0f882e6c385e18c369b460997ad104a05", "filename": "gcc/reload1.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=80599fd90cc3b730255b71d0fe904cd68b68f2ec", "patch": "@@ -1118,7 +1118,9 @@ reload (first, global, dumpfile)\n \n   /* Make a pass over all the insns and delete all USEs which we inserted\n      only to tag a REG_EQUAL note on them.  Remove all REG_DEAD and REG_UNUSED\n-     notes.  Delete all CLOBBER insns and simplify (subreg (reg)) operands.  */\n+     notes.  Delete all CLOBBER insns and simplify (subreg (reg)) operands.\n+     Also remove all REG_RETVAL and REG_LIBCALL notes since they are no longer\n+     useful or accurate.  */\n \n   for (insn = first; insn; insn = NEXT_INSN (insn))\n     if (GET_RTX_CLASS (GET_CODE (insn)) == 'i')\n@@ -1139,7 +1141,9 @@ reload (first, global, dumpfile)\n \twhile (*pnote != 0)\n \t  {\n \t    if (REG_NOTE_KIND (*pnote) == REG_DEAD\n-\t\t|| REG_NOTE_KIND (*pnote) == REG_UNUSED)\n+\t\t|| REG_NOTE_KIND (*pnote) == REG_UNUSED\n+\t\t|| REG_NOTE_KIND (*pnote) == REG_RETVAL\n+\t\t|| REG_NOTE_KIND (*pnote) == REG_LIBCALL)\n \t      *pnote = XEXP (*pnote, 1);\n \t    else\n \t      pnote = &XEXP (*pnote, 1);"}, {"sha": "ef768af40f3b4b0fe71babc9fa6f1438025b96b8", "filename": "gcc/rtl.texi", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2Frtl.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/80599fd90cc3b730255b71d0fe904cd68b68f2ec/gcc%2Frtl.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.texi?ref=80599fd90cc3b730255b71d0fe904cd68b68f2ec", "patch": "@@ -2664,11 +2664,17 @@ delete such sequences whose results are dead.\n A @code{REG_EQUAL} note will also usually be attached to this insn to \n provide the expression being computed by the sequence.\n \n+These notes will be deleted after reload, since they are no longer\n+accurate or useful.\n+\n @findex REG_LIBCALL\n @item REG_LIBCALL\n This is the inverse of @code{REG_RETVAL}: it is placed on the first\n insn of a multi-insn sequence, and it points to the last one.\n \n+These notes are deleted after reload, since they are no longer useful or \n+accurate.\n+\n @findex REG_CC_SETTER\n @findex REG_CC_USER\n @item REG_CC_SETTER"}]}