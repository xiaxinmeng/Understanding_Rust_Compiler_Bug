{"sha": "e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTY4ZGJiZjVhMzUwY2VmNGExMzI4YmUzYjdkZjVjMDc5NWVhZjQ5MA==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2006-05-10T17:50:09Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2006-05-10T17:50:09Z"}, "message": "natClassLoader.cc: Add comments.\n\n2006-05-10  Andrew Haley  <aph@redhat.com>\n\n        * java/lang/natClassLoader.cc: Add comments.\n\nFrom-SVN: r113677", "tree": {"sha": "6df3edea30a838676834be375fbf606f04883fbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6df3edea30a838676834be375fbf606f04883fbc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e68dbbf5a350cef4a1328be3b7df5c0795eaf490/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e080b30bd77baf678c00c504042ce92c83299e74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e080b30bd77baf678c00c504042ce92c83299e74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e080b30bd77baf678c00c504042ce92c83299e74"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "ac601a317facea5952b552dd035c9690436178ab", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e68dbbf5a350cef4a1328be3b7df5c0795eaf490/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e68dbbf5a350cef4a1328be3b7df5c0795eaf490/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "patch": "@@ -1,3 +1,7 @@\n+2006-05-10  Andrew Haley  <aph@redhat.com>\n+\n+\t* java/lang/natClassLoader.cc: Add comments.\n+\n 2006-05-09  Andrew Haley  <aph@redhat.com>\n \n \t* prims.cc (_Jv_soleIndirectCompiledEngine): New."}, {"sha": "6b3c3ef9cd534b7b74b02b8c834d031c43a92021", "filename": "libjava/java/lang/natClassLoader.cc", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e68dbbf5a350cef4a1328be3b7df5c0795eaf490/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e68dbbf5a350cef4a1328be3b7df5c0795eaf490/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClassLoader.cc?ref=e68dbbf5a350cef4a1328be3b7df5c0795eaf490", "patch": "@@ -156,6 +156,30 @@ _Jv_UnregisterInitiatingLoader (jclass klass, java::lang::ClassLoader *loader)\n   loader->loadedClasses->remove(klass->name->toString());\n }\n \n+\n+// Class registration.\n+//\n+// There are two kinds of functions that register classes.  \n+//\n+// Type 1:\n+//\n+// These take the address of a class that is in an object file.\n+// Because these classes are not allocated on the heap, It is also\n+// necessary to register the address of the object for garbage\n+// collection.  This is used with the \"old\" C++ ABI and with\n+// -findirect-dispatch -fno-indirect-classes.\n+//\n+// Type 2:\n+//\n+// These take an initializer struct, create the class, and return the\n+// address of the newly created class to their caller.  These are used\n+// with -findirect-dispatch.\n+//\n+// _Jv_RegisterClasses() and _Jv_RegisterClasses_Counted() are\n+// functions of Type 1, and _Jv_NewClassFromInitializer() and\n+// _Jv_RegisterNewClasses() are of Type 2.\n+\n+\n // This function is called many times during startup, before main() is\n // run.  At that point in time we know for certain we are running \n // single-threaded, so we don't need to lock when adding classes to the "}]}