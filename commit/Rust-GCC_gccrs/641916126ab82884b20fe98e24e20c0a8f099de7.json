{"sha": "641916126ab82884b20fe98e24e20c0a8f099de7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjQxOTE2MTI2YWI4Mjg4NGIyMGZlOThlMjRlMjBjMGE4ZjA5OWRlNw==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-04-03T20:19:05Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1995-04-03T20:19:05Z"}, "message": "Get correct bit offset for big endian (SUBREG (REG))\n\nFrom-SVN: r9299", "tree": {"sha": "d80e0d42c1ef6898d38f0e489fce867c80d97a99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d80e0d42c1ef6898d38f0e489fce867c80d97a99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/641916126ab82884b20fe98e24e20c0a8f099de7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/641916126ab82884b20fe98e24e20c0a8f099de7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/641916126ab82884b20fe98e24e20c0a8f099de7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/641916126ab82884b20fe98e24e20c0a8f099de7/comments", "author": null, "committer": null, "parents": [{"sha": "faae18abc203528841d2aa8c6481f0c5f0638a7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faae18abc203528841d2aa8c6481f0c5f0638a7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/faae18abc203528841d2aa8c6481f0c5f0638a7e"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "fc0a0ef70468663c8020c0a58007b0ae3586f873", "filename": "gcc/expmed.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/641916126ab82884b20fe98e24e20c0a8f099de7/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/641916126ab82884b20fe98e24e20c0a8f099de7/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=641916126ab82884b20fe98e24e20c0a8f099de7", "patch": "@@ -878,7 +878,21 @@ extract_bit_field (str_rtx, bitsize, bitnum, unsignedp,\n     tmode = mode;\n   while (GET_CODE (op0) == SUBREG)\n     {\n+      int outer_size = GET_MODE_BITSIZE (GET_MODE (op0));\n+      int inner_size = GET_MODE_BITSIZE (GET_MODE (SUBREG_REG (op0)));\n+\n       offset += SUBREG_WORD (op0);\n+\n+      if (BYTES_BIG_ENDIAN && (outer_size < inner_size))\n+\t{\n+\t  bitpos += inner_size - outer_size;\n+\t  if (bitpos > unit)\n+\t    {\n+\t      offset += (bitpos / unit);\n+\t      bitpos %= unit;\n+\t    }\n+\t}\n+\n       op0 = SUBREG_REG (op0);\n     }\n "}]}