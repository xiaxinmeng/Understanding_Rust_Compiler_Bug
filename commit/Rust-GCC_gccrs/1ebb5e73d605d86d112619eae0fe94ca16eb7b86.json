{"sha": "1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWViYjVlNzNkNjA1ZDg2ZDExMjYxOWVhZTBmZTk0Y2ExNmViN2I4Ng==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@cygnus.com", "date": "2001-02-05T18:09:45Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2001-02-05T18:09:45Z"}, "message": "parse.y (process_imports): Save the original name of the import for better error report.\n\n2001-02-05  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n\n        * parse.y (process_imports): Save the original name of the import\n        for better error report.\n\n(http://gcc.gnu.org/ml/gcc-patches/2001-02/msg00250.html)\n\nFrom-SVN: r39461", "tree": {"sha": "11533ee9a48313271ad4fc802cacfef2da5335d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11533ee9a48313271ad4fc802cacfef2da5335d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebb5e73d605d86d112619eae0fe94ca16eb7b86/comments", "author": null, "committer": null, "parents": [{"sha": "518fed76bc0e6ae59759d248e1717117921427e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/518fed76bc0e6ae59759d248e1717117921427e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/518fed76bc0e6ae59759d248e1717117921427e6"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "23f5c307e194714669ba601ce707253b5365b031", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebb5e73d605d86d112619eae0fe94ca16eb7b86/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebb5e73d605d86d112619eae0fe94ca16eb7b86/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "patch": "@@ -1,3 +1,8 @@\n+2001-02-05  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n+\n+\t* parse.y (process_imports): Save the original name of the import\n+\tfor better error report.\n+\n 2001-02-04  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* Make-lang.in (jvspec.o): Add DRIVER_DEFINES to the list"}, {"sha": "6ffa3357c77d5b32397996ef8204e02ff9329ac7", "filename": "gcc/java/parse.y", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebb5e73d605d86d112619eae0fe94ca16eb7b86/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebb5e73d605d86d112619eae0fe94ca16eb7b86/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=1ebb5e73d605d86d112619eae0fe94ca16eb7b86", "patch": "@@ -6411,6 +6411,12 @@ process_imports ()\n   for (import = ctxp->import_list; import; import = TREE_CHAIN (import))\n     {\n       tree to_be_found = EXPR_WFL_NODE (TREE_PURPOSE (import));\n+      char *original_name;\n+\n+      obstack_grow0 (&temporary_obstack,\n+\t\t     IDENTIFIER_POINTER (to_be_found),\n+\t\t     IDENTIFIER_LENGTH (to_be_found));\n+      original_name = obstack_finish (&temporary_obstack);\n \n       /* Don't load twice something already defined. */\n       if (IDENTIFIER_CLASS_VALUE (to_be_found))\n@@ -6442,9 +6448,11 @@ process_imports ()\n \t{\n \t  parse_error_context (TREE_PURPOSE (import),\n \t\t\t       \"Class or interface `%s' not found in import\",\n-\t\t\t       IDENTIFIER_POINTER (to_be_found));\n-\t  return 1;\n+\t\t\t       original_name);\n+\t  error_found = 1;\n \t}\n+\n+      obstack_free (&temporary_obstack, original_name);\n       if (error_found)\n \treturn 1;\n     }"}]}