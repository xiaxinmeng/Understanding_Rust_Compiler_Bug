{"sha": "a30701cf3e7226ec22973fa60d0eb06529d71155", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMwNzAxY2YzZTcyMjZlYzIyOTczZmE2MGQwZWIwNjUyOWQ3MTE1NQ==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2006-08-12T01:03:29Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2006-08-12T01:03:29Z"}, "message": "stat_1.f90: Make test pass when run under sudo.\n\n\t* gfortran.dg/stat_1.f90: Make test pass when run under sudo.\n\t* gfortran.dg/stat_2.f90: Likewise.\n\t* gfortran.dg/chmod_1.f90: Likewise.\n\t* gfortran.dg/chmod_2.f90: Likewise.\n\t* gfortran.dg/chmod_3.f90: Likewise.\n\nFrom-SVN: r116097", "tree": {"sha": "c181625b768c8456f7bd76c805a96268a17994b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c181625b768c8456f7bd76c805a96268a17994b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a30701cf3e7226ec22973fa60d0eb06529d71155", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30701cf3e7226ec22973fa60d0eb06529d71155", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30701cf3e7226ec22973fa60d0eb06529d71155", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30701cf3e7226ec22973fa60d0eb06529d71155/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57868b141b27917f837377350731edcc4b59a71d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57868b141b27917f837377350731edcc4b59a71d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57868b141b27917f837377350731edcc4b59a71d"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "d7cb8c8788653cc4a372666143f51afbb740ab6d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -1,3 +1,11 @@\n+2006-08-12  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\t* gfortran.dg/stat_1.f90: Make test pass when run under sudo.\n+\t* gfortran.dg/stat_2.f90: Likewise.\n+\t* gfortran.dg/chmod_1.f90: Likewise.\n+\t* gfortran.dg/chmod_2.f90: Likewise.\n+\t* gfortran.dg/chmod_3.f90: Likewise.\n+\n 2006-08-11  David Edelsohn  <edelsohn@gnu.org>\n \n \t* gfortran.dg/direct_io_6.f90: Skip on *-*-aix*."}, {"sha": "2f0af8cc2db9323d24cce9e127d8d891bd7a05df", "filename": "gcc/testsuite/gfortran.dg/chmod_1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_1.f90?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -20,7 +20,7 @@\n   end if\n \n   call chmod (n, \"a-w\", i)\n-  if (i == 0) then\n+  if (i == 0 .and. getuid() /= 0) then\n     if (access(n,\"w\") == 0 .or. access(n,\"W\") == 0) call abort\n   end if\n "}, {"sha": "3dc445e1cb7b383d2498187021073f6889bae851", "filename": "gcc/testsuite/gfortran.dg/chmod_2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_2.f90?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -20,7 +20,7 @@\n   end if\n \n   i = chmod (n, \"a-w\")\n-  if (i == 0) then\n+  if (i == 0 .and. getuid() /= 0) then\n     if (access(n,\"w\") == 0 .or. access(n,\"W\") == 0) call abort\n   end if\n "}, {"sha": "cfeba67dd4213aa042d49e9a02ba8c5586ab0f0a", "filename": "gcc/testsuite/gfortran.dg/chmod_3.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fchmod_3.f90?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -20,7 +20,7 @@\n   end if\n \n   i = chmod (n, \"a-w\")\n-  if (i == 0) then\n+  if (i == 0 .and. getuid() /= 0) then\n     if (access(n,\"w\") == 0 .or. access(n,\"W\") == 0) call abort\n   end if\n "}, {"sha": "5325634246f185bb2e355b82936cf32c463a32d1", "filename": "gcc/testsuite/gfortran.dg/stat_1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_1.f90?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -15,7 +15,7 @@\n   if (r1 /= 0 .or. r2 /= 0 .or. r3 /= 0) call abort\n   if (any (s1 /= s2) .or. any (s1 /= s3)) call abort\n   if (s1(5) /= getuid()) call abort\n-  if (s1(6) /= getgid()) call abort\n+  if (s1(6) /= getgid() .and. getgid() /= 0) call abort\n   if (s1(8) < 3 .or. s1(8) > 5) call abort\n \n   close (10,status=\"delete\")"}, {"sha": "4bd17cabf0dfcd1854f9d166d90da62d6d3be456", "filename": "gcc/testsuite/gfortran.dg/stat_2.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30701cf3e7226ec22973fa60d0eb06529d71155/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fstat_2.f90?ref=a30701cf3e7226ec22973fa60d0eb06529d71155", "patch": "@@ -15,7 +15,7 @@\n   if (r1 /= 0 .or. r2 /= 0 .or. r3 /= 0) call abort\n   if (any (s1 /= s2) .or. any (s1 /= s3)) call abort\n   if (s1(5) /= getuid()) call abort\n-  if (s1(6) /= getgid()) call abort\n+  if (s1(6) /= getgid() .and. getgid() /= 0) call abort\n   if (s1(8) < 3 .or. s1(8) > 5) call abort\n \n   close (10,status=\"delete\")"}]}