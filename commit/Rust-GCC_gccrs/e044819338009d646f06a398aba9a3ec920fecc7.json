{"sha": "e044819338009d646f06a398aba9a3ec920fecc7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA0NDgxOTMzODAwOWQ2NDZmMDZhMzk4YWJhOWEzZWM5MjBmZWNjNw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2004-08-30T15:52:09Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2004-08-30T15:52:09Z"}, "message": "gcov-io.c (GCOV_CHECK): Use gcc_assert when available.\n\n\t* gcov-io.c (GCOV_CHECK): Use gcc_assert when available.\n\t* gcov.c (abort): Remove undef.\n\nFrom-SVN: r86781", "tree": {"sha": "f7485dc2c31088e48c457cf49b8f1f236666d521", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7485dc2c31088e48c457cf49b8f1f236666d521"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e044819338009d646f06a398aba9a3ec920fecc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e044819338009d646f06a398aba9a3ec920fecc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e044819338009d646f06a398aba9a3ec920fecc7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e044819338009d646f06a398aba9a3ec920fecc7/comments", "author": null, "committer": null, "parents": [{"sha": "88d8c771f98c83763f2ee41e5046417795a97eac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88d8c771f98c83763f2ee41e5046417795a97eac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88d8c771f98c83763f2ee41e5046417795a97eac"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "fdd8639121f1b29795aa6045b401a372bba4b83a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e044819338009d646f06a398aba9a3ec920fecc7", "patch": "@@ -1,5 +1,8 @@\n 2004-08-30  Nathan Sidwell  <nathan@codesourcery.com>\n \n+\t* gcov-io.c (GCOV_CHECK): Use gcc_assert when available.\n+\t* gcov.c (abort): Remove undef.\n+\n \t* tree.h (BINFO_PRIMARY_BASE_OF): Remove.\n \t(struct tree_binfo): Remove primary field.\n "}, {"sha": "eaa23adcb4743de8c876d6d0a3d05aac1a0e6b95", "filename": "gcc/gcov-io.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2Fgcov-io.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2Fgcov-io.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-io.h?ref=e044819338009d646f06a398aba9a3ec920fecc7", "patch": "@@ -547,10 +547,15 @@ GCOV_LINKAGE time_t gcov_time (void);\n #endif\n \n /* Make sure the library is used correctly.  */\n+#if IN_LIBGCOV\n #if ENABLE_CHECKING\n-#define GCOV_CHECK(expr) ((expr) ? (void)0 : (void)abort ())\n+#define GCOV_CHECK(EXPR) (!(EXPR) ? abort (), 0 : 0)\n+#else\n+/* Include EXPR, so that unused variable warnings do not occur.  */\n+#define GCOV_CHECK(EXPR) ((void)(0 && (EXPR)))\n+#endif\n #else\n-#define GCOV_CHECK(expr)\n+#define GCOV_CHECK(EXPR) gcc_assert (EXPR)\n #endif\n #define GCOV_CHECK_READING() GCOV_CHECK(gcov_var.mode > 0)\n #define GCOV_CHECK_WRITING() GCOV_CHECK(gcov_var.mode < 0)"}, {"sha": "83515967cddd02c7c445142c859cec12a5fe7323", "filename": "gcc/gcov.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2Fgcov.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e044819338009d646f06a398aba9a3ec920fecc7/gcc%2Fgcov.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov.c?ref=e044819338009d646f06a398aba9a3ec920fecc7", "patch": "@@ -47,7 +47,6 @@ Boston, MA 02111-1307, USA.  */\n #include \"tm.h\"\n #include \"intl.h\"\n #include \"version.h\"\n-#undef abort\n \n #include <getopt.h>\n "}]}