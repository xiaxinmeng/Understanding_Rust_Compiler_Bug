{"sha": "767cd81cc321266c1f23d738e313cd9dc46377ad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY3Y2Q4MWNjMzIxMjY2YzFmMjNkNzM4ZTMxM2NkOWRjNDYzNzdhZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-11-18T10:48:32Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2015-11-18T10:48:32Z"}, "message": "Minor code clean ups.\n\nFrom-SVN: r230537", "tree": {"sha": "8fd79cc502a1eb9b68e74f9b38d800df461ba396", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fd79cc502a1eb9b68e74f9b38d800df461ba396"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/767cd81cc321266c1f23d738e313cd9dc46377ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/767cd81cc321266c1f23d738e313cd9dc46377ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/767cd81cc321266c1f23d738e313cd9dc46377ad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/767cd81cc321266c1f23d738e313cd9dc46377ad/comments", "author": null, "committer": null, "parents": [{"sha": "c0dd5b3822bf4a714220f90b2dd78e9dc45a2b9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0dd5b3822bf4a714220f90b2dd78e9dc45a2b9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0dd5b3822bf4a714220f90b2dd78e9dc45a2b9d"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "0f27510d907773a75c2480aa30b411bfce11fb97", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/767cd81cc321266c1f23d738e313cd9dc46377ad/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/767cd81cc321266c1f23d738e313cd9dc46377ad/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=767cd81cc321266c1f23d738e313cd9dc46377ad", "patch": "@@ -691,10 +691,11 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksae,$(target_cpu) $(target_vendor)\n   ifeq ($(strip $(filter-out vthreads,$(THREAD_KIND))),)\n     LIBGNAT_TARGET_PAIRS += \\\n     s-thread.adb<s-thread-ae653.adb \\\n+    s-osvers.ads<s-osvers-vxworks-653.ads \\\n     $(DUMMY_SOCKETS_TARGET_PAIRS)\n \n     GNATRTL_SOCKETS_OBJS =\n-    EXTRA_GNATRTL_NONTASKING_OBJS += s-thread.o\n+    EXTRA_GNATRTL_NONTASKING_OBJS += s-thread.o s-osvers.o\n   else\n     LIBGNAT_TARGET_PAIRS += \\\n     g-socthi.ads<g-socthi-vxworks.ads \\\n@@ -735,6 +736,7 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksmils,$(target_cpu) $(target_vendo\n   s-tasinf.ads<s-tasinf-vxworks.ads \\\n   s-taspri.ads<s-taspri-vxworks.ads \\\n   s-thread.adb<s-thread-ae653.adb \\\n+  s-osvers.ads<s-osvers-vxworks-mils.ads \\\n   s-tpopsp.adb<s-tpopsp-vxworks.adb \\\n   s-vxwork.ads<s-vxwork-ppc.ads \\\n   system.ads<system-vxworks-ppc-mils.ads \\\n@@ -746,7 +748,7 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksmils,$(target_cpu) $(target_vendo\n   mlib-tgt-specific.adb<mlib-tgt-specific-vxworks.adb \\\n   indepsw.adb<indepsw-gnu.adb\n \n-  EXTRA_GNATRTL_NONTASKING_OBJS=i-vxwork.o i-vxwoio.o s-thread.o\n+  EXTRA_GNATRTL_NONTASKING_OBJS=i-vxwork.o i-vxwoio.o s-thread.o s-osvers.o\n   EXTRA_GNATRTL_TASKING_OBJS=s-vxwork.o s-vxwext.o\n \n   EXTRA_LIBGNAT_OBJS+=vx_stack_info.o sigtramp-vxworks.o\n@@ -764,7 +766,7 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksmils,$(target_cpu) $(target_vendo\n endif\n \n # VxWorksae / VxWorks 653 for x86 (vxsim) - ?? VxWorks mils not implemented\n-ifeq ($(strip $(filter-out %86 wrs vxworksae vxworksmils,$(target_cpu) $(target_vendor) $(target_os))),)\n+ifeq ($(strip $(filter-out %86 wrs vxworksae,$(target_cpu) $(target_vendor) $(target_os))),)\n   # target pairs for kernel + vthreads runtime\n   LIBGNAT_TARGET_PAIRS = \\\n   a-elchha.adb<a-elchha-vxworks-ppc-full.adb \\\n@@ -805,10 +807,11 @@ ifeq ($(strip $(filter-out %86 wrs vxworksae vxworksmils,$(target_cpu) $(target_\n   ifeq ($(strip $(filter-out vthreads,$(THREAD_KIND))),)\n     LIBGNAT_TARGET_PAIRS += \\\n     s-thread.adb<s-thread-ae653.adb \\\n+    s-osvers.ads<s-osvers-vxworks-653.ads \\\n     $(DUMMY_SOCKETS_TARGET_PAIRS)\n \n     GNATRTL_SOCKETS_OBJS =\n-    EXTRA_GNATRTL_NONTASKING_OBJS += s-thread.o\n+    EXTRA_GNATRTL_NONTASKING_OBJS += s-thread.o s-osvers.o\n   else\n     LIBGNAT_TARGET_PAIRS += \\\n     g-socthi.ads<g-socthi-vxworks.ads \\\n@@ -2493,7 +2496,7 @@ LIBGNAT_OBJS = adadecode.o adaint.o argv.o aux-io.o \t\t\t\\\n #  from ADA_INCLUDE_SRCS.\n \n LIBGNAT_SRCS = $(patsubst %.o,%.c,$(LIBGNAT_OBJS))\t\t\t\\\n-  adadecode.h adaint.h env.h gsocket.h raise.h\t\t\t\t\\\n+  adadecode.h adaint.h env.h gsocket.h raise.h standard.ads.h\t\t\\\n   tb-gcc.c thread.c $(EXTRA_LIBGNAT_SRCS)\n \n # GNATRTL_NONTASKING_OBJS and GNATRTL_TASKING_OBJS can be found in\n@@ -2705,11 +2708,6 @@ install-gcc-specs:\n \tdone\n \n install-gnatlib: ../stamp-gnatlib-$(RTSDIR) install-gcc-specs\n-#\tCreate the directory before deleting it, in case the directory is\n-#\ta list of directories (as it may be on VMS). This ensures we are\n-#\tdeleting the right one.\n-\t-$(MKDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n-\t-$(MKDIR) $(DESTDIR)$(ADA_INCLUDE_DIR)\n \t$(RMDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n \t$(RMDIR) $(DESTDIR)$(ADA_INCLUDE_DIR)\n \t-$(MKDIR) $(DESTDIR)$(ADA_RTL_OBJ_DIR)\n@@ -2745,7 +2743,7 @@ install-gnatlib: ../stamp-gnatlib-$(RTSDIR) install-gcc-specs\n \t   fi; \\\n \tdone\n # This copy must be done preserving the date on the original file.\n-\tfor file in $(RTSDIR)/*.ad?; do \\\n+\tfor file in $(RTSDIR)/*.ad[sb]*; do \\\n \t    $(INSTALL_DATA_DATE) $$file $(DESTDIR)$(ADA_INCLUDE_DIR); \\\n \tdone\n \tcd $(DESTDIR)$(ADA_INCLUDE_DIR); $(CHMOD) a-wx *.adb"}]}