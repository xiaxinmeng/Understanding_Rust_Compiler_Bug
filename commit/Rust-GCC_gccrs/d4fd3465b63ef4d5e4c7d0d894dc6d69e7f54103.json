{"sha": "d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRmZDM0NjViNjNlZjRkNWU0YzdkMGQ4OTRkYzZkNjllN2Y1NDEwMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2007-08-07T22:43:55Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-08-07T22:43:55Z"}, "message": "re PR rtl-optimization/32776 (ICE RTL check: expected code 'reg', have 'concatn' in rhs_regno, at rtl.h:972)\n\n\tPR rtl-optimization/32776\n\t* lower-subreg.c (resolve_clobber): Call resolve_reg_notes.\n\t(resolve_use): Likewise.\n\t(decompose_multiword_subregs): Remove \"changed\" local variable.\n\nFrom-SVN: r127282", "tree": {"sha": "35317e8ce965742d89bd2dfc7ea0f9271e85e464", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/35317e8ce965742d89bd2dfc7ea0f9271e85e464"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103/comments", "author": null, "committer": null, "parents": [{"sha": "9c94a88187cc8e42175d4357872eb53874350b18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c94a88187cc8e42175d4357872eb53874350b18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c94a88187cc8e42175d4357872eb53874350b18"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "374c15009aaa68e258a87e6d911038d933e84afe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "patch": "@@ -1,3 +1,10 @@\n+2007-08-07  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR rtl-optimization/32776\n+\t* lower-subreg.c (resolve_clobber): Call resolve_reg_notes.\n+\t(resolve_use): Likewise.\n+\t(decompose_multiword_subregs): Remove \"changed\" local variable.\n+\n 2007-08-07  Carlos O'Donell  <carlos@codesourcery.com>\n \n \t* configure.ac: Define HAVE_GNU_AS if $gas_flag is yes."}, {"sha": "c61a8b7759e9dd9b0c4675a443ecea90f916db28", "filename": "gcc/lower-subreg.c", "status": "modified", "additions": 7, "deletions": 15, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103/gcc%2Flower-subreg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103/gcc%2Flower-subreg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flower-subreg.c?ref=d4fd3465b63ef4d5e4c7d0d894dc6d69e7f54103", "patch": "@@ -936,6 +936,8 @@ resolve_clobber (rtx pat, rtx insn)\n       emit_insn_after (x, insn);\n     }\n \n+  resolve_reg_notes (insn);\n+\n   return true;\n }\n \n@@ -950,6 +952,9 @@ resolve_use (rtx pat, rtx insn)\n       delete_insn (insn);\n       return true;\n     }\n+\n+  resolve_reg_notes (insn);\n+\n   return false;\n }\n \n@@ -1251,25 +1256,17 @@ decompose_multiword_subregs (void)\n \t  FOR_BB_INSNS (bb, insn)\n \t    {\n \t      rtx next, pat;\n-\t      bool changed;\n \n \t      if (!INSN_P (insn))\n \t\tcontinue;\n \n \t      next = NEXT_INSN (insn);\n-\t      changed = false;\n \n \t      pat = PATTERN (insn);\n \t      if (GET_CODE (pat) == CLOBBER)\n-\t\t{\n-\t\t  if (resolve_clobber (pat, insn))\n-\t\t    changed = true;\n-\t\t}\n+\t\tresolve_clobber (pat, insn);\n \t      else if (GET_CODE (pat) == USE)\n-\t\t{\n-\t\t  if (resolve_use (pat, insn))\n-\t\t    changed = true;\n-\t\t}\n+\t\tresolve_use (pat, insn);\n \t      else\n \t\t{\n \t\t  rtx set;\n@@ -1302,8 +1299,6 @@ decompose_multiword_subregs (void)\n \t\t      insn = resolve_simple_move (set, insn);\n \t\t      if (insn != orig_insn)\n \t\t\t{\n-\t\t\t  changed = true;\n-\n \t\t\t  remove_retval_note (insn);\n \n \t\t\t  recog_memoized (insn);\n@@ -1320,7 +1315,6 @@ decompose_multiword_subregs (void)\n \t\t      decomposed_shift = resolve_shift_zext (insn);\n \t\t      if (decomposed_shift != NULL_RTX)\n \t\t\t{\n-\t\t\t  changed = true;\n \t\t\t  insn = decomposed_shift;\n \t\t\t  recog_memoized (insn);\n \t\t\t  extract_insn (insn);\n@@ -1349,8 +1343,6 @@ decompose_multiword_subregs (void)\n \t\t      gcc_assert (i);\n \n \t\t      remove_retval_note (insn);\n-\n-\t\t      changed = true;\n \t\t    }\n \t\t}\n \t    }"}]}