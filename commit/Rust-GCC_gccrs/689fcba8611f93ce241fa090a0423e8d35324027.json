{"sha": "689fcba8611f93ce241fa090a0423e8d35324027", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg5ZmNiYTg2MTFmOTNjZTI0MWZhMDkwYTA0MjNlOGQzNTMyNDAyNw==", "commit": {"author": {"name": "David S. Miller", "email": "davem@pierdol.cobaltmicro.com", "date": "1998-07-20T02:20:07Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "1998-07-20T02:20:07Z"}, "message": "jump.c (jump_optimize): When simplifying noop moves and PUSH_ROUNDING...\n\n\t* jump.c (jump_optimize): When simplifying noop moves and\n\tPUSH_ROUNDING, fix thinko so we use same criterion for identifying\n\tthe PUSHes to rewrite in second loop as we did in the first.\n\nFrom-SVN: r21302", "tree": {"sha": "44a2a3fbd45a6df0125b101c2070e85adb7f30ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/44a2a3fbd45a6df0125b101c2070e85adb7f30ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/689fcba8611f93ce241fa090a0423e8d35324027", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/689fcba8611f93ce241fa090a0423e8d35324027", "html_url": "https://github.com/Rust-GCC/gccrs/commit/689fcba8611f93ce241fa090a0423e8d35324027", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/689fcba8611f93ce241fa090a0423e8d35324027/comments", "author": null, "committer": null, "parents": [{"sha": "b7863d43dc50484ee12b2d02c627e4e70c3ce966", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7863d43dc50484ee12b2d02c627e4e70c3ce966", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7863d43dc50484ee12b2d02c627e4e70c3ce966"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "b2867b12c6dab324af4d84786ca1ca0607ea6f8f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/689fcba8611f93ce241fa090a0423e8d35324027/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/689fcba8611f93ce241fa090a0423e8d35324027/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=689fcba8611f93ce241fa090a0423e8d35324027", "patch": "@@ -1,3 +1,9 @@\n+Mon Jul 20 01:11:11 1998  David S. Miller  <davem@pierdol.cobaltmicro.com>\n+\n+\t* jump.c (jump_optimize): When simplifying noop moves and\n+\tPUSH_ROUNDING, fix thinko so we use same criterion for identifying\n+\tthe PUSHes to rewrite in second loop as we did in the first.\n+\n Sun Jul 19 08:23:53 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* cplus-dem.c (demangle_nested_args): Make function definition"}, {"sha": "dfc4ae64c3e16b5fb096a18bc1f9d83e7ff5f726", "filename": "gcc/jump.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/689fcba8611f93ce241fa090a0423e8d35324027/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/689fcba8611f93ce241fa090a0423e8d35324027/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=689fcba8611f93ce241fa090a0423e8d35324027", "patch": "@@ -402,9 +402,14 @@ jump_optimize (f, cross_jump, noop_moves, after_regscan)\n \t\t    if (GET_CODE (p) != INSN)\n \t\t      break;\n \t\t    pbody = PATTERN (p);\n-\t\t    if (GET_CODE (pbody) == SET)\n+\t\t    if (GET_CODE (pbody) != SET)\n \t\t      break;\n \t\t    dest = SET_DEST (pbody);\n+\t\t    /* Allow a no-op move between the adjust and the push.  */\n+\t\t    if (GET_CODE (dest) == REG\n+\t\t\t&& GET_CODE (SET_SRC (pbody)) == REG\n+\t\t\t&& REGNO (dest) == REGNO (SET_SRC (pbody)))\n+\t\t      continue;\n \t\t    if (! (GET_CODE (dest) == MEM\n \t\t\t   && GET_CODE (XEXP (dest, 0)) == POST_INC\n \t\t\t   && XEXP (XEXP (dest, 0), 0) == stack_pointer_rtx))"}]}