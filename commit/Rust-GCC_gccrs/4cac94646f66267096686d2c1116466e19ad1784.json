{"sha": "4cac94646f66267096686d2c1116466e19ad1784", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNhYzk0NjQ2ZjY2MjY3MDk2Njg2ZDJjMTExNjQ2NmUxOWFkMTc4NA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-12-18T15:07:48Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-12-18T15:07:48Z"}, "message": "typeck.c (unary_complex_lvalue): Ignore op0 when taking the address of an OFFSET_REF.\n\n\t* typeck.c (unary_complex_lvalue): Ignore op0 when taking the\n\taddress of an OFFSET_REF.\n\nFrom-SVN: r17134", "tree": {"sha": "9a443a45d10f188ad434141689f4815f85dcdddc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a443a45d10f188ad434141689f4815f85dcdddc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cac94646f66267096686d2c1116466e19ad1784", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cac94646f66267096686d2c1116466e19ad1784", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cac94646f66267096686d2c1116466e19ad1784", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cac94646f66267096686d2c1116466e19ad1784/comments", "author": null, "committer": null, "parents": [{"sha": "bb1b857adc8b49eae4e5a7f5f46984450555dc33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb1b857adc8b49eae4e5a7f5f46984450555dc33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb1b857adc8b49eae4e5a7f5f46984450555dc33"}], "stats": {"total": 14, "additions": 4, "deletions": 10}, "files": [{"sha": "ca47cfdbb9e312d42c3bd4250769bba3b16b9f3c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cac94646f66267096686d2c1116466e19ad1784/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cac94646f66267096686d2c1116466e19ad1784/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4cac94646f66267096686d2c1116466e19ad1784", "patch": "@@ -1,5 +1,8 @@\n Thu Dec 18 14:43:19 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* typeck.c (unary_complex_lvalue): Ignore op0 when taking the \n+\taddress of an OFFSET_REF.\n+\n \t* cp-tree.def: Add AGGR_INIT_EXPR.\n \t* error.c, tree.c, typeck.c: Replace uses of NEW_EXPR with\n \tAGGR_INIT_EXPR where appropriate."}, {"sha": "525124170386b1bb01f51a2e771df95e12fa8291", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cac94646f66267096686d2c1116466e19ad1784/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cac94646f66267096686d2c1116466e19ad1784/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=4cac94646f66267096686d2c1116466e19ad1784", "patch": "@@ -4672,16 +4672,7 @@ unary_complex_lvalue (code, arg)\n \t\treturn error_mark_node;\n \t      }\n \n-\t  type = TREE_TYPE (TREE_OPERAND (arg, 0));\n-\n-\t  if (TREE_CODE (TREE_TYPE (arg)) == OFFSET_TYPE)\n-\t    {\n-\t      /* Add in the offset to the intermediate subobject, if any.  */\n-\t      offset = get_delta_difference (TYPE_OFFSET_BASETYPE (TREE_TYPE (arg)),\n-\t\t\t\t\t     type,\n-\t\t\t\t\t     0);\n-\t      type = TYPE_OFFSET_BASETYPE (TREE_TYPE (arg));\n-\t    }\n+\t  type = TYPE_OFFSET_BASETYPE (TREE_TYPE (arg));\n \n \t  /* Now in the offset to the final subobject.  */\n \t  offset = size_binop (PLUS_EXPR,"}]}