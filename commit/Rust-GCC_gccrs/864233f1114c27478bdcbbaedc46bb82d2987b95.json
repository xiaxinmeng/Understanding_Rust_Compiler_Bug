{"sha": "864233f1114c27478bdcbbaedc46bb82d2987b95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY0MjMzZjExMTRjMjc0NzhiZGNiYmFlZGM0NmJiODJkMjk4N2I5NQ==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2019-11-27T14:24:47Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2019-11-27T14:24:47Z"}, "message": "re PR rtl-optimization/90007 (ICE in extract_constrain_insn_cached, at recog.c:2223)\n\n2019-11-27  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR rtl-optimization/90007\n\t* recog.c (constrain_operands): Permit hard registers too for\n\tmemory when LRA is used.\n\n2019-11-27  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR rtl-optimization/90007\n\t* gcc.target/i386/pr90007.c: New test.\n\nFrom-SVN: r278770", "tree": {"sha": "16e8cdcd5a574084b58a563d35df988b36ec72fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16e8cdcd5a574084b58a563d35df988b36ec72fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/864233f1114c27478bdcbbaedc46bb82d2987b95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/864233f1114c27478bdcbbaedc46bb82d2987b95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/864233f1114c27478bdcbbaedc46bb82d2987b95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/864233f1114c27478bdcbbaedc46bb82d2987b95/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1906392b2c9a02da82d1739386219ec0f13bcc33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1906392b2c9a02da82d1739386219ec0f13bcc33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1906392b2c9a02da82d1739386219ec0f13bcc33"}], "stats": {"total": 31, "additions": 28, "deletions": 3}, "files": [{"sha": "f2cacc047d832998878af32c8428eb6cc7d39f18", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=864233f1114c27478bdcbbaedc46bb82d2987b95", "patch": "@@ -1,3 +1,9 @@\n+2019-11-27  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR rtl-optimization/90007\n+\t* recog.c (constrain_operands): Permit hard registers too for\n+\tmemory when LRA is used.\n+\n 2019-11-27  Bernd Schmidt  <bernds_cb1@t-online.de>\n \n \t* config/m68k/m68k.c (m68k_output_compare_fp): Restore differences"}, {"sha": "1b76503323a15581d13994ac892b1138b82aa277", "filename": "gcc/recog.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=864233f1114c27478bdcbbaedc46bb82d2987b95", "patch": "@@ -2740,10 +2740,9 @@ constrain_operands (int strict, alternative_mask alternatives)\n \t\t\t       /* Before reload, accept what reload can turn\n \t\t\t\t  into a mem.  */\n \t\t\t       || (strict < 0 && CONSTANT_P (op))\n-\t\t\t       /* Before reload, accept a pseudo,\n+\t\t\t       /* Before reload, accept a pseudo or hard register,\n \t\t\t\t  since LRA can turn it into a mem.  */\n-\t\t\t       || (strict < 0 && targetm.lra_p () && REG_P (op)\n-\t\t\t\t   && REGNO (op) >= FIRST_PSEUDO_REGISTER)\n+\t\t\t       || (strict < 0 && targetm.lra_p () && REG_P (op))\n \t\t\t       /* During reload, accept a pseudo  */\n \t\t\t       || (reload_in_progress && REG_P (op)\n \t\t\t\t   && REGNO (op) >= FIRST_PSEUDO_REGISTER)))"}, {"sha": "39728cf82ca13efb40e49bbe9edf1e2a72dfd005", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=864233f1114c27478bdcbbaedc46bb82d2987b95", "patch": "@@ -1,3 +1,8 @@\n+2019-11-27  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR rtl-optimization/90007\n+\t* gcc.target/i386/pr90007.c: New test.\n+\n 2019-11-27  Andrew Sutton  <asutton@lock3software.com>\n \n \tEmit hard errors for certain satisfaction errors."}, {"sha": "a16eec308fb3851c1cdafd10b9b9fde0a0268767", "filename": "gcc/testsuite/gcc.target/i386/pr90007.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90007.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/864233f1114c27478bdcbbaedc46bb82d2987b95/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90007.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr90007.c?ref=864233f1114c27478bdcbbaedc46bb82d2987b95", "patch": "@@ -0,0 +1,15 @@\n+/* PR rtl-optimization/90007 */\n+/* { dg-do compile { target x86_64-*-* } } */\n+/* { dg-options \"-march=bdver1 -mfpmath=387 -O1 -fschedule-insns -fselective-scheduling\" } */\n+\n+void\n+qj (int b9, int r9, int k4, int k0, int e7)\n+{\n+  (void) b9;\n+  (void) r9;\n+  (void) k4;\n+\n+  while (!!k0 == e7 * 1.1)\n+    {\n+    }\n+}"}]}