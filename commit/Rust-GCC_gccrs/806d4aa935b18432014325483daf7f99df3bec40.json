{"sha": "806d4aa935b18432014325483daf7f99df3bec40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA2ZDRhYTkzNWIxODQzMjAxNDMyNTQ4M2RhZjdmOTlkZjNiZWM0MA==", "commit": {"author": {"name": "Gerald Baumgartner", "email": "gb@alexander.cs.purdue.edu", "date": "1995-06-19T16:53:29Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-19T16:53:29Z"}, "message": "(start_function): If current_class_decl is a signature pointer...\n\n(start_function): If current_class_decl is a signature pointer, don't\ndereference it but set C_C_D to current_class_decl.\n\nFrom-SVN: r9999", "tree": {"sha": "082abcaa5781b9da8037e59c2e7d9af4713d2878", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/082abcaa5781b9da8037e59c2e7d9af4713d2878"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/806d4aa935b18432014325483daf7f99df3bec40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806d4aa935b18432014325483daf7f99df3bec40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/806d4aa935b18432014325483daf7f99df3bec40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/806d4aa935b18432014325483daf7f99df3bec40/comments", "author": null, "committer": null, "parents": [{"sha": "905ab3ced07eea8d23643bf89ad52bd509011a93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/905ab3ced07eea8d23643bf89ad52bd509011a93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/905ab3ced07eea8d23643bf89ad52bd509011a93"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "4dfff7e50d8b8649f0831442efae6c92dc60d694", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/806d4aa935b18432014325483daf7f99df3bec40/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/806d4aa935b18432014325483daf7f99df3bec40/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=806d4aa935b18432014325483daf7f99df3bec40", "patch": "@@ -11206,16 +11206,24 @@ start_function (declspecs, declarator, raises, pre_parsed_p)\n \t     we keep the consistency between `current_class_type'\n \t     and `current_class_decl'.  */\n \t  tree t = last_function_parms;\n-\t  int i = suspend_momentary ();\n \n \t  my_friendly_assert (t != NULL_TREE\n \t\t\t      && TREE_CODE (t) == PARM_DECL, 162);\n \n-\t  /* Fool build_indirect_ref.  */\n-\t  current_class_decl = NULL_TREE;\n-\t  C_C_D = build_indirect_ref (t, NULL_PTR);\n-\t  current_class_decl = t;\n-\t  resume_momentary (i);\n+\t  if (TREE_CODE (TREE_TYPE (t)) == POINTER_TYPE)\n+\t    {\n+\t      int i = suspend_momentary ();\n+\n+\t      /* Fool build_indirect_ref.  */\n+\t      current_class_decl = NULL_TREE;\n+\t      C_C_D = build_indirect_ref (t, NULL_PTR);\n+\t      current_class_decl = t;\n+\t      resume_momentary (i);\n+\t    }\n+\t  else\n+\t    /* We're having a signature pointer here.  */\n+\t    C_C_D = current_class_decl = t;\n+\n \t}\n     }\n   else"}]}