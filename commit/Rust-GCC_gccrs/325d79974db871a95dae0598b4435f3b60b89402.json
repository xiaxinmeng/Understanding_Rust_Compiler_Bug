{"sha": "325d79974db871a95dae0598b4435f3b60b89402", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI1ZDc5OTc0ZGI4NzFhOTVkYWUwNTk4YjQ0MzVmM2I2MGI4OTQwMg==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2010-07-06T23:44:55Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2010-07-06T23:44:55Z"}, "message": "re PR rtl-optimization/44787 (internal compiler error: in reload_cse_simplify_operands, at postreload.c:395)\n\n\tPR rtl-optimization/44787\n\t* config/arm/arm.md (arith_shiftsi): Allow stack pointer in operand 2.\n\t* config/arm/thumb2.md (thumb2_arith_shiftsi): Likewise.\n\ntestsuite/\n\tPR rtl-optimization/44787\n\t* gcc.c-torture/compile/pr44788.c: New test.\n\t* gcc.target/arm/pr44788.c: New test.\n\nFrom-SVN: r161893", "tree": {"sha": "ed80adf1d983be206d71c3ae45f5eb3b1e8d0444", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed80adf1d983be206d71c3ae45f5eb3b1e8d0444"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/325d79974db871a95dae0598b4435f3b60b89402", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/325d79974db871a95dae0598b4435f3b60b89402", "html_url": "https://github.com/Rust-GCC/gccrs/commit/325d79974db871a95dae0598b4435f3b60b89402", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/325d79974db871a95dae0598b4435f3b60b89402/comments", "author": null, "committer": null, "parents": [{"sha": "604b91240e4f3a1b5c97681b575389addf3dd638", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604b91240e4f3a1b5c97681b575389addf3dd638", "html_url": "https://github.com/Rust-GCC/gccrs/commit/604b91240e4f3a1b5c97681b575389addf3dd638"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "6d32d9a623cbbca12d67dfc1a3fb34c2078943ad", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -1,3 +1,9 @@\n+2010-07-07  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\tPR rtl-optimization/44787\n+\t* config/arm/arm.md (arith_shiftsi): Allow stack pointer in operand 2.\n+\t* config/arm/thumb2.md (thumb2_arith_shiftsi): Likewise.\n+\n 2010-07-06  Jan Hubicka  <jh@suse.cz>\n \n \t* lto-symtab.c (lto_cgraph_replace_node): Handle aliases."}, {"sha": "f36a56c9914dbad68bd2622c4935f09e1e38250c", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -9122,7 +9122,7 @@\n           [(match_operator:SI 3 \"shift_operator\"\n              [(match_operand:SI 4 \"s_register_operand\" \"r\")\n               (match_operand:SI 5 \"reg_or_int_operand\" \"rI\")])\n-           (match_operand:SI 2 \"s_register_operand\" \"r\")]))]\n+           (match_operand:SI 2 \"s_register_operand\" \"rk\")]))]\n   \"TARGET_ARM\"\n   \"%i1%?\\\\t%0, %2, %4%S3\"\n   [(set_attr \"predicable\" \"yes\")"}, {"sha": "2e03b8d643083fe2673f022b016b8f1ad7bd16a6", "filename": "gcc/config/arm/thumb2.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Fconfig%2Farm%2Fthumb2.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Fconfig%2Farm%2Fthumb2.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb2.md?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -467,7 +467,7 @@\n           [(match_operator:SI 3 \"shift_operator\"\n              [(match_operand:SI 4 \"s_register_operand\" \"r\")\n               (match_operand:SI 5 \"const_int_operand\" \"M\")])\n-           (match_operand:SI 2 \"s_register_operand\" \"r\")]))]\n+           (match_operand:SI 2 \"s_register_operand\" \"rk\")]))]\n   \"TARGET_THUMB2\"\n   \"%i1%?\\\\t%0, %2, %4%S3\"\n   [(set_attr \"predicable\" \"yes\")"}, {"sha": "ccb722d05c3ccbb20055aa09d94d60f8db97c0f2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -1,3 +1,9 @@\n+2010-07-07  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\tPR rtl-optimization/44787\n+\t* gcc.c-torture/compile/pr44788.c: New test.\n+\t* gcc.target/arm/pr44788.c: New test.\n+\n 2010-07-06  Peter Bergner  <bergner@vnet.ibm.com>\n \n \t* gcc.target/powerpc/altivec-volatile.c: Adjust expected warning."}, {"sha": "99dc79823947dcdc763ec37e5aacdca634fd89f9", "filename": "gcc/testsuite/gcc.c-torture/compile/pr44788.c", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44788.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44788.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr44788.c?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -0,0 +1,8 @@\n+void joint_decode(float* mlt_buffer1, int t) {\n+    int i;\n+    float decode_buffer[1060];\n+    foo(decode_buffer);\n+    for (i=0; i<10 ; i++) {\n+        mlt_buffer1[i] = i * decode_buffer[t];\n+    }\n+}"}, {"sha": "eb4bc11af9f5cea265208dc14ad04c2b7410237d", "filename": "gcc/testsuite/gcc.target/arm/pr44788.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr44788.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/325d79974db871a95dae0598b4435f3b60b89402/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr44788.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr44788.c?ref=325d79974db871a95dae0598b4435f3b60b89402", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-require-effective-target arm_thumb2_ok } */\n+/* { dg-options \"-Os -fno-strict-aliasing -fPIC -mthumb -march=armv7-a -mfpu=vfp3 -mfloat-abi=softfp\" } */\n+\n+void joint_decode(float* mlt_buffer1, int t) {\n+    int i;\n+    float decode_buffer[1060];\n+    foo(decode_buffer);\n+    for (i=0; i<10 ; i++) {\n+        mlt_buffer1[i] = i * decode_buffer[t];\n+    }\n+}"}]}