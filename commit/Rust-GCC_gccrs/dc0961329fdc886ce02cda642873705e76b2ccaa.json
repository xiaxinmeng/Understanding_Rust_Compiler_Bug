{"sha": "dc0961329fdc886ce02cda642873705e76b2ccaa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGMwOTYxMzI5ZmRjODg2Y2UwMmNkYTY0Mjg3MzcwNWU3NmIyY2NhYQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2007-08-14T08:41:26Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-08-14T08:41:26Z"}, "message": "sem_elim.adb (Set_Eliminated): Ignore pragma Eliminate for dispatching operation\n\n2007-08-14  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_elim.adb (Set_Eliminated): Ignore pragma Eliminate for\n\tdispatching operation\n\nFrom-SVN: r127428", "tree": {"sha": "58e67ec02c18367eec20cf7cd4efe2621e4befce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58e67ec02c18367eec20cf7cd4efe2621e4befce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc0961329fdc886ce02cda642873705e76b2ccaa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc0961329fdc886ce02cda642873705e76b2ccaa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc0961329fdc886ce02cda642873705e76b2ccaa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc0961329fdc886ce02cda642873705e76b2ccaa/comments", "author": null, "committer": null, "parents": [{"sha": "1b6c95c49fdf70bbeed275351896b734bb80950f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b6c95c49fdf70bbeed275351896b734bb80950f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b6c95c49fdf70bbeed275351896b734bb80950f"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "13b2fc68f509eb8f051c5f53c4eb7e9d9a49d82c", "filename": "gcc/ada/sem_elim.adb", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc0961329fdc886ce02cda642873705e76b2ccaa/gcc%2Fada%2Fsem_elim.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc0961329fdc886ce02cda642873705e76b2ccaa/gcc%2Fada%2Fsem_elim.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_elim.adb?ref=dc0961329fdc886ce02cda642873705e76b2ccaa", "patch": "@@ -274,10 +274,20 @@ package body Sem_Elim is\n             procedure Set_Eliminated;\n             --  Set current subprogram entity as eliminated\n \n+            --------------------\n+            -- Set_Eliminated --\n+            --------------------\n+\n             procedure Set_Eliminated is\n             begin\n-               Set_Is_Eliminated (E);\n-               Elim_Entities.Append ((Prag => Elmt.Prag, Subp => E));\n+               --  Never try to eliminate dispatching operation, since we\n+               --  can't properly process the eliminated result. This could\n+               --  be fixed, but is not worth it.\n+\n+               if not Is_Dispatching_Operation (E) then\n+                  Set_Is_Eliminated (E);\n+                  Elim_Entities.Append ((Prag => Elmt.Prag, Subp => E));\n+               end if;\n             end Set_Eliminated;\n \n          begin\n@@ -537,6 +547,7 @@ package body Sem_Elim is\n                            end if;\n \n                            return True;\n+\n                         else\n                            return False;\n                         end if;\n@@ -547,9 +558,10 @@ package body Sem_Elim is\n                      -----------------\n \n                      function Skip_Spaces return Natural is\n-                        Res : Natural := Idx;\n+                        Res : Natural;\n \n                      begin\n+                        Res := Idx;\n                         while Sloc_Trace (Res) = ' ' loop\n                            Res := Res + 1;\n "}]}