{"sha": "62520b200418a0fe365740c18da27f1b0c852315", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI1MjBiMjAwNDE4YTBmZTM2NTc0MGMxOGRhMjdmMWIwYzg1MjMxNQ==", "commit": {"author": {"name": "Bud Davis", "email": "bdavis9659@comcast.net", "date": "2003-04-11T21:33:48Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2003-04-11T21:33:48Z"}, "message": "re PR fortran/9263 (ICE caused by invalid PARAMETER in implied DO loop)\n\n2003-04-11  Bud Davis <bdavis9659@comcast.net>\n\n\tPR Fortran/9263\n\t* gcc/f/data.c (ffedata_advance_): Check initial, final and\n\tincrement values for INTEGER typeness.\n\tPR Fortran/1832\n\t* libf2c/libI77/iio.c (z_putc): Check for overflowing length\n\tof output string.\n\t* gcc/f/news.texi: Document these fixes.\n\tPR Fortran/9263\n\t* g77.f-torture/noncompile/9263.f: New test\n\tPR Fortran/1832\n\t* g77.f-torture/execute/1832.f: New test\n\nFrom-SVN: r65481", "tree": {"sha": "9447e72ba92ded418534b60dfb93b17733812cfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9447e72ba92ded418534b60dfb93b17733812cfc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62520b200418a0fe365740c18da27f1b0c852315", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62520b200418a0fe365740c18da27f1b0c852315", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62520b200418a0fe365740c18da27f1b0c852315", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62520b200418a0fe365740c18da27f1b0c852315/comments", "author": null, "committer": null, "parents": [{"sha": "2ae5ae57ba6177af4fe8ba2951e8864c6bdb7c87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ae5ae57ba6177af4fe8ba2951e8864c6bdb7c87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ae5ae57ba6177af4fe8ba2951e8864c6bdb7c87"}], "stats": {"total": 74, "additions": 69, "deletions": 5}, "files": [{"sha": "d6ff7194b19818cdbc2718be91f435a491869623", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -1,3 +1,10 @@\n+2003-04-11  Bud Davis <bdavis9659@comcast.net>\n+\n+\tPR Fortran/9263\n+\t* gcc/f/data.c (ffedata_advance_): Check initial, final and\n+\tincrement values for INTEGER typeness.\n+\t* gcc/f/news.texi: Document these fixes.\n+\n 2003-03-27  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* ffe.texi: Don't mention dead file proj.c."}, {"sha": "91b835dbc605ce3bcfff576b054e09403a49eca2", "filename": "gcc/f/data.c", "status": "modified", "additions": 28, "deletions": 3, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2Fdata.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2Fdata.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fdata.c?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -1,5 +1,5 @@\n /* data.c -- Implementation File (module.c template V1.0)\n-   Copyright (C) 1995, 1996, 2002 Free Software Foundation, Inc.\n+   Copyright (C) 1995, 1996, 2002, 2003 Free Software Foundation, Inc.\n    Contributed by James Craig Burley.\n \n This file is part of GNU Fortran.\n@@ -591,13 +591,29 @@ ffedata_advance_ ()\n \tassert (ffeinfo_kindtype (ffebld_info (itervar))\n \t\t== FFEINFO_kindtypeINTEGERDEFAULT);\n \tffedata_stack_->itervar = ffebld_symter (itervar);\n-\n+\tif (ffeinfo_basictype (ffebld_info (start)) != FFEINFO_basictypeINTEGER)\n+\t  {\n+\t    ffebad_start (FFEBAD_DATA_EVAL);\n+\t    ffest_ffebad_here_current_stmt (0);\n+\t    ffebad_finish ();\n+\t    ffedata_pop_ ();\n+\t    ffedata_reported_error_ = TRUE;\n+\t    return FALSE;\n+\t  }\n \tassert (ffeinfo_basictype (ffebld_info (start))\n \t\t== FFEINFO_basictypeINTEGER);\n \tassert (ffeinfo_kindtype (ffebld_info (start))\n \t\t== FFEINFO_kindtypeINTEGERDEFAULT);\n \tffesymbol_set_value (ffedata_stack_->itervar, ffedata_eval_integer1_ (start));\n-\n+\tif (ffeinfo_basictype (ffebld_info (end)) != FFEINFO_basictypeINTEGER)\n+\t  {\n+\t    ffebad_start (FFEBAD_DATA_EVAL);\n+\t    ffest_ffebad_here_current_stmt (0);\n+\t    ffebad_finish ();\n+\t    ffedata_pop_ ();\n+\t    ffedata_reported_error_ = TRUE;\n+\t    return FALSE;\n+\t  }\n \tassert (ffeinfo_basictype (ffebld_info (end))\n \t\t== FFEINFO_basictypeINTEGER);\n \tassert (ffeinfo_kindtype (ffebld_info (end))\n@@ -608,6 +624,15 @@ ffedata_advance_ ()\n \t  ffedata_stack_->increment = 1;\n \telse\n \t  {\n+\t    if (ffeinfo_basictype (ffebld_info (incr)) != FFEINFO_basictypeINTEGER)\n+\t      {\n+\t\tffebad_start (FFEBAD_DATA_EVAL);\n+\t\tffest_ffebad_here_current_stmt (0);\n+\t\tffebad_finish ();\n+\t\tffedata_pop_ ();\n+\t\tffedata_reported_error_ = TRUE;\n+\t\treturn FALSE;\n+\t      }\n \t    assert (ffeinfo_basictype (ffebld_info (incr))\n \t\t    == FFEINFO_basictypeINTEGER);\n \t    assert (ffeinfo_kindtype (ffebld_info (incr))"}, {"sha": "27edb02dcaa14ca156d829667f9e21eb8de13c92", "filename": "gcc/f/news.texi", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2Fnews.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ff%2Fnews.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fnews.texi?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -11,7 +11,7 @@\n @c in the standalone derivations of this file (e.g. NEWS).\n @set copyrights-news 1995,1996,1997,1998,1999,2000,2001,2002,2003\n \n-@set last-update-news 2003-03-24\n+@set last-update-news 2003-04-11\n \n @ifset DOC-NEWS\n @include root.texi\n@@ -164,6 +164,8 @@ Nothing yet.\n @item\n Problem Reports fixed (in chronological order of submission):\n @table @code\n+@item 1832\n+-list directed i/o overflow hangs, -fbounds-check doesn't detect\n @item 3924\n g77 generates code which is rejected by GAS if COFF debugging info is\n requested\n@@ -191,6 +193,8 @@ Incorrect output with 0-based array of characters\n Double complex zero ** double precision number -> NaN instead of zero\n @item 9038\n -ffixed-line-length-none -x f77-cpp-input gives: Warning: unknown register name line-length-none\n+@item 9263\n+ICE caused by invalid PARAMETER in implied DO loop\n @item 10197\n Direct access files not unformatted by default\n @end table"}, {"sha": "99bfa5fce9f3b5e41fe1693af148d8b3d10dbecc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -1,3 +1,10 @@\n+2003-04-11  Bud Davis <bdavis9659@comcast.net>\n+\n+\tPR Fortran/9263\n+\t* g77.f-torture/noncompile/9263.f: New test\n+\tPR Fortran/1832\n+\t* g77.f-torture/execute/1832.f: New test\n+\n 2003-04-11  David Chad  <davidc@freebsd.org>\n \t    Loren J. Rittle  <ljrittle@acm.org>\n "}, {"sha": "9ae1ca9fb27440d83e87bd8e09f8f480badf9ea7", "filename": "gcc/testsuite/g77.f-torture/execute/1832.f", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2Fg77.f-torture%2Fexecute%2F1832.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2Fg77.f-torture%2Fexecute%2F1832.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg77.f-torture%2Fexecute%2F1832.f?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -0,0 +1,8 @@\n+      character*120 file\n+      character*5   string\n+      file = \"c:/dos/adir/bdir/cdir/text.doc\"\n+      write(string, *) \"a \", file\n+      if (string .ne. ' a') call abort\n+C-- The leading space is normal for list-directed output\n+C-- \"file\" is not printed because it would overflow \"string\".\n+      end"}, {"sha": "e68b3e0a65fffad771b183d1f129c8b3d2031c6d", "filename": "gcc/testsuite/g77.f-torture/noncompile/9263.f", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2Fg77.f-torture%2Fnoncompile%2F9263.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/gcc%2Ftestsuite%2Fg77.f-torture%2Fnoncompile%2F9263.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg77.f-torture%2Fnoncompile%2F9263.f?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -0,0 +1,7 @@\n+      PARAMETER (Q=1)\n+      PARAMETER (P=10)\n+      INTEGER C(10),D(10),E(10),F(10)\n+      DATA (C(I),I=1,P)      /10*10/  ! TERMINAL NOT INTEGER\n+      DATA (D(I),I=Q,10)     /10*10/  ! START NOT INTEGER\n+      DATA (E(I),I=1,10,Q)   /10*10/  ! INCREMENT NOT INTEGER\n+      END"}, {"sha": "81741ddbe14752739441790cba598ad4b728d88e", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -1,3 +1,9 @@\n+2003-04-11  Bud Davis <bdavis9659@comcast.net>\n+\n+\tPR Fortran/1832\n+\t* libf2c/libI77/iio.c (z_putc): Check for overflowing length\n+\tof output string.\n+\n 2003-03-24  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR fortran/10197"}, {"sha": "940cbf82f91c56d02601aee62a0a8668064fdb8f", "filename": "libf2c/libI77/iio.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62520b200418a0fe365740c18da27f1b0c852315/libf2c%2FlibI77%2Fiio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62520b200418a0fe365740c18da27f1b0c852315/libf2c%2FlibI77%2Fiio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2Fiio.c?ref=62520b200418a0fe365740c18da27f1b0c852315", "patch": "@@ -21,7 +21,7 @@ z_getc (void)\n void\n z_putc (int c)\n {\n-  if (f__icptr < f__icend && f__recpos++ < f__svic->icirlen)\n+  if (f__recpos++ < f__svic->icirlen && f__icptr < f__icend)\n     *f__icptr++ = c;\n }\n int"}]}