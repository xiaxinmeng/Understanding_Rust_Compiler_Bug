{"sha": "4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ0ZDdjMGU3ZjFhZmYyYzEwZDczNWZmODA5ZTJlYTk3NDRmMTcxZA==", "commit": {"author": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1994-08-19T15:36:22Z"}, "committer": {"name": "Kresten Krab Thorup", "email": "krab@gcc.gnu.org", "date": "1994-08-19T15:36:22Z"}, "message": "(build_selector_translation_table): Reset current_function_decl after hack_function_prototype build it.\n\n(build_selector_translation_table): Reset\ncurrent_function_decl after hack_function_prototype build it.\n(build_module_descriptor): Return constructor name from functions\ndecl_rtl.\n\nFrom-SVN: r7944", "tree": {"sha": "10f65fbffa9b84cc70b0b70b83fa98a16896d29f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10f65fbffa9b84cc70b0b70b83fa98a16896d29f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d/comments", "author": null, "committer": null, "parents": [{"sha": "0059501924049e53b3a019bacfe12eff6a1827a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0059501924049e53b3a019bacfe12eff6a1827a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0059501924049e53b3a019bacfe12eff6a1827a3"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "b62ac123e927c9baf8e8921fbbd4370d13e8fb4a", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=4d4d7c0e7f1aff2c10d735ff809e2ea9744f171d", "patch": "@@ -1569,10 +1569,11 @@ build_module_descriptor ()\n \n     TREE_PUBLIC (current_function_decl) = 1;\n \n+    function_decl = current_function_decl;\n     finish_function (0);\n \n     /* Return the name of the constructor function.  */\n-    return IDENTIFIER_POINTER (init_function_name);\n+    return XSTR (XEXP (DECL_RTL (function_decl), 0), 0);\n   }\n }\n \n@@ -1787,6 +1788,7 @@ build_selector_translation_table ()\n       initlist = build_constructor (TREE_TYPE (UOBJC_SELECTOR_TABLE_decl),\n \t\t\t\t    nreverse (initlist));\n       finish_decl (UOBJC_SELECTOR_TABLE_decl, initlist, NULLT);\n+      current_function_decl = NULLT;\n     }\n }\n "}]}