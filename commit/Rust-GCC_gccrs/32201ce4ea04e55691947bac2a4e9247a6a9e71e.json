{"sha": "32201ce4ea04e55691947bac2a4e9247a6a9e71e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzIyMDFjZTRlYTA0ZTU1NjkxOTQ3YmFjMmE0ZTkyNDdhNmE5ZTcxZQ==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@issan.cs.uni-dortmund.de", "date": "1998-11-25T04:06:42Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "1998-11-25T04:06:42Z"}, "message": "lex.c (make_lang_type): Clear the whole struct lang_type, not only the first multiple of sizeof (int).\n\n\t* lex.c (make_lang_type): Clear the whole struct lang_type, not\n\tonly the first multiple of sizeof (int).\n\nFrom-SVN: r23848", "tree": {"sha": "86a64554c807b55d5fdea1aeebaa1f8bc41fdb0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86a64554c807b55d5fdea1aeebaa1f8bc41fdb0e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32201ce4ea04e55691947bac2a4e9247a6a9e71e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32201ce4ea04e55691947bac2a4e9247a6a9e71e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32201ce4ea04e55691947bac2a4e9247a6a9e71e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32201ce4ea04e55691947bac2a4e9247a6a9e71e/comments", "author": null, "committer": null, "parents": [{"sha": "84e6233f15d47c617c868750ca27adf2e772126d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84e6233f15d47c617c868750ca27adf2e772126d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84e6233f15d47c617c868750ca27adf2e772126d"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "940d106dedc938bbcff7af221539e022011598fc", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32201ce4ea04e55691947bac2a4e9247a6a9e71e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32201ce4ea04e55691947bac2a4e9247a6a9e71e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=32201ce4ea04e55691947bac2a4e9247a6a9e71e", "patch": "@@ -1,3 +1,8 @@\n+1998-11-25  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>\n+\n+\t* lex.c (make_lang_type): Clear the whole struct lang_type, not\n+\tonly the first multiple of sizeof (int).\n+\n 1998-11-24  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* decl.c (start_decl): An explicit specialization of a static data"}, {"sha": "5d9fc80969f2ef833e81bbe7b80901f4fc510e17", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32201ce4ea04e55691947bac2a4e9247a6a9e71e/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32201ce4ea04e55691947bac2a4e9247a6a9e71e/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=32201ce4ea04e55691947bac2a4e9247a6a9e71e", "patch": "@@ -4677,21 +4677,19 @@ make_lang_type (code)\n   if (IS_AGGR_TYPE_CODE (code))\n     {\n       struct obstack *obstack = current_obstack;\n-      register int i = sizeof (struct lang_type) / sizeof (int);\n-      register int *pi;\n-      \n+      struct lang_type *pi;\n+\n       SET_IS_AGGR_TYPE (t, 1);\n \n       if (! TREE_PERMANENT (t))\n \tobstack = saveable_obstack;\n       else\n \tmy_friendly_assert (obstack == &permanent_obstack, 236);\n \n-      pi = (int *) obstack_alloc (obstack, sizeof (struct lang_type));\n-      while (i > 0)\n-\tpi[--i] = 0;\n+      pi = (struct lang_type *) obstack_alloc (obstack, sizeof (struct lang_type));\n+      bzero ((char *) pi, (int) sizeof (struct lang_type));\n \n-      TYPE_LANG_SPECIFIC (t) = (struct lang_type *) pi;\n+      TYPE_LANG_SPECIFIC (t) = pi;\n       CLASSTYPE_AS_LIST (t) = build_expr_list (NULL_TREE, t);\n       SET_CLASSTYPE_INTERFACE_UNKNOWN_X (t, interface_unknown);\n       CLASSTYPE_INTERFACE_ONLY (t) = interface_only;"}]}