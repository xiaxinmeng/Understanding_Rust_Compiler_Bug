{"sha": "f03f16b2b3e23cc54aa689c786037123ac8c9094", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjAzZjE2YjJiM2UyM2NjNTRhYTY4OWM3ODYwMzcxMjNhYzhjOTA5NA==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.org", "date": "2008-03-21T20:49:25Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2008-03-21T20:49:25Z"}, "message": "re PR bootstrap/35660 (Bootstrap failure on i686-apple-darwin9 at revision 133434.)\n\n2008-03-21  Andreas Tobler  <a.tobler@schweiz.org>\n\n\tPR bootstrap/35660\n\t* objc-act.c (objc_generate_cxx_ctor_or_dtor): Rename IS_AGGR_TYPE to\n\tMAYBE_CLASS_TYPE_P.\n\t(objc_generate_cxx_cdtors): Likewise.\n\t(add_instance_variable): Likewise.\n\nFrom-SVN: r133436", "tree": {"sha": "6c22c80b546b235cfa3846f93671a80b39d8bae1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c22c80b546b235cfa3846f93671a80b39d8bae1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f03f16b2b3e23cc54aa689c786037123ac8c9094", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03f16b2b3e23cc54aa689c786037123ac8c9094", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f03f16b2b3e23cc54aa689c786037123ac8c9094", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03f16b2b3e23cc54aa689c786037123ac8c9094/comments", "author": null, "committer": null, "parents": [{"sha": "7fb1431bfa30ac9d85fb614f786c8076ff407673", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb1431bfa30ac9d85fb614f786c8076ff407673", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fb1431bfa30ac9d85fb614f786c8076ff407673"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "b71a4d1a85f19a6d2baea3c298b226db2badef43", "filename": "gcc/objc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03f16b2b3e23cc54aa689c786037123ac8c9094/gcc%2Fobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03f16b2b3e23cc54aa689c786037123ac8c9094/gcc%2Fobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2FChangeLog?ref=f03f16b2b3e23cc54aa689c786037123ac8c9094", "patch": "@@ -1,3 +1,11 @@\n+2008-03-21  Andreas Tobler  <a.tobler@schweiz.org>\n+\n+\tPR bootstrap/35660\n+\t* objc-act.c (objc_generate_cxx_ctor_or_dtor): Rename IS_AGGR_TYPE to\n+\tMAYBE_CLASS_TYPE_P.\n+\t(objc_generate_cxx_cdtors): Likewise.\n+\t(add_instance_variable): Likewise.\n+\n 2008-02-26  Tom Tromey  <tromey@redhat.com>\n \n \t* objc-act.c (objc_init): Remove old location code."}, {"sha": "576e5695b994e828b9514a867b42f1f17ed5f2c3", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f03f16b2b3e23cc54aa689c786037123ac8c9094/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f03f16b2b3e23cc54aa689c786037123ac8c9094/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=f03f16b2b3e23cc54aa689c786037123ac8c9094", "patch": "@@ -4482,7 +4482,7 @@ objc_generate_cxx_ctor_or_dtor (bool dtor)\n \t  /* Call the ivar's default constructor or destructor.  Do not\n \t     call the destructor unless a corresponding constructor call\n \t     has also been made (or is not needed).  */\n-\t  if (IS_AGGR_TYPE (type)\n+\t  if (MAYBE_CLASS_TYPE_P (type)\n \t      && (dtor\n \t\t  ? (TYPE_HAS_NONTRIVIAL_DESTRUCTOR (type)\n \t\t     && (!TYPE_NEEDS_CONSTRUCTING (type)\n@@ -4535,7 +4535,7 @@ objc_generate_cxx_cdtors (void)\n \t{\n \t  tree type = TREE_TYPE (ivar);\n \n-\t  if (IS_AGGR_TYPE (type))\n+\t  if (MAYBE_CLASS_TYPE_P (type))\n \t    {\n \t      if (TYPE_NEEDS_CONSTRUCTING (type)\n \t\t  && TYPE_HAS_DEFAULT_CONSTRUCTOR (type))\n@@ -7056,7 +7056,7 @@ add_instance_variable (tree class, int public, tree field_decl)\n      need to either (1) warn the user about it or (2) generate suitable\n      constructor/destructor call from '- .cxx_construct' or '- .cxx_destruct'\n      methods (if '-fobjc-call-cxx-cdtors' was specified).  */\n-  if (IS_AGGR_TYPE (field_type)\n+  if (MAYBE_CLASS_TYPE_P (field_type)\n       && (TYPE_NEEDS_CONSTRUCTING (field_type)\n \t  || TYPE_HAS_NONTRIVIAL_DESTRUCTOR (field_type)\n \t  || TYPE_POLYMORPHIC_P (field_type)))"}]}