{"sha": "b81e1cd506ad06e4eb0a658d26119129d110a5a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgxZTFjZDUwNmFkMDZlNGViMGE2NThkMjYxMTkxMjlkMTEwYTVhOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-05T18:21:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-02-05T18:21:07Z"}, "message": "compiler: check duplicate implicit indexes in slices/arrays\n    \n    Fixes golang/go#28186.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/160832\n\nFrom-SVN: r268554", "tree": {"sha": "43a2ccdd0380dfc0756ed95ba8085d93a233174d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43a2ccdd0380dfc0756ed95ba8085d93a233174d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b81e1cd506ad06e4eb0a658d26119129d110a5a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b81e1cd506ad06e4eb0a658d26119129d110a5a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b81e1cd506ad06e4eb0a658d26119129d110a5a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b81e1cd506ad06e4eb0a658d26119129d110a5a9/comments", "author": null, "committer": null, "parents": [{"sha": "959dcbc80a60aed2198dab4853a7492b315de7d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/959dcbc80a60aed2198dab4853a7492b315de7d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/959dcbc80a60aed2198dab4853a7492b315de7d6"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "3220671ad4216cb8c31454cf9ccdd1467c5bde99", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b81e1cd506ad06e4eb0a658d26119129d110a5a9/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b81e1cd506ad06e4eb0a658d26119129d110a5a9/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=b81e1cd506ad06e4eb0a658d26119129d110a5a9", "patch": "@@ -1,4 +1,4 @@\n-047b0aa6a29d46fde99b3e5823339ac8866f797c\n+347628daf153baf3034b61b2abb4ec39e2ab37c8\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "8ffd9eb140ebc007ba8d46144bc3e92d1a149bd6", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b81e1cd506ad06e4eb0a658d26119129d110a5a9/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b81e1cd506ad06e4eb0a658d26119129d110a5a9/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=b81e1cd506ad06e4eb0a658d26119129d110a5a9", "patch": "@@ -14244,6 +14244,13 @@ Composite_literal_expression::lower_array(Type* type)\n \n       if (index_expr == NULL)\n \t{\n+\t  if (std::find(indexes->begin(), indexes->end(), index)\n+\t      != indexes->end())\n+\t    {\n+\t      go_error_at(val->location(),\n+\t\t\t  \"duplicate value for index %lu\", index);\n+\t      return Expression::make_error(location);\n+\t    }\n \t  if (!indexes->empty())\n \t    indexes->push_back(index);\n \t}"}]}