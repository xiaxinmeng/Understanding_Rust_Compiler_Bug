{"sha": "c0727e2a06ef34dba8dfeecb09258282cdf80885", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA3MjdlMmEwNmVmMzRkYmE4ZGZlZWNiMDkyNTgyODJjZGY4MDg4NQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-09-17T01:55:49Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-09-17T01:55:49Z"}, "message": "* libgcc2.c (find_exception_handler): Not found is -1.\n\nFrom-SVN: r15504", "tree": {"sha": "7ecb1f3cbb181d4bc90c2f50e9062be047f4e977", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ecb1f3cbb181d4bc90c2f50e9062be047f4e977"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0727e2a06ef34dba8dfeecb09258282cdf80885", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0727e2a06ef34dba8dfeecb09258282cdf80885", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0727e2a06ef34dba8dfeecb09258282cdf80885", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0727e2a06ef34dba8dfeecb09258282cdf80885/comments", "author": null, "committer": null, "parents": [{"sha": "5ae9a80ae180a326c484c58c6216f0112fa67723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ae9a80ae180a326c484c58c6216f0112fa67723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ae9a80ae180a326c484c58c6216f0112fa67723"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "290df01f6abdd3c6a3cf00f3c69f1eaa9fe222c2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0727e2a06ef34dba8dfeecb09258282cdf80885/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0727e2a06ef34dba8dfeecb09258282cdf80885/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c0727e2a06ef34dba8dfeecb09258282cdf80885", "patch": "@@ -1,5 +1,7 @@\n Tue Sep 16 14:22:36 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* libgcc2.c (find_exception_handler): Not found is -1.\n+\n \t* integrate.c (expand_inline_function): Move expand_start_bindings\n \tafter expanding the arguments.\n "}, {"sha": "34a6c71a6f6e3ea8272552375b411ef4f38fd59e", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0727e2a06ef34dba8dfeecb09258282cdf80885/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0727e2a06ef34dba8dfeecb09258282cdf80885/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=c0727e2a06ef34dba8dfeecb09258282cdf80885", "patch": "@@ -3335,7 +3335,7 @@ find_exception_handler (void *pc, exception_table *table)\n   if (table)\n     {\n       int pos;\n-      int best = 0;\n+      int best = -1;\n \n       /* We can't do a binary search because the table isn't guaranteed\n \t to be sorted from function to function.  */\n@@ -3345,15 +3345,15 @@ find_exception_handler (void *pc, exception_table *table)\n \t    {\n \t      /* This can apply.  Make sure it is at least as small as\n \t\t the previous best.  */\n-\t      if (best == 0 || (table[pos].end <= table[best].end\n-\t\t\t\t&& table[pos].start >= table[best].start))\n+\t      if (best == -1 || (table[pos].end <= table[best].end\n+\t\t\t\t && table[pos].start >= table[best].start))\n \t\tbest = pos;\n \t    }\n \t  /* But it is sorted by starting PC within a function.  */\n \t  else if (best && table[pos].start > pc)\n \t    break;\n \t}\n-      if (best != 0)\n+      if (best != -1)\n \treturn table[best].exception_handler;\n     }\n "}]}