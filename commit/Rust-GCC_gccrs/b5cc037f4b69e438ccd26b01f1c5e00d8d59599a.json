{"sha": "b5cc037f4b69e438ccd26b01f1c5e00d8d59599a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVjYzAzN2Y0YjY5ZTQzOGNjZDI2YjAxZjFjNWUwMGQ4ZDU5NTk5YQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1994-06-06T13:14:03Z"}, "committer": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1994-06-06T13:14:03Z"}, "message": "(arm_reload_out_hi): Rewrite.\n\n(arm_reload_out_hi): Rewrite.  Add support for processors running in\nbig-endian mode.\n(fp_immediate_constant): Fix typo in argument declaration.\n\nFrom-SVN: r7449", "tree": {"sha": "07d5c90941dc79d8fbd9f5d8227b525fabdb676d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07d5c90941dc79d8fbd9f5d8227b525fabdb676d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a/comments", "author": null, "committer": null, "parents": [{"sha": "fe241a29e33e5c7474471e6d2a410b04d2487bbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe241a29e33e5c7474471e6d2a410b04d2487bbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe241a29e33e5c7474471e6d2a410b04d2487bbe"}], "stats": {"total": 33, "additions": 21, "deletions": 12}, "files": [{"sha": "9873845421c4f2beaca68b291c4bd814555f8f04", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 21, "deletions": 12, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5cc037f4b69e438ccd26b01f1c5e00d8d59599a/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=b5cc037f4b69e438ccd26b01f1c5e00d8d59599a", "patch": "@@ -794,17 +794,26 @@ arm_reload_out_hi (operands)\n {\n   rtx base = find_replacement (&XEXP (operands[0], 0));\n \n-  emit_insn (gen_rtx (SET, VOIDmode,\n-                      gen_rtx (MEM, QImode, base),\n-                      gen_rtx (SUBREG, QImode, operands[1], 0)));\n-  emit_insn (gen_rtx (SET, VOIDmode, operands[2],\n-                      gen_rtx (LSHIFTRT, SImode, \n-                               gen_rtx (SUBREG, SImode, operands[1], 0),\n-                               GEN_INT (8))));\n-  emit_insn (gen_rtx (SET, VOIDmode,\n-                      gen_rtx (MEM, QImode,\n-                               plus_constant (base, 1)),\n-                      gen_rtx (SUBREG, QImode, operands[2], 0)));\n+  if (BYTES_BIG_ENDIAN)\n+    {\n+      emit_insn (gen_movqi (gen_rtx (MEM, QImode, plus_constant (base, 1)),\n+\t\t\t    gen_rtx (SUBREG, QImode, operands[1], 0)));\n+      emit_insn (gen_lshrsi3 (operands[2],\n+\t\t\t      gen_rtx (SUBREG, SImode, operands[1], 0),\n+\t\t\t      GEN_INT (8)));\n+      emit_insn (gen_movqi (gen_rtx (MEM, QImode, base),\n+\t\t\t    gen_rtx (SUBREG, QImode, operands[2], 0)));\n+    }\n+  else\n+    {\n+      emit_insn (gen_movqi (gen_rtx (MEM, QImode, base),\n+\t\t\t    gen_rtx (SUBREG, QImode, operands[1], 0)));\n+      emit_insn (gen_lshrsi3 (operands[2],\n+\t\t\t      gen_rtx (SUBREG, SImode, operands[1], 0),\n+\t\t\t      GEN_INT (8)));\n+      emit_insn (gen_movqi (gen_rtx (MEM, QImode, plus_constant (base, 1)),\n+\t\t\t    gen_rtx (SUBREG, QImode, operands[2], 0)));\n+    }\n }\n \f\n /* Check to see if a branch is forwards or backwards.  Return TRUE if it\n@@ -845,7 +854,7 @@ arm_insn_not_targeted (insn)\n    when cross compiling. */\n char *\n fp_immediate_constant (x)\n-     rtx (x);\n+     rtx x;\n {\n   REAL_VALUE_TYPE r;\n   int i;"}]}