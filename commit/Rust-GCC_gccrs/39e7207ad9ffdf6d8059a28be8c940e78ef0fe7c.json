{"sha": "39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzllNzIwN2FkOWZmZGY2ZDgwNTlhMjhiZThjOTQwZTc4ZWYwZmU3Yw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2010-06-04T16:43:42Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2010-06-04T16:43:42Z"}, "message": "re PR rtl-optimization/44013 (VTA produces wrong code)\n\n\tPR rtl-optimization/44013\n\t* sched-deps.c (add_dependence_list_and_free): Don't free lists\n\twhen processing debug insns.\n\nFrom-SVN: r160281", "tree": {"sha": "2a10de1ed4ebf3dc4f8016918bf866e53a26e1d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2a10de1ed4ebf3dc4f8016918bf866e53a26e1d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c/comments", "author": null, "committer": null, "parents": [{"sha": "0fa43fb73b386b98e9c92d85905633f81d0c326e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fa43fb73b386b98e9c92d85905633f81d0c326e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fa43fb73b386b98e9c92d85905633f81d0c326e"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "142715bbc69ba2e01dec8548dddd743176db239d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "patch": "@@ -1,5 +1,9 @@\n 2010-06-04  Alexandre Oliva  <aoliva@redhat.com>\n \n+\tPR rtl-optimization/44013\n+\t* sched-deps.c (add_dependence_list_and_free): Don't free lists\n+\twhen processing debug insns.\n+\n \tPR debug/41371\n \t* var-tracking.c (find_loc_in_1pdv): Mark initial value before\n \trecursing.  Check that recursion is bounded.  Rename inner var"}, {"sha": "4577c8e1c51b2fa91ad1988634bc06f21df0bfc3", "filename": "gcc/sched-deps.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c/gcc%2Fsched-deps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c/gcc%2Fsched-deps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-deps.c?ref=39e7207ad9ffdf6d8059a28be8c940e78ef0fe7c", "patch": "@@ -1407,7 +1407,10 @@ add_dependence_list_and_free (struct deps_desc *deps, rtx insn, rtx *listp,\n {\n   rtx list, next;\n \n-  if (deps->readonly)\n+  /* We don't want to short-circuit dependencies involving debug\n+     insns, because they may cause actual dependencies to be\n+     disregarded.  */\n+  if (deps->readonly || DEBUG_INSN_P (insn))\n     {\n       add_dependence_list (insn, *listp, uncond, dep_type);\n       return;"}]}