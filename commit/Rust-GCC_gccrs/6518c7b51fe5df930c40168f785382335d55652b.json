{"sha": "6518c7b51fe5df930c40168f785382335d55652b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjUxOGM3YjUxZmU1ZGY5MzBjNDAxNjhmNzg1MzgyMzM1ZDU1NjUyYg==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2000-06-01T20:43:37Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-06-01T20:43:37Z"}, "message": "re GNATS gcj/127 (gcj dumps core on method invocation on a primitive type)\n\n2000-05-23  Bryce McKinlay  <bryce@albatross.co.nz>\n\n       * parse.y (patch_method_invocation): Don't try to lookup methods\n       in primitive types.\n\n(This fixes the PR gcj/127:\n http://sourceware.cygnus.com/ml/java-prs/2000-q1/msg00011.html)\n\nFrom-SVN: r34347", "tree": {"sha": "b8dfaa2a6c3118d993ed10b8c9c096c09ca64a03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8dfaa2a6c3118d993ed10b8c9c096c09ca64a03"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6518c7b51fe5df930c40168f785382335d55652b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6518c7b51fe5df930c40168f785382335d55652b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6518c7b51fe5df930c40168f785382335d55652b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6518c7b51fe5df930c40168f785382335d55652b/comments", "author": null, "committer": null, "parents": [{"sha": "ee418a779a36ce574061c95500e28a4f5381bc68", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee418a779a36ce574061c95500e28a4f5381bc68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee418a779a36ce574061c95500e28a4f5381bc68"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "de192e2f0f21ded617ca2000231b6afcf49170f7", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=6518c7b51fe5df930c40168f785382335d55652b", "patch": "@@ -34,6 +34,11 @@\n \t`wfl_operator', to maybe_build_primttype_type_ref.\n \tFixes PR gcj/235.\n \n+2000-05-23  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+       * parse.y (patch_method_invocation): Don't try to lookup methods\n+       in primitive types.\n+\n 2000-05-02  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* parse.y (resolve_field_access): Call the appropriate <clinit>"}, {"sha": "fd547f27768bd6129f324f21ac09214017ba3a4f", "filename": "gcc/java/parse.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=6518c7b51fe5df930c40168f785382335d55652b", "patch": "@@ -12090,6 +12090,16 @@ patch_method_invocation (patch, primary, where, is_static, ret_decl)\n \n       type = GET_SKIP_TYPE (resolved);\n       resolve_and_layout (type, NULL_TREE);\n+      \n+      if (JPRIMITIVE_TYPE_P (type))\n+        {\n+        parse_error_context\n+          (identifier_wfl,\n+          \"Can't invoke a method on primitive type `%s'\",\n+          IDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (type))));\n+        PATCH_METHOD_RETURN_ERROR ();         \n+      }      \n+      \n       list = lookup_method_invoke (0, identifier_wfl, type, identifier, args);\n       args = nreverse (args);\n "}, {"sha": "2e6325e2e1c6663b5b4ea20f67e1ebaaa5776bfa", "filename": "gcc/java/parse.y", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6518c7b51fe5df930c40168f785382335d55652b/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=6518c7b51fe5df930c40168f785382335d55652b", "patch": "@@ -9392,6 +9392,16 @@ patch_method_invocation (patch, primary, where, is_static, ret_decl)\n \n       type = GET_SKIP_TYPE (resolved);\n       resolve_and_layout (type, NULL_TREE);\n+      \n+      if (JPRIMITIVE_TYPE_P (type))\n+        {\n+        parse_error_context\n+          (identifier_wfl,\n+          \"Can't invoke a method on primitive type `%s'\",\n+          IDENTIFIER_POINTER (DECL_NAME (TYPE_NAME (type))));\n+        PATCH_METHOD_RETURN_ERROR ();         \n+      }      \n+      \n       list = lookup_method_invoke (0, identifier_wfl, type, identifier, args);\n       args = nreverse (args);\n "}]}