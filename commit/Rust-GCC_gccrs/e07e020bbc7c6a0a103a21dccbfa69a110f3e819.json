{"sha": "e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA3ZTAyMGJiYzdjNmEwYTEwM2EyMWRjY2JmYTY5YTExMGYzZTgxOQ==", "commit": {"author": {"name": "Ramana Radhakrishnan", "email": "ramana.radhakrishnan@arm.com", "date": "2009-06-04T14:59:12Z"}, "committer": {"name": "Ramana Radhakrishnan", "email": "ramana@gcc.gnu.org", "date": "2009-06-04T14:59:12Z"}, "message": "arm.c (thumb2_legitimate_index_p): Initialize val after checking for integers.\n\n2009-06-04  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n\n\t* config/arm/arm.c (thumb2_legitimate_index_p): Initialize\n\tval after checking for integers.\n\nFrom-SVN: r148170", "tree": {"sha": "999a9460253b4503b9d74f22b60c34f4b790574b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/999a9460253b4503b9d74f22b60c34f4b790574b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e07e020bbc7c6a0a103a21dccbfa69a110f3e819/comments", "author": null, "committer": null, "parents": [{"sha": "4970671dca2be827d483a2fa50357c1bf013e046", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4970671dca2be827d483a2fa50357c1bf013e046", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4970671dca2be827d483a2fa50357c1bf013e046"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "9c3de317f309ea1ba17e8fc74420aba2d3c4cad3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e07e020bbc7c6a0a103a21dccbfa69a110f3e819/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e07e020bbc7c6a0a103a21dccbfa69a110f3e819/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "patch": "@@ -1,3 +1,8 @@\n+2009-06-04  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n+\n+\t* config/arm/arm.c (thumb2_legitimate_index_p): Initialize\n+\tval after checking for integers.\n+\n 2009-06-04  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.h (X86_64_MS_REGPARM_MAX): Rename from"}, {"sha": "1f5c3ae9e8d81325a690cbedff728add44e4e515", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e07e020bbc7c6a0a103a21dccbfa69a110f3e819/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e07e020bbc7c6a0a103a21dccbfa69a110f3e819/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=e07e020bbc7c6a0a103a21dccbfa69a110f3e819", "patch": "@@ -4266,15 +4266,17 @@ thumb2_legitimate_index_p (enum machine_mode mode, rtx index, int strict_p)\n \n   if (mode == DImode || mode == DFmode)\n     {\n-      HOST_WIDE_INT val = INTVAL (index);\n-      /* ??? Can we assume ldrd for thumb2?  */\n-      /* Thumb-2 ldrd only has reg+const addressing modes.  */\n-      if (code != CONST_INT)\n+      if (code == CONST_INT)\n+\t{\n+\t  HOST_WIDE_INT val = INTVAL (index);\n+\t  /* ??? Can we assume ldrd for thumb2?  */\n+\t  /* Thumb-2 ldrd only has reg+const addressing modes.  */\n+\t  /* ldrd supports offsets of +-1020.\n+\t     However the ldr fallback does not.  */\n+\t  return val > -256 && val < 256 && (val & 3) == 0;\n+\t}\n+      else\n \treturn 0;\n-\n-      /* ldrd supports offsets of +-1020.\n-         However the ldr fallback does not.  */\n-      return val > -256 && val < 256 && (val & 3) == 0;\n     }\n \n   if (code == MULT)"}]}