{"sha": "68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjhjMzdkYzkwMTViNWRkMWE1NjkyYmRmNWQ0ZTg3MjljYWFjNDBiNw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-01-19T22:31:21Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-01-19T22:31:21Z"}, "message": "sh.c (prepare_move_operands): Use operands[0] as temporary if no_new_pseudos.\n\n* config/sh/sh.c (prepare_move_operands) [PIC]: Use operands[0] as\ntemporary if no_new_pseudos.\n\nFrom-SVN: r39145", "tree": {"sha": "8741eee65669b2f7c4ca4ca9be84c89afea62572", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8741eee65669b2f7c4ca4ca9be84c89afea62572"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7/comments", "author": null, "committer": null, "parents": [{"sha": "111e0469cef8474f5ace78075960fcb785b1806f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/111e0469cef8474f5ace78075960fcb785b1806f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/111e0469cef8474f5ace78075960fcb785b1806f"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "0f050d48ae5ef94fc2f42e532acd776fd39262db", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "patch": "@@ -1,3 +1,8 @@\n+2001-01-19  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/sh/sh.c (prepare_move_operands) [PIC]: Use operands[0] as\n+\ttemporary if no_new_pseudos.\n+\n 2001-01-19  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n         * cppinternals.texi: Update."}, {"sha": "c89db668b90a1173695ffff8cc0654917dff484b", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c37dc9015b5dd1a5692bdf5d4e8729caac40b7/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=68c37dc9015b5dd1a5692bdf5d4e8729caac40b7", "patch": "@@ -475,11 +475,14 @@ prepare_move_operands (operands, mode)\n \t       && GET_CODE (XEXP (operands[1], 0)) == PLUS\n \t       && SYMBOLIC_CONST_P (XEXP (XEXP (operands[1], 0), 0)))\n \t{\n+\t  temp = no_new_pseudos ? operands[0] : gen_reg_rtx (Pmode);\n \t  temp = legitimize_pic_address (XEXP (XEXP (operands[1], 0), 0),\n-\t\t\t\t\t SImode, gen_reg_rtx (Pmode));\n+\t\t\t\t\t SImode, temp);\n \t  operands[1] = expand_binop (SImode, add_optab, temp,\n \t\t\t\t      XEXP (XEXP (operands[1], 0), 1),\n-\t\t\t\t      gen_reg_rtx (Pmode), 0, OPTAB_LIB_WIDEN);\n+\t\t\t\t      no_new_pseudos ? temp\n+\t\t\t\t      : gen_reg_rtx (Pmode),\n+\t\t\t\t      0, OPTAB_LIB_WIDEN);\n \t}\n     }\n "}]}