{"sha": "56b653f1a37372ceaba9ec6cbfc44ce09153c259", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZiNjUzZjFhMzczNzJjZWFiYTllYzZjYmZjNDRjZTA5MTUzYzI1OQ==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2016-09-27T10:04:39Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-09-27T10:04:39Z"}, "message": "Remove __gcov_merge_delta (PR bootstrap/77749)\n\n\tPR bootstrap/77749\n\t* gcov-counter.def: Remove GCOV_COUNTER_V_DELTA.\n\tPR bootstrap/77749\n\t* Makefile.in: Remove _gcov_merge_delta.\n\t* libgcov-merge.c (void __gcov_merge_delta): Remove.\n\t* libgcov-util.c (__gcov_delta_counter_op): Remove.\n\t* libgcov.h: Remove declaration of __gcov_merge_delta.\n\nFrom-SVN: r240524", "tree": {"sha": "34beadad229b21b5833d743e53835a855fd5a1f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34beadad229b21b5833d743e53835a855fd5a1f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56b653f1a37372ceaba9ec6cbfc44ce09153c259", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b653f1a37372ceaba9ec6cbfc44ce09153c259", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56b653f1a37372ceaba9ec6cbfc44ce09153c259", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b653f1a37372ceaba9ec6cbfc44ce09153c259/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6a245c05be60e19ab349077601ddc9ae51324423", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a245c05be60e19ab349077601ddc9ae51324423", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a245c05be60e19ab349077601ddc9ae51324423"}], "stats": {"total": 85, "additions": 14, "deletions": 71}, "files": [{"sha": "66f0daede19694fbed233d317da2e1b8619336fc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -1,3 +1,8 @@\n+2016-09-27  Martin Liska  <mliska@suse.cz>\n+\n+\tPR bootstrap/77749\n+\t* gcov-counter.def: Remove GCOV_COUNTER_V_DELTA.\n+\n 2016-09-27  Jakub Jelinek  <jakub@redhat.com>\n \n \t* combine.c (simplify_comparison): Add canonical FALLTHROUGH comments."}, {"sha": "55d3f0c12a7e7c181691fcbcc7baa45c8a2af2b9", "filename": "gcc/gcov-counter.def", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/gcc%2Fgcov-counter.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/gcc%2Fgcov-counter.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-counter.def?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -38,9 +38,6 @@ DEF_GCOV_COUNTER(GCOV_COUNTER_V_POW2, \"pow2\", _add)\n /* The most common value of expression.  */\n DEF_GCOV_COUNTER(GCOV_COUNTER_V_SINGLE, \"single\", _single)\n \n-/* The most common difference between consecutive values of expression.  */\n-DEF_GCOV_COUNTER(GCOV_COUNTER_V_DELTA, \"delta\", _delta)\n-\n /* The most common indirect address.  */\n DEF_GCOV_COUNTER(GCOV_COUNTER_V_INDIR, \"indirect_call\", _single)\n "}, {"sha": "1b4fd93f4ce2f96bf4a299e45a0eb3f33c194622", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -1,3 +1,11 @@\n+2016-09-27  Martin Liska  <mliska@suse.cz>\n+\n+\tPR bootstrap/77749\n+\t* Makefile.in: Remove _gcov_merge_delta.\n+\t* libgcov-merge.c (void __gcov_merge_delta): Remove.\n+\t* libgcov-util.c (__gcov_delta_counter_op): Remove.\n+\t* libgcov.h: Remove declaration of __gcov_merge_delta.\n+\n 2016-09-21  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* configure.ac: Do not create links, only substitute the filenames."}, {"sha": "873cad04b78741b0cf8d76ad72f9c77e28bf47f7", "filename": "libgcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FMakefile.in?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -877,7 +877,7 @@ include $(iterator)\n \n # Build libgcov components.\n \n-LIBGCOV_MERGE = _gcov_merge_add _gcov_merge_single _gcov_merge_delta\t\\\n+LIBGCOV_MERGE = _gcov_merge_add _gcov_merge_single\t\t\t\\\n \t_gcov_merge_ior _gcov_merge_time_profile _gcov_merge_icall_topn\n LIBGCOV_PROFILER = _gcov_interval_profiler\t\t\t\t\\\n \t_gcov_interval_profiler_atomic\t\t\t\t\t\\"}, {"sha": "fd2f07428dbe1d041b6bbbf582f3446f7e1c6487", "filename": "libgcc/libgcov-merge.c", "status": "modified", "additions": 0, "deletions": 45, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov-merge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov-merge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov-merge.c?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -38,11 +38,6 @@ void __gcov_merge_single (gcov_type *counters  __attribute__ ((unused)),\n                           unsigned n_counters __attribute__ ((unused))) {}\n #endif\n \n-#ifdef L_gcov_merge_delta\n-void __gcov_merge_delta (gcov_type *counters  __attribute__ ((unused)),\n-                         unsigned n_counters __attribute__ ((unused))) {}\n-#endif\n-\n #else\n \n #ifdef L_gcov_merge_add\n@@ -127,46 +122,6 @@ __gcov_merge_single (gcov_type *counters, unsigned n_counters)\n }\n #endif /* L_gcov_merge_single */\n \n-#ifdef L_gcov_merge_delta\n-/* The profile merging function for choosing the most common\n-   difference between two consecutive evaluations of the value.  It is\n-   given an array COUNTERS of N_COUNTERS old counters and it reads the\n-   same number of counters from the gcov file.  The counters are split\n-   into 4-tuples where the members of the tuple have meanings:\n-\n-   -- the last value of the measured entity\n-   -- the stored candidate on the most common difference\n-   -- counter\n-   -- total number of evaluations of the value  */\n-void\n-__gcov_merge_delta (gcov_type *counters, unsigned n_counters)\n-{\n-  unsigned i, n_measures;\n-  gcov_type value, counter, all;\n-\n-  gcc_assert (!(n_counters % 4));\n-  n_measures = n_counters / 4;\n-  for (i = 0; i < n_measures; i++, counters += 4)\n-    {\n-      /* last = */ gcov_get_counter ();\n-      value = gcov_get_counter_target ();\n-      counter = gcov_get_counter ();\n-      all = gcov_get_counter ();\n-\n-      if (counters[1] == value)\n-        counters[2] += counter;\n-      else if (counter > counters[2])\n-        {\n-          counters[1] = value;\n-          counters[2] = counter - counters[2];\n-        }\n-      else\n-        counters[2] -= counter;\n-      counters[3] += all;\n-    }\n-}\n-#endif /* L_gcov_merge_delta */\n-\n #ifdef L_gcov_merge_icall_topn\n /* The profile merging function used for merging indirect call counts\n    This function is given array COUNTERS of N_COUNTERS old counters and it"}, {"sha": "b1d966cc22da4bc8febcbc2ae3539b5fc4f9f3d4", "filename": "libgcc/libgcov-util.c", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov-util.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov-util.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov-util.c?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -720,23 +720,6 @@ __gcov_time_profile_counter_op (gcov_type *counters ATTRIBUTE_UNUSED,\n   /* Do nothing.  */\n }\n \n-/* Performaing FN upon delta counters.  */\n-\n-static void\n-__gcov_delta_counter_op (gcov_type *counters, unsigned n_counters,\n-                         counter_op_fn fn, void *data1, void *data2)\n-{\n-  unsigned i, n_measures;\n-\n-  gcc_assert (!(n_counters % 4));\n-  n_measures = n_counters / 4;\n-  for (i = 0; i < n_measures; i++, counters += 4)\n-    {\n-      counters[2] = fn (counters[2], data1, data2);\n-      counters[3] = fn (counters[3], data1, data2);\n-    }\n-}\n-\n /* Performing FN upon single counters.  */\n \n static void"}, {"sha": "725ef0a6283fdfaa19798fdc8b5cc7694b0cf73b", "filename": "libgcc/libgcov.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b653f1a37372ceaba9ec6cbfc44ce09153c259/libgcc%2Flibgcov.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov.h?ref=56b653f1a37372ceaba9ec6cbfc44ce09153c259", "patch": "@@ -126,7 +126,6 @@ typedef unsigned gcov_position_t;\n #define L_gcov 1\n #define L_gcov_merge_add 1\n #define L_gcov_merge_single 1\n-#define L_gcov_merge_delta 1\n #define L_gcov_merge_ior 1\n #define L_gcov_merge_time_profile 1\n #define L_gcov_merge_icall_topn 1\n@@ -256,10 +255,6 @@ extern void __gcov_merge_time_profile (gcov_type *, unsigned) ATTRIBUTE_HIDDEN;\n /* The merge function to choose the most common value.  */\n extern void __gcov_merge_single (gcov_type *, unsigned) ATTRIBUTE_HIDDEN;\n \n-/* The merge function to choose the most common difference between\n-   consecutive values.  */\n-extern void __gcov_merge_delta (gcov_type *, unsigned) ATTRIBUTE_HIDDEN;\n-\n /* The merge function that just ors the counters together.  */\n extern void __gcov_merge_ior (gcov_type *, unsigned) ATTRIBUTE_HIDDEN;\n "}]}