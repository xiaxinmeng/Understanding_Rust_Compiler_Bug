{"sha": "622af87fc843e25c9631a43aaa1b30cc647b2825", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjIyYWY4N2ZjODQzZTI1Yzk2MzFhNDNhYWExYjMwY2M2NDdiMjgyNQ==", "commit": {"author": {"name": "Daniel Franke", "email": "franke.daniel@gmail.com", "date": "2007-06-29T19:05:58Z"}, "committer": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-06-29T19:05:58Z"}, "message": "re PR fortran/31580 (Better error message for not-found operator)\n\ngcc/fortran:\n2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n\n        PR fortran/31580\n        * resolve.c (resolve_operator): Added check whether a user \n\tdefined operator is available.\n\ngcc/testsuite:\n2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n\n\tPR fortran/31580\n\t* gfortran.dg/operator_3.f90: New test.\n\nFrom-SVN: r126117", "tree": {"sha": "2259a9c1e758153c6efff3d45d5bfcfce3a59d4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2259a9c1e758153c6efff3d45d5bfcfce3a59d4a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/622af87fc843e25c9631a43aaa1b30cc647b2825", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/622af87fc843e25c9631a43aaa1b30cc647b2825", "html_url": "https://github.com/Rust-GCC/gccrs/commit/622af87fc843e25c9631a43aaa1b30cc647b2825", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/622af87fc843e25c9631a43aaa1b30cc647b2825/comments", "author": {"login": "dfranke76", "id": 15729164, "node_id": "MDQ6VXNlcjE1NzI5MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/15729164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfranke76", "html_url": "https://github.com/dfranke76", "followers_url": "https://api.github.com/users/dfranke76/followers", "following_url": "https://api.github.com/users/dfranke76/following{/other_user}", "gists_url": "https://api.github.com/users/dfranke76/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfranke76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfranke76/subscriptions", "organizations_url": "https://api.github.com/users/dfranke76/orgs", "repos_url": "https://api.github.com/users/dfranke76/repos", "events_url": "https://api.github.com/users/dfranke76/events{/privacy}", "received_events_url": "https://api.github.com/users/dfranke76/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "bc3d41534ae0176f35ddad72fd928f60aae3b939", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc3d41534ae0176f35ddad72fd928f60aae3b939", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc3d41534ae0176f35ddad72fd928f60aae3b939"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "57724bff2fb65a59526bb2f909e4aa0e53c9b7ca", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=622af87fc843e25c9631a43aaa1b30cc647b2825", "patch": "@@ -1,3 +1,8 @@\n+2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\t* resolve.c (resolve_operator): Added check whether a user\n+\tdefined operator is available.\n+\n 2007-06-29  Daniel Franke <franke.daniel@gmail.com>\n \n \t* openmp.c (resolve_omp_clauses): Adjust error message to"}, {"sha": "8cc0c421193f868c09c2587298d6545815b5ac8a", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=622af87fc843e25c9631a43aaa1b30cc647b2825", "patch": "@@ -2251,7 +2251,9 @@ resolve_operator (gfc_expr *e)\n       goto bad_op;\n \n     case INTRINSIC_USER:\n-      if (op2 == NULL)\n+      if (e->value.op.uop->operator == NULL)\n+\tsprintf (msg, _(\"Unknown operator '%s' at %%L\"), e->value.op.uop->name);\n+      else if (op2 == NULL)\n \tsprintf (msg, _(\"Operand of user operator '%s' at %%L is %s\"),\n \t\t e->value.op.uop->name, gfc_typename (&op1->ts));\n       else"}, {"sha": "447bcdeca8f07bf0c915dd82367451503e6a080b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=622af87fc843e25c9631a43aaa1b30cc647b2825", "patch": "@@ -1,3 +1,7 @@\n+2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\t* gfortran.dg/operator_3.f90: New test.\n+\n 2007-06-29  Daniel Franke  <franke.daniel@gmail.com>\n \n \t* gfortran.dg/gomp/reduction1.f90: Adjust error message."}, {"sha": "66f051da667a05c0bd2d1eef4011e74297c24bfd", "filename": "gcc/testsuite/gfortran.dg/operator_3.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ftestsuite%2Fgfortran.dg%2Foperator_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622af87fc843e25c9631a43aaa1b30cc647b2825/gcc%2Ftestsuite%2Fgfortran.dg%2Foperator_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Foperator_3.f90?ref=622af87fc843e25c9631a43aaa1b30cc647b2825", "patch": "@@ -0,0 +1,9 @@\n+! { dg-compile }\n+! PR fortran/31580\n+!\n+! Testcase contributed by Tobias Burnus <burnus AT gcc DOT gnu DOT org>\n+!\n+PROGRAM test\n+  real :: a,b\n+  if(a .nonex. b) stop       ! { dg-error \"Unknown operator\" }\n+end program"}]}