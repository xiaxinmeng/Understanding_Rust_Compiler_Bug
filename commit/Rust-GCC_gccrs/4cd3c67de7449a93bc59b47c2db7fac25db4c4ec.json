{"sha": "4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNkM2M2N2RlNzQ0OWE5M2JjNTliNDdjMmRiN2ZhYzI1ZGI0YzRlYw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2013-12-13T21:52:21Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2013-12-13T21:52:21Z"}, "message": "Fix g++.dg/cilk-plus/cilk-plus.exp\n\n        * g++.dg/cilk-plus/cilk-plus.exp: Properly set ld_library_path.\n        Use TEST_EXTRA_LIBS instead of ALWAYS_CFLAGS.\n\nFrom-SVN: r205976", "tree": {"sha": "1b4bc130a32d168876ab071640694d36230ba541", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b4bc130a32d168876ab071640694d36230ba541"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "79e0604dcf5a920054ad48a4c7a1835064dc4265", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e0604dcf5a920054ad48a4c7a1835064dc4265", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79e0604dcf5a920054ad48a4c7a1835064dc4265"}], "stats": {"total": 38, "additions": 22, "deletions": 16}, "files": [{"sha": "351bef6181809d0890b3f8db6d22ac0fe13b46db", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "patch": "@@ -1,3 +1,8 @@\n+2013-12-13  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* g++.dg/cilk-plus/cilk-plus.exp: Properly set ld_library_path.\n+\tUse TEST_EXTRA_LIBS instead of ALWAYS_CFLAGS.\n+\n 2013-12-03  Jeff Law  <law@redhat.com>\n \n \tPR tree-optimization/45685"}, {"sha": "cb27418ef33733025c9d085be4857b970288de67", "filename": "gcc/testsuite/g++.dg/cilk-plus/cilk-plus.exp", "status": "modified", "additions": 17, "deletions": 16, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cd3c67de7449a93bc59b47c2db7fac25db4c4ec/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcilk-plus%2Fcilk-plus.exp?ref=4cd3c67de7449a93bc59b47c2db7fac25db4c4ec", "patch": "@@ -25,10 +25,11 @@ if { ![check_effective_target_cilkplus] } {\n verbose \"$tool $libdir\" 1\n set library_var \"[get_multilibs]\"\n # Pointing the ld_library_path to the Cilk Runtime library binaries.\n-set ld_library_path \"$[get_multilibs]/libcilkrts/.libs\"\n+append ld_library_path \":${library_var}/libcilkrts/.libs\"\n+set_ld_library_path_env_vars\n \n-set ALWAYS_CFLAGS \"\"\n-lappend ALWAYS_CFLAGS \"-L${library_var}/libcilkrts/.libs\"\n+global TEST_EXTRA_LIBS\n+set TEST_EXTRA_LIBS \"-L${library_var}/libcilkrts/.libs\"\n \n dg-init\n # Run the tests that are shared with C.\n@@ -72,22 +73,22 @@ dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/AN/*.cc]] \" -O3 -ft\n dg-finish\n \n dg-init\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O1 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O2 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O3 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -O2 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -O3 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O1 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O2 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -O3 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -O2 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/g++.dg/cilk-plus/CK/*.cc]] \" -g -O3 -fcilkplus\" \" \"\n dg-finish\n \n dg-init\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O1 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O2 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O3 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O1 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O2 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -O3 -fcilkplus\" \" \"\n dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g -fcilkplus\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g -O2 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n-dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g -O3 -fcilkplus $ALWAYS_CFLAGS\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g -O2 -fcilkplus\" \" \"\n+dg-runtest [lsort [glob -nocomplain $srcdir/c-c++-common/cilk-plus/CK/*.c]] \" -g -O3 -fcilkplus\" \" \"\n dg-finish\n unset TEST_EXTRA_LIBS"}]}