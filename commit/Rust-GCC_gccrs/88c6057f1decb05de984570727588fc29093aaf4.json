{"sha": "88c6057f1decb05de984570727588fc29093aaf4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhjNjA1N2YxZGVjYjA1ZGU5ODQ1NzA3Mjc1ODhmYzI5MDkzYWFmNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-04-29T14:22:10Z"}, "committer": {"name": "Julian Brown", "email": "jules@gcc.gnu.org", "date": "2005-04-29T14:22:10Z"}, "message": "arm.h (ARM_EABI_CTORS_SECTION_OP): Do not define if a definition has already been provided.\n\n\t* config/arm/arm.h (ARM_EABI_CTORS_SECTION_OP): Do not define if a\n\tdefinition has already been provided.\n\t(ARM_EABI_DTORS_SECTION_OP): Likewise.\n\t* config/arm/symbian.h (ARM_EABI_CTORS_SECTION_OP): Define.\n\t(ARM_EABI_DTORS_SECTION_OP): Likewise.\n\nFrom-SVN: r98988", "tree": {"sha": "f42ebe0890b56f17574eed62d7ddb4e56d6a8274", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f42ebe0890b56f17574eed62d7ddb4e56d6a8274"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88c6057f1decb05de984570727588fc29093aaf4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88c6057f1decb05de984570727588fc29093aaf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88c6057f1decb05de984570727588fc29093aaf4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88c6057f1decb05de984570727588fc29093aaf4/comments", "author": null, "committer": null, "parents": [{"sha": "9e811ecd1a55fa5354b35deb5329d861d040a430", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e811ecd1a55fa5354b35deb5329d861d040a430", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e811ecd1a55fa5354b35deb5329d861d040a430"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "78eafd329ee363a222d611e52feb65b4acd9d150", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88c6057f1decb05de984570727588fc29093aaf4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88c6057f1decb05de984570727588fc29093aaf4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88c6057f1decb05de984570727588fc29093aaf4", "patch": "@@ -1,3 +1,11 @@\n+2005-04-29  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* config/arm/arm.h (ARM_EABI_CTORS_SECTION_OP): Do not define if a\n+\tdefinition has already been provided.\n+\t(ARM_EABI_DTORS_SECTION_OP): Likewise.\n+\t* config/arm/symbian.h (ARM_EABI_CTORS_SECTION_OP): Define.\n+\t(ARM_EABI_DTORS_SECTION_OP): Likewise.\n+\n 2005-04-29  Jim Tison  <jtison@us.ibm.com>\n \n \t* config/s390/s390.md (\"prologue_tpf\", \"epilogue_tpf\"): Alter"}, {"sha": "6310a627e60e0a8991bcfb5adf3756ecc9a5d485", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88c6057f1decb05de984570727588fc29093aaf4/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88c6057f1decb05de984570727588fc29093aaf4/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=88c6057f1decb05de984570727588fc29093aaf4", "patch": "@@ -2124,10 +2124,14 @@ typedef struct\n \n /* The EABI specifies that constructors should go in .init_array.\n    Other targets use .ctors for compatibility.  */\n+#ifndef ARM_EABI_CTORS_SECTION_OP\n #define ARM_EABI_CTORS_SECTION_OP \\\n   \"\\t.section\\t.init_array,\\\"aw\\\",%init_array\"\n+#endif\n+#ifndef ARM_EABI_DTORS_SECTION_OP\n #define ARM_EABI_DTORS_SECTION_OP \\\n   \"\\t.section\\t.fini_array,\\\"aw\\\",%fini_array\"\n+#endif\n #define ARM_CTORS_SECTION_OP \\\n   \"\\t.section\\t.ctors,\\\"aw\\\",%progbits\"\n #define ARM_DTORS_SECTION_OP \\"}, {"sha": "4f5ac3755003dbbe5380c4dedec753d97da8ba59", "filename": "gcc/config/arm/symbian.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88c6057f1decb05de984570727588fc29093aaf4/gcc%2Fconfig%2Farm%2Fsymbian.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88c6057f1decb05de984570727588fc29093aaf4/gcc%2Fconfig%2Farm%2Fsymbian.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fsymbian.h?ref=88c6057f1decb05de984570727588fc29093aaf4", "patch": "@@ -88,6 +88,14 @@\n     }\t\t\t\t\t\t\\\n   while (false)\n \n+/* On SymbianOS, these sections are not writable, so we use \"a\",\n+   rather than \"aw\", for the section attributes.  */\n+#undef ARM_EABI_CTORS_SECTION_OP\n+#define ARM_EABI_CTORS_SECTION_OP \\\n+  \"\\t.section\\t.init_array,\\\"a\\\",%init_array\"\n+#undef ARM_EABI_DTORS_SECTION_OP\n+#define ARM_EABI_DTORS_SECTION_OP \\\n+  \"\\t.section\\t.fini_array,\\\"a\\\",%fini_array\"\n \n /* SymbianOS cannot merge entities with vague linkage at runtime.  */\n #define TARGET_ARM_DYNAMIC_VAGUE_LINKAGE_P false"}]}