{"sha": "77de5d85d0492c686d37f00851c2189ee71e6348", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdkZTVkODVkMDQ5MmM2ODZkMzdmMDA4NTFjMjE4OWVlNzFlNjM0OA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-02-14T21:59:58Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-02-14T21:59:58Z"}, "message": "ltdl.c: If HAVE_BOEHM_GC defined, includ gc.h.\n\n\t* ltdl.c: If HAVE_BOEHM_GC defined, includ gc.h.\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am (INCLUDES): New macro.\n\t* config.h.in, configure: Rebuilt.\n\t* acconfig.h (HAVE_BOEHM_GC): Define.\n\t* configure.in: Handle --enable-java-gc.\n\nFrom-SVN: r31971", "tree": {"sha": "908e8f3774811ee8c50f3ec8ec022aa178fda863", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/908e8f3774811ee8c50f3ec8ec022aa178fda863"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77de5d85d0492c686d37f00851c2189ee71e6348", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77de5d85d0492c686d37f00851c2189ee71e6348", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77de5d85d0492c686d37f00851c2189ee71e6348", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77de5d85d0492c686d37f00851c2189ee71e6348/comments", "author": null, "committer": null, "parents": [{"sha": "9339399091fcdb830b8236c596305a7d89af25b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9339399091fcdb830b8236c596305a7d89af25b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9339399091fcdb830b8236c596305a7d89af25b3"}], "stats": {"total": 289, "additions": 184, "deletions": 105}, "files": [{"sha": "8a37f20fca8796a11fa626a8694b94629b34baec", "filename": "libjava/libltdl/ChangeLog", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FChangeLog?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -0,0 +1,9 @@\n+2000-02-14  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* ltdl.c: If HAVE_BOEHM_GC defined, includ gc.h.\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am (INCLUDES): New macro.\n+\t* config.h.in, configure: Rebuilt.\n+\t* acconfig.h (HAVE_BOEHM_GC): Define.\n+\t* configure.in: Handle --enable-java-gc.\n+"}, {"sha": "2e0f94da553d00e785676622c7b22ac28caadafc", "filename": "libjava/libltdl/Makefile.am", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FMakefile.am?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -2,6 +2,8 @@\n \n AUTOMAKE_OPTIONS = no-dependencies foreign\n \n+INCLUDES = $(GCINCS)\n+\n if INSTALL_LTDL\n include_HEADERS = ltdl.h\n lib_LTLIBRARIES = libltdl.la"}, {"sha": "b64463e6be42aae530487f2a9c6b7877f1ff1af9", "filename": "libjava/libltdl/Makefile.in", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2FMakefile.in?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -62,6 +62,7 @@ host_triplet = @host@\n AS = @AS@\n CC = @CC@\n DLLTOOL = @DLLTOOL@\n+GCINCS = @GCINCS@\n LIBADD_DL = @LIBADD_DL@\n LIBTOOL = @LIBTOOL@\n LIBTOOL_DEPS = @LIBTOOL_DEPS@\n@@ -75,6 +76,8 @@ VERSION = @VERSION@\n \n AUTOMAKE_OPTIONS = no-dependencies foreign\n \n+INCLUDES = $(GCINCS)\n+\n @INSTALL_LTDL_TRUE@include_HEADERS = \\\n @INSTALL_LTDL_TRUE@ltdl.h\n @INSTALL_LTDL_TRUE@lib_LTLIBRARIES = \\\n@@ -114,8 +117,9 @@ CCLD = $(CC)\n LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n HEADERS =  $(include_HEADERS) $(noinst_HEADERS)\n \n-DIST_COMMON =  README ./stamp-h.in COPYING.LIB Makefile.am Makefile.in \\\n-acconfig.h acinclude.m4 aclocal.m4 config.h.in configure configure.in\n+DIST_COMMON =  README ./stamp-h.in COPYING.LIB ChangeLog Makefile.am \\\n+Makefile.in acconfig.h acinclude.m4 aclocal.m4 config.h.in configure \\\n+configure.in\n \n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)"}, {"sha": "efa668c4dc72ef42c579d47e0c6d31d5e68cb1ec", "filename": "libjava/libltdl/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Facconfig.h?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -10,3 +10,6 @@\n \n /* Define if you have the shl_load function.  */\n #undef HAVE_SHL_LOAD\n+\n+/* Define if you are using the Boehm GC.  */\n+#undef HAVE_BOEHM_GC"}, {"sha": "c61738d4c4344d3f1ad200def5dbcd3e628d995a", "filename": "libjava/libltdl/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Fconfig.h.in?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -18,6 +18,9 @@\n /* Define if you have the shl_load function.  */\n #undef HAVE_SHL_LOAD\n \n+/* Define if you are using the Boehm GC.  */\n+#undef HAVE_BOEHM_GC\n+\n /* Define if you have the dlerror function.  */\n #undef HAVE_DLERROR\n "}, {"sha": "a0c3b6bda538ee075e1e129dca6c9836eb62e00e", "filename": "libjava/libltdl/configure", "status": "modified", "additions": 140, "deletions": 103, "changes": 243, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Fconfigure?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -26,6 +26,8 @@ ac_help=\"$ac_help\n   --disable-libtool-lock  avoid locking (might break parallel builds)\"\n ac_help=\"$ac_help\n   --enable-ltdl-install   install libltdl\"\n+ac_help=\"$ac_help\n+  --enable-java-gc=TYPE   choose garbage collector [boehm]\"\n \n # Initialize some variables set by options.\n # The variables have the same names as the options, with\n@@ -43,6 +45,7 @@ program_suffix=NONE\n program_transform_name=s,x,x,\n silent=\n site=\n+sitefile=\n srcdir=\n target=NONE\n verbose=\n@@ -157,6 +160,7 @@ Configuration:\n   --help                  print this message\n   --no-create             do not create output files\n   --quiet, --silent       do not print \\`checking...' messages\n+  --site-file=FILE        use FILE as the site file\n   --version               print the version of autoconf that created configure\n Directory and file names:\n   --prefix=PREFIX         install architecture-independent files in PREFIX\n@@ -327,6 +331,11 @@ EOF\n   -site=* | --site=* | --sit=*)\n     site=\"$ac_optarg\" ;;\n \n+  -site-file | --site-file | --site-fil | --site-fi | --site-f)\n+    ac_prev=sitefile ;;\n+  -site-file=* | --site-file=* | --site-fil=* | --site-fi=* | --site-f=*)\n+    sitefile=\"$ac_optarg\" ;;\n+\n   -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n     ac_prev=srcdir ;;\n   -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n@@ -492,12 +501,16 @@ fi\n srcdir=`echo \"${srcdir}\" | sed 's%\\([^/]\\)/*$%\\1%'`\n \n # Prefer explicitly selected file to automatically selected ones.\n-if test -z \"$CONFIG_SITE\"; then\n-  if test \"x$prefix\" != xNONE; then\n-    CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n-  else\n-    CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+if test -z \"$sitefile\"; then\n+  if test -z \"$CONFIG_SITE\"; then\n+    if test \"x$prefix\" != xNONE; then\n+      CONFIG_SITE=\"$prefix/share/config.site $prefix/etc/config.site\"\n+    else\n+      CONFIG_SITE=\"$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site\"\n+    fi\n   fi\n+else\n+  CONFIG_SITE=\"$sitefile\"\n fi\n for ac_site_file in $CONFIG_SITE; do\n   if test -r \"$ac_site_file\"; then\n@@ -580,7 +593,7 @@ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:584: checking for a BSD compatible install\" >&5\n+echo \"configure:597: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -633,7 +646,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:637: checking whether build environment is sane\" >&5\n+echo \"configure:650: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -690,7 +703,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:694: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:707: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -729,7 +742,7 @@ fi\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:733: checking for working aclocal\" >&5\n+echo \"configure:746: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -742,7 +755,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:746: checking for working autoconf\" >&5\n+echo \"configure:759: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -755,7 +768,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:759: checking for working automake\" >&5\n+echo \"configure:772: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -768,7 +781,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:772: checking for working autoheader\" >&5\n+echo \"configure:785: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -781,7 +794,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:785: checking for working makeinfo\" >&5\n+echo \"configure:798: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -798,7 +811,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:802: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:815: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -824,7 +837,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:828: checking for $ac_word\" >&5\n+echo \"configure:841: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -854,7 +867,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:858: checking for $ac_word\" >&5\n+echo \"configure:871: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -905,7 +918,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:909: checking for $ac_word\" >&5\n+echo \"configure:922: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -937,7 +950,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:941: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:954: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -948,12 +961,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 952 \"configure\"\n+#line 965 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:957: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:970: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -979,12 +992,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:983: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:996: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:988: checking whether we are using GNU C\" >&5\n+echo \"configure:1001: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -993,7 +1006,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:997: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1010: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1012,7 +1025,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1016: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1029: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1044,18 +1057,18 @@ else\n fi\n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1048: checking for working const\" >&5\n+echo \"configure:1061: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1053 \"configure\"\n+#line 1066 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -1098,7 +1111,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1102: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1115: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1119,21 +1132,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:1123: checking for inline\" >&5\n+echo \"configure:1136: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 1130 \"configure\"\n+#line 1143 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:1137: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1150: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -1234,7 +1247,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1238: checking host system type\" >&5\n+echo \"configure:1251: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -1255,7 +1268,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1259: checking build system type\" >&5\n+echo \"configure:1272: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -1275,7 +1288,7 @@ echo \"$ac_t\"\"$build\" 1>&6\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1279: checking for $ac_word\" >&5\n+echo \"configure:1292: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1314,7 +1327,7 @@ ac_prog=ld\n if test \"$ac_cv_prog_gcc\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1318: checking for ld used by GCC\" >&5\n+echo \"configure:1331: checking for ld used by GCC\" >&5\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n@@ -1338,10 +1351,10 @@ echo \"configure:1318: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1342: checking for GNU ld\" >&5\n+echo \"configure:1355: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1345: checking for non-GNU ld\" >&5\n+echo \"configure:1358: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1376,7 +1389,7 @@ else\n fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1380: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1393: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1392,7 +1405,7 @@ echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n \n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1396: checking for BSD-compatible nm\" >&5\n+echo \"configure:1409: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1428,7 +1441,7 @@ NM=\"$ac_cv_path_NM\"\n echo \"$ac_t\"\"$NM\" 1>&6\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1432: checking whether ln -s works\" >&5\n+echo \"configure:1445: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1477,8 +1490,8 @@ test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n case \"$lt_target\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 1481 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:1482: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 1494 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:1495: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -1499,19 +1512,19 @@ case \"$lt_target\" in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1503: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:1516: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1508 \"configure\"\n+#line 1521 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1515: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -1621,6 +1634,29 @@ if test \"${enable_ltdl_install+set}\" = set; then\n fi\n \n \n+echo $ac_n \"checking for garbage collector to use\"\"... $ac_c\" 1>&6\n+echo \"configure:1639: checking for garbage collector to use\" >&5\n+# Check whether --enable-java-gc or --disable-java-gc was given.\n+if test \"${enable_java_gc+set}\" = set; then\n+  enableval=\"$enable_java_gc\"\n+  \n+  GC=$enableval\n+else\n+  GC=boehm\n+fi\n+\n+\n+GCINCS=\n+if test \"$GC\" = \"boehm\"; then\n+   GCINCS='-I$(top_srcdir)/../../boehm-gc -I$(top_builddir)/../../boehm-gc'\n+   GCINCS=\"$GCINCS `cat ../../boehm-gc/boehm-cflags`\"\n+   cat >> confdefs.h <<\\EOF\n+#define HAVE_BOEHM_GC 1\n+EOF\n+\n+fi\n+\n+\n \n \n if test x\"${enable_ltdl_install-no}\" != xno; then\n@@ -1646,7 +1682,7 @@ rm -f conftest\n rm -f conftest\n \n echo $ac_n \"checking which extension is used for shared libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:1650: checking which extension is used for shared libraries\" >&5\n+echo \"configure:1686: checking which extension is used for shared libraries\" >&5\n if eval \"test \\\"`echo '$''{'libltdl_cv_shlibext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1673,7 +1709,7 @@ EOF\n fi\n \n echo $ac_n \"checking which variable specifies run-time library path\"\"... $ac_c\" 1>&6\n-echo \"configure:1677: checking which variable specifies run-time library path\" >&5\n+echo \"configure:1713: checking which variable specifies run-time library path\" >&5\n if eval \"test \\\"`echo '$''{'libltdl_cv_shlibpath_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1689,7 +1725,7 @@ EOF\n fi\n \n echo $ac_n \"checking for objdir\"\"... $ac_c\" 1>&6\n-echo \"configure:1693: checking for objdir\" >&5\n+echo \"configure:1729: checking for objdir\" >&5\n if eval \"test \\\"`echo '$''{'libltdl_cv_objdir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1704,7 +1740,7 @@ EOF\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1708: checking how to run the C preprocessor\" >&5\n+echo \"configure:1744: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1719,13 +1755,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1723 \"configure\"\n+#line 1759 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1729: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1765: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1736,13 +1772,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1740 \"configure\"\n+#line 1776 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1746: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1782: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1753,13 +1789,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1757 \"configure\"\n+#line 1793 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1763: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1799: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -1784,20 +1820,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1788: checking for ANSI C header files\" >&5\n+echo \"configure:1824: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1793 \"configure\"\n+#line 1829 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1801: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1837: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1814,7 +1850,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1818 \"configure\"\n+#line 1854 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1832,7 +1868,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1836 \"configure\"\n+#line 1872 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1853,7 +1889,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1857 \"configure\"\n+#line 1893 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1864,7 +1900,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1868: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1904: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1891,17 +1927,17 @@ for ac_hdr in malloc.h memory.h stdlib.h stdio.h ctype.h dlfcn.h dl.h dld.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1895: checking for $ac_hdr\" >&5\n+echo \"configure:1931: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1900 \"configure\"\n+#line 1936 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1905: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1941: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1931,17 +1967,17 @@ for ac_hdr in string.h strings.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1935: checking for $ac_hdr\" >&5\n+echo \"configure:1971: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1940 \"configure\"\n+#line 1976 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1945: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1981: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1970,12 +2006,12 @@ done\n for ac_func in strchr index\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1974: checking for $ac_func\" >&5\n+echo \"configure:2010: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1979 \"configure\"\n+#line 2015 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1998,7 +2034,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2002: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2038: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2025,12 +2061,12 @@ done\n for ac_func in strrchr rindex\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2029: checking for $ac_func\" >&5\n+echo \"configure:2065: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2034 \"configure\"\n+#line 2070 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2053,7 +2089,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2057: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2093: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2079,7 +2115,7 @@ done\n \n \n echo $ac_n \"checking whether libtool supports -dlopen/-dlpreopen\"\"... $ac_c\" 1>&6\n-echo \"configure:2083: checking whether libtool supports -dlopen/-dlpreopen\" >&5\n+echo \"configure:2119: checking whether libtool supports -dlopen/-dlpreopen\" >&5\n if eval \"test \\\"`echo '$''{'libltdl_cv_preloaded_symbols'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2101,15 +2137,15 @@ fi\n \n LIBADD_DL=\n echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n-echo \"configure:2105: checking for dlopen in -ldl\" >&5\n+echo \"configure:2141: checking for dlopen in -ldl\" >&5\n ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2113 \"configure\"\n+#line 2149 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2120,7 +2156,7 @@ int main() {\n dlopen()\n ; return 0; }\n EOF\n-if { (eval echo configure:2124: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2160: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2142,12 +2178,12 @@ EOF\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for dlopen\"\"... $ac_c\" 1>&6\n-echo \"configure:2146: checking for dlopen\" >&5\n+echo \"configure:2182: checking for dlopen\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_dlopen'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2151 \"configure\"\n+#line 2187 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char dlopen(); below.  */\n@@ -2170,7 +2206,7 @@ dlopen();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2174: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2210: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_dlopen=yes\"\n else\n@@ -2195,12 +2231,12 @@ fi\n fi\n \n echo $ac_n \"checking for shl_load\"\"... $ac_c\" 1>&6\n-echo \"configure:2199: checking for shl_load\" >&5\n+echo \"configure:2235: checking for shl_load\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_shl_load'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2204 \"configure\"\n+#line 2240 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char shl_load(); below.  */\n@@ -2223,7 +2259,7 @@ shl_load();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2227: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2263: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_shl_load=yes\"\n else\n@@ -2244,15 +2280,15 @@ EOF\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for shl_load in -ldld\"\"... $ac_c\" 1>&6\n-echo \"configure:2248: checking for shl_load in -ldld\" >&5\n+echo \"configure:2284: checking for shl_load in -ldld\" >&5\n ac_lib_var=`echo dld'_'shl_load | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldld  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2256 \"configure\"\n+#line 2292 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2263,7 +2299,7 @@ int main() {\n shl_load()\n ; return 0; }\n EOF\n-if { (eval echo configure:2267: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2303: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2289,15 +2325,15 @@ fi\n fi\n \n echo $ac_n \"checking for dld_link in -ldld\"\"... $ac_c\" 1>&6\n-echo \"configure:2293: checking for dld_link in -ldld\" >&5\n+echo \"configure:2329: checking for dld_link in -ldld\" >&5\n ac_lib_var=`echo dld'_'dld_link | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldld  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2301 \"configure\"\n+#line 2337 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2308,7 +2344,7 @@ int main() {\n dld_link()\n ; return 0; }\n EOF\n-if { (eval echo configure:2312: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2348: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2339,12 +2375,12 @@ if test \"x$ac_cv_func_dlopen\" = xyes || test \"x$ac_cv_lib_dl_dlopen\" = xyes; the\n  for ac_func in dlerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2343: checking for $ac_func\" >&5\n+echo \"configure:2379: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2348 \"configure\"\n+#line 2384 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2367,7 +2403,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2371: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2407: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2396,7 +2432,7 @@ fi\n \n # Check for command to grab the raw symbol name followed by C symbol from nm.\n echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n-echo \"configure:2400: checking command to parse $NM output\" >&5\n+echo \"configure:2436: checking command to parse $NM output\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2459,11 +2495,11 @@ void nm_test_func(){}\n int main(){nm_test_var='a';nm_test_func;return 0;}\n EOF\n \n-  if { (eval echo configure:2463: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:2499: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     # Now try to grab the symbols.\n     ac_nlist=conftest.nm\n   \n-    if { (eval echo configure:2467: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+    if { (eval echo configure:2503: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n \n       # Try sorting and uniquifying the output.\n       if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n@@ -2515,7 +2551,7 @@ EOF\n \t  ac_save_CFLAGS=\"$CFLAGS\"\n \t  LIBS=\"conftstm.$ac_objext\"\n \t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if { (eval echo configure:2519: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+\t  if { (eval echo configure:2555: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n \t    ac_pipe_works=yes\n \t  else\n \t    echo \"configure: failed program was:\" >&5\n@@ -2561,7 +2597,7 @@ fi\n echo \"$ac_t\"\"$ac_result\" 1>&6\n \n echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:2565: checking for _ prefix in compiled symbols\" >&5\n+echo \"configure:2601: checking for _ prefix in compiled symbols\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2570,10 +2606,10 @@ cat > conftest.$ac_ext <<EOF\n void nm_test_func(){}\n int main(){nm_test_func;return 0;}\n EOF\n-if { (eval echo configure:2574: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2610: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   # Now try to grab the symbols.\n   ac_nlist=conftest.nm\n-  if { (eval echo configure:2577: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+  if { (eval echo configure:2613: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n     # See whether the symbols have a leading underscore.\n     if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n       ac_cv_sys_symbol_underscore=yes\n@@ -2601,7 +2637,7 @@ if test x\"$ac_cv_sys_symbol_underscore\" = xyes; then\n   if test x\"$ac_cv_func_dlopen\" = xyes ||\n      test x\"$ac_cv_lib_dl_dlopen\" = xyes ; then\n \techo $ac_n \"checking whether we have to add an underscore for dlsym\"\"... $ac_c\" 1>&6\n-echo \"configure:2605: checking whether we have to add an underscore for dlsym\" >&5\n+echo \"configure:2641: checking whether we have to add an underscore for dlsym\" >&5\n if eval \"test \\\"`echo '$''{'libltdl_cv_need_uscore'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2610,7 +2646,7 @@ else\n \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2614 \"configure\"\n+#line 2650 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -2657,7 +2693,7 @@ main() { void *self, *ptr1, *ptr2; self=dlopen(0,LTDL_GLOBAL|LTDL_LAZY_OR_NOW);\n \t       if(ptr1 && !ptr2) { dlclose(self); exit(0); } } exit(1); } \n \n EOF\n-if { (eval echo configure:2661: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2697: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   libltdl_cv_need_uscore=no\n else\n@@ -2844,6 +2880,7 @@ s%@RANLIB@%$RANLIB%g\n s%@LN_S@%$LN_S%g\n s%@LIBTOOL@%$LIBTOOL%g\n s%@LIBTOOL_DEPS@%$LIBTOOL_DEPS%g\n+s%@GCINCS@%$GCINCS%g\n s%@INSTALL_LTDL_TRUE@%$INSTALL_LTDL_TRUE%g\n s%@INSTALL_LTDL_FALSE@%$INSTALL_LTDL_FALSE%g\n s%@CONVENIENCE_LTDL_TRUE@%$CONVENIENCE_LTDL_TRUE%g"}, {"sha": "7586ff8ab0e1fde8388577ed461211d9ae014cf0", "filename": "libjava/libltdl/configure.in", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Fconfigure.in?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -27,6 +27,22 @@ AC_SUBST(LIBTOOL_DEPS)\n AC_ARG_ENABLE(ltdl-install,\n [  --enable-ltdl-install   install libltdl])\n \n+AC_MSG_CHECKING([for garbage collector to use])\n+AC_ARG_ENABLE(java-gc,\n+changequote(<<,>>)dnl\n+<<  --enable-java-gc=TYPE   choose garbage collector [boehm]>>,\n+changequote([,])\n+  GC=$enableval,\n+  GC=boehm)\n+\n+GCINCS=\n+if test \"$GC\" = \"boehm\"; then\n+   GCINCS='-I$(top_srcdir)/../../boehm-gc -I$(top_builddir)/../../boehm-gc'\n+   GCINCS=\"$GCINCS `cat ../../boehm-gc/boehm-cflags`\"\n+   AC_DEFINE(HAVE_BOEHM_GC)\n+fi\n+AC_SUBST(GCINCS)\n+\n AM_CONDITIONAL(INSTALL_LTDL, test x\"${enable_ltdl_install-no}\" != xno)\n AM_CONDITIONAL(CONVENIENCE_LTDL, test x\"${enable_ltdl_convenience-no}\" != xno)\n "}, {"sha": "4abbdd3a29d9a966db0687d97cb7e83e85a6fc56", "filename": "libjava/libltdl/ltdl.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fltdl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fltdl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Fltdl.c?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -58,6 +58,10 @@ Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA\n #include <stdio.h>\n #endif\n \n+#if HAVE_BOEHM_GC\n+#include <gc.h>\n+#endif\n+\n #include \"ltdl.h\"\n \n /* max. filename length */"}, {"sha": "9788f70238c91894045d22366fa941580826c3c1", "filename": "libjava/libltdl/stamp-h.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fstamp-h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77de5d85d0492c686d37f00851c2189ee71e6348/libjava%2Flibltdl%2Fstamp-h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibltdl%2Fstamp-h.in?ref=77de5d85d0492c686d37f00851c2189ee71e6348", "patch": "@@ -0,0 +1 @@\n+timestamp"}]}