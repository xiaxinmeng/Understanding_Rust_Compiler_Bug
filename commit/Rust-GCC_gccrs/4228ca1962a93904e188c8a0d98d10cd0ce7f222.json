{"sha": "4228ca1962a93904e188c8a0d98d10cd0ce7f222", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDIyOGNhMTk2MmE5MzkwNGUxODhjOGEwZDk4ZDEwY2QwY2U3ZjIyMg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2016-08-05T12:21:46Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2016-08-05T12:21:46Z"}, "message": "re PR c++/68724 (ice in unify, at cp/pt.c:19902)\n\n\tPR c++/68724\n\t* pt.c (unify): TRAIT_EXPR is an expr.\n\n\tPR c++/68724\n\t* g++.dg/cpp0x/pr68724.C: New.\n\nFrom-SVN: r239167", "tree": {"sha": "ebcbc776a45eeb53d02fc298ababf85fb2821a6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebcbc776a45eeb53d02fc298ababf85fb2821a6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4228ca1962a93904e188c8a0d98d10cd0ce7f222", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4228ca1962a93904e188c8a0d98d10cd0ce7f222", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4228ca1962a93904e188c8a0d98d10cd0ce7f222", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4228ca1962a93904e188c8a0d98d10cd0ce7f222/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "98e6e662332b75149288e6f1e1171e0b131a8981", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98e6e662332b75149288e6f1e1171e0b131a8981", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98e6e662332b75149288e6f1e1171e0b131a8981"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "ddafa93cae5b1b7ea847c5085abbf8e755a5854b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=4228ca1962a93904e188c8a0d98d10cd0ce7f222", "patch": "@@ -1,3 +1,8 @@\n+2016-08-05  Nathan Sidwell  <nathan@acm.org>\n+\n+\tPR c++/68724\n+\t* pt.c (unify): TRAIT_EXPR is an expr.\n+\n 2016-08-04  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/72800"}, {"sha": "d3d2d4e4c26b950bbc4a6607edd6c0d23b543f31", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=4228ca1962a93904e188c8a0d98d10cd0ce7f222", "patch": "@@ -20269,7 +20269,7 @@ unify (tree tparms, tree targs, tree parm, tree arg, int strict,\n       /* An unresolved overload is a nondeduced context.  */\n       if (is_overloaded_fn (parm) || type_unknown_p (parm))\n \treturn unify_success (explain_p);\n-      gcc_assert (EXPR_P (parm));\n+      gcc_assert (EXPR_P (parm) || TREE_CODE (parm) == TRAIT_EXPR);\n     expr:\n       /* We must be looking at an expression.  This can happen with\n \t something like:"}, {"sha": "e807b298fe3a8057cf607a3f214c88c7424821c8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4228ca1962a93904e188c8a0d98d10cd0ce7f222", "patch": "@@ -1,3 +1,8 @@\n+2016-08-05  Nathan Sidwell  <nathan@acm.org>\n+\n+\tPR c++/68724\n+\t* g++.dg/cpp0x/pr68724.C: New.\n+\n 2016-08-05  Richard Biener  <rguenther@suse.de>\n \n \t* gcc.dg/tree-ssa/ivopt_5.c: Make robust against edge swapping."}, {"sha": "ff6d84dc3f7b26c8f0a98772fe92a253e3001fcf", "filename": "gcc/testsuite/g++.dg/cpp0x/pr68724.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr68724.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4228ca1962a93904e188c8a0d98d10cd0ce7f222/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr68724.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr68724.C?ref=4228ca1962a93904e188c8a0d98d10cd0ce7f222", "patch": "@@ -0,0 +1,15 @@\n+// PR 68724 ICE in  unificiation\n+// { dg-do compile { target c++11 } }\n+\n+template <typename _Tp, _Tp>\n+struct integral_constant\n+{\n+};\n+\n+integral_constant<bool, true> inst;\n+\n+template <typename _Tp>\n+struct integral_constant<bool, __is_enum(_Tp)> // { dg-error \"\" }\n+{\n+};\n+"}]}