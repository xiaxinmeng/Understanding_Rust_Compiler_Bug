{"sha": "13c22933ff95834fdb08e504efa53cbcbf50783a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNjMjI5MzNmZjk1ODM0ZmRiMDhlNTA0ZWZhNTNjYmNiZjUwNzgzYQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-11-26T20:08:08Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-11-26T20:08:08Z"}, "message": "configure.in: Move AC_CANONICAL_SYSTEM and AC_ARG_PROGRAM back before AC_PROG_CC.\n\n\t* configure.in: Move AC_CANONICAL_SYSTEM and AC_ARG_PROGRAM back\n\tbefore AC_PROG_CC.\n\t* configure: Rebuilt.\n\nFrom-SVN: r59532", "tree": {"sha": "85dcefbaad0db5c601a3cbbae124e19c535ce5b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85dcefbaad0db5c601a3cbbae124e19c535ce5b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13c22933ff95834fdb08e504efa53cbcbf50783a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13c22933ff95834fdb08e504efa53cbcbf50783a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13c22933ff95834fdb08e504efa53cbcbf50783a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13c22933ff95834fdb08e504efa53cbcbf50783a/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6b5aa5d056cb12df412bf5f34617101c049be43c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b5aa5d056cb12df412bf5f34617101c049be43c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b5aa5d056cb12df412bf5f34617101c049be43c"}], "stats": {"total": 341, "additions": 151, "deletions": 190}, "files": [{"sha": "370dcffdb0405f4b6814f1f29b51d70a5f19be4a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=13c22933ff95834fdb08e504efa53cbcbf50783a", "patch": "@@ -1,3 +1,9 @@\n+2002-11-26  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* configure.in: Move AC_CANONICAL_SYSTEM and AC_ARG_PROGRAM back\n+\tbefore AC_PROG_CC.\n+\t* configure: Rebuilt.\n+\n 2002-11-26  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* c-decl.c: (start_struct): Commonize flag setting."}, {"sha": "1e3dc129c6c1e1b95c4968b4e337bed054247f53", "filename": "gcc/configure", "status": "modified", "additions": 139, "deletions": 184, "changes": 323, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=13c22933ff95834fdb08e504efa53cbcbf50783a", "patch": "@@ -791,6 +791,137 @@ if test x${gcc_gxx_include_dir} = x; then\n   fi\n fi\n \n+# Determine the host, build, and target systems\n+ac_aux_dir=\n+for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { echo \"configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" 1>&2; exit 1; }\n+fi\n+ac_config_guess=$ac_aux_dir/config.guess\n+ac_config_sub=$ac_aux_dir/config.sub\n+ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n+\n+\n+# Do some error checking and defaulting for the host and target type.\n+# The inputs are:\n+#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n+#\n+# The rules are:\n+# 1. You are not allowed to specify --host, --target, and nonopt at the\n+#    same time.\n+# 2. Host defaults to nonopt.\n+# 3. If nonopt is not specified, then host defaults to the current host,\n+#    as determined by config.guess.\n+# 4. Target and build default to nonopt.\n+# 5. If nonopt is not specified, then target and build default to host.\n+\n+# The aliases save the names the user supplied, while $host etc.\n+# will get canonicalized.\n+case $host---$target---$nonopt in\n+NONE---*---* | *---NONE---* | *---*---NONE) ;;\n+*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n+esac\n+\n+\n+# Make sure we can run config.sub.\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n+else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n+echo \"configure:843: checking host system type\" >&5\n+\n+host_alias=$host\n+case \"$host_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE)\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n+    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n+    fi ;;\n+  *) host_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n+host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$host\" 1>&6\n+\n+echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n+echo \"configure:864: checking target system type\" >&5\n+\n+target_alias=$target\n+case \"$target_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) target_alias=$host_alias ;;\n+  *) target_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n+target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$target\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:882: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+test \"$host_alias\" != \"$target_alias\" &&\n+  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n+    NONENONEs,x,x, &&\n+  program_prefix=${target_alias}-\n+\n+\n+# Set program_transform_name\n+if test \"$program_transform_name\" = s,x,x,; then\n+  program_transform_name=\n+else\n+  # Double any \\ or $.  echo might interpret backslashes.\n+  cat <<\\EOF_SED > conftestsed\n+s,\\\\,\\\\\\\\,g; s,\\$,$$,g\n+EOF_SED\n+  program_transform_name=\"`echo $program_transform_name|sed -f conftestsed`\"\n+  rm -f conftestsed\n+fi\n+test \"$program_prefix\" != NONE &&\n+  program_transform_name=\"s,^,${program_prefix},; $program_transform_name\"\n+# Use a double $ so make ignores it.\n+test \"$program_suffix\" != NONE &&\n+  program_transform_name=\"s,\\$\\$,${program_suffix},; $program_transform_name\"\n+\n+# sed with no file args requires a program.\n+test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n+\n+\n # Find the native compiler\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n@@ -1076,70 +1207,6 @@ fi\n \n \n # See if GNAT has been installed\n-ac_aux_dir=\n-for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n-  if test -f $ac_dir/install-sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n-    break\n-  elif test -f $ac_dir/install.sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n-    break\n-  fi\n-done\n-if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" 1>&2; exit 1; }\n-fi\n-ac_config_guess=$ac_aux_dir/config.guess\n-ac_config_sub=$ac_aux_dir/config.sub\n-ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n-\n-\n-# Make sure we can run config.sub.\n-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n-else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n-fi\n-\n-echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1106: checking host system type\" >&5\n-\n-host_alias=$host\n-case \"$host_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE)\n-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n-    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n-    fi ;;\n-  *) host_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n-host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$host\" 1>&6\n-\n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:1127: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n if test $host != $build; then\n   ac_tool_prefix=${host_alias}-\n else\n@@ -2185,118 +2252,6 @@ fi\n \n \n \n-# Determine the host, build, and target systems\n-\n-# Do some error checking and defaulting for the host and target type.\n-# The inputs are:\n-#    configure --host=HOST --target=TARGET --build=BUILD NONOPT\n-#\n-# The rules are:\n-# 1. You are not allowed to specify --host, --target, and nonopt at the\n-#    same time.\n-# 2. Host defaults to nonopt.\n-# 3. If nonopt is not specified, then host defaults to the current host,\n-#    as determined by config.guess.\n-# 4. Target and build default to nonopt.\n-# 5. If nonopt is not specified, then target and build default to host.\n-\n-# The aliases save the names the user supplied, while $host etc.\n-# will get canonicalized.\n-case $host---$target---$nonopt in\n-NONE---*---* | *---NONE---* | *---*---NONE) ;;\n-*) { echo \"configure: error: can only configure for one host and one target at a time\" 1>&2; exit 1; } ;;\n-esac\n-\n-\n-# Make sure we can run config.sub.\n-if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n-else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n-fi\n-\n-echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2218: checking host system type\" >&5\n-\n-host_alias=$host\n-case \"$host_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE)\n-    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n-    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n-    fi ;;\n-  *) host_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n-host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$host\" 1>&6\n-\n-echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2239: checking target system type\" >&5\n-\n-target_alias=$target\n-case \"$target_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) target_alias=$host_alias ;;\n-  *) target_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`\n-target_cpu=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-target_vendor=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$target\" 1>&6\n-\n-echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:2257: checking build system type\" >&5\n-\n-build_alias=$build\n-case \"$build_alias\" in\n-NONE)\n-  case $nonopt in\n-  NONE) build_alias=$host_alias ;;\n-  *) build_alias=$nonopt ;;\n-  esac ;;\n-esac\n-\n-build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n-build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-echo \"$ac_t\"\"$build\" 1>&6\n-\n-test \"$host_alias\" != \"$target_alias\" &&\n-  test \"$program_prefix$program_suffix$program_transform_name\" = \\\n-    NONENONEs,x,x, &&\n-  program_prefix=${target_alias}-\n-\n-\n-# Set program_transform_name\n-if test \"$program_transform_name\" = s,x,x,; then\n-  program_transform_name=\n-else\n-  # Double any \\ or $.  echo might interpret backslashes.\n-  cat <<\\EOF_SED > conftestsed\n-s,\\\\,\\\\\\\\,g; s,\\$,$$,g\n-EOF_SED\n-  program_transform_name=\"`echo $program_transform_name|sed -f conftestsed`\"\n-  rm -f conftestsed\n-fi\n-test \"$program_prefix\" != NONE &&\n-  program_transform_name=\"s,^,${program_prefix},; $program_transform_name\"\n-# Use a double $ so make ignores it.\n-test \"$program_suffix\" != NONE &&\n-  program_transform_name=\"s,\\$\\$,${program_suffix},; $program_transform_name\"\n-\n-# sed with no file args requires a program.\n-test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n-\n-\n # Stage specific cflags for build.\n stage1_cflags=\n case $build in\n@@ -8889,19 +8844,24 @@ s%@includedir@%$includedir%g\n s%@oldincludedir@%$oldincludedir%g\n s%@infodir@%$infodir%g\n s%@mandir@%$mandir%g\n-s%@CC@%$CC%g\n-s%@NO_MINUS_C_MINUS_O@%$NO_MINUS_C_MINUS_O%g\n-s%@OUTPUT_OPTION@%$OUTPUT_OPTION%g\n s%@host@%$host%g\n s%@host_alias@%$host_alias%g\n s%@host_cpu@%$host_cpu%g\n s%@host_vendor@%$host_vendor%g\n s%@host_os@%$host_os%g\n+s%@target@%$target%g\n+s%@target_alias@%$target_alias%g\n+s%@target_cpu@%$target_cpu%g\n+s%@target_vendor@%$target_vendor%g\n+s%@target_os@%$target_os%g\n s%@build@%$build%g\n s%@build_alias@%$build_alias%g\n s%@build_cpu@%$build_cpu%g\n s%@build_vendor@%$build_vendor%g\n s%@build_os@%$build_os%g\n+s%@CC@%$CC%g\n+s%@NO_MINUS_C_MINUS_O@%$NO_MINUS_C_MINUS_O%g\n+s%@OUTPUT_OPTION@%$OUTPUT_OPTION%g\n s%@GNATBIND@%$GNATBIND%g\n s%@ADAC@%$ADAC%g\n s%@strict1_warn@%$strict1_warn%g\n@@ -8914,11 +8874,6 @@ s%@valgrind_path_defines@%$valgrind_path_defines%g\n s%@valgrind_command@%$valgrind_command%g\n s%@coverage_flags@%$coverage_flags%g\n s%@enable_shared@%$enable_shared%g\n-s%@target@%$target%g\n-s%@target_alias@%$target_alias%g\n-s%@target_cpu@%$target_cpu%g\n-s%@target_vendor@%$target_vendor%g\n-s%@target_os@%$target_os%g\n s%@stage1_cflags@%$stage1_cflags%g\n s%@SET_MAKE@%$SET_MAKE%g\n s%@AWK@%$AWK%g"}, {"sha": "c68fbee11bf238c393696545de733efc2f9616e6", "filename": "gcc/configure.in", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13c22933ff95834fdb08e504efa53cbcbf50783a/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=13c22933ff95834fdb08e504efa53cbcbf50783a", "patch": "@@ -176,6 +176,12 @@ changequote([, ])dnl\n   fi\n fi\n \n+# Determine the host, build, and target systems\n+AC_CANONICAL_SYSTEM\n+\n+# Set program_transform_name\n+AC_ARG_PROGRAM\n+\n # Find the native compiler\n AC_PROG_CC\n AC_PROG_CC_C_O\n@@ -469,12 +475,6 @@ AC_ARG_ENABLE(shared,\n ], [enable_shared=yes])\n AC_SUBST(enable_shared)\n \n-# Determine the host, build, and target systems\n-AC_CANONICAL_SYSTEM\n-\n-# Set program_transform_name\n-AC_ARG_PROGRAM\n-\n # Stage specific cflags for build.\n stage1_cflags=\n case $build in"}]}