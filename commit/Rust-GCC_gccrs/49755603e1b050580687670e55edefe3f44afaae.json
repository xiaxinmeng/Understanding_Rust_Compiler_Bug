{"sha": "49755603e1b050580687670e55edefe3f44afaae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk3NTU2MDNlMWIwNTA1ODA2ODc2NzBlNTVlZGVmZTNmNDRhZmFhZQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2005-05-13T21:56:58Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2005-05-13T21:56:58Z"}, "message": "arm.h (INITIALIZE_TRAMPOLINE): Make the call to __clear_cache unconditional.\n\n\t* arm.h (INITIALIZE_TRAMPOLINE): Make the call to __clear_cache\n\tunconditional.\n\nFrom-SVN: r99680", "tree": {"sha": "b4de5e0bba96d8774f2eab49ab92697a202847df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4de5e0bba96d8774f2eab49ab92697a202847df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49755603e1b050580687670e55edefe3f44afaae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49755603e1b050580687670e55edefe3f44afaae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49755603e1b050580687670e55edefe3f44afaae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49755603e1b050580687670e55edefe3f44afaae/comments", "author": null, "committer": null, "parents": [{"sha": "4f5dfed0dcb4a191924159488ef23e0d8e5807e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f5dfed0dcb4a191924159488ef23e0d8e5807e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f5dfed0dcb4a191924159488ef23e0d8e5807e4"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "247e492445787937482a23bfab62016cd5cbf4c8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49755603e1b050580687670e55edefe3f44afaae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49755603e1b050580687670e55edefe3f44afaae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=49755603e1b050580687670e55edefe3f44afaae", "patch": "@@ -1,3 +1,8 @@\n+2005-05-13  Richard Earnshaw  <richard.earnshaw@arm.com>\n+\n+\t* arm.h (INITIALIZE_TRAMPOLINE): Make the call to __clear_cache\n+\tunconditional.\n+\n 2005-05-13  Josh Conner  <jconner@apple.com>\n \n \t* config/arm/arm.c (arm_size_return_regs): New."}, {"sha": "7b563469ab3d3ff45d614ad4a31e9c430765d5af", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49755603e1b050580687670e55edefe3f44afaae/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49755603e1b050580687670e55edefe3f44afaae/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=49755603e1b050580687670e55edefe3f44afaae", "patch": "@@ -1776,15 +1776,6 @@ typedef struct\n /* Alignment required for a trampoline in bits.  */\n #define TRAMPOLINE_ALIGNMENT  32\n \n-/* Call __clear_cache after setting up the trampoline unless this is a nop.  */\n-#ifdef CLEAR_INSN_CACHE\n-#define ARM_EMIT_TRAMPOLINE_CACHE_CLEAR(TRAMP)\t\t\t\t\\\n-  emit_library_call (gen_rtx_SYMBOL_REF (Pmode, \"__clear_cache\"),\t\\\n-\t\t     0, VOIDmode, 2, TRAMP, Pmode,\t\t\t\\\n-\t\t     plus_constant (TRAMP, TRAMPOLINE_SIZE), Pmode);\n-#else\n-#define ARM_EMIT_TRAMPOLINE_CACHE_CLEAR(TRAMP) do {} while (0)\n-#endif\n \n /* Emit RTL insns to initialize the variable parts of a trampoline.\n    FNADDR is an RTX for the address of the function's pure code.\n@@ -1800,7 +1791,9 @@ typedef struct\n \t\t\t       plus_constant (TRAMP,\t\t\t\\\n \t\t\t\t\t      TARGET_ARM ? 12 : 20)),\t\\\n \t\t  FNADDR);\t\t\t\t\t\t\\\n-  ARM_EMIT_TRAMPOLINE_CACHE_CLEAR (TRAMP);\t\t\t\t\\\n+  emit_library_call (gen_rtx_SYMBOL_REF (Pmode, \"__clear_cache\"),\t\\\n+\t\t     0, VOIDmode, 2, TRAMP, Pmode,\t\t\t\\\n+\t\t     plus_constant (TRAMP, TRAMPOLINE_SIZE), Pmode);\t\\\n }\n #endif\n "}]}