{"sha": "4643b71608fa0dfcd70943fea33159fc04510831", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY0M2I3MTYwOGZhMGRmY2Q3MDk0M2ZlYTMzMTU5ZmMwNDUxMDgzMQ==", "commit": {"author": {"name": "Dorit Nuzman", "email": "dorit@il.ibm.com", "date": "2007-07-05T10:56:04Z"}, "committer": {"name": "Dorit Nuzman", "email": "dorit@gcc.gnu.org", "date": "2007-07-05T10:56:04Z"}, "message": "re PR testsuite/32014 (new gcc failures)\n\n        PR testsuite/32014\n        * config/rs6000/altivec.md (UNSPEC_VUPKHS_V4SF, UNSPEC_VUPKLS_V4SF):\n        (UNSPEC_VUPKHU_V4SF, UNSPEC_VUPKLU_V4SF): New.\n        (vec_unpacks_float_hi_v8hi, vec_unpacks_float_lo_v8hi): New patterns.\n        (vec_unpacku_float_hi_v8hi, vec_unpacku_float_lo_v8hi): New patterns.\n\nFrom-SVN: r126361", "tree": {"sha": "b66ccf0d8f7b763fcc5fbbbd1dcf7327e804489d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b66ccf0d8f7b763fcc5fbbbd1dcf7327e804489d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4643b71608fa0dfcd70943fea33159fc04510831", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4643b71608fa0dfcd70943fea33159fc04510831", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4643b71608fa0dfcd70943fea33159fc04510831", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4643b71608fa0dfcd70943fea33159fc04510831/comments", "author": null, "committer": null, "parents": [{"sha": "b301e9b3a4ffcc1865c55dd77eb191deddaff5fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b301e9b3a4ffcc1865c55dd77eb191deddaff5fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b301e9b3a4ffcc1865c55dd77eb191deddaff5fb"}], "stats": {"total": 68, "additions": 68, "deletions": 0}, "files": [{"sha": "b4e0db03b4f07e653b174732710349524b1108cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4643b71608fa0dfcd70943fea33159fc04510831/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4643b71608fa0dfcd70943fea33159fc04510831/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4643b71608fa0dfcd70943fea33159fc04510831", "patch": "@@ -1,3 +1,11 @@\n+2007-07-05  Dorit Nuzman  <dorit@il.ibm.com>\n+\n+\tPR testsuite/32014\n+\t* config/rs6000/altivec.md (UNSPEC_VUPKHS_V4SF, UNSPEC_VUPKLS_V4SF):\n+\t(UNSPEC_VUPKHU_V4SF, UNSPEC_VUPKLU_V4SF): New.\n+\t(vec_unpacks_float_hi_v8hi, vec_unpacks_float_lo_v8hi): New patterns.\n+\t(vec_unpacku_float_hi_v8hi, vec_unpacku_float_lo_v8hi): New patterns. \n+\n 2007-07-05  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \t* config/i386/i386.c (ix86_address_cost): Do not consider more complex"}, {"sha": "5da91a78b41a068693873dda0a4ad4c22c13d38d", "filename": "gcc/config/rs6000/altivec.md", "status": "modified", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4643b71608fa0dfcd70943fea33159fc04510831/gcc%2Fconfig%2Frs6000%2Faltivec.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4643b71608fa0dfcd70943fea33159fc04510831/gcc%2Fconfig%2Frs6000%2Faltivec.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faltivec.md?ref=4643b71608fa0dfcd70943fea33159fc04510831", "patch": "@@ -147,6 +147,10 @@\n    (UNSPEC_VPERMHI\t321)\n    (UNSPEC_INTERHI      322)\n    (UNSPEC_INTERLO      323)\n+   (UNSPEC_VUPKHS_V4SF   324)\n+   (UNSPEC_VUPKLS_V4SF   325)\n+   (UNSPEC_VUPKHU_V4SF   326)\n+   (UNSPEC_VUPKLU_V4SF   327)\n ])\n \n (define_constants\n@@ -2933,3 +2937,59 @@\n   emit_insn (gen_altivec_vmrgl<VI_char> (operands[0], operands[1], operands[2]));\n   DONE;\n }\")\n+\n+(define_expand \"vec_unpacks_float_hi_v8hi\"\n+ [(set (match_operand:V4SF 0 \"register_operand\" \"\")\n+        (unspec:V4SF [(match_operand:V8HI 1 \"register_operand\" \"\")]\n+                     UNSPEC_VUPKHS_V4SF))]\n+  \"TARGET_ALTIVEC\"\n+  \"\n+{\n+  rtx tmp = gen_reg_rtx (V4SImode);\n+\n+  emit_insn (gen_vec_unpacks_hi_v8hi (tmp, operands[1]));\n+  emit_insn (gen_altivec_vcfsx (operands[0], tmp, const0_rtx));\n+  DONE;\n+}\")\n+\n+(define_expand \"vec_unpacks_float_lo_v8hi\"\n+ [(set (match_operand:V4SF 0 \"register_operand\" \"\")\n+        (unspec:V4SF [(match_operand:V8HI 1 \"register_operand\" \"\")]\n+                     UNSPEC_VUPKLS_V4SF))]\n+  \"TARGET_ALTIVEC\"\n+  \"\n+{\n+  rtx tmp = gen_reg_rtx (V4SImode);\n+\n+  emit_insn (gen_vec_unpacks_lo_v8hi (tmp, operands[1]));\n+  emit_insn (gen_altivec_vcfsx (operands[0], tmp, const0_rtx));\n+  DONE;\n+}\")\n+\n+(define_expand \"vec_unpacku_float_hi_v8hi\"\n+ [(set (match_operand:V4SF 0 \"register_operand\" \"\")\n+        (unspec:V4SF [(match_operand:V8HI 1 \"register_operand\" \"\")]\n+                     UNSPEC_VUPKHU_V4SF))]\n+  \"TARGET_ALTIVEC\"\n+  \"\n+{\n+  rtx tmp = gen_reg_rtx (V4SImode);\n+\n+  emit_insn (gen_vec_unpacku_hi_v8hi (tmp, operands[1]));\n+  emit_insn (gen_altivec_vcfux (operands[0], tmp, const0_rtx));\n+  DONE;\n+}\")\n+\n+(define_expand \"vec_unpacku_float_lo_v8hi\"\n+ [(set (match_operand:V4SF 0 \"register_operand\" \"\")\n+        (unspec:V4SF [(match_operand:V8HI 1 \"register_operand\" \"\")]\n+                     UNSPEC_VUPKLU_V4SF))]\n+  \"TARGET_ALTIVEC\"\n+  \"\n+{\n+  rtx tmp = gen_reg_rtx (V4SImode);\n+\n+  emit_insn (gen_vec_unpacku_lo_v8hi (tmp, operands[1]));\n+  emit_insn (gen_altivec_vcfux (operands[0], tmp, const0_rtx));\n+  DONE;\n+}\")"}]}