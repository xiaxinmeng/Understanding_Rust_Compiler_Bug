{"sha": "fd0811ef5da95c0787433dd30769a21e0ef662da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQwODExZWY1ZGE5NWMwNzg3NDMzZGQzMDc2OWEyMWUwZWY2NjJkYQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:44:38Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2005-03-21T17:44:38Z"}, "message": "configure.ac: Do not invoke TL_AC_GCC_VERSION.\n\n\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.\n\tIn all substitutions, expand gcc_version in Makefile.\n\t* aclocal.m4, configure: Regenerate.\n\t* Makefile.am: Set gcc_version.\n\t* Makefile.in, testsuite/Makefile.in: Regenerate.\n\nFrom-SVN: r96817", "tree": {"sha": "243562b22fb2b10d78c5fe68b548115ad53361b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/243562b22fb2b10d78c5fe68b548115ad53361b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd0811ef5da95c0787433dd30769a21e0ef662da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd0811ef5da95c0787433dd30769a21e0ef662da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd0811ef5da95c0787433dd30769a21e0ef662da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd0811ef5da95c0787433dd30769a21e0ef662da/comments", "author": null, "committer": null, "parents": [{"sha": "2b37e3d54db3df5d8be83ee4af75fddb8af274db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b37e3d54db3df5d8be83ee4af75fddb8af274db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b37e3d54db3df5d8be83ee4af75fddb8af274db"}], "stats": {"total": 66, "additions": 26, "deletions": 40}, "files": [{"sha": "0db7ecd89d23957e07d9c1d2d25f3feb29b5b8ed", "filename": "libmudflap/ChangeLog", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FChangeLog?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -1,3 +1,11 @@\n+2005-03-21  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* configure.ac: Do not invoke TL_AC_GCC_VERSION.\n+\tIn all substitutions, expand gcc_version in Makefile.\n+\t* aclocal.m4, configure: Regenerate.\n+\t* Makefile.am: Set gcc_version.\n+\t* Makefile.in, testsuite/Makefile.in: Regenerate.\n+\n 2005-03-17  Frank Ch. Eigler  <fche@redhat.com>\n \n \t* mf-runtime.c (__mfu_check): Respect ignore_reads configuration.\n@@ -91,7 +99,7 @@\n \t(fopen, setvbuf): New/revised hook functions for buffer overriding.\n \t(setbuf,setlinebuf,fdopen,freopen,fopen64,freopen64,fclose): Ditto.\n \t(fflush): Accept given NULL stream (means \"all streams\").\n-\t* mf-runtime.h.in: \n+\t* mf-runtime.h.in:\n \t* mf-runtime.c (__mfu_check): Accept accesses that span adjacent\n \tHEAP/GUESS objects.\n \t(LOOKUP_CACHE_SIZE_MAX): Raise to 64K entries tentatively.\n@@ -140,7 +148,7 @@\n \n 2004-08-03  Dale Johannesen  <dalej@apple.com>\n \n-         * mf-runtime.c: Conditionalize POSIX_SOURCE for Darwin.\n+\t * mf-runtime.c: Conditionalize POSIX_SOURCE for Darwin.\n \n 2004-08-03  Frank Ch. Eigler  <fche@redhat.com>\n "}, {"sha": "3be442a31390c1b05868484677d686b9844755ec", "filename": "libmudflap/Makefile.am", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FMakefile.am?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -9,6 +9,9 @@ ACLOCAL_AMFLAGS = -I .. -I ../config\n MAINT_CHARSET = latin1\n SUBDIRS = testsuite\n \n+# May be used by various substitution variables.\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n+\n SECTION_FLAGS = @SECTION_FLAGS@\n AM_CFLAGS = -Wall $(SECTION_FLAGS)\n "}, {"sha": "a96dac3e503dbf77d78d2cd9ba063179a6245352", "filename": "libmudflap/Makefile.in", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FMakefile.in?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -49,14 +49,15 @@ DIST_COMMON = $(am__configure_deps) $(include_HEADERS) \\\n \t$(top_srcdir)/configure ChangeLog\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/gcc-version.m4 \\\n-\t$(top_srcdir)/../libtool.m4 $(top_srcdir)/configure.ac\n+am__aclocal_m4_deps = $(top_srcdir)/../libtool.m4 \\\n+\t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n  configure.lineno configure.status.lineno\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_HEADER = config.h\n+CONFIG_CLEAN_FILES =\n am__vpath_adj_setup = srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`;\n am__vpath_adj = case $$p in \\\n     $(srcdir)/*) f=`echo \"$$p\" | sed \"s|^$$srcdirstrip/||\"`;; \\\n@@ -189,9 +190,6 @@ datadir = @datadir@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n exec_prefix = @exec_prefix@\n-gcc_version = @gcc_version@\n-gcc_version_full = @gcc_version_full@\n-gcc_version_trigger = @gcc_version_trigger@\n host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n@@ -223,6 +221,9 @@ AUTOMAKE_OPTIONS = 1.8 foreign\n ACLOCAL_AMFLAGS = -I .. -I ../config\n MAINT_CHARSET = latin1\n SUBDIRS = testsuite\n+\n+# May be used by various substitution variables.\n+gcc_version := $(shell cat $(top_srcdir)/../gcc/BASE-VER)\n AM_CFLAGS = -Wall $(SECTION_FLAGS)\n @LIBMUDFLAPTH_FALSE@libmudflapth = \n @LIBMUDFLAPTH_TRUE@libmudflapth = libmudflapth.la\n@@ -577,7 +578,7 @@ distclean-tags:\n distdir: $(DISTFILES)\n \t$(am__remove_distdir)\n \tmkdir $(distdir)\n-\t$(mkdir_p) $(distdir)/. $(distdir)/.. $(distdir)/../config $(distdir)/testsuite\n+\t$(mkdir_p) $(distdir)/.. $(distdir)/testsuite\n \t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n \ttopsrcdirstrip=`echo \"$(top_srcdir)\" | sed 's|.|.|g'`; \\\n \tlist='$(DISTFILES)'; for file in $$list; do \\"}, {"sha": "99613bff133f8fcab9e3c127382dc4f6b01abf0c", "filename": "libmudflap/aclocal.m4", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Faclocal.m4?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -1127,5 +1127,4 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n-m4_include([../config/gcc-version.m4])\n m4_include([../libtool.m4])"}, {"sha": "38935c6ce6b90dc7c011b62b712db5b2109c5c72", "filename": "libmudflap/configure", "status": "modified", "additions": 3, "deletions": 23, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Fconfigure?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CFLAGS CPP CPPFLAGS EGREP LN_S RANLIB ac_ct_RANLIB LIBTOOL enable_shared enable_static MF_HAVE_STDINT_H MF_HAVE_UINTPTR_T LIBMUDFLAPTH_TRUE LIBMUDFLAPTH_FALSE build_libmudflapth gcc_version_trigger gcc_version_full gcc_version toolexecdir toolexeclibdir NM ac_ct_NM SECTION_FLAGS LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir CC ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CFLAGS CPP CPPFLAGS EGREP LN_S RANLIB ac_ct_RANLIB LIBTOOL enable_shared enable_static MF_HAVE_STDINT_H MF_HAVE_UINTPTR_T LIBMUDFLAPTH_TRUE LIBMUDFLAPTH_FALSE build_libmudflapth toolexecdir toolexeclibdir NM ac_ct_NM SECTION_FLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -6509,23 +6509,6 @@ _ACEOF\n fi\n \n \n-\n-if test \"${with_gcc_version_trigger+set}\" = set; then\n-  gcc_version_trigger=$with_gcc_version_trigger\n-else\n-  gcc_version_trigger=$srcdir/../gcc/version.c\n-fi\n-if test -f \"${gcc_version_trigger}\"; then\n-  gcc_version_full=`grep version_string \"${gcc_version_trigger}\" | sed -e 's/.*\"\\([^\"]*\\)\".*/\\1/'`\n-else\n-  gcc_version_full=`$CC -v 2>&1 | sed -n 's/^gcc version //p'`\n-fi\n-gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n-\n-\n-\n-\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -6534,7 +6517,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n@@ -6854,7 +6837,7 @@ else\n   multilib_arg=\n fi\n \n-                                        ac_config_files=\"$ac_config_files Makefile testsuite/Makefile testsuite/mfconfig.exp\"\n+                              ac_config_files=\"$ac_config_files Makefile testsuite/Makefile testsuite/mfconfig.exp\"\n \n cat >confcache <<\\_ACEOF\n # This file is a shell script that caches the results of configure\n@@ -7587,9 +7570,6 @@ s,@MF_HAVE_UINTPTR_T@,$MF_HAVE_UINTPTR_T,;t t\n s,@LIBMUDFLAPTH_TRUE@,$LIBMUDFLAPTH_TRUE,;t t\n s,@LIBMUDFLAPTH_FALSE@,$LIBMUDFLAPTH_FALSE,;t t\n s,@build_libmudflapth@,$build_libmudflapth,;t t\n-s,@gcc_version_trigger@,$gcc_version_trigger,;t t\n-s,@gcc_version_full@,$gcc_version_full,;t t\n-s,@gcc_version@,$gcc_version,;t t\n s,@toolexecdir@,$toolexecdir,;t t\n s,@toolexeclibdir@,$toolexeclibdir,;t t\n s,@NM@,$NM,;t t"}, {"sha": "60c2c7fceddaf45f20baac62ff6c484f560488d9", "filename": "libmudflap/configure.ac", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Fconfigure.ac?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -132,8 +132,6 @@ AC_SUBST(build_libmudflapth)\n \n AC_CHECK_LIB(dl, dlsym)\n \n-TL_AC_GCC_VERSION([$srcdir/..])\n-\n # Calculate toolexeclibdir\n # Also toolexecdir, though it's only used in toolexeclibdir\n case ${version_specific_libs} in\n@@ -142,7 +140,7 @@ case ${version_specific_libs} in\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n     toolexecdir='$(libdir)/gcc/$(target_alias)'\n-    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/$(gcc_version)$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&"}, {"sha": "69f0161b0d3872a07cceb8916516c26e5ff49810", "filename": "libmudflap/testsuite/Makefile.in", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd0811ef5da95c0787433dd30769a21e0ef662da/libmudflap%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Ftestsuite%2FMakefile.in?ref=fd0811ef5da95c0787433dd30769a21e0ef662da", "patch": "@@ -40,8 +40,8 @@ subdir = testsuite\n DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in \\\n \t$(srcdir)/mfconfig.exp.in\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/gcc-version.m4 \\\n-\t$(top_srcdir)/../libtool.m4 $(top_srcdir)/configure.ac\n+am__aclocal_m4_deps = $(top_srcdir)/../libtool.m4 \\\n+\t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n@@ -127,9 +127,6 @@ datadir = @datadir@\n enable_shared = @enable_shared@\n enable_static = @enable_static@\n exec_prefix = @exec_prefix@\n-gcc_version = @gcc_version@\n-gcc_version_full = @gcc_version_full@\n-gcc_version_trigger = @gcc_version_trigger@\n host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@"}]}