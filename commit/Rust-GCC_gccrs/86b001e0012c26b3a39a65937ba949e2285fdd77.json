{"sha": "86b001e0012c26b3a39a65937ba949e2285fdd77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZiMDAxZTAwMTJjMjZiM2EzOWE2NTkzN2JhOTQ5ZTIyODVmZGQ3Nw==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-05-11T09:10:01Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-05-11T09:10:01Z"}, "message": "* rtlanal.c (rtx_cost): Handle TRUNCATE between tieable modes.\n\nFrom-SVN: r247881", "tree": {"sha": "efe627d8faa680ec7dd9c0eda14615bc695295d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efe627d8faa680ec7dd9c0eda14615bc695295d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86b001e0012c26b3a39a65937ba949e2285fdd77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86b001e0012c26b3a39a65937ba949e2285fdd77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86b001e0012c26b3a39a65937ba949e2285fdd77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86b001e0012c26b3a39a65937ba949e2285fdd77/comments", "author": null, "committer": null, "parents": [{"sha": "e81c832812e5432cb849146ca44ed64727e672af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e81c832812e5432cb849146ca44ed64727e672af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e81c832812e5432cb849146ca44ed64727e672af"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "9fe29bd6aa98181b913e0d905b5bfe3957fe7945", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86b001e0012c26b3a39a65937ba949e2285fdd77/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86b001e0012c26b3a39a65937ba949e2285fdd77/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=86b001e0012c26b3a39a65937ba949e2285fdd77", "patch": "@@ -1,3 +1,7 @@\n+2017-05-11  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* rtlanal.c (rtx_cost): Handle TRUNCATE between tieable modes.\n+\n 2017-05-11  Richard Biener  <rguenther@suse.de>\n \n \t* passes.c (execute_function_todo): Verify loops if they are"}, {"sha": "d9f57c30d8e6f01172e090a9077321b0d3216420", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86b001e0012c26b3a39a65937ba949e2285fdd77/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86b001e0012c26b3a39a65937ba949e2285fdd77/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=86b001e0012c26b3a39a65937ba949e2285fdd77", "patch": "@@ -4164,6 +4164,13 @@ rtx_cost (rtx x, machine_mode mode, enum rtx_code outer_code,\n \treturn COSTS_N_INSNS (2 + factor);\n       break;\n \n+    case TRUNCATE:\n+      if (MODES_TIEABLE_P (mode, GET_MODE (XEXP (x, 0))))\n+\t{\n+\t  total = 0;\n+\t  break;\n+\t}\n+      /* FALLTHRU */\n     default:\n       if (targetm.rtx_costs (x, mode, outer_code, opno, &total, speed))\n \treturn total;"}]}