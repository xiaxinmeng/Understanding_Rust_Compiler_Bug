{"sha": "40cfac7c7ee1989d80b0a1535c3747ab57769604", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBjZmFjN2M3ZWUxOTg5ZDgwYjBhMTUzNWMzNzQ3YWI1Nzc2OTYwNA==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2014-01-17T17:16:25Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2014-01-17T17:16:25Z"}, "message": "Use TARGET_XXX and !TARGET_XXX in i386.c\n\n\t* config/i386/i386.c (ix86_lea_outperforms): Use TARGET_XXX.\n\t(ix86_adjust_cost): Use !TARGET_XXX.\n\t(do_reorder_for_imul): Likewise.\n\t(swap_top_of_ready_list): Likewise.\n\t(ix86_sched_reorder): Likewise.\n\nFrom-SVN: r206720", "tree": {"sha": "c731306d915b8749b0dc3a49ab9ccd87b839024c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c731306d915b8749b0dc3a49ab9ccd87b839024c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40cfac7c7ee1989d80b0a1535c3747ab57769604", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40cfac7c7ee1989d80b0a1535c3747ab57769604", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40cfac7c7ee1989d80b0a1535c3747ab57769604", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40cfac7c7ee1989d80b0a1535c3747ab57769604/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8cdcf7504064e664082a8f777c47011ccebafa9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cdcf7504064e664082a8f777c47011ccebafa9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8cdcf7504064e664082a8f777c47011ccebafa9a"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "9a2160d11686f09935cdc9a0a3e3d3f28ec40b15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40cfac7c7ee1989d80b0a1535c3747ab57769604/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40cfac7c7ee1989d80b0a1535c3747ab57769604/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=40cfac7c7ee1989d80b0a1535c3747ab57769604", "patch": "@@ -1,3 +1,11 @@\n+2014-01-17  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* config/i386/i386.c (ix86_lea_outperforms): Use TARGET_XXX.\n+\t(ix86_adjust_cost): Use !TARGET_XXX.\n+\t(do_reorder_for_imul): Likewise.\n+\t(swap_top_of_ready_list): Likewise.\n+\t(ix86_sched_reorder): Likewise.\n+\n 2014-01-17  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/i386-c.c (ix86_target_macros_internal): Handle"}, {"sha": "7bfad8fa4837fa48cc23a486995de56856f88931", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40cfac7c7ee1989d80b0a1535c3747ab57769604/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40cfac7c7ee1989d80b0a1535c3747ab57769604/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=40cfac7c7ee1989d80b0a1535c3747ab57769604", "patch": "@@ -18020,7 +18020,7 @@ ix86_lea_outperforms (rtx insn, unsigned int regno0, unsigned int regno1,\n   /* For Silvermont if using a 2-source or 3-source LEA for\n      non-destructive destination purposes, or due to wanting\n      ability to use SCALE, the use of LEA is justified.  */\n-  if (ix86_tune == PROCESSOR_SILVERMONT || ix86_tune == PROCESSOR_INTEL)\n+  if (TARGET_SILVERMONT || TARGET_INTEL)\n     {\n       if (has_scale)\n \treturn true;\n@@ -25567,7 +25567,7 @@ ix86_adjust_cost (rtx insn, rtx link, rtx dep_insn, int cost)\n       /* Stack engine allows to execute push&pop instructions in parall.  */\n       if (((insn_type == TYPE_PUSH || insn_type == TYPE_POP)\n \t   && (dep_insn_type == TYPE_PUSH || dep_insn_type == TYPE_POP))\n-\t  && (ix86_tune != PROCESSOR_ATHLON && ix86_tune != PROCESSOR_K8))\n+\t  && (!TARGET_ATHLON && !TARGET_K8))\n \treturn 0;\n \n       /* Show ability of reorder buffer to hide latency of load by executing\n@@ -25832,7 +25832,7 @@ do_reorder_for_imul (rtx *ready, int n_ready)\n   int index = -1;\n   int i;\n \n-  if (ix86_tune != PROCESSOR_BONNELL)\n+  if (!TARGET_BONNELL)\n     return index;\n \n   /* Check that IMUL instruction is on the top of ready list.  */\n@@ -25912,7 +25912,7 @@ swap_top_of_ready_list (rtx *ready, int n_ready)\n   int clock2 = -1;\n   #define INSN_TICK(INSN) (HID (INSN)->tick)\n \n-  if (ix86_tune != PROCESSOR_SILVERMONT && ix86_tune != PROCESSOR_INTEL)\n+  if (!TARGET_SILVERMONT && !TARGET_INTEL)\n     return false;\n \n   if (!NONDEBUG_INSN_P (top))\n@@ -25985,9 +25985,7 @@ ix86_sched_reorder (FILE *dump, int sched_verbose, rtx *ready, int *pn_ready,\n   issue_rate = ix86_issue_rate ();\n \n   /* Do reodering for BONNELL/SILVERMONT only.  */\n-  if (ix86_tune != PROCESSOR_BONNELL\n-      && ix86_tune != PROCESSOR_SILVERMONT\n-      && ix86_tune != PROCESSOR_INTEL)\n+  if (!TARGET_BONNELL && !TARGET_SILVERMONT && !TARGET_INTEL)\n     return issue_rate;\n \n   /* Nothing to do if ready list contains only 1 instruction.  */"}]}