{"sha": "21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFmZmI5NTg5ZWJkMDNlN2Q2ZTBiNmYyZDE0YmIzYzQzN2NjOWI2Zg==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2014-10-26T10:40:52Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2014-10-26T10:40:52Z"}, "message": "mep.c (mep_mul_hilo_bypass_1): Delete.\n\ngcc/\n\t* config/mep/mep.c (mep_mul_hilo_bypass_1): Delete.\n\t(mep_mul_hilo_bypass_p): Use FOR_EACH_SUBRTX.\n\nFrom-SVN: r216706", "tree": {"sha": "dadb68c26799f90bc63ee88145c161586b79ce4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dadb68c26799f90bc63ee88145c161586b79ce4c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d2053f5e8105108e534e608b41e85400fcfa5d0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2053f5e8105108e534e608b41e85400fcfa5d0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2053f5e8105108e534e608b41e85400fcfa5d0b"}], "stats": {"total": 32, "additions": 18, "deletions": 14}, "files": [{"sha": "d3aecdef5ce1e44cfd0356ceed7d1355bab56e7e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "patch": "@@ -1,3 +1,8 @@\n+2014-10-26  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* config/mep/mep.c (mep_mul_hilo_bypass_1): Delete.\n+\t(mep_mul_hilo_bypass_p): Use FOR_EACH_SUBRTX.\n+\n 2014-10-26  Richard Sandiford  <richard.sandiford@arm.com>\n \n \t* config/mep/mep.c (mep_store_find_set): Take a const_rtx and"}, {"sha": "838f88b89b18077579188d4128e0f71b261df9ef", "filename": "gcc/config/mep/mep.c", "status": "modified", "additions": 13, "deletions": 14, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f/gcc%2Fconfig%2Fmep%2Fmep.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f/gcc%2Fconfig%2Fmep%2Fmep.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmep%2Fmep.c?ref=21ffb9589ebd03e7d6e0b6f2d14bb3c437cc9b6f", "patch": "@@ -6710,18 +6710,6 @@ mep_store_data_bypass_p (rtx_insn *prev, rtx_insn *insn)\n   return INSN_P (insn) ? mep_store_data_bypass_1 (prev, PATTERN (insn)) : false;\n }\n \n-/* A for_each_rtx subroutine of mep_mul_hilo_bypass_p.  Return 1 if *X\n-   is a register other than LO or HI and if PREV sets *X.  */\n-\n-static int\n-mep_mul_hilo_bypass_1 (rtx *x, void *prev)\n-{\n-  return (REG_P (*x)\n-\t  && REGNO (*x) != LO_REGNO\n-\t  && REGNO (*x) != HI_REGNO\n-\t  && reg_set_p (*x, (const_rtx) prev));\n-}\n-\n /* Return true if, apart from HI/LO, there are no true dependencies\n    between multiplication instructions PREV and INSN.  */\n \n@@ -6733,8 +6721,19 @@ mep_mul_hilo_bypass_p (rtx_insn *prev, rtx_insn *insn)\n   pat = PATTERN (insn);\n   if (GET_CODE (pat) == PARALLEL)\n     pat = XVECEXP (pat, 0, 0);\n-  return (GET_CODE (pat) == SET\n-\t  && !for_each_rtx (&SET_SRC (pat), mep_mul_hilo_bypass_1, prev));\n+  if (GET_CODE (pat) != SET)\n+    return false;\n+  subrtx_iterator::array_type array;\n+  FOR_EACH_SUBRTX (iter, array, SET_SRC (pat), NONCONST)\n+    {\n+      const_rtx x = *iter;\n+      if (REG_P (x)\n+\t  && REGNO (x) != LO_REGNO\n+\t  && REGNO (x) != HI_REGNO\n+\t  && reg_set_p (x, prev))\n+\treturn false;\n+    }\n+  return true;\n }\n \n /* Return true if INSN is an ldc instruction that issues to the"}]}