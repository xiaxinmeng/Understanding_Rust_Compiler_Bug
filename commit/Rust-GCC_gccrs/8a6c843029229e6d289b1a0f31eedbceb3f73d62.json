{"sha": "8a6c843029229e6d289b1a0f31eedbceb3f73d62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGE2Yzg0MzAyOTIyOWU2ZDI4OWIxYTBmMzFlZWRiY2ViM2Y3M2Q2Mg==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2008-03-13T09:49:43Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-03-13T09:49:43Z"}, "message": "re PR c++/35553 (-fkeep-inline-functions and -O errors out in SSE headers)\n\n\tPR target/35553\n\t* config/i386/i386.h (TARGET_CPU_CPP_BUILTINS): Define\n\t__SSE_USE_INLINED_FUNC__ when using -flag-keep-inline-functions\n\ttogether with optimization.\n\t* config/i386/xmmintrin.h: Use __SSE_USE_INLINED_FUNC__ instead of\n\t__OPTIMIZE__ to choose between inlined intrinsic SSE function having\n\timmediate arguments and its equivalent macro definition.\n\t* config/i386/bmintrin.h: Ditto.\n\t* config/i386/smmintrin.h: Ditto.\n\t* config/i386/tmmintrin.h: Ditto.\n\t* config/i386/mmintrin-common.h: Ditto.\n\t* config/i386/ammintrin.h: Ditto.\n\t* config/i386/emmintrin.h: Ditto.\n\ntestsuite/ChangeLog:\n\n\tPR target/35553\n\t* g++.dg/other/i386-3.C: New test.\n\nFrom-SVN: r133164", "tree": {"sha": "00e1a4f280957573f0753c2ca1663b6b508d2af3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00e1a4f280957573f0753c2ca1663b6b508d2af3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a6c843029229e6d289b1a0f31eedbceb3f73d62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a6c843029229e6d289b1a0f31eedbceb3f73d62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a6c843029229e6d289b1a0f31eedbceb3f73d62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a6c843029229e6d289b1a0f31eedbceb3f73d62/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "22aee8c5a9dabc4d5a716eaa0a6a65e71c4e0f03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22aee8c5a9dabc4d5a716eaa0a6a65e71c4e0f03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22aee8c5a9dabc4d5a716eaa0a6a65e71c4e0f03"}], "stats": {"total": 86, "additions": 60, "deletions": 26}, "files": [{"sha": "d85d572a1b1ced49e05619b6a2f7099cfa7bdced", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -1,3 +1,19 @@\n+2008-03-13  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/35553\n+\t* config/i386/i386.h (TARGET_CPU_CPP_BUILTINS): Define\n+\t__SSE_USE_INLINED_FUNC__ when using -flag-keep-inline-functions\n+\ttogether with optimization.\n+\t* config/i386/xmmintrin.h: Use __SSE_USE_INLINED_FUNC__ instead of\n+\t__OPTIMIZE__ to choose between inlined intrinsic SSE function having\n+\timmediate arguments and its equivalent macro definition.\n+\t* config/i386/bmintrin.h: Ditto.\n+\t* config/i386/smmintrin.h: Ditto.\n+\t* config/i386/tmmintrin.h: Ditto.\n+\t* config/i386/mmintrin-common.h: Ditto.\n+\t* config/i386/ammintrin.h: Ditto.\n+\t* config/i386/emmintrin.h: Ditto.\n+\n 2008-03-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/35185"}, {"sha": "69ee2468357058690c21b1a95abe1c5d2949d7a1", "filename": "gcc/config/i386/ammintrin.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fammintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fammintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fammintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -55,7 +55,7 @@ _mm_extract_si64 (__m128i __X, __m128i __Y)\n   return (__m128i) __builtin_ia32_extrq ((__v2di) __X, (__v16qi) __Y);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_extracti_si64 (__m128i __X, unsigned const int __I, unsigned const int __L)\n {\n@@ -73,7 +73,7 @@ _mm_insert_si64 (__m128i __X,__m128i __Y)\n   return (__m128i) __builtin_ia32_insertq ((__v2di)__X, (__v2di)__Y);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_inserti_si64(__m128i __X, __m128i __Y, unsigned const int __I, unsigned const int __L)\n {"}, {"sha": "72f0efd0b9d5cee33b60dd5d0b057a92bcdc2c32", "filename": "gcc/config/i386/bmmintrin.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fbmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fbmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fbmmintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -350,7 +350,7 @@ _mm_rot_epi64(__m128i __A,  __m128i __B)\n \n \n /* Rotates - Immediate form */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_roti_epi8(__m128i __A, const int __B)\n {"}, {"sha": "1244958688c9f215ec23376a166ce7f47916d9f3", "filename": "gcc/config/i386/emmintrin.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Femmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Femmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Femmintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -880,7 +880,7 @@ _mm_cvtss_sd (__m128d __A, __m128 __B)\n   return (__m128d)__builtin_ia32_cvtss2sd ((__v2df) __A, (__v4sf)__B);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128d __attribute__((__always_inline__, __artificial__))\n _mm_shuffle_pd(__m128d __A, __m128d __B, const int __mask)\n {\n@@ -1144,7 +1144,7 @@ _mm_srai_epi32 (__m128i __A, int __B)\n   return (__m128i)__builtin_ia32_psradi128 ((__v4si)__A, __B);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_srli_si128 (__m128i __A, const int __N)\n {\n@@ -1307,7 +1307,7 @@ _mm_cmpgt_epi32 (__m128i __A, __m128i __B)\n   return (__m128i)__builtin_ia32_pcmpgtd128 ((__v4si)__A, (__v4si)__B);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline int __attribute__((__always_inline__, __artificial__))\n _mm_extract_epi16 (__m128i const __A, int const __N)\n {\n@@ -1363,7 +1363,7 @@ _mm_mulhi_epu16 (__m128i __A, __m128i __B)\n   return (__m128i)__builtin_ia32_pmulhuw128 ((__v8hi)__A, (__v8hi)__B);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_shufflehi_epi16 (__m128i __A, const int __mask)\n {"}, {"sha": "ea0a82041187f376bbb7925c051bf37126f1967e", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -691,6 +691,11 @@ extern const char *host_detect_local_cpu (int argc, const char **argv);\n \tbuiltin_define (\"__SSE_MATH__\");\t\t\t\\\n       if (TARGET_SSE_MATH && TARGET_SSE2)\t\t\t\\\n \tbuiltin_define (\"__SSE2_MATH__\");\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+      /* Use inlined intrinsic SSE function having immediate\t\\\n+\t arguments instead of a macro definition.  */\t\t\\\n+      if (optimize && !flag_keep_inline_functions)\t\t\\\n+\tbuiltin_define (\"__SSE_USE_INLINED_FUNC__\");\t\t\\\n     }\t\t\t\t\t\t\t\t\\\n   while (0)\n "}, {"sha": "308c2c288cc506d7f33a9320a09b2f1d06998b5e", "filename": "gcc/config/i386/mmintrin-common.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fmmintrin-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fmmintrin-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmmintrin-common.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -92,7 +92,7 @@ _mm_testnzc_si128 (__m128i __M, __m128i __V)\n \n /* Packed/scalar double precision floating point rounding.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128d __attribute__((__always_inline__, __artificial__))\n _mm_round_pd (__m128d __V, const int __M)\n {\n@@ -117,7 +117,7 @@ _mm_round_sd(__m128d __D, __m128d __V, const int __M)\n \n /* Packed/scalar single precision floating point rounding.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128 __attribute__((__always_inline__, __artificial__))\n _mm_round_ps (__m128 __V, const int __M)\n {"}, {"sha": "bb70cb49a5438296b8a323f18d0dedf1c39cab48", "filename": "gcc/config/i386/smmintrin.h", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fsmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fsmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsmmintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -44,7 +44,7 @@\n /* Integer blend instructions - select data from 2 sources using\n    constant/variable mask.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_blend_epi16 (__m128i __X, __m128i __Y, const int __M)\n {\n@@ -69,7 +69,7 @@ _mm_blendv_epi8 (__m128i __X, __m128i __Y, __m128i __M)\n /* Single precision floating point blend instructions - select data\n    from 2 sources using constant/variable mask.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128 __attribute__((__always_inline__, __artificial__))\n _mm_blend_ps (__m128 __X, __m128 __Y, const int __M)\n {\n@@ -94,7 +94,7 @@ _mm_blendv_ps (__m128 __X, __m128 __Y, __m128 __M)\n /* Double precision floating point blend instructions - select data\n    from 2 sources using constant/variable mask.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128d __attribute__((__always_inline__, __artificial__))\n _mm_blend_pd (__m128d __X, __m128d __Y, const int __M)\n {\n@@ -119,7 +119,7 @@ _mm_blendv_pd (__m128d __X, __m128d __Y, __m128d __M)\n /* Dot product instructions with mask-defined summing and zeroing parts\n    of result.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128 __attribute__((__always_inline__, __artificial__))\n _mm_dp_ps (__m128 __X, __m128 __Y, const int __M)\n {\n@@ -224,7 +224,7 @@ _mm_mul_epi32 (__m128i __X, __m128i __Y)\n    index, the bits [5-4] define D index, and bits [3-0] define\n    zeroing mask for D.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128 __attribute__((__always_inline__, __artificial__))\n _mm_insert_ps (__m128 __D, __m128 __S, const int __N)\n {\n@@ -244,7 +244,7 @@ _mm_insert_ps (__m128 __D, __m128 __S, const int __N)\n /* Extract binary representation of single precision float from packed\n    single precision array element of X selected by index N.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline int __attribute__((__always_inline__, __artificial__))\n _mm_extract_ps (__m128 __X, const int __N)\n {\n@@ -277,7 +277,7 @@ _mm_extract_ps (__m128 __X, const int __N)\n /* Insert integer, S, into packed integer array element of D\n    selected by index N.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_insert_epi8 (__m128i __D, int __S, const int __N)\n {\n@@ -319,7 +319,7 @@ _mm_insert_epi64 (__m128i __D, long long __S, const int __N)\n /* Extract integer from packed integer array element of X selected by\n    index N.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline int __attribute__((__always_inline__, __artificial__))\n _mm_extract_epi8 (__m128i __X, const int __N)\n {\n@@ -447,7 +447,7 @@ _mm_packus_epi32 (__m128i __X, __m128i __Y)\n    byte integers in the first 2 operands.  Starting offsets within\n    operands are determined by the 3rd mask operand.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_mpsadbw_epu8 (__m128i __X, __m128i __Y, const int __M)\n {\n@@ -497,7 +497,7 @@ _mm_stream_load_si128 (__m128i *__X)\n \n /* Intrinsics for text/string processing.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_cmpistrm (__m128i __X, __m128i __Y, const int __M)\n {\n@@ -550,7 +550,7 @@ _mm_cmpestri (__m128i __X, int __LX, __m128i __Y, int __LY, const int __M)\n /* Intrinsics for text/string processing and reading values of\n    EFlags.  */\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline int __attribute__((__always_inline__, __artificial__))\n _mm_cmpistra (__m128i __X, __m128i __Y, const int __M)\n {"}, {"sha": "6fd20b1974c2553896f458df537ca285b0cd1088", "filename": "gcc/config/i386/tmmintrin.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Ftmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Ftmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ftmmintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -181,7 +181,7 @@ _mm_sign_pi32 (__m64 __X, __m64 __Y)\n   return (__m64) __builtin_ia32_psignd ((__v2si)__X, (__v2si)__Y);\n }\n \n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128i __attribute__((__always_inline__, __artificial__))\n _mm_alignr_epi8(__m128i __X, __m128i __Y, const int __N)\n {"}, {"sha": "e0cf958f2bb477a000f027f4e469964d2a54f1d3", "filename": "gcc/config/i386/xmmintrin.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxmmintrin.h?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -716,7 +716,7 @@ _mm_cvtps_pi8(__m128 __A)\n }\n \n /* Selects four specific SPFP values from A and B based on MASK.  */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m128 __attribute__((__always_inline__, __artificial__))\n _mm_shuffle_ps (__m128 __A, __m128 __B, int const __mask)\n {\n@@ -992,7 +992,7 @@ _mm_move_ss (__m128 __A, __m128 __B)\n }\n \n /* Extracts one of the four words of A.  The selector N must be immediate.  */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline int __attribute__((__always_inline__, __artificial__))\n _mm_extract_pi16 (__m64 const __A, int const __N)\n {\n@@ -1013,7 +1013,7 @@ _m_pextrw (__m64 const __A, int const __N)\n \n /* Inserts word D into one of four words of A.  The selector N must be\n    immediate.  */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m64 __attribute__((__always_inline__, __artificial__))\n _mm_insert_pi16 (__m64 const __A, int const __D, int const __N)\n {\n@@ -1114,7 +1114,7 @@ _m_pmulhuw (__m64 __A, __m64 __B)\n \n /* Return a combination of the four 16-bit values in A.  The selector\n    must be an immediate.  */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline __m64 __attribute__((__always_inline__, __artificial__))\n _mm_shuffle_pi16 (__m64 __A, int const __N)\n {\n@@ -1191,7 +1191,7 @@ _m_psadbw (__m64 __A, __m64 __B)\n \n /* Loads one cache line from address P to a location \"closer\" to the\n    processor.  The selector I specifies the type of prefetch operation.  */\n-#ifdef __OPTIMIZE__\n+#ifdef __SSE_USE_INLINED_FUNC__\n static __inline void __attribute__((__always_inline__, __artificial__))\n _mm_prefetch (const void *__P, enum _mm_hint __I)\n {"}, {"sha": "1b1b7eae2c0b9b92e9c144898e9362474a0072db", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -1,3 +1,8 @@\n+2008-03-13  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/35553\n+\t* g++.dg/other/i386-3.C: New test.\n+\n 2008-03-13  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR tree-opt/35422"}, {"sha": "8ebc74e628cf6ab148823fe2eb8b5483515e79ac", "filename": "gcc/testsuite/g++.dg/other/i386-3.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a6c843029229e6d289b1a0f31eedbceb3f73d62/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fi386-3.C?ref=8a6c843029229e6d289b1a0f31eedbceb3f73d62", "patch": "@@ -0,0 +1,8 @@\n+/* Test that {,x,e,p,t,s,a,b}mmintrin.h, mm3dnow.h and mm_malloc.h are\n+   usable with -O -fkeep-inline-functions.  */\n+/* { dg-do compile { target i?86-*-* x86_64-*-* } } */\n+/* { dg-options \"-O -fkeep-inline-functions -march=k8 -m3dnow -msse4 -msse5\" } */\n+\n+#include <bmmintrin.h>\n+#include <smmintrin.h>\n+#include <mm3dnow.h>"}]}