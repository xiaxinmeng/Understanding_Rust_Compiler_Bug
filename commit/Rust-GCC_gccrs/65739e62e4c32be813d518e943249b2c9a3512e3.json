{"sha": "65739e62e4c32be813d518e943249b2c9a3512e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU3MzllNjJlNGMzMmJlODEzZDUxOGU5NDMyNDliMmM5YTM1MTJlMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-11T02:12:41Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-11T02:12:41Z"}, "message": "re PR c++/5624 (Strange bug with preprocessed file containing structs)\n\n        PR c++/5624\n        * tree.c (append_random_chars): Don't abort if main_input_filename\n        does not exist.\n\nFrom-SVN: r49662", "tree": {"sha": "d795f195370eebc1bc2d0238f2bdb8e50e504bea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d795f195370eebc1bc2d0238f2bdb8e50e504bea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65739e62e4c32be813d518e943249b2c9a3512e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65739e62e4c32be813d518e943249b2c9a3512e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65739e62e4c32be813d518e943249b2c9a3512e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65739e62e4c32be813d518e943249b2c9a3512e3/comments", "author": null, "committer": null, "parents": [{"sha": "247cb9df4b2132bcc0ef4ea4b031e75fd2e19fee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/247cb9df4b2132bcc0ef4ea4b031e75fd2e19fee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/247cb9df4b2132bcc0ef4ea4b031e75fd2e19fee"}], "stats": {"total": 26, "additions": 19, "deletions": 7}, "files": [{"sha": "35a872893bb8fc2cb20bda0765e29be423a110b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65739e62e4c32be813d518e943249b2c9a3512e3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65739e62e4c32be813d518e943249b2c9a3512e3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=65739e62e4c32be813d518e943249b2c9a3512e3", "patch": "@@ -1,11 +1,16 @@\n+2002-02-10  Richard Henderson  <rth@redhat.com>\n+\n+\tPR c++/5624\n+\t* tree.c (append_random_chars): Don't abort if main_input_filename\n+\tdoes not exist.\n+\n 2002-02-10  Hans-Peter Nilsson  <hp@bitrange.com>\n \n \t* config/mmix/t-mmix (MULTILIB_EXTRA_OPTS): Disable.\n \n 2002-02-10  Kazu Hirata  <kazu@hxi.com>\n \n-\t* config/h8300/h8300.md (pushhi1_h8300): Correct the mode\n-\tused.\n+\t* config/h8300/h8300.md (pushhi1_h8300): Correct the mode used.\n \t(pushhi1): Likewise.\n \n 2002-02-10  John David Anglin  <dave@hiauly1.hia.nrc.ca>"}, {"sha": "e2829491ca40eafe911de7b1c0a21e1bbbc42c54", "filename": "gcc/tree.c", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65739e62e4c32be813d518e943249b2c9a3512e3/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65739e62e4c32be813d518e943249b2c9a3512e3/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=65739e62e4c32be813d518e943249b2c9a3512e3", "patch": "@@ -4491,16 +4491,23 @@ append_random_chars (template)\n \t compiles since this can cause bootstrap comparison errors.  */\n \n       if (stat (main_input_filename, &st) < 0)\n-\tabort ();\n-\n-      /* In VMS, ino is an array, so we have to use both values.  We\n-\t conditionalize that.  */\n+\t{\n+\t  /* This can happen when preprocessed text is shipped between\n+\t     machines, e.g. with bug reports.  Assume that uniqueness\n+\t     isn't actually an issue.  */\n+\t  value = 1;\n+\t}\n+      else\n+\t{\n+\t  /* In VMS, ino is an array, so we have to use both values.  We\n+\t     conditionalize that.  */\n #ifdef VMS\n #define INO_TO_INT(INO) ((int) (INO)[1] << 16 ^ (int) (INO)[2])\n #else\n #define INO_TO_INT(INO) INO\n #endif\n-      value = st.st_dev ^ INO_TO_INT (st.st_ino) ^ st.st_mtime;\n+\t  value = st.st_dev ^ INO_TO_INT (st.st_ino) ^ st.st_mtime;\n+\t}\n     }\n \n   template += strlen (template);"}]}