{"sha": "b137f9fcd31b15609376d88f9f80af145fe12ca0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjEzN2Y5ZmNkMzFiMTU2MDkzNzZkODhmOWY4MGFmMTQ1ZmUxMmNhMA==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2002-02-07T23:43:23Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2002-02-07T23:43:23Z"}, "message": "crtn.asm: Cleanup #ifdefs.\n\n2002-02-07  Eric Christopher  <echristo@redhat.com>\n\n\t* config/mips/crtn.asm: Cleanup #ifdefs.\n\nAdd ChangeLog entry for previous patch that didn't seem to make it.\n\nFrom-SVN: r49595", "tree": {"sha": "8e52aae4388f0d449bd843c60cededcbfd62ca33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e52aae4388f0d449bd843c60cededcbfd62ca33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b137f9fcd31b15609376d88f9f80af145fe12ca0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b137f9fcd31b15609376d88f9f80af145fe12ca0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b137f9fcd31b15609376d88f9f80af145fe12ca0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b137f9fcd31b15609376d88f9f80af145fe12ca0/comments", "author": null, "committer": null, "parents": [{"sha": "d3dac0ae110ca238404d105e5392c6b437704064", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3dac0ae110ca238404d105e5392c6b437704064", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3dac0ae110ca238404d105e5392c6b437704064"}], "stats": {"total": 61, "additions": 39, "deletions": 22}, "files": [{"sha": "319bbd0d697c8595116e95e83e746d234d9eab59", "filename": "gcc/ChangeLog", "status": "modified", "additions": 23, "deletions": 3, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b137f9fcd31b15609376d88f9f80af145fe12ca0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b137f9fcd31b15609376d88f9f80af145fe12ca0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b137f9fcd31b15609376d88f9f80af145fe12ca0", "patch": "@@ -1,6 +1,26 @@\n+2002-02-07  Eric Christopher  <echristo@redhat.com>\n+\n+\t* config/mips/crtn.asm: Cleanup #ifdefs.\n+\n+2002-02-07  Eric Christopher  <echristo@redhat.com>\n+\n+\t* config/mips/crti.asm: Add changes for mips16. mips16 uses\n+\tregister 7 as RA instead of $31.\n+\t* config/mips/crtn.asm: Ditto.\n+\t* config/mips/mips.c (mips_move_2words): Add case for\n+\tTARGET_MIPS16 when HOST_BITS_PER_WIDE_INT >= 64.\n+\t(compute_frame_size): Fix typo.\n+\t(save_restore_insns): Ditto.  Make documentation about using\n+\tregister $7 as return register more precise.\n+\t(mips_expand_epilogue): Fix comment. Add code to work around not\n+\tbeing able to add to the stack pointer directly.\n+\t* config/mips/mips.h (EH_RETURN_DATA_REGNO): Change register number\n+\tto 2 for TARGET_MIPS16 as we need 6 and 7 as clobbers in the\n+\tepilogue.\n+\n 2002-02-07  Tom Rix  <trix@redhat.com>\n \n-\t* config/rs6000/rs6000.c (reg_or_aligned_short_operand): New. For \n+\t* config/rs6000/rs6000.c (reg_or_aligned_short_operand): New. For\n \timmediates in ldu and stdu DS opcode field.\n \t* config/rs6000/rs6000.md (movdi_update, movdi_update1): Use.\n \t* config/rs6000/rs6000-protos.h: Add reg_or_aligned_short_operand.\n@@ -285,7 +305,7 @@ Mon Feb\t 4 19:23:19 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \t(set_reg_plus_d): Likewise.\n \t(hppa_expand_prologue): Likewise.\n \t(hppa_expand_epilogue): Likewise.\n-\t\n+\n 2002-02-04  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n \n \t* unwind-dw2-fde-glibc.c: Define _GNU_SOURCE if not defined.\n@@ -330,7 +350,7 @@ Mon Feb\t 4 19:23:19 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* config/arm/arm.c (arm_hard_regno_mode_ok): Allow any value in\n \tany geenral register.\n-\t\n+\n 2001-02-04  Bernd Schmidt  <bernds@redhat.com>\n \n \t* cfgrtl.c (force_nonfallthru_and_redirect): Don't try to redirect"}, {"sha": "54ab2a5099d45b90093ea996cf2f304747edaeab", "filename": "gcc/config/mips/crtn.asm", "status": "modified", "additions": 16, "deletions": 19, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b137f9fcd31b15609376d88f9f80af145fe12ca0/gcc%2Fconfig%2Fmips%2Fcrtn.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b137f9fcd31b15609376d88f9f80af145fe12ca0/gcc%2Fconfig%2Fmips%2Fcrtn.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fcrtn.asm?ref=b137f9fcd31b15609376d88f9f80af145fe12ca0", "patch": "@@ -2,41 +2,38 @@\n    Return spill offset of 40 and 20.  Aligned to 16 bytes for n32.  */\n \n \t.section .init,\"ax\",@progbits\n+#ifdef\t__mips16\n+/* The mips16 uses $7 for a return address. We use that here too.  */\n+\tlw\t$7,20($sp)\n+\taddu\t$sp,$sp,32\n+\n+\tj\t$7\n+#else\n #ifdef __mips64\n \tld      $31,40($sp)\n \tdaddu\t$sp,$sp,48\n #else\n-#ifndef __mips16\n \tlw\t$31,20($sp)\n \taddu\t$sp,$sp,32\n-#else\n-/* The mips16 uses $7 for a return address. We use that here too.  */\n-\tlw\t$7,20($sp)\n-\taddu\t$sp,$sp,32\n-\n-\tj\t$7\n-#endif\n #endif\n-#ifndef __mips16\n \tj\t$31\n+\n #endif\n \n \t.section .fini,\"ax\",@progbits\n-#ifdef __mips64\n-\tld\t$31,40($sp)\n-\tdaddu\t$sp,$sp,48\n-#else\n-#ifndef __mips16\n-\tlw\t$31,20($sp)\n-\taddu\t$sp,$sp,32\n-#else\n+#ifdef\t__mips16\n /* The mips16 uses $7 for a return address. We use that here too.  */\n \tlw\t$7,20($sp)\n \taddu\t$sp,$sp,32\n \n \tj\t$7\n+#else\n+#ifdef\t__mips64\n+\tld\t$31,40($sp)\n+\tdaddu\t$sp,$sp,48\n+#else\n+\tlw\t$31,20($sp)\n+\taddu\t$sp,$sp,32\n #endif\n-#endif\n-#ifndef __mips16\n \tj\t$31\n #endif"}]}