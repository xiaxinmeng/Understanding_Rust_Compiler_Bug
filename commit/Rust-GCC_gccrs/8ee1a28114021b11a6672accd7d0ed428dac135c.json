{"sha": "8ee1a28114021b11a6672accd7d0ed428dac135c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGVlMWEyODExNDAyMWIxMWE2NjcyYWNjZDdkMGVkNDI4ZGFjMTM1Yw==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2021-01-08T11:50:24Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-05-04T09:17:35Z"}, "message": "[Ada] Reuse existing To_Mixed routine in pretty-printer\n\ngcc/ada/\n\n\t* pprint.adb (To_Mixed): Removed.", "tree": {"sha": "15b7880a3a4888d0c865530ad6554b0f31920af4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15b7880a3a4888d0c865530ad6554b0f31920af4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ee1a28114021b11a6672accd7d0ed428dac135c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ee1a28114021b11a6672accd7d0ed428dac135c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ee1a28114021b11a6672accd7d0ed428dac135c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ee1a28114021b11a6672accd7d0ed428dac135c/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6c1655399bada8bb7ddb099c0865f7a882fe96e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c1655399bada8bb7ddb099c0865f7a882fe96e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c1655399bada8bb7ddb099c0865f7a882fe96e7"}], "stats": {"total": 31, "additions": 3, "deletions": 28}, "files": [{"sha": "6b8fd8d1e769e4d47533744c860626e7caf1e2c7", "filename": "gcc/ada/pprint.adb", "status": "modified", "additions": 3, "deletions": 28, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ee1a28114021b11a6672accd7d0ed428dac135c/gcc%2Fada%2Fpprint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ee1a28114021b11a6672accd7d0ed428dac135c/gcc%2Fada%2Fpprint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpprint.adb?ref=8ee1a28114021b11a6672accd7d0ed428dac135c", "patch": "@@ -24,7 +24,6 @@\n ------------------------------------------------------------------------------\n \n with Atree;   use Atree;\n-with Csets;   use Csets;\n with Einfo;   use Einfo;\n with Namet;   use Namet;\n with Nlists;  use Nlists;\n@@ -34,6 +33,8 @@ with Sinput;  use Sinput;\n with Snames;  use Snames;\n with Uintp;   use Uintp;\n \n+with System.Case_Util;\n+\n package body Pprint is\n \n    List_Name_Count : Natural := 0;\n@@ -272,32 +273,6 @@ package body Pprint is\n             when N_Attribute_Reference =>\n                if Take_Prefix then\n                   declare\n-                     function To_Mixed_Case (S : String) return String;\n-                     --  Transform given string into the corresponding one in\n-                     --  mixed case form.\n-\n-                     -------------------\n-                     -- To_Mixed_Case --\n-                     -------------------\n-\n-                     function To_Mixed_Case (S : String) return String is\n-                        Result : String (S'Range);\n-                        Ucase  : Boolean := True;\n-\n-                     begin\n-                        for J in S'Range loop\n-                           if Ucase then\n-                              Result (J) := Fold_Upper (S (J));\n-                           else\n-                              Result (J) := Fold_Lower (S (J));\n-                           end if;\n-\n-                           Ucase := (S (J) = '_');\n-                        end loop;\n-\n-                        return Result;\n-                     end To_Mixed_Case;\n-\n                      Id : constant Attribute_Id :=\n                             Get_Attribute_Id (Attribute_Name (Expr));\n \n@@ -306,7 +281,7 @@ package body Pprint is\n                      Str : constant String :=\n                              Expr_Name (Prefix (Expr))\n                                & \"'\"\n-                               & To_Mixed_Case\n+                               & System.Case_Util.To_Mixed\n                                    (Get_Name_String (Attribute_Name (Expr)));\n \n                      N      : Node_Id;"}]}