{"sha": "9a7b01615990401b893880780ec3e84ef31ec9ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWE3YjAxNjE1OTkwNDAxYjg5Mzg4MDc4MGVjM2U4NGVmMzFlYzllYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-08-08T20:34:05Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-08-08T20:34:05Z"}, "message": "testsuite: fix gotest for absolute srcdir\n    \n    The recent changes to Makefile.am mean that if you configure with an\n    absolute path as srcdir then gotest will be invoked with absolute paths\n    for the files.  That case never worked.  This patch fixes it.\n    \n    Reviewed-on: https://go-review.googlesource.com/25587\n\nFrom-SVN: r239256", "tree": {"sha": "4735149406c8ca5022361e23e4fe0cbad73a5b7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4735149406c8ca5022361e23e4fe0cbad73a5b7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a7b01615990401b893880780ec3e84ef31ec9ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a7b01615990401b893880780ec3e84ef31ec9ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a7b01615990401b893880780ec3e84ef31ec9ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a7b01615990401b893880780ec3e84ef31ec9ea/comments", "author": null, "committer": null, "parents": [{"sha": "9afda630f5fbd74e17ff09ea3f1f3a359a9426b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9afda630f5fbd74e17ff09ea3f1f3a359a9426b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9afda630f5fbd74e17ff09ea3f1f3a359a9426b0"}], "stats": {"total": 68, "additions": 43, "deletions": 25}, "files": [{"sha": "3e8321af5db867c57e68cebb449f87a85ca762ad", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a7b01615990401b893880780ec3e84ef31ec9ea/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a7b01615990401b893880780ec3e84ef31ec9ea/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=9a7b01615990401b893880780ec3e84ef31ec9ea", "patch": "@@ -1,4 +1,4 @@\n-5e4c16d4fea39835e16f17c3d2b2e85f5c81d815\n+2c88d4871558f0451a0ad152a7052dcfaecb254f\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "5fc888bddecf561e9c589d6a5b0cc3a1b334737d", "filename": "libgo/testsuite/gotest", "status": "modified", "additions": 42, "deletions": 24, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a7b01615990401b893880780ec3e84ef31ec9ea/libgo%2Ftestsuite%2Fgotest", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a7b01615990401b893880780ec3e84ef31ec9ea/libgo%2Ftestsuite%2Fgotest", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Ftestsuite%2Fgotest?ref=9a7b01615990401b893880780ec3e84ef31ec9ea", "patch": "@@ -217,18 +217,27 @@ x)\n \t\t;;\n \t*)\n \t\tfor f in $pkgfiles; do\n-\t\t    if test -f $basedir/$f; then\n-\t\t\tb=`basename $f`\n-\t\t\trm -f $b\n-\t\t\tcp $basedir/$f $b\n-\t\t    elif test -f ../../$f; then\n-\t\t\tb=`basename $f`\n-\t\t\trm -f $b\n-\t\t\tcp ../../$f $b\n-\t\t    else\n-\t\t\techo \"file $f not found\" 1>&2\n-\t\t\texit 1\n-\t\t    fi\n+                    case $f in\n+                    /*)\n+                        b=`basename $f`\n+                        rm -f $b\n+                        cp $f $b\n+                        ;;\n+                    *)\n+\t\t        if test -f $basedir/$f; then\n+\t\t\t  b=`basename $f`\n+\t\t\t  rm -f $b\n+\t\t\t  cp $basedir/$f $b\n+\t\t        elif test -f ../../$f; then\n+\t\t\t  b=`basename $f`\n+\t\t\t  rm -f $b\n+\t\t\t  cp ../../$f $b\n+\t\t        else\n+\t\t\t  echo \"file $f not found\" 1>&2\n+\t\t\t  exit 1\n+\t\t        fi\n+                        ;;\n+                    esac\n \t\tdone\n \t\tfor f in `cd $srcdir; ls *_test.go`; do\n \t\t    rm -f $f\n@@ -252,18 +261,27 @@ x)\n \t\t;;\n \t*)\n \t\tfor f in $pkgfiles; do\n-\t\t    if test -f $basedir/$f; then\n-\t\t\tb=`basename $f`\n-\t\t\trm -f $b\n-\t\t\tcp $basedir/$f $b\n-\t\t    elif test -f ../../$f; then\n-\t\t\tb=`basename $f`\n-\t\t\trm -f $b\n-\t\t\tcp ../../$f $b\n-\t\t    else\n-\t\t\techo \"file $f not found\" 1>&2\n-\t\t\texit 1\n-\t\t    fi\n+                    case $f in\n+                    /*)\n+                        b=`basename $f`\n+                        rm -f $b\n+                        cp $f $b\n+                        ;;\n+                    *)\n+\t\t        if test -f $basedir/$f; then\n+\t\t\t  b=`basename $f`\n+\t\t\t  rm -f $b\n+\t\t\t  cp $basedir/$f $b\n+\t\t        elif test -f ../../$f; then\n+\t\t\t  b=`basename $f`\n+\t\t\t  rm -f $b\n+\t\t\t  cp ../../$f $b\n+\t\t        else\n+\t\t\t  echo \"file $f not found\" 1>&2\n+\t\t\t  exit 1\n+\t\t        fi\n+                        ;;\n+                    esac\n \t\tdone\n \t\t;;\n \tesac"}]}