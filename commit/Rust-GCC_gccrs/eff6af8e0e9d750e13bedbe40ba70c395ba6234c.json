{"sha": "eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZmNmFmOGUwZTlkNzUwZTEzYmVkYmU0MGJhNzBjMzk1YmE2MjM0Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-12-06T19:52:46Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-12-06T19:52:46Z"}, "message": "re PR go/92820 (libgo.so.15 has executable stack)\n\n\tPR go/92820\n    runtime: only build go-context for x86 GNU/Linux\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/210258\n\nFrom-SVN: r279063", "tree": {"sha": "39b51e53686cb4555ad1fd17ac2127d15422c63e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39b51e53686cb4555ad1fd17ac2127d15422c63e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/comments", "author": null, "committer": null, "parents": [{"sha": "5ec7a413d154508c70cf4570ee8da0a545bd6b4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ec7a413d154508c70cf4570ee8da0a545bd6b4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ec7a413d154508c70cf4570ee8da0a545bd6b4a"}], "stats": {"total": 36, "additions": 24, "deletions": 12}, "files": [{"sha": "d1005bada97f4e893519ccf756c2a01938a89c4a", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "patch": "@@ -1,4 +1,4 @@\n-f04751699e1a1ce98fe8bdbcce5a00f1be6a7d15\n+15c7bc9f0a432bc09716758412ea41d6caa6491b\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "1700941d93cf3d5767852f1c6475388a761ada8e", "filename": "libgo/Makefile.am", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "patch": "@@ -414,6 +414,13 @@ else\n rtems_task_variable_add_file =\n endif\n \n+runtime_context_asm_file =\n+if LIBGO_IS_X86\n+if LIBGO_IS_LINUX\n+runtime_context_asm_file += runtime/go-context.S\n+endif\n+endif\n+\n runtime_files = \\\n \truntime/aeshash.c \\\n \truntime/go-assert.c \\\n@@ -445,7 +452,7 @@ runtime_files = \\\n \truntime/runtime_c.c \\\n \truntime/stack.c \\\n \truntime/yield.c \\\n-\truntime/go-context.S \\\n+\t$(runtime_context_asm_file) \\\n \t$(rtems_task_variable_add_file)\n \n version.go: s-version; @true"}, {"sha": "0596b5428ef547bd124821d60271b253c16d465b", "filename": "libgo/Makefile.in", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff6af8e0e9d750e13bedbe40ba70c395ba6234c/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=eff6af8e0e9d750e13bedbe40ba70c395ba6234c", "patch": "@@ -104,8 +104,9 @@ target_triplet = @target@\n # Using an import file for libgo avoid requiring to use the -brtl flag\n # when builing a go program\n @LIBGO_IS_AIX_TRUE@am__append_2 = -Wl,-bbigtoc -Wl,-bI:$(srcdir)/libgo.imp\n-@GOC_IS_LLGO_TRUE@am__append_3 = libgo-llgo.la libgobegin-llgo.a\n-@GOC_IS_LLGO_FALSE@am__append_4 = libgo.la libgobegin.a\n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_TRUE@am__append_3 = runtime/go-context.S\n+@GOC_IS_LLGO_TRUE@am__append_4 = libgo-llgo.la libgobegin-llgo.a\n+@GOC_IS_LLGO_FALSE@am__append_5 = libgo.la libgobegin.a\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/depstand.m4 \\\n@@ -229,9 +230,12 @@ am__DEPENDENCIES_5 = $(am__DEPENDENCIES_3) \\\n \t$(am__DEPENDENCIES_4) $(am__DEPENDENCIES_4) \\\n \t$(am__DEPENDENCIES_4) $(am__DEPENDENCIES_4)\n libgo_llgo_la_DEPENDENCIES = $(am__DEPENDENCIES_5)\n-@LIBGO_IS_RTEMS_TRUE@am__objects_1 =  \\\n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_TRUE@am__objects_1 =  \\\n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_TRUE@\truntime/go-context.lo\n+am__objects_2 = $(am__objects_1)\n+@LIBGO_IS_RTEMS_TRUE@am__objects_3 =  \\\n @LIBGO_IS_RTEMS_TRUE@\truntime/rtems-task-variable-add.lo\n-am__objects_2 = runtime/aeshash.lo runtime/go-assert.lo \\\n+am__objects_4 = runtime/aeshash.lo runtime/go-assert.lo \\\n \truntime/go-caller.lo runtime/go-callers.lo runtime/go-cdiv.lo \\\n \truntime/go-cgo.lo runtime/go-construct-map.lo \\\n \truntime/go-ffi.lo runtime/go-fieldtrack.lo \\\n@@ -244,8 +248,8 @@ am__objects_2 = runtime/aeshash.lo runtime/go-assert.lo \\\n \truntime/go-unwind.lo runtime/go-varargs.lo \\\n \truntime/env_posix.lo runtime/panic.lo runtime/print.lo \\\n \truntime/proc.lo runtime/runtime_c.lo runtime/stack.lo \\\n-\truntime/yield.lo runtime/go-context.lo $(am__objects_1)\n-am_libgo_llgo_la_OBJECTS = $(am__objects_2)\n+\truntime/yield.lo $(am__objects_2) $(am__objects_3)\n+am_libgo_llgo_la_OBJECTS = $(am__objects_4)\n libgo_llgo_la_OBJECTS = $(am_libgo_llgo_la_OBJECTS)\n AM_V_lt = $(am__v_lt_@AM_V@)\n am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)\n@@ -256,7 +260,7 @@ libgo_llgo_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n \t$(libgo_llgo_la_LDFLAGS) $(LDFLAGS) -o $@\n @GOC_IS_LLGO_TRUE@am_libgo_llgo_la_rpath = -rpath $(toolexeclibdir)\n libgo_la_DEPENDENCIES = $(am__DEPENDENCIES_5)\n-am_libgo_la_OBJECTS = $(am__objects_2)\n+am_libgo_la_OBJECTS = $(am__objects_4)\n libgo_la_OBJECTS = $(am_libgo_la_OBJECTS)\n libgo_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n \t$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n@@ -862,6 +866,7 @@ noinst_DATA = golang.org/x/net/nettest.gox internal/cfg.gox \\\n \truntime/pprof/internal/profile.gox zdefaultcc.go\n @LIBGO_IS_RTEMS_FALSE@rtems_task_variable_add_file = \n @LIBGO_IS_RTEMS_TRUE@rtems_task_variable_add_file = runtime/rtems-task-variable-add.c\n+runtime_context_asm_file = $(am__append_3)\n runtime_files = \\\n \truntime/aeshash.c \\\n \truntime/go-assert.c \\\n@@ -893,7 +898,7 @@ runtime_files = \\\n \truntime/runtime_c.c \\\n \truntime/stack.c \\\n \truntime/yield.c \\\n-\truntime/go-context.S \\\n+\t$(runtime_context_asm_file) \\\n \t$(rtems_task_variable_add_file)\n \n GCCGO_INSTALL_NAME := $(shell echo gccgo|sed '$(program_transform_name)')\n@@ -1053,8 +1058,8 @@ CHECK_DEPS = $(toolexeclibgo_DATA) $(toolexeclibgoarchive_DATA) \\\n \t$(toolexeclibgoruntime_DATA) $(toolexeclibgosync_DATA) \\\n \t$(toolexeclibgotesting_DATA) $(toolexeclibgotext_DATA) \\\n \t$(toolexeclibgotexttemplate_DATA) $(toolexeclibgounicode_DATA) \\\n-\t$(noinst_DATA) $(noinst_LIBRARIES) $(am__append_3) \\\n-\t$(am__append_4)\n+\t$(noinst_DATA) $(noinst_LIBRARIES) $(am__append_4) \\\n+\t$(am__append_5)\n \n # Pass -ffp-contract=off, or 386-specific options, when building the\n # math package.  MATH_FLAG is defined in configure.ac."}]}