{"sha": "171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTcxZDE4MmU3ZjNhNWNiOTNmOWU5NWFkZWQwMmVkNWEyZDQ4ZTBjNA==", "commit": {"author": {"name": "Emmanuel Briot", "email": "briot@adacore.com", "date": "2007-08-14T08:47:56Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-08-14T08:47:56Z"}, "message": "g-comlin.adb (Getopt): Fix handling of \"*\" switch when not collapsing switches.\n\n2007-08-14  Emmanuel Briot  <briot@adacore.com>\n\n\t* g-comlin.adb (Getopt): Fix handling of \"*\" switch when not collapsing\n\tswitches.\n\nFrom-SVN: r127451", "tree": {"sha": "1400d0dde1a69af554c588ecdf20aebda7545c08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1400d0dde1a69af554c588ecdf20aebda7545c08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4/comments", "author": {"login": "briot", "id": 42402, "node_id": "MDQ6VXNlcjQyNDAy", "avatar_url": "https://avatars.githubusercontent.com/u/42402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briot", "html_url": "https://github.com/briot", "followers_url": "https://api.github.com/users/briot/followers", "following_url": "https://api.github.com/users/briot/following{/other_user}", "gists_url": "https://api.github.com/users/briot/gists{/gist_id}", "starred_url": "https://api.github.com/users/briot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briot/subscriptions", "organizations_url": "https://api.github.com/users/briot/orgs", "repos_url": "https://api.github.com/users/briot/repos", "events_url": "https://api.github.com/users/briot/events{/privacy}", "received_events_url": "https://api.github.com/users/briot/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "154c16575f0f10392d3798f6470eb0951084ea6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/154c16575f0f10392d3798f6470eb0951084ea6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/154c16575f0f10392d3798f6470eb0951084ea6c"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "9abd4b0f9dcaa313072556db88be6a366d3803d4", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=171d182e7f3a5cb93f9e95aded02ed5a2d48e0c4", "patch": "@@ -581,6 +581,17 @@ package body GNAT.Command_Line is\n                      --  If Concatenate is False and the full argument is not\n                      --  recognized as a switch, this is an invalid switch.\n \n+                     if Switches (Switches'First) = '*' then\n+                        Set_Parameter\n+                           (The_Switch,\n+                            Arg_Num => Current_Argument,\n+                            First   => 1,\n+                            Last    => CL.Argument (Current_Argument)'Last);\n+                        Is_Switch (Current_Argument) := True;\n+                        Dummy := Goto_Next_Argument_In_Section;\n+                        return '*';\n+                     end if;\n+\n                      Set_Parameter (The_Switch,\n                                     Arg_Num => Current_Argument,\n                                     First   => Current_Index,\n@@ -597,6 +608,17 @@ package body GNAT.Command_Line is\n             --  If Concatenate is False and the full argument is not\n             --  recognized as a switch, this is an invalid switch.\n \n+            if Switches (Switches'First) = '*' then\n+               Set_Parameter\n+                  (The_Switch,\n+                   Arg_Num => Current_Argument,\n+                   First   => 1,\n+                   Last    => CL.Argument (Current_Argument)'Last);\n+               Is_Switch (Current_Argument) := True;\n+               Dummy := Goto_Next_Argument_In_Section;\n+               return '*';\n+            end if;\n+\n             Set_Parameter (The_Switch,\n                            Arg_Num => Current_Argument,\n                            First   => Current_Index,"}]}