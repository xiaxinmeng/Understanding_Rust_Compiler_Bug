{"sha": "52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTJlYjU3ZGZiMWE0NTlhZjU4Zjg3ZThkYzcxMjA2ZDdjMmJhMzZhOA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-03-17T11:55:49Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-03-17T11:55:49Z"}, "message": "extend.texi (Weak Pragmas): New section.\n\n        * doc/extend.texi (Weak Pragmas): New section.\n        (attribute alias): Clarify that target must be in the same\n        translation unit.\n\nFrom-SVN: r96603", "tree": {"sha": "1f0c9ba60dc7c35a75419cd6b7f084d79b52e4a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f0c9ba60dc7c35a75419cd6b7f084d79b52e4a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8/comments", "author": null, "committer": null, "parents": [{"sha": "8bea7f7c10c6157c58f3f9e197a14b0964b1bce7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bea7f7c10c6157c58f3f9e197a14b0964b1bce7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bea7f7c10c6157c58f3f9e197a14b0964b1bce7"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "262674f5c24598f70fe70cecd600f7fa2333fe66", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "patch": "@@ -1,3 +1,9 @@\n+2005-03-17  Richard Henderson  <rth@redhat.com>\n+\n+\t* doc/extend.texi (Weak Pragmas): New section.\n+\t(attribute alias): Clarify that target must be in the same\n+\ttranslation unit.\n+\n 2005-03-17  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/alpha.opt: New file."}, {"sha": "057bdfa9fa28f9206428566270e8b5158f8cc414", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 26, "deletions": 2, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/52eb57dfb1a459af58f87e8dc71206d7c2ba36a8/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=52eb57dfb1a459af58f87e8dc71206d7c2ba36a8", "patch": "@@ -1528,7 +1528,8 @@ void f () __attribute__ ((weak, alias (\"__f\")));\n @end smallexample\n \n declares @samp{f} to be a weak alias for @samp{__f}.  In C++, the\n-mangled name for the target must be used.\n+mangled name for the target must be used.  It is an error if @samp{__f}\n+is not defined in the same translation unit.\n \n Not all target machines support this attribute.\n \n@@ -8579,6 +8580,7 @@ for further explanation.\n * Solaris Pragmas::\n * Symbol-Renaming Pragmas::\n * Structure-Packing Pragmas::\n+* Weak Pragmas::\n @end menu\n \n @node ARM Pragmas\n@@ -8761,7 +8763,7 @@ way of knowing that that happened.)\n @node Structure-Packing Pragmas\n @subsection Structure-Packing Pragmas\n \n-For compatibility with Win32, GCC supports as set of @code{#pragma}\n+For compatibility with Win32, GCC supports a set of @code{#pragma}\n directives which change the maximum alignment of members of structures,\n unions, and classes subsequently defined.  The @var{n} value below always\n is required to be a small power of two and specifies the new alignment\n@@ -8782,6 +8784,28 @@ multiple @code{#pragma pack(@var{n})} instances and finalized by a single\n @code{#pragma pack(pop)}.\n @end enumerate\n \n+@node Weak Pragmas\n+@subsection Weak Pragmas\n+\n+For compatibility with SVR4, GCC supports a set of @code{#pragma}\n+directives for declaring symbols to be weak, and defining weak\n+aliases.\n+\n+@table @code\n+@item #pragma weak @var{symbol}\n+@cindex pragma, weak\n+This pragma declares @var{symbol} to be weak, as if the declaration\n+had the attribute of the same name.  The pragma may appear before\n+or after the declaration of @var{symbol}, but must appear before \n+either its first use or its definition.  It is not an error for\n+@var{symbol} to never be defined at all.\n+\n+@item #pragma weak @var{symbol1} = @var{symbol2}\n+This pragma declares @var{symbol1} to be a weak alias of @var{symbol2}.\n+It is an error if @var{symbol2} is not defined in the current\n+translation unit.\n+@end table\n+\n @node Unnamed Fields\n @section Unnamed struct/union fields within structs/unions\n @cindex struct"}]}