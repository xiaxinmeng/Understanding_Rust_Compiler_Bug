{"sha": "21eb631b826dd6512cc47013a990a471cdcc1008", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFlYjYzMWI4MjZkZDY1MTJjYzQ3MDEzYTk5MGE0NzFjZGNjMTAwOA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-12-16T01:49:41Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-12-16T01:49:41Z"}, "message": "re PR c++/13269 (compiler hangs on invalid code)\n\n\tPR c++/13269\n\t* parser.c (cp_parser_function_definition_after_declarator): Stop\n\tscanning tokens when reaching EOF.\n\n\tPR c++/13269\n\t* g++.dg/parse/error5.C: New test.\n\nFrom-SVN: r74661", "tree": {"sha": "914f5c8226356b671160a50d38b6a3effa0477d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/914f5c8226356b671160a50d38b6a3effa0477d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21eb631b826dd6512cc47013a990a471cdcc1008", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21eb631b826dd6512cc47013a990a471cdcc1008", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21eb631b826dd6512cc47013a990a471cdcc1008", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21eb631b826dd6512cc47013a990a471cdcc1008/comments", "author": null, "committer": null, "parents": [{"sha": "ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea0e2a51f400471a67bf3979fb9e30390eb7a34b"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "d00f67cc5ec183f4b01d90eea42e88d96c4cdf31", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=21eb631b826dd6512cc47013a990a471cdcc1008", "patch": "@@ -1,5 +1,9 @@\n 2003-12-15  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/13269\n+\t* parser.c (cp_parser_function_definition_after_declarator): Stop\n+\tscanning tokens when reaching EOF.\n+\n \tPR c++/12989\n \t* typeck.c (cxx_sizeof_or_alignof_expr): Robustify.\n "}, {"sha": "fd25aa2a7a942f7fd5363c62f55197f79f11978f", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=21eb631b826dd6512cc47013a990a471cdcc1008", "patch": "@@ -13807,7 +13807,8 @@ cp_parser_function_definition_after_declarator (cp_parser* parser,\n       /* Issue an error message.  */\n       error (\"named return values are no longer supported\");\n       /* Skip tokens until we reach the start of the function body.  */\n-      while (cp_lexer_next_token_is_not (parser->lexer, CPP_OPEN_BRACE))\n+      while (cp_lexer_next_token_is_not (parser->lexer, CPP_OPEN_BRACE)\n+\t     && cp_lexer_next_token_is_not (parser->lexer, CPP_EOF))\n \tcp_lexer_consume_token (parser->lexer);\n     }\n   /* The `extern' in `extern \"C\" void f () { ... }' does not apply to"}, {"sha": "8862f109ff203d50a46d0bbf361da37b3ede24af", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=21eb631b826dd6512cc47013a990a471cdcc1008", "patch": "@@ -1,5 +1,8 @@\n 2003-12-15  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/13269\n+\t* g++.dg/parse/error5.C: New test.\n+\n \tPR c++/12989\n \t* g++.dg/expr/sizeof1.C: New test.\n "}, {"sha": "81356ced1b0da276841c8453566599555ab19897", "filename": "gcc/testsuite/g++.dg/parse/error5.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21eb631b826dd6512cc47013a990a471cdcc1008/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ferror5.C?ref=21eb631b826dd6512cc47013a990a471cdcc1008", "patch": "@@ -0,0 +1,4 @@\n+// PR c++/13269\n+\n+class Foo { int foo() return 0; } }; // { dg-error \"\" }\n+"}]}