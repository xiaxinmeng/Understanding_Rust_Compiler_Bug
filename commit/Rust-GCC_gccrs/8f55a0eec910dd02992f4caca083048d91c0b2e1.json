{"sha": "8f55a0eec910dd02992f4caca083048d91c0b2e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY1NWEwZWVjOTEwZGQwMjk5MmY0Y2FjYTA4MzA0OGQ5MWMwYjJlMQ==", "commit": {"author": {"name": "Mark Eggleston", "email": "markeggleston@gcc.gnu.org", "date": "2020-02-18T12:23:20Z"}, "committer": {"name": "Mark Eggleston", "email": "markeggleston@gcc.gnu.org", "date": "2020-02-18T12:23:20Z"}, "message": "[Fortran] ICE in gfc_typenode_for_spec PR93603\n\nAssociating a symbol with a BOZ constant caused an ICE.  Output\nan error message as an association target cannot be a BOZ\nconstant.\n\nOriginal patch provided by Steven G. Kargl  <kargl@gcc.gnu.org>.\n\ngcc/fortran/ChangeLog\n\n\tPR fortran/93603\n\t* match.c (gfc_match_associate) : If target expression\n\thas the type BT_BOZ output an error and goto\n\tassocListError.\n\ngcc/testsuite/ChangeLog\n\n\tPR fortran/93603\n\t* gfortran.dg/pr93603.f90 : New test.", "tree": {"sha": "e8bcd79b1f67c14dcd1fff84144bac2a672d359a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8bcd79b1f67c14dcd1fff84144bac2a672d359a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f55a0eec910dd02992f4caca083048d91c0b2e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f55a0eec910dd02992f4caca083048d91c0b2e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f55a0eec910dd02992f4caca083048d91c0b2e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f55a0eec910dd02992f4caca083048d91c0b2e1/comments", "author": null, "committer": null, "parents": [{"sha": "d4c10c9f4bff616e7ed07e92504fe31a700e2af1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4c10c9f4bff616e7ed07e92504fe31a700e2af1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4c10c9f4bff616e7ed07e92504fe31a700e2af1"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "2e874b83c64a2f65b34bf4bfa30819eb8d42aa71", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=8f55a0eec910dd02992f4caca083048d91c0b2e1", "patch": "@@ -1,3 +1,10 @@\n+2020-02-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/93603\n+\t* match.c (gfc_match_associate) : If target expression\n+\thas the type BT_BOZ output an error and goto\n+\tassocListError.\n+\n 2020-02-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n \t    Mark Eggleston  <markeggleston@gcc.gnu.org>\n "}, {"sha": "9c2ec41c49c620caa865ee16b8de460fb2c0a837", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=8f55a0eec910dd02992f4caca083048d91c0b2e1", "patch": "@@ -1957,6 +1957,14 @@ gfc_match_associate (void)\n \t  goto assocListError;\n \t}\n \n+      /* The target expression cannot be a BOZ literal constant.  */\n+      if (newAssoc->target->ts.type == BT_BOZ)\n+\t{\n+\t  gfc_error (\"Association target at %L cannot be a BOZ literal \"\n+\t\t     \"constant\", &newAssoc->target->where);\n+\t  goto assocListError;\n+\t}\n+\n       /* The `variable' field is left blank for now; because the target is not\n \t yet resolved, we can't use gfc_has_vector_subscript to determine it\n \t for now.  This is set during resolution.  */"}, {"sha": "f9a545e2d934a4f34908a32cf66d26889879b6b0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8f55a0eec910dd02992f4caca083048d91c0b2e1", "patch": "@@ -1,3 +1,8 @@\n+2020-02-18  Mark Eggleston  <mark.eggleston@codethink.com>\n+\n+\tPR fortran/93603\n+\t* gfortran.dg/pr93603.f90 : New test.\n+\n 2020-02-20  Mark Eggleston <markeggleston@gcc.gnu.org>\n \n \tPR fortran/93580"}, {"sha": "fd452e52ca2063e5228c329af78c763ae959df80", "filename": "gcc/testsuite/gfortran.dg/pr93603.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93603.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f55a0eec910dd02992f4caca083048d91c0b2e1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93603.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93603.f90?ref=8f55a0eec910dd02992f4caca083048d91c0b2e1", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+\n+program p\n+  associate (y => z'1') ! { dg-error \"cannot be a BOZ literal constant\" }\n+  end associate         ! { dg-error \"Expecting END PROGRAM\" }\n+end\n+"}]}