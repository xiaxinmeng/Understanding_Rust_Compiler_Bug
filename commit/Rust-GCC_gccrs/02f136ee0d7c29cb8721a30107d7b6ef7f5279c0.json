{"sha": "02f136ee0d7c29cb8721a30107d7b6ef7f5279c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJmMTM2ZWUwZDdjMjljYjg3MjFhMzAxMDdkN2I2ZWY3ZjUyNzljMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-04-09T17:02:43Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-04-09T17:02:43Z"}, "message": "re PR rtl-optimization/6189 (Regression from 3.0.x: g++ -O3 generates wrong code)\n\n        PR optimization/6189\n        * semantics.c (genrtl_start_function): Don't free\n        DECL_SAVED_FUNCTION_DATA for inline functions.\n\n[[Split portion of a mixed commit.]]\n\nFrom-SVN: r52083.2", "tree": {"sha": "071c0375be4586f849ed9967c6baf83561577c17", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/071c0375be4586f849ed9967c6baf83561577c17"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0/comments", "author": null, "committer": null, "parents": [{"sha": "edf5cd1d1d776d7eb0d2d423216a38d4cac21103", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edf5cd1d1d776d7eb0d2d423216a38d4cac21103", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edf5cd1d1d776d7eb0d2d423216a38d4cac21103"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "2ec597744695c5701e076d75174b5ae4de4ec7f7", "filename": "gcc/testsuite/g++.dg/opt/nrv3.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fnrv3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02f136ee0d7c29cb8721a30107d7b6ef7f5279c0/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fnrv3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fnrv3.C?ref=02f136ee0d7c29cb8721a30107d7b6ef7f5279c0", "patch": "@@ -0,0 +1,24 @@\n+// PR optimization/6189\n+// Bug: we forgot about foo's nrv after writing it out.\n+// { dg-options -O3 }\n+// { dg-do run }\n+\n+struct A\n+{\n+  int i;\n+};\n+\n+\n+A foo ()\n+{\n+  A a;\n+  a.i = 42;\n+  return a;\n+}\n+\n+\n+int main()\n+{\n+  A b = foo();\n+  return b.i != 42;\n+}"}]}