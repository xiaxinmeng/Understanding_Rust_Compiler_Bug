{"sha": "4a397c3e09d7909f4585b864da9660544d8349f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGEzOTdjM2UwOWQ3OTA5ZjQ1ODViODY0ZGE5NjYwNTQ0ZDgzNDlmMw==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2012-11-20T16:17:16Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2012-11-20T16:17:16Z"}, "message": "re PR target/55268 (gcc4.8 mingw-w64 wrong stdcall import symbols generated after rev 193204)\n\n        PR target/55268\n        * i386.c (ix86_mangle_decl_assembler_name): Use\n        SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME if defined.\n        * cygming.h (TARGET_MANGLE_DECL_ASSEMBLER_NAME): Rename\n        to SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME.\n\nFrom-SVN: r193666", "tree": {"sha": "c80a4728a09105e64282b8c989fa80d29d2fe2f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c80a4728a09105e64282b8c989fa80d29d2fe2f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a397c3e09d7909f4585b864da9660544d8349f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a397c3e09d7909f4585b864da9660544d8349f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a397c3e09d7909f4585b864da9660544d8349f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a397c3e09d7909f4585b864da9660544d8349f3/comments", "author": null, "committer": null, "parents": [{"sha": "25caa91e991976d04f2f4a87ccf94a877ebefb46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25caa91e991976d04f2f4a87ccf94a877ebefb46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25caa91e991976d04f2f4a87ccf94a877ebefb46"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "050014417a3869b12c41099aef1fedbb6df06daf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a397c3e09d7909f4585b864da9660544d8349f3", "patch": "@@ -1,3 +1,11 @@\n+2012-11-20  Kai Tietz  <ktietz@redhat.com>\n+\n+\tPR target/55268\n+\t* i386.c (ix86_mangle_decl_assembler_name): Use\n+\tSUBTARGET_MANGLE_DECL_ASSEMBLER_NAME if defined.\n+\t* cygming.h (TARGET_MANGLE_DECL_ASSEMBLER_NAME): Rename\n+\tto SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME.\n+\n 2012-11-20  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.c (ix86_expand_call): Emit CLOBBERs in VOIDmode."}, {"sha": "55c800e15c1d220624f7f2c1d5f42200ec11c290", "filename": "gcc/config/i386/cygming.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2Fconfig%2Fi386%2Fcygming.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2Fconfig%2Fi386%2Fcygming.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygming.h?ref=4a397c3e09d7909f4585b864da9660544d8349f3", "patch": "@@ -471,7 +471,7 @@ do {\t\t\t\t\t\t\\\n \n #define TARGET_VALID_DLLIMPORT_ATTRIBUTE_P i386_pe_valid_dllimport_attribute_p\n #define TARGET_CXX_ADJUST_CLASS_AT_DEFINITION i386_pe_adjust_class_at_definition\n-#define TARGET_MANGLE_DECL_ASSEMBLER_NAME i386_pe_mangle_decl_assembler_name\n+#define SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME i386_pe_mangle_decl_assembler_name\n \n #undef TARGET_ASM_ASSEMBLE_VISIBILITY\n #define TARGET_ASM_ASSEMBLE_VISIBILITY i386_pe_assemble_visibility"}, {"sha": "8ce32be07bfbae2db42bbfd5c2bdf2229aefbdd3", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a397c3e09d7909f4585b864da9660544d8349f3/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=4a397c3e09d7909f4585b864da9660544d8349f3", "patch": "@@ -28980,7 +28980,10 @@ ix86_mangle_decl_assembler_name (tree decl, tree id)\n   /* For function version, add the target suffix to the assembler name.  */\n   if (TREE_CODE (decl) == FUNCTION_DECL\n       && DECL_FUNCTION_VERSIONED (decl))\n-    return ix86_mangle_function_version_assembler_name (decl, id);\n+    id = ix86_mangle_function_version_assembler_name (decl, id);\n+#ifdef SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME\n+  id = SUBTARGET_MANGLE_DECL_ASSEMBLER_NAME (decl, id);\n+#endif\n \n   return id;\n }"}]}