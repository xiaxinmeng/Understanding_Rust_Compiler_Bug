{"sha": "a89905fdd212bae10c6bc55662dec330e9a07b3e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg5OTA1ZmRkMjEyYmFlMTBjNmJjNTU2NjJkZWMzMzBlOWEwN2IzZQ==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2015-10-25T15:18:48Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2015-10-25T15:18:48Z"}, "message": "re PR middle-end/68079 (hppa: pointers to method types need canonicalization before comparison)\n\n\tPR middle-end/68079\n\t* dojump.c (do_compare_and_jump): Canonicalize both function and\n\tmethod types.\n\nFrom-SVN: r229299", "tree": {"sha": "8fdb84b7b8a5bcbffc695826abe0956de2421e9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8fdb84b7b8a5bcbffc695826abe0956de2421e9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a89905fdd212bae10c6bc55662dec330e9a07b3e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a89905fdd212bae10c6bc55662dec330e9a07b3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a89905fdd212bae10c6bc55662dec330e9a07b3e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a89905fdd212bae10c6bc55662dec330e9a07b3e/comments", "author": null, "committer": null, "parents": [{"sha": "fa788aea5387b066df50efa36810d7600063e7f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa788aea5387b066df50efa36810d7600063e7f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa788aea5387b066df50efa36810d7600063e7f1"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "0f6ddda570efb65b2a9e3ac173a70489298617ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a89905fdd212bae10c6bc55662dec330e9a07b3e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a89905fdd212bae10c6bc55662dec330e9a07b3e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a89905fdd212bae10c6bc55662dec330e9a07b3e", "patch": "@@ -1,3 +1,9 @@\n+2015-10-25  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\tPR middle-end/68079\n+\t* dojump.c (do_compare_and_jump): Canonicalize both function and\n+\tmethod types.\n+\n 2015-10-25  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/68084"}, {"sha": "d767320a10256a312d24875bd3576b3bdd71f039", "filename": "gcc/dojump.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a89905fdd212bae10c6bc55662dec330e9a07b3e/gcc%2Fdojump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a89905fdd212bae10c6bc55662dec330e9a07b3e/gcc%2Fdojump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdojump.c?ref=a89905fdd212bae10c6bc55662dec330e9a07b3e", "patch": "@@ -1207,12 +1207,10 @@ do_compare_and_jump (tree treeop0, tree treeop1, enum rtx_code signed_code,\n      If one side isn't, we want a noncanonicalized comparison.  See PR\n      middle-end/17564.  */\n   if (targetm.have_canonicalize_funcptr_for_compare ()\n-      && TREE_CODE (TREE_TYPE (treeop0)) == POINTER_TYPE\n-      && TREE_CODE (TREE_TYPE (TREE_TYPE (treeop0)))\n-          == FUNCTION_TYPE\n-      && TREE_CODE (TREE_TYPE (treeop1)) == POINTER_TYPE\n-      && TREE_CODE (TREE_TYPE (TREE_TYPE (treeop1)))\n-          == FUNCTION_TYPE)\n+      && POINTER_TYPE_P (TREE_TYPE (treeop0))\n+      && POINTER_TYPE_P (TREE_TYPE (treeop1))\n+      && FUNC_OR_METHOD_TYPE_P (TREE_TYPE (TREE_TYPE (treeop0)))\n+      && FUNC_OR_METHOD_TYPE_P (TREE_TYPE (TREE_TYPE (treeop1))))\n     {\n       rtx new_op0 = gen_reg_rtx (mode);\n       rtx new_op1 = gen_reg_rtx (mode);"}]}