{"sha": "1a1aed246641008d32b13e1950f8b2412ad49e74", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWExYWVkMjQ2NjQxMDA4ZDMyYjEzZTE5NTBmOGIyNDEyYWQ0OWU3NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@unitus.it", "date": "2003-02-17T20:07:48Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2003-02-17T20:07:48Z"}, "message": "re PR libstdc++/9580 (basic_filebuf<> with custom traits_type fails to link)\n\n2003-02-17  Paolo Carlini  <pcarlini@unitus.it>\n\n\tPR libstdc++/9580\n\t* include/std/std_fstream.h: Declare underflow and uflow\n\tspecializations, change generic definitions to do nothing.\n\t* src/fstream.cc: Add underflow and uflow specializations.\n\nFrom-SVN: r63008", "tree": {"sha": "4db647a401ec37cbc6b4295f5d8708887f42d6d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4db647a401ec37cbc6b4295f5d8708887f42d6d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a1aed246641008d32b13e1950f8b2412ad49e74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1aed246641008d32b13e1950f8b2412ad49e74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a1aed246641008d32b13e1950f8b2412ad49e74", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1aed246641008d32b13e1950f8b2412ad49e74/comments", "author": null, "committer": null, "parents": [{"sha": "bea63b0accf638e9b45b75efc2b75a746aba88a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bea63b0accf638e9b45b75efc2b75a746aba88a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bea63b0accf638e9b45b75efc2b75a746aba88a6"}], "stats": {"total": 50, "additions": 46, "deletions": 4}, "files": [{"sha": "14268113aaeeb143ff55828795035bb37ba0cada", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=1a1aed246641008d32b13e1950f8b2412ad49e74", "patch": "@@ -1,3 +1,10 @@\n+2003-02-17  Paolo Carlini  <pcarlini@unitus.it>\n+\n+\tPR libstdc++/9580\n+\t* include/std/std_fstream.h: Declare underflow and uflow\n+\tspecializations, change generic definitions to do nothing.\n+\t* src/fstream.cc: Add underflow and uflow specializations.\n+\n 2003-02-17  Paolo Carlini  <pcarlini@unitus.it>\n \n \tPR libstdc++/9169"}, {"sha": "d7a0e0956bdf931c39ad92c8b58ed38453821aed", "filename": "libstdc++-v3/include/std/std_fstream.h", "status": "modified", "additions": 19, "deletions": 4, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_fstream.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_fstream.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fstd_fstream.h?ref=1a1aed246641008d32b13e1950f8b2412ad49e74", "patch": "@@ -439,23 +439,38 @@ namespace std\n     basic_filebuf<char>::int_type \n     basic_filebuf<char>::_M_underflow_common(bool __bump);\n \n+  template<>\n+    basic_filebuf<char>::int_type\n+    basic_filebuf<char>::underflow(); \n+\n+  template<>\n+    basic_filebuf<char>::int_type\n+    basic_filebuf<char>::uflow(); \n+\n  #ifdef _GLIBCPP_USE_WCHAR_T\n   template<> \n     basic_filebuf<wchar_t>::int_type \n     basic_filebuf<wchar_t>::_M_underflow_common(bool __bump);\n+\n+  template<>\n+    basic_filebuf<wchar_t>::int_type\n+    basic_filebuf<wchar_t>::underflow(); \n+\n+  template<>\n+    basic_filebuf<wchar_t>::int_type\n+    basic_filebuf<wchar_t>::uflow(); \n  #endif\n \n-  // Generic definitions.\n+  // Generic definitions do nothing.\n   template <typename _CharT, typename _Traits>\n     typename basic_filebuf<_CharT, _Traits>::int_type\n     basic_filebuf<_CharT, _Traits>::underflow() \n-    { return _M_underflow_common(false); }\n+    { return int_type(); }\n \n   template <typename _CharT, typename _Traits>\n     typename basic_filebuf<_CharT, _Traits>::int_type\n     basic_filebuf<_CharT, _Traits>::uflow() \n-    { return _M_underflow_common(true); }\n-\n+    { return int_type(); }\n \n   // [27.8.1.5] Template class basic_ifstream\n   /**"}, {"sha": "944bae27c381187a3f529ddc17485da1d99dc45d", "filename": "libstdc++-v3/src/fstream.cc", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2Fsrc%2Ffstream.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1aed246641008d32b13e1950f8b2412ad49e74/libstdc%2B%2B-v3%2Fsrc%2Ffstream.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Ffstream.cc?ref=1a1aed246641008d32b13e1950f8b2412ad49e74", "patch": "@@ -100,6 +100,16 @@ namespace std\n       return __ret;\n     }\n \n+  template<>\n+    basic_filebuf<char>::int_type\n+    basic_filebuf<char>::underflow() \n+    { return _M_underflow_common(false); }\n+\n+  template<>\n+    basic_filebuf<char>::int_type\n+    basic_filebuf<char>::uflow() \n+    { return _M_underflow_common(true); }\n+\n #ifdef _GLIBCPP_USE_WCHAR_T\n   template<> \n     basic_filebuf<wchar_t>::int_type \n@@ -189,5 +199,15 @@ namespace std\n       _M_last_overflowed = false;\t\n       return __ret;\n     }\n+\n+  template<>\n+    basic_filebuf<wchar_t>::int_type\n+    basic_filebuf<wchar_t>::underflow() \n+    { return _M_underflow_common(false); }\n+\n+  template<>\n+    basic_filebuf<wchar_t>::int_type\n+    basic_filebuf<wchar_t>::uflow() \n+    { return _M_underflow_common(true); }\n #endif\n } // namespace std"}]}