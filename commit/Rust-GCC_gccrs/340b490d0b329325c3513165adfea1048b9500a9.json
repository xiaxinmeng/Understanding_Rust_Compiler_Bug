{"sha": "340b490d0b329325c3513165adfea1048b9500a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQwYjQ5MGQwYjMyOTMyNWMzNTEzMTY1YWRmZWExMDQ4Yjk1MDBhOQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-02-10T13:56:10Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-02-10T13:56:10Z"}, "message": "sem_ch7.adb (Uninstall_Declarations): Exchange full and private views of a private type after handling its private...\n\n\t* sem_ch7.adb (Uninstall_Declarations): Exchange full and private\n\tviews of a private type after handling its private dependents, to\n\tmaintain proper stack discipline between entry and exit from the\n\tpackage.\n\nFrom-SVN: r94821", "tree": {"sha": "bef1428302b5ba2c11adad09aec802b4cb362b1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bef1428302b5ba2c11adad09aec802b4cb362b1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/340b490d0b329325c3513165adfea1048b9500a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/340b490d0b329325c3513165adfea1048b9500a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/340b490d0b329325c3513165adfea1048b9500a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/340b490d0b329325c3513165adfea1048b9500a9/comments", "author": null, "committer": null, "parents": [{"sha": "7ffd93121c90bb8edabadc47a82e71087dea7eb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ffd93121c90bb8edabadc47a82e71087dea7eb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ffd93121c90bb8edabadc47a82e71087dea7eb1"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "b56917d4badfd77943b585273eb5ed17987fcb85", "filename": "gcc/ada/sem_ch7.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/340b490d0b329325c3513165adfea1048b9500a9/gcc%2Fada%2Fsem_ch7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/340b490d0b329325c3513165adfea1048b9500a9/gcc%2Fada%2Fsem_ch7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch7.adb?ref=340b490d0b329325c3513165adfea1048b9500a9", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2004, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2005, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1905,7 +1905,6 @@ package body Sem_Ch7 is\n             end if;\n \n             Priv_Elmt := First_Elmt (Private_Dependents (Id));\n-            Exchange_Declarations (Id);\n \n             --  Swap out the subtypes and derived types of Id that were\n             --  compiled in this scope, or installed previously by\n@@ -1937,6 +1936,10 @@ package body Sem_Ch7 is\n                Next_Elmt (Priv_Elmt);\n             end loop;\n \n+            --  Now restore the type itself to its private view.\n+\n+            Exchange_Declarations (Id);\n+\n          elsif Ekind (Id) = E_Incomplete_Type\n            and then No (Full_View (Id))\n          then"}]}