{"sha": "8e5fe23fb3a2296d7834907a59a5663baa2b9078", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU1ZmUyM2ZiM2EyMjk2ZDc4MzQ5MDdhNTlhNTY2M2JhYTJiOTA3OA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-03-26T09:07:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-03-26T09:07:10Z"}, "message": "alpha.c (alpha_va_arg): Read MUST_PASS_IN_STACK types from the normal argument frame.\n\n        * config/alpha/alpha.c (alpha_va_arg): Read MUST_PASS_IN_STACK\n        types from the normal argument frame.\n\nFrom-SVN: r51380", "tree": {"sha": "610bd3f5517513c7ea3812759d180003d9f97ef1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/610bd3f5517513c7ea3812759d180003d9f97ef1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e5fe23fb3a2296d7834907a59a5663baa2b9078", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e5fe23fb3a2296d7834907a59a5663baa2b9078", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e5fe23fb3a2296d7834907a59a5663baa2b9078", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e5fe23fb3a2296d7834907a59a5663baa2b9078/comments", "author": null, "committer": null, "parents": [{"sha": "82cf684b41e3b26837a0df5d5b8ec3d38e5709a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82cf684b41e3b26837a0df5d5b8ec3d38e5709a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82cf684b41e3b26837a0df5d5b8ec3d38e5709a6"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "15820dbe1d8f649f540c059875130185d52b3bbc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e5fe23fb3a2296d7834907a59a5663baa2b9078/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e5fe23fb3a2296d7834907a59a5663baa2b9078/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8e5fe23fb3a2296d7834907a59a5663baa2b9078", "patch": "@@ -1,5 +1,11 @@\n 2002-03-26  Richard Henderson  <rth@redhat.com>\n \n+\t* expr.h (ADD_PARM_SIZE): Cast INC to ssizetype.\n+\t(SUB_PARM_SIZE): Cast DEC to ssizetype.\n+\n+\t* config/alpha/alpha.c (alpha_va_arg): Read MUST_PASS_IN_STACK\n+\ttypes from the normal argument frame.\n+\n \t* config/sparc/sparc.c (function_arg_pass_by_reference): Pass\n \tvariable sized objects by reference.\n \t(sparc_va_arg): Receive them by reference too."}, {"sha": "60334790bc47041220412002f70143407610dda4", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e5fe23fb3a2296d7834907a59a5663baa2b9078/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e5fe23fb3a2296d7834907a59a5663baa2b9078/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=8e5fe23fb3a2296d7834907a59a5663baa2b9078", "patch": "@@ -5812,6 +5812,17 @@ alpha_va_arg (valist, type)\n   offset_field = build (COMPONENT_REF, TREE_TYPE (offset_field),\n \t\t\tvalist, offset_field);\n \n+  /* If the type could not be passed in registers, skip the block\n+     reserved for the registers.  */\n+  if (MUST_PASS_IN_STACK (TYPE_MODE (type), type))\n+    {\n+      t = build (MODIFY_EXPR, TREE_TYPE (offset_field), offset_field,\n+\t\t build (MAX_EXPR, TREE_TYPE (offset_field), \n+\t\t\toffset_field, build_int_2 (6*8, 0)));\n+      TREE_SIDE_EFFECTS (t) = 1;\n+      expand_expr (t, const0_rtx, VOIDmode, EXPAND_NORMAL);\n+    }\n+\n   wide_type = make_signed_type (64);\n   wide_ofs = save_expr (build1 (CONVERT_EXPR, wide_type, offset_field));\n "}]}