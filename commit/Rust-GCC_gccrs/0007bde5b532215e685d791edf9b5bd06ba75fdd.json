{"sha": "0007bde5b532215e685d791edf9b5bd06ba75fdd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDAwN2JkZTViNTMyMjE1ZTY4NWQ3OTFlZGY5YjViZDA2YmE3NWZkZA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-30T01:47:51Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-03-30T01:47:51Z"}, "message": "entered into RCS\n\nFrom-SVN: r629", "tree": {"sha": "85d450a55ca661daa2e878d01280228057ca0a8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85d450a55ca661daa2e878d01280228057ca0a8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0007bde5b532215e685d791edf9b5bd06ba75fdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0007bde5b532215e685d791edf9b5bd06ba75fdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0007bde5b532215e685d791edf9b5bd06ba75fdd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0007bde5b532215e685d791edf9b5bd06ba75fdd/comments", "author": null, "committer": null, "parents": [{"sha": "b91c37569d6a5c3b32eec90c0617d311d3fbac6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b91c37569d6a5c3b32eec90c0617d311d3fbac6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b91c37569d6a5c3b32eec90c0617d311d3fbac6a"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "8d463311709e8f1998f9d175f05980b253660771", "filename": "gcc/config/vax/vms.h", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0007bde5b532215e685d791edf9b5bd06ba75fdd/gcc%2Fconfig%2Fvax%2Fvms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0007bde5b532215e685d791edf9b5bd06ba75fdd/gcc%2Fconfig%2Fvax%2Fvms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvms.h?ref=0007bde5b532215e685d791edf9b5bd06ba75fdd", "patch": "@@ -32,6 +32,8 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef TARGET_DEFAULT\n #undef CALL_USED_REGISTERS\n #undef MAYBE_VMS_FUNCTION_PROLOGUE\n+#undef FUNCTION_PROLOGUE\n+#undef STARTING_FRAME_OFFSET\n \n /* Predefine this in CPP because VMS limits the size of command options\n    and GNU CPP is not used on VMS except with GNU C.  */\n@@ -59,6 +61,26 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #define CALL_USED_REGISTERS {1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1}\n \n+/* We redefine this because there is a hidden variable on the stack\n+   that VAXC$ESTABLISH uses.  We just need to add four bytes to whatever\n+   gcc thinks that we need.  Similarily, we need to move all local variables\n+   down 4 bytes in the stack.  */\n+\n+#define STARTING_FRAME_OFFSET -4\n+\n+#define FUNCTION_PROLOGUE(FILE, SIZE)     \\\n+{ register int regno;\t\t\t\t\t\t\\\n+  register int mask = 0;\t\t\t\t\t\\\n+  register int newsize = SIZE + 4;\t\t\t\t\\\n+  extern char call_used_regs[];\t\t\t\t\t\\\n+  for (regno = 0; regno < FIRST_PSEUDO_REGISTER; regno++)\t\\\n+    if (regs_ever_live[regno] && !call_used_regs[regno])\t\\\n+       mask |= 1 << regno;\t\t\t\t\t\\\n+  fprintf (FILE, \"\\t.word 0x%x\\n\", mask);\t\t\t\\\n+  MAYBE_VMS_FUNCTION_PROLOGUE(FILE)\t\t\t\t\\\n+  if (newsize >= 64) fprintf (FILE, \"\\tmovab %d(sp),sp\\n\", -newsize);\\\n+  else fprintf (FILE, \"\\tsubl2 $%d,sp\\n\", newsize); }\n+\n #define __MAIN_NAME \" main (\"\n /*\n  * The MAYBE_VMS_FUNCTION_PROLOGUE macro works for both gcc and g++.  It"}]}