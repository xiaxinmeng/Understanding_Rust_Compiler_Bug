{"sha": "b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjU3OThiMmE4YjZmYTJiZDY4NzQ5OWQ0MjBiOWYwYTFjZDdjOGI3MA==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2002-11-21T12:03:49Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2002-11-21T12:03:49Z"}, "message": "libgcc-libc.ver: Add multilib support.\n\n\t* config/s390/libgcc-libc.ver: Add multilib support.\n\t* config/s390/linux.h (MULTILIB_DEFAULT): Define.\n\t* config/s390/t-linux64 (MULTILIB_OPTIONS, MULTILIB_DIRNAMES,\n\tMULTILIB_OSDIRNAMES, LIBGCC, INSTALL_LIBGCC,\n\tEXTRA_MULTILIB_PARTS): Define.\n\nFrom-SVN: r59342", "tree": {"sha": "4a568e37f8b1ce85b951ac42bdef41d935ef7f10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a568e37f8b1ce85b951ac42bdef41d935ef7f10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/comments", "author": null, "committer": null, "parents": [{"sha": "6315b6cbff7ca22e8d8d6f69b4fa0c87d41c2330", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6315b6cbff7ca22e8d8d6f69b4fa0c87d41c2330", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6315b6cbff7ca22e8d8d6f69b4fa0c87d41c2330"}], "stats": {"total": 43, "additions": 43, "deletions": 0}, "files": [{"sha": "94e8ddeb16716251a6e1334c5f1dd181fc900d89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "patch": "@@ -1,3 +1,11 @@\n+2002-11-21  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/s390/libgcc-libc.ver: Add multilib support.\n+\t* config/s390/linux.h (MULTILIB_DEFAULT): Define.\n+\t* config/s390/t-linux64 (MULTILIB_OPTIONS, MULTILIB_DIRNAMES, \n+\tMULTILIB_OSDIRNAMES, LIBGCC, INSTALL_LIBGCC, \n+\tEXTRA_MULTILIB_PARTS): Define.\n+\n 2002-11-21  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* arm.c (arm_get_frame_size): A leaf function does not need its"}, {"sha": "1d9e22904133d6ccac2bd80eb4e8e6a4f29d656b", "filename": "gcc/config/s390/libgcc-glibc.ver", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Flibgcc-glibc.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Flibgcc-glibc.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flibgcc-glibc.ver?ref=b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "patch": "@@ -8,6 +8,25 @@\n # because GLIBC_2.0 does not exist on this architecture, as the first \n # ever glibc release on the platform was GLIBC_2.2.\n \n+%ifndef __s390x__\n+%inherit GCC_3.0 GLIBC_2.0\n+GLIBC_2.0 {\n+  __divdi3\n+  __moddi3\n+  __udivdi3\n+  __umoddi3\n+\n+  __register_frame\n+  __register_frame_table\n+  __deregister_frame\n+  __register_frame_info\n+  __deregister_frame_info\n+  __frame_state_for\n+  __register_frame_info_table\n+}\n+%endif\n+\n+%ifdef __s390x__\n %inherit GCC_3.0 GLIBC_2.2\n GLIBC_2.2 {\n   __register_frame\n@@ -18,4 +37,5 @@ GLIBC_2.2 {\n   __frame_state_for\n   __register_frame_info_table\n }\n+%endif\n "}, {"sha": "cbb771099dc3cc3abc5706df991ad25d01603c4a", "filename": "gcc/config/s390/linux.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux.h?ref=b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "patch": "@@ -81,6 +81,12 @@ Boston, MA 02111-1307, USA.  */\n \n /* Target specific linker settings.  */\n \n+#ifdef DEFAULT_TARGET_64BIT\n+#define MULTILIB_DEFAULTS { \"m64\" }\n+#else\n+#define MULTILIB_DEFAULTS { \"m31\" }\n+#endif\n+\n #define LINK_ARCH31_SPEC \\\n   \"-m elf_s390 \\\n    %{shared:-shared} \\"}, {"sha": "db839c65ef11e30d0d8d180de8e8c1857477f550", "filename": "gcc/config/s390/t-linux64", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70/gcc%2Fconfig%2Fs390%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ft-linux64?ref=b5798b2a8b6fa2bd687499d420b9f0a1cd7c8b70", "patch": "@@ -1,3 +1,12 @@\n+MULTILIB_OPTIONS = m64/m31\n+MULTILIB_DIRNAMES = 64 32\n+MULTILIB_OSDIRNAMES = ../lib64 ../lib\n+\n+LIBGCC = stmp-multilib\n+INSTALL_LIBGCC = install-multilib\n+\n+EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o\n+\n # Override t-slibgcc-elf-ver to export some libgcc symbols with\n # the symbol versions that glibc used.\n SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver $(srcdir)/config/s390/libgcc-glibc.ver"}]}