{"sha": "fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmRjZjFlMWVkNWE5NjY4YTVlODYzMTk2OGEyZDU0ZDZjYzgzYzYxYQ==", "commit": {"author": {"name": "Chris Demetriou", "email": "cgd@broadcom.com", "date": "2004-01-25T23:45:48Z"}, "committer": {"name": "Chris Demetriou", "email": "cgd@gcc.gnu.org", "date": "2004-01-25T23:45:48Z"}, "message": "mips.h (ISA_HAS_HILO_INTERLOCKS): MIPS32, MIPS32r2, and MIPS64 have HI/LO interlocks.\n\n2003-04-25  Chris Demetriou  <cgd@broadcom.com>\n\n        * config/mips/mips.h (ISA_HAS_HILO_INTERLOCKS): MIPS32, MIPS32r2,\n        and MIPS64 have HI/LO interlocks.  Update comment.\n\nFrom-SVN: r76597", "tree": {"sha": "2863832dddcc0373989de7d3572a458eddf9cb10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2863832dddcc0373989de7d3572a458eddf9cb10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a/comments", "author": null, "committer": null, "parents": [{"sha": "f942e78de9710a8541e9e3b707e9e485004cf025", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f942e78de9710a8541e9e3b707e9e485004cf025", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f942e78de9710a8541e9e3b707e9e485004cf025"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "4b6de596f5c3e8ebe6498fa43df7e8b14a2cdfe8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "patch": "@@ -1,3 +1,8 @@\n+2003-04-25  Chris Demetriou  <cgd@broadcom.com>\n+\n+\t* config/mips/mips.h (ISA_HAS_HILO_INTERLOCKS): MIPS32, MIPS32r2,\n+\tand MIPS64 have HI/LO interlocks.  Update comment.\n+\n 2004-01-25  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/stormy16/stormy16-protos.h: Remove the prototype for"}, {"sha": "2ea0f67f3d91f9d14b4dfe486f0b0a867acd699d", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=fdcf1e1ed5a9668a5e8631968a2d54d6cc83c61a", "patch": "@@ -942,9 +942,21 @@ extern const struct mips_cpu_info *mips_tune_info;\n #define ISA_HAS_FCMP_DELAY\t(mips_isa <= 3)\n \n /* True if mflo and mfhi can be immediately followed by instructions\n-   which write to the HI and LO registers.  Most targets require a\n-   two-instruction gap.  */\n-#define ISA_HAS_HILO_INTERLOCKS\t(TARGET_MIPS5500 || TARGET_SB1)\n+   which write to the HI and LO registers.\n+\n+   According to MIPS specifications, MIPS ISAs I, II, and III need\n+   (at least) two instructions between the reads of HI/LO and\n+   instructions which write them, and later ISAs do not.  Contradicting\n+   the MIPS specifications, some MIPS IV processor user manuals (e.g.\n+   the UM for the NEC Vr5000) document needing the instructions between\n+   HI/LO reads and writes, as well.  Therefore, we declare only MIPS32,\n+   MIPS64 and later ISAs to have the interlocks, plus any specific\n+   earlier-ISA CPUs for which CPU documentation declares that the\n+   instructions are really interlocked.  */\n+#define ISA_HAS_HILO_INTERLOCKS\t(ISA_MIPS32\t\t\t\t\\\n+\t\t\t\t || ISA_MIPS32R2\t\t\t\\\n+\t\t\t\t || ISA_MIPS64\t\t\t\t\\\n+\t\t\t\t || TARGET_MIPS5500)\n \f\n /* Add -G xx support.  */\n "}]}