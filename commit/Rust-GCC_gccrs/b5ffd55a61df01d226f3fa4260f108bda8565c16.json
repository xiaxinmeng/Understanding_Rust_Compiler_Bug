{"sha": "b5ffd55a61df01d226f3fa4260f108bda8565c16", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVmZmQ1NWE2MWRmMDFkMjI2ZjNmYTQyNjBmMTA4YmRhODU2NWMxNg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2020-09-11T09:13:54Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2020-09-11T09:13:54Z"}, "message": "Add missing stride entry in debug info\n\nThis adds a missing stride entry for bit-packed arrays of record types.\n\ngcc/ada/ChangeLog:\n\t* gcc-interface/misc.c (get_array_bit_stride): Return TYPE_ADA_SIZE\n\tfor record and union types.", "tree": {"sha": "f20be982bb51bec05d0239653f6b07d04e001a00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f20be982bb51bec05d0239653f6b07d04e001a00"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5ffd55a61df01d226f3fa4260f108bda8565c16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5ffd55a61df01d226f3fa4260f108bda8565c16", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5ffd55a61df01d226f3fa4260f108bda8565c16", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5ffd55a61df01d226f3fa4260f108bda8565c16/comments", "author": null, "committer": null, "parents": [{"sha": "230e0dbdcbb55c5ec3cbb236db4302cd18a1a01d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/230e0dbdcbb55c5ec3cbb236db4302cd18a1a01d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/230e0dbdcbb55c5ec3cbb236db4302cd18a1a01d"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "781868e2ad3532474d7c3c0d85abf136890aed12", "filename": "gcc/ada/gcc-interface/misc.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5ffd55a61df01d226f3fa4260f108bda8565c16/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5ffd55a61df01d226f3fa4260f108bda8565c16/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fmisc.c?ref=b5ffd55a61df01d226f3fa4260f108bda8565c16", "patch": "@@ -1003,6 +1003,10 @@ get_array_bit_stride (tree comp_type)\n   if (INTEGRAL_TYPE_P (comp_type))\n     return TYPE_RM_SIZE (comp_type);\n \n+  /* Likewise for record or union types.  */\n+  if (RECORD_OR_UNION_TYPE_P (comp_type) && !TYPE_FAT_POINTER_P (comp_type))\n+    return TYPE_ADA_SIZE (comp_type);\n+\n   /* The gnat_get_array_descr_info debug hook expects a debug tyoe.  */\n   comp_type = maybe_debug_type (comp_type);\n "}]}