{"sha": "4c698cf891a7d946b64d95ba89d6a0d255f40712", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM2OThjZjg5MWE3ZDk0NmI2NGQ5NWJhODlkNmEwZDI1NWY0MDcxMg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2010-12-02T14:31:27Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2010-12-02T14:31:27Z"}, "message": "re PR libgomp/43706 (scheduling two threads on one core leads to starvation)\n\n\tPR libgomp/43706\n\t* env.c (initialize_env): Default to spin count 300000\n\tinstead of 20000000 if neither OMP_WAIT_POLICY nor GOMP_SPINCOUNT\n\tis specified.\n\nFrom-SVN: r167371", "tree": {"sha": "7c7f639641864f20e1f71f79f7efe3605b015db0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c7f639641864f20e1f71f79f7efe3605b015db0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c698cf891a7d946b64d95ba89d6a0d255f40712", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c698cf891a7d946b64d95ba89d6a0d255f40712", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c698cf891a7d946b64d95ba89d6a0d255f40712", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c698cf891a7d946b64d95ba89d6a0d255f40712/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b7516041a1e540b8db3c76ef4df192404d5daafd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7516041a1e540b8db3c76ef4df192404d5daafd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7516041a1e540b8db3c76ef4df192404d5daafd"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "4317202b211cfc196ec382437177d5a8c38933b6", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c698cf891a7d946b64d95ba89d6a0d255f40712/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c698cf891a7d946b64d95ba89d6a0d255f40712/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=4c698cf891a7d946b64d95ba89d6a0d255f40712", "patch": "@@ -1,5 +1,10 @@\n 2010-12-02  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR libgomp/43706\n+\t* env.c (initialize_env): Default to spin count 300000\n+\tinstead of 20000000 if neither OMP_WAIT_POLICY nor GOMP_SPINCOUNT\n+\tis specified.\n+\n \tPR libgomp/45240\n \t* parallel.c (GOMP_parallel_end): Unlock gomp_remaining_threads_lock\n \tat the end if sync builtins aren't supported."}, {"sha": "92fa8c3749794880c1998a2175113e20d3afa011", "filename": "libgomp/env.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c698cf891a7d946b64d95ba89d6a0d255f40712/libgomp%2Fenv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c698cf891a7d946b64d95ba89d6a0d255f40712/libgomp%2Fenv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fenv.c?ref=4c698cf891a7d946b64d95ba89d6a0d255f40712", "patch": "@@ -502,14 +502,14 @@ initialize_env (void)\n     {\n       /* Using a rough estimation of 100000 spins per msec,\n \t use 5 min blocking for OMP_WAIT_POLICY=active,\n-\t 200 msec blocking when OMP_WAIT_POLICY is not specificed\n+\t 3 msec blocking when OMP_WAIT_POLICY is not specificed\n \t and 0 when OMP_WAIT_POLICY=passive.\n \t Depending on the CPU speed, this can be e.g. 5 times longer\n \t or 5 times shorter.  */\n       if (wait_policy > 0)\n \tgomp_spin_count_var = 30000000000LL;\n       else if (wait_policy < 0)\n-\tgomp_spin_count_var = 20000000LL;\n+\tgomp_spin_count_var = 300000LL;\n     }\n   /* gomp_throttled_spin_count_var is used when there are more libgomp\n      managed threads than available CPUs.  Use very short spinning.  */"}]}