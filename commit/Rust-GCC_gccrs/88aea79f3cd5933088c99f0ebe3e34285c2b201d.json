{"sha": "88aea79f3cd5933088c99f0ebe3e34285c2b201d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhhZWE3OWYzY2Q1OTMzMDg4Yzk5ZjBlYmUzZTM0Mjg1YzJiMjAxZA==", "commit": {"author": {"name": "Kugan Vivekanandarajah", "email": "kuganv@linaro.org", "date": "2016-05-21T07:09:16Z"}, "committer": {"name": "Kugan Vivekanandarajah", "email": "kugan@gcc.gnu.org", "date": "2016-05-21T07:09:16Z"}, "message": "re PR tree-optimization/71179 (ice fold_convert_loc, at fold-const.c:2360)\n\ngcc/testsuite/ChangeLog:\n\n2016-05-21  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR middle-end/71179\n\t* gcc.dg/tree-ssa/pr71179.c: New test.\n\ngcc/ChangeLog:\n\n2016-05-21  Kugan Vivekanandarajah  <kuganv@linaro.org>\n\n\tPR middle-end/71179\n\t* tree-ssa-reassoc.c (transform_add_to_multiply): Disallow float\n\tVECTOR type.\n\nFrom-SVN: r236554", "tree": {"sha": "b514b97ee781ef14c240695fa1205379e07d3a0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b514b97ee781ef14c240695fa1205379e07d3a0e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88aea79f3cd5933088c99f0ebe3e34285c2b201d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88aea79f3cd5933088c99f0ebe3e34285c2b201d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88aea79f3cd5933088c99f0ebe3e34285c2b201d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88aea79f3cd5933088c99f0ebe3e34285c2b201d/comments", "author": null, "committer": null, "parents": [{"sha": "d4f4b355bcddb625a3e4abec7befaf67309c9dbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4f4b355bcddb625a3e4abec7befaf67309c9dbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4f4b355bcddb625a3e4abec7befaf67309c9dbd"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "eee44b279723d71f94d8bd1b052a8b9fe97d075e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88aea79f3cd5933088c99f0ebe3e34285c2b201d", "patch": "@@ -1,3 +1,9 @@\n+2016-05-21  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR middle-end/71179\n+\t* tree-ssa-reassoc.c (transform_add_to_multiply): Disallow float\n+\tVECTOR type.\n+\n 2016-05-20  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree-vrp.c (compare_values_warnv): Simplify handling of symbolic"}, {"sha": "3fc92f10d667ad7be7b0b71f3ca394f35bf64c98", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=88aea79f3cd5933088c99f0ebe3e34285c2b201d", "patch": "@@ -1,3 +1,8 @@\n+2016-05-21  Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\tPR middle-end/71179\n+\t* gcc.dg/tree-ssa/pr71179.c: New test.\n+\n 2016-05-20  Martin Sebor  <msebor@redhat.com>\n \n \tPR c/71115"}, {"sha": "885c643b927248ee9b86380f986b76d89fa8fd5e", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr71179.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71179.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71179.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr71179.c?ref=88aea79f3cd5933088c99f0ebe3e34285c2b201d", "patch": "@@ -0,0 +1,10 @@\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O3 -ffast-math\" } */\n+\n+typedef float __m128 __attribute__ ((__vector_size__ (16), __may_alias__));\n+\n+__m128 foo (__m128 a)\n+{\n+  return a + a;\n+}"}, {"sha": "3c718e9b20453f5c7b3d6b639e15f502fdd53fa8", "filename": "gcc/tree-ssa-reassoc.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftree-ssa-reassoc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88aea79f3cd5933088c99f0ebe3e34285c2b201d/gcc%2Ftree-ssa-reassoc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-reassoc.c?ref=88aea79f3cd5933088c99f0ebe3e34285c2b201d", "patch": "@@ -1769,7 +1769,8 @@ transform_add_to_multiply (gimple *stmt, vec<operand_entry *> *ops)\n   bool changed = false;\n \n   if (!INTEGRAL_TYPE_P (TREE_TYPE ((*ops)[0]->op))\n-      && !flag_unsafe_math_optimizations)\n+      && (!SCALAR_FLOAT_TYPE_P (TREE_TYPE ((*ops)[0]->op))\n+\t  || !flag_unsafe_math_optimizations))\n     return false;\n \n   /* Look for repeated operands.  */"}]}