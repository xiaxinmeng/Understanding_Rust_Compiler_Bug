{"sha": "a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTVkMGNlODkzNWJkZmE4NzAzN2IzY2JlNzJlNzRhYjZhOTZlODEwOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-07-25T22:35:13Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-07-25T22:35:13Z"}, "message": "dwarf2cfi: Add debug_cfi_row.\n\nFrom-SVN: r176771", "tree": {"sha": "ec2ce07bfeadc70b3443c41f8c272027155111cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ec2ce07bfeadc70b3443c41f8c272027155111cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109/comments", "author": null, "committer": null, "parents": [{"sha": "c344a8663701f069dd5406d0b65c0de4c589ff69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c344a8663701f069dd5406d0b65c0de4c589ff69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c344a8663701f069dd5406d0b65c0de4c589ff69"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "e33d773d00d05394b1ec25716fc07a0fa63fbfd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "patch": "@@ -1,3 +1,7 @@\n+2011-07-25  Richard Henderson  <rth@redhat.com>\n+\n+\t* dwarf2cfi.c (dump_cfi_row, debug_cfi_row): New.\n+\n 2011-07-25  Joern Rennecke  <joern.rennecke@embecosm.com>\n \n \t* genattr.c (write_upcase, gen_attr <enum definition writing>):"}, {"sha": "1b542780504e7e1a630da39204338500fac27f58", "filename": "gcc/dwarf2cfi.c", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109/gcc%2Fdwarf2cfi.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109/gcc%2Fdwarf2cfi.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2cfi.c?ref=a5d0ce8935bdfa87037b3cbe72e74ab6a96e8109", "patch": "@@ -3314,6 +3314,38 @@ dwarf2out_emit_cfi (dw_cfi_ref cfi)\n   if (dwarf2out_do_cfi_asm ())\n     output_cfi_directive (asm_out_file, cfi);\n }\n+\n+static void\n+dump_cfi_row (FILE *f, dw_cfi_row *row)\n+{\n+  dw_cfi_ref cfi;\n+  unsigned i;\n+\n+  cfi = row->cfa_cfi;\n+  if (!cfi)\n+    {\n+      dw_cfa_location dummy;\n+      memset(&dummy, 0, sizeof(dummy));\n+      dummy.reg = INVALID_REGNUM;\n+      cfi = def_cfa_0 (&dummy, &row->cfa);\n+    }\n+  output_cfi_directive (f, cfi);\n+\n+  FOR_EACH_VEC_ELT (dw_cfi_ref, row->reg_save, i, cfi)\n+    if (cfi)\n+      output_cfi_directive (f, cfi);\n+\n+  fprintf (f, \"\\t.cfi_GNU_args_size \"HOST_WIDE_INT_PRINT_DEC \"\\n\",\n+\t   row->args_size);\n+}\n+\n+void debug_cfi_row (dw_cfi_row *row);\n+\n+void\n+debug_cfi_row (dw_cfi_row *row)\n+{\n+  dump_cfi_row (stderr, row);\n+}\n \f\n \n /* Save the result of dwarf2out_do_frame across PCH."}]}