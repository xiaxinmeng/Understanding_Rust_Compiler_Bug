{"sha": "05613877bda9a29d72c092b33a92d062f1f9ece4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDU2MTM4NzdiZGE5YTI5ZDcyYzA5MmIzM2E5MmQwNjJmMWY5ZWNlNA==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2010-11-16T11:42:50Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2010-11-16T11:42:50Z"}, "message": "re PR middle-end/45172 (internal compiler error: verify_flow_info failed)\n\n2010-11-16  Richard Guenther  <rguenther@suse.de>\n\n\tPR middle-end/45172\n\t* tree-eh.c (cleanup_empty_eh_unsplit): Avoid creating duplicate\n\tedges.\n\n\t* gfortran.dg/gomp/pr45172.f90: New testcase.\n\nFrom-SVN: r166794", "tree": {"sha": "d61657bcab2eff1e8c65657c9310e16ee7012d42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d61657bcab2eff1e8c65657c9310e16ee7012d42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/05613877bda9a29d72c092b33a92d062f1f9ece4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05613877bda9a29d72c092b33a92d062f1f9ece4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05613877bda9a29d72c092b33a92d062f1f9ece4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05613877bda9a29d72c092b33a92d062f1f9ece4/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "27128fc317039e1e62de5e70a236ec7c4eaf111e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27128fc317039e1e62de5e70a236ec7c4eaf111e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27128fc317039e1e62de5e70a236ec7c4eaf111e"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "7f68583fa076df94aaac8f5aa05903e54167d01f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=05613877bda9a29d72c092b33a92d062f1f9ece4", "patch": "@@ -1,3 +1,9 @@\n+2010-11-16  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/45172\n+\t* tree-eh.c (cleanup_empty_eh_unsplit): Avoid creating duplicate\n+\tedges.\n+\n 2010-11-16  Nick Clifton  <nickc@redhat.com>\n \n \t* config/rx/rx.c (rx_is_ms_bitfield_layout): Return false if the"}, {"sha": "b2ee19ced9a6215fe78eec293548ae1942de8fd4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=05613877bda9a29d72c092b33a92d062f1f9ece4", "patch": "@@ -1,3 +1,8 @@\n+2010-11-16  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR middle-end/45172\n+\t* gfortran.dg/gomp/pr45172.f90: New testcase.\n+\n 2010-11-16  Nick Clifton  <nickc@redhat.com>\n \n \t* gcc.target/rx/pack.c: New test."}, {"sha": "dbb242bb15ebc443462bf655adfbe5cc09ffd3f5", "filename": "gcc/testsuite/gfortran.dg/gomp/pr45172.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr45172.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr45172.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fpr45172.f90?ref=05613877bda9a29d72c092b33a92d062f1f9ece4", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do compile }\n+! { dg-options \"-O -fopenmp -fexceptions\" }\n+\n+  SUBROUTINE dbcsr_mult_m_e_e ( )\n+    LOGICAL, PARAMETER   :: use_combined_types = .FALSE.\n+    INTEGER, ALLOCATABLE, DIMENSION(:, :) ::  right_index_sr\n+    INTEGER, ALLOCATABLE, DIMENSION(:, :, :) ::  my_sizes\n+    INTEGER, ALLOCATABLE,  DIMENSION(:, :, :, :) :: all_sizes\n+    ALLOCATE (all_sizes(4, LBOUND(my_sizes,2):UBOUND(my_sizes,2), &\n+              LBOUND(my_sizes,3):UBOUND(my_sizes,3), 0:numnodes-1))\n+          IF (use_combined_types) THEN\n+             CALL mp_waitall (right_index_sr)\n+          ENDIF\n+          DO ki = 0, min_nimages-1\n+!$omp parallel default (none) &\n+!$omp reduction (+: flop_single, t_all, t_dgemm)\n+!$omp end parallel\n+          ENDDO\n+       checksum = dbcsr_checksum (product_matrix, error)\n+  END SUBROUTINE dbcsr_mult_m_e_e\n+"}, {"sha": "270d76d9480d882f7a85327c652945599583c3a4", "filename": "gcc/tree-eh.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftree-eh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05613877bda9a29d72c092b33a92d062f1f9ece4/gcc%2Ftree-eh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-eh.c?ref=05613877bda9a29d72c092b33a92d062f1f9ece4", "patch": "@@ -3670,6 +3670,8 @@ cleanup_empty_eh_unsplit (basic_block bb, edge e_out, eh_landing_pad lp)\n {\n   gimple_stmt_iterator gsi;\n   tree lab;\n+  edge_iterator ei;\n+  edge e;\n \n   /* We really ought not have totally lost everything following\n      a landing pad label.  Given that BB is empty, there had better\n@@ -3692,6 +3694,22 @@ cleanup_empty_eh_unsplit (basic_block bb, edge e_out, eh_landing_pad lp)\n \treturn false;\n     }\n \n+  /* The destination block must not be a regular successor for any\n+     of the preds of the landing pad.  Thus, avoid turning\n+        <..>\n+\t |  \\ EH\n+\t |  <..>\n+\t |  /\n+\t<..>\n+     into\n+        <..>\n+\t|  | EH\n+\t<..>\n+     which CFG verification would choke on.  See PR45172.  */\n+  FOR_EACH_EDGE (e, ei, bb->preds)\n+    if (find_edge (e->src, e_out->dest))\n+      return false;\n+\n   /* Attempt to move the PHIs into the successor block.  */\n   if (cleanup_empty_eh_merge_phis (e_out->dest, bb, e_out, false))\n     {"}]}