{"sha": "546be53558e5305b16b6239c6014d776a3d7a742", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQ2YmU1MzU1OGU1MzA1YjE2YjYyMzljNjAxNGQ3NzZhM2Q3YTc0Mg==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@codesourcery.com", "date": "2006-05-23T04:52:19Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2006-05-23T04:52:19Z"}, "message": "re PR target/27696 (g++.dg/other/i386-2.C ICEs on the mainline on x86_64)\n\ngcc/\n\tPR target/27696\n\t* config/i386/i386.c (ix86_expand_builtin): Use\n\tgen_sse3_monitor64 for TARGET_64BIT.\n\ntestsuite/gcc/\n\tPR target/27696\n\t* gcc.target/i386/pr27696.c: New.\n\nFrom-SVN: r114012", "tree": {"sha": "c0ecb9b038efddade6134299cc950441cb1b1651", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0ecb9b038efddade6134299cc950441cb1b1651"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/546be53558e5305b16b6239c6014d776a3d7a742", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/546be53558e5305b16b6239c6014d776a3d7a742", "html_url": "https://github.com/Rust-GCC/gccrs/commit/546be53558e5305b16b6239c6014d776a3d7a742", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/546be53558e5305b16b6239c6014d776a3d7a742/comments", "author": null, "committer": null, "parents": [{"sha": "1a1a5f4b25c5897773fae846a68287439555e248", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1a5f4b25c5897773fae846a68287439555e248", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a1a5f4b25c5897773fae846a68287439555e248"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "4da9ce4c8eb0bf85dfd708c5ba959bb422545222", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=546be53558e5305b16b6239c6014d776a3d7a742", "patch": "@@ -1,3 +1,9 @@\n+2006-05-23  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\tPR target/27696\n+\t* config/i386/i386.c (ix86_expand_builtin): Use\n+\tgen_sse3_monitor64 for TARGET_64BIT.\n+\n 2006-05-22  Kenneth Zadeck <zadeck@naturalbridge.com>\n \n \tPR rtl-optimization/26375"}, {"sha": "ec88a76551eb50b68791d5dff6602b3df3ebfddb", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=546be53558e5305b16b6239c6014d776a3d7a742", "patch": "@@ -16151,12 +16151,15 @@ ix86_expand_builtin (tree exp, rtx target, rtx subtarget ATTRIBUTE_UNUSED,\n       op1 = expand_normal (arg1);\n       op2 = expand_normal (arg2);\n       if (!REG_P (op0))\n-\top0 = copy_to_mode_reg (SImode, op0);\n+\top0 = copy_to_mode_reg (Pmode, op0);\n       if (!REG_P (op1))\n \top1 = copy_to_mode_reg (SImode, op1);\n       if (!REG_P (op2))\n \top2 = copy_to_mode_reg (SImode, op2);\n-      emit_insn (gen_sse3_monitor (op0, op1, op2));\n+      if (!TARGET_64BIT)\n+\temit_insn (gen_sse3_monitor (op0, op1, op2));\n+      else\n+\temit_insn (gen_sse3_monitor64 (op0, op1, op2));\n       return 0;\n \n     case IX86_BUILTIN_MWAIT:"}, {"sha": "bb4451dda38d8430bddb7d4cf99b10a440dfc1d8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=546be53558e5305b16b6239c6014d776a3d7a742", "patch": "@@ -1,3 +1,8 @@\n+2006-05-23  Kazu Hirata  <kazu@codesourcery.com>\n+\n+\tPR target/27696\n+\t* gcc.target/i386/pr27696.c: New.\n+\n 2006-05-22  Janis Johnson  <janis187@us.ibm.com>\n \n \t* gcc.dg/vmx/pr27006.c: Remove dg-do directive; use default."}, {"sha": "2f281e3f7c2c9e8ca0c07c9dc1259cb5b1eed34d", "filename": "gcc/testsuite/gcc.target/i386/pr27696.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr27696.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/546be53558e5305b16b6239c6014d776a3d7a742/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr27696.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr27696.c?ref=546be53558e5305b16b6239c6014d776a3d7a742", "patch": "@@ -0,0 +1,11 @@\n+/* PR target/27696\n+   The testcase below uses to trigger an ICE.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-msse3\" } */\n+\n+void\n+foo (void const * P, unsigned int E, unsigned int H)\n+{\n+  __builtin_ia32_monitor (P, E, H);\n+}"}]}