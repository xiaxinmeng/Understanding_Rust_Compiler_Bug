{"sha": "1154b096fa7adf994299811ab5824de6c77e1f68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTE1NGIwOTZmYTdhZGY5OTQyOTk4MTFhYjU4MjRkZTZjNzdlMWY2OA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-09-24T22:11:57Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-09-24T22:11:57Z"}, "message": "Fix varardic functions returning structs.\n\nFrom-SVN: r2235", "tree": {"sha": "869dd3617bb6d422088c3b3e2fa1a0d5517e7f01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/869dd3617bb6d422088c3b3e2fa1a0d5517e7f01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1154b096fa7adf994299811ab5824de6c77e1f68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1154b096fa7adf994299811ab5824de6c77e1f68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1154b096fa7adf994299811ab5824de6c77e1f68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1154b096fa7adf994299811ab5824de6c77e1f68/comments", "author": null, "committer": null, "parents": [{"sha": "f4f22302c4f5a8b25426e9af6bb7c592ac063916", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4f22302c4f5a8b25426e9af6bb7c592ac063916", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4f22302c4f5a8b25426e9af6bb7c592ac063916"}], "stats": {"total": 32, "additions": 10, "deletions": 22}, "files": [{"sha": "c795a24e3c6a587196020601ec3fae63ef94f10c", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1154b096fa7adf994299811ab5824de6c77e1f68/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1154b096fa7adf994299811ab5824de6c77e1f68/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=1154b096fa7adf994299811ab5824de6c77e1f68", "patch": "@@ -2432,24 +2432,6 @@ init_cumulative_args (cum, fntype, libname)\n       if (next_param == (tree)0 && TREE_VALUE (param) != void_type_node)\n \tcum->gp_reg_found = 1;\n     }\n-\n-  /* Determine if the function is returning a structure, if so,\n-     advance by one argument.  */\n-\n-  if (fntype\n-      && (TREE_CODE (fntype) == FUNCTION_TYPE || TREE_CODE (fntype) == METHOD_TYPE)\n-      && TREE_TYPE (fntype) != 0)\n-    {\n-      tree ret_type = TREE_TYPE (fntype);\n-      enum tree_code ret_code = TREE_CODE (ret_type);\n-\n-      if (ret_code == RECORD_TYPE || ret_code == UNION_TYPE)\n-\t{\n-\t  cum->gp_reg_found = 1;\n-\t  cum->arg_number = 1;\n-\t  cum->arg_words = 1;\n-\t}\n-    }\n }\n \n /* Advance the argument to the next argument position.  */"}, {"sha": "ee8fd4393940b3fdfc79cf2a50041193b7a50df9", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1154b096fa7adf994299811ab5824de6c77e1f68/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1154b096fa7adf994299811ab5824de6c77e1f68/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=1154b096fa7adf994299811ab5824de6c77e1f68", "patch": "@@ -473,7 +473,7 @@ while (0)\n \f\n /* Print subsidiary information on the compiler version in use.  */\n \n-#define MIPS_VERSION \"[AL 1.1, MM 26]\"\n+#define MIPS_VERSION \"[AL 1.1, MM 27]\"\n \n #ifndef MACHINE_TYPE\n #define MACHINE_TYPE \"BSD Mips\"\n@@ -1205,9 +1205,15 @@ extern char mips_hard_regno_mode_ok[][FIRST_PSEUDO_REGISTER];\n /* Register in which static-chain is passed to a function.  */\n #define STATIC_CHAIN_REGNUM (GP_REG_FIRST + 2)\n \n-/* Register in which address to store a structure value\n-   is passed to a function.  */\n-#define STRUCT_VALUE_REGNUM (GP_REG_FIRST + 4)\n+/* If the structure value address is passed in a register, then\n+   `STRUCT_VALUE_REGNUM' should be the number of that register.  */\n+/* #define STRUCT_VALUE_REGNUM (GP_REG_FIRST + 4) */\n+\n+/* If the structure value address is not passed in a register, define\n+   `STRUCT_VALUE' as an expression returning an RTX for the place\n+   where the address is passed.  If it returns 0, the address is\n+   passed as an \"invisible\" first argument.  */\n+#define STRUCT_VALUE ((rtx)0)\n \n /* Mips registers used in prologue/epilogue code when the stack frame\n    is larger than 32K bytes.  These registers must come from the"}]}