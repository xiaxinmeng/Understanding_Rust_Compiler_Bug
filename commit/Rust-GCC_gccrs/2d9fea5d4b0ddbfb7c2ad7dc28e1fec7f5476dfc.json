{"sha": "2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ5ZmVhNWQ0YjBkZGJmYjdjMmFkN2RjMjhlMWZlYzdmNTQ3NmRmYw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-04-06T20:42:41Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-04-06T20:42:41Z"}, "message": "parse.y (analyze_clinit_body): Return true if the second operand of a METHOD_EXPR is nonzero.\n\n\t* parse.y (analyze_clinit_body): Return true if the second operand\n\tof a METHOD_EXPR is nonzero.\n\nFrom-SVN: r41164", "tree": {"sha": "4a3388be3150c05c42e1d67b257b21006ba86d41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a3388be3150c05c42e1d67b257b21006ba86d41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc/comments", "author": null, "committer": null, "parents": [{"sha": "613bb86ee1f275a4f2c1b223d1e767ff05914ca2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/613bb86ee1f275a4f2c1b223d1e767ff05914ca2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/613bb86ee1f275a4f2c1b223d1e767ff05914ca2"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "453641b915e8feba9bb5887372e71b0421a68861", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "patch": "@@ -1,3 +1,8 @@\n+2001-04-06  Tom Tromey  <tromey@redhat.com>\n+\n+\t* parse.y (analyze_clinit_body): Return true if the second operand\n+\tof a METHOD_EXPR is nonzero.\n+\n 2001-04-06  Tom Tromey  <tromey@redhat.com>\n \n \t* Make-lang.in ($(srcdir)/java/parse-scan.c): Run bison from build"}, {"sha": "c0b9100ad05eba27a64be3d6e202f52c2bb9cee9", "filename": "gcc/java/parse.y", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=2d9fea5d4b0ddbfb7c2ad7dc28e1fec7f5476dfc", "patch": "@@ -7546,7 +7546,7 @@ maybe_generate_pre_expand_clinit (class_type)\n }\n \n /* Analyzes a method body and look for something that isn't a\n-   MODIFY_EXPR. */\n+   MODIFY_EXPR with a constant value.  */\n \n static int\n analyze_clinit_body (bbody)\n@@ -7570,11 +7570,10 @@ analyze_clinit_body (bbody)\n \tbreak;\n \t\n       case MODIFY_EXPR:\n-\tbbody = NULL_TREE;\n-\tbreak;\n+\t/* Return 0 if the operand is constant, 1 otherwise.  */\n+\treturn ! TREE_CONSTANT (TREE_OPERAND (bbody, 1));\n \n       default:\n-\tbbody = NULL_TREE;\n \treturn 1;\n       }\n   return 0;"}]}