{"sha": "5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "node_id": "C_kwDOANBUbNoAKDVkOGE1ZjA0YWNlYzY5N2M4OTNlMWMyMjYzMDMyYmMwMWUyYzJmMmI", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2022-06-24T02:20:52Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2022-06-24T02:28:14Z"}, "message": "libstdc++: xfail rename tests on rtems\n\n::rename on RTEMS does not meet several POSIX requirements, despite\ncompliance with C and C++ standards.  ::std::filesystem::rename, in\nturn, has requirements borrowed from POSIX, so it would have to be a\nlot more than a simple wrapper around ::rename on RTEMS, and even then\nfall short.\n\nUntil RTEMS reimplements ::rename for POSIX compliance, expect\nfilesystem rename tests to fail on it.\n\n\nfor  libstdc++-v3/ChangeLog\n\n\t* testsuite/27_io/filesystem/operations/rename.cc: xfail on\n\trtems.\n\t* testsuite/experimental/filesystem/operations/rename.cc:\n\tLikewise.", "tree": {"sha": "eafed37916899ee0579a38b54d979d809b785e50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eafed37916899ee0579a38b54d979d809b785e50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d8a5f04acec697c893e1c2263032bc01e2c2f2b/comments", "author": null, "committer": null, "parents": [{"sha": "f01cf5eaa06e72cf8e1e7d7f37b41f9d5eaf3e5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f01cf5eaa06e72cf8e1e7d7f37b41f9d5eaf3e5c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f01cf5eaa06e72cf8e1e7d7f37b41f9d5eaf3e5c"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "983374f42e448d16d6c4c7e757ec49436db4a405", "filename": "libstdc++-v3/testsuite/27_io/filesystem/operations/rename.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d8a5f04acec697c893e1c2263032bc01e2c2f2b/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Ffilesystem%2Foperations%2Frename.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d8a5f04acec697c893e1c2263032bc01e2c2f2b/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Ffilesystem%2Foperations%2Frename.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Ffilesystem%2Foperations%2Frename.cc?ref=5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "patch": "@@ -17,6 +17,7 @@\n \n // { dg-do run { target c++17 } }\n // { dg-require-filesystem-ts \"\" }\n+// { dg-xfail-run-if \"rename is not POSIX-compliant\" { *-*-rtems* } }\n \n #include <filesystem>\n #include <testsuite_hooks.h>"}, {"sha": "762b943888f9ea74f5997738bf017aa09b21fa85", "filename": "libstdc++-v3/testsuite/experimental/filesystem/operations/rename.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d8a5f04acec697c893e1c2263032bc01e2c2f2b/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Ffilesystem%2Foperations%2Frename.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d8a5f04acec697c893e1c2263032bc01e2c2f2b/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Ffilesystem%2Foperations%2Frename.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Ffilesystem%2Foperations%2Frename.cc?ref=5d8a5f04acec697c893e1c2263032bc01e2c2f2b", "patch": "@@ -18,6 +18,7 @@\n // { dg-options \"-DUSE_FILESYSTEM_TS -lstdc++fs\" }\n // { dg-do run { target c++11 } }\n // { dg-require-filesystem-ts \"\" }\n+// { dg-xfail-run-if \"rename is not POSIX-compliant\" { *-*-rtems* } }\n \n #include <experimental/filesystem>\n #include <testsuite_hooks.h>"}]}