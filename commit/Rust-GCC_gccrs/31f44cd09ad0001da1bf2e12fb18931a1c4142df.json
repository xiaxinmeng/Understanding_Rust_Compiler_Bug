{"sha": "31f44cd09ad0001da1bf2e12fb18931a1c4142df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFmNDRjZDA5YWQwMDAxZGExYmYyZTEyZmIxODkzMWExYzQxNDJkZg==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2009-07-15T15:40:15Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-07-15T15:40:15Z"}, "message": "sse.md (copysign<mode>3): Use \"and-not\" SSE instruction instead of \"and\" with inverted sign bit mask value.\n\n\t* config/i386/sse.md (copysign<mode>3): Use \"and-not\" SSE instruction\n\tinstead of \"and\" with inverted sign bit mask value.  Use\n\t\"nonimmediate_operand\" for operand 1 and operand 2 predicate.\n\tAllocate registers only for operand 4 and operand 5.\n\nFrom-SVN: r149691", "tree": {"sha": "539001fccfff7fa46f036c571301e801d032b1f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/539001fccfff7fa46f036c571301e801d032b1f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31f44cd09ad0001da1bf2e12fb18931a1c4142df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31f44cd09ad0001da1bf2e12fb18931a1c4142df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31f44cd09ad0001da1bf2e12fb18931a1c4142df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31f44cd09ad0001da1bf2e12fb18931a1c4142df/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1fba7394b093bf541afea220196183355927cfb2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fba7394b093bf541afea220196183355927cfb2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fba7394b093bf541afea220196183355927cfb2"}], "stats": {"total": 28, "additions": 15, "deletions": 13}, "files": [{"sha": "b87b62ac6a4857188c5d8c4d023952d342ae9d6c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31f44cd09ad0001da1bf2e12fb18931a1c4142df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31f44cd09ad0001da1bf2e12fb18931a1c4142df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=31f44cd09ad0001da1bf2e12fb18931a1c4142df", "patch": "@@ -1,7 +1,9 @@\n-2009-07-15 Uros Bizjak  <ubizjak@gmail.com>\n+2009-07-15  Uros Bizjak  <ubizjak@gmail.com>\n \n-\t* config/i386/sse.md (copysign<mode>3): Allocate registers only for\n-\toperands[5] and operands[6].\n+\t* config/i386/sse.md (copysign<mode>3): Use \"and-not\" SSE instruction\n+\tinstead of \"and\" with inverted sign bit mask value.  Use\n+\t\"nonimmediate_operand\" for operand 1 and operand 2 predicate.\n+\tAllocate registers only for operand 4 and operand 5.\n \n 2009-07-15  Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "ce830298df447eb6cdc1f87ea973d6bb91c74cd2", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31f44cd09ad0001da1bf2e12fb18931a1c4142df/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31f44cd09ad0001da1bf2e12fb18931a1c4142df/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=31f44cd09ad0001da1bf2e12fb18931a1c4142df", "patch": "@@ -1595,21 +1595,21 @@\n    (set_attr \"mode\" \"<MODE>\")])\n \n (define_expand \"copysign<mode>3\"\n-  [(set (match_dup 5)\n-\t(and:SSEMODEF2P (match_operand:SSEMODEF2P 1 \"register_operand\" \"\")\n-\t\t\t(match_dup 3)))\n-   (set (match_dup 6)\n-\t(and:SSEMODEF2P (match_operand:SSEMODEF2P 2 \"register_operand\" \"\")\n-\t\t\t(match_dup 4)))\n+  [(set (match_dup 4)\n+\t(and:SSEMODEF2P \n+\t  (not:SSEMODEF2P (match_dup 3))\n+\t  (match_operand:SSEMODEF2P 1 \"nonimmediate_operand\" \"\")))\n+   (set (match_dup 5)\n+\t(and:SSEMODEF2P (match_dup 3)\n+\t\t\t(match_operand:SSEMODEF2P 2 \"nonimmediate_operand\" \"\")))\n    (set (match_operand:SSEMODEF2P 0 \"register_operand\" \"\")\n-\t(ior:SSEMODEF2P (match_dup 5) (match_dup 6)))]\n+\t(ior:SSEMODEF2P (match_dup 4) (match_dup 5)))]\n   \"SSE_VEC_FLOAT_MODE_P (<MODE>mode)\"\n {\n-  operands[3] = ix86_build_signbit_mask (<ssescalarmode>mode, 1, 1);\n-  operands[4] = ix86_build_signbit_mask (<ssescalarmode>mode, 1, 0);\n+  operands[3] = ix86_build_signbit_mask (<ssescalarmode>mode, 1, 0);\n \n+  operands[4] = gen_reg_rtx (<MODE>mode);\n   operands[5] = gen_reg_rtx (<MODE>mode);\n-  operands[6] = gen_reg_rtx (<MODE>mode);\n })\n \n ;; Also define scalar versions.  These are used for abs, neg, and"}]}