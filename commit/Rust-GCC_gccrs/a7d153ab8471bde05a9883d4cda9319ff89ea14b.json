{"sha": "a7d153ab8471bde05a9883d4cda9319ff89ea14b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTdkMTUzYWI4NDcxYmRlMDVhOTg4M2Q0Y2RhOTMxOWZmODllYTE0Yg==", "commit": {"author": {"name": "Xionghu Luo", "email": "luoxhu@linux.ibm.com", "date": "2020-10-26T07:52:39Z"}, "committer": {"name": "Xionghu Luo", "email": "luoxhu@linux.ibm.com", "date": "2020-10-26T07:52:39Z"}, "message": "Add overloaded debug_bb and debug_bb_n with dump flags\n\nAdd overloads that accept a flags argument so we can print\ndebug_bb_n (5, TDF_DETAILS) in gdb, also the debug_bb_slim\nvariant would then be just a forwarder.\n\ngcc/ChangeLog:\n\n2020-10-26  Xionghu Luo  <luoxhu@linux.ibm.com>\n\n\t* cfg.c (debug_bb): New overloaded function.\n\t(debug_bb_n): New overloaded function.\n\t* cfg.h (debug_bb): New declaration.\n\t(debug_bb_n): New declaration.\n\t* print-rtl.c (debug_bb_slim): Call debug_bb with flags.", "tree": {"sha": "ea3c2aca296b23430c3d8207e1275e908eae1016", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea3c2aca296b23430c3d8207e1275e908eae1016"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7d153ab8471bde05a9883d4cda9319ff89ea14b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7d153ab8471bde05a9883d4cda9319ff89ea14b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7d153ab8471bde05a9883d4cda9319ff89ea14b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7d153ab8471bde05a9883d4cda9319ff89ea14b/comments", "author": {"login": "xionghul", "id": 4607154, "node_id": "MDQ6VXNlcjQ2MDcxNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4607154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xionghul", "html_url": "https://github.com/xionghul", "followers_url": "https://api.github.com/users/xionghul/followers", "following_url": "https://api.github.com/users/xionghul/following{/other_user}", "gists_url": "https://api.github.com/users/xionghul/gists{/gist_id}", "starred_url": "https://api.github.com/users/xionghul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xionghul/subscriptions", "organizations_url": "https://api.github.com/users/xionghul/orgs", "repos_url": "https://api.github.com/users/xionghul/repos", "events_url": "https://api.github.com/users/xionghul/events{/privacy}", "received_events_url": "https://api.github.com/users/xionghul/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xionghul", "id": 4607154, "node_id": "MDQ6VXNlcjQ2MDcxNTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4607154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xionghul", "html_url": "https://github.com/xionghul", "followers_url": "https://api.github.com/users/xionghul/followers", "following_url": "https://api.github.com/users/xionghul/following{/other_user}", "gists_url": "https://api.github.com/users/xionghul/gists{/gist_id}", "starred_url": "https://api.github.com/users/xionghul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xionghul/subscriptions", "organizations_url": "https://api.github.com/users/xionghul/orgs", "repos_url": "https://api.github.com/users/xionghul/repos", "events_url": "https://api.github.com/users/xionghul/events{/privacy}", "received_events_url": "https://api.github.com/users/xionghul/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9651cba4360ef7fbdff4f64faf9f650e1246a5c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9651cba4360ef7fbdff4f64faf9f650e1246a5c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9651cba4360ef7fbdff4f64faf9f650e1246a5c1"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "de0e71db850e51e78487aa657bb6aa71f73655cf", "filename": "gcc/cfg.c", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fcfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fcfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.c?ref=a7d153ab8471bde05a9883d4cda9319ff89ea14b", "patch": "@@ -720,7 +720,7 @@ free_aux_for_edges (void)\n DEBUG_FUNCTION void\n debug_bb (basic_block bb)\n {\n-  dump_bb (stderr, bb, 0, dump_flags);\n+  debug_bb (bb, dump_flags);\n }\n \n DEBUG_FUNCTION basic_block\n@@ -731,6 +731,24 @@ debug_bb_n (int n)\n   return bb;\n }\n \n+/* Print BB with specified FLAGS.  */\n+\n+DEBUG_FUNCTION void\n+debug_bb (basic_block bb, dump_flags_t flags)\n+{\n+  dump_bb (stderr, bb, 0, flags);\n+}\n+\n+/* Print basic block numbered N with specified FLAGS.  */\n+\n+DEBUG_FUNCTION basic_block\n+debug_bb_n (int n, dump_flags_t flags)\n+{\n+  basic_block bb = BASIC_BLOCK_FOR_FN (cfun, n);\n+  debug_bb (bb, flags);\n+  return bb;\n+}\n+\n /* Dumps cfg related information about basic block BB to OUTF.\n    If HEADER is true, dump things that appear before the instructions\n    contained in BB.  If FOOTER is true, dump things that appear after."}, {"sha": "93fde6df2bfcd455ca62c5af767efab703c2b196", "filename": "gcc/cfg.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fcfg.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fcfg.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.h?ref=a7d153ab8471bde05a9883d4cda9319ff89ea14b", "patch": "@@ -108,6 +108,8 @@ extern void clear_aux_for_edges (void);\n extern void free_aux_for_edges (void);\n extern void debug_bb (basic_block);\n extern basic_block debug_bb_n (int);\n+extern void debug_bb (basic_block, dump_flags_t);\n+extern basic_block debug_bb_n (int, dump_flags_t);\n extern void dump_bb_info (FILE *, basic_block, int, dump_flags_t, bool, bool);\n extern void brief_dump_cfg (FILE *, dump_flags_t);\n extern void update_bb_profile_for_threading (basic_block, profile_count, edge);"}, {"sha": "d514b1c53735fce1c0aadf2960773847408b8b80", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7d153ab8471bde05a9883d4cda9319ff89ea14b/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=a7d153ab8471bde05a9883d4cda9319ff89ea14b", "patch": "@@ -2139,7 +2139,7 @@ extern void debug_bb_slim (basic_block);\n DEBUG_FUNCTION void\n debug_bb_slim (basic_block bb)\n {\n-  dump_bb (stderr, bb, 0, TDF_SLIM | TDF_BLOCKS);\n+  debug_bb (bb, TDF_SLIM | TDF_BLOCKS);\n }\n \n extern void debug_bb_n_slim (int);"}]}