{"sha": "0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA2NmVmOWNlNGVhNTM3N2IxNTRjZGMxMGVmNjYyNjAzM2VkZThiOA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-03-26T00:46:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-03-26T00:46:53Z"}, "message": "re PR c/11527 (If an array  \"designated intializer\" in a struct causes a segv.)\n\n        PR 11527\n        * c-typeck.c (pop_init_level): Emit pending init elements earlier\n        rather than later.\n\t* gcc.dg/gnu89-init-3.c: New.\n\nFrom-SVN: r79978", "tree": {"sha": "9a46770d8a2c14576bec5d2d58aa5ebf0959fcd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a46770d8a2c14576bec5d2d58aa5ebf0959fcd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/comments", "author": null, "committer": null, "parents": [{"sha": "8bd22a3ceb375d5d8bae67a527c390f4116e59dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd22a3ceb375d5d8bae67a527c390f4116e59dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bd22a3ceb375d5d8bae67a527c390f4116e59dc"}], "stats": {"total": 32, "additions": 28, "deletions": 4}, "files": [{"sha": "c06551f69f9e5d0cf8174fd8e3efd559154f0845", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "patch": "@@ -1,3 +1,9 @@\n+2004-03-25  Richard Henderson  <rth@redhat.com>\n+\n+\tPR 11527\n+        * c-typeck.c (pop_init_level): Emit pending init elements earlier\n+        rather than later.\n+\n 2004-03-25  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* builtins.c (fold_builtin): Fix error in last change."}, {"sha": "2a40258f57bb1c1ce5185fbce62ccae277513382", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "patch": "@@ -4655,6 +4655,10 @@ pop_init_level (int implicit)\n \tabort ();\n     }\n \n+  /* Now output all pending elements.  */\n+  constructor_incremental = 1;\n+  output_pending_init_elements (1);\n+\n   p = constructor_stack;\n \n   /* Error for initializing a flexible array member, or a zero-length\n@@ -4709,10 +4713,6 @@ pop_init_level (int implicit)\n \t  }\n     }\n \n-  /* Now output all pending elements.  */\n-  constructor_incremental = 1;\n-  output_pending_init_elements (1);\n-\n   /* Pad out the end of the structure.  */\n   if (p->replacement_value)\n     /* If this closes a superfluous brace pair,"}, {"sha": "bd4283ec875e61f3dca5119ac6843c3ad7432942", "filename": "gcc/testsuite/gcc.dg/gnu89-init-3.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2Ftestsuite%2Fgcc.dg%2Fgnu89-init-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0066ef9ce4ea5377b154cdc10ef6626033ede8b8/gcc%2Ftestsuite%2Fgcc.dg%2Fgnu89-init-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fgnu89-init-3.c?ref=0066ef9ce4ea5377b154cdc10ef6626033ede8b8", "patch": "@@ -0,0 +1,18 @@\n+/* PR 11527 */\n+/* { dg-do compile } */\n+/* { dg-options \"-std=gnu89\" } */\n+\n+typedef struct smrdd_memory_blocks_s\n+{\n+  int blocks;\n+  int block[];\n+} smrdd_memory_blocks_t;\n+\n+const smrdd_memory_blocks_t smrdd_memory_blocks =\n+{\n+  3,\n+  {\n+    [5] = 5,\n+    [1] = 2,\n+  }\n+};"}]}