{"sha": "37e2180d7a57f86c0bc2b1463b99463784a8176e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdlMjE4MGQ3YTU3Zjg2YzBiYzJiMTQ2M2I5OTQ2Mzc4NGE4MTc2ZQ==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-09-28T15:07:05Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2003-09-28T15:07:05Z"}, "message": "expr.c (java_check_reference): Use the semantics of COND_EXPRs with void-type branches instead of using a...\n\n\n\t* expr.c (java_check_reference): Use the semantics of COND_EXPRs\n\twith void-type branches instead of using a COMPOUND_EXPR.\n\nFrom-SVN: r71883", "tree": {"sha": "235670c8fcc0f3dacd91e3313ef57d487ab877ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/235670c8fcc0f3dacd91e3313ef57d487ab877ef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37e2180d7a57f86c0bc2b1463b99463784a8176e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37e2180d7a57f86c0bc2b1463b99463784a8176e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37e2180d7a57f86c0bc2b1463b99463784a8176e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37e2180d7a57f86c0bc2b1463b99463784a8176e/comments", "author": null, "committer": null, "parents": [{"sha": "9220b1baed480350ee2c02092e35d8b2a7baaaee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9220b1baed480350ee2c02092e35d8b2a7baaaee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9220b1baed480350ee2c02092e35d8b2a7baaaee"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "4ec9a3c657856c8e298c6b4455a57c2c0af78be8", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37e2180d7a57f86c0bc2b1463b99463784a8176e/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37e2180d7a57f86c0bc2b1463b99463784a8176e/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=37e2180d7a57f86c0bc2b1463b99463784a8176e", "patch": "@@ -1,3 +1,8 @@\n+2003-09-28  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* expr.c (java_check_reference): Use the semantics of COND_EXPRs\n+\twith void-type branches instead of using a COMPOUND_EXPR.\n+\n 2003-09-28  Jeff Sturm  <jsturm@one-point.com>\n \n \t* decl.c (java_optimize_inline, dump_function): Remove."}, {"sha": "994a8c52ed3e6ca93bc00a0fb28c6de982b455e3", "filename": "gcc/java/expr.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37e2180d7a57f86c0bc2b1463b99463784a8176e/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37e2180d7a57f86c0bc2b1463b99463784a8176e/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=37e2180d7a57f86c0bc2b1463b99463784a8176e", "patch": "@@ -695,15 +695,13 @@ java_check_reference (tree expr, int check)\n {\n   if (!flag_syntax_only && check)\n     {\n-      tree cond;\n       expr = save_expr (expr);\n-      cond = build (COND_EXPR, void_type_node,\n+      expr = build (COND_EXPR, TREE_TYPE (expr),\n \t\t    build (EQ_EXPR, boolean_type_node, expr, null_pointer_node),\n \t\t    build (CALL_EXPR, void_type_node, \n \t\t\t   build_address_of (soft_nullpointer_node),\n \t\t\t   NULL_TREE, NULL_TREE),\n-\t\t    empty_stmt_node);\n-      expr = build (COMPOUND_EXPR, TREE_TYPE (expr), cond, expr);\n+\t\t    expr);\n     }\n \n   return expr;"}]}