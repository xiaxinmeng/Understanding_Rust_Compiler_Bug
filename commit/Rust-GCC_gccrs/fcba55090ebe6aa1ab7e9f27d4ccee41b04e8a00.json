{"sha": "fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNiYTU1MDkwZWJlNmFhMWFiN2U5ZjI3ZDRjY2VlNDFiMDRlOGEwMA==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-10-06T16:30:08Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2010-10-06T16:30:08Z"}, "message": "trans-array.c (gfc_free_ss_chain): Made non-static.\n\n2010-10-06  Mikael Morin  <mikael@gcc.gnu.org>\n\n\t* trans-array.c (gfc_free_ss_chain): Made non-static.\n\t* trans-array.h (gfc_free_ss_chain): New prototype.\n\t* trans-stmt.c (gfc_trans_where_2): Free ss chains.\n\nFrom-SVN: r165052", "tree": {"sha": "9d424e37a6408fd1d1f1e6675654690ffc78a19c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d424e37a6408fd1d1f1e6675654690ffc78a19c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/comments", "author": null, "committer": null, "parents": [{"sha": "cebd5ce46df85de65b302c980fff26529a509d71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cebd5ce46df85de65b302c980fff26529a509d71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cebd5ce46df85de65b302c980fff26529a509d71"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "6a2316d1ccc6b1a9989d3ac6d6e3fb2640bd2779", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "patch": "@@ -1,3 +1,9 @@\n+2010-10-06  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.c (gfc_free_ss_chain): Made non-static.\n+\t* trans-array.h (gfc_free_ss_chain): New prototype.\n+\t* trans-stmt.c (gfc_trans_where_2): Free ss chains.\n+\n 2010-10-06  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-intrinsic.c (gfc_conv_intrinsic_funcall): Also free symbol's"}, {"sha": "52ba831fe18183fec0ee3ae1d3ef5c86386ed5ef", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "patch": "@@ -448,7 +448,7 @@ static void gfc_free_ss (gfc_ss *);\n \n /* Free a gfc_ss chain.  */\n \n-static void\n+void\n gfc_free_ss_chain (gfc_ss * ss)\n {\n   gfc_ss *next;"}, {"sha": "4b0da3e214f4ebc05f635fac5e46773b604cea9a", "filename": "gcc/fortran/trans-array.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-array.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-array.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.h?ref=fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "patch": "@@ -81,6 +81,8 @@ void gfc_cleanup_loop (gfc_loopinfo *);\n void gfc_add_ss_to_loop (gfc_loopinfo *, gfc_ss *);\n /* Mark a SS chain as used in this loop.  */\n void gfc_mark_ss_chain_used (gfc_ss *, unsigned);\n+/* Free a gfc_ss chain.  */\n+void gfc_free_ss_chain (gfc_ss *);\n \n /* Calculates the lower bound and stride of array sections.  */\n void gfc_conv_ss_startstride (gfc_loopinfo *);"}, {"sha": "c0ffd161b7891a2d1f279f051f3618551eb8ecac", "filename": "gcc/fortran/trans-stmt.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-stmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00/gcc%2Ffortran%2Ftrans-stmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-stmt.c?ref=fcba55090ebe6aa1ab7e9f27d4ccee41b04e8a00", "patch": "@@ -3927,6 +3927,9 @@ gfc_trans_where_2 (gfc_code * code, tree mask, bool invert,\n       inner_size = compute_inner_temp_size (cblock->expr1, cblock->expr1,\n \t\t\t\t\t    &inner_size_body, &lss, &rss);\n \n+      gfc_free_ss_chain (lss);\n+      gfc_free_ss_chain (rss);\n+\n       /* Calculate the total size of temporary needed.  */\n       size = compute_overall_iter_number (nested_forall_info, inner_size,\n \t\t\t\t\t  &inner_size_body, block);"}]}