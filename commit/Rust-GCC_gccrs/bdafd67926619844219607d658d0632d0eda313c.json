{"sha": "bdafd67926619844219607d658d0632d0eda313c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmRhZmQ2NzkyNjYxOTg0NDIxOTYwN2Q2NThkMDYzMmQwZWRhMzEzYw==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2015-05-19T11:42:44Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2015-05-19T11:42:44Z"}, "message": "re PR rtl-optimization/66156 ([msp430] wrong code generated with -O2 -mlarge (zero extension HI -> SI))\n\n\tPR target/66156\n\t* config/msp430/msp430.md (zero_extendhisi2): Add support for\n\tseparate source and destination registers.\n\nFrom-SVN: r223354", "tree": {"sha": "9c51835e4e81bf31d6a6e086b9de18e3c97d4fe7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c51835e4e81bf31d6a6e086b9de18e3c97d4fe7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bdafd67926619844219607d658d0632d0eda313c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdafd67926619844219607d658d0632d0eda313c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdafd67926619844219607d658d0632d0eda313c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdafd67926619844219607d658d0632d0eda313c/comments", "author": null, "committer": null, "parents": [{"sha": "057c74c7c5e43dc6fe23545051f77ff1da4116db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/057c74c7c5e43dc6fe23545051f77ff1da4116db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/057c74c7c5e43dc6fe23545051f77ff1da4116db"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "2f90beaa2a9feabd062169c7a7ebdd82468aeeb7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdafd67926619844219607d658d0632d0eda313c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdafd67926619844219607d658d0632d0eda313c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bdafd67926619844219607d658d0632d0eda313c", "patch": "@@ -1,3 +1,9 @@\n+2015-05-19  Nick Clifton  <nickc@redhat.com>\n+\n+\tPR target/66156\n+\t* config/msp430/msp430.md (zero_extendhisi2): Add support for\n+\tseparate source and destination registers.\n+\n 2015-05-19  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/66165\n@@ -32,7 +38,7 @@\n \t* calls.c: Always define STACK_GROWS_DOWNWARD as 0 or 1.\n \t(mem_overlaps_already_clobbered_arg_p): Rewrite ifdef\n \tSTACK_GROWS_DOWNWARD as normal if.\n-\t(expand_call): Likewise. \n+\t(expand_call): Likewise.\n \n 2015-05-19  Oleg Endo  <olegendo@gcc.gnu.org>\n "}, {"sha": "64fdc459b784ab839dea5d24853a6859cc761244", "filename": "gcc/config/msp430/msp430.md", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bdafd67926619844219607d658d0632d0eda313c/gcc%2Fconfig%2Fmsp430%2Fmsp430.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bdafd67926619844219607d658d0632d0eda313c/gcc%2Fconfig%2Fmsp430%2Fmsp430.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmsp430%2Fmsp430.md?ref=bdafd67926619844219607d658d0632d0eda313c", "patch": "@@ -588,10 +588,12 @@\n ;; patterns.  Doing these manually allows for alternate optimization\n ;; paths.\n (define_insn \"zero_extendhisi2\"\n-  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=rm\")\n-\t(zero_extend:SI (match_operand:HI 1 \"nonimmediate_operand\" \"0\")))]\n+  [(set (match_operand:SI 0 \"nonimmediate_operand\" \"=rm,r\")\n+\t(zero_extend:SI (match_operand:HI 1 \"nonimmediate_operand\" \"0,r\")))]\n   \"msp430x\"\n-  \"MOV.W\\t#0,%H0\"\n+  \"@\n+  MOV.W\\t#0,%H0\n+  MOV.W\\t%1,%L0 { MOV.W\\t#0,%H0\"\n )\n \n (define_insn \"zero_extendhisipsi2\""}]}