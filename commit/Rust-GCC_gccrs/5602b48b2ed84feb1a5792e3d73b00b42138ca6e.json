{"sha": "5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTYwMmI0OGIyZWQ4NGZlYjFhNTc5MmUzZDczYjAwYjQyMTM4Y2E2ZQ==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-02-10T12:54:39Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-02-10T14:35:31Z"}, "message": "arm: Fix up arm installed unwind.h for use in pedantic modes [PR93615]\n\nCommit r10-6500-g811a475ea3fcc55ee4aea7c81171891ef19dfc25 broke the\nGCC build for arm-none-uclinuxfdpiceabi, as it forgot to update some\nuses of gnu_Unwind_Find_got.\n\n2020-02-10  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tlibgcc/\n\tPR target/93615\n\t* unwind-arm-common.inc: Replace uses of gnu_Unwind_Find_got with\n\t_Unwind_gnu_Find_got.\n\t* unwind-pe.h: Likewise.", "tree": {"sha": "e0722d935f63534607e8545b39c63b843db2397e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0722d935f63534607e8545b39c63b843db2397e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/comments", "author": null, "committer": null, "parents": [{"sha": "13686ecef23bcfe9443a0755c73a19d677b786bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13686ecef23bcfe9443a0755c73a19d677b786bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13686ecef23bcfe9443a0755c73a19d677b786bd"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "4fd1297fdbfd003396a32b529e0244ae1dfd4ac8", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "patch": "@@ -1,3 +1,10 @@\n+2020-02-10  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+\tPR target/93615\n+\t* unwind-arm-common.inc: Replace uses of gnu_Unwind_Find_got with\n+\t_Unwind_gnu_Find_got.\n+\t* unwind-pe.h: Likewise.\n+\n 2020-02-07  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/93615"}, {"sha": "31a072b9b9b9b044c23c4ef1b95decbff1cc249b", "filename": "libgcc/unwind-arm-common.inc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2Funwind-arm-common.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2Funwind-arm-common.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Funwind-arm-common.inc?ref=5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "patch": "@@ -419,7 +419,7 @@ get_eit_entry (_Unwind_Control_Block *ucbp, _uw return_address)\n       UCB_PR_ADDR (ucbp) = selfrel_offset31 (ucbp->pr_cache.ehtp);\n #if __FDPIC__\n       UCB_PR_GOT (ucbp)\n-\t= (unsigned int) gnu_Unwind_Find_got ((_Unwind_Ptr) UCB_PR_ADDR (ucbp));\n+\t= (unsigned int) _Unwind_gnu_Find_got ((_Unwind_Ptr) UCB_PR_ADDR (ucbp));\n #endif\n     }\n   return _URC_OK;\n@@ -462,7 +462,7 @@ unwind_phase2 (_Unwind_Control_Block * ucbp, phase2_vrs * vrs)\n \n #if __FDPIC__\n   /* r9 could have been lost due to PLT jump.  Restore correct value.  */\n-  vrs->core.r[FDPIC_REGNUM] = gnu_Unwind_Find_got (VRS_PC (vrs));\n+  vrs->core.r[FDPIC_REGNUM] = _Unwind_gnu_Find_got (VRS_PC (vrs));\n #endif\n \n   uw_restore_core_regs (vrs, &vrs->core);\n@@ -562,7 +562,7 @@ unwind_phase2_forced (_Unwind_Control_Block *ucbp, phase2_vrs *entry_vrs,\n \n #if __FDPIC__\n   /* r9 could have been lost due to PLT jump.  Restore correct value.  */\n-  saved_vrs.core.r[FDPIC_REGNUM] = gnu_Unwind_Find_got (VRS_PC (&saved_vrs));\n+  saved_vrs.core.r[FDPIC_REGNUM] = _Unwind_gnu_Find_got (VRS_PC (&saved_vrs));\n #endif\n \n   uw_restore_core_regs (&saved_vrs, &saved_vrs.core);\n@@ -698,7 +698,7 @@ __gnu_Unwind_Resume (_Unwind_Control_Block * ucbp, phase2_vrs * entry_vrs)\n       /* Upload the registers to enter the landing pad.  */\n #if __FDPIC__\n       /* r9 could have been lost due to PLT jump.  Restore correct value.  */\n-      entry_vrs->core.r[FDPIC_REGNUM] = gnu_Unwind_Find_got (VRS_PC (entry_vrs));\n+      entry_vrs->core.r[FDPIC_REGNUM] = _Unwind_gnu_Find_got (VRS_PC (entry_vrs));\n #endif\n       uw_restore_core_regs (entry_vrs, &entry_vrs->core);\n "}, {"sha": "a6b4bffa944137b3afc9126dd4bfca5dec80fd6e", "filename": "libgcc/unwind-pe.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2Funwind-pe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5602b48b2ed84feb1a5792e3d73b00b42138ca6e/libgcc%2Funwind-pe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Funwind-pe.h?ref=5602b48b2ed84feb1a5792e3d73b00b42138ca6e", "patch": "@@ -267,7 +267,7 @@ read_encoded_value_with_base (unsigned char encoding, _Unwind_Ptr base,\n \t     into account.  */\n \t  if ((encoding & DW_EH_PE_pcrel) && (encoding & DW_EH_PE_indirect))\n \t    {\n-\t      result += gnu_Unwind_Find_got ((_Unwind_Ptr) u);\n+\t      result += _Unwind_gnu_Find_got ((_Unwind_Ptr) u);\n \t      result = *(_Unwind_Internal_Ptr *) result;\n \t    }\n \t  else"}]}