{"sha": "18922a6bca05d3b30755004d57f3c37a2af049e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg5MjJhNmJjYTA1ZDNiMzA3NTUwMDRkNTdmM2MzN2EyYWYwNDllNA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-03-26T11:16:45Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-03-26T11:16:45Z"}, "message": "decl.c (grokdeclarator): Remove const and volatile from type after setting constp and volatilep.\n\n\t* decl.c (grokdeclarator): Remove const and volatile from type after\n\tsetting constp and volatilep.\n\t* class.c (finish_struct_1): Don't warn about bool bitfield larger\n\tthan one bit.\n\nFrom-SVN: r18843", "tree": {"sha": "910067166f351282735a8c8df998840c0c0a77fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/910067166f351282735a8c8df998840c0c0a77fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18922a6bca05d3b30755004d57f3c37a2af049e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18922a6bca05d3b30755004d57f3c37a2af049e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18922a6bca05d3b30755004d57f3c37a2af049e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18922a6bca05d3b30755004d57f3c37a2af049e4/comments", "author": null, "committer": null, "parents": [{"sha": "812f205146d174f71073ac23f51d362c1bc11575", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/812f205146d174f71073ac23f51d362c1bc11575", "html_url": "https://github.com/Rust-GCC/gccrs/commit/812f205146d174f71073ac23f51d362c1bc11575"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "a25b4415784b2674b2f82f93ad3aa12daa5e85f3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=18922a6bca05d3b30755004d57f3c37a2af049e4", "patch": "@@ -1,3 +1,11 @@\n+Thu Mar 26 11:16:30 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* decl.c (grokdeclarator): Remove const and volatile from type after\n+\tsetting constp and volatilep.\n+\n+\t* class.c (finish_struct_1): Don't warn about bool bitfield larger\n+\tthan one bit.\n+\n Thu Mar 26 10:25:52 1998  Mark Mitchell  <mmitchell@usa.net>\n \n \t* pt.c (convert_nontype_argument): STRIP_NOPS where appropriate."}, {"sha": "7440a8a71b5acf12b1401621639cf9720eaf333a", "filename": "gcc/cp/class.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=18922a6bca05d3b30755004d57f3c37a2af049e4", "patch": "@@ -3499,7 +3499,8 @@ finish_struct_1 (t, warn_anon)\n \t\t  cp_error_at (\"  in declaration of `%D'\", x);\n \t\t}\n \t      else if (width > TYPE_PRECISION (TREE_TYPE (x))\n-\t\t       && TREE_CODE (TREE_TYPE (x)) != ENUMERAL_TYPE)\n+\t\t       && TREE_CODE (TREE_TYPE (x)) != ENUMERAL_TYPE\n+\t\t       && TREE_CODE (TREE_TYPE (x)) != BOOLEAN_TYPE)\n \t\t{\n \t\t  cp_warning_at (\"width of `%D' exceeds its type\", x);\n \t\t}"}, {"sha": "15fa6fb20c5e52659d14fa999ad839478c37feb0", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18922a6bca05d3b30755004d57f3c37a2af049e4/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=18922a6bca05d3b30755004d57f3c37a2af049e4", "patch": "@@ -8397,6 +8397,7 @@ grokdeclarator (declarator, declspecs, decl_context, initialized, attrlist)\n \n   constp = !! RIDBIT_SETP (RID_CONST, specbits) + TYPE_READONLY (type);\n   volatilep = !! RIDBIT_SETP (RID_VOLATILE, specbits) + TYPE_VOLATILE (type);\n+  type = TYPE_MAIN_VARIANT (type);\n   staticp = 0;\n   inlinep = !! RIDBIT_SETP (RID_INLINE, specbits);\n   virtualp = RIDBIT_SETP (RID_VIRTUAL, specbits);"}]}