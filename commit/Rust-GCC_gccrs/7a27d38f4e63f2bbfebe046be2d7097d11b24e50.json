{"sha": "7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EyN2QzOGY0ZTYzZjJiYmZlYmUwNDZiZTJkNzA5N2QxMWIyNGU1MA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2016-05-09T07:42:45Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2016-05-09T07:42:45Z"}, "message": "re PR fortran/70937 (ICE: tree code \u2018ssa_name\u2019 is not supported in LTO streams)\n\n2016-05-09  Richard Biener  <rguenther@suse.de>\n\n\tPR fortran/70937\n\t* trans-decl.c: Include gimplify.h for unshare_expr.\n\t(gfc_trans_vla_one_sizepos): Unshare exprs before inserting\n\tthem into the IL.\n\n\t* gfortran.dg/pr70937.f90: New testcase.\n\nFrom-SVN: r236021", "tree": {"sha": "b8a8c041c76eadbdb6ce259e32a4d7d0b648c2e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8a8c041c76eadbdb6ce259e32a4d7d0b648c2e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e6dffc988a5d7ce5b375ec96d2d1b95f775e0ec6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6dffc988a5d7ce5b375ec96d2d1b95f775e0ec6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6dffc988a5d7ce5b375ec96d2d1b95f775e0ec6"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "f683869f8c39f5e902249ad6feb708d56c103a25", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "patch": "@@ -1,3 +1,10 @@\n+2016-05-09  Richard Biener  <rguenther@suse.de>\n+\n+\tPR fortran/70937\n+\t* trans-decl.c: Include gimplify.h for unshare_expr.\n+\t(gfc_trans_vla_one_sizepos): Unshare exprs before inserting\n+\tthem into the IL.\n+\n 2016-05-07  Fritz Reese  <fritzoreese@gmail.com>\n \n \tPR fortran/56226"}, {"sha": "2f5e4342afaf6ff5d40e1841ad380e2138b91538", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "patch": "@@ -45,6 +45,7 @@ along with GCC; see the file COPYING3.  If not see\n /* Only for gfc_trans_code.  Shouldn't need to include this.  */\n #include \"trans-stmt.h\"\n #include \"gomp-constants.h\"\n+#include \"gimplify.h\"\n \n #define MAX_LABEL_VALUE 99999\n \n@@ -3754,7 +3755,7 @@ gfc_trans_vla_one_sizepos (tree *tp, stmtblock_t *body)\n \n   var = gfc_create_var_np (TREE_TYPE (t), NULL);\n   gfc_add_decl_to_function (var);\n-  gfc_add_modify (body, var, val);\n+  gfc_add_modify (body, var, unshare_expr (val));\n   if (TREE_CODE (t) == SAVE_EXPR)\n     TREE_OPERAND (t, 0) = var;\n   *tp = var;"}, {"sha": "02bdf337c92a5cff8804c1e7fb4e62e2579d3f9d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "patch": "@@ -1,3 +1,8 @@\n+2016-05-09  Richard Biener  <rguenther@suse.de>\n+\n+\tPR fortran/70937\n+\t* gfortran.dg/pr70937.f90: New testcase.\n+\n 2016-05-08  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* gcc.dg/ipa/pure-const-3.c: Scan local-pure-const1 dump."}, {"sha": "3fb17bd227ec70fbb66ea16e2da797d1ffc8328e", "filename": "gcc/testsuite/gfortran.dg/pr70937.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr70937.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a27d38f4e63f2bbfebe046be2d7097d11b24e50/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr70937.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr70937.f90?ref=7a27d38f4e63f2bbfebe046be2d7097d11b24e50", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+! { dg-options \"-flto\" }\n+  SUBROUTINE dbcsr_test_read_args(narg, args)\n+    CHARACTER(len=*), DIMENSION(:), &\n+      INTENT(out)         :: args\n+    CHARACTER(len=80)     :: line\n+    DO\n+       args(narg) = line\n+    ENDDO\n+  END SUBROUTINE dbcsr_test_read_args"}]}