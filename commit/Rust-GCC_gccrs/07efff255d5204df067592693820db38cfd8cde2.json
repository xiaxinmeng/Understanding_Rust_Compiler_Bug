{"sha": "07efff255d5204df067592693820db38cfd8cde2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdlZmZmMjU1ZDUyMDRkZjA2NzU5MjY5MzgyMGRiMzhjZmQ4Y2RlMg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-08-08T14:35:18Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-08-08T14:35:18Z"}, "message": "Makefile.in (TOOLS_LIBS): Pick C object files from the compiler build and use standard library variables.\n\n\t* gcc-interface/Makefile.in (TOOLS_LIBS): Pick C object files from the\n\tcompiler build and use standard library variables.\n\t(../../vxaddr2line$(exeext): Do not depend on targext.o and adjust.\n\t(gnatmake-re): Do not depend on targext.o.\n\t(gnatlink-re): Do not depend on link.o and targext.o.\n\t(../../gnatmake$(exeext): Likewise.\n\t(../../gnatlink$(exeext): Likewise.\n\nFrom-SVN: r201602", "tree": {"sha": "75c187270b5c7bc54336cfc7e4c7a158c7a2e05f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/75c187270b5c7bc54336cfc7e4c7a158c7a2e05f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07efff255d5204df067592693820db38cfd8cde2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07efff255d5204df067592693820db38cfd8cde2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07efff255d5204df067592693820db38cfd8cde2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07efff255d5204df067592693820db38cfd8cde2/comments", "author": null, "committer": null, "parents": [{"sha": "71cafea943fbb7a69a92c80e6dfdb5de119bfb33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71cafea943fbb7a69a92c80e6dfdb5de119bfb33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71cafea943fbb7a69a92c80e6dfdb5de119bfb33"}], "stats": {"total": 29, "additions": 19, "deletions": 10}, "files": [{"sha": "fe062d81fc51d75a17bb58a941b081cf0b1e0a38", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07efff255d5204df067592693820db38cfd8cde2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07efff255d5204df067592693820db38cfd8cde2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=07efff255d5204df067592693820db38cfd8cde2", "patch": "@@ -1,6 +1,16 @@\n+2013-08-08  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/Makefile.in (TOOLS_LIBS): Pick C object files from the\n+\tcompiler build and use standard library variables.\n+\t(../../vxaddr2line$(exeext): Do not depend on targext.o and adjust.\n+\t(gnatmake-re): Do not depend on targext.o.\n+\t(gnatlink-re): Do not depend on link.o and targext.o.\n+\t(../../gnatmake$(exeext): Likewise.\n+\t(../../gnatlink$(exeext): Likewise.\n+\n 2013-07-21   Ond\u00c5\u0099ej B\u00c3\u00adlka  <neleai@seznam.cz>\n \n-\t* gcc-interface/gigi.h: Likewise.\n+\t* gcc-interface/gigi.h: Fix typos.\n \t* gcc-interface/trans.c: Likewise.\n \t* gcc-interface/utils2.c: Likewise.\n \t* gnat_rm.texi: Likewise."}, {"sha": "bdaa29b8a8d2744006c79284720230060cd3d5d8", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07efff255d5204df067592693820db38cfd8cde2/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07efff255d5204df067592693820db38cfd8cde2/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=07efff255d5204df067592693820db38cfd8cde2", "patch": "@@ -250,10 +250,9 @@ LIBS = $(LIBINTL) $(LIBICONV) $(LIBBACKTRACE) $(LIBIBERTY) $(SYSLIBS)\n LIBDEPS = $(LIBINTL_DEP) $(LIBICONV_DEP) $(LIBBACKTRACE) $(LIBIBERTY)\n # Default is no TGT_LIB; one might be passed down or something\n TGT_LIB =\n-TOOLS_LIBS = targext.o link.o ../../ggc-none.o ../../libcommon-target.a \\\n+TOOLS_LIBS = ../link.o ../targext.o ../../ggc-none.o ../../libcommon-target.a \\\n   ../../libcommon.a ../../../libcpp/libcpp.a $(LIBGNAT) $(LIBINTL) $(LIBICONV) \\\n-  ../../../libbacktrace/.libs/libbacktrace.a ../../../libiberty/libiberty.a \\\n-  $(SYSLIBS) $(TGT_LIB)\n+  ../$(LIBBACKTRACE) ../$(LIBIBERTY) $(SYSLIBS) $(TGT_LIB)\n \n # Convert the target variable into a space separated list of architecture,\n # manufacturer, and operating system and assign each of those to its own\n@@ -2491,12 +2490,12 @@ common-tools: ../stamp-tools\n \t$(GNATBIND) $(ADA_INCLUDES) $(GNATBIND_FLAGS) gnatdll\n \t$(GNATLINK) -v gnatdll -o $@ --GCC=\"$(GCC_LINK)\" $(TOOLS_LIBS)\n \n-../../vxaddr2line$(exeext): ../stamp-tools targext.o\n+../../vxaddr2line$(exeext): ../stamp-tools\n \t$(GNATMAKE) -c  $(ADA_INCLUDES) vxaddr2line --GCC=\"$(CC) $(ALL_ADAFLAGS)\"\n \t$(GNATBIND) $(ADA_INCLUDES) $(GNATBIND_FLAGS) vxaddr2line\n-\t$(GNATLINK) -v vxaddr2line -o $@ --GCC=\"$(GCC_LINK)\" targext.o $(CLIB)\n+\t$(GNATLINK) -v vxaddr2line -o $@ --GCC=\"$(GCC_LINK)\" ../targext.o $(CLIB)\n \n-gnatmake-re: ../stamp-tools link.o targext.o\n+gnatmake-re: ../stamp-tools\n \t$(GNATMAKE) -j0 $(ADA_INCLUDES) -u sdefault --GCC=\"$(CC) $(MOST_ADA_FLAGS)\"\n \t$(GNATMAKE) -j0 -c $(ADA_INCLUDES) gnatmake --GCC=\"$(CC) $(ALL_ADAFLAGS)\"\n \t$(GNATBIND) $(ADA_INCLUDES) $(GNATBIND_FLAGS) gnatmake\n@@ -2507,7 +2506,7 @@ gnatmake-re: ../stamp-tools link.o targext.o\n # with the former version of gnatlink itself which cannot override itself.\n # gnatlink-re cannot be run at the same time as gnatmake-re, hence the\n # dependency\n-gnatlink-re: ../stamp-tools link.o targext.o gnatmake-re\n+gnatlink-re: ../stamp-tools gnatmake-re\n \t$(GNATMAKE) -j0 -c $(ADA_INCLUDES) gnatlink --GCC=\"$(CC) $(ALL_ADAFLAGS)\"\n \t$(GNATBIND) $(ADA_INCLUDES) $(GNATBIND_FLAGS) gnatlink\n \t$(GNATLINK) -v gnatlink -o ../../gnatlinknew$(exeext) \\\n@@ -2519,11 +2518,11 @@ gnatlink-re: ../stamp-tools link.o targext.o gnatmake-re\n #  stamp target in the parent directory whenever gnat1 is rebuilt\n \n # Likewise for the tools\n-../../gnatmake$(exeext): $(P) b_gnatm.o link.o targext.o $(GNATMAKE_OBJS)\n+../../gnatmake$(exeext): $(P) b_gnatm.o $(GNATMAKE_OBJS)\n \t+$(GCC_LINK) $(ALL_CFLAGS) $(LDFLAGS) -o $@ b_gnatm.o $(GNATMAKE_OBJS) \\\n \t\t    $(TOOLS_LIBS)\n \n-../../gnatlink$(exeext): $(P) b_gnatl.o link.o targext.o $(GNATLINK_OBJS)\n+../../gnatlink$(exeext): $(P) b_gnatl.o $(GNATLINK_OBJS)\n \t+$(GCC_LINK) $(ALL_CFLAGS) $(LDFLAGS) -o $@ b_gnatl.o $(GNATLINK_OBJS) \\\n \t\t    $(TOOLS_LIBS)\n "}]}