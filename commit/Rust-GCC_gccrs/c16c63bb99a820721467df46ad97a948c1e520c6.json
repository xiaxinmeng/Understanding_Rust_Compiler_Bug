{"sha": "c16c63bb99a820721467df46ad97a948c1e520c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE2YzYzYmI5OWE4MjA3MjE0NjdkZjQ2YWQ5N2E5NDhjMWU1MjBjNg==", "commit": {"author": {"name": "Ian Bolton", "email": "ian.bolton@arm.com", "date": "2012-11-22T15:50:30Z"}, "committer": {"name": "Ian Bolton", "email": "ibolton@gcc.gnu.org", "date": "2012-11-22T15:50:30Z"}, "message": "Implement bswaphi2 with rev16 (AArch64)\n\nFrom-SVN: r193729", "tree": {"sha": "bc80a7758e96cb8edecf3c19a25c6f7da688ab0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bc80a7758e96cb8edecf3c19a25c6f7da688ab0b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c16c63bb99a820721467df46ad97a948c1e520c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c16c63bb99a820721467df46ad97a948c1e520c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c16c63bb99a820721467df46ad97a948c1e520c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c16c63bb99a820721467df46ad97a948c1e520c6/comments", "author": null, "committer": null, "parents": [{"sha": "10dbfb3eb052e620e307acc774b07bc92e9bbc9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10dbfb3eb052e620e307acc774b07bc92e9bbc9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10dbfb3eb052e620e307acc774b07bc92e9bbc9b"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "d0ede900e09ed8a9a6f13245762fd6c61c483b64", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c16c63bb99a820721467df46ad97a948c1e520c6", "patch": "@@ -1,3 +1,7 @@\n+2012-11-22  Ian Bolton  <ian.bolton@arm.com>\n+\n+\t* config/aarch64/aarch64.md (bswaphi2): New pattern.\n+\n 2012-11-22  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR sanitizer/55379"}, {"sha": "17f024fa40f46cee2ce63b40ea67a7269c1e482e", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=c16c63bb99a820721467df46ad97a948c1e520c6", "patch": "@@ -2312,6 +2312,15 @@\n    (set_attr \"mode\" \"<MODE>\")]\n )\n \n+(define_insn \"bswaphi2\"\n+  [(set (match_operand:HI 0 \"register_operand\" \"=r\")\n+        (bswap:HI (match_operand:HI 1 \"register_operand\" \"r\")))]\n+  \"\"\n+  \"rev16\\\\t%w0, %w1\"\n+  [(set_attr \"v8type\" \"rev\")\n+   (set_attr \"mode\" \"HI\")]\n+)\n+\n ;; -------------------------------------------------------------------\n ;; Floating-point intrinsics\n ;; -------------------------------------------------------------------"}, {"sha": "788266ffcee2102aa369f328e8c9c06fc5d02e6f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c16c63bb99a820721467df46ad97a948c1e520c6", "patch": "@@ -1,3 +1,8 @@\n+2012-11-22  Ian Bolton  <ian.bolton@arm.com>\n+\n+\t* gcc.target/aarch64/builtin-bswap-1.c: New test.\n+\t* gcc.target/aarch64/builtin-bswap-2.c: New test.\n+\n 2012-11-22  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/55432"}, {"sha": "a6706e693e129faef3485805f82a2a0d729418ac", "filename": "gcc/testsuite/gcc.target/aarch64/builtin-bswap-1.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-1.c?ref=c16c63bb99a820721467df46ad97a948c1e520c6", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+/* { dg-final { scan-assembler-times \"rev16\\\\t\" 2 } }  */\n+\n+/* rev16 */\n+short\n+swaps16 (short x)\n+{\n+  return __builtin_bswap16 (x);\n+}\n+\n+/* rev16 */\n+unsigned short\n+swapu16 (unsigned short x)\n+{\n+  return __builtin_bswap16 (x);\n+}"}, {"sha": "6018b483479ac6cc72879ebc0bbc361ab587d9e6", "filename": "gcc/testsuite/gcc.target/aarch64/builtin-bswap-2.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c16c63bb99a820721467df46ad97a948c1e520c6/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fbuiltin-bswap-2.c?ref=c16c63bb99a820721467df46ad97a948c1e520c6", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+/* { dg-final { scan-assembler-times \"rev16\\\\t\" 2 } }  */\n+\n+/* rev16 */\n+unsigned short\n+swapu16_1 (unsigned short x)\n+{\n+  return (x << 8) | (x >> 8);\n+}\n+\n+/* rev16 */\n+unsigned short\n+swapu16_2 (unsigned short x)\n+{\n+  return (x >> 8) | (x << 8);\n+}"}]}