{"sha": "505ce70d3ff1a66b476ec41109deb68ac0d44fde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA1Y2U3MGQzZmYxYTY2YjQ3NmVjNDExMDlkZWI2OGFjMGQ0NGZkZQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@albatross.co.nz", "date": "2001-02-15T03:59:57Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-02-15T03:59:57Z"}, "message": "TreeSet.java (clone): Call TreeMap.clone(), not Object.clone().\n\n\t* java/util/TreeSet.java (clone): Call TreeMap.clone(), not\n\tObject.clone().\n\t* java/util/Collections.java (ReverseComparator): New static class.\n\t(reverseOrder): Return static instance of ReverseComparator.\n\nFrom-SVN: r39705", "tree": {"sha": "a50576b5ec7a46b8047189b60ad1a2b5cbaafc1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a50576b5ec7a46b8047189b60ad1a2b5cbaafc1a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/505ce70d3ff1a66b476ec41109deb68ac0d44fde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/505ce70d3ff1a66b476ec41109deb68ac0d44fde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/505ce70d3ff1a66b476ec41109deb68ac0d44fde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/505ce70d3ff1a66b476ec41109deb68ac0d44fde/comments", "author": null, "committer": null, "parents": [{"sha": "78e3e6aca36855e1726a9d41b7dbd7c7f419dc4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78e3e6aca36855e1726a9d41b7dbd7c7f419dc4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78e3e6aca36855e1726a9d41b7dbd7c7f419dc4b"}], "stats": {"total": 40, "additions": 21, "deletions": 19}, "files": [{"sha": "0f289343440b32b6882fd13856e5d326c8180194", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=505ce70d3ff1a66b476ec41109deb68ac0d44fde", "patch": "@@ -1,3 +1,10 @@\n+2001-02-15  Bryce McKinlay  <bryce@albatross.co.nz>\n+\n+\t* java/util/TreeSet.java (clone): Call TreeMap.clone(), not \n+\tObject.clone().\n+\t* java/util/Collections.java (ReverseComparator): New static class.\n+\t(reverseOrder): Return static instance of ReverseComparator.\n+\n 2001-02-14  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* java/util/TreeMap.java: New file."}, {"sha": "74efdec65bf474745e4522cf4ff5c28c030dda44", "filename": "libjava/java/util/Collections.java", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2Fjava%2Futil%2FCollections.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2Fjava%2Futil%2FCollections.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FCollections.java?ref=505ce70d3ff1a66b476ec41109deb68ac0d44fde", "patch": "@@ -447,7 +447,6 @@ public static List nCopies(final int n, final Object o)\n     // Create a minimal implementation of List\n     return new AbstractList()\n     {\n-\n       public int size()\n       {\n \treturn n;\n@@ -487,22 +486,25 @@ public static void reverse(List l)\n       }\n   }\n \n+  static class ReverseComparator implements Comparator, Serializable\n+  {\n+    public int compare(Object a, Object b)\n+    {\n+      return -((Comparable) a).compareTo(b);\n+    }\n+  }\n+  \n+  static ReverseComparator rcInstance = new ReverseComparator();\n+  \n   /**\n    * Get a comparator that implements the reverse of natural ordering. This is\n    * intended to make it easy to sort into reverse order, by simply passing\n    * Collections.reverseOrder() to the sort method. The return value of this\n    * method is Serializable.\n    */\n-  // The return value isn't Serializable, because the spec is broken.\n   public static Comparator reverseOrder()\n   {\n-    return new Comparator()\n-    {\n-      public int compare(Object a, Object b)\n-      {\n-\treturn -((Comparable) a).compareTo(b);\n-      }\n-    };\n+    return rcInstance;\n   }\n \n   /**"}, {"sha": "070ca260de4b6338512cc32b75e8878376dd1c80", "filename": "libjava/java/util/TreeSet.java", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2Fjava%2Futil%2FTreeSet.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/505ce70d3ff1a66b476ec41109deb68ac0d44fde/libjava%2Fjava%2Futil%2FTreeSet.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FTreeSet.java?ref=505ce70d3ff1a66b476ec41109deb68ac0d44fde", "patch": "@@ -44,8 +44,8 @@\n  * TreeSet is a part of the JDK1.2 Collections API.\n  *\n  * @author      Jon Zeppieri\n- * @version     $Revision: 1.7 $\n- * @modified    $Id: TreeSet.java,v 1.7 2000/10/26 10:19:01 bryce Exp $\n+ * @version     $Revision: 1.1 $\n+ * @modified    $Id: TreeSet.java,v 1.1 2001/02/14 04:44:21 bryce Exp $\n  */\n \n public class TreeSet extends AbstractSet\n@@ -158,14 +158,7 @@ public void clear()\n   public Object clone()\n   {\n     TreeSet copy = new TreeSet();\n-    try\n-      {\n-\tcopy.map = (TreeMap) map.clone();\n-      }\n-    catch (CloneNotSupportedException ex)\n-      {\n-      }\n-\n+    copy.map = (SortedMap) ((TreeMap) map).clone();\n     return copy;\n   }\n "}]}