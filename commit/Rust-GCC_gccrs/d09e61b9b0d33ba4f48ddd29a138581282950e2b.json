{"sha": "d09e61b9b0d33ba4f48ddd29a138581282950e2b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA5ZTYxYjliMGQzM2JhNGY0OGRkZDI5YTEzODU4MTI4Mjk1MGUyYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-10-16T13:14:23Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-10-16T13:14:23Z"}, "message": "re PR c++/7386 (ran gcc compiler and it said to report htebug)\n\n\tPR target/7386\n\t* i386.c (builtin_description):Drop cmpg[te]s[sd].\n\t* xmmintrin.h (__mm_cmpg[te]_s[sd]): Rewrite using\n\tswapped alternative.\n\t* doc/extend.texi (X86 Built-in Functions): Remove killed builtins.\n\nFrom-SVN: r58202", "tree": {"sha": "d132ffb9a982edd75be2ceb9c8301b78ead10d16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d132ffb9a982edd75be2ceb9c8301b78ead10d16"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d09e61b9b0d33ba4f48ddd29a138581282950e2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d09e61b9b0d33ba4f48ddd29a138581282950e2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d09e61b9b0d33ba4f48ddd29a138581282950e2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d09e61b9b0d33ba4f48ddd29a138581282950e2b/comments", "author": null, "committer": null, "parents": [{"sha": "daa65de74b6dc0bef3d9a05e65082eead42aea6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daa65de74b6dc0bef3d9a05e65082eead42aea6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/daa65de74b6dc0bef3d9a05e65082eead42aea6f"}], "stats": {"total": 71, "additions": 42, "deletions": 29}, "files": [{"sha": "fe4ee7cf94b07dd2eb7e9957ce04d0bb939ba603", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=d09e61b9b0d33ba4f48ddd29a138581282950e2b", "patch": "@@ -11790,14 +11790,10 @@ static const struct builtin_description bdesc_2arg[] =\n   { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpeqss\", IX86_BUILTIN_CMPEQSS, EQ, 0 },\n   { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpltss\", IX86_BUILTIN_CMPLTSS, LT, 0 },\n   { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpless\", IX86_BUILTIN_CMPLESS, LE, 0 },\n-  { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpgtss\", IX86_BUILTIN_CMPGTSS, LT, 1 },\n-  { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpgess\", IX86_BUILTIN_CMPGESS, LE, 1 },\n   { MASK_SSE1, CODE_FOR_vmmaskcmpv4sf3, \"__builtin_ia32_cmpunordss\", IX86_BUILTIN_CMPUNORDSS, UNORDERED, 0 },\n   { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpneqss\", IX86_BUILTIN_CMPNEQSS, EQ, 0 },\n   { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpnltss\", IX86_BUILTIN_CMPNLTSS, LT, 0 },\n   { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpnless\", IX86_BUILTIN_CMPNLESS, LE, 0 },\n-  { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpngtss\", IX86_BUILTIN_CMPNGTSS, LT, 1 },\n-  { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpngess\", IX86_BUILTIN_CMPNGESS, LE, 1 },\n   { MASK_SSE1, CODE_FOR_vmmaskncmpv4sf3, \"__builtin_ia32_cmpordss\", IX86_BUILTIN_CMPORDSS, UNORDERED, 0 },\n \n   { MASK_SSE1, CODE_FOR_sminv4sf3, \"__builtin_ia32_minps\", IX86_BUILTIN_MINPS, 0, 0 },\n@@ -11919,14 +11915,10 @@ static const struct builtin_description bdesc_2arg[] =\n   { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmpeqsd\", IX86_BUILTIN_CMPEQSD, EQ, 0 },\n   { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmpltsd\", IX86_BUILTIN_CMPLTSD, LT, 0 },\n   { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmplesd\", IX86_BUILTIN_CMPLESD, LE, 0 },\n-  { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmpgtsd\", IX86_BUILTIN_CMPGTSD, LT, 1 },\n-  { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmpgesd\", IX86_BUILTIN_CMPGESD, LE, 1 },\n   { MASK_SSE2, CODE_FOR_vmmaskcmpv2df3, \"__builtin_ia32_cmpunordsd\", IX86_BUILTIN_CMPUNORDSD, UNORDERED, 0 },\n   { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpneqsd\", IX86_BUILTIN_CMPNEQSD, EQ, 0 },\n   { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpnltsd\", IX86_BUILTIN_CMPNLTSD, LT, 0 },\n   { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpnlesd\", IX86_BUILTIN_CMPNLESD, LE, 0 },\n-  { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpngtsd\", IX86_BUILTIN_CMPNGTSD, LT, 1 },\n-  { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpngesd\", IX86_BUILTIN_CMPNGESD, LE, 1 },\n   { MASK_SSE2, CODE_FOR_vmmaskncmpv2df3, \"__builtin_ia32_cmpordsd\", IX86_BUILTIN_CMPORDSD, UNORDERED, 0 },\n \n   { MASK_SSE2, CODE_FOR_sminv2df3, \"__builtin_ia32_minpd\", IX86_BUILTIN_MINPD, 0, 0 },\n@@ -13731,7 +13723,8 @@ ix86_memory_move_cost (mode, class, in)\n \tif (mode == TFmode)\n \t  mode = XFmode;\n \treturn ((in ? ix86_cost->int_load[2] : ix86_cost->int_store[2])\n-\t\t* (int) GET_MODE_SIZE (mode) / 4);\n+\t\t* ((int) GET_MODE_SIZE (mode)\n+\t\t   + UNITS_PER_WORD -1 ) / UNITS_PER_WORD);\n     }\n }\n "}, {"sha": "5409bcdb3cd34af1930865bcf38005e55261241f", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=d09e61b9b0d33ba4f48ddd29a138581282950e2b", "patch": "@@ -2017,13 +2017,9 @@ enum ix86_builtins\n   IX86_BUILTIN_CMPEQSS,\n   IX86_BUILTIN_CMPLTSS,\n   IX86_BUILTIN_CMPLESS,\n-  IX86_BUILTIN_CMPGTSS,\n-  IX86_BUILTIN_CMPGESS,\n   IX86_BUILTIN_CMPNEQSS,\n   IX86_BUILTIN_CMPNLTSS,\n   IX86_BUILTIN_CMPNLESS,\n-  IX86_BUILTIN_CMPNGTSS,\n-  IX86_BUILTIN_CMPNGESS,\n   IX86_BUILTIN_CMPORDSS,\n   IX86_BUILTIN_CMPUNORDSS,\n   IX86_BUILTIN_CMPNESS,\n@@ -2231,13 +2227,9 @@ enum ix86_builtins\n   IX86_BUILTIN_CMPEQSD,\n   IX86_BUILTIN_CMPLTSD,\n   IX86_BUILTIN_CMPLESD,\n-  IX86_BUILTIN_CMPGTSD,\n-  IX86_BUILTIN_CMPGESD,\n   IX86_BUILTIN_CMPNEQSD,\n   IX86_BUILTIN_CMPNLTSD,\n   IX86_BUILTIN_CMPNLESD,\n-  IX86_BUILTIN_CMPNGTSD,\n-  IX86_BUILTIN_CMPNGESD,\n   IX86_BUILTIN_CMPORDSD,\n   IX86_BUILTIN_CMPUNORDSD,\n   IX86_BUILTIN_CMPNESD,"}, {"sha": "264608daad053aeb9144c90068bc56ec087158d7", "filename": "gcc/config/i386/xmmintrin.h", "status": "modified", "additions": 40, "deletions": 8, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fconfig%2Fi386%2Fxmmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxmmintrin.h?ref=d09e61b9b0d33ba4f48ddd29a138581282950e2b", "patch": "@@ -245,13 +245,21 @@ _mm_cmple_ss (__m128 __A, __m128 __B)\n static __inline __m128\n _mm_cmpgt_ss (__m128 __A, __m128 __B)\n {\n-  return (__m128) __builtin_ia32_cmpgtss ((__v4sf)__A, (__v4sf)__B);\n+  return (__m128) __builtin_ia32_movss ((__v4sf) __A,\n+\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t__builtin_ia32_cmpltss ((__v4sf) __B,\n+\t\t\t\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t\t\t\t__A));\n }\n \n static __inline __m128\n _mm_cmpge_ss (__m128 __A, __m128 __B)\n {\n-  return (__m128) __builtin_ia32_cmpgess ((__v4sf)__A, (__v4sf)__B);\n+  return (__m128) __builtin_ia32_movss ((__v4sf) __A,\n+\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t__builtin_ia32_cmpless ((__v4sf) __B,\n+\t\t\t\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t\t\t\t__A));\n }\n \n static __inline __m128\n@@ -275,13 +283,21 @@ _mm_cmpnle_ss (__m128 __A, __m128 __B)\n static __inline __m128\n _mm_cmpngt_ss (__m128 __A, __m128 __B)\n {\n-  return (__m128) __builtin_ia32_cmpngtss ((__v4sf)__A, (__v4sf)__B);\n+  return (__m128) __builtin_ia32_movss ((__v4sf) __A,\n+\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t__builtin_ia32_cmpnltss ((__v4sf) __B,\n+\t\t\t\t\t\t\t\t (__v4sf)\n+\t\t\t\t\t\t\t\t __A));\n }\n \n static __inline __m128\n _mm_cmpnge_ss (__m128 __A, __m128 __B)\n {\n-  return (__m128) __builtin_ia32_cmpngess ((__v4sf)__A, (__v4sf)__B);\n+  return (__m128) __builtin_ia32_movss ((__v4sf) __A,\n+\t\t\t\t\t(__v4sf)\n+\t\t\t\t\t__builtin_ia32_cmpnless ((__v4sf) __B,\n+\t\t\t\t\t\t\t\t (__v4sf)\n+\t\t\t\t\t\t\t\t __A));\n }\n \n static __inline __m128\n@@ -1270,13 +1286,21 @@ _mm_cmple_sd (__m128d __A, __m128d __B)\n static __inline __m128d\n _mm_cmpgt_sd (__m128d __A, __m128d __B)\n {\n-  return (__m128d)__builtin_ia32_cmpgtsd ((__v2df)__A, (__v2df)__B);\n+  return (__m128d) __builtin_ia32_movsd ((__v2df) __A,\n+\t\t\t\t\t (__v2df)\n+\t\t\t\t\t __builtin_ia32_cmpltsd ((__v2df) __B,\n+\t\t\t\t\t\t\t\t (__v2df)\n+\t\t\t\t\t\t\t\t __A));\n }\n \n static __inline __m128d\n _mm_cmpge_sd (__m128d __A, __m128d __B)\n {\n-  return (__m128d)__builtin_ia32_cmpgesd ((__v2df)__A, (__v2df)__B);\n+  return (__m128d) __builtin_ia32_movsd ((__v2df) __A,\n+\t\t\t\t\t (__v2df)\n+\t\t\t\t\t __builtin_ia32_cmplesd ((__v2df) __B,\n+\t\t\t\t\t\t\t\t (__v2df)\n+\t\t\t\t\t\t\t\t __A));\n }\n \n static __inline __m128d\n@@ -1300,13 +1324,21 @@ _mm_cmpnle_sd (__m128d __A, __m128d __B)\n static __inline __m128d\n _mm_cmpngt_sd (__m128d __A, __m128d __B)\n {\n-  return (__m128d)__builtin_ia32_cmpngtsd ((__v2df)__A, (__v2df)__B);\n+  return (__m128d) __builtin_ia32_movsd ((__v2df) __A,\n+\t\t\t\t\t (__v2df)\n+\t\t\t\t\t __builtin_ia32_cmpnltsd ((__v2df) __B,\n+\t\t\t\t\t\t\t\t  (__v2df)\n+\t\t\t\t\t\t\t\t  __A));\n }\n \n static __inline __m128d\n _mm_cmpnge_sd (__m128d __A, __m128d __B)\n {\n-  return (__m128d)__builtin_ia32_cmpngesd ((__v2df)__A, (__v2df)__B);\n+  return (__m128d) __builtin_ia32_movsd ((__v2df) __A,\n+\t\t\t\t\t (__v2df)\n+\t\t\t\t\t __builtin_ia32_cmpnlesd ((__v2df) __B,\n+\t\t\t\t\t\t\t\t  (__v2df)\n+\t\t\t\t\t\t\t\t  __A));\n }\n \n static __inline __m128d"}, {"sha": "0b60c60454af970f8069fae5f3404aeb178462fc", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d09e61b9b0d33ba4f48ddd29a138581282950e2b/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=d09e61b9b0d33ba4f48ddd29a138581282950e2b", "patch": "@@ -5138,14 +5138,10 @@ v4si __builtin_ia32_cmpordps (v4sf, v4sf)\n v4si __builtin_ia32_cmpeqss (v4sf, v4sf)\n v4si __builtin_ia32_cmpltss (v4sf, v4sf)\n v4si __builtin_ia32_cmpless (v4sf, v4sf)\n-v4si __builtin_ia32_cmpgtss (v4sf, v4sf)\n-v4si __builtin_ia32_cmpgess (v4sf, v4sf)\n v4si __builtin_ia32_cmpunordss (v4sf, v4sf)\n v4si __builtin_ia32_cmpneqss (v4sf, v4sf)\n v4si __builtin_ia32_cmpnlts (v4sf, v4sf)\n v4si __builtin_ia32_cmpnless (v4sf, v4sf)\n-v4si __builtin_ia32_cmpngtss (v4sf, v4sf)\n-v4si __builtin_ia32_cmpngess (v4sf, v4sf)\n v4si __builtin_ia32_cmpordss (v4sf, v4sf)\n v4sf __builtin_ia32_maxps (v4sf, v4sf)\n v4sf __builtin_ia32_maxss (v4sf, v4sf)"}]}