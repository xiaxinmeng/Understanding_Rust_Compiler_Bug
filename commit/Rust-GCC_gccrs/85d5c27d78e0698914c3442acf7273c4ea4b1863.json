{"sha": "85d5c27d78e0698914c3442acf7273c4ea4b1863", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODVkNWMyN2Q3OGUwNjk4OTE0YzM0NDJhY2Y3MjczYzRlYTRiMTg2Mw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-05-24T04:15:39Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-05-24T04:15:39Z"}, "message": "re PR fortran/66461 (ICE on missing end program in fixed source)\n\n2016-05-23  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/66461\n\t* scanner.c (gfc_next_char_literal): Clear end_flag when adjusting\n\tcurrent locus back to old_locus.\n\n\t* gfortran.dg/unexpected_eof.f: New test\n\nFrom-SVN: r236627", "tree": {"sha": "972293b874818f1d6e765c7fa5161ace1d3110df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/972293b874818f1d6e765c7fa5161ace1d3110df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/85d5c27d78e0698914c3442acf7273c4ea4b1863", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85d5c27d78e0698914c3442acf7273c4ea4b1863", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85d5c27d78e0698914c3442acf7273c4ea4b1863", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85d5c27d78e0698914c3442acf7273c4ea4b1863/comments", "author": null, "committer": null, "parents": [{"sha": "4ddcdbf91224dc630c820a47a7bc7433f4fa6925", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ddcdbf91224dc630c820a47a7bc7433f4fa6925", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ddcdbf91224dc630c820a47a7bc7433f4fa6925"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "8db70173d2758e78f885f34ca4edfcee43f5afdd", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=85d5c27d78e0698914c3442acf7273c4ea4b1863", "patch": "@@ -1,3 +1,9 @@\n+2016-05-23  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/66461\n+\t* scanner.c (gfc_next_char_literal): Clear end_flag when adjusting\n+\tcurrent locus back to old_locus.\n+\n 2016-05-20  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/71204"}, {"sha": "6a7a5b68bb3e0c944785107ee254a78a19a589e3", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=85d5c27d78e0698914c3442acf7273c4ea4b1863", "patch": "@@ -1556,6 +1556,7 @@ gfc_next_char_literal (gfc_instring in_string)\n not_continuation:\n   c = '\\n';\n   gfc_current_locus = old_loc;\n+  end_flag = 0;\n \n done:\n   if (c == '\\n')"}, {"sha": "49789988c96d189bfa0fe7784e74df1cf62b6a1c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=85d5c27d78e0698914c3442acf7273c4ea4b1863", "patch": "@@ -1,3 +1,8 @@\n+2016-05-23  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/66461\n+\t* gfortran.dg/unexpected_eof.f: New test\n+\n 2016-05-23  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \t    Kelvin Nilsen  <kelvin@gcc.gnu.org>\n "}, {"sha": "d3cdb99596ab6476f383eb23ec3d16881a871bb9", "filename": "gcc/testsuite/gfortran.dg/unexpected_eof.f", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85d5c27d78e0698914c3442acf7273c4ea4b1863/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof.f?ref=85d5c27d78e0698914c3442acf7273c4ea4b1863", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+! PR66461  ICE on missing end program in fixed source\n+      program p\n+         integer x(2)\n+         x = -1\n+         if ( x(1) < 0 .or.\n+     &        x(2) < 0 ) print *, x\n+! { dg-error \"Unexpected end of file\" \"\" { target *-*-* } 0 }"}]}