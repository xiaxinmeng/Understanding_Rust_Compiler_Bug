{"sha": "5c798f921aa4118b8189aed1ab4f1dced24340dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWM3OThmOTIxYWE0MTE4YjgxODlhZWQxYWI0ZjFkY2VkMjQzNDBkZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-07-23T09:53:34Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-07-23T09:53:34Z"}, "message": "Window.java (getWarningString): Just return the string.\n\n\t* java/awt/Window.java (getWarningString): Just return the\n\tstring.\n\t(Window): Set warningString; check with security manager.\n\nFrom-SVN: r69699", "tree": {"sha": "de0ce9c72ec9447a95474e18c45a3210b3e9b015", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/de0ce9c72ec9447a95474e18c45a3210b3e9b015"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c798f921aa4118b8189aed1ab4f1dced24340dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c798f921aa4118b8189aed1ab4f1dced24340dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c798f921aa4118b8189aed1ab4f1dced24340dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c798f921aa4118b8189aed1ab4f1dced24340dd/comments", "author": null, "committer": null, "parents": [{"sha": "78ace45e998cd5c89df568a1f16092bed90f17c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78ace45e998cd5c89df568a1f16092bed90f17c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78ace45e998cd5c89df568a1f16092bed90f17c5"}], "stats": {"total": 28, "additions": 11, "deletions": 17}, "files": [{"sha": "cad0018014ffeffde2e2b8b6cde064b5999fcb25", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c798f921aa4118b8189aed1ab4f1dced24340dd/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c798f921aa4118b8189aed1ab4f1dced24340dd/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=5c798f921aa4118b8189aed1ab4f1dced24340dd", "patch": "@@ -1,3 +1,9 @@\n+2003-07-22  Tom Tromey  <tromey@redhat.com>\n+\n+\t* java/awt/Window.java (getWarningString): Just return the\n+\tstring.\n+\t(Window): Set warningString; check with security manager.\n+\n 2003-07-22  Scott Gilbertson  <scottg@mantatest.com>\n \n \t* gnu/awt/xlib/XGraphicsConfiguration.java"}, {"sha": "1491ec6c6505ad6adb1c2255cc64bbac49bcd605", "filename": "libjava/java/awt/Window.java", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c798f921aa4118b8189aed1ab4f1dced24340dd/libjava%2Fjava%2Fawt%2FWindow.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c798f921aa4118b8189aed1ab4f1dced24340dd/libjava%2Fjava%2Fawt%2FWindow.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Fawt%2FWindow.java?ref=5c798f921aa4118b8189aed1ab4f1dced24340dd", "patch": "@@ -159,9 +159,10 @@ public Window(Window owner, GraphicsConfiguration gc)\n     // FIXME: add to owner's \"owned window\" list\n     //owner.owned.add(this); // this should be a weak reference\n     \n-    /*  FIXME: Security check\n-    SecurityManager.checkTopLevelWindow(...)\n-    */\n+    // FIXME: make this text visible in the window.\n+    SecurityManager s = System.getSecurityManager();\n+    if (s != null && ! s.checkTopLevelWindow(this))\n+      warningString = System.getProperty(\"awt.appletWarning\");\n \n     if (gc != null\n         && gc.getDevice().getType() != GraphicsDevice.TYPE_RASTER_SCREEN)\n@@ -315,20 +316,7 @@ public Toolkit getToolkit()\n    */\n   public final String getWarningString()\n   {\n-    boolean secure = true;\n-    /* boolean secure = SecurityManager.checkTopLevelWindow(...) */\n-\n-    if (!secure)\n-      {\n-        if (warningString != null)\n-          return warningString;\n-        else\n-          {\n-            String warning = System.getProperty(\"awt.appletWarning\");\n-            return warning;\n-          }\n-      }\n-    return null;\n+    return warningString;\n   }\n \n   /**"}]}