{"sha": "844c944b8c6c1d7140f210d43d59883da3c08e38", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQ0Yzk0NGI4YzZjMWQ3MTQwZjIxMGQ0M2Q1OTg4M2RhM2MwOGUzOA==", "commit": {"author": {"name": "Markus Trippelsdorf", "email": "markus@trippelsdorf.de", "date": "2015-01-12T07:48:50Z"}, "committer": {"name": "Markus Trippelsdorf", "email": "trippels@gcc.gnu.org", "date": "2015-01-12T07:48:50Z"}, "message": "ipa/63470 add testcase\n\n2015-01-11  Markus Trippelsdorf  <markus@trippelsdorf.de>\n\n\tPR ipa/63470\n\t* ipa/pr63470.C: New testcase.\n\nFrom-SVN: r219445", "tree": {"sha": "ef34f0b3f4b1abf6547b2d8971176706757526bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef34f0b3f4b1abf6547b2d8971176706757526bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/844c944b8c6c1d7140f210d43d59883da3c08e38", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844c944b8c6c1d7140f210d43d59883da3c08e38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/844c944b8c6c1d7140f210d43d59883da3c08e38", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844c944b8c6c1d7140f210d43d59883da3c08e38/comments", "author": null, "committer": null, "parents": [{"sha": "e3bde69aead17eb0e42a6f9c542f0033d642ba74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3bde69aead17eb0e42a6f9c542f0033d642ba74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3bde69aead17eb0e42a6f9c542f0033d642ba74"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "d673e12f8880f61ecdba3ca9ffd7fe754f89151b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844c944b8c6c1d7140f210d43d59883da3c08e38/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844c944b8c6c1d7140f210d43d59883da3c08e38/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=844c944b8c6c1d7140f210d43d59883da3c08e38", "patch": "@@ -1,3 +1,8 @@\n+2015-01-11  Markus Trippelsdorf  <markus@trippelsdorf.de>\n+\n+\tPR ipa/63470\n+\t* ipa/pr63470.C: New testcase.\n+\n 2015-01-11  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/63733"}, {"sha": "e6fa73bcd4c71c048d4757d6c23a54b804270be4", "filename": "gcc/testsuite/g++.dg/ipa/pr63470.C", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844c944b8c6c1d7140f210d43d59883da3c08e38/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr63470.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844c944b8c6c1d7140f210d43d59883da3c08e38/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr63470.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr63470.C?ref=844c944b8c6c1d7140f210d43d59883da3c08e38", "patch": "@@ -0,0 +1,54 @@\n+/* PR ipa/63470.C */\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -finline-functions\" } */\n+\n+class A\n+{\n+public:\n+  virtual bool m_fn1 ();\n+  virtual const char **m_fn2 (int);\n+  virtual int m_fn3 ();\n+};\n+class FTjackSupport : A\n+{\n+  ~FTjackSupport ();\n+  bool m_fn1 ();\n+  bool m_fn4 ();\n+  const char **\n+  m_fn2 (int)\n+  {\n+  }\n+  int _inited;\n+  int *_jackClient;\n+  int _activePathCount;\n+}\n+\n+* a;\n+void fn1 (...);\n+void fn2 (void *);\n+int fn3 (int *);\n+FTjackSupport::~FTjackSupport () { m_fn4 (); }\n+\n+bool\n+FTjackSupport::m_fn1 ()\n+{\n+  if (!_jackClient)\n+    return 0;\n+  for (int i=0; _activePathCount; ++i)\n+    if (m_fn2 (i))\n+      fn2 (a);\n+  if (m_fn3 ())\n+    fn2 (a);\n+  if (fn3 (_jackClient))\n+    fn1 (0);\n+}\n+\n+bool\n+FTjackSupport::m_fn4 ()\n+{\n+  if (_inited && _jackClient)\n+    {\n+      m_fn1 ();\n+      return 0;\n+    }\n+}"}]}