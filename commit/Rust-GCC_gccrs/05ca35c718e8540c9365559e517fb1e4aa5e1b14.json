{"sha": "05ca35c718e8540c9365559e517fb1e4aa5e1b14", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDVjYTM1YzcxOGU4NTQwYzkzNjU1NTllNTE3ZmIxZTRhYTVlMWIxNA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1994-10-19T20:51:33Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1994-10-19T20:51:33Z"}, "message": "Fix -fpic -a problems.\n\nFrom-SVN: r8315", "tree": {"sha": "dead7e5e05ce742b4bc0449683da243a38cebc86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dead7e5e05ce742b4bc0449683da243a38cebc86"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/05ca35c718e8540c9365559e517fb1e4aa5e1b14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05ca35c718e8540c9365559e517fb1e4aa5e1b14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05ca35c718e8540c9365559e517fb1e4aa5e1b14", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05ca35c718e8540c9365559e517fb1e4aa5e1b14/comments", "author": null, "committer": null, "parents": [{"sha": "a523d8009d836341e3d3b432efba1c2faeff713d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a523d8009d836341e3d3b432efba1c2faeff713d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a523d8009d836341e3d3b432efba1c2faeff713d"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "a5623a7d87d80e7d1725f7d5e4102c3c8a8d4afe", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05ca35c718e8540c9365559e517fb1e4aa5e1b14/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05ca35c718e8540c9365559e517fb1e4aa5e1b14/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=05ca35c718e8540c9365559e517fb1e4aa5e1b14", "patch": "@@ -972,9 +972,15 @@ do\t\t\t\t\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n     ASM_GENERATE_INTERNAL_LABEL (counts, \"LPBX\", 2);\t\t\t\\\n     cnt_rtx = gen_rtx (SYMBOL_REF, VOIDmode, counts);\t\t\t\\\n-    CONSTANT_POOL_ADDRESS_P (cnt_rtx) = TRUE;\t\t\t\t\\\n+    SYMBOL_REF_FLAG (cnt_rtx) = TRUE;\t\t\t\t\t\\\n \t\t\t\t\t\t\t\t\t\\\n-    xops[0] = gen_rtx (MEM, SImode, plus_constant (cnt_rtx, (BLOCKNO)*4)); \\\n+    if (BLOCKNO)\t\t\t\t\t\t\t\\\n+      cnt_rtx = plus_constant (cnt_rtx, (BLOCKNO)*4);\t\t\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+    if (flag_pic)\t\t\t\t\t\t\t\\\n+      cnt_rtx = gen_rtx (PLUS, Pmode, pic_offset_table_rtx, cnt_rtx);\t\\\n+\t\t\t\t\t\t\t\t\t\\\n+    xops[0] = gen_rtx (MEM, SImode, cnt_rtx);\t\t\t\t\\\n     output_asm_insn (AS1(inc%L0,%0), xops);\t\t\t\t\\\n   }\t\t\t\t\t\t\t\t\t\\\n while (0)"}]}