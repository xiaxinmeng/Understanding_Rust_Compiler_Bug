{"sha": "a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTFhOGIxNzI2Y2Y4ZGUyZWQyNDQzNTNhOWM4Y2QyZmFiMTJlNGM3MQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2019-07-11T08:01:25Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-07-11T08:01:25Z"}, "message": "[Ada] GNAT.Threads: Add a Get_Thread overload taking a Task_Id\n\n2019-07-11  Arnaud Charlet  <charlet@adacore.com>\n\ngcc/ada/\n\n\t* libgnarl/g-thread.ads, libgnarl/g-thread.adb (Get_Thread):\n\tUpdate comments. Add new version taking a Task_Id.\n\nFrom-SVN: r273380", "tree": {"sha": "60db77ac194cfccd8a771989478e98cdd692f3dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60db77ac194cfccd8a771989478e98cdd692f3dc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "490ed9ba846d15baba24646b7ecf3ed6b7c19fcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/490ed9ba846d15baba24646b7ecf3ed6b7c19fcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/490ed9ba846d15baba24646b7ecf3ed6b7c19fcb"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "703280c2d01875fee3e7ea4fb9decdcebcb7b4fe", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "patch": "@@ -1,3 +1,8 @@\n+2019-07-11  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* libgnarl/g-thread.ads, libgnarl/g-thread.adb (Get_Thread):\n+\tUpdate comments. Add new version taking a Task_Id.\n+\n 2019-07-11  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* bindo.adb: Update the section of switches and debugging"}, {"sha": "ae619371cbc0f0a22173dea434656207c2c1c105", "filename": "gcc/ada/libgnarl/g-thread.adb", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2Flibgnarl%2Fg-thread.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2Flibgnarl%2Fg-thread.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fg-thread.adb?ref=a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "patch": "@@ -168,9 +168,14 @@ package body GNAT.Threads is\n    ----------------\n \n    procedure Get_Thread (Id : Address; Thread : Address) is\n-      Thr : constant Thread_Id_Ptr := To_Thread (Thread);\n    begin\n-      Thr.all := Task_Primitives.Operations.Get_Thread_Id (To_Id (Id));\n+      To_Thread (Thread).all :=\n+        Task_Primitives.Operations.Get_Thread_Id (To_Id (Id));\n+   end Get_Thread;\n+\n+   procedure Get_Thread (Id : Task_Id; Thread : Address) is\n+   begin\n+      Get_Thread (To_Addr (Id), Thread);\n    end Get_Thread;\n \n    ----------------------"}, {"sha": "8792e9add599d8f1630b7ea607d799576ac9b75d", "filename": "gcc/ada/libgnarl/g-thread.ads", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2Flibgnarl%2Fg-thread.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71/gcc%2Fada%2Flibgnarl%2Fg-thread.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnarl%2Fg-thread.ads?ref=a1a8b1726cf8de2ed244353a9c8cd2fab12e4c71", "patch": "@@ -129,9 +129,11 @@ package GNAT.Threads is\n \n    procedure Get_Thread (Id : System.Address; Thread : System.Address);\n    pragma Export (C, Get_Thread, \"__gnat_get_thread\");\n+   procedure Get_Thread\n+     (Id : Ada.Task_Identification.Task_Id; Thread : System.Address);\n    --  This procedure is used to retrieve the thread id of a given task.\n    --  The value Id is the value that was passed to the thread code procedure\n-   --  at activation time.\n+   --  at activation time or a Task_Id.\n    --  Thread is a pointer to a thread id that will be updated by this\n    --  procedure.\n    --"}]}