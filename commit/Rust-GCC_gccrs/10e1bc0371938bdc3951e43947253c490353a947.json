{"sha": "10e1bc0371938bdc3951e43947253c490353a947", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBlMWJjMDM3MTkzOGJkYzM5NTFlNDM5NDcyNTNjNDkwMzUzYTk0Nw==", "commit": {"author": {"name": "Loren J. Rittle", "email": "ljrittle@acm.org", "date": "2009-09-03T16:53:35Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2009-09-03T16:53:35Z"}, "message": "dyn_load.c (HAVE_DL_ITERATE_PHDR): Break definition from use.\n\n2009-09-03  Loren J. Rittle  <ljrittle@acm.org>\n\n\t* dyn_load.c (HAVE_DL_ITERATE_PHDR): Break definition from use.\n\tDefine for FreeBSD 7.0+.\n\nFrom-SVN: r151387", "tree": {"sha": "c93e5f2d1c35d6d9c604e53ea6a817bd0b77f952", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c93e5f2d1c35d6d9c604e53ea6a817bd0b77f952"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10e1bc0371938bdc3951e43947253c490353a947", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10e1bc0371938bdc3951e43947253c490353a947", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10e1bc0371938bdc3951e43947253c490353a947", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10e1bc0371938bdc3951e43947253c490353a947/comments", "author": null, "committer": null, "parents": [{"sha": "2e3dac6f94ec46ecfe05f34bba26f09d35b8681b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e3dac6f94ec46ecfe05f34bba26f09d35b8681b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e3dac6f94ec46ecfe05f34bba26f09d35b8681b"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "8bd2012ba34e70b291b7e815726743dede1ef1b4", "filename": "boehm-gc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10e1bc0371938bdc3951e43947253c490353a947/boehm-gc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10e1bc0371938bdc3951e43947253c490353a947/boehm-gc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FChangeLog?ref=10e1bc0371938bdc3951e43947253c490353a947", "patch": "@@ -1,3 +1,8 @@\n+2009-09-03  Loren J. Rittle  <ljrittle@acm.org>\n+\n+\t* dyn_load.c (HAVE_DL_ITERATE_PHDR): Break definition from use.\n+\tDefine for FreeBSD 7.0+.\n+\n 2009-08-24  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* configure.ac (AC_PREREQ): Bump to 2.64."}, {"sha": "200abde7810b4d74d82db42cab53693ff0fde49a", "filename": "boehm-gc/dyn_load.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10e1bc0371938bdc3951e43947253c490353a947/boehm-gc%2Fdyn_load.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10e1bc0371938bdc3951e43947253c490353a947/boehm-gc%2Fdyn_load.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fdyn_load.c?ref=10e1bc0371938bdc3951e43947253c490353a947", "patch": "@@ -400,6 +400,16 @@ GC_bool GC_register_main_static_data()\n /* It may still not be available in the library on the target system.   */\n /* Thus we also treat it as a weak symbol.\t\t\t\t*/\n #define HAVE_DL_ITERATE_PHDR\n+#pragma weak dl_iterate_phdr\n+#endif\n+\n+# if (defined(FREEBSD) && __FreeBSD__ >= 7)\n+/* On the FreeBSD system, any target system at major version 7 shall    */\n+/* have dl_iterate_phdr; therefore, we need not make it weak as above.  */\n+#define HAVE_DL_ITERATE_PHDR\n+#endif\n+\n+#if defined(HAVE_DL_ITERATE_PHDR)\n \n static int GC_register_dynlib_callback(info, size, ptr)\n      struct dl_phdr_info * info;\n@@ -441,8 +451,6 @@ static int GC_register_dynlib_callback(info, size, ptr)\n \n /* Return TRUE if we succeed, FALSE if dl_iterate_phdr wasn't there. */\n \n-#pragma weak dl_iterate_phdr\n-\n GC_bool GC_register_dynamic_libraries_dl_iterate_phdr()\n {\n   if (dl_iterate_phdr) {"}]}