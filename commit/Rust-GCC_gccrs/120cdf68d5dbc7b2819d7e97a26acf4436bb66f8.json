{"sha": "120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTIwY2RmNjhkNWRiYzdiMjgxOWQ3ZTk3YTI2YWNmNDQzNmJiNjZmOA==", "commit": {"author": {"name": "Josef Zlomek", "email": "zlomekj@suse.cz", "date": "2003-01-20T18:41:01Z"}, "committer": {"name": "Josef Zlomek", "email": "zlomek@gcc.gnu.org", "date": "2003-01-20T18:41:01Z"}, "message": "* hashtab.c (htab_expand): Fix allocation of new entries.\n\nFrom-SVN: r61507", "tree": {"sha": "a282ef47d87b0554258bd0643999999a95e7602e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a282ef47d87b0554258bd0643999999a95e7602e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8/comments", "author": null, "committer": null, "parents": [{"sha": "5794139ae98c38ce6008be69522de112cba97472", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5794139ae98c38ce6008be69522de112cba97472", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5794139ae98c38ce6008be69522de112cba97472"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "e8f0ce2d397a9cf55d6d27b513a74e5194282aa2", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "patch": "@@ -1,3 +1,7 @@\n+2003-01-20  Josef Zlomek  <zlomekj@suse.cz>\n+\n+\t* hashtab.c (htab_expand): Fix allocation of new entries.\n+\n 2003-01-09  Christian Cornelssen  <ccorn@cs.tu-berlin.de>\n \n \t* Makefile.in (FLAGS_TO_PASS): Also pass DESTDIR."}, {"sha": "27741ef6247fc9219b93a3af177877291dd46485", "filename": "libiberty/hashtab.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8/libiberty%2Fhashtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/120cdf68d5dbc7b2819d7e97a26acf4436bb66f8/libiberty%2Fhashtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fhashtab.c?ref=120cdf68d5dbc7b2819d7e97a26acf4436bb66f8", "patch": "@@ -306,16 +306,18 @@ htab_expand (htab)\n   PTR *olimit;\n   PTR *p;\n   PTR *nentries;\n+  size_t nsize;\n \n   oentries = htab->entries;\n   olimit = oentries + htab->size;\n \n-  htab->size = higher_prime_number (htab->size * 2);\n+  nsize = higher_prime_number (htab->size * 2);\n \n-  nentries = (PTR *) (*htab->alloc_f) (htab->size, sizeof (PTR *));\n+  nentries = (PTR *) (*htab->alloc_f) (nsize, sizeof (PTR));\n   if (nentries == NULL)\n     return 0;\n   htab->entries = nentries;\n+  htab->size = nsize;\n \n   htab->n_elements -= htab->n_deleted;\n   htab->n_deleted = 0;"}]}