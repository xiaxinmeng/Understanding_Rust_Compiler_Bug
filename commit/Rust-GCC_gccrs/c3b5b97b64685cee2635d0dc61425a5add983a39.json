{"sha": "c3b5b97b64685cee2635d0dc61425a5add983a39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNiNWI5N2I2NDY4NWNlZTI2MzVkMGRjNjE0MjVhNWFkZDk4M2EzOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-12T02:03:46Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-01-12T02:03:46Z"}, "message": "Simplify libgo Makefile conditionals.\n\nFrom-SVN: r168696", "tree": {"sha": "7721836a180b18fc4931e7caa3818c3f5412471f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7721836a180b18fc4931e7caa3818c3f5412471f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3b5b97b64685cee2635d0dc61425a5add983a39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3b5b97b64685cee2635d0dc61425a5add983a39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3b5b97b64685cee2635d0dc61425a5add983a39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3b5b97b64685cee2635d0dc61425a5add983a39/comments", "author": null, "committer": null, "parents": [{"sha": "ae82f812b9c48bddc2149eef5e5e542deacd9b15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae82f812b9c48bddc2149eef5e5e542deacd9b15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae82f812b9c48bddc2149eef5e5e542deacd9b15"}], "stats": {"total": 287, "additions": 129, "deletions": 158}, "files": [{"sha": "f7a0da07e4865ce2432b2e1b772ec380ec041886", "filename": "libgo/Makefile.am", "status": "modified", "additions": 15, "deletions": 96, "changes": 111, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -682,38 +682,6 @@ go_runtime_files = \\\n \tgo/runtime/type.go \\\n \tversion.go\n \n-if LIBGO_IS_386\n-GOARCH = 386\n-else\n-if LIBGO_IS_X86_64\n-GOARCH = amd64\n-else\n-if LIBGO_IS_ARM\n-GOARCH = arm\n-else\n-GOARCH = unknown\n-endif\n-endif\n-endif\n-\n-if LIBGO_IS_LINUX\n-GOOS = linux\n-else\n-if LIBGO_IS_DARWIN\n-GOOS = darwin\n-else\n-if LIBGO_IS_FREEBSD\n-GOOS = freebsd\n-else\n-if LIBGO_IS_RTEMS\n-GOOS = rtems\n-else\n-GOOS = unknown\n-endif\n-endif\n-endif\n-endif\n-\n version.go: s-version; @true\n s-version: Makefile\n \trm -f version.go.tmp\n@@ -930,52 +898,10 @@ go_debug_pe_files = \\\n \tgo/debug/pe/file.go \\\n \tgo/debug/pe/pe.go\n \n-if LIBGO_IS_LINUX\n-proc_file = go/debug/proc/proc_linux.go\n-if LIBGO_IS_386\n-regs_file = go/debug/proc/regs_linux_386.go\n-else\n-if LIBGO_IS_X86_64\n-regs_file = go/debug/proc/regs_linux_amd64.go\n-else\n-regs_file =\n-endif\n-endif\n-else\n-if LIBGO_IS_DARWIN\n-proc_file = go/debug/proc/proc_darwin.go\n-if LIBGO_IS_386\n-regs_file = go/debug/proc/regs_darwin_386.go\n-else\n-if LIBGO_IS_X86_64\n-regs_file = go/debug/proc/regs_darwin_amd64.go\n-else\n-regs_file =\n-endif\n-endif\n-else\n-if LIBGO_IS_FREEBSD\n-proc_file = go/debug/proc/proc_freebsd.go\n-if LIBGO_IS_386\n-regs_file = go/debug/proc/regs_freebsd_386.go\n-else\n-if LIBGO_IS_X86_64\n-regs_file = go/debug/proc/regs_freebsd_amd64.go\n-else\n-regs_file =\n-endif\n-endif\n-else\n-proc_file =\n-regs_file =\n-endif\n-endif\n-endif\n-\n go_debug_proc_files = \\\n \tgo/debug/proc/proc.go \\\n-\t$(proc_file) \\\n-\t$(regs_file)\n+\tgo/debug/proc/proc_$(GOOS).go \\\n+\tgo/debug/proc/regs_$(GOOS)_$(GOARCH).go\n \n go_encoding_ascii85_files = \\\n \tgo/encoding/ascii85/ascii85.go\n@@ -1093,26 +1019,10 @@ go_testing_quick_files = \\\n go_testing_script_files = \\\n \tgo/testing/script/script.go\n \n-if LIBGO_IS_LINUX\n-syscall_os_file = syscalls/syscall_linux.go\n-if LIBGO_IS_386\n-syscall_arch_file = syscalls/syscall_linux_386.go\n-else\n-if LIBGO_IS_X86_64\n-syscall_arch_file = syscalls/syscall_linux_amd64.go\n-else\n-syscall_arch_file =\n-endif\n-endif\n-else\n-syscall_os_file =\n-syscall_arch_file =\n-endif\n-\n if LIBGO_IS_RTEMS\n syscall_exec_os_file = syscalls/exec_stubs.go\n syscall_socket_os_file = syscalls/socket_bsd.go\n-syscall_socket_epoll_file=\n+syscall_socket_epoll_file =\n syscall_sysfile_os_file = syscalls/sysfile_rtems.go\n syscall_syscall_file = syscalls/syscall_stubs.go\n syscall_errstr_file = syscalls/errstr_rtems.go\n@@ -1131,6 +1041,14 @@ syscall_errstr_decl_file = syscalls/errstr_decl.go\n endif\n endif\n \n+syscall_arch.go: s-syscall_arch; @true\n+s-syscall_arch: Makefile\n+\trm -f syscall_arch.go.tmp\n+\techo \"package syscall\" > syscall_arch.go.tmp\n+\techo 'const ARCH = \"'$(GOARCH)'\"' >> syscall_arch.go.tmp\n+\t$(SHELL) $(srcdir)/../move-if-change syscall_arch.go.tmp syscall_arch.go\n+\t$(STAMP) $@\n+\n go_syscall_files = \\\n \t$(syscall_errstr_file) \\\n \t$(syscall_errstr_decl_file) \\\n@@ -1142,11 +1060,12 @@ go_syscall_files = \\\n \t$(syscall_syscall_file) \\\n \tsyscalls/syscall_unix.go \\\n \tsyscalls/stringbyte.go \\\n-\t$(syscall_os_file) \\\n-\t$(syscall_arch_file) \\\n+\tsyscalls/syscall_$(GOOS).go \\\n+\tsyscalls/syscall_$(GOOS)_$(GOARCH).go \\\n \tsyscalls/sysfile_posix.go \\\n \t$(syscall_sysfile_os_file) \\\n-\tsysinfo.go\n+\tsysinfo.go \\\n+\tsyscall_arch.go\n go_syscall_c_files = \\\n \tsyscalls/errno.c\n "}, {"sha": "383b825ec4493d2621d522510005fb313e58cbc3", "filename": "libgo/Makefile.in", "status": "modified", "additions": 16, "deletions": 34, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -305,8 +305,10 @@ ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n+GOARCH = @GOARCH@\n GOC = @GOC@\n GOCFLAGS = $(CFLAGS)\n+GOOS = @GOOS@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@\n@@ -1019,15 +1021,6 @@ go_runtime_files = \\\n \tgo/runtime/type.go \\\n \tversion.go\n \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_ARM_FALSE@@LIBGO_IS_X86_64_FALSE@GOARCH = unknown\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_ARM_TRUE@@LIBGO_IS_X86_64_FALSE@GOARCH = arm\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_X86_64_TRUE@GOARCH = amd64\n-@LIBGO_IS_386_TRUE@GOARCH = 386\n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_RTEMS_FALSE@GOOS = unknown\n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_RTEMS_TRUE@GOOS = rtems\n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_LINUX_FALSE@GOOS = freebsd\n-@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@GOOS = darwin\n-@LIBGO_IS_LINUX_TRUE@GOOS = linux\n go_scanner_files = \\\n \tgo/scanner/scanner.go\n \n@@ -1256,24 +1249,10 @@ go_debug_pe_files = \\\n \tgo/debug/pe/file.go \\\n \tgo/debug/pe/pe.go\n \n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_LINUX_FALSE@proc_file = \n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_LINUX_FALSE@proc_file = go/debug/proc/proc_freebsd.go\n-@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@proc_file = go/debug/proc/proc_darwin.go\n-@LIBGO_IS_LINUX_TRUE@proc_file = go/debug/proc/proc_linux.go\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_X86_64_FALSE@regs_file = \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_X86_64_TRUE@regs_file = go/debug/proc/regs_freebsd_amd64.go\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_X86_64_FALSE@regs_file = \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@@LIBGO_IS_X86_64_TRUE@regs_file = go/debug/proc/regs_darwin_amd64.go\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_64_FALSE@regs_file = \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_64_TRUE@regs_file = go/debug/proc/regs_linux_amd64.go\n-@LIBGO_IS_386_TRUE@@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_TRUE@@LIBGO_IS_LINUX_FALSE@regs_file = go/debug/proc/regs_freebsd_386.go\n-@LIBGO_IS_386_TRUE@@LIBGO_IS_DARWIN_TRUE@@LIBGO_IS_LINUX_FALSE@regs_file = go/debug/proc/regs_darwin_386.go\n-@LIBGO_IS_386_TRUE@@LIBGO_IS_LINUX_TRUE@regs_file = go/debug/proc/regs_linux_386.go\n-@LIBGO_IS_DARWIN_FALSE@@LIBGO_IS_FREEBSD_FALSE@@LIBGO_IS_LINUX_FALSE@regs_file = \n go_debug_proc_files = \\\n \tgo/debug/proc/proc.go \\\n-\t$(proc_file) \\\n-\t$(regs_file)\n+\tgo/debug/proc/proc_$(GOOS).go \\\n+\tgo/debug/proc/regs_$(GOOS)_$(GOARCH).go\n \n go_encoding_ascii85_files = \\\n \tgo/encoding/ascii85/ascii85.go\n@@ -1408,12 +1387,6 @@ go_testing_quick_files = \\\n go_testing_script_files = \\\n \tgo/testing/script/script.go\n \n-@LIBGO_IS_LINUX_FALSE@syscall_os_file = \n-@LIBGO_IS_LINUX_TRUE@syscall_os_file = syscalls/syscall_linux.go\n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_64_FALSE@syscall_arch_file = \n-@LIBGO_IS_386_FALSE@@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_X86_64_TRUE@syscall_arch_file = syscalls/syscall_linux_amd64.go\n-@LIBGO_IS_386_TRUE@@LIBGO_IS_LINUX_TRUE@syscall_arch_file = syscalls/syscall_linux_386.go\n-@LIBGO_IS_LINUX_FALSE@syscall_arch_file = \n @LIBGO_IS_RTEMS_FALSE@syscall_exec_os_file = syscalls/exec.go\n @LIBGO_IS_RTEMS_TRUE@syscall_exec_os_file = syscalls/exec_stubs.go\n @LIBGO_IS_RTEMS_FALSE@syscall_socket_os_file = syscalls/socket_linux.go\n@@ -1440,11 +1413,12 @@ go_syscall_files = \\\n \t$(syscall_syscall_file) \\\n \tsyscalls/syscall_unix.go \\\n \tsyscalls/stringbyte.go \\\n-\t$(syscall_os_file) \\\n-\t$(syscall_arch_file) \\\n+\tsyscalls/syscall_$(GOOS).go \\\n+\tsyscalls/syscall_$(GOOS)_$(GOARCH).go \\\n \tsyscalls/sysfile_posix.go \\\n \t$(syscall_sysfile_os_file) \\\n-\tsysinfo.go\n+\tsysinfo.go \\\n+\tsyscall_arch.go\n \n go_syscall_c_files = \\\n \tsyscalls/errno.c\n@@ -3622,6 +3596,14 @@ s-version: Makefile\n \t$(SHELL) $(srcdir)/../move-if-change version.go.tmp version.go\n \t$(STAMP) $@\n \n+syscall_arch.go: s-syscall_arch; @true\n+s-syscall_arch: Makefile\n+\trm -f syscall_arch.go.tmp\n+\techo \"package syscall\" > syscall_arch.go.tmp\n+\techo 'const ARCH = \"'$(GOARCH)'\"' >> syscall_arch.go.tmp\n+\t$(SHELL) $(srcdir)/../move-if-change syscall_arch.go.tmp syscall_arch.go\n+\t$(STAMP) $@\n+\n # Build a .la file from a .a file.\n .a.la:\n \t$(LINK) $<.lo"}, {"sha": "461aea3f15744a282475bce608acb1be08d5dadc", "filename": "libgo/configure", "status": "modified", "additions": 30, "deletions": 13, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -611,12 +611,14 @@ MATH_LIBS\n USING_SPLIT_STACK_FALSE\n USING_SPLIT_STACK_TRUE\n SPLIT_STACK\n+GOARCH\n LIBGO_IS_ARM_FALSE\n LIBGO_IS_ARM_TRUE\n LIBGO_IS_X86_64_FALSE\n LIBGO_IS_X86_64_TRUE\n LIBGO_IS_386_FALSE\n LIBGO_IS_386_TRUE\n+GOOS\n LIBGO_IS_RTEMS_FALSE\n LIBGO_IS_RTEMS_TRUE\n LIBGO_IS_LINUX_FALSE\n@@ -10869,7 +10871,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10872 \"configure\"\n+#line 10874 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10975,7 +10977,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10978 \"configure\"\n+#line 10980 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -13190,11 +13192,12 @@ is_darwin=no\n is_freebsd=no\n is_linux=no\n is_rtems=no\n+GOOS=unknown\n case ${host} in\n-  *-*-darwin*) is_darwin=yes ;;\n-  *-*-freebsd*) is_freebsd=yes ;;\n-  *-*-linux*)  is_linux=yes  ;;\n-  *-*-rtems*)  is_rtems=yes  ;;\n+  *-*-darwin*) is_darwin=yes; GOOS=darwin ;;\n+  *-*-freebsd*) is_freebsd=yes; GOOS=freebsd ;;\n+  *-*-linux*)  is_linux=yes; GOOS=linux  ;;\n+  *-*-rtems*)  is_rtems=yes; GOOS=rtems  ;;\n esac\n  if test $is_darwin = yes; then\n   LIBGO_IS_DARWIN_TRUE=\n@@ -13229,22 +13232,35 @@ else\n fi\n \n \n+\n is_386=no\n is_x86_64=no\n is_arm=no\n+GOARCH=unknown\n case ${host} in\n-  i[34567]86-*-*)\n-    is_386=yes\n-    ;;\n-  x86_64-*-*)\n-    if test \"$with_multisubdir\" = \"32\"; then\n-      is_386=yes\n+  i[34567]86-*-* | x86_64-*-*)\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+\n+#ifdef __x86_64__\n+#error 64-bit\n+#endif\n+_ACEOF\n+if ac_fn_c_try_cpp \"$LINENO\"; then :\n+  is_386=yes\n+else\n+  is_x86_64=yes\n+fi\n+rm -f conftest.err conftest.$ac_ext\n+    if test \"$is_386\" = \"yes\"; then\n+      GOARCH=386\n     else\n-      is_x86_64=yes\n+      GOARCH=amd64\n     fi\n     ;;\n   arm*-*-* | strongarm*-*-* | ep9312*-*-* | xscale-*-*)\n     is_arm=yes\n+    GOARCH=arm\n     ;;\n esac\n  if test $is_386 = yes; then\n@@ -13272,6 +13288,7 @@ else\n fi\n \n \n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether -fsplit-stack is supported\" >&5\n $as_echo_n \"checking whether -fsplit-stack is supported... \" >&6; }\n if test \"${ac_cv_libgo_split_stack_supported+set}\" = set; then :"}, {"sha": "42e379d31d49d90094066df69003163f614b33cf", "filename": "libgo/configure.ac", "status": "modified", "additions": 18, "deletions": 11, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -116,40 +116,47 @@ is_darwin=no\n is_freebsd=no\n is_linux=no\n is_rtems=no\n+GOOS=unknown\n case ${host} in\n-  *-*-darwin*) is_darwin=yes ;;\n-  *-*-freebsd*) is_freebsd=yes ;;\n-  *-*-linux*)  is_linux=yes  ;;\n-  *-*-rtems*)  is_rtems=yes  ;;\n+  *-*-darwin*) is_darwin=yes; GOOS=darwin ;;\n+  *-*-freebsd*) is_freebsd=yes; GOOS=freebsd ;;\n+  *-*-linux*)  is_linux=yes; GOOS=linux  ;;\n+  *-*-rtems*)  is_rtems=yes; GOOS=rtems  ;;\n esac\n AM_CONDITIONAL(LIBGO_IS_DARWIN, test $is_darwin = yes)\n AM_CONDITIONAL(LIBGO_IS_FREEBSD, test $is_freebsd = yes)\n AM_CONDITIONAL(LIBGO_IS_LINUX, test $is_linux = yes)\n AM_CONDITIONAL(LIBGO_IS_RTEMS, test $is_rtems = yes)\n+AC_SUBST(GOOS)\n \n is_386=no\n is_x86_64=no\n is_arm=no\n+GOARCH=unknown\n case ${host} in\n changequote(,)dnl\n-  i[34567]86-*-*)\n+  i[34567]86-*-* | x86_64-*-*)\n changequote([,])dnl\n-    is_386=yes\n-    ;;\n-  x86_64-*-*)\n-    if test \"$with_multisubdir\" = \"32\"; then\n-      is_386=yes\n+    AC_PREPROC_IFELSE([\n+#ifdef __x86_64__\n+#error 64-bit\n+#endif],\n+[is_386=yes], [is_x86_64=yes])\n+    if test \"$is_386\" = \"yes\"; then\n+      GOARCH=386\n     else\n-      is_x86_64=yes\n+      GOARCH=amd64\n     fi\n     ;;\n   arm*-*-* | strongarm*-*-* | ep9312*-*-* | xscale-*-*)\n     is_arm=yes\n+    GOARCH=arm\n     ;;\n esac\n AM_CONDITIONAL(LIBGO_IS_386, test $is_386 = yes)\n AM_CONDITIONAL(LIBGO_IS_X86_64, test $is_x86_64 = yes)\n AM_CONDITIONAL(LIBGO_IS_ARM, test $is_arm = yes)\n+AC_SUBST(GOARCH)\n \n dnl Use -fsplit-stack when compiling C code if available.\n AC_CACHE_CHECK([whether -fsplit-stack is supported],"}, {"sha": "5311a63ba20cdb3dfc5dcee665c880e7ceb9c178", "filename": "libgo/go/debug/proc/proc_rtems.go", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fproc_rtems.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fproc_rtems.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fdebug%2Fproc%2Fproc_rtems.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2011 The Go Authors.  All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package proc\n+\n+import \"os\"\n+\n+// Process tracing is not supported on RTEMS yet.\n+\n+func Attach(pid int) (Process, os.Error) {\n+\treturn nil, os.NewError(\"debug/proc not implemented on RTEMS\")\n+}\n+\n+func ForkExec(argv0 string, argv []string, envv []string, dir string, fd []*os.File) (Process, os.Error) {\n+\treturn Attach(0)\n+}"}, {"sha": "3fc3e51cd79a89c9fdb4bb5b649357f3a32ad74c", "filename": "libgo/go/debug/proc/regs_rtems_386.go", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_386.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_386.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_386.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,5 @@\n+// Copyright 2011 The Go Authors.  All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package proc"}, {"sha": "3fc3e51cd79a89c9fdb4bb5b649357f3a32ad74c", "filename": "libgo/go/debug/proc/regs_rtems_amd64.go", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_amd64.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_amd64.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fdebug%2Fproc%2Fregs_rtems_amd64.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,5 @@\n+// Copyright 2011 The Go Authors.  All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package proc"}, {"sha": "aca9c7bf5ef4469e6839aaf07f9010aa92c8dfea", "filename": "libgo/syscalls/syscall_linux_386.go", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_linux_386.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_linux_386.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_linux_386.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -6,8 +6,6 @@\n \n package syscall\n \n-const ARCH = \"386\"\n-\n func (r *PtraceRegs) PC() uint64 {\n \treturn uint64(uint32(r.Eip));\n }"}, {"sha": "9932579cc10a93ef702bb53fb2df4525ff28e09f", "filename": "libgo/syscalls/syscall_linux_amd64.go", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_linux_amd64.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_linux_amd64.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_linux_amd64.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -6,8 +6,6 @@\n \n package syscall\n \n-const ARCH = \"amd64\"\n-\n func (r *PtraceRegs) PC() uint64 {\n \treturn r.Rip;\n }"}, {"sha": "7f0c11954431819c312fd69ea7bc1417053330ab", "filename": "libgo/syscalls/syscall_rtems.go", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_rtems.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,7 @@\n+// syscall_rtems.go -- RTEMS specific syscall interface.\n+\n+// Copyright 2011 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall"}, {"sha": "a09c5ac9cfa17abab68a149b4afbdf8079f14e27", "filename": "libgo/syscalls/syscall_rtems_386.go", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems_386.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems_386.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_rtems_386.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,7 @@\n+// syscall_rtems_386.go -- RTEMS 386 specific syscall interface.\n+\n+// Copyright 2011 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall"}, {"sha": "941ea236653ac9c3aa3a362d242acd5353a50b3d", "filename": "libgo/syscalls/syscall_rtems_amd64.go", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems_amd64.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Fsyscalls%2Fsyscall_rtems_amd64.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_rtems_amd64.go?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -0,0 +1,7 @@\n+// syscall_rtems_amd64.go -- RTEMS AMD64 specific syscall interface.\n+\n+// Copyright 2011 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall"}, {"sha": "6e957d3f87bf483f74ae280de07c58826f7fc3d0", "filename": "libgo/testsuite/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b5b97b64685cee2635d0dc61425a5add983a39/libgo%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Ftestsuite%2FMakefile.in?ref=c3b5b97b64685cee2635d0dc61425a5add983a39", "patch": "@@ -81,8 +81,10 @@ ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n EXEEXT = @EXEEXT@\n FGREP = @FGREP@\n+GOARCH = @GOARCH@\n GOC = @GOC@\n GOCFLAGS = @GOCFLAGS@\n+GOOS = @GOOS@\n GREP = @GREP@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@"}]}