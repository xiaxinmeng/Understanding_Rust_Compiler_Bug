{"sha": "d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDFkOTE5YzM2MmNlNmRkMWNjNzRlN2QyYzA5MTJlYTU4NmRjZmQ0YQ==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2009-06-12T20:39:39Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2009-06-12T20:39:39Z"}, "message": "re PR fortran/40176 (Fortran 2003: Procedure pointers with array return value)\n\n2009-06-12  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40176\n\t* resolve.c (resolve_symbol): Additional error check, preventing an\n\tinfinite loop.\n\n\n2009-06-12  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40176\n\t* gfortran.dg/proc_decl_1.f90: Extended.\n\nFrom-SVN: r148440", "tree": {"sha": "238f0e3995b1a5346fd18b34074feb97673a529d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/238f0e3995b1a5346fd18b34074feb97673a529d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3d8b2a98ca3c4d46030c839ad89ed7f3800a9fbf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d8b2a98ca3c4d46030c839ad89ed7f3800a9fbf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d8b2a98ca3c4d46030c839ad89ed7f3800a9fbf"}], "stats": {"total": 28, "additions": 25, "deletions": 3}, "files": [{"sha": "c9025f1a8d060ad0f022bbadd22beacd0a64feb5", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "patch": "@@ -1,3 +1,9 @@\n+2009-06-12  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40176\n+\t* resolve.c (resolve_symbol): Additional error check, preventing an\n+\tinfinite loop.\n+\n 2009-06-11  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/40402"}, {"sha": "fdde894c63900168b92cf8e8dd34ff7e2570dc61", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "patch": "@@ -9406,10 +9406,19 @@ resolve_symbol (gfc_symbol *sym)\n   if (sym->attr.procedure && sym->ts.interface\n       && sym->attr.if_source != IFSRC_DECL)\n     {\n+      if (sym->ts.interface == sym)\n+\t{\n+\t  gfc_error (\"PROCEDURE '%s' at %L may not be used as its own \"\n+\t\t     \"interface\", sym->name, &sym->declared_at);\n+\t  return;\n+\t}\n       if (sym->ts.interface->attr.procedure)\n-\tgfc_error (\"Interface '%s', used by procedure '%s' at %L, is declared \"\n-\t\t   \"in a later PROCEDURE statement\", sym->ts.interface->name,\n-\t\t   sym->name,&sym->declared_at);\n+\t{\n+\t  gfc_error (\"Interface '%s', used by procedure '%s' at %L, is declared\"\n+\t\t     \" in a later PROCEDURE statement\", sym->ts.interface->name,\n+\t\t     sym->name,&sym->declared_at);\n+\t  return;\n+\t}\n \n       /* Get the attributes from the interface (now resolved).  */\n       if (sym->ts.interface->attr.if_source"}, {"sha": "c7801d77376d746f16c543196d8a13cf16dd98bb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "patch": "@@ -1,3 +1,8 @@\n+2009-06-12  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40176\n+\t* gfortran.dg/proc_decl_1.f90: Extended.\n+\n 2009-06-12  Ian Lance Taylor  <iant@google.com>\n \n \t* gcc.dg/Wcxx-compat-13.c: New testcase."}, {"sha": "c7ec4f2f3fc8e376efbefecbd9704da1b3bcda6f", "filename": "gcc/testsuite/gfortran.dg/proc_decl_1.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_decl_1.f90?ref=d1d919c362ce6dd1cc74e7d2c0912ea586dcfd4a", "patch": "@@ -57,6 +57,8 @@ subroutine z2(a)\n   procedure ( ) :: r \n   procedure ( up ) :: s  ! { dg-error \"must be explicit\" }\n \n+  procedure(t) :: t  ! { dg-error \"may not be used as its own interface\" }\n+\n   call s\n \n contains"}]}