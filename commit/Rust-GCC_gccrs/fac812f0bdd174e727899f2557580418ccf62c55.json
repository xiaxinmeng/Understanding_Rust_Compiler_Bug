{"sha": "fac812f0bdd174e727899f2557580418ccf62c55", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFjODEyZjBiZGQxNzRlNzI3ODk5ZjI1NTc1ODA0MThjY2Y2MmM1NQ==", "commit": {"author": {"name": "Venkataramanan Kumar", "email": "venkataramanan.kumar@amd.com", "date": "2015-10-11T08:06:14Z"}, "committer": {"name": "Venkataramanan Kumar", "email": "vekumar@gcc.gnu.org", "date": "2015-10-11T08:06:14Z"}, "message": "Add bdver4 for multiversioning and fix AMD model detection.\n\n2015-10-09  Venkataramanan kumar <venkataramanan.kumar@amd.com>\n\n        * config/i386/cpuinfo.c (get_amd_cpu): Detect bdver4.\n        (__cpu_indicator_init): Fix model selection for AMD CPUs.\n\nFrom-SVN: r228691", "tree": {"sha": "0af173e8b0eae536903c5e77db9373525429d87b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0af173e8b0eae536903c5e77db9373525429d87b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fac812f0bdd174e727899f2557580418ccf62c55", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fac812f0bdd174e727899f2557580418ccf62c55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fac812f0bdd174e727899f2557580418ccf62c55", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fac812f0bdd174e727899f2557580418ccf62c55/comments", "author": null, "committer": null, "parents": [{"sha": "f7dfb654e7f51f14bc2480913fcae649b929219e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7dfb654e7f51f14bc2480913fcae649b929219e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7dfb654e7f51f14bc2480913fcae649b929219e"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "8676747211c4d447b011f4b6a17380f426761b38", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fac812f0bdd174e727899f2557580418ccf62c55/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fac812f0bdd174e727899f2557580418ccf62c55/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=fac812f0bdd174e727899f2557580418ccf62c55", "patch": "@@ -1,3 +1,8 @@\n+2015-10-09  Venkataramanan kumar <venkataramanan.kumar@amd.com>\n+\n+\t* config/i386/cpuinfo.c (get_amd_cpu): Detect bdver4.\n+\t(__cpu_indicator_init): Fix model selection for AMD CPUs.\n+\n 2015-10-05  Kirill Yukhin  <kirill.yukhin@intel.com>\n \n \t* config/i386/cpuinfo.c (get_intel_cpu): Detect \"skylake-avx512\"."}, {"sha": "1313ca3a704eefd66befd37ab65702cc5e3741e7", "filename": "libgcc/config/i386/cpuinfo.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fac812f0bdd174e727899f2557580418ccf62c55/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fac812f0bdd174e727899f2557580418ccf62c55/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fcpuinfo.c?ref=fac812f0bdd174e727899f2557580418ccf62c55", "patch": "@@ -169,6 +169,9 @@ get_amd_cpu (unsigned int family, unsigned int model)\n       /* Bulldozer version 3 \"Steamroller\"  */\n       if (model >= 0x30 && model <= 0x4f)\n \t__cpu_model.__cpu_subtype = AMDFAM15H_BDVER3;\n+      /* Bulldozer version 4 \"Excavator\"   */\n+      if (model >= 0x60 && model <= 0x7f)\n+\t__cpu_model.__cpu_subtype = AMDFAM15H_BDVER4;\n       break;\n     /* AMD Family 16h \"btver2\" */\n     case 0x16:\n@@ -455,7 +458,7 @@ __cpu_indicator_init (void)\n       if (family == 0x0f)\n \t{\n \t  family += extended_family;\n-\t  model += (extended_model << 4);\n+\t  model += extended_model;\n \t}\n \n       /* Get CPU type.  */"}]}