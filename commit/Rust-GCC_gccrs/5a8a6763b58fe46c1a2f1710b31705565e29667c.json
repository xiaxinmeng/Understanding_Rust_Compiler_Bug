{"sha": "5a8a6763b58fe46c1a2f1710b31705565e29667c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE4YTY3NjNiNThmZTQ2YzFhMmYxNzEwYjMxNzA1NTY1ZTI5NjY3Yw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2013-10-10T12:46:01Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-10-10T12:46:01Z"}, "message": "freeze.adb: Minor reformatting.\n\n2013-10-10  Robert Dewar  <dewar@adacore.com>\n\n\t* freeze.adb: Minor reformatting.\n\t* sem_ch13.adb (Freeze_Entity_Checks): New procedure\n\t(Analyze_Freeze_Entity): Call Freeze_Entity_Checks\n\t(Analyze_Freeze_Generic_Entity): Call Freeze_Entity_Checks.\n\t* sinfo.ads: Add syntax for sprint for Freeze_Generic_Entity.\n\t* sprint.ads: Add syntax for freeze generic entity node.\n\n2013-10-10  Robert Dewar  <dewar@adacore.com>\n\n\t* einfo.adb, einfo.ads: Minor comment updates.\n\nFrom-SVN: r203368", "tree": {"sha": "30a07f379277d92f57cb97125b0fde8b9a362e6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30a07f379277d92f57cb97125b0fde8b9a362e6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a8a6763b58fe46c1a2f1710b31705565e29667c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a8a6763b58fe46c1a2f1710b31705565e29667c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a8a6763b58fe46c1a2f1710b31705565e29667c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a8a6763b58fe46c1a2f1710b31705565e29667c/comments", "author": null, "committer": null, "parents": [{"sha": "3cd4a210696acc25b7bc0e338200edaf51112b88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cd4a210696acc25b7bc0e338200edaf51112b88", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cd4a210696acc25b7bc0e338200edaf51112b88"}], "stats": {"total": 4593, "additions": 2320, "deletions": 2273}, "files": [{"sha": "179607dd3475fa0184fca1645f8a657640a98b99", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -1,3 +1,16 @@\n+2013-10-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* freeze.adb: Minor reformatting.\n+\t* sem_ch13.adb (Freeze_Entity_Checks): New procedure\n+\t(Analyze_Freeze_Entity): Call Freeze_Entity_Checks\n+\t(Analyze_Freeze_Generic_Entity): Call Freeze_Entity_Checks.\n+\t* sinfo.ads: Add syntax for sprint for Freeze_Generic_Entity.\n+\t* sprint.ads: Add syntax for freeze generic entity node.\n+\n+2013-10-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* einfo.adb, einfo.ads: Minor comment updates.\n+\n 2013-10-10  Robert Dewar  <dewar@adacore.com>\n \n \t* lib-writ.adb (Write_Unit_Information): Fatal error if linker"}, {"sha": "f467144a3d0975c24e73cdd35c2b69d1484aa0e7", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -9017,10 +9017,6 @@ package body Einfo is\n               Generic_Subprogram_Kind                      =>\n             Write_Str (\"Contract\");\n \n-            --  The Subprogram_Kind and Generic_Subrpogram_Kind entries\n-            --  here are odd, since the assertions for [Set_]Contract do not\n-            --  allow these possibilities ???\n-\n          when others                                       =>\n             Write_Str (\"Field24???\");\n       end case;"}, {"sha": "02626f572d1dd40cf523902798a53b7a6564c176", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -1022,9 +1022,9 @@ package Einfo is\n --       'COUNT when it applies to a family member.\n \n --    Contract (Node24)\n---       Defined in entries, and in subprogram and generic subprogram entities.\n---       Points to the contract of the entity, holding both pre- and\n---       postconditions as well as test-cases.\n+--       Defined in entry and entry family entities, subprogram body entities,\n+--       subprograms, and generic subprograms. Points to the contract of the\n+--       entity, holding both preconditions, postconditions, and test cases.\n \n --    Entry_Parameters_Type (Node15)\n --       Defined in entries. Points to the access-to-record type that is\n@@ -5306,7 +5306,7 @@ package Einfo is\n    --    Accept_Address                      (Elist21)\n    --    Scope_Depth_Value                   (Uint22)\n    --    Protection_Object                   (Node23)   (protected kind)\n-   --    Contract                            (Node24)   (for entry only)\n+   --    Contract                            (Node24)\n    --    PPC_Wrapper                         (Node25)\n    --    Extra_Formals                       (Node28)\n    --    Default_Expressions_Processed       (Flag108)\n@@ -5567,6 +5567,7 @@ package Einfo is\n    --    Alias                               (Node18)\n    --    Extra_Accessibility_Of_Result       (Node19)\n    --    Last_Entity                         (Node20)\n+   --    Contract                            (Node24)\n    --    Overridden_Operation                (Node26)\n    --    Subprograms_For_Type                (Node29)\n    --    Has_Invariants                      (Flag232)\n@@ -5863,6 +5864,7 @@ package Einfo is\n    --    Corresponding_Protected_Entry       (Node18)\n    --    Last_Entity                         (Node20)\n    --    Scope_Depth_Value                   (Uint22)\n+   --    Contract                            (Node24)\n    --    Extra_Formals                       (Node28)\n    --    SPARK_Mode_Pragmas                  (Node32)\n    --    Scope_Depth                         (synth)"}, {"sha": "67f203de5591211077185cdaaac866d783e75282", "filename": "gcc/ada/freeze.adb", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Ffreeze.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Ffreeze.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.adb?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -1953,8 +1953,8 @@ package body Freeze is\n       -----------------------------\n \n       function Freeze_Generic_Entities (Pack : Entity_Id) return List_Id is\n-         E : Entity_Id;\n-         F : Node_Id;\n+         E     : Entity_Id;\n+         F     : Node_Id;\n          Flist : List_Id;\n \n       begin\n@@ -2793,6 +2793,12 @@ package body Freeze is\n       then\n          return No_List;\n \n+      --  Generic types need no freeze node and have no delayed semantic\n+      --  checks.\n+\n+      elsif Is_Generic_Type (E) then\n+         return No_List;\n+\n       --  Do not freeze a global entity within an inner scope created during\n       --  expansion. A call to subprogram E within some internal procedure\n       --  (a stream attribute for example) might require freezing E, but the"}, {"sha": "d96c5bc8c5e596e8649338d0998d32189b948c64", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 2289, "deletions": 2262, "changes": 4551, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c"}, {"sha": "6bf34efc69c5637f2083186bdde15284c0b536d7", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -7336,6 +7336,8 @@ package Sinfo is\n       --  trigger these checks. The Freeze_Generic_Entity node plays no other\n       --  role, and is ignored by the expander and the back-end.\n \n+      --  Sprint syntax: freeze_generic entity-name\n+\n       --  N_Freeze_Generic_Entity\n       --  Sloc points near freeze point\n       --  Entity (Node4-Sem)"}, {"sha": "72fde2f23eb7ea65e9ce562e4c303825833d22a2", "filename": "gcc/ada/sprint.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsprint.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a8a6763b58fe46c1a2f1710b31705565e29667c/gcc%2Fada%2Fsprint.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsprint.ads?ref=5a8a6763b58fe46c1a2f1710b31705565e29667c", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2012, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2013, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -57,6 +57,7 @@ package Sprint is\n    --    Expression with range check         {expression}\n    --    Free statement                      free expr [storage_pool = xxx]\n    --    Freeze entity with freeze actions   freeze entityname [ actions ]\n+   --    Freeze generic entity               freeze_generic entityname\n    --    Implicit call to run time routine   $routine-name\n    --    Implicit exportation                $pragma import (...)\n    --    Implicit importation                $pragma export (...)"}]}