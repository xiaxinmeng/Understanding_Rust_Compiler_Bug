{"sha": "03af6e448f1f0893f4a0470e39186ecb4720f238", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNhZjZlNDQ4ZjFmMDg5M2Y0YTA0NzBlMzkxODZlY2I0NzIwZjIzOA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain.sandoe@sandoe-acoustics.co.uk", "date": "2010-03-31T15:50:45Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2010-03-31T15:50:45Z"}, "message": "re PR objc/35165 (Massive failures of objc on i686-apple-darwin9)\n\n2010-03-31  Iain Sandoe  <iain.sandoe@sandoe-acoustics.co.uk>\n\n\tPR testsuite/35165\n\t* obj-c++.dg/try-catch-9.mm: Don't XFAIL m32 NeXT runtime.\n\t* obj-c++.dg/try-catch-2.mm: Ditto.\n\t* obj-c++.dg/lookup-2.mm: Ditto.\n\t* obj-c++.dg/encode-8.m: Ditto.\n\t* obj-c++.dg/cxx-ivars-2.mm: Ditto.\n\t* obj-c++.dg/cxx-ivars-3.mm: Skip for GNU, XFail for m64 NeXT.\n\t* obj-c++.dg/const-str-10.mm: Skip for GNU, match .quad for m64 NeXT.\n\t* obj-c++.dg/const-str-11.mm: Ditto.\n\t* obj-c++.dg/const-str-9.mm: Ditto.\n\t* obj-c++.dg/bitfield-3.mm: Skip for GNU runtime.\n\t* obj-c++.dg/bitfield-2.mm: XFAIL run for m64 NeXT runtime.\n\t* obj-c++.dg/except-1.mm: Ditto.\n\t* obj-c++.dg/const-str-7.mm: Ditto.\n\t* obj-c++.dg/cxx-ivars-1.mm: Ditto.\n\t* obj-c++.dg/const-str-3.mm: Ditto.\n\t* obj-c++.dg/const-str-7.mm: Ditto.\n\t* obj-c++.dg/stubify-2.mm: Change dump file name.\n\nFrom-SVN: r157873", "tree": {"sha": "e8b84acdd2807e8a8086bf3ffdd6fa9249d7fdc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e8b84acdd2807e8a8086bf3ffdd6fa9249d7fdc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03af6e448f1f0893f4a0470e39186ecb4720f238", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03af6e448f1f0893f4a0470e39186ecb4720f238", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03af6e448f1f0893f4a0470e39186ecb4720f238", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03af6e448f1f0893f4a0470e39186ecb4720f238/comments", "author": null, "committer": null, "parents": [{"sha": "2981f2063fdee297f8269c087e503f778b16a4bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2981f2063fdee297f8269c087e503f778b16a4bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2981f2063fdee297f8269c087e503f778b16a4bd"}], "stats": {"total": 62, "additions": 47, "deletions": 15}, "files": [{"sha": "2f883fcb50d8453b8ee706d58414f7fc07993241", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,5 +1,24 @@\n 2010-03-31  Iain Sandoe  <iain.sandoe@sandoe-acoustics.co.uk>\n \n+\tPR testsuite/35165\n+\t* obj-c++.dg/try-catch-9.mm: Don't XFAIL m32 NeXT runtime.\n+\t* obj-c++.dg/try-catch-2.mm: Ditto.\n+\t* obj-c++.dg/lookup-2.mm: Ditto.\n+\t* obj-c++.dg/encode-8.m: Ditto.\n+\t* obj-c++.dg/cxx-ivars-2.mm: Ditto.\n+\t* obj-c++.dg/cxx-ivars-3.mm: Skip for GNU, XFail for m64 NeXT.\n+\t* obj-c++.dg/const-str-10.mm: Skip for GNU, match .quad for m64 NeXT.\n+\t* obj-c++.dg/const-str-11.mm: Ditto.\n+\t* obj-c++.dg/const-str-9.mm: Ditto.\n+\t* obj-c++.dg/bitfield-3.mm: Skip for GNU runtime.\n+\t* obj-c++.dg/bitfield-2.mm: XFAIL run for m64 NeXT runtime.\n+\t* obj-c++.dg/except-1.mm: Ditto.\n+\t* obj-c++.dg/const-str-7.mm: Ditto.\n+\t* obj-c++.dg/cxx-ivars-1.mm: Ditto.\n+\t* obj-c++.dg/const-str-3.mm: Ditto.\n+\t* obj-c++.dg/const-str-7.mm: Ditto.\n+\t* obj-c++.dg/stubify-2.mm: Change dump file name.\n+\n \tPR objc++/23613\n \t* gcc/testsuite/objc-obj-c++-shared/next-mapping.h (CLASSPTRFIELD):\n \tNew macro."}, {"sha": "f384f24dd5ac15605842e2a7a4343a90e64cd4ab", "filename": "gcc/testsuite/obj-c++.dg/bitfield-2.mm", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-2.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-2.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-2.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -2,6 +2,7 @@\n    being \"promoted\" to ints).  */\n /* Contributed by Ziemowit Laski <zlaski@apple.com>.  */\n /* { dg-do run } */\n+/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n \n #include \"../objc-obj-c++-shared/Object1.h\"\n #include <stdlib.h>"}, {"sha": "d81976ab6244f8df927fb1497991fdc9f9d7515e", "filename": "gcc/testsuite/obj-c++.dg/bitfield-3.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-3.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-3.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fbitfield-3.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,8 +1,9 @@\n /* Check if bitfield ivars are correctly @encode'd when\n    the NeXT runtime is used.  */\n /* Contributed by Ziemowit Laski <zlaski@apple.com>.  */\n-/* { dg-options \"-fsigned-char\" } */\n /* { dg-do run { target *-*-darwin* } } */\n+/* { dg-skip-if \"\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } } */\n+/* { dg-options \"-fsigned-char\" } */\n \n typedef struct objc_object { struct objc_class *class_pointer; } *id;\n "}, {"sha": "693b6be6e846c96fbee62cc04897d4abf9ef2c88", "filename": "gcc/testsuite/obj-c++.dg/const-str-10.mm", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-10.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-10.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-10.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -2,7 +2,7 @@\n    constant string classes get derived.  */\n /* Contributed by Ziemowit Laski <zlaski@apple.com>  */\n \n-/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-do compile } */\n /* { dg-skip-if \"\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } } */\n \n #include \"../objc-obj-c++-shared/Object1.h\"\n@@ -29,4 +29,5 @@ @interface NSConstantString : NSSimpleCString\n const NSConstantString *appKey = @\"MyApp\";\n \n /* { dg-final { scan-assembler \".section __OBJC, __cstring_object\" } } */\n-/* { dg-final { scan-assembler \".long\\t__NSConstantStringClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\" } } */\n+/* { dg-final { scan-assembler \".long\\t__NSConstantStringClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\" { target { *-*-darwin* && { ! lp64 } } } } } */\n+/* { dg-final { scan-assembler \".quad\\t__NSConstantStringClassReference\\n\\t.quad\\t.*\\n\\t.long\\t5\\n\\t.space 4\\n\\t.data\" { target { *-*-darwin* && { lp64 } } } } } */"}, {"sha": "ea9371091b8cf195541203fe80d19475936a359e", "filename": "gcc/testsuite/obj-c++.dg/const-str-11.mm", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-11.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-11.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-11.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -2,7 +2,7 @@\n    constant string classes get derived.  */\n /* Contributed by Ziemowit Laski <zlaski@apple.com>  */\n \n-/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-do compile } */\n /* { dg-skip-if \"\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } } */\n /* { dg-options \"-fconstant-string-class=XStr\" } */\n \n@@ -29,4 +29,5 @@ @interface XStr : XString {\n const XStr *appKey = @\"MyApp\";\n \n /* { dg-final { scan-assembler \".section __OBJC, __cstring_object\" } } */\n-/* { dg-final { scan-assembler \".long\\t__XStrClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\" } } */\n+/* { dg-final { scan-assembler \".long\\t__XStrClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\" { target { *-*-darwin* && { ! lp64 } } } } } */\n+/* { dg-final { scan-assembler \".quad\\t__XStrClassReference\\n\\t.quad\\t.*\\n\\t.long\\t5\\n\\t.space 4\\n\\t.data\" { target { *-*-darwin* && { lp64 } } } } } */"}, {"sha": "5ea8e229fbef84b0b04ba82a8e94fc0cef3d3482", "filename": "gcc/testsuite/obj-c++.dg/const-str-3.mm", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-3.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-3.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-3.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -4,6 +4,7 @@\n \n /* { dg-options \"-fconstant-string-class=Foo\" } */\n /* { dg-do run { target *-*-darwin* } } */\n+/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n \n #import \"../objc-obj-c++-shared/Object1.h\"\n #import \"../objc-obj-c++-shared/next-mapping.h\""}, {"sha": "755b0452be20a3cefe2678f67191825c91ccef04", "filename": "gcc/testsuite/obj-c++.dg/const-str-7.mm", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-7.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-7.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-7.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -4,6 +4,7 @@\n \n /* { dg-options \"-fconstant-string-class=Foo\" } */\n /* { dg-do run } */\n+/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n \n #include \"../objc-obj-c++-shared/Object1.h\"\n #include \"../objc-obj-c++-shared/next-mapping.h\""}, {"sha": "bca916a1609c1edcc2ac39c2928f6334e2110fd3", "filename": "gcc/testsuite/obj-c++.dg/const-str-9.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-9.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-9.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fconst-str-9.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -21,4 +21,5 @@ @interface NSConstantString: Object {\n const NSConstantString *appKey = @\"MyApp\";\n \n /* { dg-final { scan-assembler \".section __OBJC, __cstring_object\" } } */\n-/* { dg-final { scan-assembler \".long\\t__NSConstantStringClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\" } } */\n+/* { dg-final { scan-assembler \".long\\t__NSConstantStringClassReference\\n\\t.long\\t.*\\n\\t.long\\t5\\n\\t.data\"  { target { *-*-darwin* && { ! lp64 } } }} } */\n+/* { dg-final { scan-assembler \".quad\\t__NSConstantStringClassReference\\n\\t.quad\\t.*\\n\\t.long\\t5\\n\\t.space 4\\n\\t.data\" { target { *-*-darwin* && { lp64 } } } } } */"}, {"sha": "6e0c3fded4b0349e3114a242321843cee57583d5", "filename": "gcc/testsuite/obj-c++.dg/cxx-ivars-1.mm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-1.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-1.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-1.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,7 +1,7 @@\n // Check if ivars may be accessed via the C++ dot notation.\n-\n // { dg-do run }\n // { dg-options \"-fno-objc-call-cxx-cdtors\" }\n+// { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } \n \n #include \"../objc-obj-c++-shared/Object1.h\"\n #include <stdlib.h>"}, {"sha": "a85f4e5b00cf6132cef9becd2222f563d695e9f3", "filename": "gcc/testsuite/obj-c++.dg/cxx-ivars-2.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-2.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-2.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-2.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,7 +1,8 @@\n // Check if the '- .cxx_construct' and '-.cxx_destruct' methods get called\n // and if they perform their desired function.\n \n-// { dg-do run { xfail { \"*-*-*\" } } } PR27247/PR23681\n+// { dg-xfail-run-if \"PR27247/PR23681\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } }\n+// { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } }\n // { dg-options \"-fobjc-call-cxx-cdtors\" }\n \n #include \"../objc-obj-c++-shared/Object1.h\""}, {"sha": "a3c4b0c492a8cbcf35cdf0ea6d36376862782e69", "filename": "gcc/testsuite/obj-c++.dg/cxx-ivars-3.mm", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-3.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-3.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fcxx-ivars-3.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,9 +1,10 @@\n // Check if ObjC classes with non-POD C++ ivars are specially marked in the metadata.\n \n // { dg-do run { target *-*-darwin* } }\n-// { dg-options \"-fobjc-call-cxx-cdtors\" }\n // { dg-skip-if \"\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } } \n-/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n+// { dg-options \"-fobjc-call-cxx-cdtors\" }\n+// { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } }\n+\n #include \"../objc-obj-c++-shared/Object1.h\"\n #include \"../objc-obj-c++-shared/next-mapping.h\"\n "}, {"sha": "2d5734ebee18350fe67506615d12d1764bfea38a", "filename": "gcc/testsuite/obj-c++.dg/encode-8.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fencode-8.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fencode-8.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fencode-8.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -2,7 +2,8 @@\n    'BOOL *' (which should be encoded as '^c') and 'char *' (which\n    should be encoded as '*').  */\n /* Contributed by Ziemowit Laski <zlaski@apple.com>.  */\n-/* { dg-do run { xfail { \"*-*-*\" } } } PR27249 */\n+/* { dg-xfail-run-if \"PR27249\" { *-*-* } { \"-fgnu-runtime\" } { \"\" } } */\n+/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n \n #include <string.h>           \n #include <stdlib.h>"}, {"sha": "b835dc73ee0bd494833358bc66a93f56d29d6af8", "filename": "gcc/testsuite/obj-c++.dg/except-1.mm", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fexcept-1.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fexcept-1.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fexcept-1.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do run } */\n+/* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n \n /* This tests that exceptions work.  It used to fail because\n    objc_msgSend was marked with DECL_NOTHROW. "}, {"sha": "4d56cf25c14cc4bcd68af753161ffb90f7005108", "filename": "gcc/testsuite/obj-c++.dg/lookup-2.mm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flookup-2.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flookup-2.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Flookup-2.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run } */\n-/* { dg-xfail-if \"PR23614\" { \"*-*-*\" } { \"*\" } { \"\" } } */\n+/* { dg-xfail-if \"PR23614\" { \"*-*-*\" } { \"*\" } { \"-fnext-runtime\" } } */\n /* { dg-xfail-run-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } */\n #include \"../objc-obj-c++-shared/Object1.h\"\n #include <stdlib.h>"}, {"sha": "9db573e8afae8489e77cb4ed3c01fff45dc9a62a", "filename": "gcc/testsuite/obj-c++.dg/stubify-2.mm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fstubify-2.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fstubify-2.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Fstubify-2.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -28,4 +28,4 @@ - (void)willEndCloseSheet:(void *)sheet returnCode:(int)returnCode contextInfo:(\n \n /* Any symbol_ref of an un-stubified objc_msgSend is an error; look\n    for \"objc_msgSend\" in quotes, without the $stub suffix.  */\n-/* { dg-final { scan-file-not stubify-2.mm.08.jump \"symbol_ref.*\\\"objc_msgSend\\\"\" } } */\n+/* { dg-final { scan-file-not stubify-2.mm.147r.jump \"symbol_ref.*\\\"objc_msgSend\\\"\" } } */"}, {"sha": "d85284b9aaed3519b13c04706ae0df2a834a6cfb", "filename": "gcc/testsuite/obj-c++.dg/try-catch-2.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-2.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-2.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-2.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -3,7 +3,8 @@\n /* Developed by Ziemowit Laski <zlaski@apple.com>.  */\n \n /* { dg-do run } */\n-/* { dg-xfail-if \"PR23616\" { \"*-*-*\" } { \"*\" } { \"\" } } */\n+/* { dg-xfail-if \"PR23616\" { \"*-*-*\" } { \"*\" } { \"-fnext-runtime\" } } */\n+/* { dg-xfail-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } \n /* { dg-options \"-fobjc-exceptions\" } */\n \n #include \"../objc-obj-c++-shared/Object1.h\""}, {"sha": "21b7dd5476abed85beaabc83e4d25de58d858d54", "filename": "gcc/testsuite/obj-c++.dg/try-catch-9.mm", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-9.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03af6e448f1f0893f4a0470e39186ecb4720f238/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-9.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftry-catch-9.mm?ref=03af6e448f1f0893f4a0470e39186ecb4720f238", "patch": "@@ -3,7 +3,8 @@\n /* Developed by Ziemowit Laski <zlaski@apple.com>.  */\n \n /* { dg-do run } */\n-/* { dg-xfail-if \"PR23616\" { *-*-* } { \"*\" } { \"\" } } */\n+/* { dg-xfail-if \"PR23616\" { *-*-* } { \"*\" } { \"-fnext-runtime\" } } */\n+/* { dg-xfail-if \"Needs OBJC2 ABI\" { *-*-darwin* && { lp64 && { ! objc2 } } } { \"-fnext-runtime\" } { \"\" } } \n /* { dg-prune-output \".*internal compiler error.*\" } */\n /* { dg-options \"-fobjc-exceptions -O2\" } */\n "}]}