{"sha": "2a66ec2b80cb3c613d567f734d523d2671fe74cd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE2NmVjMmI4MGNiM2M2MTNkNTY3ZjczNGQ1MjNkMjY3MWZlNzRjZA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-02-04T01:29:33Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-02-04T01:29:33Z"}, "message": "expr.c (cplus_expand_expr, [...]): Call convert_from_reference sooner.\n\n\t* expr.c (cplus_expand_expr, PCC_STATIC_STRUCT_RETURN code):\n\tCall convert_from_reference sooner.\n\nFrom-SVN: r17659", "tree": {"sha": "ca9881720c3140ebaab62c44b0168a87168c80ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca9881720c3140ebaab62c44b0168a87168c80ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a66ec2b80cb3c613d567f734d523d2671fe74cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a66ec2b80cb3c613d567f734d523d2671fe74cd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a66ec2b80cb3c613d567f734d523d2671fe74cd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a66ec2b80cb3c613d567f734d523d2671fe74cd/comments", "author": null, "committer": null, "parents": [{"sha": "82bf778342ec221fdaf525e0841682d99d1ad529", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82bf778342ec221fdaf525e0841682d99d1ad529", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82bf778342ec221fdaf525e0841682d99d1ad529"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "fd58776fe611fd0fb6b958d864ca256fd31b3856", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a66ec2b80cb3c613d567f734d523d2671fe74cd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a66ec2b80cb3c613d567f734d523d2671fe74cd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=2a66ec2b80cb3c613d567f734d523d2671fe74cd", "patch": "@@ -1,3 +1,8 @@\n+Wed Feb  4 01:26:49 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* expr.c (cplus_expand_expr, PCC_STATIC_STRUCT_RETURN code):\n+\tCall convert_from_reference sooner.\n+\n Tue Feb  3 23:50:52 1998  Mark Mitchell  <mmitchell@usa.net>\n \n \t* cvt.c (ocp_convert): Obtain the constant values from constant"}, {"sha": "47d50e9ababcfdba47d45217038cee1be7624aa9", "filename": "gcc/cp/expr.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a66ec2b80cb3c613d567f734d523d2671fe74cd/gcc%2Fcp%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a66ec2b80cb3c613d567f734d523d2671fe74cd/gcc%2Fcp%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexpr.c?ref=2a66ec2b80cb3c613d567f734d523d2671fe74cd", "patch": "@@ -140,14 +140,15 @@ cplus_expand_expr (exp, target, tmode, modifier)\n \t    tree init = build_decl (VAR_DECL, NULL_TREE,\n \t\t\t\t    build_reference_type (type));\n \t    DECL_RTL (init) = XEXP (return_target, 0);\n+\t    init = convert_from_reference (init);\n \n \t    flag_access_control = 0;\n \t    expand_aggr_init (slot, init, 0, LOOKUP_ONLYCONVERTING);\n \t    flag_access_control = old_ac;\n \n \t    if (TYPE_NEEDS_DESTRUCTOR (type))\n \t      {\n-\t\tinit = maybe_build_cleanup (convert_from_reference (init));\n+\t\tinit = maybe_build_cleanup (init);\n \t\tif (init != NULL_TREE)\n \t\t  expand_expr (init, const0_rtx, VOIDmode, 0);\n \t      }"}]}