{"sha": "4e6ad4226d5396500324f8635b116afa777ad6ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU2YWQ0MjI2ZDUzOTY1MDAzMjRmODYzNWIxMTZhZmE3NzdhZDZlYw==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2011-02-04T05:51:57Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2011-02-04T05:51:57Z"}, "message": "Fix PR java/21206: Unrecognized option '-Wl,-rpath' for jv-convert\n\nlibjava/:\n\tPR java/21206\n\t* configure.ac (LDLIBICONV): New substituted variable, with\n\tinstances of '-Wl,' removed from LIBICONV.\n\t* configure: Regenerate.\n\t* libgcj.spec.in: Use @LDLIBICONV@ not @LIBICONV@.\n\t* Makefile.in: Regenerate.\n\t* gcj/Makefile.in: Likewise.\n\t* include/Makefile.in: Likewise.\n\t* testsuite/Makefile.in: Likewise.\n\nFrom-SVN: r169822", "tree": {"sha": "61da8504716f32fbcb8d9fc8e45aabf76d5d8eda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61da8504716f32fbcb8d9fc8e45aabf76d5d8eda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e6ad4226d5396500324f8635b116afa777ad6ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e6ad4226d5396500324f8635b116afa777ad6ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e6ad4226d5396500324f8635b116afa777ad6ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e6ad4226d5396500324f8635b116afa777ad6ec/comments", "author": null, "committer": null, "parents": [{"sha": "084996f1d1d1f155146370692339e52d895f6c41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/084996f1d1d1f155146370692339e52d895f6c41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/084996f1d1d1f155146370692339e52d895f6c41"}], "stats": {"total": 29, "additions": 25, "deletions": 4}, "files": [{"sha": "fd297fd4b9bf12d1b09efae1aec50cd38865bbf5", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -1,3 +1,15 @@\n+2011-02-04  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR java/21206\n+\t* configure.ac (LDLIBICONV): New substituted variable, with\n+\tinstances of '-Wl,' removed from LIBICONV.\n+\t* configure: Regenerate.\n+\t* libgcj.spec.in: Use @LDLIBICONV@ not @LIBICONV@.\n+\t* Makefile.in: Regenerate.\n+\t* gcj/Makefile.in: Likewise.\n+\t* include/Makefile.in: Likewise.\n+\t* testsuite/Makefile.in: Likewise.\n+\n 2011-02-02  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac: Don't use libdl on mips-sgi-irix6*."}, {"sha": "bf5ab9dcda6e92db3f693dfc7e971f52dd3cef54", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -592,6 +592,7 @@ JVM_JAR_ROOT_DIR = @JVM_JAR_ROOT_DIR@\n JVM_ROOT_DIR = @JVM_ROOT_DIR@\n LD = @LD@\n LDFLAGS = @LDFLAGS@\n+LDLIBICONV = @LDLIBICONV@\n LD_FINISH_STATIC_SPEC = @LD_FINISH_STATIC_SPEC@\n LD_START_STATIC_SPEC = @LD_START_STATIC_SPEC@\n LIBART_CFLAGS = @LIBART_CFLAGS@"}, {"sha": "481210d380ae60631510378cf1e112dec8394e84", "filename": "libjava/configure", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -674,6 +674,7 @@ GLIB_CFLAGS\n GTK_LIBS\n GTK_CFLAGS\n PKG_CONFIG\n+LDLIBICONV\n LTLIBICONV\n LIBICONV\n USING_GCC_FALSE\n@@ -13355,7 +13356,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 13358 \"configure\"\n+#line 13359 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -13461,7 +13462,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 13464 \"configure\"\n+#line 13465 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -19462,7 +19463,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then :\n   enableval=$enable_sjlj_exceptions; :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 19465 \"configure\"\n+#line 19466 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -21993,6 +21994,8 @@ $as_echo \"#define HAVE_TZNAME 1\" >>confdefs.h\n   fi\n fi\n \n+   LDLIBICONV=`echo \" $LIBICONV \" | sed \"s/${acl_cv_wl--Wl,}/ /g; s/,/ /g\"`\n+\n \n    for ac_func in gethostbyname_r\n do :"}, {"sha": "a45cfc967d4706aac04091ab510e9b74b2344b0a", "filename": "libjava/configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -1240,6 +1240,8 @@ else\n    AM_ICONV\n    AM_LC_MESSAGES\n    AC_STRUCT_TIMEZONE\n+   LDLIBICONV=`echo \" $LIBICONV \" | sed \"s/${acl_cv_wl--Wl,}/ /g; s/,/ /g\"`\n+   AC_SUBST([LDLIBICONV])\n \n    AC_CHECK_FUNCS(gethostbyname_r, [\n      AC_DEFINE(HAVE_GETHOSTBYNAME_R, 1,"}, {"sha": "626bfb3af627bea7cacfa6315a1f57114eaa3369", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -175,6 +175,7 @@ JVM_JAR_ROOT_DIR = @JVM_JAR_ROOT_DIR@\n JVM_ROOT_DIR = @JVM_ROOT_DIR@\n LD = @LD@\n LDFLAGS = @LDFLAGS@\n+LDLIBICONV = @LDLIBICONV@\n LD_FINISH_STATIC_SPEC = @LD_FINISH_STATIC_SPEC@\n LD_START_STATIC_SPEC = @LD_START_STATIC_SPEC@\n LIBART_CFLAGS = @LIBART_CFLAGS@"}, {"sha": "1796971d146c90331e2050c8af84a4c185835907", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -176,6 +176,7 @@ JVM_JAR_ROOT_DIR = @JVM_JAR_ROOT_DIR@\n JVM_ROOT_DIR = @JVM_ROOT_DIR@\n LD = @LD@\n LDFLAGS = @LDFLAGS@\n+LDLIBICONV = @LDLIBICONV@\n LD_FINISH_STATIC_SPEC = @LD_FINISH_STATIC_SPEC@\n LD_START_STATIC_SPEC = @LD_START_STATIC_SPEC@\n LIBART_CFLAGS = @LIBART_CFLAGS@"}, {"sha": "22eec3dbc795e0af61c33c8d1134eecd3a4a4e7a", "filename": "libjava/libgcj.spec.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Flibgcj.spec.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Flibgcj.spec.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibgcj.spec.in?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -7,6 +7,6 @@\n *startfile: @THREADSTARTFILESPEC@ %(startfileorig)\n \n %rename lib liborig\n-*lib: @LD_START_STATIC_SPEC@ @LIBGCJ_SPEC@ @LD_FINISH_STATIC_SPEC@ @LIBMATHSPEC@ @LIBICONV@ @GCSPEC@ @THREADSPEC@ @ZLIBSPEC@ @SYSTEMSPEC@ %(libgcc) @LIBSTDCXXSPEC@ %(liborig)\n+*lib: @LD_START_STATIC_SPEC@ @LIBGCJ_SPEC@ @LD_FINISH_STATIC_SPEC@ @LIBMATHSPEC@ @LDLIBICONV@ @GCSPEC@ @THREADSPEC@ @ZLIBSPEC@ @SYSTEMSPEC@ %(libgcc) @LIBSTDCXXSPEC@ %(liborig)\n \n *jc1: @HASH_SYNC_SPEC@ @DIVIDESPEC@ @CHECKREFSPEC@ @JC1GCSPEC@ @EXCEPTIONSPEC@ @BACKTRACESPEC@ @IEEESPEC@ @ATOMICSPEC@ @LIBGCJ_BC_SPEC@ -fkeep-inline-functions"}, {"sha": "4af89562341ee397e7ce0f6b6c6fc8e4bec45db4", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e6ad4226d5396500324f8635b116afa777ad6ec/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=4e6ad4226d5396500324f8635b116afa777ad6ec", "patch": "@@ -151,6 +151,7 @@ JVM_JAR_ROOT_DIR = @JVM_JAR_ROOT_DIR@\n JVM_ROOT_DIR = @JVM_ROOT_DIR@\n LD = @LD@\n LDFLAGS = @LDFLAGS@\n+LDLIBICONV = @LDLIBICONV@\n LD_FINISH_STATIC_SPEC = @LD_FINISH_STATIC_SPEC@\n LD_START_STATIC_SPEC = @LD_START_STATIC_SPEC@\n LIBART_CFLAGS = @LIBART_CFLAGS@"}]}