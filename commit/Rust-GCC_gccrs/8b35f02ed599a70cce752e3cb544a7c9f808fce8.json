{"sha": "8b35f02ed599a70cce752e3cb544a7c9f808fce8", "node_id": "C_kwDOANBUbNoAKDhiMzVmMDJlZDU5OWE3MGNjZTc1MmUzY2I1NDRhN2M5ZjgwOGZjZTg", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-01-11T17:47:17Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-01-11T18:36:36Z"}, "message": "libstdc++: Install <source_location> header for freestanding [PR103726]\n\nThis C++20 header is also supposed to be present for freestanding.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/103726\n\t* include/Makefile.am: Install <source_location> for\n\tfreestanding.\n\t* include/Makefile.in: Regenerate.\n\t* include/std/version (__cpp_lib_source_location): Define for\n\tfreestanding.", "tree": {"sha": "66ab99f70f0542c3ad46536c0cbceebc3cb35377", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66ab99f70f0542c3ad46536c0cbceebc3cb35377"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b35f02ed599a70cce752e3cb544a7c9f808fce8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b35f02ed599a70cce752e3cb544a7c9f808fce8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b35f02ed599a70cce752e3cb544a7c9f808fce8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b35f02ed599a70cce752e3cb544a7c9f808fce8/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "820ac79e8448ad6c631e1387ba51a93dcf2b4e89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/820ac79e8448ad6c631e1387ba51a93dcf2b4e89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/820ac79e8448ad6c631e1387ba51a93dcf2b4e89"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "8b1300e0f29ab991d0c1b9b62cdbfd75a78cc190", "filename": "libstdc++-v3/include/Makefile.am", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.am?ref=8b35f02ed599a70cce752e3cb544a7c9f808fce8", "patch": "@@ -1426,7 +1426,7 @@ endif\n # <cstddef>, <cfloat>, <limits>, <climits>, <version>, <cstdint>, <cstdlib>,\n # <new>, <typeinfo>, <exception>, <initializer_list>, <cstdalign>, <cstdarg>,\n # <concepts>, <coroutine>, <cstdbool>, <type_traits>, <bit>, <atomic>,\n-# and any files which they include (and which we provide).\n+# <source_location> and any files which they include (and which we provide).\n # <new>, <typeinfo>, <exception>, <initializer_list> and <compare>\n # are installed by libsupc++, so only the others and the sub-includes\n # are copied here.\n@@ -1440,7 +1440,8 @@ install-freestanding-headers:\n \t  ${glibcxx_srcdir}/$(CPU_DEFINES_SRCDIR)/cpu_defines.h; do \\\n \t  $(INSTALL_DATA) $${file} $(DESTDIR)${host_installdir}; done\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${std_builddir}\n-\tfor file in limits type_traits atomic bit concepts coroutine version; do \\\n+\tfor file in limits type_traits atomic bit concepts coroutine \\\n+\t  source_location version; do \\\n \t  $(INSTALL_DATA) ${std_builddir}/$${file} $(DESTDIR)${gxx_include_dir}/${std_builddir}; done\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${c_base_builddir}\n \tfor file in ciso646 cstddef cfloat climits cstdint cstdlib \\"}, {"sha": "3ff18fec1e84a4377fc2adb47f5f304e3123e70f", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=8b35f02ed599a70cce752e3cb544a7c9f808fce8", "patch": "@@ -1907,7 +1907,7 @@ ${pch3_output}: ${pch3_source} ${pch2_output}\n # <cstddef>, <cfloat>, <limits>, <climits>, <version>, <cstdint>, <cstdlib>,\n # <new>, <typeinfo>, <exception>, <initializer_list>, <cstdalign>, <cstdarg>,\n # <concepts>, <coroutine>, <cstdbool>, <type_traits>, <bit>, <atomic>,\n-# and any files which they include (and which we provide).\n+# <source_location> and any files which they include (and which we provide).\n # <new>, <typeinfo>, <exception>, <initializer_list> and <compare>\n # are installed by libsupc++, so only the others and the sub-includes\n # are copied here.\n@@ -1921,7 +1921,8 @@ install-freestanding-headers:\n \t  ${glibcxx_srcdir}/$(CPU_DEFINES_SRCDIR)/cpu_defines.h; do \\\n \t  $(INSTALL_DATA) $${file} $(DESTDIR)${host_installdir}; done\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${std_builddir}\n-\tfor file in limits type_traits atomic bit concepts coroutine version; do \\\n+\tfor file in limits type_traits atomic bit concepts coroutine \\\n+\t  source_location version; do \\\n \t  $(INSTALL_DATA) ${std_builddir}/$${file} $(DESTDIR)${gxx_include_dir}/${std_builddir}; done\n \t$(mkinstalldirs) $(DESTDIR)${gxx_include_dir}/${c_base_builddir}\n \tfor file in ciso646 cstddef cfloat climits cstdint cstdlib \\"}, {"sha": "c5d5efb1314fe96d23b6d82748af157ce3b659ba", "filename": "libstdc++-v3/include/std/version", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b35f02ed599a70cce752e3cb544a7c9f808fce8/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fversion?ref=8b35f02ed599a70cce752e3cb544a7c9f808fce8", "patch": "@@ -201,6 +201,9 @@\n #endif\n #define __cpp_lib_is_nothrow_convertible 201806L\n #define __cpp_lib_remove_cvref 201711L\n+#if __has_builtin(__builtin_source_location)\n+# define __cpp_lib_source_location 201907L\n+#endif\n #if __cpp_impl_three_way_comparison >= 201907L && __cpp_lib_concepts\n # define __cpp_lib_three_way_comparison 201907L\n #endif\n@@ -273,9 +276,6 @@\n # define __cpp_lib_semaphore 201907L\n #endif\n #define __cpp_lib_shift 201806L\n-#if __has_builtin(__builtin_source_location)\n-# define __cpp_lib_source_location 201907L\n-#endif\n #if __cpp_lib_concepts\n # define __cpp_lib_span 202002L\n #endif"}]}