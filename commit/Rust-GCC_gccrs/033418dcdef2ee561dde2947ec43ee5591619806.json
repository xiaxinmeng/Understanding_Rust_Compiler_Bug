{"sha": "033418dcdef2ee561dde2947ec43ee5591619806", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDMzNDE4ZGNkZWYyZWU1NjFkZGUyOTQ3ZWM0M2VlNTU5MTYxOTgwNg==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2012-08-28T18:18:11Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-08-28T18:18:11Z"}, "message": "re PR fortran/54389 ([F2003/F2008 difference] PURE functions and pointer dummy arguments / DECL_PURE_P issue)\n\n2012-08-28  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/54389\n        * trans-decl.c (gfc_get_extern_function_decl,\n        build_function_decl): Don't mark impure elemental\n        functions as DECL_PURE_P and honour implicit_pure.\n\nFrom-SVN: r190757", "tree": {"sha": "5be2f0ea12e7a10432b21d557c2aa0a43179bda2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5be2f0ea12e7a10432b21d557c2aa0a43179bda2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/033418dcdef2ee561dde2947ec43ee5591619806", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033418dcdef2ee561dde2947ec43ee5591619806", "html_url": "https://github.com/Rust-GCC/gccrs/commit/033418dcdef2ee561dde2947ec43ee5591619806", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/033418dcdef2ee561dde2947ec43ee5591619806/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a21d0595b4604c2861401a24712fc802f9c6a003", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a21d0595b4604c2861401a24712fc802f9c6a003", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a21d0595b4604c2861401a24712fc802f9c6a003"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "582eb26f2c0c1c65ac7c972bc1a4f25e1d362b11", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033418dcdef2ee561dde2947ec43ee5591619806/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033418dcdef2ee561dde2947ec43ee5591619806/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=033418dcdef2ee561dde2947ec43ee5591619806", "patch": "@@ -1,3 +1,10 @@\n+2012-08-28  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/54389\n+\t* trans-decl.c (gfc_get_extern_function_decl,\n+\tbuild_function_decl): Don't mark impure elemental\n+\tfunctions as DECL_PURE_P and honour implicit_pure.\n+\n 2012-08-28  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/54382"}, {"sha": "7e59cb6dcb44c4441714dd3e4b19291daf701244", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/033418dcdef2ee561dde2947ec43ee5591619806/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/033418dcdef2ee561dde2947ec43ee5591619806/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=033418dcdef2ee561dde2947ec43ee5591619806", "patch": "@@ -1783,7 +1783,7 @@ gfc_get_extern_function_decl (gfc_symbol * sym)\n   /* Set attributes for PURE functions. A call to PURE function in the\n      Fortran 95 sense is both pure and without side effects in the C\n      sense.  */\n-  if (sym->attr.pure || sym->attr.elemental)\n+  if (sym->attr.pure || sym->attr.implicit_pure)\n     {\n       if (sym->attr.function && !gfc_return_by_reference (sym))\n \tDECL_PURE_P (fndecl) = 1;\n@@ -1912,7 +1912,7 @@ build_function_decl (gfc_symbol * sym, bool global)\n   /* Set attributes for PURE functions. A call to a PURE function in the\n      Fortran 95 sense is both pure and without side effects in the C\n      sense.  */\n-  if (attr.pure || attr.elemental)\n+  if (attr.pure || attr.implicit_pure)\n     {\n       /* TODO: check if a pure SUBROUTINE has no INTENT(OUT) arguments\n \t including an alternate return. In that case it can also be"}]}