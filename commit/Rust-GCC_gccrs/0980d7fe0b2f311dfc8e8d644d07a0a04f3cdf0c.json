{"sha": "0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDk4MGQ3ZmUwYjJmMzExZGZjOGU4ZDY0NGQwN2EwYTA0ZjNjZGYwYw==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim@codesourcery.com", "date": "2009-06-01T11:18:29Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2009-06-01T11:18:29Z"}, "message": "calls.c (emit_library_call_value_1): Don't force_operand for move and push insns.\n\n\t* calls.c (emit_library_call_value_1): Don't force_operand for move\n\tand push insns.\n\nFrom-SVN: r148039", "tree": {"sha": "17151aab66e4fba85585151b3028d41380999497", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17151aab66e4fba85585151b3028d41380999497"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c/comments", "author": null, "committer": null, "parents": [{"sha": "29661412e3fe401fcfc0a5e432973c48005a1943", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29661412e3fe401fcfc0a5e432973c48005a1943", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29661412e3fe401fcfc0a5e432973c48005a1943"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "f589b8a8c25399687438ac5f835a6147c6e32a19", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "patch": "@@ -1,3 +1,8 @@\n+2009-06-01  Maxim Kuvyrkov  <maxim@codesourcery.com>\n+\n+\t* calls.c (emit_library_call_value_1): Don't force_operand for move\n+\tand push insns.\n+\n 2009-06-01  Nick Clifton  <nickc@redhat.com>\n \n \t* doc/invoke.texi (IA-64 Options): Fix typo."}, {"sha": "0d83ff4f38e28b0365df8b662f115748d3de8cb9", "filename": "gcc/calls.c", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=0980d7fe0b2f311dfc8e8d644d07a0a04f3cdf0c", "patch": "@@ -3412,11 +3412,6 @@ emit_library_call_value_1 (int retval, rtx orgfun, rtx value,\n \n       nargs++;\n \n-      /* Make sure it is a reasonable operand for a move or push insn.  */\n-      if (!REG_P (addr) && !MEM_P (addr)\n-\t  && ! (CONSTANT_P (addr) && LEGITIMATE_CONSTANT_P (addr)))\n-\taddr = force_operand (addr, NULL_RTX);\n-\n       argvec[count].value = addr;\n       argvec[count].mode = Pmode;\n       argvec[count].partial = 0;\n@@ -3452,11 +3447,6 @@ emit_library_call_value_1 (int retval, rtx orgfun, rtx value,\n       gcc_assert (mode != BLKmode\n \t\t  && (GET_MODE (val) == mode || GET_MODE (val) == VOIDmode));\n \n-      /* Make sure it is a reasonable operand for a move or push insn.  */\n-      if (!REG_P (val) && !MEM_P (val)\n-\t  && ! (CONSTANT_P (val) && LEGITIMATE_CONSTANT_P (val)))\n-\tval = force_operand (val, NULL_RTX);\n-\n       if (pass_by_reference (&args_so_far, mode, NULL_TREE, 1))\n \t{\n \t  rtx slot;"}]}