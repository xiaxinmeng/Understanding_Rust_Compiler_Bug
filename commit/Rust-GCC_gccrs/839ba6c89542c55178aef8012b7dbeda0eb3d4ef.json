{"sha": "839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODM5YmE2Yzg5NTQyYzU1MTc4YWVmODAxMmI3ZGJlZGEwZWIzZDRlZg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-05-11T17:05:03Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-05-11T17:05:03Z"}, "message": "ZipInputStream.java (getNextEntry): When reading file headers, don't include `size' in the skip call.\n\n\t* java/util/zip/ZipInputStream.java (getNextEntry): When reading\n\tfile headers, don't include `size' in the skip call.\n\nFrom-SVN: r33850", "tree": {"sha": "a3ccdf17e8fbb4128151af14f3914e7296ac8573", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3ccdf17e8fbb4128151af14f3914e7296ac8573"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/839ba6c89542c55178aef8012b7dbeda0eb3d4ef/comments", "author": null, "committer": null, "parents": [{"sha": "f19c9228fc48df0ca59f7f9b1ba8408f7c145153", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f19c9228fc48df0ca59f7f9b1ba8408f7c145153", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f19c9228fc48df0ca59f7f9b1ba8408f7c145153"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "1117267322110b8e3dc9e26a28f6971e18d05e2a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/839ba6c89542c55178aef8012b7dbeda0eb3d4ef/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/839ba6c89542c55178aef8012b7dbeda0eb3d4ef/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "patch": "@@ -1,3 +1,8 @@\n+2000-05-11  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* java/util/zip/ZipInputStream.java (getNextEntry): When reading\n+\tfile headers, don't include `size' in the skip call.\n+\n 2000-05-10  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* java/lang/StringBuffer.java (delete): Call arrayCopy() correctly."}, {"sha": "492cf67c73391a12ede38d0e6c3c5beab8fc550a", "filename": "libjava/java/util/zip/ZipInputStream.java", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/839ba6c89542c55178aef8012b7dbeda0eb3d4ef/libjava%2Fjava%2Futil%2Fzip%2FZipInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/839ba6c89542c55178aef8012b7dbeda0eb3d4ef/libjava%2Fjava%2Futil%2Fzip%2FZipInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2Fzip%2FZipInputStream.java?ref=839ba6c89542c55178aef8012b7dbeda0eb3d4ef", "patch": "@@ -1,4 +1,4 @@\n-/* Copyright (C) 1999  Free Software Foundation\n+/* Copyright (C) 1999, 2000  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -52,7 +52,13 @@ public ZipEntry getNextEntry () throws IOException\n \tint fname_length = readu2();\n \tint extra_length = readu2();\n \tint fcomment_length = readu2();\n-\tin.skip(12+fname_length+extra_length+fcomment_length+size);\n+\t// `12' is the number of bytes between the comment length\n+\t// field and the end of the fixed part of the header:\n+\t// 2 bytes for `disk number start'\n+\t// 2 bytes for `internal file attributes'\n+\t// 4 bytes for `external file attributes'\n+\t// 4 bytes for `relative offset of local header'\n+\tin.skip(12 + fname_length + extra_length + fcomment_length);\n \tif (in.read() != 'P' || in.read() != 'K')\n \t  return null;\n \tcode = in.read();"}]}