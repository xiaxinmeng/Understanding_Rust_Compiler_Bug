{"sha": "08d603d6edd42cd148c78336ecb7457899763f46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhkNjAzZDZlZGQ0MmNkMTQ4Yzc4MzM2ZWNiNzQ1Nzg5OTc2M2Y0Ng==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-11-10T10:48:11Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-11-10T10:48:11Z"}, "message": "* gnat.dg/loop_optimization9.ad[sb]: New test.\n\nFrom-SVN: r181252", "tree": {"sha": "726261cd8202d59e15caaad4842ec64f19173ee9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/726261cd8202d59e15caaad4842ec64f19173ee9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08d603d6edd42cd148c78336ecb7457899763f46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08d603d6edd42cd148c78336ecb7457899763f46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08d603d6edd42cd148c78336ecb7457899763f46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08d603d6edd42cd148c78336ecb7457899763f46/comments", "author": null, "committer": null, "parents": [{"sha": "bac430c92eefcb057ed7c4388311ec5fbbfbf54e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bac430c92eefcb057ed7c4388311ec5fbbfbf54e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bac430c92eefcb057ed7c4388311ec5fbbfbf54e"}], "stats": {"total": 146, "additions": 146, "deletions": 0}, "files": [{"sha": "833db9b117ac30156e508df8d93e79fdb453b57b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=08d603d6edd42cd148c78336ecb7457899763f46", "patch": "@@ -1,3 +1,7 @@\n+2011-11-10  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/loop_optimization9.ad[sb]: New test.\n+\n 2011-11-10  Ira Rosen  <ira.rosen@linaro.org>\n \n \tPR tree-optimization/51058"}, {"sha": "56d85e210c7415682291997b867dc6fb78b22ef3", "filename": "gcc/testsuite/gnat.dg/loop_optimization9.adb", "status": "added", "additions": 124, "deletions": 0, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.adb?ref=08d603d6edd42cd148c78336ecb7457899763f46", "patch": "@@ -0,0 +1,124 @@\n+-- { dg-do compile }\n+-- { dg-options \"-gnatws -O3\" }\n+-- { dg-options \"-gnatws -O3 -msse\" { target i?86-*-* x86_64-*-* } }\n+\n+with System.Soft_Links;\n+\n+package body Loop_Optimization9 is\n+\n+   package SSL renames System.Soft_Links;\n+\n+   First_Temp_File_Name : constant String := \"GNAT-TEMP-000000.TMP\";\n+\n+   Current_Temp_File_Name : String := First_Temp_File_Name;\n+\n+   Temp_File_Name_Last_Digit : constant Positive :=\n+                                 First_Temp_File_Name'Last - 4;\n+\n+   function Argument_String_To_List\n+     (Arg_String : String) return Argument_List_Access\n+   is\n+      Max_Args : constant Integer := Arg_String'Length;\n+      New_Argv : Argument_List (1 .. Max_Args);\n+      New_Argc : Natural := 0;\n+      Idx      : Integer;\n+\n+   begin\n+      Idx := Arg_String'First;\n+\n+      loop\n+         exit when Idx > Arg_String'Last;\n+\n+         declare\n+            Quoted  : Boolean := False;\n+            Backqd  : Boolean := False;\n+            Old_Idx : Integer;\n+\n+         begin\n+            Old_Idx := Idx;\n+\n+            loop\n+               --  An unquoted space is the end of an argument\n+\n+               if not (Backqd or Quoted)\n+                 and then Arg_String (Idx) = ' '\n+               then\n+                  exit;\n+\n+               --  Start of a quoted string\n+\n+               elsif not (Backqd or Quoted)\n+                 and then Arg_String (Idx) = '\"'\n+               then\n+                  Quoted := True;\n+\n+               --  End of a quoted string and end of an argument\n+\n+               elsif (Quoted and not Backqd)\n+                 and then Arg_String (Idx) = '\"'\n+               then\n+                  Idx := Idx + 1;\n+                  exit;\n+\n+               --  Following character is backquoted\n+\n+               elsif Arg_String (Idx) = '\\' then\n+                  Backqd := True;\n+\n+               --  Turn off backquoting after advancing one character\n+\n+               elsif Backqd then\n+                  Backqd := False;\n+\n+               end if;\n+\n+               Idx := Idx + 1;\n+               exit when Idx > Arg_String'Last;\n+            end loop;\n+\n+            --  Found an argument\n+\n+            New_Argc := New_Argc + 1;\n+            New_Argv (New_Argc) :=\n+              new String'(Arg_String (Old_Idx .. Idx - 1));\n+         end;\n+      end loop;\n+\n+      return new Argument_List'(New_Argv (1 .. New_Argc));\n+   end Argument_String_To_List;\n+\n+   procedure Create_Temp_File_Internal\n+     (FD        : out File_Descriptor;\n+      Name      : out String_Access)\n+   is\n+      Pos      : Positive;\n+   begin\n+      File_Loop : loop\n+         Locked : begin\n+            Pos := Temp_File_Name_Last_Digit;\n+\n+            Digit_Loop :\n+            loop\n+               case Current_Temp_File_Name (Pos) is\n+                  when '0' .. '8' =>\n+                     Current_Temp_File_Name (Pos) :=\n+                       Character'Succ (Current_Temp_File_Name (Pos));\n+                     exit Digit_Loop;\n+\n+                  when '9' =>\n+                     Current_Temp_File_Name (Pos) := '0';\n+                     Pos := Pos - 1;\n+\n+                  when others =>\n+\n+                     SSL.Unlock_Task.all;\n+                     FD := 0;\n+                     Name := null;\n+                     exit File_Loop;\n+               end case;\n+            end loop Digit_Loop;\n+         end Locked;\n+      end loop File_Loop;\n+   end Create_Temp_File_Internal;\n+\n+end Loop_Optimization9;"}, {"sha": "95f8221bd906b687b22a5ab0b6fd73bdbf98eec4", "filename": "gcc/testsuite/gnat.dg/loop_optimization9.ads", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08d603d6edd42cd148c78336ecb7457899763f46/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Floop_optimization9.ads?ref=08d603d6edd42cd148c78336ecb7457899763f46", "patch": "@@ -0,0 +1,18 @@\n+with GNAT.Strings; use GNAT.Strings;\n+\n+package Loop_Optimization9 is\n+\n+   type File_Descriptor is new Integer;\n+\n+   procedure Create_Temp_File_Internal\n+     (FD   : out File_Descriptor;\n+      Name : out String_Access);\n+\n+   subtype Argument_List is String_List;\n+\n+   subtype Argument_List_Access is String_List_Access;\n+\n+   function Argument_String_To_List\n+     (Arg_String : String) return Argument_List_Access;\n+\n+end Loop_Optimization9;"}]}