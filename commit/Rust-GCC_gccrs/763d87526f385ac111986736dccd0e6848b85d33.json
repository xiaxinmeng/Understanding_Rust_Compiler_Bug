{"sha": "763d87526f385ac111986736dccd0e6848b85d33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYzZDg3NTI2ZjM4NWFjMTExOTg2NzM2ZGNjZDBlNjg0OGI4NWQzMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-11-26T23:27:29Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-11-26T23:27:29Z"}, "message": "runtime: Fix handling of surrogate pairs in string([]rune).\n\nFrom-SVN: r205422", "tree": {"sha": "5262a40dd465830841d2131acb63eab83331249b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5262a40dd465830841d2131acb63eab83331249b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/763d87526f385ac111986736dccd0e6848b85d33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/763d87526f385ac111986736dccd0e6848b85d33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/763d87526f385ac111986736dccd0e6848b85d33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/763d87526f385ac111986736dccd0e6848b85d33/comments", "author": null, "committer": null, "parents": [{"sha": "b168a8dfcc8e22dd932d460159d81291a9fe1ae6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b168a8dfcc8e22dd932d460159d81291a9fe1ae6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b168a8dfcc8e22dd932d460159d81291a9fe1ae6"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "f37213125a2209cdebd98930b8b1c1d0efbc9b8f", "filename": "libgo/runtime/go-int-array-to-string.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/763d87526f385ac111986736dccd0e6848b85d33/libgo%2Fruntime%2Fgo-int-array-to-string.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/763d87526f385ac111986736dccd0e6848b85d33/libgo%2Fruntime%2Fgo-int-array-to-string.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-int-array-to-string.c?ref=763d87526f385ac111986736dccd0e6848b85d33", "patch": "@@ -30,6 +30,8 @@ __go_int_array_to_string (const void* p, intgo len)\n \n       if (v < 0 || v > 0x10ffff)\n \tv = 0xfffd;\n+      else if (0xd800 <= v && v <= 0xdfff)\n+\tv = 0xfffd;\n \n       if (v <= 0x7f)\n \tslen += 1;\n@@ -56,6 +58,8 @@ __go_int_array_to_string (const void* p, intgo len)\n \t character.  */\n       if (v < 0 || v > 0x10ffff)\n \tv = 0xfffd;\n+      else if (0xd800 <= v && v <= 0xdfff)\n+\tv = 0xfffd;\n \n       if (v <= 0x7f)\n \t*s++ = v;"}]}