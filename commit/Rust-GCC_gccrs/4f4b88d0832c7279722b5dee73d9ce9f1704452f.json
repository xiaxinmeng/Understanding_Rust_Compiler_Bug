{"sha": "4f4b88d0832c7279722b5dee73d9ce9f1704452f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY0Yjg4ZDA4MzJjNzI3OTcyMmI1ZGVlNzNkOWNlOWYxNzA0NDUyZg==", "commit": {"author": {"name": "Herman A.J. ten Brugge", "email": "Haj.Ten.Brugge@net.HCC.nl", "date": "2000-09-07T01:22:07Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-09-07T01:22:07Z"}, "message": "* flow.c (insn_dead_p): Detect dead memory stores with auto increments.\n\nFrom-SVN: r36220", "tree": {"sha": "72b903b37e2a9bfaf45793f92cbe20081ee848c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72b903b37e2a9bfaf45793f92cbe20081ee848c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f4b88d0832c7279722b5dee73d9ce9f1704452f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f4b88d0832c7279722b5dee73d9ce9f1704452f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f4b88d0832c7279722b5dee73d9ce9f1704452f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f4b88d0832c7279722b5dee73d9ce9f1704452f/comments", "author": null, "committer": null, "parents": [{"sha": "f725a3ec9b41893a046a05008afd789e26ca91ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f725a3ec9b41893a046a05008afd789e26ca91ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f725a3ec9b41893a046a05008afd789e26ca91ca"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "0214e8d4d99508edc04ac6deda606c90dd6b2a89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f4b88d0832c7279722b5dee73d9ce9f1704452f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f4b88d0832c7279722b5dee73d9ce9f1704452f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f4b88d0832c7279722b5dee73d9ce9f1704452f", "patch": "@@ -1,3 +1,7 @@\n+2000-09-06 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n+\n+        * flow.c (insn_dead_p): Detect dead memory stores with auto increments.\n+\n 2000-09-06  Kazu Hirata  <kazu@hxi.com>\n \n \t* calls.c: Fix formatting."}, {"sha": "ca6cac2a0d5d6341a3ed176227d955a825c5f194", "filename": "gcc/flow.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f4b88d0832c7279722b5dee73d9ce9f1704452f/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f4b88d0832c7279722b5dee73d9ce9f1704452f/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=4f4b88d0832c7279722b5dee73d9ce9f1704452f", "patch": "@@ -3954,8 +3954,21 @@ insn_dead_p (pbi, x, call_ok, notes)\n \t  temp = pbi->mem_set_list;\n \t  while (temp)\n \t    {\n-\t      if (rtx_equal_p (XEXP (temp, 0), r))\n+\t      rtx mem = XEXP (temp, 0);\n+\n+\t      if (rtx_equal_p (mem, r))\n+\t\treturn 1;\n+#ifdef AUTO_INC_DEC\n+\t      /* Check if memory reference matches an auto increment. Only\n+\t\t post increment/decrement or modify are valid.  */\n+      \t      if (GET_MODE (mem) == GET_MODE (r)\n+\t          && (GET_CODE (XEXP (mem, 0)) == POST_DEC\n+\t              || GET_CODE (XEXP (mem, 0)) == POST_INC\n+\t              || GET_CODE (XEXP (mem, 0)) == POST_MODIFY)\n+\t\t  && GET_MODE (XEXP (mem, 0)) == GET_MODE (r)\n+\t\t  && rtx_equal_p (XEXP (XEXP (mem, 0), 0), XEXP (r, 0)))\n \t\treturn 1;\n+#endif\n \t      temp = XEXP (temp, 1);\n \t    }\n \t}"}]}