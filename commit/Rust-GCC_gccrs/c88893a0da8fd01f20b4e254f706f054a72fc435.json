{"sha": "c88893a0da8fd01f20b4e254f706f054a72fc435", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg4ODkzYTBkYThmZDAxZjIwYjRlMjU0ZjcwNmYwNTRhNzJmYzQzNQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-02-06T15:18:50Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-02-06T15:18:50Z"}, "message": "runtime: correct runtime structfield type to match reflect\n    \n    The offset field in structfield has changed to offsetAnon, and now\n    requires a shift to get the actual offset value.\n    \n    Fixes golang/go#23391\n    \n    Reviewed-on: https://go-review.googlesource.com/92275\n\nFrom-SVN: r257413", "tree": {"sha": "fb04c3aa403bdf247afafcc485c9fe87cf71fd3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb04c3aa403bdf247afafcc485c9fe87cf71fd3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c88893a0da8fd01f20b4e254f706f054a72fc435", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c88893a0da8fd01f20b4e254f706f054a72fc435", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c88893a0da8fd01f20b4e254f706f054a72fc435", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c88893a0da8fd01f20b4e254f706f054a72fc435/comments", "author": null, "committer": null, "parents": [{"sha": "43fbc2e9c46ad20a9566cc85f12ac24021f19ad3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43fbc2e9c46ad20a9566cc85f12ac24021f19ad3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43fbc2e9c46ad20a9566cc85f12ac24021f19ad3"}], "stats": {"total": 22, "additions": 15, "deletions": 7}, "files": [{"sha": "91bebe5d232bb74305baeb7e52310eec404e6751", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88893a0da8fd01f20b4e254f706f054a72fc435/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88893a0da8fd01f20b4e254f706f054a72fc435/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=c88893a0da8fd01f20b4e254f706f054a72fc435", "patch": "@@ -1,4 +1,4 @@\n-c02c71187c9794b50444e2858c582e66a3442ee8\n+1927b40e59e7c2067ecb03384b331d1be3cb5eea\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "d5794bc3341a0fdac0e37fb524af8ce76eb78ae3", "filename": "libgo/go/runtime/cgocall.go", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88893a0da8fd01f20b4e254f706f054a72fc435/libgo%2Fgo%2Fruntime%2Fcgocall.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88893a0da8fd01f20b4e254f706f054a72fc435/libgo%2Fgo%2Fruntime%2Fcgocall.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fruntime%2Fcgocall.go?ref=c88893a0da8fd01f20b4e254f706f054a72fc435", "patch": "@@ -189,7 +189,7 @@ func cgoCheckArg(t *_type, p unsafe.Pointer, indir, top bool, msg string) {\n \t\t\treturn\n \t\t}\n \t\tfor _, f := range st.fields {\n-\t\t\tcgoCheckArg(f.typ, add(p, f.offset), true, top, msg)\n+\t\t\tcgoCheckArg(f.typ, add(p, f.offset()), true, top, msg)\n \t\t}\n \tcase kindPtr, kindUnsafePointer:\n \t\tif indir {"}, {"sha": "0ec0da411797189c443ec6f10afd47f97df06aeb", "filename": "libgo/go/runtime/type.go", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c88893a0da8fd01f20b4e254f706f054a72fc435/libgo%2Fgo%2Fruntime%2Ftype.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c88893a0da8fd01f20b4e254f706f054a72fc435/libgo%2Fgo%2Fruntime%2Ftype.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fruntime%2Ftype.go?ref=c88893a0da8fd01f20b4e254f706f054a72fc435", "patch": "@@ -113,11 +113,19 @@ type ptrtype struct {\n }\n \n type structfield struct {\n-\tname    *string // nil for embedded fields\n-\tpkgPath *string // nil for exported Names; otherwise import path\n-\ttyp     *_type  // type of field\n-\ttag     *string // nil if no tag\n-\toffset  uintptr // byte offset of field within struct\n+\tname       *string // nil for embedded fields\n+\tpkgPath    *string // nil for exported Names; otherwise import path\n+\ttyp        *_type  // type of field\n+\ttag        *string // nil if no tag\n+\toffsetAnon uintptr // byte offset of field<<1 | isAnonymous\n+}\n+\n+func (f *structfield) offset() uintptr {\n+\treturn f.offsetAnon >> 1\n+}\n+\n+func (f *structfield) anon() bool {\n+\treturn f.offsetAnon&1 != 0\n }\n \n type structtype struct {"}]}