{"sha": "c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzU5ZGRkMmI4MmZkNjhkNzk3NmY3MDE3M2QzZWI5YzBlZjY2YmQxNA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2011-03-22T22:26:37Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2011-03-22T22:26:37Z"}, "message": "alpha.c (alpha_handle_option): Access target_flags via opts pointer.\n\n\t* config/alpha/alpha.c (alpha_handle_option): Access target_flags\n\tvia opts pointer.  Use error_at.  Don't assert that global\n\tstructures are in use.\n\nFrom-SVN: r171311", "tree": {"sha": "bd3e6d5aa0c1ffe65188b6a1af79ad4fa8981577", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bd3e6d5aa0c1ffe65188b6a1af79ad4fa8981577"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1333f97f7cb65adcc60c612f40606c45315e5c0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1333f97f7cb65adcc60c612f40606c45315e5c0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1333f97f7cb65adcc60c612f40606c45315e5c0a"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "9f72500864b4330ef6ff77e13d18b38473b3f6b0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "patch": "@@ -1,3 +1,9 @@\n+2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/alpha/alpha.c (alpha_handle_option): Access target_flags\n+\tvia opts pointer.  Use error_at.  Don't assert that global\n+\tstructures are in use.\n+\n 2011-03-22  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/i386/i386.c (ix86_isa_flags_explicit): Remove."}, {"sha": "f97b2aaa3acfc44b5b1fb5422664112674fef927", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=c59ddd2b82fd68d7976f70173d3eb9c0ef66bd14", "patch": "@@ -213,32 +213,30 @@ static const struct default_options alpha_option_optimization_table[] =\n /* Implement TARGET_HANDLE_OPTION.  */\n \n static bool\n-alpha_handle_option (struct gcc_options *opts, struct gcc_options *opts_set,\n+alpha_handle_option (struct gcc_options *opts,\n+\t\t     struct gcc_options *opts_set ATTRIBUTE_UNUSED,\n \t\t     const struct cl_decoded_option *decoded,\n-\t\t     location_t loc ATTRIBUTE_UNUSED)\n+\t\t     location_t loc)\n {\n   size_t code = decoded->opt_index;\n   const char *arg = decoded->arg;\n   int value = decoded->value;\n \n-  gcc_assert (opts == &global_options);\n-  gcc_assert (opts_set == &global_options_set);\n-\n   switch (code)\n     {\n     case OPT_mfp_regs:\n       if (value == 0)\n-\ttarget_flags |= MASK_SOFT_FP;\n+\topts->x_target_flags |= MASK_SOFT_FP;\n       break;\n \n     case OPT_mieee:\n     case OPT_mieee_with_inexact:\n-      target_flags |= MASK_IEEE_CONFORMANT;\n+      opts->x_target_flags |= MASK_IEEE_CONFORMANT;\n       break;\n \n     case OPT_mtls_size_:\n       if (value != 16 && value != 32 && value != 64)\n-\terror (\"bad value %qs for -mtls-size switch\", arg);\n+\terror_at (loc, \"bad value %qs for -mtls-size switch\", arg);\n       break;\n     }\n "}]}