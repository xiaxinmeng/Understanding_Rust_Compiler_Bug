{"sha": "83dd5faeabc2ed171c4bba02cab19c75698dc450", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNkZDVmYWVhYmMyZWQxNzFjNGJiYTAyY2FiMTljNzU2OThkYzQ1MA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-08-26T23:30:02Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-08-26T23:30:02Z"}, "message": "parse.y (try_builtin_assignconv): Allow narrowing primitive conversion if RHS_TYPE is byte, short, or char.\n\n\t* parse.y (try_builtin_assignconv): Allow narrowing primitive\n\tconversion if RHS_TYPE is byte, short, or char.\n\nFrom-SVN: r56589", "tree": {"sha": "9dba3d59f4fcfb7a507c8215af1fdb4eae943891", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9dba3d59f4fcfb7a507c8215af1fdb4eae943891"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83dd5faeabc2ed171c4bba02cab19c75698dc450", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83dd5faeabc2ed171c4bba02cab19c75698dc450", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83dd5faeabc2ed171c4bba02cab19c75698dc450", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83dd5faeabc2ed171c4bba02cab19c75698dc450/comments", "author": null, "committer": null, "parents": [{"sha": "d632dee9cb93ec0e45e070207046742019464d55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d632dee9cb93ec0e45e070207046742019464d55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d632dee9cb93ec0e45e070207046742019464d55"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "dd5061b76ac57a561aafa16a67bfb1ffa2aeb6d2", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83dd5faeabc2ed171c4bba02cab19c75698dc450/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83dd5faeabc2ed171c4bba02cab19c75698dc450/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=83dd5faeabc2ed171c4bba02cab19c75698dc450", "patch": "@@ -1,3 +1,8 @@\n+2002-08-26  Tom Tromey  <tromey@redhat.com>\n+\n+\t* parse.y (try_builtin_assignconv): Allow narrowing primitive\n+\tconversion if RHS_TYPE is byte, short, or char.\n+\n 2002-08-22  Tom Tromey  <tromey@redhat.com>\n \n \t* gcj.texi (Invoking gij): Document -cp and -classpath."}, {"sha": "30a2dce28ac8089e0f42d68c19934ccc9e3f47f8", "filename": "gcc/java/parse.y", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83dd5faeabc2ed171c4bba02cab19c75698dc450/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83dd5faeabc2ed171c4bba02cab19c75698dc450/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=83dd5faeabc2ed171c4bba02cab19c75698dc450", "patch": "@@ -12915,11 +12915,14 @@ try_builtin_assignconv (wfl_op1, lhs_type, rhs)\n     new_rhs = convert (lhs_type, rhs);\n \n   /* Try a narrowing primitive conversion (5.1.3):\n-       - expression is a constant expression of type int AND\n+       - expression is a constant expression of type byte, short, char,\n+       \ufffd\ufffdor int, AND\n        - variable is byte, short or char AND\n        - The value of the expression is representable in the type of the\n          variable */\n-  else if (rhs_type == int_type_node && TREE_CONSTANT (rhs)\n+  else if ((rhs_type == byte_type_node || rhs_type == short_type_node\n+\t    || rhs_type == char_type_node || rhs_type == int_type_node)\n+\t    && TREE_CONSTANT (rhs)\n \t   && (lhs_type == byte_type_node || lhs_type == char_type_node\n \t       || lhs_type == short_type_node))\n     {"}]}