{"sha": "9665c2e76849c8e0066c6660779ae082fce67ea8", "node_id": "C_kwDOANBUbNoAKDk2NjVjMmU3Njg0OWM4ZTAwNjZjNjY2MDc3OWFlMDgyZmNlNjdlYTg", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-04T14:22:58Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-05T08:35:47Z"}, "message": "libstdc++: Add noexcept to some std::function internals\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/bits/std_function.h (_Any_data::_M_access): Add\n\tnoexcept.\n\t(_Function_base::_Base_manager::_M_get_pointer): Likewise.\n\t(_Function_base::_Base_manager::_M_not_empty_function):\n\tLikewise.", "tree": {"sha": "771bb0c234b79333f3426ab518737dc545e6c887", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/771bb0c234b79333f3426ab518737dc545e6c887"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9665c2e76849c8e0066c6660779ae082fce67ea8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9665c2e76849c8e0066c6660779ae082fce67ea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9665c2e76849c8e0066c6660779ae082fce67ea8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9665c2e76849c8e0066c6660779ae082fce67ea8/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96955a82f0e1624a20ea2c9953d76a20ea433c24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96955a82f0e1624a20ea2c9953d76a20ea433c24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96955a82f0e1624a20ea2c9953d76a20ea433c24"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "55738440949a3b59835efeec63a10348409cac27", "filename": "libstdc++-v3/include/bits/std_function.h", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9665c2e76849c8e0066c6660779ae082fce67ea8/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9665c2e76849c8e0066c6660779ae082fce67ea8/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h?ref=9665c2e76849c8e0066c6660779ae082fce67ea8", "patch": "@@ -82,17 +82,17 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n   union [[gnu::may_alias]] _Any_data\n   {\n-    void*       _M_access()       { return &_M_pod_data[0]; }\n-    const void* _M_access() const { return &_M_pod_data[0]; }\n+    void*       _M_access()       noexcept { return &_M_pod_data[0]; }\n+    const void* _M_access() const noexcept { return &_M_pod_data[0]; }\n \n     template<typename _Tp>\n       _Tp&\n-      _M_access()\n+      _M_access() noexcept\n       { return *static_cast<_Tp*>(_M_access()); }\n \n     template<typename _Tp>\n       const _Tp&\n-      _M_access() const\n+      _M_access() const noexcept\n       { return *static_cast<const _Tp*>(_M_access()); }\n \n     _Nocopy_types _M_unused;\n@@ -131,7 +131,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n \t// Retrieve a pointer to the function object\n \tstatic _Functor*\n-\t_M_get_pointer(const _Any_data& __source)\n+\t_M_get_pointer(const _Any_data& __source) noexcept\n \t{\n \t  if _GLIBCXX17_CONSTEXPR (__stored_locally)\n \t    {\n@@ -217,22 +217,22 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n \ttemplate<typename _Signature>\n \t  static bool\n-\t  _M_not_empty_function(const function<_Signature>& __f)\n+\t  _M_not_empty_function(const function<_Signature>& __f) noexcept\n \t  { return static_cast<bool>(__f); }\n \n \ttemplate<typename _Tp>\n \t  static bool\n-\t  _M_not_empty_function(_Tp* __fp)\n+\t  _M_not_empty_function(_Tp* __fp) noexcept\n \t  { return __fp != nullptr; }\n \n \ttemplate<typename _Class, typename _Tp>\n \t  static bool\n-\t  _M_not_empty_function(_Tp _Class::* __mp)\n+\t  _M_not_empty_function(_Tp _Class::* __mp) noexcept\n \t  { return __mp != nullptr; }\n \n \ttemplate<typename _Tp>\n \t  static bool\n-\t  _M_not_empty_function(const _Tp&)\n+\t  _M_not_empty_function(const _Tp&) noexcept\n \t  { return true; }\n       };\n "}]}