{"sha": "f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhjYzlhNDg0ZGMyOGU3ZWFjYzA5ZDUzYTRjOGZiYjRhNmFiMjMxMQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-11-16T14:53:53Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-11-16T14:53:53Z"}, "message": "* lib/target-supports.exp\n\t(check_effective_target_has_w_floating_suffix): Use options for c++ only.\n\t(check_effective_target_has_q_floating_suffix): Ditto.\n\nFrom-SVN: r193559", "tree": {"sha": "2ab2a47db19ee4d5a9e0aacbd7bdeff1f77cdf7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ab2a47db19ee4d5a9e0aacbd7bdeff1f77cdf7d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311/comments", "author": null, "committer": null, "parents": [{"sha": "ba29e5c26fc00c246fac8e6f225d2fe095666714", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba29e5c26fc00c246fac8e6f225d2fe095666714", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba29e5c26fc00c246fac8e6f225d2fe095666714"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "af7fb94509369e870137c490155ff3631d6f1359", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=f8cc9a484dc28e7eacc09d53a4c8fbb4a6ab2311", "patch": "@@ -1746,18 +1746,26 @@ proc check_effective_target_double64plus { } {\n # 0 otherwise.\n \n proc check_effective_target_has_w_floating_suffix { } {\n+    set opts \"\"\n+    if [check_effective_target_c++] {\n+        append opts \"-std=gnu++03\"\n+    }\n     return [check_no_compiler_messages w_fp_suffix object {\n \tfloat dummy = 1.0w;\n-    } \"-std=gnu++03 -w\"]\n+    } \"$opts\"]\n }\n \n # Return 1 if the target supports 'q' suffix on floating constant\n # 0 otherwise.\n \n proc check_effective_target_has_q_floating_suffix { } {\n+    set opts \"\"\n+    if [check_effective_target_c++] {\n+        append opts \"-std=gnu++03\"\n+    }\n     return [check_no_compiler_messages q_fp_suffix object {\n \tfloat dummy = 1.0q;\n-    } \"-std=gnu++03 -w\"]\n+    } \"$opts\"]\n }\n # Return 1 if the target supports compiling fixed-point,\n # 0 otherwise."}]}