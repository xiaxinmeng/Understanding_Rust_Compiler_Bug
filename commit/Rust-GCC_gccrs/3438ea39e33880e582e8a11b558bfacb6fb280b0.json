{"sha": "3438ea39e33880e582e8a11b558bfacb6fb280b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQzOGVhMzllMzM4ODBlNTgyZThhMTFiNTU4YmZhY2I2ZmIyODBiMA==", "commit": {"author": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2021-09-04T23:11:22Z"}, "committer": {"name": "Philip Herron", "email": "philip.herron@embecosm.com", "date": "2021-09-04T23:11:22Z"}, "message": "Ensure the implicit Self is first in the generic arguments\n\nTraits implement self by creating an implicit Self TypeParam but when\nwe need to support generic arguments we must ensure Self is substituted\nfirst so that the reset of the arguments are handled as we expect.", "tree": {"sha": "8d38ced643c91645b3eb4a52ed564933e062133d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d38ced643c91645b3eb4a52ed564933e062133d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3438ea39e33880e582e8a11b558bfacb6fb280b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3438ea39e33880e582e8a11b558bfacb6fb280b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3438ea39e33880e582e8a11b558bfacb6fb280b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3438ea39e33880e582e8a11b558bfacb6fb280b0/comments", "author": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "committer": {"login": "philberty", "id": 84585, "node_id": "MDQ6VXNlcjg0NTg1", "avatar_url": "https://avatars.githubusercontent.com/u/84585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philberty", "html_url": "https://github.com/philberty", "followers_url": "https://api.github.com/users/philberty/followers", "following_url": "https://api.github.com/users/philberty/following{/other_user}", "gists_url": "https://api.github.com/users/philberty/gists{/gist_id}", "starred_url": "https://api.github.com/users/philberty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philberty/subscriptions", "organizations_url": "https://api.github.com/users/philberty/orgs", "repos_url": "https://api.github.com/users/philberty/repos", "events_url": "https://api.github.com/users/philberty/events{/privacy}", "received_events_url": "https://api.github.com/users/philberty/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58637abaeab1459574d6535481d7fcc8f9620167", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58637abaeab1459574d6535481d7fcc8f9620167", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58637abaeab1459574d6535481d7fcc8f9620167"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "0578329f54b90f28f1b0a500c712bb60ee8fad14", "filename": "gcc/rust/ast/rust-item.h", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3438ea39e33880e582e8a11b558bfacb6fb280b0/gcc%2Frust%2Fast%2Frust-item.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3438ea39e33880e582e8a11b558bfacb6fb280b0/gcc%2Frust%2Fast%2Frust-item.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-item.h?ref=3438ea39e33880e582e8a11b558bfacb6fb280b0", "patch": "@@ -3535,7 +3535,16 @@ class Trait : public VisItem\n \n   void insert_implict_self (std::unique_ptr<AST::GenericParam> &&param)\n   {\n-    generic_params.push_back (std::move (param));\n+    std::vector<std::unique_ptr<GenericParam>> new_list;\n+    new_list.reserve (generic_params.size () + 1);\n+\n+    new_list.push_back (std::move (param));\n+    for (auto &p : generic_params)\n+      {\n+\tnew_list.push_back (std::move (p));\n+      }\n+\n+    generic_params = std::move (new_list);\n   }\n \n protected:"}]}