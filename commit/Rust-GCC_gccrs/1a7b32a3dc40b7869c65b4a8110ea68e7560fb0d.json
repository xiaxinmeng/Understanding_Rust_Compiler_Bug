{"sha": "1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE3YjMyYTNkYzQwYjc4NjljNjViNGE4MTEwZWE2OGU3NTYwZmIwZA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2002-01-23T02:55:20Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2002-01-23T02:55:20Z"}, "message": "exgettext: Merge changes from diffutils.\n\n\t* exgettext: Merge changes from diffutils.  Scan .def files in\n\taddition to .c and .h.  Add --language=c to xgettext command line.\n\nFrom-SVN: r49121", "tree": {"sha": "007e8c915c328f8a5200b2e4ad6177757a7612a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/007e8c915c328f8a5200b2e4ad6177757a7612a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d/comments", "author": null, "committer": null, "parents": [{"sha": "333c8841f1467d2f0d6e958ad04e62c2e7e942d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333c8841f1467d2f0d6e958ad04e62c2e7e942d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/333c8841f1467d2f0d6e958ad04e62c2e7e942d0"}], "stats": {"total": 45, "additions": 26, "deletions": 19}, "files": [{"sha": "3e4fd9c586f539f8f39966482fdb7cd4763339de", "filename": "gcc/po/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d/gcc%2Fpo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d/gcc%2Fpo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2FChangeLog?ref=1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "patch": "@@ -1,3 +1,8 @@\n+2002-01-22  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* exgettext: Merge changes from diffutils.  Scan .def files in\n+\taddition to .c and .h.  Add --language=c to xgettext command line.\n+\n 2001-12-05  Martin v. L\ufffdwis  <loewis@informatik.hu-berlin.de>\n \n \t* es.po: Update to 3.0 template."}, {"sha": "712e3c4808aea0ba70def869c497017770f160bc", "filename": "gcc/po/exgettext", "status": "modified", "additions": 21, "deletions": 19, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d/gcc%2Fpo%2Fexgettext", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d/gcc%2Fpo%2Fexgettext", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2Fexgettext?ref=1a7b32a3dc40b7869c65b4a8110ea68e7560fb0d", "patch": "@@ -1,18 +1,16 @@\n #! /bin/sh\n-# Wrapper around gettext for GCC sources.\n-# Copyright 1998, 2001 Free Software Foundation, Inc.\n+# Wrapper around gettext for programs using the msgid convention.\n+# Copyright 1998, 2001, 2002 Free Software Foundation, Inc.\n \n # Written by Paul Eggert <eggert@twinsun.com>.\n # Revised by Zack Weinberg <zackw@stanford.edu> for no-POTFILES operation.\n \n-# This file is part of GNU CC.\n-\n-# GNU CC is free software; you can redistribute it and/or modify\n+# This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n # the Free Software Foundation; either version 2, or (at your option)\n # any later version.\n \n-# GNU CC is distributed in the hope that it will be useful,\n+# This program is distributed in the hope that it will be useful,\n # but WITHOUT ANY WARRANTY; without even the implied warranty of\n # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n # GNU General Public License for more details.\n@@ -22,8 +20,14 @@\n # the Free Software Foundation, 59 Temple Place - Suite 330,\n # Boston, MA 02111-1307, USA.\n \n-# Set environment to default value, if not already set.\n-: ${AWK=awk}\n+# Always operate in the C locale.\n+LANG=C\n+LANGUAGE=C\n+LC_ALL=C\n+export LANG LANGUAGE LC_ALL\n+\n+# Set AWK if environment has not already set it.\n+AWK=${AWK-awk}\n \n # The arguments to this wrapper are: the program to execute, the\n # name of the \"package\", and the path to the source directory.\n@@ -52,8 +56,8 @@ kopt=$pwd/$T/keyword-options\n emsg=$pwd/$T/emsgids.c\n posr=$pwd/$T/po-sources\n \n-# Locate files to scan, and generate the list.  All .c and .h files in\n-# $srcdir are examined, likewise $srcdir/config and $srcdir/config/*\n+# Locate files to scan, and generate the list.  All .c, .h, and .def files\n+# in $srcdir are examined, likewise $srcdir/config and $srcdir/config/*\n # (directories).  Also, all subdirectories of $srcdir that contain a\n # config-lang.in.  Exclusions come from $srcdir/po/EXCLUDE.\n #\n@@ -68,14 +72,12 @@ posr=$pwd/$T/po-sources\n echo \"scanning for keywords and %e strings...\" >&2\n \n ( cd $srcdir\n-  lang_subdirs=`echo */config-lang.in | sed -e 's|/config-lang\\.in||g'`\n-  { echo *.[ch]\n-    echo config/*.[ch]\n-    echo config/*/*.[ch]\n-    for l in $lang_subdirs\n-    do\techo $l/*.[ch]\n-    done\n-  } | tr ' ' \"$nl\" | \n+  lang_subdirs=`echo */config-lang.in | sed -e 's|config-lang\\.in||g'`\n+  for dir in \"\" config/ config/*/ $lang_subdirs\n+  do  for glob in '*.c' '*.h' '*.def'\n+      do  eval echo $dir$glob\n+      done\n+  done | tr ' ' \"$nl\" | grep -v '\\*' |\n   $AWK -v excl=po/EXCLUDES -v posr=$posr -v kopt=$kopt -v emsg=$emsg '\n function keyword_option(line) {\n     paren_index = index(line, \"(\")\n@@ -153,4 +155,4 @@ END {\n echo \"running xgettext...\" >&2\n $xgettext --default-domain=$package --directory=$srcdir \\\n \t  --add-comments `cat $kopt` --files-from=$posr \\\n-\t  -o po/$package.pot\n+\t  --language=c -o po/$package.pot"}]}