{"sha": "db42058b0b6754acd596020a42df0253d6fbe1fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI0MjA1OGIwYjY3NTRhY2Q1OTYwMjBhNDJkZjAyNTNkNmZiZTFmYQ==", "commit": {"author": {"name": "Bo Thorsen", "email": "bo@suse.co.uk", "date": "2001-07-09T09:34:43Z"}, "committer": {"name": "Bo Thorsen", "email": "bo@gcc.gnu.org", "date": "2001-07-09T09:34:43Z"}, "message": "Implement vtable jumps for x86-64.\n\nFrom-SVN: r43860", "tree": {"sha": "68cd677452cc51df5310b6cd07ff0c1cd8e725a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68cd677452cc51df5310b6cd07ff0c1cd8e725a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db42058b0b6754acd596020a42df0253d6fbe1fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db42058b0b6754acd596020a42df0253d6fbe1fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db42058b0b6754acd596020a42df0253d6fbe1fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db42058b0b6754acd596020a42df0253d6fbe1fa/comments", "author": null, "committer": null, "parents": [{"sha": "42b5727a402d0a4835bd300858bd7c2c5961ff9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42b5727a402d0a4835bd300858bd7c2c5961ff9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42b5727a402d0a4835bd300858bd7c2c5961ff9a"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "8e52cfcd62cb6f7ff7aede4d96b13f4231453923", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db42058b0b6754acd596020a42df0253d6fbe1fa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db42058b0b6754acd596020a42df0253d6fbe1fa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=db42058b0b6754acd596020a42df0253d6fbe1fa", "patch": "@@ -1,3 +1,7 @@\n+2001-07-09  Bo Thorsen  <bo@suse.co.uk>\n+\n+\t* config/i386/unix.h (ASM_OUTPUT_MI_THUNK): Fix x86-64 vtable support.\n+\n 2001-07-09  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* final.c (output_addr_const): Use target opening and"}, {"sha": "25dec9ab3583d48936d2cc15a176b455478f5214", "filename": "gcc/config/i386/unix.h", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db42058b0b6754acd596020a42df0253d6fbe1fa/gcc%2Fconfig%2Fi386%2Funix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db42058b0b6754acd596020a42df0253d6fbe1fa/gcc%2Fconfig%2Fi386%2Funix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Funix.h?ref=db42058b0b6754acd596020a42df0253d6fbe1fa", "patch": "@@ -106,7 +106,7 @@ do {\t\t\t\t\t\t\t\t\t    \\\n     xops[1] = gen_rtx_MEM (SImode, plus_constant (stack_pointer_rtx, 4));   \\\n   output_asm_insn (\"add{l} {%0, %1|%1, %0}\", xops);\t\t\t    \\\n \t\t\t\t\t\t\t\t\t    \\\n-  if (flag_pic)\t\t\t\t\t\t\t\t    \\\n+  if (flag_pic && !TARGET_64BIT)\t\t\t\t\t    \\\n     {\t\t\t\t\t\t\t\t\t    \\\n       xops[0] = pic_offset_table_rtx;\t\t\t\t\t    \\\n       xops[1] = gen_label_rtx ();\t\t\t\t\t    \\\n@@ -124,6 +124,12 @@ do {\t\t\t\t\t\t\t\t\t    \\\n       asm_fprintf (FILE, \"\\tpop{l\\t%%ebx|\\t%%ebx}\\n\");\t\t\t    \\\n       asm_fprintf (FILE, \"\\tjmp\\t{*%%ecx|%%ecx}\\n\");\t\t\t    \\\n     }\t\t\t\t\t\t\t\t\t    \\\n+  else if (flag_pic && TARGET_64BIT)\t\t\t\t\t    \\\n+    {\t\t\t\t\t\t\t\t\t    \\\n+      fprintf (FILE, \"\\tjmp *\");\t\t\t\t\t    \\\n+      assemble_name (FILE, XSTR (XEXP (DECL_RTL (FUNCTION), 0), 0));\t    \\\n+      fprintf (FILE, \"@GOTPCREL(%RIP)\\n\");\t\t\t\t    \\\n+    }\t\t\t\t\t\t\t\t\t    \\\n   else\t\t\t\t\t\t\t\t\t    \\\n     {\t\t\t\t\t\t\t\t\t    \\\n       fprintf (FILE, \"\\tjmp \");\t\t\t\t\t\t    \\"}]}