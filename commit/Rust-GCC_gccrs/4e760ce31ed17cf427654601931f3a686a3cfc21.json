{"sha": "4e760ce31ed17cf427654601931f3a686a3cfc21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU3NjBjZTMxZWQxN2NmNDI3NjU0NjAxOTMxZjNhNjg2YTNjZmMyMQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-12T22:25:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-12T22:25:46Z"}, "message": "Changed spawn function entry points to __spawn* instead of spawn*.\n\nFrom-SVN: r10338", "tree": {"sha": "916d98e7e49c260d0ed361be7c77c17e5232eb00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/916d98e7e49c260d0ed361be7c77c17e5232eb00"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e760ce31ed17cf427654601931f3a686a3cfc21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e760ce31ed17cf427654601931f3a686a3cfc21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e760ce31ed17cf427654601931f3a686a3cfc21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e760ce31ed17cf427654601931f3a686a3cfc21/comments", "author": null, "committer": null, "parents": [{"sha": "2a9f2bb90143fab29da3d99b424cef091279eb04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a9f2bb90143fab29da3d99b424cef091279eb04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a9f2bb90143fab29da3d99b424cef091279eb04"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "49096af998fd68d513751ab30ee9f828227c8090", "filename": "gcc/config/winnt/spawnv.c", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e760ce31ed17cf427654601931f3a686a3cfc21/gcc%2Fconfig%2Fwinnt%2Fspawnv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e760ce31ed17cf427654601931f3a686a3cfc21/gcc%2Fconfig%2Fwinnt%2Fspawnv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fwinnt%2Fspawnv.c?ref=4e760ce31ed17cf427654601931f3a686a3cfc21", "patch": "@@ -1,10 +1,9 @@\n /* This is a kludge to get around the Microsoft C spawn functions' propensity\n    to remove the outermost set of double quotes from all arguments.  */\n \n-\n #define index(s,c) strchr((s),(c))\n \n-extern char *xmalloc ();\n+extern char *malloc ();\n \n const char * const *\n fix_argv (argv)\n@@ -20,33 +19,31 @@ fix_argv (argv)\n     {\n \n       len = strlen (argv[i]);\n-      new_argv = xmalloc (2*len+3);\n+      new_argv = malloc (2*len+3);\n       ap = new_argv;\n-      *ap++ = '\"';\n \n       for (p = argv[i]; *p != '\\0'; ++p)\n         {\n           if (index (sh_chars, *p) != 0)\n             *ap++ = '\\\\';\n           *ap++ = *p;\n         }\n-      *ap++ = '\"';\n       *ap = '\\0';\n       argv[i] = new_argv;\n     }\n \n-    return (const char * const *) argv;\n+  return (const char * const *) argv;\n }\n \n-int spawnv (mode, cmdname, argv)\n+int __spawnv (mode, cmdname, argv)\n   int mode;\n   const char *cmdname;\n   char **argv;\n {\n   _spawnv (mode, cmdname, fix_argv (argv));\n }\n \n-int spawnvp (mode, cmdname, argv)\n+int __spawnvp (mode, cmdname, argv)\n   int mode;\n   const char *cmdname;\n   char **argv;\n@@ -63,11 +60,12 @@ int spawnve (mode, cmdname, argv, envp)\n   _spawnve (mode, cmdname, fix_argv (argv), envp);\n }\n \n-int spawnvpe (mode, cmdname, argv, envp)\n+int __spawnvpe (mode, cmdname, argv, envp)\n   int mode;\n   const char *cmdname;\n   char **argv;\n   const char *const *envp;\n {\n   _spawnvpe (mode, cmdname, fix_argv (argv), envp);\n }\n+"}]}