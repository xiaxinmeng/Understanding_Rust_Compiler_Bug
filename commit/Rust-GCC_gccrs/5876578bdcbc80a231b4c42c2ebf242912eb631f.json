{"sha": "5876578bdcbc80a231b4c42c2ebf242912eb631f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg3NjU3OGJkY2JjODBhMjMxYjRjNDJjMmViZjI0MjkxMmViNjMxZg==", "commit": {"author": {"name": "Emmanuel Briot", "email": "briot@adacore.com", "date": "2009-04-24T10:10:09Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-24T10:10:09Z"}, "message": "gnatcmd.adb, [...]: Remove unused entities\n\n2009-04-24  Emmanuel Briot  <briot@adacore.com>\n\n\t* gnatcmd.adb, prj.adb, prj.ads: Remove unused entities\n\nFrom-SVN: r146688", "tree": {"sha": "3d002bf7d24d30b31974498175957d372884ef5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d002bf7d24d30b31974498175957d372884ef5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5876578bdcbc80a231b4c42c2ebf242912eb631f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5876578bdcbc80a231b4c42c2ebf242912eb631f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5876578bdcbc80a231b4c42c2ebf242912eb631f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5876578bdcbc80a231b4c42c2ebf242912eb631f/comments", "author": {"login": "briot", "id": 42402, "node_id": "MDQ6VXNlcjQyNDAy", "avatar_url": "https://avatars.githubusercontent.com/u/42402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briot", "html_url": "https://github.com/briot", "followers_url": "https://api.github.com/users/briot/followers", "following_url": "https://api.github.com/users/briot/following{/other_user}", "gists_url": "https://api.github.com/users/briot/gists{/gist_id}", "starred_url": "https://api.github.com/users/briot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briot/subscriptions", "organizations_url": "https://api.github.com/users/briot/orgs", "repos_url": "https://api.github.com/users/briot/repos", "events_url": "https://api.github.com/users/briot/events{/privacy}", "received_events_url": "https://api.github.com/users/briot/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a9d17e32c801cf16da607bd6befaf577af0c25a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9d17e32c801cf16da607bd6befaf577af0c25a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9d17e32c801cf16da607bd6befaf577af0c25a9"}], "stats": {"total": 194, "additions": 10, "deletions": 184}, "files": [{"sha": "a37791e32ecbb49c2446706f3495bed7933881d2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5876578bdcbc80a231b4c42c2ebf242912eb631f", "patch": "@@ -1,3 +1,7 @@\n+2009-04-24  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* gnatcmd.adb, prj.adb, prj.ads: Remove unused entities\n+\n 2009-04-24  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_warn.adb: Add comment on obsolete warning"}, {"sha": "fa7e25aad069380d089ee032bec417b222a5ea47", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=5876578bdcbc80a231b4c42c2ebf242912eb631f", "patch": "@@ -2269,7 +2269,7 @@ begin\n                --  indicate to gnatstub the name of the body file with\n                --  a -o switch.\n \n-               if Body_Suffix_Id_Of (Project_Tree, \"ada\", Data.Naming) /=\n+               if Body_Suffix_Id_Of (Project_Tree, Name_Ada, Data.Naming) /=\n                     Prj.Default_Ada_Spec_Suffix\n                then\n                   if File_Index /= 0 then\n@@ -2281,7 +2281,7 @@ begin\n                      begin\n                         Get_Name_String\n                           (Spec_Suffix_Id_Of\n-                             (Project_Tree, \"ada\", Data.Naming));\n+                             (Project_Tree, Name_Ada, Data.Naming));\n \n                         if Spec'Length > Name_Len\n                           and then Spec (Last - Name_Len + 1 .. Last) =\n@@ -2290,7 +2290,7 @@ begin\n                            Last := Last - Name_Len;\n                            Get_Name_String\n                              (Body_Suffix_Id_Of\n-                                (Project_Tree, \"ada\", Data.Naming));\n+                                (Project_Tree, Name_Ada, Data.Naming));\n                            Last_Switches.Increment_Last;\n                            Last_Switches.Table (Last_Switches.Last) :=\n                              new String'(\"-o\");"}, {"sha": "9b15fd7bdb5e5ebffa01c5f40b1c783427816821", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 2, "deletions": 159, "changes": 161, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=5876578bdcbc80a231b4c42c2ebf242912eb631f", "patch": "@@ -27,7 +27,6 @@ with Ada.Characters.Handling; use Ada.Characters.Handling;\n with Ada.Unchecked_Deallocation;\n \n with Debug;\n-with Output;   use Output;\n with Osint;    use Osint;\n with Prj.Attr;\n with Prj.Env;\n@@ -195,39 +194,13 @@ package body Prj is\n    -- Body_Suffix_Id_Of --\n    -----------------------\n \n-   function Body_Suffix_Id_Of\n-     (In_Tree  : Project_Tree_Ref;\n-      Language : String;\n-      Naming   : Naming_Data) return File_Name_Type\n-   is\n-      Language_Id : Name_Id;\n-\n-   begin\n-      Name_Len := 0;\n-      Add_Str_To_Name_Buffer (Language);\n-      To_Lower (Name_Buffer (1 .. Name_Len));\n-      Language_Id := Name_Find;\n-\n-      return\n-        Body_Suffix_Id_Of\n-          (In_Tree     => In_Tree,\n-           Language_Id => Language_Id,\n-           Naming      => Naming);\n-   end Body_Suffix_Id_Of;\n-\n-   -----------------------\n-   -- Body_Suffix_Id_Of --\n-   -----------------------\n-\n    function Body_Suffix_Id_Of\n      (In_Tree     : Project_Tree_Ref;\n       Language_Id : Name_Id;\n       Naming      : Naming_Data) return File_Name_Type\n    is\n       Element_Id : Array_Element_Id;\n       Element    : Array_Element;\n-      Suffix     : File_Name_Type := No_File;\n-      Lang       : Language_Ptr;\n \n    begin\n       --  ??? This seems to be only for Ada_Only mode...\n@@ -242,19 +215,7 @@ package body Prj is\n          Element_Id := Element.Next;\n       end loop;\n \n-      if Current_Mode = Multi_Language then\n-         Lang := In_Tree.First_Language;\n-         while Lang /= No_Language_Index loop\n-            if Lang.Name = Language_Id then\n-               Suffix := Lang.Config.Naming_Data.Body_Suffix;\n-               exit;\n-            end if;\n-\n-            Lang := Lang.Next;\n-         end loop;\n-      end if;\n-\n-      return Suffix;\n+      return No_File;\n    end Body_Suffix_Id_Of;\n \n    --------------------\n@@ -269,8 +230,6 @@ package body Prj is\n       Language_Id : Name_Id;\n       Element_Id  : Array_Element_Id;\n       Element     : Array_Element;\n-      Suffix      : File_Name_Type := No_File;\n-      Lang        : Language_Ptr;\n \n    begin\n       Name_Len := 0;\n@@ -289,22 +248,6 @@ package body Prj is\n          Element_Id := Element.Next;\n       end loop;\n \n-      if Current_Mode = Multi_Language then\n-         Lang := In_Tree.First_Language;\n-         while Lang /= No_Language_Index loop\n-            if Lang.Name = Language_Id then\n-               Suffix := File_Name_Type (Lang.Config.Naming_Data.Body_Suffix);\n-               exit;\n-            end if;\n-\n-            Lang := Lang.Next;\n-         end loop;\n-\n-         if Suffix /= No_File then\n-            return Get_Name_String (Suffix);\n-         end if;\n-      end if;\n-\n       return \"\";\n    end Body_Suffix_Of;\n \n@@ -369,18 +312,6 @@ package body Prj is\n       end case;\n    end Dependency_Name;\n \n-   ---------------------------\n-   -- Display_Language_Name --\n-   ---------------------------\n-\n-   procedure Display_Language_Name\n-     (Language : Language_Ptr)\n-   is\n-   begin\n-      Get_Name_String (Language.Display_Name);\n-      Write_Str (Name_Buffer (1 .. Name_Len));\n-   end Display_Language_Name;\n-\n    ----------------\n    -- Empty_File --\n    ----------------\n@@ -636,37 +567,6 @@ package body Prj is\n       return False;\n    end Is_Extending;\n \n-   -----------------------\n-   -- Objects_Exist_For --\n-   -----------------------\n-\n-   function Objects_Exist_For\n-     (Language : String;\n-      In_Tree  : Project_Tree_Ref) return Boolean\n-   is\n-      Language_Id : Name_Id;\n-      Lang        : Language_Ptr;\n-\n-   begin\n-      if Current_Mode = Multi_Language then\n-         Name_Len := 0;\n-         Add_Str_To_Name_Buffer (Language);\n-         To_Lower (Name_Buffer (1 .. Name_Len));\n-         Language_Id := Name_Find;\n-\n-         Lang := In_Tree.First_Language;\n-         while Lang /= No_Language_Index loop\n-            if Lang.Name = Language_Id then\n-               return Lang.Config.Object_Generated;\n-            end if;\n-\n-            Lang := Lang.Next;\n-         end loop;\n-      end if;\n-\n-      return True;\n-   end Objects_Exist_For;\n-\n    -----------------\n    -- Object_Name --\n    -----------------\n@@ -1061,39 +961,13 @@ package body Prj is\n    -- Spec_Suffix_Id_Of --\n    -----------------------\n \n-   function Spec_Suffix_Id_Of\n-     (In_Tree  : Project_Tree_Ref;\n-      Language : String;\n-      Naming   : Naming_Data) return File_Name_Type\n-   is\n-      Language_Id : Name_Id;\n-\n-   begin\n-      Name_Len := 0;\n-      Add_Str_To_Name_Buffer (Language);\n-      To_Lower (Name_Buffer (1 .. Name_Len));\n-      Language_Id := Name_Find;\n-\n-      return\n-        Spec_Suffix_Id_Of\n-          (In_Tree     => In_Tree,\n-           Language_Id => Language_Id,\n-           Naming      => Naming);\n-   end Spec_Suffix_Id_Of;\n-\n-   -----------------------\n-   -- Spec_Suffix_Id_Of --\n-   -----------------------\n-\n    function Spec_Suffix_Id_Of\n      (In_Tree     : Project_Tree_Ref;\n       Language_Id : Name_Id;\n       Naming      : Naming_Data) return File_Name_Type\n    is\n       Element_Id : Array_Element_Id;\n       Element    : Array_Element;\n-      Suffix     : File_Name_Type := No_File;\n-      Lang       : Language_Ptr;\n \n    begin\n       Element_Id := Naming.Spec_Suffix;\n@@ -1107,19 +981,7 @@ package body Prj is\n          Element_Id := Element.Next;\n       end loop;\n \n-      if Current_Mode = Multi_Language then\n-         Lang := In_Tree.First_Language;\n-         while Lang /= No_Language_Index loop\n-            if Lang.Name = Language_Id then\n-               Suffix := Lang.Config.Naming_Data.Spec_Suffix;\n-               exit;\n-            end if;\n-\n-            Lang := Lang.Next;\n-         end loop;\n-      end if;\n-\n-      return Suffix;\n+      return No_File;\n    end Spec_Suffix_Id_Of;\n \n    --------------------\n@@ -1134,8 +996,6 @@ package body Prj is\n       Language_Id : Name_Id;\n       Element_Id  : Array_Element_Id;\n       Element     : Array_Element;\n-      Suffix      : File_Name_Type := No_File;\n-      Lang        : Language_Ptr;\n \n    begin\n       Name_Len := 0;\n@@ -1154,23 +1014,6 @@ package body Prj is\n          Element_Id := Element.Next;\n       end loop;\n \n-      if Current_Mode = Multi_Language then\n-         Lang := In_Tree.First_Language;\n-         while Lang /= No_Language_Index loop\n-            if Lang.Name = Language_Id then\n-               Suffix :=\n-                 File_Name_Type (Lang.Config.Naming_Data.Spec_Suffix);\n-               exit;\n-            end if;\n-\n-            Lang := Lang.Next;\n-         end loop;\n-\n-         if Suffix /= No_File then\n-            return Get_Name_String (Suffix);\n-         end if;\n-      end if;\n-\n       return \"\";\n    end Spec_Suffix_Of;\n "}, {"sha": "82d1af9f1fbb5d02c91f0e0ffa1f6cedffd4232c", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 1, "deletions": 22, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5876578bdcbc80a231b4c42c2ebf242912eb631f/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=5876578bdcbc80a231b4c42c2ebf242912eb631f", "patch": "@@ -314,10 +314,6 @@ package Prj is\n    No_Language_Index : constant Language_Ptr := null;\n    --  Constant indicating that there is no language data\n \n-   procedure Display_Language_Name\n-     (Language : Language_Ptr);\n-   --  Output the name of a language\n-\n    Max_Header_Num : constant := 6150;\n    type Header_Num is range 0 .. Max_Header_Num;\n    --  Size for hash table below. The upper bound is an arbitrary value, the\n@@ -898,11 +894,6 @@ package Prj is\n       Language : String;\n       Naming   : Naming_Data) return String;\n \n-   function Spec_Suffix_Id_Of\n-     (In_Tree  : Project_Tree_Ref;\n-      Language : String;\n-      Naming   : Naming_Data) return File_Name_Type;\n-\n    function Spec_Suffix_Id_Of\n      (In_Tree     : Project_Tree_Ref;\n       Language_Id : Name_Id;\n@@ -914,11 +905,6 @@ package Prj is\n       Naming   : in out Naming_Data;\n       Suffix   : File_Name_Type);\n \n-   function Body_Suffix_Id_Of\n-     (In_Tree  : Project_Tree_Ref;\n-      Language : String;\n-      Naming   : Naming_Data) return File_Name_Type;\n-\n    function Body_Suffix_Id_Of\n      (In_Tree     : Project_Tree_Ref;\n       Language_Id : Name_Id;\n@@ -935,10 +921,6 @@ package Prj is\n       Naming   : in out Naming_Data;\n       Suffix   : File_Name_Type);\n \n-   function Objects_Exist_For\n-     (Language : String;\n-      In_Tree  : Project_Tree_Ref) return Boolean;\n-\n    function Standard_Naming_Data\n      (Tree : Project_Tree_Ref := No_Project_Tree) return Naming_Data;\n    pragma Inline (Standard_Naming_Data);\n@@ -1457,10 +1439,7 @@ package Prj is\n \n    type Project_Tree_Data is\n       record\n-         --  Languages and sources of the project\n-\n-         First_Language : Language_Ptr  := No_Language_Index;\n-         --\n+         --  sources of the project\n \n          First_Source : Source_Id := No_Source;\n          --"}]}