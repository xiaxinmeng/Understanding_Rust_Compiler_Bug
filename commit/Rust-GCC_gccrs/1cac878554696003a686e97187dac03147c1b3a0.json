{"sha": "1cac878554696003a686e97187dac03147c1b3a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNhYzg3ODU1NDY5NjAwM2E2ODZlOTcxODdkYWMwMzE0N2MxYjNhMA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2001-01-24T21:10:06Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2001-01-24T21:10:06Z"}, "message": "combine.c (combine_simplify_rtx): If the modes are all VOIDmode, check the original operand's mode also.\n\n* combine.c (combine_simplify_rtx): If the modes are all VOIDmode,\ncheck the original operand's mode also.\n* simplify-rtx.c (simplify_ternary_operation): Ditto.\n\nFrom-SVN: r39247", "tree": {"sha": "1ef59c92ecf1e229cd306bc9fc386361957e37f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ef59c92ecf1e229cd306bc9fc386361957e37f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cac878554696003a686e97187dac03147c1b3a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cac878554696003a686e97187dac03147c1b3a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cac878554696003a686e97187dac03147c1b3a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cac878554696003a686e97187dac03147c1b3a0/comments", "author": null, "committer": null, "parents": [{"sha": "cedd825f0f18088f7235f02136021bd63a2e12df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cedd825f0f18088f7235f02136021bd63a2e12df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cedd825f0f18088f7235f02136021bd63a2e12df"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "8dc545edda7d5449389f22aa2d1b9ed6ed78fae3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cac878554696003a686e97187dac03147c1b3a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cac878554696003a686e97187dac03147c1b3a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1cac878554696003a686e97187dac03147c1b3a0", "patch": "@@ -1,3 +1,9 @@\n+2001-01-24  DJ Delorie  <dj@redhat.com>\n+\n+\t* combine.c (combine_simplify_rtx): If the modes are all VOIDmode,\n+\tcheck the original operand's mode also.\n+\t* simplify-rtx.c (simplify_ternary_operation): Ditto.\n+\n 2001-01-24  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* c-parse.in (cast_expr): Move compound literals from here ..."}, {"sha": "8d7c9ccd65c515b2c49991026863e71911db1257", "filename": "gcc/combine.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cac878554696003a686e97187dac03147c1b3a0/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cac878554696003a686e97187dac03147c1b3a0/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=1cac878554696003a686e97187dac03147c1b3a0", "patch": "@@ -3654,7 +3654,11 @@ combine_simplify_rtx (x, op0_mode, last, in_dest)\n       {\n \tenum machine_mode cmp_mode = GET_MODE (XEXP (x, 0));\n \tif (cmp_mode == VOIDmode)\n-\t  cmp_mode = GET_MODE (XEXP (x, 1));\n+\t  {\n+\t    cmp_mode = GET_MODE (XEXP (x, 1));\n+\t    if (cmp_mode == VOIDmode)\n+\t      cmp_mode = op0_mode;\n+\t  }\n \ttemp = simplify_relational_operation (code, cmp_mode,\n \t\t\t\t\t      XEXP (x, 0), XEXP (x, 1));\n       }"}, {"sha": "82bb8e40024bc9c075581e2bf112329bd6676ffd", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cac878554696003a686e97187dac03147c1b3a0/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cac878554696003a686e97187dac03147c1b3a0/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=1cac878554696003a686e97187dac03147c1b3a0", "patch": "@@ -2057,6 +2057,8 @@ simplify_ternary_operation (code, mode, op0_mode, op0, op1, op2)\n \t  enum machine_mode cmp_mode = (GET_MODE (XEXP (op0, 0)) == VOIDmode\n \t\t\t\t\t? GET_MODE (XEXP (op0, 1))\n \t\t\t\t\t: GET_MODE (XEXP (op0, 0)));\n+\t  if (cmp_mode == VOIDmode)\n+\t    cmp_mode = op0_mode;\n \t  rtx temp\n \t     = simplify_relational_operation (GET_CODE (op0), cmp_mode,\n \t\t\t\t\t      XEXP (op0, 0), XEXP (op0, 1));"}]}