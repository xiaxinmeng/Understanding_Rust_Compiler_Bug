{"sha": "53685896151d0ec0685ad73ab447c16cf5fd7f03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTM2ODU4OTYxNTFkMGVjMDY4NWFkNzNhYjQ0N2MxNmNmNWZkN2YwMw==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-05-02T15:57:45Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-05-02T15:57:45Z"}, "message": "* rtlanal.c (rtx_cost): Handle TRUNCATE between tieable modes.\n\nFrom-SVN: r247509", "tree": {"sha": "e0155b158fe08efc0e62ef246d45524d3667ad09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0155b158fe08efc0e62ef246d45524d3667ad09"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53685896151d0ec0685ad73ab447c16cf5fd7f03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53685896151d0ec0685ad73ab447c16cf5fd7f03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53685896151d0ec0685ad73ab447c16cf5fd7f03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53685896151d0ec0685ad73ab447c16cf5fd7f03/comments", "author": null, "committer": null, "parents": [{"sha": "27c72a9bfd75deb3921327e6069fb2b426a91fec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27c72a9bfd75deb3921327e6069fb2b426a91fec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27c72a9bfd75deb3921327e6069fb2b426a91fec"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "c7c1e86ba01d5a2356e79c307f6d8714d2b18e19", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53685896151d0ec0685ad73ab447c16cf5fd7f03/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53685896151d0ec0685ad73ab447c16cf5fd7f03/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=53685896151d0ec0685ad73ab447c16cf5fd7f03", "patch": "@@ -1,9 +1,12 @@\n+2017-05-02  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* rtlanal.c (rtx_cost): Handle TRUNCATE between tieable modes.\n+\n 2017-05-02  Xi Ruoyao  <ryxi@stu.xidian.edu.cn>\n \n \t* tree.h (EXPR_CILK_SPAWN): Use macro TREE_CHECK2 instead of\n \tfunction tree_check2.\n \n-\n 2017-05-02  Martin Liska  <mliska@suse.cz>\n \n \t* doc/gcov.texi: Add missing preposition."}, {"sha": "f18245fb557dae3b455b3fb86b1a911a276e322e", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53685896151d0ec0685ad73ab447c16cf5fd7f03/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53685896151d0ec0685ad73ab447c16cf5fd7f03/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=53685896151d0ec0685ad73ab447c16cf5fd7f03", "patch": "@@ -4164,6 +4164,14 @@ rtx_cost (rtx x, machine_mode mode, enum rtx_code outer_code,\n \treturn COSTS_N_INSNS (2 + factor);\n       break;\n \n+    case TRUNCATE:\n+      /* If we can tie these modes, make this cheap.  */\n+      if (MODES_TIEABLE_P (mode, GET_MODE (SUBREG_REG (x))))\n+\t{\n+\t  total = 0;\n+\t  break;\n+\t}\n+      /* FALLTHRU */\n     default:\n       if (targetm.rtx_costs (x, mode, outer_code, opno, &total, speed))\n \treturn total;"}]}