{"sha": "1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYyODhiM2ZhMWYyMDczMDI5ODZmODlmMmQ3NmZhNjZjMWM3MmIyZA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-11-16T02:25:57Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-11-16T02:25:57Z"}, "message": "toplev.c (compile_file): Don't pedwarn about undefined static functions just because we passed -Wunused.\n\n\t* toplev.c (compile_file): Don't pedwarn about undefined static\n\tfunctions just because we passed -Wunused.\n\nFrom-SVN: r23672", "tree": {"sha": "c05a31ba64046ba9d080fdcbb5bceeab2244bfa0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c05a31ba64046ba9d080fdcbb5bceeab2244bfa0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f288b3fa1f207302986f89f2d76fa66c1c72b2d/comments", "author": null, "committer": null, "parents": [{"sha": "2c736c2fd58686978067a96af943958a477ecf3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c736c2fd58686978067a96af943958a477ecf3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c736c2fd58686978067a96af943958a477ecf3b"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "7a5306486ce50b9146e40b817b3d7aa34b575080", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f288b3fa1f207302986f89f2d76fa66c1c72b2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f288b3fa1f207302986f89f2d76fa66c1c72b2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "patch": "@@ -1,3 +1,8 @@\n+Mon Nov 16 02:22:29 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* toplev.c (compile_file): Don't pedwarn about undefined static\n+\tfunctions just because we passed -Wunused.\n+\n Mon Nov 16 04:41:41 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* function.c (purge_addressof_1): Unshare rtl created by\n@@ -1270,7 +1275,6 @@ Thu Oct 22 15:46:23 1998  Per Bothner (bothner@cygnus.com)\n \t* Makefile.in (distdir-cvs, distdir-start):  Clean up so it\n \tworks if \"$(srcdir)\" != \".\".\n \n->>>>>>> 1.2469\n Wed Oct 21 19:23:59 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* expmed.c (store_bit_field): If need to add a SUBREG, then remove"}, {"sha": "707da3e09e5c3a27e7c09039bcf8985c6aafe09c", "filename": "gcc/toplev.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f288b3fa1f207302986f89f2d76fa66c1c72b2d/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f288b3fa1f207302986f89f2d76fa66c1c72b2d/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=1f288b3fa1f207302986f89f2d76fa66c1c72b2d", "patch": "@@ -2966,8 +2966,12 @@ compile_file (name)\n \t    && ! DECL_ARTIFICIAL (decl)\n \t    && ! TREE_PUBLIC (decl))\n \t  {\n-\t    pedwarn_with_decl (decl, \n-\t\t\t       \"`%s' declared `static' but never defined\");\n+\t    if (TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (decl)))\n+\t      pedwarn_with_decl (decl,\n+\t\t\t\t \"`%s' used but never defined\");\n+\t    else\n+\t      warning_with_decl (decl,\n+\t\t\t\t \"`%s' declared `static' but never defined\");\n \t    /* This symbol is effectively an \"extern\" declaration now.  */\n \t    TREE_PUBLIC (decl) = 1;\n \t    assemble_external (decl);"}]}