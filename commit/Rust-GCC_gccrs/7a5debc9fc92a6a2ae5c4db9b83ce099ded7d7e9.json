{"sha": "7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E1ZGViYzlmYzkyYTZhMmFlNWM0ZGI5YjgzY2UwOTlkZWQ3ZDdlOQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-09T10:32:08Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-09T10:32:08Z"}, "message": "[multiple changes]\n\n2009-07-09  Thomas Quinot  <quinot@adacore.com>\n\n\t* g-socket.adb (Check_Selector): Do not create local copies of the\n\tsocket sets on the stack.\n\n2009-07-09  Vasiliy Fofanov  <fofanov@adacore.com>\n\n\t* gnat_ugn.texi: Add missing VMS translations.\n\nFrom-SVN: r149414", "tree": {"sha": "2e566816c54d166da3dc0c0880bad83f76fc5377", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e566816c54d166da3dc0c0880bad83f76fc5377"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/comments", "author": null, "committer": null, "parents": [{"sha": "3f92c93b3cb05c6bf529d6bd4163b4d0e4beec57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f92c93b3cb05c6bf529d6bd4163b4d0e4beec57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f92c93b3cb05c6bf529d6bd4163b4d0e4beec57"}], "stats": {"total": 77, "additions": 27, "deletions": 50}, "files": [{"sha": "7cd08af8f1fb2dcf945252f2f3ecda727e5411ca", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "patch": "@@ -1,3 +1,12 @@\n+2009-07-09  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* g-socket.adb (Check_Selector): Do not create local copies of the\n+\tsocket sets on the stack.\n+\n+2009-07-09  Vasiliy Fofanov  <fofanov@adacore.com>\n+\n+\t* gnat_ugn.texi: Add missing VMS translations.\n+\n 2009-07-09  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_prag.adb (Analyze_Pragma, case Precondition): Do not analyze the"}, {"sha": "22c28ec5dedf834d053c51d9dfd8b5c18cb58c6e", "filename": "gcc/ada/g-socket.adb", "status": "modified", "additions": 14, "deletions": 46, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2Fg-socket.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2Fg-socket.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-socket.adb?ref=7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "patch": "@@ -465,9 +465,6 @@ package body GNAT.Sockets is\n       Res  : C.int;\n       Last : C.int;\n       RSig : Socket_Type renames Selector.R_Sig_Socket;\n-      RSet : Socket_Set_Type;\n-      WSet : Socket_Set_Type;\n-      ESet : Socket_Set_Type;\n       TVal : aliased Timeval;\n       TPtr : Timeval_Access;\n \n@@ -483,29 +480,20 @@ package body GNAT.Sockets is\n          TPtr := TVal'Unchecked_Access;\n       end if;\n \n-      --  Copy R_Socket_Set in RSet and add read signalling socket\n+      --  Add read signalling socket\n \n-      RSet := R_Socket_Set;\n-      Set (RSet, RSig);\n+      Set (R_Socket_Set, RSig);\n \n-      --  Copy W_Socket_Set in WSet\n-\n-      WSet := W_Socket_Set;\n-\n-      --  Copy E_Socket_Set in ESet\n-\n-      ESet := E_Socket_Set;\n-\n-      Last := C.int'Max (C.int'Max (C.int (RSet.Last),\n-                                    C.int (WSet.Last)),\n-                                    C.int (ESet.Last));\n+      Last := C.int'Max (C.int'Max (C.int (R_Socket_Set.Last),\n+                                    C.int (W_Socket_Set.Last)),\n+                                    C.int (E_Socket_Set.Last));\n \n       Res :=\n         C_Select\n          (Last + 1,\n-          RSet.Set'Access,\n-          WSet.Set'Access,\n-          ESet.Set'Access,\n+          R_Socket_Set.Set'Access,\n+          W_Socket_Set.Set'Access,\n+          E_Socket_Set.Set'Access,\n           TPtr);\n \n       if Res = Failure then\n@@ -515,8 +503,8 @@ package body GNAT.Sockets is\n       --  If Select was resumed because of read signalling socket, read this\n       --  data and remove socket from set.\n \n-      if Is_Set (RSet, RSig) then\n-         Clear (RSet, RSig);\n+      if Is_Set (R_Socket_Set, RSig) then\n+         Clear (R_Socket_Set, RSig);\n \n          Res := Signalling_Fds.Read (C.int (RSig));\n \n@@ -530,31 +518,11 @@ package body GNAT.Sockets is\n          Status := Expired;\n       end if;\n \n-      --  Update RSet, WSet and ESet in regard to their new socket sets\n-\n-      Narrow (RSet);\n-      Narrow (WSet);\n-      Narrow (ESet);\n-\n-      --  Reset RSet as it should be if R_Sig_Socket was not added\n-\n-      if Is_Empty (RSet) then\n-         Empty (RSet);\n-      end if;\n-\n-      if Is_Empty (WSet) then\n-         Empty (WSet);\n-      end if;\n-\n-      if Is_Empty (ESet) then\n-         Empty (ESet);\n-      end if;\n-\n-      --  Deliver RSet, WSet and ESet\n+      --  Update socket sets in regard to their new contents\n \n-      R_Socket_Set := RSet;\n-      W_Socket_Set := WSet;\n-      E_Socket_Set := ESet;\n+      Narrow (R_Socket_Set);\n+      Narrow (W_Socket_Set);\n+      Narrow (E_Socket_Set);\n    end Check_Selector;\n \n    -----------"}, {"sha": "1664999bcce1333766c9d4194b0c18d0e0255636", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=7a5debc9fc92a6a2ae5c4db9b83ce099ded7d7e9", "patch": "@@ -6996,8 +6996,8 @@ This not normally required, but is used by separate analysis tools.\n Typically\n these tools do the necessary compilations automatically, so you should\n not have to specify this switch in normal operation.\n-Note that the combination of switches @option{-gnatct} generates a tree\n-in the form required by ASIS applications.\n+Note that the combination of switches @option{^-gnatct^/NOLOAD /TREE_OUTPUT^}\n+generates a tree in the form required by ASIS applications.\n \n @item -gnatu\n @cindex @option{-gnatu} (@command{gcc})\n@@ -20824,8 +20824,8 @@ structure and semantics as the @code{string_LITERAL} parameter of GNAT pragma\n @code{Style_Checks} (for further information about this pragma,\n @pxref{Pragma Style_Checks,,, gnat_rm, GNAT Reference Manual}). For example,\n @code{+RStyle_Checks:O} rule option activates and adds to @command{gnatcheck}\n-output the compiler style check that corresponds to @code{-gnatyO} style\n-check option.\n+output the compiler style check that corresponds to\n+@code{^-gnatyO^/STYLE_CHECKS=OVERRIDING_INDICATORS^} style check option.\n \n @item Warnings\n To record compiler warnings (@pxref{Warning Message Control}), use the rule"}]}