{"sha": "7d2d49af126b23df12a81d029c891dc1343dc8e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2QyZDQ5YWYxMjZiMjNkZjEyYTgxZDAyOWM4OTFkYzEzNDNkYzhlNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-24T22:13:54Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-08-24T22:13:54Z"}, "message": "(build_unary_op): For ADDR_EXPR, just set TREE_CONSTANT\nif staticp, but don't clear TREE_CONSTANT.\n\nFrom-SVN: r1939", "tree": {"sha": "1ab1f82182ebdfb5bf9d297c2bdef45200b7cd89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ab1f82182ebdfb5bf9d297c2bdef45200b7cd89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d2d49af126b23df12a81d029c891dc1343dc8e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d2d49af126b23df12a81d029c891dc1343dc8e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d2d49af126b23df12a81d029c891dc1343dc8e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d2d49af126b23df12a81d029c891dc1343dc8e6/comments", "author": null, "committer": null, "parents": [{"sha": "5874448344f74d0033faaadc5d009bcd3d2726bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5874448344f74d0033faaadc5d009bcd3d2726bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5874448344f74d0033faaadc5d009bcd3d2726bb"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "3b0f809e390da2ec91091cfc6a7b939a553fe7b2", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d2d49af126b23df12a81d029c891dc1343dc8e6/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d2d49af126b23df12a81d029c891dc1343dc8e6/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=7d2d49af126b23df12a81d029c891dc1343dc8e6", "patch": "@@ -3166,8 +3166,9 @@ build_unary_op (code, xarg, noconvert)\n \t  addr = build1 (code, argtype, arg);\n \n \t/* Address of a static or external variable or\n-\t   function counts as a constant */\n-\tTREE_CONSTANT (addr) = staticp (arg);\n+\t   function counts as a constant.  */\n+\tif (staticp (arg))\n+\t  TREE_CONSTANT (addr) = 1;\n \treturn addr;\n       }\n     }"}]}