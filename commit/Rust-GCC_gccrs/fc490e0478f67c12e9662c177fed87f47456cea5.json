{"sha": "fc490e0478f67c12e9662c177fed87f47456cea5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmM0OTBlMDQ3OGY2N2MxMmU5NjYyYzE3N2ZlZDg3ZjQ3NDU2Y2VhNQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-01-09T00:05:12Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-01-09T00:05:12Z"}, "message": "compiler: use int type for len & cap in slice value\n    \n    Slice value expression has backend type a struct of a pointer and\n    two ints. Make sure the len and cap are converted to int when\n    creating slice value expression.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/156897\n\nFrom-SVN: r267745", "tree": {"sha": "28ec169a2fc7627e5f036ae29b2d01135b501992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/28ec169a2fc7627e5f036ae29b2d01135b501992"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fc490e0478f67c12e9662c177fed87f47456cea5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc490e0478f67c12e9662c177fed87f47456cea5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc490e0478f67c12e9662c177fed87f47456cea5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc490e0478f67c12e9662c177fed87f47456cea5/comments", "author": null, "committer": null, "parents": [{"sha": "52af30719fde1430bd4c4a686fe4375be1a7b0cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52af30719fde1430bd4c4a686fe4375be1a7b0cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52af30719fde1430bd4c4a686fe4375be1a7b0cf"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "40e5a2e8649d58040b31437fa35531ea3e48d76b", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc490e0478f67c12e9662c177fed87f47456cea5/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc490e0478f67c12e9662c177fed87f47456cea5/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=fc490e0478f67c12e9662c177fed87f47456cea5", "patch": "@@ -1,4 +1,4 @@\n-085ef4556ec810a5a9c422e7b86d98441dc92e86\n+960637781ca9546ea2db913e48afd7eccbdadfa9\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "4854c3cb2a337c55b6ae32b039993806304fcb18", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc490e0478f67c12e9662c177fed87f47456cea5/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc490e0478f67c12e9662c177fed87f47456cea5/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=fc490e0478f67c12e9662c177fed87f47456cea5", "patch": "@@ -7821,8 +7821,10 @@ Builtin_call_expression::lower_make(Statement_inserter* inserter)\n \t\t\t\t\t   cap_arg);\n       mem = Expression::make_unsafe_cast(Type::make_pointer_type(et), mem,\n \t\t\t\t\t loc);\n-      call = Expression::make_slice_value(type, mem, len_arg->copy(),\n-\t\t\t\t\t  cap_arg->copy(), loc);\n+      Type* int_type = Type::lookup_integer_type(\"int\");\n+      len_arg = Expression::make_cast(int_type, len_arg->copy(), loc);\n+      cap_arg = Expression::make_cast(int_type, cap_arg->copy(), loc);\n+      call = Expression::make_slice_value(type, mem, len_arg, cap_arg, loc);\n     }\n   else if (is_map)\n     {"}]}