{"sha": "d14766358930ae9abc24c7a37644ef566ecff177", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDE0NzY2MzU4OTMwYWU5YWJjMjRjN2EzNzY0NGVmNTY2ZWNmZjE3Nw==", "commit": {"author": {"name": "Joel Sherrill", "email": "joel@OARcorp.com", "date": "1999-09-14T09:52:09Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-09-14T09:52:09Z"}, "message": "configure.in (m68k-*-rtemscoff*): Added.\n\n        * configure.in (m68k-*-rtemscoff*): Added.\n        * configure.in (mips64orion-*-rtems*): Converted to ELF.\n        * configure.in (sparc-*-rtemsaout*): Added as alias for old\n        sparc-rtems configuration.\n        * configure.in (sparc-*-rtemself*): Added.\n        * configure.in (sparc-*-rtems*): Now ELF not a.out.\n        * config/i386/rtems.h: Added comment.\n        * config/sparc/rtemself.h: New file.\n\n        * configure.in (m68k-rtemself): Added.\n        * config/elfos.h: Added ifndef wrapper for DWARF2_DEBUGGING_INFO\n        and DWARF_DEBUGGING_INFO.\n        * config/m68k/crti.s: New file.\n        * config/m68k/crtn.s: New file.\n        * config/m68k/t-crtstuff: New file.\n        * config/m68k/rtemself.h: New file.\n\n        * configure.in (i[[34567]]86-*-rtemself*): Now uses crtstuff for\n        global ctor/dtor and C++ exception handling.\n        * config/i386/rtemself.h: Now uses crtstuff (crti.o + crtbegin.o)\n        for STARTFILE_SPEC and crtstuff (crtend.o + crtn.o) for\n        ENDFILE_SPEC.\n        * config/i386/t-rtems-i386: New File.\n\nCo-Authored-By: Charles-Antoine Gauthier <charles.gauthier@iit.nrc.ca>\nCo-Authored-By: Rosimildo DaSilva <rdasilva@connecttel.com>\n\nFrom-SVN: r29401", "tree": {"sha": "ff2275e58d7a647575238c8d09426e2180237d06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff2275e58d7a647575238c8d09426e2180237d06"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d14766358930ae9abc24c7a37644ef566ecff177", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d14766358930ae9abc24c7a37644ef566ecff177", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d14766358930ae9abc24c7a37644ef566ecff177", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d14766358930ae9abc24c7a37644ef566ecff177/comments", "author": null, "committer": null, "parents": [{"sha": "03c03770036f0031edd452f9d94dfa581989faae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03c03770036f0031edd452f9d94dfa581989faae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03c03770036f0031edd452f9d94dfa581989faae"}], "stats": {"total": 509, "additions": 396, "deletions": 113}, "files": [{"sha": "60e1c9f1a9ff2b24b3640df2625f9432c6980505", "filename": "gcc/ChangeLog", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -1,3 +1,31 @@\n+Tue Sep 14 03:47:23 1999  Joel Sherrill <joel@OARcorp.com>\n+\t\t\t  Charles-Antoine Gauthier <charles.gauthier@iit.nrc.ca>\n+\t\t\t  Rosimildo DaSilva <rdasilva@connecttel.com>\n+\n+\t* configure.in (m68k-*-rtemscoff*): Added.\n+\t* configure.in (mips64orion-*-rtems*): Converted to ELF.\n+\t* configure.in (sparc-*-rtemsaout*): Added as alias for old\n+\tsparc-rtems configuration.\n+\t* configure.in (sparc-*-rtemself*): Added.\n+\t* configure.in (sparc-*-rtems*): Now ELF not a.out.\n+\t* config/i386/rtems.h: Added comment.\n+\t* config/sparc/rtemself.h: New file.\n+\n+\t* configure.in (m68k-rtemself): Added.\n+\t* config/elfos.h: Added ifndef wrapper for DWARF2_DEBUGGING_INFO\n+\tand DWARF_DEBUGGING_INFO.\n+\t* config/m68k/crti.s: New file.\n+\t* config/m68k/crtn.s: New file.\n+\t* config/m68k/t-crtstuff: New file.\n+\t* config/m68k/rtemself.h: New file.\n+\n+\t* configure.in (i[[34567]]86-*-rtemself*): Now uses crtstuff for\n+\tglobal ctor/dtor and C++ exception handling.\n+\t* config/i386/rtemself.h: Now uses crtstuff (crti.o + crtbegin.o)\n+\tfor STARTFILE_SPEC and crtstuff (crtend.o + crtn.o) for\n+\tENDFILE_SPEC.\n+\t* config/i386/t-rtems-i386: New File.\n+\n Tue Sep 14 09:47:41 1999  Andreas Schwab  <schwab@suse.de>\n \n \t* stmt.c (expand_end_case): Return right away if the case stack is"}, {"sha": "3438a8d486d125fd6e919019bcf607f2d871b715", "filename": "gcc/config/elfos.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Felfos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Felfos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Felfos.h?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -69,11 +69,15 @@ do {\t\t\t\t \t\t\t\t\\\n \n /* System V Release 4 uses DWARF debugging info.  */\n \n-#define DWARF_DEBUGGING_INFO\n+#ifndef DWARF_DEBUGGING_INFO\n+#define DWARF_DEBUGGING_INFO 1\n+#endif\n \n /* All ELF targets can support DWARF-2.  */\n \n-#define DWARF2_DEBUGGING_INFO\n+#ifndef DWARF2_DEBUGGING_INFO\n+#define DWARF2_DEBUGGING_INFO 1\n+#endif\n \n /* Also allow them to support STABS debugging.  */\n "}, {"sha": "55436b31ad7801f6f7f7994d89c7655575dd9dff", "filename": "gcc/config/i386/rtems.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Frtems.h?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -32,3 +32,4 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_MEM_FUNCTIONS\n #endif\n \n+/* end of i386/rtems.h */"}, {"sha": "3a870eab897178ba729635e42e5f656a3b19bd34", "filename": "gcc/config/i386/rtemself.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Frtemself.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Frtemself.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Frtemself.h?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -163,7 +163,9 @@ Boston, MA 02111-1307, USA.  */\n   asm_output_aligned_bss (FILE, DECL, NAME, SIZE, ALIGN)\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC  \"crt0.o%s\"\n+#define STARTFILE_SPEC \"crt0.o%s crti.o%s crtbegin.o%s\"\n \n #undef ENDFILE_SPEC\n+#define ENDFILE_SPEC   \"crtend.o%s crtn.o%s\"\n+\n      "}, {"sha": "d112e2e7e2da7d1f350d59cbd06354936dbcfbf1", "filename": "gcc/config/i386/t-rtems-i386", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Ft-rtems-i386", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fi386%2Ft-rtems-i386", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-rtems-i386?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,17 @@\n+#\n+# This file was based on t-sol2 - x68 Solaris implementation. Actually,\n+# the source code to create crti.o anf crtn.o are exactly the same \n+# as the ones for Solaris. Later, we might want to have a RTEMS's \n+# version of these files.\n+#\n+\n+LIBGCC1 = \n+CROSS_LIBGCC1 = \n+\n+crti.o: $(srcdir)/config/i386/sol2-ci.asm $(GCC_PASSES)\n+\tsed -e '/^!/d' <$(srcdir)/config/i386/sol2-ci.asm >crti.s\n+\t$(GCC_FOR_TARGET) -c -o crti.o crti.s\n+crtn.o: $(srcdir)/config/i386/sol2-cn.asm $(GCC_PASSES)\n+\tsed -e '/^!/d' <$(srcdir)/config/i386/sol2-cn.asm >crtn.s\n+\t$(GCC_FOR_TARGET) -c -o crtn.o crtn.s\n+"}, {"sha": "8e12331061102f1a3f1a12b63df64394b800bfd3", "filename": "gcc/config/m68k/crti.s", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Fcrti.s", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Fcrti.s", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fcrti.s?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,47 @@\n+/* Specialized code needed to support construction and destruction of\n+   file-scope objects in C++ and Java code, and to support exception handling.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Contributed by Charles-Antoine Gauthier (charles.gauthier@iit.nrc.ca).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* As a special exception, if you link this library with files\n+   compiled with GCC to produce an executable, this does not cause\n+   the resulting executable to be covered by the GNU General Public License.\n+   This exception does not however invalidate any other reasons why\n+   the executable file might be covered by the GNU General Public License.  */\n+\n+/*\n+ * This file just supplies function prologues for the .init and .fini\n+ * sections.  It is linked in before crtbegin.o.\n+ */\n+\n+\t.file   \"crti.o\"\n+\t.ident  \"GNU C crti.o\"\n+\n+\t.section .init\n+\t.globl  _init\n+\t.type   _init,@function\n+_init:\n+\tlinkw %fp,#0\n+\n+\t.section .fini\n+\t.globl  _fini\n+\t.type   _fini,@function\n+_fini:\n+\tlinkw %fp,#0"}, {"sha": "633829055717131974b5f7e61d3e2166d88af928", "filename": "gcc/config/m68k/crtn.s", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Fcrtn.s", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Fcrtn.s", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fcrtn.s?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,43 @@\n+/* Specialized code needed to support construction and destruction of\n+   file-scope objects in C++ and Java code, and to support exception handling.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+   Contributed by Charles-Antoine Gauthier (charles.gauthier@iit.nrc.ca).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* As a special exception, if you link this library with files\n+   compiled with GCC to produce an executable, this does not cause\n+   the resulting executable to be covered by the GNU General Public License.\n+   This exception does not however invalidate any other reasons why\n+   the executable file might be covered by the GNU General Public License.  */\n+\n+/*\n+ * This file supplies function epilogues for the .init and .fini sections.\n+ * It is linked in after all other files.\n+ */\n+\n+\t.file   \"crtn.o\"\n+\t.ident  \"GNU C crtn.o\"\n+\n+\t.section .init\n+\tunlk %fp\n+\trts\n+\n+\t.section .fini\n+\tunlk %fp\n+\trts"}, {"sha": "ea1915320bf5d9c03ea5c0a16b395ba0466cf008", "filename": "gcc/config/m68k/rtemself.h", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Frtemself.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Frtemself.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Frtemself.h?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,67 @@\n+/* Definitions for rtems targeting a Motorola m68k using elf.\n+   Copyright (C) 1999, National Research Council of Canada.\n+   Contributed by Charles-Antoine Gauthier (charles.gauthier@nrc.ca).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+\n+#define MOTOROLA       /* Use Motorola syntax rather than MIT.  */\n+\n+#include \"m68k/m68020-elf.h\"\n+\n+/* Specify predefined symbols in preprocessor.  */\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-Dmc68000 -Drtems -D__rtems__ -D__ELF__ \\\n+   -Asystem(rtems) -Acpu(mc68000) -Acpu(m68k) -Amachine(m68k)\"\n+\n+/* Generate calls to memcpy, memcmp and memset.  */\n+#ifndef TARGET_MEM_FUNCTIONS\n+#define TARGET_MEM_FUNCTIONS\n+#endif\n+\n+/*\n+ *  Each RTEMS BSP provides its own crt0 and linker script.  Unfortunately\n+ *  this means that crt0 and the linker script are not available as\n+ *  each tool is configured.  Without a crt0 and linker script, m68k ELF\n+ *  targets do not successfully link \"conftest.c\" during the configuration\n+ *  process.  RTEMS supplies a crt0.c that provides all the symbols required\n+ *  to successfully link a program.  The resulting program will not run \n+ *  but this is enough to satisfy the autoconf macro AC_PROG_CC.\n+ *  Override STARTFILE_SPEC to use the fake crt0.o supplied by rtems.\n+ */\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \"crt0.o%s\"\n+\n+/*\n+ *  Redefine INIT_SECTION_ASM_OP and FINI_SECTION_ASM_OP. This is the easiest\n+ *  way to process constructors, destructors, and the exception frame\n+ *  information at startup.\n+ */\n+#undef INIT_SECTION_ASM_OP\n+#define INIT_SECTION_ASM_OP    \".section\\t.init\"\n+#undef FINI_SECTION_ASM_OP\n+#define FINI_SECTION_ASM_OP    \".section\\t.fini\"\n+\n+#undef EH_FRAME_SECTION_ASM_OP\n+#define EH_FRAME_SECTION_ASM_OP        \".section\\t.eh_frame\"\n+\n+/* Do I need this? */\n+#undef INVOKE__main\n+\n+"}, {"sha": "74dd4e0134945eec2e3c523e61e2f7b89cf56079", "filename": "gcc/config/m68k/t-crtstuff", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Ft-crtstuff", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fm68k%2Ft-crtstuff", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-crtstuff?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,11 @@\n+# from ../t-svr4\n+EXTRA_PARTS=crtbegin.o crtend.o crti.o crtn.o\n+\n+# Add flags here as required.\n+CRTSTUFF_T_CFLAGS =\n+\n+# Assemble startup files.\n+crti.o: $(srcdir)/config/m68k/crti.s $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) -c -o crti.o $(srcdir)/config/m68k/crti.s\n+crtn.o: $(srcdir)/config/m68k/crtn.s $(GCC_PASSES)\n+\t$(GCC_FOR_TARGET) -c -o crtn.o $(srcdir)/config/m68k/crtn.s"}, {"sha": "dc08d04466c43eb1346b2844ac1a417ec22a7b80", "filename": "gcc/config/sparc/rtemself.h", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fsparc%2Frtemself.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfig%2Fsparc%2Frtemself.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Frtemself.h?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -0,0 +1,35 @@\n+/* Definitions for rtems targeting a SPARC using a.out.\n+   Copyright (C) 1996, 1997 Free Software Foundation, Inc.\n+   Contributed by Joel Sherrill (joel@OARcorp.com).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"sparc/elf.h\"\n+\n+/* Specify predefined symbols in preprocessor.  */\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-Dsparc -D__GCC_NEW_VARARGS__ -Drtems -D__rtems__ \\\n+  -Asystem(rtems) -Acpu(sparc) -Amachine(sparc)\"\n+\n+/* Generate calls to memcpy, memcmp and memset.  */\n+#ifndef TARGET_MEM_FUNCTIONS\n+#define TARGET_MEM_FUNCTIONS\n+#endif\n+\n+/* end of sparc/rtems.h */"}, {"sha": "ad38608c9c075672e680bb2bcb7967dfc04290fd", "filename": "gcc/configure", "status": "modified", "additions": 117, "deletions": 103, "changes": 220, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -3877,12 +3877,13 @@ for machine in $build $host $target; do\n \t\ttm_file=i386/go32-rtems.h\n \t\ttmake_file=\"i386/t-go32 t-rtems\"\n \t\t;;\n-\ti[34567]86-*-rtemself*)\n+\ti[34567]86-*-rtems*|i[34567]86-*-rtemself*)\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtemself.h\n-\t\ttmake_file=\"i386/t-i386bare t-rtems\"\n+\t\textra_parts=\"crtbegin.o crtend.o crti.o crtn.o\"\n+\t\ttmake_file=\"i386/t-rtems-i386 i386/t-crtstuff t-rtems\"\n \t\t;;\n-\ti[34567]86-*-rtems*)\n+\ti[34567]86-*-rtemscoff*)\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtems.h\n \t\ttmake_file=\"i386/t-i386bare t-rtems\"\n@@ -4619,13 +4620,18 @@ for machine in $build $host $target; do\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n \t\t;;\n-\tm68k-*-rtems*)\n+\tm68k-*-rtemscoff*|m68k-*-rtems*)\n \t\ttmake_file=\"m68k/t-m68kbare t-rtems\"\n \t\ttm_file=m68k/rtems.h\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n \t\t;;\n-\n+\tm68k-*-rtemself*)\n+\t\ttmake_file=\"m68k/t-m68kbare t-rtems m68k/t-crtstuff\"\n+\t\ttm_file=m68k/rtemself.h\n+\t\textra_headers=math-68881.h\n+\t\tfloat_format=m68k\n+\t\t;;\n \tm88k-dg-dgux*)\n \t\tcase $machine in\n \t\t  m88k-dg-dguxbcs*)\n@@ -5143,7 +5149,8 @@ for machine in $build $host $target; do\n \t\t;;\n \tmips64orion-*-rtems*)\n \t\ttm_file=\"mips/elforion.h mips/elf64.h mips/rtems64.h\"\n-\t\ttmake_file=\"mips/t-ecoff t-rtems\"\n+                tm_file=\"mips/elforion.h mips/elf64.h mips/rtems64.h\"\n+\t\ttmake_file=\"mips/t-elf t-rtems\"\n \t\t;;\n \tmipstx39el-*-elf*)\n \t\ttm_file=\"mips/r3900.h mips/elfl.h mips/abi64.h\"\n@@ -5581,7 +5588,14 @@ for machine in $build $host $target; do\n \t\ttmake_file=sparc/t-sunos41\n \t\txmake_file=x-lynx\n \t\t;;\n-\tsparc-*-rtems*)\n+\tsparc-*-rtems*|sparc-*-rtemself*)\n+\t\ttm_file=\"sparc/rtemself.h\"\n+\t\ttmake_file=\"sparc/t-elf t-rtems\"\n+\t\textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n+\t\t#float_format=i128\n+\t\tfloat_format=i64\n+\t\t;;\n+\tsparc-*-rtemsaout*)\n \t\ttmake_file=\"sparc/t-sparcbare t-rtems\"\n \t\ttm_file=sparc/rtems.h\n \t\t;;\n@@ -6277,15 +6291,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6281: checking for strerror in -lcposix\" >&5\n+echo \"configure:6295: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6289 \"configure\"\n+#line 6303 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6296,7 +6310,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6300: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6314: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6319,12 +6333,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6323: checking for working const\" >&5\n+echo \"configure:6337: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6328 \"configure\"\n+#line 6342 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6373,7 +6387,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6377: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6391: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6394,21 +6408,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6398: checking for inline\" >&5\n+echo \"configure:6412: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6405 \"configure\"\n+#line 6419 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6412: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6426: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6434,12 +6448,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6438: checking for off_t\" >&5\n+echo \"configure:6452: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6443 \"configure\"\n+#line 6457 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6467,12 +6481,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6471: checking for size_t\" >&5\n+echo \"configure:6485: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6476 \"configure\"\n+#line 6490 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6502,19 +6516,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6506: checking for working alloca.h\" >&5\n+echo \"configure:6520: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6511 \"configure\"\n+#line 6525 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6518: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6532: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6535,12 +6549,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6539: checking for alloca\" >&5\n+echo \"configure:6553: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6544 \"configure\"\n+#line 6558 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6568,7 +6582,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6572: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6586: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6600,12 +6614,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6604: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6618: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6609 \"configure\"\n+#line 6623 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6630,12 +6644,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6634: checking for $ac_func\" >&5\n+echo \"configure:6648: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6639 \"configure\"\n+#line 6653 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6658,7 +6672,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6662: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6676: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6685,15 +6699,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6689: checking stack direction for C alloca\" >&5\n+echo \"configure:6703: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6697 \"configure\"\n+#line 6711 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6712,7 +6726,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6716: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6730: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6737,17 +6751,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6741: checking for $ac_hdr\" >&5\n+echo \"configure:6755: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6746 \"configure\"\n+#line 6760 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6751: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6765: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6776,12 +6790,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6780: checking for $ac_func\" >&5\n+echo \"configure:6794: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6785 \"configure\"\n+#line 6799 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6804,7 +6818,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6808: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6822: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6829,15 +6843,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6833: checking for working mmap\" >&5\n+echo \"configure:6847: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6841 \"configure\"\n+#line 6855 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -6977,7 +6991,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:6981: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6995: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -7005,17 +7019,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7009: checking for $ac_hdr\" >&5\n+echo \"configure:7023: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7014 \"configure\"\n+#line 7028 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7019: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7033: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7045,12 +7059,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7049: checking for $ac_func\" >&5\n+echo \"configure:7063: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7054 \"configure\"\n+#line 7068 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7073,7 +7087,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7077: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7091: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7102,12 +7116,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7106: checking for $ac_func\" >&5\n+echo \"configure:7120: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7111 \"configure\"\n+#line 7125 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7130,7 +7144,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7134: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7148: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7164,19 +7178,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7168: checking for LC_MESSAGES\" >&5\n+echo \"configure:7182: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7173 \"configure\"\n+#line 7187 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7180: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7194: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7197,7 +7211,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7201: checking whether NLS is requested\" >&5\n+echo \"configure:7215: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7217,7 +7231,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7221: checking whether included gettext is requested\" >&5\n+echo \"configure:7235: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7236,17 +7250,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7240: checking for libintl.h\" >&5\n+echo \"configure:7254: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7245 \"configure\"\n+#line 7259 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7250: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7264: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7263,19 +7277,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7267: checking for gettext in libc\" >&5\n+echo \"configure:7281: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7272 \"configure\"\n+#line 7286 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7279: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7293: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7291,15 +7305,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7295: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7309: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7303 \"configure\"\n+#line 7317 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7310,7 +7324,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7314: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7328: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7326,20 +7340,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7330: checking for gettext in libintl\" >&5\n+echo \"configure:7344: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7335: checking for gettext in -lintl\" >&5\n+echo \"configure:7349: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7343 \"configure\"\n+#line 7357 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7350,7 +7364,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7354: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7389,7 +7403,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7393: checking for $ac_word\" >&5\n+echo \"configure:7407: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7423,12 +7437,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7427: checking for $ac_func\" >&5\n+echo \"configure:7441: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7432 \"configure\"\n+#line 7446 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7451,7 +7465,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7455: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7469: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7478,7 +7492,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7482: checking for $ac_word\" >&5\n+echo \"configure:7496: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7514,7 +7528,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7518: checking for $ac_word\" >&5\n+echo \"configure:7532: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7546,15 +7560,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7550 \"configure\"\n+#line 7564 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7558: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7572: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7577,7 +7591,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7581: checking whether catgets can be used\" >&5\n+echo \"configure:7595: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7590,22 +7604,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7594: checking for main in -li\" >&5\n+echo \"configure:7608: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7602 \"configure\"\n+#line 7616 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7609: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7623: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7633,12 +7647,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7637: checking for catgets\" >&5\n+echo \"configure:7651: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7642 \"configure\"\n+#line 7656 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7661,7 +7675,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7665: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7679: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7683,7 +7697,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7687: checking for $ac_word\" >&5\n+echo \"configure:7701: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7719,7 +7733,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7723: checking for $ac_word\" >&5\n+echo \"configure:7737: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7756,7 +7770,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7760: checking for $ac_word\" >&5\n+echo \"configure:7774: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7791,7 +7805,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7795: checking for $ac_word\" >&5\n+echo \"configure:7809: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7849,7 +7863,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7853: checking for $ac_word\" >&5\n+echo \"configure:7867: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7883,7 +7897,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7887: checking for $ac_word\" >&5\n+echo \"configure:7901: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7919,7 +7933,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7923: checking for $ac_word\" >&5\n+echo \"configure:7937: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8012,7 +8026,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8016: checking for catalogs to be installed\" >&5\n+echo \"configure:8030: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8040,17 +8054,17 @@ echo \"configure:8016: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8044: checking for linux/version.h\" >&5\n+echo \"configure:8058: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8049 \"configure\"\n+#line 8063 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8054: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8068: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8125,7 +8139,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8129: checking whether windows registry support is requested\" >&5\n+echo \"configure:8143: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8154,7 +8168,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8158: checking registry key on windows hosts\" >&5\n+echo \"configure:8172: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8330,7 +8344,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8334: checking assembler alignment features\" >&5\n+echo \"configure:8348: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8451,7 +8465,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8455: checking assembler subsection support\" >&5\n+echo \"configure:8469: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8493,7 +8507,7 @@ echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8497: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8511: checking assembler .register pseudo-op support\" >&5\n     gcc_cv_as_register_pseudo_op=\n     if test x$gcc_cv_as != x; then\n \t# Check if we have .register\n@@ -8510,7 +8524,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_register_pseudo_op\" 1>&6\n \n     echo $ac_n \"checking assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8514: checking assembler offsetable %lo() support\" >&5\n+echo \"configure:8528: checking assembler offsetable %lo() support\" >&5\n     gcc_cv_as_offsetable_lo10=\n     if test x$gcc_cv_as != x; then\n \t# Check if assembler has offsetable %lo()\n@@ -8547,7 +8561,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8551: checking assembler instructions\" >&5\n+echo \"configure:8565: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\""}, {"sha": "20402af7ac70c2164741a0fb54443709e2f00c91", "filename": "gcc/configure.in", "status": "modified", "additions": 21, "deletions": 7, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d14766358930ae9abc24c7a37644ef566ecff177/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=d14766358930ae9abc24c7a37644ef566ecff177", "patch": "@@ -1456,14 +1456,15 @@ changequote([,])dnl\n \t\ttmake_file=\"i386/t-go32 t-rtems\"\n \t\t;;\n changequote(,)dnl\n-\ti[34567]86-*-rtemself*)\n+\ti[34567]86-*-rtems*|i[34567]86-*-rtemself*)\n changequote([,])dnl\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtemself.h\n-\t\ttmake_file=\"i386/t-i386bare t-rtems\"\n+\t\textra_parts=\"crtbegin.o crtend.o crti.o crtn.o\"\n+\t\ttmake_file=\"i386/t-rtems-i386 i386/t-crtstuff t-rtems\"\n \t\t;;\n changequote(,)dnl\n-\ti[34567]86-*-rtems*)\n+\ti[34567]86-*-rtemscoff*)\n changequote([,])dnl\n \t\tcpu_type=i386\n \t\ttm_file=i386/rtems.h\n@@ -2233,13 +2234,18 @@ changequote([,])dnl\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n \t\t;;\n-\tm68k-*-rtems*)\n+\tm68k-*-rtemscoff*|m68k-*-rtems*)\n \t\ttmake_file=\"m68k/t-m68kbare t-rtems\"\n \t\ttm_file=m68k/rtems.h\n \t\textra_headers=math-68881.h\n \t\tfloat_format=m68k\n \t\t;;\n-\n+\tm68k-*-rtemself*)\n+\t\ttmake_file=\"m68k/t-m68kbare t-rtems m68k/t-crtstuff\"\n+\t\ttm_file=m68k/rtemself.h\n+\t\textra_headers=math-68881.h\n+\t\tfloat_format=m68k\n+\t\t;;\n \tm88k-dg-dgux*)\n \t\tcase $machine in\n \t\t  m88k-dg-dguxbcs*)\n@@ -2769,7 +2775,8 @@ changequote([,])dnl\n \t\t;;\n \tmips64orion-*-rtems*)\n \t\ttm_file=\"mips/elforion.h mips/elf64.h mips/rtems64.h\"\n-\t\ttmake_file=\"mips/t-ecoff t-rtems\"\n+                tm_file=\"mips/elforion.h mips/elf64.h mips/rtems64.h\"\n+\t\ttmake_file=\"mips/t-elf t-rtems\"\n \t\t;;\n \tmipstx39el-*-elf*)\n \t\ttm_file=\"mips/r3900.h mips/elfl.h mips/abi64.h\"\n@@ -3217,7 +3224,14 @@ changequote([,])dnl\n \t\ttmake_file=sparc/t-sunos41\n \t\txmake_file=x-lynx\n \t\t;;\n-\tsparc-*-rtems*)\n+\tsparc-*-rtems*|sparc-*-rtemself*)\n+\t\ttm_file=\"sparc/rtemself.h\"\n+\t\ttmake_file=\"sparc/t-elf t-rtems\"\n+\t\textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n+\t\t#float_format=i128\n+\t\tfloat_format=i64\n+\t\t;;\n+\tsparc-*-rtemsaout*)\n \t\ttmake_file=\"sparc/t-sparcbare t-rtems\"\n \t\ttm_file=sparc/rtems.h\n \t\t;;"}]}