{"sha": "32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzJhYTNiZmZjM2JlODk1OTk0YjNmYThhMzVjNGM3ZDY2ZTVmYzhjNg==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2005-06-23T18:50:25Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2005-06-23T18:50:25Z"}, "message": "c99_functions.c (log10l): New log10l function for systems where this is not available.\n\n\t* intrinsics/c99_functions.c (log10l): New log10l function for\n\tsystems where this is not available.\n\t* c99_protos.h: Prototype for log10l function.\n\t* libgfortran.h: Use generated kinds.h to define GFC_INTEGER_*,\n\tGFC_UINTEGER_*, GFC_LOGICAL_*, GFC_REAL_*, GFC_COMPLEX_*. Update\n\tprototypes for gfc_itoa and xtoa.\n\t* io/io.h: Update prototypes for set_integer and max_value.\n\t* io/list_read.c (convert_integer): Use new\n\tGFC_(INTEGER|REAL)_LARGEST type.\n\t* io/read.c (set_integer): Likewise.\n\t(max_value): Likewise.\n\t(convert_real): Likewise.\n\t(real_l): Likewise.\n\t(next_char): Likewise.\n\t(read_decimal): Likewise.\n\t(read_radix): Likewise.\n\t(read_f): Likewise.\n\t* io/write.c (extract_int): Use new GFC_INTEGER_LARGEST type.\n\t(extract_real): Use new GFC_REAL_LARGEST type.\n\t(calculate_exp): Likewise.\n\t(calculate_G_format): Likewise.\n\t(output_float): Likewise. Use log10l for long double values.\n\tAdd comment for sprintf format. Use GFC_REAL_LARGEST_FORMAT.\n\t(write_l): Use new GFC_INTEGER_LARGEST type.\n\t(write_float): Use new GFC_REAL_LARGEST type.\n\t(write_int): Remove useless special case for (len < 8).\n\t(write_decimal): Use GFC_INTEGER_LARGEST.\n\t(otoa): Use GFC_UINTEGER_LARGEST as argument.\n\t(btoa): Use GFC_UINTEGER_LARGEST as argument.\n\t* runtime/error.c (gfc_itoa): Use GFC_INTEGER_LARGEST as\n\targument.\n\t(xtoa): Use GFC_UINTEGER_LARGEST as argument.\n\t* Makefile.am: Use mk-kinds-h.sh to generate header kinds.h\n\twith all Fortran kinds available.\n\t* configure.ac: Check for strtold and log10l.\n\t* Makefile.in: Regenerate.\n\t* aclocal.m4: Regenerate.\n\t* configure: Regenerate.\n\t* config.h.in: Regenerate.\n\t* mk-kinds-h.sh: Configuration script for available integer\n\tand real kinds.\n\t* lib/target-supports.exp: Add\n\tcheck_effective_target_fortran_large_real and\n\tcheck_effective_target_fortran_large_int to check for\n\tcorresponding effective targets.\n\t* gfortran.dg/large_integer_kind_1.f90: New test.\n\t* gfortran.dg/large_real_kind_1.f90: New test.\n\nFrom-SVN: r101274", "tree": {"sha": "ff58180369190fdcfc2adfcd84037e51fead61ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff58180369190fdcfc2adfcd84037e51fead61ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "462ec41561b714df3641e9b0f54e9f0b8bac4ef1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/462ec41561b714df3641e9b0f54e9f0b8bac4ef1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/462ec41561b714df3641e9b0f54e9f0b8bac4ef1"}], "stats": {"total": 1405, "additions": 717, "deletions": 688}, "files": [{"sha": "135b52835bc1487798765a9aee3c74101e819cca", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -1,3 +1,12 @@\n+2005-06-23  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\t* lib/target-supports.exp: Add\n+\tcheck_effective_target_fortran_large_real and\n+\tcheck_effective_target_fortran_large_int to check for\n+\tcorresponding effective targets.\n+\t* gfortran.dg/large_integer_kind_1.f90: New test.\n+\t* gfortran.dg/large_real_kind_1.f90: New test.\n+\n 2005-06-23  Kazu Hirata  <kazu@codesourcery.com>\n \n \tPR tree-optimization/22117"}, {"sha": "9511317901c86e828851d22bc995c3e57a359558", "filename": "gcc/testsuite/gfortran.dg/large_integer_kind_1.f90", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_integer_kind_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_integer_kind_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_integer_kind_1.f90?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -0,0 +1,38 @@\n+! { dg-do run }\n+! { dg-require-effective-target fortran_large_int }\n+\n+module testmod\n+  integer,parameter :: k = selected_int_kind (range (0_8) + 1)\n+contains\n+  subroutine testoutput (a,b,length,f)\n+    integer(kind=k),intent(in) :: a\n+    integer(kind=8),intent(in) ::  b\n+    integer,intent(in) :: length\n+    character(len=*),intent(in) :: f\n+\n+    character(len=length) :: ca\n+    character(len=length) :: cb\n+\n+    write (ca,f) a\n+    write (cb,f) b\n+    if (ca /= cb) call abort\n+  end subroutine testoutput\n+end module testmod\n+\n+\n+! Testing I/O of large integer kinds (larger than kind=8)\n+program test\n+  use testmod\n+  implicit none\n+\n+  integer(kind=k) :: x\n+  character(len=50) :: c1, c2\n+\n+  call testoutput (0_k,0_8,50,'(I50)')\n+  call testoutput (1_k,1_8,50,'(I50)')\n+  call testoutput (-1_k,-1_8,50,'(I50)')\n+  x = huge(0_8)\n+  call testoutput (x,huge(0_8),50,'(I50)')\n+  x = -huge(0_8)\n+  call testoutput (x,-huge(0_8),50,'(I50)')\n+end program test"}, {"sha": "705b51eeb09d763ba833b1fa6b425f4c29dc8b15", "filename": "gcc/testsuite/gfortran.dg/large_real_kind_1.f90", "status": "added", "additions": 77, "deletions": 0, "changes": 77, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_real_kind_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_real_kind_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flarge_real_kind_1.f90?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -0,0 +1,77 @@\n+! { dg-do run }\n+! { dg-require-effective-target fortran_large_real }\n+\n+module testmod\n+  integer,parameter :: k = selected_real_kind (precision (0.0_8) + 1)\n+contains\n+  subroutine testoutput (a,b,length,f)\n+    real(kind=k),intent(in) :: a\n+    real(kind=8),intent(in) ::  b\n+    integer,intent(in) :: length\n+    character(len=*),intent(in) :: f\n+\n+    character(len=length) :: ca\n+    character(len=length) :: cb\n+\n+    write (ca,f) a\n+    write (cb,f) b\n+    if (ca /= cb) call abort\n+  end subroutine testoutput\n+\n+  subroutine outputstring (a,f,s)\n+    real(kind=k),intent(in) :: a\n+    character(len=*),intent(in) :: f\n+    character(len=*),intent(in) :: s\n+\n+    character(len=len(s)) :: c\n+    \n+    write (c,f) a\n+    if (c /= s) call abort\n+  end subroutine outputstring\n+end module testmod\n+\n+\n+! Testing I/O of large real kinds (larger than kind=8)\n+program test\n+  use testmod\n+  implicit none\n+\n+  real(kind=k) :: x\n+  character(len=20) :: c1, c2\n+\n+  call testoutput (0.0_k,0.0_8,40,'(F40.35)')\n+\n+  call testoutput (1.0_k,1.0_8,40,'(F40.35)')\n+  call testoutput (0.1_k,0.1_8,15,'(F15.10)')\n+  call testoutput (1e10_k,1e10_8,15,'(F15.10)')\n+  call testoutput (7.51e100_k,7.51e100_8,15,'(F15.10)')\n+  call testoutput (1e-10_k,1e-10_8,15,'(F15.10)')\n+  call testoutput (7.51e-100_k,7.51e-100_8,15,'(F15.10)')\n+\n+  call testoutput (-1.0_k,-1.0_8,40,'(F40.35)')\n+  call testoutput (-0.1_k,-0.1_8,15,'(F15.10)')\n+  call testoutput (-1e10_k,-1e10_8,15,'(F15.10)')\n+  call testoutput (-7.51e100_k,-7.51e100_8,15,'(F15.10)')\n+  call testoutput (-1e-10_k,-1e-10_8,15,'(F15.10)')\n+  call testoutput (-7.51e-100_k,-7.51e-100_8,15,'(F15.10)')\n+\n+  x = huge(x)\n+  call outputstring (2*x,'(F20.15)','           +Infinity')\n+  call outputstring (-2*x,'(F20.15)','           -Infinity')\n+\n+  write (c1,'(G20.10E5)') x\n+  write (c2,'(G20.10E5)') -x\n+  if (c2(1:1) /= '-') call abort\n+  c2(1:1) = ' '\n+  if (c1 /= c2) call abort\n+\n+  x = tiny(x)\n+  call outputstring (x,'(F20.15)','   0.000000000000000')\n+  call outputstring (-x,'(F20.15)','   0.000000000000000')\n+\n+  write (c1,'(G20.10E5)') x\n+  write (c2,'(G20.10E5)') -x\n+  if (c2(1:1) /= '-') call abort\n+  c2(1:1) = ' '\n+  if (c1 /= c2) call abort\n+end program test"}, {"sha": "dfe7918cfb64b8a9efc6bbb56c9e961febad5154", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 76, "deletions": 0, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -410,6 +410,82 @@ proc check_named_sections_available { } {\n     return $answer\n }\n \n+# Return 1 if the target supports Fortran real kinds larger than real(8),\n+# 0 otherwise.  Cache the result.\n+\n+proc check_effective_target_fortran_large_real { } {\n+    global et_fortran_large_real_saved\n+    global tool\n+\n+    if [info exists et_fortran_large_real_saved] {\n+\tverbose \"check_effective_target_fortran_large_real returning saved $et_fortran_large_real_saved\" 2\n+    } else {\n+\tset et_fortran_large_real_saved 0\n+\n+\t# Set up, compile, and execute a test program using large real\n+\t# kinds.  Include the current process ID in the file names to\n+\t# prevent conflicts with invocations for multiple testsuites.\n+\tset src real[pid].f90\n+        set exe real[pid].x\n+\n+\tset f [open $src \"w\"]\n+\tputs $f \"integer,parameter :: k = &\"\n+        puts $f \"  selected_real_kind (precision (0.0_8) + 1)\"\n+        puts $f \"real(kind=k) :: x\"\n+\tputs $f \"end\"\n+\tclose $f\n+\n+\tverbose \"check_effective_target_fortran_large_real compiling testfile $src\" 2\n+\tset lines [${tool}_target_compile $src $exe executable \"\"]\n+\tfile delete $src\n+\n+\tif [string match \"\" $lines] then {\n+\t    # No error message, compilation succeeded.\n+  \t    set et_fortran_large_real_saved 1\n+\t}\n+    }\n+\n+    return $et_fortran_large_real_saved\n+}\n+\n+# Return 1 if the target supports Fortran integer kinds larger than\n+# integer(8), 0 otherwise.  Cache the result.\n+\n+proc check_effective_target_fortran_large_int { } {\n+    global et_fortran_large_int_saved\n+    global tool\n+\n+    if [info exists et_fortran_large_int_saved] {\n+\tverbose \"check_effective_target_fortran_large_int returning saved $et_fortran_large_int_saved\" 2\n+    } else {\n+\tset et_fortran_large_int_saved 0\n+\n+\t# Set up, compile, and execute a test program using large integer\n+\t# kinds.  Include the current process ID in the file names to\n+\t# prevent conflicts with invocations for multiple testsuites.\n+\tset src int[pid].f90\n+        set exe int[pid].x\n+\n+\tset f [open $src \"w\"]\n+\tputs $f \"integer,parameter :: k = &\"\n+        puts $f \"  selected_int_kind (range (0_8) + 1)\"\n+        puts $f \"integer(kind=k) :: i\"\n+\tputs $f \"end\"\n+\tclose $f\n+\n+\tverbose \"check_effective_target_fortran_large_int compiling testfile $src\" 2\n+\tset lines [${tool}_target_compile $src $exe executable \"\"]\n+\tfile delete $src\n+\n+\tif [string match \"\" $lines] then {\n+\t    # No error message, compilation succeeded.\n+\t    set et_fortran_large_int_saved 1\n+\t}\n+    }\n+\n+    return $et_fortran_large_int_saved\n+}\n+\n # Return 1 if the target supports executing AltiVec instructions, 0\n # otherwise.  Cache the result.\n "}, {"sha": "6f4de39a7174e359f84f7dfb3a70aff463d748d0", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -1,3 +1,48 @@\n+2005-06-23  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\t* intrinsics/c99_functions.c (log10l): New log10l function for\n+\tsystems where this is not available.\n+\t* c99_protos.h: Prototype for log10l function.\n+\t* libgfortran.h: Use generated kinds.h to define GFC_INTEGER_*,\n+\tGFC_UINTEGER_*, GFC_LOGICAL_*, GFC_REAL_*, GFC_COMPLEX_*. Update\n+\tprototypes for gfc_itoa and xtoa.\n+\t* io/io.h: Update prototypes for set_integer and max_value.\n+\t* io/list_read.c (convert_integer): Use new\n+\tGFC_(INTEGER|REAL)_LARGEST type.\n+\t* io/read.c (set_integer): Likewise.\n+\t(max_value): Likewise.\n+\t(convert_real): Likewise.\n+\t(real_l): Likewise.\n+\t(next_char): Likewise.\n+\t(read_decimal): Likewise.\n+\t(read_radix): Likewise.\n+\t(read_f): Likewise.\n+\t* io/write.c (extract_int): Use new GFC_INTEGER_LARGEST type.\n+\t(extract_real): Use new GFC_REAL_LARGEST type.\n+\t(calculate_exp): Likewise.\n+\t(calculate_G_format): Likewise.\n+\t(output_float): Likewise. Use log10l for long double values.\n+\tAdd comment for sprintf format. Use GFC_REAL_LARGEST_FORMAT.\n+\t(write_l): Use new GFC_INTEGER_LARGEST type.\n+\t(write_float): Use new GFC_REAL_LARGEST type.\n+\t(write_int): Remove useless special case for (len < 8).\n+\t(write_decimal): Use GFC_INTEGER_LARGEST.\n+\t(otoa): Use GFC_UINTEGER_LARGEST as argument.\n+\t(btoa): Use GFC_UINTEGER_LARGEST as argument.\n+\t* runtime/error.c (gfc_itoa): Use GFC_INTEGER_LARGEST as\n+\targument.\n+\t(xtoa): Use GFC_UINTEGER_LARGEST as argument.\n+\t* Makefile.am: Use mk-kinds-h.sh to generate header kinds.h\n+\twith all Fortran kinds available.\n+\t* configure.ac: Check for strtold and log10l.\n+\t* Makefile.in: Regenerate.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\t* config.h.in: Regenerate.\n+\t* mk-kinds-h.sh: Configuration script for available integer\n+\tand real kinds.\n+\n+\n 2005-06-18  Janne Blomqvist  <jblomqvi@cc.hut.fi>\n \n \t* unix.c (stream_at_bof): Don't assume that all non-mmapped files"}, {"sha": "0c06d3ab529a8478684de48d2b3cb2e24335b1bb", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -299,7 +299,7 @@ gfor_built_src= $(i_all_c) $(i_any_c) $(i_count_c) $(i_maxloc0_c) \\\n     $(i_eoshift3_c) $(i_cshift1_c) $(i_reshape_c) $(in_pack_c) $(in_unpack_c) \\\n     $(i_exponent_c) $(i_fraction_c) $(i_nearest_c) $(i_set_exponent_c) \\\n     $(i_pow_c) \\\n-    selected_int_kind.inc selected_real_kind.inc\n+    selected_int_kind.inc selected_real_kind.inc kinds.h\n \n # We only use these if libm doesn't contain complex math functions.\n \n@@ -419,6 +419,9 @@ I_M4_DEPS=m4/iparm.m4\n I_M4_DEPS0=$(I_M4_DEPS) m4/iforeach.m4\n I_M4_DEPS1=$(I_M4_DEPS) m4/ifunction.m4\n \n+kinds.h: $(srcdir)/mk-kinds-h.sh\n+\t$(SHELL) $(srcdir)/mk-kinds-h.sh '$(FCCOMPILE)' > $@\n+\n selected_int_kind.inc: $(srcdir)/mk-sik-inc.sh\n \t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(FCCOMPILE)' > $@\n "}, {"sha": "bbc59ef3acf960084dfc153b6bc31af5ca28c0ff", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -1,8 +1,8 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n+# Makefile.in generated by automake 1.9.5 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n-# 2003, 2004  Free Software Foundation, Inc.\n+# 2003, 2004, 2005  Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -47,10 +47,8 @@ DIST_COMMON = $(am__configure_deps) $(srcdir)/../config.guess \\\n \t$(top_srcdir)/configure ChangeLog\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/../config/lead-dot.m4 \\\n-\t$(top_srcdir)/../config/no-executables.m4 \\\n-\t$(top_srcdir)/acinclude.m4 $(top_srcdir)/../libtool.m4 \\\n-\t$(top_srcdir)/configure.ac\n+am__aclocal_m4_deps = $(top_srcdir)/acinclude.m4 \\\n+\t$(top_srcdir)/../libtool.m4 $(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n@@ -174,7 +172,7 @@ LTPPFCCOMPILE = $(LIBTOOL) --mode=compile $(FC) $(DEFS) \\\n \t$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \\\n \t$(AM_FCFLAGS) $(FCFLAGS)\n FCLD = $(FC)\n-FCLINK = $(LIBTOOL) --mode=link $(FCLD) $(AM_FFLAGS) $(FCFLAGS) \\\n+FCLINK = $(LIBTOOL) --mode=link $(FCLD) $(AM_FCFLAGS) $(FCFLAGS) \\\n \t$(AM_LDFLAGS) $(LDFLAGS) -o $@\n COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n \t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n@@ -593,7 +591,7 @@ gfor_built_src = $(i_all_c) $(i_any_c) $(i_count_c) $(i_maxloc0_c) \\\n     $(i_eoshift3_c) $(i_cshift1_c) $(i_reshape_c) $(in_pack_c) $(in_unpack_c) \\\n     $(i_exponent_c) $(i_fraction_c) $(i_nearest_c) $(i_set_exponent_c) \\\n     $(i_pow_c) \\\n-    selected_int_kind.inc selected_real_kind.inc\n+    selected_int_kind.inc selected_real_kind.inc kinds.h\n \n \n # We only use these if libm doesn't contain complex math functions.\n@@ -1707,7 +1705,7 @@ distclean-tags:\n distdir: $(DISTFILES)\n \t$(am__remove_distdir)\n \tmkdir $(distdir)\n-\t$(mkdir_p) $(distdir)/.. $(distdir)/../config $(distdir)/m4\n+\t$(mkdir_p) $(distdir)/.. $(distdir)/m4\n \t@srcdirstrip=`echo \"$(srcdir)\" | sed 's|.|.|g'`; \\\n \ttopsrcdirstrip=`echo \"$(top_srcdir)\" | sed 's|.|.|g'`; \\\n \tlist='$(DISTFILES)'; for file in $$list; do \\\n@@ -1935,6 +1933,9 @@ uninstall-am: uninstall-info-am uninstall-toolexeclibLTLIBRARIES\n \tuninstall-toolexeclibLTLIBRARIES\n \n \n+kinds.h: $(srcdir)/mk-kinds-h.sh\n+\t$(SHELL) $(srcdir)/mk-kinds-h.sh '$(FCCOMPILE)' > $@\n+\n selected_int_kind.inc: $(srcdir)/mk-sik-inc.sh\n \t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(FCCOMPILE)' > $@\n "}, {"sha": "0bf3204f07cfe94e3bec7ceb0a6ace7df17c5a9d", "filename": "libgfortran/aclocal.m4", "status": "modified", "additions": 114, "deletions": 241, "changes": 355, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Faclocal.m4?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -1,7 +1,7 @@\n-# generated automatically by aclocal 1.9.3 -*- Autoconf -*-\n+# generated automatically by aclocal 1.9.5 -*- Autoconf -*-\n \n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,\n+# 2005  Free Software Foundation, Inc.\n # This file is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -11,23 +11,11 @@\n # even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n # PARTICULAR PURPOSE.\n \n-#                                                        -*- Autoconf -*-\n-# Copyright (C) 2002, 2003  Free Software Foundation, Inc.\n-# Generated from amversion.in; do not edit by hand.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n+# Copyright (C) 2002, 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n # AM_AUTOMAKE_VERSION(VERSION)\n # ----------------------------\n@@ -40,26 +28,15 @@ AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version=\"1.9\"])\n # Call AM_AUTOMAKE_VERSION so it can be traced.\n # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.\n AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n-\t [AM_AUTOMAKE_VERSION([1.9.3])])\n+\t [AM_AUTOMAKE_VERSION([1.9.5])])\n \n-# AM_AUX_DIR_EXPAND\n+# AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-\n \n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n # For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets\n # $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to\n@@ -106,26 +83,16 @@ AC_PREREQ([2.50])dnl\n am_aux_dir=`cd $ac_aux_dir && pwd`\n ])\n \n-# AM_CONDITIONAL                                              -*- Autoconf -*-\n-\n-# Copyright (C) 1997, 2000, 2001, 2003, 2004 Free Software Foundation, Inc.\n+# AM_CONDITIONAL                                            -*- Autoconf -*-\n \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005\n+# Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# serial 6\n+# serial 7\n \n # AM_CONDITIONAL(NAME, SHELL-CONDITION)\n # -------------------------------------\n@@ -149,30 +116,19 @@ AC_CONFIG_COMMANDS_PRE(\n Usually this means the macro was only invoked conditionally.]])\n fi])])\n \n-# Do all the work for Automake.                            -*- Autoconf -*-\n-\n-# This macro actually does too much some checks are only needed if\n-# your package does certain things.  But this isn't really a big deal.\n+# Do all the work for Automake.                             -*- Autoconf -*-\n \n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n # Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# serial 12\n \n-# serial 11\n+# This macro actually does too much.  Some checks are only needed if\n+# your package does certain things.  But this isn't really a big deal.\n \n # AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])\n # AM_INIT_AUTOMAKE([OPTIONS])\n@@ -274,54 +230,52 @@ for _am_header in $config_headers :; do\n done\n echo \"timestamp for $1\" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])\n \n+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n # AM_PROG_INSTALL_SH\n # ------------------\n # Define $install_sh.\n-\n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n AC_DEFUN([AM_PROG_INSTALL_SH],\n [AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n install_sh=${install_sh-\"$am_aux_dir/install-sh\"}\n AC_SUBST(install_sh)])\n \n-# Add --enable-maintainer-mode option to configure.\n-# From Jim Meyering\n+# Copyright (C) 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# Copyright (C) 1996, 1998, 2000, 2001, 2002, 2003, 2004\n-# Free Software Foundation, Inc.\n+# serial 2\n \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n+# Check whether the underlying file-system supports filenames\n+# with a leading dot.  For instance MS-DOS doesn't.\n+AC_DEFUN([AM_SET_LEADING_DOT],\n+[rm -rf .tst 2>/dev/null\n+mkdir .tst 2>/dev/null\n+if test -d .tst; then\n+  am__leading_dot=.\n+else\n+  am__leading_dot=_\n+fi\n+rmdir .tst 2>/dev/null\n+AC_SUBST([am__leading_dot])])\n \n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n+# Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n+# From Jim Meyering\n \n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 1996, 1998, 2000, 2001, 2002, 2003, 2004, 2005\n+# Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# serial 3\n+# serial 4\n \n AC_DEFUN([AM_MAINTAINER_MODE],\n [AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n@@ -340,27 +294,16 @@ AC_DEFUN([AM_MAINTAINER_MODE],\n \n AU_DEFUN([jm_MAINTAINER_MODE], [AM_MAINTAINER_MODE])\n \n-#  -*- Autoconf -*-\n-\n-\n-# Copyright (C) 1997, 1999, 2000, 2001, 2003 Free Software Foundation, Inc.\n+# Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-\n \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2005\n+# Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# serial 3\n+# serial 4\n \n # AM_MISSING_PROG(NAME, PROGRAM)\n # ------------------------------\n@@ -386,27 +329,16 @@ else\n fi\n ])\n \n+# Copyright (C) 2003, 2004, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n+\n # AM_PROG_MKDIR_P\n # ---------------\n # Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.\n-\n-# Copyright (C) 2003, 2004 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n+#\n # Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories\n # created by `make install' are always world readable, even if the\n # installer happens to have an overly restrictive umask (e.g. 077).\n@@ -460,25 +392,14 @@ else\n fi\n AC_SUBST([mkdir_p])])\n \n-# Copyright (C) 1998, 1999, 2000, 2001, 2003, 2004\n+# Copyright (C) 1998, 1999, 2000, 2001, 2003, 2004, 2005\n # Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 4\n+# serial 5\n \n # AM_ENABLE_MULTILIB([MAKEFILE], [REL-TO-TOP-SRCDIR])\n # ---------------------------------------------------\n@@ -529,26 +450,15 @@ multi_basedir=\"$multi_basedir\"\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n CC=\"$CC\"])])dnl\n \n-# Helper functions for option handling.                    -*- Autoconf -*-\n+# Helper functions for option handling.                     -*- Autoconf -*-\n \n-# Copyright (C) 2001, 2002, 2003  Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# serial 2\n+# serial 3\n \n # _AM_MANGLE_OPTION(NAME)\n # -----------------------\n@@ -573,28 +483,16 @@ AC_DEFUN([_AM_SET_OPTIONS],\n AC_DEFUN([_AM_IF_OPTION],\n [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])\n \n-#\n-# Check to make sure that the build environment is sane.\n-#\n-\n-# Copyright (C) 1996, 1997, 2000, 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n+# Check to make sure that the build environment is sane.    -*- Autoconf -*-\n \n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 1996, 1997, 2000, 2001, 2003, 2005\n+# Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n-# serial 3\n+# serial 4\n \n # AM_SANITY_CHECK\n # ---------------\n@@ -637,25 +535,14 @@ Check your system clock])\n fi\n AC_MSG_RESULT(yes)])\n \n-# AM_PROG_INSTALL_STRIP\n-\n-# Copyright (C) 2001, 2003 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n+# AM_PROG_INSTALL_STRIP\n+# ---------------------\n # One issue with vendor `install' (even GNU) is that you can't\n # specify the program used to strip binaries.  This is especially\n # annoying in cross-compiling environments, where the build's strip\n@@ -678,25 +565,13 @@ AC_SUBST([INSTALL_STRIP_PROGRAM])])\n \n # Check how to create a tarball.                            -*- Autoconf -*-\n \n-# Copyright (C) 2004  Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n-# 02111-1307, USA.\n-\n-# serial 1\n+# Copyright (C) 2004, 2005  Free Software Foundation, Inc.\n+#\n+# This file is free software; the Free Software Foundation\n+# gives unlimited permission to copy and/or distribute it,\n+# with or without modifications, as long as this notice is preserved.\n \n+# serial 2\n \n # _AM_PROG_TAR(FORMAT)\n # --------------------\n@@ -784,6 +659,4 @@ AC_SUBST([am__tar])\n AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n-m4_include([../config/lead-dot.m4])\n-m4_include([../config/no-executables.m4])\n m4_include([acinclude.m4])"}, {"sha": "b8cc7406ac21b8e41ccd806366e8db1ce6b1f536", "filename": "libgfortran/c99_protos.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fc99_protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fc99_protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fc99_protos.h?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -141,5 +141,9 @@ extern double round(double);\n extern float roundf(float);\n #endif\n \n+#ifndef HAVE_LOG10L\n+extern long double log10l(long double);\n+#endif\n+\n #endif  /* C99_PROTOS_H  */\n "}, {"sha": "70700bbfc420094f987af0586998d023e75145a4", "filename": "libgfortran/config.h.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfig.h.in?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -135,6 +135,9 @@\n /* libm includes log10f */\n #undef HAVE_LOG10F\n \n+/* libm includes log10l */\n+#undef HAVE_LOG10L\n+\n /* libm includes logf */\n #undef HAVE_LOGF\n \n@@ -216,6 +219,9 @@\n /* Define to 1 if you have the `strtof' function. */\n #undef HAVE_STRTOF\n \n+/* Define to 1 if you have the `strtold' function. */\n+#undef HAVE_STRTOLD\n+\n /* Define to 1 if `st_blksize' is member of `struct stat'. */\n #undef HAVE_STRUCT_STAT_ST_BLKSIZE\n "}, {"sha": "65ccbce5ae31af0f39e38c0209fc5c8c88def643", "filename": "libgfortran/configure", "status": "modified", "additions": 87, "deletions": 350, "changes": 437, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -1957,7 +1957,7 @@ fi\n #     suite is included, we'll have to know.\n if test \"$build\" != \"$host\"; then\n   LIBGFOR_IS_NATIVE=false\n-\n+  GCC_NO_EXECUTABLES\n else\n   LIBGFOR_IS_NATIVE=true\n fi\n@@ -2342,39 +2342,6 @@ cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n \n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-# FIXME: Cleanup?\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n-  (eval $ac_link) 2>&5\n-  ac_status=$?\n-  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n-  (exit $ac_status); }; then\n-  gcc_no_link=no\n-else\n-  gcc_no_link=yes\n-fi\n-\n-if test x$gcc_no_link = xyes; then\n-  # Setting cross_compile will disable run tests; it will\n-  # also disable AC_CHECK_FILE but that's generally\n-  # correct if we can't link.\n-  cross_compiling=yes\n-  EXEEXT=\n-else\n-  cat >conftest.$ac_ext <<_ACEOF\n-/* confdefs.h.  */\n-_ACEOF\n-cat confdefs.h >>conftest.$ac_ext\n-cat >>conftest.$ac_ext <<_ACEOF\n-/* end confdefs.h.  */\n-\n int\n main ()\n {\n@@ -2519,7 +2486,6 @@ echo \"${ECHO_T}$ac_cv_exeext\" >&6\n rm -f conftest.$ac_ext\n EXEEXT=$ac_cv_exeext\n ac_exeext=$EXEEXT\n-fi\n echo \"$as_me:$LINENO: checking for suffix of object files\" >&5\n echo $ECHO_N \"checking for suffix of object files... $ECHO_C\" >&6\n if test \"${ac_cv_objext+set}\" = set; then\n@@ -4123,7 +4089,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 4126 \"configure\"' > conftest.$ac_ext\n+  echo '#line 4092 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -4241,12 +4207,7 @@ ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n-     if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+     cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -4514,7 +4475,7 @@ fi\n \n \n # Provide some information about the compiler.\n-echo \"$as_me:4517:\" \\\n+echo \"$as_me:4478:\" \\\n      \"checking for Fortran compiler version\" >&5\n ac_compiler=`set X $ac_compile; echo $2`\n { (eval echo \"$as_me:$LINENO: \\\"$ac_compiler --version </dev/null >&5\\\"\") >&5\n@@ -5032,13 +4993,7 @@ fi\n rm -f conftest*\n fi\n \n-if test x$gcc_no_link = xyes; then\n-  if test \"x${ac_cv_func_mmap_fixed_mapped+set}\" != xset; then\n-    ac_cv_func_mmap_fixed_mapped=no\n-  fi\n-fi\n-if test \"x${ac_cv_func_mmap_fixed_mapped}\" != xno; then\n-  ac_ext=c\n+ac_ext=c\n ac_cpp='$CPP $CPPFLAGS'\n ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n@@ -5686,12 +5641,7 @@ echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -5959,7 +5909,6 @@ _ACEOF\n fi\n rm -f conftest.mmap\n \n-fi\n echo \"$as_me:$LINENO: checking for off_t\" >&5\n echo $ECHO_N \"checking for off_t... $ECHO_C\" >&6\n if test \"${ac_cv_type_off_t+set}\" = set; then\n@@ -7143,11 +7092,6 @@ if test \"${ac_cv_lib_m_csin+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7220,20 +7164,16 @@ fi\n \n \n \n-for ac_func in getrusage times mkstemp strtof snprintf ftruncate chsize\n+\n+for ac_func in getrusage times mkstemp strtof strtold snprintf ftruncate chsize\n do\n as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -7342,12 +7282,7 @@ echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -7450,12 +7385,7 @@ echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -7557,11 +7487,6 @@ if test \"${ac_cv_lib_c_getgid+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lc  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7634,11 +7559,6 @@ if test \"${ac_cv_lib_c_getpid+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lc  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7711,11 +7631,6 @@ if test \"${ac_cv_lib_c_getuid+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lc  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7791,11 +7706,6 @@ if test \"${ac_cv_lib_m_acosf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7868,11 +7778,6 @@ if test \"${ac_cv_lib_m_asinf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -7945,11 +7850,6 @@ if test \"${ac_cv_lib_m_atan2f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8022,11 +7922,6 @@ if test \"${ac_cv_lib_m_atanf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8099,11 +7994,6 @@ if test \"${ac_cv_lib_m_ceilf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8176,11 +8066,6 @@ if test \"${ac_cv_lib_m_copysignf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8253,11 +8138,6 @@ if test \"${ac_cv_lib_m_cosf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8330,11 +8210,6 @@ if test \"${ac_cv_lib_m_coshf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8407,11 +8282,6 @@ if test \"${ac_cv_lib_m_expf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8484,11 +8354,6 @@ if test \"${ac_cv_lib_m_fabsf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8561,11 +8426,6 @@ if test \"${ac_cv_lib_m_floorf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8638,11 +8498,6 @@ if test \"${ac_cv_lib_m_frexpf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8715,11 +8570,6 @@ if test \"${ac_cv_lib_m_hypotf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8792,11 +8642,6 @@ if test \"${ac_cv_lib_m_logf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8869,11 +8714,6 @@ if test \"${ac_cv_lib_m_log10f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8939,18 +8779,85 @@ _ACEOF\n \n fi\n \n+echo \"$as_me:$LINENO: checking for log10l in -lm\" >&5\n+echo $ECHO_N \"checking for log10l in -lm... $ECHO_C\" >&6\n+if test \"${ac_cv_lib_m_log10l+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_check_lib_save_LIBS=$LIBS\n+LIBS=\"-lm  $LIBS\"\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n+/* We use char because int might match the return type of a gcc2\n+   builtin and then its argument prototype would still apply.  */\n+char log10l ();\n+int\n+main ()\n+{\n+log10l ();\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_lib_m_log10l=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+ac_cv_lib_m_log10l=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+LIBS=$ac_check_lib_save_LIBS\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_lib_m_log10l\" >&5\n+echo \"${ECHO_T}$ac_cv_lib_m_log10l\" >&6\n+if test $ac_cv_lib_m_log10l = yes; then\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_LOG10L 1\n+_ACEOF\n+\n+fi\n+\n echo \"$as_me:$LINENO: checking for nextafter in -lm\" >&5\n echo $ECHO_N \"checking for nextafter in -lm... $ECHO_C\" >&6\n if test \"${ac_cv_lib_m_nextafter+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9023,11 +8930,6 @@ if test \"${ac_cv_lib_m_nextafterf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9100,11 +9002,6 @@ if test \"${ac_cv_lib_m_powf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9177,11 +9074,6 @@ if test \"${ac_cv_lib_m_round+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9254,11 +9146,6 @@ if test \"${ac_cv_lib_m_roundf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9331,11 +9218,6 @@ if test \"${ac_cv_lib_m_scalbnf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9408,11 +9290,6 @@ if test \"${ac_cv_lib_m_scalbn+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9485,11 +9362,6 @@ if test \"${ac_cv_lib_m_sinf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9562,11 +9434,6 @@ if test \"${ac_cv_lib_m_sinhf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9639,11 +9506,6 @@ if test \"${ac_cv_lib_m_sqrtf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9716,11 +9578,6 @@ if test \"${ac_cv_lib_m_tanf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9793,11 +9650,6 @@ if test \"${ac_cv_lib_m_tanhf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9870,11 +9722,6 @@ if test \"${ac_cv_lib_m_trunc+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -9947,11 +9794,6 @@ if test \"${ac_cv_lib_m_truncf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10024,11 +9866,6 @@ if test \"${ac_cv_lib_m_erf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10101,11 +9938,6 @@ if test \"${ac_cv_lib_m_erfc+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10178,11 +10010,6 @@ if test \"${ac_cv_lib_m_erfcf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10255,11 +10082,6 @@ if test \"${ac_cv_lib_m_erff+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10332,11 +10154,6 @@ if test \"${ac_cv_lib_m_j0+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10409,11 +10226,6 @@ if test \"${ac_cv_lib_m_j0f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10486,11 +10298,6 @@ if test \"${ac_cv_lib_m_j1+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10563,11 +10370,6 @@ if test \"${ac_cv_lib_m_j1f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10640,11 +10442,6 @@ if test \"${ac_cv_lib_m_jn+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10717,11 +10514,6 @@ if test \"${ac_cv_lib_m_jnf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10794,11 +10586,6 @@ if test \"${ac_cv_lib_m_y0+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10871,11 +10658,6 @@ if test \"${ac_cv_lib_m_y0f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -10948,11 +10730,6 @@ if test \"${ac_cv_lib_m_y1+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -11025,11 +10802,6 @@ if test \"${ac_cv_lib_m_y1f+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -11102,11 +10874,6 @@ if test \"${ac_cv_lib_m_yn+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -11179,11 +10946,6 @@ if test \"${ac_cv_lib_m_ynf+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -11258,11 +11020,6 @@ if test \"${ac_cv_lib_m_finite+set}\" = set; then\n else\n   ac_check_lib_save_LIBS=$LIBS\n LIBS=\"-lm  $LIBS\"\n-if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -11422,12 +11179,7 @@ echo $ECHO_N \"checking for $ac_func... $ECHO_C\" >&6\n if eval \"test \\\"\\${$as_ac_var+set}\\\" = set\"; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -11641,12 +11393,7 @@ echo $ECHO_N \"checking whether gettimeofday can accept two arguments... $ECHO_C\"\n if test \"${emacs_cv_gettimeofday_two_arguments+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -11734,12 +11481,7 @@ else\n \n   save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"-O2\"\n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n@@ -11941,12 +11683,7 @@ if test \"${have_attribute_alias+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n \n-  if test x$gcc_no_link = xyes; then\n-  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n-echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n-   { (exit 1); exit 1; }; }\n-fi\n-cat >conftest.$ac_ext <<_ACEOF\n+  cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext"}, {"sha": "ead10bbd29e7c65146c8ddc2c67a3d701bf22652", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -169,7 +169,7 @@ AC_CHECK_MEMBERS([struct stat.st_rdev])\n AC_CHECK_LIB([m],[csin],[need_math=\"no\"],[need_math=\"yes\"])\n \n # Check for library functions.\n-AC_CHECK_FUNCS(getrusage times mkstemp strtof snprintf ftruncate chsize)\n+AC_CHECK_FUNCS(getrusage times mkstemp strtof strtold snprintf ftruncate chsize)\n AC_CHECK_FUNCS(chdir strerror getlogin gethostname kill link symlink perror)\n AC_CHECK_FUNCS(sleep time)\n \n@@ -195,6 +195,7 @@ AC_CHECK_LIB([m],[frexpf],[AC_DEFINE([HAVE_FREXPF],[1],[libm includes frexpf])])\n AC_CHECK_LIB([m],[hypotf],[AC_DEFINE([HAVE_HYPOTF],[1],[libm includes hypotf])])\n AC_CHECK_LIB([m],[logf],[AC_DEFINE([HAVE_LOGF],[1],[libm includes logf])])\n AC_CHECK_LIB([m],[log10f],[AC_DEFINE([HAVE_LOG10F],[1],[libm includes log10f])])\n+AC_CHECK_LIB([m],[log10l],[AC_DEFINE([HAVE_LOG10L],[1],[libm includes log10l])])\n AC_CHECK_LIB([m],[nextafter],[AC_DEFINE([HAVE_NEXTAFTER],[1],[libm includes nextafter])])\n AC_CHECK_LIB([m],[nextafterf],[AC_DEFINE([HAVE_NEXTAFTERF],[1],[libm includes nextafterf])])\n AC_CHECK_LIB([m],[powf],[AC_DEFINE([HAVE_POWF],[1],[libm includes powf])])"}, {"sha": "c4b57207f71b504c6b2005f91068ed32d08d86d3", "filename": "libgfortran/intrinsics/c99_functions.c", "status": "modified", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fintrinsics%2Fc99_functions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fintrinsics%2Fc99_functions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Fc99_functions.c?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -371,3 +371,41 @@ roundf(float x)\n     }\n }\n #endif\n+\n+#ifndef HAVE_LOG10L\n+/* log10 function for long double variables. The version provided here\n+   reduces the argument until it fits into a double, then use log10.  */\n+long double\n+log10l(long double x)\n+{\n+#if LDBL_MAX_EXP > DBL_MAX_EXP\n+  if (x > DBL_MAX)\n+    {\n+      double val;\n+      int p2_result = 0;\n+      if (x > 0x1p16383L) { p2_result += 16383; x /= 0x1p16383L; }\n+      if (x > 0x1p8191L) { p2_result += 8191; x /= 0x1p8191L; }\n+      if (x > 0x1p4095L) { p2_result += 4095; x /= 0x1p4095L; }\n+      if (x > 0x1p2047L) { p2_result += 2047; x /= 0x1p2047L; }\n+      if (x > 0x1p1023L) { p2_result += 1023; x /= 0x1p1023L; }\n+      val = log10 ((double) x);\n+      return (val + p2_result * .30102999566398119521373889472449302L);\n+    }\n+#endif\n+#if LDBL_MIN_EXP < DBL_MIN_EXP\n+  if (x < DBL_MIN)\n+    {\n+      double val;\n+      int p2_result = 0;\n+      if (x < 0x1p-16380L) { p2_result += 16380; x /= 0x1p-16380L; }\n+      if (x < 0x1p-8189L) { p2_result += 8189; x /= 0x1p-8189L; }\n+      if (x < 0x1p-4093L) { p2_result += 4093; x /= 0x1p-4093L; }\n+      if (x < 0x1p-2045L) { p2_result += 2045; x /= 0x1p-2045L; }\n+      if (x < 0x1p-1021L) { p2_result += 1021; x /= 0x1p-1021L; }\n+      val = fabs(log10 ((double) x));\n+      return (- val - p2_result * .30102999566398119521373889472449302L);\n+    }\n+#endif\n+    return log10 (x);\n+}\n+#endif"}, {"sha": "a301682a62c88af1ce6e14ad9201aa6b271328ee", "filename": "libgfortran/io/io.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fio.h?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -562,10 +562,10 @@ internal_proto(next_record);\n \n /* read.c */\n \n-extern void set_integer (void *, int64_t, int);\n+extern void set_integer (void *, GFC_INTEGER_LARGEST, int);\n internal_proto(set_integer);\n \n-extern uint64_t max_value (int, int);\n+extern GFC_UINTEGER_LARGEST max_value (int, int);\n internal_proto(max_value);\n \n extern int convert_real (void *, const char *, int);"}, {"sha": "3d62d8c845ec90d3cf746c1adcf396758deba777", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -339,7 +339,7 @@ convert_integer (int length, int negative)\n {\n   char c, *buffer, message[100];\n   int m;\n-  int64_t v, max, max10;\n+  GFC_INTEGER_LARGEST v, max, max10;\n \n   buffer = saved_string;\n   v = 0;"}, {"sha": "2eb68c84498aec22e5e188fe6ee4fef18237b84b", "filename": "libgfortran/io/read.c", "status": "modified", "additions": 62, "deletions": 22, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fread.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fread.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fread.c?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -43,21 +43,26 @@ Boston, MA 02111-1307, USA.  */\n  * actually place the value into memory.  */\n \n void\n-set_integer (void *dest, int64_t value, int length)\n+set_integer (void *dest, GFC_INTEGER_LARGEST value, int length)\n {\n   switch (length)\n     {\n+#ifdef HAVE_GFC_INTEGER_16\n+    case 16:\n+      *((GFC_INTEGER_16 *) dest) = value;\n+      break;\n+#endif\n     case 8:\n-      *((int64_t *) dest) = value;\n+      *((GFC_INTEGER_8 *) dest) = value;\n       break;\n     case 4:\n-      *((int32_t *) dest) = value;\n+      *((GFC_INTEGER_4 *) dest) = value;\n       break;\n     case 2:\n-      *((int16_t *) dest) = value;\n+      *((GFC_INTEGER_2 *) dest) = value;\n       break;\n     case 1:\n-      *((int8_t *) dest) = value;\n+      *((GFC_INTEGER_1 *) dest) = value;\n       break;\n     default:\n       internal_error (\"Bad integer kind\");\n@@ -68,13 +73,24 @@ set_integer (void *dest, int64_t value, int length)\n /* max_value()-- Given a length (kind), return the maximum signed or\n  * unsigned value */\n \n-uint64_t\n+GFC_UINTEGER_LARGEST\n max_value (int length, int signed_flag)\n {\n-  uint64_t value;\n+  GFC_UINTEGER_LARGEST value;\n+  int n;\n \n   switch (length)\n     {\n+#if defined HAVE_GFC_REAL_16 || defined HAVE_GFC_REAL_10\n+    case 16:\n+    case 10:\n+      value = 1;\n+      for (n = 1; n < 4 * length; n++)\n+        value = (value << 2) + 3;\n+      if (! signed_flag)\n+        value = 2*value+1;\n+      break;\n+#endif\n     case 8:\n       value = signed_flag ? 0x7fffffffffffffff : 0xffffffffffffffff;\n       break;\n@@ -108,16 +124,26 @@ convert_real (void *dest, const char *buffer, int length)\n   switch (length)\n     {\n     case 4:\n-      *((float *) dest) =\n+      *((GFC_REAL_4 *) dest) =\n #if defined(HAVE_STRTOF)\n \tstrtof (buffer, NULL);\n #else\n-\t(float) strtod (buffer, NULL);\n+\t(GFC_REAL_4) strtod (buffer, NULL);\n #endif\n       break;\n     case 8:\n-      *((double *) dest) = strtod (buffer, NULL);\n+      *((GFC_REAL_8 *) dest) = strtod (buffer, NULL);\n+      break;\n+#if defined(HAVE_GFC_REAL_10) && defined (HAVE_STRTOLD)\n+    case 10:\n+      *((GFC_REAL_10 *) dest) = strtold (buffer, NULL);\n+      break;\n+#endif\n+#if defined(HAVE_GFC_REAL_16) && defined (HAVE_STRTOLD)\n+    case 16:\n+      *((GFC_REAL_16 *) dest) = strtold (buffer, NULL);\n       break;\n+#endif\n     default:\n       internal_error (\"Unsupported real kind during IO\");\n     }\n@@ -164,11 +190,11 @@ read_l (fnode * f, char *dest, int length)\n     {\n     case 't':\n     case 'T':\n-      set_integer (dest, 1, length);\n+      set_integer (dest, (GFC_INTEGER_LARGEST) 1, length);\n       break;\n     case 'f':\n     case 'F':\n-      set_integer (dest, 0, length);\n+      set_integer (dest, (GFC_INTEGER_LARGEST) 0, length);\n       break;\n     default:\n     bad:\n@@ -263,8 +289,9 @@ next_char (char **p, int *w)\n void\n read_decimal (fnode * f, char *dest, int length)\n {\n-  unsigned value, maxv, maxv_10;\n-  int v, w, negative;\n+  GFC_UINTEGER_LARGEST value, maxv, maxv_10;\n+  GFC_INTEGER_LARGEST v;\n+  int w, negative;\n   char c, *p;\n \n   w = f->u.w;\n@@ -275,7 +302,7 @@ read_decimal (fnode * f, char *dest, int length)\n   p = eat_leading_spaces (&w, p);\n   if (w == 0)\n     {\n-      set_integer (dest, 0, length);\n+      set_integer (dest, (GFC_INTEGER_LARGEST) 0, length);\n       return;\n     }\n \n@@ -324,7 +351,7 @@ read_decimal (fnode * f, char *dest, int length)\n       value += c;\n     }\n \n-  v = (signed int) value;\n+  v = value;\n   if (negative)\n     v = -v;\n \n@@ -350,8 +377,9 @@ read_decimal (fnode * f, char *dest, int length)\n void\n read_radix (fnode * f, char *dest, int length, int radix)\n {\n-  unsigned value, maxv, maxv_r;\n-  int v, w, negative;\n+  GFC_UINTEGER_LARGEST value, maxv, maxv_r;\n+  GFC_INTEGER_LARGEST v;\n+  int w, negative;\n   char c, *p;\n \n   w = f->u.w;\n@@ -362,7 +390,7 @@ read_radix (fnode * f, char *dest, int length, int radix)\n   p = eat_leading_spaces (&w, p);\n   if (w == 0)\n     {\n-      set_integer (dest, 0, length);\n+      set_integer (dest, (GFC_INTEGER_LARGEST) 0, length);\n       return;\n     }\n \n@@ -460,7 +488,7 @@ read_radix (fnode * f, char *dest, int length, int radix)\n       value += c;\n     }\n \n-  v = (signed int) value;\n+  v = value;\n   if (negative)\n     v = -v;\n \n@@ -594,12 +622,24 @@ read_f (fnode * f, char *dest, int length)\n   switch (length)\n     {\n       case 4:\n-\t*((float *) dest) = 0.0f;\n+\t*((GFC_REAL_4 *) dest) = 0;\n \tbreak;\n \n       case 8:\n-\t*((double *) dest) = 0.0;\n+\t*((GFC_REAL_8 *) dest) = 0;\n+\tbreak;\n+\n+#ifdef HAVE_GFC_REAL_10\n+      case 10:\n+\t*((GFC_REAL_10 *) dest) = 0;\n \tbreak;\n+#endif\n+\n+#ifdef HAVE_GFC_REAL_16\n+      case 16:\n+\t*((GFC_REAL_16 *) dest) = 0;\n+\tbreak;\n+#endif\n \n       default:\n \tinternal_error (\"Unsupported real kind during IO\");"}, {"sha": "0e2a3ac5ccdf114a96b9e4a864ec7c2715532c2c", "filename": "libgfortran/io/write.c", "status": "modified", "additions": 71, "deletions": 42, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fwrite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fio%2Fwrite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite.c?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -37,7 +37,6 @@ Boston, MA 02111-1307, USA.  */\n #include \"libgfortran.h\"\n #include \"io.h\"\n \n-\n #define star_fill(p, n) memset(p, '*', n)\n \n \n@@ -69,52 +68,66 @@ write_a (fnode * f, const char *source, int len)\n     }\n }\n \n-static int64_t\n+static GFC_INTEGER_LARGEST\n extract_int (const void *p, int len)\n {\n-  int64_t i = 0;\n+  GFC_INTEGER_LARGEST i = 0;\n \n   if (p == NULL)\n     return i;\n \n   switch (len)\n     {\n     case 1:\n-      i = *((const int8_t *) p);\n+      i = *((const GFC_INTEGER_1 *) p);\n       break;\n     case 2:\n-      i = *((const int16_t *) p);\n+      i = *((const GFC_INTEGER_2 *) p);\n       break;\n     case 4:\n-      i = *((const int32_t *) p);\n+      i = *((const GFC_INTEGER_4 *) p);\n       break;\n     case 8:\n-      i = *((const int64_t *) p);\n+      i = *((const GFC_INTEGER_8 *) p);\n+      break;\n+#ifdef HAVE_GFC_INTEGER_16\n+    case 16:\n+      i = *((const GFC_INTEGER_16 *) p);\n       break;\n+#endif\n     default:\n       internal_error (\"bad integer kind\");\n     }\n \n   return i;\n }\n \n-static double\n+static GFC_REAL_LARGEST\n extract_real (const void *p, int len)\n {\n-  double i = 0.0;\n+  GFC_REAL_LARGEST i = 0;\n   switch (len)\n     {\n     case 4:\n-      i = *((const float *) p);\n+      i = *((const GFC_REAL_4 *) p);\n       break;\n     case 8:\n-      i = *((const double *) p);\n+      i = *((const GFC_REAL_8 *) p);\n+      break;\n+#ifdef HAVE_GFC_REAL_10\n+    case 10:\n+      i = *((const GFC_REAL_10 *) p);\n       break;\n+#endif\n+#ifdef HAVE_GFC_REAL_16\n+    case 16:\n+      i = *((const GFC_REAL_16 *) p);\n+      break;\n+#endif\n     default:\n       internal_error (\"bad real kind\");\n     }\n   return i;\n-\n }\n \n \n@@ -148,11 +161,11 @@ calculate_sign (int negative_flag)\n \n /* Returns the value of 10**d.  */\n \n-static double\n+static GFC_REAL_LARGEST\n calculate_exp (int d)\n {\n   int i;\n-  double r = 1.0;\n+  GFC_REAL_LARGEST r = 1.0;\n \n   for (i = 0; i< (d >= 0 ? d : -d); i++)\n     r *= 10;\n@@ -181,13 +194,13 @@ calculate_exp (int d)\n           for Gw.dEe, n' ' means e+2 blanks  */\n \n static fnode *\n-calculate_G_format (fnode *f, double value, int *num_blank)\n+calculate_G_format (fnode *f, GFC_REAL_LARGEST value, int *num_blank)\n {\n   int e = f->u.real.e;\n   int d = f->u.real.d;\n   int w = f->u.real.w;\n   fnode *newf;\n-  double m, exp_d;\n+  GFC_REAL_LARGEST m, exp_d;\n   int low, high, mid;\n   int ubound, lbound;\n \n@@ -199,8 +212,7 @@ calculate_G_format (fnode *f, double value, int *num_blank)\n   /* In case of the two data magnitude ranges,\n      generate E editing, Ew.d[Ee].  */\n   exp_d = calculate_exp (d);\n-  if ((m > 0.0 && m < 0.1 - 0.05 / (double) exp_d)\n-      || (m >= (double) exp_d - 0.5 ))\n+  if ((m > 0.0 && m < 0.1 - 0.05 / exp_d) || (m >= exp_d - 0.5 ))\n     {\n       newf->format = FMT_E;\n       newf->u.real.w = w;\n@@ -219,7 +231,7 @@ calculate_G_format (fnode *f, double value, int *num_blank)\n \n   while (low <= high)\n     {\n-      double temp;\n+      GFC_REAL_LARGEST temp;\n       mid = (low + high) / 2;\n \n       /* 0.1 * 10**mid - 0.5 * 10**(mid-d-1)  */\n@@ -271,7 +283,7 @@ calculate_G_format (fnode *f, double value, int *num_blank)\n /* Output a real number according to its format which is FMT_G free.  */\n \n static void\n-output_float (fnode *f, double value)\n+output_float (fnode *f, GFC_REAL_LARGEST value)\n {\n   /* This must be large enough to accurately hold any value.  */\n   char buffer[32];\n@@ -321,11 +333,15 @@ output_float (fnode *f, double value)\n     edigits = 2;\n   else\n     {\n-      abslog = fabs(log10 (value));\n+#if defined(HAVE_GFC_REAL_10) || defined(HAVE_GFC_REAL_16)\n+      abslog = fabs((double) log10l(value));\n+#else\n+      abslog = fabs(log10(value));\n+#endif\n       if (abslog < 100)\n \tedigits = 2;\n       else\n-        edigits = 1 + (int) log10 (abslog);\n+        edigits = 1 + (int) log10(abslog);\n     }\n \n   if (ft == FMT_F || ft == FMT_EN\n@@ -346,7 +362,24 @@ output_float (fnode *f, double value)\n \tndigits = 27 - edigits;\n     }\n \n-  sprintf (buffer, \"%+-#31.*e\", ndigits - 1, value);\n+  /* #   The result will always contain a decimal point, even if no\n+   *     digits follow it\n+   *\n+   * -   The converted value is to be left adjusted on the field boundary\n+   *\n+   * +   A sign (+ or -) always be placed before a number\n+   *\n+   * 31  minimum field width\n+   *\n+   * *   (ndigits-1) is used as the precision\n+   *\n+   *   e format: [-]d.ddde\u00b1dd where there is one digit before the\n+   *   decimal-point character and the number of digits after it is\n+   *   equal to the precision. The exponent always contains at least two\n+   *   digits; if the value is zero, the exponent is 00.\n+   */\n+  sprintf (buffer, \"%+-#31.*\" GFC_REAL_LARGEST_FORMAT \"e\",\n+           ndigits - 1, value);\n \n   /* Check the resulting string has punctuation in the correct places.  */\n   if (buffer[2] != '.' || buffer[ndigits + 2] != 'e')\n@@ -673,7 +706,7 @@ void\n write_l (fnode * f, char *source, int len)\n {\n   char *p;\n-  int64_t n;\n+  GFC_INTEGER_LARGEST n;\n \n   p = write_block (f->u.w);\n   if (p == NULL)\n@@ -689,7 +722,7 @@ write_l (fnode * f, char *source, int len)\n static void\n write_float (fnode *f, const char *source, int len)\n {\n-  double n;\n+  GFC_REAL_LARGEST n;\n   int nb =0, res, save_scale_factor;\n   char * p, fin;\n   fnode *f2 = NULL;\n@@ -698,7 +731,10 @@ write_float (fnode *f, const char *source, int len)\n \n   if (f->format != FMT_B && f->format != FMT_O && f->format != FMT_Z)\n     {\n-      res = isfinite (n);\n+      /* TODO: there are some systems where isfinite is not able to work\n+               with long double variables. We should detect this case and\n+\t       provide our own version for isfinite.  */\n+      res = isfinite (n); \n       if (res == 0)\n \t{\n \t  nb =  f->u.real.w;\n@@ -756,10 +792,10 @@ write_float (fnode *f, const char *source, int len)\n \n \n static void\n-write_int (fnode *f, const char *source, int len, char *(*conv) (uint64_t))\n+write_int (fnode *f, const char *source, int len,\n+           char *(*conv) (GFC_UINTEGER_LARGEST))\n {\n-  uint32_t ns =0;\n-  uint64_t n = 0;\n+  GFC_UINTEGER_LARGEST n = 0;\n   int w, m, digits, nzero, nblank;\n   char *p, *q;\n \n@@ -783,15 +819,7 @@ write_int (fnode *f, const char *source, int len, char *(*conv) (uint64_t))\n       goto done;\n     }\n \n-\n-  if (len < 8)\n-     {\n-       ns = n;\n-       q = conv (ns);\n-     }\n-  else\n-      q = conv (n);\n-\n+  q = conv (n);\n   digits = strlen (q);\n \n   /* Select a width if none was specified.  The idea here is to always\n@@ -842,9 +870,10 @@ write_int (fnode *f, const char *source, int len, char *(*conv) (uint64_t))\n }\n \n static void\n-write_decimal (fnode *f, const char *source, int len, char *(*conv) (int64_t))\n+write_decimal (fnode *f, const char *source, int len,\n+               char *(*conv) (GFC_INTEGER_LARGEST))\n {\n-  int64_t n = 0;\n+  GFC_INTEGER_LARGEST n = 0;\n   int w, m, digits, nsign, nzero, nblank;\n   char *p, *q;\n   sign_t sign;\n@@ -930,7 +959,7 @@ write_decimal (fnode *f, const char *source, int len, char *(*conv) (int64_t))\n /* Convert unsigned octal to ascii.  */\n \n static char *\n-otoa (uint64_t n)\n+otoa (GFC_UINTEGER_LARGEST n)\n {\n   char *p;\n \n@@ -958,7 +987,7 @@ otoa (uint64_t n)\n /* Convert unsigned binary to ascii.  */\n \n static char *\n-btoa (uint64_t n)\n+btoa (GFC_UINTEGER_LARGEST n)\n {\n   char *p;\n "}, {"sha": "0064edf68a01b92c9082b938577675b08e29b5f9", "filename": "libgfortran/libgfortran.h", "status": "modified", "additions": 3, "deletions": 16, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Flibgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Flibgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Flibgfortran.h?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -197,20 +197,7 @@ isfinite (double x)\n #define IMAGPART(z) (__imag__(z))\n #define COMPLEX_ASSIGN(z_, r_, i_) {__real__(z_) = (r_); __imag__(z_) = (i_);}\n \n-typedef int8_t GFC_INTEGER_1;\n-typedef int16_t GFC_INTEGER_2;\n-typedef int32_t GFC_INTEGER_4;\n-typedef int64_t GFC_INTEGER_8;\n-typedef uint8_t GFC_UINTEGER_1;\n-typedef uint16_t GFC_UINTEGER_2;\n-typedef uint32_t GFC_UINTEGER_4;\n-typedef uint64_t GFC_UINTEGER_8;\n-typedef GFC_INTEGER_4 GFC_LOGICAL_4;\n-typedef GFC_INTEGER_8 GFC_LOGICAL_8;\n-typedef float GFC_REAL_4;\n-typedef double GFC_REAL_8;\n-typedef complex float GFC_COMPLEX_4;\n-typedef complex double GFC_COMPLEX_8;\n+#include \"kinds.h\"\n \n /* The following two definitions must be consistent with the types used\n    by the compiler.  */\n@@ -384,10 +371,10 @@ internal_proto(get_args);\n \n /* error.c */\n \n-extern char *gfc_itoa (int64_t);\n+extern char *gfc_itoa (GFC_INTEGER_LARGEST);\n internal_proto(gfc_itoa);\n \n-extern char *xtoa (uint64_t);\n+extern char *xtoa (GFC_UINTEGER_LARGEST);\n internal_proto(xtoa);\n \n extern void os_error (const char *) __attribute__ ((noreturn));"}, {"sha": "6f292bf48a8aed4caa26bfb8aac1cb009260ffd3", "filename": "libgfortran/mk-kinds-h.sh", "status": "added", "additions": 65, "deletions": 0, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fmk-kinds-h.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fmk-kinds-h.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fmk-kinds-h.sh?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -0,0 +1,65 @@\n+#!/bin/sh\n+\n+compile=\"$1\"\n+\n+# Possible types must be listed in ascending order\n+possible_integer_kinds=\"1 2 4 8 16\"\n+possible_real_kinds=\"4 8 10 16\"\n+\n+\n+largest=\"\"\n+for k in $possible_integer_kinds; do\n+  echo \"  integer (kind=$k) :: i\" > tmp$$.f90\n+  echo \"  end\" >> tmp$$.f90\n+  if $compile -c tmp$$.f90 > /dev/null 2>&1; then\n+    s=`expr 8 \\* $k`\n+    largest=\"$k\"\n+\n+    if [ $s -eq 128 ]; then\n+      prefix=\"__\"\n+    else\n+      prefix=\"\"\n+    fi\n+\n+    echo \"typedef ${prefix}int${s}_t GFC_INTEGER_${k};\"\n+    echo \"typedef ${prefix}uint${s}_t GFC_UINTEGER_${k};\"\n+    echo \"typedef GFC_INTEGER_${k} GFC_LOGICAL_${k};\"\n+    echo \"#define HAVE_GFC_INTEGER_${k}\"\n+  fi\n+  rm -f tmp$$.*\n+done\n+\n+echo \"#define GFC_INTEGER_LARGEST GFC_INTEGER_${largest}\"\n+echo \"#define GFC_UINTEGER_LARGEST GFC_UINTEGER_${largest}\"\n+echo \"\"\n+\n+\n+largest_ctype=\"\"\n+for k in $possible_real_kinds; do\n+  echo \"  real (kind=$k) :: x\" > tmp$$.f90\n+  echo \"  end\" >> tmp$$.f90\n+  if $compile -c tmp$$.f90 > /dev/null 2>&1; then\n+    case $k in\n+      4) ctype=\"float\" ;;\n+      8) ctype=\"double\" ;;\n+      10) ctype=\"long double\" ;;\n+      16) ctype=\"long double\" ;;\n+      *) echo \"$0: Unknown type\" >&2 ; exit 1 ;;\n+    esac\n+    largest_ctype=\"$ctype\"\n+    echo \"typedef ${ctype} GFC_REAL_${k};\"\n+    echo \"typedef complex ${ctype} GFC_COMPLEX_${k};\"\n+    echo \"#define HAVE_GFC_REAL_${k}\"\n+  fi\n+  rm -f tmp$$.*\n+done\n+\n+case $largest_ctype in\n+  float) echo \"#define GFC_REAL_LARGEST_FORMAT \\\"\\\"\" ;;\n+  double) echo \"#define GFC_REAL_LARGEST_FORMAT \\\"l\\\"\" ;;\n+  \"long double\") echo \"#define GFC_REAL_LARGEST_FORMAT \\\"L\\\"\" ;;\n+  *) echo \"$0: Unknown type\" >&2 ; exit 1 ;;\n+esac\n+echo \"#define GFC_REAL_LARGEST $largest_ctype\"\n+\n+exit 0"}, {"sha": "8b42041967a8895739a20d18f79b2990a29101fc", "filename": "libgfortran/runtime/error.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fruntime%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6/libgfortran%2Fruntime%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Ferror.c?ref=32aa3bffc3be895994b3fa8a35c4c7d66e5fc8c6", "patch": "@@ -69,11 +69,11 @@ static char buffer[32];\t\t/* buffer for integer/ascii conversions */\n /* Returns a pointer to a static buffer. */\n \n char *\n-gfc_itoa (int64_t n)\n+gfc_itoa (GFC_INTEGER_LARGEST n)\n {\n   int negative;\n   char *p;\n-  uint64_t t;\n+  GFC_UINTEGER_LARGEST t;\n \n   if (n == 0)\n     {\n@@ -109,7 +109,7 @@ gfc_itoa (int64_t n)\n  * static buffer. */\n \n char *\n-xtoa (uint64_t n)\n+xtoa (GFC_UINTEGER_LARGEST n)\n {\n   int digit;\n   char *p;"}]}