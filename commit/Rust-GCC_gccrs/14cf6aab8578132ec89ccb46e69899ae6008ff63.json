{"sha": "14cf6aab8578132ec89ccb46e69899ae6008ff63", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRjZjZhYWI4NTc4MTMyZWM4OWNjYjQ2ZTY5ODk5YWU2MDA4ZmY2Mw==", "commit": {"author": {"name": "Jeff Law", "email": "jlaw@tachyum.com", "date": "2021-05-05T13:49:28Z"}, "committer": {"name": "Jeff Law", "email": "jlaw@tachyum.com", "date": "2021-05-05T13:49:28Z"}, "message": "Remove NOTICE_UPDATE_CC remnants on cr16\n\ngcc\n\t* config/cr16/cr16.h (NOTICE_UPDATE_CC): Remove.\n\t* config/cr16/cr16.c (notice_update_cc): Remove.\n\t* config/cr16/cr16-protos.h (notice_update_cc): Remove.", "tree": {"sha": "f96d0567088634e3411e789daf9c3a3c850926ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f96d0567088634e3411e789daf9c3a3c850926ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14cf6aab8578132ec89ccb46e69899ae6008ff63", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14cf6aab8578132ec89ccb46e69899ae6008ff63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14cf6aab8578132ec89ccb46e69899ae6008ff63", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14cf6aab8578132ec89ccb46e69899ae6008ff63/comments", "author": null, "committer": null, "parents": [{"sha": "a8b79cc939d6786293f654c42a2d1b0ab040de0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8b79cc939d6786293f654c42a2d1b0ab040de0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8b79cc939d6786293f654c42a2d1b0ab040de0e"}], "stats": {"total": 35, "additions": 0, "deletions": 35}, "files": [{"sha": "8580dfef7166cc8ddb039cf96bc185f71df4b2b4", "filename": "gcc/config/cr16/cr16-protos.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcr16%2Fcr16-protos.h?ref=14cf6aab8578132ec89ccb46e69899ae6008ff63", "patch": "@@ -67,7 +67,6 @@ enum cr16_addrtype\n   CR16_ABSOLUTE\n };\n \n-extern void notice_update_cc (rtx);\n extern int cr16_operand_bit_pos (int val, int bitval);\n extern void cr16_decompose_const (rtx x, int *code,\n \t\t\t\t  enum data_model_type *data,"}, {"sha": "6c81c399f700e5c8c950379a1f9e8464413ad123", "filename": "gcc/config/cr16/cr16.c", "status": "modified", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcr16%2Fcr16.c?ref=14cf6aab8578132ec89ccb46e69899ae6008ff63", "patch": "@@ -2095,37 +2095,6 @@ cr16_legitimate_constant_p (machine_mode mode ATTRIBUTE_UNUSED,\n   return 1;\n }\n \n-void\n-notice_update_cc (rtx exp)\n-{\n-  if (GET_CODE (exp) == SET)\n-    {\n-      /* Jumps do not alter the cc's.  */\n-      if (SET_DEST (exp) == pc_rtx)\n-\treturn;\n-\n-      /* Moving register or memory into a register:\n-         it doesn't alter the cc's, but it might invalidate\n-         the RTX's which we remember the cc's came from.\n-         (Note that moving a constant 0 or 1 MAY set the cc's).  */\n-      if (REG_P (SET_DEST (exp))\n-\t  && (REG_P (SET_SRC (exp)) || GET_CODE (SET_SRC (exp)) == MEM))\n-\t{\n-\t  return;\n-\t}\n-\n-      /* Moving register into memory doesn't alter the cc's.\n-         It may invalidate the RTX's which we remember the cc's came from.  */\n-      if (GET_CODE (SET_DEST (exp)) == MEM && REG_P (SET_SRC (exp)))\n-\t{\n-\t  return;\n-\t}\n-    }\n-\n-  CC_STATUS_INIT;\n-  return;\n-}\n-\n static scalar_int_mode\n cr16_unwind_word_mode (void)\n {"}, {"sha": "4ce9e81b0e3ff2a413a5418643157b792b0d8438", "filename": "gcc/config/cr16/cr16.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14cf6aab8578132ec89ccb46e69899ae6008ff63/gcc%2Fconfig%2Fcr16%2Fcr16.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcr16%2Fcr16.h?ref=14cf6aab8578132ec89ccb46e69899ae6008ff63", "patch": "@@ -195,9 +195,6 @@ while (0)\n   (targetm.hard_regno_nregs (REGNO,                                          \\\n \t\t\t     GET_MODE_WIDER_MODE (word_mode).require ()) == 1)\n \n-#define NOTICE_UPDATE_CC(EXP, INSN) \\\n-   notice_update_cc ((EXP))\n-\n /* Interrupt functions can only use registers that have already been \n    saved by the prologue, even if they would normally be call-clobbered \n    Check if sizes are same and then check if it is possible to rename.  */"}]}