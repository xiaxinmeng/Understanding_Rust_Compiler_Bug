{"sha": "7be7a07d27b88ef733255714b0ae5187cf18a428", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2JlN2EwN2QyN2I4OGVmNzMzMjU1NzE0YjBhZTUxODdjZjE4YTQyOA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-10-21T19:27:19Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-10-21T19:27:19Z"}, "message": "Fix sparc builtin_memcpy miscompilation.\n\n\t* expmed.c (store_bit_field): If need to add a SUBREG, then remove\n\texisting SUBREG if we can, otherwise abort.\n\nFrom-SVN: r23215", "tree": {"sha": "e74cf64bef6571029f944536af0afa7cd3a4dc62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e74cf64bef6571029f944536af0afa7cd3a4dc62"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7be7a07d27b88ef733255714b0ae5187cf18a428", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7be7a07d27b88ef733255714b0ae5187cf18a428", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7be7a07d27b88ef733255714b0ae5187cf18a428", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7be7a07d27b88ef733255714b0ae5187cf18a428/comments", "author": null, "committer": null, "parents": [{"sha": "822a4ff1627c2688dab2df69cf66245407bd7cd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/822a4ff1627c2688dab2df69cf66245407bd7cd9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/822a4ff1627c2688dab2df69cf66245407bd7cd9"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "8f715712d7c0954b7713f87520ffd494563cde78", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7be7a07d27b88ef733255714b0ae5187cf18a428/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7be7a07d27b88ef733255714b0ae5187cf18a428/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7be7a07d27b88ef733255714b0ae5187cf18a428", "patch": "@@ -1,3 +1,8 @@\n+Wed Oct 21 19:23:59 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* expmed.c (store_bit_field): If need to add a SUBREG, then remove\n+\texisting SUBREG if we can, otherwise abort.\n+\n Wed Oct 21 09:58:51 1998  Mark Mitchell  <mark@markmitchell.com>\n \n \t* c-common.c (c_apply_type_quals_to_decl): Don't crash when"}, {"sha": "2836c4cdf6d50db03b8f348aa90f3eebcfa72ef8", "filename": "gcc/expmed.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7be7a07d27b88ef733255714b0ae5187cf18a428/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7be7a07d27b88ef733255714b0ae5187cf18a428/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=7be7a07d27b88ef733255714b0ae5187cf18a428", "patch": "@@ -423,7 +423,18 @@ store_bit_field (str_rtx, bitsize, bitnum, fieldmode, value, align, total_size)\n \t  || GET_MODE_SIZE (GET_MODE (op0)) > UNITS_PER_WORD)\n \t{\n \t  if (GET_CODE (op0) != REG)\n-\t    op0 = copy_to_reg (op0);\n+\t    {\n+\t      /* Since this is a destination (lvalue), we can't copy it to a\n+\t\t pseudo.  We can trivially remove a SUBREG that does not\n+\t\t change the size of the operand.  Such a SUBREG may have been\n+\t\t added above.  Otherwise, abort.  */\n+\t      if (GET_CODE (op0) == SUBREG\n+\t\t  && (GET_MODE_SIZE (GET_MODE (op0))\n+\t\t      == GET_MODE_SIZE (GET_MODE (SUBREG_REG (op0)))))\n+\t\top0 = SUBREG_REG (op0);\n+\t      else\n+\t\tabort ();\n+\t    }\n \t  op0 = gen_rtx_SUBREG (mode_for_size (BITS_PER_WORD, MODE_INT, 0),\n \t\t                op0, offset);\n \t}"}]}