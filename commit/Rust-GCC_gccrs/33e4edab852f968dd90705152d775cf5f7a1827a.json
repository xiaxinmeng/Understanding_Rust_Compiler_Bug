{"sha": "33e4edab852f968dd90705152d775cf5f7a1827a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzNlNGVkYWI4NTJmOTY4ZGQ5MDcwNTE1MmQ3NzVjZjVmN2ExODI3YQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2012-12-11T08:03:13Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2012-12-11T08:03:13Z"}, "message": "* gcc-interface/Make-lang.in (RTS_DIR): Define only if Ada is enabled.\n\nFrom-SVN: r194384", "tree": {"sha": "c71a7afa022b144c0fbba007f614ff70dece02eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c71a7afa022b144c0fbba007f614ff70dece02eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/33e4edab852f968dd90705152d775cf5f7a1827a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33e4edab852f968dd90705152d775cf5f7a1827a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33e4edab852f968dd90705152d775cf5f7a1827a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33e4edab852f968dd90705152d775cf5f7a1827a/comments", "author": null, "committer": null, "parents": [{"sha": "74080cba9b523fb9042df02014e3f69bafe21911", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74080cba9b523fb9042df02014e3f69bafe21911", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74080cba9b523fb9042df02014e3f69bafe21911"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "bf9ce42175665d4b24f63e37a21dd3da0658d122", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33e4edab852f968dd90705152d775cf5f7a1827a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33e4edab852f968dd90705152d775cf5f7a1827a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=33e4edab852f968dd90705152d775cf5f7a1827a", "patch": "@@ -1,3 +1,7 @@\n+2012-12-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/Make-lang.in (RTS_DIR): Define only if Ada is enabled.\n+\n 2012-12-08  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (gnat_to_gnu) <N_Indexed_Component>: Assert"}, {"sha": "0d83ab8820809f919267717b864284963ed70cba", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/33e4edab852f968dd90705152d775cf5f7a1827a/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/33e4edab852f968dd90705152d775cf5f7a1827a/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=33e4edab852f968dd90705152d775cf5f7a1827a", "patch": "@@ -122,7 +122,9 @@ ifeq ($(build), $(host))\n \n     # put the host RTS dir first in the PATH to hide the default runtime\n     # files that are among the sources\n-    RTS_DIR:=$(strip $(subst \\,/,$(shell gnatls -v | grep adalib )))\n+    ifneq ($(findstring ada,$(LANGUAGES)),)\n+      RTS_DIR:=$(strip $(subst \\,/,$(shell gnatls -v | grep adalib )))\n+    endif\n \n     ADA_TOOLS_FLAGS_TO_PASS=\\\n         CC=\"$(CC)\" \\\n@@ -157,7 +159,9 @@ else\n   else\n     # This is a canadian cross. We should use a toolchain running on the\n     # build platform and targeting the host platform.\n-    RTS_DIR:=$(strip $(subst \\,/,$(shell $(GNATLS_FOR_HOST) -v | grep adalib )))\n+    ifneq ($(findstring ada,$(LANGUAGES)),)\n+      RTS_DIR:=$(strip $(subst \\,/,$(shell $(GNATLS_FOR_HOST) -v | grep adalib )))\n+    endif\n     ADA_TOOLS_FLAGS_TO_PASS=\\\n         CC=\"$(CC)\" \\\n         $(COMMON_FLAGS_TO_PASS) $(ADA_FLAGS_TO_PASS)  \\"}]}