{"sha": "d875078437f3e2a604d702281b742b591bfbe7d0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg3NTA3ODQzN2YzZTJhNjA0ZDcwMjI4MWI3NDJiNTkxYmZiZTdkMA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2002-04-01T05:08:51Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2002-04-01T05:08:51Z"}, "message": "varray.h (VARRAY_CHECK): Const-ify.\n\n\t* varray.h (VARRAY_CHECK): Const-ify.\n\t* ggc.h (ggc_mark_rtx, ggc_mark_tree, ggc_mark_nonnull_tree,\n\tggc_mark_rtvec, ggc_mark): Const-ify.\n\nFrom-SVN: r51677", "tree": {"sha": "e383909e50691324aab4ef591c778d38b3231595", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e383909e50691324aab4ef591c778d38b3231595"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d875078437f3e2a604d702281b742b591bfbe7d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d875078437f3e2a604d702281b742b591bfbe7d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d875078437f3e2a604d702281b742b591bfbe7d0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d875078437f3e2a604d702281b742b591bfbe7d0/comments", "author": null, "committer": null, "parents": [{"sha": "d544bc3983fbc512ee03566672751c07f71e1323", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d544bc3983fbc512ee03566672751c07f71e1323", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d544bc3983fbc512ee03566672751c07f71e1323"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "c97fd639c9b7cce40a437e6460135a1b285e96cd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d875078437f3e2a604d702281b742b591bfbe7d0", "patch": "@@ -2,6 +2,9 @@\n \n \t* rtl.h (RTL_CHECK1, RTL_CHECK2, RTL_CHECKC1, RTL_CHECKC2,\n \tRTVEC_ELT): Const-ify.\n+\t* varray.h (VARRAY_CHECK): Const-ify.\n+\t* ggc.h (ggc_mark_rtx, ggc_mark_tree, ggc_mark_nonnull_tree,\n+\tggc_mark_rtvec, ggc_mark): Const-ify.\n \n 2002-04-01  Neil Booth  <neil@daikokuya.demon.co.uk>\n "}, {"sha": "917b65e9a7fb58dc591c96929cffb7d0a3406af9", "filename": "gcc/ggc.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2Fggc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2Fggc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc.h?ref=d875078437f3e2a604d702281b742b591bfbe7d0", "patch": "@@ -88,35 +88,35 @@ extern void ggc_mark_rtvec_children\tPARAMS ((struct rtvec_def *));\n \n #define ggc_mark_rtx(EXPR)                      \\\n   do {                                          \\\n-    rtx r__ = (EXPR);                           \\\n+    rtx const r__ = (EXPR);                     \\\n     if (ggc_test_and_set_mark (r__))            \\\n       ggc_mark_rtx_children (r__);              \\\n   } while (0)\n \n #define ggc_mark_tree(EXPR)\t\t\t\t\\\n   do {\t\t\t\t\t\t\t\\\n-    tree t__ = (EXPR);\t\t\t\t\t\\\n+    tree const t__ = (EXPR);\t\t\t\t\\\n     if (ggc_test_and_set_mark (t__))\t\t\t\\\n       VARRAY_PUSH_TREE (ggc_pending_trees, t__);\t\\\n   } while (0)\n \n #define ggc_mark_nonnull_tree(EXPR)\t\t\t\\\n   do {\t\t\t\t\t\t\t\\\n-    tree t__ = (EXPR);\t\t\t\t\t\\\n+    tree const t__ = (EXPR);\t\t\t\t\\\n     if (! ggc_set_mark (t__))\t\t\t\t\\\n       VARRAY_PUSH_TREE (ggc_pending_trees, t__);\t\\\n   } while (0)\n \n #define ggc_mark_rtvec(EXPR)                    \\\n   do {                                          \\\n-    rtvec v__ = (EXPR);                         \\\n+    rtvec const v__ = (EXPR);                   \\\n     if (ggc_test_and_set_mark (v__))            \\\n       ggc_mark_rtvec_children (v__);            \\\n   } while (0)\n \n #define ggc_mark(EXPR)\t\t\t\t\\\n   do {\t\t\t\t\t\t\\\n-    const void *a__ = (EXPR);\t\t\t\\\n+    const void *const a__ = (EXPR);\t\t\\\n     if (a__ != NULL)\t\t\t\t\\\n       ggc_set_mark (a__);\t\t\t\\\n   } while (0)"}, {"sha": "130553bb4d217ab36e3c9878069ab2013dc998dc", "filename": "gcc/varray.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2Fvarray.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d875078437f3e2a604d702281b742b591bfbe7d0/gcc%2Fvarray.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarray.h?ref=d875078437f3e2a604d702281b742b591bfbe7d0", "patch": "@@ -177,8 +177,8 @@ extern void varray_check_failed PARAMS ((varray_type, size_t,\n \t\t\t\t\tconst char *, int,\n \t\t\t\t\tconst char *)) ATTRIBUTE_NORETURN;\n #define VARRAY_CHECK(VA, N, T) __extension__\t\t\t\\\n-(*({ varray_type _va = VA;\t\t\t\t\t\\\n-     size_t _n = N; \t\t\t\t\t\t\\\n+(*({ varray_type const _va = (VA);\t\t\t\t\\\n+     const size_t _n = (N); \t\t\t\t\t\\\n      if (_n >= _va->num_elements)\t\t\t\t\\\n        varray_check_failed (_va, _n, __FILE__, __LINE__, __FUNCTION__);\t\\\n      &_va->data.T[_n]; }))"}]}