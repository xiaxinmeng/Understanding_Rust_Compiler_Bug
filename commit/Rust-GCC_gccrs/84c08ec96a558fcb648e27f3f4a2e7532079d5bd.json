{"sha": "84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRjMDhlYzk2YTU1OGZjYjY0OGUyN2YzZjRhMmU3NTMyMDc5ZDViZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2016-09-16T18:09:14Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2016-09-16T18:09:14Z"}, "message": "Replace modulus with mask operation in over-aligned new\n\n2016-09-16  Jonathan Wakely  <jwakely@redhat.com>\n\t    Marc Glisse  <marc.glisse@inria.fr>\n\n\t* libsupc++/new_opa.cc [_GLIBCXX_HAVE_ALIGNED_ALLOC]\n\t(operator new(size_t, align_val_t)): Replace modulus operator with\n\tmask.\n\nCo-Authored-By: Marc Glisse <marc.glisse@inria.fr>\n\nFrom-SVN: r240192", "tree": {"sha": "b8c56baa281de2eae77e1ec2845a367d9bf8d38d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8c56baa281de2eae77e1ec2845a367d9bf8d38d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c08ec96a558fcb648e27f3f4a2e7532079d5bd/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d987deb5be9484c103d3a786590c84b54535813", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d987deb5be9484c103d3a786590c84b54535813", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d987deb5be9484c103d3a786590c84b54535813"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "21ee3fd70f08e95e2c728dbd6ec4d2f278fdf081", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c08ec96a558fcb648e27f3f4a2e7532079d5bd/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c08ec96a558fcb648e27f3f4a2e7532079d5bd/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "patch": "@@ -1,3 +1,10 @@\n+2016-09-16  Jonathan Wakely  <jwakely@redhat.com>\n+\t    Marc Glisse  <marc.glisse@inria.fr>\n+\n+\t* libsupc++/new_opa.cc [_GLIBCXX_HAVE_ALIGNED_ALLOC]\n+\t(operator new(size_t, align_val_t)): Replace modulus operator with\n+\tmask.\n+\n 2016-09-16  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* libsupc++/new_opa.cc [_GLIBCXX_HAVE_POSIX_MEMALIGN] (aligned_alloc):"}, {"sha": "91e53a8b3608f63ed7467a23b3f82ac113b4766f", "filename": "libstdc++-v3/libsupc++/new_opa.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c08ec96a558fcb648e27f3f4a2e7532079d5bd/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c08ec96a558fcb648e27f3f4a2e7532079d5bd/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc?ref=84c08ec96a558fcb648e27f3f4a2e7532079d5bd", "patch": "@@ -69,7 +69,7 @@ operator new (std::size_t sz, std::align_val_t al)\n \n #if _GLIBCXX_HAVE_ALIGNED_ALLOC\n   /* C11: the value of size shall be an integral multiple of alignment.  */\n-  if (std::size_t rem = sz % align)\n+  if (std::size_t rem = sz & (align - 1))\n     sz += align - rem;\n #endif\n "}]}