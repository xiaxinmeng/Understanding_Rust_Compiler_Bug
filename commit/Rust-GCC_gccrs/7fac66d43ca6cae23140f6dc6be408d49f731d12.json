{"sha": "7fac66d43ca6cae23140f6dc6be408d49f731d12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZhYzY2ZDQzY2E2Y2FlMjMxNDBmNmRjNmJlNDA4ZDQ5ZjczMWQxMg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-07-12T22:06:49Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-07-12T22:06:49Z"}, "message": "tree-ssa-operands.c (parse_ssa_operands): Fix formatting.\n\n\n\t* tree-ssa-operands.c (parse_ssa_operands): Fix formatting.\n\t(get_expr_operands): Fix thinko wrt flags and subvars.\n\nFrom-SVN: r101947", "tree": {"sha": "14e86f3aaf1e0d285c00b18ab0dce26d5e8a46f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/14e86f3aaf1e0d285c00b18ab0dce26d5e8a46f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7fac66d43ca6cae23140f6dc6be408d49f731d12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fac66d43ca6cae23140f6dc6be408d49f731d12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fac66d43ca6cae23140f6dc6be408d49f731d12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fac66d43ca6cae23140f6dc6be408d49f731d12/comments", "author": null, "committer": null, "parents": [{"sha": "a2af50436f16c10f22f55188f9e429633c2532ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2af50436f16c10f22f55188f9e429633c2532ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2af50436f16c10f22f55188f9e429633c2532ec"}], "stats": {"total": 50, "additions": 45, "deletions": 5}, "files": [{"sha": "21433ead198cfaf263f0b7476792670433a5c829", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7fac66d43ca6cae23140f6dc6be408d49f731d12", "patch": "@@ -1,3 +1,12 @@\n+2005-07-13  Jan Hubicka  <jh@suse.cz>\n+\n+\t* tree-ssa-operands.c (parse_ssa_operands): Fix formatting.\n+\t(get_expr_operands): Fix thinko wrt flags and subvars.\n+\n+\tPR tree-optimize/22379\n+\t* tree-inline.c (expand_call_inline): Do not output sorry in early\n+\tinlining.\n+\n 2005-07-12  Dale Johannesen  <dalej@apple.com>\n \n \t* config/rs6000.c (rs6000_rtx_cost):  Move FLOAT_EXTEND."}, {"sha": "db5906ccd8a70a53cca52c54f03271718d9421eb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7fac66d43ca6cae23140f6dc6be408d49f731d12", "patch": "@@ -1,4 +1,8 @@\n-2005-07-12  Thomas Koenig  <Thomas.Koenig@online.de>\n+2005-07-12  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcc.c-torture/compile/pr22379.c: New test.\n+\n+2005-07-11  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR libfortran/21593\n \tgfortran.dg/dev_null.f90:  Remove outdated comment about"}, {"sha": "fae84a0afad8465b456e385d483b33ea4957610d", "filename": "gcc/testsuite/gcc.c-torture/compile/pr22379.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr22379.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr22379.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr22379.c?ref=7fac66d43ca6cae23140f6dc6be408d49f731d12", "patch": "@@ -0,0 +1,23 @@\n+void __add_entropy_words(void);\n+void __wake_up(void);\n+void SHATransform(void);\n+static inline __attribute__((always_inline)) void add_entropy_words(void){}\n+void extract_entropy(void);\n+static inline __attribute__((always_inline)) void xfer_secondary_pool(void)\n+{\n+extract_entropy();\n+add_entropy_words();\n+}\n+void extract_entropy(void)\n+{\n+xfer_secondary_pool();\n+__wake_up();\n+}\n+void init_std_data(void)\n+{\n+add_entropy_words();\n+}\n+void rand_initialize(void)\n+{\n+init_std_data();\n+}"}, {"sha": "fe70751cc9a16b88c30b83a32855148e17864d19", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=7fac66d43ca6cae23140f6dc6be408d49f731d12", "patch": "@@ -1966,7 +1966,9 @@ expand_call_inline (basic_block bb, tree stmt, tree *tp, void *data)\n      inlining.  */\n   if (!cgraph_inline_p (cg_edge, &reason))\n     {\n-      if (lookup_attribute (\"always_inline\", DECL_ATTRIBUTES (fn)))\n+      if (lookup_attribute (\"always_inline\", DECL_ATTRIBUTES (fn))\n+\t  /* Avoid warnings during early inline pass. */\n+\t  && (!flag_unit_at_a_time || cgraph_global_info_ready))\n \t{\n \t  sorry (\"inlining failed in call to %q+F: %s\", fn, reason);\n \t  sorry (\"called from here\");"}, {"sha": "98b476683e6877c0308d4a8cb9c9223276765651", "filename": "gcc/tree-ssa-operands.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftree-ssa-operands.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fac66d43ca6cae23140f6dc6be408d49f731d12/gcc%2Ftree-ssa-operands.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-operands.c?ref=7fac66d43ca6cae23140f6dc6be408d49f731d12", "patch": "@@ -896,7 +896,8 @@ parse_ssa_operands (tree stmt)\n \tif (TREE_CODE (lhs) == VIEW_CONVERT_EXPR)\n \t  lhs = TREE_OPERAND (lhs, 0);\n \n-\tif (TREE_CODE (lhs) != ARRAY_REF && TREE_CODE (lhs) != ARRAY_RANGE_REF\n+\tif (TREE_CODE (lhs) != ARRAY_REF\n+\t    && TREE_CODE (lhs) != ARRAY_RANGE_REF\n \t    && TREE_CODE (lhs) != BIT_FIELD_REF\n \t    && TREE_CODE (lhs) != REALPART_EXPR\n \t    && TREE_CODE (lhs) != IMAGPART_EXPR)\n@@ -1325,9 +1326,10 @@ get_expr_operands (tree stmt, tree *expr_p, int flags)\n \t\tbool exact;\t\t\n \t\tif (overlap_subvar (offset, size, sv, &exact))\n \t\t  {\n+\t            bool subvar_flags = flags;\n \t\t    if (!exact)\n-\t\t      flags &= ~opf_kill_def;\n-\t\t    add_stmt_operand (&sv->var, s_ann, flags);\n+\t\t      subvar_flags &= ~opf_kill_def;\n+\t\t    add_stmt_operand (&sv->var, s_ann, subvar_flags);\n \t\t  }\n \t      }\n \t  }"}]}