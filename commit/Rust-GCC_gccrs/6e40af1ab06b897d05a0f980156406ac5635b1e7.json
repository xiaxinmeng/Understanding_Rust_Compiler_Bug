{"sha": "6e40af1ab06b897d05a0f980156406ac5635b1e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU0MGFmMWFiMDZiODk3ZDA1YTBmOTgwMTU2NDA2YWM1NjM1YjFlNw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-08-12T02:51:31Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-08-12T02:51:31Z"}, "message": "re PR c++/16717 ([unit-at-a-time] __attribute__((constructor)) broken in C++)\n\n\tPR c++/16717\n\t* g++.dg/ext/construct1.C: New test.\n\nFrom-SVN: r85844", "tree": {"sha": "07f0189b6d836f7f615861db48346b7b74eb14c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/07f0189b6d836f7f615861db48346b7b74eb14c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e40af1ab06b897d05a0f980156406ac5635b1e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e40af1ab06b897d05a0f980156406ac5635b1e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e40af1ab06b897d05a0f980156406ac5635b1e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e40af1ab06b897d05a0f980156406ac5635b1e7/comments", "author": null, "committer": null, "parents": [{"sha": "46e34f968db2a72527521ccfa0b9020bd7fd3b0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46e34f968db2a72527521ccfa0b9020bd7fd3b0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46e34f968db2a72527521ccfa0b9020bd7fd3b0d"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "dd98c39fc03917702deb3196f9a8d75c0933058a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e40af1ab06b897d05a0f980156406ac5635b1e7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e40af1ab06b897d05a0f980156406ac5635b1e7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6e40af1ab06b897d05a0f980156406ac5635b1e7", "patch": "@@ -1,3 +1,8 @@\n+2004-08-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/16717\n+\t* g++.dg/ext/construct1.C: New test.\n+\n 2004-08-11  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/16853"}, {"sha": "6a7d8cee403058140274dc49246f4fe6b00ed83e", "filename": "gcc/testsuite/g++.dg/ext/construct1.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e40af1ab06b897d05a0f980156406ac5635b1e7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fconstruct1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e40af1ab06b897d05a0f980156406ac5635b1e7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fconstruct1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fconstruct1.C?ref=6e40af1ab06b897d05a0f980156406ac5635b1e7", "patch": "@@ -0,0 +1,12 @@\n+// PR c++/16717\n+// { dg-options \"-O2\" }\n+\n+int i;\n+\n+void hello (void) __attribute__ ((constructor));\n+void hello (void) { i = 1; }\n+\n+int main (void) {\n+  if (i != 1)\n+    return 1;\n+}"}]}