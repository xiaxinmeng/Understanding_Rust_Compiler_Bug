{"sha": "787ccee0124924e9a03f6e350cb30b6d9924eb50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg3Y2NlZTAxMjQ5MjRlOWEwM2Y2ZTM1MGNiMzBiNmQ5OTI0ZWI1MA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-03-17T23:24:30Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-03-17T23:24:30Z"}, "message": "rtlanal.c (single_set): Reject if the parallel has anything except SET or USE or CLOBBER.\n\n        * rtlanal.c (single_set): Reject if the parallel has anything\n        except SET or USE or CLOBBER.\n\nFrom-SVN: r32614", "tree": {"sha": "12ce3ec806bf4247c716bb8a833b7b29f9d35843", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12ce3ec806bf4247c716bb8a833b7b29f9d35843"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/787ccee0124924e9a03f6e350cb30b6d9924eb50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/787ccee0124924e9a03f6e350cb30b6d9924eb50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/787ccee0124924e9a03f6e350cb30b6d9924eb50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/787ccee0124924e9a03f6e350cb30b6d9924eb50/comments", "author": null, "committer": null, "parents": [{"sha": "7d89dda571403fb5293782e4786738ef189b85b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d89dda571403fb5293782e4786738ef189b85b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d89dda571403fb5293782e4786738ef189b85b3"}], "stats": {"total": 37, "additions": 28, "deletions": 9}, "files": [{"sha": "68ac1f2b7e6cee39e86c5c02aab0e2433781eda6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/787ccee0124924e9a03f6e350cb30b6d9924eb50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/787ccee0124924e9a03f6e350cb30b6d9924eb50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=787ccee0124924e9a03f6e350cb30b6d9924eb50", "patch": "@@ -1,3 +1,8 @@\n+2000-03-17  Richard Henderson  <rth@cygnus.com>\n+\n+\t* rtlanal.c (single_set): Reject if the parallel has anything\n+\texcept SET or USE or CLOBBER.\n+\n 2000-03-17  Jeff Law  <law@cygnus.com>\n \t    Richard Henderson  <rth@cygnus.com>\n "}, {"sha": "b10a3bf3438b89ab7390b9c297a3702fd313eae4", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 23, "deletions": 9, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/787ccee0124924e9a03f6e350cb30b6d9924eb50/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/787ccee0124924e9a03f6e350cb30b6d9924eb50/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=787ccee0124924e9a03f6e350cb30b6d9924eb50", "patch": "@@ -703,16 +703,30 @@ single_set (insn)\n   else if (GET_CODE (PATTERN (insn)) == PARALLEL)\n     {\n       for (i = 0, set = 0; i < XVECLEN (PATTERN (insn), 0); i++)\n-\tif (GET_CODE (XVECEXP (PATTERN (insn), 0, i)) == SET\n-\t    && (! find_reg_note (insn, REG_UNUSED,\n-\t\t\t\t SET_DEST (XVECEXP (PATTERN (insn), 0, i)))\n-\t\t|| side_effects_p (XVECEXP (PATTERN (insn), 0, i))))\n-\t  {\n-\t    if (set)\n+\t{\n+\t  rtx sub = XVECEXP (PATTERN (insn), 0, i);\n+\n+\t  switch (GET_CODE (sub))\n+\t    {\n+\t    case USE:\n+\t    case CLOBBER:\n+\t      break;\n+\n+\t    case SET:\n+\t      if (! find_reg_note (insn, REG_UNUSED, SET_DEST (sub))\n+\t\t  || side_effects_p (sub))\n+\t\t{\n+\t\t  if (set)\n+\t\t    return 0;\n+\t\t  else\n+\t\t    set = sub;\n+\t\t}\n+\t      break;\n+\n+\t    default:\n \t      return 0;\n-\t    else\n-\t      set = XVECEXP (PATTERN (insn), 0, i);\n-\t  }\n+\t    }\n+\t}\n       return set;\n     }\n   "}]}