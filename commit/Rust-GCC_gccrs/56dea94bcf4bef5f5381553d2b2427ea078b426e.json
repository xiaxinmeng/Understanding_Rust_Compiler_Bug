{"sha": "56dea94bcf4bef5f5381553d2b2427ea078b426e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZkZWE5NGJjZjRiZWY1ZjUzODE1NTNkMmIyNDI3ZWEwNzhiNDI2ZQ==", "commit": {"author": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-02-26T14:12:05Z"}, "committer": {"name": "James A. Morrison", "email": "phython@gcc.gnu.org", "date": "2005-02-26T14:12:05Z"}, "message": "extrafunc.tree, [...]: New tests.\n\n2005-02-26  James A. Morrison  <phython@gcc.gnu.org>\n\n        * compile/extrafunc.tree, compile/extravar.tree: New tests.\n\nFrom-SVN: r95581", "tree": {"sha": "8ba67e0d87ae83913282e03b38e2183fca8a8cef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ba67e0d87ae83913282e03b38e2183fca8a8cef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56dea94bcf4bef5f5381553d2b2427ea078b426e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56dea94bcf4bef5f5381553d2b2427ea078b426e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56dea94bcf4bef5f5381553d2b2427ea078b426e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56dea94bcf4bef5f5381553d2b2427ea078b426e/comments", "author": null, "committer": null, "parents": [{"sha": "347561b87c32addd5a115c0181b6d41c52a4eaec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/347561b87c32addd5a115c0181b6d41c52a4eaec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/347561b87c32addd5a115c0181b6d41c52a4eaec"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "db4d022deb6cf8617aa8b77ff6c793f4d9d57133", "filename": "gcc/testsuite/treelang/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2FChangeLog?ref=56dea94bcf4bef5f5381553d2b2427ea078b426e", "patch": "@@ -1,3 +1,7 @@\n+2005-02-26  James A. Morrison  <phython@gcc.gnu.org>\n+\n+\t* compile/extrafunc.tree, compile/extravar.tree: New tests.\n+\n 2005-02-26  James A. Morrison  <phython@gcc.gnu.org>\n \n \t* compile/unsigned.tree: New test."}, {"sha": "6682a118a04d969f5ec37355252af89a7fbc362d", "filename": "gcc/testsuite/treelang/compile/extrafunc.tree", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextrafunc.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextrafunc.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextrafunc.tree?ref=56dea94bcf4bef5f5381553d2b2427ea078b426e", "patch": "@@ -0,0 +1,24 @@\n+// { dg-do compile }\n+// { dg-options \"-O2 -fdump-tree-optimized -Wunused-function\" }\n+// Check to see that unused functions get removed at -O2 and\n+// above.\n+static int foo (int bar);\n+static int baz (int aaa);\n+external_definition int ext (int bbb);\n+\n+foo\n+{\n+\treturn bar;\n+}\n+\n+baz // { dg-warning \"defined but not used\" }\n+{\n+\treturn foo (aaa);\n+}\n+\n+ext\n+{\n+\treturn foo (bbb);\n+}\n+\n+// { dg-final { scan-tree-dump-not \"baz\" \"optimized\" } }"}, {"sha": "5c6b5867b8c0b02328643268af82a969047dabbc", "filename": "gcc/testsuite/treelang/compile/extravar.tree", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextravar.tree", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dea94bcf4bef5f5381553d2b2427ea078b426e/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextravar.tree", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Ftreelang%2Fcompile%2Fextravar.tree?ref=56dea94bcf4bef5f5381553d2b2427ea078b426e", "patch": "@@ -0,0 +1,13 @@\n+// { dg-do compile }\n+// { dg-options \"-fdump-tree-vars -O1 -Wunused-variable\" }\n+external_definition int bar (int aaa, int ddd);\n+\n+static int foo = -3;  // { dg-warning \"defined but not used\" }\n+\n+bar\n+{\n+\tautomatic int ccc;\n+\n+\treturn aaa + ddd + +3;\n+}\n+// { dg-final { scan-tree-dump-not \"ccc\" \"vars\" } }"}]}