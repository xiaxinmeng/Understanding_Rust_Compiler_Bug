{"sha": "f7a61b839f7d938fc37a9b9fd671bbd7800f1d09", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdhNjFiODM5ZjdkOTM4ZmMzN2E5YjlmZDY3MWJiZDc4MDBmMWQwOQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-07-08T21:55:32Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-07-08T21:55:32Z"}, "message": "(function_arg): Add explicit checks for FIELD_DECLs.\n\n(mips_function_value): Add explicit checks for FIELD_DECLs, and save\nthem in the array FIELDS.  When returning structure with 1 float field,\nenclose it in a PARALLEL and set the PARALLEL mode correctly.\n* mips/mips.md (call_value): Call gen_call_value_multiple_internal0\nonly if there are multiple return values.  Strip the PARALLEL off\nif there there is only one return value.\n\nFrom-SVN: r12411", "tree": {"sha": "4829ac5cfe8cf62a16daf15ad7c18dc576bfb526", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4829ac5cfe8cf62a16daf15ad7c18dc576bfb526"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09/comments", "author": null, "committer": null, "parents": [{"sha": "a1616dd9e81f077a581da475d45d379d7959fb04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1616dd9e81f077a581da475d45d379d7959fb04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1616dd9e81f077a581da475d45d379d7959fb04"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "fc8caca07d8f1f3e178982b170d0de61996002a4", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a61b839f7d938fc37a9b9fd671bbd7800f1d09/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=f7a61b839f7d938fc37a9b9fd671bbd7800f1d09", "patch": "@@ -6496,7 +6496,7 @@ move\\\\t%0,%z4\\\\n\\\\\n \n       /* Handle Irix6 function calls that have multiple non-contiguous\n \t results.  */\n-      if (GET_CODE (operands[0]) == PARALLEL)\n+      if (GET_CODE (operands[0]) == PARALLEL && XVECLEN (operands[0], 0) > 1)\n \t{\n \t  emit_call_insn (gen_call_value_multiple_internal0\n \t\t\t  (XEXP (XVECEXP (operands[0], 0, 0), 0),\n@@ -6506,6 +6506,11 @@ move\\\\t%0,%z4\\\\n\\\\\n \t  DONE;\n \t}\n \n+      /* We have a call returning a DImode structure in an FP reg.\n+\t Strip off the now unnecessary PARALLEL.  */\n+      if (GET_CODE (operands[0]) == PARALLEL)\n+\toperands[0] = XEXP (XVECEXP (operands[0], 0, 0), 0);\n+\n       emit_call_insn (gen_call_value_internal0 (operands[0], operands[1], operands[2],\n \t\t\t\t\t        gen_rtx (REG, SImode, GP_REG_FIRST + 31)));\n "}]}