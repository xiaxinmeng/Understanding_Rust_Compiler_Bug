{"sha": "c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhiNjIyZmYyZDBhN2M3ZTAzMGMzZTNhOGY0YTQ1YTc1YzgxNDIyNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2005-06-06T19:22:19Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2005-06-06T19:22:19Z"}, "message": "combine.c (try_combine): Use hard_regno_nregs array instead of HARD_REGNO_NREGS macro.\n\n\t* combine.c (try_combine): Use hard_regno_nregs array instead of\n\tHARD_REGNO_NREGS macro.\n\t* config/rs6000/rs6000.c (rs6000_split_multireg_move,\n\trs6000_register_move_cost, rs6000_memory_move_cost): Likewise.\n\t* config/ia64/ia64.c (mark_reg_gr_used_mask): Likewise.\n\nFrom-SVN: r100673", "tree": {"sha": "601f45251a4905b151a8508b171462fb89b0a153", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/601f45251a4905b151a8508b171462fb89b0a153"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "012309e6a8dbb77cea4e916d8328ba7e63a592f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/012309e6a8dbb77cea4e916d8328ba7e63a592f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/012309e6a8dbb77cea4e916d8328ba7e63a592f4"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "69bcc422168a9abf90ce4a3f34925048c939667c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "patch": "@@ -1,3 +1,11 @@\n+2005-06-06  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* combine.c (try_combine): Use hard_regno_nregs array instead of\n+\tHARD_REGNO_NREGS macro.\n+\t* config/rs6000/rs6000.c (rs6000_split_multireg_move,\n+\trs6000_register_move_cost, rs6000_memory_move_cost): Likewise.\n+\t* config/ia64/ia64.c (mark_reg_gr_used_mask): Likewise.\n+\n 2005-06-06  Daniel Berlin  <dberlin@dberlin.org>\n \n \t* tree-ssa-reassoc.o: New."}, {"sha": "7cecc3d01028641b0da722aacc9637a8e2b9afff", "filename": "gcc/combine.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "patch": "@@ -2385,8 +2385,8 @@ try_combine (rtx i3, rtx i2, rtx i1, int *new_direct_jump_p)\n \t      || GET_MODE (*split) == VOIDmode\n \t      || (REGNO (i2dest) < FIRST_PSEUDO_REGISTER\n \t\t  && HARD_REGNO_MODE_OK (REGNO (i2dest), GET_MODE (*split))\n-\t\t  && (HARD_REGNO_NREGS (REGNO (i2dest), GET_MODE (i2dest))\n-\t\t      == HARD_REGNO_NREGS (REGNO (i2dest), GET_MODE (*split))))\n+\t\t  && (hard_regno_nregs[REGNO (i2dest)][GET_MODE (i2dest)]\n+\t\t      == hard_regno_nregs[REGNO (i2dest)][GET_MODE (*split)]))\n \t      || (REGNO (i2dest) >= FIRST_PSEUDO_REGISTER\n \t\t  && REG_N_SETS (REGNO (i2dest)) == 1 && ! added_sets_2\n \t\t  && ! REG_USERVAR_P (i2dest)))"}, {"sha": "e119ecb2b1a83c089732cc3684def021f311de6a", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "patch": "@@ -2008,7 +2008,7 @@ mark_reg_gr_used_mask (rtx reg, void *data ATTRIBUTE_UNUSED)\n   unsigned int regno = REGNO (reg);\n   if (regno < 32)\n     {\n-      unsigned int i, n = HARD_REGNO_NREGS (regno, GET_MODE (reg));\n+      unsigned int i, n = hard_regno_nregs[regno][GET_MODE (reg)];\n       for (i = 0; i < n; ++i)\n \tcurrent_frame_info.gr_used_mask |= 1 << (regno + i);\n     }"}, {"sha": "6a55de112db456d1bdbea280cf6bc9023570fa2f", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=c8b622ff2d0a7c7e030c3e3a8f4a45a75c814227", "patch": "@@ -11586,7 +11586,7 @@ rs6000_split_multireg_move (rtx dst, rtx src)\n \n   reg = REG_P (dst) ? REGNO (dst) : REGNO (src);\n   mode = GET_MODE (dst);\n-  nregs = HARD_REGNO_NREGS (reg, mode);\n+  nregs = hard_regno_nregs[reg][mode];\n   if (FP_REGNO_P (reg))\n     reg_mode = DFmode;\n   else if (ALTIVEC_REGNO_P (reg))\n@@ -17925,7 +17925,7 @@ rs6000_register_move_cost (enum machine_mode mode,\n \n       else\n \t/* A move will cost one instruction per GPR moved.  */\n-\treturn 2 * HARD_REGNO_NREGS (0, mode);\n+\treturn 2 * hard_regno_nregs[0][mode];\n     }\n \n   /* Moving between two similar registers is just one instruction.  */\n@@ -17946,11 +17946,11 @@ rs6000_memory_move_cost (enum machine_mode mode, enum reg_class class,\n \t\t\t int in ATTRIBUTE_UNUSED)\n {\n   if (reg_classes_intersect_p (class, GENERAL_REGS))\n-    return 4 * HARD_REGNO_NREGS (0, mode);\n+    return 4 * hard_regno_nregs[0][mode];\n   else if (reg_classes_intersect_p (class, FLOAT_REGS))\n-    return 4 * HARD_REGNO_NREGS (32, mode);\n+    return 4 * hard_regno_nregs[32][mode];\n   else if (reg_classes_intersect_p (class, ALTIVEC_REGS))\n-    return 4 * HARD_REGNO_NREGS (FIRST_ALTIVEC_REGNO, mode);\n+    return 4 * hard_regno_nregs[FIRST_ALTIVEC_REGNO][mode];\n   else\n     return 4 + rs6000_register_move_cost (mode, class, GENERAL_REGS);\n }"}]}