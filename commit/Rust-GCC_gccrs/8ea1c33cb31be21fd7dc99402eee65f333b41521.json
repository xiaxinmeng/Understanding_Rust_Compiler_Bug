{"sha": "8ea1c33cb31be21fd7dc99402eee65f333b41521", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGVhMWMzM2NiMzFiZTIxZmQ3ZGM5OTQwMmVlZTY1ZjMzM2I0MTUyMQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-03-01T22:22:18Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-03-01T22:22:18Z"}, "message": "cmd/go: restore passing D to ar\n    \n    This restores part of https://golang.org/cl/45695 that was\n    accidentally lost in https://golang.org/cl/158019 (the update to\n    Go1.12beta2).\n    \n    Reviewed-on: https://go-review.googlesource.com/c/164737\n\nFrom-SVN: r269333", "tree": {"sha": "442919537d8ee973fb57b23020814cdd9b96200e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/442919537d8ee973fb57b23020814cdd9b96200e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8ea1c33cb31be21fd7dc99402eee65f333b41521", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ea1c33cb31be21fd7dc99402eee65f333b41521", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ea1c33cb31be21fd7dc99402eee65f333b41521", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ea1c33cb31be21fd7dc99402eee65f333b41521/comments", "author": null, "committer": null, "parents": [{"sha": "6d9fa41bae42fa4f618ca701cbaa8c7bb7be1392", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d9fa41bae42fa4f618ca701cbaa8c7bb7be1392", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d9fa41bae42fa4f618ca701cbaa8c7bb7be1392"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "62ce2015df731dc26e934d69b4e99c73d3c5a692", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ea1c33cb31be21fd7dc99402eee65f333b41521/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ea1c33cb31be21fd7dc99402eee65f333b41521/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=8ea1c33cb31be21fd7dc99402eee65f333b41521", "patch": "@@ -1,4 +1,4 @@\n-805c82cc141c593ea2f27d8614ecd204e2b5e76e\n+a72eca1f435002076655fd6a54ce869ac39856dc\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "cb7d560f5cffa0c1553d51946e2be5197fd6cf7e", "filename": "libgo/go/cmd/go/internal/work/gccgo.go", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8ea1c33cb31be21fd7dc99402eee65f333b41521/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8ea1c33cb31be21fd7dc99402eee65f333b41521/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fcmd%2Fgo%2Finternal%2Fwork%2Fgccgo.go?ref=8ea1c33cb31be21fd7dc99402eee65f333b41521", "patch": "@@ -205,11 +205,14 @@ func (tools gccgoToolchain) pack(b *Builder, a *Action, afile string, ofiles []s\n \tif cfg.Goos == \"aix\" && cfg.Goarch == \"ppc64\" {\n \t\t// AIX puts both 32-bit and 64-bit objects in the same archive.\n \t\t// Tell the AIX \"ar\" command to only care about 64-bit objects.\n-\t\t// AIX \"ar\" command does not know D option.\n \t\tarArgs = []string{\"-X64\"}\n \t}\n-\n-\treturn b.run(a, p.Dir, p.ImportPath, nil, tools.ar(), arArgs, \"rc\", mkAbs(objdir, afile), absOfiles)\n+\tabsAfile := mkAbs(objdir, afile)\n+\t// Try with D modifier first, then without if that fails.\n+\tif b.run(a, p.Dir, p.ImportPath, nil, tools.ar(), arArgs, \"rcD\", absAfile, absOfiles) != nil {\n+\t\treturn b.run(a, p.Dir, p.ImportPath, nil, tools.ar(), arArgs, \"rc\", absAfile, absOfiles)\n+\t}\n+\treturn nil\n }\n \n func (tools gccgoToolchain) link(b *Builder, root *Action, out, importcfg string, allactions []*Action, buildmode, desc string) error {"}]}