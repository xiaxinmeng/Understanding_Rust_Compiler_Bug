{"sha": "f7ba183bc77b79458b151ea6b011040f46748757", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdiYTE4M2JjNzdiNzk0NThiMTUxZWE2YjAxMTA0MGY0Njc0ODc1Nw==", "commit": {"author": {"name": "Janis Johnson", "email": "janisjo@codesourcery.com", "date": "2011-06-10T18:22:02Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2011-06-10T18:22:02Z"}, "message": "* lib/target-supports.exp\n\t(check_effective_target_arm_neon_fp16_ok_nocache): Return 0 if\n\tmultilib flags use -mfpu with a value other than neon-fp16.\n\nFrom-SVN: r174919", "tree": {"sha": "2ea97622c61f18fabb11c2e8225ac8bf7a710071", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ea97622c61f18fabb11c2e8225ac8bf7a710071"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7ba183bc77b79458b151ea6b011040f46748757", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7ba183bc77b79458b151ea6b011040f46748757", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7ba183bc77b79458b151ea6b011040f46748757", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7ba183bc77b79458b151ea6b011040f46748757/comments", "author": null, "committer": null, "parents": [{"sha": "7d9cb05400f69764e2f9c3065c8024795c7a9a69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9cb05400f69764e2f9c3065c8024795c7a9a69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d9cb05400f69764e2f9c3065c8024795c7a9a69"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "5c893e6a7967d3b6abe47a16b565fae99cfef646", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7ba183bc77b79458b151ea6b011040f46748757/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7ba183bc77b79458b151ea6b011040f46748757/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f7ba183bc77b79458b151ea6b011040f46748757", "patch": "@@ -1,3 +1,9 @@\n+2011-06-10  Janis Johnson  <janisjo@codesourcery.com>\n+\n+\t* lib/target-supports.exp\n+\t(check_effective_target_arm_neon_fp16_ok_nocache): Return 0 if\n+\tmultilib flags use -mfpu with a value other than neon-fp16.\n+\n 2011-06-10  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* gcc.dg/torture/tls/tls.exp: Load torture-options.exp."}, {"sha": "b0e69c1c5cec5205824637b8941e8f4a4c551cd4", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7ba183bc77b79458b151ea6b011040f46748757/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7ba183bc77b79458b151ea6b011040f46748757/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=f7ba183bc77b79458b151ea6b011040f46748757", "patch": "@@ -1956,14 +1956,17 @@ proc add_options_for_arm_neon_fp16 { flags } {\n }\n \n # Return 1 if this is an ARM target supporting -mfpu=neon-fp16\n-# -mfloat-abi=softfp or equivalent options.  Some multilibs may be\n+# -mfloat-abi=softfp or equivalent options.  Skip multilibs that are\n # incompatible with these options.  Also set et_arm_neon_flags to the\n # best options to add.\n \n proc check_effective_target_arm_neon_fp16_ok_nocache { } {\n     global et_arm_neon_fp16_flags\n     set et_arm_neon_fp16_flags \"\"\n     if { [check_effective_target_arm32] } {\n+\tif [check-flags [list \"\" { *-*-* } { \"-mfpu=*\" } { \"-mfpu=neon-fp16*\" } ]] {\n+\t    return 0\n+\t}\n \t# Always add -mfpu=neon-fp16, since there is no preprocessor\n \t# macro for FP16 support.\n \tforeach flags {\"-mfpu=neon-fp16\" \"-mfpu=neon-fp16 -mfloat-abi=softfp\"} {"}]}