{"sha": "038fb86f047698c159302f913fbf2f1e8002dda2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDM4ZmI4NmYwNDc2OThjMTU5MzAyZjkxM2ZiZjJmMWU4MDAyZGRhMg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-05-22T05:01:43Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-05-22T05:01:43Z"}, "message": "* pt.c (print_template_context): Use fprintf instead of cp_error.\n\nFrom-SVN: r19950", "tree": {"sha": "1b7f4b7b1d36f9e8ea9cff7f12707d7f51f1ff7f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b7f4b7b1d36f9e8ea9cff7f12707d7f51f1ff7f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/038fb86f047698c159302f913fbf2f1e8002dda2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/038fb86f047698c159302f913fbf2f1e8002dda2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/038fb86f047698c159302f913fbf2f1e8002dda2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/038fb86f047698c159302f913fbf2f1e8002dda2/comments", "author": null, "committer": null, "parents": [{"sha": "82a7448c53924c93ecddda8d35cb4cbda824f10c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82a7448c53924c93ecddda8d35cb4cbda824f10c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82a7448c53924c93ecddda8d35cb4cbda824f10c"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "128a93229e9feb776f54361de3386777df2f747a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/038fb86f047698c159302f913fbf2f1e8002dda2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/038fb86f047698c159302f913fbf2f1e8002dda2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=038fb86f047698c159302f913fbf2f1e8002dda2", "patch": "@@ -1,5 +1,7 @@\n 1998-05-22  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* pt.c (print_template_context): Use fprintf instead of cp_error.\n+\n \t* pt.c (determine_specialization): Just return an error_mark_node.\n \tAlso print the decl we want in error messages.  If we complain,\n \treturn error_mark_node."}, {"sha": "920e0622fa7bf0a872cda71adbe1cc5617f40adf", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/038fb86f047698c159302f913fbf2f1e8002dda2/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/038fb86f047698c159302f913fbf2f1e8002dda2/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=038fb86f047698c159302f913fbf2f1e8002dda2", "patch": "@@ -3346,29 +3346,28 @@ print_template_context (err)\n       if (current_function_decl == p->decl)\n \t/* Avoid redundancy with the the \"In function\" line.  */;\n       else if (current_function_decl == NULL_TREE)\n-\tcp_error (\"In instantiation of `%D':\", p->decl);\n+\tfprintf (stderr, \"In instantiation of `%s':\\n\",\n+\t\t decl_as_string (p->decl, 0));\n       else\n \tmy_friendly_abort (980521);\n \n       if (p)\n \t{\n-\t  lineno = p->line;\n-\t  input_filename = p->file;\n+\t  line = p->line;\n+\t  file = p->file;\n \t  p = p->next;\n \t}\n     }\n \n  next:\n   for (; p; p = p->next)\n     {\n-      cp_error (\"  instantiated from `%D'\", p->decl);\n-      lineno = p->line;\n-      input_filename = p->file;\n+      fprintf (stderr, \"%s:%d:   instantiated from `%s'\\n\", file, line,\n+\t       decl_as_string (p->decl, 0));\n+      line = p->line;\n+      file = p->file;\n     }\n-  error (\"  instantiated from here\");\n-\n-  lineno = line;\n-  input_filename = file;\n+  fprintf (stderr, \"%s:%d:   instantiated from here\\n\", file, line);\n }\n \n /* Called from cp_thing to print the template context for an error.  */"}]}