{"sha": "077e7015e088e0f0ccbd442af857047c5dc10072", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDc3ZTcwMTVlMDg4ZTBmMGNjYmQ0NDJhZjg1NzA0N2M1ZGMxMDA3Mg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-07-19T18:55:38Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-07-19T18:55:38Z"}, "message": "decl.c (pushtag): Revert previous change.\n\n\t* decl.c (pushtag): Revert previous change.\n\t* pt.c (lookup_template_class): Don't put out debugging\n\tinformation for types that use template parameters.\n\nFrom-SVN: r21286", "tree": {"sha": "1784b581656814670be930e3132f8d4930bd2704", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1784b581656814670be930e3132f8d4930bd2704"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/077e7015e088e0f0ccbd442af857047c5dc10072", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/077e7015e088e0f0ccbd442af857047c5dc10072", "html_url": "https://github.com/Rust-GCC/gccrs/commit/077e7015e088e0f0ccbd442af857047c5dc10072", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/077e7015e088e0f0ccbd442af857047c5dc10072/comments", "author": null, "committer": null, "parents": [{"sha": "d92e4d8cba0e14bed08bbbc35d7229e4b5b4c369", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d92e4d8cba0e14bed08bbbc35d7229e4b5b4c369", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d92e4d8cba0e14bed08bbbc35d7229e4b5b4c369"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "09a9b4b74c1a6387e421e8ef908be4065e5d83c9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=077e7015e088e0f0ccbd442af857047c5dc10072", "patch": "@@ -1,5 +1,9 @@\n 1998-07-19  Mark Mitchell  <mark@markmitchell.com>\n \n+\t* decl.c (pushtag): Revert previous change.\n+\t* pt.c (lookup_template_class): Don't put out debugging\n+\tinformation for types that use template parameters.\n+\n \t* decl.c (pushtag): Don't put out debugging information for\n \tcompiler-generated typedefs.\n \t"}, {"sha": "913b9abd00aed3aa97d9351ebbb74d0e8a23df92", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=077e7015e088e0f0ccbd442af857047c5dc10072", "patch": "@@ -2287,14 +2287,6 @@ pushtag (name, type, globalize)\n \t      if (current_lang_name == lang_name_java)\n \t\tTYPE_FOR_JAVA (type) = 1;\n \t      SET_DECL_ARTIFICIAL (d);\n-\t      /* There's no reason to put out debugging information\n-\t\t for these declarations since they are\n-\t\t compiler-generated.  Furthermore, if the type makes\n-\t\t use of template parameters, the code that generates\n-\t\t debugging information will get confused.  It is safe\n-\t\t to put these out in the non-template case, just\n-\t\t useless.  */\n-\t      DECL_IGNORED_P (d) = 1;\n \t      if (! in_class)\n \t\tset_identifier_type_value_with_scope (name, type, b);\n \t    }"}, {"sha": "0f1dbdd8662e8a7ea453eea805a856adde095baa", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/077e7015e088e0f0ccbd442af857047c5dc10072/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=077e7015e088e0f0ccbd442af857047c5dc10072", "patch": "@@ -3212,6 +3212,11 @@ lookup_template_class (d1, arglist, in_decl, context)\n \t  && CLASSTYPE_INTERFACE_KNOWN (TREE_TYPE (template))\n \t  && ! CLASSTYPE_INTERFACE_ONLY (TREE_TYPE (template)))\n \tadd_pending_template (t);\n+\n+      if (uses_template_parms (arglist))\n+\t/* If the type makes use of template parameters, the\n+\t   code that generates debugging information will crash.  */\n+\tDECL_IGNORED_P (TYPE_STUB_DECL (t)) = 1;\n     }\n \n   return t;"}]}