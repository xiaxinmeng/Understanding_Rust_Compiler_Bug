{"sha": "f8045c4158f628673fdb4b1b42cf210bd516b486", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgwNDVjNDE1OGY2Mjg2NzNmZGI0YjFiNDJjZjIxMGJkNTE2YjQ4Ng==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2010-08-27T22:11:50Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2010-08-27T22:11:50Z"}, "message": "vfp.md (arm_movsi_vfp, [...]): Set attribute \"insn\".\n\n\t* config/arm/vfp.md (arm_movsi_vfp, thumb2_movsi_vfp, movsf_vfp,\n\tthumb2_movsf_vfp): Set attribute \"insn\".\n\t* config/arm/arm.md (arm_ashrdi3_1bit, arm_lshrdi3_1bit, not_shiftsi,\n\tnot_shiftsi_compare0, not_shiftsi_compare0_scratch, arm_one_cmplsi2,\n\tthumb1_one_cmplsi2, notsi_compare0, notsi_compare0_scratch,\n\tarm_zero_extendsidi2, arm_extendsidi2, thumb1_movdi_insn,\n\tarm_movsi_insn, movhi_insn_arch4, movhi_bytes, arm_movqi_insn,\n\tthumb1_movqi_insn arm32_movhf, thumb1_movhf, arm_movsf_soft_insn,\n\tthumb1_movsf_insn, thumb_movdf_insn, mov_scc, mov_negscc, mov_notscc,\n\tmovsicc_insn, movsfcc_soft_insn, and_scc, cond_move, if_move_not,\n\tif_not_move, if_shift_move, if_move_shift, if_shift_shift,\n\tif_not_arith, if_arith_not, cond_move_not): Likewise.\n\nFrom-SVN: r163601", "tree": {"sha": "d7668769ce71cd95918b5e37d7a4e08f99983d27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7668769ce71cd95918b5e37d7a4e08f99983d27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8045c4158f628673fdb4b1b42cf210bd516b486", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8045c4158f628673fdb4b1b42cf210bd516b486", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8045c4158f628673fdb4b1b42cf210bd516b486", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8045c4158f628673fdb4b1b42cf210bd516b486/comments", "author": null, "committer": null, "parents": [{"sha": "c1cb371a2fbe5bd89cb59db557a394e836fa1963", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1cb371a2fbe5bd89cb59db557a394e836fa1963", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1cb371a2fbe5bd89cb59db557a394e836fa1963"}], "stats": {"total": 71, "additions": 62, "deletions": 9}, "files": [{"sha": "07a97f52f9bf81a34847610e6d49e9a868991ee0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f8045c4158f628673fdb4b1b42cf210bd516b486", "patch": "@@ -6,6 +6,19 @@\n \tonly one element.\n \t(gen_regexp): Remove extra semicolon.\n \n+\t* config/arm/vfp.md (arm_movsi_vfp, thumb2_movsi_vfp, movsf_vfp,\n+\tthumb2_movsf_vfp): Set attribute \"insn\".\n+\t* config/arm/arm.md (arm_ashrdi3_1bit, arm_lshrdi3_1bit, not_shiftsi,\n+\tnot_shiftsi_compare0, not_shiftsi_compare0_scratch, arm_one_cmplsi2,\n+\tthumb1_one_cmplsi2, notsi_compare0, notsi_compare0_scratch,\n+\tarm_zero_extendsidi2, arm_extendsidi2, thumb1_movdi_insn,\n+\tarm_movsi_insn, movhi_insn_arch4, movhi_bytes, arm_movqi_insn,\n+\tthumb1_movqi_insn arm32_movhf, thumb1_movhf, arm_movsf_soft_insn,\n+\tthumb1_movsf_insn, thumb_movdf_insn, mov_scc, mov_negscc, mov_notscc,\n+\tmovsicc_insn, movsfcc_soft_insn, and_scc, cond_move, if_move_not,\n+\tif_not_move, if_shift_move, if_move_shift, if_shift_shift,\n+\tif_not_arith, if_arith_not, cond_move_not): Likewise.\n+\n 2010-08-23  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \t* config/rs6000/rs6000-protos.h (rs6000_address_for_fpconvert):"}, {"sha": "9d7310bee9f958770b17c7377f87a80c9896a722", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 45, "deletions": 9, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=f8045c4158f628673fdb4b1b42cf210bd516b486", "patch": "@@ -3388,6 +3388,7 @@\n   \"TARGET_32BIT\"\n   \"movs\\\\t%R0, %R1, asr #1\\;mov\\\\t%Q0, %Q1, rrx\"\n   [(set_attr \"conds\" \"clob\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -3444,6 +3445,7 @@\n   \"TARGET_32BIT\"\n   \"movs\\\\t%R0, %R1, lsr #1\\;mov\\\\t%Q0, %Q1, rrx\"\n   [(set_attr \"conds\" \"clob\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -3570,6 +3572,7 @@\n   \"mvn%?\\\\t%0, %1%S3\"\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"shift\" \"1\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"arch\" \"32,a\")\n    (set_attr \"type\" \"alu_shift,alu_shift_reg\")])\n \n@@ -3586,6 +3589,7 @@\n   \"mvn%.\\\\t%0, %1%S3\"\n   [(set_attr \"conds\" \"set\")\n    (set_attr \"shift\" \"1\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"arch\" \"32,a\")\n    (set_attr \"type\" \"alu_shift,alu_shift_reg\")])\n \n@@ -3601,6 +3605,7 @@\n   \"mvn%.\\\\t%0, %1%S3\"\n   [(set_attr \"conds\" \"set\")\n    (set_attr \"shift\" \"1\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"arch\" \"32,a\")\n    (set_attr \"type\" \"alu_shift,alu_shift_reg\")])\n \n@@ -3860,15 +3865,17 @@\n \t(not:SI (match_operand:SI 1 \"s_register_operand\"  \"r\")))]\n   \"TARGET_32BIT\"\n   \"mvn%?\\\\t%0, %1\"\n-  [(set_attr \"predicable\" \"yes\")]\n+  [(set_attr \"predicable\" \"yes\")\n+   (set_attr \"insn\" \"mvn\")]\n )\n \n (define_insn \"*thumb1_one_cmplsi2\"\n   [(set (match_operand:SI         0 \"register_operand\" \"=l\")\n \t(not:SI (match_operand:SI 1 \"register_operand\"  \"l\")))]\n   \"TARGET_THUMB1\"\n   \"mvn\\\\t%0, %1\"\n-  [(set_attr \"length\" \"2\")]\n+  [(set_attr \"length\" \"2\")\n+   (set_attr \"insn\" \"mvn\")]\n )\n \n (define_insn \"*notsi_compare0\"\n@@ -3879,7 +3886,8 @@\n \t(not:SI (match_dup 1)))]\n   \"TARGET_32BIT\"\n   \"mvn%.\\\\t%0, %1\"\n-  [(set_attr \"conds\" \"set\")]\n+  [(set_attr \"conds\" \"set\")\n+   (set_attr \"insn\" \"mvn\")]\n )\n \n (define_insn \"*notsi_compare0_scratch\"\n@@ -3889,7 +3897,8 @@\n    (clobber (match_scratch:SI 0 \"=r\"))]\n   \"TARGET_32BIT\"\n   \"mvn%.\\\\t%0, %1\"\n-  [(set_attr \"conds\" \"set\")]\n+  [(set_attr \"conds\" \"set\")\n+   (set_attr \"insn\" \"mvn\")]\n )\n \f\n ;; Fixed <--> Floating conversion insns\n@@ -4046,6 +4055,7 @@\n     return \\\"mov%?\\\\t%R0, #0\\\";\n   \"\n   [(set_attr \"length\" \"8\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"predicable\" \"yes\")]\n )\n \n@@ -4089,6 +4099,7 @@\n   \"\n   [(set_attr \"length\" \"8\")\n    (set_attr \"shift\" \"1\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"predicable\" \"yes\")]\n )\n \n@@ -5013,6 +5024,7 @@\n   }\"\n   [(set_attr \"length\" \"4,4,6,2,2,6,4,4\")\n    (set_attr \"type\" \"*,*,*,load2,store2,load2,store2,*\")\n+   (set_attr \"insn\" \"*,mov,*,*,*,*,*,mov\")\n    (set_attr \"pool_range\" \"*,*,*,*,*,1020,*,*\")]\n )\n \n@@ -5135,6 +5147,7 @@\n    ldr%?\\\\t%0, %1\n    str%?\\\\t%1, %0\"\n   [(set_attr \"type\" \"*,*,*,*,load1,store1\")\n+   (set_attr \"insn\" \"mov,mov,mvn,mov,*,*\")\n    (set_attr \"predicable\" \"yes\")\n    (set_attr \"pool_range\" \"*,*,*,*,4096,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,*,4084,*\")]\n@@ -5790,6 +5803,7 @@\n    ldr%(h%)\\\\t%0, %1\\\\t%@ movhi\"\n   [(set_attr \"type\" \"*,*,store1,load1\")\n    (set_attr \"predicable\" \"yes\")\n+   (set_attr \"insn\" \"mov,mvn,*,*\")\n    (set_attr \"pool_range\" \"*,*,*,256\")\n    (set_attr \"neg_pool_range\" \"*,*,*,244\")]\n )\n@@ -5801,7 +5815,8 @@\n   \"@\n    mov%?\\\\t%0, %1\\\\t%@ movhi\n    mvn%?\\\\t%0, #%B1\\\\t%@ movhi\"\n-  [(set_attr \"predicable\" \"yes\")]\n+  [(set_attr \"predicable\" \"yes\")\n+   (set_attr \"insn\" \"mov,mvn\")]\n )\n \n (define_expand \"thumb_movhi_clobber\"\n@@ -5937,6 +5952,7 @@\n    ldr%(b%)\\\\t%0, %1\n    str%(b%)\\\\t%1, %0\"\n   [(set_attr \"type\" \"*,*,load1,store1\")\n+   (set_attr \"insn\" \"mov,mvn,*,*\")\n    (set_attr \"predicable\" \"yes\")]\n )\n \n@@ -5955,6 +5971,7 @@\n    mov\\\\t%0, %1\"\n   [(set_attr \"length\" \"2\")\n    (set_attr \"type\" \"*,load1,store1,*,*,*\")\n+   (set_attr \"insn\" \"*,*,*,mov,mov,mov\")\n    (set_attr \"pool_range\" \"*,32,*,*,*,*\")\n    (set_attr \"conds\" \"clob,nocond,nocond,nocond,nocond,clob\")])\n \n@@ -6020,9 +6037,9 @@\n   \"\n   [(set_attr \"conds\" \"unconditional\")\n    (set_attr \"type\" \"load1,store1,*,*\")\n+   (set_attr \"insn\" \"*,*,mov,mov\")\n    (set_attr \"length\" \"4,4,4,8\")\n-   (set_attr \"predicable\" \"yes\")\n-   ]\n+   (set_attr \"predicable\" \"yes\")]\n )\n \n (define_insn \"*thumb1_movhf\"\n@@ -6056,6 +6073,7 @@\n   \"\n   [(set_attr \"length\" \"2\")\n    (set_attr \"type\" \"*,load1,store1,*,*\")\n+   (set_attr \"insn\" \"mov,*,*,mov,mov\")\n    (set_attr \"pool_range\" \"*,1020,*,*,*\")\n    (set_attr \"conds\" \"clob,nocond,nocond,nocond,nocond\")])\n \n@@ -6110,6 +6128,7 @@\n    str%?\\\\t%1, %0\\\\t%@ float\"\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"type\" \"*,load1,store1\")\n+   (set_attr \"insn\" \"mov,*,*\")\n    (set_attr \"pool_range\" \"*,4096,*\")\n    (set_attr \"arm_neg_pool_range\" \"*,4084,*\")\n    (set_attr \"thumb2_neg_pool_range\" \"*,0,*\")]\n@@ -6133,6 +6152,7 @@\n   [(set_attr \"length\" \"2\")\n    (set_attr \"type\" \"*,load1,store1,load1,store1,*,*\")\n    (set_attr \"pool_range\" \"*,*,*,1020,*,*,*\")\n+   (set_attr \"insn\" \"*,*,*,*,*,mov,mov\")\n    (set_attr \"conds\" \"clob,nocond,nocond,nocond,nocond,nocond,nocond\")]\n )\n \n@@ -6262,6 +6282,7 @@\n   \"\n   [(set_attr \"length\" \"4,2,2,6,4,4\")\n    (set_attr \"type\" \"*,load2,store2,load2,store2,*\")\n+   (set_attr \"insn\" \"*,*,*,*,*,mov\")\n    (set_attr \"pool_range\" \"*,*,*,1020,*,*\")]\n )\n \n@@ -7309,6 +7330,7 @@\n   \"TARGET_ARM\"\n   \"mov%D1\\\\t%0, #0\\;mov%d1\\\\t%0, #1\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -7319,6 +7341,7 @@\n   \"TARGET_ARM\"\n   \"mov%D1\\\\t%0, #0\\;mvn%d1\\\\t%0, #0\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -7329,6 +7352,7 @@\n   \"TARGET_ARM\"\n   \"mov%D1\\\\t%0, #0\\;mvn%d1\\\\t%0, #1\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -7692,7 +7716,8 @@\n    mvn%d3\\\\t%0, #%B1\\;mov%D3\\\\t%0, %2\n    mvn%d3\\\\t%0, #%B1\\;mvn%D3\\\\t%0, #%B2\"\n   [(set_attr \"length\" \"4,4,4,4,8,8,8,8\")\n-   (set_attr \"conds\" \"use\")]\n+   (set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov,mvn,mov,mvn,mov,mov,mvn,mvn\")]\n )\n \n (define_insn \"*movsfcc_soft_insn\"\n@@ -7705,7 +7730,8 @@\n   \"@\n    mov%D3\\\\t%0, %2\n    mov%d3\\\\t%0, %1\"\n-  [(set_attr \"conds\" \"use\")]\n+  [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")]\n )\n \n \f\n@@ -8607,6 +8633,7 @@\n   \"TARGET_ARM\"\n   \"mov%D1\\\\t%0, #0\\;and%d1\\\\t%0, %2, #1\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -8760,6 +8787,7 @@\n     return \\\"\\\";\n   \"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mov\")\n    (set_attr \"length\" \"4,4,8\")]\n )\n \n@@ -9476,6 +9504,7 @@\n    mov%d4\\\\t%0, %1\\;mvn%D4\\\\t%0, %2\n    mvn%d4\\\\t%0, #%B1\\;mvn%D4\\\\t%0, %2\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"length\" \"4,8,8\")]\n )\n \n@@ -9508,6 +9537,7 @@\n    mov%D4\\\\t%0, %1\\;mvn%d4\\\\t%0, %2\n    mvn%D4\\\\t%0, #%B1\\;mvn%d4\\\\t%0, %2\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"length\" \"4,8,8\")]\n )\n \n@@ -9545,6 +9575,7 @@\n   [(set_attr \"conds\" \"use\")\n    (set_attr \"shift\" \"2\")\n    (set_attr \"length\" \"4,8,8\")\n+   (set_attr \"insn\" \"mov\")\n    (set (attr \"type\") (if_then_else (match_operand 3 \"const_int_operand\" \"\")\n \t\t      (const_string \"alu_shift\")\n \t\t      (const_string \"alu_shift_reg\")))]\n@@ -9584,6 +9615,7 @@\n   [(set_attr \"conds\" \"use\")\n    (set_attr \"shift\" \"2\")\n    (set_attr \"length\" \"4,8,8\")\n+   (set_attr \"insn\" \"mov\")\n    (set (attr \"type\") (if_then_else (match_operand 3 \"const_int_operand\" \"\")\n \t\t      (const_string \"alu_shift\")\n \t\t      (const_string \"alu_shift_reg\")))]\n@@ -9624,6 +9656,7 @@\n   [(set_attr \"conds\" \"use\")\n    (set_attr \"shift\" \"1\")\n    (set_attr \"length\" \"8\")\n+   (set_attr \"insn\" \"mov\")\n    (set (attr \"type\") (if_then_else\n \t\t        (and (match_operand 2 \"const_int_operand\" \"\")\n                              (match_operand 4 \"const_int_operand\" \"\"))\n@@ -9660,6 +9693,7 @@\n   \"TARGET_ARM\"\n   \"mvn%d5\\\\t%0, %1\\;%I6%D5\\\\t%0, %2, %3\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -9692,6 +9726,7 @@\n   \"TARGET_ARM\"\n   \"mvn%D5\\\\t%0, %1\\;%I6%d5\\\\t%0, %2, %3\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"length\" \"8\")]\n )\n \n@@ -10138,6 +10173,7 @@\n    mvn%D4\\\\t%0, %2\n    mov%d4\\\\t%0, %1\\;mvn%D4\\\\t%0, %2\"\n   [(set_attr \"conds\" \"use\")\n+   (set_attr \"insn\" \"mvn\")\n    (set_attr \"length\" \"4,8\")]\n )\n "}, {"sha": "986cfc42f944d18d2b8900d65dd3996e100c023e", "filename": "gcc/config/arm/vfp.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2Fconfig%2Farm%2Fvfp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8045c4158f628673fdb4b1b42cf210bd516b486/gcc%2Fconfig%2Farm%2Fvfp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp.md?ref=f8045c4158f628673fdb4b1b42cf210bd516b486", "patch": "@@ -82,6 +82,7 @@\n   \"\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"type\" \"*,*,*,*,load1,store1,r_2_f,f_2_r,fcpys,f_loads,f_stores\")\n+   (set_attr \"insn\" \"mov,mov,mvn,mov,*,*,*,*,*,*,*\")\n    (set_attr \"pool_range\"     \"*,*,*,*,4096,*,*,*,*,1020,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,*,4084,*,*,*,*,1008,*\")]\n )\n@@ -123,6 +124,7 @@\n   \"\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"type\" \"*,*,*,*,load1,load1,store1,store1,r_2_f,f_2_r,fcpys,f_load,f_store\")\n+   (set_attr \"insn\" \"mov,mov,mvn,mov,*,*,*,*,*,*,*,*,*\")\n    (set_attr \"pool_range\"     \"*,*,*,*,1020,4096,*,*,*,*,*,1020,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,*,   0,   0,*,*,*,*,*,1008,*\")]\n )\n@@ -352,6 +354,7 @@\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"type\"\n      \"r_2_f,f_2_r,fconsts,f_loads,f_stores,load1,store1,fcpys,*\")\n+   (set_attr \"insn\" \"*,*,*,*,*,*,*,*,mov\")\n    (set_attr \"pool_range\" \"*,*,*,1020,*,4096,*,*,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,1008,*,4080,*,*,*\")]\n )\n@@ -388,6 +391,7 @@\n   [(set_attr \"predicable\" \"yes\")\n    (set_attr \"type\"\n      \"r_2_f,f_2_r,fconsts,f_load,f_store,load1,store1,fcpys,*\")\n+   (set_attr \"insn\" \"*,*,*,*,*,*,*,*,mov\")\n    (set_attr \"pool_range\" \"*,*,*,1020,*,4092,*,*,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,1008,*,0,*,*,*\")]\n )"}]}