{"sha": "6a70560c4c363f6d7d9a927a146d77753b2f041b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmE3MDU2MGM0YzM2M2Y2ZDdkOWE5MjdhMTQ2ZDc3NzUzYjJmMDQxYg==", "commit": {"author": {"name": "Mark Wielaard", "email": "mark@klomp.org", "date": "2006-05-22T19:21:41Z"}, "committer": {"name": "Mark Wielaard", "email": "mark@gcc.gnu.org", "date": "2006-05-22T19:21:41Z"}, "message": "* HACKING: Update GNU Classpath import instructions.\n\nFrom-SVN: r113989", "tree": {"sha": "a27ca5e4b0f7135d2f56b96014ce4d57309124f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a27ca5e4b0f7135d2f56b96014ce4d57309124f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a70560c4c363f6d7d9a927a146d77753b2f041b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a70560c4c363f6d7d9a927a146d77753b2f041b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a70560c4c363f6d7d9a927a146d77753b2f041b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a70560c4c363f6d7d9a927a146d77753b2f041b/comments", "author": null, "committer": null, "parents": [{"sha": "e962c46b2054ffa2c78b3f1f0829145dcefdb49f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e962c46b2054ffa2c78b3f1f0829145dcefdb49f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e962c46b2054ffa2c78b3f1f0829145dcefdb49f"}], "stats": {"total": 48, "additions": 37, "deletions": 11}, "files": [{"sha": "874a8fe16a5b6fa75ee62922070701932373a79f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a70560c4c363f6d7d9a927a146d77753b2f041b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a70560c4c363f6d7d9a927a146d77753b2f041b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=6a70560c4c363f6d7d9a927a146d77753b2f041b", "patch": "@@ -1,3 +1,7 @@\n+2006-05-22  Mark Wielaard  <mark@klomp.org>\n+\n+\t* HACKING: Update GNU Classpath import instructions.\n+\t\n 2006-05-21  Andreas Tobler  <a.tobler@schweiz.ch>\n \n \t* java/lang/natClass.cc (_Jv_FindMethodInCache): Mark klass, name and"}, {"sha": "401cac2a37a98e43f1ff4f53380b6e68c6782035", "filename": "libjava/HACKING", "status": "modified", "additions": 33, "deletions": 11, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a70560c4c363f6d7d9a927a146d77753b2f041b/libjava%2FHACKING", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a70560c4c363f6d7d9a927a146d77753b2f041b/libjava%2FHACKING", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FHACKING?ref=6a70560c4c363f6d7d9a927a146d77753b2f041b", "patch": "@@ -14,11 +14,36 @@ tree.\n \n To import a new release:\n \n-- Check out a classpath snapshot\n+- Check out a classpath snapshot or take a release tar.gz file.\n   I use 'cvs export' for this.  Make a tag to ensure future hackers\n   know exactly what revision was checked out; tags are of the form\n   'libgcj-import-DATE'.\n+- Get a svn checkout of\n+  svn+ssh://gcc.gnu.org/svn/gcc/branches/CLASSPATH/libjava/classpath\n+  this contains \"pure\" GNU Classpath inside the GCC tree.\n+- Clean it up and get the files from a new version:\n+  - find classpath -type f | grep -v /\\.svn | grep -v /\\.cvs\n+  - tar zxf classpath-x.tar.gz\n+  - cp -r classpath-x/* classpath\n+- Add/Remove files:\n+  - svn status classpath | grep ^\\! | cut -c8- | xargs svn remove\n+  - svn status classpath | grep ^\\? | cut -c8- | xargs svn add\n+- If there are any empty directories now they can be removed.\n+- Update vendor branch\n+  - svn commit classpath\n+- Note the new revision number (Xrev)\n+- Get a fresh svn trunk checkout and cd gcc/libjava\n+- Merge the changes between classpath versions into the trunk.\n+  svn merge -rXrev-1:Xrev \\\n+  svn+ssh://gcc.gnu.org/svn/gcc/branches/CLASSPATH/libjava/classpath \\\n+  classpath\n+- Resolve any conflicts pointed out by svn status classpath | grep ^C\n+  - Makefile.in files will be regenerated in the next step.\n+  - Other files should have a \"GCJ LOCAL\" comment, and/or are mentioned\n+    in the classpath/ChangeLog.gcj file.\n+   (Don't forget to svn resolved files.)\n - Use auto* to create configure, Makefile.in, etc\n+  Make sure you have Automake 1.9.3 installed. Exactly that version!\n   You have to make sure to use the gcc libtool.m4 and gcc lt* scripts\n   cd .../classpath\n   cp ../../lt* .\n@@ -28,16 +53,13 @@ To import a new release:\n   autoheader\n   automake\n   rm -rf autom4te.cache\n-- Test everything first.  The simplest way to do this is by overlaying\n-  the checked out classpath on your gcc tree and then doing a build.\n-- Use 'cvs import' to import.  The vendor tag is 'CLASSPATH'.  For the\n-  release tag, if this is a released classpath version, use something\n-  like 'classpath-import-VERSION'; otherwise something like\n-  'classpath-import-DATE'.\n-  Be sure to use -ko and -I\\!\n-- Remove any files that were deleted in Classpath\n-- Run 'scripts/makemake.tcl > sources.am' in the source tree\n-- Run automake for libgcj\n+  cd ..\n+  scripts/makemake.tcl > sources.am\n+  automake\n+- Build, fix, till everything works.\n+  Possibly update the gcj/javaprims.h file with scripts/classes.pl\n+  (See below, it can only be done after the first source->bytecode\n+   pass has finished.)\n \n Over time we plan to remove as many of the remaining divergences as\n possible."}]}