{"sha": "286c4fcbc8953338d4d00d93d8239ad305324209", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg2YzRmY2JjODk1MzMzOGQ0ZDAwZDkzZDgyMzlhZDMwNTMyNDIwOQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2009-05-13T15:10:55Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2009-05-13T15:10:55Z"}, "message": "t-uclinux (M68K_MLIB_CPU): Check for FL_UCLINUX.\n\n\t* config/m68k/t-uclinux (M68K_MLIB_CPU): Check for FL_UCLINUX.\n\t* config/m68k/m68k-devices.def: Add FL_UCLINUX to 68020 and 54455\n\tmultilibs.\n\t* config/m68k/m68k.h (FL_UCLINUX): Define.\n\nFrom-SVN: r147478", "tree": {"sha": "78d6f40b7e20daceaa2df484c0899ffdeb234b13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78d6f40b7e20daceaa2df484c0899ffdeb234b13"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/286c4fcbc8953338d4d00d93d8239ad305324209", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/286c4fcbc8953338d4d00d93d8239ad305324209", "html_url": "https://github.com/Rust-GCC/gccrs/commit/286c4fcbc8953338d4d00d93d8239ad305324209", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/286c4fcbc8953338d4d00d93d8239ad305324209/comments", "author": null, "committer": null, "parents": [{"sha": "5c71a5e0e9701e4e1da5282dfe00ae578f340e79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c71a5e0e9701e4e1da5282dfe00ae578f340e79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c71a5e0e9701e4e1da5282dfe00ae578f340e79"}], "stats": {"total": 28, "additions": 18, "deletions": 10}, "files": [{"sha": "f241238f6716803383a202e807dfa0da7c7ea0f9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=286c4fcbc8953338d4d00d93d8239ad305324209", "patch": "@@ -1,3 +1,10 @@\n+2009-05-13  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* config/m68k/t-uclinux (M68K_MLIB_CPU): Check for FL_UCLINUX.\n+\t* config/m68k/m68k-devices.def: Add FL_UCLINUX to 68020 and 54455\n+\tmultilibs.\n+\t* config/m68k/m68k.h (FL_UCLINUX): Define.\n+\n 2009-05-13  Jan Hubicka  <jh@suse.cz>\n \n \t* options.c (gfc_post_options): -fwhole-program imply -fwhole-file."}, {"sha": "6f87ce076132324fdf0fc58a93fc5caba9dcd64c", "filename": "gcc/config/m68k/m68k-devices.def", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k-devices.def?ref=286c4fcbc8953338d4d00d93d8239ad305324209", "patch": "@@ -72,8 +72,8 @@\n /* 680x0 series processors.  */\n M68K_DEVICE (\"68000\", m68000,   \"68000\", \"68000\", 68000,    isa_00,    0)\n M68K_DEVICE (\"68010\", m68010,   \"68010\", \"68000\", 68010,    isa_10,    0)\n-M68K_DEVICE (\"68020\", m68020,   \"68020\", \"68020\", 68020,    isa_20,    FL_MMU)\n-M68K_DEVICE (\"68030\", m68030,   \"68030\", \"68020\", 68030,    isa_20,    FL_MMU)\n+M68K_DEVICE (\"68020\", m68020,   \"68020\", \"68020\", 68020,    isa_20,    FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"68030\", m68030,   \"68030\", \"68020\", 68030,    isa_20,    FL_MMU | FL_UCLINUX)\n M68K_DEVICE (\"68040\", m68040,   \"68040\", \"68040\", 68040,    isa_40,    FL_MMU)\n M68K_DEVICE (\"68060\", m68060,   \"68060\", \"68060\", 68060,    isa_40,    FL_MMU)\n M68K_DEVICE (\"68302\", m68302,   \"68302\", \"68000\", 68000,    isa_00,    FL_MMU)\n@@ -158,12 +158,12 @@ M68K_DEVICE (\"537x\",  mcf537x,  \"5373\",  \"5329\",  cfv3,     isa_aplus, FL_CF_HWD\n \n /* CFV4/CFV4e processors.  */\n M68K_DEVICE (\"5407\",  mcf5407,  \"5407\",  \"5407\",  cfv4,     isa_b,     FL_CF_MAC)\n-M68K_DEVICE (\"54450\", mcf54450, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n-M68K_DEVICE (\"54451\", mcf54451, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n-M68K_DEVICE (\"54452\", mcf54452, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n-M68K_DEVICE (\"54453\", mcf54453, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n-M68K_DEVICE (\"54454\", mcf54454, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n-M68K_DEVICE (\"54455\", mcf54455, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU)\n+M68K_DEVICE (\"54450\", mcf54450, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"54451\", mcf54451, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"54452\", mcf54452, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"54453\", mcf54453, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"54454\", mcf54454, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n+M68K_DEVICE (\"54455\", mcf54455, \"54455\", \"54455\", cfv4,     isa_c,     FL_CF_HWDIV | FL_CF_USP | FL_CF_EMAC | FL_MMU | FL_UCLINUX)\n M68K_DEVICE (\"5470\",  mcf5470,  \"5475\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)\n M68K_DEVICE (\"5471\",  mcf5471,  \"5475\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)\n M68K_DEVICE (\"5472\",  mcf5472,  \"5475\",  \"5475\",  cfv4e,    isa_b,     FL_CF_USP | FL_CF_EMAC | FL_CF_FPU | FL_MMU)"}, {"sha": "a30cd47360c49599c8ec62d273b65fbd7cef1959", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=286c4fcbc8953338d4d00d93d8239ad305324209", "patch": "@@ -232,6 +232,7 @@ along with GCC; see the file COPYING3.  If not see\n #define FL_ISA_C     (1 << 16)\n #define FL_FIDOA     (1 << 17)\n #define FL_MMU \t     0   /* Used by multilib machinery.  */\n+#define FL_UCLINUX   0   /* Used by multilib machinery.  */\n \n #define TARGET_68010\t\t((m68k_cpu_flags & FL_ISA_68010) != 0)\n #define TARGET_68020\t\t((m68k_cpu_flags & FL_ISA_68020) != 0)"}, {"sha": "e1711a3443eb6b2a6361760352ae38405230bdc4", "filename": "gcc/config/m68k/t-uclinux", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Ft-uclinux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/286c4fcbc8953338d4d00d93d8239ad305324209/gcc%2Fconfig%2Fm68k%2Ft-uclinux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-uclinux?ref=286c4fcbc8953338d4d00d93d8239ad305324209", "patch": "@@ -19,8 +19,8 @@\n # crti and crtn are provided by uClibc.\n EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o\n \n-# Only include multilibs for the 68020 and for CPUs without an MMU.\n-M68K_MLIB_CPU += && (MLIB == \"68020\" || !match(FLAGS, \"FL_MMU\"))\n+# Include multilibs for CPUs without an MMU or with FL_UCLINUX\n+M68K_MLIB_CPU += && (!match(FLAGS, \"FL_MMU\") || match(FLAGS, \"FL_UCLINUX\"))\n \n # Add multilibs for execute-in-place and shared-library code.\n M68K_MLIB_OPTIONS += msep-data/mid-shared-library"}]}