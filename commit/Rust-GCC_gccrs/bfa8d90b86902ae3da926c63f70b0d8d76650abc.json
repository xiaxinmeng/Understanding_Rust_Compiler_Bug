{"sha": "bfa8d90b86902ae3da926c63f70b0d8d76650abc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZhOGQ5MGI4NjkwMmFlM2RhOTI2YzYzZjcwYjBkOGQ3NjY1MGFiYw==", "commit": {"author": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2007-06-29T20:21:41Z"}, "committer": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2007-06-29T20:21:41Z"}, "message": "re PR c++/31724 (More \"same canonical type node\" fun)\n\n2007-06-29  Douglas Gregor  <doug.gregor@gmail.com>\n\n\tPR c++/31724\n\t* init.c (build_new_1): Use structural equality on the copy of the\n\tarray type.\n\n2007-06-29  Douglas Gregor  <doug.gregor@gmail.com>\n\n\t* g++.dg/other/canon-31724.C: New.\n\nFrom-SVN: r126124", "tree": {"sha": "fefbf64fbc77b52a26ed9ea37f1abadb159b156e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fefbf64fbc77b52a26ed9ea37f1abadb159b156e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfa8d90b86902ae3da926c63f70b0d8d76650abc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa8d90b86902ae3da926c63f70b0d8d76650abc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa8d90b86902ae3da926c63f70b0d8d76650abc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa8d90b86902ae3da926c63f70b0d8d76650abc/comments", "author": null, "committer": null, "parents": [{"sha": "acff804059ca670f5a43b6f5ae2fca6dfc4b3697", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acff804059ca670f5a43b6f5ae2fca6dfc4b3697", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acff804059ca670f5a43b6f5ae2fca6dfc4b3697"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "86227638e03b1593d1adf37430ddc95b48765700", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bfa8d90b86902ae3da926c63f70b0d8d76650abc", "patch": "@@ -1,3 +1,9 @@\n+2007-06-29  Douglas Gregor  <doug.gregor@gmail.com>\n+\n+\tPR c++/31724\n+\t* init.c (build_new_1): Use structural equality on the copy of the\n+\tarray type.\n+\n 2007-06-28  Geoffrey Keating  <geoffk@apple.com>\n \n \t* decl2.c (determine_visibility): Implement"}, {"sha": "3eb6d5d97a9eb1928d44c6256913f0b2033b8db6", "filename": "gcc/cp/init.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Fcp%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Fcp%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Finit.c?ref=bfa8d90b86902ae3da926c63f70b0d8d76650abc", "patch": "@@ -1691,6 +1691,7 @@ build_new_1 (tree placement, tree type, tree nelts, tree init,\n          of the incomplete array type.  */\n       full_type = build_distinct_type_copy (full_type);\n       TYPE_DOMAIN (full_type) = index;\n+      SET_TYPE_STRUCTURAL_EQUALITY (full_type);\n     }\n   else\n     {"}, {"sha": "b8ab6e54a03d2f0fb0365b02b664556f9172cd59", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bfa8d90b86902ae3da926c63f70b0d8d76650abc", "patch": "@@ -1,3 +1,7 @@\n+2007-06-29  Douglas Gregor  <doug.gregor@gmail.com>\n+\n+\t* g++.dg/other/canon-31724.C: New.\n+\t\n 2007-06-29  Jan Hubicka  <jh@suse.cz>\n \n \tPR middle-end/32372\n@@ -47,6 +51,7 @@\n \tPR tree-opt/32417\n \t* gfortran.fortran-torture/compile/pr32417.f90: New test.\n \n+>>>>>>> .r126123\n 2007-06-28  Dorit Nuzman  <dorit@il.ibm.com>\n \n \t* gcc.dg/vect/vect-iv-4.c: Test now passes on vect_pack_trunc"}, {"sha": "1a39f78a0979c2c33fc58de0addb19a9412e77d4", "filename": "gcc/testsuite/g++.dg/other/canon-31724.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fcanon-31724.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfa8d90b86902ae3da926c63f70b0d8d76650abc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fcanon-31724.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fcanon-31724.C?ref=bfa8d90b86902ae3da926c63f70b0d8d76650abc", "patch": "@@ -0,0 +1,8 @@\n+struct ac {ac();};\n+ac  spline_rep1(void)\n+{\n+  typedef ac at[2];\n+  ac * b = new ac[2];\n+  at *a =  (at*)b;\n+  return (*a)[0];\n+}"}]}