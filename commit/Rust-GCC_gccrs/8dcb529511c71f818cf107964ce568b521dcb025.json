{"sha": "8dcb529511c71f818cf107964ce568b521dcb025", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRjYjUyOTUxMWM3MWY4MThjZjEwNzk2NGNlNTY4YjUyMWRjYjAyNQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1997-12-17T15:07:39Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1997-12-17T15:07:39Z"}, "message": "sparc.md (jump): Don't use the annul bit around an empty loop.\n\n* sparc.md (jump): Don't use the annul bit around an empty loop.\nPatch from Kevin.Kelly@East.Sun.COM.\n\nFrom-SVN: r17124", "tree": {"sha": "ae3bfd36f5ca10e9f56e941bddb7105b62c68737", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae3bfd36f5ca10e9f56e941bddb7105b62c68737"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8dcb529511c71f818cf107964ce568b521dcb025", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dcb529511c71f818cf107964ce568b521dcb025", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dcb529511c71f818cf107964ce568b521dcb025", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dcb529511c71f818cf107964ce568b521dcb025/comments", "author": null, "committer": null, "parents": [{"sha": "a99503b17d0f9fef4bfdb1fc4ff6a7786ce821d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a99503b17d0f9fef4bfdb1fc4ff6a7786ce821d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a99503b17d0f9fef4bfdb1fc4ff6a7786ce821d7"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "a7279290faf3250ad727b464d168dd3c2ce5b1ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dcb529511c71f818cf107964ce568b521dcb025/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dcb529511c71f818cf107964ce568b521dcb025/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8dcb529511c71f818cf107964ce568b521dcb025", "patch": "@@ -1,3 +1,8 @@\n+Wed Dec 17 15:06:04 1997  Richard Henderson  <rth@cygnus.com>\n+\n+\t* sparc.md (jump): Don't use the annul bit around an empty loop.\n+\tPatch from Kevin.Kelly@East.Sun.COM.\n+\n Wed Dec 17 00:51:36 1997  Stan Cox (scox@cygnus.com)\n \n \t* jump.c: (optimize_jump): Don't use the return register as a "}, {"sha": "8b235fb2e4931a2f932946a2c1dd8151a7e90d86", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8dcb529511c71f818cf107964ce568b521dcb025/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8dcb529511c71f818cf107964ce568b521dcb025/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=8dcb529511c71f818cf107964ce568b521dcb025", "patch": "@@ -5014,7 +5014,21 @@\n (define_insn \"jump\"\n   [(set (pc) (label_ref (match_operand 0 \"\" \"\")))]\n   \"\"\n-  \"b%* %l0%(\"\n+  \"*\n+{\n+  /* Some implementations are reported to have problems with\n+\tfoo: b,a foo\n+     i.e. an empty loop with the annul bit set.  The workaround is to use \n+        foo: b foo; nop\n+     instead.  */\n+\n+  if (flag_delayed_branch\n+      && (insn_addresses[INSN_UID (operands[0])]\n+\t  == insn_addresses[INSN_UID (insn)]))\n+    return \\\"b %l0%#\\\";\n+  else\n+    return \\\"b%* %l0%(\\\";\n+}\"\n   [(set_attr \"type\" \"uncond_branch\")])\n \n (define_expand \"tablejump\""}]}