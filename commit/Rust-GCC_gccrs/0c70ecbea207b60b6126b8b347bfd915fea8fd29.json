{"sha": "0c70ecbea207b60b6126b8b347bfd915fea8fd29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM3MGVjYmVhMjA3YjYwYjYxMjZiOGIzNDdiZmQ5MTVmZWE4ZmQyOQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-11-03T14:57:13Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2007-11-03T14:57:13Z"}, "message": "re PR libfortran/33985 (access=\"stream\",form=\"unformatted\" doesn't buffer)\n\n2007-11-03  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/33985\n\t* io/transfer.c (finalize_transfer): Do not flush for\n\tunformatted STREAM I/O.\n\nFrom-SVN: r129870", "tree": {"sha": "cf30982e29c15ba9686eb7944649534fe4eb6e35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf30982e29c15ba9686eb7944649534fe4eb6e35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c70ecbea207b60b6126b8b347bfd915fea8fd29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c70ecbea207b60b6126b8b347bfd915fea8fd29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c70ecbea207b60b6126b8b347bfd915fea8fd29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c70ecbea207b60b6126b8b347bfd915fea8fd29/comments", "author": null, "committer": null, "parents": [{"sha": "ecf24057f806d6766df43f146ceceac651469430", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecf24057f806d6766df43f146ceceac651469430", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecf24057f806d6766df43f146ceceac651469430"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "c64254288d6ef05471e67a1ddba4544652e1d834", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c70ecbea207b60b6126b8b347bfd915fea8fd29/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c70ecbea207b60b6126b8b347bfd915fea8fd29/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=0c70ecbea207b60b6126b8b347bfd915fea8fd29", "patch": "@@ -1,3 +1,9 @@\n+2007-11-03  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/33985\n+\t* io/transfer.c (finalize_transfer): Do not flush for\n+\tunformatted STREAM I/O.\n+\n 2007-10-27  Tobias Burnus  <burnus@net-b.de>\n \n \t* mk-kinds-h.sh: Change LANG=C to LC_ALL=C."}, {"sha": "38bb96bf9ddc9da0cc37d8c336bc8b7d2c4d96ac", "filename": "libgfortran/io/transfer.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c70ecbea207b60b6126b8b347bfd915fea8fd29/libgfortran%2Fio%2Ftransfer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c70ecbea207b60b6126b8b347bfd915fea8fd29/libgfortran%2Fio%2Ftransfer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Ftransfer.c?ref=0c70ecbea207b60b6126b8b347bfd915fea8fd29", "patch": "@@ -2640,9 +2640,11 @@ finalize_transfer (st_parameter_dt *dtp)\n   if (is_stream_io (dtp))\n     {\n       if (dtp->u.p.current_unit->flags.form == FORM_FORMATTED)\n-\tnext_record (dtp, 1);\n-      flush (dtp->u.p.current_unit->s);\n-      sfree (dtp->u.p.current_unit->s);\n+\t{\n+\t  next_record (dtp, 1);\n+\t  flush (dtp->u.p.current_unit->s);\n+\t  sfree (dtp->u.p.current_unit->s);\n+\t}\n       return;\n     }\n "}]}