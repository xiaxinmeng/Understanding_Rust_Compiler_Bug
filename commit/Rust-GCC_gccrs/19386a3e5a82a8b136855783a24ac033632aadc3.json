{"sha": "19386a3e5a82a8b136855783a24ac033632aadc3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkzODZhM2U1YTgyYThiMTM2ODU1NzgzYTI0YWMwMzM2MzJhYWRjMw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-01-06T19:41:32Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-01-06T19:41:32Z"}, "message": "pa.md (fmpyadd peepholes): Cleanups suggested by Tege.\n\nFrom-SVN: r3125", "tree": {"sha": "0394d7471cc5ee0513450848adf0374ef648aaf5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0394d7471cc5ee0513450848adf0374ef648aaf5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19386a3e5a82a8b136855783a24ac033632aadc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19386a3e5a82a8b136855783a24ac033632aadc3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19386a3e5a82a8b136855783a24ac033632aadc3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19386a3e5a82a8b136855783a24ac033632aadc3/comments", "author": null, "committer": null, "parents": [{"sha": "88e5c02973116a576ca1b36bbd2fb81eb837342f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e5c02973116a576ca1b36bbd2fb81eb837342f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88e5c02973116a576ca1b36bbd2fb81eb837342f"}], "stats": {"total": 28, "additions": 24, "deletions": 4}, "files": [{"sha": "e48ca3c44365592acd301455b8f06bcbd297d12a", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 24, "deletions": 4, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19386a3e5a82a8b136855783a24ac033632aadc3/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19386a3e5a82a8b136855783a24ac033632aadc3/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=19386a3e5a82a8b136855783a24ac033632aadc3", "patch": "@@ -2651,9 +2651,19 @@\n   \"*\n {\n   if (GET_MODE (operands[0]) == DFmode)\n-    return \\\"fmpyadd,dbl %1,%2,%0,%4,%3\\\";\n+    {\n+      if (rtx_equal_p (operands[5], operands[3])\n+\treturn \\\"fmpyadd,dbl %1,%2,%0,%4,%3\\\";\n+      else\n+\treturn \\\"fmpyadd,dbl %1,%2,%0,%5,%3\\\";\n+    }\n   else\n-    return \\\"fmpyadd,sgl %1,%2,%0,%4,%3\\\";\n+    {\n+      if (rtx_equal_p (operands[5], operands[3])\n+\treturn \\\"fmpyadd,sgl %1,%2,%0,%4,%3\\\";\n+      else\n+\treturn \\\"fmpyadd,sgl %1,%2,%0,%5,%3\\\";\n+    }\n }\")\n \n \n@@ -2668,9 +2678,19 @@\n   \"*\n {\n   if (GET_MODE (operands[0]) == DFmode)\n-    return \\\"fmpyadd,dbl %1,%2,%0,%4,%3\\\";\n+    {\n+      if (rtx_equal_p (operands[3], operands[5]))\n+\treturn \\\"fmpyadd,dbl %1,%2,%0,%4,%3\\\";\n+      else\n+\treturn \\\"fmpyadd,dbl %1,%2,%0,%5,%3\\\";\n+    }\n   else\n-    return \\\"fmpyadd,sgl %1,%2,%0,%4,%3\\\";\n+    {\n+      if (rtx_equal_p (operands[3], operands[5]))\n+\treturn \\\"fmpyadd,sgl %1,%2,%0,%4,%3\\\";\n+      else\n+\treturn \\\"fmpyadd,sgl %1,%2,%0,%5,%3\\\";\n+    }\n }\")\n \n ;; Note fsub subtracts the second operand from the first while fmpysub"}]}