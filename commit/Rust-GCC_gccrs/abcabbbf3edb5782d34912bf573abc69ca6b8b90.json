{"sha": "abcabbbf3edb5782d34912bf573abc69ca6b8b90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJjYWJiYmYzZWRiNTc4MmQzNDkxMmJmNTczYWJjNjljYTZiOGI5MA==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@codesourcery.com", "date": "2000-02-21T20:17:41Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2000-02-21T20:17:41Z"}, "message": "diagnostic.c (init_output_buffer): Make it possible to output at least 32 characters if we're given a too long prefix.\n\n2000-02-21  Gabriel Dos Reis  <gdr@codesourcery.com>\n\n        * diagnostic.c (init_output_buffer): Make it possible to output at\n        least 32 characters if we're given a too long prefix.\n\nFrom-SVN: r32091", "tree": {"sha": "e463b61a8f1726a9befece90fd15b4c8d4248793", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e463b61a8f1726a9befece90fd15b4c8d4248793"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abcabbbf3edb5782d34912bf573abc69ca6b8b90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abcabbbf3edb5782d34912bf573abc69ca6b8b90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abcabbbf3edb5782d34912bf573abc69ca6b8b90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abcabbbf3edb5782d34912bf573abc69ca6b8b90/comments", "author": null, "committer": null, "parents": [{"sha": "cb9a3ff816cd8da8efe463b4976652521fe9b396", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb9a3ff816cd8da8efe463b4976652521fe9b396", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb9a3ff816cd8da8efe463b4976652521fe9b396"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "b194fe902fefe68d8140cb69be7521879d4edc9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abcabbbf3edb5782d34912bf573abc69ca6b8b90/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abcabbbf3edb5782d34912bf573abc69ca6b8b90/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=abcabbbf3edb5782d34912bf573abc69ca6b8b90", "patch": "@@ -1,3 +1,8 @@\n+2000-02-21  Gabriel Dos Reis  <gdr@codesourcery.com>\n+\n+\t* diagnostic.c (init_output_buffer): Make it possible to output at\n+\tleast 32 characters if we're given a too long prefix.\n+\n 2000-02-20  Mark Mitchell  <mark@codesourcery.com>\n \n \t* varasm.c (initializer_constant_valid_p): Call"}, {"sha": "2af8e125fc7f6903b93efe42986a98e9781eb3d0", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abcabbbf3edb5782d34912bf573abc69ca6b8b90/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abcabbbf3edb5782d34912bf573abc69ca6b8b90/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=abcabbbf3edb5782d34912bf573abc69ca6b8b90", "patch": "@@ -152,10 +152,17 @@ init_output_buffer (buffer, prefix, max_length)\n      char *prefix;\n      int max_length;\n {\n+  int prefix_length = strlen (prefix);\n+\n   obstack_init (&buffer->obstack);\n   buffer->prefix = prefix;\n   buffer->line_length = 0;\n-  buffer->max_length = max_length;\n+  /* If the prefix is ridiculously too long, output at least\n+     32 characters.  */\n+  if (max_length - prefix_length < 32)\n+    buffer->max_length = max_length + 32;\n+  else\n+    buffer->max_length = max_length;\n }\n \n /* Return BUFFER's prefix.  */"}]}