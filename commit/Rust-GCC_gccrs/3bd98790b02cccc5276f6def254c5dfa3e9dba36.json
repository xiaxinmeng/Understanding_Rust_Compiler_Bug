{"sha": "3bd98790b02cccc5276f6def254c5dfa3e9dba36", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JkOTg3OTBiMDJjY2NjNTI3NmY2ZGVmMjU0YzVkZmEzZTlkYmEzNg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-27T22:46:49Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-27T22:46:49Z"}, "message": "(store_fixed_bit_field): Adjust BITPOS so that it\nfits inside MODE before adjusting OFFSET to get an aligned address.\n\nFrom-SVN: r6658", "tree": {"sha": "a5bc6bfa71ae305b9adfe4f4293f5cacbd8a9bcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5bc6bfa71ae305b9adfe4f4293f5cacbd8a9bcf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3bd98790b02cccc5276f6def254c5dfa3e9dba36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bd98790b02cccc5276f6def254c5dfa3e9dba36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bd98790b02cccc5276f6def254c5dfa3e9dba36", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bd98790b02cccc5276f6def254c5dfa3e9dba36/comments", "author": null, "committer": null, "parents": [{"sha": "a5f00f07f195bb0012629388da827814fc0a11fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5f00f07f195bb0012629388da827814fc0a11fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5f00f07f195bb0012629388da827814fc0a11fc"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "5a06dbf5dc2def29e15e7b3e7489b4e5aff494f6", "filename": "gcc/expmed.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bd98790b02cccc5276f6def254c5dfa3e9dba36/gcc%2Fexpmed.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bd98790b02cccc5276f6def254c5dfa3e9dba36/gcc%2Fexpmed.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpmed.c?ref=3bd98790b02cccc5276f6def254c5dfa3e9dba36", "patch": "@@ -569,6 +569,16 @@ store_fixed_bit_field (op0, offset, bitsize, bitpos, value, struct_align)\n \n       total_bits = GET_MODE_BITSIZE (mode);\n \n+      /* Make sure bitpos is valid for the chosen mode.  Adjust BITPOS to\n+\t be be in the range 0 to total_bits-1, and put any excess bytes in\n+\t OFFSET.  */\n+      if (bitpos >= total_bits)\n+\t{\n+\t  offset += (bitpos / total_bits) * (total_bits / BITS_PER_UNIT);\n+\t  bitpos -= ((bitpos / total_bits) * (total_bits / BITS_PER_UNIT)\n+\t\t     * BITS_PER_UNIT);\n+\t}\n+\n       /* Get ref to an aligned byte, halfword, or word containing the field.\n \t Adjust BITPOS to be position within a word,\n \t and OFFSET to be the offset of that word."}]}