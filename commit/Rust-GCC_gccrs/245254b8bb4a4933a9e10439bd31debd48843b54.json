{"sha": "245254b8bb4a4933a9e10439bd31debd48843b54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ1MjU0YjhiYjRhNDkzM2E5ZTEwNDM5YmQzMWRlYmQ0ODg0M2I1NA==", "commit": {"author": {"name": "Clement Chigot", "email": "clement.chigot@atos.net", "date": "2019-05-24T11:55:21Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-05-24T11:55:21Z"}, "message": "Makefile.am (BUILDTESTS): Remove test_elf, add test_elf_32 and test_elf_64.\n\n\t* Makefile.am (BUILDTESTS): Remove test_elf, add test_elf_32 and\n\ttest_elf_64.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r271602", "tree": {"sha": "bbf0c8e985ce297aa9a39556cdd0ecca6ac412e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbf0c8e985ce297aa9a39556cdd0ecca6ac412e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/245254b8bb4a4933a9e10439bd31debd48843b54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/245254b8bb4a4933a9e10439bd31debd48843b54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/245254b8bb4a4933a9e10439bd31debd48843b54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/245254b8bb4a4933a9e10439bd31debd48843b54/comments", "author": null, "committer": null, "parents": [{"sha": "dbd595151e5d560aa8aa80198b35b9a3da311e4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dbd595151e5d560aa8aa80198b35b9a3da311e4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dbd595151e5d560aa8aa80198b35b9a3da311e4d"}], "stats": {"total": 100, "additions": 75, "deletions": 25}, "files": [{"sha": "e601eac76a985f598726686449ed1d8c529e9319", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=245254b8bb4a4933a9e10439bd31debd48843b54", "patch": "@@ -1,3 +1,9 @@\n+2019-05-24  Clement Chigot  <clement.chigot@atos.net>\n+\n+\t* Makefile.am (BUILDTESTS): Remove test_elf, add test_elf_32 and\n+\ttest_elf_64.\n+\t* Makefile.in: Regenerate.\n+\n 2019-05-14  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac (have_dl_iterate_phdr): Remove *-*-solaris2.10*"}, {"sha": "e989d8e9f6c4bbb68af0c338f7fe4ed982689671", "filename": "libbacktrace/Makefile.am", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.am?ref=245254b8bb4a4933a9e10439bd31debd48843b54", "patch": "@@ -130,6 +130,15 @@ elf_for_test.c: elf.c\n endif HAVE_OBJCOPY_DEBUGLINK\n endif HAVE_ELF\n \n+elf_%.c: elf.c\n+\tSEARCH='#error \"Unknown BACKTRACE_ELF_SIZE\"'; \\\n+\tREPLACE='#undef BACKTRACE_ELF_SIZE\\\n+\t#define BACKTRACE_ELF_SIZE'; \\\n+\t$(SED) \"s/^$$SEARCH\\$$/$$REPLACE $*/\" \\\n+\t\t$< \\\n+\t\t> $@.tmp\n+\tmv $@.tmp $@\n+\n xcoff_%.c: xcoff.c\n \tSEARCH='#error \"Unknown BACKTRACE_XCOFF_SIZE\"'; \\\n \tREPLACE='#undef BACKTRACE_XCOFF_SIZE\\\n@@ -139,10 +148,15 @@ xcoff_%.c: xcoff.c\n \t\t> $@.tmp\n \tmv $@.tmp $@\n \n-test_elf_SOURCES = test_format.c testlib.c\n-test_elf_LDADD = libbacktrace_noformat.la elf.lo\n+test_elf_32_SOURCES = test_format.c testlib.c\n+test_elf_32_LDADD = libbacktrace_noformat.la elf_32.lo\n+\n+BUILDTESTS += test_elf_32\n+\n+test_elf_64_SOURCES = test_format.c testlib.c\n+test_elf_64_LDADD = libbacktrace_noformat.la elf_64.lo\n \n-BUILDTESTS += test_elf\n+BUILDTESTS += test_elf_64\n \n test_xcoff_32_SOURCES = test_format.c testlib.c\n test_xcoff_32_LDADD = libbacktrace_noformat.la xcoff_32.lo"}, {"sha": "4ade8e9efcf51caa1e8ce5879816efb997655c05", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 52, "deletions": 22, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/245254b8bb4a4933a9e10439bd31debd48843b54/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=245254b8bb4a4933a9e10439bd31debd48843b54", "patch": "@@ -126,9 +126,9 @@ TESTS = $(am__append_4) $(am__append_6) $(am__append_8) \\\n \t$(am__append_11) $(am__append_12) $(am__append_18) \\\n \t$(am__EXEEXT_11)\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__append_1 = libbacktrace_elf_for_test.la\n-@NATIVE_TRUE@am__append_2 = test_elf test_xcoff_32 test_xcoff_64 \\\n-@NATIVE_TRUE@\ttest_pecoff test_unknown unittest unittest_alloc \\\n-@NATIVE_TRUE@\tbtest\n+@NATIVE_TRUE@am__append_2 = test_elf_32 test_elf_64 test_xcoff_32 \\\n+@NATIVE_TRUE@\ttest_xcoff_64 test_pecoff test_unknown unittest \\\n+@NATIVE_TRUE@\tunittest_alloc btest\n @NATIVE_TRUE@am__append_3 = allocfail\n @NATIVE_TRUE@am__append_4 = allocfail.sh\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__append_5 = b2test\n@@ -206,10 +206,11 @@ libbacktrace_noformat_la_OBJECTS =  \\\n @NATIVE_TRUE@am__EXEEXT_1 = allocfail$(EXEEXT)\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__EXEEXT_2 = b2test$(EXEEXT)\n @HAVE_DWZ_TRUE@@HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@am__EXEEXT_3 = b3test$(EXEEXT)\n-@NATIVE_TRUE@am__EXEEXT_4 = test_elf$(EXEEXT) test_xcoff_32$(EXEEXT) \\\n-@NATIVE_TRUE@\ttest_xcoff_64$(EXEEXT) test_pecoff$(EXEEXT) \\\n-@NATIVE_TRUE@\ttest_unknown$(EXEEXT) unittest$(EXEEXT) \\\n-@NATIVE_TRUE@\tunittest_alloc$(EXEEXT) btest$(EXEEXT)\n+@NATIVE_TRUE@am__EXEEXT_4 = test_elf_32$(EXEEXT) test_elf_64$(EXEEXT) \\\n+@NATIVE_TRUE@\ttest_xcoff_32$(EXEEXT) test_xcoff_64$(EXEEXT) \\\n+@NATIVE_TRUE@\ttest_pecoff$(EXEEXT) test_unknown$(EXEEXT) \\\n+@NATIVE_TRUE@\tunittest$(EXEEXT) unittest_alloc$(EXEEXT) \\\n+@NATIVE_TRUE@\tbtest$(EXEEXT)\n @HAVE_ELF_TRUE@@NATIVE_TRUE@am__EXEEXT_5 = btest_lto$(EXEEXT)\n @NATIVE_TRUE@am__EXEEXT_6 = btest_alloc$(EXEEXT) stest$(EXEEXT) \\\n @NATIVE_TRUE@\tstest_alloc$(EXEEXT)\n@@ -320,10 +321,16 @@ stest_OBJECTS = $(am_stest_OBJECTS)\n @NATIVE_TRUE@am_stest_alloc_OBJECTS = $(am__objects_8)\n stest_alloc_OBJECTS = $(am_stest_alloc_OBJECTS)\n @NATIVE_TRUE@stest_alloc_DEPENDENCIES = libbacktrace_alloc.la\n-@NATIVE_TRUE@am_test_elf_OBJECTS = test_format.$(OBJEXT) \\\n+@NATIVE_TRUE@am_test_elf_32_OBJECTS = test_format.$(OBJEXT) \\\n @NATIVE_TRUE@\ttestlib.$(OBJEXT)\n-test_elf_OBJECTS = $(am_test_elf_OBJECTS)\n-@NATIVE_TRUE@test_elf_DEPENDENCIES = libbacktrace_noformat.la elf.lo\n+test_elf_32_OBJECTS = $(am_test_elf_32_OBJECTS)\n+@NATIVE_TRUE@test_elf_32_DEPENDENCIES = libbacktrace_noformat.la \\\n+@NATIVE_TRUE@\telf_32.lo\n+@NATIVE_TRUE@am_test_elf_64_OBJECTS = test_format.$(OBJEXT) \\\n+@NATIVE_TRUE@\ttestlib.$(OBJEXT)\n+test_elf_64_OBJECTS = $(am_test_elf_64_OBJECTS)\n+@NATIVE_TRUE@test_elf_64_DEPENDENCIES = libbacktrace_noformat.la \\\n+@NATIVE_TRUE@\telf_64.lo\n @NATIVE_TRUE@am_test_pecoff_OBJECTS = test_format.$(OBJEXT) \\\n @NATIVE_TRUE@\ttestlib.$(OBJEXT)\n test_pecoff_OBJECTS = $(am_test_pecoff_OBJECTS)\n@@ -436,10 +443,11 @@ SOURCES = $(libbacktrace_la_SOURCES) $(EXTRA_libbacktrace_la_SOURCES) \\\n \t$(ctesta_alloc_SOURCES) $(ctestg_SOURCES) \\\n \t$(ctestg_alloc_SOURCES) $(edtest_SOURCES) \\\n \t$(edtest_alloc_SOURCES) $(stest_SOURCES) \\\n-\t$(stest_alloc_SOURCES) $(test_elf_SOURCES) \\\n-\t$(test_pecoff_SOURCES) $(test_unknown_SOURCES) \\\n-\t$(test_xcoff_32_SOURCES) $(test_xcoff_64_SOURCES) \\\n-\t$(ttest_SOURCES) $(ttest_alloc_SOURCES) $(unittest_SOURCES) \\\n+\t$(stest_alloc_SOURCES) $(test_elf_32_SOURCES) \\\n+\t$(test_elf_64_SOURCES) $(test_pecoff_SOURCES) \\\n+\t$(test_unknown_SOURCES) $(test_xcoff_32_SOURCES) \\\n+\t$(test_xcoff_64_SOURCES) $(ttest_SOURCES) \\\n+\t$(ttest_alloc_SOURCES) $(unittest_SOURCES) \\\n \t$(unittest_alloc_SOURCES) $(ztest_SOURCES) \\\n \t$(ztest_alloc_SOURCES)\n am__can_run_installinfo = \\\n@@ -870,8 +878,10 @@ BUILDTESTS = $(am__append_2) $(am__append_9) $(am__append_10) \\\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@libbacktrace_elf_for_test_la_LIBADD = $(BACKTRACE_FILE) elf_for_test.lo \\\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t$(VIEW_FILE) $(ALLOC_FILE)\n \n-@NATIVE_TRUE@test_elf_SOURCES = test_format.c testlib.c\n-@NATIVE_TRUE@test_elf_LDADD = libbacktrace_noformat.la elf.lo\n+@NATIVE_TRUE@test_elf_32_SOURCES = test_format.c testlib.c\n+@NATIVE_TRUE@test_elf_32_LDADD = libbacktrace_noformat.la elf_32.lo\n+@NATIVE_TRUE@test_elf_64_SOURCES = test_format.c testlib.c\n+@NATIVE_TRUE@test_elf_64_LDADD = libbacktrace_noformat.la elf_64.lo\n @NATIVE_TRUE@test_xcoff_32_SOURCES = test_format.c testlib.c\n @NATIVE_TRUE@test_xcoff_32_LDADD = libbacktrace_noformat.la xcoff_32.lo\n @NATIVE_TRUE@test_xcoff_64_SOURCES = test_format.c testlib.c\n@@ -1130,9 +1140,13 @@ stest_alloc$(EXEEXT): $(stest_alloc_OBJECTS) $(stest_alloc_DEPENDENCIES) $(EXTRA\n \t@rm -f stest_alloc$(EXEEXT)\n \t$(AM_V_CCLD)$(LINK) $(stest_alloc_OBJECTS) $(stest_alloc_LDADD) $(LIBS)\n \n-test_elf$(EXEEXT): $(test_elf_OBJECTS) $(test_elf_DEPENDENCIES) $(EXTRA_test_elf_DEPENDENCIES) \n-\t@rm -f test_elf$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(test_elf_OBJECTS) $(test_elf_LDADD) $(LIBS)\n+test_elf_32$(EXEEXT): $(test_elf_32_OBJECTS) $(test_elf_32_DEPENDENCIES) $(EXTRA_test_elf_32_DEPENDENCIES) \n+\t@rm -f test_elf_32$(EXEEXT)\n+\t$(AM_V_CCLD)$(LINK) $(test_elf_32_OBJECTS) $(test_elf_32_LDADD) $(LIBS)\n+\n+test_elf_64$(EXEEXT): $(test_elf_64_OBJECTS) $(test_elf_64_DEPENDENCIES) $(EXTRA_test_elf_64_DEPENDENCIES) \n+\t@rm -f test_elf_64$(EXEEXT)\n+\t$(AM_V_CCLD)$(LINK) $(test_elf_64_OBJECTS) $(test_elf_64_LDADD) $(LIBS)\n \n test_pecoff$(EXEEXT): $(test_pecoff_OBJECTS) $(test_pecoff_DEPENDENCIES) $(EXTRA_test_pecoff_DEPENDENCIES) \n \t@rm -f test_pecoff$(EXEEXT)\n@@ -1596,9 +1610,16 @@ btest_gnudebuglink.log: btest_gnudebuglink\n \t--log-file $$b.log --trs-file $$b.trs \\\n \t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n \t\"$$tst\" $(AM_TESTS_FD_REDIRECT)\n-test_elf.log: test_elf$(EXEEXT)\n-\t@p='test_elf$(EXEEXT)'; \\\n-\tb='test_elf'; \\\n+test_elf_32.log: test_elf_32$(EXEEXT)\n+\t@p='test_elf_32$(EXEEXT)'; \\\n+\tb='test_elf_32'; \\\n+\t$(am__check_pre) $(LOG_DRIVER) --test-name \"$$f\" \\\n+\t--log-file $$b.log --trs-file $$b.trs \\\n+\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n+\t\"$$tst\" $(AM_TESTS_FD_REDIRECT)\n+test_elf_64.log: test_elf_64$(EXEEXT)\n+\t@p='test_elf_64$(EXEEXT)'; \\\n+\tb='test_elf_64'; \\\n \t$(am__check_pre) $(LOG_DRIVER) --test-name \"$$f\" \\\n \t--log-file $$b.log --trs-file $$b.trs \\\n \t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n@@ -1907,6 +1928,15 @@ uninstall-am:\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\t\t> $@.tmp\n @HAVE_ELF_TRUE@@HAVE_OBJCOPY_DEBUGLINK_TRUE@@NATIVE_TRUE@\tmv $@.tmp $@\n \n+@NATIVE_TRUE@elf_%.c: elf.c\n+@NATIVE_TRUE@\tSEARCH='#error \"Unknown BACKTRACE_ELF_SIZE\"'; \\\n+@NATIVE_TRUE@\tREPLACE='#undef BACKTRACE_ELF_SIZE\\\n+@NATIVE_TRUE@\t#define BACKTRACE_ELF_SIZE'; \\\n+@NATIVE_TRUE@\t$(SED) \"s/^$$SEARCH\\$$/$$REPLACE $*/\" \\\n+@NATIVE_TRUE@\t\t$< \\\n+@NATIVE_TRUE@\t\t> $@.tmp\n+@NATIVE_TRUE@\tmv $@.tmp $@\n+\n @NATIVE_TRUE@xcoff_%.c: xcoff.c\n @NATIVE_TRUE@\tSEARCH='#error \"Unknown BACKTRACE_XCOFF_SIZE\"'; \\\n @NATIVE_TRUE@\tREPLACE='#undef BACKTRACE_XCOFF_SIZE\\"}]}