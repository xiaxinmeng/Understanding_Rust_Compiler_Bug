{"sha": "c92366fb3f2247423f12d29e9f52b5335cbda6f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzkyMzY2ZmIzZjIyNDc0MjNmMTJkMjllOWY1MmI1MzM1Y2JkYTZmMg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-08-24T12:04:39Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-08-24T12:04:39Z"}, "message": "cp-tree.h (CLASS_TYPE_P): New macro.\n\n\t* cp-tree.h (CLASS_TYPE_P): New macro.\n\t* decl.c (grokdeclarator): Use it instead of IS_AGGR_TYPE.\n\nFrom-SVN: r21945", "tree": {"sha": "99f03b642ca3975c29f50cded035be6b9bcd99b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99f03b642ca3975c29f50cded035be6b9bcd99b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c92366fb3f2247423f12d29e9f52b5335cbda6f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c92366fb3f2247423f12d29e9f52b5335cbda6f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c92366fb3f2247423f12d29e9f52b5335cbda6f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c92366fb3f2247423f12d29e9f52b5335cbda6f2/comments", "author": null, "committer": null, "parents": [{"sha": "33bdeb67480c8e551270c9f93be79750c0afbebd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33bdeb67480c8e551270c9f93be79750c0afbebd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33bdeb67480c8e551270c9f93be79750c0afbebd"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "6af7e8a285d9620130fa05b60d92f701a524f3be", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c92366fb3f2247423f12d29e9f52b5335cbda6f2", "patch": "@@ -1,3 +1,8 @@\n+1998-08-24  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* cp-tree.h (CLASS_TYPE_P): New macro.\n+\t* decl.c (grokdeclarator): Use it instead of IS_AGGR_TYPE.\n+\n 1998-08-24  Benjamin Kosnik  <bkoz@cygnus.com>\n \n \t* cp-tree.h: Declare."}, {"sha": "993628a4296d6ee61eca0c51e19ed1f20504f602", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=c92366fb3f2247423f12d29e9f52b5335cbda6f2", "patch": "@@ -498,7 +498,16 @@ enum languages { lang_c, lang_cplusplus, lang_java };\n /* The _DECL for this _TYPE.  */\n #define TYPE_MAIN_DECL(NODE) (TYPE_STUB_DECL (TYPE_MAIN_VARIANT (NODE)))\n \n+/* Nonzero if T is a class (or struct or union) type.  Also nonzero\n+   for template type parameters.  Despite its name, this macro has\n+   nothing to do with the definition of aggregate given in the\n+   standard.  Think of this macro as MAYBE_CLASS_TYPE_P.  */\n #define IS_AGGR_TYPE(t)\t\t(TYPE_LANG_FLAG_5 (t))\n+\n+/* Nonzero if T is a class type.  Zero for template type parameters.  */\n+#define CLASS_TYPE_P(t) \\\n+  (IS_AGGR_TYPE (t) && TREE_CODE (t) != TEMPLATE_TYPE_PARM)\n+\n #define IS_AGGR_TYPE_CODE(t)\t(t == RECORD_TYPE || t == UNION_TYPE)\n #define IS_AGGR_TYPE_2(TYPE1,TYPE2) \\\n   (TREE_CODE (TYPE1) == TREE_CODE (TYPE2)\t\\"}, {"sha": "087df2fa93421098775bedfe4adef8c5092ba04f", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92366fb3f2247423f12d29e9f52b5335cbda6f2/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=c92366fb3f2247423f12d29e9f52b5335cbda6f2", "patch": "@@ -10444,7 +10444,7 @@ grokdeclarator (declarator, declspecs, decl_context, initialized, attrlist)\n \t\t   but not both.  If it appears in the class, the member is\n \t\t   a member constant.  The file-scope definition is always\n \t\t   required.  */\n-\t\tif (IS_AGGR_TYPE (type)\n+\t\tif (CLASS_TYPE_P (type)\n \t\t    || TREE_CODE (type) == REFERENCE_TYPE)\n \t\t  {\n \t\t    cp_error (\"in-class initialization of static data member of non-integral type `%T'\", "}]}