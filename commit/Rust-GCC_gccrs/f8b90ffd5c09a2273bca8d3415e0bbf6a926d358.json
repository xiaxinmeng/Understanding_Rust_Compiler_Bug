{"sha": "f8b90ffd5c09a2273bca8d3415e0bbf6a926d358", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhiOTBmZmQ1YzA5YTIyNzNiY2E4ZDM0MTVlMGJiZjZhOTI2ZDM1OA==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1995-12-30T16:21:50Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1995-12-30T16:21:50Z"}, "message": "remove auto_export functionality.\n\nFrom-SVN: r10907", "tree": {"sha": "b65130cbb0e8df17c07d655089b2cd3364604565", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b65130cbb0e8df17c07d655089b2cd3364604565"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358/comments", "author": null, "committer": null, "parents": [{"sha": "973d79edc12ab1fde2e5d0ae8938a19f89590f29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/973d79edc12ab1fde2e5d0ae8938a19f89590f29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/973d79edc12ab1fde2e5d0ae8938a19f89590f29"}], "stats": {"total": 12, "additions": 0, "deletions": 12}, "files": [{"sha": "0428940497c6398eb437f4cecf904d846ab09ad5", "filename": "gcc/collect2.c", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8b90ffd5c09a2273bca8d3415e0bbf6a926d358/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=f8b90ffd5c09a2273bca8d3415e0bbf6a926d358", "patch": "@@ -255,7 +255,6 @@ static char *temp_filename;\t\t/* Base of temp filenames */\n static char *c_file;\t\t\t/* <xxx>.c for constructor/destructor list. */\n static char *o_file;\t\t\t/* <xxx>.o for constructor/destructor list. */\n static char *export_file;\t        /* <xxx>.x for AIX export list. */\n-static int  auto_export = 1;\t        /* true if exporting everything. */\n char *ldout;\t\t\t\t/* File for ld errors.  */\n static char *output_file;\t\t/* Output file for ld.  */\n static char *nm_file_name;\t\t/* pathname of nm */\n@@ -1243,15 +1242,6 @@ main (argc, argv)\n \t\t}\n \t      break;\n \n-#ifdef COLLECT_EXPORT_LIST\n-\t    case 'b':\n-\t      if ((!strncmp (arg, \"-bE:\", 4)\n-\t\t   || !strncmp (arg, \"-bexport:\", 9))\n-\t\t  && strcmp (arg, \"-bexport:/usr/lib/libg.exp\"))\n-\t\tauto_export = 0;\n-\t      break;\n-#endif\n-\n \t    case 'l':\n \t      if (first_file)\n \t\t{\n@@ -2554,8 +2544,6 @@ scan_prog_file (prog_name, which_pass)\n \t\t  break;\n \n \t\tdefault:\t\t/* not a constructor or destructor */\n-\t\t  if (which_pass == PASS_OBJ && auto_export)\n-\t\t    add_to_list (&exports, name);\n \t\t  continue;\n \t\t}\n "}]}