{"sha": "b39dea08d9057f4e76e62e9ef58686da4deb67d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM5ZGVhMDhkOTA1N2Y0ZTc2ZTYyZTllZjU4Njg2ZGE0ZGViNjdkOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2009-01-31T17:09:24Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2009-01-31T17:09:24Z"}, "message": "acinclude.m4 (LIBCOMP_CHECK_LINKER_FEATURES): Set libgomp_ld_is_gold.\n\n\t* acinclude.m4 (LIBCOMP_CHECK_LINKER_FEATURES): Set\n\tlibgomp_ld_is_gold.  Get gold version number.\n\t(LIBGOMP_ENABLE_SYMVERS): Gold always support symbol versioning.\n\t* configure: Rebuild.\n\nFrom-SVN: r143822", "tree": {"sha": "51c3ac58889ec103b190859ab0fe78f9f9140a34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51c3ac58889ec103b190859ab0fe78f9f9140a34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b39dea08d9057f4e76e62e9ef58686da4deb67d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b39dea08d9057f4e76e62e9ef58686da4deb67d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b39dea08d9057f4e76e62e9ef58686da4deb67d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b39dea08d9057f4e76e62e9ef58686da4deb67d9/comments", "author": null, "committer": null, "parents": [{"sha": "14c28276e0f55bf6a3aeea783db18c747794867c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14c28276e0f55bf6a3aeea783db18c747794867c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14c28276e0f55bf6a3aeea783db18c747794867c"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "1261f3174a495d53177d946248c97184dcc2c643", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=b39dea08d9057f4e76e62e9ef58686da4deb67d9", "patch": "@@ -1,3 +1,10 @@\n+2009-01-30  Ian Lance Taylor  <iant@google.com>\n+\n+\t* acinclude.m4 (LIBCOMP_CHECK_LINKER_FEATURES): Set\n+\tlibgomp_ld_is_gold.  Get gold version number.\n+\t(LIBGOMP_ENABLE_SYMVERS): Gold always support symbol versioning.\n+\t* configure: Rebuild.\n+\n 2009-01-19  Iain Sandoe  <iain.sandoe@sandoe-acoustics.co.uk>\n \n         * testsuite/lib/libgomp.exp: Add -B option for targets that"}, {"sha": "ac450ca9b8f603082ebe47dc08224d637c02c7ad", "filename": "libgomp/acinclude.m4", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Facinclude.m4?ref=b39dea08d9057f4e76e62e9ef58686da4deb67d9", "patch": "@@ -115,6 +115,7 @@ dnl  OPT_LDFLAGS='-Wl,-O1' if possible\n dnl  LD (as a side effect of testing)\n dnl Sets:\n dnl  with_gnu_ld\n+dnl  libgomp_ld_is_gold (possibly)\n dnl  libgomp_gnu_ld_version (possibly)\n dnl\n dnl The last will be a single integer, e.g., version 1.23.45.0.67.89 will\n@@ -146,9 +147,13 @@ AC_DEFUN([LIBGOMP_CHECK_LINKER_FEATURES], [\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  libgomp_ld_is_gold=no\n+  if $LD --version 2>/dev/null | grep 'GNU gold'> /dev/null 2>&1; then\n+    libgomp_ld_is_gold=yes\n+  fi\n   changequote(,)\n   ldver=`$LD --version 2>/dev/null | head -1 | \\\n-         sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+         sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n   changequote([,])\n   libgomp_gnu_ld_version=`echo $ldver | \\\n          $AWK -F. '{ if (NF<3) [$]3=0; print ([$]1*100+[$]2)*100+[$]3 }'`\n@@ -270,6 +275,8 @@ if test $enable_symvers = yes; then\n   then\n     if test $libgomp_gnu_ld_version -ge $libgomp_min_gnu_ld_version ; then\n       enable_symvers=gnu\n+    elif test $libgomp_ld_is_gold = yes ; then\n+      enable_symvers=gnu\n     else\n       # The right tools, the right setup, but too old.  Fallbacks?\n       AC_MSG_WARN(=== Linker version $libgomp_gnu_ld_version is too old for)"}, {"sha": "948fd3e4105e826a58d3d2f161b055c1ee9abfca", "filename": "libgomp/configure", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b39dea08d9057f4e76e62e9ef58686da4deb67d9/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=b39dea08d9057f4e76e62e9ef58686da4deb67d9", "patch": "@@ -18481,9 +18481,13 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n \n   # Start by getting the version number.  I think the libtool test already\n   # does some of this, but throws away the result.\n+  libgomp_ld_is_gold=no\n+  if $LD --version 2>/dev/null | grep 'GNU gold'> /dev/null 2>&1; then\n+    libgomp_ld_is_gold=yes\n+  fi\n \n   ldver=`$LD --version 2>/dev/null | head -1 | \\\n-         sed -e 's/GNU ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\3/'`\n+         sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n \n   libgomp_gnu_ld_version=`echo $ldver | \\\n          $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -18725,6 +18729,8 @@ if test $enable_symvers = yes; then\n   then\n     if test $libgomp_gnu_ld_version -ge $libgomp_min_gnu_ld_version ; then\n       enable_symvers=gnu\n+    elif test $libgomp_ld_is_gold = yes ; then\n+      enable_symvers=gnu\n     else\n       # The right tools, the right setup, but too old.  Fallbacks?\n       { echo \"$as_me:$LINENO: WARNING: === Linker version $libgomp_gnu_ld_version is too old for\" >&5"}]}