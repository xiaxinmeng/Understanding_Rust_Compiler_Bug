{"sha": "1336795a5669b19722fdbc256a3bfe801b54eea7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMzNjc5NWE1NjY5YjE5NzIyZmRiYzI1NmEzYmZlODAxYjU0ZWVhNw==", "commit": {"author": {"name": "Kelvin Nilsen", "email": "kelvin@gcc.gnu.org", "date": "2018-06-06T14:46:29Z"}, "committer": {"name": "Kelvin Nilsen", "email": "kelvin@gcc.gnu.org", "date": "2018-06-06T14:46:29Z"}, "message": "rs6000-builtin.def (VSX_BUILTIN_VEC_LD, [...]): Add comment to explain non-traditional uses.\n\ngcc/ChangeLog:\n\n2018-06-06  Kelvin Nilsen  <kelvin@gcc.gnu.org>\n\n\t* config/rs6000/rs6000-builtin.def (VSX_BUILTIN_VEC_LD,\n\tVSX_BUILTIN_VEC_ST): Add comment to explain non-traditional uses.\n\t* config/rs6000/rs6000-c.c (altivec_overloaded_builtins): Remove\n\tseveral redundant entries.\n\nFrom-SVN: r261234", "tree": {"sha": "5b470f0697e04aad22a59045f05b251e6de84113", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b470f0697e04aad22a59045f05b251e6de84113"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1336795a5669b19722fdbc256a3bfe801b54eea7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1336795a5669b19722fdbc256a3bfe801b54eea7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1336795a5669b19722fdbc256a3bfe801b54eea7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1336795a5669b19722fdbc256a3bfe801b54eea7/comments", "author": null, "committer": null, "parents": [{"sha": "2a559b8c77152cfa27d6b804c1d8392a5a651049", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a559b8c77152cfa27d6b804c1d8392a5a651049", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a559b8c77152cfa27d6b804c1d8392a5a651049"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "3970968802d50052333f95f7e82314f92a26accf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1336795a5669b19722fdbc256a3bfe801b54eea7", "patch": "@@ -1,3 +1,10 @@\n+2018-06-06  Kelvin Nilsen  <kelvin@gcc.gnu.org>\n+\n+\t* config/rs6000/rs6000-builtin.def (VSX_BUILTIN_VEC_LD,\n+\tVSX_BUILTIN_VEC_ST): Add comment to explain non-traditional uses.\n+\t* config/rs6000/rs6000-c.c (altivec_overloaded_builtins): Remove\n+\tseveral redundant entries.\n+\n 2018-06-06  David Malcolm  <dmalcolm@redhat.com>\n \n \t* config/i386/i386-protos.h (ix86_expand_call): Strengthen return"}, {"sha": "289c1825483ac28f29724fc3bdd50c9716b1e573", "filename": "gcc/config/rs6000/rs6000-builtin.def", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-builtin.def?ref=1336795a5669b19722fdbc256a3bfe801b54eea7", "patch": "@@ -1811,6 +1811,15 @@ BU_VSX_OVERLOAD_1 (VUNSIGNEDE,  \"vunsignede\")\n BU_VSX_OVERLOAD_1 (VUNSIGNEDO,  \"vunsignedo\")\n \n /* VSX builtins that are handled as special cases.  */\n+\n+\n+/* NON-TRADITIONAL BEHAVIOR HERE: Besides introducing the\n+   __builtin_vec_ld and __builtin_vec_st built-in functions,\n+   the VSX_BUILTIN_VEC_LD and VSX_BUILTIN_VEC_ST symbolic constants\n+   introduced below are also affiliated with the __builtin_vec_vsx_ld\n+   and __builtin_vec_vsx_st functions respectively.  This unnatural\n+   binding is formed with explicit calls to the def_builtin function\n+   found in rs6000.c.  */\n BU_VSX_OVERLOAD_X (LD,\t     \"ld\")\n BU_VSX_OVERLOAD_X (ST,\t     \"st\")\n BU_VSX_OVERLOAD_X (XL,\t     \"xl\")"}, {"sha": "2ef6f7b6e81772febdecad150f454a0d40d1df6d", "filename": "gcc/config/rs6000/rs6000-c.c", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1336795a5669b19722fdbc256a3bfe801b54eea7/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-c.c?ref=1336795a5669b19722fdbc256a3bfe801b54eea7", "patch": "@@ -1375,26 +1375,14 @@ const struct altivec_builtin_types altivec_overloaded_builtins[] = {\n     RS6000_BTI_bool_V4SI, RS6000_BTI_V4SF, RS6000_BTI_V4SF, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTSW, ALTIVEC_BUILTIN_VCMPGTSW,\n     RS6000_BTI_bool_V4SI, RS6000_BTI_V4SI, RS6000_BTI_V4SI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTSW, ALTIVEC_BUILTIN_VCMPGTSW,\n-    RS6000_BTI_bool_V4SI, RS6000_BTI_V4SI, RS6000_BTI_V4SI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTUW, ALTIVEC_BUILTIN_VCMPGTUW,\n-    RS6000_BTI_bool_V4SI, RS6000_BTI_unsigned_V4SI, RS6000_BTI_unsigned_V4SI, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTUW, ALTIVEC_BUILTIN_VCMPGTUW,\n     RS6000_BTI_bool_V4SI, RS6000_BTI_unsigned_V4SI, RS6000_BTI_unsigned_V4SI, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTSH, ALTIVEC_BUILTIN_VCMPGTSH,\n     RS6000_BTI_bool_V8HI, RS6000_BTI_V8HI, RS6000_BTI_V8HI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTSH, ALTIVEC_BUILTIN_VCMPGTSH,\n-    RS6000_BTI_bool_V8HI, RS6000_BTI_V8HI, RS6000_BTI_V8HI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTUH, ALTIVEC_BUILTIN_VCMPGTUH,\n-    RS6000_BTI_bool_V8HI, RS6000_BTI_unsigned_V8HI, RS6000_BTI_unsigned_V8HI, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTUH, ALTIVEC_BUILTIN_VCMPGTUH,\n     RS6000_BTI_bool_V8HI, RS6000_BTI_unsigned_V8HI, RS6000_BTI_unsigned_V8HI, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTSB, ALTIVEC_BUILTIN_VCMPGTSB,\n     RS6000_BTI_bool_V16QI, RS6000_BTI_V16QI, RS6000_BTI_V16QI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTSB, ALTIVEC_BUILTIN_VCMPGTSB,\n-    RS6000_BTI_bool_V16QI, RS6000_BTI_V16QI, RS6000_BTI_V16QI, 0 },\n-  { ALTIVEC_BUILTIN_VEC_VCMPGTUB, ALTIVEC_BUILTIN_VCMPGTUB,\n-    RS6000_BTI_bool_V16QI, RS6000_BTI_unsigned_V16QI, RS6000_BTI_unsigned_V16QI, 0 },\n   { ALTIVEC_BUILTIN_VEC_VCMPGTUB, ALTIVEC_BUILTIN_VCMPGTUB,\n     RS6000_BTI_bool_V16QI, RS6000_BTI_unsigned_V16QI, RS6000_BTI_unsigned_V16QI, 0 },\n   { ALTIVEC_BUILTIN_VEC_CMPLE, ALTIVEC_BUILTIN_VCMPGEFP,\n@@ -4248,8 +4236,6 @@ const struct altivec_builtin_types altivec_overloaded_builtins[] = {\n     RS6000_BTI_V1TI, RS6000_BTI_INTSI, ~RS6000_BTI_INTTI, 0 },\n   { VSX_BUILTIN_VEC_LD, VSX_BUILTIN_LXVD2X_V2DI,\n     RS6000_BTI_V2DI, RS6000_BTI_INTSI, ~RS6000_BTI_long_long, 0 },\n-  { VSX_BUILTIN_VEC_LD, VSX_BUILTIN_LXVD2X_V2DI,\n-    RS6000_BTI_V2DI, RS6000_BTI_INTSI, ~RS6000_BTI_long_long, 0 },\n   { VSX_BUILTIN_VEC_LD, VSX_BUILTIN_LXVD2X_V2DI,\n     RS6000_BTI_unsigned_V1TI, RS6000_BTI_INTSI, ~RS6000_BTI_UINTTI, 0 },\n   { VSX_BUILTIN_VEC_LD, VSX_BUILTIN_LXVD2X_V2DI,\n@@ -5619,8 +5605,6 @@ const struct altivec_builtin_types altivec_overloaded_builtins[] = {\n     RS6000_BTI_bool_V4SI, RS6000_BTI_bool_V4SI, RS6000_BTI_bool_V4SI, 0 },\n   { P8V_BUILTIN_VEC_VMRGOW, P8V_BUILTIN_VMRGOW_V2DI,\n     RS6000_BTI_V2DI, RS6000_BTI_V2DI, RS6000_BTI_V2DI, 0 },\n-  { P8V_BUILTIN_VEC_VMRGOW, P8V_BUILTIN_VMRGOW_V2DI,\n-    RS6000_BTI_V2DI, RS6000_BTI_V2DI, RS6000_BTI_V2DI, 0 },\n   { P8V_BUILTIN_VEC_VMRGOW, P8V_BUILTIN_VMRGOW_V2DI,\n     RS6000_BTI_unsigned_V2DI, RS6000_BTI_unsigned_V2DI,\n     RS6000_BTI_unsigned_V2DI, 0 },"}]}