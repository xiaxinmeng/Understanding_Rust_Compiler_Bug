{"sha": "a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTg2NTA3YjI5ZWMyNTIwYzcwYjEyYzg0ZjRlNmMxMDk4ZjFhM2ZjMA==", "commit": {"author": {"name": "Andi Kleen", "email": "ak@linux.intel.com", "date": "2014-09-16T03:22:53Z"}, "committer": {"name": "Andi Kleen", "email": "ak@gcc.gnu.org", "date": "2014-09-16T03:22:53Z"}, "message": "Add some more test cases for fentry and pg\n\nTest fentry and no_instrument_function overriding.\n\ngcc/testsuite/:\n\n2014-09-15  Andi Kleen  <ak@linux.intel.com>\n\n\t* gcc.dg/pg-override.c: New test.\n\t* gcc.dg/pg.c: New test.\n\t* gcc.target/i386/fentry-override.c: New test.\n\t* gcc.target/i386/fentry.c: New test.\n\nFrom-SVN: r215285", "tree": {"sha": "f2dbfc6ef73f8b4aa581a25b6cd5dafefeceeb19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f2dbfc6ef73f8b4aa581a25b6cd5dafefeceeb19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/comments", "author": null, "committer": null, "parents": [{"sha": "0b37ba8a60c70a212e1f663ddcb3bbf8b2468d6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b37ba8a60c70a212e1f663ddcb3bbf8b2468d6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b37ba8a60c70a212e1f663ddcb3bbf8b2468d6b"}], "stats": {"total": 79, "additions": 79, "deletions": 0}, "files": [{"sha": "fdb706a8d8dd3b54f02f91060268f31aeac518e5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "patch": "@@ -1,3 +1,10 @@\n+2014-09-15  Andi Kleen  <ak@linux.intel.com>\n+\n+\t* gcc.dg/pg-override.c: New test.\n+\t* gcc.dg/pg.c: New test.\n+\t* gcc.target/i386/fentry-override.c: New test.\n+\t* gcc.target/i386/fentry.c: New test.\n+\n 2014-09-15  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/56408"}, {"sha": "1490c1db06a813f4979527225c342352c024f894", "filename": "gcc/testsuite/gcc.dg/pg-override.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.dg%2Fpg-override.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.dg%2Fpg-override.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpg-override.c?ref=a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "patch": "@@ -0,0 +1,18 @@\n+/* Test -fprofile override */\n+/* { dg-do compile } */\n+/* { dg-options \"-fprofile\" { target { { i686-*-* x86_64-*-* } } } } */\n+/* { dg-final { scan-assembler-not \"mcount\" } } */\n+/* Origin: Andi Kleen */\n+extern void foobar(const char *);\n+\n+__attribute__((no_instrument_function)) void func(void)\n+{\n+  foobar (\"Hello world\\n\");\n+}\n+\n+__attribute__((no_instrument_function)) void func2(void)\n+{\n+  int i;\n+  for (i = 0; i < 10; i++)\n+    foobar (\"Hello world\");\n+}"}, {"sha": "1490c1db06a813f4979527225c342352c024f894", "filename": "gcc/testsuite/gcc.dg/pg.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.dg%2Fpg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.dg%2Fpg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpg.c?ref=a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "patch": "@@ -0,0 +1,18 @@\n+/* Test -fprofile override */\n+/* { dg-do compile } */\n+/* { dg-options \"-fprofile\" { target { { i686-*-* x86_64-*-* } } } } */\n+/* { dg-final { scan-assembler-not \"mcount\" } } */\n+/* Origin: Andi Kleen */\n+extern void foobar(const char *);\n+\n+__attribute__((no_instrument_function)) void func(void)\n+{\n+  foobar (\"Hello world\\n\");\n+}\n+\n+__attribute__((no_instrument_function)) void func2(void)\n+{\n+  int i;\n+  for (i = 0; i < 10; i++)\n+    foobar (\"Hello world\");\n+}"}, {"sha": "3771f19545aee16274c62904c24b0db8976cd77f", "filename": "gcc/testsuite/gcc.target/i386/fentry-override.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry-override.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry-override.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry-override.c?ref=a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "patch": "@@ -0,0 +1,18 @@\n+/* Test -mfentry override */\n+/* { dg-do compile } */\n+/* { dg-options \"-mfentry\" } */\n+/* { dg-final { scan-assembler-not \"__fentry__\" } } */\n+/* Origin: Andi Kleen */\n+extern void foobar(const char *);\n+\n+void __attribute__((no_instrument_function)) func(void)\n+{\n+  foobar (\"Hello world\\n\");\n+}\n+\n+void __attribute__((no_instrument_function)) func2(void)\n+{\n+  int i;\n+  for (i = 0; i < 10; i++)\n+    foobar (\"Hello world\");\n+}"}, {"sha": "bd3db13d0026197139034d198cef433d3573a483", "filename": "gcc/testsuite/gcc.target/i386/fentry.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a86507b29ec2520c70b12c84f4e6c1098f1a3fc0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffentry.c?ref=a86507b29ec2520c70b12c84f4e6c1098f1a3fc0", "patch": "@@ -0,0 +1,18 @@\n+/* Test -mfentry */\n+/* { dg-do compile } */\n+/* { dg-options \"-fprofile -mfentry\" } */\n+/* { dg-final { scan-assembler \"__fentry__\" } } */\n+/* Origin: Andi Kleen */\n+extern void foobar(const char *);\n+\n+void func(void)\n+{\n+  foobar (\"Hello world\\n\");\n+}\n+\n+void func2(void)\n+{\n+  int i;\n+  for (i = 0; i < 10; i++)\n+    foobar (\"Hello world\");\n+}"}]}