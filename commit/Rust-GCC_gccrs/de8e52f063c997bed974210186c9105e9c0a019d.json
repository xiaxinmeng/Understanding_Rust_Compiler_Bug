{"sha": "de8e52f063c997bed974210186c9105e9c0a019d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU4ZTUyZjA2M2M5OTdiZWQ5NzQyMTAxODZjOTEwNWU5YzBhMDE5ZA==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2010-09-09T13:53:32Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2010-09-09T13:53:32Z"}, "message": "re PR middle-end/44554 (Stack space after sigsetjmp is reused)\n\n2010-09-09  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR middle-end/44554\n\t* ira.c (ira): Switch off sharing spill slots if setjmp is called.\n\nFrom-SVN: r164102", "tree": {"sha": "c7e55143b7b9838e9708e7117f3582b97d9d2634", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7e55143b7b9838e9708e7117f3582b97d9d2634"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de8e52f063c997bed974210186c9105e9c0a019d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de8e52f063c997bed974210186c9105e9c0a019d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de8e52f063c997bed974210186c9105e9c0a019d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de8e52f063c997bed974210186c9105e9c0a019d/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5fdc49eca660d130ec4815eb7a804aa7fd89773d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5fdc49eca660d130ec4815eb7a804aa7fd89773d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5fdc49eca660d130ec4815eb7a804aa7fd89773d"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "1a4cab94043dd5533007dc17e704101477a46b1c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de8e52f063c997bed974210186c9105e9c0a019d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de8e52f063c997bed974210186c9105e9c0a019d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de8e52f063c997bed974210186c9105e9c0a019d", "patch": "@@ -1,3 +1,8 @@\n+2010-09-09  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR middle-end/44554\n+\t* ira.c (ira): Switch off sharing spill slots if setjmp is called.\n+\n 2010-09-09  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR middle-end/40386"}, {"sha": "e4dd2d31bb5b9ebc6f0629530f20c5457f3cb79e", "filename": "gcc/ira.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de8e52f063c997bed974210186c9105e9c0a019d/gcc%2Fira.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de8e52f063c997bed974210186c9105e9c0a019d/gcc%2Fira.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira.c?ref=de8e52f063c997bed974210186c9105e9c0a019d", "patch": "@@ -3178,9 +3178,12 @@ ira (FILE *f)\n   ira_assert (ira_conflicts_p || !loops_p);\n \n   saved_flag_ira_share_spill_slots = flag_ira_share_spill_slots;\n-  if (too_high_register_pressure_p ())\n+  if (too_high_register_pressure_p () || cfun->calls_setjmp)\n     /* It is just wasting compiler's time to pack spilled pseudos into\n-       stack slots in this case -- prohibit it.  */\n+       stack slots in this case -- prohibit it.  We also do this if\n+       there is setjmp call because a variable not modified between\n+       setjmp and longjmp the compiler is required to preserve its\n+       value and sharing slots does not guarantee it.  */\n     flag_ira_share_spill_slots = FALSE;\n \n   ira_color ();"}]}