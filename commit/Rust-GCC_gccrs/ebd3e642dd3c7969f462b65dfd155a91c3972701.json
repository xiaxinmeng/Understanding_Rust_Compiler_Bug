{"sha": "ebd3e642dd3c7969f462b65dfd155a91c3972701", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWJkM2U2NDJkZDNjNzk2OWY0NjJiNjVkZmQxNTVhOTFjMzk3MjcwMQ==", "commit": {"author": {"name": "Teresa Johnson", "email": "tejohnson@google.com", "date": "2012-12-14T15:10:45Z"}, "committer": {"name": "Teresa Johnson", "email": "tejohnson@gcc.gnu.org", "date": "2012-12-14T15:10:45Z"}, "message": "re PR gcov-profile/55674 (>20%  size increase of lto/pgo binaries since r193747)\n\n2012-12-14  Teresa Johnson  <tejohnson@google.com>\n\n        PR gcov-profile/55674\n\t* lto-cgraph.c (merge_profile_summaries): Set min correctly the\n        first time we merge into a histogram entry.\n\nFrom-SVN: r194502", "tree": {"sha": "ba74869b241fb7eb7591483120a8f2a65a26338d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba74869b241fb7eb7591483120a8f2a65a26338d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ebd3e642dd3c7969f462b65dfd155a91c3972701", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebd3e642dd3c7969f462b65dfd155a91c3972701", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebd3e642dd3c7969f462b65dfd155a91c3972701", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebd3e642dd3c7969f462b65dfd155a91c3972701/comments", "author": {"login": "teresajohnson", "id": 20446403, "node_id": "MDQ6VXNlcjIwNDQ2NDAz", "avatar_url": "https://avatars.githubusercontent.com/u/20446403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teresajohnson", "html_url": "https://github.com/teresajohnson", "followers_url": "https://api.github.com/users/teresajohnson/followers", "following_url": "https://api.github.com/users/teresajohnson/following{/other_user}", "gists_url": "https://api.github.com/users/teresajohnson/gists{/gist_id}", "starred_url": "https://api.github.com/users/teresajohnson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teresajohnson/subscriptions", "organizations_url": "https://api.github.com/users/teresajohnson/orgs", "repos_url": "https://api.github.com/users/teresajohnson/repos", "events_url": "https://api.github.com/users/teresajohnson/events{/privacy}", "received_events_url": "https://api.github.com/users/teresajohnson/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d720b70f1ae1e6756cf17e7f042a2d3fa7eed977", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d720b70f1ae1e6756cf17e7f042a2d3fa7eed977", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d720b70f1ae1e6756cf17e7f042a2d3fa7eed977"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "08538144c65629f2f61586066667b3f12bf84744", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebd3e642dd3c7969f462b65dfd155a91c3972701/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebd3e642dd3c7969f462b65dfd155a91c3972701/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ebd3e642dd3c7969f462b65dfd155a91c3972701", "patch": "@@ -1,3 +1,9 @@\n+2012-12-14  Teresa Johnson  <tejohnson@google.com>\n+\n+        PR gcov-profile/55674\n+\t* lto-cgraph.c (merge_profile_summaries): Set min correctly the\n+        first time we merge into a histogram entry.\n+\n 2012-12-14  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/55684"}, {"sha": "73a58f03206b11f1bb1563c657b39c59424f7a0a", "filename": "gcc/lto-cgraph.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebd3e642dd3c7969f462b65dfd155a91c3972701/gcc%2Flto-cgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebd3e642dd3c7969f462b65dfd155a91c3972701/gcc%2Flto-cgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-cgraph.c?ref=ebd3e642dd3c7969f462b65dfd155a91c3972701", "patch": "@@ -1368,7 +1368,9 @@ merge_profile_summaries (struct lto_file_decl_data **file_data_vec)\n          so we need to account for a non-zero histogram entry at new_ix.  */\n       unsigned new_ix = gcov_histo_index (scaled_min);\n       lto_gcov_summary.histogram[new_ix].min_value\n-          = MIN (lto_gcov_summary.histogram[new_ix].min_value, scaled_min);\n+          = (lto_gcov_summary.histogram[new_ix].num_counters\n+             ? MIN (lto_gcov_summary.histogram[new_ix].min_value, scaled_min)\n+             : scaled_min);\n       /* Some of the scaled counter values would ostensibly need to be placed\n          into different (larger) histogram buckets, but we keep things simple\n          here and place the scaled cumulative counter value in the bucket"}]}