{"sha": "1f85342b42b4bf9fee3cd23bc38498a3565bc9f1", "node_id": "C_kwDOANBUbNoAKDFmODUzNDJiNDJiNGJmOWZlZTNjZDIzYmMzODQ5OGEzNTY1YmM5ZjE", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2022-05-23T12:27:41Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-07-05T08:28:18Z"}, "message": "[Ada] Spurious error on qualified prefix in Pack.Func'Result\n\nWhen using a qualified name such as Pack.Func as the prefix of a 'Result\nattribute reference, the prefix is not fully resolved and may contain a\nchain of homonyms. Look for the expected function in the homonym chain\ninstead of issuing an error if the first one is not the expected one.\n\ngcc/ada/\n\n\t* sem_attr.adb (Analyze_Attribute): Take into account the\n\tpossibility of homonyms.", "tree": {"sha": "6cf1c37dbb540331c713b60083ad5f0684056759", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6cf1c37dbb540331c713b60083ad5f0684056759"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69a70b0acbf01387ec1d1e85d2c7ed0d588d799e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69a70b0acbf01387ec1d1e85d2c7ed0d588d799e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69a70b0acbf01387ec1d1e85d2c7ed0d588d799e"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "b8d878c3d6d9690180d3f76a45366cce89be29a4", "filename": "gcc/ada/sem_attr.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1/gcc%2Fada%2Fsem_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f85342b42b4bf9fee3cd23bc38498a3565bc9f1/gcc%2Fada%2Fsem_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_attr.adb?ref=1f85342b42b4bf9fee3cd23bc38498a3565bc9f1", "patch": "@@ -5835,6 +5835,12 @@ package body Sem_Attr is\n \n             elsif Present (Over_Id) and then Pref_Id = Over_Id then\n                return True;\n+\n+            --  When a qualified name is used for the prefix, homonyms may come\n+            --  before the current function in the homonym chain.\n+\n+            elsif Has_Homonym (Pref_Id) then\n+               return Denote_Same_Function (Homonym (Pref_Id), Spec_Id);\n             end if;\n \n             --  Otherwise the prefix does not denote the related subprogram"}]}