{"sha": "22329b03a6e0a3381d907745205012cf290b3c2a", "node_id": "C_kwDOANBUbNoAKDIyMzI5YjAzYTZlMGEzMzgxZDkwNzc0NTIwNTAxMmNmMjkwYjNjMmE", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-12-04T19:14:59Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-04T19:14:59Z"}, "message": "Merge #1676\n\n1676: Fix regressions in 32 bit mode and gcc4.8 builds r=CohenArthur a=philberty\n\nThis reverts commit 9657c328d0cdda49b7985c3ee727781a387e128b.\r\nThis reverts commit fc59d137491ce393797dfec1d8cd5251a41b5f67.\r\n\n\nCo-authored-by: Philip Herron <philip.herron@embecosm.com>", "tree": {"sha": "f6c9616a3c3ab3c69c5d5be7a020934162fb05e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6c9616a3c3ab3c69c5d5be7a020934162fb05e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22329b03a6e0a3381d907745205012cf290b3c2a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjjPGzCRBK7hj4Ov3rIwAATtcIAJVkwEQoYUVOuys+BZvbMTcP\nF2gk7TMCFrc4BoZgdW1EkuTfOAykpJjIvu+TTWPEZhAiGWZG2eOIlpsTGbE8QU6W\nxHDrQixORRpmnhI2+ymxSIZLvg9KhrhwD4Eu8+n/qeLgepq0ypwUAIBqGA0f84o4\nrBDAr3NP6EzE1+2qFQ4RD8a7zpssMspXZE0/txPJ/0TZFNuiBOM46f+ZVBrP7u4y\nLye53XsvrQ0U0clEktcGYvb32KHH5XCG+XX+yt7sQeMpc8YtrsOCZXmdV/r5oyGf\nCmmBHvrNvQoS9X0zdT7kPWd1loPIUaWnPbqP4qp05wuTmqxzMuN0ZvgZ8dOfdgY=\n=NgE4\n-----END PGP SIGNATURE-----\n", "payload": "tree f6c9616a3c3ab3c69c5d5be7a020934162fb05e7\nparent 402118688f56d88d213572ee55a4245eec83b25f\nparent 071e8b001c7834c38dc4db697dd10d26eba67149\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1670181299 +0000\ncommitter GitHub <noreply@github.com> 1670181299 +0000\n\nMerge #1676\n\n1676: Fix regressions in 32 bit mode and gcc4.8 builds r=CohenArthur a=philberty\n\nThis reverts commit 9657c328d0cdda49b7985c3ee727781a387e128b.\r\nThis reverts commit fc59d137491ce393797dfec1d8cd5251a41b5f67.\r\n\n\nCo-authored-by: Philip Herron <philip.herron@embecosm.com>\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22329b03a6e0a3381d907745205012cf290b3c2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22329b03a6e0a3381d907745205012cf290b3c2a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22329b03a6e0a3381d907745205012cf290b3c2a/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "402118688f56d88d213572ee55a4245eec83b25f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/402118688f56d88d213572ee55a4245eec83b25f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/402118688f56d88d213572ee55a4245eec83b25f"}, {"sha": "071e8b001c7834c38dc4db697dd10d26eba67149", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/071e8b001c7834c38dc4db697dd10d26eba67149", "html_url": "https://github.com/Rust-GCC/gccrs/commit/071e8b001c7834c38dc4db697dd10d26eba67149"}], "stats": {"total": 2086, "additions": 944, "deletions": 1142}, "files": [{"sha": "66b3becc47a217e153aad8c7686c436f29d1301a", "filename": "gcc/rust/backend/rust-builtins.cc", "status": "modified", "additions": 112, "deletions": 238, "changes": 350, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-builtins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-builtins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-builtins.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -14,13 +14,8 @@\n // along with GCC; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n-#include \"rust-diagnostics.h\"\n-#include \"rust-system.h\"\n #include \"rust-builtins.h\"\n \n-#include \"target.h\"\n-#include \"stringpool.h\"\n-\n namespace Rust {\n namespace Compile {\n \n@@ -38,275 +33,154 @@ BuiltinsContext::get ()\n bool\n BuiltinsContext::lookup_simple_builtin (const std::string &name, tree *builtin)\n {\n-  auto *to_search = &name;\n-\n   auto it = rust_intrinsic_to_gcc_builtin.find (name);\n-  if (it != rust_intrinsic_to_gcc_builtin.end ())\n-    to_search = &it->second;\n+  if (it == rust_intrinsic_to_gcc_builtin.end ())\n+    return false;\n \n-  return lookup_gcc_builtin (*to_search, builtin);\n+  return lookup_gcc_builtin (it->second, builtin);\n }\n \n BuiltinsContext::BuiltinsContext () { setup (); }\n \n-/**\n- * Define a function type according to `builtin-types.def`\n- *\n- * *Heavily* inspired by the D frontend's `def_fn_type` function\n- */\n void\n-BuiltinsContext::define_function_type (Type def_idx, Type ret_idx,\n-\t\t\t\t       bool is_variadic, size_t n, ...)\n+BuiltinsContext::setup_overflow_fns ()\n {\n-  va_list list;\n-  va_start (list, n);\n-\n-  auto args = std::vector<tree> ();\n-\n-  for (size_t i = 0; i < n; i++)\n-    {\n-      auto arg_idx = va_arg (list, size_t);\n-      auto arg_type = builtin_types[arg_idx];\n-\n-      args.emplace_back (arg_type);\n-    }\n-\n-  auto return_type = builtin_types[ret_idx];\n-  if (return_type == error_mark_node)\n-    {\n-      va_end (list);\n-      return;\n-    }\n-\n-  auto fn_type = NULL_TREE;\n-  if (is_variadic)\n-    fn_type = build_varargs_function_type_array (return_type, n, args.data ());\n-  else\n-    fn_type = build_function_type_array (return_type, n, args.data ());\n-\n-  builtin_types[def_idx] = fn_type;\n-  va_end (list);\n+  tree overflow_type\n+    = build_varargs_function_type_list (boolean_type_node, NULL_TREE);\n+\n+  define_builtin (\"add_overflow\", BUILT_IN_ADD_OVERFLOW,\n+\t\t  \"__builtin_add_overflow\", \"add_overflow\", overflow_type, 0);\n+  define_builtin (\"sub_overflow\", BUILT_IN_SUB_OVERFLOW,\n+\t\t  \"__builtin_sub_overflow\", \"sub_overflow\", overflow_type, 0);\n+  define_builtin (\"mul_overflow\", BUILT_IN_MUL_OVERFLOW,\n+\t\t  \"__builtin_mul_overflow\", \"mul_overflow\", overflow_type, 0);\n }\n \n-// Taken directly from the D frontend\n-static void\n-build_c_type_nodes (void)\n+void\n+BuiltinsContext::setup_math_fns ()\n {\n-  string_type_node = build_pointer_type (char_type_node);\n-  const_string_type_node = build_pointer_type (\n-    build_qualified_type (char_type_node, TYPE_QUAL_CONST));\n-\n-  if (strcmp (UINTMAX_TYPE, \"unsigned int\") == 0)\n-    {\n-      intmax_type_node = integer_type_node;\n-      uintmax_type_node = unsigned_type_node;\n-    }\n-  else if (strcmp (UINTMAX_TYPE, \"long unsigned int\") == 0)\n-    {\n-      intmax_type_node = long_integer_type_node;\n-      uintmax_type_node = long_unsigned_type_node;\n-    }\n-  else if (strcmp (UINTMAX_TYPE, \"long long unsigned int\") == 0)\n-    {\n-      intmax_type_node = long_long_integer_type_node;\n-      uintmax_type_node = long_long_unsigned_type_node;\n-    }\n-  else\n-    gcc_unreachable ();\n+  tree math_function_type_f32\n+    = build_function_type_list (float_type_node, float_type_node, NULL_TREE);\n \n-  signed_size_type_node = signed_type_for (size_type_node);\n-  wint_type_node = unsigned_type_node;\n-  pid_type_node = integer_type_node;\n+  define_builtin (\"sinf32\", BUILT_IN_SINF, \"__builtin_sinf\", \"sinf\",\n+\t\t  math_function_type_f32, builtin_const);\n+  define_builtin (\"sqrtf32\", BUILT_IN_SQRTF, \"__builtin_sqrtf\", \"sqrtf\",\n+\t\t  math_function_type_f32, builtin_const);\n }\n \n-/**\n- * Define all builtin types in the `builtin_types` array\n- */\n void\n-BuiltinsContext::define_builtin_types ()\n+BuiltinsContext::setup_atomic_fns ()\n {\n-  // This is taken directly from the D frontend's handling of builtins\n-  auto va_list_ref_type_node = build_reference_type (va_list_type_node);\n-  auto va_list_arg_type_node = va_list_type_node;\n-\n-  build_c_type_nodes ();\n-\n-  auto builtin_type_for_size = [] (int size, bool unsignedp) {\n-    tree type = lang_hooks.types.type_for_size (size, unsignedp);\n-    return type ? type : error_mark_node;\n+  auto atomic_store_type\n+    = build_varargs_function_type_list (void_type_node, NULL_TREE);\n+  auto atomic_load_type = [] (tree ret_type_node) {\n+    return build_function_type_list (ret_type_node,\n+\t\t\t\t     ptr_type_node, // const_ptr_type_node?\n+\t\t\t\t     integer_type_node, NULL_TREE);\n   };\n \n-#define DEF_PRIMITIVE_TYPE(ENUM, VALUE) builtin_types[ENUM] = VALUE;\n-#define DEF_FUNCTION_TYPE_0(ENUM, RETURN)                                      \\\n-  define_function_type (ENUM, RETURN, 0, 0);\n-#define DEF_FUNCTION_TYPE_1(ENUM, RETURN, A1)                                  \\\n-  define_function_type (ENUM, RETURN, 0, 1, A1);\n-#define DEF_FUNCTION_TYPE_2(ENUM, RETURN, A1, A2)                              \\\n-  define_function_type (ENUM, RETURN, 0, 2, A1, A2);\n-#define DEF_FUNCTION_TYPE_3(ENUM, RETURN, A1, A2, A3)                          \\\n-  define_function_type (ENUM, RETURN, 0, 3, A1, A2, A3);\n-#define DEF_FUNCTION_TYPE_4(ENUM, RETURN, A1, A2, A3, A4)                      \\\n-  define_function_type (ENUM, RETURN, 0, 4, A1, A2, A3, A4);\n-#define DEF_FUNCTION_TYPE_5(ENUM, RETURN, A1, A2, A3, A4, A5)                  \\\n-  define_function_type (ENUM, RETURN, 0, 5, A1, A2, A3, A4, A5);\n-#define DEF_FUNCTION_TYPE_6(ENUM, RETURN, A1, A2, A3, A4, A5, A6)              \\\n-  define_function_type (ENUM, RETURN, 0, 6, A1, A2, A3, A4, A5, A6);\n-#define DEF_FUNCTION_TYPE_7(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7)          \\\n-  define_function_type (ENUM, RETURN, 0, 7, A1, A2, A3, A4, A5, A6, A7);\n-#define DEF_FUNCTION_TYPE_8(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7, A8)      \\\n-  define_function_type (ENUM, RETURN, 0, 8, A1, A2, A3, A4, A5, A6, A7, A8);\n-#define DEF_FUNCTION_TYPE_9(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7, A8, A9)  \\\n-  define_function_type (ENUM, RETURN, 0, 9, A1, A2, A3, A4, A5, A6, A7, A8, A9);\n-#define DEF_FUNCTION_TYPE_10(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7, A8, A9, \\\n-\t\t\t     A10)                                              \\\n-  define_function_type (ENUM, RETURN, 0, 10, A1, A2, A3, A4, A5, A6, A7, A8,   \\\n-\t\t\tA9, A10);\n-#define DEF_FUNCTION_TYPE_11(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7, A8, A9, \\\n-\t\t\t     A10, A11)                                         \\\n-  define_function_type (ENUM, RETURN, 0, 11, A1, A2, A3, A4, A5, A6, A7, A8,   \\\n-\t\t\tA9, A10, A11);\n-#define DEF_FUNCTION_TYPE_VAR_0(ENUM, RETURN)                                  \\\n-  define_function_type (ENUM, RETURN, 1, 0);\n-#define DEF_FUNCTION_TYPE_VAR_1(ENUM, RETURN, A1)                              \\\n-  define_function_type (ENUM, RETURN, 1, 1, A1);\n-#define DEF_FUNCTION_TYPE_VAR_2(ENUM, RETURN, A1, A2)                          \\\n-  define_function_type (ENUM, RETURN, 1, 2, A1, A2);\n-#define DEF_FUNCTION_TYPE_VAR_3(ENUM, RETURN, A1, A2, A3)                      \\\n-  define_function_type (ENUM, RETURN, 1, 3, A1, A2, A3);\n-#define DEF_FUNCTION_TYPE_VAR_4(ENUM, RETURN, A1, A2, A3, A4)                  \\\n-  define_function_type (ENUM, RETURN, 1, 4, A1, A2, A3, A4);\n-#define DEF_FUNCTION_TYPE_VAR_5(ENUM, RETURN, A1, A2, A3, A4, A5)              \\\n-  define_function_type (ENUM, RETURN, 1, 5, A1, A2, A3, A4, A5);\n-#define DEF_FUNCTION_TYPE_VAR_6(ENUM, RETURN, A1, A2, A3, A4, A5, A6)          \\\n-  define_function_type (ENUM, RETURN, 1, 6, A1, A2, A3, A4, A5, A6);\n-#define DEF_FUNCTION_TYPE_VAR_7(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7)      \\\n-  define_function_type (ENUM, RETURN, 1, 7, A1, A2, A3, A4, A5, A6, A7);\n-#define DEF_FUNCTION_TYPE_VAR_11(ENUM, RETURN, A1, A2, A3, A4, A5, A6, A7, A8, \\\n-\t\t\t\t A9, A10, A11)                                 \\\n-  define_function_type (ENUM, RETURN, 1, 11, A1, A2, A3, A4, A5, A6, A7, A8,   \\\n-\t\t\tA9, A10, A11);\n-#define DEF_POINTER_TYPE(ENUM, TYPE)                                           \\\n-  builtin_types[ENUM] = build_pointer_type (builtin_types[TYPE]);\n-\n-#include \"builtin-types.def\"\n-\n-#undef DEF_PRIMITIVE_TYPE\n-#undef DEF_FUNCTION_TYPE_1\n-#undef DEF_FUNCTION_TYPE_2\n-#undef DEF_FUNCTION_TYPE_3\n-#undef DEF_FUNCTION_TYPE_4\n-#undef DEF_FUNCTION_TYPE_5\n-#undef DEF_FUNCTION_TYPE_6\n-#undef DEF_FUNCTION_TYPE_7\n-#undef DEF_FUNCTION_TYPE_8\n-#undef DEF_FUNCTION_TYPE_9\n-#undef DEF_FUNCTION_TYPE_10\n-#undef DEF_FUNCTION_TYPE_11\n-#undef DEF_FUNCTION_TYPE_VAR_0\n-#undef DEF_FUNCTION_TYPE_VAR_1\n-#undef DEF_FUNCTION_TYPE_VAR_2\n-#undef DEF_FUNCTION_TYPE_VAR_3\n-#undef DEF_FUNCTION_TYPE_VAR_4\n-#undef DEF_FUNCTION_TYPE_VAR_5\n-#undef DEF_FUNCTION_TYPE_VAR_6\n-#undef DEF_FUNCTION_TYPE_VAR_7\n-#undef DEF_FUNCTION_TYPE_VAR_11\n-#undef DEF_POINTER_TYPE\n-\n-  builtin_types[Type::BT_LAST] = NULL_TREE;\n+  // FIXME: These should be the definition for the generic version of the\n+  // atomic_store builtins, but I cannot get them to work properly. Revisit\n+  // later. define_builtin (\"atomic_store\", BUILT_IN_ATOMIC_STORE,\n+  // \"__atomic_store\", NULL,\n+  //   atomic_store_type, 0);\n+  // define_builtin (\"atomic_store_n\", BUILT_IN_ATOMIC_STORE_N,\n+  // \"__atomic_store_n\",\n+  //   NULL, atomic_store_type, 0);\n+\n+  define_builtin (\"atomic_store_1\", BUILT_IN_ATOMIC_STORE_1, \"__atomic_store_1\",\n+\t\t  NULL, atomic_store_type, 0);\n+  define_builtin (\"atomic_store_2\", BUILT_IN_ATOMIC_STORE_2, \"__atomic_store_2\",\n+\t\t  NULL, atomic_store_type, 0);\n+  define_builtin (\"atomic_store_4\", BUILT_IN_ATOMIC_STORE_4, \"__atomic_store_4\",\n+\t\t  NULL, atomic_store_type, 0);\n+  define_builtin (\"atomic_store_8\", BUILT_IN_ATOMIC_STORE_8, \"__atomic_store_8\",\n+\t\t  NULL, atomic_store_type, 0);\n+  define_builtin (\"atomic_store_16\", BUILT_IN_ATOMIC_STORE_16,\n+\t\t  \"__atomic_store_16\", NULL, atomic_store_type, 0);\n+\n+  define_builtin (\"atomic_load_1\", BUILT_IN_ATOMIC_LOAD_1, \"__atomic_load_1\",\n+\t\t  NULL, atomic_load_type (integer_type_node), 0);\n+  define_builtin (\"atomic_load_2\", BUILT_IN_ATOMIC_LOAD_2, \"__atomic_load_2\",\n+\t\t  NULL, atomic_load_type (integer_type_node), 0);\n+  define_builtin (\"atomic_load_4\", BUILT_IN_ATOMIC_LOAD_4, \"__atomic_load_4\",\n+\t\t  NULL, atomic_load_type (integer_type_node), 0);\n+  define_builtin (\"atomic_load_8\", BUILT_IN_ATOMIC_LOAD_8, \"__atomic_load_8\",\n+\t\t  NULL, atomic_load_type (integer_type_node), 0);\n }\n \n-/**\n- * Define all builtin attributes in the `builtin_types` array\n- */\n void\n-BuiltinsContext::define_builtin_attributes ()\n-\n+BuiltinsContext::setup ()\n {\n-  auto *built_in_attributes = builtin_attributes;\n-\n-#define DEF_ATTR_NULL_TREE(ENUM) built_in_attributes[(int) ENUM] = NULL_TREE;\n-#define DEF_ATTR_INT(ENUM, VALUE)                                              \\\n-  built_in_attributes[ENUM] = build_int_cst (NULL_TREE, VALUE);\n-#define DEF_ATTR_STRING(ENUM, VALUE)                                           \\\n-  built_in_attributes[ENUM] = build_string (strlen (VALUE), VALUE);\n-#define DEF_ATTR_IDENT(ENUM, STRING)                                           \\\n-  built_in_attributes[ENUM] = get_identifier (STRING);\n-#define DEF_ATTR_TREE_LIST(ENUM, PURPOSE, VALUE, CHAIN)                        \\\n-  built_in_attributes[ENUM]                                                    \\\n-    = tree_cons (built_in_attributes[PURPOSE], built_in_attributes[VALUE],     \\\n-\t\t built_in_attributes[CHAIN]);\n-#include \"builtin-attrs.def\"\n-#undef DEF_ATTR_NULL_TREE\n-#undef DEF_ATTR_INT\n-#undef DEF_ATTR_STRING\n-#undef DEF_ATTR_IDENT\n-#undef DEF_ATTR_TREE_LIST\n+  setup_math_fns ();\n+  setup_overflow_fns ();\n+  setup_atomic_fns ();\n+\n+  define_builtin (\"unreachable\", BUILT_IN_UNREACHABLE, \"__builtin_unreachable\",\n+\t\t  NULL, build_function_type (void_type_node, void_list_node),\n+\t\t  builtin_const | builtin_noreturn);\n+\n+  define_builtin (\"abort\", BUILT_IN_ABORT, \"__builtin_abort\", \"abort\",\n+\t\t  build_function_type (void_type_node, void_list_node),\n+\t\t  builtin_const | builtin_noreturn);\n+\n+  define_builtin (\"breakpoint\", BUILT_IN_TRAP, \"__builtin_trap\", \"breakpoint\",\n+\t\t  build_function_type (void_type_node, void_list_node),\n+\t\t  builtin_const | builtin_noreturn);\n+\n+  define_builtin (\"memcpy\", BUILT_IN_MEMCPY, \"__builtin_memcpy\", \"memcpy\",\n+\t\t  build_function_type_list (build_pointer_type (void_type_node),\n+\t\t\t\t\t    build_pointer_type (void_type_node),\n+\t\t\t\t\t    build_pointer_type (void_type_node),\n+\t\t\t\t\t    size_type_node, NULL_TREE),\n+\t\t  0);\n+\n+  define_builtin (\"prefetch\", BUILT_IN_PREFETCH, \"__builtin_prefetch\",\n+\t\t  \"prefetch\",\n+\t\t  build_varargs_function_type_list (\n+\t\t    build_pointer_type (const_ptr_type_node), NULL_TREE),\n+\t\t  builtin_const);\n }\n \n-/**\n- * Define all builtin functions during the first initialization of the\n- * `BuiltinsContext`.\n- */\n-void\n-BuiltinsContext::define_builtins ()\n+static void\n+handle_flags (tree decl, int flags)\n {\n-  auto *built_in_attributes = builtin_attributes;\n-  auto build_builtin = [this] (built_in_function fn_code, const char *fn_name,\n-\t\t\t       built_in_class fn_class, tree fn_type,\n-\t\t\t       bool fallback, tree attributes, bool implicit) {\n-    if (fn_type == error_mark_node)\n-      return;\n-\n-    static auto to_skip = strlen (\"__builtin_\");\n-\n-    auto libname = fn_name + to_skip;\n-    auto decl = add_builtin_function (fn_name, fn_type, fn_code, fn_class,\n-\t\t\t\t      fallback ? libname : NULL, attributes);\n-\n-    set_builtin_decl (fn_code, decl, implicit);\n-\n-    builtin_functions.insert ({std::string (fn_name), decl});\n-  };\n-\n-#define DEF_BUILTIN(ENUM, NAME, CLASS, TYPE, LIBTYPE, BOTH_P, FALLBACK_P,      \\\n-\t\t    NONANSI_P, ATTRS, IMPLICIT, COND)                          \\\n-  if (NAME && COND)                                                            \\\n-    build_builtin (ENUM, NAME, CLASS, builtin_types[TYPE], FALLBACK_P,         \\\n-\t\t   built_in_attributes[ATTRS], IMPLICIT);\n-#include \"builtins.def\"\n-#undef DEF_BUILTIN\n+  if (flags & builtin_const)\n+    TREE_READONLY (decl) = 1;\n+  if (flags & builtin_noreturn)\n+    TREE_READONLY (decl) = 1;\n+  if (flags & builtin_novops)\n+    DECL_IS_NOVOPS (decl) = 1;\n }\n \n-/**\n- * Register direct mappings between Rust functions and GCC builtins\n- */\n void\n-BuiltinsContext::register_rust_mappings ()\n+BuiltinsContext::define_builtin (const std::string rust_name,\n+\t\t\t\t built_in_function bcode, const char *name,\n+\t\t\t\t const char *libname, tree fntype, int flags)\n {\n-  rust_intrinsic_to_gcc_builtin = {\n-    {\"sinf32\", \"__builtin_sinf\"},\n-    {\"sqrtf32\", \"__builtin_sqrtf\"},\n-    {\"unreachable\", \"__builtin_unreachable\"},\n-    {\"abort\", \"__builtin_abort\"},\n-  };\n-}\n+  tree decl = add_builtin_function (name, fntype, bcode, BUILT_IN_NORMAL,\n+\t\t\t\t    libname, NULL_TREE);\n+  handle_flags (decl, flags);\n+  set_builtin_decl (bcode, decl, true);\n \n-void\n-BuiltinsContext::setup ()\n-{\n-  define_builtin_types ();\n-  define_builtin_attributes ();\n-  define_builtins ();\n+  this->builtin_functions_[name] = decl;\n+  if (libname != NULL)\n+    {\n+      decl = add_builtin_function (libname, fntype, bcode, BUILT_IN_NORMAL,\n+\t\t\t\t   NULL, NULL_TREE);\n+      handle_flags (decl, flags);\n+\n+      this->builtin_functions_[libname] = decl;\n+    }\n \n-  register_rust_mappings ();\n+  rust_intrinsic_to_gcc_builtin[rust_name] = name;\n }\n \n bool\n BuiltinsContext::lookup_gcc_builtin (const std::string &name, tree *builtin)\n {\n-  auto it = builtin_functions.find (name);\n-  if (it == builtin_functions.end ())\n+  auto it = builtin_functions_.find (name);\n+  if (it == builtin_functions_.end ())\n     return false;\n \n   *builtin = it->second;"}, {"sha": "c2825107faff2317a40b696c3477b62139475f26", "filename": "gcc/rust/backend/rust-builtins.h", "status": "modified", "additions": 11, "deletions": 107, "changes": 118, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-builtins.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-builtins.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-builtins.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -21,7 +21,6 @@\n #include \"rust-tree.h\"\n #include \"langhooks.h\"\n #include \"tree.h\"\n-#include \"selftest.h\"\n \n namespace Rust {\n namespace Compile {\n@@ -76,7 +75,6 @@ namespace Compile {\n //     _ => return None,\n // };\n // Some(cx.get_intrinsic(&llvm_name))\n-\n class BuiltinsContext\n {\n public:\n@@ -85,110 +83,6 @@ class BuiltinsContext\n   bool lookup_simple_builtin (const std::string &name, tree *builtin);\n \n private:\n-  enum Type\n-  {\n-#define DEF_PRIMITIVE_TYPE(NAME, V) NAME,\n-#define DEF_FUNCTION_TYPE_0(NAME, R) NAME,\n-#define DEF_FUNCTION_TYPE_1(NAME, R, A1) NAME,\n-#define DEF_FUNCTION_TYPE_2(NAME, R, A1, A2) NAME,\n-#define DEF_FUNCTION_TYPE_3(NAME, R, A1, A2, A3) NAME,\n-#define DEF_FUNCTION_TYPE_4(NAME, R, A1, A2, A3, A4) NAME,\n-#define DEF_FUNCTION_TYPE_5(NAME, R, A1, A2, A3, A4, A5) NAME,\n-#define DEF_FUNCTION_TYPE_6(NAME, R, A1, A2, A3, A4, A5, A6) NAME,\n-#define DEF_FUNCTION_TYPE_7(NAME, R, A1, A2, A3, A4, A5, A6, A7) NAME,\n-#define DEF_FUNCTION_TYPE_8(NAME, R, A1, A2, A3, A4, A5, A6, A7, A8) NAME,\n-#define DEF_FUNCTION_TYPE_9(NAME, R, A1, A2, A3, A4, A5, A6, A7, A8, A9) NAME,\n-#define DEF_FUNCTION_TYPE_10(NAME, R, A1, A2, A3, A4, A5, A6, A7, A8, A9, A10) \\\n-  NAME,\n-#define DEF_FUNCTION_TYPE_11(NAME, R, A1, A2, A3, A4, A5, A6, A7, A8, A9, A10, \\\n-\t\t\t     A11)                                              \\\n-  NAME,\n-#define DEF_FUNCTION_TYPE_VAR_0(NAME, R) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_1(NAME, R, A1) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_2(NAME, R, A1, A2) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_3(NAME, R, A1, A2, A3) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_4(NAME, R, A1, A2, A3, A4) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_5(NAME, R, A1, A2, A3, A4, A5) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_6(NAME, R, A1, A2, A3, A4, A5, A6) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_7(NAME, R, A1, A2, A3, A4, A5, A6, A7) NAME,\n-#define DEF_FUNCTION_TYPE_VAR_11(NAME, R, A1, A2, A3, A4, A5, A6, A7, A8, A9,  \\\n-\t\t\t\t A10, A11)                                     \\\n-  NAME,\n-#define DEF_POINTER_TYPE(NAME, TYPE) NAME,\n-\n-#include \"builtin-types.def\"\n-\n-#undef DEF_PRIMITIVE_TYPE\n-#undef DEF_FUNCTION_TYPE_0\n-#undef DEF_FUNCTION_TYPE_1\n-#undef DEF_FUNCTION_TYPE_2\n-#undef DEF_FUNCTION_TYPE_3\n-#undef DEF_FUNCTION_TYPE_4\n-#undef DEF_FUNCTION_TYPE_5\n-#undef DEF_FUNCTION_TYPE_6\n-#undef DEF_FUNCTION_TYPE_7\n-#undef DEF_FUNCTION_TYPE_8\n-#undef DEF_FUNCTION_TYPE_9\n-#undef DEF_FUNCTION_TYPE_10\n-#undef DEF_FUNCTION_TYPE_11\n-#undef DEF_FUNCTION_TYPE_VAR_0\n-#undef DEF_FUNCTION_TYPE_VAR_1\n-#undef DEF_FUNCTION_TYPE_VAR_2\n-#undef DEF_FUNCTION_TYPE_VAR_3\n-#undef DEF_FUNCTION_TYPE_VAR_4\n-#undef DEF_FUNCTION_TYPE_VAR_5\n-#undef DEF_FUNCTION_TYPE_VAR_6\n-#undef DEF_FUNCTION_TYPE_VAR_7\n-#undef DEF_FUNCTION_TYPE_VAR_11\n-#undef DEF_POINTER_TYPE\n-\n-    BT_LAST,\n-  };\n-\n-  enum Attr\n-  {\n-#define DEF_ATTR_NULL_TREE(ENUM) ENUM,\n-#define DEF_ATTR_INT(ENUM, VALUE) ENUM,\n-#define DEF_ATTR_STRING(ENUM, VALUE) ENUM,\n-#define DEF_ATTR_IDENT(ENUM, STRING) ENUM,\n-#define DEF_ATTR_TREE_LIST(ENUM, PURPOSE, VALUE, CHAIN) ENUM,\n-\n-#include \"builtin-attrs.def\"\n-\n-#undef DEF_ATTR_NULL_TREE\n-#undef DEF_ATTR_INT\n-#undef DEF_ATTR_STRING\n-#undef DEF_ATTR_IDENT\n-#undef DEF_ATTR_TREE_LIST\n-\n-    ATTR_LAST,\n-  };\n-\n-  /**\n-   * All builtin types, as defined in `builtin-types.def`\n-   *\n-   * This array is filled by the `define_builtin_types` method, during the first\n-   * initialization of the `BuiltinsContext`\n-   */\n-  tree builtin_types[Type::BT_LAST + 1];\n-\n-  /**\n-   * Similarly, this array contains all builtin attributes, as defined in\n-   * `builtin-attr.def`\n-   *\n-   * This array is filled by the `define_builtin_attributes` method, during the\n-   * first initialization of the `BuiltinsContext`\n-   */\n-  tree builtin_attributes[Attr::ATTR_LAST + 1];\n-\n-  void define_function_type (Type def, Type ret, bool is_variadic, size_t n,\n-\t\t\t     ...);\n-  void define_builtin_types ();\n-  void define_builtin_attributes ();\n-  void define_builtins ();\n-\n-  void register_rust_mappings ();\n-\n   BuiltinsContext ();\n \n   void setup_overflow_fns ();\n@@ -197,10 +91,20 @@ class BuiltinsContext\n \n   void setup ();\n \n+  // Define a builtin function.  BCODE is the builtin function code\n+  // defined by builtins.def.  NAME is the name of the builtin function.\n+  // LIBNAME is the name of the corresponding library function, and is\n+  // NULL if there isn't one.  FNTYPE is the type of the function.\n+  // CONST_P is true if the function has the const attribute.\n+  // NORETURN_P is true if the function has the noreturn attribute.\n+  void define_builtin (const std::string rust_name, built_in_function bcode,\n+\t\t       const char *name, const char *libname, tree fntype,\n+\t\t       int flags);\n+\n   bool lookup_gcc_builtin (const std::string &name, tree *builtin);\n \n   // A mapping of the GCC built-ins exposed to GCC Rust.\n-  std::map<std::string, tree> builtin_functions;\n+  std::map<std::string, tree> builtin_functions_;\n   std::map<std::string, std::string> rust_intrinsic_to_gcc_builtin;\n };\n "}, {"sha": "a5643d2f625d05c95305a74c305f7527e98c404b", "filename": "gcc/rust/backend/rust-compile-base.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-base.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-base.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-base.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -354,7 +354,7 @@ HIRCompileBase::setup_abi_options (tree fndecl, ABI abi)\n // it is fine to use ARRAY_REFs for vector subscripts on vector\n // register variables.\n bool\n-HIRCompileBase::mark_addressable (tree exp)\n+HIRCompileBase::mark_addressable (tree exp, Location locus)\n {\n   tree x = exp;\n \n@@ -418,7 +418,7 @@ HIRCompileBase::address_expression (tree expr, Location location)\n   if (expr == error_mark_node)\n     return error_mark_node;\n \n-  if (!mark_addressable (expr))\n+  if (!mark_addressable (expr, location))\n     return error_mark_node;\n \n   return build_fold_addr_expr_loc (location.gcc_location (), expr);"}, {"sha": "4c20933cafc7760ca3aa08bc360c6dc07e0b65d7", "filename": "gcc/rust/backend/rust-compile-base.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-base.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-base.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-base.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -55,15 +55,15 @@ class HIRCompileBase\n     const TyTy::TypeBoundPredicate *predicate,\n     std::vector<std::pair<Resolver::TraitReference *, HIR::ImplBlock *>>\n       &receiver_bounds,\n-    const TyTy::BaseType *root, Location locus);\n+    const TyTy::BaseType *receiver, const TyTy::BaseType *root, Location locus);\n \n   bool verify_array_capacities (tree ltype, tree rtype, Location ltype_locus,\n \t\t\t\tLocation rtype_locus);\n \n   tree query_compile (HirId ref, TyTy::BaseType *lookup,\n \t\t      const HIR::PathIdentSegment &final_segment,\n \t\t      const Analysis::NodeMapping &mappings,\n-\t\t      Location expr_locus);\n+\t\t      Location expr_locus, bool is_qualified_path);\n \n   tree resolve_adjustements (std::vector<Resolver::Adjustment> &adjustments,\n \t\t\t     tree expression, Location locus);\n@@ -113,7 +113,7 @@ class HIRCompileBase\n \n   static tree indirect_expression (tree expr, Location locus);\n \n-  static bool mark_addressable (tree);\n+  static bool mark_addressable (tree, Location);\n \n   static std::vector<Bvariable *>\n   compile_locals_for_block (Context *ctx, Resolver::Rib &rib, tree fndecl);"}, {"sha": "b077a12f7a35b47dc67ff718814ad48c70c5ebfd", "filename": "gcc/rust/backend/rust-compile-expr.cc", "status": "modified", "additions": 35, "deletions": 26, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-expr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-expr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-expr.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -1814,15 +1814,17 @@ CompileExpr::visit (HIR::MethodCallExpr &expr)\n \n       fn_expr\n \t= get_fn_addr_from_dyn (dyn, receiver, fntype, self, expr.get_locus ());\n-      self = get_receiver_from_dyn (receiver, self, expr.get_locus ());\n+      self = get_receiver_from_dyn (dyn, receiver, fntype, self,\n+\t\t\t\t    expr.get_locus ());\n     }\n   else\n     {\n       // lookup compiled functions since it may have already been compiled\n       HIR::PathExprSegment method_name = expr.get_method_name ();\n       HIR::PathIdentSegment segment_name = method_name.get_segment ();\n-      fn_expr = resolve_method_address (fntype, ref, receiver, segment_name,\n-\t\t\t\t\texpr.get_locus ());\n+      fn_expr\n+\t= resolve_method_address (fntype, ref, receiver, segment_name,\n+\t\t\t\t  expr.get_mappings (), expr.get_locus ());\n     }\n \n   // lookup the autoderef mappings\n@@ -1923,7 +1925,9 @@ CompileExpr::get_fn_addr_from_dyn (const TyTy::DynamicObjectType *dyn,\n }\n \n tree\n-CompileExpr::get_receiver_from_dyn (TyTy::BaseType *receiver, tree receiver_ref,\n+CompileExpr::get_receiver_from_dyn (const TyTy::DynamicObjectType *dyn,\n+\t\t\t\t    TyTy::BaseType *receiver,\n+\t\t\t\t    TyTy::FnType *fntype, tree receiver_ref,\n \t\t\t\t    Location expr_locus)\n {\n   // get any indirection sorted out\n@@ -1942,6 +1946,7 @@ tree\n CompileExpr::resolve_method_address (TyTy::FnType *fntype, HirId ref,\n \t\t\t\t     TyTy::BaseType *receiver,\n \t\t\t\t     HIR::PathIdentSegment &segment,\n+\t\t\t\t     Analysis::NodeMapping expr_mappings,\n \t\t\t\t     Location expr_locus)\n {\n   // lookup compiled functions since it may have already been compiled\n@@ -2011,7 +2016,7 @@ CompileExpr::resolve_method_address (TyTy::FnType *fntype, HirId ref,\n       // implementation and we should just return error_mark_node\n \n       rust_assert (candidates.size () == 1);\n-      auto candidate = *candidates.begin ();\n+      auto &candidate = *candidates.begin ();\n       rust_assert (candidate.is_impl_candidate ());\n       rust_assert (candidate.ty->get_kind () == TyTy::TypeKind::FNDEF);\n       TyTy::FnType *candidate_call = static_cast<TyTy::FnType *> (candidate.ty);\n@@ -2035,8 +2040,7 @@ CompileExpr::resolve_method_address (TyTy::FnType *fntype, HirId ref,\n tree\n CompileExpr::resolve_operator_overload (\n   Analysis::RustLangItem::ItemType lang_item_type, HIR::OperatorExprMeta expr,\n-  tree lhs, tree rhs, HIR::Expr *lhs_expr,\n-  HIR::Expr * /* rhs_expr // FIXME: Reuse when needed */)\n+  tree lhs, tree rhs, HIR::Expr *lhs_expr, HIR::Expr *rhs_expr)\n {\n   TyTy::FnType *fntype;\n   bool is_op_overload = ctx->get_tyctx ()->lookup_operator_overload (\n@@ -2069,8 +2073,9 @@ CompileExpr::resolve_operator_overload (\n   // lookup compiled functions since it may have already been compiled\n   HIR::PathIdentSegment segment_name (\n     Analysis::RustLangItem::ToString (lang_item_type));\n-  tree fn_expr = resolve_method_address (fntype, ref, receiver, segment_name,\n-\t\t\t\t\t expr.get_locus ());\n+  tree fn_expr\n+    = resolve_method_address (fntype, ref, receiver, segment_name,\n+\t\t\t      expr.get_mappings (), expr.get_locus ());\n \n   // lookup the autoderef mappings\n   std::vector<Resolver::Adjustment> *adjustments = nullptr;\n@@ -2091,9 +2096,8 @@ CompileExpr::resolve_operator_overload (\n }\n \n tree\n-CompileExpr::compile_bool_literal (\n-  const HIR::LiteralExpr &expr,\n-  const TyTy::BaseType * /* tyty FIXME: Reuse when needed */)\n+CompileExpr::compile_bool_literal (const HIR::LiteralExpr &expr,\n+\t\t\t\t   const TyTy::BaseType *tyty)\n {\n   rust_assert (expr.get_lit_type () == HIR::Literal::BOOL);\n \n@@ -2175,9 +2179,8 @@ CompileExpr::compile_float_literal (const HIR::LiteralExpr &expr,\n }\n \n tree\n-CompileExpr::compile_char_literal (\n-  const HIR::LiteralExpr &expr,\n-  const TyTy::BaseType * /* tyty FIXME: Reuse when needed */)\n+CompileExpr::compile_char_literal (const HIR::LiteralExpr &expr,\n+\t\t\t\t   const TyTy::BaseType *tyty)\n {\n   rust_assert (expr.get_lit_type () == HIR::Literal::CHAR);\n   const auto literal_value = expr.get_literal ();\n@@ -2356,27 +2359,32 @@ CompileExpr::visit (HIR::ArrayExpr &expr)\n     }\n \n   rust_assert (tyty->get_kind () == TyTy::TypeKind::ARRAY);\n+  const TyTy::ArrayType &array_tyty\n+    = static_cast<const TyTy::ArrayType &> (*tyty);\n \n   HIR::ArrayElems &elements = *expr.get_internal_elements ();\n   switch (elements.get_array_expr_type ())\n     {\n       case HIR::ArrayElems::ArrayExprType::VALUES: {\n \tHIR::ArrayElemsValues &elems\n \t  = static_cast<HIR::ArrayElemsValues &> (elements);\n-\ttranslated = array_value_expr (expr.get_locus (), array_type, elems);\n+\ttranslated\n+\t  = array_value_expr (expr.get_locus (), array_tyty, array_type, elems);\n       }\n       return;\n \n     case HIR::ArrayElems::ArrayExprType::COPIED:\n       HIR::ArrayElemsCopied &elems\n \t= static_cast<HIR::ArrayElemsCopied &> (elements);\n-      translated = array_copied_expr (expr.get_locus (), array_type, elems);\n+      translated\n+\t= array_copied_expr (expr.get_locus (), array_tyty, array_type, elems);\n     }\n }\n \n tree\n-CompileExpr::array_value_expr (Location expr_locus, tree array_type,\n-\t\t\t       HIR::ArrayElemsValues &elems)\n+CompileExpr::array_value_expr (Location expr_locus,\n+\t\t\t       const TyTy::ArrayType &array_tyty,\n+\t\t\t       tree array_type, HIR::ArrayElemsValues &elems)\n {\n   std::vector<unsigned long> indexes;\n   std::vector<tree> constructor;\n@@ -2394,8 +2402,9 @@ CompileExpr::array_value_expr (Location expr_locus, tree array_type,\n }\n \n tree\n-CompileExpr::array_copied_expr (Location expr_locus, tree array_type,\n-\t\t\t\tHIR::ArrayElemsCopied &elems)\n+CompileExpr::array_copied_expr (Location expr_locus,\n+\t\t\t\tconst TyTy::ArrayType &array_tyty,\n+\t\t\t\ttree array_type, HIR::ArrayElemsCopied &elems)\n {\n   //  see gcc/cp/typeck2.cc:1369-1401\n   gcc_assert (TREE_CODE (array_type) == ARRAY_TYPE);\n@@ -2557,8 +2566,7 @@ HIRCompileBase::resolve_deref_adjustment (Resolver::Adjustment &adjustment,\n \n tree\n HIRCompileBase::resolve_indirection_adjustment (\n-  Resolver::Adjustment & /* adjustment FIXME: Reuse when needed */,\n-  tree expression, Location locus)\n+  Resolver::Adjustment &adjustment, tree expression, Location locus)\n {\n   return indirect_expression (expression, locus);\n }\n@@ -2971,13 +2979,14 @@ CompileExpr::generate_closure_function (HIR::ClosureExpr &expr,\n }\n \n tree\n-CompileExpr::generate_closure_fntype (HIR::ClosureExpr &,\n+CompileExpr::generate_closure_fntype (HIR::ClosureExpr &expr,\n \t\t\t\t      const TyTy::ClosureType &closure_tyty,\n-\t\t\t\t      tree, TyTy::FnType **fn_tyty)\n+\t\t\t\t      tree compiled_closure_tyty,\n+\t\t\t\t      TyTy::FnType **fn_tyty)\n {\n   // grab the specified_bound\n   rust_assert (closure_tyty.num_specified_bounds () == 1);\n-  const TyTy::TypeBoundPredicate predicate\n+  const TyTy::TypeBoundPredicate &predicate\n     = *closure_tyty.get_specified_bounds ().begin ();\n \n   // ensure the fn_once_output associated type is set"}, {"sha": "a259daf0d6923db39ff442a990aff2165cc40f54", "filename": "gcc/rust/backend/rust-compile-expr.h", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-expr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-expr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-expr.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -97,12 +97,14 @@ class CompileExpr : private HIRCompileBase, protected HIR::HIRExpressionVisitor\n \t\t\t     TyTy::BaseType *receiver, TyTy::FnType *fntype,\n \t\t\t     tree receiver_ref, Location expr_locus);\n \n-  tree get_receiver_from_dyn (TyTy::BaseType *receiver, tree receiver_ref,\n-\t\t\t      Location expr_locus);\n+  tree get_receiver_from_dyn (const TyTy::DynamicObjectType *dyn,\n+\t\t\t      TyTy::BaseType *receiver, TyTy::FnType *fntype,\n+\t\t\t      tree receiver_ref, Location expr_locus);\n \n   tree resolve_method_address (TyTy::FnType *fntype, HirId ref,\n \t\t\t       TyTy::BaseType *receiver,\n \t\t\t       HIR::PathIdentSegment &segment,\n+\t\t\t       Analysis::NodeMapping expr_mappings,\n \t\t\t       Location expr_locus);\n \n   tree\n@@ -133,10 +135,11 @@ class CompileExpr : private HIRCompileBase, protected HIR::HIRExpressionVisitor\n \n   tree type_cast_expression (tree type_to_cast_to, tree expr, Location locus);\n \n-  tree array_value_expr (Location expr_locus, tree array_type,\n-\t\t\t HIR::ArrayElemsValues &elems);\n+  tree array_value_expr (Location expr_locus, const TyTy::ArrayType &array_tyty,\n+\t\t\t tree array_type, HIR::ArrayElemsValues &elems);\n \n-  tree array_copied_expr (Location expr_locus, tree array_type,\n+  tree array_copied_expr (Location expr_locus,\n+\t\t\t  const TyTy::ArrayType &array_tyty, tree array_type,\n \t\t\t  HIR::ArrayElemsCopied &elems);\n \n protected:"}, {"sha": "3f0ec82b625336cd650ab26c1a38b6efabbd081d", "filename": "gcc/rust/backend/rust-compile-fnparam.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-fnparam.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -61,7 +61,7 @@ CompileFnParam::visit (HIR::IdentifierPattern &pattern)\n }\n \n void\n-CompileFnParam::visit (HIR::WildcardPattern &)\n+CompileFnParam::visit (HIR::WildcardPattern &pattern)\n {\n   decl_type = ctx->get_backend ()->immutable_type (decl_type);\n "}, {"sha": "ac9478af150b3aa6571ea6060e9b38c050104d23", "filename": "gcc/rust/backend/rust-compile-implitem.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-implitem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-implitem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-implitem.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -72,7 +72,7 @@ class CompileTraitItem : public HIRCompileBase, public HIR::HIRTraitItemVisitor\n   void visit (HIR::TraitItemConst &constant) override;\n   void visit (HIR::TraitItemFunc &func) override;\n \n-  void visit (HIR::TraitItemType &) override {}\n+  void visit (HIR::TraitItemType &typ) override {}\n \n private:\n   CompileTraitItem (Context *ctx, TyTy::BaseType *concrete, Location ref_locus)"}, {"sha": "552221163666196566846b71e514c02bf0dccf2e", "filename": "gcc/rust/backend/rust-compile-intrinsic.cc", "status": "modified", "additions": 7, "deletions": 36, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-intrinsic.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-intrinsic.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-intrinsic.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -28,8 +28,6 @@\n #include \"print-tree.h\"\n #include \"fold-const.h\"\n #include \"langhooks.h\"\n-#include \"rust-gcc.h\"\n-#include \"rust-constexpr.h\"\n \n #include \"print-tree.h\"\n \n@@ -153,7 +151,7 @@ unchecked_op_handler (tree_code op)\n }\n \n inline tree\n-sorry_handler (Context *, TyTy::FnType *fntype)\n+sorry_handler (Context *ctx, TyTy::FnType *fntype)\n {\n   rust_sorry_at (fntype->get_locus (), \"intrinsic %qs is not yet implemented\",\n \t\t fntype->get_identifier ().c_str ());\n@@ -201,7 +199,6 @@ Intrinsics::compile (TyTy::FnType *fntype)\n \n   tree builtin = error_mark_node;\n   BuiltinsContext &builtin_ctx = BuiltinsContext::get ();\n-\n   if (builtin_ctx.lookup_simple_builtin (fntype->get_identifier (), &builtin))\n     return builtin;\n \n@@ -607,8 +604,7 @@ copy_nonoverlapping_handler (Context *ctx, TyTy::FnType *fntype)\n     = build2 (MULT_EXPR, size_type_node, TYPE_SIZE_UNIT (param_type), count);\n \n   tree memcpy_raw = nullptr;\n-  BuiltinsContext::get ().lookup_simple_builtin (\"__builtin_memcpy\",\n-\t\t\t\t\t\t &memcpy_raw);\n+  BuiltinsContext::get ().lookup_simple_builtin (\"memcpy\", &memcpy_raw);\n   rust_assert (memcpy_raw);\n   auto memcpy\n     = build_fold_addr_expr_loc (Location ().gcc_location (), memcpy_raw);\n@@ -660,35 +656,18 @@ prefetch_data_handler (Context *ctx, TyTy::FnType *fntype, Prefetch kind)\n   enter_intrinsic_block (ctx, fndecl);\n \n   auto addr = ctx->get_backend ()->var_expression (args[0], Location ());\n-\n-  // The core library technically allows you to pass any i32 value as a\n-  // locality, but LLVM will then complain if the value cannot be constant\n-  // evaluated. For now, we ignore the locality argument and instead always\n-  // pass `3` (the most restrictive value). This allows us to still have\n-  // prefetch behavior, just not as granular as expected. In future Rust\n-  // versions, we hope that prefetch intrinsics will be split up according to\n-  // locality, similarly to atomic intrinsics.\n-  // The solution is to try and perform constant folding for the locality\n-  // argument, or instead of creating a new function definition, modify the call\n-  // site directly This has the bad side-effect of creating warnings about\n-  // `unused name - locality`, which we hack away here:\n-  // TODO: Take care of handling locality properly\n-  ctx->get_backend ()->var_expression (args[1], Location ());\n-\n+  auto locality = ctx->get_backend ()->var_expression (args[1], Location ());\n   auto rw_flag = make_unsigned_long_tree (ctx, kind == Prefetch::Write ? 1 : 0);\n \n   auto prefetch_raw = NULL_TREE;\n-  auto ok = BuiltinsContext::get ().lookup_simple_builtin (\"__builtin_prefetch\",\n-\t\t\t\t\t\t\t   &prefetch_raw);\n+  auto ok\n+    = BuiltinsContext::get ().lookup_simple_builtin (\"prefetch\", &prefetch_raw);\n   rust_assert (ok);\n   auto prefetch\n     = build_fold_addr_expr_loc (Location ().gcc_location (), prefetch_raw);\n \n   auto prefetch_call\n-    = ctx->get_backend ()->call_expression (prefetch,\n-\t\t\t\t\t    {addr, rw_flag,\n-\t\t\t\t\t     // locality arg\n-\t\t\t\t\t     make_unsigned_long_tree (ctx, 3)},\n+    = ctx->get_backend ()->call_expression (prefetch, {addr, rw_flag, locality},\n \t\t\t\t\t    nullptr, Location ());\n \n   TREE_READONLY (prefetch_call) = 0;\n@@ -714,7 +693,7 @@ build_atomic_builtin_name (const std::string &prefix, Location locus,\n   // TODO: Can we maybe get the generic version (atomic_store_n) to work... This\n   // would be so much better\n \n-  std::string result = \"__\" + prefix; //  + \"n\";\n+  std::string result = prefix;\n \n   auto type_name = operand_type->get_name ();\n   if (type_name == \"usize\" || type_name == \"isize\")\n@@ -724,13 +703,6 @@ build_atomic_builtin_name (const std::string &prefix, Location locus,\n       return \"\";\n     }\n \n-  if (type_name.at (0) == 'i')\n-    {\n-      rust_sorry_at (locus, \"atomics are not yet supported for signed \"\n-\t\t\t    \"integer types (i8, i16, i32, i64, i128)\");\n-      return \"\";\n-    }\n-\n   auto type_size_str = allowed_types.find (type_name);\n \n   if (!check_for_basic_integer_type (\"atomic\", locus, operand_type))\n@@ -860,7 +832,6 @@ atomic_load_handler_inner (Context *ctx, TyTy::FnType *fntype, int ordering)\n   TREE_SIDE_EFFECTS (load_call) = 1;\n \n   ctx->add_statement (return_statement);\n-\n   finalize_intrinsic_block (ctx, fndecl);\n \n   return fndecl;"}, {"sha": "1d8eda1a5774786cfea005b154503c8330c334a0", "filename": "gcc/rust/backend/rust-compile-pattern.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-pattern.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -71,7 +71,7 @@ CompilePatternCaseLabelExpr::visit (HIR::TupleStructPattern &pattern)\n }\n \n void\n-CompilePatternCaseLabelExpr::visit (HIR::WildcardPattern &)\n+CompilePatternCaseLabelExpr::visit (HIR::WildcardPattern &pattern)\n {\n   // operand 0 being NULL_TREE signifies this is the default case label see:\n   // tree.def for documentation for CASE_LABEL_EXPR"}, {"sha": "f89da2bdcd55dc456981fb6b2a0a4a00efa8895a", "filename": "gcc/rust/backend/rust-compile-resolve-path.cc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -33,20 +33,20 @@ void\n ResolvePathRef::visit (HIR::QualifiedPathInExpression &expr)\n {\n   resolved = resolve (expr.get_final_segment ().get_segment (),\n-\t\t      expr.get_mappings (), expr.get_locus ());\n+\t\t      expr.get_mappings (), expr.get_locus (), true);\n }\n \n void\n ResolvePathRef::visit (HIR::PathInExpression &expr)\n {\n   resolved = resolve (expr.get_final_segment ().get_segment (),\n-\t\t      expr.get_mappings (), expr.get_locus ());\n+\t\t      expr.get_mappings (), expr.get_locus (), false);\n }\n \n tree\n ResolvePathRef::resolve (const HIR::PathIdentSegment &final_segment,\n \t\t\t const Analysis::NodeMapping &mappings,\n-\t\t\t Location expr_locus)\n+\t\t\t Location expr_locus, bool is_qualified_path)\n {\n   TyTy::BaseType *lookup = nullptr;\n   bool ok = ctx->get_tyctx ()->lookup_type (mappings.get_hirid (), &lookup);\n@@ -157,8 +157,8 @@ ResolvePathRef::resolve (const HIR::PathIdentSegment &final_segment,\n     }\n \n   // let the query system figure it out\n-  tree resolved_item\n-    = query_compile (ref, lookup, final_segment, mappings, expr_locus);\n+  tree resolved_item = query_compile (ref, lookup, final_segment, mappings,\n+\t\t\t\t      expr_locus, is_qualified_path);\n   if (resolved_item != error_mark_node)\n     {\n       TREE_USED (resolved_item) = 1;\n@@ -170,7 +170,7 @@ tree\n HIRCompileBase::query_compile (HirId ref, TyTy::BaseType *lookup,\n \t\t\t       const HIR::PathIdentSegment &final_segment,\n \t\t\t       const Analysis::NodeMapping &mappings,\n-\t\t\t       Location expr_locus)\n+\t\t\t       Location expr_locus, bool is_qualified_path)\n {\n   HIR::Item *resolved_item = ctx->get_mappings ()->lookup_hir_item (ref);\n   HirId parent_block;"}, {"sha": "f0360bdc7394f3fb9932badafd5cc73be7cdcc21", "filename": "gcc/rust/backend/rust-compile-resolve-path.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-resolve-path.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -61,7 +61,8 @@ class ResolvePathRef : public HIRCompileBase, public HIR::HIRPatternVisitor\n   {}\n \n   tree resolve (const HIR::PathIdentSegment &final_segment,\n-\t\tconst Analysis::NodeMapping &mappings, Location locus);\n+\t\tconst Analysis::NodeMapping &mappings, Location locus,\n+\t\tbool is_qualified_path);\n \n   tree resolved;\n };"}, {"sha": "5e56e0a0b5d15b896165dd0dd7b7b2c128bfd212", "filename": "gcc/rust/backend/rust-compile-type.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-type.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile-type.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile-type.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -399,7 +399,7 @@ TyTyResolveCompile::visit (const TyTy::SliceType &type)\n }\n \n void\n-TyTyResolveCompile::visit (const TyTy::BoolType &)\n+TyTyResolveCompile::visit (const TyTy::BoolType &type)\n {\n   translated\n     = ctx->get_backend ()->named_type (\"bool\",\n@@ -503,7 +503,7 @@ TyTyResolveCompile::visit (const TyTy::FloatType &type)\n }\n \n void\n-TyTyResolveCompile::visit (const TyTy::USizeType &)\n+TyTyResolveCompile::visit (const TyTy::USizeType &type)\n {\n   translated = ctx->get_backend ()->named_type (\n     \"usize\",\n@@ -513,7 +513,7 @@ TyTyResolveCompile::visit (const TyTy::USizeType &)\n }\n \n void\n-TyTyResolveCompile::visit (const TyTy::ISizeType &)\n+TyTyResolveCompile::visit (const TyTy::ISizeType &type)\n {\n   translated = ctx->get_backend ()->named_type (\n     \"isize\",\n@@ -523,7 +523,7 @@ TyTyResolveCompile::visit (const TyTy::ISizeType &)\n }\n \n void\n-TyTyResolveCompile::visit (const TyTy::CharType &)\n+TyTyResolveCompile::visit (const TyTy::CharType &type)\n {\n   translated\n     = ctx->get_backend ()->named_type (\"char\","}, {"sha": "0c72a167a70f3e22944fb30900ddf170230516fe", "filename": "gcc/rust/backend/rust-compile.cc", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-compile.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-compile.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -214,7 +214,7 @@ HIRCompileBase::coerce_to_dyn_object (tree compiled_ref,\n \n       auto address = compute_address_for_trait_item (item, predicate,\n \t\t\t\t\t\t     probed_bounds_for_receiver,\n-\t\t\t\t\t\t     actual, locus);\n+\t\t\t\t\t\t     actual, actual, locus);\n       vtable_ctor_elems.push_back (address);\n       vtable_ctor_idx.push_back (i++);\n     }\n@@ -233,7 +233,7 @@ HIRCompileBase::compute_address_for_trait_item (\n   const TyTy::TypeBoundPredicate *predicate,\n   std::vector<std::pair<Resolver::TraitReference *, HIR::ImplBlock *>>\n     &receiver_bounds,\n-  const TyTy::BaseType *root, Location locus)\n+  const TyTy::BaseType *receiver, const TyTy::BaseType *root, Location locus)\n {\n   // There are two cases here one where its an item which has an implementation\n   // within a trait-impl-block. Then there is the case where there is a default\n@@ -360,11 +360,9 @@ HIRCompileBase::compute_address_for_trait_item (\n }\n \n bool\n-HIRCompileBase::verify_array_capacities (\n-  tree ltype, tree rtype,\n-  // TODO: Reuse `lvalue_locus` when we want to switch to a RichLocation and\n-  // point to the\n-  Location /* lvalue_locus */, Location rvalue_locus)\n+HIRCompileBase::verify_array_capacities (tree ltype, tree rtype,\n+\t\t\t\t\t Location lvalue_locus,\n+\t\t\t\t\t Location rvalue_locus)\n {\n   rust_assert (ltype != NULL_TREE);\n   rust_assert (rtype != NULL_TREE);"}, {"sha": "21e8bed99b0017c69cdb5275b7b35f3edbe7e7e8", "filename": "gcc/rust/backend/rust-constexpr.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-constexpr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-constexpr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-constexpr.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -3996,7 +3996,8 @@ constexpr_fn_retval (const constexpr_ctx *ctx, tree body)\n // return an aggregate constant.  If UNSHARE_P, return an unshared\n // copy of the initializer.\n static tree\n-constant_value_1 (tree decl, bool, bool, bool unshare_p)\n+constant_value_1 (tree decl, bool strict_p, bool return_aggregate_cst_ok_p,\n+\t\t  bool unshare_p)\n {\n   while (TREE_CODE (decl) == CONST_DECL)\n     {\n@@ -6485,7 +6486,8 @@ potential_constant_expression_1 (tree t, bool want_rval, bool strict, bool now,\n /* Like maybe_constant_init but first fully instantiate the argument.  */\n \n tree\n-fold_non_dependent_init (tree t, tsubst_flags_t /*=tf_warning_or_error*/,\n+fold_non_dependent_init (tree t,\n+\t\t\t tsubst_flags_t complain /*=tf_warning_or_error*/,\n \t\t\t bool manifestly_const_eval /*=false*/,\n \t\t\t tree object /* = NULL_TREE */)\n {"}, {"sha": "0c393d9635bd056706e39ef23d36ff769e500c1b", "filename": "gcc/rust/backend/rust-tree.cc", "status": "modified", "additions": 31, "deletions": 7, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-tree.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fbackend%2Frust-tree.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fbackend%2Frust-tree.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -2059,7 +2059,11 @@ rs_tree_equal (tree t1, tree t2)\n \n /* TRUE iff TYPE is publicly & uniquely derived from PARENT.  */\n \n-bool publicly_uniquely_derived_p (tree, tree) { return false; }\n+bool\n+publicly_uniquely_derived_p (tree parent, tree type)\n+{\n+  return false;\n+}\n \n // forked from gcc/cp/typeck.cc comp_except_types\n \n@@ -3339,7 +3343,11 @@ release_tree_vector (vec<tree, va_gc> *vec)\n \n /* As above, but also check value-dependence of the expression as a whole.  */\n \n-bool instantiation_dependent_expression_p (tree) { return false; }\n+bool\n+instantiation_dependent_expression_p (tree expression)\n+{\n+  return false;\n+}\n \n // forked from gcc/cp/cvt.cc cp_get_callee\n \n@@ -3389,7 +3397,11 @@ scalarish_type_p (const_tree t)\n    constructors are deleted.  This function implements the ABI notion of\n    non-trivial copy, which has diverged from the one in the standard.  */\n \n-bool type_has_nontrivial_copy_init (const_tree) { return false; }\n+bool\n+type_has_nontrivial_copy_init (const_tree type)\n+{\n+  return false;\n+}\n \n // forked from gcc/cp/tree.cc build_local_temp\n \n@@ -3412,7 +3424,11 @@ build_local_temp (tree type)\n /* Returns true iff DECL is a capture proxy for a normal capture\n    (i.e. without explicit initializer).  */\n \n-bool is_normal_capture_proxy (tree) { return false; }\n+bool\n+is_normal_capture_proxy (tree decl)\n+{\n+  return false;\n+}\n \n // forked from gcc/cp/c-common.cc reject_gcc_builtin\n \n@@ -3677,7 +3693,7 @@ char_type_p (tree type)\n    lvalue for the function template specialization.  */\n \n tree\n-resolve_nondeduced_context (tree orig_expr, tsubst_flags_t)\n+resolve_nondeduced_context (tree orig_expr, tsubst_flags_t complain)\n {\n   return orig_expr;\n }\n@@ -3956,13 +3972,21 @@ decl_constant_var_p (tree decl)\n /* Returns true iff DECL is a variable or function declared with an auto type\n    that has not yet been deduced to a real type.  */\n \n-bool undeduced_auto_decl (tree) { return false; }\n+bool\n+undeduced_auto_decl (tree decl)\n+{\n+  return false;\n+}\n \n // forked from gcc/cp/decl.cc require_deduced_type\n \n /* Complain if DECL has an undeduced return type.  */\n \n-bool require_deduced_type (tree, tsubst_flags_t) { return true; }\n+bool\n+require_deduced_type (tree decl, tsubst_flags_t complain)\n+{\n+  return true;\n+}\n \n /* Return the location of a tree passed to %+ formats.  */\n "}, {"sha": "7d70203159a05cafca4b0435230521123aa28dd9", "filename": "gcc/rust/checks/errors/privacy/rust-privacy-reporter.cc", "status": "modified", "additions": 29, "deletions": 29, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-privacy-reporter.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-privacy-reporter.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-privacy-reporter.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -226,7 +226,7 @@ PrivacyReporter::visit (HIR::PathInExpression &path)\n }\n \n void\n-PrivacyReporter::visit (HIR::TypePathSegmentFunction &)\n+PrivacyReporter::visit (HIR::TypePathSegmentFunction &segment)\n {\n   // FIXME: Do we need to do anything for this?\n }\n@@ -253,7 +253,7 @@ PrivacyReporter::visit (HIR::QualifiedPathInType &path)\n }\n \n void\n-PrivacyReporter::visit (HIR::LiteralExpr &)\n+PrivacyReporter::visit (HIR::LiteralExpr &expr)\n {\n   // Literals cannot contain any sort of privacy violation\n }\n@@ -371,13 +371,13 @@ PrivacyReporter::visit (HIR::TupleIndexExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::StructExprStruct &)\n+PrivacyReporter::visit (HIR::StructExprStruct &expr)\n {\n   // FIXME: We need to check the visibility of the type it refers to here\n }\n \n void\n-PrivacyReporter::visit (HIR::StructExprFieldIdentifier &)\n+PrivacyReporter::visit (HIR::StructExprFieldIdentifier &field)\n {}\n \n void\n@@ -426,7 +426,7 @@ PrivacyReporter::visit (HIR::FieldAccessExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::ClosureExpr &)\n+PrivacyReporter::visit (HIR::ClosureExpr &expr)\n {\n   // Not handled yet\n }\n@@ -443,7 +443,7 @@ PrivacyReporter::visit (HIR::BlockExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::ContinueExpr &)\n+PrivacyReporter::visit (HIR::ContinueExpr &expr)\n {}\n \n void\n@@ -474,7 +474,7 @@ PrivacyReporter::visit (HIR::RangeToExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::RangeFullExpr &)\n+PrivacyReporter::visit (HIR::RangeFullExpr &expr)\n {}\n \n void\n@@ -485,7 +485,7 @@ PrivacyReporter::visit (HIR::RangeFromToInclExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::RangeToInclExpr &)\n+PrivacyReporter::visit (HIR::RangeToInclExpr &expr)\n {\n   // Not handled yet\n }\n@@ -564,30 +564,30 @@ PrivacyReporter::visit (HIR::IfExprConseqIfLet &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::IfLetExpr &)\n+PrivacyReporter::visit (HIR::IfLetExpr &expr)\n {\n   // TODO: We need to visit the if_let_expr\n   // TODO: We need to visit the block as well\n }\n \n void\n-PrivacyReporter::visit (HIR::IfLetExprConseqElse &)\n+PrivacyReporter::visit (HIR::IfLetExprConseqElse &expr)\n {\n   // TODO: We need to visit the if_let_expr\n   // TODO: We need to visit the if_block as well\n   // TODO: We need to visit the else_block as well\n }\n \n void\n-PrivacyReporter::visit (HIR::IfLetExprConseqIf &)\n+PrivacyReporter::visit (HIR::IfLetExprConseqIf &expr)\n {\n   // TODO: We need to visit the if_let_expr\n   // TODO: We need to visit the if_block as well\n   // TODO: We need to visit the else_block as well\n }\n \n void\n-PrivacyReporter::visit (HIR::IfLetExprConseqIfLet &)\n+PrivacyReporter::visit (HIR::IfLetExprConseqIfLet &expr)\n {\n   // TODO: We need to visit the if_let_expr\n   // TODO: We need to visit the if_block as well\n@@ -601,13 +601,13 @@ PrivacyReporter::visit (HIR::MatchExpr &expr)\n }\n \n void\n-PrivacyReporter::visit (HIR::AwaitExpr &)\n+PrivacyReporter::visit (HIR::AwaitExpr &expr)\n {\n   // Not handled yet\n }\n \n void\n-PrivacyReporter::visit (HIR::AsyncBlockExpr &)\n+PrivacyReporter::visit (HIR::AsyncBlockExpr &expr)\n {\n   // Not handled yet\n }\n@@ -628,11 +628,11 @@ PrivacyReporter::visit (HIR::Module &module)\n }\n \n void\n-PrivacyReporter::visit (HIR::ExternCrate &)\n+PrivacyReporter::visit (HIR::ExternCrate &crate)\n {}\n \n void\n-PrivacyReporter::visit (HIR::UseDeclaration &)\n+PrivacyReporter::visit (HIR::UseDeclaration &use_decl)\n {\n   // FIXME: Is there anything we need to do here?\n }\n@@ -647,51 +647,51 @@ PrivacyReporter::visit (HIR::Function &function)\n }\n \n void\n-PrivacyReporter::visit (HIR::TypeAlias &)\n+PrivacyReporter::visit (HIR::TypeAlias &type_alias)\n {\n   // TODO: Check the type here\n }\n \n void\n-PrivacyReporter::visit (HIR::StructStruct &)\n+PrivacyReporter::visit (HIR::StructStruct &struct_item)\n {\n   // TODO: Check the type of all fields\n }\n \n void\n-PrivacyReporter::visit (HIR::TupleStruct &)\n+PrivacyReporter::visit (HIR::TupleStruct &tuple_struct)\n {\n   // TODO: Check the type of all fields\n }\n \n void\n-PrivacyReporter::visit (HIR::EnumItem &)\n+PrivacyReporter::visit (HIR::EnumItem &item)\n {\n   // TODO: Check the type of all variants\n }\n \n void\n-PrivacyReporter::visit (HIR::EnumItemTuple &)\n+PrivacyReporter::visit (HIR::EnumItemTuple &item)\n {\n   // TODO: Check the type\n }\n \n void\n-PrivacyReporter::visit (HIR::EnumItemStruct &)\n+PrivacyReporter::visit (HIR::EnumItemStruct &item)\n {\n   // TODO: Check the type\n }\n \n void\n-PrivacyReporter::visit (HIR::EnumItemDiscriminant &)\n+PrivacyReporter::visit (HIR::EnumItemDiscriminant &item)\n {}\n \n void\n-PrivacyReporter::visit (HIR::Enum &)\n+PrivacyReporter::visit (HIR::Enum &enum_item)\n {}\n \n void\n-PrivacyReporter::visit (HIR::Union &)\n+PrivacyReporter::visit (HIR::Union &union_item)\n {\n   // TODO: Check the type\n }\n@@ -711,7 +711,7 @@ PrivacyReporter::visit (HIR::StaticItem &static_item)\n }\n \n void\n-PrivacyReporter::visit (HIR::Trait &)\n+PrivacyReporter::visit (HIR::Trait &trait)\n {\n   // FIXME: We need to be an ItemVisitor as well\n   // for (auto &item : trait.get_trait_items ())\n@@ -726,15 +726,15 @@ PrivacyReporter::visit (HIR::ImplBlock &impl)\n }\n \n void\n-PrivacyReporter::visit (HIR::ExternBlock &)\n+PrivacyReporter::visit (HIR::ExternBlock &block)\n {\n   // FIXME: We need to be an ItemVisitor as well\n-  // for (auto &block: block.get_extern_items ())\n+  // for (auto &item : block.get_extern_items ())\n   //   item->accept_vis (*this);\n }\n \n void\n-PrivacyReporter::visit (HIR::EmptyStmt &)\n+PrivacyReporter::visit (HIR::EmptyStmt &stmt)\n {}\n \n void"}, {"sha": "b322e29bfc31ea9686844860ebe32c0151aaa1c6", "filename": "gcc/rust/checks/errors/privacy/rust-reachability.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-reachability.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-reachability.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-reachability.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -140,7 +140,7 @@ ReachabilityVisitor::visit (HIR::StructStruct &struct_item)\n }\n \n void\n-ReachabilityVisitor::visit (HIR::TupleStruct &)\n+ReachabilityVisitor::visit (HIR::TupleStruct &tuple_struct)\n {}\n \n void\n@@ -227,7 +227,7 @@ ReachabilityVisitor::visit (HIR::ImplBlock &impl)\n }\n \n void\n-ReachabilityVisitor::visit (HIR::ExternBlock &)\n+ReachabilityVisitor::visit (HIR::ExternBlock &block)\n {}\n \n // FIXME: How can we visit Blocks in the current configuration? Have a full"}, {"sha": "301182754a4be7a3a55a02fac9a90a6b8e429a15", "filename": "gcc/rust/checks/errors/privacy/rust-visibility-resolver.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-visibility-resolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-visibility-resolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Fprivacy%2Frust-visibility-resolver.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -141,11 +141,11 @@ VisibilityResolver::visit (HIR::Module &mod)\n }\n \n void\n-VisibilityResolver::visit (HIR::ExternCrate &)\n+VisibilityResolver::visit (HIR::ExternCrate &crate)\n {}\n \n void\n-VisibilityResolver::visit (HIR::UseDeclaration &)\n+VisibilityResolver::visit (HIR::UseDeclaration &use_decl)\n {}\n \n void\n@@ -185,7 +185,7 @@ VisibilityResolver::visit (HIR::Enum &enum_item)\n }\n \n void\n-VisibilityResolver::visit (HIR::Union &)\n+VisibilityResolver::visit (HIR::Union &union_item)\n {}\n \n void\n@@ -238,7 +238,7 @@ VisibilityResolver::visit (HIR::ImplBlock &impl)\n }\n \n void\n-VisibilityResolver::visit (HIR::ExternBlock &)\n+VisibilityResolver::visit (HIR::ExternBlock &block)\n {}\n \n } // namespace Privacy"}, {"sha": "3254a982b91a1b6538f80f5e91caca690b8bde22", "filename": "gcc/rust/checks/errors/rust-const-checker.cc", "status": "modified", "additions": 66, "deletions": 66, "changes": 132, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-const-checker.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -114,43 +114,43 @@ ConstChecker::check_default_const_generics (\n }\n \n void\n-ConstChecker::visit (Lifetime &)\n+ConstChecker::visit (Lifetime &lifetime)\n {}\n \n void\n-ConstChecker::visit (LifetimeParam &)\n+ConstChecker::visit (LifetimeParam &lifetime_param)\n {}\n \n void\n-ConstChecker::visit (PathInExpression &)\n+ConstChecker::visit (PathInExpression &path)\n {}\n \n void\n-ConstChecker::visit (TypePathSegment &)\n+ConstChecker::visit (TypePathSegment &segment)\n {}\n \n void\n-ConstChecker::visit (TypePathSegmentGeneric &)\n+ConstChecker::visit (TypePathSegmentGeneric &segment)\n {}\n \n void\n-ConstChecker::visit (TypePathSegmentFunction &)\n+ConstChecker::visit (TypePathSegmentFunction &segment)\n {}\n \n void\n-ConstChecker::visit (TypePath &)\n+ConstChecker::visit (TypePath &path)\n {}\n \n void\n-ConstChecker::visit (QualifiedPathInExpression &)\n+ConstChecker::visit (QualifiedPathInExpression &path)\n {}\n \n void\n-ConstChecker::visit (QualifiedPathInType &)\n+ConstChecker::visit (QualifiedPathInType &path)\n {}\n \n void\n-ConstChecker::visit (LiteralExpr &)\n+ConstChecker::visit (LiteralExpr &expr)\n {}\n \n void\n@@ -270,11 +270,11 @@ ConstChecker::visit (TupleIndexExpr &expr)\n }\n \n void\n-ConstChecker::visit (StructExprStruct &)\n+ConstChecker::visit (StructExprStruct &expr)\n {}\n \n void\n-ConstChecker::visit (StructExprFieldIdentifier &)\n+ConstChecker::visit (StructExprFieldIdentifier &field)\n {}\n \n void\n@@ -297,7 +297,7 @@ ConstChecker::visit (StructExprStructFields &expr)\n }\n \n void\n-ConstChecker::visit (StructExprStructBase &)\n+ConstChecker::visit (StructExprStructBase &expr)\n {}\n \n void\n@@ -398,7 +398,7 @@ ConstChecker::visit (BlockExpr &expr)\n }\n \n void\n-ConstChecker::visit (ContinueExpr &)\n+ConstChecker::visit (ContinueExpr &expr)\n {}\n \n void\n@@ -428,7 +428,7 @@ ConstChecker::visit (RangeToExpr &expr)\n }\n \n void\n-ConstChecker::visit (RangeFullExpr &)\n+ConstChecker::visit (RangeFullExpr &expr)\n {}\n \n void\n@@ -439,7 +439,7 @@ ConstChecker::visit (RangeFromToInclExpr &expr)\n }\n \n void\n-ConstChecker::visit (RangeToInclExpr &)\n+ConstChecker::visit (RangeToInclExpr &expr)\n {\n   // FIXME: Visit to_expr\n }\n@@ -558,31 +558,31 @@ ConstChecker::visit (MatchExpr &expr)\n }\n \n void\n-ConstChecker::visit (AwaitExpr &)\n+ConstChecker::visit (AwaitExpr &expr)\n {\n   // TODO: Visit expression\n }\n \n void\n-ConstChecker::visit (AsyncBlockExpr &)\n+ConstChecker::visit (AsyncBlockExpr &expr)\n {\n   // TODO: Visit block expression\n }\n \n void\n-ConstChecker::visit (TypeParam &)\n+ConstChecker::visit (TypeParam &param)\n {}\n \n void\n-ConstChecker::visit (ConstGenericParam &)\n+ConstChecker::visit (ConstGenericParam &param)\n {}\n \n void\n-ConstChecker::visit (LifetimeWhereClauseItem &)\n+ConstChecker::visit (LifetimeWhereClauseItem &item)\n {}\n \n void\n-ConstChecker::visit (TypeBoundWhereClauseItem &)\n+ConstChecker::visit (TypeBoundWhereClauseItem &item)\n {}\n \n void\n@@ -593,23 +593,23 @@ ConstChecker::visit (Module &module)\n }\n \n void\n-ConstChecker::visit (ExternCrate &)\n+ConstChecker::visit (ExternCrate &crate)\n {}\n \n void\n-ConstChecker::visit (UseTreeGlob &)\n+ConstChecker::visit (UseTreeGlob &use_tree)\n {}\n \n void\n-ConstChecker::visit (UseTreeList &)\n+ConstChecker::visit (UseTreeList &use_tree)\n {}\n \n void\n-ConstChecker::visit (UseTreeRebind &)\n+ConstChecker::visit (UseTreeRebind &use_tree)\n {}\n \n void\n-ConstChecker::visit (UseDeclaration &)\n+ConstChecker::visit (UseDeclaration &use_decl)\n {}\n \n void\n@@ -653,15 +653,15 @@ ConstChecker::visit (TupleStruct &tuple_struct)\n }\n \n void\n-ConstChecker::visit (EnumItem &)\n+ConstChecker::visit (EnumItem &enum_item)\n {}\n \n void\n-ConstChecker::visit (EnumItemTuple &)\n+ConstChecker::visit (EnumItemTuple &item)\n {}\n \n void\n-ConstChecker::visit (EnumItemStruct &)\n+ConstChecker::visit (EnumItemStruct &item)\n {}\n \n void\n@@ -723,7 +723,7 @@ ConstChecker::visit (TraitItemConst &item)\n }\n \n void\n-ConstChecker::visit (TraitItemType &)\n+ConstChecker::visit (TraitItemType &item)\n {}\n \n void\n@@ -747,11 +747,11 @@ ConstChecker::visit (ImplBlock &impl)\n }\n \n void\n-ConstChecker::visit (ExternalStaticItem &)\n+ConstChecker::visit (ExternalStaticItem &item)\n {}\n \n void\n-ConstChecker::visit (ExternalFunctionItem &)\n+ConstChecker::visit (ExternalFunctionItem &item)\n {}\n \n void\n@@ -763,87 +763,87 @@ ConstChecker::visit (ExternBlock &block)\n }\n \n void\n-ConstChecker::visit (LiteralPattern &)\n+ConstChecker::visit (LiteralPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (IdentifierPattern &)\n+ConstChecker::visit (IdentifierPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (WildcardPattern &)\n+ConstChecker::visit (WildcardPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (RangePatternBoundLiteral &)\n+ConstChecker::visit (RangePatternBoundLiteral &bound)\n {}\n \n void\n-ConstChecker::visit (RangePatternBoundPath &)\n+ConstChecker::visit (RangePatternBoundPath &bound)\n {}\n \n void\n-ConstChecker::visit (RangePatternBoundQualPath &)\n+ConstChecker::visit (RangePatternBoundQualPath &bound)\n {}\n \n void\n-ConstChecker::visit (RangePattern &)\n+ConstChecker::visit (RangePattern &pattern)\n {}\n \n void\n-ConstChecker::visit (ReferencePattern &)\n+ConstChecker::visit (ReferencePattern &pattern)\n {}\n \n void\n-ConstChecker::visit (StructPatternFieldTuplePat &)\n+ConstChecker::visit (StructPatternFieldTuplePat &field)\n {}\n \n void\n-ConstChecker::visit (StructPatternFieldIdentPat &)\n+ConstChecker::visit (StructPatternFieldIdentPat &field)\n {}\n \n void\n-ConstChecker::visit (StructPatternFieldIdent &)\n+ConstChecker::visit (StructPatternFieldIdent &field)\n {}\n \n void\n-ConstChecker::visit (StructPattern &)\n+ConstChecker::visit (StructPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (TupleStructItemsNoRange &)\n+ConstChecker::visit (TupleStructItemsNoRange &tuple_items)\n {}\n \n void\n-ConstChecker::visit (TupleStructItemsRange &)\n+ConstChecker::visit (TupleStructItemsRange &tuple_items)\n {}\n \n void\n-ConstChecker::visit (TupleStructPattern &)\n+ConstChecker::visit (TupleStructPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (TuplePatternItemsMultiple &)\n+ConstChecker::visit (TuplePatternItemsMultiple &tuple_items)\n {}\n \n void\n-ConstChecker::visit (TuplePatternItemsRanged &)\n+ConstChecker::visit (TuplePatternItemsRanged &tuple_items)\n {}\n \n void\n-ConstChecker::visit (TuplePattern &)\n+ConstChecker::visit (TuplePattern &pattern)\n {}\n \n void\n-ConstChecker::visit (GroupedPattern &)\n+ConstChecker::visit (GroupedPattern &pattern)\n {}\n \n void\n-ConstChecker::visit (SlicePattern &)\n+ConstChecker::visit (SlicePattern &pattern)\n {}\n \n void\n-ConstChecker::visit (EmptyStmt &)\n+ConstChecker::visit (EmptyStmt &stmt)\n {}\n \n void\n@@ -866,39 +866,39 @@ ConstChecker::visit (ExprStmtWithBlock &stmt)\n }\n \n void\n-ConstChecker::visit (TraitBound &)\n+ConstChecker::visit (TraitBound &bound)\n {}\n \n void\n-ConstChecker::visit (ImplTraitType &)\n+ConstChecker::visit (ImplTraitType &type)\n {}\n \n void\n-ConstChecker::visit (TraitObjectType &)\n+ConstChecker::visit (TraitObjectType &type)\n {}\n \n void\n-ConstChecker::visit (ParenthesisedType &)\n+ConstChecker::visit (ParenthesisedType &type)\n {}\n \n void\n-ConstChecker::visit (ImplTraitTypeOneBound &)\n+ConstChecker::visit (ImplTraitTypeOneBound &type)\n {}\n \n void\n-ConstChecker::visit (TupleType &)\n+ConstChecker::visit (TupleType &type)\n {}\n \n void\n-ConstChecker::visit (NeverType &)\n+ConstChecker::visit (NeverType &type)\n {}\n \n void\n-ConstChecker::visit (RawPointerType &)\n+ConstChecker::visit (RawPointerType &type)\n {}\n \n void\n-ConstChecker::visit (ReferenceType &)\n+ConstChecker::visit (ReferenceType &type)\n {}\n \n void\n@@ -912,15 +912,15 @@ ConstChecker::visit (ArrayType &type)\n }\n \n void\n-ConstChecker::visit (SliceType &)\n+ConstChecker::visit (SliceType &type)\n {}\n \n void\n-ConstChecker::visit (InferredType &)\n+ConstChecker::visit (InferredType &type)\n {}\n \n void\n-ConstChecker::visit (BareFunctionType &)\n+ConstChecker::visit (BareFunctionType &type)\n {}\n \n } // namespace HIR"}, {"sha": "55a21590b2eae42161d334cf7b70e802156ce1f0", "filename": "gcc/rust/checks/errors/rust-unsafe-checker.cc", "status": "modified", "additions": 71, "deletions": 71, "changes": 142, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Ferrors%2Frust-unsafe-checker.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -180,11 +180,11 @@ UnsafeChecker::check_function_call (HirId node_id, Location locus)\n }\n \n void\n-UnsafeChecker::visit (Lifetime &)\n+UnsafeChecker::visit (Lifetime &lifetime)\n {}\n \n void\n-UnsafeChecker::visit (LifetimeParam &)\n+UnsafeChecker::visit (LifetimeParam &lifetime_param)\n {}\n \n void\n@@ -203,31 +203,31 @@ UnsafeChecker::visit (PathInExpression &path)\n }\n \n void\n-UnsafeChecker::visit (TypePathSegment &)\n+UnsafeChecker::visit (TypePathSegment &segment)\n {}\n \n void\n-UnsafeChecker::visit (TypePathSegmentGeneric &)\n+UnsafeChecker::visit (TypePathSegmentGeneric &segment)\n {}\n \n void\n-UnsafeChecker::visit (TypePathSegmentFunction &)\n+UnsafeChecker::visit (TypePathSegmentFunction &segment)\n {}\n \n void\n-UnsafeChecker::visit (TypePath &)\n+UnsafeChecker::visit (TypePath &path)\n {}\n \n void\n-UnsafeChecker::visit (QualifiedPathInExpression &)\n+UnsafeChecker::visit (QualifiedPathInExpression &path)\n {}\n \n void\n-UnsafeChecker::visit (QualifiedPathInType &)\n+UnsafeChecker::visit (QualifiedPathInType &path)\n {}\n \n void\n-UnsafeChecker::visit (LiteralExpr &)\n+UnsafeChecker::visit (LiteralExpr &expr)\n {}\n \n void\n@@ -349,11 +349,11 @@ UnsafeChecker::visit (TupleIndexExpr &expr)\n }\n \n void\n-UnsafeChecker::visit (StructExprStruct &)\n+UnsafeChecker::visit (StructExprStruct &expr)\n {}\n \n void\n-UnsafeChecker::visit (StructExprFieldIdentifier &)\n+UnsafeChecker::visit (StructExprFieldIdentifier &field)\n {}\n \n void\n@@ -376,7 +376,7 @@ UnsafeChecker::visit (StructExprStructFields &expr)\n }\n \n void\n-UnsafeChecker::visit (StructExprStructBase &)\n+UnsafeChecker::visit (StructExprStructBase &expr)\n {}\n \n void\n@@ -469,7 +469,7 @@ UnsafeChecker::visit (BlockExpr &expr)\n }\n \n void\n-UnsafeChecker::visit (ContinueExpr &)\n+UnsafeChecker::visit (ContinueExpr &expr)\n {}\n \n void\n@@ -499,7 +499,7 @@ UnsafeChecker::visit (RangeToExpr &expr)\n }\n \n void\n-UnsafeChecker::visit (RangeFullExpr &)\n+UnsafeChecker::visit (RangeFullExpr &expr)\n {}\n \n void\n@@ -633,31 +633,31 @@ UnsafeChecker::visit (MatchExpr &expr)\n }\n \n void\n-UnsafeChecker::visit (AwaitExpr &)\n+UnsafeChecker::visit (AwaitExpr &expr)\n {\n   // TODO: Visit expression\n }\n \n void\n-UnsafeChecker::visit (AsyncBlockExpr &)\n+UnsafeChecker::visit (AsyncBlockExpr &expr)\n {\n   // TODO: Visit block expression\n }\n \n void\n-UnsafeChecker::visit (TypeParam &)\n+UnsafeChecker::visit (TypeParam &param)\n {}\n \n void\n-UnsafeChecker::visit (ConstGenericParam &)\n+UnsafeChecker::visit (ConstGenericParam &param)\n {}\n \n void\n-UnsafeChecker::visit (LifetimeWhereClauseItem &)\n+UnsafeChecker::visit (LifetimeWhereClauseItem &item)\n {}\n \n void\n-UnsafeChecker::visit (TypeBoundWhereClauseItem &)\n+UnsafeChecker::visit (TypeBoundWhereClauseItem &item)\n {}\n \n void\n@@ -668,23 +668,23 @@ UnsafeChecker::visit (Module &module)\n }\n \n void\n-UnsafeChecker::visit (ExternCrate &)\n+UnsafeChecker::visit (ExternCrate &crate)\n {}\n \n void\n-UnsafeChecker::visit (UseTreeGlob &)\n+UnsafeChecker::visit (UseTreeGlob &use_tree)\n {}\n \n void\n-UnsafeChecker::visit (UseTreeList &)\n+UnsafeChecker::visit (UseTreeList &use_tree)\n {}\n \n void\n-UnsafeChecker::visit (UseTreeRebind &)\n+UnsafeChecker::visit (UseTreeRebind &use_tree)\n {}\n \n void\n-UnsafeChecker::visit (UseDeclaration &)\n+UnsafeChecker::visit (UseDeclaration &use_decl)\n {}\n \n void\n@@ -702,42 +702,42 @@ UnsafeChecker::visit (Function &function)\n }\n \n void\n-UnsafeChecker::visit (TypeAlias &)\n+UnsafeChecker::visit (TypeAlias &type_alias)\n {\n   // FIXME: What do we need to do to handle type aliasing? Is it possible to\n   // have unsafe types? Type aliases on unsafe functions?\n }\n \n void\n-UnsafeChecker::visit (StructStruct &)\n+UnsafeChecker::visit (StructStruct &struct_item)\n {}\n \n void\n-UnsafeChecker::visit (TupleStruct &)\n+UnsafeChecker::visit (TupleStruct &tuple_struct)\n {}\n \n void\n-UnsafeChecker::visit (EnumItem &)\n+UnsafeChecker::visit (EnumItem &item)\n {}\n \n void\n-UnsafeChecker::visit (EnumItemTuple &)\n+UnsafeChecker::visit (EnumItemTuple &item)\n {}\n \n void\n-UnsafeChecker::visit (EnumItemStruct &)\n+UnsafeChecker::visit (EnumItemStruct &item)\n {}\n \n void\n-UnsafeChecker::visit (EnumItemDiscriminant &)\n+UnsafeChecker::visit (EnumItemDiscriminant &item)\n {}\n \n void\n-UnsafeChecker::visit (Enum &)\n+UnsafeChecker::visit (Enum &enum_item)\n {}\n \n void\n-UnsafeChecker::visit (Union &)\n+UnsafeChecker::visit (Union &union_item)\n {}\n \n void\n@@ -767,7 +767,7 @@ UnsafeChecker::visit (TraitItemConst &item)\n }\n \n void\n-UnsafeChecker::visit (TraitItemType &)\n+UnsafeChecker::visit (TraitItemType &item)\n {}\n \n void\n@@ -787,11 +787,11 @@ UnsafeChecker::visit (ImplBlock &impl)\n }\n \n void\n-UnsafeChecker::visit (ExternalStaticItem &)\n+UnsafeChecker::visit (ExternalStaticItem &item)\n {}\n \n void\n-UnsafeChecker::visit (ExternalFunctionItem &)\n+UnsafeChecker::visit (ExternalFunctionItem &item)\n {}\n \n void\n@@ -803,87 +803,87 @@ UnsafeChecker::visit (ExternBlock &block)\n }\n \n void\n-UnsafeChecker::visit (LiteralPattern &)\n+UnsafeChecker::visit (LiteralPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (IdentifierPattern &)\n+UnsafeChecker::visit (IdentifierPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (WildcardPattern &)\n+UnsafeChecker::visit (WildcardPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (RangePatternBoundLiteral &)\n+UnsafeChecker::visit (RangePatternBoundLiteral &bound)\n {}\n \n void\n-UnsafeChecker::visit (RangePatternBoundPath &)\n+UnsafeChecker::visit (RangePatternBoundPath &bound)\n {}\n \n void\n-UnsafeChecker::visit (RangePatternBoundQualPath &)\n+UnsafeChecker::visit (RangePatternBoundQualPath &bound)\n {}\n \n void\n-UnsafeChecker::visit (RangePattern &)\n+UnsafeChecker::visit (RangePattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (ReferencePattern &)\n+UnsafeChecker::visit (ReferencePattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (StructPatternFieldTuplePat &)\n+UnsafeChecker::visit (StructPatternFieldTuplePat &field)\n {}\n \n void\n-UnsafeChecker::visit (StructPatternFieldIdentPat &)\n+UnsafeChecker::visit (StructPatternFieldIdentPat &field)\n {}\n \n void\n-UnsafeChecker::visit (StructPatternFieldIdent &)\n+UnsafeChecker::visit (StructPatternFieldIdent &field)\n {}\n \n void\n-UnsafeChecker::visit (StructPattern &)\n+UnsafeChecker::visit (StructPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (TupleStructItemsNoRange &)\n+UnsafeChecker::visit (TupleStructItemsNoRange &tuple_items)\n {}\n \n void\n-UnsafeChecker::visit (TupleStructItemsRange &)\n+UnsafeChecker::visit (TupleStructItemsRange &tuple_items)\n {}\n \n void\n-UnsafeChecker::visit (TupleStructPattern &)\n+UnsafeChecker::visit (TupleStructPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (TuplePatternItemsMultiple &)\n+UnsafeChecker::visit (TuplePatternItemsMultiple &tuple_items)\n {}\n \n void\n-UnsafeChecker::visit (TuplePatternItemsRanged &)\n+UnsafeChecker::visit (TuplePatternItemsRanged &tuple_items)\n {}\n \n void\n-UnsafeChecker::visit (TuplePattern &)\n+UnsafeChecker::visit (TuplePattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (GroupedPattern &)\n+UnsafeChecker::visit (GroupedPattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (SlicePattern &)\n+UnsafeChecker::visit (SlicePattern &pattern)\n {}\n \n void\n-UnsafeChecker::visit (EmptyStmt &)\n+UnsafeChecker::visit (EmptyStmt &stmt)\n {}\n \n void\n@@ -906,55 +906,55 @@ UnsafeChecker::visit (ExprStmtWithBlock &stmt)\n }\n \n void\n-UnsafeChecker::visit (TraitBound &)\n+UnsafeChecker::visit (TraitBound &bound)\n {}\n \n void\n-UnsafeChecker::visit (ImplTraitType &)\n+UnsafeChecker::visit (ImplTraitType &type)\n {}\n \n void\n-UnsafeChecker::visit (TraitObjectType &)\n+UnsafeChecker::visit (TraitObjectType &type)\n {}\n \n void\n-UnsafeChecker::visit (ParenthesisedType &)\n+UnsafeChecker::visit (ParenthesisedType &type)\n {}\n \n void\n-UnsafeChecker::visit (ImplTraitTypeOneBound &)\n+UnsafeChecker::visit (ImplTraitTypeOneBound &type)\n {}\n \n void\n-UnsafeChecker::visit (TupleType &)\n+UnsafeChecker::visit (TupleType &type)\n {}\n \n void\n-UnsafeChecker::visit (NeverType &)\n+UnsafeChecker::visit (NeverType &type)\n {}\n \n void\n-UnsafeChecker::visit (RawPointerType &)\n+UnsafeChecker::visit (RawPointerType &type)\n {}\n \n void\n-UnsafeChecker::visit (ReferenceType &)\n+UnsafeChecker::visit (ReferenceType &type)\n {}\n \n void\n-UnsafeChecker::visit (ArrayType &)\n+UnsafeChecker::visit (ArrayType &type)\n {}\n \n void\n-UnsafeChecker::visit (SliceType &)\n+UnsafeChecker::visit (SliceType &type)\n {}\n \n void\n-UnsafeChecker::visit (InferredType &)\n+UnsafeChecker::visit (InferredType &type)\n {}\n \n void\n-UnsafeChecker::visit (BareFunctionType &)\n+UnsafeChecker::visit (BareFunctionType &type)\n {}\n \n } // namespace HIR"}, {"sha": "19fbeb9ec9fdccc20c8dbdcdc6abb3c6c347fb84", "filename": "gcc/rust/checks/lints/rust-lint-marklive.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-marklive.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-marklive.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-marklive.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -78,7 +78,7 @@ MarkLive::Analysis (HIR::Crate &crate)\n //    visited first time\n // 2. save all the live symbols in liveSymbols\n void\n-MarkLive::go (HIR::Crate &)\n+MarkLive::go (HIR::Crate &crate)\n {\n   while (!worklist.empty ())\n     {"}, {"sha": "d4317e5328011b54455af45cf8ef10b3c0432fb9", "filename": "gcc/rust/checks/lints/rust-lint-unused-var.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-unused-var.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-unused-var.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fchecks%2Flints%2Frust-lint-unused-var.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -53,7 +53,7 @@ check_decl (tree *t)\n }\n \n static tree\n-unused_var_walk_fn (tree *t, int *, void *)\n+unused_var_walk_fn (tree *t, int *walk_subtrees, void *closure)\n {\n   switch (TREE_CODE (*t))\n     {"}, {"sha": "a00b5edca5fa7d20b5c8f44e51079dc38a2c5d76", "filename": "gcc/rust/expand/rust-macro-builtins.cc", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fexpand%2Frust-macro-builtins.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fexpand%2Frust-macro-builtins.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fexpand%2Frust-macro-builtins.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -99,6 +99,7 @@ try_extract_string_literal_from_fragment (const Location &parent_locus,\n \n static std::unique_ptr<AST::LiteralExpr>\n try_expand_single_string_literal (AST::Expr *input_expr,\n+\t\t\t\t  const Location &invoc_locus,\n \t\t\t\t  MacroExpander *expander)\n {\n   auto nodes = try_expand_macro_expression (input_expr, expander);\n@@ -115,8 +116,8 @@ try_expand_single_string_literal (AST::Expr *input_expr,\n \n static std::vector<std::unique_ptr<AST::Expr>>\n try_expand_many_expr (Parser<MacroInvocLexer> &parser,\n-\t\t      const TokenId last_token_id, MacroExpander *expander,\n-\t\t      bool &has_error)\n+\t\t      const Location &invoc_locus, const TokenId last_token_id,\n+\t\t      MacroExpander *expander, bool &has_error)\n {\n   auto restrictions = Rust::ParseRestrictions ();\n   // stop parsing when encountered a braces/brackets\n@@ -203,7 +204,8 @@ parse_single_string_literal (AST::DelimTokenTree &invoc_token_tree,\n       // when the expression does not seem to be a string literal, we then try\n       // to parse/expand it as macro to see if it expands to a string literal\n       auto expr = parser.parse_expr ();\n-      lit_expr = try_expand_single_string_literal (expr.get (), expander);\n+      lit_expr\n+\t= try_expand_single_string_literal (expr.get (), invoc_locus, expander);\n     }\n \n   parser.skip_token (last_token_id);\n@@ -263,15 +265,15 @@ load_file_bytes (const char *filename)\n } // namespace\n \n AST::Fragment\n-MacroBuiltin::assert_handler (Location, AST::MacroInvocData &)\n+MacroBuiltin::assert_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n {\n   rust_debug (\"assert!() called\");\n \n   return AST::Fragment::create_error ();\n }\n \n AST::Fragment\n-MacroBuiltin::file_handler (Location invoc_locus, AST::MacroInvocData &)\n+MacroBuiltin::file_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n {\n   auto current_file\n     = Session::get_instance ().linemap->location_file (invoc_locus);\n@@ -281,7 +283,7 @@ MacroBuiltin::file_handler (Location invoc_locus, AST::MacroInvocData &)\n }\n \n AST::Fragment\n-MacroBuiltin::column_handler (Location invoc_locus, AST::MacroInvocData &)\n+MacroBuiltin::column_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n {\n   auto current_column\n     = Session::get_instance ().linemap->location_to_column (invoc_locus);\n@@ -399,7 +401,7 @@ MacroBuiltin::concat_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n   auto last_token_id = macro_end_token (invoc_token_tree, parser);\n \n   /* NOTE: concat! could accept no argument, so we don't have any checks here */\n-  auto expanded_expr = try_expand_many_expr (parser, last_token_id,\n+  auto expanded_expr = try_expand_many_expr (parser, invoc_locus, last_token_id,\n \t\t\t\t\t     invoc.get_expander (), has_error);\n   for (auto &expr : expanded_expr)\n     {\n@@ -449,7 +451,7 @@ MacroBuiltin::env_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n   std::unique_ptr<AST::LiteralExpr> lit_expr = nullptr;\n   bool has_error = false;\n \n-  auto expanded_expr = try_expand_many_expr (parser, last_token_id,\n+  auto expanded_expr = try_expand_many_expr (parser, invoc_locus, last_token_id,\n \t\t\t\t\t     invoc.get_expander (), has_error);\n   if (has_error)\n     return AST::Fragment::create_error ();\n@@ -589,7 +591,7 @@ MacroBuiltin::include_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n }\n \n AST::Fragment\n-MacroBuiltin::line_handler (Location invoc_locus, AST::MacroInvocData &)\n+MacroBuiltin::line_handler (Location invoc_locus, AST::MacroInvocData &invoc)\n {\n   auto current_line\n     = Session::get_instance ().linemap->location_to_line (invoc_locus);"}, {"sha": "592d9e810f9819e27a6dc66844443635184ba58e", "filename": "gcc/rust/hir/rust-ast-lower-base.cc", "status": "modified", "additions": 176, "deletions": 176, "changes": 352, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Frust-ast-lower-base.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Frust-ast-lower-base.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Frust-ast-lower-base.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -25,499 +25,499 @@ namespace Rust {\n namespace HIR {\n \n void\n-ASTLoweringBase::visit (AST::Token &)\n+ASTLoweringBase::visit (AST::Token &tok)\n {}\n void\n-ASTLoweringBase::visit (AST::DelimTokenTree &)\n+ASTLoweringBase::visit (AST::DelimTokenTree &delim_tok_tree)\n {}\n void\n-ASTLoweringBase::visit (AST::AttrInputMetaItemContainer &)\n+ASTLoweringBase::visit (AST::AttrInputMetaItemContainer &input)\n {}\n-//  void ASTLoweringBase::visit(MetaItemmeta_item) {}\n-//  void vsit(Stmtstmt) {}\n-//  void ASTLoweringBase::visit(Exprexpr) {}\n+//  void ASTLoweringBase::visit(MetaItem& meta_item) {}\n+//  void vsit(Stmt& stmt) {}\n+//  void ASTLoweringBase::visit(Expr& expr) {}\n void\n-ASTLoweringBase::visit (AST::IdentifierExpr &)\n+ASTLoweringBase::visit (AST::IdentifierExpr &ident_expr)\n {}\n-//  void ASTLoweringBase::visit(Patternpattern) {}\n-//  void ASTLoweringBase::visit(Typetype) {}\n-//  void ASTLoweringBase::visit(TypeParamBoundtype_param_bound) {}\n+//  void ASTLoweringBase::visit(Pattern& pattern) {}\n+//  void ASTLoweringBase::visit(Type& type) {}\n+//  void ASTLoweringBase::visit(TypeParamBound& type_param_bound) {}\n void\n-ASTLoweringBase::visit (AST::Lifetime &)\n+ASTLoweringBase::visit (AST::Lifetime &lifetime)\n {}\n-//  void ASTLoweringBase::visit(GenericParamgeneric_param) {}\n+//  void ASTLoweringBase::visit(GenericParam& generic_param) {}\n void\n-ASTLoweringBase::visit (AST::LifetimeParam &)\n+ASTLoweringBase::visit (AST::LifetimeParam &lifetime_param)\n {}\n void\n-ASTLoweringBase::visit (AST::ConstGenericParam &)\n+ASTLoweringBase::visit (AST::ConstGenericParam &const_param)\n {}\n-//  void ASTLoweringBase::visit(TraitItemtrait_item) {}\n-//  void ASTLoweringBase::visit(InherentImplIteminherent_impl_item) {}\n-//  void ASTLoweringBase::visit(TraitImplItemtrait_impl_item) {}\n+//  void ASTLoweringBase::visit(TraitItem& trait_item) {}\n+//  void ASTLoweringBase::visit(InherentImplItem& inherent_impl_item) {}\n+//  void ASTLoweringBase::visit(TraitImplItem& trait_impl_item) {}\n \n // rust-path.h\n void\n-ASTLoweringBase::visit (AST::PathInExpression &)\n+ASTLoweringBase::visit (AST::PathInExpression &path)\n {}\n void\n-ASTLoweringBase::visit (AST::TypePathSegment &)\n+ASTLoweringBase::visit (AST::TypePathSegment &segment)\n {}\n void\n-ASTLoweringBase::visit (AST::TypePathSegmentGeneric &)\n+ASTLoweringBase::visit (AST::TypePathSegmentGeneric &segment)\n {}\n void\n-ASTLoweringBase::visit (AST::TypePathSegmentFunction &)\n+ASTLoweringBase::visit (AST::TypePathSegmentFunction &segment)\n {}\n void\n-ASTLoweringBase::visit (AST::TypePath &)\n+ASTLoweringBase::visit (AST::TypePath &path)\n {}\n void\n-ASTLoweringBase::visit (AST::QualifiedPathInExpression &)\n+ASTLoweringBase::visit (AST::QualifiedPathInExpression &path)\n {}\n void\n-ASTLoweringBase::visit (AST::QualifiedPathInType &)\n+ASTLoweringBase::visit (AST::QualifiedPathInType &path)\n {}\n \n // rust-expr.h\n void\n-ASTLoweringBase::visit (AST::LiteralExpr &)\n+ASTLoweringBase::visit (AST::LiteralExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::AttrInputLiteral &)\n+ASTLoweringBase::visit (AST::AttrInputLiteral &attr_input)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaItemLitExpr &)\n+ASTLoweringBase::visit (AST::MetaItemLitExpr &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaItemPathLit &)\n+ASTLoweringBase::visit (AST::MetaItemPathLit &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::BorrowExpr &)\n+ASTLoweringBase::visit (AST::BorrowExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::DereferenceExpr &)\n+ASTLoweringBase::visit (AST::DereferenceExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ErrorPropagationExpr &)\n+ASTLoweringBase::visit (AST::ErrorPropagationExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::NegationExpr &)\n+ASTLoweringBase::visit (AST::NegationExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ArithmeticOrLogicalExpr &)\n+ASTLoweringBase::visit (AST::ArithmeticOrLogicalExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ComparisonExpr &)\n+ASTLoweringBase::visit (AST::ComparisonExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::LazyBooleanExpr &)\n+ASTLoweringBase::visit (AST::LazyBooleanExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::TypeCastExpr &)\n+ASTLoweringBase::visit (AST::TypeCastExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::AssignmentExpr &)\n+ASTLoweringBase::visit (AST::AssignmentExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::CompoundAssignmentExpr &)\n+ASTLoweringBase::visit (AST::CompoundAssignmentExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::GroupedExpr &)\n+ASTLoweringBase::visit (AST::GroupedExpr &expr)\n {}\n-//  void ASTLoweringBase::visit(ArrayElemselems) {}\n+//  void ASTLoweringBase::visit(ArrayElems& elems) {}\n void\n-ASTLoweringBase::visit (AST::ArrayElemsValues &)\n+ASTLoweringBase::visit (AST::ArrayElemsValues &elems)\n {}\n void\n-ASTLoweringBase::visit (AST::ArrayElemsCopied &)\n+ASTLoweringBase::visit (AST::ArrayElemsCopied &elems)\n {}\n void\n-ASTLoweringBase::visit (AST::ArrayExpr &)\n+ASTLoweringBase::visit (AST::ArrayExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ArrayIndexExpr &)\n+ASTLoweringBase::visit (AST::ArrayIndexExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleExpr &)\n+ASTLoweringBase::visit (AST::TupleExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleIndexExpr &)\n+ASTLoweringBase::visit (AST::TupleIndexExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::StructExprStruct &)\n+ASTLoweringBase::visit (AST::StructExprStruct &expr)\n {}\n-//  void ASTLoweringBase::visit(StructExprFieldfield) {}\n+//  void ASTLoweringBase::visit(StructExprField& field) {}\n void\n-ASTLoweringBase::visit (AST::StructExprFieldIdentifier &)\n+ASTLoweringBase::visit (AST::StructExprFieldIdentifier &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructExprFieldIdentifierValue &)\n+ASTLoweringBase::visit (AST::StructExprFieldIdentifierValue &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructExprFieldIndexValue &)\n+ASTLoweringBase::visit (AST::StructExprFieldIndexValue &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructExprStructFields &)\n+ASTLoweringBase::visit (AST::StructExprStructFields &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::StructExprStructBase &)\n+ASTLoweringBase::visit (AST::StructExprStructBase &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::CallExpr &)\n+ASTLoweringBase::visit (AST::CallExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::MethodCallExpr &)\n+ASTLoweringBase::visit (AST::MethodCallExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::FieldAccessExpr &)\n+ASTLoweringBase::visit (AST::FieldAccessExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ClosureExprInner &)\n+ASTLoweringBase::visit (AST::ClosureExprInner &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::BlockExpr &)\n+ASTLoweringBase::visit (AST::BlockExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ClosureExprInnerTyped &)\n+ASTLoweringBase::visit (AST::ClosureExprInnerTyped &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ContinueExpr &)\n+ASTLoweringBase::visit (AST::ContinueExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::BreakExpr &)\n+ASTLoweringBase::visit (AST::BreakExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeFromToExpr &)\n+ASTLoweringBase::visit (AST::RangeFromToExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeFromExpr &)\n+ASTLoweringBase::visit (AST::RangeFromExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeToExpr &)\n+ASTLoweringBase::visit (AST::RangeToExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeFullExpr &)\n+ASTLoweringBase::visit (AST::RangeFullExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeFromToInclExpr &)\n+ASTLoweringBase::visit (AST::RangeFromToInclExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::RangeToInclExpr &)\n+ASTLoweringBase::visit (AST::RangeToInclExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ReturnExpr &)\n+ASTLoweringBase::visit (AST::ReturnExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::UnsafeBlockExpr &)\n+ASTLoweringBase::visit (AST::UnsafeBlockExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::LoopExpr &)\n+ASTLoweringBase::visit (AST::LoopExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::WhileLoopExpr &)\n+ASTLoweringBase::visit (AST::WhileLoopExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::WhileLetLoopExpr &)\n+ASTLoweringBase::visit (AST::WhileLetLoopExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::ForLoopExpr &)\n+ASTLoweringBase::visit (AST::ForLoopExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfExpr &)\n+ASTLoweringBase::visit (AST::IfExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfExprConseqElse &)\n+ASTLoweringBase::visit (AST::IfExprConseqElse &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfExprConseqIf &)\n+ASTLoweringBase::visit (AST::IfExprConseqIf &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfExprConseqIfLet &)\n+ASTLoweringBase::visit (AST::IfExprConseqIfLet &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfLetExpr &)\n+ASTLoweringBase::visit (AST::IfLetExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfLetExprConseqElse &)\n+ASTLoweringBase::visit (AST::IfLetExprConseqElse &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfLetExprConseqIf &)\n+ASTLoweringBase::visit (AST::IfLetExprConseqIf &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::IfLetExprConseqIfLet &)\n+ASTLoweringBase::visit (AST::IfLetExprConseqIfLet &expr)\n {}\n-//  void ASTLoweringBase::visit(MatchCasematch_case) {}\n-// void ASTLoweringBase:: (AST::MatchCaseBlockExpr &) {}\n-// void ASTLoweringBase:: (AST::MatchCaseExpr &) {}\n+//  void ASTLoweringBase::visit(MatchCase& match_case) {}\n+// void ASTLoweringBase:: (AST::MatchCaseBlockExpr &match_case) {}\n+// void ASTLoweringBase:: (AST::MatchCaseExpr &match_case) {}\n void\n-ASTLoweringBase::visit (AST::MatchExpr &)\n+ASTLoweringBase::visit (AST::MatchExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::AwaitExpr &)\n+ASTLoweringBase::visit (AST::AwaitExpr &expr)\n {}\n void\n-ASTLoweringBase::visit (AST::AsyncBlockExpr &)\n+ASTLoweringBase::visit (AST::AsyncBlockExpr &expr)\n {}\n \n // rust-item.h\n void\n-ASTLoweringBase::visit (AST::TypeParam &)\n+ASTLoweringBase::visit (AST::TypeParam &param)\n {}\n-//  void ASTLoweringBase::visit(WhereClauseItemitem) {}\n+//  void ASTLoweringBase::visit(WhereClauseItem& item) {}\n void\n-ASTLoweringBase::visit (AST::LifetimeWhereClauseItem &)\n+ASTLoweringBase::visit (AST::LifetimeWhereClauseItem &item)\n {}\n void\n-ASTLoweringBase::visit (AST::TypeBoundWhereClauseItem &)\n+ASTLoweringBase::visit (AST::TypeBoundWhereClauseItem &item)\n {}\n void\n-ASTLoweringBase::visit (AST::Method &)\n+ASTLoweringBase::visit (AST::Method &method)\n {}\n void\n-ASTLoweringBase::visit (AST::Module &)\n+ASTLoweringBase::visit (AST::Module &module)\n {}\n void\n-ASTLoweringBase::visit (AST::ExternCrate &)\n+ASTLoweringBase::visit (AST::ExternCrate &crate)\n {}\n-//  void ASTLoweringBase::visit(UseTreeuse_tree) {}\n+//  void ASTLoweringBase::visit(UseTree& use_tree) {}\n void\n-ASTLoweringBase::visit (AST::UseTreeGlob &)\n+ASTLoweringBase::visit (AST::UseTreeGlob &use_tree)\n {}\n void\n-ASTLoweringBase::visit (AST::UseTreeList &)\n+ASTLoweringBase::visit (AST::UseTreeList &use_tree)\n {}\n void\n-ASTLoweringBase::visit (AST::UseTreeRebind &)\n+ASTLoweringBase::visit (AST::UseTreeRebind &use_tree)\n {}\n void\n-ASTLoweringBase::visit (AST::UseDeclaration &)\n+ASTLoweringBase::visit (AST::UseDeclaration &use_decl)\n {}\n void\n-ASTLoweringBase::visit (AST::Function &)\n+ASTLoweringBase::visit (AST::Function &function)\n {}\n void\n-ASTLoweringBase::visit (AST::TypeAlias &)\n+ASTLoweringBase::visit (AST::TypeAlias &type_alias)\n {}\n void\n-ASTLoweringBase::visit (AST::StructStruct &)\n+ASTLoweringBase::visit (AST::StructStruct &struct_item)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleStruct &)\n+ASTLoweringBase::visit (AST::TupleStruct &tuple_struct)\n {}\n void\n-ASTLoweringBase::visit (AST::EnumItem &)\n+ASTLoweringBase::visit (AST::EnumItem &item)\n {}\n void\n-ASTLoweringBase::visit (AST::EnumItemTuple &)\n+ASTLoweringBase::visit (AST::EnumItemTuple &item)\n {}\n void\n-ASTLoweringBase::visit (AST::EnumItemStruct &)\n+ASTLoweringBase::visit (AST::EnumItemStruct &item)\n {}\n void\n-ASTLoweringBase::visit (AST::EnumItemDiscriminant &)\n+ASTLoweringBase::visit (AST::EnumItemDiscriminant &item)\n {}\n void\n-ASTLoweringBase::visit (AST::Enum &)\n+ASTLoweringBase::visit (AST::Enum &enum_item)\n {}\n void\n-ASTLoweringBase::visit (AST::Union &)\n+ASTLoweringBase::visit (AST::Union &union_item)\n {}\n void\n-ASTLoweringBase::visit (AST::ConstantItem &)\n+ASTLoweringBase::visit (AST::ConstantItem &const_item)\n {}\n void\n-ASTLoweringBase::visit (AST::StaticItem &)\n+ASTLoweringBase::visit (AST::StaticItem &static_item)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitItemFunc &)\n+ASTLoweringBase::visit (AST::TraitItemFunc &item)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitItemMethod &)\n+ASTLoweringBase::visit (AST::TraitItemMethod &item)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitItemConst &)\n+ASTLoweringBase::visit (AST::TraitItemConst &item)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitItemType &)\n+ASTLoweringBase::visit (AST::TraitItemType &item)\n {}\n void\n-ASTLoweringBase::visit (AST::Trait &)\n+ASTLoweringBase::visit (AST::Trait &trait)\n {}\n void\n-ASTLoweringBase::visit (AST::InherentImpl &)\n+ASTLoweringBase::visit (AST::InherentImpl &impl)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitImpl &)\n+ASTLoweringBase::visit (AST::TraitImpl &impl)\n {}\n-//  void ASTLoweringBase::visit(ExternalItemitem) {}\n+//  void ASTLoweringBase::visit(ExternalItem& item) {}\n void\n-ASTLoweringBase::visit (AST::ExternalStaticItem &)\n+ASTLoweringBase::visit (AST::ExternalStaticItem &item)\n {}\n void\n-ASTLoweringBase::visit (AST::ExternalFunctionItem &)\n+ASTLoweringBase::visit (AST::ExternalFunctionItem &item)\n {}\n void\n-ASTLoweringBase::visit (AST::ExternBlock &)\n+ASTLoweringBase::visit (AST::ExternBlock &block)\n {}\n \n // rust-macro.h\n void\n-ASTLoweringBase::visit (AST::MacroMatchFragment &)\n+ASTLoweringBase::visit (AST::MacroMatchFragment &match)\n {}\n void\n-ASTLoweringBase::visit (AST::MacroMatchRepetition &)\n+ASTLoweringBase::visit (AST::MacroMatchRepetition &match)\n {}\n void\n-ASTLoweringBase::visit (AST::MacroMatcher &)\n+ASTLoweringBase::visit (AST::MacroMatcher &matcher)\n {}\n void\n-ASTLoweringBase::visit (AST::MacroRulesDefinition &)\n+ASTLoweringBase::visit (AST::MacroRulesDefinition &rules_def)\n {}\n void\n-ASTLoweringBase::visit (AST::MacroInvocation &)\n+ASTLoweringBase::visit (AST::MacroInvocation &macro_invoc)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaItemPath &)\n+ASTLoweringBase::visit (AST::MetaItemPath &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaItemSeq &)\n+ASTLoweringBase::visit (AST::MetaItemSeq &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaWord &)\n+ASTLoweringBase::visit (AST::MetaWord &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaNameValueStr &)\n+ASTLoweringBase::visit (AST::MetaNameValueStr &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaListPaths &)\n+ASTLoweringBase::visit (AST::MetaListPaths &meta_item)\n {}\n void\n-ASTLoweringBase::visit (AST::MetaListNameValueStr &)\n+ASTLoweringBase::visit (AST::MetaListNameValueStr &meta_item)\n {}\n \n // rust-pattern.h\n void\n-ASTLoweringBase::visit (AST::LiteralPattern &)\n+ASTLoweringBase::visit (AST::LiteralPattern &pattern)\n {}\n void\n-ASTLoweringBase::visit (AST::IdentifierPattern &)\n+ASTLoweringBase::visit (AST::IdentifierPattern &pattern)\n {}\n void\n-ASTLoweringBase::visit (AST::WildcardPattern &)\n+ASTLoweringBase::visit (AST::WildcardPattern &pattern)\n {}\n-//  void ASTLoweringBase::visit(RangePatternBoundbound) {}\n+//  void ASTLoweringBase::visit(RangePatternBound& bound) {}\n void\n-ASTLoweringBase::visit (AST::RangePatternBoundLiteral &)\n+ASTLoweringBase::visit (AST::RangePatternBoundLiteral &bound)\n {}\n void\n-ASTLoweringBase::visit (AST::RangePatternBoundPath &)\n+ASTLoweringBase::visit (AST::RangePatternBoundPath &bound)\n {}\n void\n-ASTLoweringBase::visit (AST::RangePatternBoundQualPath &)\n+ASTLoweringBase::visit (AST::RangePatternBoundQualPath &bound)\n {}\n void\n-ASTLoweringBase::visit (AST::RangePattern &)\n+ASTLoweringBase::visit (AST::RangePattern &pattern)\n {}\n void\n-ASTLoweringBase::visit (AST::ReferencePattern &)\n+ASTLoweringBase::visit (AST::ReferencePattern &pattern)\n {}\n-//  void ASTLoweringBase::visit(StructPatternFieldfield) {}\n+//  void ASTLoweringBase::visit(StructPatternField& field) {}\n void\n-ASTLoweringBase::visit (AST::StructPatternFieldTuplePat &)\n+ASTLoweringBase::visit (AST::StructPatternFieldTuplePat &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructPatternFieldIdentPat &)\n+ASTLoweringBase::visit (AST::StructPatternFieldIdentPat &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructPatternFieldIdent &)\n+ASTLoweringBase::visit (AST::StructPatternFieldIdent &field)\n {}\n void\n-ASTLoweringBase::visit (AST::StructPattern &)\n+ASTLoweringBase::visit (AST::StructPattern &pattern)\n {}\n-//  void ASTLoweringBase::visit(TupleStructItemstuple_items) {}\n+//  void ASTLoweringBase::visit(TupleStructItems& tuple_items) {}\n void\n-ASTLoweringBase::visit (AST::TupleStructItemsNoRange &)\n+ASTLoweringBase::visit (AST::TupleStructItemsNoRange &tuple_items)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleStructItemsRange &)\n+ASTLoweringBase::visit (AST::TupleStructItemsRange &tuple_items)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleStructPattern &)\n+ASTLoweringBase::visit (AST::TupleStructPattern &pattern)\n {}\n-//  void ASTLoweringBase::visit(TuplePatternItemstuple_items) {}\n+//  void ASTLoweringBase::visit(TuplePatternItems& tuple_items) {}\n void\n-ASTLoweringBase::visit (AST::TuplePatternItemsMultiple &)\n+ASTLoweringBase::visit (AST::TuplePatternItemsMultiple &tuple_items)\n {}\n void\n-ASTLoweringBase::visit (AST::TuplePatternItemsRanged &)\n+ASTLoweringBase::visit (AST::TuplePatternItemsRanged &tuple_items)\n {}\n void\n-ASTLoweringBase::visit (AST::TuplePattern &)\n+ASTLoweringBase::visit (AST::TuplePattern &pattern)\n {}\n void\n-ASTLoweringBase::visit (AST::GroupedPattern &)\n+ASTLoweringBase::visit (AST::GroupedPattern &pattern)\n {}\n void\n-ASTLoweringBase::visit (AST::SlicePattern &)\n+ASTLoweringBase::visit (AST::SlicePattern &pattern)\n {}\n \n // rust-stmt.h\n void\n-ASTLoweringBase::visit (AST::EmptyStmt &)\n+ASTLoweringBase::visit (AST::EmptyStmt &stmt)\n {}\n void\n-ASTLoweringBase::visit (AST::LetStmt &)\n+ASTLoweringBase::visit (AST::LetStmt &stmt)\n {}\n void\n-ASTLoweringBase::visit (AST::ExprStmtWithoutBlock &)\n+ASTLoweringBase::visit (AST::ExprStmtWithoutBlock &stmt)\n {}\n void\n-ASTLoweringBase::visit (AST::ExprStmtWithBlock &)\n+ASTLoweringBase::visit (AST::ExprStmtWithBlock &stmt)\n {}\n \n // rust-type.h\n void\n-ASTLoweringBase::visit (AST::TraitBound &)\n+ASTLoweringBase::visit (AST::TraitBound &bound)\n {}\n void\n-ASTLoweringBase::visit (AST::ImplTraitType &)\n+ASTLoweringBase::visit (AST::ImplTraitType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitObjectType &)\n+ASTLoweringBase::visit (AST::TraitObjectType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::ParenthesisedType &)\n+ASTLoweringBase::visit (AST::ParenthesisedType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::ImplTraitTypeOneBound &)\n+ASTLoweringBase::visit (AST::ImplTraitTypeOneBound &type)\n {}\n void\n-ASTLoweringBase::visit (AST::TraitObjectTypeOneBound &)\n+ASTLoweringBase::visit (AST::TraitObjectTypeOneBound &type)\n {}\n void\n-ASTLoweringBase::visit (AST::TupleType &)\n+ASTLoweringBase::visit (AST::TupleType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::NeverType &)\n+ASTLoweringBase::visit (AST::NeverType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::RawPointerType &)\n+ASTLoweringBase::visit (AST::RawPointerType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::ReferenceType &)\n+ASTLoweringBase::visit (AST::ReferenceType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::ArrayType &)\n+ASTLoweringBase::visit (AST::ArrayType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::SliceType &)\n+ASTLoweringBase::visit (AST::SliceType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::InferredType &)\n+ASTLoweringBase::visit (AST::InferredType &type)\n {}\n void\n-ASTLoweringBase::visit (AST::BareFunctionType &)\n+ASTLoweringBase::visit (AST::BareFunctionType &type)\n {}\n \n HIR::Lifetime\n@@ -742,7 +742,7 @@ ASTLoweringBase::handle_outer_attributes (const ItemWrapper &item)\n }\n \n void\n-ASTLoweringBase::handle_doc_item_attribute (const ItemWrapper &,\n+ASTLoweringBase::handle_doc_item_attribute (const ItemWrapper &item,\n \t\t\t\t\t    const AST::Attribute &attr)\n {\n   auto simple_doc_comment = attr.has_attr_input ()"}, {"sha": "11d4cd10527e042acd5a2ea0178883e89b78c006", "filename": "gcc/rust/hir/rust-hir-dump.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Frust-hir-dump.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Frust-hir-dump.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Frust-hir-dump.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -200,7 +200,7 @@ void\n Dump::visit (ClosureExpr &)\n {}\n void\n-Dump::visit (BlockExpr &)\n+Dump::visit (BlockExpr &block_expr)\n {\n   stream << \"BlockExpr\"\n \t << \":\"\n@@ -324,7 +324,7 @@ void\n Dump::visit (UseDeclaration &)\n {}\n void\n-Dump::visit (Function &)\n+Dump::visit (Function &function)\n {\n   indent++;\n   stream << std::string (indent, indent_char);"}, {"sha": "7e5b49db1dcbb08345e7c951a2d1f59403f449e9", "filename": "gcc/rust/hir/tree/rust-hir-full-test.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fhir%2Ftree%2Frust-hir-full-test.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -5256,7 +5256,7 @@ ConstGenericParam::as_string () const\n }\n \n void\n-ConstGenericParam::accept_vis (HIRFullVisitor &)\n+ConstGenericParam::accept_vis (HIRFullVisitor &vis)\n {}\n \n } // namespace HIR"}, {"sha": "8028c1b7a2d1f474b815e7040d13610a0f4eba22", "filename": "gcc/rust/lex/rust-lex.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Flex%2Frust-lex.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Flex%2Frust-lex.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Flex%2Frust-lex.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -1364,7 +1364,7 @@ Lexer::parse_escape (char opening_char)\n /* Parses an escape (or string continue) in a string or character. Supports\n  * unicode escapes. */\n std::tuple<Codepoint, int, bool>\n-Lexer::parse_utf8_escape ()\n+Lexer::parse_utf8_escape (char opening_char)\n {\n   Codepoint output_char;\n   int additional_length_offset = 0;\n@@ -1964,7 +1964,7 @@ Lexer::parse_string (Location loc)\n       if (current_char32.value == '\\\\')\n \t{\n \t  // parse escape\n-\t  auto utf8_escape_pair = parse_utf8_escape ();\n+\t  auto utf8_escape_pair = parse_utf8_escape ('\\'');\n \t  current_char32 = std::get<0> (utf8_escape_pair);\n \n \t  if (current_char32 == Codepoint (0) && std::get<2> (utf8_escape_pair))\n@@ -2365,7 +2365,7 @@ Lexer::parse_char_or_lifetime (Location loc)\n   if (current_char32.value == '\\\\')\n     {\n       // parse escape\n-      auto utf8_escape_pair = parse_utf8_escape ();\n+      auto utf8_escape_pair = parse_utf8_escape ('\\'');\n       current_char32 = std::get<0> (utf8_escape_pair);\n       length += std::get<1> (utf8_escape_pair);\n "}, {"sha": "2e8a1c541a12bc7d170913f6e33dfbb957b63c0d", "filename": "gcc/rust/lex/rust-lex.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Flex%2Frust-lex.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Flex%2Frust-lex.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Flex%2Frust-lex.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -109,7 +109,7 @@ class Lexer\n   std::pair<std::string, int> parse_in_exponent_part ();\n   std::pair<PrimitiveCoreType, int> parse_in_type_suffix ();\n   std::tuple<char, int, bool> parse_escape (char opening_char);\n-  std::tuple<Codepoint, int, bool> parse_utf8_escape ();\n+  std::tuple<Codepoint, int, bool> parse_utf8_escape (char opening_char);\n   int parse_partial_string_continue ();\n   std::pair<long, int> parse_partial_hex_escape ();\n   std::pair<Codepoint, int> parse_partial_unicode_escape ();"}, {"sha": "4856bc26149a12584dfdf57203344ff77782a6e9", "filename": "gcc/rust/metadata/rust-export-metadata.cc", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fmetadata%2Frust-export-metadata.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fmetadata%2Frust-export-metadata.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fmetadata%2Frust-export-metadata.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -157,18 +157,18 @@ class ExportVisItems : public HIR::HIRVisItemVisitor\n public:\n   ExportVisItems (ExportContext &context) : ctx (context) {}\n \n-  void visit (HIR::Module &) override {}\n-  void visit (HIR::ExternCrate &) override {}\n-  void visit (HIR::UseDeclaration &) override {}\n-  void visit (HIR::TypeAlias &) override {}\n-  void visit (HIR::StructStruct &) override {}\n-  void visit (HIR::TupleStruct &) override {}\n-  void visit (HIR::Enum &) override {}\n-  void visit (HIR::Union &) override {}\n-  void visit (HIR::ConstantItem &) override {}\n-  void visit (HIR::StaticItem &) override {}\n-  void visit (HIR::ImplBlock &) override {}\n-  void visit (HIR::ExternBlock &) override {}\n+  void visit (HIR::Module &module) override {}\n+  void visit (HIR::ExternCrate &crate) override {}\n+  void visit (HIR::UseDeclaration &use_decl) override {}\n+  void visit (HIR::TypeAlias &type_alias) override {}\n+  void visit (HIR::StructStruct &struct_item) override {}\n+  void visit (HIR::TupleStruct &tuple_struct) override {}\n+  void visit (HIR::Enum &enum_item) override {}\n+  void visit (HIR::Union &union_item) override {}\n+  void visit (HIR::ConstantItem &const_item) override {}\n+  void visit (HIR::StaticItem &static_item) override {}\n+  void visit (HIR::ImplBlock &impl) override {}\n+  void visit (HIR::ExternBlock &block) override {}\n \n   void visit (HIR::Trait &trait) override { ctx.emit_trait (trait); }\n "}, {"sha": "60b3ebacc2c4fbbb6141af05dd142accb2686a31", "filename": "gcc/rust/resolve/rust-ast-resolve-expr.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-ast-resolve-expr.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -102,7 +102,7 @@ ResolveExpr::visit (AST::AssignmentExpr &expr)\n   ResolveExpr::go (expr.get_right_expr ().get (), prefix, canonical_prefix);\n \n   // need to verify the assignee\n-  VerifyAsignee::go (expr.get_left_expr ().get ());\n+  VerifyAsignee::go (expr.get_left_expr ().get (), expr.get_node_id ());\n }\n \n void\n@@ -141,7 +141,7 @@ ResolveExpr::visit (AST::CompoundAssignmentExpr &expr)\n   ResolveExpr::go (expr.get_right_expr ().get (), prefix, canonical_prefix);\n \n   // need to verify the assignee\n-  VerifyAsignee::go (expr.get_left_expr ().get ());\n+  VerifyAsignee::go (expr.get_left_expr ().get (), expr.get_node_id ());\n }\n \n void\n@@ -553,7 +553,7 @@ ResolveExpr::visit (AST::RangeToExpr &expr)\n }\n \n void\n-ResolveExpr::visit (AST::RangeFullExpr &)\n+ResolveExpr::visit (AST::RangeFullExpr &expr)\n {\n   // nothing to do\n }"}, {"sha": "e42bab68234a5cbfe2cebb5e81c9df80ab444613", "filename": "gcc/rust/resolve/rust-ast-resolve-type.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-resolve-type.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-resolve-type.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-ast-resolve-type.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -61,13 +61,13 @@ ResolveType::visit (AST::RawPointerType &type)\n }\n \n void\n-ResolveType::visit (AST::InferredType &)\n+ResolveType::visit (AST::InferredType &type)\n {\n   // FIXME\n }\n \n void\n-ResolveType::visit (AST::NeverType &)\n+ResolveType::visit (AST::NeverType &type)\n {\n   // FIXME\n }\n@@ -505,7 +505,7 @@ ResolveTypeToCanonicalPath::visit (AST::TraitObjectTypeOneBound &type)\n }\n \n void\n-ResolveTypeToCanonicalPath::visit (AST::TraitObjectType &)\n+ResolveTypeToCanonicalPath::visit (AST::TraitObjectType &type)\n {\n   // FIXME is this actually allowed? dyn A+B\n   gcc_unreachable ();"}, {"sha": "74551cb014dcedeba4d3d82da6a9c71f82f322f9", "filename": "gcc/rust/resolve/rust-ast-verify-assignee.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-verify-assignee.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-ast-verify-assignee.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-ast-verify-assignee.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -30,9 +30,9 @@ class VerifyAsignee : public ResolverBase\n   using Rust::Resolver::ResolverBase::visit;\n \n public:\n-  static bool go (AST::Expr *assignee)\n+  static bool go (AST::Expr *assignee, NodeId parent)\n   {\n-    VerifyAsignee checker;\n+    VerifyAsignee checker (parent);\n     assignee->accept_vis (checker);\n     if (!checker.ok)\n       rust_error_at (assignee->get_locus (),\n@@ -70,10 +70,10 @@ class VerifyAsignee : public ResolverBase\n     expr.get_dereferenced_expr ()->accept_vis (*this);\n   }\n \n-  void visit (AST::PathInExpression &) override { ok = true; }\n+  void visit (AST::PathInExpression &expr) override { ok = true; }\n \n private:\n-  VerifyAsignee () : ResolverBase (), ok (false) {}\n+  VerifyAsignee (NodeId parent) : ResolverBase (), ok (false) {}\n \n   bool ok;\n };"}, {"sha": "6b1f1e9c52f8a824f833f5706525a637f5cf1a62", "filename": "gcc/rust/resolve/rust-early-name-resolver.cc", "status": "modified", "additions": 60, "deletions": 60, "changes": 120, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-early-name-resolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Fresolve%2Frust-early-name-resolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fresolve%2Frust-early-name-resolver.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -60,31 +60,31 @@ EarlyNameResolver::resolve_qualified_path_type (AST::QualifiedPathType &path)\n }\n \n void\n-EarlyNameResolver::visit (AST::Token &)\n+EarlyNameResolver::visit (AST::Token &tok)\n {}\n \n void\n-EarlyNameResolver::visit (AST::DelimTokenTree &)\n+EarlyNameResolver::visit (AST::DelimTokenTree &delim_tok_tree)\n {}\n \n void\n-EarlyNameResolver::visit (AST::AttrInputMetaItemContainer &)\n+EarlyNameResolver::visit (AST::AttrInputMetaItemContainer &input)\n {}\n \n void\n-EarlyNameResolver::visit (AST::IdentifierExpr &)\n+EarlyNameResolver::visit (AST::IdentifierExpr &ident_expr)\n {}\n \n void\n-EarlyNameResolver::visit (AST::Lifetime &)\n+EarlyNameResolver::visit (AST::Lifetime &lifetime)\n {}\n \n void\n-EarlyNameResolver::visit (AST::LifetimeParam &)\n+EarlyNameResolver::visit (AST::LifetimeParam &lifetime_param)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ConstGenericParam &)\n+EarlyNameResolver::visit (AST::ConstGenericParam &const_param)\n {}\n \n // FIXME: ARTHUR: Do we need to perform macro resolution for paths as well?\n@@ -98,7 +98,7 @@ EarlyNameResolver::visit (AST::PathInExpression &path)\n }\n \n void\n-EarlyNameResolver::visit (AST::TypePathSegment &)\n+EarlyNameResolver::visit (AST::TypePathSegment &segment)\n {}\n \n void\n@@ -144,19 +144,19 @@ EarlyNameResolver::visit (AST::QualifiedPathInType &path)\n }\n \n void\n-EarlyNameResolver::visit (AST::LiteralExpr &)\n+EarlyNameResolver::visit (AST::LiteralExpr &expr)\n {}\n \n void\n-EarlyNameResolver::visit (AST::AttrInputLiteral &)\n+EarlyNameResolver::visit (AST::AttrInputLiteral &attr_input)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaItemLitExpr &)\n+EarlyNameResolver::visit (AST::MetaItemLitExpr &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaItemPathLit &)\n+EarlyNameResolver::visit (AST::MetaItemPathLit &meta_item)\n {}\n \n void\n@@ -271,11 +271,11 @@ EarlyNameResolver::visit (AST::TupleIndexExpr &expr)\n }\n \n void\n-EarlyNameResolver::visit (AST::StructExprStruct &)\n+EarlyNameResolver::visit (AST::StructExprStruct &expr)\n {}\n \n void\n-EarlyNameResolver::visit (AST::StructExprFieldIdentifier &)\n+EarlyNameResolver::visit (AST::StructExprFieldIdentifier &field)\n {}\n \n void\n@@ -298,7 +298,7 @@ EarlyNameResolver::visit (AST::StructExprStructFields &expr)\n }\n \n void\n-EarlyNameResolver::visit (AST::StructExprStructBase &)\n+EarlyNameResolver::visit (AST::StructExprStructBase &expr)\n {}\n \n void\n@@ -352,7 +352,7 @@ EarlyNameResolver::visit (AST::ClosureExprInnerTyped &expr)\n }\n \n void\n-EarlyNameResolver::visit (AST::ContinueExpr &)\n+EarlyNameResolver::visit (AST::ContinueExpr &expr)\n {}\n \n void\n@@ -382,7 +382,7 @@ EarlyNameResolver::visit (AST::RangeToExpr &expr)\n }\n \n void\n-EarlyNameResolver::visit (AST::RangeFullExpr &)\n+EarlyNameResolver::visit (AST::RangeFullExpr &expr)\n {}\n \n void\n@@ -539,7 +539,7 @@ EarlyNameResolver::visit (AST::TypeParam &param)\n }\n \n void\n-EarlyNameResolver::visit (AST::LifetimeWhereClauseItem &)\n+EarlyNameResolver::visit (AST::LifetimeWhereClauseItem &item)\n {}\n \n void\n@@ -576,23 +576,23 @@ EarlyNameResolver::visit (AST::Module &module)\n }\n \n void\n-EarlyNameResolver::visit (AST::ExternCrate &)\n+EarlyNameResolver::visit (AST::ExternCrate &crate)\n {}\n \n void\n-EarlyNameResolver::visit (AST::UseTreeGlob &)\n+EarlyNameResolver::visit (AST::UseTreeGlob &use_tree)\n {}\n \n void\n-EarlyNameResolver::visit (AST::UseTreeList &)\n+EarlyNameResolver::visit (AST::UseTreeList &use_tree)\n {}\n \n void\n-EarlyNameResolver::visit (AST::UseTreeRebind &)\n+EarlyNameResolver::visit (AST::UseTreeRebind &use_tree)\n {}\n \n void\n-EarlyNameResolver::visit (AST::UseDeclaration &)\n+EarlyNameResolver::visit (AST::UseDeclaration &use_decl)\n {}\n \n void\n@@ -632,27 +632,27 @@ EarlyNameResolver::visit (AST::TupleStruct &tuple_struct)\n }\n \n void\n-EarlyNameResolver::visit (AST::EnumItem &)\n+EarlyNameResolver::visit (AST::EnumItem &item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::EnumItemTuple &)\n+EarlyNameResolver::visit (AST::EnumItemTuple &item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::EnumItemStruct &)\n+EarlyNameResolver::visit (AST::EnumItemStruct &item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::EnumItemDiscriminant &)\n+EarlyNameResolver::visit (AST::EnumItemDiscriminant &item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::Enum &)\n+EarlyNameResolver::visit (AST::Enum &enum_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::Union &)\n+EarlyNameResolver::visit (AST::Union &union_item)\n {}\n \n void\n@@ -716,7 +716,7 @@ EarlyNameResolver::visit (AST::TraitItemConst &item)\n }\n \n void\n-EarlyNameResolver::visit (AST::TraitItemType &)\n+EarlyNameResolver::visit (AST::TraitItemType &item)\n {}\n \n void\n@@ -777,15 +777,15 @@ EarlyNameResolver::visit (AST::ExternBlock &block)\n }\n \n void\n-EarlyNameResolver::visit (AST::MacroMatchFragment &)\n+EarlyNameResolver::visit (AST::MacroMatchFragment &match)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MacroMatchRepetition &)\n+EarlyNameResolver::visit (AST::MacroMatchRepetition &match)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MacroMatcher &)\n+EarlyNameResolver::visit (AST::MacroMatcher &matcher)\n {}\n \n void\n@@ -853,31 +853,31 @@ EarlyNameResolver::visit (AST::MacroInvocation &invoc)\n // FIXME: ARTHUR: Do we need to resolve these as well here?\n \n void\n-EarlyNameResolver::visit (AST::MetaItemPath &)\n+EarlyNameResolver::visit (AST::MetaItemPath &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaItemSeq &)\n+EarlyNameResolver::visit (AST::MetaItemSeq &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaWord &)\n+EarlyNameResolver::visit (AST::MetaWord &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaNameValueStr &)\n+EarlyNameResolver::visit (AST::MetaNameValueStr &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaListPaths &)\n+EarlyNameResolver::visit (AST::MetaListPaths &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::MetaListNameValueStr &)\n+EarlyNameResolver::visit (AST::MetaListNameValueStr &meta_item)\n {}\n \n void\n-EarlyNameResolver::visit (AST::LiteralPattern &)\n+EarlyNameResolver::visit (AST::LiteralPattern &pattern)\n {}\n \n void\n@@ -888,19 +888,19 @@ EarlyNameResolver::visit (AST::IdentifierPattern &pattern)\n }\n \n void\n-EarlyNameResolver::visit (AST::WildcardPattern &)\n+EarlyNameResolver::visit (AST::WildcardPattern &pattern)\n {}\n \n void\n-EarlyNameResolver::visit (AST::RangePatternBoundLiteral &)\n+EarlyNameResolver::visit (AST::RangePatternBoundLiteral &bound)\n {}\n \n void\n-EarlyNameResolver::visit (AST::RangePatternBoundPath &)\n+EarlyNameResolver::visit (AST::RangePatternBoundPath &bound)\n {}\n \n void\n-EarlyNameResolver::visit (AST::RangePatternBoundQualPath &)\n+EarlyNameResolver::visit (AST::RangePatternBoundQualPath &bound)\n {}\n \n void\n@@ -929,11 +929,11 @@ EarlyNameResolver::visit (AST::StructPatternFieldIdentPat &field)\n }\n \n void\n-EarlyNameResolver::visit (AST::StructPatternFieldIdent &)\n+EarlyNameResolver::visit (AST::StructPatternFieldIdent &field)\n {}\n \n void\n-EarlyNameResolver::visit (AST::StructPattern &)\n+EarlyNameResolver::visit (AST::StructPattern &pattern)\n {}\n \n void\n@@ -994,7 +994,7 @@ EarlyNameResolver::visit (AST::SlicePattern &pattern)\n }\n \n void\n-EarlyNameResolver::visit (AST::EmptyStmt &)\n+EarlyNameResolver::visit (AST::EmptyStmt &stmt)\n {}\n \n void\n@@ -1022,55 +1022,55 @@ EarlyNameResolver::visit (AST::ExprStmtWithBlock &stmt)\n }\n \n void\n-EarlyNameResolver::visit (AST::TraitBound &)\n+EarlyNameResolver::visit (AST::TraitBound &bound)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ImplTraitType &)\n+EarlyNameResolver::visit (AST::ImplTraitType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::TraitObjectType &)\n+EarlyNameResolver::visit (AST::TraitObjectType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ParenthesisedType &)\n+EarlyNameResolver::visit (AST::ParenthesisedType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ImplTraitTypeOneBound &)\n+EarlyNameResolver::visit (AST::ImplTraitTypeOneBound &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::TraitObjectTypeOneBound &)\n+EarlyNameResolver::visit (AST::TraitObjectTypeOneBound &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::TupleType &)\n+EarlyNameResolver::visit (AST::TupleType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::NeverType &)\n+EarlyNameResolver::visit (AST::NeverType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::RawPointerType &)\n+EarlyNameResolver::visit (AST::RawPointerType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ReferenceType &)\n+EarlyNameResolver::visit (AST::ReferenceType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::ArrayType &)\n+EarlyNameResolver::visit (AST::ArrayType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::SliceType &)\n+EarlyNameResolver::visit (AST::SliceType &type)\n {}\n \n void\n-EarlyNameResolver::visit (AST::InferredType &)\n+EarlyNameResolver::visit (AST::InferredType &type)\n {}\n \n void"}, {"sha": "e5dc6dacc76fa22a8b3a0b5527577eca7fc10882", "filename": "gcc/rust/rust-gcc.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Frust-gcc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Frust-gcc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Frust-gcc.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -1456,20 +1456,20 @@ fetch_overflow_builtins (ArithmeticOrLogicalOperator op)\n   switch (op)\n     {\n     case ArithmeticOrLogicalOperator::ADD:\n-      builtin_ctx.lookup_simple_builtin (\"__builtin_add_overflow\", &builtin);\n+      builtin_ctx.lookup_simple_builtin (\"add_overflow\", &builtin);\n       break;\n     case ArithmeticOrLogicalOperator::SUBTRACT:\n-      builtin_ctx.lookup_simple_builtin (\"__builtin_sub_overflow\", &builtin);\n+      builtin_ctx.lookup_simple_builtin (\"sub_overflow\", &builtin);\n       break;\n     case ArithmeticOrLogicalOperator::MULTIPLY:\n-      builtin_ctx.lookup_simple_builtin (\"__builtin_mul_overflow\", &builtin);\n+      builtin_ctx.lookup_simple_builtin (\"mul_overflow\", &builtin);\n       break;\n     default:\n       gcc_unreachable ();\n       break;\n     };\n \n-  builtin_ctx.lookup_simple_builtin (\"__builtin_abort\", &abort);\n+  builtin_ctx.lookup_simple_builtin (\"abort\", &abort);\n \n   rust_assert (abort);\n   rust_assert (builtin);"}, {"sha": "46547aa20e069c21235e0270c45ef2c8eaa80554", "filename": "gcc/rust/typecheck/rust-hir-dot-operator.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-dot-operator.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-dot-operator.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-dot-operator.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -58,7 +58,7 @@ MethodResolver::select (const TyTy::BaseType &receiver)\n   // assemble inherent impl items\n   std::vector<impl_item_candidate> inherent_impl_fns;\n   mappings->iterate_impl_items (\n-    [&] (HirId, HIR::ImplItem *item, HIR::ImplBlock *impl) mutable -> bool {\n+    [&] (HirId id, HIR::ImplItem *item, HIR::ImplBlock *impl) mutable -> bool {\n       bool is_trait_impl = impl->has_trait_ref ();\n       if (is_trait_impl)\n \treturn true;\n@@ -102,7 +102,7 @@ MethodResolver::select (const TyTy::BaseType &receiver)\n   };\n \n   std::vector<trait_item_candidate> trait_fns;\n-  mappings->iterate_impl_blocks ([&] (HirId,\n+  mappings->iterate_impl_blocks ([&] (HirId id,\n \t\t\t\t      HIR::ImplBlock *impl) mutable -> bool {\n     bool is_trait_impl = impl->has_trait_ref ();\n     if (!is_trait_impl)"}, {"sha": "823431eab4dca1d503cb37a074adbdfc404230c6", "filename": "gcc/rust/typecheck/rust-hir-inherent-impl-overlap.h", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-inherent-impl-overlap.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-inherent-impl-overlap.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-inherent-impl-overlap.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -71,19 +71,20 @@ class OverlappingImplItemPass : public TypeCheckBase\n \n     // generate mappings\n     pass.mappings->iterate_impl_items (\n-      [&] (HirId, HIR::ImplItem *impl_item, HIR::ImplBlock *impl) -> bool {\n+      [&] (HirId id, HIR::ImplItem *impl_item, HIR::ImplBlock *impl) -> bool {\n \t// ignoring trait-impls might need thought later on\n \tif (impl->has_trait_ref ())\n \t  return true;\n \n-\tpass.process_impl_item (impl_item, impl);\n+\tpass.process_impl_item (id, impl_item, impl);\n \treturn true;\n       });\n \n     pass.scan ();\n   }\n \n-  void process_impl_item (HIR::ImplItem *impl_item, HIR::ImplBlock *impl)\n+  void process_impl_item (HirId id, HIR::ImplItem *impl_item,\n+\t\t\t  HIR::ImplBlock *impl)\n   {\n     // lets make a mapping of impl-item Self type to (impl-item,name):\n     // {"}, {"sha": "cb3270d3623d03fc390e3385a97c23dc13683a6b", "filename": "gcc/rust/typecheck/rust-hir-path-probe.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-path-probe.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -23,7 +23,7 @@ namespace Rust {\n namespace Resolver {\n \n void\n-PathProbeType::process_impl_item_candidate (HirId, HIR::ImplItem *item,\n+PathProbeType::process_impl_item_candidate (HirId id, HIR::ImplItem *item,\n \t\t\t\t\t    HIR::ImplBlock *impl)\n {\n   current_impl = impl;"}, {"sha": "d0814f60eafdf55b8bfe29df3efea7f08b47564d", "filename": "gcc/rust/typecheck/rust-hir-trait-ref.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-ref.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-ref.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-ref.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -112,7 +112,8 @@ class TraitItemReference\n \tbreak;\n \n       case TYPE:\n-\treturn get_type_from_typealias ();\n+\treturn get_type_from_typealias (\n+\t  static_cast</*const*/ HIR::TraitItemType &> (*hir_trait_item));\n \n       case FN:\n \treturn get_type_from_fn (\n@@ -148,7 +149,8 @@ class TraitItemReference\n     return new TyTy::ErrorType (get_mappings ().get_hirid ());\n   }\n \n-  TyTy::BaseType *get_type_from_typealias () const;\n+  TyTy::BaseType *get_type_from_typealias (/*const*/\n+\t\t\t\t\t   HIR::TraitItemType &type) const;\n \n   TyTy::BaseType *\n   get_type_from_constant (/*const*/ HIR::TraitItemConst &constant) const;"}, {"sha": "6bd3cc1a9e948f59767f95135bf4a23608c6124a", "filename": "gcc/rust/typecheck/rust-hir-trait-resolve.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-resolve.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-resolve.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-trait-resolve.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -302,7 +302,7 @@ TraitItemReference::resolve_item (HIR::TraitItemType &type)\n }\n \n void\n-TraitItemReference::resolve_item (HIR::TraitItemConst &)\n+TraitItemReference::resolve_item (HIR::TraitItemConst &constant)\n {\n   // TODO\n }"}, {"sha": "8911a1d99f7da77625e8cb3fe6f192e27b565d5a", "filename": "gcc/rust/typecheck/rust-hir-type-check-expr.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -1152,7 +1152,7 @@ TypeCheckExpr::visit (HIR::MethodCallExpr &expr)\n       rust_debug_loc (expr.get_method_name ().get_generic_args ().get_locus (),\n \t\t      \"applying generic arguments to method_call: {%s}\",\n \t\t      lookup->debug_str ().c_str ());\n-      HIR::GenericArgs args = expr.get_method_name ().get_generic_args ();\n+      HIR::GenericArgs &args = expr.get_method_name ().get_generic_args ();\n       lookup\n \t= SubstMapper::Resolve (lookup, expr.get_method_name ().get_locus (),\n \t\t\t\t&args);"}, {"sha": "3ac8c4dfff81c7f1d3bc684c834ec7b7f846c325", "filename": "gcc/rust/typecheck/rust-hir-type-check-expr.h", "status": "modified", "additions": 19, "deletions": 13, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-expr.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -72,21 +72,27 @@ class TypeCheckExpr : private TypeCheckBase, private HIR::HIRExpressionVisitor\n   void visit (HIR::ClosureExpr &expr) override;\n \n   // TODO\n-  void visit (HIR::ErrorPropagationExpr &) override {}\n-  void visit (HIR::RangeToInclExpr &) override {}\n-  void visit (HIR::WhileLetLoopExpr &) override {}\n-  void visit (HIR::ForLoopExpr &) override {}\n-  void visit (HIR::IfExprConseqIfLet &) override {}\n-  void visit (HIR::IfLetExprConseqElse &) override {}\n-  void visit (HIR::IfLetExprConseqIf &) override {}\n-  void visit (HIR::IfLetExprConseqIfLet &) override {}\n-  void visit (HIR::AwaitExpr &) override {}\n-  void visit (HIR::AsyncBlockExpr &) override {}\n+  void visit (HIR::ErrorPropagationExpr &expr) override {}\n+  void visit (HIR::RangeToInclExpr &expr) override {}\n+  void visit (HIR::WhileLetLoopExpr &expr) override {}\n+  void visit (HIR::ForLoopExpr &expr) override {}\n+  void visit (HIR::IfExprConseqIfLet &expr) override {}\n+  void visit (HIR::IfLetExprConseqElse &expr) override {}\n+  void visit (HIR::IfLetExprConseqIf &expr) override {}\n+  void visit (HIR::IfLetExprConseqIfLet &expr) override {}\n+  void visit (HIR::AwaitExpr &expr) override {}\n+  void visit (HIR::AsyncBlockExpr &expr) override {}\n \n   // don't need to implement these see rust-hir-type-check-struct-field.h\n-  void visit (HIR::StructExprFieldIdentifier &) override { gcc_unreachable (); }\n-  void visit (HIR::StructExprFieldIndexValue &) override { gcc_unreachable (); }\n-  void visit (HIR::StructExprFieldIdentifierValue &) override\n+  void visit (HIR::StructExprFieldIdentifier &field) override\n+  {\n+    gcc_unreachable ();\n+  }\n+  void visit (HIR::StructExprFieldIdentifierValue &field) override\n+  {\n+    gcc_unreachable ();\n+  }\n+  void visit (HIR::StructExprFieldIndexValue &field) override\n   {\n     gcc_unreachable ();\n   }"}, {"sha": "3b88157f5ae4d483246fe7e81b66f1b0a7435e31", "filename": "gcc/rust/typecheck/rust-hir-type-check-item.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-item.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-item.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-item.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -48,8 +48,8 @@ class TypeCheckItem : private TypeCheckBase, private HIR::HIRVisItemVisitor\n   void visit (HIR::Trait &trait_block) override;\n \n   // nothing to do\n-  void visit (HIR::ExternCrate &) override {}\n-  void visit (HIR::UseDeclaration &) override {}\n+  void visit (HIR::ExternCrate &crate) override {}\n+  void visit (HIR::UseDeclaration &use_decl) override {}\n \n protected:\n   std::vector<TyTy::SubstitutionParamMapping>"}, {"sha": "4e765ad1380ae48af1e9b3c5a7c9701944e5c60d", "filename": "gcc/rust/typecheck/rust-hir-type-check-path.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-path.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-path.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-path.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -337,7 +337,7 @@ TypeCheckExpr::resolve_segments (NodeId root_resolved_node_id,\n \t  return;\n \t}\n \n-      auto candidate = *candidates.begin ();\n+      auto &candidate = *candidates.begin ();\n       prev_segment = tyseg;\n       tyseg = candidate.ty;\n "}, {"sha": "a6423bef7b8dd3294156985cc5d38749733ffb8b", "filename": "gcc/rust/typecheck/rust-hir-type-check-pattern.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-pattern.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -381,34 +381,34 @@ TypeCheckPattern::visit (HIR::RangePattern &pattern)\n }\n \n void\n-TypeCheckPattern::visit (HIR::IdentifierPattern &)\n+TypeCheckPattern::visit (HIR::IdentifierPattern &pattern)\n {\n   infered = parent;\n }\n \n void\n-TypeCheckPattern::visit (HIR::GroupedPattern &)\n+TypeCheckPattern::visit (HIR::GroupedPattern &pattern)\n {\n   // TODO\n   gcc_unreachable ();\n }\n \n void\n-TypeCheckPattern::visit (HIR::QualifiedPathInExpression &)\n+TypeCheckPattern::visit (HIR::QualifiedPathInExpression &pattern)\n {\n   // TODO\n   gcc_unreachable ();\n }\n \n void\n-TypeCheckPattern::visit (HIR::ReferencePattern &)\n+TypeCheckPattern::visit (HIR::ReferencePattern &pattern)\n {\n   // TODO\n   gcc_unreachable ();\n }\n \n void\n-TypeCheckPattern::visit (HIR::SlicePattern &)\n+TypeCheckPattern::visit (HIR::SlicePattern &pattern)\n {\n   // TODO\n   gcc_unreachable ();"}, {"sha": "5d894a7e703278c0d481b16a55f5b8b42a18bdba", "filename": "gcc/rust/typecheck/rust-hir-type-check-stmt.h", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-stmt.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-stmt.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-stmt.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -50,11 +50,14 @@ class TypeCheckStmt : private TypeCheckBase, private HIR::HIRStmtVisitor\n \n   // FIXME\n   // this seems like it should not be part of this visitor\n-  void visit (HIR::TypePathSegmentFunction &) override { gcc_unreachable (); }\n+  void visit (HIR::TypePathSegmentFunction &segment) override\n+  {\n+    gcc_unreachable ();\n+  }\n \n   // nothing to do for these\n-  void visit (HIR::ExternCrate &) override {}\n-  void visit (HIR::UseDeclaration &) override {}\n+  void visit (HIR::ExternCrate &crate) override {}\n+  void visit (HIR::UseDeclaration &use_decl) override {}\n \n   // nothing to do for these as they are taken care of by the\n   // hir-type-check-enumitem.h"}, {"sha": "67e6cb0e7395ba22762c7cffeb78b2434020bbe2", "filename": "gcc/rust/typecheck/rust-hir-type-check-type.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -462,7 +462,7 @@ TypeCheckType::resolve_segments (\n \t  return new TyTy::ErrorType (expr_id);\n \t}\n \n-      auto candidate = *candidates.begin ();\n+      auto &candidate = *candidates.begin ();\n       prev_segment = tyseg;\n       tyseg = candidate.ty;\n \n@@ -635,7 +635,7 @@ TypeCheckType::visit (HIR::InferredType &type)\n }\n \n void\n-TypeCheckType::visit (HIR::NeverType &)\n+TypeCheckType::visit (HIR::NeverType &type)\n {\n   TyTy::BaseType *lookup = nullptr;\n   bool ok = context->lookup_builtin (\"!\", &lookup);\n@@ -666,13 +666,13 @@ TypeResolveGenericParam::Resolve (HIR::GenericParam *param)\n }\n \n void\n-TypeResolveGenericParam::visit (HIR::LifetimeParam &)\n+TypeResolveGenericParam::visit (HIR::LifetimeParam &param)\n {\n   // nothing to do\n }\n \n void\n-TypeResolveGenericParam::visit (HIR::ConstGenericParam &)\n+TypeResolveGenericParam::visit (HIR::ConstGenericParam &param)\n {\n   // TODO\n }\n@@ -730,7 +730,7 @@ ResolveWhereClauseItem::Resolve (HIR::WhereClauseItem &item)\n }\n \n void\n-ResolveWhereClauseItem::visit (HIR::LifetimeWhereClauseItem &)\n+ResolveWhereClauseItem::visit (HIR::LifetimeWhereClauseItem &item)\n {}\n \n void"}, {"sha": "90d5ddbb411c892b2ce44e7961812e193eab830c", "filename": "gcc/rust/typecheck/rust-hir-type-check-type.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check-type.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -62,19 +62,19 @@ class TypeCheckType : public TypeCheckBase, public HIR::HIRTypeVisitor\n   void visit (HIR::NeverType &type) override;\n   void visit (HIR::TraitObjectType &type) override;\n \n-  void visit (HIR::TypePathSegmentFunction &) override\n+  void visit (HIR::TypePathSegmentFunction &segment) override\n   { /* TODO */\n   }\n-  void visit (HIR::TraitBound &) override\n+  void visit (HIR::TraitBound &bound) override\n   { /* TODO */\n   }\n-  void visit (HIR::ImplTraitType &) override\n+  void visit (HIR::ImplTraitType &type) override\n   { /* TODO */\n   }\n-  void visit (HIR::ParenthesisedType &) override\n+  void visit (HIR::ParenthesisedType &type) override\n   { /* TODO */\n   }\n-  void visit (HIR::ImplTraitTypeOneBound &) override\n+  void visit (HIR::ImplTraitTypeOneBound &type) override\n   { /* TODO */\n   }\n "}, {"sha": "a85ea5c8491765159f3415d4be3a5846d43a7db5", "filename": "gcc/rust/typecheck/rust-hir-type-check.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-hir-type-check.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -125,7 +125,8 @@ TraitItemReference::operator= (TraitItemReference const &other)\n }\n \n TyTy::BaseType *\n-TraitItemReference::get_type_from_typealias () const\n+TraitItemReference::get_type_from_typealias (/*const*/\n+\t\t\t\t\t     HIR::TraitItemType &type) const\n {\n   TyTy::TyVar var (get_mappings ().get_hirid ());\n   return var.get_tyty ();"}, {"sha": "53eccb79d93b9ba3b4093154c307f179bb283a42", "filename": "gcc/rust/typecheck/rust-tyty-bounds.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-bounds.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-bounds.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty-bounds.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -29,7 +29,7 @@ TypeBoundsProbe::scan ()\n   std::vector<std::pair<HIR::TypePath *, HIR::ImplBlock *>>\n     possible_trait_paths;\n   mappings->iterate_impl_blocks (\n-    [&] (HirId, HIR::ImplBlock *impl) mutable -> bool {\n+    [&] (HirId id, HIR::ImplBlock *impl) mutable -> bool {\n       // we are filtering for trait-impl-blocks\n       if (!impl->has_trait_ref ())\n \treturn true;"}, {"sha": "eef567ac419b5a22aa0ce7d79210f1b71590eeb4", "filename": "gcc/rust/typecheck/rust-tyty-call.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-call.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-call.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty-call.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -60,7 +60,7 @@ class TypeCheckCallExpr : private TyVisitor\n   void visit (PlaceholderType &) override { gcc_unreachable (); }\n   void visit (ProjectionType &) override { gcc_unreachable (); }\n   void visit (DynamicObjectType &) override { gcc_unreachable (); }\n-  void visit (ClosureType &) override { gcc_unreachable (); }\n+  void visit (ClosureType &type) override { gcc_unreachable (); }\n \n   // tuple-structs\n   void visit (ADTType &type) override;"}, {"sha": "23e52d941662b0e7e2c493ba774ff13eab6c7b66", "filename": "gcc/rust/typecheck/rust-tyty-cmp.h", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-cmp.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-cmp.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty-cmp.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -381,7 +381,7 @@ class BaseCmp : public TyConstVisitor\n       }\n   }\n \n-  virtual void visit (const PlaceholderType &) override\n+  virtual void visit (const PlaceholderType &type) override\n   {\n     // it is ok for types to can eq to a placeholder\n     ok = true;\n@@ -436,7 +436,7 @@ class BaseCmp : public TyConstVisitor\n   }\n \n protected:\n-  BaseCmp (const BaseType *, bool emit_errors)\n+  BaseCmp (const BaseType *base, bool emit_errors)\n     : mappings (Analysis::Mappings::get ()),\n       context (Resolver::TypeCheckContext::get ()), ok (false),\n       emit_error_flag (emit_errors)\n@@ -986,7 +986,7 @@ class BoolCmp : public BaseCmp\n     : BaseCmp (base, emit_errors), base (base)\n   {}\n \n-  void visit (const BoolType &) override { ok = true; }\n+  void visit (const BoolType &type) override { ok = true; }\n \n   void visit (const InferType &type) override\n   {\n@@ -1207,7 +1207,7 @@ class USizeCmp : public BaseCmp\n     ok = type.get_infer_kind () != InferType::InferTypeKind::FLOAT;\n   }\n \n-  void visit (const USizeType &) override { ok = true; }\n+  void visit (const USizeType &type) override { ok = true; }\n \n private:\n   const BaseType *get_base () const override { return base; }\n@@ -1228,7 +1228,7 @@ class ISizeCmp : public BaseCmp\n     ok = type.get_infer_kind () != InferType::InferTypeKind::FLOAT;\n   }\n \n-  void visit (const ISizeType &) override { ok = true; }\n+  void visit (const ISizeType &type) override { ok = true; }\n \n private:\n   const BaseType *get_base () const override { return base; }\n@@ -1249,7 +1249,7 @@ class CharCmp : public BaseCmp\n     ok = type.get_infer_kind () == InferType::InferTypeKind::GENERAL;\n   }\n \n-  void visit (const CharType &) override { ok = true; }\n+  void visit (const CharType &type) override { ok = true; }\n \n private:\n   const BaseType *get_base () const override { return base; }\n@@ -1447,7 +1447,7 @@ class StrCmp : public BaseCmp\n     : BaseCmp (base, emit_errors), base (base)\n   {}\n \n-  void visit (const StrType &) override { ok = true; }\n+  void visit (const StrType &type) override { ok = true; }\n \n   void visit (const InferType &type) override\n   {\n@@ -1474,7 +1474,7 @@ class NeverCmp : public BaseCmp\n     : BaseCmp (base, emit_errors), base (base)\n   {}\n \n-  void visit (const NeverType &) override { ok = true; }\n+  void visit (const NeverType &type) override { ok = true; }\n \n   void visit (const InferType &type) override\n   {"}, {"sha": "fe654cad12920cde91c4e1628fb7f8c6fa8bbc31", "filename": "gcc/rust/typecheck/rust-tyty-rules.h", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-rules.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty-rules.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty-rules.h?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -123,53 +123,53 @@ class BaseRules : public TyVisitor\n     return resolved;\n   }\n \n-  virtual void visit (TupleType &) override {}\n+  virtual void visit (TupleType &type) override {}\n \n-  virtual void visit (ADTType &) override {}\n+  virtual void visit (ADTType &type) override {}\n \n-  virtual void visit (InferType &) override {}\n+  virtual void visit (InferType &type) override {}\n \n-  virtual void visit (FnType &) override {}\n+  virtual void visit (FnType &type) override {}\n \n-  virtual void visit (FnPtr &) override {}\n+  virtual void visit (FnPtr &type) override {}\n \n-  virtual void visit (ArrayType &) override {}\n+  virtual void visit (ArrayType &type) override {}\n \n-  virtual void visit (SliceType &) override {}\n+  virtual void visit (SliceType &type) override {}\n \n-  virtual void visit (BoolType &) override {}\n+  virtual void visit (BoolType &type) override {}\n \n-  virtual void visit (IntType &) override {}\n+  virtual void visit (IntType &type) override {}\n \n-  virtual void visit (UintType &) override {}\n+  virtual void visit (UintType &type) override {}\n \n-  virtual void visit (USizeType &) override {}\n+  virtual void visit (USizeType &type) override {}\n \n-  virtual void visit (ISizeType &) override {}\n+  virtual void visit (ISizeType &type) override {}\n \n-  virtual void visit (FloatType &) override {}\n+  virtual void visit (FloatType &type) override {}\n \n-  virtual void visit (ErrorType &) override {}\n+  virtual void visit (ErrorType &type) override {}\n \n-  virtual void visit (CharType &) override {}\n+  virtual void visit (CharType &type) override {}\n \n-  virtual void visit (ReferenceType &) override {}\n+  virtual void visit (ReferenceType &type) override {}\n \n-  virtual void visit (PointerType &) override {}\n+  virtual void visit (PointerType &type) override {}\n \n-  virtual void visit (ParamType &) override {}\n+  virtual void visit (ParamType &type) override {}\n \n-  virtual void visit (StrType &) override {}\n+  virtual void visit (StrType &type) override {}\n \n-  virtual void visit (NeverType &) override {}\n+  virtual void visit (NeverType &type) override {}\n \n-  virtual void visit (PlaceholderType &) override {}\n+  virtual void visit (PlaceholderType &type) override {}\n \n-  virtual void visit (ProjectionType &) override {}\n+  virtual void visit (ProjectionType &type) override {}\n \n-  virtual void visit (DynamicObjectType &) override {}\n+  virtual void visit (DynamicObjectType &type) override {}\n \n-  virtual void visit (ClosureType &) override {}\n+  virtual void visit (ClosureType &type) override {}\n \n protected:\n   BaseRules (BaseType *base)"}, {"sha": "e56bdd17b873cb6002f9f978ffed8c61d1b0b727", "filename": "gcc/rust/typecheck/rust-tyty.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Ftypecheck%2Frust-tyty.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -544,13 +544,13 @@ ErrorType::as_string () const\n }\n \n BaseType *\n-ErrorType::unify (BaseType *)\n+ErrorType::unify (BaseType *other)\n {\n   return this;\n }\n \n bool\n-ErrorType::can_eq (const BaseType *other, bool) const\n+ErrorType::can_eq (const BaseType *other, bool emit_errors) const\n {\n   return get_kind () == other->get_kind ();\n }\n@@ -1724,7 +1724,8 @@ ClosureType::monomorphized_clone () const\n   return clone ();\n }\n \n-ClosureType *ClosureType::handle_substitions (SubstitutionArgumentMappings)\n+ClosureType *\n+ClosureType::handle_substitions (SubstitutionArgumentMappings mappings)\n {\n   gcc_unreachable ();\n   return nullptr;"}, {"sha": "64ed042324cc3aef623ccb509a6c421e5e8145db", "filename": "gcc/rust/util/rust-attributes.cc", "status": "modified", "additions": 156, "deletions": 156, "changes": 312, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Futil%2Frust-attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Frust%2Futil%2Frust-attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Futil%2Frust-attributes.cc?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -210,342 +210,342 @@ AttributeChecker::check_attributes (const AST::AttrVec &attributes)\n }\n \n void\n-AttributeChecker::visit (AST::Token &)\n+AttributeChecker::visit (AST::Token &tok)\n {}\n \n void\n-AttributeChecker::visit (AST::DelimTokenTree &)\n+AttributeChecker::visit (AST::DelimTokenTree &delim_tok_tree)\n {}\n \n void\n-AttributeChecker::visit (AST::AttrInputMetaItemContainer &)\n+AttributeChecker::visit (AST::AttrInputMetaItemContainer &input)\n {}\n \n void\n-AttributeChecker::visit (AST::IdentifierExpr &)\n+AttributeChecker::visit (AST::IdentifierExpr &ident_expr)\n {}\n \n void\n-AttributeChecker::visit (AST::Lifetime &)\n+AttributeChecker::visit (AST::Lifetime &lifetime)\n {}\n \n void\n-AttributeChecker::visit (AST::LifetimeParam &)\n+AttributeChecker::visit (AST::LifetimeParam &lifetime_param)\n {}\n \n void\n-AttributeChecker::visit (AST::ConstGenericParam &)\n+AttributeChecker::visit (AST::ConstGenericParam &const_param)\n {}\n \n // rust-path.h\n void\n-AttributeChecker::visit (AST::PathInExpression &)\n+AttributeChecker::visit (AST::PathInExpression &path)\n {}\n \n void\n-AttributeChecker::visit (AST::TypePathSegment &)\n+AttributeChecker::visit (AST::TypePathSegment &segment)\n {}\n \n void\n-AttributeChecker::visit (AST::TypePathSegmentGeneric &)\n+AttributeChecker::visit (AST::TypePathSegmentGeneric &segment)\n {}\n \n void\n-AttributeChecker::visit (AST::TypePathSegmentFunction &)\n+AttributeChecker::visit (AST::TypePathSegmentFunction &segment)\n {}\n \n void\n-AttributeChecker::visit (AST::TypePath &)\n+AttributeChecker::visit (AST::TypePath &path)\n {}\n \n void\n-AttributeChecker::visit (AST::QualifiedPathInExpression &)\n+AttributeChecker::visit (AST::QualifiedPathInExpression &path)\n {}\n \n void\n-AttributeChecker::visit (AST::QualifiedPathInType &)\n+AttributeChecker::visit (AST::QualifiedPathInType &path)\n {}\n \n // rust-expr.h\n void\n-AttributeChecker::visit (AST::LiteralExpr &)\n+AttributeChecker::visit (AST::LiteralExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::AttrInputLiteral &)\n+AttributeChecker::visit (AST::AttrInputLiteral &attr_input)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaItemLitExpr &)\n+AttributeChecker::visit (AST::MetaItemLitExpr &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaItemPathLit &)\n+AttributeChecker::visit (AST::MetaItemPathLit &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::BorrowExpr &)\n+AttributeChecker::visit (AST::BorrowExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::DereferenceExpr &)\n+AttributeChecker::visit (AST::DereferenceExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ErrorPropagationExpr &)\n+AttributeChecker::visit (AST::ErrorPropagationExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::NegationExpr &)\n+AttributeChecker::visit (AST::NegationExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ArithmeticOrLogicalExpr &)\n+AttributeChecker::visit (AST::ArithmeticOrLogicalExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ComparisonExpr &)\n+AttributeChecker::visit (AST::ComparisonExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::LazyBooleanExpr &)\n+AttributeChecker::visit (AST::LazyBooleanExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::TypeCastExpr &)\n+AttributeChecker::visit (AST::TypeCastExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::AssignmentExpr &)\n+AttributeChecker::visit (AST::AssignmentExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::CompoundAssignmentExpr &)\n+AttributeChecker::visit (AST::CompoundAssignmentExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::GroupedExpr &)\n+AttributeChecker::visit (AST::GroupedExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ArrayElemsValues &)\n+AttributeChecker::visit (AST::ArrayElemsValues &elems)\n {}\n \n void\n-AttributeChecker::visit (AST::ArrayElemsCopied &)\n+AttributeChecker::visit (AST::ArrayElemsCopied &elems)\n {}\n \n void\n-AttributeChecker::visit (AST::ArrayExpr &)\n+AttributeChecker::visit (AST::ArrayExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ArrayIndexExpr &)\n+AttributeChecker::visit (AST::ArrayIndexExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::TupleExpr &)\n+AttributeChecker::visit (AST::TupleExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::TupleIndexExpr &)\n+AttributeChecker::visit (AST::TupleIndexExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprStruct &)\n+AttributeChecker::visit (AST::StructExprStruct &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprFieldIdentifier &)\n+AttributeChecker::visit (AST::StructExprFieldIdentifier &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprFieldIdentifierValue &)\n+AttributeChecker::visit (AST::StructExprFieldIdentifierValue &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprFieldIndexValue &)\n+AttributeChecker::visit (AST::StructExprFieldIndexValue &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprStructFields &)\n+AttributeChecker::visit (AST::StructExprStructFields &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::StructExprStructBase &)\n+AttributeChecker::visit (AST::StructExprStructBase &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::CallExpr &)\n+AttributeChecker::visit (AST::CallExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::MethodCallExpr &)\n+AttributeChecker::visit (AST::MethodCallExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::FieldAccessExpr &)\n+AttributeChecker::visit (AST::FieldAccessExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ClosureExprInner &)\n+AttributeChecker::visit (AST::ClosureExprInner &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::BlockExpr &)\n+AttributeChecker::visit (AST::BlockExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ClosureExprInnerTyped &)\n+AttributeChecker::visit (AST::ClosureExprInnerTyped &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ContinueExpr &)\n+AttributeChecker::visit (AST::ContinueExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::BreakExpr &)\n+AttributeChecker::visit (AST::BreakExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeFromToExpr &)\n+AttributeChecker::visit (AST::RangeFromToExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeFromExpr &)\n+AttributeChecker::visit (AST::RangeFromExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeToExpr &)\n+AttributeChecker::visit (AST::RangeToExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeFullExpr &)\n+AttributeChecker::visit (AST::RangeFullExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeFromToInclExpr &)\n+AttributeChecker::visit (AST::RangeFromToInclExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::RangeToInclExpr &)\n+AttributeChecker::visit (AST::RangeToInclExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ReturnExpr &)\n+AttributeChecker::visit (AST::ReturnExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::UnsafeBlockExpr &)\n+AttributeChecker::visit (AST::UnsafeBlockExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::LoopExpr &)\n+AttributeChecker::visit (AST::LoopExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::WhileLoopExpr &)\n+AttributeChecker::visit (AST::WhileLoopExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::WhileLetLoopExpr &)\n+AttributeChecker::visit (AST::WhileLetLoopExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::ForLoopExpr &)\n+AttributeChecker::visit (AST::ForLoopExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfExpr &)\n+AttributeChecker::visit (AST::IfExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfExprConseqElse &)\n+AttributeChecker::visit (AST::IfExprConseqElse &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfExprConseqIf &)\n+AttributeChecker::visit (AST::IfExprConseqIf &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfExprConseqIfLet &)\n+AttributeChecker::visit (AST::IfExprConseqIfLet &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfLetExpr &)\n+AttributeChecker::visit (AST::IfLetExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfLetExprConseqElse &)\n+AttributeChecker::visit (AST::IfLetExprConseqElse &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfLetExprConseqIf &)\n+AttributeChecker::visit (AST::IfLetExprConseqIf &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::IfLetExprConseqIfLet &)\n+AttributeChecker::visit (AST::IfLetExprConseqIfLet &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::MatchExpr &)\n+AttributeChecker::visit (AST::MatchExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::AwaitExpr &)\n+AttributeChecker::visit (AST::AwaitExpr &expr)\n {}\n \n void\n-AttributeChecker::visit (AST::AsyncBlockExpr &)\n+AttributeChecker::visit (AST::AsyncBlockExpr &expr)\n {}\n \n // rust-item.h\n void\n-AttributeChecker::visit (AST::TypeParam &)\n+AttributeChecker::visit (AST::TypeParam &param)\n {}\n \n void\n-AttributeChecker::visit (AST::LifetimeWhereClauseItem &)\n+AttributeChecker::visit (AST::LifetimeWhereClauseItem &item)\n {}\n \n void\n-AttributeChecker::visit (AST::TypeBoundWhereClauseItem &)\n+AttributeChecker::visit (AST::TypeBoundWhereClauseItem &item)\n {}\n \n void\n-AttributeChecker::visit (AST::Method &)\n+AttributeChecker::visit (AST::Method &method)\n {}\n \n void\n-AttributeChecker::visit (AST::Module &)\n+AttributeChecker::visit (AST::Module &module)\n {}\n \n void\n-AttributeChecker::visit (AST::ExternCrate &)\n+AttributeChecker::visit (AST::ExternCrate &crate)\n {}\n \n void\n-AttributeChecker::visit (AST::UseTreeGlob &)\n+AttributeChecker::visit (AST::UseTreeGlob &use_tree)\n {}\n \n void\n-AttributeChecker::visit (AST::UseTreeList &)\n+AttributeChecker::visit (AST::UseTreeList &use_tree)\n {}\n \n void\n-AttributeChecker::visit (AST::UseTreeRebind &)\n+AttributeChecker::visit (AST::UseTreeRebind &use_tree)\n {}\n \n void\n-AttributeChecker::visit (AST::UseDeclaration &)\n+AttributeChecker::visit (AST::UseDeclaration &use_decl)\n {}\n \n void\n-AttributeChecker::visit (AST::Function &)\n+AttributeChecker::visit (AST::Function &function)\n {}\n \n void\n-AttributeChecker::visit (AST::TypeAlias &)\n+AttributeChecker::visit (AST::TypeAlias &type_alias)\n {}\n \n void\n@@ -555,287 +555,287 @@ AttributeChecker::visit (AST::StructStruct &struct_item)\n }\n \n void\n-AttributeChecker::visit (AST::TupleStruct &)\n+AttributeChecker::visit (AST::TupleStruct &tuple_struct)\n {}\n \n void\n-AttributeChecker::visit (AST::EnumItem &)\n+AttributeChecker::visit (AST::EnumItem &item)\n {}\n \n void\n-AttributeChecker::visit (AST::EnumItemTuple &)\n+AttributeChecker::visit (AST::EnumItemTuple &item)\n {}\n \n void\n-AttributeChecker::visit (AST::EnumItemStruct &)\n+AttributeChecker::visit (AST::EnumItemStruct &item)\n {}\n \n void\n-AttributeChecker::visit (AST::EnumItemDiscriminant &)\n+AttributeChecker::visit (AST::EnumItemDiscriminant &item)\n {}\n \n void\n-AttributeChecker::visit (AST::Enum &)\n+AttributeChecker::visit (AST::Enum &enum_item)\n {}\n \n void\n-AttributeChecker::visit (AST::Union &)\n+AttributeChecker::visit (AST::Union &union_item)\n {}\n \n void\n-AttributeChecker::visit (AST::ConstantItem &)\n+AttributeChecker::visit (AST::ConstantItem &const_item)\n {}\n \n void\n-AttributeChecker::visit (AST::StaticItem &)\n+AttributeChecker::visit (AST::StaticItem &static_item)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitItemFunc &)\n+AttributeChecker::visit (AST::TraitItemFunc &item)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitItemMethod &)\n+AttributeChecker::visit (AST::TraitItemMethod &item)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitItemConst &)\n+AttributeChecker::visit (AST::TraitItemConst &item)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitItemType &)\n+AttributeChecker::visit (AST::TraitItemType &item)\n {}\n \n void\n-AttributeChecker::visit (AST::Trait &)\n+AttributeChecker::visit (AST::Trait &trait)\n {}\n \n void\n-AttributeChecker::visit (AST::InherentImpl &)\n+AttributeChecker::visit (AST::InherentImpl &impl)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitImpl &)\n+AttributeChecker::visit (AST::TraitImpl &impl)\n {}\n \n void\n-AttributeChecker::visit (AST::ExternalStaticItem &)\n+AttributeChecker::visit (AST::ExternalStaticItem &item)\n {}\n \n void\n-AttributeChecker::visit (AST::ExternalFunctionItem &)\n+AttributeChecker::visit (AST::ExternalFunctionItem &item)\n {}\n \n void\n-AttributeChecker::visit (AST::ExternBlock &)\n+AttributeChecker::visit (AST::ExternBlock &block)\n {}\n \n // rust-macro.h\n void\n-AttributeChecker::visit (AST::MacroMatchFragment &)\n+AttributeChecker::visit (AST::MacroMatchFragment &match)\n {}\n \n void\n-AttributeChecker::visit (AST::MacroMatchRepetition &)\n+AttributeChecker::visit (AST::MacroMatchRepetition &match)\n {}\n \n void\n-AttributeChecker::visit (AST::MacroMatcher &)\n+AttributeChecker::visit (AST::MacroMatcher &matcher)\n {}\n \n void\n-AttributeChecker::visit (AST::MacroRulesDefinition &)\n+AttributeChecker::visit (AST::MacroRulesDefinition &rules_def)\n {}\n \n void\n-AttributeChecker::visit (AST::MacroInvocation &)\n+AttributeChecker::visit (AST::MacroInvocation &macro_invoc)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaItemPath &)\n+AttributeChecker::visit (AST::MetaItemPath &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaItemSeq &)\n+AttributeChecker::visit (AST::MetaItemSeq &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaWord &)\n+AttributeChecker::visit (AST::MetaWord &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaNameValueStr &)\n+AttributeChecker::visit (AST::MetaNameValueStr &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaListPaths &)\n+AttributeChecker::visit (AST::MetaListPaths &meta_item)\n {}\n \n void\n-AttributeChecker::visit (AST::MetaListNameValueStr &)\n+AttributeChecker::visit (AST::MetaListNameValueStr &meta_item)\n {}\n \n // rust-pattern.h\n void\n-AttributeChecker::visit (AST::LiteralPattern &)\n+AttributeChecker::visit (AST::LiteralPattern &pattern)\n {}\n \n void\n-AttributeChecker::visit (AST::IdentifierPattern &)\n+AttributeChecker::visit (AST::IdentifierPattern &pattern)\n {}\n \n void\n-AttributeChecker::visit (AST::WildcardPattern &)\n+AttributeChecker::visit (AST::WildcardPattern &pattern)\n {}\n \n-// void AttributeChecker::visit(RangePatternBound& ){}\n+// void AttributeChecker::visit(RangePatternBound& bound){}\n \n void\n-AttributeChecker::visit (AST::RangePatternBoundLiteral &)\n+AttributeChecker::visit (AST::RangePatternBoundLiteral &bound)\n {}\n \n void\n-AttributeChecker::visit (AST::RangePatternBoundPath &)\n+AttributeChecker::visit (AST::RangePatternBoundPath &bound)\n {}\n \n void\n-AttributeChecker::visit (AST::RangePatternBoundQualPath &)\n+AttributeChecker::visit (AST::RangePatternBoundQualPath &bound)\n {}\n \n void\n-AttributeChecker::visit (AST::RangePattern &)\n+AttributeChecker::visit (AST::RangePattern &pattern)\n {}\n \n void\n-AttributeChecker::visit (AST::ReferencePattern &)\n+AttributeChecker::visit (AST::ReferencePattern &pattern)\n {}\n \n-// void AttributeChecker::visit(StructPatternField& ){}\n+// void AttributeChecker::visit(StructPatternField& field){}\n \n void\n-AttributeChecker::visit (AST::StructPatternFieldTuplePat &)\n+AttributeChecker::visit (AST::StructPatternFieldTuplePat &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructPatternFieldIdentPat &)\n+AttributeChecker::visit (AST::StructPatternFieldIdentPat &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructPatternFieldIdent &)\n+AttributeChecker::visit (AST::StructPatternFieldIdent &field)\n {}\n \n void\n-AttributeChecker::visit (AST::StructPattern &)\n+AttributeChecker::visit (AST::StructPattern &pattern)\n {}\n \n-// void AttributeChecker::visit(TupleStructItems& ){}\n+// void AttributeChecker::visit(TupleStructItems& tuple_items){}\n \n void\n-AttributeChecker::visit (AST::TupleStructItemsNoRange &)\n+AttributeChecker::visit (AST::TupleStructItemsNoRange &tuple_items)\n {}\n \n void\n-AttributeChecker::visit (AST::TupleStructItemsRange &)\n+AttributeChecker::visit (AST::TupleStructItemsRange &tuple_items)\n {}\n \n void\n-AttributeChecker::visit (AST::TupleStructPattern &)\n+AttributeChecker::visit (AST::TupleStructPattern &pattern)\n {}\n \n-// void AttributeChecker::visit(TuplePatternItems& ){}\n+// void AttributeChecker::visit(TuplePatternItems& tuple_items){}\n \n void\n-AttributeChecker::visit (AST::TuplePatternItemsMultiple &)\n+AttributeChecker::visit (AST::TuplePatternItemsMultiple &tuple_items)\n {}\n \n void\n-AttributeChecker::visit (AST::TuplePatternItemsRanged &)\n+AttributeChecker::visit (AST::TuplePatternItemsRanged &tuple_items)\n {}\n \n void\n-AttributeChecker::visit (AST::TuplePattern &)\n+AttributeChecker::visit (AST::TuplePattern &pattern)\n {}\n \n void\n-AttributeChecker::visit (AST::GroupedPattern &)\n+AttributeChecker::visit (AST::GroupedPattern &pattern)\n {}\n \n void\n-AttributeChecker::visit (AST::SlicePattern &)\n+AttributeChecker::visit (AST::SlicePattern &pattern)\n {}\n \n // rust-stmt.h\n void\n-AttributeChecker::visit (AST::EmptyStmt &)\n+AttributeChecker::visit (AST::EmptyStmt &stmt)\n {}\n \n void\n-AttributeChecker::visit (AST::LetStmt &)\n+AttributeChecker::visit (AST::LetStmt &stmt)\n {}\n \n void\n-AttributeChecker::visit (AST::ExprStmtWithoutBlock &)\n+AttributeChecker::visit (AST::ExprStmtWithoutBlock &stmt)\n {}\n \n void\n-AttributeChecker::visit (AST::ExprStmtWithBlock &)\n+AttributeChecker::visit (AST::ExprStmtWithBlock &stmt)\n {}\n \n // rust-type.h\n void\n-AttributeChecker::visit (AST::TraitBound &)\n+AttributeChecker::visit (AST::TraitBound &bound)\n {}\n \n void\n-AttributeChecker::visit (AST::ImplTraitType &)\n+AttributeChecker::visit (AST::ImplTraitType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitObjectType &)\n+AttributeChecker::visit (AST::TraitObjectType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::ParenthesisedType &)\n+AttributeChecker::visit (AST::ParenthesisedType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::ImplTraitTypeOneBound &)\n+AttributeChecker::visit (AST::ImplTraitTypeOneBound &type)\n {}\n \n void\n-AttributeChecker::visit (AST::TraitObjectTypeOneBound &)\n+AttributeChecker::visit (AST::TraitObjectTypeOneBound &type)\n {}\n \n void\n-AttributeChecker::visit (AST::TupleType &)\n+AttributeChecker::visit (AST::TupleType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::NeverType &)\n+AttributeChecker::visit (AST::NeverType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::RawPointerType &)\n+AttributeChecker::visit (AST::RawPointerType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::ReferenceType &)\n+AttributeChecker::visit (AST::ReferenceType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::ArrayType &)\n+AttributeChecker::visit (AST::ArrayType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::SliceType &)\n+AttributeChecker::visit (AST::SliceType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::InferredType &)\n+AttributeChecker::visit (AST::InferredType &type)\n {}\n \n void\n-AttributeChecker::visit (AST::BareFunctionType &)\n+AttributeChecker::visit (AST::BareFunctionType &type)\n {}\n \n } // namespace Analysis"}, {"sha": "243d4460089fd6276fb005c1a711c4d24186eedf", "filename": "gcc/testsuite/rust/compile/torture/intrinsics-4.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fcompile%2Ftorture%2Fintrinsics-4.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fcompile%2Ftorture%2Fintrinsics-4.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fcompile%2Ftorture%2Fintrinsics-4.rs?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -8,7 +8,7 @@ extern \"rust-intrinsic\" {\n }\n \n fn main() {\n-    let mut dst = 15u32;\n+    let mut dst = 15;\n     let new_value = 14;\n \n     unsafe {"}, {"sha": "28ed8ae78f12023f0f40e3a7c100cec74b73f19d", "filename": "gcc/testsuite/rust/execute/torture/atomic_load.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_load.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_load.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_load.rs?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -7,14 +7,14 @@ extern \"rust-intrinsic\" {\n     pub fn atomic_load_unordered<T: Copy>(src: *const T) -> T;\n }\n \n-fn main() -> u32 {\n+fn main() -> i32 {\n     let one;\n     let two;\n     let three;\n     let four;\n \n     unsafe {\n-        let mut src = 1u32;\n+        let mut src = 1;\n         one = atomic_load_seqcst(&src);\n \n         src = 2;"}, {"sha": "9f248b4f823f5175600da5922650d4dea266f0ee", "filename": "gcc/testsuite/rust/execute/torture/atomic_store.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_store.rs", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22329b03a6e0a3381d907745205012cf290b3c2a/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_store.rs", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Frust%2Fexecute%2Ftorture%2Fatomic_store.rs?ref=22329b03a6e0a3381d907745205012cf290b3c2a", "patch": "@@ -7,8 +7,8 @@ extern \"rust-intrinsic\" {\n     pub fn atomic_store_unordered<T: Copy>(dst: *mut T, val: T);\n }\n \n-fn main() -> u32 {\n-    let mut dst = 15u32;\n+fn main() -> i32 {\n+    let mut dst = 15;\n     let one;\n     let two;\n     let three;"}]}