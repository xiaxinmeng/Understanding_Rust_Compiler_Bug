{"sha": "0b7fb27b698da38fd13108ecc914613f85f66f9d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI3ZmIyN2I2OThkYTM4ZmQxMzEwOGVjYzkxNDYxM2Y4NWY2NmY5ZA==", "commit": {"author": {"name": "Allan Sandfeld Jensen", "email": "allan.jensen@qt.io", "date": "2018-09-20T19:38:24Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2018-09-20T19:38:24Z"}, "message": "Fix and document -r option\n\nThe option has existed and been working for years,\nmake sure it implies the right extra options, and list\nit in the documentation.\n\n2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n\ngcc/\n\t* gcc.c (LINK_COMMAND_SPEC): Handle -r like -nostdlib.\n\t(VTABLE_VERIFICATION_SPEC): Likewise.\n\t(SANITIZER_EARLY_SPEC): Likewise.\n\t(SANITIZER_SPEC): Likewise.\n\t* config/darwin.h (LINK_COMMAND_SPEC): Likewise.\n\t* doc/invoke.texi (Link Options): Document -r.\n\ngcc/cp/\n\t* g++spec.c (lang_specific_driver): Handle -r like -nostdlib.\n\ngcc/fortran/\n\t* gfortranspec.c (lang_specific_driver): Handle -r like -nostdlib.\n\ngcc/go/\n\t* gospec.c (lang_specific_driver): Handle -r like -nostdlib.\n\ngcc/testsuite/\n\t* g++.dg/ipa/pr64059.C: Removed now redundant -nostdlib.\n\t* g++.dg/lto/20081109-1_0.C: Likewise.\n\t* g++.dg/lto/20090302_0.C: Likewise.\n\t* g++.dg/lto/pr45621_0.C: Likewise.\n\t* g++.dg/lto/pr60567_0.C: Likewise.\n\t* g++.dg/lto/pr62026.C: Likewise.\n\t* gcc.dg/lto/pr45736_0.c: Likewise.\n\t* gcc.dg/lto/pr52634_0.c: Likewise.\n\t* gfortran.dg/lto/20091016-1_0.f90: Likewise.\n\t* gfortran.dg/lto/pr79108_0.f90: Likewise.\n\nFrom-SVN: r264451", "tree": {"sha": "e5da332a4a269cbf732f9bd7cb04ba1727313251", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5da332a4a269cbf732f9bd7cb04ba1727313251"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b7fb27b698da38fd13108ecc914613f85f66f9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b7fb27b698da38fd13108ecc914613f85f66f9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b7fb27b698da38fd13108ecc914613f85f66f9d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b7fb27b698da38fd13108ecc914613f85f66f9d/comments", "author": null, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "468e1ef4be47810052687c8193d106e591c74bc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/468e1ef4be47810052687c8193d106e591c74bc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/468e1ef4be47810052687c8193d106e591c74bc4"}], "stats": {"total": 90, "additions": 66, "deletions": 24}, "files": [{"sha": "8be6771ce5013b988c8133db8062ec08626a6237", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,3 +1,12 @@\n+2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n+\n+\t* gcc.c (LINK_COMMAND_SPEC): Handle -r like -nostdlib.\n+\t(VTABLE_VERIFICATION_SPEC): Likewise.\n+\t(SANITIZER_EARLY_SPEC): Likewise.\n+\t(SANITIZER_SPEC): Likewise.\n+\t* config/darwin.h (LINK_COMMAND_SPEC): Likewise.\n+\t* doc/invoke.texi (Link Options): Document -r.\n+\n 2018-09-20  Richard Biener <rguenther@suse.de>\n \n \tPR middle-end/87054"}, {"sha": "87f610259c0119c11aeabe5aabd67511b080c0c5", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -180,20 +180,20 @@ extern GTY(()) int darwin_ms_struct;\n    \"%X %{s} %{t} %{Z} %{u*} \\\n     %{e*} %{r} \\\n     %{o*}%{!o:-o a.out} \\\n-    %{!nostdlib:%{!nostartfiles:%S}} \\\n+    %{!nostdlib:%{!r:%{!nostartfiles:%S}}} \\\n     %{L*} %(link_libgcc) %o %{fprofile-arcs|fprofile-generate*|coverage:-lgcov} \\\n     %{fopenacc|fopenmp|%:gt(%{ftree-parallelize-loops=*:%*} 1): \\\n       %{static|static-libgcc|static-libstdc++|static-libgfortran: libgomp.a%s; : -lgomp } } \\\n     %{fgnu-tm: \\\n       %{static|static-libgcc|static-libstdc++|static-libgfortran: libitm.a%s; : -litm } } \\\n-    %{!nostdlib:%{!nodefaultlibs:\\\n+    %{!nostdlib:%{!r:%{!nodefaultlibs:\\\n       %{%:sanitize(address): -lasan } \\\n       %{%:sanitize(undefined): -lubsan } \\\n       %(link_ssp) \\\n       \" DARWIN_EXPORT_DYNAMIC \" %<rdynamic \\\n       %(link_gcc_c_sequence) \\\n-    }}\\\n-    %{!nostdlib:%{!nostartfiles:%E}} %{T*} %{F*} }}}}}}}\"\n+    }}}\\\n+    %{!nostdlib:%{!r:%{!nostartfiles:%E}}} %{T*} %{F*} }}}}}}}\"\n \n #define DSYMUTIL \"\\ndsymutil\"\n "}, {"sha": "0260ff670b9a6cd8bf128c7a866a2cf306099061", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,3 +1,7 @@\n+2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n+\n+\t* g++spec.c (lang_specific_driver): Handle -r like -nostdlib.\n+\n 2018-09-20  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/87075 - ICE with constexpr array initialization."}, {"sha": "8c81e0987f750bf7a24e9cf68a2c74969f7e0fff", "filename": "gcc/cp/g++spec.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fcp%2Fg%2B%2Bspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fcp%2Fg%2B%2Bspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fg%2B%2Bspec.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -184,6 +184,7 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,\n \t  break;\n \n \tcase OPT_c:\n+\tcase OPT_r:\n \tcase OPT_S:\n \tcase OPT_E:\n \tcase OPT_M:"}, {"sha": "e565f8519712286592e38091342f10d22a254453", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -521,7 +521,7 @@ Objective-C and Objective-C++ Dialects}.\n @xref{Link Options,,Options for Linking}.\n @gccoptlist{@var{object-file-name}  -fuse-ld=@var{linker}  -l@var{library} @gol\n -nostartfiles  -nodefaultlibs  -nolibc  -nostdlib @gol\n--pie  -pthread  -rdynamic @gol\n+-pie  -pthread  -r  -rdynamic @gol\n -s  -static -static-pie -static-libgcc  -static-libstdc++ @gol\n -static-libasan  -static-libtsan  -static-liblsan  -static-libubsan @gol\n -shared  -shared-libgcc  -symbolic @gol\n@@ -12586,6 +12586,11 @@ x86 Cygwin and MinGW targets.  On some targets this option also sets\n flags for the preprocessor, so it should be used consistently for both\n compilation and linking.\n \n+@item -r\n+@opindex r\n+Produce a relocatable object as output.  This is also known as partial\n+linking.\n+\n @item -rdynamic\n @opindex rdynamic\n Pass the flag @option{-export-dynamic} to the ELF linker, on targets"}, {"sha": "dbd05d2b23e973e3b987318829fc92d07e6db2ab", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,3 +1,7 @@\n+2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n+\n+\t* gfortranspec.c (lang_specific_driver): Handle -r like -nostdlib.\n+\n 2018-09-20  Janus Weil  <janus@gcc.gnu.org>\n \n \t* gfortran.h (gfc_str_startswith): New macro."}, {"sha": "7aa2dd78a0504b73e1b4173052d52fae2e11f47c", "filename": "gcc/fortran/gfortranspec.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ffortran%2Fgfortranspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ffortran%2Fgfortranspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortranspec.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -243,6 +243,7 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,\n \tcase OPT_nostdlib:\n \tcase OPT_nodefaultlibs:\n \tcase OPT_c:\n+\tcase OPT_r:\n \tcase OPT_S:\n \tcase OPT_fsyntax_only:\n \tcase OPT_E:"}, {"sha": "264204d7b379ae204e32864b23df623807963db9", "filename": "gcc/gcc.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -980,20 +980,20 @@ proper position among the other output files.  */\n /* Linker command line options for -fsanitize= early on the command line.  */\n #ifndef SANITIZER_EARLY_SPEC\n #define SANITIZER_EARLY_SPEC \"\\\n-%{!nostdlib:%{!nodefaultlibs:%{%:sanitize(address):\" LIBASAN_EARLY_SPEC \"} \\\n+%{!nostdlib:%{!r:%{!nodefaultlibs:%{%:sanitize(address):\" LIBASAN_EARLY_SPEC \"} \\\n     %{%:sanitize(thread):\" LIBTSAN_EARLY_SPEC \"} \\\n-    %{%:sanitize(leak):\" LIBLSAN_EARLY_SPEC \"}}}\"\n+    %{%:sanitize(leak):\" LIBLSAN_EARLY_SPEC \"}}}}\"\n #endif\n \n /* Linker command line options for -fsanitize= late on the command line.  */\n #ifndef SANITIZER_SPEC\n #define SANITIZER_SPEC \"\\\n-%{!nostdlib:%{!nodefaultlibs:%{%:sanitize(address):\" LIBASAN_SPEC \"\\\n+%{!nostdlib:%{!r:%{!nodefaultlibs:%{%:sanitize(address):\" LIBASAN_SPEC \"\\\n     %{static:%ecannot specify -static with -fsanitize=address}}\\\n     %{%:sanitize(thread):\" LIBTSAN_SPEC \"\\\n     %{static:%ecannot specify -static with -fsanitize=thread}}\\\n     %{%:sanitize(undefined):\" LIBUBSAN_SPEC \"}\\\n-    %{%:sanitize(leak):\" LIBLSAN_SPEC \"}}}\"\n+    %{%:sanitize(leak):\" LIBLSAN_SPEC \"}}}}\"\n #endif\n \n #ifndef POST_LINK_SPEC\n@@ -1007,8 +1007,8 @@ proper position among the other output files.  */\n #ifndef VTABLE_VERIFICATION_SPEC\n #if ENABLE_VTABLE_VERIFY\n #define VTABLE_VERIFICATION_SPEC \"\\\n-%{!nostdlib:%{fvtable-verify=std: -lvtv -u_vtable_map_vars_start -u_vtable_map_vars_end}\\\n-    %{fvtable-verify=preinit: -lvtv -u_vtable_map_vars_start -u_vtable_map_vars_end}}\"\n+%{!nostdlib:%{!r:%{fvtable-verify=std: -lvtv -u_vtable_map_vars_start -u_vtable_map_vars_end}\\\n+    %{fvtable-verify=preinit: -lvtv -u_vtable_map_vars_start -u_vtable_map_vars_end}}}\"\n #else\n #define VTABLE_VERIFICATION_SPEC \"\\\n %{fvtable-verify=none:} \\\n@@ -1040,16 +1040,16 @@ proper position among the other output files.  */\n     %{flto} %{fno-lto} %{flto=*} %l \" LINK_PIE_SPEC \\\n    \"%{fuse-ld=*:-fuse-ld=%*} \" LINK_COMPRESS_DEBUG_SPEC \\\n    \"%X %{o*} %{e*} %{N} %{n} %{r}\\\n-    %{s} %{t} %{u*} %{z} %{Z} %{!nostdlib:%{!nostartfiles:%S}} \\\n+    %{s} %{t} %{u*} %{z} %{Z} %{!nostdlib:%{!r:%{!nostartfiles:%S}}} \\\n     %{static|no-pie|static-pie:} %@{L*} %(mfwrap) %(link_libgcc) \" \\\n     VTABLE_VERIFICATION_SPEC \" \" SANITIZER_EARLY_SPEC \" %o \"\" \\\n     %{fopenacc|fopenmp|%:gt(%{ftree-parallelize-loops=*:%*} 1):\\\n \t%:include(libgomp.spec)%(link_gomp)}\\\n     %{fgnu-tm:%:include(libitm.spec)%(link_itm)}\\\n     %(mflib) \" STACK_SPLIT_SPEC \"\\\n     %{fprofile-arcs|fprofile-generate*|coverage:-lgcov} \" SANITIZER_SPEC \" \\\n-    %{!nostdlib:%{!nodefaultlibs:%(link_ssp) %(link_gcc_c_sequence)}}\\\n-    %{!nostdlib:%{!nostartfiles:%E}} %{T*}  \\n%(post_link) }}}}}}\"\n+    %{!nostdlib:%{!r:%{!nodefaultlibs:%(link_ssp) %(link_gcc_c_sequence)}}}\\\n+    %{!nostdlib:%{!r:%{!nostartfiles:%E}}} %{T*}  \\n%(post_link) }}}}}}\"\n #endif\n \n #ifndef LINK_LIBGCC_SPEC"}, {"sha": "35129223726c0becd820cef56d2bac4491892b7e", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,3 +1,7 @@\n+2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n+\n+\t* gospec.c (lang_specific_driver): Handle -r like -nostdlib.\n+\n 2018-08-27  Martin Liska  <mliska@suse.cz>\n \n \t* go-gcc.cc (Gcc_backend::call_expression): Use new function"}, {"sha": "d265fc986a05c6cd22817dcac14b1a6adad8b1a1", "filename": "gcc/go/gospec.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgo%2Fgospec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Fgo%2Fgospec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgospec.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -139,6 +139,7 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,\n \n       switch (decoded_options[i].opt_index)\n \t{\n+\tcase OPT_r:\n \tcase OPT_nostdlib:\n \tcase OPT_nodefaultlibs:\n \t  library = -1;"}, {"sha": "bcac8dc0e89ad6d4e26135c7b169b648aa591593", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,3 +1,16 @@\n+2018-09-20  Allan Sandfeld Jensen  <allan.jensen@qt.io>\n+\n+\t* g++.dg/ipa/pr64059.C: Removed now redundant -nostdlib.\n+\t* g++.dg/lto/20081109-1_0.C: Likewise.\n+\t* g++.dg/lto/20090302_0.C: Likewise.\n+\t* g++.dg/lto/pr45621_0.C: Likewise.\n+\t* g++.dg/lto/pr60567_0.C: Likewise.\n+\t* g++.dg/lto/pr62026.C: Likewise.\n+\t* gcc.dg/lto/pr45736_0.c: Likewise.\n+\t* gcc.dg/lto/pr52634_0.c: Likewise.\n+\t* gfortran.dg/lto/20091016-1_0.f90: Likewise.\n+\t* gfortran.dg/lto/pr79108_0.f90: Likewise.\n+\n 2018-09-20  Alexandre Oliva <oliva@adacore.com>\n \n \tPR middle-end/87054"}, {"sha": "57011324889e9fc53cbf222a56a222277fda7812", "filename": "gcc/testsuite/g++.dg/ipa/pr64059.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr64059.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr64059.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fipa%2Fpr64059.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,4 +1,4 @@\n-// { dg-options \"-r -nostdlib -O2 -flto -fno-devirtualize\" }\n+// { dg-options \"-r -O2 -flto -fno-devirtualize\" }\n // { dg-require-effective-target lto }\n \n class A;"}, {"sha": "db0ba367fe8c1d13968c338672d720dd8eb8ed67", "filename": "gcc/testsuite/g++.dg/lto/20081109-1_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20081109-1_0.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,6 +1,6 @@\n // { dg-lto-do link }\n // { dg-require-effective-target fpic }\n // { dg-lto-options {{-fPIC -flto -flto-partition=1to1}} }\n-// { dg-extra-ld-options \"-fPIC -flto -flto-partition=1to1 -r -nostdlib -fno-exceptions -flinker-output=nolto-rel\" }\n+// { dg-extra-ld-options \"-fPIC -flto -flto-partition=1to1 -r -fno-exceptions -flinker-output=nolto-rel\" }\n void func(); class Foo { };\n void bar() { try { func(); } catch (Foo) { } };"}, {"sha": "23e012704f4fbc326cc20be33a79cd7207207ef5", "filename": "gcc/testsuite/g++.dg/lto/20090302_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2F20090302_0.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,6 +1,6 @@\n /* { dg-lto-do link } */\n /* { dg-require-effective-target fpic } */\n-/* { dg-lto-options {{-fPIC -flto -flto-partition=1to1 -r -nostdlib}} } */\n+/* { dg-lto-options {{-fPIC -flto -flto-partition=1to1 -r}} } */\n /* { dg-extra-ld-options \"-flinker-output=nolto-rel\" } */\n struct Foo {\n   bool Mumble();"}, {"sha": "2055ebfa658bb233599adf9ef5435ab90a4607da", "filename": "gcc/testsuite/g++.dg/lto/pr45621_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr45621_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr45621_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr45621_0.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do assemble }\n-// { dg-extra-ld-options \"-O2 -fipa-cp-clone -flto -nostdlib -r -flinker-output=nolto-rel\" }\n+// { dg-extra-ld-options \"-O2 -fipa-cp-clone -flto -r -flinker-output=nolto-rel\" }\n #include \"pr45621.h\"\n \n void"}, {"sha": "175b3aa7a0476d39399e4f1fabecabe10d005158", "filename": "gcc/testsuite/g++.dg/lto/pr60567_0.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr60567_0.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr60567_0.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr60567_0.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,7 +1,7 @@\n // PR lto/60567\n // { dg-lto-do link }\n // { dg-lto-options { { -flto -fno-use-linker-plugin } } }\n-// { dg-extra-ld-options \"-r -nostdlib\" }\n+// { dg-extra-ld-options \"-r\" }\n \n #pragma implementation\n struct S {};"}, {"sha": "0432e907f56f667058418f3d3ec57a02e26580ef", "filename": "gcc/testsuite/g++.dg/lto/pr62026.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr62026.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr62026.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Flto%2Fpr62026.C?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,5 +1,5 @@\n // { dg-lto-do link }\n-// { dg-lto-options {{-flto -O3 -r -nostdlib}} }\n+// { dg-lto-options {{-flto -O3 -r}} }\n class C;\n class F {\n   virtual C m_fn1();"}, {"sha": "cb7811ba25850d21bb1fb4a707e5ed7d5220e3da", "filename": "gcc/testsuite/gcc.dg/lto/pr45736_0.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr45736_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr45736_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr45736_0.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,5 +1,5 @@\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-flto -r -nostdlib -O}} } */\n+/* { dg-lto-options {{-flto -r -O}} } */\n /* { dg-extra-ld-options \"-flinker-output=nolto-rel\" } */\n \n extern void baz (void);"}, {"sha": "5e14ad9a73359bde4f8a9dfeab3382bd4392a425", "filename": "gcc/testsuite/gcc.dg/lto/pr52634_0.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr52634_0.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr52634_0.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Flto%2Fpr52634_0.c?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,7 +1,7 @@\n /* { dg-require-weak \"\" } */\n /* { dg-require-alias \"\" } */\n /* { dg-lto-do link } */\n-/* { dg-lto-options {{-flto -r -nostdlib -flto-partition=1to1}} */\n+/* { dg-lto-options {{-flto -r -flto-partition=1to1}} */\n /* { dg-extra-ld-options \"-flinker-output=nolto-rel\" } */\n extern int cfliteValueCallBacks;\n void baz (int *);"}, {"sha": "812ae9b266dbb9fd5cb95dff26d6df842513f325", "filename": "gcc/testsuite/gfortran.dg/lto/20091016-1_0.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2F20091016-1_0.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2F20091016-1_0.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2F20091016-1_0.f90?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,5 +1,5 @@\n ! { dg-lto-do link }\n-! { dg-lto-options {{-flto -g -fPIC -r -nostdlib} {-O -flto -g -fPIC -r -nostdlib}} }\n+! { dg-lto-options {{-flto -g -fPIC -r} {-O -flto -g -fPIC -r}} }\n ! { dg-extra-ld-options \"-flinker-output=nolto-rel\" }\n \n       FUNCTION makenumberstring(x)"}, {"sha": "9c878509a83c4953d659ec67769cdba93af89809", "filename": "gcc/testsuite/gfortran.dg/lto/pr79108_0.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b7fb27b698da38fd13108ecc914613f85f66f9d/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flto%2Fpr79108_0.f90?ref=0b7fb27b698da38fd13108ecc914613f85f66f9d", "patch": "@@ -1,6 +1,6 @@\n ! { dg-lto-do link }\n ! { dg-lto-options {{ -Ofast -flto --param ggc-min-expand=0 --param ggc-min-heapsize=0 }} }\n-! { dg-extra-ld-options \"-r -nostdlib\" }\n+! { dg-extra-ld-options \"-r\" }\n \n MODULE Errorcheck_mod\n CONTAINS"}]}