{"sha": "71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFlMWUyYzg0MzEyNDdhNGY3YzA5NjFkYTFmZmY3ZTY1ZDBlZTE0Zg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-11-12T19:26:11Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-11-12T19:26:11Z"}, "message": "(addsi3): If TARGET_5200, use the lea insn to add small constants to\naddress registers.\n\nFrom-SVN: r13137", "tree": {"sha": "4e0c14f24f6bc08902ffbb8e2b02accc04d265e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e0c14f24f6bc08902ffbb8e2b02accc04d265e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f/comments", "author": null, "committer": null, "parents": [{"sha": "dfb331d6941fa829b0f060e79568875991e3eb70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfb331d6941fa829b0f060e79568875991e3eb70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfb331d6941fa829b0f060e79568875991e3eb70"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "cb791f6584311449a7fb6aa8cdff66dbdaac9b8d", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71e1e2c8431247a4f7c0961da1fff7e65d0ee14f/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=71e1e2c8431247a4f7c0961da1fff7e65d0ee14f", "patch": "@@ -2173,9 +2173,17 @@\n #endif\n       if (ADDRESS_REG_P (operands[0])\n \t  && INTVAL (operands[2]) >= -0x8000\n-\t  && INTVAL (operands[2]) < 0x8000\n-\t  && !TARGET_5200)\n-\treturn \\\"add%.w %2,%0\\\";\n+\t  && INTVAL (operands[2]) < 0x8000)\n+\t{\n+\t  if (!TARGET_5200)\n+\t    return \\\"add%.w %2,%0\\\";\n+\t  else\n+#ifdef MOTOROLA  \n+\t    return \\\"lea (%c2,%0),%0\\\";\n+#else\n+\t    return \\\"lea %0@(%c2),%0\\\";\n+#endif\n+\t}\n     }\n   return \\\"add%.l %2,%0\\\";\n }\")"}]}