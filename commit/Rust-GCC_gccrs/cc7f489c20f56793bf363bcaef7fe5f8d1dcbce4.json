{"sha": "cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2M3ZjQ4OWMyMGY1Njc5M2JmMzYzYmNhZWY3ZmU1ZjhkMWRjYmNlNA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2008-05-09T20:04:57Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2008-05-09T20:04:57Z"}, "message": "re PR tree-optimization/36187 (Partitioning problem with SFTs (again))\n\n2008-05-09  Richard Guenther  <rguenther@suse.de>\n\n\tPR tree-optimization/36187\n\t* g++.dg/opt/pr36187.C: New testcase.\n\nFrom-SVN: r135126", "tree": {"sha": "b58f0eab4bad38ccd2966ad2a2d8569fed5b3fb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b58f0eab4bad38ccd2966ad2a2d8569fed5b3fb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4/comments", "author": null, "committer": null, "parents": [{"sha": "53a8f709904821fffda9897a9c197af9465a626e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53a8f709904821fffda9897a9c197af9465a626e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53a8f709904821fffda9897a9c197af9465a626e"}], "stats": {"total": 52, "additions": 51, "deletions": 1}, "files": [{"sha": "531df9fe646dbefdb7ec2cfde9e5899ed56b3437", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "patch": "@@ -1,4 +1,9 @@\n-2008-01-08  Jan Sjodin  <jan.sjodin@amd.com>\n+2008-05-09  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR tree-optimization/36187\n+\t* g++.dg/opt/pr36187.C: New testcase.\n+\n+2008-05-08  Jan Sjodin  <jan.sjodin@amd.com>\n \t    Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* gcc.dg/tree-ssa/data-dep-1.c: New."}, {"sha": "fdb468d5a0a145ad16b2170b8aa4c33064682d1e", "filename": "gcc/testsuite/g++.dg/opt/pr36187.C", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36187.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36187.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr36187.C?ref=cc7f489c20f56793bf363bcaef7fe5f8d1dcbce4", "patch": "@@ -0,0 +1,45 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O2 --param max-aliased-vops=20\" } */\n+\n+extern \"C\" void abort (void);\n+enum SbxDataType { SbxINTEGER, SbxDECIMAL, SbxBYREF = 0x4000 };\n+struct SbxValues {\n+    union {\n+\tfloat nSingle;\n+\tfloat* pSingle;\n+    };\n+    SbxDataType eType;\n+};\n+static bool ImpPutDoubleFoo( SbxValues* p)\n+{\n+    bool bRet = false;\n+    SbxValues aTmp;\n+    int count = 0;\n+start: \n+    switch( p->eType )  {  \n+\tcase SbxINTEGER:\n+\t    if (count++ > 0)\n+\t      abort ();\n+\t    aTmp.pSingle = &p->nSingle; goto direct;\n+\tcase SbxBYREF | SbxDECIMAL:\n+\t    bRet = false;\n+\t    break;\n+\tdirect:\n+\t    aTmp.eType = SbxDataType( p->eType | SbxBYREF );\n+\t    p = &aTmp; goto start;\n+\tcase SbxBYREF | SbxINTEGER:\n+\t    break;\n+\tdefault:\n+\t    bRet =true;\n+    }\n+    return bRet;\n+}\n+\n+int main( int argc, char** argv )\n+{\n+    SbxValues aTmp;\n+    aTmp.eType = SbxINTEGER;\n+    if ( ImpPutDoubleFoo( &aTmp ) )\n+\tabort ();\n+    return 0;\n+}"}]}