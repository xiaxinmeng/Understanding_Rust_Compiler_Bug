{"sha": "d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDU2MWExOGVlNmIwYThlOGI1NjViZmY3ZjMyYTdmYzQ1YTc4YjNjYw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2019-06-06T15:34:45Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2019-06-06T15:34:45Z"}, "message": "Fix more tests that fail in C++2a mode\n\n\t* testsuite/23_containers/unordered_map/requirements/debug_container.cc:\n\tDo not test allocator rebinding extension for C++2a.\n\t* testsuite/23_containers/unordered_set/allocator/ext_ptr.cc: Change\n\tdg-do directive for C++17 and C++2a.\n\nFrom-SVN: r272009", "tree": {"sha": "1613feaa91f3a6aeffa570a25aefe27cccd012c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1613feaa91f3a6aeffa570a25aefe27cccd012c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "268d509d67efac45f01b356602036e1dc7c6935e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/268d509d67efac45f01b356602036e1dc7c6935e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/268d509d67efac45f01b356602036e1dc7c6935e"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "47dee9ea637764ff807f52f12e63a077cef8f1af", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "patch": "@@ -1,5 +1,10 @@\n 2019-06-06  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* testsuite/23_containers/unordered_map/requirements/debug_container.cc:\n+\tDo not test allocator rebinding extension for C++2a.\n+\t* testsuite/23_containers/unordered_set/allocator/ext_ptr.cc: Change\n+\tdg-do directive for C++17 and C++2a.\n+\n \t* testsuite/23_containers/deque/requirements/explicit_instantiation/\n \t1_c++0x.cc: Remove redundant test.\n \t* testsuite/23_containers/deque/requirements/explicit_instantiation/"}, {"sha": "903802878d7e504729a116282fe91ee27aff83de", "filename": "libstdc++-v3/testsuite/23_containers/unordered_map/requirements/debug_container.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Frequirements%2Fdebug_container.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Frequirements%2Fdebug_container.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_map%2Frequirements%2Fdebug_container.cc?ref=d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "patch": "@@ -30,7 +30,7 @@ template class __gnu_debug::unordered_map<string, float>;\n template class __gnu_debug::unordered_map<string, int,\n                                           hash<string>, equal_to<string>, \n                                           allocator<pair<const string, int>>>;\n-#ifndef __STRICT_ANSI__\n+#if !defined __STRICT_ANSI__ && __cplusplus <= 201703L\n template class __gnu_debug::unordered_map<string, float,\n                                           hash<string>, equal_to<string>, \n                                           allocator<char>>;"}, {"sha": "b7a63c5e3930761df66065ddb3fbd9fabaf63c3d", "filename": "libstdc++-v3/testsuite/23_containers/unordered_set/allocator/ext_ptr.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Fallocator%2Fext_ptr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Fallocator%2Fext_ptr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Funordered_set%2Fallocator%2Fext_ptr.cc?ref=d561a18ee6b0a8e8b565bff7f32a7fc45a78b3cc", "patch": "@@ -15,7 +15,8 @@\n // with this library; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n-// { dg-do run { target c++11 } }\n+// { dg-do run { target { c++11_only || c++14_only } } }\n+// { dg-do compile { target c++17 } }\n \n #include <unordered_set>\n #include <memory>"}]}