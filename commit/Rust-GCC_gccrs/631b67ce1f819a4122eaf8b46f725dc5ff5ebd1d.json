{"sha": "631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjMxYjY3Y2UxZjgxOWE0MTIyZWFmOGI0NmY3MjVkYzVmZjVlYmQxZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2004-08-31T22:28:44Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2004-08-31T22:28:44Z"}, "message": "tree-cfg.c (cfg_remove_useless_stmts_bb): Also invalidate if VAL gets modified.\n\n\t* tree-cfg.c (cfg_remove_useless_stmts_bb): Also invalidate if VAL\n\tgets modified.\n\nCo-Authored-By: Jeff Law <law@redhat.com>\n\nFrom-SVN: r86847", "tree": {"sha": "364c3bbaa6a3d5a7c6377b0c8fe299b0e9f34921", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/364c3bbaa6a3d5a7c6377b0c8fe299b0e9f34921"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d/comments", "author": null, "committer": null, "parents": [{"sha": "149a42dd2de169de9252db751ec1200db50c23aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/149a42dd2de169de9252db751ec1200db50c23aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/149a42dd2de169de9252db751ec1200db50c23aa"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "1cddc3022889b633fb43d5614c53e1a0227f9931", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "patch": "@@ -1,3 +1,9 @@\n+2004-08-31  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\t    Jeff Law  <law@redhat.com>\n+\n+\t* tree-cfg.c (cfg_remove_useless_stmts_bb): Also invalidate if VAL\n+\tgets modified.\n+\n 2004-08-31  Mark Mitchell  <mark@codesourcery.com>\n \n \t* hooks.c (hook_bool_void_true): New function."}, {"sha": "ae9521e0d0de634e6708c4dfb57707b1943fa0f0", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=631b67ce1f819a4122eaf8b46f725dc5ff5ebd1d", "patch": "@@ -1738,10 +1738,14 @@ cfg_remove_useless_stmts_bb (basic_block bb)\n \t  continue;\n \t}\n \n-      /* Invalidate the var if we encounter something that could modify it.  */\n+      /* Invalidate the var if we encounter something that could modify it.\n+\t Likewise for the value it was previously set to.  Note that we only\n+\t consider values that are either a VAR_DECL or PARM_DECL so we\n+\t can test for conflict very simply.  */\n       if (TREE_CODE (stmt) == ASM_EXPR\n \t  || (TREE_CODE (stmt) == MODIFY_EXPR\n-\t      && TREE_OPERAND (stmt, 0) == var))\n+\t      && (TREE_OPERAND (stmt, 0) == var\n+\t\t  || TREE_OPERAND (stmt, 0) == val)))\n \treturn;\n   \n       bsi_next (&bsi);"}]}