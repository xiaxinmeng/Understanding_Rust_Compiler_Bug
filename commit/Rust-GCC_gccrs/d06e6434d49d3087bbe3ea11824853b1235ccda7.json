{"sha": "d06e6434d49d3087bbe3ea11824853b1235ccda7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA2ZTY0MzRkNDlkMzA4N2JiZTNlYTExODI0ODUzYjEyMzVjY2RhNw==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@kss-loka.si", "date": "2005-09-21T18:39:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2005-09-21T18:39:07Z"}, "message": "re PR target/22585 (ICE with long doubles in expand_simple_unop)\n\n\tPR target/22585\n\t* config/i386/i386.c (ix86_prepare_fp_compare_args): Do not\n\tforce integer op1 into register for XFmode compares.\n\nFrom-SVN: r104498", "tree": {"sha": "5ea2ac7fb062501f7dcec0b888928ff15b41f4fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ea2ac7fb062501f7dcec0b888928ff15b41f4fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d06e6434d49d3087bbe3ea11824853b1235ccda7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d06e6434d49d3087bbe3ea11824853b1235ccda7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d06e6434d49d3087bbe3ea11824853b1235ccda7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d06e6434d49d3087bbe3ea11824853b1235ccda7/comments", "author": null, "committer": null, "parents": [{"sha": "604a493708c0373b3dc44aecf83a5bbe62013df2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604a493708c0373b3dc44aecf83a5bbe62013df2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/604a493708c0373b3dc44aecf83a5bbe62013df2"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "58b8a36bb6e14d96233cb43194de463726f511fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d06e6434d49d3087bbe3ea11824853b1235ccda7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d06e6434d49d3087bbe3ea11824853b1235ccda7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d06e6434d49d3087bbe3ea11824853b1235ccda7", "patch": "@@ -1,3 +1,9 @@\n+2005-09-21  Uros Bizjak  <uros@kss-loka.si>\n+\n+\tPR target/22585\n+\t* config/i386/i386.c (ix86_prepare_fp_compare_args): Do not\n+\tforce integer op1 into register for XFmode compares.\n+\n 2005-09-21  Kazu Hirata  <kazu@codesourcery.com>\n \n \tPR middle-end/23971"}, {"sha": "914e66ea0e0629b18716dcdeae16b28983d3a764", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d06e6434d49d3087bbe3ea11824853b1235ccda7/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d06e6434d49d3087bbe3ea11824853b1235ccda7/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=d06e6434d49d3087bbe3ea11824853b1235ccda7", "patch": "@@ -9065,15 +9065,17 @@ ix86_prepare_fp_compare_args (enum rtx_code code, rtx *pop0, rtx *pop1)\n   int is_sse = TARGET_SSE_MATH && SSE_FLOAT_MODE_P (op_mode);\n \n   /* All of the unordered compare instructions only work on registers.\n-     The same is true of the fcomi compare instructions.  The same is\n-     true of the XFmode compare instructions if not comparing with\n-     zero (ftst insn is used in this case).  */\n+     The same is true of the fcomi compare instructions.  The XFmode\n+     compare instructions require registers except when comparing\n+     against zero or when converting operand 1 from fixed point to\n+     floating point.  */\n \n   if (!is_sse\n       && (fpcmp_mode == CCFPUmode\n \t  || (op_mode == XFmode\n \t      && ! (standard_80387_constant_p (op0) == 1\n-\t\t    || standard_80387_constant_p (op1) == 1))\n+\t\t    || standard_80387_constant_p (op1) == 1)\n+\t      && GET_CODE (op1) != FLOAT)\n \t  || ix86_use_fcomi_compare (code)))\n     {\n       op0 = force_reg (op_mode, op0);"}]}