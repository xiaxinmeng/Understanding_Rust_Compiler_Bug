{"sha": "0ecf24f3b585bd55b8de442e3d019ad6103587ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGVjZjI0ZjNiNTg1YmQ1NWI4ZGU0NDJlM2QwMTlhZDYxMDM1ODdiYQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-12-13T10:52:39Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-12-13T10:52:39Z"}, "message": "New file.\n\nFrom-SVN: r130885", "tree": {"sha": "4a6632d37f689b7465ff7f2bc8aa035b463bdb15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a6632d37f689b7465ff7f2bc8aa035b463bdb15"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ecf24f3b585bd55b8de442e3d019ad6103587ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ecf24f3b585bd55b8de442e3d019ad6103587ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ecf24f3b585bd55b8de442e3d019ad6103587ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ecf24f3b585bd55b8de442e3d019ad6103587ba/comments", "author": null, "committer": null, "parents": [{"sha": "70e4fcc4e27038f204d6685b6971cef78c6d89e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70e4fcc4e27038f204d6685b6971cef78c6d89e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70e4fcc4e27038f204d6685b6971cef78c6d89e6"}], "stats": {"total": 62, "additions": 62, "deletions": 0}, "files": [{"sha": "dfc865cace072db67206333e558ea098956a5d14", "filename": "gcc/ada/vx_stack_info.c", "status": "added", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ecf24f3b585bd55b8de442e3d019ad6103587ba/gcc%2Fada%2Fvx_stack_info.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ecf24f3b585bd55b8de442e3d019ad6103587ba/gcc%2Fada%2Fvx_stack_info.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvx_stack_info.c?ref=0ecf24f3b585bd55b8de442e3d019ad6103587ba", "patch": "@@ -0,0 +1,62 @@\n+/****************************************************************************\n+ *                                                                          *\n+ *                         GNAT COMPILER COMPONENTS                         *\n+ *                                                                          *\n+ *                         V X _ S T A C K _ I N F O                        *\n+ *                                                                          *\n+ *                          C Implementation File                           *\n+ *                                                                          *\n+ *              Copyright (C) 2007, Free Software Foundation, Inc.          *\n+ *                                                                          *\n+ * GNAT is free software;  you can  redistribute it  and/or modify it under *\n+ * terms of the  GNU General Public License as published  by the Free Soft- *\n+ * ware  Foundation;  either version 2,  or (at your option) any later ver- *\n+ * sion.  GNAT is distributed in the hope that it will be useful, but WITH- *\n+ * OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY *\n+ * or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License *\n+ * for  more details.  You should have  received  a copy of the GNU General *\n+ * Public License  distributed with GNAT;  see file COPYING.  If not, write *\n+ * to  the  Free Software Foundation,  51  Franklin  Street,  Fifth  Floor, *\n+ * Boston, MA 02110-1301, USA.                                              *\n+ *                                                                          *\n+ * As a  special  exception,  if you  link  this file  with other  files to *\n+ * produce an executable,  this file does not by itself cause the resulting *\n+ * executable to be covered by the GNU General Public License. This except- *\n+ * ion does not  however invalidate  any other reasons  why the  executable *\n+ * file might be covered by the  GNU Public License.                        *\n+ *                                                                          *\n+ * GNAT was originally developed  by the GNAT team at  New York University. *\n+ * Extensive contributions were provided by Ada Core Technologies Inc.      *\n+ *                                                                          *\n+ ****************************************************************************/\n+\n+/* VxWorks-specific file to have access to task-specific data and be able\n+   to extract the stack boundaries for stack checking. */\n+\n+#include <taskLib.h>\n+\n+typedef struct\n+{\n+  int  size;\n+  char *base;\n+  char *end;\n+} stack_info;\n+\n+/* __gnat_get_stack_info is used by s-stchop.adb only for VxWorks. This\n+   procedure fills the stack information associated to the currently\n+   executing task. */\n+extern void __gnat_get_stack_info (stack_info *vxworks_stack_info);\n+\n+void\n+__gnat_get_stack_info (stack_info *vxworks_stack_info)\n+{\n+  TASK_DESC descriptor;\n+\n+  /* Ask the VxWorks kernel about stack values */\n+  taskInfoGet (taskIdSelf (), &descriptor);\n+\n+  /* Fill the stack data with the information provided by the kernel */\n+  vxworks_stack_info->size = descriptor.td_stackSize;\n+  vxworks_stack_info->base = descriptor.td_pStackBase;\n+  vxworks_stack_info->end  = descriptor.td_pStackEnd;\n+}"}]}