{"sha": "4e1e858cc8fbcbffa978a97ccdffdd2644639598", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUxZTg1OGNjOGZiY2JmZmE5NzhhOTdjY2RmZmRkMjY0NDYzOTU5OA==", "commit": {"author": {"name": "Dimitar Dimitrov", "email": "dimitar@dinux.eu", "date": "2020-07-09T19:29:13Z"}, "committer": {"name": "Dimitar Dimitrov", "email": "dimitar@dinux.eu", "date": "2020-07-21T15:35:44Z"}, "message": "testsuite: Add default_packed filters\n\nFix test cases assumptions that target has alignment constraints.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/attr-copy-4.c: Unpacked may still have alignment of 1\n\ton targets with default_packed.\n\t* gcc.dg/c11-align-9.c: Remove AVR target filter and replace\n\twith default_packed filter.\n\nSigned-off-by: Dimitar Dimitrov <dimitar@dinux.eu>", "tree": {"sha": "abf2306ff778ca2e55534a8eae2d194b1d628208", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abf2306ff778ca2e55534a8eae2d194b1d628208"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e1e858cc8fbcbffa978a97ccdffdd2644639598", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e1e858cc8fbcbffa978a97ccdffdd2644639598", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e1e858cc8fbcbffa978a97ccdffdd2644639598", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e1e858cc8fbcbffa978a97ccdffdd2644639598/comments", "author": null, "committer": null, "parents": [{"sha": "eb66e8e7a9142da9640525a9092b909944b30266", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb66e8e7a9142da9640525a9092b909944b30266", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb66e8e7a9142da9640525a9092b909944b30266"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "01fae3f78d4fd019eb9ccd540b72b1d14a0a591f", "filename": "gcc/testsuite/gcc.dg/attr-copy-4.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e1e858cc8fbcbffa978a97ccdffdd2644639598/gcc%2Ftestsuite%2Fgcc.dg%2Fattr-copy-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e1e858cc8fbcbffa978a97ccdffdd2644639598/gcc%2Ftestsuite%2Fgcc.dg%2Fattr-copy-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fattr-copy-4.c?ref=4e1e858cc8fbcbffa978a97ccdffdd2644639598", "patch": "@@ -32,6 +32,7 @@ extern const struct PackedA packed;\n \n struct Unpacked { int i; char c; };\n Assert (__alignof (struct Unpacked) > 1);\n+/* { dg-error \"size of array .* is negative\" \"\" { target default_packed } .-1 } */\n \n /* Verify that copying the packed attribute to the declaration\n    of an object is ignored with a warning.  (There should be"}, {"sha": "6a0d4248f1b8011e10d7e08ee40b3bffe57f2ec5", "filename": "gcc/testsuite/gcc.dg/c11-align-9.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e1e858cc8fbcbffa978a97ccdffdd2644639598/gcc%2Ftestsuite%2Fgcc.dg%2Fc11-align-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e1e858cc8fbcbffa978a97ccdffdd2644639598/gcc%2Ftestsuite%2Fgcc.dg%2Fc11-align-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fc11-align-9.c?ref=4e1e858cc8fbcbffa978a97ccdffdd2644639598", "patch": "@@ -2,8 +2,8 @@\n    are at least some alignment constraints), case of compound literals.  */\n /* { dg-do compile } */\n /* { dg-options \"-std=c11 -pedantic-errors\" } */\n-/* { dg-skip-if \"no alignment constraints\" { \"avr-*-*\" } } */\n \n #include <stddef.h>\n \n-max_align_t *p = &(_Alignas (_Alignof (char)) max_align_t) { 1 }; /* { dg-error \"reduce alignment\" } */\n+max_align_t *p = &(_Alignas (_Alignof (char)) max_align_t) { 1 };\n+/* { dg-error \"reduce alignment\" \"\" { target { ! default_packed } } .-1 } */"}]}