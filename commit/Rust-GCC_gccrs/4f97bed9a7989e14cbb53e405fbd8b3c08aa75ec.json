{"sha": "4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY5N2JlZDlhNzk4OWUxNGNiYjUzZTQwNWZiZDhiM2MwOGFhNzVlYw==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-07-13T18:43:39Z"}, "committer": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2020-07-14T14:41:40Z"}, "message": "aix: FAT libraries: test native compiler mode directly\n\nThe FAT libraries config fragments need to know which library is native\nand which is a multilib to choose the correct multilib from which to\nappend the additional object file or shared object file.  Testing the\ntop-level archive is fragile because it will fail if rebuilding.  This\npatch tests the compiler preprocessing macros for the 64 bit AIX specific\n__64BIT__ to determine the native mode of the compiler in MULTILIBTOP.\n\n2020-07-14  David Edelsohn  <dje.gcc@gmail.com>\n\nlibatomic/ChangeLog\n\n\t* config/t-aix: Set BITS from compiler cpp macro.\n\nlibgcc/ChangeLog\n\n\t* config/rs6000/t-slibgcc-aix: Set BITS from compiler cpp macro.\n\nlibgfortran/ChangeLog\n\n\t* config/t-aix: Set BITS from compiler cpp macro.\n\nlibgomp/ChangeLog\n\n\t* config/t-aix: Set BITS from compiler cpp macro.\n\nlibstdc++-v3/ChangeLog\n\n\t* config/os/aix/t-aix: Set BITS from compiler cpp macro.", "tree": {"sha": "27015e9470533a3864c13398c9ec4a7fe1ed6708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27015e9470533a3864c13398c9ec4a7fe1ed6708"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "524862db444b6544c6dc87c5f06f351100ecf50d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/524862db444b6544c6dc87c5f06f351100ecf50d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/524862db444b6544c6dc87c5f06f351100ecf50d"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "0f37aaa15f3b85a3b3197e04af29149b0066e2b2", "filename": "libatomic/config/t-aix", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libatomic%2Fconfig%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libatomic%2Fconfig%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libatomic%2Fconfig%2Ft-aix?ref=4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "patch": "@@ -1,5 +1,5 @@\n ifeq ($(MULTIBUILDTOP),)\n-BITS=$(shell if test -z \"`ar -X64 t .libs/$(PACKAGE).a`\" ; then \\\n+BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then \\\n     echo '64'; else echo '32'; fi)\n #MAJOR=$(firstword $(subst :, ,$(libtool_VERSION)))\n MAJOR=1"}, {"sha": "b3bdda6f9a80e6c338320aa43bdc7a6bb12fbfbd", "filename": "libgcc/config/rs6000/t-slibgcc-aix", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgcc%2Fconfig%2Frs6000%2Ft-slibgcc-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgcc%2Fconfig%2Frs6000%2Ft-slibgcc-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Frs6000%2Ft-slibgcc-aix?ref=4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "patch": "@@ -90,7 +90,7 @@ AR_FLAGS_FOR_TARGET = -X32_64\n \n # Build and install AIX-style FAT libraries\n ifeq ($(MULTIBUILDTOP),)\n-BITS=$(shell if test -z \"`ar -X64 t libgcc_s.a`\" ; then \\\n+BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then \\\n     echo '64'; else echo '32'; fi)\n all: all-multi\n ifeq ($(enable_shared),yes)"}, {"sha": "e661286da123a1f3ed848504a48b3f25432f82f6", "filename": "libgfortran/config/t-aix", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgfortran%2Fconfig%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgfortran%2Fconfig%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfig%2Ft-aix?ref=4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "patch": "@@ -1,5 +1,5 @@\n ifeq ($(MULTIBUILDTOP),)\n-BITS=$(shell if test -z \"`ar -X64 t .libs/$(PACKAGE).a`\" ; then \\\n+BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then \\\n     echo '64'; else echo '32'; fi)\n #MAJOR=$(firstword $(subst :, ,$(libtool_VERSION)))\n MAJOR=5"}, {"sha": "c3bb6c0bce0abced9742a6b3d0ffa9764f47602f", "filename": "libgomp/config/t-aix", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgomp%2Fconfig%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libgomp%2Fconfig%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfig%2Ft-aix?ref=4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "patch": "@@ -1,5 +1,5 @@\n ifeq ($(MULTIBUILDTOP),)\n-BITS=$(shell if test -z \"`ar -X64 t .libs/$(PACKAGE).a`\" ; then \\\n+BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then \\\n     echo '64'; else echo '32'; fi)\n MAJOR=$(firstword $(subst :, ,$(libtool_VERSION)))\n all-local:"}, {"sha": "a5d58fab47497fa867affe6bc83643ba5d6503b9", "filename": "libstdc++-v3/config/os/aix/t-aix", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libstdc%2B%2B-v3%2Fconfig%2Fos%2Faix%2Ft-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec/libstdc%2B%2B-v3%2Fconfig%2Fos%2Faix%2Ft-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Faix%2Ft-aix?ref=4f97bed9a7989e14cbb53e405fbd8b3c08aa75ec", "patch": "@@ -1,5 +1,5 @@\n ifeq ($(MULTIBUILDTOP),)\n-BITS=$(shell if test -z \"`ar -X64 t src/.libs/$(PACKAGE).a`\" ; then \\\n+BITS=$(shell if test -z \"`$(CC) -x c -E /dev/null -g3 -o - | grep 64BIT`\" ; then \\\n     echo '64'; else echo '32'; fi)\n MAJOR=$(firstword $(subst :, ,$(libtool_VERSION)))\n all-local:"}]}