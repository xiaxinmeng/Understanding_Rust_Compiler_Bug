{"sha": "1c383b4cd4cdf0183b9f9004a987b614cc169892", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWMzODNiNGNkNGNkZjAxODNiOWY5MDA0YTk4N2I2MTRjYzE2OTg5Mg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-09T12:10:15Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-04-09T12:10:15Z"}, "message": "[multiple changes]\n\n2009-04-09  Robert Dewar  <dewar@adacore.com>\n\n\t* g-comver.adb: Minor reformatting.\n\n2009-04-09  Thomas Quinot  <quinot@adacore.com>\n\n\t* lib-load.ads (Load_Unit): Update documentation.\n\n2009-04-09  Ed Schonberg  <schonberg@adacore.com>\n\n\t* lib-load.adb (Load_Unit): When loading the parent of a child unit\n\tnamed in a with_clause, retain the with_clause to preserve a\n\tlimited_with indication.\n\nFrom-SVN: r145829", "tree": {"sha": "ba168198e1d71f02176ffd34efa5fad62bb6db42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba168198e1d71f02176ffd34efa5fad62bb6db42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c383b4cd4cdf0183b9f9004a987b614cc169892", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c383b4cd4cdf0183b9f9004a987b614cc169892", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c383b4cd4cdf0183b9f9004a987b614cc169892", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c383b4cd4cdf0183b9f9004a987b614cc169892/comments", "author": null, "committer": null, "parents": [{"sha": "4a77c72b6b82fe31fa897ef5ced8579b706c9dfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a77c72b6b82fe31fa897ef5ced8579b706c9dfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a77c72b6b82fe31fa897ef5ced8579b706c9dfc"}], "stats": {"total": 30, "additions": 24, "deletions": 6}, "files": [{"sha": "3f908f78b988305f32ec90dbb06c5956b60c534d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1c383b4cd4cdf0183b9f9004a987b614cc169892", "patch": "@@ -1,3 +1,17 @@\n+2009-04-09  Robert Dewar  <dewar@adacore.com>\n+\n+\t* g-comver.adb: Minor reformatting.\n+\n+2009-04-09  Thomas Quinot  <quinot@adacore.com>\n+\n+\t* lib-load.ads (Load_Unit): Update documentation.\n+\n+2009-04-09  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* lib-load.adb (Load_Unit): When loading the parent of a child unit\n+\tnamed in a with_clause, retain the with_clause to preserve a\n+\tlimited_with indication.\n+\n 2009-04-09  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_ch7.adb, sem_ch10.adb, sem_prag.adb, sem_ch12.adb, sem_util.adb,"}, {"sha": "7a6baa102f72b155902ec6fc96cc911577dfffe8", "filename": "gcc/ada/g-comver.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Fg-comver.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Fg-comver.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comver.adb?ref=1c383b4cd4cdf0183b9f9004a987b614cc169892", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                     Copyright (C) 2002-2005,2008 AdaCore                 --\n+--                     Copyright (C) 2002-2008, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -59,6 +59,7 @@ package body GNAT.Compiler_Version is\n          if GNAT_Version (J) = ')' then\n             return GNAT_Version (Ver_Prefix'Length + 1 .. J);\n          end if;\n+\n          if GNAT_Version (J) = Character'Val (0) then\n             return GNAT_Version (Ver_Prefix'Length + 1 .. J - 1);\n          end if;"}, {"sha": "1ceb389d553a35ff2e0d4302219cb22a5a530ae5", "filename": "gcc/ada/lib-load.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Flib-load.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Flib-load.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-load.adb?ref=1c383b4cd4cdf0183b9f9004a987b614cc169892", "patch": "@@ -358,6 +358,8 @@ package body Lib.Load is\n    begin\n       --  If renamings are allowed and we have a child unit name, then we\n       --  must first load the parent to deal with finding the real name.\n+      --  Retain the with_clause that names the child, so that if it is\n+      --  limited, the parent is loaded under the same condition.\n \n       if Renamings and then Is_Child_Name (Load_Name) then\n          Unump :=\n@@ -366,7 +368,8 @@ package body Lib.Load is\n               Required   => Required,\n               Subunit    => False,\n               Renamings  => True,\n-              Error_Node => Error_Node);\n+              Error_Node => Error_Node,\n+              With_Node  => With_Node);\n \n          if Unump = No_Unit then\n             return No_Unit;"}, {"sha": "cc2be76bc8ff7d852f80e18057b47b232f37339b", "filename": "gcc/ada/lib-load.ads", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Flib-load.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c383b4cd4cdf0183b9f9004a987b614cc169892/gcc%2Fada%2Flib-load.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-load.ads?ref=1c383b4cd4cdf0183b9f9004a987b614cc169892", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2007, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2008, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -148,9 +148,9 @@ package Lib.Load is\n    --  set to True, then Load_Name may not be the real unit name and it\n    --  is necessary to load parents to find the real name.\n    --\n-   --  From_Limited_With is True if we are loading a unit X found in a\n-   --  limited-with clause, or some unit in the context of X. It is used to\n-   --  avoid the check on circular dependency (Ada 2005, AI-50217)\n+   --  With_Node is set to the with_clause or limited_with_clause causing\n+   --  the unit to be loaded, and is used to bypass the circular dependency\n+   --  check in the case of a limited_with_clause (Ada 2005, AI-50217).\n \n    procedure Change_Main_Unit_To_Spec;\n    --  This procedure is called if the main unit file contains a No_Body pragma"}]}