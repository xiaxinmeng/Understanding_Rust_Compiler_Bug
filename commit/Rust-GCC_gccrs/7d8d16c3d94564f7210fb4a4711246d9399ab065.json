{"sha": "7d8d16c3d94564f7210fb4a4711246d9399ab065", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q4ZDE2YzNkOTQ1NjRmNzIxMGZiNGE0NzExMjQ2ZDkzOTlhYjA2NQ==", "commit": {"author": {"name": "Robert Millan", "email": "rmh@gnu.org", "date": "2011-06-14T15:32:55Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-06-14T15:32:55Z"}, "message": "kfreebsd-gnu.h: Resync with `config/i386/linux.h'.\n\n\t* config/i386/kfreebsd-gnu.h: Resync with `config/i386/linux.h'.\n\t* config/kfreebsd-gnu.h (GNU_USER_DYNAMIC_LINKER): Resync with\n\t`config/linux.h'.\n\n\t* config/i386/kfreebsd-gnu64.h: New file.\n\t* config.gcc (x86_64-*-kfreebsd*-gnu): Replace `i386/kfreebsd-gnu.h'\n\twith `i386/kfreebsd-gnu64.h'.\n\n\t* config/i386/linux64.h (GNU_USER_LINK_EMULATION32)\n\t(GNU_USER_LINK_EMULATION64): New macros.\n\t* config/i386/gnu-user64.h (LINK_SPEC): Rely on\n\t`GNU_USER_LINK_EMULATION32' and `GNU_USER_LINK_EMULATION64' instead\n\tof hardcoding `elf_i386' and `elf_x86_64'.\n\nFrom-SVN: r175031", "tree": {"sha": "102c30f302687eb7748ae7dc27626f6febdd7d2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/102c30f302687eb7748ae7dc27626f6febdd7d2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d8d16c3d94564f7210fb4a4711246d9399ab065", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d8d16c3d94564f7210fb4a4711246d9399ab065", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d8d16c3d94564f7210fb4a4711246d9399ab065", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d8d16c3d94564f7210fb4a4711246d9399ab065/comments", "author": {"login": "robertmillan", "id": 5460739, "node_id": "MDQ6VXNlcjU0NjA3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/5460739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robertmillan", "html_url": "https://github.com/robertmillan", "followers_url": "https://api.github.com/users/robertmillan/followers", "following_url": "https://api.github.com/users/robertmillan/following{/other_user}", "gists_url": "https://api.github.com/users/robertmillan/gists{/gist_id}", "starred_url": "https://api.github.com/users/robertmillan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robertmillan/subscriptions", "organizations_url": "https://api.github.com/users/robertmillan/orgs", "repos_url": "https://api.github.com/users/robertmillan/repos", "events_url": "https://api.github.com/users/robertmillan/events{/privacy}", "received_events_url": "https://api.github.com/users/robertmillan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0ccef3d2565b0a15a799da5cc8ffa9790dae388d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ccef3d2565b0a15a799da5cc8ffa9790dae388d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ccef3d2565b0a15a799da5cc8ffa9790dae388d"}], "stats": {"total": 73, "additions": 56, "deletions": 17}, "files": [{"sha": "651f380e54f09728cfdd61a14807c799d22aef3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 4, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -1,3 +1,19 @@\n+2011-06-14  Robert Millan  <rmh@gnu.org>\n+\n+\t* config/i386/kfreebsd-gnu.h: Resync with `config/i386/linux.h'.\n+\t* config/kfreebsd-gnu.h (GNU_USER_DYNAMIC_LINKER): Resync with\n+\t`config/linux.h'.\n+\n+\t* config/i386/kfreebsd-gnu64.h: New file.\n+\t* config.gcc (x86_64-*-kfreebsd*-gnu): Replace `i386/kfreebsd-gnu.h'\n+\twith `i386/kfreebsd-gnu64.h'.\n+\n+\t* config/i386/linux64.h (GNU_USER_LINK_EMULATION32)\n+\t(GNU_USER_LINK_EMULATION64): New macros.\n+\t* config/i386/gnu-user64.h (LINK_SPEC): Rely on\n+\t`GNU_USER_LINK_EMULATION32' and `GNU_USER_LINK_EMULATION64' instead\n+\tof hardcoding `elf_i386' and `elf_x86_64'.\n+\n 2011-06-14  Nick Clifton  <nickc@redhat.com>\n \n \tPR target/49403\n@@ -97,10 +113,9 @@\n \n 2011-06-13  Edmar Wienskoski  <edmar@freescale.com>\n \n-\t* config/rs6000/rs6000.md (save_gpregs_<mode>): Replaced pattern\n-\twith a set of similar patterns, where the MATCH_OPERAND for the\n-\tfunction argument is replaced with individual references to hardware\n-\tregisters.\n+\t* config/rs6000/rs6000.md (save_gpregs_<mode>): Replaced pattern with\n+\ta set of similar patterns, where the MATCH_OPERAND for the function\n+\targument is replaced with individual references to hardware registers.\n \t(save_fpregs_<mode>): Ditto\n \t(restore_gpregs_<mode>): Ditto\n \t(return_and_restore_gpregs_<mode>): Ditto"}, {"sha": "e9704f3ec7e73943cb9cbf6fbd073baacb23c94f", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -1267,7 +1267,7 @@ x86_64-*-linux* | x86_64-*-kfreebsd*-gnu | x86_64-*-knetbsd*-gnu)\n \tx86_64-*-linux*)\n \t  tm_file=\"${tm_file} linux.h i386/linux64.h\"\n \t  default_gnu_indirect_function=glibc-2011 ;;\n-\tx86_64-*-kfreebsd*-gnu) tm_file=\"${tm_file} kfreebsd-gnu.h i386/kfreebsd-gnu.h\" ;;\n+\tx86_64-*-kfreebsd*-gnu) tm_file=\"${tm_file} kfreebsd-gnu.h i386/kfreebsd-gnu64.h\" ;;\n \tx86_64-*-knetbsd*-gnu) tm_file=\"${tm_file} knetbsd-gnu.h\" ;;\n \tesac\n \ttmake_file=\"${tmake_file} i386/t-linux64 i386/t-crtstuff i386/t-crtpc i386/t-crtfm t-dfprules\""}, {"sha": "b069975ef19828d3615d233b942f4c56b4976461", "filename": "gcc/config/i386/gnu-user64.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fgnu-user64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fgnu-user64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu-user64.h?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -69,7 +69,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n  %{!mno-sse2avx:%{mavx:-msse2avx}} %{msse2avx:%{!mavx:-msse2avx}}\"\n \n #undef\tLINK_SPEC\n-#define LINK_SPEC \"%{\" SPEC_64 \":-m elf_x86_64} %{\" SPEC_32 \":-m elf_i386} \\\n+#define LINK_SPEC \"%{\" SPEC_64 \":-m \" GNU_USER_LINK_EMULATION64 \"} \\\n+                   %{\" SPEC_32 \":-m \" GNU_USER_LINK_EMULATION32 \"} \\\n   %{shared:-shared} \\\n   %{!shared: \\\n     %{!static: \\"}, {"sha": "b8c509a502d074f47a4aeb0dfcf0b9d0018b9be9", "filename": "gcc/config/i386/kfreebsd-gnu.h", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu.h?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -1,5 +1,5 @@\n /* Definitions for Intel 386 running kFreeBSD-based GNU systems with ELF format\n-   Copyright (C) 2004, 2007, 2011\n+   Copyright (C) 2011\n    Free Software Foundation, Inc.\n    Contributed by Robert Millan.\n \n@@ -19,11 +19,5 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#undef GNU_USER_LINK_EMULATION\n #define GNU_USER_LINK_EMULATION \"elf_i386_fbsd\"\n-\n-#undef GNU_USER_DYNAMIC_LINKER32\n-#define GNU_USER_DYNAMIC_LINKER32 \"/lib/ld.so.1\"\n-\n-#undef GNU_USER_DYNAMIC_LINKER64\n-#define GNU_USER_DYNAMIC_LINKER64 \"/lib/ld-kfreebsd-x86-64.so.1\"\n+#define GLIBC_DYNAMIC_LINKER \"/lib/ld.so.1\""}, {"sha": "c3798a5c591456d107a526d351f64d0ce9748032", "filename": "gcc/config/i386/kfreebsd-gnu64.h", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fkfreebsd-gnu64.h?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -0,0 +1,26 @@\n+/* Definitions for AMD x86-64 running kFreeBSD-based GNU systems with ELF format\n+   Copyright (C) 2011\n+   Free Software Foundation, Inc.\n+   Contributed by Robert Millan.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 3, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING3.  If not see\n+<http://www.gnu.org/licenses/>.  */\n+\n+#define GNU_USER_LINK_EMULATION32 \"elf_i386_fbsd\"\n+#define GNU_USER_LINK_EMULATION64 \"elf_x86_64_fbsd\"\n+\n+#define GLIBC_DYNAMIC_LINKER32 \"/lib/ld.so.1\"\n+#define GLIBC_DYNAMIC_LINKER64 \"/lib/ld-kfreebsd-x86-64.so.1\""}, {"sha": "5d332246cb53e8f1957ae70c413bdf19de6e67ca", "filename": "gcc/config/i386/linux64.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fi386%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux64.h?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -24,5 +24,8 @@ a copy of the GCC Runtime Library Exception along with this program;\n see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n+#define GNU_USER_LINK_EMULATION32 \"elf_i386\"\n+#define GNU_USER_LINK_EMULATION64 \"elf_x86_64\"\n+\n #define GLIBC_DYNAMIC_LINKER32 \"/lib/ld-linux.so.2\"\n #define GLIBC_DYNAMIC_LINKER64 \"/lib64/ld-linux-x86-64.so.2\""}, {"sha": "0317c8dd2a850be8f7a3b84a3381fbd0345a26d9", "filename": "gcc/config/kfreebsd-gnu.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fkfreebsd-gnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d8d16c3d94564f7210fb4a4711246d9399ab065/gcc%2Fconfig%2Fkfreebsd-gnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fkfreebsd-gnu.h?ref=7d8d16c3d94564f7210fb4a4711246d9399ab065", "patch": "@@ -19,7 +19,6 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#undef GNU_USER_TARGET_OS_CPP_BUILTINS    \n #define GNU_USER_TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n@@ -31,5 +30,6 @@ along with GCC; see the file COPYING3.  If not see\n     }\t\t\t\t\t\t\\\n   while (0)\n \n-#undef GNU_USER_DYNAMIC_LINKER\n-#define GNU_USER_DYNAMIC_LINKER \"/lib/ld.so.1\"\n+#define GNU_USER_DYNAMIC_LINKER                GLIBC_DYNAMIC_LINKER\n+#define GNU_USER_DYNAMIC_LINKER32      GLIBC_DYNAMIC_LINKER32\n+#define GNU_USER_DYNAMIC_LINKER64      GLIBC_DYNAMIC_LINKER64"}]}