{"sha": "0fb53e681df209314cd78a791423bfd8476b8c78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGZiNTNlNjgxZGYyMDkzMTRjZDc4YTc5MTQyM2JmZDg0NzZiOGM3OA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2002-10-25T23:46:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-10-25T23:46:06Z"}, "message": "toplev.c (dump_file_index): Add DFI_ce3.\n\n\n\t* toplev.c (dump_file_index): Add DFI_ce3.\n\t(dump_file_info): Likewise.\n\t(rest_of_compilation): Run first ifcvt pass before tracer.\n\nFrom-SVN: r58547", "tree": {"sha": "8b1c70d5d921a7f98413e7ae9ab641812a9cbb24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b1c70d5d921a7f98413e7ae9ab641812a9cbb24"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0fb53e681df209314cd78a791423bfd8476b8c78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb53e681df209314cd78a791423bfd8476b8c78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0fb53e681df209314cd78a791423bfd8476b8c78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0fb53e681df209314cd78a791423bfd8476b8c78/comments", "author": null, "committer": null, "parents": [{"sha": "e004b81f6ed37e05d3cf37dd9aa3c961bce0b6a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e004b81f6ed37e05d3cf37dd9aa3c961bce0b6a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e004b81f6ed37e05d3cf37dd9aa3c961bce0b6a9"}], "stats": {"total": 44, "additions": 29, "deletions": 15}, "files": [{"sha": "9b33a9c8d52660ea78148521931450b167a4c678", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fb53e681df209314cd78a791423bfd8476b8c78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fb53e681df209314cd78a791423bfd8476b8c78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0fb53e681df209314cd78a791423bfd8476b8c78", "patch": "@@ -1,3 +1,9 @@\n+Sat Oct 26 01:44:46 CEST 2002  Jan Hubicka  <jh@suse.cz>\n+\n+\t* toplev.c (dump_file_index): Add DFI_ce3.\n+\t(dump_file_info): Likewise.\n+\t(rest_of_compilation): Run first ifcvt pass before tracer.\n+\n 2002-10-25  Steve Ellcey  <sje@cup.hp.com>\n \n \t* config/ia64/hpux.h (BITS_BIG_ENDIAN): Remove."}, {"sha": "8e94326d37e77609160ec8d84f694ef8c7fe1af0", "filename": "gcc/toplev.c", "status": "modified", "additions": 23, "deletions": 15, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0fb53e681df209314cd78a791423bfd8476b8c78/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0fb53e681df209314cd78a791423bfd8476b8c78/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=0fb53e681df209314cd78a791423bfd8476b8c78", "patch": "@@ -232,11 +232,12 @@ enum dump_file_index\n   DFI_loop,\n   DFI_cfg,\n   DFI_bp,\n+  DFI_ce1,\n   DFI_tracer,\n   DFI_cse2,\n   DFI_life,\n   DFI_combine,\n-  DFI_ce,\n+  DFI_ce2,\n   DFI_regmove,\n   DFI_sched,\n   DFI_lreg,\n@@ -245,7 +246,7 @@ enum dump_file_index\n   DFI_flow2,\n   DFI_peephole2,\n   DFI_rnreg,\n-  DFI_ce2,\n+  DFI_ce3,\n   DFI_sched2,\n   DFI_stack,\n   DFI_bbro,\n@@ -278,13 +279,14 @@ static struct dump_file_info dump_file[DFI_MAX] =\n   { \"addressof\", 'F', 0, 0, 0 },\n   { \"gcse\",\t'G', 1, 0, 0 },\n   { \"loop\",\t'L', 1, 0, 0 },\n+  { \"ce1\",\t'C', 1, 0, 0 },\n   { \"cfg\",\t'f', 1, 0, 0 },\n   { \"bp\",\t'b', 1, 0, 0 },\n   { \"tracer\",\t'T', 1, 0, 0 },\n   { \"cse2\",\t't', 1, 0, 0 },\n   { \"life\",\t'f', 1, 0, 0 },\t/* Yes, duplicate enable switch.  */\n   { \"combine\",\t'c', 1, 0, 0 },\n-  { \"ce\",\t'C', 1, 0, 0 },\n+  { \"ce2\",\t'C', 1, 0, 0 },\n   { \"regmove\",\t'N', 1, 0, 0 },\n   { \"sched\",\t'S', 1, 0, 0 },\n   { \"lreg\",\t'l', 1, 0, 0 },\n@@ -293,7 +295,7 @@ static struct dump_file_info dump_file[DFI_MAX] =\n   { \"flow2\",\t'w', 1, 0, 0 },\n   { \"peephole2\", 'z', 1, 0, 0 },\n   { \"rnreg\",\t'n', 1, 0, 0 },\n-  { \"ce2\",\t'E', 1, 0, 0 },\n+  { \"ce3\",\t'E', 1, 0, 0 },\n   { \"sched2\",\t'R', 1, 0, 0 },\n   { \"stack\",\t'k', 1, 0, 0 },\n   { \"bbro\",\t'B', 1, 0, 0 },\n@@ -2985,6 +2987,18 @@ rest_of_compilation (decl)\n       close_dump_file (DFI_bp, print_rtl_with_bb, insns);\n       timevar_pop (TV_BRANCH_PROB);\n     }\n+  if (flag_if_conversion)\n+    {\n+      timevar_push (TV_IFCVT);\n+      if (rtl_dump_file)\n+\tdump_flow_info (rtl_dump_file);\n+      open_dump_file (DFI_ce1, decl);\n+      cleanup_cfg (CLEANUP_EXPENSIVE);\n+      reg_scan (insns, max_reg_num (), 0);\n+      if_convert (0);\n+      close_dump_file (DFI_ce1, print_rtl_with_bb, get_insns ());\n+      timevar_pop (TV_IFCVT);\n+    }\n   if (flag_tracer)\n     {\n       timevar_push (TV_TRACER);\n@@ -3009,16 +3023,10 @@ rest_of_compilation (decl)\n       if (flag_rerun_cse_after_loop)\n \t{\n \t  timevar_push (TV_JUMP);\n-\n \t  reg_scan (insns, max_reg_num (), 0);\n+\t  timevar_pop (TV_JUMP);\n \n-\t  timevar_push (TV_IFCVT);\n \t  cleanup_cfg (CLEANUP_EXPENSIVE);\n-\t  if (flag_if_conversion)\n-\t    if_convert (0);\n-\t  timevar_pop (TV_IFCVT);\n-\n-\t  timevar_pop (TV_JUMP);\n \t  /* CFG is no longer maintained up-to-date.  */\n \t  reg_scan (insns, max_reg_num (), 0);\n \t  tem = cse_main (insns, max_reg_num (), 1, rtl_dump_file);\n@@ -3117,13 +3125,13 @@ rest_of_compilation (decl)\n   if (flag_if_conversion)\n     {\n       timevar_push (TV_IFCVT);\n-      open_dump_file (DFI_ce, decl);\n+      open_dump_file (DFI_ce2, decl);\n \n       no_new_pseudos = 0;\n       if_convert (1);\n       no_new_pseudos = 1;\n \n-      close_dump_file (DFI_ce, print_rtl_with_bb, insns);\n+      close_dump_file (DFI_ce2, print_rtl_with_bb, insns);\n       timevar_pop (TV_IFCVT);\n     }\n \n@@ -3399,11 +3407,11 @@ rest_of_compilation (decl)\n   if (flag_if_conversion2)\n     {\n       timevar_push (TV_IFCVT2);\n-      open_dump_file (DFI_ce2, decl);\n+      open_dump_file (DFI_ce3, decl);\n \n       if_convert (1);\n \n-      close_dump_file (DFI_ce2, print_rtl_with_bb, insns);\n+      close_dump_file (DFI_ce3, print_rtl_with_bb, insns);\n       timevar_pop (TV_IFCVT2);\n     }\n #ifdef STACK_REGS"}]}