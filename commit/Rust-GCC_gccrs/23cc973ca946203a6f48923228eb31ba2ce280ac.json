{"sha": "23cc973ca946203a6f48923228eb31ba2ce280ac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjNjYzk3M2NhOTQ2MjAzYTZmNDg5MjMyMjhlYjMxYmEyY2UyODBhYw==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2010-05-05T13:05:21Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2010-05-05T13:05:21Z"}, "message": "010-05-04  Andrew Haley  <aph@redhat.com>\n\n\t* lib/gen-classlist.sh.in: Use absolute pathnames for all the\n\tdirectory names in the output file.\n\nFrom-SVN: r159067", "tree": {"sha": "4f222a6a497adc65316625e9fbdd760a54dd9182", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f222a6a497adc65316625e9fbdd760a54dd9182"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/23cc973ca946203a6f48923228eb31ba2ce280ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23cc973ca946203a6f48923228eb31ba2ce280ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/23cc973ca946203a6f48923228eb31ba2ce280ac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/23cc973ca946203a6f48923228eb31ba2ce280ac/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e972a1d38a15fce91d332f6f9ebee0490fe54743", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e972a1d38a15fce91d332f6f9ebee0490fe54743", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e972a1d38a15fce91d332f6f9ebee0490fe54743"}], "stats": {"total": 29, "additions": 18, "deletions": 11}, "files": [{"sha": "a12288ce72ce8df0470645c42cfd19989951c320", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23cc973ca946203a6f48923228eb31ba2ce280ac/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23cc973ca946203a6f48923228eb31ba2ce280ac/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=23cc973ca946203a6f48923228eb31ba2ce280ac", "patch": "@@ -1,3 +1,8 @@\n+2010-05-04  Andrew Haley  <aph@redhat.com>\n+\n+\t* lib/gen-classlist.sh.in: Use absolute pathnames for all the\n+\tdirectory names in the output file.\n+\n 2010-04-27  Andrew Haley  <aph@redhat.com>\n \n \t* java/util/concurrent/CopyOnWriteArrayList.java: Fix for empty"}, {"sha": "a0971ff63b0e407b87f824bad423790b5982ca6a", "filename": "libjava/classpath/lib/gen-classlist.sh.in", "status": "modified", "additions": 13, "deletions": 11, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/23cc973ca946203a6f48923228eb31ba2ce280ac/libjava%2Fclasspath%2Flib%2Fgen-classlist.sh.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/23cc973ca946203a6f48923228eb31ba2ce280ac/libjava%2Fclasspath%2Flib%2Fgen-classlist.sh.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgen-classlist.sh.in?ref=23cc973ca946203a6f48923228eb31ba2ce280ac", "patch": "@@ -7,29 +7,33 @@\n LC_ALL=C; export LC_ALL\n LANG=C; export LANG\n \n-echo \"Adding java source files from srcdir '@top_srcdir@'.\"\n+abs_top_builddir=`cd \"${top_builddir}\"; pwd`\n+abs_top_srcdir=`cd \"@top_srcdir@\"; pwd`\n+\n+echo \"Adding java source files from srcdir '${abs_top_srcdir}'.\"\n+\n # We construct 'classes.1' as a series of lines.  Each line\n # has three fields, which are separated by spaces.  The first\n # field is the package of this class (separated by \"/\"s).\n-# The second field is the name of the top-level directory for\n-# this file, relative to the build directory.  E.g., it might\n-# look like \"../../classpath/vm/reference\".\n+# The second field is the absolute pathname of the top-level directory\n+# for this file.  E.g., it might look like\n+# \"/home/jezebel/classpath/vm/reference\".\n # The third field is the file name, like \"java/lang/Object.java\".\n # We do this because it makes splitting for the gcj build much\n # cheaper.\n (cd @top_srcdir@\n  @FIND@ java javax gnu org sun -follow -name '*.java' -print |\n  sort -r | sed -e 's,/\\([^/]*\\)$, \\1,' |\n  while read pkg file; do\n-    echo $pkg @top_srcdir@ $pkg/$file\n+    echo $pkg ${abs_top_srcdir} $pkg/$file\n  done) > ${top_builddir}/lib/classes.1\n \n # The same, but for the external code.\n for dir in \\\n-   @top_srcdir@/external/w3c_dom \\\n-   @top_srcdir@/external/sax \\\n-   @top_srcdir@/external/relaxngDatatype \\\n-   @top_srcdir@/external/jsr166 \\\n+   ${abs_top_srcdir}/external/w3c_dom \\\n+   ${abs_top_srcdir}/external/sax \\\n+   ${abs_top_srcdir}/external/relaxngDatatype \\\n+   ${abs_top_srcdir}/external/jsr166 \\\n    ; do\n    (cd $dir\n    for subdir in java javax gnu org sun; do\n@@ -62,8 +66,6 @@ for dir in $vm_dirlist; do\n done\n \n # Only include generated files once.\n-abs_top_builddir=`cd \"${top_builddir}\"; pwd`\n-abs_top_srcdir=`cd \"@top_srcdir@\"; pwd`\n if test \"$abs_top_builddir\" != \"$abs_top_srcdir\"; then\n   echo \"Adding generated files in builddir '${top_builddir}'.\"\n   # Currently the only generated files are in gnu.*."}]}