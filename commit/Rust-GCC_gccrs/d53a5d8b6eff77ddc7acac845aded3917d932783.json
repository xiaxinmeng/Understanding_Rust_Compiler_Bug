{"sha": "d53a5d8b6eff77ddc7acac845aded3917d932783", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDUzYTVkOGI2ZWZmNzdkZGM3YWNhYzg0NWFkZWQzOTE3ZDkzMjc4Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-11-17T23:25:07Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-11-17T23:25:07Z"}, "message": "* cgraph.c (cgraph_node::dump): Do IPA sanity checking on IPA counts.\n\nFrom-SVN: r254909", "tree": {"sha": "92a9bf94cbefbc4e1298dd6b14d8624242ca4a98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92a9bf94cbefbc4e1298dd6b14d8624242ca4a98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d53a5d8b6eff77ddc7acac845aded3917d932783", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d53a5d8b6eff77ddc7acac845aded3917d932783", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d53a5d8b6eff77ddc7acac845aded3917d932783", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d53a5d8b6eff77ddc7acac845aded3917d932783/comments", "author": null, "committer": null, "parents": [{"sha": "c51081fc9f11848aa17d27dfb4224bf2ef32bacc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c51081fc9f11848aa17d27dfb4224bf2ef32bacc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c51081fc9f11848aa17d27dfb4224bf2ef32bacc"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "da5aea09e957b498158682f31606c090be499f86", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d53a5d8b6eff77ddc7acac845aded3917d932783/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d53a5d8b6eff77ddc7acac845aded3917d932783/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d53a5d8b6eff77ddc7acac845aded3917d932783", "patch": "@@ -1,3 +1,7 @@\n+2017-11-17  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* cgraph.c (cgraph_node::dump): Do IPA sanity checking on IPA counts.\n+\n 2017-11-17  Steve Ellcey  <sellcey@cavium.com>\n \n \t* config/aarch64/aarch64-simd.md (fnma<mode>4): Move neg operator"}, {"sha": "69eb9bb2341b13435b2c38c606e2db9b2edf471b", "filename": "gcc/cgraph.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d53a5d8b6eff77ddc7acac845aded3917d932783/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d53a5d8b6eff77ddc7acac845aded3917d932783/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=d53a5d8b6eff77ddc7acac845aded3917d932783", "patch": "@@ -2160,7 +2160,7 @@ cgraph_node::dump (FILE *f)\n       fprintf (f, \"%s \", edge->caller->dump_name ());\n       edge->dump_edge_flags (f);\n       if (edge->count.initialized_p ())\n-\tsum += edge->count;\n+\tsum += edge->count.ipa ();\n     }\n \n   fprintf (f, \"\\n  Calls: \");\n@@ -2184,7 +2184,7 @@ cgraph_node::dump (FILE *f)\n       if (global.inlined_to\n \t  || (symtab->state < EXPANSION\n \t      && ultimate_alias_target () == this && only_called_directly_p ()))\n-\tok = !count.differs_from_p (sum);\n+\tok = !count.ipa ().differs_from_p (sum);\n       else if (count.ipa () > profile_count::from_gcov_type (100)\n \t       && count.ipa () < sum.apply_scale (99, 100))\n \tok = false, min = true;\n@@ -2196,7 +2196,7 @@ cgraph_node::dump (FILE *f)\n \t    fprintf (f, \", should be at most \");\n \t  else\n \t    fprintf (f, \", should be \");\n-\t  count.dump (f);\n+\t  count.ipa ().dump (f);\n \t  fprintf (f, \"\\n\");\n \t}\n     }"}]}