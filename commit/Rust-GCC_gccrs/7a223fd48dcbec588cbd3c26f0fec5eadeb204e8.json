{"sha": "7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EyMjNmZDQ4ZGNiZWM1ODhjYmQzYzI2ZjBmZWM1ZWFkZWIyMDRlOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2006-12-24T10:17:15Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2006-12-24T10:17:15Z"}, "message": "tree-mudflap.c (ml_decl_cache_locals, [...]): add newly referenced vars.\n\n\t* tree-mudflap.c (ml_decl_cache_locals, md_build_check_statement_for):\n\tadd newly referenced vars.\n\nFrom-SVN: r120188", "tree": {"sha": "cd3ee3dcd58463177a597c08780d3eaaa9324aed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd3ee3dcd58463177a597c08780d3eaaa9324aed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8/comments", "author": null, "committer": null, "parents": [{"sha": "9b1ae0a09789baa17e9959b57db78ffc7d4a7fa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b1ae0a09789baa17e9959b57db78ffc7d4a7fa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b1ae0a09789baa17e9959b57db78ffc7d4a7fa6"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "dc885b7db54ab4322ac4511ea724a8eedc244411", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "patch": "@@ -1,3 +1,8 @@\n+2006-12-24  Jan Hubicka  <jh@suse.cz>\n+\n+\t* tree-mudflap.c (ml_decl_cache_locals, md_build_check_statement_for):\n+\tadd newly referenced vars.\n+\n 2006-12-24  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* basic-block.h: Remove the prototype for"}, {"sha": "209dc00ab77ccd9f1e59bed6daa613253f5ca9cd", "filename": "gcc/tree-mudflap.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8/gcc%2Ftree-mudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a223fd48dcbec588cbd3c26f0fec5eadeb204e8/gcc%2Ftree-mudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-mudflap.c?ref=7a223fd48dcbec588cbd3c26f0fec5eadeb204e8", "patch": "@@ -460,12 +460,14 @@ mf_decl_cache_locals (void)\n      globals into the cache variables.  */\n   t = build2 (GIMPLE_MODIFY_STMT, TREE_TYPE (mf_cache_shift_decl_l),\n               mf_cache_shift_decl_l, mf_cache_shift_decl);\n+  add_referenced_var (mf_cache_shift_decl);\n   SET_EXPR_LOCATION (t, DECL_SOURCE_LOCATION (current_function_decl));\n   gimplify_to_stmt_list (&t);\n   shift_init_stmts = t;\n \n   t = build2 (GIMPLE_MODIFY_STMT, TREE_TYPE (mf_cache_mask_decl_l),\n               mf_cache_mask_decl_l, mf_cache_mask_decl);\n+  add_referenced_var (mf_cache_mask_decl);\n   SET_EXPR_LOCATION (t, DECL_SOURCE_LOCATION (current_function_decl));\n   gimplify_to_stmt_list (&t);\n   mask_init_stmts = t;\n@@ -571,13 +573,17 @@ mf_build_check_statement_for (tree base, tree limit,\n                                             & __mf_mask].  */\n   t = build2 (RSHIFT_EXPR, mf_uintptr_type, mf_base,\n               (flag_mudflap_threads ? mf_cache_shift_decl : mf_cache_shift_decl_l));\n+  add_referenced_var (mf_cache_shift_decl);\n   t = build2 (BIT_AND_EXPR, mf_uintptr_type, t,\n               (flag_mudflap_threads ? mf_cache_mask_decl : mf_cache_mask_decl_l));\n+  add_referenced_var (mf_cache_mask_decl);\n   t = build4 (ARRAY_REF,\n               TREE_TYPE (TREE_TYPE (mf_cache_array_decl)),\n               mf_cache_array_decl, t, NULL_TREE, NULL_TREE);\n+  add_referenced_var (mf_cache_array_decl);\n   t = build1 (ADDR_EXPR, mf_cache_structptr_type, t);\n   t = build2 (GIMPLE_MODIFY_STMT, void_type_node, mf_elem, t);\n+  add_referenced_var (mf_elem);\n   SET_EXPR_LOCUS (t, locus);\n   gimplify_to_stmt_list (&t);\n   tsi_link_after (&tsi, t, TSI_CONTINUE_LINKING);\n@@ -601,6 +607,7 @@ mf_build_check_statement_for (tree base, tree limit,\n               build1 (INDIRECT_REF, mf_cache_struct_type, mf_elem),\n               TYPE_FIELDS (mf_cache_struct_type), NULL_TREE);\n   t = build2 (GT_EXPR, boolean_type_node, t, mf_base);\n+  add_referenced_var (mf_base);\n \n   /* Construct '__mf_elem->high < __mf_limit'.\n "}]}