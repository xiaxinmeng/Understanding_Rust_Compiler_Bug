{"sha": "00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDBlNzJhYTQ2MjdiYzhjYmFiNzBhZDBhNDhlZmEyMjFhN2E3MDdjOA==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2019-06-27T13:59:20Z"}, "committer": {"name": "William Schmidt", "email": "wschmidt@gcc.gnu.org", "date": "2019-06-27T13:59:20Z"}, "message": "rs6000.c (rs6000_option_override_internal): Enable -fvariable-expansion-in-unroller by default.\n\n2019-06-27  Bill Schmidt  <wschmidt@linux.ibm.com>\n\n\t* config/rs6000/rs6000.c (rs6000_option_override_internal): Enable\n\t-fvariable-expansion-in-unroller by default.\n\t* doc/invoke.texi (-fvariable-expansion-in-unroller): Document new\n\tdefault for Power.\n\nFrom-SVN: r272754", "tree": {"sha": "9274e2917d4543460a69ef4209b0717a8f980e14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9274e2917d4543460a69ef4209b0717a8f980e14"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/comments", "author": null, "committer": null, "parents": [{"sha": "2fd634d41d42b38c56a31a07963dd73ba892f3ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fd634d41d42b38c56a31a07963dd73ba892f3ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fd634d41d42b38c56a31a07963dd73ba892f3ba"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "93dbd4f160430ae58eab331bcd5b04b87b7f959d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "patch": "@@ -1,3 +1,10 @@\n+2019-06-27  Bill Schmidt  <wschmidt@linux.ibm.com>\n+\n+\t* config/rs6000/rs6000.c (rs6000_option_override_internal): Enable\n+\t-fvariable-expansion-in-unroller by default.\n+\t* doc/invoke.texi (-fvariable-expansion-in-unroller): Document new\n+\tdefault for Power.\n+\n 2019-06-27  David Edelsohn  <dje.gcc@gmail.com>\n \n \tRevert"}, {"sha": "3b59db5cf2cd0f9b1ab8a17776f68afb4bf239d1", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "patch": "@@ -3616,6 +3616,12 @@ rs6000_option_override_internal (bool global_init_p)\n       && !global_options_set.x_flag_asynchronous_unwind_tables)\n     flag_asynchronous_unwind_tables = 1;\n \n+  /* -fvariable-expansion-in-unroller is a win for POWER whenever the\n+     loop unroller is active.  It is only checked during unrolling, so\n+     we can just set it on by default.  */\n+  if (!global_options_set.x_flag_variable_expansion_in_unroller)\n+    flag_variable_expansion_in_unroller = 1;\n+\n   /* Set the pointer size.  */\n   if (TARGET_64BIT)\n     {"}, {"sha": "04fd504496e5af25ab0fc0f346b2efbbb9cf1b66", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/00e72aa4627bc8cbab70ad0a48efa221a7a707c8/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=00e72aa4627bc8cbab70ad0a48efa221a7a707c8", "patch": "@@ -9849,6 +9849,9 @@ This optimization is enabled by default.\n With this option, the compiler creates multiple copies of some\n local variables when unrolling a loop, which can result in superior code.\n \n+This optimization is enabled by default for PowerPC targets, but disabled\n+by default otherwise.\n+\n @item -fpartial-inlining\n @opindex fpartial-inlining\n Inline parts of functions.  This option has any effect only"}]}