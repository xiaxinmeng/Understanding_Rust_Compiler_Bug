{"sha": "8b9d606b3978407e04da737409fa16792f879bf4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI5ZDYwNmIzOTc4NDA3ZTA0ZGE3Mzc0MDlmYTE2NzkyZjg3OWJmNA==", "commit": {"author": {"name": "Kenneth Zadeck", "email": "zadeck@naturalbridge.com", "date": "2007-06-18T16:47:05Z"}, "committer": {"name": "Kenneth Zadeck", "email": "zadeck@gcc.gnu.org", "date": "2007-06-18T16:47:05Z"}, "message": "re PR rtl-optimization/32355 (ICE in df_lr_verify_transfer_functions, at df-problems.c:1924)\n\n2007-06-18  Kenneth Zadeck <zadeck@naturalbridge.com>\n\n\tPR middle-end/32355\n\t* gcse (rest_of_handle_gcse): Add call to df_finish_pass after\n\tcse_main.\n\t* df-problems.c (df_note_bb_compute): Fix dumping info.\n\t\n2007-06-18  Kenneth Zadeck <zadeck@naturalbridge.com>\n\n\t* gcc.c-torture/compile/pr32355.c: New testcase.\n\nFrom-SVN: r125812", "tree": {"sha": "aa7b92d0da4987981add8f5c46078b7cd27734e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa7b92d0da4987981add8f5c46078b7cd27734e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b9d606b3978407e04da737409fa16792f879bf4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b9d606b3978407e04da737409fa16792f879bf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b9d606b3978407e04da737409fa16792f879bf4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b9d606b3978407e04da737409fa16792f879bf4/comments", "author": {"login": "zadeck", "id": 42682403, "node_id": "MDQ6VXNlcjQyNjgyNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/42682403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zadeck", "html_url": "https://github.com/zadeck", "followers_url": "https://api.github.com/users/zadeck/followers", "following_url": "https://api.github.com/users/zadeck/following{/other_user}", "gists_url": "https://api.github.com/users/zadeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/zadeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zadeck/subscriptions", "organizations_url": "https://api.github.com/users/zadeck/orgs", "repos_url": "https://api.github.com/users/zadeck/repos", "events_url": "https://api.github.com/users/zadeck/events{/privacy}", "received_events_url": "https://api.github.com/users/zadeck/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b8afffc15fb0979a4e3f13af9678d45e91ec5b81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8afffc15fb0979a4e3f13af9678d45e91ec5b81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8afffc15fb0979a4e3f13af9678d45e91ec5b81"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "00b1ec914520c990b4acb2d1b13584f081c7e69d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b9d606b3978407e04da737409fa16792f879bf4", "patch": "@@ -1,3 +1,10 @@\n+2007-06-18  Kenneth Zadeck <zadeck@naturalbridge.com>\n+\n+\tPR middle-end/32355\n+\t* gcse (rest_of_handle_gcse): Add call to df_finish_pass after\n+\tcse_main.\n+\t* df-problems.c (df_note_bb_compute): Fix dumping info.\n+\t\n 2007-06-18  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* config/m68k/m68k.c (m68k_expand_epilogue): Emit a return"}, {"sha": "dc5270e935bbde6636cf671a92b3f8da2bc096cd", "filename": "gcc/df-problems.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Fdf-problems.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Fdf-problems.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdf-problems.c?ref=8b9d606b3978407e04da737409fa16792f879bf4", "patch": "@@ -3867,8 +3867,10 @@ df_note_bb_compute (unsigned int bb_index,\n   for (def_rec = df_get_artificial_defs (bb_index); *def_rec; def_rec++)\n     {\n       struct df_ref *def = *def_rec;\n+#ifdef REG_DEAD_DEBUGGING\n       if (dump_file)\n \tfprintf (dump_file, \"artificial def %d\\n\", DF_REF_REGNO (def));\n+#endif\n \n       if ((DF_REF_FLAGS (def) & DF_REF_AT_TOP) == 0)\n \tbitmap_clear_bit (live, DF_REF_REGNO (def));"}, {"sha": "828ee6b32543860085a85e5d3d099771bdc6324d", "filename": "gcc/gcse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=8b9d606b3978407e04da737409fa16792f879bf4", "patch": "@@ -6704,6 +6704,7 @@ rest_of_handle_gcse (void)\n     {\n       timevar_push (TV_CSE);\n       tem2 = cse_main (get_insns (), max_reg_num ());\n+      df_finish_pass ();\n       purge_all_dead_edges ();\n       delete_trivially_dead_insns (get_insns (), max_reg_num ());\n       timevar_pop (TV_CSE);"}, {"sha": "7550286b7a0bf34c64be19741cb1a7cf5fa94519", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8b9d606b3978407e04da737409fa16792f879bf4", "patch": "@@ -1,3 +1,7 @@\n+2007-06-18  Kenneth Zadeck <zadeck@naturalbridge.com>\n+\n+\t* gcc.c-torture/compile/pr32355.c: New testcase.\n+\t\n 2007-06-18  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR tree-optimization/32383"}, {"sha": "126412d30bcb9d069fa2d1380d89b94ee2cb1dc8", "filename": "gcc/testsuite/gcc.c-torture/compile/pr32355.c", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32355.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b9d606b3978407e04da737409fa16792f879bf4/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32355.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32355.c?ref=8b9d606b3978407e04da737409fa16792f879bf4", "patch": "@@ -0,0 +1,33 @@\n+/* { dg-options \"-O3\" } */\n+\n+typedef struct\n+{\n+}\n+__sigset_t;\n+typedef struct\n+{\n+    char coredump;\n+}\n+EMode;\n+extern EMode Mode;\n+struct sigaction\n+{\n+  __sigset_t sa_mask;\n+  int sa_flags;\n+};\n+doSignalsSetup (void)\n+{\n+  static const int signals[] = {\n+    1, 2 , 3, 4, 6, 8, 11, 13, 14, 15, 10, 12, 17, 7\n+  };\n+  unsigned int i, sig;\n+  struct sigaction sa;\n+  for (i = 0; i < sizeof (signals) / sizeof (int); i++)\n+    {\n+      sig = signals[i];\n+      if (Mode.coredump && (sig == 4 || sig == 8))\n+        continue;\n+      sa.sa_flags = (sig == 17);\n+      sigemptyset (&sa.sa_mask);\n+    }\n+}"}]}