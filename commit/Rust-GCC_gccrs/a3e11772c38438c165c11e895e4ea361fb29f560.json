{"sha": "a3e11772c38438c165c11e895e4ea361fb29f560", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNlMTE3NzJjMzg0MzhjMTY1YzExZTg5NWU0ZWEzNjFmYjI5ZjU2MA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-01-08T23:27:06Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-01-08T23:27:06Z"}, "message": "(LINK_SPEC): Change nostdlib to nostartfiles.\n\n(LOCAL_LABEL_PREFIX): Delete.\n(ASM_OUTPUT_SECTION_NAME): Define.\n\nFrom-SVN: r10954", "tree": {"sha": "00d49514921ce87a890176034cf431a03cbc45c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00d49514921ce87a890176034cf431a03cbc45c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3e11772c38438c165c11e895e4ea361fb29f560", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e11772c38438c165c11e895e4ea361fb29f560", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3e11772c38438c165c11e895e4ea361fb29f560", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3e11772c38438c165c11e895e4ea361fb29f560/comments", "author": null, "committer": null, "parents": [{"sha": "f4ff2d8fb71185c0c0fafbf79949f4c390aa37e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4ff2d8fb71185c0c0fafbf79949f4c390aa37e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4ff2d8fb71185c0c0fafbf79949f4c390aa37e4"}], "stats": {"total": 22, "additions": 18, "deletions": 4}, "files": [{"sha": "146aec1fee54b621eb07bcdfa90e57de1c75b2cc", "filename": "gcc/config/mips/netbsd.h", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3e11772c38438c165c11e895e4ea361fb29f560/gcc%2Fconfig%2Fmips%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3e11772c38438c165c11e895e4ea361fb29f560/gcc%2Fconfig%2Fmips%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fnetbsd.h?ref=a3e11772c38438c165c11e895e4ea361fb29f560", "patch": "@@ -50,7 +50,7 @@ Boston, MA 02111-1307, USA.  */\n #undef LINK_SPEC\n #define LINK_SPEC \\\n   \"%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n-   %{!nostdlib:%{!r*:%{!e*:-e __start}}} -dc -dp %{static:-Bstatic} %{assert*}\"\n+   %{!nostartfiles:%{!r*:%{!e*:-e __start}}} -dc -dp %{static:-Bstatic} %{assert*}\"\n \n /* We have atexit(3).  */\n \n@@ -103,8 +103,6 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_DEFAULT MASK_GAS\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n \n-#define LOCAL_LABEL_PREFIX\t\".\"\n-\n #include \"mips/mips.h\"\n \n /*\n@@ -227,7 +225,23 @@ do {\t\t\t\t\t\t\t\t\t \\\n       }\t\t\t\t\t\t\t\t\t\\\n   } while (0)\n \n+/*\n+ A C statement to output something to the assembler file to switch to section\n+ NAME for object DECL which is either a FUNCTION_DECL, a VAR_DECL or\n+ NULL_TREE.  Some target formats do not support arbitrary sections.  Do not\n+ define this macro in such cases.\n+*/\n+#define ASM_OUTPUT_SECTION_NAME(F, DECL, NAME)                               \\\n+do {                                                                         \\\n+  extern FILE *asm_out_text_file;                                            \\\n+  if ((DECL) && TREE_CODE (DECL) == FUNCTION_DECL)                           \\\n+    fprintf (asm_out_text_file, \"\\t.section %s,\\\"ax\\\",@progbits\\n\", (NAME)); \\\n+  else if ((DECL) && TREE_READONLY (DECL))                                   \\\n+    fprintf (F, \"\\t.section %s,\\\"a\\\",@progbits\\n\", (NAME));                  \\\n+  else                                                                       \\\n+    fprintf (F, \"\\t.section %s,\\\"aw\\\",@progbits\\n\", (NAME));                 \\\n+} while (0)\n+\n /* Since gas and gld are standard on NetBSD, we don't need these */\n #undef ASM_FINAL_SPEC\n #undef STARTFILE_SPEC\n-"}]}