{"sha": "2d48c13dc2d0912138ff2648ce9c1081d1653b73", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ0OGMxM2RjMmQwOTEyMTM4ZmYyNjQ4Y2U5YzEwODFkMTY1M2I3Mw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-29T13:15:21Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-29T13:15:21Z"}, "message": "expr.c (expand_expr): For {BITFIELD,COMPONENT,ARRAY}_REF...\n\nd\n        * expr.c (expand_expr): For {BITFIELD,COMPONENT,ARRAY}_REF, if the\n        offset's mode is not ptr_mode, convert it.\n\nFrom-SVN: r17260", "tree": {"sha": "351e54fd6d54867ace95ef13cb947ef619198be4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/351e54fd6d54867ace95ef13cb947ef619198be4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d48c13dc2d0912138ff2648ce9c1081d1653b73", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d48c13dc2d0912138ff2648ce9c1081d1653b73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d48c13dc2d0912138ff2648ce9c1081d1653b73", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d48c13dc2d0912138ff2648ce9c1081d1653b73/comments", "author": null, "committer": null, "parents": [{"sha": "0eb1ad44b61e10b527b86be59e97cfc59b9a72df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0eb1ad44b61e10b527b86be59e97cfc59b9a72df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0eb1ad44b61e10b527b86be59e97cfc59b9a72df"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "623a9039bad94a136f0e0f4e9111d5a5822e287e", "filename": "gcc/expr.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d48c13dc2d0912138ff2648ce9c1081d1653b73/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d48c13dc2d0912138ff2648ce9c1081d1653b73/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=2d48c13dc2d0912138ff2648ce9c1081d1653b73", "patch": "@@ -5739,6 +5739,14 @@ expand_expr (exp, target, tmode, modifier)\n \n \t    if (GET_CODE (op0) != MEM)\n \t      abort ();\n+\n+\t    if (GET_MODE (offset_rtx) != ptr_mode)\n+#ifdef POINTERS_EXTEND_UNSIGNED\n+\t      offset_rtx = convert_to_mode (ptr_mode, offset_rtx, 1);\n+#else\n+\t      offset_rtx = convert_to_mode (ptr_mode, offset_rtx, 0);\n+#endif\n+\n \t    op0 = change_address (op0, VOIDmode,\n \t\t\t\t  gen_rtx (PLUS, ptr_mode, XEXP (op0, 0),\n \t\t\t\t\t   force_reg (ptr_mode, offset_rtx)));"}]}