{"sha": "c47d8f8255dca648195a83f5bd768e443f3a3976", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ3ZDhmODI1NWRjYTY0ODE5NWE4M2Y1YmQ3NjhlNDQzZjNhMzk3Ng==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2003-06-12T14:02:41Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2003-06-12T14:02:41Z"}, "message": "c-opts.c (complain_wrong_lang): Add on argument.\n\n\t* c-opts.c (complain_wrong_lang): Add on argument.\n\tPrint no- switch if on is false.\n\t(c_common_decode_option): Adjust caller.\n\nFrom-SVN: r67831", "tree": {"sha": "d1e34bb621b6b07756b71b0e08062bb4a23713d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1e34bb621b6b07756b71b0e08062bb4a23713d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c47d8f8255dca648195a83f5bd768e443f3a3976", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c47d8f8255dca648195a83f5bd768e443f3a3976", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c47d8f8255dca648195a83f5bd768e443f3a3976", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c47d8f8255dca648195a83f5bd768e443f3a3976/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "109480b1c5e848f7411da6caad8dad560e66d13a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/109480b1c5e848f7411da6caad8dad560e66d13a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/109480b1c5e848f7411da6caad8dad560e66d13a"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "bd4e11812fc3dbe048576b874cf6a8abf9551d6e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c47d8f8255dca648195a83f5bd768e443f3a3976/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c47d8f8255dca648195a83f5bd768e443f3a3976/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c47d8f8255dca648195a83f5bd768e443f3a3976", "patch": "@@ -1,3 +1,9 @@\n+2003-06-12  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* c-opts.c (complain_wrong_lang): Add on argument.\n+\tPrint no- switch if on is false.\n+\t(c_common_decode_option): Adjust caller.\n+\n 2003-06-12  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.c (s390_emit_prologue): Use LA instead of AR"}, {"sha": "20884867df4846309f8870e74e8bf74dcbfc5b39", "filename": "gcc/c-opts.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c47d8f8255dca648195a83f5bd768e443f3a3976/gcc%2Fc-opts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c47d8f8255dca648195a83f5bd768e443f3a3976/gcc%2Fc-opts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-opts.c?ref=c47d8f8255dca648195a83f5bd768e443f3a3976", "patch": "@@ -102,7 +102,7 @@ static size_t include_cursor;\n \n static void missing_arg PARAMS ((enum opt_code));\n static void set_Wimplicit PARAMS ((int));\n-static void complain_wrong_lang PARAMS ((size_t));\n+static void complain_wrong_lang PARAMS ((size_t, int));\n static void write_langs PARAMS ((char *, int));\n static void print_help PARAMS ((void));\n static void handle_OPT_d PARAMS ((const char *));\n@@ -265,7 +265,7 @@ c_common_handle_option (size_t scode, const char *arg, int on)\n   lang_mask = lang_flags[(c_language << 1) + flag_objc];\n   if (!(option->flags & lang_mask))\n     {\n-      complain_wrong_lang (code);\n+      complain_wrong_lang (code, on);\n       return 1;\n     }\n \n@@ -1553,17 +1553,19 @@ write_langs (buf, flags)\n \n /* Complain that switch OPT_INDEX does not apply to this front end.  */\n static void\n-complain_wrong_lang (opt_index)\n+complain_wrong_lang (opt_index, on)\n      size_t opt_index;\n+     int on;\n {\n   char ok_langs[60], bad_langs[60];\n   int ok_flags = cl_options[opt_index].flags;\n \n   write_langs (ok_langs, ok_flags);\n   write_langs (bad_langs, ~ok_flags);\n   /* Eventually this should become a hard error.  */\n-  warning (\"\\\"-%s\\\" is valid for %s but not for %s\",\n-\t   cl_options[opt_index].opt_text, ok_langs, bad_langs);\n+  warning (\"\\\"-%c%s%s\\\" is valid for %s but not for %s\",\n+\t   cl_options[opt_index].opt_text[0], on ? \"\" : \"no-\",\n+\t   cl_options[opt_index].opt_text + 1, ok_langs, bad_langs);\n }\n \n /* Handle --help output.  */"}]}