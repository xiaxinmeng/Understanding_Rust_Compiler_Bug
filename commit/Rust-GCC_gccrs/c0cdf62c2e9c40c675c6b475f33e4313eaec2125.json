{"sha": "c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzBjZGY2MmMyZTljNDBjNjc1YzZiNDc1ZjMzZTQzMTNlYWVjMjEyNQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2016-09-26T10:29:53Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2016-09-26T10:29:53Z"}, "message": "init.c (expand_default_init): Fix } indentation.\n\n\t* init.c (expand_default_init): Fix } indentation.\n\t* method.c (process_subob_fn): Simplify control structure to\n\tremove gotos.\n\t(implicitly_declare_fn): Remove duplicated lambda ctor check.\n\nFrom-SVN: r240489", "tree": {"sha": "51068e2e669543fb286c52f5c6b55e1f1c444d3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51068e2e669543fb286c52f5c6b55e1f1c444d3a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1a08d2da0e685413192921aaced414d450f3ef5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a08d2da0e685413192921aaced414d450f3ef5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a08d2da0e685413192921aaced414d450f3ef5b"}], "stats": {"total": 27, "additions": 13, "deletions": 14}, "files": [{"sha": "f250a82f4fbb2b4d275cff86898d77816c2c0c96", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "patch": "@@ -1,3 +1,10 @@\n+2016-09-26  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* init.c (expand_default_init): Fix } indentation.\n+\t* method.c (process_subob_fn): Simplify control structure to\n+\tremove gotos.\n+\t(implicitly_declare_fn): Remove duplicated lambda ctor check.\n+\n 2016-09-26  Marek Polacek  <polacek@redhat.com>\n \n \tPR c/7652"}, {"sha": "798de0871608d38042d4a224a5cf080f88f56835", "filename": "gcc/cp/init.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Finit.c?ref=c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "patch": "@@ -1747,7 +1747,7 @@ expand_default_init (tree binfo, tree true_exp, tree exp, tree init, int flags,\n \tctor_name = base_ctor_identifier;\n       rval = build_special_member_call (exp, ctor_name, &parms, binfo, flags,\n \t\t\t\t\tcomplain);\n-  }\n+    }\n \n   if (parms != NULL)\n     release_tree_vector (parms);"}, {"sha": "5de20d406551e1c8a1625c9c4b9c52a5dc7da60f", "filename": "gcc/cp/method.c", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0cdf62c2e9c40c675c6b475f33e4313eaec2125/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=c0cdf62c2e9c40c675c6b475f33e4313eaec2125", "patch": "@@ -1129,7 +1129,11 @@ process_subob_fn (tree fn, tree *spec_p, bool *trivial_p,\n \t\t  bool diag, tree arg, bool dtor_from_ctor = false)\n {\n   if (!fn || fn == error_mark_node)\n-    goto bad;\n+    {\n+      if (deleted_p)\n+\t*deleted_p = true;\n+      return;\n+    }\n \n   if (spec_p)\n     {\n@@ -1162,12 +1166,6 @@ process_subob_fn (tree fn, tree *spec_p, bool *trivial_p,\n \t  explain_invalid_constexpr_fn (fn);\n \t}\n     }\n-\n-  return;\n-\n- bad:\n-  if (deleted_p)\n-    *deleted_p = true;\n }\n \n /* Subroutine of synthesized_method_walk to allow recursion into anonymous\n@@ -1931,12 +1929,6 @@ implicitly_declare_fn (special_function_kind kind, tree type,\n   DECL_DEFAULTED_FN (fn) = 1;\n   if (cxx_dialect >= cxx11)\n     {\n-      /* \"The closure type associated with a lambda-expression has a deleted\n-\t default constructor and a deleted copy assignment operator.\"  */\n-      if ((kind == sfk_constructor\n-\t   || kind == sfk_copy_assignment)\n-\t  && LAMBDA_TYPE_P (type))\n-\tdeleted_p = true;\n       DECL_DELETED_FN (fn) = deleted_p;\n       DECL_DECLARED_CONSTEXPR_P (fn) = constexpr_p;\n     }"}]}