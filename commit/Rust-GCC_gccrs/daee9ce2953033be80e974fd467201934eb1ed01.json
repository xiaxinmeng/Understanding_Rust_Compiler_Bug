{"sha": "daee9ce2953033be80e974fd467201934eb1ed01", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGFlZTljZTI5NTMwMzNiZTgwZTk3NGZkNDY3MjAxOTM0ZWIxZWQwMQ==", "commit": {"author": {"name": "Andrew Bennett", "email": "andrew.bennett@imgtec.com", "date": "2015-07-08T09:40:35Z"}, "committer": {"name": "Andrew Bennett", "email": "abennett@gcc.gnu.org", "date": "2015-07-08T09:40:35Z"}, "message": "MIPS: Fix failing branch range checks for micromips.\n\nThe current branch range tests assume that the MIPS branch instructions\nhave a 16 bit branch offset which is shifted by 2.  Unfortunately for microMIPS\nthis offset is shifted by 1 which reduces the branch range and caused the\nbranch-*.c tests to fail.\n\n\ntestsuite/\n\t* gcc.target/mips/branch-2.c: Change NOMIPS16 to NOCOMPRESSION.\n\t* gcc.target/mips/branch-3.c: Ditto\n\t* gcc.target/mips/branch-4.c: Ditto.\n\t* gcc.target/mips/branch-5.c: Ditto.\n\t* gcc.target/mips/branch-6.c: Ditto.\n\t* gcc.target/mips/branch-7.c: Ditto.\n\t* gcc.target/mips/branch-8.c: Ditto.\n\t* gcc.target/mips/branch-9.c: Ditto.\n\t* gcc.target/mips/branch-10.c: Ditto.\n\t* gcc.target/mips/branch-11.c: Ditto.\n\t* gcc.target/mips/branch-12.c: Ditto.\n\t* gcc.target/mips/branch-13.c: Ditto.\n\t* gcc.target/mips/umips-branch-5.c: New file.\n\t* gcc.target/mips/umips-branch-6.c: New file.\n\t* gcc.target/mips/umips-branch-7.c: New file.\n\t* gcc.target/mips/umips-branch-8.c: New file.\n\t* gcc.target/mips/umips-branch-9.c: New file.\n\t* gcc.target/mips/umips-branch-10.c: New file.\n\t* gcc.target/mips/umips-branch-11.c: New file.\n\t* gcc.target/mips/umips-branch-12.c: New file.\n\t* gcc.target/mips/umips-branch-13.c: New file.\n\t* gcc.target/mips/umips-branch-14.c: New file.\n\t* gcc.target/mips/umips-branch-15.c: New file.\n\t* gcc.target/mips/umips-branch-16.c: New file.\n\t* gcc.target/mips/branch-helper.h (OCCUPY_0x10000): New define.\n\t(OCCUPY_0xfffc): New define.\n\nFrom-SVN: r225540", "tree": {"sha": "f8acdbe9ac2492b212d8c70f7a2b15bb7f291573", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8acdbe9ac2492b212d8c70f7a2b15bb7f291573"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/daee9ce2953033be80e974fd467201934eb1ed01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daee9ce2953033be80e974fd467201934eb1ed01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/daee9ce2953033be80e974fd467201934eb1ed01", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/daee9ce2953033be80e974fd467201934eb1ed01/comments", "author": {"login": "andrewb-IMG", "id": 12913579, "node_id": "MDQ6VXNlcjEyOTEzNTc5", "avatar_url": "https://avatars.githubusercontent.com/u/12913579?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewb-IMG", "html_url": "https://github.com/andrewb-IMG", "followers_url": "https://api.github.com/users/andrewb-IMG/followers", "following_url": "https://api.github.com/users/andrewb-IMG/following{/other_user}", "gists_url": "https://api.github.com/users/andrewb-IMG/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewb-IMG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewb-IMG/subscriptions", "organizations_url": "https://api.github.com/users/andrewb-IMG/orgs", "repos_url": "https://api.github.com/users/andrewb-IMG/repos", "events_url": "https://api.github.com/users/andrewb-IMG/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewb-IMG/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "eb63d211c026c60a3dcbddac31042e5e39975d90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb63d211c026c60a3dcbddac31042e5e39975d90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb63d211c026c60a3dcbddac31042e5e39975d90"}], "stats": {"total": 242, "additions": 230, "deletions": 12}, "files": [{"sha": "f02d3e5f167d9d97edef08c4b59e5cd7f03bb4e1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -1,3 +1,32 @@\n+2015-07-08  Andrew Bennett  <andrew.bennett@imgtec.com>\n+\n+\t* gcc.target/mips/branch-2.c: Change NOMIPS16 to NOCOMPRESSION.\n+\t* gcc.target/mips/branch-3.c: Ditto\n+\t* gcc.target/mips/branch-4.c: Ditto.\n+\t* gcc.target/mips/branch-5.c: Ditto.\n+\t* gcc.target/mips/branch-6.c: Ditto.\n+\t* gcc.target/mips/branch-7.c: Ditto.\n+\t* gcc.target/mips/branch-8.c: Ditto.\n+\t* gcc.target/mips/branch-9.c: Ditto.\n+\t* gcc.target/mips/branch-10.c: Ditto.\n+\t* gcc.target/mips/branch-11.c: Ditto.\n+\t* gcc.target/mips/branch-12.c: Ditto.\n+\t* gcc.target/mips/branch-13.c: Ditto.\n+\t* gcc.target/mips/umips-branch-5.c: New file.\n+\t* gcc.target/mips/umips-branch-6.c: New file.\n+\t* gcc.target/mips/umips-branch-7.c: New file.\n+\t* gcc.target/mips/umips-branch-8.c: New file.\n+\t* gcc.target/mips/umips-branch-9.c: New file.\n+\t* gcc.target/mips/umips-branch-10.c: New file.\n+\t* gcc.target/mips/umips-branch-11.c: New file.\n+\t* gcc.target/mips/umips-branch-12.c: New file.\n+\t* gcc.target/mips/umips-branch-13.c: New file.\n+\t* gcc.target/mips/umips-branch-14.c: New file.\n+\t* gcc.target/mips/umips-branch-15.c: New file.\n+\t* gcc.target/mips/umips-branch-16.c: New file.\n+\t* gcc.target/mips/branch-helper.h (OCCUPY_0x10000): New define.  \n+\t(OCCUPY_0xfffc): New define.\n+\n 2015-07-08  Renlin Li  <renlin.li@arm.com>\n \n \t* gcc.target/arm/unsigned-float.c: Different options for hf toolchain."}, {"sha": "eb21c16546266c3ee513f9c8a8627cd06ff302f2", "filename": "gcc/testsuite/gcc.target/mips/branch-10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-10.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -4,7 +4,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "bd8e83418c00dadc01f3131f2dc663fb8d092c99", "filename": "gcc/testsuite/gcc.target/mips/branch-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-11.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -8,7 +8,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "49446341ad29236c6582d91c4f1f59ceca2e6cab", "filename": "gcc/testsuite/gcc.target/mips/branch-12.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-12.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -4,7 +4,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "f5269b9b33b7017efc697d984ec9d49be5bd1b5a", "filename": "gcc/testsuite/gcc.target/mips/branch-13.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-13.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -8,7 +8,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "b60e9cd2e3ce8549c1f935a0d81b9a07a66f8221", "filename": "gcc/testsuite/gcc.target/mips/branch-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-2.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -5,7 +5,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "69300f6417c3728314e9e57269467262c5e1dbab", "filename": "gcc/testsuite/gcc.target/mips/branch-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-3.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -5,7 +5,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "29f5c9f2be3e10a499c7a5ee411bd4840ecc19b0", "filename": "gcc/testsuite/gcc.target/mips/branch-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-4.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -4,7 +4,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "0538646210af8ae64290ff1c15067edc300822dc", "filename": "gcc/testsuite/gcc.target/mips/branch-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-5.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -6,7 +6,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "19baee1db9ff493e51abd9b690167f8478061266", "filename": "gcc/testsuite/gcc.target/mips/branch-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-6.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -4,7 +4,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "16c6d8e1ac65b64281b2fbd4b4f8bca6521a6374", "filename": "gcc/testsuite/gcc.target/mips/branch-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-7.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -6,7 +6,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (volatile int *x)\n {\n   if (__builtin_expect (*x == 0, 1))"}, {"sha": "2e468448fe9a4478109e3c6d2834081d13ec9d49", "filename": "gcc/testsuite/gcc.target/mips/branch-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-8.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -4,7 +4,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "b87f2ba675b5e842682f1231480d08acf86ba9e6", "filename": "gcc/testsuite/gcc.target/mips/branch-9.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-9.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -9,7 +9,7 @@\n \n #include \"branch-helper.h\"\n \n-NOMIPS16 void\n+NOCOMPRESSION void\n foo (int (*bar) (void), int *x)\n {\n   *x = bar ();"}, {"sha": "3d033cc2cb8dab7ca476f506e2db97e2c5829682", "filename": "gcc/testsuite/gcc.target/mips/branch-helper.h", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-helper.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-helper.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fbranch-helper.h?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -33,5 +33,25 @@\n        D2 (\"nop\") \"\\n\\t\" \\\n        D1 (\"nop\"))\n \n+/* Emit something that is 0xfffc bytes long, which is the largest\n+   permissible range for microMIPS forward branches when branches\n+   have delay slots.  */\n+#define OCCUPY_0xfffc \\\n+  asm (D13 (\"nop32\") \"\\n\\t\" \\\n+       D12 (\"nop32\") \"\\n\\t\" \\\n+       D11 (\"nop32\") \"\\n\\t\" \\\n+       D10 (\"nop32\") \"\\n\\t\" \\\n+       D9 (\"nop32\") \"\\n\\t\" \\\n+       D8 (\"nop32\") \"\\n\\t\" \\\n+       D7 (\"nop32\") \"\\n\\t\" \\\n+       D6 (\"nop32\") \"\\n\\t\" \\\n+       D5 (\"nop32\") \"\\n\\t\" \\\n+       D4 (\"nop32\") \"\\n\\t\" \\\n+       D3 (\"nop32\") \"\\n\\t\" \\\n+       D2 (\"nop32\") \"\\n\\t\" \\\n+       D1 (\"nop32\") \"\\n\\t\" \\\n+       D0 (\"nop32\"))\n /* Likewise emit something that is 0x1fffc bytes long.  */\n #define OCCUPY_0x1fffc do { asm (\"nop\"); OCCUPY_0x1fff8; } while (0)\n+/* Likewise emit something that is 0x10000 bytes long.  */\n+#define OCCUPY_0x10000 do { asm (\"nop32\"); OCCUPY_0xfffc; } while (0)"}, {"sha": "714691bfa6e52e37aff4d3a55d5518b670a67c15", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-10.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-10.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-options \"-mshared -mabi=64 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\tdaddiu\\t\\\\\\$3,\\\\\\$3,%lo\\\\(%neg\\\\(%gp_rel\\\\(foo\\\\)\\\\)\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tld\\t\\\\\\$1,%got_page\\\\(\\[^)\\]*\\\\)\\\\(\\\\\\$3\\\\)\\\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\\\$28\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "5050669070e8aa0c1756855a2ec7e9a4586c8d53", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-11.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-11.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-options \"-mshared -mabi=32 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$28|cpload|cprestore)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjrc?\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}, {"sha": "a393de999325f3e710e86e2557ccc03a9489e94b", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-12.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-12.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,18 @@\n+/* { dg-options \"-mshared -mabi=32 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\t\\\\.cpload\\t\\\\\\$25\\n\" } } */\n+/* { dg-final { scan-assembler \"\\t\\\\.cprestore\\t16\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tlw\\t\\\\\\$1,16\\\\(\\\\\\$(fp|sp)\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tlw\\t\\\\\\$1,%got\\\\(\\[^)\\]*\\\\)\\\\(\\\\\\$1\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\taddiu\\t\\\\\\$1,\\\\\\$1,%lo\\\\(\\[^)\\]*\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\\\$28\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "e84b46296e5a139136233155c0c7e7a3797b3ce8", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-13.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-13.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-options \"-mshared -mabi=n32 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$28|%gp_rel|%got)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjrc?\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}, {"sha": "f9f30a7d7fce52a63a35bbed57500e002450e78a", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-14.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-14.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-options \"-mshared -mabi=n32 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\tsd\\t\\\\\\$28,\" } } */\n+/* { dg-final { scan-assembler \"\\tld\\t\\\\\\$28,\" } } */\n+/* { dg-final { scan-assembler \"\\taddiu\\t\\\\\\$28,\\\\\\$28,%lo\\\\(%neg\\\\(%gp_rel\\\\(foo\\\\)\\\\)\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tlw\\t\\\\\\$1,%got_page\\\\(\\[^)\\]*\\\\)\\\\(\\\\\\$28\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\taddiu\\t\\\\\\$1,\\\\\\$1,%got_ofst\\\\(\\[^)\\]*\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "6704aadec37a13903d5e7acc2dc123e0a121456f", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-15.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-15.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-options \"-mshared -mabi=64 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$28|%gp_rel|%got)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjrc?\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}, {"sha": "95f7db5c483bc5bbc2b735dc99def3e3cdc84dd3", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-16.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-16.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,17 @@\n+/* { dg-options \"-mshared -mabi=64 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\tsd\\t\\\\\\$28,\" } } */\n+/* { dg-final { scan-assembler \"\\tld\\t\\\\\\$28,\" } } */\n+/* { dg-final { scan-assembler \"\\tdaddiu\\t\\\\\\$28,\\\\\\$28,%lo\\\\(%neg\\\\(%gp_rel\\\\(foo\\\\)\\\\)\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tld\\t\\\\\\$1,%got_page\\\\(\\[^)\\]*\\\\)\\\\(\\\\\\$28\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tdaddiu\\t\\\\\\$1,\\\\\\$1,%got_ofst\\\\(\\[^)\\]*\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (int (*bar) (void), int *x)\n+{\n+  *x = bar ();\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "d124f914320ca756397427d2bdd6cb28288b4c89", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-5.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-5.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-options \"-mshared -mabi=32 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$25|\\\\\\$28|cpload)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjr\\t\\\\\\$1\\n\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\.cprestore\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}, {"sha": "d688bc9c1f4021b70725024302b97cf2125423e6", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-6.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-6.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-options \"-mshared -mabi=32 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\t\\\\.cpload\\t\\\\\\$25\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\.cprestore\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "294805af19ba366819b10d8765052c812241d411", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-7.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-7.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-options \"-mshared -mabi=n32 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$25|\\\\\\$28|%gp_rel|%got)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjrc?\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}, {"sha": "02273cfb1f25c34b78d5e7c8083793b8d1966ef0", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-8.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-8.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-options \"-mshared -mabi=n32 -mmicromips\" } */\n+/* { dg-final { scan-assembler \"\\taddiu\\t\\\\\\$3,\\\\\\$3,%lo\\\\(%neg\\\\(%gp_rel\\\\(foo\\\\)\\\\)\\\\)\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tlw\\t\\\\\\$1,%got_page\\\\(\\[^)\\]*\\\\)\\\\(\\\\\\$3\\\\)\\\\n\" } } */\n+/* { dg-final { scan-assembler \"\\tjr\\t\\\\\\$1\\n\" } } */\n+/* { dg-final { scan-assembler-not \"\\\\\\$28\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0x10000;\n+}"}, {"sha": "ab02e88189e280b350d38d052aee5d0af0232e21", "filename": "gcc/testsuite/gcc.target/mips/umips-branch-9.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/daee9ce2953033be80e974fd467201934eb1ed01/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-branch-9.c?ref=daee9ce2953033be80e974fd467201934eb1ed01", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-options \"-mshared -mabi=64 -mmicromips\" } */\n+/* { dg-final { scan-assembler-not \"(\\\\\\$25|\\\\\\$28|%gp_rel|%got)\" } } */\n+/* { dg-final { scan-assembler-not \"\\tjrc?\\t\\\\\\$1\\n\" } } */\n+\n+#include \"branch-helper.h\"\n+\n+NOMIPS16 void\n+foo (volatile int *x)\n+{\n+  if (__builtin_expect (*x == 0, 1))\n+    OCCUPY_0xfffc;\n+}"}]}