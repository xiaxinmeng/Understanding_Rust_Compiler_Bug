{"sha": "6288183377a0dc8f02ad415eb1ac9338507445aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI4ODE4MzM3N2EwZGM4ZjAyYWQ0MTVlYjFhYzkzMzg1MDc0NDVhYQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2021-01-04T14:38:52Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2021-01-04T14:38:52Z"}, "message": "[libcody] Remove some std::move [PR 98368]\n\nCompiling on clang showed a couple of pessimizations.  Fixed thusly.\n\n\tlibcody/\n\t* client.cc (Client::ProcessResponse): Remove std::move\n\tinside ?:\n\tc++tools/\n\t* resolver.cc (module_resolver::cmi_response): Remove\n\tstd::move of temporary.", "tree": {"sha": "3cfcd8c055d24a634e0dd698c76acd4b77e5e3a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cfcd8c055d24a634e0dd698c76acd4b77e5e3a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6288183377a0dc8f02ad415eb1ac9338507445aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6288183377a0dc8f02ad415eb1ac9338507445aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6288183377a0dc8f02ad415eb1ac9338507445aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6288183377a0dc8f02ad415eb1ac9338507445aa/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6bbc196c64ddbbb84fd40eebeafbd5a458b50afb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bbc196c64ddbbb84fd40eebeafbd5a458b50afb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bbc196c64ddbbb84fd40eebeafbd5a458b50afb"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "ef08de530721aeffc1fc605b51ed2b69e6202e95", "filename": "c++tools/resolver.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6288183377a0dc8f02ad415eb1ac9338507445aa/c%2B%2Btools%2Fresolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6288183377a0dc8f02ad415eb1ac9338507445aa/c%2B%2Btools%2Fresolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fresolver.cc?ref=6288183377a0dc8f02ad415eb1ac9338507445aa", "patch": "@@ -226,9 +226,7 @@ module_resolver::cmi_response (Cody::Server *s, std::string &module)\n   auto iter = map.find (module);\n   if (iter == map.end ())\n     {\n-      std::string file;\n-      if (default_map)\n-\tfile = std::move (GetCMIName (module));\n+      std::string file = default_map ? GetCMIName (module) : std::string ();\n       auto res = map.emplace (module, file);\n       iter = res.first;\n     }"}, {"sha": "ae69d190cb77fca26550c141a99cf45c78ac0045", "filename": "libcody/client.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6288183377a0dc8f02ad415eb1ac9338507445aa/libcody%2Fclient.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6288183377a0dc8f02ad415eb1ac9338507445aa/libcody%2Fclient.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcody%2Fclient.cc?ref=6288183377a0dc8f02ad415eb1ac9338507445aa", "patch": "@@ -122,8 +122,7 @@ Packet Client::ProcessResponse (std::vector<std::string> &words,\n   Assert (!words.empty ());\n   if (words[0] == u8\"ERROR\")\n     return Packet (Client::PC_ERROR,\n-\t\t  std::move (words.size () == 2 ? words[1]\n-\t\t\t     : u8\"malformed error response\"));\n+\t\t   words.size () == 2 ? words[1]: u8\"malformed error response\");\n \n   if (isLast && !read.IsAtEnd ())\n     return Packet (Client::PC_ERROR,"}]}