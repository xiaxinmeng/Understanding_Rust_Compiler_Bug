{"sha": "85e79f96ed113455e0b36a7d8ca3259ed33307a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODVlNzlmOTZlZDExMzQ1NWUwYjM2YTdkOGNhMzI1OWVkMzMzMDdhNg==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2002-01-21T21:22:19Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2002-01-21T21:22:19Z"}, "message": "pa64-hpux.h (MD_EXEC_PREFIX): Set to \"/usr/ccs/bin\".\n\n\t* pa64-hpux.h (MD_EXEC_PREFIX): Set to \"/usr/ccs/bin\".\n\t(MD_STARTFILE_PREFIX): Set to \"/usr/ccs/lib/pa20_64/\".\n\t(MD_STARTFILE_PREFIX_1): Set to \"/opt/langtools/lib/pa20_64/\".\n\t(EH_FRAME_IN_DATA_SECTION): Define and update comment on init sections.\n\t(ENDFILE_SPEC): Undefine.\n\t(STARTFILE_SPEC): Redefine for PA.\n\nFrom-SVN: r49054", "tree": {"sha": "8738a4d78c6a04f889eaac008ce2d96588e7d974", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8738a4d78c6a04f889eaac008ce2d96588e7d974"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/85e79f96ed113455e0b36a7d8ca3259ed33307a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85e79f96ed113455e0b36a7d8ca3259ed33307a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85e79f96ed113455e0b36a7d8ca3259ed33307a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85e79f96ed113455e0b36a7d8ca3259ed33307a6/comments", "author": null, "committer": null, "parents": [{"sha": "38abadee50ae391278e56188923c17a4495a7b49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38abadee50ae391278e56188923c17a4495a7b49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38abadee50ae391278e56188923c17a4495a7b49"}], "stats": {"total": 43, "additions": 37, "deletions": 6}, "files": [{"sha": "d65aaf811b10e8f8ff6af7b646a4da58675635a8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85e79f96ed113455e0b36a7d8ca3259ed33307a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85e79f96ed113455e0b36a7d8ca3259ed33307a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=85e79f96ed113455e0b36a7d8ca3259ed33307a6", "patch": "@@ -1,3 +1,12 @@\n+2002-01-21  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* pa64-hpux.h (MD_EXEC_PREFIX): Set to \"/usr/ccs/bin\".\n+\t(MD_STARTFILE_PREFIX): Set to \"/usr/ccs/lib/pa20_64/\".\n+\t(MD_STARTFILE_PREFIX_1): Set to \"/opt/langtools/lib/pa20_64/\".\n+\t(EH_FRAME_IN_DATA_SECTION): Define and update comment on init sections.\n+\t(ENDFILE_SPEC): Undefine.\n+\t(STARTFILE_SPEC): Redefine for PA.\n+\n 2002-01-21  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \t* config/rs6000/t-ppccomm (CRTSTUFF_T_CFLAGS_S): Re-add -fPIC."}, {"sha": "c4a6b27df8bf39ac22a6851f14b6022d74739b1a", "filename": "gcc/config/pa/pa64-hpux.h", "status": "modified", "additions": 28, "deletions": 6, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/85e79f96ed113455e0b36a7d8ca3259ed33307a6/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/85e79f96ed113455e0b36a7d8ca3259ed33307a6/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h?ref=85e79f96ed113455e0b36a7d8ca3259ed33307a6", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler, for HPs running\n    HPUX using the 64bit runtime model.\n-   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n+   Copyright (C) 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -41,15 +41,21 @@ Boston, MA 02111-1307, USA.  */\n \n #ifndef CROSS_COMPILE\n #undef MD_EXEC_PREFIX\n-#define MD_EXEC_PREFIX \"/opt/langtools/bin\"\n+#define MD_EXEC_PREFIX \"/usr/ccs/bin\"\n #endif\n \n-/* Under hpux11 the normal location of the various *crt*.o files is the\n-   /usr/ccs/lib directory.  */\n+/* Under hpux11 the normal location of the various pa20_64 *crt*.o files\n+   is the /usr/ccs/lib/pa20_64 directory.  Some files may also be in the\n+   /opt/langtools/lib/pa20_64 directory.  */\n \n #ifndef CROSS_COMPILE\n #undef MD_STARTFILE_PREFIX\n-#define MD_STARTFILE_PREFIX \"/opt/langtools/lib/pa20_64/\"\n+#define MD_STARTFILE_PREFIX \"/usr/ccs/lib/pa20_64/\"\n+#endif\n+\n+#ifndef CROSS_COMPILE\n+#undef MD_STARTFILE_PREFIX_1\n+#define MD_STARTFILE_PREFIX_1 \"/opt/langtools/lib/pa20_64/\"\n #endif\n \n /* hpux11 has the new HP assembler.  It's still lousy, but it's a whole lot\n@@ -107,10 +113,26 @@ do {  \\\n    The definitions say how to change sections to the .init and .fini\n    sections.  This is the same for all known svr4 assemblers.  */\n \n-/* ??? For the time being, we aren't using init sections.  */\n+/* For the time being, we aren't using init sections.  `P' relocations\n+   are currently used for function references.  However, P relocations are\n+   treated as data references and data references are bound by dld.sl\n+   immediately at program startup.  This causes an abort due to undefined\n+   weak symbols in crtbegin.o (e.g., __register_frame_info).  Possibly\n+   Q relocations might avoid this problem but the GNU assembler doesn't\n+   support them.  */\n #if 0\n #define INIT_SECTION_ASM_OP\t\"\\t.section\\t.init\"\n #define FINI_SECTION_ASM_OP\t\"\\t.section\\t.fini\"\n+#else\n+#define EH_FRAME_IN_DATA_SECTION 1\n+\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \"\"\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \"%{!shared: \\\n+\t\t\t %{!symbolic: \\\n+\t\t\t  %{pg:gcrt0.o%s}%{!pg:%{p:mcrt0.o%s}%{!p:crt0.o%s}}}}\"\n #endif\n \n /* A default list of other sections which we might be \"in\" at any given"}]}