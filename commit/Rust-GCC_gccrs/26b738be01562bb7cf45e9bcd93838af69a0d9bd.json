{"sha": "26b738be01562bb7cf45e9bcd93838af69a0d9bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZiNzM4YmUwMTU2MmJiN2NmNDVlOWJjZDkzODM4YWY2OWEwZDliZA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-03-10T23:46:14Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-03-10T23:46:14Z"}, "message": "loop.c (strength_reduce): Compute number of iterations as unsigned HOST_WIDE_INT.\n\n        * loop.c (strength_reduce): Compute number of iterations as\n        unsigned HOST_WIDE_INT.\n\nFrom-SVN: r50550", "tree": {"sha": "2fbb3d0587a9cec6f404c15cbbf3d81173a818c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2fbb3d0587a9cec6f404c15cbbf3d81173a818c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26b738be01562bb7cf45e9bcd93838af69a0d9bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b738be01562bb7cf45e9bcd93838af69a0d9bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26b738be01562bb7cf45e9bcd93838af69a0d9bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26b738be01562bb7cf45e9bcd93838af69a0d9bd/comments", "author": null, "committer": null, "parents": [{"sha": "8d8a083e9c81948217d3a5cb3010d4f6ed910222", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d8a083e9c81948217d3a5cb3010d4f6ed910222", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d8a083e9c81948217d3a5cb3010d4f6ed910222"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "378d3cca8131ec9d063289894a5d3084c1aa0c0c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b738be01562bb7cf45e9bcd93838af69a0d9bd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b738be01562bb7cf45e9bcd93838af69a0d9bd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=26b738be01562bb7cf45e9bcd93838af69a0d9bd", "patch": "@@ -1,3 +1,8 @@\n+2002-03-10  Richard Henderson  <rth@redhat.com>\n+\n+\t* loop.c (strength_reduce): Compute number of iterations as\n+\tunsigned HOST_WIDE_INT.\n+\n 2002-03-10  Richard Henderson  <rth@redhat.com>\n \n \t* sched-rgn.c (add_branch_dependences): Don't allow insns that throw"}, {"sha": "3108b032498b169b1b9cefc2b24b6917b24d55eb", "filename": "gcc/loop.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26b738be01562bb7cf45e9bcd93838af69a0d9bd/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26b738be01562bb7cf45e9bcd93838af69a0d9bd/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=26b738be01562bb7cf45e9bcd93838af69a0d9bd", "patch": "@@ -5225,13 +5225,13 @@ strength_reduce (loop, flags)\n   /* In case number of iterations is known, drop branch prediction note\n      in the branch.  Do that only in second loop pass, as loop unrolling\n      may change the number of iterations performed.  */\n-  if ((flags & LOOP_BCT)\n-      && loop_info->n_iterations / loop_info->unroll_number > 1)\n+  if (flags & LOOP_BCT)\n     {\n-      int n = loop_info->n_iterations / loop_info->unroll_number;\n-      predict_insn (PREV_INSN (loop->end),\n-\t\t    PRED_LOOP_ITERATIONS,\n-\t\t    REG_BR_PROB_BASE - REG_BR_PROB_BASE / n);\n+      unsigned HOST_WIDE_INT n\n+\t= loop_info->n_iterations / loop_info->unroll_number;\n+      if (n > 1)\n+\tpredict_insn (PREV_INSN (loop->end), PRED_LOOP_ITERATIONS,\n+\t\t      REG_BR_PROB_BASE - REG_BR_PROB_BASE / n);\n     }\n \n   if (loop_dump_stream)"}]}