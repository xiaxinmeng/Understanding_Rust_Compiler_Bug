{"sha": "ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZlZTZkOTM4NzViOWUxY2I5YzM1NDQwZGZkMGUxOWQ0OGZlM2I4ZA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-08-25T13:47:00Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-08-25T13:47:00Z"}, "message": "genattr.c (gen_attr): Add prototype arguments for get_attr_*().\n\n\t* genattr.c (gen_attr): Add prototype arguments for get_attr_*().\n\tRemove unused prototype for `init_lengths'.\n\nFrom-SVN: r28861", "tree": {"sha": "e18c3ceccb95e146da62dee5734307ce7271c2ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e18c3ceccb95e146da62dee5734307ce7271c2ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d/comments", "author": null, "committer": null, "parents": [{"sha": "6a651371a77f76227d6bbd0642f8648793568c65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a651371a77f76227d6bbd0642f8648793568c65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a651371a77f76227d6bbd0642f8648793568c65"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "6cea952383b8d5493d3c091379e709a7f129c715", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "patch": "@@ -1,3 +1,8 @@\n+Wed Aug 25 09:44:43 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* genattr.c (gen_attr): Add prototype arguments for get_attr_*().\n+\tRemove unused prototype for `init_lengths'.\n+\n Wed Aug 25 09:32:31 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* calls.c (emit_call_1): Mark parameter `stack_size' with"}, {"sha": "35bc4b221bce4b063cb602ad9fc5088efcc531ff", "filename": "gcc/genattr.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d/gcc%2Fgenattr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d/gcc%2Fgenattr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattr.c?ref=ffee6d93875b9e1cb9c35440dfd0e19d48fe3b8d", "patch": "@@ -101,12 +101,14 @@ gen_attr (attr)\n      rtx attr;\n {\n   char *p;\n+  int is_const = GET_CODE (XEXP (attr, 2)) == CONST;  \n \n   printf (\"#define HAVE_ATTR_%s\\n\", XSTR (attr, 0));\n \n   /* If numeric attribute, don't need to write an enum.  */\n   if (*XSTR (attr, 1) == '\\0')\n-    printf (\"extern int get_attr_%s ();\\n\", XSTR (attr, 0));\n+    printf (\"extern int get_attr_%s PROTO((%s));\\n\", XSTR (attr, 0),\n+\t    (is_const ? \"void\" : \"rtx\"));\n   else\n     {\n       printf (\"enum attr_%s {\", XSTR (attr, 0));\n@@ -128,15 +130,14 @@ gen_attr (attr)\n \t}\n \n       printf (\"};\\n\");\n-      printf (\"extern enum attr_%s get_attr_%s ();\\n\\n\",\n-\t      XSTR (attr, 0), XSTR (attr, 0));\n+      printf (\"extern enum attr_%s get_attr_%s PROTO((%s));\\n\\n\",\n+\t      XSTR (attr, 0), XSTR (attr, 0), (is_const ? \"void\" : \"rtx\"));\n     }\n \n   /* If `length' attribute, write additional function definitions and define\n      variables used by `insn_current_length'.  */\n   if (! strcmp (XSTR (attr, 0), \"length\"))\n     {\n-      printf (\"extern void init_lengths ();\\n\");\n       printf (\"extern void shorten_branches PROTO((rtx));\\n\");\n       printf (\"extern int insn_default_length PROTO((rtx));\\n\");\n       printf (\"extern int insn_variable_length_p PROTO((rtx));\\n\");"}]}