{"sha": "646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjQ2ZDFiZWRhMDJmMGFjYThmNmE2OWVhOTc4ODlmMTY2MWNmN2ZhOQ==", "commit": {"author": {"name": "Paul Gortmaker", "email": "paul.gortmaker@windriver.com", "date": "2014-06-25T21:21:12Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2014-06-25T21:21:12Z"}, "message": "gcc.c (set_multilib_dir): Malloc \".\" pointer as well.\n\n2014-06-25  Paul Gortmaker  <paul.gortmaker@windriver.com>\n            Jakub Jelinek  <jakub@redhat.com>\n\n        * gcc.c (set_multilib_dir): Malloc \".\" pointer as well.\n\nCo-Authored-By: Jakub Jelinek <jakub@redhat.com>\n\nFrom-SVN: r211997", "tree": {"sha": "c2515d705c2e46056c43ec04802c2d6d1088b269", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c2515d705c2e46056c43ec04802c2d6d1088b269"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/646d1beda02f0aca8f6a69ea97889f1661cf7fa9/comments", "author": {"login": "paulgortmaker", "id": 1060284, "node_id": "MDQ6VXNlcjEwNjAyODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1060284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulgortmaker", "html_url": "https://github.com/paulgortmaker", "followers_url": "https://api.github.com/users/paulgortmaker/followers", "following_url": "https://api.github.com/users/paulgortmaker/following{/other_user}", "gists_url": "https://api.github.com/users/paulgortmaker/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulgortmaker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulgortmaker/subscriptions", "organizations_url": "https://api.github.com/users/paulgortmaker/orgs", "repos_url": "https://api.github.com/users/paulgortmaker/repos", "events_url": "https://api.github.com/users/paulgortmaker/events{/privacy}", "received_events_url": "https://api.github.com/users/paulgortmaker/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b925bf594a3a5ca47975efa1c52d794c0c776373", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b925bf594a3a5ca47975efa1c52d794c0c776373", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b925bf594a3a5ca47975efa1c52d794c0c776373"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "48d6f22aa147cddd7da6da8f6b59d26afc45e6cc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/646d1beda02f0aca8f6a69ea97889f1661cf7fa9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/646d1beda02f0aca8f6a69ea97889f1661cf7fa9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "patch": "@@ -1,3 +1,8 @@\n+2014-06-25  Paul Gortmaker  <paul.gortmaker@windriver.com>\n+\t    Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc.c (set_multilib_dir): Malloc \".\" pointer as well.\n+\n 2014-06-25  Tom de Vries  <tom@codesourcery.com>\n \n \t* config/arm/arm.c (arm_emit_call_insn): Remove clobber of CC_REGNUM."}, {"sha": "168acf7eb0c90af20b7629598b66b4aaa377491d", "filename": "gcc/gcc.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/646d1beda02f0aca8f6a69ea97889f1661cf7fa9/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/646d1beda02f0aca8f6a69ea97889f1661cf7fa9/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=646d1beda02f0aca8f6a69ea97889f1661cf7fa9", "patch": "@@ -7790,10 +7790,15 @@ set_multilib_dir (void)\n \t\tq2++;\n \t      if (*q2 == ':')\n \t\tml_end = q2;\n-\t      new_multilib_os_dir = XNEWVEC (char, ml_end - q);\n-\t      memcpy (new_multilib_os_dir, q + 1, ml_end - q - 1);\n-\t      new_multilib_os_dir[ml_end - q - 1] = '\\0';\n-\t      multilib_os_dir = *new_multilib_os_dir ? new_multilib_os_dir : \".\";\n+\t      if (ml_end - q == 1)\n+\t\tmultilib_os_dir = xstrdup (\".\");\n+\t      else\n+\t\t{\n+\t\t  new_multilib_os_dir = XNEWVEC (char, ml_end - q);\n+\t\t  memcpy (new_multilib_os_dir, q + 1, ml_end - q - 1);\n+\t\t  new_multilib_os_dir[ml_end - q - 1] = '\\0';\n+\t\t  multilib_os_dir = new_multilib_os_dir;\n+\t\t}\n \n \t      if (q2 < end && *q2 == ':')\n \t\t{"}]}