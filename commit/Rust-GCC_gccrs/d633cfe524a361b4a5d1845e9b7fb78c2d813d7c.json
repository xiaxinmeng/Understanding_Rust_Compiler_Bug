{"sha": "d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDYzM2NmZTUyNGEzNjFiNGE1ZDE4NDVlOWI3ZmI3OGMyZDgxM2Q3Yw==", "commit": {"author": {"name": "Anthony Green", "email": "green@redhat.com", "date": "2005-02-14T14:57:37Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2005-02-14T14:57:37Z"}, "message": "re PR libgcj/18116 (JNI uses dot instead of slash as the package separator)\n\n2005-02-14  Anthony Green  <green@redhat.com>\n\n        PR libgcj/18116\n        * testsuite/libjava.jni/PR18116.c: New file.\n        * testsuite/libjava.jni/PR18116.java: New file.\n        * testsuite/libjava.jni/PR18116.out: New file.\n\nFrom-SVN: r95014", "tree": {"sha": "8f2311990fa1769a62f318958162b80d0cdcfcd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f2311990fa1769a62f318958162b80d0cdcfcd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/comments", "author": {"login": "atgreen", "id": 89993, "node_id": "MDQ6VXNlcjg5OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/89993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atgreen", "html_url": "https://github.com/atgreen", "followers_url": "https://api.github.com/users/atgreen/followers", "following_url": "https://api.github.com/users/atgreen/following{/other_user}", "gists_url": "https://api.github.com/users/atgreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/atgreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atgreen/subscriptions", "organizations_url": "https://api.github.com/users/atgreen/orgs", "repos_url": "https://api.github.com/users/atgreen/repos", "events_url": "https://api.github.com/users/atgreen/events{/privacy}", "received_events_url": "https://api.github.com/users/atgreen/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "92d2b330de38224e6b6de699baa5ee3436c2dbb6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92d2b330de38224e6b6de699baa5ee3436c2dbb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92d2b330de38224e6b6de699baa5ee3436c2dbb6"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "1e727762f7a1d3d17d11abb100aefbfbdf94490c", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "patch": "@@ -1,5 +1,13 @@\n+2005-02-14  Anthony Green  <green@redhat.com>\n+\n+\tPR libgcj/18116\n+\t* testsuite/libjava.jni/PR18116.c: New file.\n+\t* testsuite/libjava.jni/PR18116.java: New file.\n+\t* testsuite/libjava.jni/PR18116.out: New file.\n+\n 2005-02-13  Anthony Green  <green@redhat.com>\n \n+\tPR libgcj/18116\n \t* jni.cc (nathash_add): Don't strdup the method signature.\n \t(_Jv_JNI_RegisterNatives): Convert the slashes to dots in the\n \tmethod signature."}, {"sha": "bcd14331e61aafc3785265052c7f48bd0b0bd501", "filename": "libjava/testsuite/libjava.jni/PR18116.c", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.c?ref=d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "patch": "@@ -0,0 +1,35 @@\n+#include <stdlib.h>\n+#include <assert.h>\n+#include <PR18116.h>\n+\n+// The purpose of this test is to ensure that signatures with non-top\n+// level class arguments work.\n+\n+static jint\n+some_random_name (JNIEnv *env, jclass k, jobject v)\n+{\n+  return 555;\n+}\n+\n+JNIEXPORT jint JNICALL\n+JNI_OnLoad (JavaVM *vm, void *nothing)\n+{\n+  JNIEnv *env;\n+  JNINativeMethod meth;\n+  jclass k;\n+  jint r;\n+\n+  r = (*vm)->GetEnv (vm, (void **) &env, JNI_VERSION_1_2);\n+  assert (r == JNI_OK);\n+  k = (*env)->FindClass (env, \"PR18116\");\n+  assert (k != NULL);\n+\n+  meth.name = \"doit\";\n+  meth.signature = \"(Ljava/lang/String;)I\";\n+  meth.fnPtr = some_random_name;\n+\n+  r = (*env)->RegisterNatives (env, k, &meth, 1);\n+  assert (r == JNI_OK);\n+\n+  return JNI_VERSION_1_2;\n+}"}, {"sha": "d582132b677f9ab0d7405d4ce81b2420d8297f30", "filename": "libjava/testsuite/libjava.jni/PR18116.java", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.java?ref=d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "patch": "@@ -0,0 +1,16 @@\n+// PR18116.java - Test RegisterNatives with more complex signatures.\n+\n+public class PR18116\n+{\n+  static\n+  {\n+    System.loadLibrary (\"PR18116\");\n+  }\n+\n+  public static native int doit (java.lang.String s);\n+\n+  public static void main (String[] args)\n+  {\n+    System.out.println (doit (\"Hello World!\"));\n+  }\n+}"}, {"sha": "3749383ded246790596d2f39db4dd8b71f525bbc", "filename": "libjava/testsuite/libjava.jni/PR18116.out", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.out", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d633cfe524a361b4a5d1845e9b7fb78c2d813d7c/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.out", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jni%2FPR18116.out?ref=d633cfe524a361b4a5d1845e9b7fb78c2d813d7c", "patch": "@@ -0,0 +1 @@\n+555"}]}