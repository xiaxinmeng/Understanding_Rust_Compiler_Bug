{"sha": "ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U4ZTA2YjFkY2ZjNzBmODhkYzA3MDYyYzY1YjBiZDk2OGI1MzM5NA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-11-18T20:55:40Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-11-18T20:55:40Z"}, "message": "Makefile.in (HOST_LIB_PATH, [...]): New macros.\n\n* Makefile.in (HOST_LIB_PATH, TARGET_LIB_PATH): New macros.\n(REALLY_SET_LIB_PATH): Use them.\n\nFrom-SVN: r37545", "tree": {"sha": "471abbc366f77f1809569a31aac8e8d783916fe2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/471abbc366f77f1809569a31aac8e8d783916fe2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce8e06b1dcfc70f88dc07062c65b0bd968b53394/comments", "author": null, "committer": null, "parents": [{"sha": "3734169e0c671c661f8bef8aff2adc4ebfa7bd6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3734169e0c671c661f8bef8aff2adc4ebfa7bd6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3734169e0c671c661f8bef8aff2adc4ebfa7bd6b"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "2cc20aa1b417181164b7b0dfcb8f4766b38d45f5", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce8e06b1dcfc70f88dc07062c65b0bd968b53394/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce8e06b1dcfc70f88dc07062c65b0bd968b53394/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "patch": "@@ -1,3 +1,8 @@\n+2000-11-18  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* Makefile.in (HOST_LIB_PATH, TARGET_LIB_PATH): New macros.\n+\t(REALLY_SET_LIB_PATH): Use them.\n+\n 2000-11-17  Stan Shebs  <shebs@apple.com>\n \n \t* MAINTAINERS: Add self to Write After Approval list."}, {"sha": "07ebe3f5fb41ac32a42d1ad4f056db5407d96bef", "filename": "Makefile.in", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce8e06b1dcfc70f88dc07062c65b0bd968b53394/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce8e06b1dcfc70f88dc07062c65b0bd968b53394/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=ce8e06b1dcfc70f88dc07062c65b0bd968b53394", "patch": "@@ -186,14 +186,19 @@ SET_LIB_PATH =\n # the libraries.  This may be changed by configure.in.\n RPATH_ENVVAR = LD_LIBRARY_PATH\n \n+# This is the list of directories that may be needed in RPATH_ENVVAR\n+# so that programs built for the host machine work.\n+HOST_LIB_PATH = $$r/bfd:$$r/opcodes\n+\n+# This is the list of directories that may be needed in RPATH_ENVVAR\n+# so that prorgams built for the target machine work.\n+TARGET_LIB_PATH = $$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs:$$r/$(TARGET_SUBDIR)/libstdc++\n+\n # configure.in sets SET_LIB_PATH to this if --enable-shared was used.\n+# Some platforms don't like blank entries, so we remove duplicate,\n+# leading and trailing colons.\n REALLY_SET_LIB_PATH = \\\n-  if [ x\"$$$(RPATH_ENVVAR)\" != x ]; then \\\n-    $(RPATH_ENVVAR)=$$r/bfd:$$r/opcodes:$$$(RPATH_ENVVAR); \\\n-  else \\\n-    $(RPATH_ENVVAR)=$$r/bfd:$$r/opcodes; \\\n-  fi; \\\n-  export $(RPATH_ENVVAR);\n+  $(RPATH_ENVVAR)=`echo \"$(HOST_LIB_PATH):$(TARGET_LIB_PATH):$$$(RPATH_ENVVAR)\" | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; export $(RPATH_ENVVAR);\n \n ALL = all.normal\n INSTALL_TARGET = installdirs \\"}]}