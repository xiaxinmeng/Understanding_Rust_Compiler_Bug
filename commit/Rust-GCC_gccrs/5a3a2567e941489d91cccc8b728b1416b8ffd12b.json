{"sha": "5a3a2567e941489d91cccc8b728b1416b8ffd12b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWEzYTI1NjdlOTQxNDg5ZDkxY2NjYzhiNzI4YjE0MTZiOGZmZDEyYg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-10-02T17:39:40Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-10-02T17:39:40Z"}, "message": "[multiple changes]\n\nThu Oct  2 10:36:49 1997  Jason Merrill  <jason@yorick.cygnus.com>\n\n\t* gen-params: Fix __printf_fp test.\n\t* config/linuxlibc1.mt (gxx_includedir): Don't define.\n\nThu Oct  2 10:36:26 1997  Ulrich Drepper  <drepper@rtl.cygnus.com>\n\n\t* config/linuxlibc1.mt (_G_CONFIG_H): Don't define.\n\t* gen-params: Add test for __printf_fp.\n\nGetting closer...\n\nFrom-SVN: r15833", "tree": {"sha": "d2b52d8918d3222144ac9648c53d748e15add13d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2b52d8918d3222144ac9648c53d748e15add13d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a3a2567e941489d91cccc8b728b1416b8ffd12b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a3a2567e941489d91cccc8b728b1416b8ffd12b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a3a2567e941489d91cccc8b728b1416b8ffd12b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a3a2567e941489d91cccc8b728b1416b8ffd12b/comments", "author": null, "committer": null, "parents": [{"sha": "b6aa195e2030d30015a353f8f96cb9cab7bbcb71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6aa195e2030d30015a353f8f96cb9cab7bbcb71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6aa195e2030d30015a353f8f96cb9cab7bbcb71"}], "stats": {"total": 35, "additions": 27, "deletions": 8}, "files": [{"sha": "803adfcfcd0d118269bebfd949c07793479fee8b", "filename": "libio/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=5a3a2567e941489d91cccc8b728b1416b8ffd12b", "patch": "@@ -1,3 +1,13 @@\n+Thu Oct  2 10:36:49 1997  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* gen-params: Fix __printf_fp test.\n+\t* config/linuxlibc1.mt (gxx_includedir): Don't define.\n+\n+Thu Oct  2 10:36:26 1997  Ulrich Drepper  <drepper@rtl.cygnus.com>\n+\n+\t* config/linuxlibc1.mt (_G_CONFIG_H): Don't define.\n+\t* gen-params: Add test for __printf_fp.\n+\n Sun Sep 28 12:09:04 1997  Mark Mitchell  <mmitchell@usa.net>\n \n         * iomanip.h: Use new friend <> syntax.\n@@ -6,7 +16,7 @@ Sun Sep 28 12:04:21 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* libio.h: Don't use _IO_LOCK_T if it's not defined.\n \n-Fri Sep 26 20:56:41 1997  Ulrich Drepper  <drepper@rtl.cygnus.com>\n+Fri Sep 26 20:56:41 1997  \n \n \tBased on a patch by H.J. Lu  (hjl@gnu.ai.mit.edu).\n "}, {"sha": "eaed5dabf088ded88497178e69b6aec518191cb7", "filename": "libio/config/linuxlibc1.mt", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2Fconfig%2Flinuxlibc1.mt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2Fconfig%2Flinuxlibc1.mt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fconfig%2Flinuxlibc1.mt?ref=5a3a2567e941489d91cccc8b728b1416b8ffd12b", "patch": "@@ -1,17 +1,10 @@\n # Use the libio which comes with the local libc.\n \n-# That is where we keep the g++ header files.\n-gxx_includedir =$(prefix)/include/g++\n-\n # Comment this out to avoid including the stdio functions in libiostream.a:\n # LIBIOSTREAM_OBJECTS = $(IO_OBJECTS) $(IOSTREAM_OBJECTS) $(STDIO_WRAP_OBJECTS) $(OSPRIM_OBJECTS)\n # LIBIOSTREAM_DEP = $(LIBIOSTREAM_OBJECTS) stdio.list\n # LIBIOSTREAM_USE = $(LIBIOSTREAM_OBJECTS) `cat stdio.list`\n \n-# Comment the above and uncomment the below to use the code in the Linux libc:\n-# We have _G_config.h in /usr/include.\n-_G_CONFIG_H=\n-\n # We must not see the libio.h file from this library.\n LIBIO_INCLUDE=\n "}, {"sha": "c6eb7d30fd8c7261fc230cfcf245c2b3721b620a", "filename": "libio/gen-params", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2Fgen-params", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a3a2567e941489d91cccc8b728b1416b8ffd12b/libio%2Fgen-params", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fgen-params?ref=5a3a2567e941489d91cccc8b728b1416b8ffd12b", "patch": "@@ -692,6 +692,22 @@ if test -n \"${USE_INT32_FLAGS}\" ; then\n     echo \"#define ${macro_prefix}USE_INT32_FLAGS 1\"\n fi\n \n+# A little test program to check if __printf_fp is available.\n+cat >dummy.c <<EOF\n+int main()\n+{\n+    return __printf_fp ();\n+}\n+EOF\n+\n+if ${CC} dummy.c >/dev/null 2>&1 ; then\n+  echo \"#define ${macro_prefix}HAVE_PRINTF_FP 1\"\n+  echo \"#define ${macro_prefix}HAVE_LONG_DOUBLE_IO 1\"\n+else\n+  echo \"#define ${macro_prefix}HAVE_PRINTF_FP 0\"\n+  echo \"#define ${macro_prefix}HAVE_LONG_DOUBLE_IO 0\"\n+fi\n+\n # Uncomment the following line if you don't have working templates.\n # echo \"#define ${macro_prefix}NO_TEMPLATES\"\n "}]}