{"sha": "c2e494a899aa67935ab8ed7082bf2176292186a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJlNDk0YTg5OWFhNjc5MzVhYjhlZDcwODJiZjIxNzYyOTIxODZhNQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-10-07T12:32:07Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-10-07T12:32:07Z"}, "message": "configure.in: Clean up thread file logic.\n\n\t* configure.in: Clean up thread file logic.\n\t* configure: Regenerate.\n\nFrom-SVN: r72191", "tree": {"sha": "3587c8bec90d28f9f8869d489b72b8a8d8479171", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3587c8bec90d28f9f8869d489b72b8a8d8479171"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2e494a899aa67935ab8ed7082bf2176292186a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e494a899aa67935ab8ed7082bf2176292186a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2e494a899aa67935ab8ed7082bf2176292186a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e494a899aa67935ab8ed7082bf2176292186a5/comments", "author": null, "committer": null, "parents": [{"sha": "905df1fb200b340b2d25d6cfac44d125767c3cee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/905df1fb200b340b2d25d6cfac44d125767c3cee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/905df1fb200b340b2d25d6cfac44d125767c3cee"}], "stats": {"total": 553, "additions": 278, "deletions": 275}, "files": [{"sha": "f9269010157ac43a858665f6be234dd6b743a7d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2e494a899aa67935ab8ed7082bf2176292186a5", "patch": "@@ -1,3 +1,8 @@\n+2003-10-07  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\n+\t* configure.in: Clean up thread file logic.\n+\t* configure: Regenerate.\n+\n 2003-10-07  Danny Smith  <dannysmith@users.sourceforge.net>\n \n \t* config/i386/cygming.h (READONLY_DATA_SECTION_ASM_OP): Define."}, {"sha": "214c0fc799c32a279019739f188836c0b56a5c10", "filename": "gcc/configure", "status": "modified", "additions": 248, "deletions": 249, "changes": 497, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=c2e494a899aa67935ab8ed7082bf2176292186a5", "patch": "@@ -2219,27 +2219,8 @@ else\n   enable_threads=''\n fi\n \n-\n+# Save in case it gets overwritten in config.gcc\n enable_threads_flag=$enable_threads\n-# Check if a valid thread package\n-case x${enable_threads_flag} in\n-\tx | xno)\n-\t\t# No threads\n-\t\ttarget_thread_file='single'\n-\t\t;;\n-\txyes)\n-\t\t# default\n-\t\ttarget_thread_file=''\n-\t\t;;\n-\txdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \\\n-\txsolaris | xwin32 | xdce | xrtems| xvxworks | xaix | xgnat)\n-\t\ttarget_thread_file=$enable_threads_flag\n-\t\t;;\n-\t*)\n-\t\techo \"$enable_threads is an unknown thread package\" 1>&2\n-\t\texit 1\n-\t\t;;\n-esac\n \n # Check whether --enable-objc-gc or --disable-objc-gc was given.\n if test \"${enable_objc_gc+set}\" = set; then\n@@ -2347,7 +2328,7 @@ fi\n # -------------------------\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:2351: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:2332: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2375,12 +2356,12 @@ fi\n \n \n # Find some useful tools\n-for ac_prog in gawk mawk nawk awk\n+for ac_prog in mawk gawk nawk awk\n do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2384: checking for $ac_word\" >&5\n+echo \"configure:2365: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2410,7 +2391,7 @@ test -n \"$AWK\" && break\n done\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:2414: checking whether ln works\" >&5\n+echo \"configure:2395: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2442,7 +2423,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:2446: checking whether ln -s works\" >&5\n+echo \"configure:2427: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2476,7 +2457,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2480: checking for $ac_word\" >&5\n+echo \"configure:2461: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2514,7 +2495,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:2518: checking for a BSD compatible install\" >&5\n+echo \"configure:2499: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2566,7 +2547,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n # See if cmp has --ignore-initial.\n echo $ac_n \"checking for cmp's capabilities\"\"... $ac_c\" 1>&6\n-echo \"configure:2570: checking for cmp's capabilities\" >&5\n+echo \"configure:2551: checking for cmp's capabilities\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2602,7 +2583,7 @@ make_compare_target=$gcc_cv_prog_cmp_skip\n # Extract the first word of \"mktemp\", so it can be a program name with args.\n set dummy mktemp; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2606: checking for $ac_word\" >&5\n+echo \"configure:2587: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_have_mktemp_command'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2641,7 +2622,7 @@ else\n   # Extract the first word of \"makeinfo\", so it can be a program name with args.\n set dummy makeinfo; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2645: checking for $ac_word\" >&5\n+echo \"configure:2626: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2670,13 +2651,13 @@ fi\n if test -n \"$MAKEINFO\"; then\n   # Found it, now check the version.\n   echo $ac_n \"checking for modern makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:2674: checking for modern makeinfo\" >&5\n+echo \"configure:2655: checking for modern makeinfo\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_makeinfo_modern'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:2680: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:2661: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[2-9]*)\n@@ -2704,7 +2685,7 @@ fi\n \n # Is pod2man recent enough to regenerate manpages?\n echo $ac_n \"checking for recent Pod::Man\"\"... $ac_c\" 1>&6\n-echo \"configure:2708: checking for recent Pod::Man\" >&5\n+echo \"configure:2689: checking for recent Pod::Man\" >&5\n if (perl -e 'use 1.10 Pod::Man') >/dev/null 2>&1; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   GENERATED_MANPAGES=generated-manpages\t\t\n@@ -2720,7 +2701,7 @@ else\n   # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2724: checking for $ac_word\" >&5\n+echo \"configure:2705: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2757,7 +2738,7 @@ else\n   # Extract the first word of \"bison\", so it can be a program name with args.\n set dummy bison; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2761: checking for $ac_word\" >&5\n+echo \"configure:2742: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_BISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2791,12 +2772,12 @@ fi\n # --------------------\n \n echo $ac_n \"checking for GNU C library\"\"... $ac_c\" 1>&6\n-echo \"configure:2795: checking for GNU C library\" >&5\n+echo \"configure:2776: checking for GNU C library\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_glibc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2800 \"configure\"\n+#line 2781 \"configure\"\n #include \"confdefs.h\"\n #include <features.h>\n int main() {\n@@ -2806,7 +2787,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:2810: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2791: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_glibc=yes\n else\n@@ -2827,20 +2808,20 @@ EOF\n fi\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2831: checking for ANSI C header files\" >&5\n+echo \"configure:2812: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2836 \"configure\"\n+#line 2817 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2844: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2825: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2857,7 +2838,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2861 \"configure\"\n+#line 2842 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2875,7 +2856,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2879 \"configure\"\n+#line 2860 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2896,7 +2877,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2900 \"configure\"\n+#line 2881 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2907,7 +2888,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2911: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2892: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2931,12 +2912,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:2935: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:2916: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2940 \"configure\"\n+#line 2921 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -2945,7 +2926,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:2949: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2930: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -2966,19 +2947,19 @@ EOF\n fi\n \n echo $ac_n \"checking for working stdbool.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2970: checking for working stdbool.h\" >&5\n+echo \"configure:2951: checking for working stdbool.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdbool_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2975 \"configure\"\n+#line 2956 \"configure\"\n #include \"confdefs.h\"\n #include <stdbool.h>\n int main() {\n bool foo = false;\n ; return 0; }\n EOF\n-if { (eval echo configure:2982: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2963: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_stdbool_h=yes\n else\n@@ -2999,20 +2980,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:3003: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:2984: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3008 \"configure\"\n+#line 2989 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3016: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2997: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -3033,12 +3014,12 @@ EOF\n fi\n \n echo $ac_n \"checking for sys/wait.h that is POSIX.1 compatible\"\"... $ac_c\" 1>&6\n-echo \"configure:3037: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n+echo \"configure:3018: checking for sys/wait.h that is POSIX.1 compatible\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_sys_wait_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3042 \"configure\"\n+#line 3023 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/wait.h>\n@@ -3054,7 +3035,7 @@ wait (&s);\n s = WIFEXITED (s) ? WEXITSTATUS (s) : 1;\n ; return 0; }\n EOF\n-if { (eval echo configure:3058: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3039: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_sys_wait_h=yes\n else\n@@ -3081,17 +3062,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h \\\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3085: checking for $ac_hdr\" >&5\n+echo \"configure:3066: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3090 \"configure\"\n+#line 3071 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3095: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3076: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3121,17 +3102,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3125: checking for thread.h\" >&5\n+echo \"configure:3106: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3130 \"configure\"\n+#line 3111 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3135: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3116: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3155,17 +3136,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3159: checking for pthread.h\" >&5\n+echo \"configure:3140: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3164 \"configure\"\n+#line 3145 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3169: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3150: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3190,12 +3171,12 @@ fi\n \n # These tests can't be done till we know if we have limits.h.\n echo $ac_n \"checking for CHAR_BIT\"\"... $ac_c\" 1>&6\n-echo \"configure:3194: checking for CHAR_BIT\" >&5\n+echo \"configure:3175: checking for CHAR_BIT\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_char_bit'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3199 \"configure\"\n+#line 3180 \"configure\"\n #include \"confdefs.h\"\n #ifdef HAVE_LIMITS_H\n #include <limits.h>\n@@ -3220,15 +3201,15 @@ fi\n echo \"$ac_t\"\"$gcc_cv_decl_char_bit\" 1>&6\n if test $gcc_cv_decl_char_bit = no; then\n   echo $ac_n \"checking number of bits in a byte\"\"... $ac_c\" 1>&6\n-echo \"configure:3224: checking number of bits in a byte\" >&5\n+echo \"configure:3205: checking number of bits in a byte\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_nbby'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   i=8\n  gcc_cv_c_nbby=\n  while test $i -lt 65; do\n    cat > conftest.$ac_ext <<EOF\n-#line 3232 \"configure\"\n+#line 3213 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -3238,7 +3219,7 @@ switch(0) {\n   ; }\n ; return 0; }\n EOF\n-if { (eval echo configure:3242: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3223: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_nbby=$i; break\n else\n@@ -3263,14 +3244,14 @@ EOF\n fi\n fi\n echo $ac_n \"checking whether byte ordering is bigendian\"\"... $ac_c\" 1>&6\n-echo \"configure:3267: checking whether byte ordering is bigendian\" >&5\n+echo \"configure:3248: checking whether byte ordering is bigendian\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_bigendian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_bigendian=unknown\n # See if sys/param.h defines the BYTE_ORDER macro.\n cat > conftest.$ac_ext <<EOF\n-#line 3274 \"configure\"\n+#line 3255 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3281,11 +3262,11 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3285: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3266: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n cat > conftest.$ac_ext <<EOF\n-#line 3289 \"configure\"\n+#line 3270 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3296,7 +3277,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3300: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3281: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_bigendian=yes\n else\n@@ -3316,7 +3297,7 @@ if test \"$cross_compiling\" = yes; then\n    echo $ac_n \"cross-compiling... \" 2>&6 \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3320 \"configure\"\n+#line 3301 \"configure\"\n #include \"confdefs.h\"\n main () {\n   /* Are we little or big endian?  From Harbison&Steele.  */\n@@ -3329,7 +3310,7 @@ main () {\n   exit (u.c[sizeof (long) - 1] == 1);\n }\n EOF\n-if { (eval echo configure:3333: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3314: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_bigendian=no\n else\n@@ -3347,7 +3328,7 @@ fi\n echo \"$ac_t\"\"$ac_cv_c_bigendian\" 1>&6\n if test $ac_cv_c_bigendian = unknown; then\n echo $ac_n \"checking to probe for byte ordering\"\"... $ac_c\" 1>&6\n-echo \"configure:3351: checking to probe for byte ordering\" >&5\n+echo \"configure:3332: checking to probe for byte ordering\" >&5\n \n cat >conftest.c <<EOF\n short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n@@ -3427,7 +3408,7 @@ esac\n # These libraries may be used by collect2.\n # We may need a special search path to get them linked.\n echo $ac_n \"checking for collect2 libraries\"\"... $ac_c\" 1>&6\n-echo \"configure:3431: checking for collect2 libraries\" >&5\n+echo \"configure:3412: checking for collect2 libraries\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_collect2_libs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3438,7 +3419,7 @@ for libs in '' -lld -lmld \\\n do\n \tLIBS=\"$libs\"\n \tcat > conftest.$ac_ext <<EOF\n-#line 3442 \"configure\"\n+#line 3423 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3449,7 +3430,7 @@ int main() {\n ldopen()\n ; return 0; }\n EOF\n-if { (eval echo configure:3453: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3434: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gcc_cv_collect2_libs=\"$libs\"; break\n else\n@@ -3475,14 +3456,14 @@ save_LIBS=\"$LIBS\"\n LIBS=\n \n echo $ac_n \"checking for library containing exc_resume\"\"... $ac_c\" 1>&6\n-echo \"configure:3479: checking for library containing exc_resume\" >&5\n+echo \"configure:3460: checking for library containing exc_resume\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_exc_resume'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_exc_resume=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 3486 \"configure\"\n+#line 3467 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3493,7 +3474,7 @@ int main() {\n exc_resume()\n ; return 0; }\n EOF\n-if { (eval echo configure:3497: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3478: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_exc_resume=\"none required\"\n else\n@@ -3504,7 +3485,7 @@ rm -f conftest*\n test \"$ac_cv_search_exc_resume\" = \"no\" && for i in exc; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3508 \"configure\"\n+#line 3489 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3515,7 +3496,7 @@ int main() {\n exc_resume()\n ; return 0; }\n EOF\n-if { (eval echo configure:3519: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3500: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_exc_resume=\"-l$i\"\n break\n@@ -3545,14 +3526,14 @@ save_LIBS=\"$LIBS\"\n LIBS=\n \n echo $ac_n \"checking for library containing ldexp\"\"... $ac_c\" 1>&6\n-echo \"configure:3549: checking for library containing ldexp\" >&5\n+echo \"configure:3530: checking for library containing ldexp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_ldexp'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_ldexp=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 3556 \"configure\"\n+#line 3537 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3563,7 +3544,7 @@ int main() {\n ldexp()\n ; return 0; }\n EOF\n-if { (eval echo configure:3567: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3548: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_ldexp=\"none required\"\n else\n@@ -3574,7 +3555,7 @@ rm -f conftest*\n test \"$ac_cv_search_ldexp\" = \"no\" && for i in m; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3578 \"configure\"\n+#line 3559 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3585,7 +3566,7 @@ int main() {\n ldexp()\n ; return 0; }\n EOF\n-if { (eval echo configure:3589: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3570: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_ldexp=\"-l$i\"\n break\n@@ -3612,20 +3593,20 @@ LIBS=\"$save_LIBS\"\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3616: checking for inttypes.h\" >&5\n+echo \"configure:3597: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3621 \"configure\"\n+#line 3602 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:3629: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3610: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_inttypes_h=yes\n else\n@@ -3653,12 +3634,12 @@ for ac_func in times clock dup2 kill getrlimit setrlimit atoll atoq \\\n         setlocale\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3657: checking for $ac_func\" >&5\n+echo \"configure:3638: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3662 \"configure\"\n+#line 3643 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3681,7 +3662,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3685: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3666: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3708,15 +3689,15 @@ done\n \n if test x$ac_cv_func_mbstowcs = xyes; then\n   echo $ac_n \"checking whether mbstowcs works\"\"... $ac_c\" 1>&6\n-echo \"configure:3712: checking whether mbstowcs works\" >&5\n+echo \"configure:3693: checking whether mbstowcs works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_mbstowcs_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n       if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_mbstowcs_works=yes\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3720 \"configure\"\n+#line 3701 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n int main()\n@@ -3725,7 +3706,7 @@ int main()\n   return 0;\n }\n EOF\n-if { (eval echo configure:3729: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3710: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_mbstowcs_works=yes\n else\n@@ -3749,12 +3730,12 @@ EOF\n fi\n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3753: checking for ssize_t\" >&5\n+echo \"configure:3734: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3758 \"configure\"\n+#line 3739 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -3785,12 +3766,12 @@ fi\n # Try to determine the array type of the second argument of getgroups\n # for the target system (int or gid_t).\n echo $ac_n \"checking for uid_t in sys/types.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3789: checking for uid_t in sys/types.h\" >&5\n+echo \"configure:3770: checking for uid_t in sys/types.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_uid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3794 \"configure\"\n+#line 3775 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -3819,15 +3800,15 @@ EOF\n fi\n \n echo $ac_n \"checking type of array argument to getgroups\"\"... $ac_c\" 1>&6\n-echo \"configure:3823: checking type of array argument to getgroups\" >&5\n+echo \"configure:3804: checking type of array argument to getgroups\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_getgroups'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_type_getgroups=cross\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3831 \"configure\"\n+#line 3812 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Rendell for this test.  */\n@@ -3852,7 +3833,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3856: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3837: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n     ac_cv_type_getgroups=gid_t\n else\n@@ -3866,7 +3847,7 @@ fi\n \n if test $ac_cv_type_getgroups = cross; then\n         cat > conftest.$ac_ext <<EOF\n-#line 3870 \"configure\"\n+#line 3851 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -3907,15 +3888,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:3911: checking whether the printf functions support %p\" >&5\n+echo \"configure:3892: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3919 \"configure\"\n+#line 3900 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -3928,7 +3909,7 @@ int main()\n   return (p != q);\n }\n EOF\n-if { (eval echo configure:3932: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3913: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -3958,7 +3939,7 @@ if test $ac_cv_header_sys_mman_h != yes \\\n    gcc_cv_func_mmap_anon=no\n else\n    echo $ac_n \"checking whether read-only mmap of a plain file works\"\"... $ac_c\" 1>&6\n-echo \"configure:3962: checking whether read-only mmap of a plain file works\" >&5\n+echo \"configure:3943: checking whether read-only mmap of a plain file works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3977,7 +3958,7 @@ fi\n \n echo \"$ac_t\"\"$gcc_cv_func_mmap_file\" 1>&6\n    echo $ac_n \"checking whether mmap from /dev/zero works\"\"... $ac_c\" 1>&6\n-echo \"configure:3981: checking whether mmap from /dev/zero works\" >&5\n+echo \"configure:3962: checking whether mmap from /dev/zero works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4003,12 +3984,12 @@ echo \"$ac_t\"\"$gcc_cv_func_mmap_dev_zero\" 1>&6\n \n    # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.\n    echo $ac_n \"checking for MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n-echo \"configure:4007: checking for MAP_ANON(YMOUS)\" >&5\n+echo \"configure:3988: checking for MAP_ANON(YMOUS)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_map_anon'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4012 \"configure\"\n+#line 3993 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/mman.h>\n@@ -4022,7 +4003,7 @@ int main() {\n int n = MAP_ANONYMOUS;\n ; return 0; }\n EOF\n-if { (eval echo configure:4026: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4007: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_map_anon=yes\n else\n@@ -4040,7 +4021,7 @@ echo \"$ac_t\"\"$gcc_cv_decl_map_anon\" 1>&6\n      gcc_cv_func_mmap_anon=no\n    else\n      echo $ac_n \"checking whether mmap with MAP_ANON(YMOUS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:4044: checking whether mmap with MAP_ANON(YMOUS) works\" >&5\n+echo \"configure:4025: checking whether mmap with MAP_ANON(YMOUS) works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4095,12 +4076,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4099: checking for pid_t\" >&5\n+echo \"configure:4080: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4104 \"configure\"\n+#line 4085 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4129,17 +4110,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4133: checking for vfork.h\" >&5\n+echo \"configure:4114: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4138 \"configure\"\n+#line 4119 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4143: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4124: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4164,18 +4145,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4168: checking for working vfork\" >&5\n+echo \"configure:4149: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4174: checking for vfork\" >&5\n+echo \"configure:4155: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4179 \"configure\"\n+#line 4160 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -4198,7 +4179,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4202: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4183: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -4220,7 +4201,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4224 \"configure\"\n+#line 4205 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -4315,7 +4296,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:4319: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4300: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -4354,15 +4335,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:4358: checking for iconv\" >&5\n+echo \"configure:4339: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 4366 \"configure\"\n+#line 4347 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4372,7 +4353,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4376: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4357: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -4384,7 +4365,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 4388 \"configure\"\n+#line 4369 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4394,7 +4375,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4398: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4379: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -4415,13 +4396,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:4419: checking for iconv declaration\" >&5\n+echo \"configure:4400: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 4425 \"configure\"\n+#line 4406 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -4440,7 +4421,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4444: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4425: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -4473,19 +4454,19 @@ LIBICONV_DEP=\n \n \n   echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:4477: checking for LC_MESSAGES\" >&5\n+echo \"configure:4458: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4482 \"configure\"\n+#line 4463 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:4489: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4470: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -4516,12 +4497,12 @@ for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4520: checking whether $ac_func is declared\" >&5\n+echo \"configure:4501: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4525 \"configure\"\n+#line 4506 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4535,7 +4516,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4539: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4520: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4637,12 +4618,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4641: checking whether $ac_func is declared\" >&5\n+echo \"configure:4622: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4646 \"configure\"\n+#line 4627 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4660,7 +4641,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4664: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4645: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4699,7 +4680,7 @@ fi\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 4703 \"configure\"\n+#line 4684 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4712,7 +4693,7 @@ int main() {\n rlim_t l = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:4716: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4697: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   :\n else\n   echo \"configure: failed program was:\" >&5\n@@ -4729,12 +4710,12 @@ for ac_func in ldgetname\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4733: checking whether $ac_func is declared\" >&5\n+echo \"configure:4714: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4738 \"configure\"\n+#line 4719 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4752,7 +4733,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4756: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4737: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4788,12 +4769,12 @@ for ac_func in times\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4792: checking whether $ac_func is declared\" >&5\n+echo \"configure:4773: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4797 \"configure\"\n+#line 4778 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4811,7 +4792,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4815: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4796: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4845,13 +4826,13 @@ fi\n \n # More time-related stuff.\n echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n-echo \"configure:4849: checking for struct tms\" >&5\n+echo \"configure:4830: checking for struct tms\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4855 \"configure\"\n+#line 4836 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4864,7 +4845,7 @@ int main() {\n struct tms tms;\n ; return 0; }\n EOF\n-if { (eval echo configure:4868: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4849: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tms=yes\n else\n@@ -4887,13 +4868,13 @@ fi\n # use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n # revisit after autoconf 2.50.\n echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4891: checking for clock_t\" >&5\n+echo \"configure:4872: checking for clock_t\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4897 \"configure\"\n+#line 4878 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4903,7 +4884,7 @@ int main() {\n clock_t x;\n ; return 0; }\n EOF\n-if { (eval echo configure:4907: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4888: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_type_clock_t=yes\n else\n@@ -4924,12 +4905,12 @@ EOF\n fi\n \n echo $ac_n \"checking for uchar\"\"... $ac_c\" 1>&6\n-echo \"configure:4928: checking for uchar\" >&5\n+echo \"configure:4909: checking for uchar\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_uchar'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4933 \"configure\"\n+#line 4914 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4940,7 +4921,7 @@ if ((uchar *)0) return 0;\n  if (sizeof(uchar)) return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:4944: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4925: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_type_uchar=yes\n else\n@@ -4970,23 +4951,23 @@ if test \"${enable_initfini_array+set}\" = set; then\n else\n   \n echo $ac_n \"checking for .preinit_array/.init_array/.fini_array support\"\"... $ac_c\" 1>&6\n-echo \"configure:4974: checking for .preinit_array/.init_array/.fini_array support\" >&5\n+echo \"configure:4955: checking for .preinit_array/.init_array/.fini_array support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_initfini_array'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     if test \"$cross_compiling\" = yes; then\n   gcc_cv_initfini_array=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4982 \"configure\"\n+#line 4963 \"configure\"\n #include \"confdefs.h\"\n \n static int x = -1;\n int main (void) { return x; }\n int foo (void) { x = 0; }\n int (*fp) (void) __attribute__ ((section (\".init_array\"))) = foo;\n EOF\n-if { (eval echo configure:4990: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4971: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_initfini_array=yes\n else\n@@ -5014,12 +4995,12 @@ fi\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:5018: checking if mkdir takes one argument\" >&5\n+echo \"configure:4999: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5023 \"configure\"\n+#line 5004 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -5036,7 +5017,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5040: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5021: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -5077,22 +5058,22 @@ fi\n \n if test x$host = x$target; then\n    echo $ac_n \"checking for main in -lunwind\"\"... $ac_c\" 1>&6\n-echo \"configure:5081: checking for main in -lunwind\" >&5\n+echo \"configure:5062: checking for main in -lunwind\" >&5\n ac_lib_var=`echo unwind'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lunwind  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5089 \"configure\"\n+#line 5070 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:5096: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5077: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5257,12 +5238,30 @@ if test \"$host_xm_file\" != \"$build_xm_file\"; then\n \tfi\n fi\n \n-if test x$thread_file = x; then\n-\tif test x$target_thread_file != x; then\n-\t\tthread_file=$target_thread_file\n-\telse\n-\t\tthread_file='single'\n-\tfi\n+# Check if a valid thread package\n+case ${enable_threads_flag} in\n+  \"\" | no)\n+    # No threads\n+    target_thread_file='single'\n+    ;;\n+  yes)\n+    # default\n+    target_thread_file='single'\n+    ;;\n+  decosf1 | irix | mach | os2 | posix | pthreads | single | \\\n+  solaris | win32 | dce | rtems| vxworks | aix | gnat)\n+    target_thread_file=${enable_threads_flag}\n+    ;;\n+  *)\n+    echo \"${enable_threads_flag} is an unknown thread package\" 1>&2\n+    exit 1\n+    ;;\n+esac\n+\n+if test x${thread_file} = x; then\n+  # No thread file set by target-specific clauses in config.gcc,\n+  # so use file chosen by default logic above\n+  thread_file=${target_thread_file}\n fi\n \n if test x$enable___cxa_atexit = xyes || \\\n@@ -5392,7 +5391,7 @@ if test -f ../intl/config.intl; then\n   . ../intl/config.intl\n fi\n echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5396: checking whether NLS is requested\" >&5\n+echo \"configure:5395: checking whether NLS is requested\" >&5\n if test x\"$USE_NLS\" != xyes; then\n   echo \"$ac_t\"\"no\" 1>&6\n else\n@@ -5403,7 +5402,7 @@ EOF\n \n \n   echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:5407: checking for catalogs to be installed\" >&5\n+echo \"configure:5406: checking for catalogs to be installed\" >&5\n   # Look for .po and .gmo files in the source directory.\n   CATALOGS=  \n   XLINGUAS=\n@@ -5453,7 +5452,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5457: checking whether windows registry support is requested\" >&5\n+echo \"configure:5456: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -5462,14 +5461,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:5466: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:5465: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5473 \"configure\"\n+#line 5472 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5480,7 +5479,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:5484: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5483: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -5491,7 +5490,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5495 \"configure\"\n+#line 5494 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5502,7 +5501,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:5506: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5505: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -5544,7 +5543,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:5548: checking registry key on windows hosts\" >&5\n+echo \"configure:5547: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -5813,7 +5812,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5817: checking what assembler to use\" >&5\n+echo \"configure:5816: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -5937,7 +5936,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5941: checking what linker to use\" >&5\n+echo \"configure:5940: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -6045,7 +6044,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6049: checking what nm to use\" >&5\n+echo \"configure:6048: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -6068,7 +6067,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6072: checking what objdump to use\" >&5\n+echo \"configure:6071: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -6093,7 +6092,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler for .balign and .p2align\"\"... $ac_c\" 1>&6\n-echo \"configure:6097: checking assembler for .balign and .p2align\" >&5\n+echo \"configure:6096: checking assembler for .balign and .p2align\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_balign_and_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6105,7 +6104,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '.balign 4\n .p2align 2' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6109: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6108: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_balign_and_p2align=yes\n     else\n@@ -6125,7 +6124,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .p2align with maximum skip\"\"... $ac_c\" 1>&6\n-echo \"configure:6129: checking assembler for .p2align with maximum skip\" >&5\n+echo \"configure:6128: checking assembler for .p2align with maximum skip\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_max_skip_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6136,7 +6135,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.p2align 4,,7' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6140: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6139: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_max_skip_p2align=yes\n     else\n@@ -6156,7 +6155,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for working .subsection -1\"\"... $ac_c\" 1>&6\n-echo \"configure:6160: checking assembler for working .subsection -1\" >&5\n+echo \"configure:6159: checking assembler for working .subsection -1\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_subsection_m1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6171,7 +6170,7 @@ fi\n .subsection -1\n conftest_label2: .word 0\n .previous' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6175: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6174: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_nm != x; then\n     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1\n@@ -6199,7 +6198,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .weak\"\"... $ac_c\" 1>&6\n-echo \"configure:6203: checking assembler for .weak\" >&5\n+echo \"configure:6202: checking assembler for .weak\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_weak'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6210,7 +6209,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weak foobar' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6214: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6213: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_weak=yes\n     else\n@@ -6237,7 +6236,7 @@ fi\n # to be safe.\n # The gcc_GAS_CHECK_FEATURE call just sets a cache variable.\n echo $ac_n \"checking assembler for .hidden\"\"... $ac_c\" 1>&6\n-echo \"configure:6241: checking assembler for .hidden\" >&5\n+echo \"configure:6240: checking assembler for .hidden\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6250,7 +6249,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.hidden foobar\n foobar:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6254: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6253: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_hidden=yes\n     else\n@@ -6265,7 +6264,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n \n echo $ac_n \"checking linker for .hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6269: checking linker for .hidden support\" >&5\n+echo \"configure:6268: checking linker for .hidden support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_ld_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6328,7 +6327,7 @@ fi\n \n # Check if we have .[us]leb128, and support symbol arithmetic with it.\n echo $ac_n \"checking assembler for .sleb128 and .uleb128\"\"... $ac_c\" 1>&6\n-echo \"configure:6332: checking assembler for .sleb128 and .uleb128\" >&5\n+echo \"configure:6331: checking assembler for .sleb128 and .uleb128\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_leb128'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6345,7 +6344,7 @@ L1:\n \t.uleb128 1280\n \t.sleb128 -1010\n L2:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6349: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6348: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# GAS versions before 2.11 do not support uleb128,\n   # despite appearing to.\n@@ -6381,7 +6380,7 @@ fi\n # GAS versions up to and including 2.11.0 may mis-optimize\n # .eh_frame data.\n echo $ac_n \"checking assembler for eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:6385: checking assembler for eh_frame optimization\" >&5\n+echo \"configure:6384: checking assembler for eh_frame optimization\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6424,7 +6423,7 @@ __FRAME_BEGIN__:\n \t.byte\t0x4\n \t.4byte\t.L1-.LFB1\n .LEFDE1:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6428: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6427: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t  cat > conftest.lit <<EOF\n  0000 10000000 00000000 017a0001 781a0004  .........z..x...\n@@ -6445,7 +6444,7 @@ EOF\n     || cmp conftest.big conftest.got > /dev/null 2>&1; }\n   then\n     gcc_cv_as_eh_frame=yes\n-  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6449: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n+  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6448: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n     gcc_cv_as_eh_frame=buggy\n   else\n     # Uh oh, what do we do now?\n@@ -6470,7 +6469,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:6474: checking assembler for section merging support\" >&5\n+echo \"configure:6473: checking assembler for section merging support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_shf_merge'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6482,7 +6481,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", @progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6486: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6485: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_shf_merge=yes\n     else\n@@ -6707,7 +6706,7 @@ if test -z \"$tls_first_major\"; then\n   : # If we don't have a check, assume no support.\n else\n   echo $ac_n \"checking assembler for thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:6711: checking assembler for thread-local storage support\" >&5\n+echo \"configure:6710: checking assembler for thread-local storage support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_tls'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6718,7 +6717,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6722: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6721: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_tls=yes\n     else\n@@ -6744,7 +6743,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:6748: checking assembler for explicit relocation support\" >&5\n+echo \"configure:6747: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_alpha_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6767,7 +6766,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6771: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6770: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_alpha_explicit_relocs=yes\n     else\n@@ -6789,14 +6788,14 @@ fi\n \n   sparc*-*-*)\n     echo $ac_n \"checking assembler for .register\"\"... $ac_c\" 1>&6\n-echo \"configure:6793: checking assembler for .register\" >&5\n+echo \"configure:6792: checking assembler for .register\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_register_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6800: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6799: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_register_op=yes\n     else\n@@ -6816,14 +6815,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for -relax option\"\"... $ac_c\" 1>&6\n-echo \"configure:6820: checking assembler for -relax option\" >&5\n+echo \"configure:6819: checking assembler for -relax option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_relax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6827: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6826: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_relax=yes\n     else\n@@ -6843,7 +6842,7 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for unaligned pcrel relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6847: checking assembler for unaligned pcrel relocs\" >&5\n+echo \"configure:6846: checking assembler for unaligned pcrel relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6856,7 +6855,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6860: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6859: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x \\\n        && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n@@ -6879,7 +6878,7 @@ EOF\n \n \n       echo $ac_n \"checking assembler for unaligned pcrel relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:6883: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n+echo \"configure:6882: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6894,7 +6893,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6898: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6897: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \\\n@@ -6927,7 +6926,7 @@ fi\n fi # unaligned pcrel relocs\n \n     echo $ac_n \"checking assembler for offsetable %lo()\"\"... $ac_c\" 1>&6\n-echo \"configure:6931: checking assembler for offsetable %lo()\" >&5\n+echo \"configure:6930: checking assembler for offsetable %lo()\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6936,7 +6935,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6940: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6939: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_objdump != x \\\n        && %gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \\\n@@ -6962,7 +6961,7 @@ fi\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler for filds and fists mnemonics\"\"... $ac_c\" 1>&6\n-echo \"configure:6966: checking assembler for filds and fists mnemonics\" >&5\n+echo \"configure:6965: checking assembler for filds and fists mnemonics\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_filds_fists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6973,7 +6972,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6977: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6976: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_filds_fists=yes\n     else\n@@ -6993,14 +6992,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for cmov syntax\"\"... $ac_c\" 1>&6\n-echo \"configure:6997: checking assembler for cmov syntax\" >&5\n+echo \"configure:6996: checking assembler for cmov syntax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_cmov_sun_syntax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_ix86_cmov_sun_syntax=no\n   if test x$gcc_cv_as != x; then\n     echo 'cmovl.l %edx, %eax' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7004: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7003: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_cmov_sun_syntax=yes\n     else\n@@ -7022,7 +7021,7 @@ fi\n     # This one is used unconditionally by i386.[ch]; it is to be defined\n     # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:7026: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:7025: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7037,7 +7036,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7041: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7040: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -7058,7 +7057,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:7062: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:7061: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7072,7 +7071,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7076: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7075: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ia64_ltoffx_ldxmov_relocs=yes\n     else\n@@ -7102,7 +7101,7 @@ fi\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:7106: checking assembler for mfcr field support\" >&5\n+echo \"configure:7105: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7113,7 +7112,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7117: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7116: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7135,7 +7134,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7139: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7138: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7146,7 +7145,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7150: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7149: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7192,7 +7191,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7196: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7195: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7204,7 +7203,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7208: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7207: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7226,15 +7225,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7230: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7229: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7238: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7237: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7257,7 +7256,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7261: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7260: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7269,7 +7268,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7273: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7272: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7289,7 +7288,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7293: checking assembler for --gstabs option\" >&5\n+echo \"configure:7292: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7301,12 +7300,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7305: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7304: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7310: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7309: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7328,7 +7327,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7332: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7331: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7367,7 +7366,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7371: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7370: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7389,7 +7388,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7393: checking linker position independent executable support\" >&5\n+echo \"configure:7392: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7414,7 +7413,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7418: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7417: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7616,7 +7615,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7620: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7619: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "a08f1317b31a7d9a6494d8175ca7909bccdac36c", "filename": "gcc/configure.in", "status": "modified", "additions": 25, "deletions": 26, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e494a899aa67935ab8ed7082bf2176292186a5/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=c2e494a899aa67935ab8ed7082bf2176292186a5", "patch": "@@ -478,27 +478,8 @@ AC_ARG_ENABLE(threads,\n [  --enable-threads        enable thread usage for target GCC\n   --enable-threads=LIB    use LIB thread package for target GCC],,\n enable_threads='')\n-\n+# Save in case it gets overwritten in config.gcc\n enable_threads_flag=$enable_threads\n-# Check if a valid thread package\n-case x${enable_threads_flag} in\n-\tx | xno)\n-\t\t# No threads\n-\t\ttarget_thread_file='single'\n-\t\t;;\n-\txyes)\n-\t\t# default\n-\t\ttarget_thread_file=''\n-\t\t;;\n-\txdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \\\n-\txsolaris | xwin32 | xdce | xrtems| xvxworks | xaix | xgnat)\n-\t\ttarget_thread_file=$enable_threads_flag\n-\t\t;;\n-\t*)\n-\t\techo \"$enable_threads is an unknown thread package\" 1>&2\n-\t\texit 1\n-\t\t;;\n-esac\n \n AC_ARG_ENABLE(objc-gc,\n [  --enable-objc-gc\t  enable the use of Boehm's garbage collector with\n@@ -1079,12 +1060,30 @@ if test \"$host_xm_file\" != \"$build_xm_file\"; then\n \tfi\n fi\n \n-if test x$thread_file = x; then\n-\tif test x$target_thread_file != x; then\n-\t\tthread_file=$target_thread_file\n-\telse\n-\t\tthread_file='single'\n-\tfi\n+# Check if a valid thread package\n+case ${enable_threads_flag} in\n+  \"\" | no)\n+    # No threads\n+    target_thread_file='single'\n+    ;;\n+  yes)\n+    # default\n+    target_thread_file='single'\n+    ;;\n+  decosf1 | irix | mach | os2 | posix | pthreads | single | \\\n+  solaris | win32 | dce | rtems| vxworks | aix | gnat)\n+    target_thread_file=${enable_threads_flag}\n+    ;;\n+  *)\n+    echo \"${enable_threads_flag} is an unknown thread package\" 1>&2\n+    exit 1\n+    ;;\n+esac\n+\n+if test x${thread_file} = x; then\n+  # No thread file set by target-specific clauses in config.gcc,\n+  # so use file chosen by default logic above\n+  thread_file=${target_thread_file}\n fi\n \n if test x$enable___cxa_atexit = xyes || \\"}]}