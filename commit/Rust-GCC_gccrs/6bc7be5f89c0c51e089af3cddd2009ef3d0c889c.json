{"sha": "6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmJjN2JlNWY4OWMwYzUxZTA4OWFmM2NkZGQyMDA5ZWYzZDBjODg5Yw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-02-13T14:44:00Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-02-13T14:44:00Z"}, "message": "* pt.c (determine_specialization): Give better errors.\n\nFrom-SVN: r17970", "tree": {"sha": "93697fc0df64993545169cd10fe3c3315167c336", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/93697fc0df64993545169cd10fe3c3315167c336"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c/comments", "author": null, "committer": null, "parents": [{"sha": "e3e7774eb1ba129805886520d9417f28bb52a41a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3e7774eb1ba129805886520d9417f28bb52a41a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3e7774eb1ba129805886520d9417f28bb52a41a"}], "stats": {"total": 20, "additions": 15, "deletions": 5}, "files": [{"sha": "bf101322feac9f5d233fadd78087f937c0f4f3e0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "patch": "@@ -1,3 +1,7 @@\n+Fri Feb 13 14:30:35 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* pt.c (determine_specialization): Give better errors.\n+\n Fri Feb 13 14:06:22 1998  Mike Stump  <mrs@wrs.com>\n \n \t* init.c (build_new): Propagate error_mark_node up."}, {"sha": "8d15cb009de631ea678a825997dc6435693bbb64", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6bc7be5f89c0c51e089af3cddd2009ef3d0c889c/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=6bc7be5f89c0c51e089af3cddd2009ef3d0c889c", "patch": "@@ -519,7 +519,15 @@ determine_specialization (template_id, decl, targs_out,\n \ttmpl = DECL_TI_TEMPLATE (fn);\n       else if (TREE_CODE (fn) != TEMPLATE_DECL\n \t       || (need_member_template && !is_member_template (fn)))\n-\tcontinue;\n+\t{\n+\t  if (decls_match (decl, fn))\n+\t    {\n+\t      cp_error (\"`template <>' applied to non-specialization `%D'\",\n+\t\t\tfn);\n+\t      return NULL_TREE;\n+\t    }\n+\t  continue;\n+\t}\n       else\n \ttmpl = fn;\n \n@@ -564,8 +572,7 @@ determine_specialization (template_id, decl, targs_out,\n     {\n     no_match:\n       if (complain)\n-\tcp_error (\"`%D' does not match any template declaration\",\n-\t\t  template_id);\n+\tcp_error (\"`%D' does not match any template declaration\", decl);\n       \n       return NULL_TREE;\n     }\n@@ -574,8 +581,7 @@ determine_specialization (template_id, decl, targs_out,\n     ambiguous:\n       if (complain)\n \t{\n-\t  cp_error (\"ambiguous template specialization `%D'\",\n-\t\t    template_id);\n+\t  cp_error (\"ambiguous template specialization `%D'\", decl);\n \t  print_candidates (templates);\n \t}\n       return NULL_TREE;"}]}