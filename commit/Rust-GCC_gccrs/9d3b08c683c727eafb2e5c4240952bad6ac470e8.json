{"sha": "9d3b08c683c727eafb2e5c4240952bad6ac470e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQzYjA4YzY4M2M3MjdlYWZiMmU1YzQyNDA5NTJiYWQ2YWM0NzBlOA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-06T18:34:13Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-06T18:34:13Z"}, "message": "read_no_eor.f90: New test.\n\n2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* gfortran.dg/read_no_eor.f90: New test.\n\nFrom-SVN: r156553", "tree": {"sha": "11378ee65b8c587fabf37b91e944cca46ed6cf16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11378ee65b8c587fabf37b91e944cca46ed6cf16"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d3b08c683c727eafb2e5c4240952bad6ac470e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d3b08c683c727eafb2e5c4240952bad6ac470e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d3b08c683c727eafb2e5c4240952bad6ac470e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d3b08c683c727eafb2e5c4240952bad6ac470e8/comments", "author": null, "committer": null, "parents": [{"sha": "28f9f1456e551dabd84c62c6a595256d4c681319", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f9f1456e551dabd84c62c6a595256d4c681319", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f9f1456e551dabd84c62c6a595256d4c681319"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "b8c4b8c8e523f1b440abfe1c72e8b53d1654a52b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d3b08c683c727eafb2e5c4240952bad6ac470e8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d3b08c683c727eafb2e5c4240952bad6ac470e8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9d3b08c683c727eafb2e5c4240952bad6ac470e8", "patch": "@@ -1,3 +1,7 @@\n+2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* gfortran.dg/read_no_eor.f90: New test.\n+\n 2010-02-05  Jason Merrill  <jason@redhat.com>\n \n \t* g++.dg/ext/label13.C: Move constructor body out of class."}, {"sha": "118816405bcae67d56dcba60563789f107a97ba2", "filename": "gcc/testsuite/gfortran.dg/read_no_eor.f90", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d3b08c683c727eafb2e5c4240952bad6ac470e8/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_no_eor.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d3b08c683c727eafb2e5c4240952bad6ac470e8/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_no_eor.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_no_eor.f90?ref=9d3b08c683c727eafb2e5c4240952bad6ac470e8", "patch": "@@ -0,0 +1,46 @@\n+! { dg-do run }\n+! Handle eor and eof conditions with missing eor in file.\n+! Test case modified from case presented by Ian Harvey on clf.\n+program eieio_stat\n+  use, intrinsic :: iso_fortran_env, only: iostat_end, iostat_eor\n+  implicit none\n+  integer, parameter :: unit=10\n+  integer :: ios1, ios2, ios3\n+  character(25) :: buffer\n+  character(100) :: themessage\n+  !****\n+  open(10,file=\"eieio\", form=\"unformatted\", access=\"stream\", status=\"replace\")\n+  write(10) \"Line-1\" // char(10)\n+  write(10) \"Line-2\"\n+  close(10)\n+\n+  open(10,file=\"eieio\")\n+  \n+  buffer = 'abcdefg'\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios1, pad=\"yes\") buffer\n+  if (ios1 /= iostat_eor .and. buffer /= \"Line-1\") call abort\n+\n+  buffer = '<'\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios2,pad=\"yes\") buffer\n+  if (ios2 /= iostat_eor .and. buffer /= \"Line-2\") call abort\n+  \n+  buffer = '5678'\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios3, iomsg=themessage) buffer\n+  if (ios3 /= iostat_end .and. buffer /= \"5678\") call abort\n+\n+  rewind(10)\n+\n+  buffer = \"abcdefg\"\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios1, pad=\"no\") buffer\n+  if (ios1 /= iostat_eor .and. buffer /= \"abcdefg\") call abort\n+\n+  buffer = '<'\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios2,pad=\"no\") buffer\n+  if (ios2 /= iostat_eor .and. buffer /= \"<\") call abort\n+\n+  buffer = '1234'\n+  read (unit,\"(a)\",advance=\"no\",iostat=ios3, iomsg=themessage) buffer\n+  if (ios3 <= 0 .and. buffer /= \"1234\") call abort\n+  \n+  close(unit, status=\"delete\")\n+end program eieio_stat "}]}