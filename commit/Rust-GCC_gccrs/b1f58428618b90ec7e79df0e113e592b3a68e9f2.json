{"sha": "b1f58428618b90ec7e79df0e113e592b3a68e9f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjFmNTg0Mjg2MThiOTBlYzdlNzlkZjBlMTEzZTU5MmIzYTY4ZTlmMg==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-08-23T08:11:40Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-08-23T08:11:40Z"}, "message": "mips.md (*mov<mode>_ra): Name previously unnamed MIPS16 $31 store insns.\n\n\t* config/mips/mips.md (*mov<mode>_ra): Name previously unnamed MIPS16\n\t$31 store insns.  Redefine using :GPR.\n\nFrom-SVN: r86417", "tree": {"sha": "c28e0cb7746e9824389ddb37adad3cd4e8c59515", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c28e0cb7746e9824389ddb37adad3cd4e8c59515"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1f58428618b90ec7e79df0e113e592b3a68e9f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1f58428618b90ec7e79df0e113e592b3a68e9f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1f58428618b90ec7e79df0e113e592b3a68e9f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1f58428618b90ec7e79df0e113e592b3a68e9f2/comments", "author": null, "committer": null, "parents": [{"sha": "237b301e9705a54466e179875b944bc69cda6fe0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/237b301e9705a54466e179875b944bc69cda6fe0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/237b301e9705a54466e179875b944bc69cda6fe0"}], "stats": {"total": 29, "additions": 12, "deletions": 17}, "files": [{"sha": "7beb5cb8577eb1f4bd8c11d9ceea9617dcb1e488", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1f58428618b90ec7e79df0e113e592b3a68e9f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1f58428618b90ec7e79df0e113e592b3a68e9f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b1f58428618b90ec7e79df0e113e592b3a68e9f2", "patch": "@@ -1,3 +1,8 @@\n+2004-08-23  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.md (*mov<mode>_ra): Name previously unnamed MIPS16\n+\t$31 store insns.  Redefine using :GPR.\n+\n 2004-08-23  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* config/mips/mips.md (P): New mode macro."}, {"sha": "fa7ee20561be212914c9e3261b18adecac57339d", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 7, "deletions": 17, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1f58428618b90ec7e79df0e113e592b3a68e9f2/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1f58428618b90ec7e79df0e113e592b3a68e9f2/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=b1f58428618b90ec7e79df0e113e592b3a68e9f2", "patch": "@@ -3432,13 +3432,13 @@ beq\\t%2,%.,1b\\;\\\n ;; memory, since we don't have a constraint to match $31.  This\n ;; instruction can be generated by save_restore_insns.\n \n-(define_insn \"\"\n-  [(set (match_operand:DI 0 \"stack_operand\" \"=m\")\n-\t(reg:DI 31))]\n-  \"TARGET_MIPS16 && TARGET_64BIT\"\n-  \"sd\\t$31,%0\"\n-  [(set_attr \"type\"\t\"store\")\n-   (set_attr \"mode\"\t\"DI\")])\n+(define_insn \"*mov<mode>_ra\"\n+  [(set (match_operand:GPR 0 \"stack_operand\" \"=m\")\n+\t(reg:GPR 31))]\n+  \"TARGET_MIPS16\"\n+  \"<store>\\t$31,%0\"\n+  [(set_attr \"type\" \"store\")\n+   (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"*movdi_32bit\"\n   [(set (match_operand:DI 0 \"nonimmediate_operand\" \"=d,d,d,m,*x,*d,*B*C*D,*B*C*D,*d,*m\")\n@@ -3555,16 +3555,6 @@ beq\\t%2,%.,1b\\;\\\n     DONE;\n })\n \n-;; We can only store $ra directly into a small sp offset.\n-\n-(define_insn \"\"\n-  [(set (match_operand:SI 0 \"stack_operand\" \"=m\")\n-\t(reg:SI 31))]\n-  \"TARGET_MIPS16\"\n-  \"sw\\t$31,%0\"\n-  [(set_attr \"type\"\t\"store\")\n-   (set_attr \"mode\"\t\"SI\")])\n-\n ;; The difference between these two is whether or not ints are allowed\n ;; in FP registers (off by default, use -mdebugh to enable).\n "}]}