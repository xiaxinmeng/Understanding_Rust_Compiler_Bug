{"sha": "bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZlNzhiMDg0NzFmYTZkYWZmYjhlOGU4ZTcwYmQ1YjFkMzA3MWZmNg==", "commit": {"author": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2020-02-18T05:47:50Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2020-02-19T05:03:51Z"}, "message": "RISC-V: Using fmv.x.w/fmv.w.x rather than fmv.x.s/fmv.s.x\n\n - fmv.x.s/fmv.s.x renamed to fmv.x.w/fmv.w.x in the latest RISC-V ISA\n   manual.\n\n - Tested rv32gc/rv64gc on bare-metal with qemu.\n\nChangeLog\n\ngcc/\n\nKito Cheng  <kito.cheng@sifive.com>\n\n\t* config/riscv/riscv.c (riscv_output_move) Using fmv.x.w/fmv.w.x\n\trather than fmv.x.s/fmv.s.x.", "tree": {"sha": "08b3bf5f5cc03b417b6ffc596ba93c0173404012", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08b3bf5f5cc03b417b6ffc596ba93c0173404012"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6/comments", "author": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "242b4fb7f4e6c6224e727fa5e9ed8a776d16ccf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/242b4fb7f4e6c6224e727fa5e9ed8a776d16ccf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/242b4fb7f4e6c6224e727fa5e9ed8a776d16ccf9"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "77c2a9ad81094a70939ce181e0674dd30a0a6d2a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "patch": "@@ -1,3 +1,8 @@\n+2020-01-21  Kito Cheng  <kito.cheng@sifive.com>\n+\n+\t* config/riscv/riscv.c (riscv_output_move) Using fmv.x.w/fmv.w.x\n+\trather than fmv.x.s/fmv.s.x.\n+\n 2020-02-18  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/aarch64/aarch64-simd-builtins.def"}, {"sha": "54de0a667a499522085fa05684e5a0e9d0e544a3", "filename": "gcc/config/riscv/riscv.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6/gcc%2Fconfig%2Friscv%2Friscv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6/gcc%2Fconfig%2Friscv%2Friscv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.c?ref=bfe78b08471fa6daffb8e8e8e70bd5b1d3071ff6", "patch": "@@ -1917,7 +1917,7 @@ riscv_output_move (rtx dest, rtx src)\n   if (dest_code == REG && GP_REG_P (REGNO (dest)))\n     {\n       if (src_code == REG && FP_REG_P (REGNO (src)))\n-\treturn dbl_p ? \"fmv.x.d\\t%0,%1\" : \"fmv.x.s\\t%0,%1\";\n+\treturn dbl_p ? \"fmv.x.d\\t%0,%1\" : \"fmv.x.w\\t%0,%1\";\n \n       if (src_code == MEM)\n \tswitch (GET_MODE_SIZE (mode))\n@@ -1954,7 +1954,7 @@ riscv_output_move (rtx dest, rtx src)\n \t  if (FP_REG_P (REGNO (dest)))\n \t    {\n \t      if (!dbl_p)\n-\t\treturn \"fmv.s.x\\t%0,%z1\";\n+\t\treturn \"fmv.w.x\\t%0,%z1\";\n \t      if (TARGET_64BIT)\n \t\treturn \"fmv.d.x\\t%0,%z1\";\n \t      /* in RV32, we can emulate fmv.d.x %0, x0 using fcvt.d.w */"}]}