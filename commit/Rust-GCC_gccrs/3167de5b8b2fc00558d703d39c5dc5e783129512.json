{"sha": "3167de5b8b2fc00558d703d39c5dc5e783129512", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE2N2RlNWI4YjJmYzAwNTU4ZDcwM2QzOWM1ZGM1ZTc4MzEyOTUxMg==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@cygnus.com", "date": "1998-12-14T14:19:48Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "1998-12-14T14:19:48Z"}, "message": "output.h (force_data_section): New prototype.\n\n\t* output.h (force_data_section): New prototype.\n\t* varasm.c (force_data_section): New function to force the\n\tdata section, regardless of what in_section thinks.\n\t* dwarf2out.c (output_call_frame_info): Call force_data_section\n\tsince varasm may not realize we've changes sections.\n\nFrom-SVN: r24311", "tree": {"sha": "9c3b295b1593fd55841e42176ef3ad15e79ae042", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c3b295b1593fd55841e42176ef3ad15e79ae042"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3167de5b8b2fc00558d703d39c5dc5e783129512", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3167de5b8b2fc00558d703d39c5dc5e783129512", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3167de5b8b2fc00558d703d39c5dc5e783129512", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3167de5b8b2fc00558d703d39c5dc5e783129512/comments", "author": null, "committer": null, "parents": [{"sha": "80599fd90cc3b730255b71d0fe904cd68b68f2ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/80599fd90cc3b730255b71d0fe904cd68b68f2ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/80599fd90cc3b730255b71d0fe904cd68b68f2ec"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "526c5394242011b08c8e315056f8b8ef2f6c550d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3167de5b8b2fc00558d703d39c5dc5e783129512", "patch": "@@ -1,3 +1,11 @@\n+Mon Dec 14 17:13:36 EST 1998  Andrew MacLeod  <amacleod@cygnus.com>\n+\n+\t* output.h (force_data_section): New prototype.\n+\t* varasm.c (force_data_section): New function to force the\n+\tdata section, regardless of what in_section thinks.\n+\t* dwarf2out.c (output_call_frame_info): Call force_data_section\n+\tsince varasm may not realize we've changes sections.\n+\n Mon Dec 14 14:09:34 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* reload1.c (reload): Delete REG_RETVAL and REG_LIBCALL notes"}, {"sha": "8f99206f1339bfe540c1b68fd926e4afb102dad2", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=3167de5b8b2fc00558d703d39c5dc5e783129512", "patch": "@@ -1691,7 +1691,7 @@ output_call_frame_info (for_eh)\n #else\n       tree label = get_file_function_name ('F');\n \n-      data_section ();\n+      force_data_section ();\n       ASM_OUTPUT_ALIGN (asm_out_file, floor_log2 (PTR_SIZE));\n       ASM_GLOBALIZE_LABEL (asm_out_file, IDENTIFIER_POINTER (label));\n       ASM_OUTPUT_LABEL (asm_out_file, IDENTIFIER_POINTER (label));"}, {"sha": "4fcce0b22eefab5f76f8d51a63545ffa1112343a", "filename": "gcc/output.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Foutput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Foutput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foutput.h?ref=3167de5b8b2fc00558d703d39c5dc5e783129512", "patch": "@@ -142,6 +142,9 @@ extern void text_section\t\tPROTO((void));\n /* Tell assembler to switch to data section.  */\n extern void data_section\t\tPROTO((void));\n \n+/* Tell assembler to make sure its in the data section.  */\n+extern void force_data_section\t\tPROTO((void));\n+\n /* Tell assembler to switch to read-only data section.  This is normally\n    the text section.  */\n extern void readonly_data_section\tPROTO((void));"}, {"sha": "343c60364c6e4351e4d5f49d91dd05ae4391ebee", "filename": "gcc/varasm.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3167de5b8b2fc00558d703d39c5dc5e783129512/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=3167de5b8b2fc00558d703d39c5dc5e783129512", "patch": "@@ -216,6 +216,15 @@ data_section ()\n       in_section = in_data;\n     }\n }\n+/* Tell assembler to ALWAYS switch to data section, in case\n+   it's not sure where it it.  */\n+\n+void\n+force_data_section ()\n+{\n+  in_section = no_section;\n+  data_section ();\n+}\n \n /* Tell assembler to switch to read-only data section.  This is normally\n    the text section.  */"}]}