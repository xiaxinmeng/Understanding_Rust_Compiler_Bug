{"sha": "99b12b201d721d6d4706bea08f742ab0020e4704", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTliMTJiMjAxZDcyMWQ2ZDQ3MDZiZWEwOGY3NDJhYjAwMjBlNDcwNA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2007-03-09T22:10:49Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-03-09T22:10:49Z"}, "message": "sources.am, [...]: Rebuilt.\n\n\t* sources.am, Makefile.in: Rebuilt.\n\t* scripts/makemake.tcl (scan_directory): Allow service files to be\n\tomitted.\n\tOmit all XML-related service files.\n\nFrom-SVN: r122764", "tree": {"sha": "8d8bb8d9bb36472457aae78ee0ed674adca977a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d8bb8d9bb36472457aae78ee0ed674adca977a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99b12b201d721d6d4706bea08f742ab0020e4704", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99b12b201d721d6d4706bea08f742ab0020e4704", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99b12b201d721d6d4706bea08f742ab0020e4704", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99b12b201d721d6d4706bea08f742ab0020e4704/comments", "author": null, "committer": null, "parents": [{"sha": "f4072316a3ef6466ff3b554ca19b14ce4e64eda0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4072316a3ef6466ff3b554ca19b14ce4e64eda0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4072316a3ef6466ff3b554ca19b14ce4e64eda0"}], "stats": {"total": 37, "additions": 21, "deletions": 16}, "files": [{"sha": "57485ef8ebf27ef1a05fd08d472719bd511641cd", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=99b12b201d721d6d4706bea08f742ab0020e4704", "patch": "@@ -1,3 +1,10 @@\n+2007-03-09  Tom Tromey  <tromey@redhat.com>\n+\n+\t* sources.am, Makefile.in: Rebuilt.\n+\t* scripts/makemake.tcl (scan_directory): Allow service files to be\n+\tomitted.\n+\tOmit all XML-related service files.\n+\n 2007-03-07  Tom Tromey  <tromey@redhat.com>\n \n \t* configure: Rebuilt."}, {"sha": "ea5695b03f98c39c60859ddeba8697f6cf210e12", "filename": "libjava/Makefile.in", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=99b12b201d721d6d4706bea08f742ab0020e4704", "patch": "@@ -7767,13 +7767,7 @@ property_files = \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiDeviceProvider \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiFileReader \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiFileWriter \\\n-  classpath/resource/META-INF/services/javax.sound.sampled.spi.AudioFileReader \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.DocumentBuilderFactory \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.SAXParserFactory \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.TransformerFactory \\\n-  classpath/resource/META-INF/services/org.relaxng.datatype.DatatypeLibraryFactory \\\n-  classpath/resource/META-INF/services/org.w3c.dom.DOMImplementationSourceList \\\n-  classpath/resource/META-INF/services/org.xml.sax.driver\n+  classpath/resource/META-INF/services/javax.sound.sampled.spi.AudioFileReader\n \n omitted_headers = java/lang/ClassLoader.h java/lang/Thread.h \\\n \tjava/lang/String.h java/lang/reflect/Constructor.h \\"}, {"sha": "47c460a7c7aeabfbcc06ccc563bb8ecca47b1686", "filename": "libjava/scripts/makemake.tcl", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2Fscripts%2Fmakemake.tcl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2Fscripts%2Fmakemake.tcl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fscripts%2Fmakemake.tcl?ref=99b12b201d721d6d4706bea08f742ab0020e4704", "patch": "@@ -123,6 +123,14 @@ set properties_map(java/util/logging) _\n # We haven't merged locale resources yet.\n set properties_map(gnu/java/locale) _\n \n+# We want to be able to load xerces if it is on the class path.  So,\n+# we have to avoid compiling in the XML-related service files.\n+set properties_map(META-INF/services/javax.xml.parsers.DocumentBuilderFactory) _\n+set properties_map(META-INF/services/javax.xml.parsers.SAXParserFactory) _\n+set properties_map(META-INF/services/javax.xml.parsers.TransformerFactory) _\n+set properties_map(META-INF/services/org.relaxng.datatype.DatatypeLibraryFactory) _\n+set properties_map(META-INF/services/org.w3c.dom.DOMImplementationSourceList) _\n+set properties_map(META-INF/services/org.xml.sax.driver) _\n \n # List of all properties files.\n set properties_files {}\n@@ -223,8 +231,10 @@ proc scan_directory {basedir subdir} {\n     } elseif {[file isdirectory $file]} {\n       lappend subdirs $subdir/$file\n     } elseif {$subdir == \"META-INF/services\"} {\n-      # All service files are included as properties.\n-      lappend properties_files $basedir/$subdir/$file\n+      # Service files are generally included as properties.\n+      if {! [info exists properties_map($subdir/$file)]} {\n+\tlappend properties_files $basedir/$subdir/$file\n+      }\n     }\n   }\n   cd $here"}, {"sha": "d228ef720cd808ab9a291bb0ee8d0d42c6a2b288", "filename": "libjava/sources.am", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2Fsources.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99b12b201d721d6d4706bea08f742ab0020e4704/libjava%2Fsources.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsources.am?ref=99b12b201d721d6d4706bea08f742ab0020e4704", "patch": "@@ -8979,10 +8979,4 @@ property_files = \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiDeviceProvider \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiFileReader \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiFileWriter \\\n-  classpath/resource/META-INF/services/javax.sound.sampled.spi.AudioFileReader \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.DocumentBuilderFactory \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.SAXParserFactory \\\n-  classpath/resource/META-INF/services/javax.xml.parsers.TransformerFactory \\\n-  classpath/resource/META-INF/services/org.relaxng.datatype.DatatypeLibraryFactory \\\n-  classpath/resource/META-INF/services/org.w3c.dom.DOMImplementationSourceList \\\n-  classpath/resource/META-INF/services/org.xml.sax.driver\n+  classpath/resource/META-INF/services/javax.sound.sampled.spi.AudioFileReader"}]}