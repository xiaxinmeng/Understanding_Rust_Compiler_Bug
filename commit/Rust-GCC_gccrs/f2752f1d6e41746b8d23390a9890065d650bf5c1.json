{"sha": "f2752f1d6e41746b8d23390a9890065d650bf5c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI3NTJmMWQ2ZTQxNzQ2YjhkMjMzOTBhOTg5MDA2NWQ2NTBiZjVjMQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2008-07-29T17:06:24Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2008-07-29T17:06:24Z"}, "message": "utility: Include <initializer_list>, per the current WP.\n\n2008-07-29  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/std/utility: Include <initializer_list>, per the current WP.\n\n\t* testsuite/lib/libstdc++.exp (check_v3_target_cstdint): Tweak,\n\tdon't use -std=gnu++0x unnecessarily.\n\t* testsuite/18_support/numeric_limits/char16_32_t.cc: Use\n\tdg-require-cstdint.\n\t* testsuite/18_support/headers/cstdint/types_std_c++0x.cc: Likewise.\n\t* testsuite/tr1/8_c_compatibility/cstdint/types_std_tr1.cc: Likewise.\n\nFrom-SVN: r138255", "tree": {"sha": "f6e5083ac6d4de84f45b13c531a0cca4bed7858d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6e5083ac6d4de84f45b13c531a0cca4bed7858d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2752f1d6e41746b8d23390a9890065d650bf5c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2752f1d6e41746b8d23390a9890065d650bf5c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2752f1d6e41746b8d23390a9890065d650bf5c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2752f1d6e41746b8d23390a9890065d650bf5c1/comments", "author": null, "committer": null, "parents": [{"sha": "343eba42a9ad40fe86886a45ad972c9b8d42aad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/343eba42a9ad40fe86886a45ad972c9b8d42aad5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/343eba42a9ad40fe86886a45ad972c9b8d42aad5"}], "stats": {"total": 37, "additions": 22, "deletions": 15}, "files": [{"sha": "c50eeff39a95f710bcdcf05d95037f158377dc33", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -1,3 +1,14 @@\n+2008-07-29  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/std/utility: Include <initializer_list>, per the current WP.\n+\n+\t* testsuite/lib/libstdc++.exp (check_v3_target_cstdint): Tweak,\n+\tdon't use -std=gnu++0x unnecessarily.\n+\t* testsuite/18_support/numeric_limits/char16_32_t.cc: Use\n+\tdg-require-cstdint.\n+\t* testsuite/18_support/headers/cstdint/types_std_c++0x.cc: Likewise.\n+\t* testsuite/tr1/8_c_compatibility/cstdint/types_std_tr1.cc: Likewise.\n+\n 2008-07-28  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR libstdc++/36949"}, {"sha": "8a006ca500bdcef747f0aa2ec2944274b9289e20", "filename": "libstdc++-v3/include/std/utility", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Futility", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Finclude%2Fstd%2Futility", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Futility?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -85,6 +85,7 @@\n #    undef _GLIBCXX_INCLUDE_AS_CXX0X\n #  endif\n #  include <bits/move.h>\n+#  include <initializer_list>\n #endif\n \n #endif /* _GLIBCXX_UTILITY */"}, {"sha": "eff1d6dd27ce994d59e907b27718b92367a719df", "filename": "libstdc++-v3/testsuite/18_support/headers/cstdint/types_std_c++0x.cc", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fheaders%2Fcstdint%2Ftypes_std_c%2B%2B0x.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fheaders%2Fcstdint%2Ftypes_std_c%2B%2B0x.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fheaders%2Fcstdint%2Ftypes_std_c%2B%2B0x.cc?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -1,7 +1,8 @@\n-// { dg-options \"-std=gnu++0x\" }\n // { dg-do compile }\n+// { dg-options \"-std=gnu++0x\" }\n+// { dg-require-cstdint \"\" }\n \n-// Copyright (C) 2007 Free Software Foundation, Inc.\n+// Copyright (C) 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -23,8 +24,6 @@\n \n void test01()\n {\n-#if _GLIBCXX_USE_C99_STDINT_TR1\n-\n   typedef std::int8_t          my_int8_t;\n   typedef std::int16_t         my_int16_t;\n   typedef std::int32_t         my_int32_t;\n@@ -53,6 +52,4 @@ void test01()\n   typedef std::uint_least64_t  my_uint_least64_t;\n   typedef std::uintmax_t       my_uintmax_t;\n   typedef std::uintptr_t       my_uintptr_t;\n-  \n-#endif\n }"}, {"sha": "84499480146f09d86e32fd0eb961c17cf0ea0c10", "filename": "libstdc++-v3/testsuite/18_support/numeric_limits/char16_32_t.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fnumeric_limits%2Fchar16_32_t.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fnumeric_limits%2Fchar16_32_t.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F18_support%2Fnumeric_limits%2Fchar16_32_t.cc?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -1,4 +1,6 @@\n // { dg-options \"-std=gnu++0x\" }\n+// { dg-require-cstdint \"\" }\n+\n // 2008-05-20  Paolo Carlini  <paolo.carlini@oracle.com>\n //\n // Copyright (C) 2008 Free Software Foundation\n@@ -69,9 +71,8 @@ template<typename T, typename R>\n \n int main()\n {\n-#if _GLIBCXX_USE_C99_STDINT_TR1\n   do_test<char16_t, uint_least16_t>();\n   do_test<char32_t, uint_least32_t>();\n-#endif\n+\n   return 0;\n }"}, {"sha": "afcaa19d136b8ac86bb5b73b3e02fd5a4c47f1c1", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -1055,15 +1055,15 @@ proc check_v3_target_cstdint { } {\n \tset exe cstdint[pid].exe\n \n \tset f [open $src \"w\"]\n-\tputs $f \"#include <cstdint>\"\n+\tputs $f \"#include <tr1/cstdint>\"\n \tputs $f \"int main()\"\n \tputs $f \"#ifdef _GLIBCXX_USE_C99_STDINT_TR1\"\n \tputs $f \"{ return 0; }\"\n \tputs $f \"#endif\"\n \tclose $f\n \n \tset cxxflags_saved $cxxflags\n-\tset cxxflags \"$cxxflags $DEFAULT_CXXFLAGS -std=gnu++0x -Werror\"\n+\tset cxxflags \"$cxxflags $DEFAULT_CXXFLAGS -Werror\"\n \n \tset lines [v3_target_compile $src $exe executable \"\"]\n \tset cxxflags $cxxflags_saved"}, {"sha": "3826713f7533e4473ac4e2f5bb811d76d90aca65", "filename": "libstdc++-v3/testsuite/tr1/8_c_compatibility/cstdint/types_std_tr1.cc", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F8_c_compatibility%2Fcstdint%2Ftypes_std_tr1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2752f1d6e41746b8d23390a9890065d650bf5c1/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F8_c_compatibility%2Fcstdint%2Ftypes_std_tr1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F8_c_compatibility%2Fcstdint%2Ftypes_std_tr1.cc?ref=f2752f1d6e41746b8d23390a9890065d650bf5c1", "patch": "@@ -1,8 +1,9 @@\n // { dg-do compile }\n+// { dg-require-cstdint \"\" }\n \n // 2006-01-29  Paolo Carlini  <pcarlini@suse.de>\n //\n-// Copyright (C) 2006 Free Software Foundation, Inc.\n+// Copyright (C) 2006, 2007, 2008 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -26,8 +27,6 @@\n \n void test01()\n {\n-#if _GLIBCXX_USE_C99_STDINT_TR1\n-\n   typedef std::tr1::int8_t          my_int8_t;\n   typedef std::tr1::int16_t         my_int16_t;\n   typedef std::tr1::int32_t         my_int32_t;\n@@ -56,6 +55,4 @@ void test01()\n   typedef std::tr1::uint_least64_t  my_uint_least64_t;\n   typedef std::tr1::uintmax_t       my_uintmax_t;\n   typedef std::tr1::uintptr_t       my_uintptr_t;\n-  \n-#endif\n }"}]}