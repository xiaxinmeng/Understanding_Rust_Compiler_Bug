{"sha": "32b2511f29d1541a3117a39622c963d9623c00a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzJiMjUxMWYyOWQxNTQxYTMxMTdhMzk2MjJjOTYzZDk2MjNjMDBhNw==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-09-07T08:33:10Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2004-09-07T08:33:10Z"}, "message": "missing: Import latest version from master repository.\n\n2004-09-07  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* missing: Import latest version from master repository.\n\nFrom-SVN: r87138", "tree": {"sha": "0f48f2367895ea5ac93c08304f7fa8cc9295a1b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f48f2367895ea5ac93c08304f7fa8cc9295a1b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32b2511f29d1541a3117a39622c963d9623c00a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32b2511f29d1541a3117a39622c963d9623c00a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32b2511f29d1541a3117a39622c963d9623c00a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32b2511f29d1541a3117a39622c963d9623c00a7/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ce228c89a4ea9fff2018c87f1b30a2b28c2623d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce228c89a4ea9fff2018c87f1b30a2b28c2623d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce228c89a4ea9fff2018c87f1b30a2b28c2623d8"}], "stats": {"total": 133, "additions": 77, "deletions": 56}, "files": [{"sha": "99d11dd2b237ff1b5cb1fd134490706ce822c522", "filename": "ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32b2511f29d1541a3117a39622c963d9623c00a7/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32b2511f29d1541a3117a39622c963d9623c00a7/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=32b2511f29d1541a3117a39622c963d9623c00a7", "patch": "@@ -1,3 +1,7 @@\n+2004-09-07  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* missing: Import latest version from master repository.\n+\n 2004-09-06  Nick Clifton  <nickc@redhat.com>\n \n \t* config.sub: Import latest version from master repository."}, {"sha": "64b5f901dd558f301c33a0fb99466b48eb58a27f", "filename": "missing", "status": "modified", "additions": 73, "deletions": 56, "changes": 129, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32b2511f29d1541a3117a39622c963d9623c00a7/missing", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32b2511f29d1541a3117a39622c963d9623c00a7/missing", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/missing?ref=32b2511f29d1541a3117a39622c963d9623c00a7", "patch": "@@ -1,6 +1,10 @@\n #! /bin/sh\n # Common stub for a few missing GNU programs while installing.\n-# Copyright (C) 1996, 1997, 1999, 2000, 2002 Free Software Foundation, Inc.\n+\n+scriptversion=2004-09-07.08\n+\n+# Copyright (C) 1996, 1997, 1999, 2000, 2002, 2003, 2004\n+#   Free Software Foundation, Inc.\n # Originally by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.\n \n # This program is free software; you can redistribute it and/or modify\n@@ -38,18 +42,24 @@ else\n   configure_ac=configure.in\n fi\n \n+msg=\"missing on your system\"\n+\n case \"$1\" in\n --run)\n   # Try to run requested program, and just exit if it succeeds.\n   run=\n   shift\n   \"$@\" && exit 0\n+  # Exit code 63 means version mismatch.  This often happens\n+  # when the user try to use an ancient version of a tool on\n+  # a file that requires a minimum version.  In this case we\n+  # we should proceed has if the program had been absent, or\n+  # if --run hadn't been passed.\n+  if test $? = 63; then\n+    run=:\n+    msg=\"probably too old\"\n+  fi\n   ;;\n-esac\n-\n-# If it does not exist, or fails to run (possibly an outdated version),\n-# try to emulate it.\n-case \"$1\" in\n \n   -h|--h|--he|--hel|--help)\n     echo \"\\\n@@ -74,11 +84,15 @@ Supported PROGRAM values:\n   lex          create \\`lex.yy.c', if possible, from existing .c\n   makeinfo     touch the output file\n   tar          try tar, gnutar, gtar, then tar without non-portable flags\n-  yacc         create \\`y.tab.[ch]', if possible, from existing .[ch]\"\n+  yacc         create \\`y.tab.[ch]', if possible, from existing .[ch]\n+\n+Send bug reports to <bug-automake@gnu.org>.\"\n+    exit 0\n     ;;\n \n   -v|--v|--ve|--ver|--vers|--versi|--versio|--version)\n-    echo \"missing 0.4 - GNU automake\"\n+    echo \"missing $scriptversion (GNU Automake)\"\n+    exit 0\n     ;;\n \n   -*)\n@@ -87,42 +101,62 @@ Supported PROGRAM values:\n     exit 1\n     ;;\n \n-  aclocal*)\n+esac\n+\n+# Now exit if we have it, but it failed.  Also exit now if we\n+# don't have it and --version was passed (most likely to detect\n+# the program).\n+case \"$1\" in\n+  lex|yacc)\n+    # Not GNU programs, they don't have --version.\n+    ;;\n+\n+  tar)\n+    if test -n \"$run\"; then\n+       echo 1>&2 \"ERROR: \\`tar' requires --run\"\n+       exit 1\n+    elif test \"x$2\" = \"x--version\" || test \"x$2\" = \"x--help\"; then\n+       exit 1\n+    fi\n+    ;;\n+\n+  *)\n     if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n        # We have it, but it failed.\n        exit 1\n+    elif test \"x$2\" = \"x--version\" || test \"x$2\" = \"x--help\"; then\n+       # Could not run --version or --help.  This is probably someone\n+       # running `$TOOL --version' or `$TOOL --help' to check whether\n+       # $TOOL exists and not knowing $TOOL uses missing.\n+       exit 1\n     fi\n+    ;;\n+esac\n \n+# If it does not exist, or fails to run (possibly an outdated version),\n+# try to emulate it.\n+case \"$1\" in\n+  aclocal*)\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified \\`acinclude.m4' or \\`${configure_ac}'.  You might want\n          to install the \\`Automake' and \\`Perl' packages.  Grab them from\n          any GNU archive site.\"\n     touch aclocal.m4\n     ;;\n \n   autoconf)\n-    if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n-       # We have it, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified \\`${configure_ac}'.  You might want to install the\n          \\`Autoconf' and \\`GNU m4' packages.  Grab them from any GNU\n          archive site.\"\n     touch configure\n     ;;\n \n   autoheader)\n-    if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n-       # We have it, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified \\`acconfig.h' or \\`${configure_ac}'.  You might want\n          to install the \\`Autoconf' and \\`GNU m4' packages.  Grab them\n          from any GNU archive site.\"\n@@ -140,13 +174,8 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n     ;;\n \n   automake*)\n-    if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n-       # We have it, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified \\`Makefile.am', \\`acinclude.m4' or \\`${configure_ac}'.\n          You might want to install the \\`Automake' and \\`Perl' packages.\n          Grab them from any GNU archive site.\"\n@@ -156,14 +185,9 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n     ;;\n \n   autom4te)\n-    if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n-       # We have it, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is needed, and you do not seem to have it handy on your\n-         system.  You might have modified some files without having the\n+WARNING: \\`$1' is needed, but is $msg.\n+         You might have modified some files without having the\n          proper tools for further handling them.\n          You can get \\`$1' as part of \\`Autoconf' from any GNU\n          archive site.\"\n@@ -185,7 +209,7 @@ WARNING: \\`$1' is needed, and you do not seem to have it handy on your\n \n   bison|yacc)\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' $msg.  You should only need it if\n          you modified a \\`.y' file.  You may need the \\`Bison' package\n          in order for those modifications to take effect.  You can get\n          \\`Bison' from any GNU archive site.\"\n@@ -215,7 +239,7 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n \n   lex|flex)\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified a \\`.l' file.  You may need the \\`Flex' package\n          in order for those modifications to take effect.  You can get\n          \\`Flex' from any GNU archive site.\"\n@@ -237,13 +261,8 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n     ;;\n \n   help2man)\n-    if test -z \"$run\" && ($1 --version) > /dev/null 2>&1; then\n-       # We have it, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n \t you modified a dependency of a manual page.  You may need the\n \t \\`Help2man' package in order for those modifications to take\n \t effect.  You can get \\`Help2man' from any GNU archive site.\"\n@@ -262,13 +281,8 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n     ;;\n \n   makeinfo)\n-    if test -z \"$run\" && (makeinfo --version) > /dev/null 2>&1; then\n-       # We have makeinfo, but it failed.\n-       exit 1\n-    fi\n-\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is missing on your system.  You should only need it if\n+WARNING: \\`$1' is $msg.  You should only need it if\n          you modified a \\`.texi' or \\`.texinfo' file, or any other file\n          indirectly affecting the aspect of the manual.  The spurious\n          call might also be the consequence of using a buggy \\`make' (AIX,\n@@ -284,10 +298,6 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n \n   tar)\n     shift\n-    if test -n \"$run\"; then\n-      echo 1>&2 \"ERROR: \\`tar' requires --run\"\n-      exit 1\n-    fi\n \n     # We have already tried tar in the generic part.\n     # Look for gnutar/gtar before invocation to avoid ugly error\n@@ -323,14 +333,21 @@ WARNING: I can't seem to be able to run \\`tar' with the given arguments.\n \n   *)\n     echo 1>&2 \"\\\n-WARNING: \\`$1' is needed, and you do not seem to have it handy on your\n-         system.  You might have modified some files without having the\n+WARNING: \\`$1' is needed, and is $msg.\n+         You might have modified some files without having the\n          proper tools for further handling them.  Check the \\`README' file,\n-         it often tells you about the needed prerequirements for installing\n+         it often tells you about the needed prerequisites for installing\n          this package.  You may also peek at any GNU archive site, in case\n          some other package would contain this missing \\`$1' program.\"\n     exit 1\n     ;;\n esac\n \n exit 0\n+\n+# Local variables:\n+# eval: (add-hook 'write-file-hooks 'time-stamp)\n+# time-stamp-start: \"scriptversion=\"\n+# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n+# time-stamp-end: \"$\"\n+# End:"}]}