{"sha": "66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZmNzg4YjBiMzNhZTE0Y2E5NjZmMTkyNWM5YTNjM2FmZjIxNDRhMQ==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2005-11-25T05:57:10Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2005-11-25T05:57:10Z"}, "message": "Check the last byte for '\\n'\n\nFrom-SVN: r107492", "tree": {"sha": "b7fc0bb2d1f51e6270efcf55f97630706b3b7fdf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b7fc0bb2d1f51e6270efcf55f97630706b3b7fdf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66f788b0b33ae14ca966f1925c9a3c3aff2144a1/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f375f4624065d9aae73af45883cbc45da4cda75a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f375f4624065d9aae73af45883cbc45da4cda75a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f375f4624065d9aae73af45883cbc45da4cda75a"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "0121729026d55b39bdfcc6735335d23489f946e5", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66f788b0b33ae14ca966f1925c9a3c3aff2144a1/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66f788b0b33ae14ca966f1925c9a3c3aff2144a1/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "patch": "@@ -1,3 +1,8 @@\n+2005-11-24  Bruce Korb  <bkorb@gnu.org>\n+\n+\t* fixincl.c(write_replacement) \"here strings\" in AutoGen often/generally\n+\tdon't have a terminating newline.  Check the last byte for '\\n'.\n+\n 2005-11-13  Andreas Jaeger  <aj@suse.de>\n \n \t* check.tpl: Handle CVS additionally."}, {"sha": "f8941c39c16c72f0262403e7415b62f580eb2d26", "filename": "fixincludes/fixincl.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66f788b0b33ae14ca966f1925c9a3c3aff2144a1/fixincludes%2Ffixincl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66f788b0b33ae14ca966f1925c9a3c3aff2144a1/fixincludes%2Ffixincl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixincl.c?ref=66f788b0b33ae14ca966f1925c9a3c3aff2144a1", "patch": "@@ -1202,7 +1202,10 @@ write_replacement (tFixDesc* p_fixd)\n \n    {\n      FILE* out_fp = create_file ();\n-     fputs (pz_text, out_fp);\n+     size_t sz = strlen (pz_text);\n+     fwrite (pz_text, sz, 1, out_fp);\n+     if (pz_text[ sz-1 ] != '\\n')\n+       fputc ('\\n', out_fp);\n      fclose (out_fp);\n    }\n }"}]}