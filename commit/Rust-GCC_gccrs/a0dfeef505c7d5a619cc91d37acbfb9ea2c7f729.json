{"sha": "a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBkZmVlZjUwNWM3ZDVhNjE5Y2M5MWQzN2FjYmZiOWVhMmM3ZjcyOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-06-01T10:35:30Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-06-01T10:35:30Z"}, "message": "tree-vect-loop.c (vect_determine_vectorization_factor): Also take into account live statements for mask producers.\n\n\t* tree-vect-loop.c (vect_determine_vectorization_factor): Also take\n\tinto account live statements for mask producers.\n\nFrom-SVN: r236981", "tree": {"sha": "fcd08bc1810235edec6144188ecbf81b4db1627e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fcd08bc1810235edec6144188ecbf81b4db1627e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/comments", "author": null, "committer": null, "parents": [{"sha": "4618c453205f1812b32967312a845a66a1194495", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4618c453205f1812b32967312a845a66a1194495", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4618c453205f1812b32967312a845a66a1194495"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "83a96bd5dc5c5aab4f48cf17cdc3cb664638f9b1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "patch": "@@ -1,3 +1,8 @@\n+2016-06-01  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-vect-loop.c (vect_determine_vectorization_factor): Also take\n+\tinto account live statements for mask producers.\n+\n 2016-06-01  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/71311"}, {"sha": "fc864d35b6debd420d500a27a6dd88a458eeeae0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "patch": "@@ -1,3 +1,7 @@\n+2016-06-01  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/opt56.ad[sb]: New test.\n+\n 2016-06-01  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/66635"}, {"sha": "9566f51c86bb26b5e44e71b059296ee29af04ccf", "filename": "gcc/testsuite/gnat.dg/opt56.adb", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.adb?ref=a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "patch": "@@ -0,0 +1,15 @@\n+-- { dg-do compile }\r\n+-- { dg-options \"-O3\" }\r\n+\r\n+package body Opt56 is\r\n+\r\n+   function F (Values : Vector) return Boolean is\r\n+      Result : Boolean := True;\r\n+   begin\r\n+      for I in Values'Range loop\r\n+         Result := Result and Values (I) >= 0.0;\r\n+     end loop;\r\n+     return Result;\r\n+   end;\r\n+\r\n+end Opt56;\r"}, {"sha": "31ee195325460c930281a8bf82309f5ec5b90bb4", "filename": "gcc/testsuite/gnat.dg/opt56.ads", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt56.ads?ref=a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "patch": "@@ -0,0 +1,7 @@\n+package Opt56 is\r\n+\r\n+   type Vector is array (Positive range <>) of Float;\r\n+\r\n+   function F (Values : Vector) return Boolean;\r\n+\r\n+end Opt56;\r"}, {"sha": "1bc132a820c94018bc108fd861c3bc1f6fd7e115", "filename": "gcc/tree-vect-loop.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftree-vect-loop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729/gcc%2Ftree-vect-loop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-loop.c?ref=a0dfeef505c7d5a619cc91d37acbfb9ea2c7f729", "patch": "@@ -441,7 +441,8 @@ vect_determine_vectorization_factor (loop_vec_info loop_vinfo)\n \t\t  && is_gimple_assign (stmt)\n \t\t  && gimple_assign_rhs_code (stmt) != COND_EXPR)\n \t\t{\n-\t\t  if (STMT_VINFO_RELEVANT_P (stmt_info))\n+\t\t  if (STMT_VINFO_RELEVANT_P (stmt_info)\n+\t\t      || STMT_VINFO_LIVE_P (stmt_info))\n \t\t    mask_producers.safe_push (stmt_info);\n \t\t  bool_result = true;\n "}]}