{"sha": "d6f7c70410f505a1198d25217f35525bb58e38bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDZmN2M3MDQxMGY1MDVhMTE5OGQyNTIxN2YzNTUyNWJiNThlMzhiYw==", "commit": {"author": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@users.sourceforge.net", "date": "2003-08-01T15:41:27Z"}, "committer": {"name": "Kriang Lerdsuwanakij", "email": "lerdsuwa@gcc.gnu.org", "date": "2003-08-01T15:41:27Z"}, "message": "re PR c++/7983 (ICE for friend declaration using typedef in class template)\n\n\tPR c++/7983\n\t* g++.dg/parse/typedef4.C: New test.\n\nFrom-SVN: r70051", "tree": {"sha": "85fbda83ed40c3e2ef42c5ab956122cd6578e9af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85fbda83ed40c3e2ef42c5ab956122cd6578e9af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d6f7c70410f505a1198d25217f35525bb58e38bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6f7c70410f505a1198d25217f35525bb58e38bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6f7c70410f505a1198d25217f35525bb58e38bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6f7c70410f505a1198d25217f35525bb58e38bc/comments", "author": null, "committer": null, "parents": [{"sha": "b00badcd910c44afa5a42d956e0f889795a747b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b00badcd910c44afa5a42d956e0f889795a747b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b00badcd910c44afa5a42d956e0f889795a747b4"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "b8e827c0f85a0713ecff2f16a69cb9bcd5d41ef1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6f7c70410f505a1198d25217f35525bb58e38bc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6f7c70410f505a1198d25217f35525bb58e38bc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d6f7c70410f505a1198d25217f35525bb58e38bc", "patch": "@@ -1,3 +1,8 @@\n+2003-08-01  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n+\n+\tPR c++/7983\n+\t* g++.dg/parse/typedef4.C: New test.\n+\n 2003-08-01  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \tPR c++/8442, c++/8806"}, {"sha": "42d2f44d9200c6e557d063d578f9f3a1cfca4e67", "filename": "gcc/testsuite/g++.dg/parse/typedef4.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6f7c70410f505a1198d25217f35525bb58e38bc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftypedef4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6f7c70410f505a1198d25217f35525bb58e38bc/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftypedef4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Ftypedef4.C?ref=d6f7c70410f505a1198d25217f35525bb58e38bc", "patch": "@@ -0,0 +1,12 @@\n+// { dg-do compile }\n+\n+// Origin: Matt Austern <austern@apple.com>\n+\n+// PR c++/7983: ICE typedef to typename as friend.\n+\n+template<class T> class smart_ptr2 {\n+    T* real_ptr;\n+ public:\n+    typedef typename T::subT  td;\n+    friend class td; // { dg-error \"typename|not name a class\" }\n+};"}]}