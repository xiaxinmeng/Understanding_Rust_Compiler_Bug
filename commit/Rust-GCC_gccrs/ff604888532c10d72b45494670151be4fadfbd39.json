{"sha": "ff604888532c10d72b45494670151be4fadfbd39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmY2MDQ4ODg1MzJjMTBkNzJiNDU0OTQ2NzAxNTFiZTRmYWRmYmQzOQ==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2007-01-02T14:23:36Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2007-01-02T14:23:36Z"}, "message": "re PR fortran/20896 (ambiguous interface not detected)\n\n2007-01-02  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/20896\n\t* interface.c (check_sym_interfaces): Remove call to\n\tresolve_global_procedure.\n\tgfortran.h : Remove prototype for resolve_global_procedure.\n\tresolve.c (resolve_global_procedure): Add static attribute\n\tto function declaration.\n\n2007-01-02  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/20896\n\t* gfortran.dg/interface_10.f90: Remove.\n\nFrom-SVN: r120342", "tree": {"sha": "eaac45937e8ca8639bf0332ca79d422ef8b927ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eaac45937e8ca8639bf0332ca79d422ef8b927ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff604888532c10d72b45494670151be4fadfbd39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff604888532c10d72b45494670151be4fadfbd39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff604888532c10d72b45494670151be4fadfbd39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff604888532c10d72b45494670151be4fadfbd39/comments", "author": null, "committer": null, "parents": [{"sha": "06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d"}], "stats": {"total": 55, "additions": 15, "deletions": 40}, "files": [{"sha": "e8a3de5efe3b06abcf4d39bc1e25bab819628155", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ff604888532c10d72b45494670151be4fadfbd39", "patch": "@@ -1,3 +1,12 @@\n+2007-01-02  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/20896\n+\t* interface.c (check_sym_interfaces): Remove call to\n+\tresolve_global_procedure.\n+\tgfortran.h : Remove prototype for resolve_global_procedure.\n+\tresolve.c (resolve_global_procedure): Add static attribute\n+\tto function declaration.\n+\n 2007-01-01  Steven G. Kargl  <kargls@comcast.net>\n \n \t* ChangeLog: Copy to ..."}, {"sha": "62862977eeb1d5f0a2aa500cc3f78d09d8100900", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=ff604888532c10d72b45494670151be4fadfbd39", "patch": "@@ -2032,7 +2032,6 @@ void gfc_free_statement (gfc_code *);\n void gfc_free_statements (gfc_code *);\n \n /* resolve.c */\n-void resolve_global_procedure (gfc_symbol *, locus *, int);\n try gfc_resolve_expr (gfc_expr *);\n void gfc_resolve (gfc_namespace *);\n void gfc_resolve_blocks (gfc_code *, gfc_namespace *);"}, {"sha": "dd1ac694521b581e0b973f41de2b3d1632576c77", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=ff604888532c10d72b45494670151be4fadfbd39", "patch": "@@ -1016,11 +1016,6 @@ check_sym_interfaces (gfc_symbol * sym)\n   if (sym->ns != gfc_current_ns)\n     return;\n \n-  if (sym->attr.if_source == IFSRC_IFBODY\n-\t&& sym->attr.flavor == FL_PROCEDURE\n-\t&& !sym->attr.mod_proc)\n-    resolve_global_procedure (sym, &sym->declared_at, sym->attr.subroutine);\n-\n   if (sym->generic != NULL)\n     {\n       sprintf (interface_name, \"generic interface '%s'\", sym->name);"}, {"sha": "650a5a22c9175d2610a8c367904088f47edf555e", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=ff604888532c10d72b45494670151be4fadfbd39", "patch": "@@ -1235,7 +1235,7 @@ find_noncopying_intrinsics (gfc_symbol * fnsym, gfc_actual_arglist * actual)\n    reference.  The corresponding code that is called in creating\n    global entities is parse.c.  */\n \n-void\n+static void\n resolve_global_procedure (gfc_symbol *sym, locus *where, int sub)\n {\n   gfc_gsymbol * gsym;"}, {"sha": "81ac58cd08e1643d583dc70ed82c0da5343e21fe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff604888532c10d72b45494670151be4fadfbd39/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ff604888532c10d72b45494670151be4fadfbd39", "patch": "@@ -1,3 +1,8 @@\n+2007-01-02  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/20896\n+\t* gfortran.dg/interface_10.f90: Remove.\n+\n 2007-01-01  Roger Sayle  <roger@eyesopen.com>\n \n \t* gcc.dg/fold-eqxor-4.c: New test case."}, {"sha": "4dab96a3aace68552dd2f30711d38fbdaa552f24", "filename": "gcc/testsuite/gfortran.dg/interface_10.f90", "status": "removed", "additions": 0, "deletions": 33, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finterface_10.f90?ref=06d40de8bb03594e0f0eb7d0636f8ca84ce7d86d", "patch": "@@ -1,33 +0,0 @@\n-! { dg-do compile }\n-! Test the fix for PR20896 in which the ambiguous use\n-! of p was not detected.\n-!\n-! Contributed by Joost VandeVondele <jv244@cam.ac.uk>\n-!\n-  INTERFACE g\n-    SUBROUTINE s1(p) ! { dg-error \"is already being used\" }\n-      INTERFACE\n-        SUBROUTINE p\n-        END\n-      END INTERFACE\n-    END\n-    SUBROUTINE s2(p) ! { dg-error \"Global name\" }\n-      INTERFACE\n-        REAL FUNCTION p()\n-        END\n-      END INTERFACE\n-    END\n-  END INTERFACE\n-\n-      INTERFACE\n-        REAL FUNCTION x()\n-        END\n-      END INTERFACE\n-      INTERFACE\n-        SUBROUTINE y\n-        END\n-      END INTERFACE\n-  call g (x)\n-  call g (y)\n-  END\n-"}]}