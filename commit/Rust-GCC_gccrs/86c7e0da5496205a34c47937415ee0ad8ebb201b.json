{"sha": "86c7e0da5496205a34c47937415ee0ad8ebb201b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZjN2UwZGE1NDk2MjA1YTM0YzQ3OTM3NDE1ZWUwYWQ4ZWJiMjAxYg==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2005-01-03T14:01:13Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2005-01-03T14:01:13Z"}, "message": "2005-01-03  Paolo Bonzini  <bonzini@gnu.org>\n\n\tRevert 2004-12-28 Makefile changes, a better fix will be\n\tapplied to mainline and src after GCC 4.0 branches.\n\nFrom-SVN: r92826", "tree": {"sha": "95fb8390b29b25ac8c6ff8ea0921589296be103b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95fb8390b29b25ac8c6ff8ea0921589296be103b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86c7e0da5496205a34c47937415ee0ad8ebb201b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86c7e0da5496205a34c47937415ee0ad8ebb201b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86c7e0da5496205a34c47937415ee0ad8ebb201b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86c7e0da5496205a34c47937415ee0ad8ebb201b/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "088df4c28876fc511cd29bf18a1bd9bb75d9c86b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/088df4c28876fc511cd29bf18a1bd9bb75d9c86b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/088df4c28876fc511cd29bf18a1bd9bb75d9c86b"}], "stats": {"total": 940, "additions": 310, "deletions": 630}, "files": [{"sha": "6054e15c8f5dc582c99cfa760f8eab2369cf5e1e", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86c7e0da5496205a34c47937415ee0ad8ebb201b/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86c7e0da5496205a34c47937415ee0ad8ebb201b/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=86c7e0da5496205a34c47937415ee0ad8ebb201b", "patch": "@@ -1,3 +1,8 @@\n+2005-01-03  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tRevert 2004-12-28 Makefile changes, a better fix will be\n+\tapplied to mainline and src after GCC 4.0 branches.\n+\n 2004-12-28  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR bootstrap/17383"}, {"sha": "5a7f319765f079c5f917ae31be15241bb7d70019", "filename": "Makefile.def", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=86c7e0da5496205a34c47937415ee0ad8ebb201b", "patch": "@@ -117,7 +117,7 @@ target_modules = { module= libmudflap; };\n target_modules = { module= newlib; };\n target_modules = { module= libgfortran; };\n target_modules = { module= libobjc; };\n-target_modules = { module= libtermcap; no_check=true;\n+target_modules = { module= libtermcap; no_check=true; stage=true;\n                    missing=mostlyclean;\n                    missing=clean;\n                    missing=distclean;\n@@ -129,7 +129,7 @@ target_modules = { module= gperf; };\n target_modules = { module= examples; no_check=true; no_install=true; };\n target_modules = { module= libffi; };\n target_modules = { module= libjava; raw_cxx=true; };\n-target_modules = { module= zlib; };\n+target_modules = { module= zlib; stage=true; };\n target_modules = { module= boehm-gc; };\n target_modules = { module= qthreads; };\n target_modules = { module= rda; };"}, {"sha": "45c405930a45e596399a8b1e697f0d8aaec7c564", "filename": "Makefile.in", "status": "modified", "additions": 265, "deletions": 592, "changes": 857, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=86c7e0da5496205a34c47937415ee0ad8ebb201b", "patch": "@@ -2174,30 +2174,31 @@ configure-build-libiberty:\n \techo Configuring in $(BUILD_SUBDIR)/libiberty; \\\n \tcd \"$(BUILD_SUBDIR)/libiberty\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libiberty \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/libiberty \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libiberty; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2238,30 +2239,31 @@ configure-build-bison:\n \techo Configuring in $(BUILD_SUBDIR)/bison; \\\n \tcd \"$(BUILD_SUBDIR)/bison\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/bison \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/bison \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../bison; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2302,30 +2304,31 @@ configure-build-byacc:\n \techo Configuring in $(BUILD_SUBDIR)/byacc; \\\n \tcd \"$(BUILD_SUBDIR)/byacc\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/byacc \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/byacc \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../byacc; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2366,30 +2369,31 @@ configure-build-flex:\n \techo Configuring in $(BUILD_SUBDIR)/flex; \\\n \tcd \"$(BUILD_SUBDIR)/flex\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/flex \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/flex \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../flex; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2430,30 +2434,31 @@ configure-build-m4:\n \techo Configuring in $(BUILD_SUBDIR)/m4; \\\n \tcd \"$(BUILD_SUBDIR)/m4\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/m4 \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/m4 \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../m4; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2494,30 +2499,31 @@ configure-build-texinfo:\n \techo Configuring in $(BUILD_SUBDIR)/texinfo; \\\n \tcd \"$(BUILD_SUBDIR)/texinfo\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/texinfo \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/texinfo \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../texinfo; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -2558,30 +2564,31 @@ configure-build-fixincludes:\n \techo Configuring in $(BUILD_SUBDIR)/fixincludes; \\\n \tcd \"$(BUILD_SUBDIR)/fixincludes\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/fixincludes \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/fixincludes \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../fixincludes; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -24254,37 +24261,16 @@ configure-target-libstdc++-v3: $(TARGET_SUBDIR)/libstdc++-v3/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libstdc++-v3; \\\n \tcd \"$(TARGET_SUBDIR)/libstdc++-v3\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libstdc++-v3 \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libstdc++-v3; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libstdc++-v3\"; \\\n \t  libsrcdir=\"$$s/libstdc++-v3\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -24617,37 +24603,16 @@ configure-target-libmudflap: $(TARGET_SUBDIR)/libmudflap/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libmudflap; \\\n \tcd \"$(TARGET_SUBDIR)/libmudflap\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libmudflap \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libmudflap; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libmudflap\"; \\\n \t  libsrcdir=\"$$s/libmudflap\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -24980,37 +24945,16 @@ configure-target-newlib: $(TARGET_SUBDIR)/newlib/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/newlib; \\\n \tcd \"$(TARGET_SUBDIR)/newlib\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/newlib \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../newlib; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/newlib\"; \\\n \t  libsrcdir=\"$$s/newlib\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -25343,37 +25287,16 @@ configure-target-libgfortran: $(TARGET_SUBDIR)/libgfortran/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libgfortran; \\\n \tcd \"$(TARGET_SUBDIR)/libgfortran\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libgfortran \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libgfortran; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libgfortran\"; \\\n \t  libsrcdir=\"$$s/libgfortran\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -25706,37 +25629,16 @@ configure-target-libobjc: $(TARGET_SUBDIR)/libobjc/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libobjc; \\\n \tcd \"$(TARGET_SUBDIR)/libobjc\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libobjc \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libobjc; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libobjc\"; \\\n \t  libsrcdir=\"$$s/libobjc\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -26069,30 +25971,31 @@ configure-target-libtermcap: $(TARGET_SUBDIR)/libtermcap/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libtermcap; \\\n \tcd \"$(TARGET_SUBDIR)/libtermcap\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libtermcap \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(TARGET_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/libtermcap \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libtermcap; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -26367,37 +26270,16 @@ configure-target-winsup: $(TARGET_SUBDIR)/winsup/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/winsup; \\\n \tcd \"$(TARGET_SUBDIR)/winsup\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/winsup \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../winsup; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/winsup\"; \\\n \t  libsrcdir=\"$$s/winsup\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -26730,37 +26612,16 @@ configure-target-libgloss: $(TARGET_SUBDIR)/libgloss/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libgloss; \\\n \tcd \"$(TARGET_SUBDIR)/libgloss\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libgloss \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libgloss; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libgloss\"; \\\n \t  libsrcdir=\"$$s/libgloss\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -27088,37 +26949,16 @@ configure-target-libiberty: $(TARGET_SUBDIR)/libiberty/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libiberty; \\\n \tcd \"$(TARGET_SUBDIR)/libiberty\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libiberty \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libiberty; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libiberty\"; \\\n \t  libsrcdir=\"$$s/libiberty\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -27451,37 +27291,16 @@ configure-target-gperf: $(TARGET_SUBDIR)/gperf/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/gperf; \\\n \tcd \"$(TARGET_SUBDIR)/gperf\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/gperf \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../gperf; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/gperf\"; \\\n \t  libsrcdir=\"$$s/gperf\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -27814,37 +27633,16 @@ configure-target-examples: $(TARGET_SUBDIR)/examples/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/examples; \\\n \tcd \"$(TARGET_SUBDIR)/examples\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/examples \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../examples; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/examples\"; \\\n \t  libsrcdir=\"$$s/examples\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -28167,37 +27965,16 @@ configure-target-libffi: $(TARGET_SUBDIR)/libffi/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libffi; \\\n \tcd \"$(TARGET_SUBDIR)/libffi\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libffi \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libffi; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libffi\"; \\\n \t  libsrcdir=\"$$s/libffi\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -28530,37 +28307,16 @@ configure-target-libjava: $(TARGET_SUBDIR)/libjava/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libjava; \\\n \tcd \"$(TARGET_SUBDIR)/libjava\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libjava \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libjava; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libjava\"; \\\n \t  libsrcdir=\"$$s/libjava\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -28893,30 +28649,31 @@ configure-target-zlib: $(TARGET_SUBDIR)/zlib/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/zlib; \\\n \tcd \"$(TARGET_SUBDIR)/zlib\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/zlib \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(TARGET_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/zlib \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../zlib; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -29256,37 +29013,16 @@ configure-target-boehm-gc: $(TARGET_SUBDIR)/boehm-gc/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/boehm-gc; \\\n \tcd \"$(TARGET_SUBDIR)/boehm-gc\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/boehm-gc \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../boehm-gc; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/boehm-gc\"; \\\n \t  libsrcdir=\"$$s/boehm-gc\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -29619,37 +29355,16 @@ configure-target-qthreads: $(TARGET_SUBDIR)/qthreads/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/qthreads; \\\n \tcd \"$(TARGET_SUBDIR)/qthreads\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/qthreads \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../qthreads; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/qthreads\"; \\\n \t  libsrcdir=\"$$s/qthreads\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -29982,37 +29697,16 @@ configure-target-rda: $(TARGET_SUBDIR)/rda/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/rda; \\\n \tcd \"$(TARGET_SUBDIR)/rda\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/rda \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../rda; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/rda\"; \\\n \t  libsrcdir=\"$$s/rda\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -30345,37 +30039,16 @@ configure-target-libada: $(TARGET_SUBDIR)/libada/multilib.out\n \techo Configuring in $(TARGET_SUBDIR)/libada; \\\n \tcd \"$(TARGET_SUBDIR)/libada\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/libada \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n-\t      else \\\n-\t        exit 1; \\\n-\t      fi; \\\n-\t    else \\\n-\t      true; \\\n-\t    fi; \\\n-\t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n-\t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../libada; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n \t  srcdiroption=\"--srcdir=$${topdir}/libada\"; \\\n \t  libsrcdir=\"$$s/libada\"; \\\n-\tfi; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\"}, {"sha": "44c15fd53cc0fac0647d14907086af47329baa36", "filename": "Makefile.tpl", "status": "modified", "additions": 38, "deletions": 36, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86c7e0da5496205a34c47937415ee0ad8ebb201b/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=86c7e0da5496205a34c47937415ee0ad8ebb201b", "patch": "@@ -822,30 +822,31 @@ configure-build-[+module+]:\n \techo Configuring in $(BUILD_SUBDIR)/[+module+]; \\\n \tcd \"$(BUILD_SUBDIR)/[+module+]\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(BUILD_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n \tesac; \\\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../[+module+]; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n@@ -1031,37 +1032,38 @@ ENDIF raw_cxx +]\n \techo Configuring in $(TARGET_SUBDIR)/[+module+]; \\\n \tcd \"$(TARGET_SUBDIR)/[+module+]\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=\"../../$(srcdir)\" ;; \\\n-\tesac; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) \\\n+\t    topdir=$(srcdir) ;; \\\n+\t  *) \\\n+\t    case \"$(TARGET_SUBDIR)\" in \\\n+\t      .) topdir=\"../$(srcdir)\" ;; \\\n+\t      *) topdir=\"../../$(srcdir)\" ;; \\\n+\t    esac ;; \\\n+\tesac; \\[+ IF stage +]\n \tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n-\t    if [ -f Makefile ]; then \\\n-\t      if $(MAKE) distclean; then \\\n-\t        true; \\\n+\t  if [ \"$(TARGET_SUBDIR)\" != \".\" ] ; then \\\n+\t    if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n+\t      if [ -f Makefile ]; then \\\n+\t        if $(MAKE) distclean; then \\\n+\t          true; \\\n+\t        else \\\n+\t          exit 1; \\\n+\t        fi; \\\n \t      else \\\n-\t        exit 1; \\\n+\t        true; \\\n \t      fi; \\\n \t    else \\\n-\t      true; \\\n+\t      exit 1; \\\n \t    fi; \\\n \t  else \\\n-\t    exit 1; \\\n-\t  fi; \\\n-\t  if [ -d ../include ] ; then \\\n \t    true; \\\n-\t  else \\\n-\t    mkdir ../include; \\\n-\t    cd ../include; \\\n-\t    $(SHELL) $$s/symlink-tree $${topdir}/include \"no-such-file\"; \\\n-\t    cd ../[+module+]; \\\n \t  fi; \\\n \t  srcdiroption=\"--srcdir=.\"; \\\n \t  libsrcdir=\".\"; \\\n-\telse \\\n+\telse \\[+ ENDIF stage +]\n \t  srcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n-\t  libsrcdir=\"$$s/[+module+]\"; \\\n-\tfi; \\\n+\t  libsrcdir=\"$$s/[+module+]\"; \\[+ IF stage +]\n+\tfi; \\[+ ENDIF stage +]\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\"}]}