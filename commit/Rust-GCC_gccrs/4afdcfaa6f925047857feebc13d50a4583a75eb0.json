{"sha": "4afdcfaa6f925047857feebc13d50a4583a75eb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFmZGNmYWE2ZjkyNTA0Nzg1N2ZlZWJjMTNkNTBhNDU4M2E3NWViMA==", "commit": {"author": {"name": "Ilya Enkovich", "email": "enkovich.gnu@gmail.com", "date": "2016-04-01T10:40:51Z"}, "committer": {"name": "Ilya Enkovich", "email": "ienkovich@gcc.gnu.org", "date": "2016-04-01T10:40:51Z"}, "message": "re PR target/69890 (FAIL: gcc.target/i386/chkp-* on x86_64-apple-darwin15)\n\ngcc/testsuite/\n\n\tPR target/69890\n\t* gcc.dg/strlenopt.h (memmove): New.\n\t* gcc.target/i386/chkp-strlen-1.c: Include \"../../gcc.dg/strlenopt.h\"\n\tinstead of \"string.h\".\n\t* gcc.target/i386/chkp-strlen-2.c: Likewise.\n\t* gcc.target/i386/chkp-strlen-3.c: Likewise.\n\t* gcc.target/i386/chkp-strlen-4.c: Likewise.\n\t* gcc.target/i386/chkp-strlen-5.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-1.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-10.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-11.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-12.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-13.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-14.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-15.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-16.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-2.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-3.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-4.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-5.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-6.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-7.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-8.c: Likewise.\n\t* gcc.target/i386/chkp-stropt-9.c: Likewise.\n\nFrom-SVN: r234666", "tree": {"sha": "2592670130880aaba89e1e47c9ef06d16ad1b1b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2592670130880aaba89e1e47c9ef06d16ad1b1b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4afdcfaa6f925047857feebc13d50a4583a75eb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afdcfaa6f925047857feebc13d50a4583a75eb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4afdcfaa6f925047857feebc13d50a4583a75eb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afdcfaa6f925047857feebc13d50a4583a75eb0/comments", "author": null, "committer": null, "parents": [{"sha": "dad820dfa4f01d208009286d66f9ade4e46d7460", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dad820dfa4f01d208009286d66f9ade4e46d7460", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dad820dfa4f01d208009286d66f9ade4e46d7460"}], "stats": {"total": 88, "additions": 61, "deletions": 27}, "files": [{"sha": "8f6210a5bfadac57c2d56ad7537832a5bd2f14ff", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -1,3 +1,30 @@\n+2016-04-01  Ilya Enkovich  <enkovich.gnu@gmail.com>\n+\n+\tPR target/69890\n+\t* gcc.dg/strlenopt.h (memmove): New.\n+\t* gcc.target/i386/chkp-strlen-1.c: Include \"../../gcc.dg/strlenopt.h\"\n+\tinstead of \"string.h\".\n+\t* gcc.target/i386/chkp-strlen-2.c: Likewise.\n+\t* gcc.target/i386/chkp-strlen-3.c: Likewise.\n+\t* gcc.target/i386/chkp-strlen-4.c: Likewise.\n+\t* gcc.target/i386/chkp-strlen-5.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-1.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-10.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-11.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-12.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-13.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-14.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-15.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-16.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-2.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-3.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-4.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-5.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-6.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-7.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-8.c: Likewise.\n+\t* gcc.target/i386/chkp-stropt-9.c: Likewise.\n+\n 2016-03-31  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* g++.dg/template/ptrmem30.C (read): Rename to data_read."}, {"sha": "8f69940b027735ecd1ffeaa8ec47d28f9617c55f", "filename": "gcc/testsuite/gcc.dg/strlenopt.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstrlenopt.h?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -10,6 +10,7 @@ void free (void *);\n char *strdup (const char *);\n size_t strlen (const char *);\n void *memcpy (void *__restrict, const void *__restrict, size_t);\n+void *memmove (void *, const void *, size_t);\n char *strcpy (char *__restrict, const char *__restrict);\n char *strcat (char *__restrict, const char *__restrict);\n char *strchr (const char *, int);\n@@ -31,6 +32,12 @@ memcpy (void *__restrict dest, const void *__restrict src, size_t len)\n   return __builtin___memcpy_chk (dest, src, len, bos0 (dest));\n }\n \n+extern inline __attribute__((gnu_inline, always_inline, artificial)) void *\n+memmove (void *dest, const void *src, size_t len)\n+{\n+  return __builtin___memmove_chk (dest, src, len, bos0 (dest));\n+}\n+\n extern inline __attribute__((gnu_inline, always_inline, artificial)) char *\n strcpy (char *__restrict dest, const char *__restrict src)\n {"}, {"sha": "38d5390062735c92be36aa6548fae8503f064dd2", "filename": "gcc/testsuite/gcc.target/i386/chkp-strlen-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-1.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-strlen\" } */\n /* { dg-final { scan-tree-dump \"memcpy.chkp\" \"strlen\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n char *test (char *str1, char *str2)\n {"}, {"sha": "789ebc1f2d896c3c59971aa70deb49a45bbf9e66", "filename": "gcc/testsuite/gcc.target/i386/chkp-strlen-2.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-2.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-strlen\" } */\n /* { dg-final { scan-tree-dump-not \"strlen\" \"strlen\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n char *test (char *str1, char *str2)\n {"}, {"sha": "276f4127975928860b0fe5fb9c6d5d0ae9d6691d", "filename": "gcc/testsuite/gcc.target/i386/chkp-strlen-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-3.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-strlen\" } */\n /* { dg-final { scan-tree-dump-times \"strlen\" 1 \"strlen\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n size_t test (char *str1, char *str2)\n {"}, {"sha": "51ff96028be2bf5803e6568437c24d63e1361e4f", "filename": "gcc/testsuite/gcc.target/i386/chkp-strlen-4.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-4.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-strlen\" } */\n /* { dg-final { scan-tree-dump-times \"strlen\" 1 \"strlen\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n char * test (char *str1, char *str2)\n {"}, {"sha": "bbafecc30632064ae7cfb525302764f5bc901da4", "filename": "gcc/testsuite/gcc.target/i386/chkp-strlen-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-strlen-5.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,7 +3,7 @@\n /* { dg-final { scan-tree-dump-times \"strlen\" 2 \"strlen\" } } */\n /* { dg-final { scan-tree-dump \"memcpy\" \"strlen\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n size_t test (char *str1, char *str2)\n {"}, {"sha": "d6148a87fd18004e57abb0f33956e09b863ae105", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-1.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memcpy_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "18cff739b017654dad1e6e9a36e4bb004ca0a37a", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-10.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-10.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump-not \"memset_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (void *buf1, int c, size_t len)\n {"}, {"sha": "c53db6a17e404ebf21c1bf9bcbe71690c890bd3f", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-11.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump-not \"memmove_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (void *buf1, void *buf2, size_t len)\n {"}, {"sha": "a076d17cd9a527322d535e18f42580bb278b654d", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-12.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-12.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump-not \"mempcpy_nobnd\" \"chkpopt\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (void *buf1, void *buf2, size_t len)\n {"}, {"sha": "279cae3e5bfce1b7c9a1d9bb4018e9db5c55f3ea", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-13.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-13.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memcpy_nobnd_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "b810c682569a2faaf23a8bb19d3ee72497c47891", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-14.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-14.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memset_nobnd_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int c, size_t len)\n {"}, {"sha": "a9a79c1e33033d4c48288687313b3756ce58da90", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-15.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-15.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memmove_nobnd_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "6ce170c9d68fd8eb4c8f596691cdbf59a6e16c56", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-16.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-16.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"mempcpy_nobnd_nochk\" \"chkpopt\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "6a0c24ee887d1a6130748fdbd4a2beadd6e0757b", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-2.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memset_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int c, size_t len)\n {"}, {"sha": "310dec77456c7166838e5a099d895ba4cae72d2b", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-3.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memmove_nochk\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "7a30d17b8e65d218663e891887a259115c434858", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-4.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-4.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-nochk-string-functions\" } */\n /* { dg-final { scan-tree-dump \"mempcpy_nochk\" \"chkpopt\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "39850d62be8ac279de283feed2eebaf941926da1", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-5.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-5.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memcpy_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "06dcbfb9a25329a544c6a4c5e312caeac3ed4059", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-6.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memset_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int c, size_t len)\n {"}, {"sha": "40ded068f8e3ae4d5b20227c98bf1a89083cdd4d", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-7.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"memmove_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "7e575bb40bbc071dc336b19b2c35f1ffe4ad6944", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-8.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-8.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -3,8 +3,8 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump \"mempcpy_nobnd\" \"chkpopt\" } } */\n \n-#define _GNU_SOURCE\n-#include \"string.h\"\n+#define USE_GNU\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (int *buf1, int *buf2, size_t len)\n {"}, {"sha": "bf26874e5a86b83e6f581720253932faeb4d8cab", "filename": "gcc/testsuite/gcc.target/i386/chkp-stropt-9.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afdcfaa6f925047857feebc13d50a4583a75eb0/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fchkp-stropt-9.c?ref=4afdcfaa6f925047857feebc13d50a4583a75eb0", "patch": "@@ -2,7 +2,7 @@\n /* { dg-options \"-fcheck-pointer-bounds -mmpx -O2 -fdump-tree-chkpopt -fchkp-use-fast-string-functions\" } */\n /* { dg-final { scan-tree-dump-not \"memcpy_nobnd\" \"chkpopt\" } } */\n \n-#include \"string.h\"\n+#include \"../../gcc.dg/strlenopt.h\"\n \n void test (void *buf1, void *buf2, size_t len)\n {"}]}