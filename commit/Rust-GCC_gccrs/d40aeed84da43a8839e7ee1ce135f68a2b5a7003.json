{"sha": "d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDQwYWVlZDg0ZGE0M2E4ODM5ZTdlZTFjZTEzNWY2OGEyYjVhNzAwMw==", "commit": {"author": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2014-05-14T17:15:06Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2014-05-14T17:15:06Z"}, "message": "Fix current cygwin build problems.\n\n2014-05-14  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n        Fix current cygwin build problems.\n        * seh_init.c (__gnat_map_SEH): Compile also when __CYGWIN__ and __SEH__\n        are defined.  Move include windows.h before system.h.\n        * s-oscons-tmplt.c (DTR_CONTROL_ENABLE, RTS_CONTROL_ENABLE): Compile\n        also when __CYGWIN__ is defined.  Include windef.h before winbase.h.\n\nFrom-SVN: r210437", "tree": {"sha": "e7910fa55e636be1e49d1f24636a36cfa1b418db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7910fa55e636be1e49d1f24636a36cfa1b418db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/comments", "author": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d02f620dc0bb3bea393d04b8639a1f4748ad8821", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d02f620dc0bb3bea393d04b8639a1f4748ad8821", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d02f620dc0bb3bea393d04b8639a1f4748ad8821"}], "stats": {"total": 24, "additions": 18, "deletions": 6}, "files": [{"sha": "6bdff31e08cf6b73c69553439d0087a3b195210b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "patch": "@@ -1,3 +1,11 @@\n+2014-05-14  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\tFix current cygwin build problems.\n+\t* seh_init.c (__gnat_map_SEH): Compile also when __CYGWIN__ and __SEH__\n+\tare defined.  Move include windows.h before system.h.\n+\t* s-oscons-tmplt.c (DTR_CONTROL_ENABLE, RTS_CONTROL_ENABLE): Compile\n+\talso when __CYGWIN__ is defined.  Include windef.h before winbase.h.\n+\n 2014-05-14  Richard Sandiford  <r.sandiford@uk.ibm.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity): Convert"}, {"sha": "9b5edb2a5927ade704eb11d96633239684ba9110", "filename": "gcc/ada/s-oscons-tmplt.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2Fs-oscons-tmplt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2Fs-oscons-tmplt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-oscons-tmplt.c?ref=d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "patch": "@@ -159,7 +159,8 @@ pragma Style_Checks (\"M32766\");\n # include <signal.h>\n #endif\n \n-#ifdef __MINGW32__\n+#if defined(__MINGW32__) || defined(__CYGWIN__)\n+# include <windef.h>\n # include <winbase.h>\n #endif\n \n@@ -986,7 +987,7 @@ CND(VEOL2, \"Alternative EOL\")\n \n #endif /* HAVE_TERMIOS */\n \n-#ifdef __MINGW32__\n+#if defined(__MINGW32__) || defined(__CYGWIN__)\n CNU(DTR_CONTROL_ENABLE, \"Enable DTR flow ctrl\")\n CNU(RTS_CONTROL_ENABLE, \"Enable RTS flow ctrl\")\n #endif"}, {"sha": "f8a702d5b2744957f68255ddb21146ede59bd8eb", "filename": "gcc/ada/seh_init.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2Fseh_init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d40aeed84da43a8839e7ee1ce135f68a2b5a7003/gcc%2Fada%2Fseh_init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fseh_init.c?ref=d40aeed84da43a8839e7ee1ce135f68a2b5a7003", "patch": "@@ -32,6 +32,12 @@\n /*  This unit contains support for SEH (Structured Exception Handling).\n     Right now the only implementation is for Win32.  */\n \n+#if defined (_WIN32) || (defined (__CYGWIN__) && defined (__SEH__))\n+/* Include system headers, before system.h poisons malloc.  */\n+#include <windows.h>\n+#include <excpt.h>\n+#endif\n+\n #ifdef IN_RTS\n #include \"tconfig.h\"\n #include \"tsystem.h\"\n@@ -64,10 +70,7 @@ extern void Raise_From_Signal_Handler (struct Exception_Data *, const char *)\n   ATTRIBUTE_NORETURN;\n \n \n-#if defined (_WIN32)\n-\n-#include <windows.h>\n-#include <excpt.h>\n+#if defined (_WIN32) || (defined (__CYGWIN__) && defined (__SEH__))\n \n /* Prototypes.  */\n extern void _global_unwind2 (void *);"}]}