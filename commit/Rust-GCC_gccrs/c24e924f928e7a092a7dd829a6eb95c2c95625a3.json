{"sha": "c24e924f928e7a092a7dd829a6eb95c2c95625a3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzI0ZTkyNGY5MjhlN2EwOTJhN2RkODI5YTZlYjk1YzJjOTU2MjVhMw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2017-05-11T15:48:51Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-05-11T15:48:51Z"}, "message": "dumpfle.h (dump_function): Declare here ...\n\n\t* dumpfle.h (dump_function): Declare here ...\n\t* tree-dump.h (dump_function): ... not here.\n\t* dumpfile.c: #include tree-cfg.h.\n\t(dump_function): Move here from ...\n\t* tree-dump.c (dump_function): ... here.\n\t* gimplify.c: #include splay-tree.h, not tree-dump.h.\n\t* graphite-poly.c: Don't include tree-dump.h.\n\t* cgraphclones.c: Include dumpfile.h not tree-dump.h.\n\t* print-tree.c: Likewise.\n\t* stor-layout.c: Likewise.\n\t* tree-nested.c: Likewise.\n\n\tc/\n\t* gimple-parser.c: Don't #include tree-dump.h.\n\n\tfortran/\n\t* trans-decl.c: Include dumpfile.h not tree-dump.h,\n\nFrom-SVN: r247916", "tree": {"sha": "c9c6ce3724ccca0a8b77c6921f9f1419ba1db0d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9c6ce3724ccca0a8b77c6921f9f1419ba1db0d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c24e924f928e7a092a7dd829a6eb95c2c95625a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c24e924f928e7a092a7dd829a6eb95c2c95625a3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c24e924f928e7a092a7dd829a6eb95c2c95625a3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c24e924f928e7a092a7dd829a6eb95c2c95625a3/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2e3757e78af922758a8ec45c4af78159384a6091", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e3757e78af922758a8ec45c4af78159384a6091", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e3757e78af922758a8ec45c4af78159384a6091"}], "stats": {"total": 70, "additions": 44, "deletions": 26}, "files": [{"sha": "f8a0f5816a73e20131f60986b5d1402c26981057", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -1,6 +1,17 @@\n 2017-05-11  Nathan Sidwell  <nathan@acm.org>\n \n-\t* dumpfile.h (TDF_FLAGS): New.\n+\t* dumpfle.h (dump_function): Declare here ...\n+\t* tree-dump.h (dump_function): ... not here.\n+\t* dumpfile.c: #include tree-cfg.h.\n+\t(dump_function): Move here from ...\n+\t* tree-dump.c (dump_function): ... here.\n+\t* gimplify.c: #include splay-tree.h, not tree-dump.h.\n+\t* graphite-poly.c: Don't include tree-dump.h.\n+\t* cgraphclones.c: Include dumpfile.h not tree-dump.h.\n+\t* print-tree.c: Likewise.\n+\t* stor-layout.c: Likewise.\n+\t* tree-nested.c: Likewise.\n+\n \t* dumpfile.c (dump_start): Use TDF_FLAGS.\n \t(dump_enable_all): Fix TDF_KIND check thinko.\n "}, {"sha": "497c9b9a62d5e41f095a186b10ead364ad147539", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -1,3 +1,7 @@\n+2017-05-11  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* gimple-parser.c: Don't #include tree-dump.h.\n+\n 2017-05-11  Mikhail Maltsev  <maltsevm@gmail.com>\n \n \tPR testsuite/80580"}, {"sha": "06f2fdba7cd36757cef959de9f825ca95745398c", "filename": "gcc/c/gimple-parser.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fc%2Fgimple-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fc%2Fgimple-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fgimple-parser.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -53,7 +53,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-ssanames.h\"\n #include \"gimple-ssa.h\"\n #include \"tree-dfa.h\"\n-#include \"tree-dump.h\"\n \n \n /* Gimple parsing functions.  */"}, {"sha": "c4ebbb86702053176c432445bd7d89db03b32bc4", "filename": "gcc/cgraphclones.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fcgraphclones.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fcgraphclones.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphclones.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -78,7 +78,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-eh.h\"\n #include \"tree-cfg.h\"\n #include \"tree-inline.h\"\n-#include \"tree-dump.h\"\n+#include \"dumpfile.h\"\n #include \"gimple-pretty-print.h\"\n \n /* Create clone of edge in the node N represented by CALL_EXPR"}, {"sha": "d9a84ff661f1a01c125f258992b08b637ab950b6", "filename": "gcc/dumpfile.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fdumpfile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fdumpfile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdumpfile.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -26,6 +26,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"diagnostic-core.h\"\n #include \"dumpfile.h\"\n #include \"context.h\"\n+#include \"tree-cfg.h\"\n \n /* If non-NULL, return one past-the-end of the matching SUBPART of\n    the WHOLE string.  */\n@@ -980,6 +981,22 @@ dump_basic_block (int dump_kind, basic_block bb, int indent)\n     dump_bb (alt_dump_file, bb, indent, TDF_DETAILS);\n }\n \n+/* Dump FUNCTION_DECL FN as tree dump PHASE.  */\n+\n+void\n+dump_function (int phase, tree fn)\n+{\n+  FILE *stream;\n+  int flags;\n+\n+  stream = dump_begin (phase, &flags);\n+  if (stream)\n+    {\n+      dump_function_to_file (fn, stream, flags);\n+      dump_end (phase, stream);\n+    }\n+}\n+\n /* Print information from the combine pass on dump_file.  */\n \n void"}, {"sha": "19c6d3ec90e35fe2c5cc50909aa9b88b7b736613", "filename": "gcc/dumpfile.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fdumpfile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fdumpfile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdumpfile.h?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -147,6 +147,7 @@ extern const char *dump_flag_name (int);\n extern void dump_printf (int, const char *, ...) ATTRIBUTE_PRINTF_2;\n extern void dump_printf_loc (int, source_location,\n \t\t\t     const char *, ...) ATTRIBUTE_PRINTF_3;\n+extern void dump_function (int phase, tree fn);\n extern void dump_basic_block (int, basic_block, int);\n extern void dump_generic_expr_loc (int, source_location, int, tree);\n extern void dump_generic_expr (int, int, tree);"}, {"sha": "eda814e74a4ad25cbb00d80bec320aac824c8431", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -1,3 +1,7 @@\n+2017-05-11  Nathan Sidwell  <nathan@acm.org>\n+\t\n+\t* trans-decl.c: Include dumpfile.h not tree-dump.h,\n+\n 2017-05-09  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/79311"}, {"sha": "b2f73b784663e1f52ae29cc5c75b18a32ee9576f", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -35,7 +35,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"stor-layout.h\"\n #include \"varasm.h\"\n #include \"attribs.h\"\n-#include \"tree-dump.h\"\n+#include \"dumpfile.h\"\n #include \"toplev.h\"\t/* For announce_function.  */\n #include \"debug.h\"\n #include \"constructor.h\""}, {"sha": "a28a9af3b7fc71c4d13ea3a4eba5e6d6c0085cdb", "filename": "gcc/gimplify.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -56,7 +56,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-low.h\"\n #include \"cilk.h\"\n #include \"gomp-constants.h\"\n-#include \"tree-dump.h\"\n+#include \"splay-tree.h\"\n #include \"gimple-walk.h\"\n #include \"langhooks-def.h\"\t/* FIXME: for lhd_set_decl_assembler_name */\n #include \"builtins.h\""}, {"sha": "5e9323a5546d6df112d9331b1fd9a264f9c8da09", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -39,7 +39,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-data-ref.h\"\n #include \"pretty-print.h\"\n #include \"gimple-pretty-print.h\"\n-#include \"tree-dump.h\"\n #include \"graphite.h\"\n \n /* Print to STDERR the GMP value VAL.  */"}, {"sha": "e0db2dfe82eb33a394cc898343cd590a409e957a", "filename": "gcc/print-tree.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fprint-tree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fprint-tree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-tree.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -32,7 +32,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-iterator.h\"\n #include \"gimple-pretty-print.h\" /* FIXME */\n #include \"tree-cfg.h\"\n-#include \"tree-dump.h\"\n+#include \"dumpfile.h\"\n #include \"print-tree.h\"\n \n /* Define the hash table of nodes already seen."}, {"sha": "1574e4383e8ec0f57bc4ca89ae5323f785d5fe1c", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -38,7 +38,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"print-tree.h\"\n #include \"langhooks.h\"\n #include \"tree-inline.h\"\n-#include \"tree-dump.h\"\n+#include \"dumpfile.h\"\n #include \"gimplify.h\"\n #include \"debug.h\"\n "}, {"sha": "fd1783e020dad96beaf45eaa0a0f2b47d9f65222", "filename": "gcc/tree-dump.c", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-dump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-dump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dump.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -153,22 +153,6 @@ dump_maybe_newline (dump_info_p di)\n     }\n }\n \n-/* Dump FUNCTION_DECL FN as tree dump PHASE.  */\n-\n-void\n-dump_function (int phase, tree fn)\n-{\n-  FILE *stream;\n-  int flags;\n-\n-  stream = dump_begin (phase, &flags);\n-  if (stream)\n-    {\n-      dump_function_to_file (fn, stream, flags);\n-      dump_end (phase, stream);\n-    }\n-}\n-\n /* Dump pointer PTR using FIELD to identify it.  */\n \n void"}, {"sha": "6649ed2548d2ceae19666c9cc98f121d7432eb5f", "filename": "gcc/tree-dump.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-dump.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-dump.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-dump.h?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -87,7 +87,6 @@ extern void dump_string (dump_info_p, const char *);\n extern void dump_string_field (dump_info_p, const char *, const char *);\n extern void queue_and_dump_index (dump_info_p, const char *, const_tree, int);\n extern void queue_and_dump_type (dump_info_p, const_tree);\n-extern void dump_function (int, tree);\n extern int dump_flag (dump_info_p, int, const_tree);\n \n #endif /* ! GCC_TREE_DUMP_H */"}, {"sha": "1c176c343cd00a06b2ee09c7d7e8491231a7376b", "filename": "gcc/tree-nested.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-nested.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c24e924f928e7a092a7dd829a6eb95c2c95625a3/gcc%2Ftree-nested.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-nested.c?ref=c24e924f928e7a092a7dd829a6eb95c2c95625a3", "patch": "@@ -31,7 +31,7 @@\n #include \"cgraph.h\"\n #include \"fold-const.h\"\n #include \"stor-layout.h\"\n-#include \"tree-dump.h\"\n+#include \"dumpfile.h\"\n #include \"tree-inline.h\"\n #include \"gimplify.h\"\n #include \"gimple-iterator.h\""}]}