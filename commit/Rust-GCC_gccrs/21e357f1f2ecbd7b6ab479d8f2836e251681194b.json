{"sha": "21e357f1f2ecbd7b6ab479d8f2836e251681194b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFlMzU3ZjFmMmVjYmQ3YjZhYjQ3OWQ4ZjI4MzZlMjUxNjgxMTk0Yg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-03-20T06:07:30Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2015-03-20T06:07:30Z"}, "message": "re PR rtl-optimization/60851 (ICE: in extract_constrain_insn_cached, at recog.c:2117 with -flive-range-shrinkage -mdispatch-scheduler -march=bdver4)\n\n\tPR rtl-optimization/60851\n\t* recog.c (constrain_operands): Accept a pseudo register before reload\n\tfor LRA enabled targets.\n\ntestsuite/ChangeLog:\n\n\tPR rtl-optimization/60851\n\t* gcc.target/i386/pr60851.c: New test.\n\nFrom-SVN: r221529", "tree": {"sha": "58246ed0ed5b32420fbc749fa702d585f0674375", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58246ed0ed5b32420fbc749fa702d585f0674375"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21e357f1f2ecbd7b6ab479d8f2836e251681194b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e357f1f2ecbd7b6ab479d8f2836e251681194b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21e357f1f2ecbd7b6ab479d8f2836e251681194b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e357f1f2ecbd7b6ab479d8f2836e251681194b/comments", "author": null, "committer": null, "parents": [{"sha": "5a59d54e05fff4dc73bedd387d0c73c173e8f3f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a59d54e05fff4dc73bedd387d0c73c173e8f3f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a59d54e05fff4dc73bedd387d0c73c173e8f3f3"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "30d6a5e74a25c0c5701d712f63aa8e75a1abc850", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=21e357f1f2ecbd7b6ab479d8f2836e251681194b", "patch": "@@ -1,3 +1,9 @@\n+2015-03-20  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/60851\n+\t* recog.c (constrain_operands): Accept a pseudo register before reload\n+\tfor LRA enabled targets.\n+\n 2015-03-19  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/65240"}, {"sha": "a9d3b1f779b50fd9ac42d82bb5ec33518a433f15", "filename": "gcc/recog.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=21e357f1f2ecbd7b6ab479d8f2836e251681194b", "patch": "@@ -2773,8 +2773,12 @@ constrain_operands (int strict, alternative_mask alternatives)\n \t\t\t   /* Every memory operand can be reloaded to fit.  */\n \t\t\t   && ((strict < 0 && MEM_P (op))\n \t\t\t       /* Before reload, accept what reload can turn\n-\t\t\t\t  into mem.  */\n+\t\t\t\t  into a mem.  */\n \t\t\t       || (strict < 0 && CONSTANT_P (op))\n+\t\t\t       /* Before reload, accept a pseudo,\n+\t\t\t\t  since LRA can turn it into a mem.  */\n+\t\t\t       || (strict < 0 && targetm.lra_p () && REG_P (op)\n+\t\t\t\t   && REGNO (op) >= FIRST_PSEUDO_REGISTER)\n \t\t\t       /* During reload, accept a pseudo  */\n \t\t\t       || (reload_in_progress && REG_P (op)\n \t\t\t\t   && REGNO (op) >= FIRST_PSEUDO_REGISTER)))"}, {"sha": "776490096387356e9a8a56301b6c5b1a7348e795", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=21e357f1f2ecbd7b6ab479d8f2836e251681194b", "patch": "@@ -1,4 +1,9 @@\n-2015-03-17  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+2015-03-20  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/60851\n+\t* gcc.target/i386/pr60851.c: New test.\n+\n+2015-03-19  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/65240\n \t* gcc/testsuite/g++.dg/pr65240.h: Add tests for PR 65240."}, {"sha": "3b8d35d74c49a298a84b7e128923dd20c8fa55a7", "filename": "gcc/testsuite/gcc.target/i386/pr60851.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr60851.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e357f1f2ecbd7b6ab479d8f2836e251681194b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr60851.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr60851.c?ref=21e357f1f2ecbd7b6ab479d8f2836e251681194b", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -flive-range-shrinkage -mtune=bdver4 -mdispatch-scheduler\" } */\n+\n+long double ld (char c)\n+{\n+  return c;\n+}"}]}