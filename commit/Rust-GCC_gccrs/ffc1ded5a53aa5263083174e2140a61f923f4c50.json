{"sha": "ffc1ded5a53aa5263083174e2140a61f923f4c50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZjMWRlZDVhNTNhYTUyNjMwODMxNzRlMjE0MGE2MWY5MjNmNGM1MA==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2017-09-21T14:32:34Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2017-09-21T14:32:34Z"}, "message": "Rename existing insn_cost to insn_sched_cost\n\nhaifa-sched exports an insn_cost function, but it is only used in a\nfew places and specialised to scheduling.  This patch renames it to\ninsn_sched_cost.\n\n\n\t* haifa-sched.c: Rename insn_cost to insn_sched_cost.\n\t* sched-rgn.c: Ditto.\n\t* sel-sched-ir.c: Ditto.\n\nFrom-SVN: r253072", "tree": {"sha": "770705f692d82cce1d8f1b8693bc20cdc5f22760", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/770705f692d82cce1d8f1b8693bc20cdc5f22760"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffc1ded5a53aa5263083174e2140a61f923f4c50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc1ded5a53aa5263083174e2140a61f923f4c50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffc1ded5a53aa5263083174e2140a61f923f4c50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc1ded5a53aa5263083174e2140a61f923f4c50/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a0e27dc2aa25c98e15e109b2915545dfbe21f27f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0e27dc2aa25c98e15e109b2915545dfbe21f27f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0e27dc2aa25c98e15e109b2915545dfbe21f27f"}], "stats": {"total": 28, "additions": 17, "deletions": 11}, "files": [{"sha": "ec429c91e3174f1bf452f86936605a4ca393a641", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ffc1ded5a53aa5263083174e2140a61f923f4c50", "patch": "@@ -1,3 +1,9 @@\n+2017-09-21  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* haifa-sched.c: Rename insn_cost to insn_sched_cost.\n+\t* sched-rgn.c: Ditto.\n+\t* sel-sched-ir.c: Ditto.\n+\n 2017-09-21  Alexander Monakov  <amonakov@ispras.ru>\n \n \t* toplev.h (set_random_seed): Adjust return type."}, {"sha": "d1378d0465f8ffcec6bf409d211026f2359cd19c", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=ffc1ded5a53aa5263083174e2140a61f923f4c50", "patch": "@@ -225,7 +225,7 @@ struct common_sched_info_def *common_sched_info;\n #define FEEDS_BACKTRACK_INSN(INSN) (HID (INSN)->feeds_backtrack_insn)\n #define SHADOW_P(INSN) (HID (INSN)->shadow_p)\n #define MUST_RECOMPUTE_SPEC_P(INSN) (HID (INSN)->must_recompute_spec)\n-/* Cached cost of the instruction.  Use insn_cost to get cost of the\n+/* Cached cost of the instruction.  Use insn_sched_cost to get cost of the\n    insn.  -1 here means that the field is not initialized.  */\n #define INSN_COST(INSN)\t(HID (INSN)->cost)\n \n@@ -1383,7 +1383,7 @@ static rtx_insn *nonscheduled_insns_begin;\n    This is the number of cycles between instruction issue and\n    instruction results.  */\n int\n-insn_cost (rtx_insn *insn)\n+insn_sched_cost (rtx_insn *insn)\n {\n   int cost;\n \n@@ -1470,7 +1470,7 @@ dep_cost_1 (dep_t link, dw_t dw)\n     {\n       enum reg_note dep_type = DEP_TYPE (link);\n \n-      cost = insn_cost (insn);\n+      cost = insn_sched_cost (insn);\n \n       if (INSN_CODE (insn) >= 0)\n \t{\n@@ -1608,11 +1608,11 @@ priority (rtx_insn *insn)\n \t  INSN_FUSION_PRIORITY (insn) = this_fusion_priority;\n \t}\n       else if (dep_list_size (insn, SD_LIST_FORW) == 0)\n-\t/* ??? We should set INSN_PRIORITY to insn_cost when and insn has\n-\t   some forward deps but all of them are ignored by\n+\t/* ??? We should set INSN_PRIORITY to insn_sched_cost when and insn\n+\t   has some forward deps but all of them are ignored by\n \t   contributes_to_priority hook.  At the moment we set priority of\n \t   such insn to 0.  */\n-\tthis_priority = insn_cost (insn);\n+\tthis_priority = insn_sched_cost (insn);\n       else\n \t{\n \t  rtx_insn *prev_first, *twin;\n@@ -1683,7 +1683,7 @@ priority (rtx_insn *insn)\n \t{\n \t  gcc_assert (this_priority == -1);\n \n-\t  this_priority = insn_cost (insn);\n+\t  this_priority = insn_sched_cost (insn);\n \t}\n \n       INSN_PRIORITY (insn) = this_priority;"}, {"sha": "2af8f9fc32c0085c18511bbc83ad52c6ec31f671", "filename": "gcc/sched-int.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsched-int.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsched-int.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-int.h?ref=ffc1ded5a53aa5263083174e2140a61f923f4c50", "patch": "@@ -1403,7 +1403,7 @@ extern void get_ebb_head_tail (basic_block, basic_block,\n \t\t\t       rtx_insn **, rtx_insn **);\n extern int no_real_insns_p (const rtx_insn *, const rtx_insn *);\n \n-extern int insn_cost (rtx_insn *);\n+extern int insn_sched_cost (rtx_insn *);\n extern int dep_cost_1 (dep_t, dw_t);\n extern int dep_cost (dep_t);\n extern int set_priorities (rtx_insn *, rtx_insn *);"}, {"sha": "ba5b47c73d9a67c19fcc61e89456fa15a8123697", "filename": "gcc/sched-rgn.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsched-rgn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsched-rgn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsched-rgn.c?ref=ffc1ded5a53aa5263083174e2140a61f923f4c50", "patch": "@@ -2837,8 +2837,8 @@ void debug_dependencies (rtx_insn *head, rtx_insn *tail)\n \t\t\t       : INSN_PRIORITY (insn))\n \t\t: INSN_PRIORITY (insn)),\n \t       (sel_sched_p () ? (sched_emulate_haifa_p ? -1\n-\t\t\t       : insn_cost (insn))\n-\t\t: insn_cost (insn)));\n+\t\t\t       : insn_sched_cost (insn))\n+\t\t: insn_sched_cost (insn)));\n \n       if (recog_memoized (insn) < 0)\n \tfprintf (sched_dump, \"nothing\");"}, {"sha": "c0e835fd09b811e386d4cea05adc6fffc24d41f2", "filename": "gcc/sel-sched-ir.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsel-sched-ir.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1ded5a53aa5263083174e2140a61f923f4c50/gcc%2Fsel-sched-ir.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsel-sched-ir.c?ref=ffc1ded5a53aa5263083174e2140a61f923f4c50", "patch": "@@ -1324,7 +1324,7 @@ sel_insn_rtx_cost (rtx_insn *insn)\n }\n \n /* Return the cost of the VI.\n-   !!! FIXME: Unify with haifa-sched.c: insn_cost ().  */\n+   !!! FIXME: Unify with haifa-sched.c: insn_sched_cost ().  */\n int\n sel_vinsn_cost (vinsn_t vi)\n {"}]}