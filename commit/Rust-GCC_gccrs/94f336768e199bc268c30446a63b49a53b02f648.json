{"sha": "94f336768e199bc268c30446a63b49a53b02f648", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTRmMzM2NzY4ZTE5OWJjMjY4YzMwNDQ2YTYzYjQ5YTUzYjAyZjY0OA==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:24Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:24Z"}, "message": "ifcvt: Add missing call to `onlyjump_p'\n\nDo not convert a conditional jump into conditional execution (and remove\nthe jump as a consequence) if the jump has side effects.\n\n\tgcc/\n\t* ifcvt.c (dead_or_predicable) [!IFCVT_MODIFY_TESTS]: Bail out\n\tif `!onlyjump_p'.", "tree": {"sha": "e07763d50091f4a513e97be7e7e2e472dc64c3ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e07763d50091f4a513e97be7e7e2e472dc64c3ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/94f336768e199bc268c30446a63b49a53b02f648", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f336768e199bc268c30446a63b49a53b02f648", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94f336768e199bc268c30446a63b49a53b02f648", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f336768e199bc268c30446a63b49a53b02f648/comments", "author": null, "committer": null, "parents": [{"sha": "da749b98cf9d87ebed92de08ff45f8a0d7fc9d1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da749b98cf9d87ebed92de08ff45f8a0d7fc9d1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da749b98cf9d87ebed92de08ff45f8a0d7fc9d1a"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "0bd05dc26227f6d278fe3ca675af02082532a108", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/94f336768e199bc268c30446a63b49a53b02f648/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/94f336768e199bc268c30446a63b49a53b02f648/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=94f336768e199bc268c30446a63b49a53b02f648", "patch": "@@ -5127,6 +5127,11 @@ dead_or_predicable (basic_block test_bb, basic_block merge_bb,\n \n       rtx cond;\n \n+      /* If the conditional jump is more than just a conditional jump,\n+\t then we cannot do conditional execution conversion on this block.  */\n+      if (!onlyjump_p (jump))\n+\tgoto nce;\n+\n       cond = cond_exec_get_condition (jump);\n       if (! cond)\n \treturn FALSE;\n@@ -5154,6 +5159,7 @@ dead_or_predicable (basic_block test_bb, basic_block merge_bb,\n \n       earliest = jump;\n     }\n+ nce:\n #endif\n \n   /* If we allocated new pseudos (e.g. in the conditional move"}]}