{"sha": "681150cdaa87e47d1cc8b57d6a29d73b3170343a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgxMTUwY2RhYTg3ZTQ3ZDFjYzhiNTdkNmEyOWQ3M2IzMTcwMzQzYQ==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2006-12-21T19:56:34Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2006-12-21T19:56:34Z"}, "message": "re PR fortran/30273 ([4.1 only] gfc_todo: Not Implemented: Unable to determine rank of expression)\n\n2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/30273\n\t* dependency.c (gfc_check_dependency): There is no dependency\n\twith EXPR_NULL so always return 0.\n\n2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/30273\n\t* gfortran.dg/dependency_19.f90: New test.\n\nFrom-SVN: r120117", "tree": {"sha": "6c9a1f15d334ca9b05b16f1980a05210a9b1792f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c9a1f15d334ca9b05b16f1980a05210a9b1792f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/681150cdaa87e47d1cc8b57d6a29d73b3170343a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/681150cdaa87e47d1cc8b57d6a29d73b3170343a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/681150cdaa87e47d1cc8b57d6a29d73b3170343a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/681150cdaa87e47d1cc8b57d6a29d73b3170343a/comments", "author": null, "committer": null, "parents": [{"sha": "54076f8b4496139a59e4129850b6f4c6c72baca4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54076f8b4496139a59e4129850b6f4c6c72baca4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54076f8b4496139a59e4129850b6f4c6c72baca4"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "5d12d75966ca4a0192a7042637e7d74e3617758e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=681150cdaa87e47d1cc8b57d6a29d73b3170343a", "patch": "@@ -1,3 +1,9 @@\n+2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/30273\n+\t* dependency.c (gfc_check_dependency): There is no dependency\n+\twith EXPR_NULL so always return 0.\n+\n 2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/30202"}, {"sha": "53bf9e181b7a9d83abbdcf2b7d5f64e762ea0c42", "filename": "gcc/fortran/dependency.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ffortran%2Fdependency.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ffortran%2Fdependency.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdependency.c?ref=681150cdaa87e47d1cc8b57d6a29d73b3170343a", "patch": "@@ -694,6 +694,7 @@ gfc_check_dependency (gfc_expr * expr1, gfc_expr * expr2, bool identical)\n       return 0;\n \n     case EXPR_CONSTANT:\n+    case EXPR_NULL:\n       return 0;\n \n     case EXPR_ARRAY:"}, {"sha": "3a094a5ec9be5c0c2c63e944f684e63478d6174d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=681150cdaa87e47d1cc8b57d6a29d73b3170343a", "patch": "@@ -1,3 +1,8 @@\n+2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/30273\n+\t* gfortran.dg/dependency_19.f90: New test.\n+\n 2006-12-21  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/30202"}, {"sha": "b0af158553e25e6b495b1eb065f889db25ddea66", "filename": "gcc/testsuite/gfortran.dg/dependency_19.f90", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_19.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/681150cdaa87e47d1cc8b57d6a29d73b3170343a/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_19.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_19.f90?ref=681150cdaa87e47d1cc8b57d6a29d73b3170343a", "patch": "@@ -0,0 +1,34 @@\n+! { dg-do compile }\n+! Tests the fix for PR30273, in which the pointer assignment was\n+! wrongly determined to have dependence because NULL() was not\n+! recognised by the analysis.\n+!\n+! Contributed by Harald Anlauf <anlauf@gmx.de>\n+!\n+module gfcbug49\n+  implicit none\n+\n+  type spot_t\n+     integer, pointer     :: vm(:,:,:)\n+  end type spot_t\n+\n+  type rc_t\n+    integer               :: n\n+    type(spot_t), pointer :: spots(:) => NULL()\n+  end type rc_t  \n+\n+contains\n+\n+  subroutine construct (rc, n)\n+    type(rc_t), intent(out) :: rc\n+    integer   , intent(in)  :: n\n+    integer :: k\n+    rc% n = n\n+    allocate (rc% spots (n))\n+    forall (k=1:n)\n+       rc% spots (k)% vm => NULL() ! gfortran didn't swallow this\n+    end forall\n+  end subroutine construct\n+\n+end module gfcbug49\n+! { dg-final { cleanup-modules \"gfcbug49\" } }"}]}