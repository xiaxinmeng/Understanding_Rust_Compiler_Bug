{"sha": "624c87aac99b53fc18b57d2674685c30f9329a50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjI0Yzg3YWFjOTliNTNmYzE4YjU3ZDI2NzQ2ODVjMzBmOTMyOWE1MA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2000-04-15T11:16:56Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2000-04-15T11:16:56Z"}, "message": "emit-rtl.c (unshare_all_rtl_again): Unmark everything, then call unshare_all_rtl.\n\n* emit-rtl.c (unshare_all_rtl_again): Unmark everything, then\ncall unshare_all_rtl.\n\nFrom-SVN: r33162", "tree": {"sha": "a43d51c88976157ec153c06d1d2fae28f9768657", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a43d51c88976157ec153c06d1d2fae28f9768657"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/624c87aac99b53fc18b57d2674685c30f9329a50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/624c87aac99b53fc18b57d2674685c30f9329a50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/624c87aac99b53fc18b57d2674685c30f9329a50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/624c87aac99b53fc18b57d2674685c30f9329a50/comments", "author": null, "committer": null, "parents": [{"sha": "098fdd8e9f123dae35aa4a7bacd6fa1b1612baa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/098fdd8e9f123dae35aa4a7bacd6fa1b1612baa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/098fdd8e9f123dae35aa4a7bacd6fa1b1612baa6"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "7c9b9347d7cdf2c9d165a7a68d4dcb8ecc2cb4bf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624c87aac99b53fc18b57d2674685c30f9329a50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624c87aac99b53fc18b57d2674685c30f9329a50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=624c87aac99b53fc18b57d2674685c30f9329a50", "patch": "@@ -1,3 +1,8 @@\n+2000-04-15  Richard Earnshaw (rearnsah@arm.com)\n+\n+\t* emit-rtl.c (unshare_all_rtl_again): Unmark everything, then\n+\tcall unshare_all_rtl.\n+\n Fri Apr 14 16:58:45 2000  Jim Wilson  <wilson@cygnus.com>\n \n \t* config/ia64/lib1funcs.asm (__divdi3, __moddi3, __udivdi3, __umoddi3):"}, {"sha": "98009ec1ca16da9ddad9c5b5f375fc6e03ee5b9d", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/624c87aac99b53fc18b57d2674685c30f9329a50/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/624c87aac99b53fc18b57d2674685c30f9329a50/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=624c87aac99b53fc18b57d2674685c30f9329a50", "patch": "@@ -1724,14 +1724,23 @@ unshare_all_rtl_again (insn)\n      rtx insn;\n {\n   rtx p;\n+  tree decl;\n+\n   for (p = insn; p; p = NEXT_INSN (p))\n     if (GET_RTX_CLASS (GET_CODE (p)) == 'i')\n       {\n \treset_used_flags (PATTERN (p));\n \treset_used_flags (REG_NOTES (p));\n \treset_used_flags (LOG_LINKS (p));\n       }\n-  unshare_all_rtl_1 (insn);\n+\n+  /* Make sure that virtual parameters are not shared.  */\n+  for (decl = DECL_ARGUMENTS (cfun->decl); decl; decl = TREE_CHAIN (decl))\n+    reset_used_flags (DECL_RTL (decl));\n+\n+  reset_used_flags (stack_slot_list);\n+\n+  unshare_all_rtl (cfun->decl, insn);\n }\n \n /* Go through all the RTL insn bodies and copy any invalid shared structure."}]}