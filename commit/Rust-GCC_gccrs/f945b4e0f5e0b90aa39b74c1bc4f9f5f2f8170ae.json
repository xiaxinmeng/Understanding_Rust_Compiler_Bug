{"sha": "f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjk0NWI0ZTBmNWUwYjkwYWEzOWI3NGMxYmM0ZjlmNWYyZjgxNzBhZQ==", "commit": {"author": {"name": "Devang Patel", "email": "dpatel@gcc.gnu.org", "date": "2003-04-22T19:52:51Z"}, "committer": {"name": "Devang Patel", "email": "dpatel@gcc.gnu.org", "date": "2003-04-22T19:52:51Z"}, "message": "cpptrad.c (_cpp_replacement_text_len): Add check for macro parameter count.\n\n\n        * cpptrad.c (_cpp_replacement_text_len): Add check for macro parameter count.\n        (_cpp_copy_replacement_text): Same.\n\n\n        * gcc.dg/cpp/trad/funlike-5.c: New test.\n\nFrom-SVN: r65952", "tree": {"sha": "29ae547a1ad3c6927d1542311de1a9b3f12eb215", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29ae547a1ad3c6927d1542311de1a9b3f12eb215"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/comments", "author": null, "committer": null, "parents": [{"sha": "1067694a52b1cb7b5508c1240cc1d58bc71113d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1067694a52b1cb7b5508c1240cc1d58bc71113d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1067694a52b1cb7b5508c1240cc1d58bc71113d4"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "a9df835813632d2c0a6f0b698679949fa3d03747", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "patch": "@@ -1,3 +1,9 @@\n+\n+2003-04-22  Devang Patel  <dpatel@apple.com>\n+\n+\t* cpptrad.c (_cpp_replacement_text_len): Add check for macro parameter count.\n+\t(_cpp_copy_replacement_text): Same.\n+\t\n 2003-04-22  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* c-lex.c (c_lex): Handle CPP_OTHER differently.\n@@ -57,6 +63,7 @@\n \t(note_eh_region_may_contain_throw): New function.\n \t* except.h (note_eh_region_may_contain_throw): New function.\n \n+>>>>>>> 1.17566\n 2003-04-21  Mark Mitchell  <mark@codesourcery.com>\n \n \t* config/i386/winnt.c (i386_pe_mark_dllimport): Revert previous"}, {"sha": "f8923ae841200f4576b24f4f933de1b21a8c15a5", "filename": "gcc/cpptrad.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Fcpptrad.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Fcpptrad.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpptrad.c?ref=f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "patch": "@@ -761,7 +761,7 @@ _cpp_replacement_text_len (macro)\n {\n   size_t len;\n \n-  if (macro->fun_like)\n+  if (macro->fun_like && (macro->paramc != 0))\n     {\n       const uchar *exp;\n \n@@ -791,7 +791,7 @@ _cpp_copy_replacement_text (macro, dest)\n      const cpp_macro *macro;\n      uchar *dest;\n {\n-  if (macro->fun_like)\n+  if (macro->fun_like && (macro->paramc != 0))\n     {\n       const uchar *exp;\n "}, {"sha": "3face0f955d9250d367d265f4cc296ef9b03f136", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "patch": "@@ -1,3 +1,8 @@\n+\n+2003-04-22  Devang Patel  <dpatel@apple.com>\n+\n+\t* gcc.dg/cpp/trad/funlike-5.c: New test.\n+\t\n 2003-04-21  Andreas Tobler <a.tobler@schweiz.ch>\n \n \t* g++.dg/other/packed1.C: Fix dg options."}, {"sha": "f60a6ea7865dc3fd658e53f42422917f10d50db5", "filename": "gcc/testsuite/gcc.dg/cpp/trad/funlike-5.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftrad%2Ffunlike-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftrad%2Ffunlike-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Ftrad%2Ffunlike-5.c?ref=f945b4e0f5e0b90aa39b74c1bc4f9f5f2f8170ae", "patch": "@@ -0,0 +1,10 @@\n+/* Test function like macro. */\n+/* Contributed by Devang Patel <dpatel@apple.com> */\n+\n+/* {do-do preprocess } */\n+/* { dg-options \"-traditional-cpp -E -dD\" } */\n+int     __srget (char *);\n+#define __sgetc(p) (--(p)->_r < 0 ? __srget(p) : (int)(*(p)->_p++))\n+#define getc(fp)        __sgetc(fp)\n+#define getchar()       getc(stdin)\n+"}]}