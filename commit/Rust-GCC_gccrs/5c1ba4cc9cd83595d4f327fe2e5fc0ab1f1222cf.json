{"sha": "5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMxYmE0Y2M5Y2Q4MzU5NWQ0ZjMyN2ZlMmU1ZmMwYWIxZjEyMjJjZg==", "commit": {"author": {"name": "Pascal Obry", "email": "obry@gnat.com", "date": "2001-10-25T23:12:24Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-25T23:12:24Z"}, "message": "g-dirope.adb (Basename): correctly compute offset between the original Path and the translated one.\n\n\t* g-dirope.adb (Basename): correctly compute offset between the\n        original Path and the translated one.\n\n\t* g-dirope.adb: (Base_Name): add some comments.\n\nFrom-SVN: r46502", "tree": {"sha": "e9b8cd80e50fa3121519ea2b6a71175674e98016", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9b8cd80e50fa3121519ea2b6a71175674e98016"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf/comments", "author": null, "committer": null, "parents": [{"sha": "a7fb206de824470c81339bda02c29eb1f3f8ddf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7fb206de824470c81339bda02c29eb1f3f8ddf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7fb206de824470c81339bda02c29eb1f3f8ddf4"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "0790bbd53b3f6d98e7979d2689d603b254b8474e", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "patch": "@@ -1,3 +1,10 @@\n+2001-10-25  Pascal Obry <obry@gnat.com>\n+\n+\t* g-dirope.adb (Basename): correctly compute offset between the \n+        original Path and the translated one.\n+\t\n+\t* g-dirope.adb: (Base_Name): add some comments.\n+\n 2001-10-25  Robert Dewar <dewar@gnat.com>\n \n \t* exp_imgv.adb (Expand_Image_Attribute): Defend against bad use "}, {"sha": "afa996c56b2633a2c6e2a0dd5e95e823e0ee9487", "filename": "gcc/ada/g-dirope.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf/gcc%2Fada%2Fg-dirope.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf/gcc%2Fada%2Fg-dirope.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-dirope.adb?ref=5c1ba4cc9cd83595d4f327fe2e5fc0ab1f1222cf", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                            $Revision: 1.15 $\n+--                            $Revision$\n --                                                                          --\n --            Copyright (C) 1998-2001 Ada Core Technologies, Inc.           --\n --                                                                          --\n@@ -122,7 +122,10 @@ package body GNAT.Directory_Operations is\n          end if;\n \n          Check_For_Standard_Dirs : declare\n-            BN : constant String := Base_Name.Path (Cut_Start .. Cut_End);\n+            Offset : constant Integer := Path'First - Base_Name.Path'First;\n+            BN     : constant String  :=\n+                       Base_Name.Path (Cut_Start - Offset .. Cut_End - Offset);\n+            --  Here we use Base_Name.Path to keep the original casing\n \n          begin\n             if BN = \".\" or else BN = \"..\" then"}]}