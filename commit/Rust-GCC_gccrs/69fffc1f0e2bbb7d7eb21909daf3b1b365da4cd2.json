{"sha": "69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjlmZmZjMWYwZTJiYmI3ZDdlYjIxOTA5ZGFmM2IxYjM2NWRhNGNkMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-12-18T22:07:38Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-12-18T22:07:38Z"}, "message": "libgo: Link against libatomic_convenience.la.\n\ngcc/go:\n\tPR go/55201\n\t* gospec.c: Revert last patch.\n\ngcc/testsuite:\n\tPR go/55201\n\t* lib/go.exp: Revert last patch.\n\nFrom-SVN: r194593", "tree": {"sha": "99611f4471aa323028079176ae8f463b714f05fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99611f4471aa323028079176ae8f463b714f05fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/comments", "author": null, "committer": null, "parents": [{"sha": "36749a1fe6529896b023b7c47466a446609f1c9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36749a1fe6529896b023b7c47466a446609f1c9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36749a1fe6529896b023b7c47466a446609f1c9b"}], "stats": {"total": 40, "additions": 19, "deletions": 21}, "files": [{"sha": "477e6ed32f799d71e28d4884de3738a3f86aa020", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -1,3 +1,8 @@\n+2012-12-18  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR go/55201\n+\t* gospec.c: Revert last patch.\n+\n 2012-12-18  Andreas Schwab  <schwab@linux-m68k.org>\n \n \tPR go/55201"}, {"sha": "20372f0f47060f57678ce690ac5eb7252422e14a", "filename": "gcc/go/gospec.c", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Fgo%2Fgospec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Fgo%2Fgospec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgospec.c?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -45,9 +45,6 @@ along with GCC; see the file COPYING3.  If not see\n #define THREAD_LIBRARY \"pthread\"\n #define THREAD_LIBRARY_PROFILE THREAD_LIBRARY\n \n-#define LIBATOMIC \"atomic\"\n-#define LIBATOMIC_PROFILE LIBATOMIC\n-\n #define LIBGO \"go\"\n #define LIBGO_PROFILE LIBGO\n #define LIBGOBEGIN \"gobegin\"\n@@ -339,11 +336,6 @@ lang_specific_driver (struct cl_decoded_option **in_decoded_options,\n       added_libraries++;\n       j++;\n \n-      generate_option (OPT_l, saw_profile_flag ? LIBATOMIC_PROFILE : LIBATOMIC,\n-\t\t       1, CL_DRIVER, &new_decoded_options[j]);\n-      added_libraries++;\n-      j++;\n-\n #ifdef HAVE_LD_STATIC_DYNAMIC\n       if (library > 1 && !static_link)\n \t{"}, {"sha": "e2044088cf407e1b1d2cfdda23d1c8fe1bc9f152", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -1,3 +1,8 @@\n+2012-12-18  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR go/55201\n+\t* lib/go.exp: Revert last patch.\n+\n 2012-12-18  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/54838"}, {"sha": "8c908a5ced1fef10d683d7c3fa227184ac089b6f", "filename": "gcc/testsuite/lib/go.exp", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Ftestsuite%2Flib%2Fgo.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/gcc%2Ftestsuite%2Flib%2Fgo.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgo.exp?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -111,11 +111,6 @@ proc go_link_flags { paths } {\n           append flags \"-L${gccpath}/libgo/.libs \"\n           append ld_library_path \":${gccpath}/libgo/.libs\"\n       }\n-      if { [file exists \"${gccpath}/libatomic/.libs/libatomic.a\"] \\\n-\t   || [file exists \"${gccpath}/libatomic/.libs/libatomic.${shlib_ext}\"] } {\n-          append flags \"-L${gccpath}/libatomic/.libs \"\n-          append ld_library_path \":${gccpath}/libatomic/.libs\"\n-      }\n       if [file exists \"${gccpath}/libiberty/libiberty.a\"] {\n           append flags \"-L${gccpath}/libiberty \"\n       }"}, {"sha": "3da2cb4fae2ea8484e656a8d10881a219a03ee09", "filename": "libgo/Makefile.am", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -1909,7 +1909,7 @@ libgo_la_LDFLAGS = \\\n \n libgo_la_LIBADD = \\\n \t$(libgo_go_objs) ../libbacktrace/libbacktrace.la \\\n-\t../libatomic/libatomic.la \\\n+\t../libatomic/libatomic_convenience.la \\\n \t$(LIBFFI) $(PTHREAD_LIBS) $(MATH_LIBS) $(NET_LIBS)\n \n libgobegin_a_SOURCES = \\\n@@ -1949,7 +1949,7 @@ GOTESTFLAGS =\n \n # Check a package.\n CHECK = \\\n-\tGC=\"$(GOC) $(GOCFLAGS) $($(subst /,_,$@)_GOCFLAGS) -L `${PWD_COMMAND}` -L `${PWD_COMMAND}`/.libs -L `${PWD_COMMAND}`/../libatomic -L `${PWD_COMMAND}`/../libatomic/.libs\"; \\\n+\tGC=\"$(GOC) $(GOCFLAGS) $($(subst /,_,$@)_GOCFLAGS) -L `${PWD_COMMAND}` -L `${PWD_COMMAND}`/.libs\"; \\\n \texport GC; \\\n \tGOLIBS=\"$(MATH_LIBS) $(NET_LIBS)\"; \\\n \texport GOLIBS; \\\n@@ -1958,7 +1958,7 @@ CHECK = \\\n \tMAKE=\"$(MAKE)\"; \\\n \texport MAKE; \\\n \tlibgccdir=`${GOC} -print-libgcc-file-name | sed -e 's|/[^/]*$$||'`; \\\n-\tLD_LIBRARY_PATH=\"`${PWD_COMMAND}`/.libs:`${PWD_COMMAND}`/../libatomic/.libs:$${libgccdir}:${LD_LIBRARY_PATH}\"; \\\n+\tLD_LIBRARY_PATH=\"`${PWD_COMMAND}`/.libs:$${libgccdir}:${LD_LIBRARY_PATH}\"; \\\n \tLD_LIBRARY_PATH=`echo $${LD_LIBRARY_PATH} | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; \\\n \texport LD_LIBRARY_PATH; \\\n \t$(MKDIR_P) $(@D); \\"}, {"sha": "869addff25d12d397f56d5eb75297c1a6013dc6f", "filename": "libgo/Makefile.in", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=69fffc1f0e2bbb7d7eb21909daf3b1b365da4cd2", "patch": "@@ -175,9 +175,10 @@ am__DEPENDENCIES_2 = bufio.lo bytes.lo bytes/index.lo crypto.lo \\\n \ttesting/iotest.lo testing/quick.lo unicode/utf16.lo \\\n \tunicode/utf8.lo\n libgo_la_DEPENDENCIES = $(am__DEPENDENCIES_2) \\\n-\t../libbacktrace/libbacktrace.la ../libatomic/libatomic.la \\\n+\t../libbacktrace/libbacktrace.la \\\n+\t../libatomic/libatomic_convenience.la $(am__DEPENDENCIES_1) \\\n \t$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \\\n-\t$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)\n+\t$(am__DEPENDENCIES_1)\n @LIBGO_IS_LINUX_FALSE@am__objects_1 = lock_sema.lo thread-sema.lo\n @LIBGO_IS_LINUX_TRUE@am__objects_1 = lock_futex.lo thread-linux.lo\n @HAVE_SYS_MMAN_H_FALSE@am__objects_2 = mem_posix_memalign.lo\n@@ -2037,7 +2038,7 @@ libgo_la_LDFLAGS = \\\n \n libgo_la_LIBADD = \\\n \t$(libgo_go_objs) ../libbacktrace/libbacktrace.la \\\n-\t../libatomic/libatomic.la \\\n+\t../libatomic/libatomic_convenience.la \\\n \t$(LIBFFI) $(PTHREAD_LIBS) $(MATH_LIBS) $(NET_LIBS)\n \n libgobegin_a_SOURCES = \\\n@@ -2072,7 +2073,7 @@ GOTESTFLAGS =\n \n # Check a package.\n CHECK = \\\n-\tGC=\"$(GOC) $(GOCFLAGS) $($(subst /,_,$@)_GOCFLAGS) -L `${PWD_COMMAND}` -L `${PWD_COMMAND}`/.libs -L `${PWD_COMMAND}`/../libatomic -L `${PWD_COMMAND}`/../libatomic/.libs\"; \\\n+\tGC=\"$(GOC) $(GOCFLAGS) $($(subst /,_,$@)_GOCFLAGS) -L `${PWD_COMMAND}` -L `${PWD_COMMAND}`/.libs\"; \\\n \texport GC; \\\n \tGOLIBS=\"$(MATH_LIBS) $(NET_LIBS)\"; \\\n \texport GOLIBS; \\\n@@ -2081,7 +2082,7 @@ CHECK = \\\n \tMAKE=\"$(MAKE)\"; \\\n \texport MAKE; \\\n \tlibgccdir=`${GOC} -print-libgcc-file-name | sed -e 's|/[^/]*$$||'`; \\\n-\tLD_LIBRARY_PATH=\"`${PWD_COMMAND}`/.libs:`${PWD_COMMAND}`/../libatomic/.libs:$${libgccdir}:${LD_LIBRARY_PATH}\"; \\\n+\tLD_LIBRARY_PATH=\"`${PWD_COMMAND}`/.libs:$${libgccdir}:${LD_LIBRARY_PATH}\"; \\\n \tLD_LIBRARY_PATH=`echo $${LD_LIBRARY_PATH} | sed 's,::*,:,g;s,^:*,,;s,:*$$,,'`; \\\n \texport LD_LIBRARY_PATH; \\\n \t$(MKDIR_P) $(@D); \\"}]}