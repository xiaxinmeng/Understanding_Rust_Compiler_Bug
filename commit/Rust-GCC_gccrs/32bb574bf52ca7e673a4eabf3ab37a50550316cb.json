{"sha": "32bb574bf52ca7e673a4eabf3ab37a50550316cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzJiYjU3NGJmNTJjYTdlNjczYTRlYWJmM2FiMzdhNTA1NTAzMTZjYg==", "commit": {"author": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-02-14T02:15:20Z"}, "committer": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-02-14T02:15:20Z"}, "message": "re PR c++/13927 (duplicated error message on bad redeclaration of anon union)\n\n\tPR c++/13927\n\t* g++.dg/other/error8.C: New test.\n\nFrom-SVN: r77788", "tree": {"sha": "68eb4407b0b83b7ae27a707a670abb5ee0340369", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68eb4407b0b83b7ae27a707a670abb5ee0340369"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32bb574bf52ca7e673a4eabf3ab37a50550316cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32bb574bf52ca7e673a4eabf3ab37a50550316cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32bb574bf52ca7e673a4eabf3ab37a50550316cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32bb574bf52ca7e673a4eabf3ab37a50550316cb/comments", "author": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7162281a3221c98be6c6c96b9cafe13feddcdad3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7162281a3221c98be6c6c96b9cafe13feddcdad3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7162281a3221c98be6c6c96b9cafe13feddcdad3"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "4b294918147a48676dbb3ae2ad947792ba991bf5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32bb574bf52ca7e673a4eabf3ab37a50550316cb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32bb574bf52ca7e673a4eabf3ab37a50550316cb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=32bb574bf52ca7e673a4eabf3ab37a50550316cb", "patch": "@@ -1,3 +1,8 @@\n+2004-02-13  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n+\n+\tPR c++/13927\n+\t* g++.dg/other/error8.C: New test.\n+\n 2004-02-13  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/14122"}, {"sha": "d427e3c4c61623c3e70fbfad7064db52a073992a", "filename": "gcc/testsuite/g++.dg/other/error8.C", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32bb574bf52ca7e673a4eabf3ab37a50550316cb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror8.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32bb574bf52ca7e673a4eabf3ab37a50550316cb/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror8.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Ferror8.C?ref=32bb574bf52ca7e673a4eabf3ab37a50550316cb", "patch": "@@ -0,0 +1,26 @@\n+// { dg-do compile }\n+// Contributed by: Michael Elizabeth Chastain \n+//   <mec dot gnu at mindspring dot com>\n+// PR c++/13927: Wrong error message for redeclartion of type from union\n+\n+void foo(void)\n+{\n+  union { int alpha; int beta; }; // { dg-error \"previous declaration `int alpha'\" }\n+  double alpha;  // { dg-error \"declaration of\" }\n+}\n+\n+// This checks both the templated version, and the position of the diagnostic\n+//  (which is currently wrong).\n+template <int>\n+void tfoo(void)\n+{\n+  union { \n+    int alpha;  // { dg-error \"\" \"\" { xfail *-*-* } }\n+    int beta; \n+  }; // { dg-bogus \"\" \"misplaced position of the declaration\" { xfail *-*-* } }\n+  double alpha; // { dg-error \"\" \"\" }\n+}\n+\n+// The duplicated error messages are xfailed for now (tracked in the PR)\n+// { dg-bogus \"\" \"duplicate error messages\" { xfail *-*-* } 8 }\n+// { dg-bogus \"\" \"duplicate error messages\" { xfail *-*-* } 9 }"}]}