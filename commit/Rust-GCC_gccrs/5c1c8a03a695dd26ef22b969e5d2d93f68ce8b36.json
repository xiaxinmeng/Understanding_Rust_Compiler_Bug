{"sha": "5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWMxYzhhMDNhNjk1ZGQyNmVmMjJiOTY5ZTVkMmQ5M2Y2OGNlOGIzNg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-02-18T11:52:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-02-18T11:52:55Z"}, "message": "[multiple changes]\n\n2004-02-18  Emmanuel Briot  <briot@act-europe.fr>\n\n\t* ali.ads, ali.adb (First_Sdep_Entry): No longer a constant, so that\n\tScan_ALI can be used for multiple ALI files without reinitializing\n\tbetween calls.\n\n2004-02-18  Robert Dewar  <dewar@gnat.com>\n\n\t* debug.adb: Minor reformatting.\n\n2004-02-18  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n\n\t* decl.c (gnat_to_gnu_entity, case object): Set DECL_POINTER_ALIAS_SET\n\tto zero if there is an address clause.\n\n2004-02-18  Thomas Quinot  <quinot@act-europe.fr>\n\n\t* exp_util.adb (Side_Effect_Free): Any literal is side effects free.\n\n2004-02-18  Gary Dismukes  <dismukes@gnat.com>\n\n\t* layout.adb (Layout_Component_List): Revise generation of call to\n\tdiscriminant-checking function to pass selections of all of the type's\n\tdiscriminants rather than just the variant-controlling discriminant.\n\n2004-02-18  Olivier Hainque  <hainque@act-europe.fr>\n\n\t* 5gmastop.adb (Pop_Frame): Do not call exc_unwind, which is bound to\n\tfail in the current setup and triggers spurious system error messages.\n\tPretend it occurred and failed instead.\n\n2004-02-18  Vincent Celier  <celier@gnat.com>\n\n\t* bld.adb: Mark FLDFLAGS as saved\n\t(Process_Declarative_Items): Add Linker'Linker_Options to FLDFLAGS when\n\tit is not the root project.  Put each directory to be\n\textended between double quotes to prevent it to be expanded on Windows.\n\t(Recursive_Process): Reset CFLAGS/CXXFLAGS to nothing before processing\n\tthe project file. Set them back to their initial values if they have not\n\tbeen set in the project file.\n\n\t* gprcmd.adb: (Gprdebug, Debug): New global variables\n\t(Display_Command): New procedure\n\t(Usage): Document new command \"linkopts\"\n\tCall Display_Command when env var GPRDEBUG has the value \"TRUE\"\n\tImplement new command \"linkopts\"\n\tRemove quotes that may be around arguments for \"extend\"\n\tAlways call Normalize_Pathname with arguments formatted for the platform\n\n\t* Makefile.generic: Link C/C++ mains with $(FLDFLAGS)\n\tChange @echo to @$(display) in target clean to be able to clean silently\n\n\t* Makefile.prolog: Save FLDFLAGS and give it an initial empty value\n\n\t* prj-part.adb (Project_Path_Name_Of): Do not put final result in\n\tcanonical case.\n\n\t* prj-part.adb (Parse_Single_Project): Always call with From_Extended\n\t= Extending_All when current project is an extending all project.\n\n\t* vms_conv.adb (Output_File_Expected): New Boolean global variable,\n\tset to True only for LINK command, after Unix switch -o.\n\t(Process_Arguments): Set Output_File_Expected to True for LINK command\n\tafter Unix switch -o. When Output_File_Expected is True, never add an\n\textension to a file name.\n\n\t* 5vml-tgt.adb (Build_Dynamic_Library): Do not append \"/OPTIONS\" to the\n\toption file name, only to the --for-linker= switch.\n\t(Option_File_Name): If option file name do not end with \".opt\", append\n\t\"/OPTIONS\".\n\n2004-02-18  GNAT Script  <nobody@gnat.com>\n\n\t* Make-lang.in: Makefile automatically updated\n\nFrom-SVN: r78024", "tree": {"sha": "ab088861e5fc012e91fec0d42b6282779d593f5c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab088861e5fc012e91fec0d42b6282779d593f5c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/comments", "author": null, "committer": null, "parents": [{"sha": "c5fe50362f8f923bdbcf3900025b5e93cb24705d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5fe50362f8f923bdbcf3900025b5e93cb24705d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5fe50362f8f923bdbcf3900025b5e93cb24705d"}], "stats": {"total": 796, "additions": 572, "deletions": 224}, "files": [{"sha": "480e3ead130b44fadbd42dfeeff15c71595ec1a0", "filename": "gcc/ada/5gmastop.adb", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2F5gmastop.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2F5gmastop.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F5gmastop.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -7,7 +7,7 @@\n --                                 B o d y                                  --\n --                         (Version for IRIX/MIPS)                          --\n --                                                                          --\n---          Copyright (C) 1999-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 1999-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -301,7 +301,25 @@ package body System.Machine_State_Operations is\n       --  Lock_Task is used in many other places.\n \n       Lock_Task.all;\n-      Exc_Unwind (Scp);\n+\n+      --  ??? Calling exc_unwind in the current setup does not work and\n+      --  triggers the emission of system warning messages. Why it does\n+      --  not work remains to be investigated. Part of the problem is\n+      --  probably a section naming issue (e.g. .eh_frame/.debug_frame).\n+\n+      --  Instead of letting the call take place for nothing and emit\n+      --  messages we don't expect, we just arrange things to pretend it\n+      --  occurred and failed.\n+\n+      --  ??? Until this is fixed, we shall document that the backtrace\n+      --  computation facility does not work.\n+\n+      if False then\n+         Exc_Unwind (Scp);\n+      else\n+         Scp.SC_PC := 0;\n+      end if;\n+\n       Unlock_Task.all;\n \n       if Scp.SC_PC = 0 or else Scp.SC_PC = 1 then"}, {"sha": "f7479223f084c18851dbd5f3c850fb0184226221", "filename": "gcc/ada/5vml-tgt.adb", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2F5vml-tgt.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2F5vml-tgt.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F5vml-tgt.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -209,7 +209,9 @@ package body MLib.Tgt is\n          if Symbol_Data.Symbol_File = No_Name then\n             return \"symvec.opt\";\n          else\n-            return Get_Name_String (Symbol_Data.Symbol_File);\n+            Get_Name_String (Symbol_Data.Symbol_File);\n+            To_Lower (Name_Buffer (1 .. Name_Len));\n+            return Name_Buffer (1 .. Name_Len);\n          end if;\n       end Option_File_Name;\n \n@@ -244,8 +246,7 @@ package body MLib.Tgt is\n \n       Opt_File_Name  : constant String := Option_File_Name;\n       Version        : constant String := Version_String;\n-      For_Linker_Opt : constant String_Access :=\n-                         new String'(\"--for-linker=\" & Opt_File_Name);\n+      For_Linker_Opt : String_Access;\n \n    --  Start of processing for Build_Dynamic_Library\n \n@@ -258,6 +259,19 @@ package body MLib.Tgt is\n          Link_With_Shared_Libgcc := No_Shared_Libgcc_Switch'Access;\n       end if;\n \n+      --  If option file name does not ends with \".opt\", append \"/OPTIONS\"\n+      --  to its specification for the VMS linker.\n+\n+      if Opt_File_Name'Length > 4\n+        and then\n+          Opt_File_Name (Opt_File_Name'Last - 3 .. Opt_File_Name'Last) = \".opt\"\n+      then\n+         For_Linker_Opt := new String'(\"--for-linker=\" & Opt_File_Name);\n+      else\n+         For_Linker_Opt :=\n+           new String'(\"--for-linker=\" & Opt_File_Name & \"/OPTIONS\");\n+      end if;\n+\n       VMS_Options (VMS_Options'First + 1) := For_Linker_Opt;\n \n       for J in Inter'Range loop"}, {"sha": "1fa6259305587a8c6dfd3e2ef21b9120f3984d2d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 75, "deletions": 0, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -1,3 +1,78 @@\n+2004-02-18  Emmanuel Briot  <briot@act-europe.fr>\n+\n+\t* ali.ads, ali.adb (First_Sdep_Entry): No longer a constant, so that\n+\tScan_ALI can be used for multiple ALI files without reinitializing\n+\tbetween calls.\n+\n+2004-02-18  Robert Dewar  <dewar@gnat.com>\n+\n+\t* debug.adb: Minor reformatting.\n+\n+2004-02-18  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* decl.c (gnat_to_gnu_entity, case object): Set DECL_POINTER_ALIAS_SET\n+\tto zero if there is an address clause.\n+\n+2004-02-18  Thomas Quinot  <quinot@act-europe.fr>\n+\n+\t* exp_util.adb (Side_Effect_Free): Any literal is side effects free.\n+\n+2004-02-18  Gary Dismukes  <dismukes@gnat.com>\n+\n+\t* layout.adb (Layout_Component_List): Revise generation of call to\n+\tdiscriminant-checking function to pass selections of all of the type's\n+\tdiscriminants rather than just the variant-controlling discriminant.\n+\n+2004-02-18  Olivier Hainque  <hainque@act-europe.fr>\n+\n+\t* 5gmastop.adb (Pop_Frame): Do not call exc_unwind, which is bound to\n+\tfail in the current setup and triggers spurious system error messages.\n+\tPretend it occurred and failed instead.\n+\n+2004-02-18  Vincent Celier  <celier@gnat.com>\n+\n+\t* bld.adb: Mark FLDFLAGS as saved\n+\t(Process_Declarative_Items): Add Linker'Linker_Options to FLDFLAGS when\n+\tit is not the root project.  Put each directory to be\n+\textended between double quotes to prevent it to be expanded on Windows.\n+\t(Recursive_Process): Reset CFLAGS/CXXFLAGS to nothing before processing\n+\tthe project file. Set them back to their initial values if they have not\n+\tbeen set in the project file.\n+\n+\t* gprcmd.adb: (Gprdebug, Debug): New global variables\n+\t(Display_Command): New procedure\n+\t(Usage): Document new command \"linkopts\"\n+\tCall Display_Command when env var GPRDEBUG has the value \"TRUE\"\n+\tImplement new command \"linkopts\"\n+\tRemove quotes that may be around arguments for \"extend\"\n+\tAlways call Normalize_Pathname with arguments formatted for the platform\n+\n+\t* Makefile.generic: Link C/C++ mains with $(FLDFLAGS)\n+\tChange @echo to @$(display) in target clean to be able to clean silently\n+\n+\t* Makefile.prolog: Save FLDFLAGS and give it an initial empty value\n+\n+\t* prj-part.adb (Project_Path_Name_Of): Do not put final result in\n+\tcanonical case.\n+\n+\t* prj-part.adb (Parse_Single_Project): Always call with From_Extended\n+\t= Extending_All when current project is an extending all project.\n+\n+\t* vms_conv.adb (Output_File_Expected): New Boolean global variable,\n+\tset to True only for LINK command, after Unix switch -o.\n+\t(Process_Arguments): Set Output_File_Expected to True for LINK command\n+\tafter Unix switch -o. When Output_File_Expected is True, never add an\n+\textension to a file name.\n+\n+\t* 5vml-tgt.adb (Build_Dynamic_Library): Do not append \"/OPTIONS\" to the\n+\toption file name, only to the --for-linker= switch.\n+\t(Option_File_Name): If option file name do not end with \".opt\", append\n+\t\"/OPTIONS\".\n+\n+2004-02-18  GNAT Script  <nobody@gnat.com>\n+\n+\t* Make-lang.in: Makefile automatically updated\n+\n 2004-02-17  Matt Kraai  <kraai@alumni.cmu.edu>\n \n \t* Make-lang.in (stamp-sdefault): Do not depend on"}, {"sha": "188bd5a003b8d2256e7e1db2844d6ddf49efafa3", "filename": "gcc/ada/Make-lang.in", "status": "modified", "additions": 150, "deletions": 149, "changes": 299, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-lang.in?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -1369,8 +1369,8 @@ ada/bindgen.o : ada/ada.ads ada/a-except.ads ada/ali.ads ada/alloc.ads \\\n    ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-strops.ads \\\n    ada/s-sopco3.ads ada/s-sopco4.ads ada/s-sopco5.ads ada/s-traent.ads \\\n    ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n-   ada/targparm.ads ada/tree_io.ads ada/types.ads ada/uintp.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads \n+   ada/targparm.ads ada/tree_io.ads ada/types.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads \n \n ada/bindusg.o : ada/bindusg.ads ada/bindusg.adb ada/gnat.ads \\\n    ada/g-os_lib.ads ada/g-string.ads ada/osint.ads ada/output.ads \\\n@@ -1406,19 +1406,19 @@ ada/checks.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/lib.ads ada/lib.adb ada/lib-list.adb ada/lib-load.ads \\\n    ada/lib-sort.adb ada/namet.ads ada/nlists.ads ada/nlists.adb \\\n    ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n-   ada/rident.ads ada/rtsfind.ads ada/rtsfind.adb ada/sem.ads \\\n-   ada/sem_cat.ads ada/sem_ch7.ads ada/sem_ch8.ads ada/sem_eval.ads \\\n-   ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n-   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n-   ada/stringt.adb ada/system.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n+   ada/restrict.adb ada/rident.ads ada/rtsfind.ads ada/rtsfind.adb \\\n+   ada/sem.ads ada/sem_cat.ads ada/sem_ch7.ads ada/sem_ch8.ads \\\n+   ada/sem_eval.ads ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads \\\n+   ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n+   ada/sinput.ads ada/snames.ads ada/sprint.ads ada/stand.ads \\\n+   ada/stringt.ads ada/stringt.adb ada/system.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n \n ada/comperr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/comperr.ads ada/comperr.adb \\\n@@ -1565,24 +1565,25 @@ ada/exp_aggr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/exp_aggr.ads ada/exp_aggr.adb ada/exp_ch11.ads ada/exp_ch2.ads \\\n    ada/exp_ch3.ads ada/exp_ch7.ads ada/exp_ch9.ads ada/exp_tss.ads \\\n    ada/exp_util.ads ada/exp_util.adb ada/expander.ads ada/fname.ads \\\n-   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads \\\n-   ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads \\\n-   ada/hostparm.ads ada/inline.ads ada/itypes.ads ada/lib.ads ada/lib.adb \\\n-   ada/lib-list.adb ada/lib-sort.adb ada/namet.ads ada/nlists.ads \\\n-   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads \\\n-   ada/restrict.ads ada/rident.ads ada/rtsfind.ads ada/sem.ads \\\n-   ada/sem_cat.ads ada/sem_ch3.ads ada/sem_ch8.ads ada/sem_eval.ads \\\n-   ada/sem_eval.adb ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n-   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n-   ada/stringt.adb ada/system.ads ada/s-exctab.ads ada/s-exctab.adb \\\n-   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n-   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n-   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \n+   ada/fname-uf.ads ada/freeze.ads ada/get_targ.ads ada/gnat.ads \\\n+   ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads \\\n+   ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads ada/itypes.ads \\\n+   ada/lib.ads ada/lib.adb ada/lib-list.adb ada/lib-sort.adb ada/namet.ads \\\n+   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n+   ada/output.ads ada/restrict.ads ada/restrict.adb ada/rident.ads \\\n+   ada/rtsfind.ads ada/sem.ads ada/sem_cat.ads ada/sem_ch3.ads \\\n+   ada/sem_ch8.ads ada/sem_eval.ads ada/sem_eval.adb ada/sem_res.ads \\\n+   ada/sem_type.ads ada/sem_util.ads ada/sem_warn.ads ada/sinfo.ads \\\n+   ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/sprint.ads \\\n+   ada/stand.ads ada/stringt.ads ada/stringt.adb ada/system.ads \\\n+   ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads ada/s-imgenu.ads \\\n+   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n+   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n+   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n+   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n+   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n+   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n+   ada/urealp.ads ada/validsw.ads \n \n ada/exp_attr.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n@@ -1779,36 +1780,35 @@ ada/exp_ch5.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n \n ada/exp_ch6.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n-   ada/csets.ads ada/debug.ads ada/debug_a.ads ada/einfo.ads ada/einfo.adb \\\n-   ada/elists.ads ada/elists.adb ada/err_vars.ads ada/errout.ads \\\n-   ada/erroutc.ads ada/exp_ch11.ads ada/exp_ch2.ads ada/exp_ch3.ads \\\n-   ada/exp_ch6.ads ada/exp_ch6.adb ada/exp_ch7.ads ada/exp_ch9.ads \\\n-   ada/exp_dbug.ads ada/exp_disp.ads ada/exp_dist.ads ada/exp_intr.ads \\\n-   ada/exp_pakd.ads ada/exp_tss.ads ada/exp_util.ads ada/exp_util.adb \\\n-   ada/expander.ads ada/fname.ads ada/freeze.ads ada/get_targ.ads \\\n-   ada/gnat.ads ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads \\\n-   ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads \\\n-   ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib.adb \\\n-   ada/lib-list.adb ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads \\\n-   ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb \\\n-   ada/opt.ads ada/output.ads ada/restrict.ads ada/rident.ads \\\n+   ada/csets.ads ada/debug.ads ada/einfo.ads ada/einfo.adb ada/elists.ads \\\n+   ada/elists.adb ada/err_vars.ads ada/errout.ads ada/erroutc.ads \\\n+   ada/exp_ch11.ads ada/exp_ch2.ads ada/exp_ch3.ads ada/exp_ch6.ads \\\n+   ada/exp_ch6.adb ada/exp_ch7.ads ada/exp_ch9.ads ada/exp_dbug.ads \\\n+   ada/exp_disp.ads ada/exp_dist.ads ada/exp_intr.ads ada/exp_pakd.ads \\\n+   ada/exp_tss.ads ada/exp_util.ads ada/exp_util.adb ada/fname.ads \\\n+   ada/fname-uf.ads ada/freeze.ads ada/get_targ.ads ada/gnat.ads \\\n+   ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads \\\n+   ada/gnatvsn.ads ada/hostparm.ads ada/inline.ads ada/interfac.ads \\\n+   ada/itypes.ads ada/lib.ads ada/lib.adb ada/lib-list.adb \\\n+   ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads ada/namet.adb \\\n+   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n+   ada/output.ads ada/restrict.ads ada/restrict.adb ada/rident.ads \\\n    ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb \\\n-   ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads \\\n-   ada/sem_ch12.ads ada/sem_ch13.ads ada/sem_ch4.ads ada/sem_ch6.ads \\\n-   ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads \\\n-   ada/sem_eval.ads ada/sem_intr.ads ada/sem_res.ads ada/sem_res.adb \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads \\\n-   ada/sinfo.ads ada/sinfo.adb ada/sinput.ads ada/snames.ads \\\n-   ada/sprint.ads ada/stand.ads ada/stringt.ads ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n-   ada/system.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n-   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n-   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n-   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n-   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n-   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n-   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n-   ada/unchdeal.ads ada/urealp.ads ada/validsw.ads ada/widechar.ads \n+   ada/sem.ads ada/sem_ch12.ads ada/sem_ch13.ads ada/sem_ch6.ads \\\n+   ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads ada/sem_eval.ads \\\n+   ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb \\\n+   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n+   ada/snames.ads ada/sprint.ads ada/stand.ads ada/stringt.ads \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/styleg-c.ads \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/validsw.ads \\\n+   ada/widechar.ads \n \n ada/exp_ch7.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/debug.ads ada/einfo.ads \\\n@@ -2333,12 +2333,12 @@ ada/gnatbind.o : ada/ada.ads ada/a-except.ads ada/ali.ads ada/ali-util.ads \\\n    ada/gnatvsn.ads ada/hostparm.ads ada/namet.ads ada/opt.ads \\\n    ada/osint.ads ada/osint-b.ads ada/output.ads ada/rident.ads \\\n    ada/switch.ads ada/switch-b.ads ada/system.ads ada/s-casuti.ads \\\n-   ada/s-exctab.ads ada/s-htable.ads ada/s-memory.ads ada/s-rident.ads \\\n-   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n-   ada/s-stoele.ads ada/s-stoele.adb ada/s-strops.ads ada/s-sopco3.ads \\\n-   ada/s-sopco4.ads ada/s-sopco5.ads ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tree_io.ads ada/types.ads ada/uintp.ads ada/unchconv.ads \\\n+   ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads \\\n+   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n+   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-strops.ads \\\n+   ada/s-sopco3.ads ada/s-sopco4.ads ada/s-sopco5.ads ada/s-traent.ads \\\n+   ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n+   ada/targparm.ads ada/tree_io.ads ada/types.ads ada/unchconv.ads \\\n    ada/unchdeal.ads \n \n ada/gnatvsn.o : ada/gnatvsn.ads ada/gnatvsn.adb ada/system.ads \\\n@@ -3345,28 +3345,28 @@ ada/sem_elab.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/csets.ads ada/debug.ads \\\n    ada/einfo.ads ada/einfo.adb ada/elists.ads ada/elists.adb \\\n    ada/err_vars.ads ada/errout.ads ada/erroutc.ads ada/exp_tss.ads \\\n-   ada/exp_util.ads ada/expander.ads ada/fname.ads ada/freeze.ads \\\n-   ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads ada/g-htable.ads \\\n-   ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads \\\n-   ada/interfac.ads ada/lib.ads ada/lib.adb ada/lib-list.adb \\\n-   ada/lib-load.ads ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads \\\n-   ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb \\\n-   ada/opt.ads ada/output.ads ada/restrict.ads ada/rident.ads \\\n-   ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb \\\n-   ada/sem.ads ada/sem_cat.ads ada/sem_ch7.ads ada/sem_ch8.ads \\\n-   ada/sem_elab.ads ada/sem_elab.adb ada/sem_eval.ads ada/sem_res.ads \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sinfo.ads \\\n-   ada/sinfo.adb ada/sinput.ads ada/sinput.adb ada/snames.ads \\\n-   ada/stand.ads ada/stringt.ads ada/style.ads ada/styleg.ads \\\n-   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n-   ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n-   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/tbuild.ads ada/tbuild.adb \\\n-   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/uintp.ads \\\n-   ada/uintp.adb ada/uname.ads ada/unchconv.ads ada/unchdeal.ads \\\n-   ada/urealp.ads ada/widechar.ads \n+   ada/exp_util.ads ada/expander.ads ada/fname.ads ada/fname-uf.ads \\\n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads \\\n+   ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads \\\n+   ada/hostparm.ads ada/interfac.ads ada/lib.ads ada/lib.adb \\\n+   ada/lib-list.adb ada/lib-load.ads ada/lib-sort.adb ada/lib-xref.ads \\\n+   ada/namet.ads ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads \\\n+   ada/nmake.adb ada/opt.ads ada/output.ads ada/restrict.ads \\\n+   ada/restrict.adb ada/rident.ads ada/rtsfind.ads ada/scans.ads \\\n+   ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads ada/sem_cat.ads \\\n+   ada/sem_ch7.ads ada/sem_ch8.ads ada/sem_elab.ads ada/sem_elab.adb \\\n+   ada/sem_eval.ads ada/sem_res.ads ada/sem_type.ads ada/sem_util.ads \\\n+   ada/sem_util.adb ada/sinfo.ads ada/sinfo.adb ada/sinput.ads \\\n+   ada/sinput.adb ada/snames.ads ada/stand.ads ada/stringt.ads \\\n+   ada/style.ads ada/styleg.ads ada/styleg.adb ada/styleg-c.ads \\\n+   ada/stylesw.ads ada/system.ads ada/s-crc32.ads ada/s-exctab.ads \\\n+   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n+   ada/types.ads ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/widechar.ads \n \n ada/sem_elim.o : ada/ada.ads ada/a-except.ads ada/a-uncdea.ads \\\n    ada/alloc.ads ada/atree.ads ada/atree.adb ada/casing.ads ada/debug.ads \\\n@@ -3464,63 +3464,65 @@ ada/sem_prag.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/elists.ads ada/elists.adb ada/err_vars.ads ada/errout.ads \\\n    ada/erroutc.ads ada/eval_fat.ads ada/exp_ch7.ads ada/exp_dist.ads \\\n    ada/exp_tss.ads ada/exp_util.ads ada/expander.ads ada/fname.ads \\\n-   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads \\\n-   ada/g-htable.ads ada/g-os_lib.ads ada/g-speche.ads ada/g-string.ads \\\n-   ada/gnatvsn.ads ada/hostparm.ads ada/interfac.ads ada/itypes.ads \\\n-   ada/lib.ads ada/lib.adb ada/lib-list.adb ada/lib-sort.adb \\\n-   ada/lib-writ.ads ada/lib-xref.ads ada/namet.ads ada/namet.adb \\\n-   ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads \\\n-   ada/output.ads ada/restrict.ads ada/rident.ads ada/rtsfind.ads \\\n-   ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads \\\n-   ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads ada/sem_ch13.ads \\\n-   ada/sem_ch3.ads ada/sem_ch4.ads ada/sem_ch6.ads ada/sem_ch8.ads \\\n-   ada/sem_disp.ads ada/sem_dist.ads ada/sem_elab.ads ada/sem_elim.ads \\\n-   ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads ada/sem_mech.ads \\\n-   ada/sem_prag.ads ada/sem_prag.adb ada/sem_res.ads ada/sem_res.adb \\\n-   ada/sem_type.ads ada/sem_util.ads ada/sem_util.adb ada/sem_vfpt.ads \\\n-   ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb ada/sinfo-cn.ads \\\n-   ada/sinput.ads ada/sinput.adb ada/snames.ads ada/snames.adb \\\n-   ada/stand.ads ada/stringt.ads ada/stringt.adb ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n-   ada/system.ads ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-exctab.adb ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads \\\n-   ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads \\\n-   ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads \\\n-   ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads ada/table.adb \\\n-   ada/targparm.ads ada/tbuild.ads ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/types.adb ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n-   ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n-   ada/validsw.ads ada/widechar.ads \n+   ada/fname-uf.ads ada/freeze.ads ada/get_targ.ads ada/gnat.ads \\\n+   ada/g-hesora.ads ada/g-htable.ads ada/g-os_lib.ads ada/g-speche.ads \\\n+   ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads ada/interfac.ads \\\n+   ada/itypes.ads ada/lib.ads ada/lib.adb ada/lib-list.adb \\\n+   ada/lib-sort.adb ada/lib-writ.ads ada/lib-xref.ads ada/namet.ads \\\n+   ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb \\\n+   ada/opt.ads ada/output.ads ada/restrict.ads ada/restrict.adb \\\n+   ada/rident.ads ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads \\\n+   ada/scng.adb ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads \\\n+   ada/sem_cat.ads ada/sem_ch13.ads ada/sem_ch3.ads ada/sem_ch4.ads \\\n+   ada/sem_ch6.ads ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n+   ada/sem_elab.ads ada/sem_elim.ads ada/sem_eval.ads ada/sem_eval.adb \\\n+   ada/sem_intr.ads ada/sem_mech.ads ada/sem_prag.ads ada/sem_prag.adb \\\n+   ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads \\\n+   ada/sem_util.adb ada/sem_vfpt.ads ada/sem_warn.ads ada/sinfo.ads \\\n+   ada/sinfo.adb ada/sinfo-cn.ads ada/sinput.ads ada/sinput.adb \\\n+   ada/snames.ads ada/snames.adb ada/stand.ads ada/stringt.ads \\\n+   ada/stringt.adb ada/style.ads ada/styleg.ads ada/styleg.adb \\\n+   ada/styleg-c.ads ada/stylesw.ads ada/system.ads ada/s-carun8.ads \\\n+   ada/s-crc32.ads ada/s-exctab.ads ada/s-exctab.adb ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tree_io.ads ada/ttypes.ads ada/types.ads ada/types.adb \\\n+   ada/uintp.ads ada/uintp.adb ada/uname.ads ada/unchconv.ads \\\n+   ada/unchdeal.ads ada/urealp.ads ada/urealp.adb ada/validsw.ads \\\n+   ada/widechar.ads \n \n ada/sem_res.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\\n    ada/atree.adb ada/casing.ads ada/checks.ads ada/checks.adb \\\n    ada/csets.ads ada/debug.ads ada/debug_a.ads ada/debug_a.adb \\\n    ada/einfo.ads ada/einfo.adb ada/elists.ads ada/err_vars.ads \\\n    ada/errout.ads ada/erroutc.ads ada/eval_fat.ads ada/exp_ch11.ads \\\n    ada/exp_ch2.ads ada/exp_ch7.ads ada/exp_tss.ads ada/exp_util.ads \\\n-   ada/exp_util.adb ada/expander.ads ada/fname.ads ada/freeze.ads \\\n-   ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads ada/g-htable.ads \\\n-   ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads \\\n-   ada/inline.ads ada/interfac.ads ada/itypes.ads ada/lib.ads ada/lib.adb \\\n-   ada/lib-list.adb ada/lib-sort.adb ada/lib-xref.ads ada/namet.ads \\\n-   ada/namet.adb ada/nlists.ads ada/nlists.adb ada/nmake.ads ada/nmake.adb \\\n-   ada/opt.ads ada/output.ads ada/restrict.ads ada/rident.ads \\\n-   ada/rtsfind.ads ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb \\\n-   ada/sem.ads ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads \\\n-   ada/sem_ch4.ads ada/sem_ch6.ads ada/sem_ch8.ads ada/sem_disp.ads \\\n-   ada/sem_dist.ads ada/sem_elab.ads ada/sem_eval.ads ada/sem_eval.adb \\\n-   ada/sem_intr.ads ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads \\\n-   ada/sem_util.ads ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads \\\n-   ada/sinfo.adb ada/sinput.ads ada/snames.ads ada/sprint.ads \\\n-   ada/stand.ads ada/stringt.ads ada/stringt.adb ada/style.ads \\\n-   ada/styleg.ads ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads \\\n-   ada/system.ads ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads \\\n-   ada/s-htable.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n-   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n-   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n-   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n-   ada/tbuild.ads ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads \\\n-   ada/types.ads ada/types.adb ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n+   ada/exp_util.adb ada/expander.ads ada/fname.ads ada/fname-uf.ads \\\n+   ada/freeze.ads ada/get_targ.ads ada/gnat.ads ada/g-hesora.ads \\\n+   ada/g-htable.ads ada/g-os_lib.ads ada/g-string.ads ada/gnatvsn.ads \\\n+   ada/hostparm.ads ada/inline.ads ada/interfac.ads ada/itypes.ads \\\n+   ada/lib.ads ada/lib.adb ada/lib-list.adb ada/lib-sort.adb \\\n+   ada/lib-xref.ads ada/namet.ads ada/namet.adb ada/nlists.ads \\\n+   ada/nlists.adb ada/nmake.ads ada/nmake.adb ada/opt.ads ada/output.ads \\\n+   ada/restrict.ads ada/restrict.adb ada/rident.ads ada/rtsfind.ads \\\n+   ada/scans.ads ada/scn.ads ada/scng.ads ada/scng.adb ada/sem.ads \\\n+   ada/sem_aggr.ads ada/sem_attr.ads ada/sem_cat.ads ada/sem_ch4.ads \\\n+   ada/sem_ch6.ads ada/sem_ch8.ads ada/sem_disp.ads ada/sem_dist.ads \\\n+   ada/sem_elab.ads ada/sem_eval.ads ada/sem_eval.adb ada/sem_intr.ads \\\n+   ada/sem_res.ads ada/sem_res.adb ada/sem_type.ads ada/sem_util.ads \\\n+   ada/sem_util.adb ada/sem_warn.ads ada/sinfo.ads ada/sinfo.adb \\\n+   ada/sinput.ads ada/snames.ads ada/sprint.ads ada/stand.ads \\\n+   ada/stringt.ads ada/stringt.adb ada/style.ads ada/styleg.ads \\\n+   ada/styleg.adb ada/styleg-c.ads ada/stylesw.ads ada/system.ads \\\n+   ada/s-carun8.ads ada/s-crc32.ads ada/s-exctab.ads ada/s-htable.ads \\\n+   ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads \\\n+   ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads \\\n+   ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads \\\n+   ada/table.ads ada/table.adb ada/targparm.ads ada/tbuild.ads \\\n+   ada/tbuild.adb ada/tree_io.ads ada/ttypes.ads ada/types.ads \\\n+   ada/types.adb ada/uintp.ads ada/uintp.adb ada/uname.ads \\\n    ada/unchconv.ads ada/unchdeal.ads ada/urealp.ads ada/urealp.adb \\\n    ada/validsw.ads ada/widechar.ads \n \n@@ -3809,15 +3811,14 @@ ada/table.o : ada/debug.ads ada/gnat.ads ada/g-os_lib.ads ada/g-string.ads \\\n    ada/tree_io.ads ada/types.ads ada/unchconv.ads ada/unchdeal.ads \n \n ada/targparm.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/csets.ads \\\n-   ada/debug.ads ada/gnat.ads ada/g-htable.ads ada/g-os_lib.ads \\\n-   ada/g-string.ads ada/gnatvsn.ads ada/hostparm.ads ada/namet.ads \\\n-   ada/namet.adb ada/opt.ads ada/osint.ads ada/output.ads ada/rident.ads \\\n-   ada/system.ads ada/s-exctab.ads ada/s-htable.ads ada/s-imgenu.ads \\\n-   ada/s-memory.ads ada/s-rident.ads ada/s-secsta.ads ada/s-soflin.ads \\\n-   ada/s-stache.ads ada/s-stalib.ads ada/s-stoele.ads ada/s-stoele.adb \\\n-   ada/s-traent.ads ada/s-unstyp.ads ada/s-wchcon.ads ada/table.ads \\\n-   ada/table.adb ada/targparm.ads ada/targparm.adb ada/tree_io.ads \\\n-   ada/types.ads ada/uintp.ads ada/uintp.adb ada/unchconv.ads \\\n+   ada/debug.ads ada/gnat.ads ada/g-os_lib.ads ada/g-string.ads \\\n+   ada/gnatvsn.ads ada/hostparm.ads ada/namet.ads ada/namet.adb \\\n+   ada/opt.ads ada/osint.ads ada/output.ads ada/rident.ads ada/system.ads \\\n+   ada/s-exctab.ads ada/s-imgenu.ads ada/s-memory.ads ada/s-rident.ads \\\n+   ada/s-secsta.ads ada/s-soflin.ads ada/s-stache.ads ada/s-stalib.ads \\\n+   ada/s-stoele.ads ada/s-stoele.adb ada/s-traent.ads ada/s-unstyp.ads \\\n+   ada/s-wchcon.ads ada/table.ads ada/table.adb ada/targparm.ads \\\n+   ada/targparm.adb ada/tree_io.ads ada/types.ads ada/unchconv.ads \\\n    ada/unchdeal.ads ada/widechar.ads \n \n ada/tbuild.o : ada/ada.ads ada/a-except.ads ada/alloc.ads ada/atree.ads \\"}, {"sha": "60f5bd5fd5a70b24c36d3ec43b1ec05f338d724a", "filename": "gcc/ada/Makefile.generic", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMakefile.generic", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMakefile.generic", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.generic?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -349,8 +349,8 @@ else\n \n link: $(EXEC_DIR)/$(EXEC) archive-objects\n $(EXEC_DIR)/$(EXEC): $(OBJ_FILES)\n-\t@$(display) $(LINKER) -o $(EXEC_DIR)/$(EXEC) $(OBJ_DIR)/$(MAIN_OBJECT) $(LDFLAGS)\n-\t$(LINKER) -o $(EXEC_DIR)/$(EXEC) $(OBJ_DIR)/$(MAIN_OBJECT) $(LDFLAGS)\n+\t@$(display) $(LINKER) -o $(EXEC_DIR)/$(EXEC) $(OBJ_DIR)/$(MAIN_OBJECT) $(LDFLAGS) $(FLDFLAGS)\n+\t@$(LINKER) -o $(EXEC_DIR)/$(EXEC) $(OBJ_DIR)/$(MAIN_OBJECT) $(LDFLAGS) $(FLDFLAGS)\n endif\n endif\n \n@@ -363,7 +363,7 @@ ifeq ($(strip $(filter-out c c++ ada,$(LANGUAGES))),)\n ifeq ($(MAIN),ada)\n # Ada main\n link: $(LINKER) archive-objects force\n-\t@(display) $(GNATMAKE) -b -l -P$(PROJECT_FILE) $(ADA_SOURCES)\n+\t@$(display) $(GNATMAKE) -b -l -P$(PROJECT_FILE) $(ADA_SOURCES)\n \t@$(GNATMAKE) -b -l -P$(PROJECT_FILE) $(ADA_SOURCES) \\\n \t\t -largs $(LARGS) $(LDFLAGS)\n \n@@ -376,15 +376,15 @@ else\n # C/C++ main\n \n link: $(LINKER) archive-objects force\n-\t@(display) $(GNATMAKE) $(EXEC_RULE) -B -P$(PROJECT_FILE) $(ADA_SOURCES)\n+\t@$(display) $(GNATMAKE) $(EXEC_RULE) -B -P$(PROJECT_FILE) $(ADA_SOURCES)\n \t@$(GNATMAKE) $(EXEC_RULE) -B -P$(PROJECT_FILE) $(ADA_SOURCES) \\\n-\t\t -largs $(MAIN_OBJECT) $(LARGS) $(LDFLAGS)\n+\t\t -largs $(MAIN_OBJECT) $(LARGS) $(LDFLAGS) $(FLDFLAGS)\n \n internal-build: $(LINKER) archive-objects force\n \t@$(display) $(GNATMAKE) -B -P$(PROJECT_FILE) $(ADA_SOURCES) $(EXEC_RULE) $(ADAFLAGS)\n \t@$(GNATMAKE) $(EXEC_RULE) \\\n \t\t -B -P$(PROJECT_FILE) $(ADA_SOURCES) $(ADAFLAGS) \\\n-\t\t -largs $(MAIN_OBJECT) $(LARGS) $(LDFLAGS)\n+\t\t -largs $(MAIN_OBJECT) $(LARGS) $(LDFLAGS) $(FLDFLAGS)\n endif\n \n else\n@@ -483,20 +483,20 @@ internal-c++ : $(CXX_OBJECTS)\n .PHONY: force internal-clean internal-archive internal-build internal-compile internal-ada internal-c internal-c++ build compile clean ada c c++\n \n internal-clean:\n-\t@echo $(RM) $(OBJ_DIR)/*$(OBJ_EXT)\n+\t@$(display) $(RM) $(OBJ_DIR)/*$(OBJ_EXT)\n \t@$(RM) $(OBJ_DIR)/*$(OBJ_EXT)\n-\t@echo $(RM) $(OBJ_DIR)/*.ali\n+\t@$(display) $(RM) $(OBJ_DIR)/*.ali\n \t@$(RM) $(OBJ_DIR)/*.ali\n-\t@echo $(RM) $(OBJ_DIR)/b~*\n+\t@$(display) $(RM) $(OBJ_DIR)/b~*\n \t@$(RM) $(OBJ_DIR)/b~*\n-\t@echo $(RM) $(OBJ_DIR)/b_*\n+\t@$(display) $(RM) $(OBJ_DIR)/b_*\n \t@$(RM) $(OBJ_DIR)/b_*\n-\t@echo $(RM) $(OBJ_DIR)/*$(AR_EXT)\n+\t@$(display) $(RM) $(OBJ_DIR)/*$(AR_EXT)\n \t@$(RM) $(OBJ_DIR)/*$(AR_EXT)\n-\t@echo $(RM) $(OBJ_DIR)/*.d\n+\t@$(display) $(RM) $(OBJ_DIR)/*.d\n \t@$(RM) $(OBJ_DIR)/*.d\n ifneq ($(EXEC),)\n-\t@echo $(RM) $(EXEC_DIR)/$(EXEC)\n+\t@$(display) $(RM) $(EXEC_DIR)/$(EXEC)\n \t@$(RM) $(EXEC_DIR)/$(EXEC)\n endif\n "}, {"sha": "83da2cd614e2c45fd282ae9e2aa695ab77a5550d", "filename": "gcc/ada/Makefile.prolog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMakefile.prolog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2FMakefile.prolog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.prolog?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -40,6 +40,7 @@ GNATMAKE.saved:=$(GNATMAKE)\n ADAFLAGS.saved:=$(ADAFLAGS)\n CFLAGS.saved:=$(CFLAGS)\n CXXFLAGS.saved:=$(CXXFLAGS)\n+FLDFLAGS.saved:=$(FLDFLAGS)\n LIBS.saved:=$(LIBS)\n LDFLAGS.saved:=$(LDFLAGS)\n ADA_SOURCES.saved:=$(ADA_SOURCES)\n@@ -57,6 +58,7 @@ CXX_EXT:=.cc\n AR_EXT=.a\n OBJ_EXT=.o\n CC=gcc\n+FLDFLAGS:=\n \n # Default target is to build (compile/bind/link)\n # Target build is defined in Makefile.generic"}, {"sha": "2e76ee138259038b6763c1878d62a1b4296eb708", "filename": "gcc/ada/ali.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fali.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fali.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -601,6 +601,8 @@ package body ALI is\n    --  Start of processing for Scan_ALI\n \n    begin\n+      First_Sdep_Entry := Sdep.Last + 1;\n+\n       --  Acquire lines to be ignored\n \n       if Read_Xref then"}, {"sha": "d04346de7663d032000b4a6e07b41a08bb24eb56", "filename": "gcc/ada/ali.ads", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fali.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fali.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali.ads?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -593,8 +593,10 @@ package ALI is\n    No_Sdep_Id : constant Sdep_Id := Sdep_Id'First;\n    --  Special value indicating no Sdep table entry\n \n-   First_Sdep_Entry : constant Sdep_Id := No_Sdep_Id + 1;\n-   --  Id of first actual entry in table\n+   First_Sdep_Entry : Sdep_Id := No_Sdep_Id + 1;\n+   --  Id of first Sdep entry for current ali file. This is initialized to\n+   --  the first Sdep entry in the table, and then incremented appropriately\n+   --  as successive ALI files are scanned.\n \n    type Sdep_Record is record\n "}, {"sha": "fef76a02371a4aa2966f70a2ab72f08e13090e2b", "filename": "gcc/ada/bld.adb", "status": "modified", "additions": 59, "deletions": 2, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fbld.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fbld.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbld.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -222,6 +222,7 @@ package body Bld is\n    Deps_Projects_String : aliased String := \"DEPS_PROJECT\";\n    Exec_String          : aliased String := \"EXEC\";\n    Exec_Dir_String      : aliased String := \"EXEC_DIR\";\n+   Fldflags_String      : aliased String := \"FLDFLAGS\";\n    Gnatmake_String      : aliased String := \"GNATMAKE\";\n    Languages_String     : aliased String := \"LANGUAGES\";\n    Ld_Flags_String      : aliased String := \"LD_FLAGS\";\n@@ -251,6 +252,7 @@ package body Bld is\n       Deps_Projects_String'Access,\n       Exec_String         'Access,\n       Exec_Dir_String     'Access,\n+      Fldflags_String     'Access,\n       Gnatmake_String     'Access,\n       Languages_String    'Access,\n       Ld_Flags_String     'Access,\n@@ -1426,7 +1428,8 @@ package body Bld is\n                     (Pkg = No_Name\n                        or else Pkg = Snames.Name_Naming\n                        or else Pkg = Snames.Name_Compiler\n-                       or else Pkg = Name_Ide);\n+                       or else Pkg = Name_Ide\n+                       or else Pkg = Snames.Name_Linker);\n \n                   if Put_Declaration then\n                      --  Some attributes are converted into reserved variables\n@@ -1508,7 +1511,7 @@ package body Bld is\n                            Put_Attribute (Project, Pkg, Item_Name, No_Name);\n                            Put (\"),$(shell gprcmd extend $(\");\n                            Put (Project_Name);\n-                           Put_Line (\".base_dir) '$(name)'))\");\n+                           Put_Line (\".base_dir) '\"\"$(name)\"\"'))\");\n \n                         elsif Item_Name = Snames.Name_Source_Files then\n \n@@ -1959,6 +1962,38 @@ package body Bld is\n                                  end if;\n                               end if;\n                            end;\n+\n+                        else\n+                           --  Other attribute are of no interest; suppress\n+                           --  their declarations.\n+\n+                           Put_Declaration := False;\n+                        end if;\n+\n+                     elsif Pkg = Snames.Name_Linker then\n+                        if Item_Name = Snames.Name_Linker_Options then\n+                           --  Only add linker options if this is not the root\n+                           --  project.\n+\n+                           Put (\"ifeq ($(\");\n+                           Put (Project_Name);\n+                           Put (\".root),False)\");\n+                           New_Line;\n+\n+                           --  Add the linker options to FLDFLAGS, in reverse\n+                           --  order.\n+\n+                           Put (\"   FLDFLAGS:=$(shell gprcmd linkopts $(\");\n+                           Put (Project_Name);\n+                           Put (\".base_dir) $(\");\n+                           Put_Attribute\n+                             (Project, Pkg, Item_Name, No_Name);\n+                           Put (\")) $(FLDFLAGS)\");\n+                           New_Line;\n+\n+                           Put (\"endif\");\n+                           New_Line;\n+\n                         else\n                            --  Other attribute are of no interest; suppress\n                            --  their declarations.\n@@ -2686,6 +2721,15 @@ package body Bld is\n \n                --  Set defaults to some variables\n \n+               --  CFLAGS and CXXFLAGS are set by default to nothing.\n+               --  Their initial values have been saved, If they are not set\n+               --  by this project file, then they will be reset to their\n+               --  initial values. This is to avoid \"inheritance\" of these\n+               --  flags from an imported project file.\n+\n+               Put_Line (\"CFLAGS:=\");\n+               Put_Line (\"CXXFLAGS:=\");\n+\n                IO.Mark (Src_Files_Init);\n                Put_Line (\"src_files.specified:=FALSE\");\n \n@@ -3345,6 +3389,19 @@ package body Bld is\n                   end if;\n                end;\n \n+               --  If CFLAGS/CXXFLAGS have not been set, set them back to\n+               --  their initial values.\n+\n+               Put_Line (\"ifeq ($(CFLAGS),)\");\n+               Put_Line (\"   CFLAGS:=$(CFLAGS.saved)\");\n+               Put_Line (\"endif\");\n+               New_Line;\n+\n+               Put_Line (\"ifeq ($(CXXFLAGS),)\");\n+               Put_Line (\"   CXXFLAGS:=$(CXXFLAGS.saved)\");\n+               Put_Line (\"endif\");\n+               New_Line;\n+\n                --  If this is the main Makefile, include Makefile.Generic\n \n                Put (\"ifeq ($(\");"}, {"sha": "436f380ed5c3f2d5ba8ad810c03458085d110734", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -470,7 +470,7 @@ package body Debug is\n    --       testing high integrity mode.\n \n    --  d.x  No exception handlers in generated code. This causes exception\n-   --       handles to be eliminated from the generated code. They are still\n+   --       handlers to be eliminated from the generated code. They are still\n    --       fully compiled and analyzed, they just get eliminated from the\n    --       code generation step.\n "}, {"sha": "ce93a169811c846d1b235db731c4d5fc1dd062ca", "filename": "gcc/ada/decl.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdecl.c?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -1048,6 +1048,14 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \tDECL_BY_REF_P (gnu_decl) = used_by_ref;\n \tDECL_POINTS_TO_READONLY_P (gnu_decl) = used_by_ref && inner_const_flag;\n \n+\t/* If we have an address clause and we've made this indirect, it's\n+\t   not enough to merely mark the type as volatile since volatile\n+\t   references only conflict with other volatile references while this\n+\t   reference must conflict with all other references.  So ensure that\n+\t   the dereferenced value has alias set 0.  */\n+\tif (Present (Address_Clause (gnat_entity)) && used_by_ref)\n+\t  DECL_POINTER_ALIAS_SET (gnu_decl) = 0;\n+\n \tif (definition && DECL_SIZE (gnu_decl) != 0\n \t    && gnu_block_stack != 0\n \t    && TREE_VALUE (gnu_block_stack) != 0"}, {"sha": "d5a7a41cc963e5b7f3220cb3c25d7b23aa4f6fa2", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -3348,6 +3348,15 @@ package body Exp_Util is\n             when N_Unchecked_Expression =>\n                return Side_Effect_Free (Expression (N));\n \n+            --  A literal is side effect free\n+\n+            when N_Character_Literal    |\n+                 N_Integer_Literal      |\n+                 N_Real_Literal         |\n+                 N_String_Literal\n+              =>\n+               return True;\n+\n             --  We consider that anything else has side effects. This is a bit\n             --  crude, but we are pretty close for most common cases, and we\n             --  are certainly correct (i.e. we never return True when the"}, {"sha": "9c4dea3553e4d39ba0bd3d4e258cb131c466aad1", "filename": "gcc/ada/gprcmd.adb", "status": "modified", "additions": 121, "deletions": 12, "changes": 133, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fgprcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fgprcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgprcmd.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -58,6 +58,10 @@ procedure Gprcmd is\n \n    --  ??? comments are thin throughout this unit\n \n+   Gprdebug : constant String  := To_Lower (Getenv (\"GPRDEBUG\").all);\n+   Debug    : constant Boolean := Gprdebug = \"true\";\n+   --  When Debug is True, gprcmd displays its arguments to Standard_Error.\n+   --  This is to help to debug.\n \n    procedure Cat (File : String);\n    --  Print the contents of file on standard output.\n@@ -82,6 +86,9 @@ procedure Gprcmd is\n    procedure Copy_Time_Stamp (From, To : String);\n    --  Copy file time stamp from file From to file To.\n \n+   procedure Display_Command;\n+   --  Display the invoked command to Standard_Error\n+\n    ---------\n    -- Cat --\n    ---------\n@@ -256,6 +263,19 @@ procedure Gprcmd is\n       Free (Buffer);\n    end Deps;\n \n+   ---------------------\n+   -- Display_Command --\n+   ---------------------\n+\n+   procedure Display_Command is\n+   begin\n+      for J in 0 .. Argument_Count loop\n+         Put (Standard_Error, Argument (J) & ' ');\n+      end loop;\n+\n+      New_Line (Standard_Error);\n+   end Display_Command;\n+\n    ------------\n    -- Extend --\n    ------------\n@@ -354,6 +374,8 @@ procedure Gprcmd is\n                                 \"get the prefix of the GNAT installation\");\n       Put_Line (Standard_Error, \"  path        \" &\n                                 \"convert a directory list into a path list\");\n+      Put_Line (Standard_Error, \"  linkopts      \" &\n+                                \"process attribute Linker'Linker_Options\");\n       Put_Line (Standard_Error, \"  ignore      \" &\n                                 \"do nothing\");\n       OS_Exit (1);\n@@ -362,6 +384,10 @@ procedure Gprcmd is\n --  Start of processing for Gprcmd\n \n begin\n+   if Debug then\n+      Display_Command;\n+   end if;\n+\n    Check_Args (Argument_Count > 0);\n \n    declare\n@@ -408,8 +434,11 @@ begin\n                if Is_Absolute_Path (Argument (J)) then\n                   Put (Format_Pathname (Argument (J), UNIX));\n                else\n-                  Put (Format_Pathname (Normalize_Pathname (Argument (J), Dir),\n-                                        UNIX));\n+                  Put (Format_Pathname\n+                         (Normalize_Pathname\n+                            (Format_Pathname (Argument (J)),\n+                             Format_Pathname (Dir)),\n+                          UNIX));\n                end if;\n \n                if J < Argument_Count then\n@@ -426,17 +455,33 @@ begin\n \n          begin\n             for J in 3 .. Argument_Count loop\n-               if Is_Absolute_Path (Argument (J)) then\n-                  Extend (Format_Pathname (Argument (J), UNIX));\n-               else\n-                  Extend\n-                    (Format_Pathname (Normalize_Pathname (Argument (J), Dir),\n-                                      UNIX));\n-               end if;\n \n-               if J < Argument_Count then\n-                  Put (' ');\n-               end if;\n+               --  Remove quotes that may have been added around each argument\n+\n+               declare\n+                  Arg   : constant String := Argument (J);\n+                  First : Natural := Arg'First;\n+                  Last  : Natural := Arg'Last;\n+               begin\n+                  if Arg (First) = '\"' and then Arg (Last) = '\"' then\n+                     First := First + 1;\n+                     Last  := Last - 1;\n+                  end if;\n+                  if Is_Absolute_Path (Arg (First .. Last)) then\n+                     Extend (Format_Pathname (Arg (First .. Last), UNIX));\n+                  else\n+                     Extend\n+                       (Format_Pathname\n+                          (Normalize_Pathname\n+                             (Format_Pathname (Arg (First .. Last)),\n+                              Format_Pathname (Dir)),\n+                           UNIX));\n+                  end if;\n+\n+                  if J < Argument_Count then\n+                     Put (' ');\n+                  end if;\n+               end;\n             end loop;\n          end;\n \n@@ -490,6 +535,70 @@ begin\n             Put (Path_Separator);\n          end loop;\n \n+      --  Check the linker options for relative paths. Insert the project\n+      --  base dir before relative paths.\n+\n+      elsif Cmd = \"linkopts\" then\n+         Check_Args (Argument_Count >= 2);\n+\n+         --  First argument is the base directory of the project file\n+\n+         declare\n+            Base_Dir : constant String := Argument (2) & '/';\n+         begin\n+            --  process the remainder of the arguments\n+\n+            for J in 3 .. Argument_Count loop\n+               declare\n+                  Arg : constant String := Argument (J);\n+               begin\n+                  --  If it is a switch other than a -L switch, just send back\n+                  --  the argument.\n+\n+                  if Arg (Arg'First) = '-' and then\n+                    (Arg'Length <= 2 or else Arg (Arg'First + 1) /= 'L')\n+                  then\n+                     Put (Arg);\n+\n+                  else\n+                     --  If it is a file, check if its path is relative, and\n+                     --  if it is relative, add <project base dir>/ in front.\n+                     --  Otherwise just send back the argument.\n+\n+                     if Arg'Length <= 2\n+                       or else Arg (Arg'First .. Arg'First + 1) /= \"-L\"\n+                     then\n+                        if not Is_Absolute_Path (Arg) then\n+                           Put (Base_Dir);\n+                        end if;\n+\n+                        Put (Arg);\n+\n+                     --  For -L switches, check if the path is relative and\n+                     --  proceed similarly.\n+\n+                     else\n+                        Put (\"-L\");\n+\n+                        if\n+                         not Is_Absolute_Path (Arg (Arg'First + 2 .. Arg'Last))\n+                        then\n+                           Put (Base_Dir);\n+                        end if;\n+\n+                        Put (Arg (Arg'First + 2 .. Arg'Last));\n+                     end if;\n+                  end if;\n+               end;\n+\n+               --  Insert a space between each processed argument\n+\n+               if J /= Argument_Count then\n+                  Put (' ');\n+               end if;\n+            end loop;\n+         end;\n+\n       --  For \"ignore\" do nothing\n \n       elsif Cmd = \"ignore\" then"}, {"sha": "119d184041ca99092d0493c3b7d4c8ed6024eea1", "filename": "gcc/ada/layout.adb", "status": "modified", "additions": 38, "deletions": 17, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Flayout.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Flayout.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flayout.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2001-2003 Free Software Foundation, Inc.          --\n+--          Copyright (C) 2001-2004 Free Software Foundation, Inc.          --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1980,11 +1980,13 @@ package body Layout is\n \n             else\n                declare\n-                  EsizV   : SO_Ref;\n-                  RM_SizV : Node_Id;\n-                  Dchoice : Node_Id;\n-                  Discrim : Node_Id;\n-                  Dtest   : Node_Id;\n+                  EsizV    : SO_Ref;\n+                  RM_SizV  : Node_Id;\n+                  Dchoice  : Node_Id;\n+                  Discrim  : Node_Id;\n+                  Dtest    : Node_Id;\n+                  D_List   : List_Id;\n+                  D_Entity : Entity_Id;\n \n                begin\n                   RM_Siz_Expr := Empty;\n@@ -2052,16 +2054,6 @@ package body Layout is\n                      --  Otherwise construct the appropriate test\n \n                      else\n-                        --  Discriminant to be tested\n-\n-                        Discrim :=\n-                          Make_Selected_Component (Loc,\n-                            Prefix        =>\n-                              Make_Identifier (Loc, Chars => Vname),\n-                            Selector_Name =>\n-                              New_Occurrence_Of\n-                                (Entity (Name (Vpart)), Loc));\n-\n                         --  The test to be used in general is a call to the\n                         --  discriminant checking function. However, it is\n                         --  definitely worth special casing the very common\n@@ -2072,6 +2064,16 @@ package body Layout is\n                         if No (Next (Dchoice))\n                           and then Nkind (Dchoice) /= N_Range\n                         then\n+                           --  Discriminant to be tested\n+\n+                           Discrim :=\n+                             Make_Selected_Component (Loc,\n+                               Prefix        =>\n+                                 Make_Identifier (Loc, Chars => Vname),\n+                               Selector_Name =>\n+                                 New_Occurrence_Of\n+                                   (Entity (Name (Vpart)), Loc));\n+\n                            Dtest :=\n                              Make_Op_Eq (Loc,\n                                Left_Opnd  => Discrim,\n@@ -2083,6 +2085,25 @@ package body Layout is\n                         --  False when the passed discriminant value matches.\n \n                         else\n+                           --  The checking function takes all of the type's\n+                           --  discriminants as parameters, so a list of all\n+                           --  the selected discriminants must be constructed.\n+\n+                           D_List := New_List;\n+                           D_Entity := First_Discriminant (E);\n+                           while Present (D_Entity) loop\n+                              Append (\n+                                Make_Selected_Component (Loc,\n+                                  Prefix        =>\n+                                    Make_Identifier (Loc, Chars => Vname),\n+                                  Selector_Name =>\n+                                    New_Occurrence_Of\n+                                      (D_Entity, Loc)),\n+                                D_List);\n+\n+                              D_Entity := Next_Discriminant (D_Entity);\n+                           end loop;\n+\n                            Dtest :=\n                              Make_Op_Not (Loc,\n                                Right_Opnd =>\n@@ -2091,7 +2112,7 @@ package body Layout is\n                                      New_Occurrence_Of\n                                        (Dcheck_Function (Var), Loc),\n                                    Parameter_Associations =>\n-                                     New_List (Discrim)));\n+                                     D_List));\n                         end if;\n \n                         RM_Siz_Expr :="}, {"sha": "a97f8744363c725d8858e5b2aded136a72bef09a", "filename": "gcc/ada/prj-part.adb", "status": "modified", "additions": 30, "deletions": 23, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fprj-part.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fprj-part.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-part.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -840,6 +840,8 @@ package body Prj.Part is\n       Project_Scan_State  : Saved_Project_Scan_State;\n       Source_Index        : Source_File_Index;\n \n+      Extending : Boolean := False;\n+\n       Extended_Project    : Project_Node_Id := Empty_Node;\n \n       A_Project_Name_And_Node : Tree_Private_Part.Project_Name_And_Node :=\n@@ -1051,6 +1053,27 @@ package body Prj.Part is\n          Scan;\n       end loop;\n \n+      --  See if this is an extending project\n+\n+      if Token = Tok_Extends then\n+\n+         --  Make sure that gnatmake will use mapping files\n+\n+         Create_Mapping_File := True;\n+\n+         --  We are extending another project\n+\n+         Extending := True;\n+\n+         Scan; -- scan past EXTENDS\n+\n+         if Token = Tok_All then\n+            Extends_All := True;\n+            Set_Is_Extending_All (Project);\n+            Scan; --  scan past ALL\n+         end if;\n+      end if;\n+\n       --  If the name is well formed, Buffer_Last is > 0\n \n       if Buffer_Last > 0 then\n@@ -1098,7 +1121,7 @@ package body Prj.Part is\n          begin\n             --  Extending_All is always propagated\n \n-            if From_Extended = Extending_All then\n+            if From_Extended = Extending_All or else Extends_All then\n                From_Ext := Extending_All;\n \n             --  Otherwise, From_Extended is set to Extending_Single if the\n@@ -1149,22 +1172,7 @@ package body Prj.Part is\n \n       end if;\n \n-      if Token = Tok_Extends then\n-\n-         --  Make sure that gnatmake will use mapping files\n-\n-         Create_Mapping_File := True;\n-\n-         --  We are extending another project\n-\n-         Scan; -- scan past EXTENDS\n-\n-         if Token = Tok_All then\n-            Extends_All := True;\n-            Set_Is_Extending_All (Project);\n-            Scan; --  scan past ALL\n-         end if;\n-\n+      if Extending then\n          Expect (Tok_String_Literal, \"literal string\");\n \n          if Token = Tok_String_Literal then\n@@ -1205,19 +1213,19 @@ package body Prj.Part is\n \n                else\n                   declare\n-                     From_Extended : Extension_Origin := None;\n+                     From_Ext : Extension_Origin := None;\n \n                   begin\n-                     if Is_Extending_All (Project) then\n-                        From_Extended := Extending_All;\n+                     if From_Extended = Extending_All or else Extends_All then\n+                        From_Ext := Extending_All;\n                      end if;\n \n                      Parse_Single_Project\n                        (Project       => Extended_Project,\n                         Extends_All   => Extends_All,\n                         Path_Name     => Extended_Project_Path_Name,\n                         Extended      => True,\n-                        From_Extended => From_Extended);\n+                        From_Extended => From_Ext);\n                   end;\n \n                   --  A project that extends an extending-all project is also\n@@ -1640,11 +1648,10 @@ package body Prj.Part is\n \n       else\n          declare\n-            Final_Result : String :=\n+            Final_Result : constant String :=\n                              GNAT.OS_Lib.Normalize_Pathname (Result.all);\n          begin\n             Free (Result);\n-            Canonical_Case_File_Name (Final_Result);\n             return Final_Result;\n          end;\n       end if;"}, {"sha": "f0fe8a138a909904a210036361d3b85e481312eb", "filename": "gcc/ada/vms_conv.adb", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fvms_conv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36/gcc%2Fada%2Fvms_conv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_conv.adb?ref=5c1c8a03a695dd26ef22b969e5d2d93f68ce8b36", "patch": "@@ -58,6 +58,10 @@ package body VMS_Conv is\n    --  if a COMMANDS_TRANSLATION switch has been encountered while processing\n    --  a MAKE Command.\n \n+   Output_File_Expected : Boolean := False;\n+   --  True for GNAT LINK after -o switch, so that the \".ali\" extension is\n+   --  not added to the executable file name.\n+\n    package Buffer is new Table.Table\n      (Table_Component_Type => Character,\n       Table_Index_Type     => Integer,\n@@ -1111,6 +1115,7 @@ package body VMS_Conv is\n                end if;\n \n                The_Command := Command.Command;\n+               Output_File_Expected := False;\n \n                --  Give usage information if only command given\n \n@@ -1277,13 +1282,19 @@ package body VMS_Conv is\n \n             elsif Arg.all = \"/?\" then\n                Display_Command := True;\n+               Output_File_Expected := False;\n \n                --  Copy -switch unchanged\n \n             elsif Arg (Arg'First) = '-' then\n                Place (' ');\n                Place (Arg.all);\n \n+               --  Set Output_File_Expected for the next argument\n+\n+               Output_File_Expected :=\n+                 Arg.all = \"-o\" and then The_Command = Link;\n+\n                --  Copy quoted switch with quotes stripped\n \n             elsif Arg (Arg'First) = '\"' then\n@@ -1297,6 +1308,8 @@ package body VMS_Conv is\n                   Place (Arg (Arg'First + 1 .. Arg'Last - 1));\n                end if;\n \n+               Output_File_Expected := False;\n+\n                --  Parameter Argument\n \n             elsif Arg (Arg'First) /= '/'\n@@ -1357,8 +1370,12 @@ package body VMS_Conv is\n                               Place (' ');\n                               Place_Lower (Normal_File.all);\n \n+                              --  Add extension if not present, except after\n+                              --  switch -o.\n+\n                               if Is_Extensionless (Normal_File.all)\n                                 and then Command.Defext /= \"   \"\n+                                and then not Output_File_Expected\n                               then\n                                  Place ('.');\n                                  Place (Command.Defext);\n@@ -1488,9 +1505,15 @@ package body VMS_Conv is\n                   end case;\n                end if;\n \n+               --  Reset Output_File_Expected, in case it was True\n+\n+               Output_File_Expected := False;\n+\n                --  Qualifier argument\n \n             else\n+               Output_File_Expected := False;\n+\n                --  This code is too heavily nested, should be\n                --  separated out as separate subprogram ???\n "}]}