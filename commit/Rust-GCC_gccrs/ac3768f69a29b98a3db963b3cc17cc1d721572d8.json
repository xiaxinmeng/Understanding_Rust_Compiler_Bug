{"sha": "ac3768f69a29b98a3db963b3cc17cc1d721572d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWMzNzY4ZjY5YTI5Yjk4YTNkYjk2M2IzY2MxN2NjMWQ3MjE1NzJkOA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2006-11-30T07:24:03Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2006-11-30T07:24:03Z"}, "message": "cselib.c (cselib_init): Use special MEM rtx form for callmem.\n\n\t* cselib.c (cselib_init): Use special MEM rtx form for callmem.\n\t* alias.c (canon_true_dependence): Update comment.\n\nFrom-SVN: r119358", "tree": {"sha": "842215adcde4863a27c06c314a1f5c58f2704a43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/842215adcde4863a27c06c314a1f5c58f2704a43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac3768f69a29b98a3db963b3cc17cc1d721572d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac3768f69a29b98a3db963b3cc17cc1d721572d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac3768f69a29b98a3db963b3cc17cc1d721572d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac3768f69a29b98a3db963b3cc17cc1d721572d8/comments", "author": null, "committer": null, "parents": [{"sha": "e9ec5c6b5e65990251fa71ea6e885823d50f3df3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9ec5c6b5e65990251fa71ea6e885823d50f3df3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9ec5c6b5e65990251fa71ea6e885823d50f3df3"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "9a5419e9f779691979412c4d72958eefd6023f42", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ac3768f69a29b98a3db963b3cc17cc1d721572d8", "patch": "@@ -1,3 +1,8 @@\n+2006-11-30  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* cselib.c (cselib_init): Use special MEM rtx form for callmem.\n+\t* alias.c (canon_true_dependence): Update comment.\n+\n 2006-11-30  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* cgraphunit.c (cgraph_finalize_compilation_unit): Add a newline"}, {"sha": "7a36284cb3af36c02cbb7c49942ed55d295242e0", "filename": "gcc/alias.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2Falias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2Falias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falias.c?ref=ac3768f69a29b98a3db963b3cc17cc1d721572d8", "patch": "@@ -2151,7 +2151,7 @@ true_dependence (rtx mem, enum machine_mode mem_mode, rtx x,\n     return 1;\n \n   /* (mem:BLK (scratch)) is a special mechanism to conflict with everything.\n-     This is used in epilogue deallocation functions.  */\n+     This is used in epilogue deallocation functions, and in cselib.  */\n   if (GET_MODE (x) == BLKmode && GET_CODE (XEXP (x, 0)) == SCRATCH)\n     return 1;\n   if (GET_MODE (mem) == BLKmode && GET_CODE (XEXP (mem, 0)) == SCRATCH)"}, {"sha": "460538857214d7e5d789327521358a061df7b51a", "filename": "gcc/cselib.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2Fcselib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac3768f69a29b98a3db963b3cc17cc1d721572d8/gcc%2Fcselib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcselib.c?ref=ac3768f69a29b98a3db963b3cc17cc1d721572d8", "patch": "@@ -1473,9 +1473,11 @@ cselib_init (bool record_memory)\n \t\t\t\t       sizeof (cselib_val), 10);\n   value_pool = create_alloc_pool (\"value\", RTX_CODE_SIZE (VALUE), 100);\n   cselib_record_memory = record_memory;\n-  /* This is only created once.  */\n+\n+  /* (mem:BLK (scratch)) is a special mechanism to conflict with everything,\n+     see canon_true_dependence.  This is only created once.  */\n   if (! callmem)\n-    callmem = gen_rtx_MEM (BLKmode, const0_rtx);\n+    callmem = gen_rtx_MEM (BLKmode, gen_rtx_SCRATCH (VOIDmode));\n \n   cselib_nregs = max_reg_num ();\n "}]}