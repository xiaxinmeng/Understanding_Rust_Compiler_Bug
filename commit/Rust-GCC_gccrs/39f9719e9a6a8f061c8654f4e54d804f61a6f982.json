{"sha": "39f9719e9a6a8f061c8654f4e54d804f61a6f982", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzlmOTcxOWU5YTZhOGYwNjFjODY1NGY0ZTU0ZDgwNGY2MWE2Zjk4Mg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2013-02-05T09:11:53Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2013-02-05T09:11:53Z"}, "message": "PR tree-optimization/r55789\n\n\t* cgraphclones.c (cgraph_remove_node_and_inline_clones): Remove\n\tthe dead call anyway.\n\n\t* g++.dg/torture/pr55789.C: New testcase.\n\nFrom-SVN: r195750", "tree": {"sha": "b2b8022d4fdc5470327f550cf4205f9bf4a1fe20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2b8022d4fdc5470327f550cf4205f9bf4a1fe20"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39f9719e9a6a8f061c8654f4e54d804f61a6f982", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f9719e9a6a8f061c8654f4e54d804f61a6f982", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39f9719e9a6a8f061c8654f4e54d804f61a6f982", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39f9719e9a6a8f061c8654f4e54d804f61a6f982/comments", "author": null, "committer": null, "parents": [{"sha": "956d3b33b5a2a578be54ce8f41fd553e94bdaf2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/956d3b33b5a2a578be54ce8f41fd553e94bdaf2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/956d3b33b5a2a578be54ce8f41fd553e94bdaf2f"}], "stats": {"total": 46, "additions": 45, "deletions": 1}, "files": [{"sha": "59eaf4862563bdd7019f005684afc473126cbbee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39f9719e9a6a8f061c8654f4e54d804f61a6f982", "patch": "@@ -1,3 +1,9 @@\n+2013-02-05  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/r55789\n+\t* cgraphclones.c (cgraph_remove_node_and_inline_clones): Remove\n+\tthe dead call anyway.\n+\n 2013-02-05  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR sanitizer/55374"}, {"sha": "3a2e3d679e2153247729a2a2b62a828cc67e090c", "filename": "gcc/cgraphclones.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Fcgraphclones.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Fcgraphclones.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphclones.c?ref=39f9719e9a6a8f061c8654f4e54d804f61a6f982", "patch": "@@ -570,7 +570,10 @@ cgraph_remove_node_and_inline_clones (struct cgraph_node *node, struct cgraph_no\n   bool found = false;\n \n   if (node == forbidden_node)\n-    return true;\n+    {\n+      cgraph_remove_edge (node->callers);\n+      return true;\n+    }\n   for (e = node->callees; e; e = next)\n     {\n       next = e->next_callee;"}, {"sha": "58f1643314b1c3d1af09e13c8d668c470d3a5ff4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=39f9719e9a6a8f061c8654f4e54d804f61a6f982", "patch": "@@ -1,3 +1,8 @@\n+2013-02-05  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/r55789\n+\t* g++.dg/torture/pr55789.C: New testcase.\n+\n 2013-02-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/56167"}, {"sha": "a5a31a4f517c4721b22525710181c1920596e12a", "filename": "gcc/testsuite/g++.dg/torture/pr55789.C", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr55789.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39f9719e9a6a8f061c8654f4e54d804f61a6f982/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr55789.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr55789.C?ref=39f9719e9a6a8f061c8654f4e54d804f61a6f982", "patch": "@@ -0,0 +1,30 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-fno-guess-branch-probability  -fno-tree-forwprop --param max-early-inliner-iterations=10 --param=early-inlining-insns=176\" } */\n+\n+template < typename T > struct intrusive_ptr\n+{\n+  ~intrusive_ptr ()\n+  {\n+    delete px;\n+  }\n+  T *px;\n+};\n+\n+struct section_info\n+{\n+  intrusive_ptr < section_info > parent;\n+};\n+\n+struct file_info\n+{\n+  intrusive_ptr < file_info > parent;\n+  intrusive_ptr < section_info > switched_section;\n+};\n+\n+\n+void\n+start_file (void)\n+{\n+  intrusive_ptr < file_info > parent;\n+}\n+"}]}