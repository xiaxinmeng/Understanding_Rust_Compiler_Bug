{"sha": "74d7ab557f039cde838e431c610535c57b2476df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRkN2FiNTU3ZjAzOWNkZTgzOGU0MzFjNjEwNTM1YzU3YjI0NzZkZg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-12-12T06:12:03Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-12-12T06:12:03Z"}, "message": "flow.c (find_basic_blocks): A CALL_INSN that can throw starts a new basic block.\n\n\t* flow.c (find_basic_blocks): A CALL_INSN that can throw starts\n\ta new basic block.\n\t(find_basic_blocks_1): Likewise.\n\nFrom-SVN: r17055", "tree": {"sha": "ef476f447665cee8582d9c733afa3dcaabfcdf21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef476f447665cee8582d9c733afa3dcaabfcdf21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74d7ab557f039cde838e431c610535c57b2476df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74d7ab557f039cde838e431c610535c57b2476df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74d7ab557f039cde838e431c610535c57b2476df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74d7ab557f039cde838e431c610535c57b2476df/comments", "author": null, "committer": null, "parents": [{"sha": "0776059ee03d0974e3f953917ceffc2ea4681a14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0776059ee03d0974e3f953917ceffc2ea4681a14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0776059ee03d0974e3f953917ceffc2ea4681a14"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "a072e14e509124e19898d1f20c6b505686ade0d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74d7ab557f039cde838e431c610535c57b2476df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74d7ab557f039cde838e431c610535c57b2476df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74d7ab557f039cde838e431c610535c57b2476df", "patch": "@@ -1,3 +1,9 @@\n+Thu Dec 11 22:02:10 1997  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* flow.c (find_basic_blocks): A CALL_INSN that can throw starts\n+\ta new basic block.\n+\t(find_basic_blocks_1): Likewise.\n+\n Thu Dec 11 21:08:48 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* except.c (use_eh_context): Don't copy_rtx a REG."}, {"sha": "720886d79d6d7cfae1231b37c2ba35403dbdbd1f", "filename": "gcc/flow.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74d7ab557f039cde838e431c610535c57b2476df/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74d7ab557f039cde838e431c610535c57b2476df/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=74d7ab557f039cde838e431c610535c57b2476df", "patch": "@@ -304,6 +304,7 @@ flow_analysis (f, nregs, file)\n   {\n     register RTX_CODE prev_code = JUMP_INSN;\n     register RTX_CODE code;\n+    int eh_region = 0;\n \n     max_uid_for_flow = 0;\n \n@@ -316,7 +317,7 @@ flow_analysis (f, nregs, file)\n \t    || (GET_RTX_CLASS (code) == 'i'\n \t\t&& (prev_code == JUMP_INSN\n \t\t    || (prev_code == CALL_INSN\n-\t\t\t&& nonlocal_label_list != 0)\n+\t\t\t&& (nonlocal_label_list != 0 || eh_region))\n \t\t    || prev_code == BARRIER)))\n \t  i++;\n \n@@ -325,6 +326,10 @@ flow_analysis (f, nregs, file)\n \n \tif (code != NOTE)\n \t  prev_code = code;\n+\telse if (NOTE_LINE_NUMBER (insn) == NOTE_INSN_EH_REGION_BEG)\n+\t  ++eh_region;\n+\telse if (NOTE_LINE_NUMBER (insn) == NOTE_INSN_EH_REGION_END)\n+\t  --eh_region;\n       }\n   }\n \n@@ -418,7 +423,7 @@ find_basic_blocks (f, nonlocal_label_list)\n \t       || (GET_RTX_CLASS (code) == 'i'\n \t\t   && (prev_code == JUMP_INSN\n \t\t       || (prev_code == CALL_INSN\n-\t\t\t   && nonlocal_label_list != 0\n+\t\t\t   && (nonlocal_label_list != 0 || eh_note)\n \t\t\t   && ! find_reg_note (insn, REG_RETVAL, NULL_RTX))\n \t\t       || prev_code == BARRIER)))\n \t{"}]}