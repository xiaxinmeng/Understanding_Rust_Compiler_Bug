{"sha": "8f3675f855e0e95366ef53c6291835cc2fb597f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYzNjc1Zjg1NWUwZTk1MzY2ZWY1M2M2MjkxODM1Y2MyZmI1OTdmNw==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@imgtec.com", "date": "2016-09-12T14:08:48Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@gcc.gnu.org", "date": "2016-09-12T14:08:48Z"}, "message": "configure.ac: Check for the minimum in-tree MPFR version handled.\n\n\t* configure.ac: Check for the minimum in-tree MPFR version\n\thandled.\n\t* configure: Regenerate.\n\nFrom-SVN: r240092", "tree": {"sha": "499e3e2edb3055a3109766948933ddaec1ef2d97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/499e3e2edb3055a3109766948933ddaec1ef2d97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f3675f855e0e95366ef53c6291835cc2fb597f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f3675f855e0e95366ef53c6291835cc2fb597f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f3675f855e0e95366ef53c6291835cc2fb597f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f3675f855e0e95366ef53c6291835cc2fb597f7/comments", "author": null, "committer": null, "parents": [{"sha": "527a3750579f5b8aa0b49129b80df48cfbaa5813", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/527a3750579f5b8aa0b49129b80df48cfbaa5813", "html_url": "https://github.com/Rust-GCC/gccrs/commit/527a3750579f5b8aa0b49129b80df48cfbaa5813"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "d0e4b06ea88edd2992cecc973dd468252648ccf4", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f3675f855e0e95366ef53c6291835cc2fb597f7/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f3675f855e0e95366ef53c6291835cc2fb597f7/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=8f3675f855e0e95366ef53c6291835cc2fb597f7", "patch": "@@ -1,3 +1,9 @@\n+2016-09-12  Maciej W. Rozycki  <macro@imgtec.com>\n+\n+\t* configure.ac: Check for the minimum in-tree MPFR version\n+\thandled.\n+\t* configure: Regenerate.\n+\n 2016-07-20  Yan-Ting Lin  <currygt52@gmail.com>\n \n \t* configure.ac (nds32*-*-*): Remove entry to enable gdb."}, {"sha": "c4a2cd1db45f5c8b978d8b7140f97699fb632900", "filename": "configure", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f3675f855e0e95366ef53c6291835cc2fb597f7/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f3675f855e0e95366ef53c6291835cc2fb597f7/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=8f3675f855e0e95366ef53c6291835cc2fb597f7", "patch": "@@ -5566,6 +5566,10 @@ if test \"x$with_mpfr_lib\" != x; then\n   gmplibs=\"-L$with_mpfr_lib $gmplibs\"\n fi\n if test \"x$with_mpfr$with_mpfr_include$with_mpfr_lib\" = x && test -d ${srcdir}/mpfr; then\n+  # MPFR v3.1.0 moved the sources into a src sub-directory.\n+  if ! test -d ${srcdir}/mpfr/src; then\n+    as_fn_error \"Building GCC with MPFR in the source tree is only handled for MPFR 3.1.0+.\" \"$LINENO\" 5\n+  fi\n   gmplibs='-L$$r/$(HOST_SUBDIR)/mpfr/src/'\"$lt_cv_objdir $gmplibs\"\n   gmpinc='-I$$r/$(HOST_SUBDIR)/mpfr/src -I$$s/mpfr/src '\"$gmpinc\"\n   extra_mpc_mpfr_configure_flags='--with-mpfr-include=$$s/mpfr/src --with-mpfr-lib=$$r/$(HOST_SUBDIR)/mpfr/src/'\"$lt_cv_objdir\""}, {"sha": "a1b9da4fa9ebee93ad97d33feb3d9dfaa7e683fc", "filename": "configure.ac", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f3675f855e0e95366ef53c6291835cc2fb597f7/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f3675f855e0e95366ef53c6291835cc2fb597f7/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=8f3675f855e0e95366ef53c6291835cc2fb597f7", "patch": "@@ -1546,6 +1546,11 @@ if test \"x$with_mpfr_lib\" != x; then\n   gmplibs=\"-L$with_mpfr_lib $gmplibs\"\n fi\n if test \"x$with_mpfr$with_mpfr_include$with_mpfr_lib\" = x && test -d ${srcdir}/mpfr; then\n+  # MPFR v3.1.0 moved the sources into a src sub-directory.\n+  if ! test -d ${srcdir}/mpfr/src; then\n+    AC_MSG_ERROR([dnl\n+Building GCC with MPFR in the source tree is only handled for MPFR 3.1.0+.])\n+  fi\n   gmplibs='-L$$r/$(HOST_SUBDIR)/mpfr/src/'\"$lt_cv_objdir $gmplibs\"\n   gmpinc='-I$$r/$(HOST_SUBDIR)/mpfr/src -I$$s/mpfr/src '\"$gmpinc\"\n   extra_mpc_mpfr_configure_flags='--with-mpfr-include=$$s/mpfr/src --with-mpfr-lib=$$r/$(HOST_SUBDIR)/mpfr/src/'\"$lt_cv_objdir\""}]}