{"sha": "faa003343e09656a6b0174c00305073823f2fd0c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFhMDAzMzQzZTA5NjU2YTZiMDE3NGMwMDMwNTA3MzgyM2YyZmQwYw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2004-12-23T16:09:01Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2004-12-23T16:09:01Z"}, "message": "re PR target/16819 (ICE with empty struct as arg)\n\ngcc/ChangeLog:\nPR target/16819\n* calls.c (load_register_parameters): Don't call use_regs when\nnregs is zero.\ngcc/testsuite/ChangeLog:\nPR target/16891\n* gcc.dg/empty2.c: New.\n\nFrom-SVN: r92551", "tree": {"sha": "82261656f3a9fd3eadfadd7364f74402670803bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82261656f3a9fd3eadfadd7364f74402670803bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/faa003343e09656a6b0174c00305073823f2fd0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faa003343e09656a6b0174c00305073823f2fd0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/faa003343e09656a6b0174c00305073823f2fd0c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faa003343e09656a6b0174c00305073823f2fd0c/comments", "author": null, "committer": null, "parents": [{"sha": "579eab589756ecf43ea7b1466d2946506b66c948", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/579eab589756ecf43ea7b1466d2946506b66c948", "html_url": "https://github.com/Rust-GCC/gccrs/commit/579eab589756ecf43ea7b1466d2946506b66c948"}], "stats": {"total": 30, "additions": 28, "deletions": 2}, "files": [{"sha": "10de8a5f31e97580dae19901820a79260edf6d09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=faa003343e09656a6b0174c00305073823f2fd0c", "patch": "@@ -1,3 +1,9 @@\n+2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR target/16819\n+\t* calls.c (load_register_parameters): Don't call use_regs when\n+\tnregs is zero.\n+\n 2004-12-23  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \tPR middle-end/17746"}, {"sha": "946e5bdf95de1f2541b310cb26974bd2603c7354", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=faa003343e09656a6b0174c00305073823f2fd0c", "patch": "@@ -1554,8 +1554,8 @@ load_register_parameters (struct arg_data *args, int num_actuals,\n \t    use_group_regs (call_fusage, reg);\n \t  else if (nregs == -1)\n \t    use_reg (call_fusage, reg);\n-\t  else\n-\t    use_regs (call_fusage, REGNO (reg), nregs == 0 ? 1 : nregs);\n+\t  else if (nregs > 0)\n+\t    use_regs (call_fusage, REGNO (reg), nregs);\n \t}\n     }\n }"}, {"sha": "45620fdd5617b1a6a5619b5f80f48a3ee5fa32cd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=faa003343e09656a6b0174c00305073823f2fd0c", "patch": "@@ -1,3 +1,8 @@\n+2004-12-23  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR target/16891\n+\t* gcc.dg/empty2.c: New.\n+\n 2004-12-23  Richard Henderson  <rth@redhat.com>\n \n \t* lib/target-supports.exp (check_effective_target_vect_no_align): "}, {"sha": "7b91fb2614a9c3fccede62303c32d2490130f2d9", "filename": "gcc/testsuite/gcc.dg/empty2.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Ftestsuite%2Fgcc.dg%2Fempty2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faa003343e09656a6b0174c00305073823f2fd0c/gcc%2Ftestsuite%2Fgcc.dg%2Fempty2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fempty2.c?ref=faa003343e09656a6b0174c00305073823f2fd0c", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+\n+double d=0;\n+\n+struct A {} a;\n+\n+void foo(struct A x)\n+{\n+  d=0;\n+}\n+\n+void bar()\n+{\n+  if (d) foo(a);\n+}"}]}