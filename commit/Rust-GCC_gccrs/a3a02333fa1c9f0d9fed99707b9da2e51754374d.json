{"sha": "a3a02333fa1c9f0d9fed99707b9da2e51754374d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNhMDIzMzNmYTFjOWYwZDlmZWQ5OTcwN2I5ZGEyZTUxNzU0Mzc0ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-05-17T18:25:58Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-05-17T18:25:58Z"}, "message": "struct-layout-1_generate.c (iterative_hash): Remove little-endian optimizations.\n\n\t* gcc.dg/compat/struct-layout-1_generate.c (iterative_hash):\n\tRemove little-endian optimizations.\n\nFrom-SVN: r99844", "tree": {"sha": "ebfc82e039e33791e7f8ed31306c64c808ed78b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebfc82e039e33791e7f8ed31306c64c808ed78b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3a02333fa1c9f0d9fed99707b9da2e51754374d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3a02333fa1c9f0d9fed99707b9da2e51754374d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3a02333fa1c9f0d9fed99707b9da2e51754374d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3a02333fa1c9f0d9fed99707b9da2e51754374d/comments", "author": null, "committer": null, "parents": [{"sha": "b22327455de6128939ee7487ceec8f73d2e6d8be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b22327455de6128939ee7487ceec8f73d2e6d8be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b22327455de6128939ee7487ceec8f73d2e6d8be"}], "stats": {"total": 20, "additions": 5, "deletions": 15}, "files": [{"sha": "09e8bfacd2cd2f24096d38fd9b54fec4dc763b6f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3a02333fa1c9f0d9fed99707b9da2e51754374d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3a02333fa1c9f0d9fed99707b9da2e51754374d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3a02333fa1c9f0d9fed99707b9da2e51754374d", "patch": "@@ -1,3 +1,8 @@\n+2005-05-17  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* gcc.dg/compat/struct-layout-1_generate.c (iterative_hash):\n+\tRemove little-endian optimizations. \n+\n 2005-05-17  Jeff Law  <law@redhat.com>\n \n \t* g++.dg/tree-ssa/pr18414.C: New test."}, {"sha": "d8b8bfbe0dc9b83a7a64c05c7ec7d05dfd6220af", "filename": "gcc/testsuite/gcc.dg/compat/struct-layout-1_generate.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3a02333fa1c9f0d9fed99707b9da2e51754374d/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-layout-1_generate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3a02333fa1c9f0d9fed99707b9da2e51754374d/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-layout-1_generate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-layout-1_generate.c?ref=a3a02333fa1c9f0d9fed99707b9da2e51754374d", "patch": "@@ -1225,21 +1225,6 @@ iterative_hash (const void *k_in /* the key */,\n   c = initval;           /* the previous hash value */\n \n   /*---------------------------------------- handle most of the key */\n-#ifndef WORDS_BIGENDIAN\n-  /* On a little-endian machine, if the data is 4-byte aligned we can hash\n-     by word for better speed.  This gives nondeterministic results on\n-     big-endian machines.  */\n-  if (sizeof (hashval_t) == 4 && (((size_t)k)&3) == 0)\n-    while (len >= 12)    /* aligned */\n-      {\n-\ta += *(hashval_t *)(k+0);\n-\tb += *(hashval_t *)(k+4);\n-\tc += *(hashval_t *)(k+8);\n-\tmix(a,b,c);\n-\tk += 12; len -= 12;\n-      }\n-  else /* unaligned */\n-#endif\n     while (len >= 12)\n       {\n \ta += (k[0] +((hashval_t)k[1]<<8) +((hashval_t)k[2]<<16) +((hashval_t)k[3]<<24));"}]}