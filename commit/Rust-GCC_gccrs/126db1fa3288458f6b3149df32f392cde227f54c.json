{"sha": "126db1fa3288458f6b3149df32f392cde227f54c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTI2ZGIxZmEzMjg4NDU4ZjZiMzE0OWRmMzJmMzkyY2RlMjI3ZjU0Yw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-12-31T23:05:16Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1995-12-31T23:05:16Z"}, "message": "reorg.c (fill_simple_delay_slots): Try to fill from the target of an unconditional branch if necessary.\n\n        * reorg.c (fill_simple_delay_slots): Try to fill from the\n        target of an unconditional branch if necessary.\n\nFrom-SVN: r10920", "tree": {"sha": "3482aec1d685bbe0734d65cde36134f329d41ff7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3482aec1d685bbe0734d65cde36134f329d41ff7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/126db1fa3288458f6b3149df32f392cde227f54c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/126db1fa3288458f6b3149df32f392cde227f54c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/126db1fa3288458f6b3149df32f392cde227f54c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/126db1fa3288458f6b3149df32f392cde227f54c/comments", "author": null, "committer": null, "parents": [{"sha": "98d654f60c98701a785d7764d80ed3537d9caa9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98d654f60c98701a785d7764d80ed3537d9caa9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98d654f60c98701a785d7764d80ed3537d9caa9b"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "2bee6487d3ddcf23f4fa2bcdf0c491eae149f40e", "filename": "gcc/reorg.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/126db1fa3288458f6b3149df32f392cde227f54c/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/126db1fa3288458f6b3149df32f392cde227f54c/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=126db1fa3288458f6b3149df32f392cde227f54c", "patch": "@@ -2804,7 +2804,7 @@ fill_simple_delay_slots (first, non_jumps_p)\n   register int i, j;\n   int num_unfilled_slots = unfilled_slots_next - unfilled_slots_base;\n   struct resources needed, set;\n-  register int slots_to_fill, slots_filled;\n+  int slots_to_fill, slots_filled;\n   rtx delay_list;\n \n   for (i = 0; i < num_unfilled_slots; i++)\n@@ -3136,6 +3136,19 @@ fill_simple_delay_slots (first, non_jumps_p)\n \t    }\n \t}\n \n+      /* If this is an unconditional jump, then try to get insns from the\n+\t target of the jump.  */\n+      if (GET_CODE (insn) == JUMP_INSN\n+\t  && simplejump_p (insn)\n+\t  && slots_filled != slots_to_fill)\n+\tdelay_list\n+\t  = fill_slots_from_thread (insn, const_true_rtx,\n+\t\t\t\t    next_active_insn (JUMP_LABEL (insn)),\n+\t\t\t\t    NULL, 1, 1,\n+\t\t\t\t    own_thread_p (JUMP_LABEL (insn),\n+\t\t\t\t\t\t  JUMP_LABEL (insn), 0),\n+\t\t\t\t    0, slots_to_fill, &slots_filled);\n+\n       if (delay_list)\n \tunfilled_slots_base[i]\n \t  = emit_delay_sequence (insn, delay_list,"}]}