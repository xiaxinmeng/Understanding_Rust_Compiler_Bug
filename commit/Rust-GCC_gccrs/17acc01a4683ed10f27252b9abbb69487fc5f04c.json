{"sha": "17acc01a4683ed10f27252b9abbb69487fc5f04c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdhY2MwMWE0NjgzZWQxMGYyNzI1MmI5YWJiYjY5NDg3ZmM1ZjA0Yw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-06-23T13:20:02Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-06-23T13:20:02Z"}, "message": "* tree-inline.c (copy_body_r): Remap labels correctly.\n\nFrom-SVN: r101266", "tree": {"sha": "d84fe1227cea7e2fd1d59cfe1c3adfe14c30b5f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d84fe1227cea7e2fd1d59cfe1c3adfe14c30b5f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17acc01a4683ed10f27252b9abbb69487fc5f04c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17acc01a4683ed10f27252b9abbb69487fc5f04c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17acc01a4683ed10f27252b9abbb69487fc5f04c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17acc01a4683ed10f27252b9abbb69487fc5f04c/comments", "author": null, "committer": null, "parents": [{"sha": "6c8cba6db4c176c288a60bba28509bed5fc51fdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c8cba6db4c176c288a60bba28509bed5fc51fdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c8cba6db4c176c288a60bba28509bed5fc51fdb"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "c670c5712a7740c71dd8e1f7b79c1ad167269746", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17acc01a4683ed10f27252b9abbb69487fc5f04c/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17acc01a4683ed10f27252b9abbb69487fc5f04c/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=17acc01a4683ed10f27252b9abbb69487fc5f04c", "patch": "@@ -554,9 +554,11 @@ copy_body_r (tree *tp, int *walk_subtrees, void *data)\n     copy_statement_list (tp);\n   else if (TREE_CODE (*tp) == SAVE_EXPR)\n     remap_save_expr (tp, id->decl_map, walk_subtrees);\n-  else if (TREE_CODE (*tp) == LABEL_DECL)\n+  else if (TREE_CODE (*tp) == LABEL_DECL\n+\t   && (! DECL_CONTEXT (*tp)\n+\t       || decl_function_context (*tp) == id->callee))\n     /* These may need to be remapped for EH handling.  */\n-    remap_decl (*tp, id);\n+    *tp = remap_decl (*tp, id);\n   else if (TREE_CODE (*tp) == BIND_EXPR)\n     copy_bind_expr (tp, walk_subtrees, id);\n   /* Types may need remapping as well.  */"}]}