{"sha": "1b70949a3cdfe7ffb958205a1935f825224d9e64", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWI3MDk0OWEzY2RmZTdmZmI5NTgyMDVhMTkzNWY4MjUyMjRkOWU2NA==", "commit": {"author": {"name": "Ranjit Mathew", "email": "rmathew@gcc.gnu.org", "date": "2005-09-21T13:34:28Z"}, "committer": {"name": "Ranjit Mathew", "email": "rmathew@gcc.gnu.org", "date": "2005-09-21T13:34:28Z"}, "message": "re PR java/21418 (Order of source files matters when compiling)\n\n\tPR java/21418\n\t* class.c (inherits_from_p): Try to lay out super class\n\tif it is not already laid out.\n\t(maybe_layout_super_class): Handle the case where SUPER_CLASS\n\tis a NULL_TREE.\n\nFrom-SVN: r104483", "tree": {"sha": "7e986cabe57fd40ad4c85697bf8f8f24d7048d6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e986cabe57fd40ad4c85697bf8f8f24d7048d6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b70949a3cdfe7ffb958205a1935f825224d9e64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b70949a3cdfe7ffb958205a1935f825224d9e64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b70949a3cdfe7ffb958205a1935f825224d9e64", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b70949a3cdfe7ffb958205a1935f825224d9e64/comments", "author": null, "committer": null, "parents": [{"sha": "1c8cd54dd92314b3e5352c6497f2c46dd9cdc8ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c8cd54dd92314b3e5352c6497f2c46dd9cdc8ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c8cd54dd92314b3e5352c6497f2c46dd9cdc8ee"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "3cf82e3efde3a5775c9ec3d962be2173ef81aed6", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b70949a3cdfe7ffb958205a1935f825224d9e64/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b70949a3cdfe7ffb958205a1935f825224d9e64/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=1b70949a3cdfe7ffb958205a1935f825224d9e64", "patch": "@@ -1,3 +1,11 @@\n+2005-09-21  Ranjit Mathew  <rmathew@gcc.gnu.org>\n+\n+\tPR java/21418\n+\t* class.c (inherits_from_p): Try to lay out super class\n+\tif it is not already laid out.\n+\t(maybe_layout_super_class): Handle the case where SUPER_CLASS\n+\tis a NULL_TREE.\n+\n 2005-09-18  James A. Morrison  <phython@gcc.gnu.org>\n \n \t* builtins.c (max_builtin, min_builtin, abs_builtin,"}, {"sha": "b9848d30f268db7fd140e8e0a7991253f7409ef1", "filename": "gcc/java/class.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b70949a3cdfe7ffb958205a1935f825224d9e64/gcc%2Fjava%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b70949a3cdfe7ffb958205a1935f825224d9e64/gcc%2Fjava%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fclass.c?ref=1b70949a3cdfe7ffb958205a1935f825224d9e64", "patch": "@@ -549,9 +549,11 @@ inherits_from_p (tree type1, tree type2)\n     {\n       if (type1 == type2)\n \treturn 1;\n+\n       if (! CLASS_LOADED_P (type1))\n \tload_class (type1, 1);\n-      type1 = CLASSTYPE_SUPER (type1);\n+\n+      type1 = maybe_layout_super_class (CLASSTYPE_SUPER (type1), type1);\n     }\n   return 0;\n }\n@@ -2058,7 +2060,9 @@ push_super_field (tree this_class, tree super_class)\n static tree\n maybe_layout_super_class (tree super_class, tree this_class)\n {\n-  if (TREE_CODE (super_class) == RECORD_TYPE)\n+  if (!super_class)\n+    return NULL_TREE;\n+  else if (TREE_CODE (super_class) == RECORD_TYPE)\n     {\n       if (!CLASS_LOADED_P (super_class) && CLASS_FROM_SOURCE_P (super_class))\n \tsafe_layout_class (super_class);"}]}