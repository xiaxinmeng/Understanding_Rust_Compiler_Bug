{"sha": "db2cd5e6c0fb329a8191993a203bdfd43069664e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGIyY2Q1ZTZjMGZiMzI5YTgxOTE5OTNhMjAzYmRmZDQzMDY5NjY0ZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-01-28T22:58:58Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-01-28T22:58:58Z"}, "message": "configure.in (toolexecdir, [...]): Set and AC_SUBST.\n\n* configure.in (toolexecdir, toolexeclibdir): Set and AC_SUBST.\nRemove USE_LIBDIR conditional.\n* Makefile.am (toolexecdir, toolexeclibdir): Don't override.\n* Makefile.in, configure: Rebuilt.\n\nFrom-SVN: r62040", "tree": {"sha": "efc36926eb2dcab24a0ea9a557fdc7560afaf7db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efc36926eb2dcab24a0ea9a557fdc7560afaf7db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db2cd5e6c0fb329a8191993a203bdfd43069664e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db2cd5e6c0fb329a8191993a203bdfd43069664e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db2cd5e6c0fb329a8191993a203bdfd43069664e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db2cd5e6c0fb329a8191993a203bdfd43069664e/comments", "author": null, "committer": null, "parents": [{"sha": "5bff4babe0a52a5b892e02239eb1b1aa0f735aae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bff4babe0a52a5b892e02239eb1b1aa0f735aae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bff4babe0a52a5b892e02239eb1b1aa0f735aae"}], "stats": {"total": 397, "additions": 220, "deletions": 177}, "files": [{"sha": "6f89e0a0bd528179492f946d12b280424e94902a", "filename": "libffi/Makefile.in", "status": "modified", "additions": 77, "deletions": 78, "changes": 155, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db2cd5e6c0fb329a8191993a203bdfd43069664e/libffi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db2cd5e6c0fb329a8191993a203bdfd43069664e/libffi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.in?ref=db2cd5e6c0fb329a8191993a203bdfd43069664e", "patch": "@@ -1,6 +1,6 @@\n-# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am\n+# Makefile.in generated automatically by automake 1.4 from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -80,6 +80,8 @@ TARGET = @TARGET@\n TARGETDIR = @TARGETDIR@\n VERSION = @VERSION@\n libffi_basedir = @libffi_basedir@\n+toolexecdir = @toolexecdir@\n+toolexeclibdir = @toolexeclibdir@\n \n AUTOMAKE_OPTIONS = cygnus\n \n@@ -152,9 +154,6 @@ MULTIDIRS =\n MULTISUBDIR = \n MULTIDO = true\n MULTICLEAN = true\n-@USE_LIBDIR_TRUE@toolexeclibdir = @USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexeclibdir = @USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexecdir = @USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n \n toolexeclib_LTLIBRARIES = libffi.la\n noinst_LTLIBRARIES = libffi_convenience.la\n@@ -216,15 +215,15 @@ libffi_la_common_SOURCES = src/debug.c src/prep_cif.c src/types.c \\\n @ARM_TRUE@libffi_convenience_la_SOURCES = @ARM_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_ARM)\n @S390_TRUE@libffi_convenience_la_SOURCES = @S390_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_S390)\n @X86_64_TRUE@libffi_convenience_la_SOURCES = @X86_64_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_X86_64)\n-@SH_TRUE@libffi_convenience_la_SOURCES = @SH_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_SH)\n+@SH_TRUE@libfficonvenience_la_SOURCES = @SH_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_SH)\n \n AM_CFLAGS = -fexceptions\n \n libffi_la_LDFLAGS = -release $(VERSION) \n \n INCLUDES = -I$(top_srcdir)/include -Iinclude -I$(top_srcdir)/src\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/${libffi_basedir}/../mkinstalldirs\n CONFIG_HEADER = fficonfig.h\n CONFIG_CLEAN_FILES = \n LTLIBRARIES =  $(noinst_LTLIBRARIES) $(toolexeclib_LTLIBRARIES)\n@@ -236,112 +235,112 @@ LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n libffi_convenience_la_LDFLAGS = \n libffi_convenience_la_LIBADD = \n-@MIPS_GCC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_GCC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_GCC_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n-@MIPS_GCC_TRUE@src/mips/n32.lo\n-@POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n @ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n @IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n-@POWERPC_DARWIN_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@POWERPC_DARWIN_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@POWERPC_DARWIN_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/darwin.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@MIPS_SGI_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_SGI_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_SGI_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n-@MIPS_SGI_TRUE@src/mips/n32.lo\n-@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n+@MIPS_GCC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_GCC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_GCC_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n+@MIPS_GCC_TRUE@src/mips/n32.lo\n @S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n-@SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@SH_TRUE@src/sh/sysv.lo src/sh/ffi.lo\n+@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n @X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n-@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n-@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n @POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n @POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo\n+@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n+@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n+@X86_64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_64_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_64_TRUE@src/java_raw_api.lo src/x86/ffi64.lo src/x86/unix64.lo \\\n+@X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n @SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n @SPARC_TRUE@src/sparc/v9.lo\n-@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n+@POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n+@MIPS_SGI_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_SGI_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_SGI_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n+@MIPS_SGI_TRUE@src/mips/n32.lo\n+@POWERPC_DARWIN_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@POWERPC_DARWIN_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@POWERPC_DARWIN_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/darwin.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n+@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n libffi_la_LIBADD = \n-@MIPS_GCC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_GCC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_GCC_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n-@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n-@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n+@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n+@SH_TRUE@src/sh/ffi.lo\n @IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n-@POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n-@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@MIPS_SGI_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_SGI_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_SGI_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n-@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n-@X86_64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo src/x86/unix64.lo src/x86/ffi64.lo\n-@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo src/sh/ffi.lo\n @X86_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n @X86_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n @X86_TRUE@src/x86/sysv.lo\n-@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n-@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n-@ARM_TRUE@src/arm/ffi.lo\n @POWERPC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_TRUE@src/powerpc/ffi.lo src/powerpc/sysv.lo \\\n @POWERPC_TRUE@src/powerpc/ppc_closure.lo\n+@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n @SPARC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SPARC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SPARC_TRUE@src/sparc/ffi.lo src/sparc/v8.lo src/sparc/v9.lo\n+@POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n+@POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n+@MIPS_SGI_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_SGI_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_SGI_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n+@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n+@ARM_TRUE@src/arm/ffi.lo\n+@ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n+@MIPS_GCC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_GCC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_GCC_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n+@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n @M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@X86_64_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n-@X86_64_TRUE@src/x86/sysv.lo src/x86/unix64.lo src/x86/ffi64.lo\n+@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n+@X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n+@X86_64_TRUE@src/x86/sysv.lo\n+@POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n+@POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n noinst_PROGRAMS =  ffitest$(EXEEXT)\n PROGRAMS =  $(noinst_PROGRAMS)\n \n@@ -524,7 +523,7 @@ maintainer-clean-recursive:\n \tdot_seen=no; \\\n \trev=''; list='$(SUBDIRS)'; for subdir in $$list; do \\\n \t  rev=\"$$subdir $$rev\"; \\\n-\t  test \"$$subdir\" != \".\" || dot_seen=yes; \\\n+\t  test \"$$subdir\" = \".\" && dot_seen=yes; \\\n \tdone; \\\n \ttest \"$$dot_seen\" = \"no\" && rev=\". $$rev\"; \\\n \ttarget=`echo $@ | sed s/-recursive//`; \\\n@@ -617,7 +616,7 @@ distdir: $(DISTFILES)\n \t-chmod 777 $(distdir)\n \t$(mkinstalldirs) $(distdir)/src/alpha $(distdir)/src/arm \\\n \t   $(distdir)/src/m68k $(distdir)/src/mips \\\n-\t   $(distdir)/src/powerpc $(distdir)/src/s390 \\\n+\t   $(distdir)/src/powerpc $(distdir)/src/s390 $(distdir)/src/sh \\\n \t   $(distdir)/src/sparc $(distdir)/src/x86\n \t@for file in $(DISTFILES); do \\\n \t  if test -f $$file; then d=.; else d=$(srcdir); fi; \\"}, {"sha": "5c830607c14c1b1e7c17c024c6787e59cbf7ea1c", "filename": "libffi/configure", "status": "modified", "additions": 143, "deletions": 99, "changes": 242, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db2cd5e6c0fb329a8191993a203bdfd43069664e/libffi%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db2cd5e6c0fb329a8191993a203bdfd43069664e/libffi%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure?ref=db2cd5e6c0fb329a8191993a203bdfd43069664e", "patch": "@@ -1740,12 +1740,54 @@ ia64-*-hpux*)\n   rm -rf conftest*\n   ;;\n \n+x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*|s390*-*linux*|sparc*-*linux*)\n+  # Find out which ABI we are using.\n+  echo 'int i;' > conftest.$ac_ext\n+  if { (eval echo configure:1747: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_i386\"\n+          ;;\n+        ppc64-*linux*)\n+          LD=\"${LD-ld} -m elf32ppclinux\"\n+          ;;\n+        s390x-*linux*)\n+          LD=\"${LD-ld} -m elf_s390\"\n+          ;;\n+        sparc64-*linux*)\n+          LD=\"${LD-ld} -m elf32_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    *64-bit*)\n+      case $host in\n+        x86_64-*linux*)\n+          LD=\"${LD-ld} -m elf_x86_64\"\n+          ;;\n+        ppc*-*linux*|powerpc*-*linux*)\n+          LD=\"${LD-ld} -m elf64ppc\"\n+          ;;\n+        s390*-*linux*)\n+          LD=\"${LD-ld} -m elf64_s390\"\n+          ;;\n+        sparc*-*linux*)\n+          LD=\"${LD-ld} -m elf64_sparc\"\n+          ;;\n+      esac\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n *-*-sco3.2v5*)\n   # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1749: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:1791: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1758,14 +1800,14 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n      cat > conftest.$ac_ext <<EOF\n-#line 1762 \"configure\"\n+#line 1804 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1769: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1811: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -1893,7 +1935,7 @@ exec 5>>./config.log\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1897: checking for a BSD compatible install\" >&5\n+echo \"configure:1939: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1946,7 +1988,7 @@ test -z \"$INSTALL_SCRIPT\" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'\n test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n echo $ac_n \"checking whether build environment is sane\"\"... $ac_c\" 1>&6\n-echo \"configure:1950: checking whether build environment is sane\" >&5\n+echo \"configure:1992: checking whether build environment is sane\" >&5\n # Just in case\n sleep 1\n echo timestamp > conftestfile\n@@ -2003,7 +2045,7 @@ test \"$program_suffix\" != NONE &&\n test \"$program_transform_name\" = \"\" && program_transform_name=\"s,x,x,\"\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:2007: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:2049: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -2042,7 +2084,7 @@ fi\n \n missing_dir=`cd $ac_aux_dir && pwd`\n echo $ac_n \"checking for working aclocal\"\"... $ac_c\" 1>&6\n-echo \"configure:2046: checking for working aclocal\" >&5\n+echo \"configure:2088: checking for working aclocal\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2055,7 +2097,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoconf\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking for working autoconf\" >&5\n+echo \"configure:2101: checking for working autoconf\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2068,7 +2110,7 @@ else\n fi\n \n echo $ac_n \"checking for working automake\"\"... $ac_c\" 1>&6\n-echo \"configure:2072: checking for working automake\" >&5\n+echo \"configure:2114: checking for working automake\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2081,7 +2123,7 @@ else\n fi\n \n echo $ac_n \"checking for working autoheader\"\"... $ac_c\" 1>&6\n-echo \"configure:2085: checking for working autoheader\" >&5\n+echo \"configure:2127: checking for working autoheader\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2094,7 +2136,7 @@ else\n fi\n \n echo $ac_n \"checking for working makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:2098: checking for working makeinfo\" >&5\n+echo \"configure:2140: checking for working makeinfo\" >&5\n # Run test in a subshell; some versions of sh will print an error if\n # an executable is not found, even if stderr is redirected.\n # Redirect stdin to placate older versions of autoconf.  Sigh.\n@@ -2111,7 +2153,7 @@ fi\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:2115: checking for executable suffix\" >&5\n+echo \"configure:2157: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2121,7 +2163,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:2125: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:2167: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj) ;;\n@@ -2142,7 +2184,7 @@ echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n ac_exeext=$EXEEXT\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:2146: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:2188: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -2168,7 +2210,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2172: checking for $ac_word\" >&5\n+echo \"configure:2214: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2198,7 +2240,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2202: checking for $ac_word\" >&5\n+echo \"configure:2244: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2249,7 +2291,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2253: checking for $ac_word\" >&5\n+echo \"configure:2295: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2281,7 +2323,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:2285: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:2327: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2292,12 +2334,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2296 \"configure\"\n+#line 2338 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2301: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2343: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2323,12 +2365,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2327: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2369: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:2332: checking whether we are using GNU C\" >&5\n+echo \"configure:2374: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2337,7 +2379,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2341: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2383: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -2356,7 +2398,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:2360: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:2402: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2579,7 +2621,7 @@ if test x$TARGET = xMIPS_LINUX; then\n fi\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2583: checking how to run the C preprocessor\" >&5\n+echo \"configure:2625: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2594,13 +2636,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2598 \"configure\"\n+#line 2640 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2604: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2646: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2611,13 +2653,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2615 \"configure\"\n+#line 2657 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2621: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2663: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2628,13 +2670,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2632 \"configure\"\n+#line 2674 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2638: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2680: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2659,20 +2701,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2663: checking for ANSI C header files\" >&5\n+echo \"configure:2705: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2668 \"configure\"\n+#line 2710 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2676: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2718: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2689,7 +2731,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2693 \"configure\"\n+#line 2735 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2707,7 +2749,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2711 \"configure\"\n+#line 2753 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2728,7 +2770,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2732 \"configure\"\n+#line 2774 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2739,7 +2781,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2743: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2785: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2765,12 +2807,12 @@ fi\n for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2769: checking for $ac_func\" >&5\n+echo \"configure:2811: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2774 \"configure\"\n+#line 2816 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2793,7 +2835,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2797: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2839: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2820,19 +2862,19 @@ done\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2824: checking for working alloca.h\" >&5\n+echo \"configure:2866: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2829 \"configure\"\n+#line 2871 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:2836: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2878: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -2853,12 +2895,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2857: checking for alloca\" >&5\n+echo \"configure:2899: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2862 \"configure\"\n+#line 2904 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -2886,7 +2928,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2890: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2932: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -2918,12 +2960,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:2922: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:2964: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2927 \"configure\"\n+#line 2969 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -2948,12 +2990,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2952: checking for $ac_func\" >&5\n+echo \"configure:2994: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2957 \"configure\"\n+#line 2999 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2976,7 +3018,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2980: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3022: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3003,15 +3045,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3007: checking stack direction for C alloca\" >&5\n+echo \"configure:3049: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3015 \"configure\"\n+#line 3057 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -3030,7 +3072,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:3034: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3076: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -3053,13 +3095,13 @@ fi\n \n \n echo $ac_n \"checking size of short\"\"... $ac_c\" 1>&6\n-echo \"configure:3057: checking size of short\" >&5\n+echo \"configure:3099: checking size of short\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_short'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3063 \"configure\"\n+#line 3105 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3069,7 +3111,7 @@ int main() {\n switch (0) case 0: case (sizeof (short) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3073: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3115: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_short=$ac_size\n else\n@@ -3092,13 +3134,13 @@ EOF\n \n \n echo $ac_n \"checking size of int\"\"... $ac_c\" 1>&6\n-echo \"configure:3096: checking size of int\" >&5\n+echo \"configure:3138: checking size of int\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_int'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3102 \"configure\"\n+#line 3144 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3108,7 +3150,7 @@ int main() {\n switch (0) case 0: case (sizeof (int) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3112: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3154: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_int=$ac_size\n else\n@@ -3131,13 +3173,13 @@ EOF\n \n \n echo $ac_n \"checking size of long\"\"... $ac_c\" 1>&6\n-echo \"configure:3135: checking size of long\" >&5\n+echo \"configure:3177: checking size of long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3141 \"configure\"\n+#line 3183 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3147,7 +3189,7 @@ int main() {\n switch (0) case 0: case (sizeof (long) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3151: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3193: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long=$ac_size\n else\n@@ -3170,13 +3212,13 @@ EOF\n \n \n echo $ac_n \"checking size of long long\"\"... $ac_c\" 1>&6\n-echo \"configure:3174: checking size of long long\" >&5\n+echo \"configure:3216: checking size of long long\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_long'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3180 \"configure\"\n+#line 3222 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3186,7 +3228,7 @@ int main() {\n switch (0) case 0: case (sizeof (long long) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3190: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3232: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long_long=$ac_size\n else\n@@ -3209,13 +3251,13 @@ EOF\n \n \n echo $ac_n \"checking size of float\"\"... $ac_c\" 1>&6\n-echo \"configure:3213: checking size of float\" >&5\n+echo \"configure:3255: checking size of float\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_float'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3219 \"configure\"\n+#line 3261 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3225,7 +3267,7 @@ int main() {\n switch (0) case 0: case (sizeof (float) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3229: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3271: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_float=$ac_size\n else\n@@ -3248,13 +3290,13 @@ EOF\n \n \n echo $ac_n \"checking size of double\"\"... $ac_c\" 1>&6\n-echo \"configure:3252: checking size of double\" >&5\n+echo \"configure:3294: checking size of double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3258 \"configure\"\n+#line 3300 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3264,7 +3306,7 @@ int main() {\n switch (0) case 0: case (sizeof (double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3268: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3310: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_double=$ac_size\n else\n@@ -3287,13 +3329,13 @@ EOF\n \n \n echo $ac_n \"checking size of long double\"\"... $ac_c\" 1>&6\n-echo \"configure:3291: checking size of long double\" >&5\n+echo \"configure:3333: checking size of long double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3297 \"configure\"\n+#line 3339 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3303,7 +3345,7 @@ int main() {\n switch (0) case 0: case (sizeof (long double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3307: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3349: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long_double=$ac_size\n else\n@@ -3327,13 +3369,13 @@ EOF\n \n \n echo $ac_n \"checking size of void *\"\"... $ac_c\" 1>&6\n-echo \"configure:3331: checking size of void *\" >&5\n+echo \"configure:3373: checking size of void *\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_void_p'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3337 \"configure\"\n+#line 3379 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3343,7 +3385,7 @@ int main() {\n switch (0) case 0: case (sizeof (void *) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3347: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3389: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_void_p=$ac_size\n else\n@@ -3366,14 +3408,14 @@ EOF\n \n \n echo $ac_n \"checking whether byte ordering is bigendian\"\"... $ac_c\" 1>&6\n-echo \"configure:3370: checking whether byte ordering is bigendian\" >&5\n+echo \"configure:3412: checking whether byte ordering is bigendian\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_bigendian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_bigendian=unknown\n # See if sys/param.h defines the BYTE_ORDER macro.\n cat > conftest.$ac_ext <<EOF\n-#line 3377 \"configure\"\n+#line 3419 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3384,11 +3426,11 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3388: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3430: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n cat > conftest.$ac_ext <<EOF\n-#line 3392 \"configure\"\n+#line 3434 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3399,7 +3441,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3403: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3445: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_bigendian=yes\n else\n@@ -3419,7 +3461,7 @@ if test \"$cross_compiling\" = yes; then\n    echo $ac_n \"cross-compiling... \" 2>&6 \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3423 \"configure\"\n+#line 3465 \"configure\"\n #include \"confdefs.h\"\n main () {\n   /* Are we little or big endian?  From Harbison&Steele.  */\n@@ -3432,7 +3474,7 @@ main () {\n   exit (u.c[sizeof (long) - 1] == 1);\n }\n EOF\n-if { (eval echo configure:3436: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3478: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_bigendian=no\n else\n@@ -3450,7 +3492,7 @@ fi\n echo \"$ac_t\"\"$ac_cv_c_bigendian\" 1>&6\n if test $ac_cv_c_bigendian = unknown; then\n echo $ac_n \"checking to probe for byte ordering\"\"... $ac_c\" 1>&6\n-echo \"configure:3454: checking to probe for byte ordering\" >&5\n+echo \"configure:3496: checking to probe for byte ordering\" >&5\n \n cat >conftest.c <<EOF\n short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n@@ -3504,7 +3546,7 @@ fi\n \n if test x$TARGET = xSPARC; then\n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:3508: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:3550: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3514,14 +3556,14 @@ else\n \tCFLAGS=\"$CFLAGS -fpic\"\n \tLDFLAGS=\"$LDFLAGS -shared\"\n \tcat > conftest.$ac_ext <<EOF\n-#line 3518 \"configure\"\n+#line 3560 \"configure\"\n #include \"confdefs.h\"\n asm (\".text; foo: nop; .data; .align 4; .byte 0; .uaword %r_disp32(foo); .text\");\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3525: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3567: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   libffi_cv_as_sparc_ua_pcrel=yes\n else\n@@ -3597,15 +3639,17 @@ EOF\n fi\n \n \n-\n-\n-if test -z \"$with_cross_host\"; then\n-  USE_LIBDIR_TRUE=\n-  USE_LIBDIR_FALSE='#'\n+if test -n \"$with_cross_host\" &&\n+   test x\"$with_cross_host\" != x\"no\"; then\n+  toolexecdir='$(exec_prefix)/$(target_alias)'\n+  toolexeclibdir='$(toolexecdir)/lib'\n else\n-  USE_LIBDIR_TRUE='#'\n-  USE_LIBDIR_FALSE=\n+  toolexecdir='$(libdir)/gcc-lib/$(target_alias)'\n+  toolexeclibdir='$(libdir)'\n fi\n+toolexeclibdir=$toolexeclibdir/`$CC -print-multi-os-directory`\n+\n+\n \n if test \"${multilib}\" = \"yes\"; then\n   multilib_arg=\"--enable-multilib\"\n@@ -3814,8 +3858,8 @@ s%@CPP@%$CPP%g\n s%@ALLOCA@%$ALLOCA%g\n s%@TARGET@%$TARGET%g\n s%@TARGETDIR@%$TARGETDIR%g\n-s%@USE_LIBDIR_TRUE@%$USE_LIBDIR_TRUE%g\n-s%@USE_LIBDIR_FALSE@%$USE_LIBDIR_FALSE%g\n+s%@toolexecdir@%$toolexecdir%g\n+s%@toolexeclibdir@%$toolexeclibdir%g\n \n CEOF\n EOF"}]}