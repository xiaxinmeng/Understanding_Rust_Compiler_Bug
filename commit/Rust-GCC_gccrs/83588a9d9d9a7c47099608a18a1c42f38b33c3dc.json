{"sha": "83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODM1ODhhOWQ5ZDlhN2M0NzA5OTYwOGExOGExYzQyZjM4YjMzYzNkYw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2003-06-05T13:00:14Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2003-06-05T13:00:14Z"}, "message": "combine.c (simplify_if_then_else): (IF_THEN_ELSE (NE REG 0) (0) (8)) is REG for nonzero_bits (REG) == 8.\n\n\t* combine.c (simplify_if_then_else): (IF_THEN_ELSE (NE REG 0) (0) (8))\n\tis REG for nonzero_bits (REG) == 8.\n\nFrom-SVN: r67488", "tree": {"sha": "fb5f321e5453a09f1a662dee871e9bc946902416", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb5f321e5453a09f1a662dee871e9bc946902416"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83588a9d9d9a7c47099608a18a1c42f38b33c3dc/comments", "author": null, "committer": null, "parents": [{"sha": "6262f66a0b8447d73ef78f83e329a760c3650798", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6262f66a0b8447d73ef78f83e329a760c3650798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6262f66a0b8447d73ef78f83e329a760c3650798"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "1a295ba5b6c8e5a96cd13b7d4ad342283e30f327", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83588a9d9d9a7c47099608a18a1c42f38b33c3dc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83588a9d9d9a7c47099608a18a1c42f38b33c3dc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "patch": "@@ -1,3 +1,8 @@\n+Thu Jun  5 14:59:44 CEST 2003  Jan Hubicka  <jh@suse.cz>\n+\n+\t* combine.c (simplify_if_then_else): (IF_THEN_ELSE (NE REG 0) (0) (8))\n+\tis REG for nonzero_bits (REG) == 8.  \n+\n Thu Jun  5 13:23:51 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.md (align): Fix warning; clarify what to do when no p2align"}, {"sha": "d476bf0ac82377e3ac7a0e292c8be2d1bee57a3b", "filename": "gcc/combine.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83588a9d9d9a7c47099608a18a1c42f38b33c3dc/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83588a9d9d9a7c47099608a18a1c42f38b33c3dc/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=83588a9d9d9a7c47099608a18a1c42f38b33c3dc", "patch": "@@ -5049,6 +5049,14 @@ simplify_if_then_else (x)\n       simplify_shift_const (NULL_RTX, ASHIFT, mode,\n \t\t\t    gen_lowpart_for_combine (mode, XEXP (cond, 0)), i);\n \n+  /* (IF_THEN_ELSE (NE REG 0) (0) (8)) is REG for nonzero_bits (REG) == 8.  */\n+  if (true_code == NE && XEXP (cond, 1) == const0_rtx\n+      && false_rtx == const0_rtx && GET_CODE (true_rtx) == CONST_INT\n+      && (INTVAL (true_rtx) & GET_MODE_MASK (mode))\n+\t  == nonzero_bits (XEXP (cond, 0), mode)\n+      && (i = exact_log2 (INTVAL (true_rtx) & GET_MODE_MASK (mode))) >= 0)\n+    return XEXP (cond, 0);\n+\n   return x;\n }\n \f"}]}