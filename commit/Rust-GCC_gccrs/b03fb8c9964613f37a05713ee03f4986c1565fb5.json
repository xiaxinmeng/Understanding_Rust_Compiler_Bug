{"sha": "b03fb8c9964613f37a05713ee03f4986c1565fb5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjAzZmI4Yzk5NjQ2MTNmMzdhMDU3MTNlZTAzZjQ5ODZjMTU2NWZiNQ==", "commit": {"author": {"name": "Adhemerval Zanella", "email": "azanella@linux.vnet.ibm.com", "date": "2013-12-03T18:57:37Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2013-12-03T18:57:37Z"}, "message": "ibm-ldouble.c (__gcc_qadd): Fix add of normal number and qNaN to not raise an inexact exception.\n\nlibgcc/ChangeLog:\n\n2013-12-03  Adhemerval Zanella  <azanella@linux.vnet.ibm.com>\n\n\t* config/rs6000/ibm-ldouble.c (__gcc_qadd): Fix add\n\tof normal number and qNaN to not raise an inexact exception.\n\ngcc/testsuite/ChangeLog:\n\n2013-12-03  Adhemerval Zanella  <azanella@linux.vnet.ibm.com>\n\n\t* gcc.target/powerpc/pr57363.c: New test.\n\nFrom-SVN: r205645", "tree": {"sha": "1e3a6f8f58f805342bab310cb7bc975025fe4cb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e3a6f8f58f805342bab310cb7bc975025fe4cb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b03fb8c9964613f37a05713ee03f4986c1565fb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b03fb8c9964613f37a05713ee03f4986c1565fb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b03fb8c9964613f37a05713ee03f4986c1565fb5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b03fb8c9964613f37a05713ee03f4986c1565fb5/comments", "author": null, "committer": null, "parents": [{"sha": "ba4fa5819f91c7e82eb08ff33fd61b106715a54e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba4fa5819f91c7e82eb08ff33fd61b106715a54e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba4fa5819f91c7e82eb08ff33fd61b106715a54e"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "2fea78d97d00f75b6e7d4f8860b9109f8e64403c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b03fb8c9964613f37a05713ee03f4986c1565fb5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b03fb8c9964613f37a05713ee03f4986c1565fb5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b03fb8c9964613f37a05713ee03f4986c1565fb5", "patch": "@@ -1,3 +1,7 @@\n+2013-12-03  Adhemerval Zanella  <azanella@linux.vnet.ibm.com>\n+\n+\t* gcc.target/powerpc/pr57363.c: New test.\n+\n 2013-12-03  Wei Mi  <wmi@google.com>\n \n \tPR rtl-optimization/59020"}, {"sha": "45ea3f3fe61bd8f7160e2df3ac56adc5d27abf7f", "filename": "gcc/testsuite/gcc.target/powerpc/pr57363.c", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b03fb8c9964613f37a05713ee03f4986c1565fb5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr57363.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b03fb8c9964613f37a05713ee03f4986c1565fb5/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr57363.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fpr57363.c?ref=b03fb8c9964613f37a05713ee03f4986c1565fb5", "patch": "@@ -0,0 +1,19 @@\n+/* { dg-do run { target { powerpc*-*-linux* } } } */\n+/* { dg-options \"-mlong-double-128\" } */\n+\n+/* Check if adding a qNAN and a normal long double does not generate a\n+   inexact exception.  */\n+\n+#define _GNU_SOURCE\n+#include <fenv.h>\n+\n+int main(void)\n+{\n+  double x = __builtin_nan (\"\");\n+  long double y = 1.1L;\n+\n+  feenableexcept (FE_INEXACT);\n+  feclearexcept (FE_ALL_EXCEPT);\n+  x = x + y;\n+  return fetestexcept(FE_INEXACT);\n+}"}, {"sha": "fea1c054766ba68fae2ad70317b2b3203fa59d11", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b03fb8c9964613f37a05713ee03f4986c1565fb5/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b03fb8c9964613f37a05713ee03f4986c1565fb5/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=b03fb8c9964613f37a05713ee03f4986c1565fb5", "patch": "@@ -1,3 +1,8 @@\n+2013-12-03  Adhemerval Zanella  <azanella@linux.vnet.ibm.com>\n+\n+\t* config/rs6000/ibm-ldouble.c (__gcc_qadd): Fix add\n+\tof normal number and qNaN to not raise an inexact exception.\n+\n 2013-11-28  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/32/sfp-machine.h (__FP_FRAC_ADDI_4): New macro."}, {"sha": "7ca900c783002e944f0a0695fde80ba4f8e2746a", "filename": "libgcc/config/rs6000/ibm-ldouble.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b03fb8c9964613f37a05713ee03f4986c1565fb5/libgcc%2Fconfig%2Frs6000%2Fibm-ldouble.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b03fb8c9964613f37a05713ee03f4986c1565fb5/libgcc%2Fconfig%2Frs6000%2Fibm-ldouble.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Frs6000%2Fibm-ldouble.c?ref=b03fb8c9964613f37a05713ee03f4986c1565fb5", "patch": "@@ -104,6 +104,8 @@ __gcc_qadd (double a, double aa, double c, double cc)\n \n   if (nonfinite (z))\n     {\n+      if (fabs (z) != inf())\n+\treturn z;\n       z = cc + aa + c + a;\n       if (nonfinite (z))\n \treturn z;"}]}