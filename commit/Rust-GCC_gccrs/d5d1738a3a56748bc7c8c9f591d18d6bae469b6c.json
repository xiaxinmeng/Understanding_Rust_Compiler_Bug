{"sha": "d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDVkMTczOGEzYTU2NzQ4YmM3YzhjOWY1OTFkMThkNmJhZTQ2OWI2Yw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1997-09-05T02:36:53Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-09-05T02:36:53Z"}, "message": "Fix mips-sgi-irix5.2 eh25 g++ testsuite failure.\n\n\t* mips.md (nonlocal_goto_receiver): Define.\n\nFrom-SVN: r15091", "tree": {"sha": "739c81643195564ca87208a8ab213e6f3113e429", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/739c81643195564ca87208a8ab213e6f3113e429"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c/comments", "author": null, "committer": null, "parents": [{"sha": "f4da78811e4cfecc28779c94a861c305b6ac078d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4da78811e4cfecc28779c94a861c305b6ac078d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4da78811e4cfecc28779c94a861c305b6ac078d"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "9bea4de7d7d7590bad1bc19819105288ef711e18", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "patch": "@@ -1,5 +1,7 @@\n Thu Sep  4 15:02:27 1997  Jim Wilson  <wilson@cygnus.com>\n \n+\t* mips.md (nonlocal_goto_receiver): Define.\n+\n \t* profile.c (output_arc_profiler): Check next_insert_after for non\n \tNULL before deferencing it.\n "}, {"sha": "8bc70b770d8ee0af81e7507c8072c02e35ee4a48", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5d1738a3a56748bc7c8c9f591d18d6bae469b6c/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=d5d1738a3a56748bc7c8c9f591d18d6bae469b6c", "patch": "@@ -6392,6 +6392,24 @@ move\\\\t%0,%z4\\\\n\\\\\n    (set_attr \"mode\"\t\"none\")\n    (set_attr \"length\"\t\"6\")])\n \n+;; ??? This is a hack to work around a problem with expand_builtin_setjmp.\n+;; It restores the frame pointer, and then does a call to restore the global\n+;; pointer (gp) register.  The call insn implicitly (via the assembler) reloads\n+;; gp from the stack.  However, call insns do not depend on $fp, so it is\n+;; possible for the instruction scheduler to move the fp restore after the\n+;; call, which then causes gp to be corrupted.  We fix this by emitting a\n+;; scheduler barrier.  A better fix is to put code here that restores the\n+;; $gp, and then the call is unnecessary.  This is only a problem when PIC\n+;; (TARGET_ABICALLS), and only when the gp register is caller-saved\n+;; (irix5/o32, but not irix6/n32/n64).\n+\n+(define_expand \"nonlocal_goto_receiver\"\n+  [(const_int 0)]\n+  \"\"\n+  \"\n+{\n+  emit_insn (gen_blockage ());\n+}\")\n \f\n ;;\n ;;  ...................."}]}