{"sha": "13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNjZjcyNjJhYzBmYjhjMmFiOWM5Zjc5OGY5MDI3ZDEwM2M4MTc3Mw==", "commit": {"author": {"name": "Aaron W. LaFramboise", "email": "aaronavay62@aaronwl.com", "date": "2004-10-27T20:13:57Z"}, "committer": {"name": "Aaron W. LaFramboise", "email": "aaronwl@gcc.gnu.org", "date": "2004-10-27T20:13:57Z"}, "message": "re PR bootstrap/17832 (Bootstrap broken by fixincludes failures)\n\n\tPR bootstrap/17832\n\n\t* fixfixes.c (main): Check for _PC_NAME_MAX.\n----------------------------------------------------------------------\n\nFrom-SVN: r89706", "tree": {"sha": "839531b7d0b0f633ad17e99f28a34c255644f2d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/839531b7d0b0f633ad17e99f28a34c255644f2d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13cf7262ac0fb8c2ab9c9f798f9027d103c81773/comments", "author": null, "committer": null, "parents": [{"sha": "0b371c72fe94d563b0f2c49288177872f04cc32a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b371c72fe94d563b0f2c49288177872f04cc32a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b371c72fe94d563b0f2c49288177872f04cc32a"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "c50e4d7e1dc99574c47e41d769c12d15fce2e92c", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13cf7262ac0fb8c2ab9c9f798f9027d103c81773/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13cf7262ac0fb8c2ab9c9f798f9027d103c81773/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "patch": "@@ -1,3 +1,9 @@\n+2004-10-27  Aaron W. LaFramboise  <aaronavay62@aaronwl.com>\n+\n+\tPR bootstrap/17832\n+\n+\t* fixfixes.c (main): Check for _PC_NAME_MAX.\n+\n 2004-10-27  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR other/17991"}, {"sha": "732092061a032478d3f099ff734aa8e71afafbe1", "filename": "fixincludes/fixfixes.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13cf7262ac0fb8c2ab9c9f798f9027d103c81773/fixincludes%2Ffixfixes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13cf7262ac0fb8c2ab9c9f798f9027d103c81773/fixincludes%2Ffixfixes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixfixes.c?ref=13cf7262ac0fb8c2ab9c9f798f9027d103c81773", "patch": "@@ -778,10 +778,12 @@ main( int argc, char** argv )\n      doesn't allow more than one dot in the trunk of a file name.  */\n   pz_tmp_base = basename( pz_tmptmp );\n   pz_tmp_dot = strchr( pz_tmp_base, '.' );\n+#ifdef _PC_NAME_MAX\n   if (pathconf( pz_tmptmp, _PC_NAME_MAX ) <= 12\t/* is this DOS or Windows9X? */\n       && pz_tmp_dot != (char*)NULL)\n     strcpy (pz_tmp_dot+1, \"X\"); /* nuke the original extension */\n   else\n+#endif /* _PC_NAME_MAX */\n     strcat (pz_tmptmp, \".X\");\n   if (freopen (pz_tmptmp, \"w\", stdout) != stdout)\n     {"}]}