{"sha": "75e479a8b5afc311eafb7312a2f877166309d374", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVlNDc5YThiNWFmYzMxMWVhZmI3MzEyYTJmODc3MTY2MzA5ZDM3NA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-12-27T03:13:11Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-12-27T03:13:11Z"}, "message": "runtime: on ARM32 EABI, don't get LSDA if compact model is used\n    \n    On ARM32 EABI, when the \"compact\" unwinding model is used, it\n    does not have standard LSDA and _Unwind_GetLanguageSpecificData\n    will not return data that is parseable by us. Check this\n    conditon before calling _Unwind_GetLanguageSpecificData.\n    \n    Fix ARM32 build.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/155758\n\nFrom-SVN: r267428", "tree": {"sha": "4ad7e40b50094b49bec14206412ac794bae1b3fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ad7e40b50094b49bec14206412ac794bae1b3fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75e479a8b5afc311eafb7312a2f877166309d374", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75e479a8b5afc311eafb7312a2f877166309d374", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75e479a8b5afc311eafb7312a2f877166309d374", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75e479a8b5afc311eafb7312a2f877166309d374/comments", "author": null, "committer": null, "parents": [{"sha": "257992db897963535d4fdec0ccae4e3f3cb1086c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/257992db897963535d4fdec0ccae4e3f3cb1086c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/257992db897963535d4fdec0ccae4e3f3cb1086c"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "2bcf53653d731eea1bb010c401a72a5201750c0f", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75e479a8b5afc311eafb7312a2f877166309d374/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75e479a8b5afc311eafb7312a2f877166309d374/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=75e479a8b5afc311eafb7312a2f877166309d374", "patch": "@@ -1,4 +1,4 @@\n-16a48dbc1c69075321b388d235651b59abcb58ce\n+785414705628bf9d1279a8042e1886440424aade\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "388d7c708a91d857e934d230c7d6fa7b62bd0a9f", "filename": "libgo/runtime/go-unwind.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75e479a8b5afc311eafb7312a2f877166309d374/libgo%2Fruntime%2Fgo-unwind.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75e479a8b5afc311eafb7312a2f877166309d374/libgo%2Fruntime%2Fgo-unwind.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-unwind.c?ref=75e479a8b5afc311eafb7312a2f877166309d374", "patch": "@@ -646,6 +646,17 @@ findstackmaps (struct _Unwind_Context *context, _Unwind_Ptr *ip, _Unwind_Ptr *sp\n   _sleb128_t index;\n   int size;\n \n+#ifdef __ARM_EABI_UNWINDER__\n+  {\n+    _Unwind_Control_Block *ucbp;\n+    ucbp = (_Unwind_Control_Block *) _Unwind_GetGR (context, 12);\n+    if (*ucbp->pr_cache.ehtp & (1u << 31))\n+      // The \"compact\" model is used, with one of the predefined\n+      // personality functions. It doesn't have standard LSDA.\n+      return NOTFOUND_OK;\n+  }\n+#endif\n+\n   language_specific_data = (const unsigned char *)\n     _Unwind_GetLanguageSpecificData (context);\n "}]}