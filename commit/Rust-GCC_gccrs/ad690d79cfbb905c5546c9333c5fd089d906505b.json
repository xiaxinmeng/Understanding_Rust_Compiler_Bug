{"sha": "ad690d79cfbb905c5546c9333c5fd089d906505b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ2OTBkNzljZmJiOTA1YzU1NDZjOTMzM2M1ZmQwODlkOTA2NTA1Yg==", "commit": {"author": {"name": "Andrew Benson", "email": "abenson@carnegiescience.edu", "date": "2020-01-28T18:12:23Z"}, "committer": {"name": "Andrew Benson", "email": "abenson@carnegiescience.edu", "date": "2020-01-28T18:12:23Z"}, "message": "Increase GFC_MAX_MANGLED_SYMBOL_LEN to handle submodule names.\n\n        PR fortran/93461\n        * trans.h: Increase GFC_MAX_MANGLED_SYMBOL_LEN to\n        GFC_MAX_SYMBOL_LEN*3+5 to allow for inclusion of submodule name,\n        plus the \".\" between module and submodule names.\n        * gfortran.dg/pr93461.f90: New test.", "tree": {"sha": "fb438caef385228d05ed42b6db90c165a5d5e718", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb438caef385228d05ed42b6db90c165a5d5e718"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad690d79cfbb905c5546c9333c5fd089d906505b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad690d79cfbb905c5546c9333c5fd089d906505b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad690d79cfbb905c5546c9333c5fd089d906505b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad690d79cfbb905c5546c9333c5fd089d906505b/comments", "author": {"login": "abensonca", "id": 7468651, "node_id": "MDQ6VXNlcjc0Njg2NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7468651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abensonca", "html_url": "https://github.com/abensonca", "followers_url": "https://api.github.com/users/abensonca/followers", "following_url": "https://api.github.com/users/abensonca/following{/other_user}", "gists_url": "https://api.github.com/users/abensonca/gists{/gist_id}", "starred_url": "https://api.github.com/users/abensonca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abensonca/subscriptions", "organizations_url": "https://api.github.com/users/abensonca/orgs", "repos_url": "https://api.github.com/users/abensonca/repos", "events_url": "https://api.github.com/users/abensonca/events{/privacy}", "received_events_url": "https://api.github.com/users/abensonca/received_events", "type": "User", "site_admin": false}, "committer": {"login": "abensonca", "id": 7468651, "node_id": "MDQ6VXNlcjc0Njg2NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7468651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abensonca", "html_url": "https://github.com/abensonca", "followers_url": "https://api.github.com/users/abensonca/followers", "following_url": "https://api.github.com/users/abensonca/following{/other_user}", "gists_url": "https://api.github.com/users/abensonca/gists{/gist_id}", "starred_url": "https://api.github.com/users/abensonca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abensonca/subscriptions", "organizations_url": "https://api.github.com/users/abensonca/orgs", "repos_url": "https://api.github.com/users/abensonca/repos", "events_url": "https://api.github.com/users/abensonca/events{/privacy}", "received_events_url": "https://api.github.com/users/abensonca/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a83b5cc5828ee34471de415e8893242dd3b0a91b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a83b5cc5828ee34471de415e8893242dd3b0a91b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a83b5cc5828ee34471de415e8893242dd3b0a91b"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "0033246b9924df172c2ae3caded4e690fbba3aeb", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ad690d79cfbb905c5546c9333c5fd089d906505b", "patch": "@@ -1,3 +1,11 @@\n+2020-01-28  Andrew Benson  <abensonca@gmail.com>\n+\n+        PR fortran/93461\n+        * trans.h: Increase GFC_MAX_MANGLED_SYMBOL_LEN to\n+        GFC_MAX_SYMBOL_LEN*3+5 to allow for inclusion of submodule name,\n+        plus the \".\" between module and submodule names.\n+        * gfortran.dg/pr93461.f90: New test.\n+\n 2020-01-28  Andrew Benson  <abensonca@gmail.com>\n \n \tPR fortran/93473"}, {"sha": "69171f3d0f22440f8493f4f561df691d02e4a6a9", "filename": "gcc/fortran/trans.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ffortran%2Ftrans.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ffortran%2Ftrans.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans.h?ref=ad690d79cfbb905c5546c9333c5fd089d906505b", "patch": "@@ -23,8 +23,8 @@ along with GCC; see the file COPYING3.  If not see\n \n #include \"predict.h\"  /* For enum br_predictor and PRED_*.  */\n \n-/* Mangled symbols take the form __module__name.  */\n-#define GFC_MAX_MANGLED_SYMBOL_LEN  (GFC_MAX_SYMBOL_LEN*2+4)\n+/* Mangled symbols take the form __module__name or __module.submodule__name.  */\n+#define GFC_MAX_MANGLED_SYMBOL_LEN  (GFC_MAX_SYMBOL_LEN*3+5)\n \n /* Struct for holding a block of statements.  It should be treated as an\n    opaque entity and not modified directly.  This allows us to change the"}, {"sha": "3bef326172fb401f9789bf8e9787d5135f8da9b2", "filename": "gcc/testsuite/gfortran.dg/pr93461.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93461.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad690d79cfbb905c5546c9333c5fd089d906505b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93461.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr93461.f90?ref=ad690d79cfbb905c5546c9333c5fd089d906505b", "patch": "@@ -0,0 +1,22 @@\n+! { dg-do compile }\n+! PR fortran/93461\n+module aModuleWithAnAllowedName\n+  interface\n+     module subroutine aShortName()\n+     end subroutine aShortName\n+  end interface\n+end module aModuleWithAnAllowedName\n+\n+submodule (aModuleWithAnAllowedName) aSubmoduleWithAVeryVeryVeryLongButEntirelyLegalName\n+contains\n+  subroutine aShortName()\n+    call aSubroutineWithAVeryLongNameThatWillCauseAProblem()\n+    call aSubroutineWithAVeryLongNameThatWillCauseAProblemAlso()\n+  end subroutine aShortName\n+  \n+  subroutine aSubroutineWithAVeryLongNameThatWillCauseAProblem()\n+  end subroutine aSubroutineWithAVeryLongNameThatWillCauseAProblem\n+\n+  subroutine aSubroutineWithAVeryLongNameThatWillCauseAProblemAlso()\n+  end subroutine aSubroutineWithAVeryLongNameThatWillCauseAProblemAlso  \n+end submodule aSubmoduleWithAVeryVeryVeryLongButEntirelyLegalName"}]}