{"sha": "a0019047b8acbda653ba0b250940fe29fca38a6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAwMTkwNDdiOGFjYmRhNjUzYmEwYjI1MDk0MGZlMjlmY2EzOGE2ZQ==", "commit": {"author": {"name": "Bernd Edlinger", "email": "bernd.edlinger@hotmail.de", "date": "2016-10-26T17:26:00Z"}, "committer": {"name": "Bernd Edlinger", "email": "edlinger@gcc.gnu.org", "date": "2016-10-26T17:26:00Z"}, "message": "re PR libstdc++/78110 (freestanding libstdc++ fails to compile)\n\n2016-10-26  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n\n        PR libstdc++/78110\n        * libsupc++/new_opa.cc: Don't include <malloc.h> in a free standing\n        environment.  Declare memalign directly in that case.\n\nFrom-SVN: r241591", "tree": {"sha": "b27e4aed666e96844a0a7e22b869e9d1d1482cf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b27e4aed666e96844a0a7e22b869e9d1d1482cf0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0019047b8acbda653ba0b250940fe29fca38a6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0019047b8acbda653ba0b250940fe29fca38a6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0019047b8acbda653ba0b250940fe29fca38a6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0019047b8acbda653ba0b250940fe29fca38a6e/comments", "author": {"login": "bernd-edlinger", "id": 17638929, "node_id": "MDQ6VXNlcjE3NjM4OTI5", "avatar_url": "https://avatars.githubusercontent.com/u/17638929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bernd-edlinger", "html_url": "https://github.com/bernd-edlinger", "followers_url": "https://api.github.com/users/bernd-edlinger/followers", "following_url": "https://api.github.com/users/bernd-edlinger/following{/other_user}", "gists_url": "https://api.github.com/users/bernd-edlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/bernd-edlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bernd-edlinger/subscriptions", "organizations_url": "https://api.github.com/users/bernd-edlinger/orgs", "repos_url": "https://api.github.com/users/bernd-edlinger/repos", "events_url": "https://api.github.com/users/bernd-edlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/bernd-edlinger/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6d5c37d0041f7dc3699623ac7fc7eaf68afbab4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d5c37d0041f7dc3699623ac7fc7eaf68afbab4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d5c37d0041f7dc3699623ac7fc7eaf68afbab4b"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "de98de1236cfea9ff02ba20bed81e70ad177ef43", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0019047b8acbda653ba0b250940fe29fca38a6e/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0019047b8acbda653ba0b250940fe29fca38a6e/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a0019047b8acbda653ba0b250940fe29fca38a6e", "patch": "@@ -1,3 +1,9 @@\n+2016-10-26  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n+\n+\tPR libstdc++/78110\n+\t* libsupc++/new_opa.cc: Don't include <malloc.h> in a free standing\n+\tenvironment.  Declare memalign directly in that case.\n+\n 2016-10-26  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* testsuite/experimental/filesystem/iterators/pop.cc: Remove"}, {"sha": "4ed1e249013937bdc5d4b47a6a1d7ae68c8ee85e", "filename": "libstdc++-v3/libsupc++/new_opa.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0019047b8acbda653ba0b250940fe29fca38a6e/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0019047b8acbda653ba0b250940fe29fca38a6e/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fnew_opa.cc?ref=a0019047b8acbda653ba0b250940fe29fca38a6e", "patch": "@@ -48,7 +48,11 @@ aligned_alloc (std::size_t al, std::size_t sz)\n   return nullptr;\n }\n #elif _GLIBCXX_HAVE_MEMALIGN\n+#if _GLIBCXX_HOSTED\n #include <malloc.h>\n+#else\n+extern \"C\" void *memalign(std::size_t boundary, std::size_t size);\n+#endif\n #define aligned_alloc memalign\n #else\n // The C library doesn't provide any aligned allocation functions, declare"}]}