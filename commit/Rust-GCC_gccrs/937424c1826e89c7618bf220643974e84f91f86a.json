{"sha": "937424c1826e89c7618bf220643974e84f91f86a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM3NDI0YzE4MjZlODljNzYxOGJmMjIwNjQzOTc0ZTg0ZjkxZjg2YQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-06-20T10:55:03Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2013-06-20T10:55:03Z"}, "message": "re PR fortran/57633 (I/O: Problem with formatted read: reading CR-LF files (\\r\\n))\n\n2013-06-20  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/57633\n        * io/list_read.c (next_char, eat_separator): Don't set EOL for \\r.\n\n2013-06-20  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/57633\n        * gfortran.dg/list_read_11.f90: New.\n\nFrom-SVN: r200238", "tree": {"sha": "6426d9088a34794eb37d2319f0f0768ab79ac42e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6426d9088a34794eb37d2319f0f0768ab79ac42e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/937424c1826e89c7618bf220643974e84f91f86a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/937424c1826e89c7618bf220643974e84f91f86a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/937424c1826e89c7618bf220643974e84f91f86a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/937424c1826e89c7618bf220643974e84f91f86a/comments", "author": null, "committer": null, "parents": [{"sha": "c3a9b91b4ac1f8304b2ad8b026dc378be662b597", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3a9b91b4ac1f8304b2ad8b026dc378be662b597", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3a9b91b4ac1f8304b2ad8b026dc378be662b597"}], "stats": {"total": 65, "additions": 56, "deletions": 9}, "files": [{"sha": "6dca973645aacd1cbd189f36230b38c9cbe74f65", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/937424c1826e89c7618bf220643974e84f91f86a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/937424c1826e89c7618bf220643974e84f91f86a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=937424c1826e89c7618bf220643974e84f91f86a", "patch": "@@ -1,3 +1,8 @@\n+2013-06-20  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/57633\n+\t* gfortran.dg/list_read_11.f90: New.\n+\n 2013-06-20  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/57584\n@@ -23,13 +28,13 @@\n \n 2013-06-19  Balaji V. Iyer  <balaji.v.iyer@intel.com>\n \n-       * c-c++-common/cilk-plus/AN/builtin_fn_custom.c: Replaced all the\n-       hard-coded values of array sizes with a #define.\n-       * c-c++-common/cilk-plus/AN/builtin_fn_mutating.c: Likewise.\n-       * c-c++-common/cilk-plus/AN/builtin_func_double2.c: Likewise.\n-       * c-c++-common/cilk-plus/AN/gather_scatter.c: Likewise.\n-       * c-c++-common/cilk-plus/AN/pr57577.c: Likewise.\n-       * c-c++-common/cilk-plus/AN/sec_implicit_ex.c: Likewise.\n+\t* c-c++-common/cilk-plus/AN/builtin_fn_custom.c: Replaced all the\n+\thard-coded values of array sizes with a #define.\n+\t* c-c++-common/cilk-plus/AN/builtin_fn_mutating.c: Likewise.\n+\t* c-c++-common/cilk-plus/AN/builtin_func_double2.c: Likewise.\n+\t* c-c++-common/cilk-plus/AN/gather_scatter.c: Likewise.\n+\t* c-c++-common/cilk-plus/AN/pr57577.c: Likewise.\n+\t* c-c++-common/cilk-plus/AN/sec_implicit_ex.c: Likewise.\n \n 2013-06-19  Yufeng Zhang  <yufeng.zhang@arm.com>\n "}, {"sha": "10344a1959eb867e7101c660d0641ef90cf947d2", "filename": "gcc/testsuite/gfortran.dg/list_read_11.f90", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/937424c1826e89c7618bf220643974e84f91f86a/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_11.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/937424c1826e89c7618bf220643974e84f91f86a/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_11.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flist_read_11.f90?ref=937424c1826e89c7618bf220643974e84f91f86a", "patch": "@@ -0,0 +1,38 @@\n+! { dg-do run }\n+! { dg-options \"-fbackslash\" }\n+!\n+! PR fortran/57633\n+!\n+program teststuff\n+  implicit none\n+  integer::a\n+  character(len=10)::s1,s2\n+\n+  open(11,file=\"testcase.txt\",form='unformatted',access='stream',status='new')\n+  write(11) 'line1,1,\\r\\nline2'\n+  close(11)\n+\n+  open(11,file=\"testcase.txt\",form='formatted')\n+  s1 = repeat('x', len(s1))\n+  a = 99\n+  read(11,*)s1,a\n+  if (s1 /= \"line1\" .or. a /= 1) call abort()\n+\n+  s1 = repeat('x', len(s1))\n+  read(11,\"(a)\")s1\n+  close(11,status=\"delete\")\n+  if (s1 /= \"line2\") call abort()\n+\n+\n+  open(11,file=\"testcase.txt\",form='unformatted',access='stream',status='new')\n+  write(11) 'word1\\rword2,\\n'\n+  close(11)\n+\n+  open(11,file=\"testcase.txt\",form='formatted')\n+  s1 = repeat('x', len(s1))\n+  s2 = repeat('x', len(s1))\n+  read(11,*)s1,s2\n+  close(11,status=\"delete\")\n+  if (s1 /= \"word1\") call abort()\n+  if (s2 /= \"word2\") call abort()\n+end program teststuff"}, {"sha": "40f98d205998cb4872f3f7b3150a45767c1688be", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/937424c1826e89c7618bf220643974e84f91f86a/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/937424c1826e89c7618bf220643974e84f91f86a/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=937424c1826e89c7618bf220643974e84f91f86a", "patch": "@@ -1,3 +1,8 @@\n+2013-06-20  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/57633\n+\t* io/list_read.c (next_char, eat_separator): Don't set EOL for \\r.\n+\n 2012-06-19  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/fpu-387.h: Use __asm__ and __volatile__ consistently."}, {"sha": "82a98a56e9792095630f88cefbb24da4d9f9d37f", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/937424c1826e89c7618bf220643974e84f91f86a/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/937424c1826e89c7618bf220643974e84f91f86a/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=937424c1826e89c7618bf220643974e84f91f86a", "patch": "@@ -242,7 +242,7 @@ next_char (st_parameter_dt *dtp)\n \tdtp->u.p.current_unit->strm_pos++;\n     }\n done:\n-  dtp->u.p.at_eol = (c == '\\n' || c == '\\r' || c == EOF);\n+  dtp->u.p.at_eol = (c == '\\n' || c == EOF);\n   return c;\n }\n \n@@ -334,7 +334,6 @@ eat_separator (st_parameter_dt *dtp)\n       break;\n \n     case '\\r':\n-      dtp->u.p.at_eol = 1;\n       if ((n = next_char(dtp)) == EOF)\n \treturn LIBERROR_END;\n       if (n != '\\n')"}]}