{"sha": "1cab3be12477caa172c6e33cb417030af5d425c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNhYjNiZTEyNDc3Y2FhMTcyYzZlMzNjYjQxNzAzMGFmNWQ0MjVjOA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-06T01:49:58Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-06T01:49:58Z"}, "message": "(expand_block_move): Don't do any block moves where we clobber fixed numbers of registers...\n\n(expand_block_move): Don't do any block moves where we clobber fixed\nnumbers of registers, instead move just 1-8 bytes at a time.\n\nFrom-SVN: r9884", "tree": {"sha": "8786de1dbfae7c6ee29a81027c9d9be856c05282", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8786de1dbfae7c6ee29a81027c9d9be856c05282"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cab3be12477caa172c6e33cb417030af5d425c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cab3be12477caa172c6e33cb417030af5d425c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cab3be12477caa172c6e33cb417030af5d425c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cab3be12477caa172c6e33cb417030af5d425c8/comments", "author": null, "committer": null, "parents": [{"sha": "025cc92388565c9366f5312bd517234f9ff2a688", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/025cc92388565c9366f5312bd517234f9ff2a688", "html_url": "https://github.com/Rust-GCC/gccrs/commit/025cc92388565c9366f5312bd517234f9ff2a688"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "2adff2abd3022b7cb2a7acfb54138b3a3e2526d5", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cab3be12477caa172c6e33cb417030af5d425c8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cab3be12477caa172c6e33cb417030af5d425c8/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=1cab3be12477caa172c6e33cb417030af5d425c8", "patch": "@@ -687,7 +687,7 @@ expand_block_move (operands)\n      then don't generate more than 8 loads.  */\n   if (TARGET_STRING)\n     {\n-      if (bytes > 64)\n+      if (bytes > 4*8)\n \treturn 0;\n     }\n   else if (!STRICT_ALIGNMENT)\n@@ -706,6 +706,8 @@ expand_block_move (operands)\n     {\n       for ( ; bytes > 0; bytes -= move_bytes)\n \t{\n+#if 0\n+\t  /* XXX Don't move so many bytes right now, it causes the compiler to not bootstrap */\n \t  if (bytes > 24\t\t/* move up to 32 bytes at a time */\n \t      && !fixed_regs[5]\n \t      && !fixed_regs[6]\n@@ -748,7 +750,9 @@ expand_block_move (operands)\n \t\t\t\t\t    GEN_INT (move_bytes),\n \t\t\t\t\t    align_rtx));\n \t    }\n-\t  else if (bytes > 4 && !TARGET_64BIT)\n+\t  else\n+#endif\n+\t    if (bytes > 4 && !TARGET_64BIT)\n \t    {\t\t\t/* move up to 8 bytes at a time */\n \t      move_bytes = (bytes > 8) ? 8 : bytes;\n \t      emit_insn (gen_movstrsi_2reg (dest_reg,"}]}