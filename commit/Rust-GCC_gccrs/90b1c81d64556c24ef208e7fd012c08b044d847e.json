{"sha": "90b1c81d64556c24ef208e7fd012c08b044d847e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBiMWM4MWQ2NDU1NmMyNGVmMjA4ZTdmZDAxMmMwOGIwNDRkODQ3ZQ==", "commit": {"author": {"name": "Georg-Johann Lay", "email": "avr@gjlay.de", "date": "2016-08-04T07:52:38Z"}, "committer": {"name": "Georg-Johann Lay", "email": "gjl@gcc.gnu.org", "date": "2016-08-04T07:52:38Z"}, "message": "re PR target/70677 (Suboptimal cond on AVR: unneeded stack frame)\n\n\tPR 70677\n\t* common/config/avr/avr-common.c (avr_option_optimization_table)\n\t[OPT_LEVELS_ALL]: Turn off -fcaller-saves.\n\nFrom-SVN: r239117", "tree": {"sha": "925c06b8679c1a4eaf9e8233d7125b44baa0d6d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/925c06b8679c1a4eaf9e8233d7125b44baa0d6d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90b1c81d64556c24ef208e7fd012c08b044d847e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90b1c81d64556c24ef208e7fd012c08b044d847e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90b1c81d64556c24ef208e7fd012c08b044d847e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90b1c81d64556c24ef208e7fd012c08b044d847e/comments", "author": null, "committer": {"login": "sprintersb", "id": 8905355, "node_id": "MDQ6VXNlcjg5MDUzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8905355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sprintersb", "html_url": "https://github.com/sprintersb", "followers_url": "https://api.github.com/users/sprintersb/followers", "following_url": "https://api.github.com/users/sprintersb/following{/other_user}", "gists_url": "https://api.github.com/users/sprintersb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sprintersb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sprintersb/subscriptions", "organizations_url": "https://api.github.com/users/sprintersb/orgs", "repos_url": "https://api.github.com/users/sprintersb/repos", "events_url": "https://api.github.com/users/sprintersb/events{/privacy}", "received_events_url": "https://api.github.com/users/sprintersb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e7ff6a46c9d852aeabae483b45e0e30bd6322a10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7ff6a46c9d852aeabae483b45e0e30bd6322a10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7ff6a46c9d852aeabae483b45e0e30bd6322a10"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "940096a131faf0d10993cbf8d28c05ef45732f58", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90b1c81d64556c24ef208e7fd012c08b044d847e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90b1c81d64556c24ef208e7fd012c08b044d847e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=90b1c81d64556c24ef208e7fd012c08b044d847e", "patch": "@@ -1,3 +1,9 @@\n+2016-08-04  Georg-Johann Lay  <avr@gjlay.de>\n+\n+\tPR 70677\n+\t* common/config/avr/avr-common.c (avr_option_optimization_table)\n+\t[OPT_LEVELS_ALL]: Turn off -fcaller-saves.\n+\n 2016-08-04  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR 55181"}, {"sha": "75c877175c1d69a85338f2f3b31f5ac652004937", "filename": "gcc/common/config/avr/avr-common.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90b1c81d64556c24ef208e7fd012c08b044d847e/gcc%2Fcommon%2Fconfig%2Favr%2Favr-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90b1c81d64556c24ef208e7fd012c08b044d847e/gcc%2Fcommon%2Fconfig%2Favr%2Favr-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Favr%2Favr-common.c?ref=90b1c81d64556c24ef208e7fd012c08b044d847e", "patch": "@@ -28,6 +28,9 @@\n static const struct default_options avr_option_optimization_table[] =\n   {\n     { OPT_LEVELS_1_PLUS, OPT_fomit_frame_pointer, NULL, 1 },\n+    // The only effect of -fcaller-saves might be that it triggers\n+    // a frame without need when it tries to be smart around calls.\n+    { OPT_LEVELS_ALL, OPT_fcaller_saves, NULL, 0 },\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n "}]}