{"sha": "7767580e64c75a8f2742013c91f55879c15d9386", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzc2NzU4MGU2NGM3NWE4ZjI3NDIwMTNjOTFmNTU4NzljMTVkOTM4Ng==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@integrable-solutions.net", "date": "2005-12-02T12:37:15Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2005-12-02T12:37:15Z"}, "message": "ggc.h (GGC_RESIZEVEC): New.\n\n        * ggc.h (GGC_RESIZEVEC): New.\n\ncp/\n        * parser.c (cp_lexer_new_main): Usr GGC_RESIZEVEC instead of \n        ggc_realloc.\n        (cp_parser_template_argument_list): Use XRESIZEVEC instead of xrealloc.\n        * class.c (pushclass): Likewise.\n\nFrom-SVN: r107887", "tree": {"sha": "474c190b932ebf02d011761d4c2e922cc80f4ac6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/474c190b932ebf02d011761d4c2e922cc80f4ac6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7767580e64c75a8f2742013c91f55879c15d9386", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7767580e64c75a8f2742013c91f55879c15d9386", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7767580e64c75a8f2742013c91f55879c15d9386", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7767580e64c75a8f2742013c91f55879c15d9386/comments", "author": {"login": "cxx-undef", "id": 5528103, "node_id": "MDQ6VXNlcjU1MjgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5528103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cxx-undef", "html_url": "https://github.com/cxx-undef", "followers_url": "https://api.github.com/users/cxx-undef/followers", "following_url": "https://api.github.com/users/cxx-undef/following{/other_user}", "gists_url": "https://api.github.com/users/cxx-undef/gists{/gist_id}", "starred_url": "https://api.github.com/users/cxx-undef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cxx-undef/subscriptions", "organizations_url": "https://api.github.com/users/cxx-undef/orgs", "repos_url": "https://api.github.com/users/cxx-undef/repos", "events_url": "https://api.github.com/users/cxx-undef/events{/privacy}", "received_events_url": "https://api.github.com/users/cxx-undef/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "eeac616e62b2f1669fc5b0de912527b95fb81f6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eeac616e62b2f1669fc5b0de912527b95fb81f6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eeac616e62b2f1669fc5b0de912527b95fb81f6e"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "305d1ee3154927098850abaa166973640e34575e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7767580e64c75a8f2742013c91f55879c15d9386", "patch": "@@ -1,3 +1,7 @@\n+2005-12-02  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n+\n+\t* ggc.h (GGC_RESIZEVEC): New.\n+\n 2005-12-02  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \t* gcc.c (execute): Improve readability."}, {"sha": "417f277b185ccaf7d51e31daf9be210094c3aa11", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7767580e64c75a8f2742013c91f55879c15d9386", "patch": "@@ -1,3 +1,11 @@\n+2005-12-02  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n+\n+\t* parser.c (cp_lexer_new_main): Usr GGC_RESIZEVEC instead of\n+\tggc_realloc. \n+\t(cp_parser_template_argument_list): Use XRESIZEVEC instead of\n+\txrealloc. \n+\t* class.c (pushclass): Likewise.\n+\n 2005-12-02  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n \n \t* decl2.c (get_priority_info): Use XNEW, not xmalloc."}, {"sha": "9d53e80963d345f501ec69767ca88ef0e639d932", "filename": "gcc/cp/class.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=7767580e64c75a8f2742013c91f55879c15d9386", "patch": "@@ -5382,9 +5382,8 @@ pushclass (tree type)\n     {\n       current_class_stack_size *= 2;\n       current_class_stack\n-\t= xrealloc (current_class_stack,\n-\t\t    current_class_stack_size\n-\t\t    * sizeof (struct class_stack_node));\n+\t= XRESIZEVEC (struct class_stack_node, current_class_stack,\n+                      current_class_stack_size);\n     }\n \n   /* Insert a new entry on the class stack.  */"}, {"sha": "8eb4fbfcf290f7de7013ac56dfdd9db9383e6e55", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=7767580e64c75a8f2742013c91f55879c15d9386", "patch": "@@ -286,7 +286,7 @@ cp_lexer_new_main (void)\n \t{\n \t  space = alloc;\n \t  alloc *= 2;\n-\t  buffer = ggc_realloc (buffer, alloc * sizeof (cp_token));\n+\t  buffer = GGC_RESIZEVEC (cp_token, buffer, alloc);\n \t  pos = buffer + space;\n \t}\n       cp_lexer_get_preprocessor_token (lexer, pos);\n@@ -8934,7 +8934,7 @@ cp_parser_template_argument_list (cp_parser* parser)\n \t      memcpy (arg_ary, fixed_args, sizeof (tree) * n_args);\n \t    }\n \t  else\n-\t    arg_ary = xrealloc (arg_ary, sizeof (tree) * alloced);\n+\t    arg_ary = XRESIZEVEC (tree, arg_ary, alloced);\n \t}\n       arg_ary[n_args++] = argument;\n     }"}, {"sha": "d6e2303de8129ce4fe579419b36912159f9b3da9", "filename": "gcc/ggc.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fggc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7767580e64c75a8f2742013c91f55879c15d9386/gcc%2Fggc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc.h?ref=7767580e64c75a8f2742013c91f55879c15d9386", "patch": "@@ -231,6 +231,7 @@ extern void dump_ggc_loc_statistics (void);\n #define GGC_CNEWVEC(T, N)\t((T *) ggc_alloc_cleared ((N) * sizeof(T)))\n #define GGC_NEWVAR(T, S)\t((T *) ggc_alloc ((S)))\n #define GGC_CNEWVAR(T, S)\t((T *) ggc_alloc_cleared ((S)))\n+#define GGC_RESIZEVEC(T, P, N)  ((T *) ggc_realloc ((P), (N) * sizeof (T)))\n \n #define ggc_alloc_rtvec(NELT)\t\t\t\t\t\t \\\n   ((rtvec) ggc_alloc_zone (sizeof (struct rtvec_def) + ((NELT) - 1)\t \\"}]}