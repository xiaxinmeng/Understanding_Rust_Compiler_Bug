{"sha": "8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQyODA5YmNmOGZiZWNlZjU3Njk4YTU5ZGQxNGUzZGZkY2ZmOTM5Ng==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-02-05T06:37:02Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-05T06:37:02Z"}, "message": "built-in-setjmp.c: Prototype stuff.\n\n        * gcc.c-torture/execute/built-in-setjmp.c: Prototype stuff.\n        (buf): Change to be an array of pointers, not ints.\n\nFrom-SVN: r49512", "tree": {"sha": "d13dbd7465d9e13775bbc07ff60b8e5f2f4bb4fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d13dbd7465d9e13775bbc07ff60b8e5f2f4bb4fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d2809bcf8fbecef57698a59dd14e3dfdcff9396/comments", "author": null, "committer": null, "parents": [{"sha": "2696e97b8690fdf90dfbcf5ca4ae62e6af157896", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2696e97b8690fdf90dfbcf5ca4ae62e6af157896", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2696e97b8690fdf90dfbcf5ca4ae62e6af157896"}], "stats": {"total": 27, "additions": 19, "deletions": 8}, "files": [{"sha": "a896736a0281a8531d06a73dad7b2fce51b650cd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2809bcf8fbecef57698a59dd14e3dfdcff9396/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2809bcf8fbecef57698a59dd14e3dfdcff9396/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "patch": "@@ -1,3 +1,8 @@\n+2002-02-04  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.c-torture/execute/built-in-setjmp.c: Prototype stuff.\n+\t(buf): Change to be an array of pointers, not ints.\n+\n 2002-02-04  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.dg/Wswitch.c: Fix typos.  Don't return unconditionally"}, {"sha": "9da787884dd87c51857590145ea5f4f991bdd00b", "filename": "gcc/testsuite/gcc.c-torture/execute/built-in-setjmp.c", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d2809bcf8fbecef57698a59dd14e3dfdcff9396/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuilt-in-setjmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d2809bcf8fbecef57698a59dd14e3dfdcff9396/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuilt-in-setjmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fbuilt-in-setjmp.c?ref=8d2809bcf8fbecef57698a59dd14e3dfdcff9396", "patch": "@@ -1,9 +1,20 @@\n-int buf[20];\n+extern int strcmp(const char *, const char *);\n+extern char *strcpy(char *, const char *);\n+extern void abort(void);\n+extern void exit(int);\n+\n+void *buf[20];\n+\n+void __attribute__((noinline))\n+sub2 (void)\n+{\n+  __builtin_longjmp (buf, 1);\n+}\n \n int\n main ()\n {\n-  char *p = (char *) alloca (20);\n+  char *p = (char *) __builtin_alloca (20);\n \n   strcpy (p, \"test\");\n \n@@ -16,7 +27,7 @@ main ()\n     }\n \n   {\n-    int *q = (int *) alloca (p[2] * sizeof (int));\n+    int *q = (int *) __builtin_alloca (p[2] * sizeof (int));\n     int i;\n     \n     for (i = 0; i < p[2]; i++)\n@@ -26,8 +37,3 @@ main ()\n       sub2 ();\n   }\n }\n-\n-sub2 ()\n-{\n-  __builtin_longjmp (buf, 1);\n-}"}]}