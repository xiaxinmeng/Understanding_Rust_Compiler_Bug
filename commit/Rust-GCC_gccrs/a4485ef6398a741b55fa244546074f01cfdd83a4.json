{"sha": "a4485ef6398a741b55fa244546074f01cfdd83a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ0ODVlZjYzOThhNzQxYjU1ZmEyNDQ1NDYwNzRmMDFjZmRkODNhNA==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2010-10-18T09:18:59Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-18T09:18:59Z"}, "message": "g-trasym-vms-ia64.adb, [...]: Minor reformatting.\n\n2010-10-18  Robert Dewar  <dewar@adacore.com>\n\n\t* g-trasym-vms-ia64.adb, prj-nmsc.adb, prj.ads: Minor reformatting.\n\nFrom-SVN: r165611", "tree": {"sha": "e1030526bc8a109ce5aed560621fabbf87232ffd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1030526bc8a109ce5aed560621fabbf87232ffd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a4485ef6398a741b55fa244546074f01cfdd83a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4485ef6398a741b55fa244546074f01cfdd83a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4485ef6398a741b55fa244546074f01cfdd83a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4485ef6398a741b55fa244546074f01cfdd83a4/comments", "author": null, "committer": null, "parents": [{"sha": "8ddf04c2b02d457ee08a8158dab98ec2f3273d66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ddf04c2b02d457ee08a8158dab98ec2f3273d66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ddf04c2b02d457ee08a8158dab98ec2f3273d66"}], "stats": {"total": 100, "additions": 59, "deletions": 41}, "files": [{"sha": "5901659df3c351fb542df6da540806fbe8338c3c", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a4485ef6398a741b55fa244546074f01cfdd83a4", "patch": "@@ -1,3 +1,7 @@\n+2010-10-18  Robert Dewar  <dewar@adacore.com>\n+\n+\t* g-trasym-vms-ia64.adb, prj-nmsc.adb, prj.ads: Minor reformatting.\n+\n 2010-10-14  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_Array_Type>: Set"}, {"sha": "508c18a364697f17dcc81c8f9c8585360ea3e76a", "filename": "gcc/ada/g-trasym-vms-ia64.adb", "status": "modified", "additions": 33, "deletions": 24, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fg-trasym-vms-ia64.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fg-trasym-vms-ia64.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-trasym-vms-ia64.adb?ref=a4485ef6398a741b55fa244546074f01cfdd83a4", "patch": "@@ -64,7 +64,8 @@ package body GNAT.Traceback.Symbolic is\n \n    subtype Cond_Value_Type is Unsigned_Longword;\n \n-   --  TBK_API_PARAM as defined in TBKDEF.\n+   --  TBK_API_PARAM as defined in TBKDEF\n+\n    type Tbk_Api_Param is record\n       Length              : Unsigned_Word;\n       T_Type              : Unsigned_Byte;\n@@ -92,13 +93,14 @@ package body GNAT.Traceback.Symbolic is\n    pragma Convention (C, Tbk_Api_Param);\n \n    K_Version : constant Unsigned_Byte := 1;\n-   --  Current API version.\n-   K_Length  : constant Unsigned_Word := 152;\n-   --  Length of the parameter.\n+   --  Current API version\n+\n+   K_Length : constant Unsigned_Word := 152;\n+   --  Length of the parameter\n \n    pragma Compile_Time_Error (Tbk_Api_Param'Size = K_Length * 8,\n                               \"Bad length for tbk_api_param\");\n-   --  Sanity check.\n+   --  Sanity check\n \n    function Symbolize (Param : Address) return Cond_Value_Type;\n    pragma Import (C, Symbolize, \"TBK$I64_SYMBOLIZE\");\n@@ -246,28 +248,31 @@ package body GNAT.Traceback.Symbolic is\n                    Faulting_Fp         => 0,\n                    Filename_Desc       => Null_Address,\n                    Library_Module_Desc => Null_Address,\n-                   Record_Number => Record_Number'Address,\n-                   Image_Desc       => Image_Dsc'Address,\n-                   Module_Desc      => Module_Dsc'Address,\n-                   Routine_Desc     => Routine_Dsc'Address,\n-                   Listing_Lineno   => Line_Number'Address,\n-                   Rel_Pc           => Null_Address,\n-                   Image_Base_Addr  => Null_Address,\n-                   Module_Base_Addr => Null_Address,\n-                   Malloc_Rtn       => Null_Address,\n-                   Free_Rtn         => Null_Address,\n-                   Symbolize_Flags  => Null_Address,\n-                   Reserved0        => (0, 0),\n-                   Reserved1        => (0, 0),\n-                   Reserved2        => (0, 0));\n+                   Record_Number       => Record_Number'Address,\n+                   Image_Desc          => Image_Dsc'Address,\n+                   Module_Desc         => Module_Dsc'Address,\n+                   Routine_Desc        => Routine_Dsc'Address,\n+                   Listing_Lineno      => Line_Number'Address,\n+                   Rel_Pc              => Null_Address,\n+                   Image_Base_Addr     => Null_Address,\n+                   Module_Base_Addr    => Null_Address,\n+                   Malloc_Rtn          => Null_Address,\n+                   Free_Rtn            => Null_Address,\n+                   Symbolize_Flags     => Null_Address,\n+                   Reserved0           => (0, 0),\n+                   Reserved1           => (0, 0),\n+                   Reserved2           => (0, 0));\n \n          Status := Symbolize (Param'Address);\n \n+         --  Check for success (marked by bit 0)\n+\n          if (Status rem 2) = 1 then\n \n             --  Success\n \n             if Line_Number = 0 then\n+\n                --  As GCC doesn't emit source file correlation, use record\n                --  number of line number is not set\n \n@@ -280,11 +285,12 @@ package body GNAT.Traceback.Symbolic is\n                Pos   : Integer;\n \n                Routine_Name_D : constant String :=\n-                 Decode_Ada_Name (Routine_Name.Buf\n-                                    (1 .. Natural (Routine_Name.Curlen)));\n+                                  Decode_Ada_Name\n+                                    (Routine_Name.Buf\n+                                      (1 .. Natural (Routine_Name.Curlen)));\n \n                Lineno : constant String :=\n-                 Unsigned_Longword'Image (Line_Number);\n+                          Unsigned_Longword'Image (Line_Number);\n \n             begin\n                Res (First .. Last) := (others => ' ');\n@@ -300,8 +306,8 @@ package body GNAT.Traceback.Symbolic is\n                       First + 30 + Routine_Name_D'Length - 1) :=\n                  Routine_Name_D;\n \n-               --  If routine name doesn't fit 20 characters, output\n-               --  the line number on next line at 50th position\n+               --  If routine name doesn't fit 20 characters, output the line\n+               --  number on next line at 50th position.\n \n                if Routine_Name_D'Length > 20 then\n                   Pos := First + 30 + Routine_Name_D'Length;\n@@ -318,6 +324,9 @@ package body GNAT.Traceback.Symbolic is\n                Res (Last) := ASCII.LF;\n                Len := Last;\n             end;\n+\n+         --  Even status values\n+\n          else\n             Res (Len + 1 .. Len + 6) := \"ERROR\" & ASCII.LF;\n             Len := Len + 6;"}, {"sha": "9284556f29a7501acf53636889c9ce2ecebc5f42", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=a4485ef6398a741b55fa244546074f01cfdd83a4", "patch": "@@ -3038,22 +3038,23 @@ package body Prj.Nmsc is\n                     In_Tree   => Data.Tree);\n          end case;\n \n-         Exception_List := Value_Of\n-           (Index    => Lang,\n-            In_Array => Exceptions,\n-            In_Tree  => Data.Tree);\n+         Exception_List :=\n+           Value_Of\n+             (Index    => Lang,\n+              In_Array => Exceptions,\n+              In_Tree  => Data.Tree);\n \n          if Exception_List /= Nil_Variable_Value then\n             Element_Id := Exception_List.Values;\n             while Element_Id /= Nil_String loop\n                Element   := Data.Tree.String_Elements.Table (Element_Id);\n                File_Name := Canonical_Case_File_Name (Element.Value);\n \n-               Source := Source_Files_Htable.Get\n-                 (Data.Tree.Source_Files_HT, File_Name);\n-\n+               Source :=\n+                 Source_Files_Htable.Get\n+                   (Data.Tree.Source_Files_HT, File_Name);\n                while Source /= No_Source\n-                     and then Source.Project /= Project\n+                 and then Source.Project /= Project\n                loop\n                   Source := Source.Next_With_File_Name;\n                end loop;"}, {"sha": "95ead562a7753e06eecea7a1b7713be858ba57bb", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a4485ef6398a741b55fa244546074f01cfdd83a4/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=a4485ef6398a741b55fa244546074f01cfdd83a4", "patch": "@@ -771,7 +771,7 @@ package Prj is\n       Next_In_Lang : Source_Id := No_Source;\n       --  Link to another source of the same language in the same project\n \n-      Next_With_File_Name    : Source_Id := No_Source;\n+      Next_With_File_Name : Source_Id := No_Source;\n       --  Link to another source with the same base file name\n \n    end record;\n@@ -1373,7 +1373,7 @@ package Prj is\n          Packages          : Package_Table.Instance;\n          Projects          : Project_List;\n \n-         Replaced_Sources  : Replaced_Source_HTable.Instance;\n+         Replaced_Sources : Replaced_Source_HTable.Instance;\n          --  The list of sources that have been replaced by sources with\n          --  different file names.\n \n@@ -1383,7 +1383,7 @@ package Prj is\n          Units_HT : Units_Htable.Instance;\n          --  Unit name to Unit_Index (and from there to Source_Id)\n \n-         Source_Files_HT        : Source_Files_Htable.Instance;\n+         Source_Files_HT : Source_Files_Htable.Instance;\n          --  Base source file names to Source_Id list.\n \n          Source_Paths_HT : Source_Paths_Htable.Instance;\n@@ -1432,13 +1432,17 @@ package Prj is\n       Imported_First : Boolean := False);\n    --  Call Action for each project imported directly or indirectly by project\n    --  By, as well as extended projects.\n+   --\n    --  The order of processing depends on Imported_First:\n-   --  If False, Action is called according to the order of importation: if A\n-   --  imports B, directly or indirectly, Action will be called for A before\n-   --  it is called for B. If two projects import each other directly or\n-   --  indirectly (using at least one \"limited with\"), it is not specified\n-   --  for which of these two projects Action will be called first.\n-   --  The order is reversed if Imported_First is True.\n+   --\n+   --    If False, Action is called according to the order of importation: if A\n+   --    imports B, directly or indirectly, Action will be called for A before\n+   --    it is called for B. If two projects import each other directly or\n+   --    indirectly (using at least one \"limited with\"), it is not specified\n+   --    for which of these two projects Action will be called first.\n+   --\n+   --    The order is reversed if Imported_First is True\n+   --\n    --  With_State may be used by Action to choose a behavior or to report some\n    --  global result.\n "}]}