{"sha": "db25e492164350aed1e016186e2c5937fa16f938", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGIyNWU0OTIxNjQzNTBhZWQxZTAxNjE4NmUyYzU5MzdmYTE2ZjkzOA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-28T22:51:47Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-28T22:51:47Z"}, "message": "(expand_inline_function): When copy REG_NOTES, must\nalso call subst_constants.\n\nFrom-SVN: r4587", "tree": {"sha": "fb6aac7ddbb853d16326adedaa3caeb9b5927fdc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb6aac7ddbb853d16326adedaa3caeb9b5927fdc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db25e492164350aed1e016186e2c5937fa16f938", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db25e492164350aed1e016186e2c5937fa16f938", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db25e492164350aed1e016186e2c5937fa16f938", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db25e492164350aed1e016186e2c5937fa16f938/comments", "author": null, "committer": null, "parents": [{"sha": "239db5fcdd60ff2687160335fd8a4c62d973c2cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/239db5fcdd60ff2687160335fd8a4c62d973c2cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/239db5fcdd60ff2687160335fd8a4c62d973c2cb"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "8bb32dace7a3edc2b3fe82c1d692f4a43e4781ee", "filename": "gcc/integrate.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db25e492164350aed1e016186e2c5937fa16f938/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db25e492164350aed1e016186e2c5937fa16f938/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=db25e492164350aed1e016186e2c5937fa16f938", "patch": "@@ -1711,9 +1711,16 @@ expand_inline_function (fndecl, parms, target, ignore, type, structure_value_add\n   /* Now copy the REG_NOTES.  */\n   for (insn = insns; insn; insn = NEXT_INSN (insn))\n     if (GET_RTX_CLASS (GET_CODE (insn)) == 'i'\n-\t&& map->insn_map[INSN_UID (insn)])\n-      REG_NOTES (map->insn_map[INSN_UID (insn)])\n-\t= copy_rtx_and_substitute (REG_NOTES (insn), map);\n+\t&& map->insn_map[INSN_UID (insn)]\n+\t&& REG_NOTES (insn))\n+      {\n+\trtx tem = copy_rtx_and_substitute (REG_NOTES (insn), map);\n+\t/* We must also do subst_constants, in case one of our parameters\n+\t   has const type and constant value.  */\n+\tsubst_constants (&tem, NULL_RTX, map);\n+\tapply_change_group ();\n+\tREG_NOTES (map->insn_map[INSN_UID (insn)]) = tem;\n+      }\n \n   if (local_return_label)\n     emit_label (local_return_label);"}]}