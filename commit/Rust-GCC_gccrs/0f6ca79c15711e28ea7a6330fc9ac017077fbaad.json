{"sha": "0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY2Y2E3OWMxNTcxMWUyOGVhN2E2MzMwZmM5YWMwMTcwNzdmYmFhZA==", "commit": {"author": {"name": "Renlin Li", "email": "renlin.li@arm.com", "date": "2015-10-02T12:52:36Z"}, "committer": {"name": "Renlin Li", "email": "renlin@gcc.gnu.org", "date": "2015-10-02T12:52:36Z"}, "message": "[PATCH][AARCH64]Add csneg3_uxtw_insn pattern\n\ngcc/\n\n2015-10-02  Renlin Li <renlin.li@arm.com>\n\n\t* config/aarch64/aarch64.md (csneg3_uxtw_insn): New pattern.\n\ngcc/testsuite/\n\n2015-10-02  Renlin Li <renlin.li@arm.com>\n\n\t* gcc.target/aarch64/csneg-1.c: Update test.\n\nFrom-SVN: r228387", "tree": {"sha": "f39108f5da865608cdb1acb95e1ddc76e5469e44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f39108f5da865608cdb1acb95e1ddc76e5469e44"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/comments", "author": null, "committer": null, "parents": [{"sha": "b03e67ad92a848598de050da268ccbf7832a2197", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b03e67ad92a848598de050da268ccbf7832a2197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b03e67ad92a848598de050da268ccbf7832a2197"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "57a5a43ffb9aec555ba1cdd6b500920683e2c87d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "patch": "@@ -3,6 +3,10 @@\n \t* config/sh/sh.md: Add new unnamed split pattern to handle movt-movt\n \tsequences.\n \n+2015-10-02  Renlin Li  <renlin.li@arm.com>\n+\n+\t* config/aarch64/aarch64.md (csneg3_insn_uxtw): New pattern.\n+\n 2015-10-02  Renlin Li  <renlin.li@arm.com>\n \n \tPR target/66776"}, {"sha": "74522f8610515cec3b1ae91d300f59cc16e2ff8e", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "patch": "@@ -3144,6 +3144,18 @@\n   [(set_attr \"type\" \"csel\")]\n )\n \n+(define_insn \"csneg3_uxtw_insn\"\n+  [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n+\t(zero_extend:DI\n+\t  (if_then_else:SI\n+\t    (match_operand 1 \"aarch64_comparison_operation\" \"\")\n+\t    (neg:SI (match_operand:SI 2 \"register_operand\" \"r\"))\n+\t    (match_operand:SI 3 \"aarch64_reg_or_zero\" \"rZ\"))))]\n+  \"\"\n+  \"csneg\\\\t%w0, %w3, %w2, %M1\"\n+  [(set_attr \"type\" \"csel\")]\n+)\n+\n (define_insn \"csneg3<mode>_insn\"\n   [(set (match_operand:GPI 0 \"register_operand\" \"=r\")\n         (if_then_else:GPI"}, {"sha": "c95cda9e0d9b751225656c6cee611e70ebbd0676", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "patch": "@@ -1,3 +1,7 @@\n+2015-10-02  Renlin Li  <renlin.li@arm.com>\n+\n+\t* gcc.target/aarch64/csneg-1.c: Update.\n+\n 2015-10-02  Renlin Li  <renlin.li@arm.com>\n \n \tPR target/66776"}, {"sha": "4860d64c93535d9f0488b93b389e3980c7de9223", "filename": "gcc/testsuite/gcc.target/aarch64/csneg-1.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcsneg-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f6ca79c15711e28ea7a6330fc9ac017077fbaad/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcsneg-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fcsneg-1.c?ref=0f6ca79c15711e28ea7a6330fc9ac017077fbaad", "patch": "@@ -56,3 +56,15 @@ int test_csneg_cmp(int x)\n     x = -x;\n   return x;\n }\n+\n+unsigned long long\n+test_csneg_uxtw (unsigned int a,\n+\t\t unsigned int b,\n+\t\t unsigned int c)\n+{\n+  /* { dg-final { scan-assembler \"csneg\\tw\\[0-9\\]*.*ne\" } } */\n+  /* { dg-final { scan-assembler-not \"uxtw\\tw\\[0-9\\]*.*\" } } */\n+  unsigned int val;\n+  val = a ? b: -c;\n+  return val;\n+}"}]}