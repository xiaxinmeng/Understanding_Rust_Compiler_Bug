{"sha": "2b472f91ee2e77f6b457d7880c13ed627e9b8666", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI0NzJmOTFlZTJlNzdmNmI0NTdkNzg4MGMxM2VkNjI3ZTliODY2Ng==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@waitaki.otago.ac.nz", "date": "2001-10-30T04:43:16Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2001-10-30T04:43:16Z"}, "message": "re PR java/4717 (miscompiling class reference)\n\n       * mangle.c (find_compression_record_match): Don't match compression\n       records for package name elements unless they occur at the start of\n       the name. Fix for PR java/4717.\n\nFrom-SVN: r46628", "tree": {"sha": "c355fc11b95d68ec05bdce4b447b1e821db110fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c355fc11b95d68ec05bdce4b447b1e821db110fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b472f91ee2e77f6b457d7880c13ed627e9b8666", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b472f91ee2e77f6b457d7880c13ed627e9b8666", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b472f91ee2e77f6b457d7880c13ed627e9b8666", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b472f91ee2e77f6b457d7880c13ed627e9b8666/comments", "author": null, "committer": null, "parents": [{"sha": "79e2e1605ed490d653541cecbc9da3671a895b90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e2e1605ed490d653541cecbc9da3671a895b90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79e2e1605ed490d653541cecbc9da3671a895b90"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "5049cfd5833153954fd8b9952a3039a37207a55c", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b472f91ee2e77f6b457d7880c13ed627e9b8666/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b472f91ee2e77f6b457d7880c13ed627e9b8666/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=2b472f91ee2e77f6b457d7880c13ed627e9b8666", "patch": "@@ -1,3 +1,9 @@\n+2001-10-29  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n+\n+\t* mangle.c (find_compression_record_match): Don't match compression\n+\trecords for package name elements unless they occur at the start of\n+\tthe name. Fix for PR java/4717.\n+\n 2001-10-25  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n \n \t* expr.c (expand_java_field_op): Don't special-case references to"}, {"sha": "aa95086fc2af097d53604a62a5b51b21099f227e", "filename": "gcc/java/mangle.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b472f91ee2e77f6b457d7880c13ed627e9b8666/gcc%2Fjava%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b472f91ee2e77f6b457d7880c13ed627e9b8666/gcc%2Fjava%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fmangle.c?ref=2b472f91ee2e77f6b457d7880c13ed627e9b8666", "patch": "@@ -327,8 +327,20 @@ find_compression_record_match (type, next_current)\n \t  {\n \t    match = i = j;\n \t    saved_current = current;\n+\t    i++;\n \t    break;\n \t  }\n+\telse\n+\t  {\n+\t    /* We don't want to match an element that appears in the middle\n+\t    of a package name, so skip forward to the next complete type name.\n+\t    IDENTIFIER_NODEs are partial package names while RECORD_TYPEs\n+\t    represent complete type names. */\n+\t    while (j < compression_next \n+\t\t   && TREE_CODE (TREE_VEC_ELT (compression_table, j)) == \n+\t\t      IDENTIFIER_NODE)\n+\t      j++;\n+\t  }\n     }\n \n   if (!next_current)"}]}