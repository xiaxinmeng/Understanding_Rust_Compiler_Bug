{"sha": "b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjUyZWMyMjA1MDNhMWM3ZmEyNWIyMWI4YzM0YzQ0MjhiM2VjMTNmOA==", "commit": {"author": {"name": "Senthil Kumar Selvaraj", "email": "senthil_kumar.selvaraj@atmel.com", "date": "2015-09-04T16:34:11Z"}, "committer": {"name": "Denis Chertykov", "email": "denisc@gcc.gnu.org", "date": "2015-09-04T16:34:11Z"}, "message": "re PR target/65210 ([avr] ICE: when using attributs 'address' and 'io_low')\n\ngcc/ChangeLog\n\n\tPR target/65210\n\t* config/avr/avr.c (avr_eval_addr_attrib): Look for io_low\n\tattribute as well.\n\ngcc/testsuite/ChangeLog\n\n\tPR target/65210\n\t* gcc.target/avr/pr65210.c: New test.\n\nFrom-SVN: r227496", "tree": {"sha": "627bebbf11e8bea4eebf5be38d7aa3f574b5d8a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/627bebbf11e8bea4eebf5be38d7aa3f574b5d8a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/comments", "author": null, "committer": null, "parents": [{"sha": "c79c59f024db9ffc5309bc9e67d41d7cae502e8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c79c59f024db9ffc5309bc9e67d41d7cae502e8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c79c59f024db9ffc5309bc9e67d41d7cae502e8d"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "75c59577815e98f675dbc34d9e0f0bac58181647", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "patch": "@@ -1,3 +1,9 @@\n+2015-09-02  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n+\n+\tPR target/65210\n+\t* config/avr/avr.c (avr_eval_addr_attrib): Look for io_low\n+\tattribute as well.\n+\n 2015-09-04  Tom de Vries  <tom@codesourcery.com>\n \n \t* doc/invoke.texi (@item -ftrapv, @item -fwrapv): Document interaction."}, {"sha": "9f5bc88ce308deff6647d3d80af58b94b58d31ec", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "patch": "@@ -9069,6 +9069,8 @@ avr_eval_addr_attrib (rtx x)\n       if (SYMBOL_REF_FLAGS (x) & SYMBOL_FLAG_IO)\n \t{\n \t  attr = lookup_attribute (\"io\", DECL_ATTRIBUTES (decl));\n+         if (!attr || !TREE_VALUE (attr))\n+           attr = lookup_attribute (\"io_low\", DECL_ATTRIBUTES (decl));\n \t  gcc_assert (attr);\n \t}\n       if (!attr || !TREE_VALUE (attr))"}, {"sha": "47b8700c5fdf1f631cdb34f835a65da409b3ce52", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "patch": "@@ -1,3 +1,8 @@\n+2015-09-02  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n+\n+\tPR target/65210\n+\t* gcc.target/avr/pr65210.c: New test.\n+\n 2015-09-04  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR testsuite/67450"}, {"sha": "1aed4417c1fdcf70a929507cbacd41fd3f0bda2c", "filename": "gcc/testsuite/gcc.target/avr/pr65210.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Ftestsuite%2Fgcc.target%2Favr%2Fpr65210.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52ec220503a1c7fa25b21b8c34c4428b3ec13f8/gcc%2Ftestsuite%2Fgcc.target%2Favr%2Fpr65210.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Favr%2Fpr65210.c?ref=b52ec220503a1c7fa25b21b8c34c4428b3ec13f8", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile } */\n+\n+/* This testcase exposes PR65210. Usage of the io_low attribute\n+   causes assertion failure because code only looks for the io\n+   attribute if SYMBOL_FLAG_IO is set. */\n+\n+volatile char q __attribute__((io_low,address(0x81)));"}]}