{"sha": "7c0c0cb69ba2819839005216489eed6d43d27a19", "node_id": "C_kwDOANBUbNoAKDdjMGMwY2I2OWJhMjgxOTgzOTAwNTIxNjQ4OWVlZDZkNDNkMjdhMTk", "commit": {"author": {"name": "Pierre-Emmanuel Patry", "email": "pierre-emmanuel.patry@embecosm.com", "date": "2023-05-16T12:54:11Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2023-06-08T12:32:34Z"}, "message": "libproc_macro: Rename Procmacro subtypes\n\nRename procedural macro specializations without the \"payload\" suffix.\nThose types will be reused in several places where the old suffix might\nbe counterintuitive.\n\nChangeLog:\n\n\t* libgrust/libproc_macro/proc_macro.h (struct CustomDerivePayload):\n\tRename from CustomDerivePayload to...\n\t(struct CustomDerive): ... CustomDerive\n\t(struct AttrPayload): Rename from AttrPayload to ...\n\t(struct Attribute): ... Attribute\n\t(struct BangPayload): Rename from BangPayload to ...\n\t(struct Bang): ... Bang\n\t(union ProcmacroPayload): Update union with new names.\n\nSigned-off-by: Pierre-Emmanuel Patry <pierre-emmanuel.patry@embecosm.com>", "tree": {"sha": "afbefc756b99878927c66ba7d7426583a20b3699", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/afbefc756b99878927c66ba7d7426583a20b3699"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c0c0cb69ba2819839005216489eed6d43d27a19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c0c0cb69ba2819839005216489eed6d43d27a19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c0c0cb69ba2819839005216489eed6d43d27a19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c0c0cb69ba2819839005216489eed6d43d27a19/comments", "author": {"login": "P-E-P", "id": 32375388, "node_id": "MDQ6VXNlcjMyMzc1Mzg4", "avatar_url": "https://avatars.githubusercontent.com/u/32375388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/P-E-P", "html_url": "https://github.com/P-E-P", "followers_url": "https://api.github.com/users/P-E-P/followers", "following_url": "https://api.github.com/users/P-E-P/following{/other_user}", "gists_url": "https://api.github.com/users/P-E-P/gists{/gist_id}", "starred_url": "https://api.github.com/users/P-E-P/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/P-E-P/subscriptions", "organizations_url": "https://api.github.com/users/P-E-P/orgs", "repos_url": "https://api.github.com/users/P-E-P/repos", "events_url": "https://api.github.com/users/P-E-P/events{/privacy}", "received_events_url": "https://api.github.com/users/P-E-P/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cba5e7468d7c7a7f212da37db2e1de55641df5d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cba5e7468d7c7a7f212da37db2e1de55641df5d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cba5e7468d7c7a7f212da37db2e1de55641df5d3"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "673f7a932f1f7120476f9be65c0d013fd1d5a090", "filename": "libgrust/libproc_macro/proc_macro.h", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c0c0cb69ba2819839005216489eed6d43d27a19/libgrust%2Flibproc_macro%2Fproc_macro.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c0c0cb69ba2819839005216489eed6d43d27a19/libgrust%2Flibproc_macro%2Fproc_macro.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgrust%2Flibproc_macro%2Fproc_macro.h?ref=7c0c0cb69ba2819839005216489eed6d43d27a19", "patch": "@@ -39,7 +39,7 @@ using CustomDeriveMacro = TokenStream (*) (TokenStream);\n using AttributeMacro = TokenStream (*) (TokenStream, TokenStream);\n using BangMacro = TokenStream (*) (TokenStream);\n \n-struct CustomDerivePayload\n+struct CustomDerive\n {\n   // TODO: UTF-8 function name\n   const char *trait_name;\n@@ -49,14 +49,14 @@ struct CustomDerivePayload\n   CustomDeriveMacro macro;\n };\n \n-struct AttrPayload\n+struct Attribute\n {\n   // TODO: UTF-8 function name\n   const char *name;\n   AttributeMacro macro;\n };\n \n-struct BangPayload\n+struct Bang\n {\n   const char *name;\n   BangMacro macro;\n@@ -72,9 +72,9 @@ enum ProcmacroTag\n \n union ProcmacroPayload\n {\n-  CustomDerivePayload custom_derive;\n-  AttrPayload attribute;\n-  BangPayload bang;\n+  CustomDerive custom_derive;\n+  Attribute attribute;\n+  Bang bang;\n };\n \n struct Procmacro"}]}