{"sha": "c6b77e6f977bacf45097af1336c8e914db13d0d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZiNzdlNmY5NzdiYWNmNDUwOTdhZjEzMzZjOGU5MTRkYjEzZDBkOQ==", "commit": {"author": {"name": "Tobias Schl\u00fcter", "email": "tobias.schlueter@physik.uni-muenchen.de", "date": "2004-08-22T12:12:04Z"}, "committer": {"name": "Tobias Schl\u00fcter", "email": "tobi@gcc.gnu.org", "date": "2004-08-22T12:12:04Z"}, "message": "* gfortran.dg/reduction.f90: Add checks with complex arguments.\n\nFrom-SVN: r86378", "tree": {"sha": "52627df8ec3e3b3baf71df39244c831d98ff68fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/52627df8ec3e3b3baf71df39244c831d98ff68fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6b77e6f977bacf45097af1336c8e914db13d0d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b77e6f977bacf45097af1336c8e914db13d0d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6b77e6f977bacf45097af1336c8e914db13d0d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6b77e6f977bacf45097af1336c8e914db13d0d9/comments", "author": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TobiSchluter", "id": 11887541, "node_id": "MDQ6VXNlcjExODg3NTQx", "avatar_url": "https://avatars.githubusercontent.com/u/11887541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TobiSchluter", "html_url": "https://github.com/TobiSchluter", "followers_url": "https://api.github.com/users/TobiSchluter/followers", "following_url": "https://api.github.com/users/TobiSchluter/following{/other_user}", "gists_url": "https://api.github.com/users/TobiSchluter/gists{/gist_id}", "starred_url": "https://api.github.com/users/TobiSchluter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TobiSchluter/subscriptions", "organizations_url": "https://api.github.com/users/TobiSchluter/orgs", "repos_url": "https://api.github.com/users/TobiSchluter/repos", "events_url": "https://api.github.com/users/TobiSchluter/events{/privacy}", "received_events_url": "https://api.github.com/users/TobiSchluter/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "617097a3374140b8ec5a4e991ff69fbe94329b74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/617097a3374140b8ec5a4e991ff69fbe94329b74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/617097a3374140b8ec5a4e991ff69fbe94329b74"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "0bf7dfb0af53299420ee9e8b8c79873a3cb7e268", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6b77e6f977bacf45097af1336c8e914db13d0d9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6b77e6f977bacf45097af1336c8e914db13d0d9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c6b77e6f977bacf45097af1336c8e914db13d0d9", "patch": "@@ -1,3 +1,7 @@\n+2004-08-22  Tobias Schlueter  <tobias.schlueter@physik.uni-muenchen.de>\n+\n+\t* gfortran.dg/reduction.f90: Add checks with complex arguments.\n+\n 2004-08-21  Bud Davis  <bdavis9659@comcast.net>\n \n \tPR 16908"}, {"sha": "82193542ff882f8d65ad04744177f742d07491c7", "filename": "gcc/testsuite/gfortran.dg/reduction.f90", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6b77e6f977bacf45097af1336c8e914db13d0d9/gcc%2Ftestsuite%2Fgfortran.dg%2Freduction.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6b77e6f977bacf45097af1336c8e914db13d0d9/gcc%2Ftestsuite%2Fgfortran.dg%2Freduction.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Freduction.f90?ref=c6b77e6f977bacf45097af1336c8e914db13d0d9", "patch": "@@ -9,6 +9,7 @@ program reduction_mask\n   integer, parameter :: res(4*9) = (/ 3, 3, 3, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, &\n        1, 1, 1, 1, 1, 6, 6, 6, 2, 2, 2, 2, 2, 2, 6, 6, 6, 3, 3, 3, 3, 3, 3 /)\n   integer :: val(4*9)\n+  complex :: cval(2*9), cin(3)\n   \n   equal = (/ .true., .true., .false. /)\n   \n@@ -55,4 +56,30 @@ program reduction_mask\n   val(36) = sum((/ 1, 2, 3 /), mask=equal, dim=1)\n   \n   if (any (val /= res)) call abort\n+\n+  ! Tests for complex arguments. These were broken by the original fix.\n+\n+  cin = cmplx((/1,2,3/))\n+\n+  cval(1) = product(cin)\n+  cval(2) = product(cin, 1)\n+  cval(3) = product(cin, dim=1)\n+  cval(4) = product(cin, equal)\n+  cval(5) = product(cin, mask=equal)\n+  cval(6) = product(cin, 1, equal)\n+  cval(7) = product(cin, 1, mask=equal)\n+  cval(8) = product(cin, dim=1, mask=equal)\n+  cval(9) = product(cin, mask=equal, dim=1)\n+       \n+  cval(10) = sum(cin)\n+  cval(11) = sum(cin, 1)\n+  cval(12) = sum(cin, dim=1)\n+  cval(13) = sum(cin, equal)\n+  cval(14) = sum(cin, mask=equal)\n+  cval(15) = sum(cin, 1, equal)\n+  cval(16) = sum(cin, 1, mask=equal)\n+  cval(17) = sum(cin, dim=1, mask=equal)\n+  cval(18) = sum(cin, mask=equal, dim=1)\n+\n+  if (any (cval /= cmplx(res(19:36)))) call abort\n end program reduction_mask"}]}