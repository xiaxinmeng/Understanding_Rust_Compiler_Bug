{"sha": "cf601f01c1192813a04d883e60f99215237adcdf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Y2MDFmMDFjMTE5MjgxM2EwNGQ4ODNlNjBmOTkyMTUyMzdhZGNkZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-12T22:29:13Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-09-12T22:29:13Z"}, "message": "Rewritten to use fixinc-nt.sed.\n\nFrom-SVN: r10339", "tree": {"sha": "6ed7a09b858ea9b8747b0e0e27d59a6898b6ba30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ed7a09b858ea9b8747b0e0e27d59a6898b6ba30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf601f01c1192813a04d883e60f99215237adcdf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf601f01c1192813a04d883e60f99215237adcdf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf601f01c1192813a04d883e60f99215237adcdf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf601f01c1192813a04d883e60f99215237adcdf/comments", "author": null, "committer": null, "parents": [{"sha": "4e760ce31ed17cf427654601931f3a686a3cfc21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e760ce31ed17cf427654601931f3a686a3cfc21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e760ce31ed17cf427654601931f3a686a3cfc21"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "915ac723b85e386db4665a71b9b34e8edcce2189", "filename": "gcc/fixinc.winnt", "status": "modified", "additions": 17, "deletions": 8, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf601f01c1192813a04d883e60f99215237adcdf/gcc%2Ffixinc.winnt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf601f01c1192813a04d883e60f99215237adcdf/gcc%2Ffixinc.winnt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.winnt?ref=cf601f01c1192813a04d883e60f99215237adcdf", "patch": "@@ -28,19 +28,28 @@\n #\tcompiling with gcc.  The header files by default do not\n #\tprovide many essential definitions and declarations if\n #\t__STDC__ is 1.  This script modifies the header files to check\n-#\tfor __STRICT_ANSI__ being defined instead.  However the most \n-#\timportant modification is to change all occurrences of __stdcall\n-#\tand __cdecl to __attribute__((stdcall)) and __attribute__((cdecl)),\n-#\trespectively.  Once munged, the\n+#\tfor __STRICT_ANSI__ being defined instead.  Once munged, the\n #\tresulting new system include files are placed in a directory\n-#\tthat GNU C will search *before* searching the /mstools/h\n-#\tdirectory.  This script should work properly for an /mstools/h\n-#\tdirectory dated 9/4/94 on the installation CDROM.\n+#\tthat GNU C will search *before* searching the Include\n+#\tdirectory.\n #\n #\tSee README-fixinc for more information.\n \n+ORIG_DIR=`pwd`\n+\n # Directory containing the original header files.\n-INPUT=${2-${INPUT-/mstools/h}}\n+cd $2; SEDFILE=`${PWDCMD-pwd}`/fixinc-nt.sed\n+echo $SEDFILE\n+if [ ! -f $SEDFILE ]\n+then echo fixincludes: sed script 'fixinc-nt.sed' not found\n+exit 1\n+fi\n+echo 'Using sed script: ' ${SEDFILE}\n+\n+cd $ORIG_DIR\n+\n+INPUT=${INCLUDE}\n+echo 'Using the Include environment variable to find header files to fix'\n \n # Fail if no arg to specify a directory for the output.\n if [ x$1 = x ]"}]}