{"sha": "2dc219a11db3efc10d1564bf31db97aa7918e61b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRjMjE5YTExZGIzZWZjMTBkMTU2NGJmMzFkYjk3YWE3OTE4ZTYxYg==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-01-16T10:00:27Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1999-01-16T10:00:27Z"}, "message": "expr.c (process_jvm_instruction): Coerce to correct Throwable sub-type the result of the call that gets the...\n\n\ufffd\n\t* expr.c (process_jvm_instruction):  Coerce to correct Throwable\n\tsub-type the result of the call that gets the exception value.\n\t* parse.y (java_complete_expand_methods):  If flags_syntax_only,\n\tdon't call finish_class.\n\t* parse.y (java_check_regular_methods):  If METHOD_PRIVATE,\n\tclear found before continuing.\n\t* verify.c (verify_jvm_instructions):  On an array load, allow\n\tand handle top of stack to be TYPE_NULL.\n\nFrom-SVN: r24696", "tree": {"sha": "83d5b7af98e262473cc722a306e667332f773629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83d5b7af98e262473cc722a306e667332f773629"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2dc219a11db3efc10d1564bf31db97aa7918e61b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dc219a11db3efc10d1564bf31db97aa7918e61b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dc219a11db3efc10d1564bf31db97aa7918e61b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dc219a11db3efc10d1564bf31db97aa7918e61b/comments", "author": null, "committer": null, "parents": [{"sha": "3217b0f3caee12632765d415b37649929281891a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3217b0f3caee12632765d415b37649929281891a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3217b0f3caee12632765d415b37649929281891a"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "7f07319c7e1a132e2f8bcbcf5a278326a558c81c", "filename": "gcc/java/verify.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dc219a11db3efc10d1564bf31db97aa7918e61b/gcc%2Fjava%2Fverify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dc219a11db3efc10d1564bf31db97aa7918e61b/gcc%2Fjava%2Fverify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fverify.c?ref=2dc219a11db3efc10d1564bf31db97aa7918e61b", "patch": "@@ -882,10 +882,12 @@ verify_jvm_instructions (jcf, byte_ops, length)\n \tcase OPCODE_saload: type = promote_type (short_type_node); goto aload;\n         aload:\n \t  pop_type (int_type_node);\n-\t  type = pop_type (ptr_type_node);\n-\t  if (! is_array_type_p (type))\n+\t  tmp = pop_type (ptr_type_node);\n+\t  if (is_array_type_p (tmp))\n+\t    type = TYPE_ARRAY_ELEMENT (TREE_TYPE (tmp));\n+\t  else if (tmp != TYPE_NULL)\n \t    VERIFICATION_ERROR (\"array load from non-array type\");\n-\t  push_type (TYPE_ARRAY_ELEMENT (TREE_TYPE (type)));\n+\t  push_type (type);\n \t  break;\n \n \tcase OPCODE_anewarray:"}]}