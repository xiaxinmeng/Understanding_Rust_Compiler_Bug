{"sha": "924d6d0b69ac1db29335100e81406f5e6cd04ff3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI0ZDZkMGI2OWFjMWRiMjkzMzUxMDBlODE0MDZmNWU2Y2QwNGZmMw==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2018-01-30T09:53:29Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2018-01-30T09:53:29Z"}, "message": "Disable SHF_MERGE on Solaris 10/x86 (PR bootstrap/84017)\n\n\tgcc/testsuite:\n\tPR bootstrap/84017\n\t* gcc.dg/debug/dwarf2/prod-options.c: Add -fno-merge-debug-strings\n\tto dg-options.\n\tSimplify DW_AT_producer scan.\n\n\tgcc:\n\tPR bootstrap/84017\n\t* configure.ac (gcc_cv_as_shf_merge): Disable on Solaris 10/x86.\n\t* configure: Regenerate.\n\nFrom-SVN: r257179", "tree": {"sha": "796218afa8a6867b091c7ecf1143ab5c19990596", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/796218afa8a6867b091c7ecf1143ab5c19990596"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/924d6d0b69ac1db29335100e81406f5e6cd04ff3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/924d6d0b69ac1db29335100e81406f5e6cd04ff3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/924d6d0b69ac1db29335100e81406f5e6cd04ff3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/924d6d0b69ac1db29335100e81406f5e6cd04ff3/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8711e791deaf97590d68ee82ff7a0b81d54e944d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8711e791deaf97590d68ee82ff7a0b81d54e944d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8711e791deaf97590d68ee82ff7a0b81d54e944d"}], "stats": {"total": 34, "additions": 31, "deletions": 3}, "files": [{"sha": "eca095027fd577ed42e5c12a7a913c5e1776567e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=924d6d0b69ac1db29335100e81406f5e6cd04ff3", "patch": "@@ -1,3 +1,9 @@\n+2018-01-30  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR bootstrap/84017\n+\t* configure.ac (gcc_cv_as_shf_merge): Disable on Solaris 10/x86.\n+\t* configure: Regenerate.\n+\n 2018-01-30  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \t* config/aarch64/aarch64-sve.md (*vec_extract<mode><Vel>_0): New"}, {"sha": "6db8c805f81ef672417755b89e20257d639b7a80", "filename": "gcc/configure", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=924d6d0b69ac1db29335100e81406f5e6cd04ff3", "patch": "@@ -23571,6 +23571,14 @@ $as_echo \"$gcc_cv_as_shf_merge\" >&6; }\n \n \n fi\n+case \"$target\" in\n+  i?86-*-solaris2.10* | x86_64-*-solaris2.10*)\n+    # SHF_MERGE support in Solaris 10/x86 ld is broken.\n+    if test x\"$gnu_ld\" = xno; then\n+      gcc_cv_as_shf_merge=no\n+    fi\n+    ;;\n+esac\n \n cat >>confdefs.h <<_ACEOF\n #define HAVE_GAS_SHF_MERGE `if test $gcc_cv_as_shf_merge = yes; then echo 1; else echo 0; fi`"}, {"sha": "f8b0e5a6606693d79631fb8f0ef1e40fd2222ec6", "filename": "gcc/configure.ac", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=924d6d0b69ac1db29335100e81406f5e6cd04ff3", "patch": "@@ -2954,6 +2954,14 @@ if test $gcc_cv_as_shf_merge = no; then\n     [elf,2,12,0], [--fatal-warnings],\n     [.section .rodata.str, \"aMS\", %progbits, 1])\n fi\n+case \"$target\" in\n+  i?86-*-solaris2.10* | x86_64-*-solaris2.10*)\n+    # SHF_MERGE support in Solaris 10/x86 ld is broken.\n+    if test x\"$gnu_ld\" = xno; then\n+      gcc_cv_as_shf_merge=no\n+    fi\n+    ;;\n+esac\n AC_DEFINE_UNQUOTED(HAVE_GAS_SHF_MERGE,\n   [`if test $gcc_cv_as_shf_merge = yes; then echo 1; else echo 0; fi`],\n [Define 0/1 if your assembler supports marking sections with SHF_MERGE flag.])"}, {"sha": "bfc849ebf89aaaac5b6ecfd6dcad044c6822f3fe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=924d6d0b69ac1db29335100e81406f5e6cd04ff3", "patch": "@@ -1,3 +1,10 @@\n+2018-01-30  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR bootstrap/84017\n+\t* gcc.dg/debug/dwarf2/prod-options.c: Add -fno-merge-debug-strings\n+\tto dg-options.\n+\tSimplify DW_AT_producer scan.\n+\n 2018-01-30  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* gcc.dg/tree-ssa/ssa-dom-cse-2.c: XFAIL on !arm_neon arm targets."}, {"sha": "19457173eb3f301daf8ccdfb6e6d8a3353c4d0a6", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/prod-options.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Fprod-options.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/924d6d0b69ac1db29335100e81406f5e6cd04ff3/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Fprod-options.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Fprod-options.c?ref=924d6d0b69ac1db29335100e81406f5e6cd04ff3", "patch": "@@ -3,9 +3,8 @@\n    the build not reproducible.  Other skipped options could be tested here\n    as well.  */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -gdwarf -dA -fdebug-prefix-map=a=b\" } */\n-/* { dg-final { scan-assembler \"DW_AT_producer: \\\"GNU C\" { target { { { ! *-*-solaris2* } || gas } && { { ! hppa*64*-*-* } && { ! powerpc-ibm-aix* } } } } } } */\n-/* { dg-final { scan-assembler \"\\\"GNU C\\[^\\\\n\\\\r\\]+ DW_AT_producer\" { target { { *-*-solaris2* && { ! gas } } || { hppa*64*-*-* } } } } } */\n+/* { dg-options \"-O2 -gdwarf -dA -fno-merge-debug-strings -fdebug-prefix-map=a=b\" } */\n+/* { dg-final { scan-assembler \"\\\"GNU C\\[^\\\\n\\\\r\\]+ DW_AT_producer\" } } */\n /* { dg-final { scan-assembler-not \"debug-prefix-map\" } } */\n \n void func (void)"}]}