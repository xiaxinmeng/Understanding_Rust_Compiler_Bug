{"sha": "f6a41d17646f19146749442cced240b927f88b8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZhNDFkMTc2NDZmMTkxNDY3NDk0NDJjY2VkMjQwYjkyN2Y4OGI4Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-09-12T17:22:03Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-09-12T17:22:03Z"}, "message": "PR 17186, part deux\n\n        PR 17186, part deux\n        * except.c (sjlj_emit_function_exit): Fix logic locating\n        sjlj_exit_after in final block.\n\nFrom-SVN: r87394", "tree": {"sha": "7fbe3e0f7976ee06071314aa3a4f0e6be24c17c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fbe3e0f7976ee06071314aa3a4f0e6be24c17c5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6a41d17646f19146749442cced240b927f88b8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a41d17646f19146749442cced240b927f88b8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a41d17646f19146749442cced240b927f88b8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a41d17646f19146749442cced240b927f88b8b/comments", "author": null, "committer": null, "parents": [{"sha": "bdd1aed4e1daf301088d973c35312338ee48fffd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bdd1aed4e1daf301088d973c35312338ee48fffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bdd1aed4e1daf301088d973c35312338ee48fffd"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "81f42f3cd26d143828fbf390db5b3948fe5d1e25", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a41d17646f19146749442cced240b927f88b8b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a41d17646f19146749442cced240b927f88b8b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6a41d17646f19146749442cced240b927f88b8b", "patch": "@@ -1,3 +1,9 @@\n+2004-09-12  Richard Henderson  <rth@redhat.com\n+\n+        PR 17186, part deux\n+        * except.c (sjlj_emit_function_exit): Fix logic locating\n+        sjlj_exit_after in final block.\n+\n 2004-09-12  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* common.opt: Remove flags -fmove-all-movables and"}, {"sha": "50eda2a0d0d3a2ef1064cddb9c0067232512e617", "filename": "gcc/except.c", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a41d17646f19146749442cced240b927f88b8b/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a41d17646f19146749442cced240b927f88b8b/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=f6a41d17646f19146749442cced240b927f88b8b", "patch": "@@ -2042,18 +2042,19 @@ sjlj_emit_function_exit (void)\n          is inside the last basic block or after it.  In the other case\n          we need to emit to edge.  */\n       gcc_assert (e->src->next_bb == EXIT_BLOCK_PTR);\n-      for (insn = NEXT_INSN (BB_END (e->src)); insn; insn = NEXT_INSN (insn))\n-\tif (insn == cfun->eh->sjlj_exit_after)\n-\t  break;\n-      if (insn)\n-\tinsert_insn_on_edge (seq, e);\n-      else\n+      for (insn = BB_HEAD (e->src); ; insn = NEXT_INSN (insn))\n \t{\n-\t  insn = cfun->eh->sjlj_exit_after;\n-\t  if (LABEL_P (insn))\n-\t    insn = NEXT_INSN (insn);\n-\t  emit_insn_after (seq, insn);\n+\t  if (insn == cfun->eh->sjlj_exit_after)\n+\t    {\n+\t      if (LABEL_P (insn))\n+\t\tinsn = NEXT_INSN (insn);\n+\t      emit_insn_after (seq, insn);\n+\t      return;\n+\t    }\n+\t  if (insn == BB_END (e->src))\n+\t    break;\n \t}\n+      insert_insn_on_edge (seq, e);\n     }\n }\n "}]}