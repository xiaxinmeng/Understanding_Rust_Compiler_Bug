{"sha": "9193479f3410757fdd5e00670f913c7d8c587923", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE5MzQ3OWYzNDEwNzU3ZmRkNWUwMDY3MGY5MTNjN2Q4YzU4NzkyMw==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2003-04-29T18:56:53Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2003-04-29T18:56:53Z"}, "message": "elf.h (SIZE_TYPE, [...]): Remove redundant macros.\n\n\t* config/xtensa/elf.h (SIZE_TYPE, PTRDIFF_TYPE, USER_LABEL_PREFIX):\n\tRemove redundant macros.\n\t(WCHAR_TYPE, WCHAR_TYPE_SIZE): Change to \"short unsigned int\".\n\t(LOCAL_LABEL_PREFIX): Define unconditionally.\n\t(NO_DOT_IN_LABEL): Clarify comment.\n\t* config/xtensa/linux.h (WCHAR_TYPE, WCHAR_TYPE_SIZE): Add explicit\n\tdefinition to \"long int\".\n\nFrom-SVN: r66242", "tree": {"sha": "7f349babb51a5acacb3fb205be35307a0139f096", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7f349babb51a5acacb3fb205be35307a0139f096"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9193479f3410757fdd5e00670f913c7d8c587923", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9193479f3410757fdd5e00670f913c7d8c587923", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9193479f3410757fdd5e00670f913c7d8c587923", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9193479f3410757fdd5e00670f913c7d8c587923/comments", "author": null, "committer": null, "parents": [{"sha": "b0501ec1da518e70175e5e664a553250bbec97c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0501ec1da518e70175e5e664a553250bbec97c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0501ec1da518e70175e5e664a553250bbec97c0"}], "stats": {"total": 51, "additions": 22, "deletions": 29}, "files": [{"sha": "c22b671de013b9af8b04f4d818181bb89c12bf6a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9193479f3410757fdd5e00670f913c7d8c587923", "patch": "@@ -1,3 +1,13 @@\n+2003-04-29  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/elf.h (SIZE_TYPE, PTRDIFF_TYPE, USER_LABEL_PREFIX):\n+\tRemove redundant macros.\n+\t(WCHAR_TYPE, WCHAR_TYPE_SIZE): Change to \"short unsigned int\".\n+\t(LOCAL_LABEL_PREFIX): Define unconditionally.\n+\t(NO_DOT_IN_LABEL): Clarify comment.\n+\t* config/xtensa/linux.h (WCHAR_TYPE, WCHAR_TYPE_SIZE): Add explicit\n+\tdefinition to \"long int\".\n+\n 2003-04-29  Alexander Kabaev  <kan@FreeBSD.ORG>\n \n \tbootstrap/10452"}, {"sha": "4bc4f7fdca3dd8e0c20056f24fa86c251c146ae7", "filename": "gcc/config/xtensa/elf.h", "status": "modified", "additions": 6, "deletions": 29, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2Fconfig%2Fxtensa%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2Fconfig%2Fxtensa%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Felf.h?ref=9193479f3410757fdd5e00670f913c7d8c587923", "patch": "@@ -1,6 +1,6 @@\n /* Xtensa/Elf configuration.\n    Derived from the configuration for GCC for Intel i386 running Linux.\n-   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Copyright (C) 2001,2003 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -41,17 +41,11 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #undef TARGET_VERSION\n #define TARGET_VERSION fputs (\" (Xtensa/ELF)\", stderr);\n \n-#undef SIZE_TYPE\n-#define SIZE_TYPE \"unsigned int\"\n-\n-#undef PTRDIFF_TYPE\n-#define PTRDIFF_TYPE \"int\"\n-\n #undef WCHAR_TYPE\n-#define WCHAR_TYPE \"int\"\n+#define WCHAR_TYPE \"short unsigned int\"\n \n #undef WCHAR_TYPE_SIZE\n-#define WCHAR_TYPE_SIZE BITS_PER_WORD\n+#define WCHAR_TYPE_SIZE 16\n \n #undef ASM_SPEC\n #define ASM_SPEC \"%{v} %{mno-density:--no-density} \\\n@@ -81,29 +75,12 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n       %{rdynamic:-export-dynamic} \\\n     %{static:-static}}}\"\n \n-/* Local compiler-generated symbols must have a prefix that the assembler\n-   understands.   By default, this is $, although some targets (e.g.,\n-   NetBSD-ELF) need to override this. */\n-\n-#ifndef LOCAL_LABEL_PREFIX\n+#undef LOCAL_LABEL_PREFIX\n #define LOCAL_LABEL_PREFIX\t\".\"\n-#endif\n-\n-/* By default, external symbols do not have an underscore prepended. */\n \n-#ifndef USER_LABEL_PREFIX\n-#define USER_LABEL_PREFIX\t\"\"\n-#endif\n-\n-/* Define this macro if the assembler does not accept the character\n-   \".\" in label names.  By default constructors and destructors in G++\n-   have names that use \".\".  If this macro is defined, these names\n-   are rewritten to avoid \".\". */\n-#define NO_DOT_IN_LABEL\n-\n-/* Define NO_DOLLAR_IN_LABEL in your favorite tm file if your assembler\n-   doesn't allow $ in symbol names.  */\n+/* Avoid dots for compatibility with VxWorks.  */\n #undef NO_DOLLAR_IN_LABEL\n+#define NO_DOT_IN_LABEL\n \n /* Do not force \"-fpic\" for this target.  */\n #define XTENSA_ALWAYS_PIC 0"}, {"sha": "b364ed900b48b42dc52242bace586a4d10959b47", "filename": "gcc/config/xtensa/linux.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2Fconfig%2Fxtensa%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9193479f3410757fdd5e00670f913c7d8c587923/gcc%2Fconfig%2Fxtensa%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flinux.h?ref=9193479f3410757fdd5e00670f913c7d8c587923", "patch": "@@ -34,6 +34,12 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #undef TARGET_VERSION\n #define TARGET_VERSION fputs (\" (Xtensa GNU/Linux with ELF)\", stderr);\n \n+#undef WCHAR_TYPE\n+#define WCHAR_TYPE \"long int\"\n+\n+#undef WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE 32\n+\n #undef ASM_SPEC\n #define ASM_SPEC \"%{v} %{mno-density:--no-density} \\\n                   %{mtext-section-literals:--text-section-literals} \\"}]}