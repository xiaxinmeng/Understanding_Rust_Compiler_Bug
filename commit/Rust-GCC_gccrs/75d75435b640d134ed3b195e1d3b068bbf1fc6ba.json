{"sha": "75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVkNzU0MzViNjQwZDEzNGVkM2IxOTVlMWQzYjA2OGJiZjFmYzZiYQ==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2003-06-27T17:36:21Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2003-06-27T17:36:21Z"}, "message": "ggc-page.c (inverse_table): Change type of mult to size_t.\n\n        * ggc-page.c (inverse_table): Change type of mult to size_t.\n        (compute_inverse): Compute inverse using size_t, not unsigned int.\n        Compute inverse also for sizes larger than half a machine page.\n\nFrom-SVN: r68589", "tree": {"sha": "2be831b2628a512fdac1b99d168c8e273c5f80f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2be831b2628a512fdac1b99d168c8e273c5f80f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75d75435b640d134ed3b195e1d3b068bbf1fc6ba/comments", "author": null, "committer": null, "parents": [{"sha": "07d1940e1c7592fc5e3315493b2f8db9a591cfb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07d1940e1c7592fc5e3315493b2f8db9a591cfb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07d1940e1c7592fc5e3315493b2f8db9a591cfb8"}], "stats": {"total": 23, "additions": 9, "deletions": 14}, "files": [{"sha": "a86f0a83d6a0c0e73276afa52680dfec691c2a2e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75d75435b640d134ed3b195e1d3b068bbf1fc6ba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75d75435b640d134ed3b195e1d3b068bbf1fc6ba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "patch": "@@ -1,3 +1,9 @@\n+2003-06-13  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+        * ggc-page.c (inverse_table): Change type of mult to size_t.\n+        (compute_inverse): Compute inverse using size_t, not unsigned int.\n+        Compute inverse also for sizes larger than half a machine page.\n+\n Fri Jun 27 18:36:12 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* toplev.c (rest_of_decl_compilation):  Only varpoolize argument"}, {"sha": "f6fe8cdcd084904806339d6d622e61f79f18dd69", "filename": "gcc/ggc-page.c", "status": "modified", "additions": 3, "deletions": 14, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75d75435b640d134ed3b195e1d3b068bbf1fc6ba/gcc%2Fggc-page.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75d75435b640d134ed3b195e1d3b068bbf1fc6ba/gcc%2Fggc-page.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-page.c?ref=75d75435b640d134ed3b195e1d3b068bbf1fc6ba", "patch": "@@ -231,7 +231,7 @@ static size_t object_size_table[NUM_ORDERS];\n \n static struct\n {\n-  unsigned int mult;\n+  size_t mult;\n   unsigned int shift;\n }\n inverse_table[NUM_ORDERS];\n@@ -1219,19 +1219,8 @@ ggc_get_size (const void *p)\n static void\n compute_inverse (unsigned order)\n {\n-  unsigned size, inv, e;\n-\n-  /* There can be only one object per \"page\" in a bucket for sizes\n-     larger than half a machine page; it will always have offset zero.  */\n-  if (OBJECT_SIZE (order) > G.pagesize/2)\n-    {\n-      if (OBJECTS_PER_PAGE (order) != 1)\n-\tabort ();\n-\n-      DIV_MULT (order) = 1;\n-      DIV_SHIFT (order) = 0;\n-      return;\n-    }\n+  size_t size, inv; \n+  unsigned int e;\n \n   size = OBJECT_SIZE (order);\n   e = 0;"}]}