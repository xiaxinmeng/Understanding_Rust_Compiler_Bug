{"sha": "c5bb59c118038f25b2479b2513c36626a8df6cb3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzViYjU5YzExODAzOGYyNWIyNDc5YjI1MTNjMzY2MjZhOGRmNmNiMw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2001-08-27T23:09:37Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2001-08-27T23:09:37Z"}, "message": "jartool.c (jarfile): Remove length limitation.\n\n\t* jartool.c (jarfile): Remove length limitation.\n\t(main): Use jt_strdup when initializing jarfile.\n\nFrom-SVN: r45217", "tree": {"sha": "47ab41cf167939df2b8beca6f770bb1b78324474", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/47ab41cf167939df2b8beca6f770bb1b78324474"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5bb59c118038f25b2479b2513c36626a8df6cb3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5bb59c118038f25b2479b2513c36626a8df6cb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5bb59c118038f25b2479b2513c36626a8df6cb3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5bb59c118038f25b2479b2513c36626a8df6cb3/comments", "author": null, "committer": null, "parents": [{"sha": "b7b59ff4ec28451337d241bf38dfdeb9bbcbd6b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b59ff4ec28451337d241bf38dfdeb9bbcbd6b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7b59ff4ec28451337d241bf38dfdeb9bbcbd6b3"}], "stats": {"total": 21, "additions": 17, "deletions": 4}, "files": [{"sha": "684a0f2948ef000b9f60d58e8262aa3177c49950", "filename": "fastjar/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5bb59c118038f25b2479b2513c36626a8df6cb3/fastjar%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5bb59c118038f25b2479b2513c36626a8df6cb3/fastjar%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FChangeLog?ref=c5bb59c118038f25b2479b2513c36626a8df6cb3", "patch": "@@ -1,3 +1,8 @@\n+2001-08-27  Tom Tromey  <tromey@redhat.com>\n+\n+\t* jartool.c (jarfile): Remove length limitation.\n+\t(main): Use jt_strdup when initializing jarfile.\n+\n 2001-07-04  Tom Tromey  <tromey@redhat.com>\n \n \tModified from patch by Julian Hall <jules@acris.co.uk>:"}, {"sha": "f2922bdcb8f50574893577692b9f41a9fa6fd376", "filename": "fastjar/jartool.c", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5bb59c118038f25b2479b2513c36626a8df6cb3/fastjar%2Fjartool.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5bb59c118038f25b2479b2513c36626a8df6cb3/fastjar%2Fjartool.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjartool.c?ref=c5bb59c118038f25b2479b2513c36626a8df6cb3", "patch": "@@ -17,9 +17,17 @@\n   Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n */\n \n-/* $Id: jartool.c,v 1.5 2001/05/03 21:40:47 danglin Exp $\n+/* $Id: jartool.c,v 1.6 2001/07/04 18:33:53 tromey Exp $\n \n    $Log: jartool.c,v $\n+   Revision 1.6  2001/07/04 18:33:53  tromey\n+   \tModified from patch by Julian Hall <jules@acris.co.uk>:\n+   \t* jartool.c (errno): Conditionally declare.\n+   \t(O_BINARY): Conditionally define.\n+   \t(main): Use open, not creat.  Use O_BINARY everywhere.\n+   \t(make_manifest): Use O_BINARY.\n+   \t(add_to_jar): Likewise.\n+\n    Revision 1.5  2001/05/03 21:40:47  danglin\n    \t* jartool.c (jt_strdup): New function.\n    \t(get_next_arg): Use jt_strdup instead of strdup.\n@@ -241,7 +249,7 @@ ub1 data_descriptor[16];\n int do_compress;\n int seekable;\n int verbose;\n-char jarfile[256];\n+char *jarfile;\n \n /* If non zero, then don't recurse in directory. Instead, add the\n    directory entry and relie on an explicit list of files to populate\n@@ -357,7 +365,7 @@ int main(int argc, char **argv){\n     if(i >= argc)\n       usage(argv[0]);\n \n-    strncpy(jarfile, argv[i++], 256);\n+    jarfile = jt_strdup (argv[i++]);\n   }\n   if(manifest_file){\n     if(i >= argc)\n@@ -370,7 +378,7 @@ int main(int argc, char **argv){\n     if(i >= argc)\n       usage(argv[0]);\n \n-    strncpy(jarfile, argv[i++], 256);\n+    jarfile = jt_strdup (argv[i++]);\n   }\n \n   /* create the jarfile */"}]}