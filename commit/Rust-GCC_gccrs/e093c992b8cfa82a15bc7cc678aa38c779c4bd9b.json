{"sha": "e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA5M2M5OTJiOGNmYTgyYTE1YmM3Y2M2NzhhYTM4Yzc3OWM0YmQ5Yg==", "commit": {"author": {"name": "Anthony Green", "email": "green@redhat.com", "date": "2000-09-03T19:54:20Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2000-09-03T19:54:20Z"}, "message": "configure.in: Add TARGET_LIBRARY conditional.\n\nSun Sep  3 12:37:12 2000  Anthony Green  <green@redhat.com>\n\n\t* configure.in: Add TARGET_LIBRARY conditional.\n\t* configure: Rebuilt.\n\t* Makefile.am: If we're building a build host library, call the\n\tlibrary libz.a and don't use libtool.\n\t* Makefile.in: Rebuilt.\n\nFrom-SVN: r36121", "tree": {"sha": "1baf06517631208468de4874059d0d7e5586a5b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1baf06517631208468de4874059d0d7e5586a5b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/comments", "author": {"login": "atgreen", "id": 89993, "node_id": "MDQ6VXNlcjg5OTkz", "avatar_url": "https://avatars.githubusercontent.com/u/89993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atgreen", "html_url": "https://github.com/atgreen", "followers_url": "https://api.github.com/users/atgreen/followers", "following_url": "https://api.github.com/users/atgreen/following{/other_user}", "gists_url": "https://api.github.com/users/atgreen/gists{/gist_id}", "starred_url": "https://api.github.com/users/atgreen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atgreen/subscriptions", "organizations_url": "https://api.github.com/users/atgreen/orgs", "repos_url": "https://api.github.com/users/atgreen/repos", "events_url": "https://api.github.com/users/atgreen/events{/privacy}", "received_events_url": "https://api.github.com/users/atgreen/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4e67550b260686afc582482aeb38099182ced519", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e67550b260686afc582482aeb38099182ced519", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e67550b260686afc582482aeb38099182ced519"}], "stats": {"total": 432, "additions": 259, "deletions": 173}, "files": [{"sha": "f76a1a1c6e8171062900d935172c66d0f6bf4aa2", "filename": "zlib/ChangeLog.gcj", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FChangeLog.gcj?ref=e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "patch": "@@ -1,3 +1,11 @@\n+Sun Sep  3 12:37:12 2000  Anthony Green  <green@redhat.com>\n+\n+\t* configure.in: Add TARGET_LIBRARY conditional.\n+\t* configure: Rebuilt.\n+\t* Makefile.am: If we're building a build host library, call the\n+\tlibrary libz.a and don't use libtool.\n+\t* Makefile.in: Rebuilt.\n+\n 1999-10-04  Tom Tromey  <tromey@cygnus.com>\n \n \t* configure: Rebuilt."}, {"sha": "80de4ef763f1d609bc401ed35003601c86ee746b", "filename": "zlib/Makefile.am", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FMakefile.am?ref=e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "patch": "@@ -19,17 +19,22 @@ toolexecdir = $(exec_prefix)/$(target_alias)\n toolexeclibdir = $(toolexecdir)/lib$(MULTISUBDIR)\n endif\n \n-## We don't use `libz.la' because we don't want to conflict with a\n-## system library of that name.\n-toolexeclib_LTLIBRARIES = @target_all@\n-EXTRA_LTLIBRARIES = libzgcj.la\n-\n-libzgcj_la_SOURCES = adler32.c compress.c crc32.c deflate.c deflate.h \\\n+ZLIB_SOURCES = adler32.c compress.c crc32.c deflate.c deflate.h \\\n gzio.c infblock.c infblock.h infcodes.c infcodes.h inffast.c inffast.h \\\n inffixed.h inflate.c inftrees.c inftrees.h infutil.c infutil.h trees.c \\\n trees.h uncompr.c zconf.h zlib.h zutil.c zutil.h\n \n+if TARGET_LIBRARY\n+## We don't use `libz.la' because we don't want to conflict with a\n+## system library of that name.\n+toolexeclib_LTLIBRARIES = @target_all@\n+EXTRA_LTLIBRARIES = libzgcj.la\n+libzgcj_la_SOURCES = $(ZLIB_SOURCES)\n libzgcj_la_LDFLAGS = -version-info 0:0:0 -rpath $(toolexeclibdir)\n+else\n+toolexeclib_LIBRARIES = libz.a\n+libz_a_SOURCES = $(ZLIB_SOURCES)\n+endif\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and"}, {"sha": "6c4bb996f07dd25fdbb2c7085db73056e3101967", "filename": "zlib/Makefile.in", "status": "modified", "additions": 109, "deletions": 56, "changes": 165, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2FMakefile.in?ref=e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "patch": "@@ -75,9 +75,9 @@ LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n NM = @NM@\n-OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n+USE_SYMBOL_UNDERSCORE = @USE_SYMBOL_UNDERSCORE@\n VERSION = @VERSION@\n target_all = @target_all@\n zlib_basedir = @zlib_basedir@\n@@ -91,23 +91,22 @@ MULTIDIRS =\n MULTISUBDIR = \n MULTIDO = true\n MULTICLEAN = true\n-@USE_LIBDIR_TRUE@toolexeclibdir = \\\n-@USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexeclibdir = \\\n-@USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n-@USE_LIBDIR_FALSE@toolexecdir = \\\n-@USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n+@USE_LIBDIR_TRUE@toolexeclibdir = @USE_LIBDIR_TRUE@$(libdir)$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexeclibdir = @USE_LIBDIR_FALSE@$(toolexecdir)/lib$(MULTISUBDIR)\n+@USE_LIBDIR_FALSE@toolexecdir = @USE_LIBDIR_FALSE@$(exec_prefix)/$(target_alias)\n \n-toolexeclib_LTLIBRARIES = @target_all@\n-EXTRA_LTLIBRARIES = libzgcj.la\n-\n-libzgcj_la_SOURCES = adler32.c compress.c crc32.c deflate.c deflate.h \\\n+ZLIB_SOURCES = adler32.c compress.c crc32.c deflate.c deflate.h \\\n gzio.c infblock.c infblock.h infcodes.c infcodes.h inffast.c inffast.h \\\n inffixed.h inflate.c inftrees.c inftrees.h infutil.c infutil.h trees.c \\\n trees.h uncompr.c zconf.h zlib.h zutil.c zutil.h\n \n \n-libzgcj_la_LDFLAGS = -version-info 0:0:0 -rpath $(toolexeclibdir)\n+@TARGET_LIBRARY_TRUE@toolexeclib_LTLIBRARIES = @TARGET_LIBRARY_TRUE@@target_all@\n+@TARGET_LIBRARY_TRUE@EXTRA_LTLIBRARIES = @TARGET_LIBRARY_TRUE@libzgcj.la\n+@TARGET_LIBRARY_TRUE@libzgcj_la_SOURCES = @TARGET_LIBRARY_TRUE@$(ZLIB_SOURCES)\n+@TARGET_LIBRARY_TRUE@libzgcj_la_LDFLAGS = @TARGET_LIBRARY_TRUE@-version-info 0:0:0 -rpath $(toolexeclibdir)\n+@TARGET_LIBRARY_FALSE@toolexeclib_LIBRARIES = @TARGET_LIBRARY_FALSE@libz.a\n+@TARGET_LIBRARY_FALSE@libz_a_SOURCES = @TARGET_LIBRARY_FALSE@$(ZLIB_SOURCES)\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and\n@@ -153,17 +152,26 @@ AM_MAKEFLAGS = \\\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_CLEAN_FILES = \n-LTLIBRARIES =  $(toolexeclib_LTLIBRARIES)\n+LIBRARIES =  $(toolexeclib_LIBRARIES)\n \n \n DEFS = @DEFS@ -I. -I$(srcdir) \n CPPFLAGS = @CPPFLAGS@\n LDFLAGS = @LDFLAGS@\n LIBS = @LIBS@\n+libz_a_LIBADD = \n+@TARGET_LIBRARY_FALSE@libz_a_OBJECTS =  adler32.o compress.o crc32.o \\\n+@TARGET_LIBRARY_FALSE@deflate.o gzio.o infblock.o infcodes.o inffast.o \\\n+@TARGET_LIBRARY_FALSE@inflate.o inftrees.o infutil.o trees.o uncompr.o \\\n+@TARGET_LIBRARY_FALSE@zutil.o\n+AR = ar\n+LTLIBRARIES =  $(toolexeclib_LTLIBRARIES)\n+\n libzgcj_la_LIBADD = \n-libzgcj_la_OBJECTS =  adler32.lo compress.lo crc32.lo deflate.lo gzio.lo \\\n-infblock.lo infcodes.lo inffast.lo inflate.lo inftrees.lo infutil.lo \\\n-trees.lo uncompr.lo zutil.lo\n+@TARGET_LIBRARY_TRUE@libzgcj_la_OBJECTS =  adler32.lo compress.lo \\\n+@TARGET_LIBRARY_TRUE@crc32.lo deflate.lo gzio.lo infblock.lo \\\n+@TARGET_LIBRARY_TRUE@infcodes.lo inffast.lo inflate.lo inftrees.lo \\\n+@TARGET_LIBRARY_TRUE@infutil.lo trees.lo uncompr.lo zutil.lo\n CFLAGS = @CFLAGS@\n COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n@@ -175,10 +183,10 @@ aclocal.m4 configure configure.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = tar\n+TAR = gtar\n GZIP_ENV = --best\n-SOURCES = $(libzgcj_la_SOURCES)\n-OBJECTS = $(libzgcj_la_OBJECTS)\n+SOURCES = $(libz_a_SOURCES) $(libzgcj_la_SOURCES)\n+OBJECTS = $(libz_a_OBJECTS) $(libzgcj_la_OBJECTS)\n \n all: all-redirect\n .SUFFIXES:\n@@ -198,29 +206,36 @@ config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n $(srcdir)/configure: @MAINTAINER_MODE_TRUE@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)\n \tcd $(srcdir) && $(AUTOCONF)\n \n-mostlyclean-toolexeclibLTLIBRARIES:\n+mostlyclean-toolexeclibLIBRARIES:\n \n-clean-toolexeclibLTLIBRARIES:\n-\t-test -z \"$(toolexeclib_LTLIBRARIES)\" || rm -f $(toolexeclib_LTLIBRARIES)\n+clean-toolexeclibLIBRARIES:\n+\t-test -z \"$(toolexeclib_LIBRARIES)\" || rm -f $(toolexeclib_LIBRARIES)\n \n-distclean-toolexeclibLTLIBRARIES:\n+distclean-toolexeclibLIBRARIES:\n \n-maintainer-clean-toolexeclibLTLIBRARIES:\n+maintainer-clean-toolexeclibLIBRARIES:\n \n-install-toolexeclibLTLIBRARIES: $(toolexeclib_LTLIBRARIES)\n+install-toolexeclibLIBRARIES: $(toolexeclib_LIBRARIES)\n \t@$(NORMAL_INSTALL)\n \t$(mkinstalldirs) $(DESTDIR)$(toolexeclibdir)\n-\t@list='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n+\t@list='$(toolexeclib_LIBRARIES)'; for p in $$list; do \\\n \t  if test -f $$p; then \\\n-\t    echo \"$(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p\"; \\\n-\t    $(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p; \\\n+\t    echo \" $(INSTALL_DATA) $$p $(DESTDIR)$(toolexeclibdir)/$$p\"; \\\n+\t    $(INSTALL_DATA) $$p $(DESTDIR)$(toolexeclibdir)/$$p; \\\n+\t  else :; fi; \\\n+\tdone\n+\t@$(POST_INSTALL)\n+\t@list='$(toolexeclib_LIBRARIES)'; for p in $$list; do \\\n+\t  if test -f $$p; then \\\n+\t    echo \" $(RANLIB) $(DESTDIR)$(toolexeclibdir)/$$p\"; \\\n+\t    $(RANLIB) $(DESTDIR)$(toolexeclibdir)/$$p; \\\n \t  else :; fi; \\\n \tdone\n \n-uninstall-toolexeclibLTLIBRARIES:\n+uninstall-toolexeclibLIBRARIES:\n \t@$(NORMAL_UNINSTALL)\n-\tlist='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n-\t  $(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(toolexeclibdir)/$$p; \\\n+\tlist='$(toolexeclib_LIBRARIES)'; for p in $$list; do \\\n+\t  rm -f $(DESTDIR)$(toolexeclibdir)/$$p; \\\n \tdone\n \n .c.o:\n@@ -261,6 +276,36 @@ distclean-libtool:\n \n maintainer-clean-libtool:\n \n+libz.a: $(libz_a_OBJECTS) $(libz_a_DEPENDENCIES)\n+\t-rm -f libz.a\n+\t$(AR) cru libz.a $(libz_a_OBJECTS) $(libz_a_LIBADD)\n+\t$(RANLIB) libz.a\n+\n+mostlyclean-toolexeclibLTLIBRARIES:\n+\n+clean-toolexeclibLTLIBRARIES:\n+\t-test -z \"$(toolexeclib_LTLIBRARIES)\" || rm -f $(toolexeclib_LTLIBRARIES)\n+\n+distclean-toolexeclibLTLIBRARIES:\n+\n+maintainer-clean-toolexeclibLTLIBRARIES:\n+\n+install-toolexeclibLTLIBRARIES: $(toolexeclib_LTLIBRARIES)\n+\t@$(NORMAL_INSTALL)\n+\t$(mkinstalldirs) $(DESTDIR)$(toolexeclibdir)\n+\t@list='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n+\t  if test -f $$p; then \\\n+\t    echo \"$(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p\"; \\\n+\t    $(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(toolexeclibdir)/$$p; \\\n+\t  else :; fi; \\\n+\tdone\n+\n+uninstall-toolexeclibLTLIBRARIES:\n+\t@$(NORMAL_UNINSTALL)\n+\tlist='$(toolexeclib_LTLIBRARIES)'; for p in $$list; do \\\n+\t  $(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(toolexeclibdir)/$$p; \\\n+\tdone\n+\n libzgcj.la: $(libzgcj_la_OBJECTS) $(libzgcj_la_DEPENDENCIES)\n \t$(LINK)  $(libzgcj_la_LDFLAGS) $(libzgcj_la_OBJECTS) $(libzgcj_la_LIBADD) $(LIBS)\n \n@@ -334,7 +379,7 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  if test -f $$file; then d=.; else d=$(srcdir); fi; \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pr $$/$$file $(distdir)/$$file; \\\n+\t    cp -pr $$d/$$file $(distdir)/$$file; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n \t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\\n@@ -351,7 +396,8 @@ installcheck-am:\n installcheck: installcheck-am\n install-info-am: \n install-info: install-info-am\n-install-exec-am: install-toolexeclibLTLIBRARIES\n+install-exec-am: install-toolexeclibLIBRARIES \\\n+\t\tinstall-toolexeclibLTLIBRARIES\n install-exec: install-exec-am\n \n install-data-am:\n@@ -360,14 +406,16 @@ install-data: install-data-am\n install-am: all-am\n \t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n install: install-am\n-uninstall-am: uninstall-toolexeclibLTLIBRARIES\n+uninstall-am: uninstall-toolexeclibLIBRARIES \\\n+\t\tuninstall-toolexeclibLTLIBRARIES\n uninstall: uninstall-am\n-all-am: Makefile $(LTLIBRARIES)\n+all-am: Makefile $(LIBRARIES) $(LTLIBRARIES)\n all-redirect: all-am\n install-strip:\n \t$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install\n installdirs:\n-\t$(mkinstalldirs)  $(DESTDIR)$(toolexeclibdir)\n+\t$(mkinstalldirs)  $(DESTDIR)$(toolexeclibdir) \\\n+\t\t$(DESTDIR)$(toolexeclibdir)\n \n \n mostlyclean-generic:\n@@ -379,27 +427,29 @@ distclean-generic:\n \t-rm -f config.cache config.log stamp-h stamp-h[0-9]*\n \n maintainer-clean-generic:\n-mostlyclean-am:  mostlyclean-toolexeclibLTLIBRARIES mostlyclean-compile \\\n-\t\tmostlyclean-libtool mostlyclean-tags \\\n-\t\tmostlyclean-generic\n+mostlyclean-am:  mostlyclean-toolexeclibLIBRARIES mostlyclean-compile \\\n+\t\tmostlyclean-libtool mostlyclean-toolexeclibLTLIBRARIES \\\n+\t\tmostlyclean-tags mostlyclean-generic\n \n mostlyclean: mostlyclean-am\n \n-clean-am:  clean-toolexeclibLTLIBRARIES clean-compile clean-libtool \\\n-\t\tclean-tags clean-generic mostlyclean-am\n+clean-am:  clean-toolexeclibLIBRARIES clean-compile clean-libtool \\\n+\t\tclean-toolexeclibLTLIBRARIES clean-tags clean-generic \\\n+\t\tmostlyclean-am\n \n clean: clean-am\n \n-distclean-am:  distclean-toolexeclibLTLIBRARIES distclean-compile \\\n-\t\tdistclean-libtool distclean-tags distclean-generic \\\n-\t\tclean-am\n+distclean-am:  distclean-toolexeclibLIBRARIES distclean-compile \\\n+\t\tdistclean-libtool distclean-toolexeclibLTLIBRARIES \\\n+\t\tdistclean-tags distclean-generic clean-am\n \t-rm -f libtool\n \n distclean: distclean-am\n \t-rm -f config.status\n \n-maintainer-clean-am:  maintainer-clean-toolexeclibLTLIBRARIES \\\n+maintainer-clean-am:  maintainer-clean-toolexeclibLIBRARIES \\\n \t\tmaintainer-clean-compile maintainer-clean-libtool \\\n+\t\tmaintainer-clean-toolexeclibLTLIBRARIES \\\n \t\tmaintainer-clean-tags maintainer-clean-generic \\\n \t\tdistclean-am\n \t@echo \"This command is intended for maintainers to use;\"\n@@ -408,19 +458,22 @@ maintainer-clean-am:  maintainer-clean-toolexeclibLTLIBRARIES \\\n maintainer-clean: maintainer-clean-am\n \t-rm -f config.status\n \n-.PHONY: mostlyclean-toolexeclibLTLIBRARIES \\\n-distclean-toolexeclibLTLIBRARIES clean-toolexeclibLTLIBRARIES \\\n-maintainer-clean-toolexeclibLTLIBRARIES \\\n-uninstall-toolexeclibLTLIBRARIES install-toolexeclibLTLIBRARIES \\\n+.PHONY: mostlyclean-toolexeclibLIBRARIES distclean-toolexeclibLIBRARIES \\\n+clean-toolexeclibLIBRARIES maintainer-clean-toolexeclibLIBRARIES \\\n+uninstall-toolexeclibLIBRARIES install-toolexeclibLIBRARIES \\\n mostlyclean-compile distclean-compile clean-compile \\\n maintainer-clean-compile mostlyclean-libtool distclean-libtool \\\n-clean-libtool maintainer-clean-libtool tags mostlyclean-tags \\\n-distclean-tags clean-tags maintainer-clean-tags distdir info-am info \\\n-dvi-am dvi check check-am installcheck-am installcheck install-info-am \\\n-install-info install-exec-am install-exec install-data-am install-data \\\n-install-am install uninstall-am uninstall all-redirect all-am all \\\n-installdirs mostlyclean-generic distclean-generic clean-generic \\\n-maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n+clean-libtool maintainer-clean-libtool \\\n+mostlyclean-toolexeclibLTLIBRARIES distclean-toolexeclibLTLIBRARIES \\\n+clean-toolexeclibLTLIBRARIES maintainer-clean-toolexeclibLTLIBRARIES \\\n+uninstall-toolexeclibLTLIBRARIES install-toolexeclibLTLIBRARIES tags \\\n+mostlyclean-tags distclean-tags clean-tags maintainer-clean-tags \\\n+distdir info-am info dvi-am dvi check check-am installcheck-am \\\n+installcheck install-info-am install-info install-exec-am install-exec \\\n+install-data-am install-data install-am install uninstall-am uninstall \\\n+all-redirect all-am all installdirs mostlyclean-generic \\\n+distclean-generic clean-generic maintainer-clean-generic clean \\\n+mostlyclean distclean maintainer-clean\n \n \n # Multilib support."}, {"sha": "46dc9340add5c7422c91d86b1b8b44b2c284ac5e", "filename": "zlib/configure", "status": "modified", "additions": 130, "deletions": 111, "changes": 241, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure?ref=e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "patch": "@@ -11,6 +11,9 @@\n ac_help=\n ac_default_prefix=/usr/local\n # Any additions from configure.in:\n+ac_help=\"$ac_help\n+  --enable-maintainer-mode enable make rules and dependencies not useful\n+                          (and sometimes confusing) to the casual installer\"\n ac_help=\"$ac_help\n   --with-target-subdir=SUBDIR\n                           configuring in a subdirectory\"\n@@ -20,9 +23,6 @@ ac_help=\"$ac_help\n   --enable-multilib       build many library versions (default)\"\n ac_help=\"$ac_help\n   --with-system-zlib      use installed libz\"\n-ac_help=\"$ac_help\n-  --enable-maintainer-mode enable make rules and dependencies not useful\n-                          (and sometimes confusing) to the casual installer\"\n ac_help=\"$ac_help\n   --enable-shared[=PKGS]  build shared libraries [default=yes]\"\n ac_help=\"$ac_help\n@@ -896,6 +896,50 @@ fi\n \n \n \n+echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n+echo \"configure:901: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+    # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n+if test \"${enable_maintainer_mode+set}\" = set; then\n+  enableval=\"$enable_maintainer_mode\"\n+  USE_MAINTAINER_MODE=$enableval\n+else\n+  USE_MAINTAINER_MODE=no\n+fi\n+\n+  echo \"$ac_t\"\"$USE_MAINTAINER_MODE\" 1>&6\n+  \n+\n+if test $USE_MAINTAINER_MODE = yes; then\n+  MAINTAINER_MODE_TRUE=\n+  MAINTAINER_MODE_FALSE='#'\n+else\n+  MAINTAINER_MODE_TRUE='#'\n+  MAINTAINER_MODE_FALSE=\n+fi\n+  MAINT=$MAINTAINER_MODE_TRUE\n+  \n+\n+\n+ac_aux_dir=\n+for ac_dir in .. $srcdir/..; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { echo \"configure: error: can not find install-sh or install.sh in .. $srcdir/..\" 1>&2; exit 1; }\n+fi\n+ac_config_guess=$ac_aux_dir/config.guess\n+ac_config_sub=$ac_aux_dir/config.sub\n+ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n+\n+\n # Check whether --with-target-subdir or --without-target-subdir was given.\n if test \"${with_target_subdir+set}\" = set; then\n   withval=\"$with_target_subdir\"\n@@ -944,7 +988,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:948: checking for $ac_word\" >&5\n+echo \"configure:992: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -974,7 +1018,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:978: checking for $ac_word\" >&5\n+echo \"configure:1022: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1023,7 +1067,7 @@ fi\n fi\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1027: checking whether we are using GNU C\" >&5\n+echo \"configure:1071: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1032,7 +1076,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1036: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1080: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1047,7 +1091,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1051: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1095: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1074,37 +1118,21 @@ else\n   test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n fi\n \n-\n-echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:1080: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n-    # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n-if test \"${enable_maintainer_mode+set}\" = set; then\n-  enableval=\"$enable_maintainer_mode\"\n-  USE_MAINTAINER_MODE=$enableval\n-else\n-  USE_MAINTAINER_MODE=no\n-fi\n-\n-  echo \"$ac_t\"\"$USE_MAINTAINER_MODE\" 1>&6\n-  \n-\n-if test $USE_MAINTAINER_MODE = yes; then\n-  MAINTAINER_MODE_TRUE=\n-  MAINTAINER_MODE_FALSE='#'\n-else\n-  MAINTAINER_MODE_TRUE='#'\n-  MAINTAINER_MODE_FALSE=\n-fi\n-  MAINT=$MAINTAINER_MODE_TRUE\n-  \n-\n-echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1103: checking for Cygwin environment\" >&5\n+# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,\n+# at least currently, we never actually build a program, so we never\n+# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally\n+# fails, because we are probably configuring with a cross compiler\n+# which cant create executables.  So we include AC_EXEEXT to keep\n+# automake happy, but we dont execute it, since we dont care about\n+# the result.\n+if false; then\n+  echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n+echo \"configure:1131: checking for Cygwin environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1108 \"configure\"\n+#line 1136 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1115,7 +1143,7 @@ int main() {\n return __CYGWIN__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1119: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1147: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_cygwin=yes\n else\n@@ -1132,19 +1160,19 @@ echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n CYGWIN=\n test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n-echo \"configure:1136: checking for mingw32 environment\" >&5\n+echo \"configure:1164: checking for mingw32 environment\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1141 \"configure\"\n+#line 1169 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n return __MINGW32__;\n ; return 0; }\n EOF\n-if { (eval echo configure:1148: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1176: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_mingw32=yes\n else\n@@ -1163,7 +1191,7 @@ test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n \n echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n-echo \"configure:1167: checking for executable suffix\" >&5\n+echo \"configure:1195: checking for executable suffix\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1173,7 +1201,7 @@ else\n   rm -f conftest*\n   echo 'int main () { return 0; }' > conftest.$ac_ext\n   ac_cv_exeext=\n-  if { (eval echo configure:1177: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+  if { (eval echo configure:1205: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n     for file in conftest.*; do\n       case $file in\n       *.c | *.o | *.obj | *.ilk | *.pdb) ;;\n@@ -1193,27 +1221,7 @@ test x\"${ac_cv_exeext}\" != xno && EXEEXT=${ac_cv_exeext}\n echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n ac_exeext=$EXEEXT\n \n-\n-ac_aux_dir=\n-for ac_dir in .. $srcdir/..; do\n-  if test -f $ac_dir/install-sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n-    break\n-  elif test -f $ac_dir/install.sh; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n-    break\n-  fi\n-done\n-if test -z \"$ac_aux_dir\"; then\n-  { echo \"configure: error: can not find install-sh or install.sh in .. $srcdir/..\" 1>&2; exit 1; }\n fi\n-ac_config_guess=$ac_aux_dir/config.guess\n-ac_config_sub=$ac_aux_dir/config.sub\n-ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n-\n-\n # Check whether --enable-shared or --disable-shared was given.\n if test \"${enable_shared+set}\" = set; then\n   enableval=\"$enable_shared\"\n@@ -1286,7 +1294,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1290: checking for $ac_word\" >&5\n+echo \"configure:1298: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1325,7 +1333,7 @@ ac_prog=ld\n if test \"$ac_cv_prog_gcc\" = yes; then\n   # Check if gcc -print-prog-name=ld gives a path.\n   echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n-echo \"configure:1329: checking for ld used by GCC\" >&5\n+echo \"configure:1337: checking for ld used by GCC\" >&5\n   ac_prog=`($CC -print-prog-name=ld) 2>&5`\n   case \"$ac_prog\" in\n     # Accept absolute paths.\n@@ -1349,10 +1357,10 @@ echo \"configure:1329: checking for ld used by GCC\" >&5\n   esac\n elif test \"$with_gnu_ld\" = yes; then\n   echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1353: checking for GNU ld\" >&5\n+echo \"configure:1361: checking for GNU ld\" >&5\n else\n   echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1356: checking for non-GNU ld\" >&5\n+echo \"configure:1364: checking for non-GNU ld\" >&5\n fi\n if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1388,7 +1396,7 @@ fi\n test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n \n echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n-echo \"configure:1392: checking if the linker ($LD) is GNU ld\" >&5\n+echo \"configure:1400: checking if the linker ($LD) is GNU ld\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1404,7 +1412,7 @@ echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n \n \n echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n-echo \"configure:1408: checking for BSD-compatible nm\" >&5\n+echo \"configure:1416: checking for BSD-compatible nm\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1442,7 +1450,7 @@ echo \"$ac_t\"\"$NM\" 1>&6\n \n # Check for command to grab the raw symbol name followed by C symbol from nm.\n echo $ac_n \"checking command to parse $NM output\"\"... $ac_c\" 1>&6\n-echo \"configure:1446: checking command to parse $NM output\" >&5\n+echo \"configure:1454: checking command to parse $NM output\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sys_global_symbol_pipe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1505,11 +1513,11 @@ void nm_test_func(){}\n int main(){nm_test_var='a';nm_test_func;return 0;}\n EOF\n \n-  if { (eval echo configure:1509: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  if { (eval echo configure:1517: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     # Now try to grab the symbols.\n     ac_nlist=conftest.nm\n   \n-    if { (eval echo configure:1513: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+    if { (eval echo configure:1521: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n \n       # Try sorting and uniquifying the output.\n       if sort \"$ac_nlist\" | uniq > \"$ac_nlist\"T; then\n@@ -1561,7 +1569,7 @@ EOF\n \t  ac_save_CFLAGS=\"$CFLAGS\"\n \t  LIBS=\"conftestm.$ac_objext\"\n \t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if { (eval echo configure:1565: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+\t  if { (eval echo configure:1573: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n \t    ac_pipe_works=yes\n \t  else\n \t    echo \"configure: failed program was:\" >&5\n@@ -1607,7 +1615,7 @@ fi\n echo \"$ac_t\"\"$ac_result\" 1>&6\n \n echo $ac_n \"checking for _ prefix in compiled symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:1611: checking for _ prefix in compiled symbols\" >&5\n+echo \"configure:1619: checking for _ prefix in compiled symbols\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sys_symbol_underscore'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1616,10 +1624,10 @@ cat > conftest.$ac_ext <<EOF\n void nm_test_func(){}\n int main(){nm_test_func;return 0;}\n EOF\n-if { (eval echo configure:1620: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1628: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   # Now try to grab the symbols.\n   ac_nlist=conftest.nm\n-  if { (eval echo configure:1623: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n+  if { (eval echo configure:1631: \\\"$NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist\\\") 1>&5; (eval $NM conftest.$ac_objext \\| $ac_cv_sys_global_symbol_pipe \\> $ac_nlist) 2>&5; } && test -s \"$ac_nlist\"; then\n     # See whether the symbols have a leading underscore.\n     if egrep '^. _nm_test_func' \"$ac_nlist\" >/dev/null; then\n       ac_cv_sys_symbol_underscore=yes\n@@ -1645,7 +1653,7 @@ echo \"$ac_t\"\"$ac_cv_sys_symbol_underscore\" 1>&6\n USE_SYMBOL_UNDERSCORE=${ac_cv_sys_symbol_underscore=no}\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1649: checking whether ln -s works\" >&5\n+echo \"configure:1657: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1687,8 +1695,8 @@ test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n case \"$host\" in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 1691 \"configure\"' > conftest.$ac_ext\n-  if { (eval echo configure:1692: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  echo '#line 1699 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:1700: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n     case \"`/usr/bin/file conftest.o`\" in\n     *32-bit*)\n       LD=\"${LD-ld} -32\"\n@@ -1709,19 +1717,19 @@ case \"$host\" in\n   SAVE_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -belf\"\n   echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n-echo \"configure:1713: checking whether the C compiler needs -belf\" >&5\n+echo \"configure:1721: checking whether the C compiler needs -belf\" >&5\n if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1718 \"configure\"\n+#line 1726 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1725: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1733: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   lt_cv_cc_needs_belf=yes\n else\n@@ -1744,7 +1752,7 @@ echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n   # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1748: checking for $ac_word\" >&5\n+echo \"configure:1756: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1776,7 +1784,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1780: checking for $ac_word\" >&5\n+echo \"configure:1788: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1811,7 +1819,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1815: checking for $ac_word\" >&5\n+echo \"configure:1823: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1843,7 +1851,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1847: checking for $ac_word\" >&5\n+echo \"configure:1855: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2002,7 +2010,7 @@ EOF\n    target_all=libzgcj.la\n else\n    echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2006: checking how to run the C preprocessor\" >&5\n+echo \"configure:2014: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2017,13 +2025,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2021 \"configure\"\n+#line 2029 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2027: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2035: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2034,13 +2042,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2038 \"configure\"\n+#line 2046 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2044: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2052: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2051,13 +2059,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2055 \"configure\"\n+#line 2063 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2061: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2069: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2085,17 +2093,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2089: checking for $ac_hdr\" >&5\n+echo \"configure:2097: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2094 \"configure\"\n+#line 2102 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2099: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2107: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2124,12 +2132,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2128: checking for $ac_func\" >&5\n+echo \"configure:2136: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2133 \"configure\"\n+#line 2141 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2152,7 +2160,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2156: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2164: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2177,15 +2185,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2181: checking for working mmap\" >&5\n+echo \"configure:2189: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2189 \"configure\"\n+#line 2197 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -2325,7 +2333,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:2329: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2337: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -2350,12 +2358,12 @@ fi\n    for ac_func in memcpy strerror\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2354: checking for $ac_func\" >&5\n+echo \"configure:2362: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2359 \"configure\"\n+#line 2367 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2378,7 +2386,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2382: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2390: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2405,15 +2413,15 @@ done\n \n    if test \"$with_system_zlib\" = yes; then\n       echo $ac_n \"checking for deflate in -lz\"\"... $ac_c\" 1>&6\n-echo \"configure:2409: checking for deflate in -lz\" >&5\n+echo \"configure:2417: checking for deflate in -lz\" >&5\n ac_lib_var=`echo z'_'deflate | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lz  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2417 \"configure\"\n+#line 2425 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -2424,7 +2432,7 @@ int main() {\n deflate()\n ; return 0; }\n EOF\n-if { (eval echo configure:2428: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2436: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2456,17 +2464,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2460: checking for $ac_hdr\" >&5\n+echo \"configure:2468: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2465 \"configure\"\n+#line 2473 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2470: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2478: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2503,6 +2511,15 @@ else\n   USE_LIBDIR_FALSE=\n fi\n \n+\n+if test -n \"$with_target_subdir\"; then\n+  TARGET_LIBRARY_TRUE=\n+  TARGET_LIBRARY_FALSE='#'\n+else\n+  TARGET_LIBRARY_TRUE='#'\n+  TARGET_LIBRARY_FALSE=\n+fi\n+\n if test \"${multilib}\" = \"yes\"; then\n   multilib_arg=\"--enable-multilib\"\n else\n@@ -2680,11 +2697,11 @@ s%@AUTOMAKE@%$AUTOMAKE%g\n s%@AUTOHEADER@%$AUTOHEADER%g\n s%@MAKEINFO@%$MAKEINFO%g\n s%@SET_MAKE@%$SET_MAKE%g\n-s%@zlib_basedir@%$zlib_basedir%g\n-s%@CC@%$CC%g\n s%@MAINTAINER_MODE_TRUE@%$MAINTAINER_MODE_TRUE%g\n s%@MAINTAINER_MODE_FALSE@%$MAINTAINER_MODE_FALSE%g\n s%@MAINT@%$MAINT%g\n+s%@zlib_basedir@%$zlib_basedir%g\n+s%@CC@%$CC%g\n s%@EXEEXT@%$EXEEXT%g\n s%@RANLIB@%$RANLIB%g\n s%@LD@%$LD%g\n@@ -2699,6 +2716,8 @@ s%@CPP@%$CPP%g\n s%@target_all@%$target_all%g\n s%@USE_LIBDIR_TRUE@%$USE_LIBDIR_TRUE%g\n s%@USE_LIBDIR_FALSE@%$USE_LIBDIR_FALSE%g\n+s%@TARGET_LIBRARY_TRUE@%$TARGET_LIBRARY_TRUE%g\n+s%@TARGET_LIBRARY_FALSE@%$TARGET_LIBRARY_FALSE%g\n \n CEOF\n EOF"}, {"sha": "bdd178b142df83f96e83bbd2673b4120c36bdd11", "filename": "zlib/configure.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e093c992b8cfa82a15bc7cc678aa38c779c4bd9b/zlib%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/zlib%2Fconfigure.in?ref=e093c992b8cfa82a15bc7cc678aa38c779c4bd9b", "patch": "@@ -90,6 +90,7 @@ AC_SUBST(target_all)\n AC_CHECK_HEADERS(unistd.h)\n \n AM_CONDITIONAL(USE_LIBDIR, test -z \"$with_cross_host\")\n+AM_CONDITIONAL(TARGET_LIBRARY, test -n \"$with_target_subdir\")\n \n if test \"${multilib}\" = \"yes\"; then\n   multilib_arg=\"--enable-multilib\""}]}