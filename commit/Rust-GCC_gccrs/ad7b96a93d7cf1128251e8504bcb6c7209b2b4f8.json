{"sha": "ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ3Yjk2YTkzZDdjZjExMjgyNTFlODUwNGJjYjZjNzIwOWIyYjRmOA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-09-12T23:31:31Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-09-12T23:31:31Z"}, "message": "i386.c (x86_schedule): New global variable.\n\n\n\t* i386.c (x86_schedule): New global variable.\n\t(override_options): Disable scheduling when not supported.\n\t* i386.h (x86_schedule): Declare.\n\t(TARGET_SCHEDULE): New macro.\n\nFrom-SVN: r87411", "tree": {"sha": "8992406a9e057d5bb13889cf8ba5425fa50dac7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8992406a9e057d5bb13889cf8ba5425fa50dac7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/comments", "author": null, "committer": null, "parents": [{"sha": "3abcc195e419c0697bf9854eae8c2a2986626c44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3abcc195e419c0697bf9854eae8c2a2986626c44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3abcc195e419c0697bf9854eae8c2a2986626c44"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "67d42f8c863e829a630ec3ebb3ab8c1ac4145c9e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "patch": "@@ -1,3 +1,10 @@\n+2004-09-13  Jan Hubicka  <jh@suse.cz>\n+\n+\t* i386.c (x86_schedule): New global variable.\n+\t(override_options): Disable scheduling when not supported.\n+\t* i386.h (x86_schedule): Declare.\n+\t(TARGET_SCHEDULE): New macro.\n+\n 2004-09-12  Richard Henderson  <rth@redhat.com>\n \n \tPR c++/16254"}, {"sha": "75935ab75e8535687a7c10e3dcf6b7ab2f3e278b", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "patch": "@@ -578,6 +578,7 @@ const int x86_ext_80387_constants = m_K6 | m_ATHLON | m_PENT4 | m_NOCONA | m_PPR\n /* Some CPU cores are not able to predict more than 4 branch instructions in\n    the 16 byte window.  */\n const int x86_four_jump_limit = m_PPRO | m_ATHLON_K8 | m_PENT4 | m_NOCONA;\n+const int x86_schedule = m_PPRO | m_ATHLON_K8 | m_K8 | m_PENT;\n \n /* In case the average insn count for single function invocation is\n    lower than this constant, emit fast (but longer) prologue and\n@@ -1565,6 +1566,10 @@ override_options (void)\n     internal_label_prefix_len = p - internal_label_prefix;\n     *p = '\\0';\n   }\n+  /* When scheduling description is not available, disable scheduler pass so it\n+     won't slow down the compilation and make x87 code slower.  */\n+  if (!TARGET_SCHEDULE)\n+    flag_schedule_insns_after_reload = flag_schedule_insns = 0;\n }\n \f\n void"}, {"sha": "e3c6d1b8b22a2bd4a1262f0a9bbc071047417e04", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=ad7b96a93d7cf1128251e8504bcb6c7209b2b4f8", "patch": "@@ -243,7 +243,7 @@ extern const int x86_arch_always_fancy_math_387, x86_shift1;\n extern const int x86_sse_partial_reg_dependency, x86_sse_partial_regs;\n extern const int x86_sse_typeless_stores, x86_sse_load0_by_pxor;\n extern const int x86_use_ffreep, x86_sse_partial_regs_for_cvtsd2ss;\n-extern const int x86_inter_unit_moves;\n+extern const int x86_inter_unit_moves, x86_schedule;\n extern int x86_prefetch_sse;\n \n #define TARGET_USE_LEAVE (x86_use_leave & TUNEMASK)\n@@ -298,6 +298,7 @@ extern int x86_prefetch_sse;\n #define TARGET_REP_MOVL_OPTIMAL (x86_rep_movl_optimal & TUNEMASK)\n #define TARGET_INTER_UNIT_MOVES (x86_inter_unit_moves & TUNEMASK)\n #define TARGET_FOUR_JUMP_LIMIT (x86_four_jump_limit & TUNEMASK)\n+#define TARGET_SCHEDULE (x86_schedule & TUNEMASK)\n \n #define TARGET_STACK_PROBE (target_flags & MASK_STACK_PROBE)\n "}]}