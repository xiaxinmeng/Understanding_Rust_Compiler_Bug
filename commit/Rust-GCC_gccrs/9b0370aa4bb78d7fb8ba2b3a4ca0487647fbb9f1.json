{"sha": "9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWIwMzcwYWE0YmI3OGQ3ZmI4YmEyYjNhNGNhMDQ4NzY0N2ZiYjlmMQ==", "commit": {"author": {"name": "Walter Lee", "email": "walt@tilera.com", "date": "2012-08-27T17:27:04Z"}, "committer": {"name": "Walter Lee", "email": "walt@gcc.gnu.org", "date": "2012-08-27T17:27:04Z"}, "message": "Properly set the latency of atomic ops to the approximate latency of a remote memory operation.\n\nProperly set the latency of atomic ops to the approximate latency of a\nremote memory operation.\n\t* config/tilegx/sync.md (atomic_compare_and_swap_bare<mode>,\n\tatomic_exchange_bare<mode>,\n\tatomic_fetch_<fetchop_name>_bare<mode>): Set type to X1_remote.\n\t* config/tilegx/tilegx-generic.md (X1_remote): New\n\tinsn_reservation.\n\t* config/tilegx/tilegx.md (type): Add X1_remove.\n\t(insn_cmpexch<four_if_si>, insn_exch<four_if_si>,\n\tinsn_fetchadd<four_if_si>, insn_fetchaddgez<four_if_si>,\n\tinsn_fetchand<four_if_si>, insn_fetchor<four_if_si>): Set type to\n\tX1_remote.\n\nFrom-SVN: r190722", "tree": {"sha": "3dc6ee6adb05e3e6c1085bc2753027848a296a2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3dc6ee6adb05e3e6c1085bc2753027848a296a2c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/comments", "author": {"login": "walt-tilera", "id": 6602917, "node_id": "MDQ6VXNlcjY2MDI5MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/6602917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walt-tilera", "html_url": "https://github.com/walt-tilera", "followers_url": "https://api.github.com/users/walt-tilera/followers", "following_url": "https://api.github.com/users/walt-tilera/following{/other_user}", "gists_url": "https://api.github.com/users/walt-tilera/gists{/gist_id}", "starred_url": "https://api.github.com/users/walt-tilera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walt-tilera/subscriptions", "organizations_url": "https://api.github.com/users/walt-tilera/orgs", "repos_url": "https://api.github.com/users/walt-tilera/repos", "events_url": "https://api.github.com/users/walt-tilera/events{/privacy}", "received_events_url": "https://api.github.com/users/walt-tilera/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "865ea646b4a8bc3b7891c2c3094f6c9267c2859f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/865ea646b4a8bc3b7891c2c3094f6c9267c2859f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/865ea646b4a8bc3b7891c2c3094f6c9267c2859f"}], "stats": {"total": 37, "additions": 27, "deletions": 10}, "files": [{"sha": "bf81a33d9a36faeb1696012f2b9465e42bb6e433", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "patch": "@@ -1,3 +1,16 @@\n+2012-08-27  Walter Lee  <walt@tilera.com>\n+\n+\t* config/tilegx/sync.md (atomic_compare_and_swap_bare<mode>,\n+\tatomic_exchange_bare<mode>,\n+\tatomic_fetch_<fetchop_name>_bare<mode>): Set type to X1_remote.\n+\t* config/tilegx/tilegx-generic.md (X1_remote): New\n+\tinsn_reservation.\n+\t* config/tilegx/tilegx.md (type): Add X1_remove.\n+\t(insn_cmpexch<four_if_si>, insn_exch<four_if_si>,\n+\tinsn_fetchadd<four_if_si>, insn_fetchaddgez<four_if_si>,\n+\tinsn_fetchand<four_if_si>, insn_fetchor<four_if_si>): Set type to\n+\tX1_remote.\n+\n 2012-08-27  Andreas Schwab  <schwab@linux-m68k.org>\n \n \t* gdbinit.in: Fix syntax of skip command."}, {"sha": "9bf61d17dbe8c0bfceb516911c6c8c53bf4b88d3", "filename": "gcc/config/tilegx/sync.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Fsync.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Fsync.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ftilegx%2Fsync.md?ref=9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "patch": "@@ -72,7 +72,7 @@\n          UNSPEC_CMPXCHG))]\n   \"\"\n   \"cmpexch<four_if_si>\\t%0, %1, %r2\"\n-  [(set_attr \"type\" \"X1_L2\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n \n (define_expand \"atomic_exchange<mode>\"\n@@ -101,7 +101,7 @@\n \t UNSPEC_XCHG))]\n   \"\"\n   \"exch<four_if_si>\\t%0, %1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n \n (define_expand \"atomic_fetch_<fetchop_name><mode>\"\n@@ -137,7 +137,7 @@\n \t   UNSPEC_ATOMIC))]\n   \"\"\n   \"fetch<fetchop_name><four_if_si>\\t%0, %1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n \n (define_expand \"atomic_fetch_sub<mode>\""}, {"sha": "7dea17ab07809429e7af4d71da797a4835c4f202", "filename": "gcc/config/tilegx/tilegx-generic.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Ftilegx-generic.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Ftilegx-generic.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ftilegx%2Ftilegx-generic.md?ref=9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "patch": "@@ -51,6 +51,10 @@\n   (eq_attr \"type\" \"X1_L2\")\n   \"X1\")\n \n+(define_insn_reservation \"X1_remote\" 50\n+  (eq_attr \"type\" \"X1_remote\")\n+  \"X1\")\n+\n (define_insn_reservation \"X1_miss\" 80\n   (eq_attr \"type\" \"X1_miss\")\n   \"X1\")"}, {"sha": "1fb6cdc2dd515b16dde5015da3039c3a6f379446", "filename": "gcc/config/tilegx/tilegx.md", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Ftilegx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1/gcc%2Fconfig%2Ftilegx%2Ftilegx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ftilegx%2Ftilegx.md?ref=9b0370aa4bb78d7fb8ba2b3a4ca0487647fbb9f1", "patch": "@@ -250,7 +250,7 @@\n \n ;; Define an insn type attribute.  This defines what pipes things can go in.\n (define_attr \"type\"\n-  \"X0,X0_2cycle,X1,X1_branch,X1_2cycle,X1_L2,X1_miss,X01,Y0,Y0_2cycle,Y1,Y2,Y2_2cycle,Y2_L2,Y2_miss,Y01,cannot_bundle,cannot_bundle_3cycle,cannot_bundle_4cycle,nothing\"\n+  \"X0,X0_2cycle,X1,X1_branch,X1_2cycle,X1_L2,X1_remote,X1_miss,X01,Y0,Y0_2cycle,Y1,Y2,Y2_2cycle,Y2_L2,Y2_miss,Y01,cannot_bundle,cannot_bundle_3cycle,cannot_bundle_4cycle,nothing\"\n   (const_string \"Y01\"))\n \n (define_attr \"length\" \"\"\n@@ -2679,7 +2679,7 @@\n \t UNSPEC_INSN_CMPEXCH))]\n   \"\"\n   \"cmpexch<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_L2\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_cmul\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n@@ -2817,7 +2817,7 @@\n \t UNSPEC_INSN_EXCH))]\n   \"\"\n   \"exch<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_fdouble_add_flags\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n@@ -2903,7 +2903,7 @@\n                       (match_operand:I48MODE 2 \"reg_or_0_operand\" \"rO\")))]\n   \"\"\n   \"fetchadd<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_fetchaddgez<four_if_si>\"\n   [(set (match_operand:I48MODE 0 \"register_operand\" \"=r\")\n@@ -2916,7 +2916,7 @@\n                         UNSPEC_INSN_FETCHADDGEZ))]\n   \"\"\n   \"fetchaddgez<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_fetchand<four_if_si>\"\n   [(set (match_operand:I48MODE 0 \"register_operand\" \"=r\")\n@@ -2928,7 +2928,7 @@\n                      (match_operand:I48MODE 2 \"reg_or_0_operand\" \"rO\")))]\n   \"\"\n   \"fetchand<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_fetchor<four_if_si>\"\n   [(set (match_operand:I48MODE 0 \"register_operand\" \"=r\")\n@@ -2940,7 +2940,7 @@\n                      (match_operand:I48MODE 2 \"reg_or_0_operand\" \"rO\")))]\n   \"\"\n   \"fetchor<four_if_si>\\t%0, %r1, %r2\"\n-  [(set_attr \"type\" \"X1_2cycle\")])\n+  [(set_attr \"type\" \"X1_remote\")])\n \n (define_insn \"insn_finv\"\n   [(unspec_volatile:VOID [(match_operand 0 \"pointer_operand\" \"rO\")]"}]}