{"sha": "4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGIyZDJjMTNkODFmMWIyNDM4Mzg4NTBmZTk4YmJjNmNjZGZkNzdmMg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-10-30T12:02:11Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-10-30T12:02:11Z"}, "message": "[multiple changes]\n\n2009-10-30  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_res.adb (Resolve_Type_Conversion): Avoid false positive when\n\tconverting non-static subtype to \"identical\" static subtype.\n\n2009-10-30  Ed Schonberg  <schonberg@adacore.com>\n\n\t* usage.adb: Add -gnatw.i switch.\n\n2009-10-30  Vincent Celier  <celier@adacore.com>\n\n\t* xsnamest.adb: Update comments with regards to the template files\n\tsnames.*.tmpl\n\nFrom-SVN: r153741", "tree": {"sha": "2deafb429054f3515e7f503d8ca6d1e15cf17dc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2deafb429054f3515e7f503d8ca6d1e15cf17dc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/comments", "author": null, "committer": null, "parents": [{"sha": "110fcc77755c84bbc3d6472928da4bdf7a330238", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/110fcc77755c84bbc3d6472928da4bdf7a330238", "html_url": "https://github.com/Rust-GCC/gccrs/commit/110fcc77755c84bbc3d6472928da4bdf7a330238"}], "stats": {"total": 52, "additions": 42, "deletions": 10}, "files": [{"sha": "3e021e9ace51c39c1ca0e7876ad522beac779b62", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "patch": "@@ -1,3 +1,17 @@\n+2009-10-30  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_res.adb (Resolve_Type_Conversion): Avoid false positive when\n+\tconverting non-static subtype to \"identical\" static subtype.\n+\n+2009-10-30  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* usage.adb: Add -gnatw.i switch.\n+\n+2009-10-30  Vincent Celier  <celier@adacore.com>\n+\n+\t* xsnamest.adb: Update comments with regards to the template files\n+\tsnames.*.tmpl\n+\n 2009-10-30  Bob Duff  <duff@adacore.com>\n \n \t* s-fileio.adb (Errno_Message): Suppress VMS-specific warning."}, {"sha": "96a295cd218b6c56f9ca3b8eb100bd6e244776f0", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 21, "deletions": 5, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "patch": "@@ -8254,8 +8254,8 @@ package body Sem_Res is\n    -----------------------------\n \n    procedure Resolve_Type_Conversion (N : Node_Id; Typ : Entity_Id) is\n-      Conv_OK     : constant Boolean := Conversion_OK (N);\n-      Operand     : constant Node_Id := Expression (N);\n+      Conv_OK     : constant Boolean   := Conversion_OK (N);\n+      Operand     : constant Node_Id   := Expression (N);\n       Operand_Typ : constant Entity_Id := Etype (Operand);\n       Target_Typ  : constant Entity_Id := Etype (N);\n       Rop         : Node_Id;\n@@ -8400,9 +8400,25 @@ package body Sem_Res is\n                   (Ekind (Entity (Orig_N)) = E_Loop_Parameter\n                      and then Covers (Orig_T, Etype (Entity (Orig_N)))))\n          then\n-            Error_Msg_Node_2 := Orig_T;\n-            Error_Msg_NE -- CODEFIX\n-              (\"?redundant conversion, & is of type &!\", N, Entity (Orig_N));\n+            --  One more check, do not give warning if the analyzed conversion\n+            --  has an expression with non-static bounds, and the bounds of the\n+            --  target are static. This avoids junk warnings in cases where the\n+            --  conversion is necessary to establish staticness, for example in\n+            --  a case statement.\n+\n+            if not Is_OK_Static_Subtype (Operand_Typ)\n+              and then Is_OK_Static_Subtype (Target_Typ)\n+            then\n+               null;\n+\n+            --  Here we give the redundant conversion warning\n+\n+            else\n+               Error_Msg_Node_2 := Orig_T;\n+               Error_Msg_NE -- CODEFIX\n+                 (\"?redundant conversion, & is of type &!\",\n+                  N, Entity (Orig_N));\n+            end if;\n          end if;\n       end if;\n "}, {"sha": "541496c5df884de76d922d98386566c137640a3d", "filename": "gcc/ada/usage.adb", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fusage.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fusage.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fusage.adb?ref=4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "patch": "@@ -424,6 +424,8 @@ begin\n    Write_Line (\"        H*   turn off warnings for hiding variable\");\n    Write_Line (\"        i*   turn on warnings for implementation unit\");\n    Write_Line (\"        I    turn off warnings for implementation unit\");\n+   Write_Line (\"        .i   turn on warnings for overlapping actuals\");\n+   Write_Line (\"        .I*  turn off warnings for overlapping actuals\");\n    Write_Line (\"        j    turn on warnings for obsolescent \" &\n                                                   \"(annex J) feature\");\n    Write_Line (\"        J*   turn off warnings for obsolescent \" &"}, {"sha": "7dd3ca29883c8a5a3b398fefaaf8c03f011073f7", "filename": "gcc/ada/xsnamest.adb", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fxsnamest.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2/gcc%2Fada%2Fxsnamest.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fxsnamest.adb?ref=4b2d2c13d81f1b243838850fe98bbc6ccdfd77f2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -24,10 +24,10 @@\n ------------------------------------------------------------------------------\n \n --  This utility is used to make a new version of the Snames package when new\n---  names are added. This version reads a template file from snames.adt in\n---  which the numbers are all written as $, and generates a new version of\n---  the spec file snames.ads (written to snames.ns). It also reads snames.adb\n---  and generates an updated body (written to snames.nb), and snames.h and\n+--  names are added. This version reads a template file from snames.ads-tmpl in\n+--  which the numbers are all written as $, and generates a new version of the\n+--  spec file snames.ads (written to snames.ns). It also reads snames.adb-tmpl\n+--  and generates an updated body (written to snames.nb), and snames.h-tmpl and\n --  generates an updated C header file (written to snames.nh).\n \n with Ada.Strings.Unbounded;         use Ada.Strings.Unbounded;"}]}