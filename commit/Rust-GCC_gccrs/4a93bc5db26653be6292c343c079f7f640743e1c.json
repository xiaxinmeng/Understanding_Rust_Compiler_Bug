{"sha": "4a93bc5db26653be6292c343c079f7f640743e1c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGE5M2JjNWRiMjY2NTNiZTYyOTJjMzQzYzA3OWY3ZjY0MDc0M2UxYw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2006-08-10T14:38:11Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2006-08-10T14:38:11Z"}, "message": "random.tcc (gamma_distribution<>::operator()): Fixes from the Errata of Devroye's book.\n\n2006-08-10  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/tr1/random.tcc (gamma_distribution<>::operator()): Fixes\n\tfrom the Errata of Devroye's book.\n\nFrom-SVN: r116061", "tree": {"sha": "433c5cb4b7e5924d4cff44e97e9bbe98cfd6ecb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/433c5cb4b7e5924d4cff44e97e9bbe98cfd6ecb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a93bc5db26653be6292c343c079f7f640743e1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a93bc5db26653be6292c343c079f7f640743e1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a93bc5db26653be6292c343c079f7f640743e1c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a93bc5db26653be6292c343c079f7f640743e1c/comments", "author": null, "committer": null, "parents": [{"sha": "cc0968b01cb62e4f843bb0d3c16a62454b94a4c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc0968b01cb62e4f843bb0d3c16a62454b94a4c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc0968b01cb62e4f843bb0d3c16a62454b94a4c4"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "866147f8e367bd0644db1f8b17d63ea26cea360d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a93bc5db26653be6292c343c079f7f640743e1c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a93bc5db26653be6292c343c079f7f640743e1c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=4a93bc5db26653be6292c343c079f7f640743e1c", "patch": "@@ -1,3 +1,8 @@\n+2006-08-10  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/tr1/random.tcc (gamma_distribution<>::operator()): Fixes\n+\tfrom the Errata of Devroye's book.\n+\n 2006-08-10  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/stl_bvector.h (_Bit_iterator_base::_M_incr(ptrdiff_t)):"}, {"sha": "17732e3d68443a277d303a61df02a62366c26c17", "filename": "libstdc++-v3/include/tr1/random.tcc", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a93bc5db26653be6292c343c079f7f640743e1c/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a93bc5db26653be6292c343c079f7f640743e1c/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Frandom.tcc?ref=4a93bc5db26653be6292c343c079f7f640743e1c", "patch": "@@ -807,7 +807,7 @@ _GLIBCXX_BEGIN_NAMESPACE(tr1)\n    * Series in Statistics, 8, 545-576, 1977.\n    *\n    * Devroye, L. \"Non-Uniform Random Variates Generation.\" Springer-Verlag,\n-   * New York, 1986, Sect. 3.4.\n+   * New York, 1986, Ch. IX, Sect. 3.4 (+ Errata!).\n    */\n   template<typename _RealType>\n     template<class _UniformRandomNumberGenerator>\n@@ -822,7 +822,9 @@ _GLIBCXX_BEGIN_NAMESPACE(tr1)\n \t    // alpha - log(4)\n \t    const result_type __b = _M_alpha\n \t      - result_type(1.3862943611198906188344642429163531L);\n-\t    const result_type __c = _M_alpha + std::sqrt(2 * _M_alpha - 1);\n+\t    const result_type __l = std::sqrt(2 * _M_alpha - 1);\n+\t    const result_type __c = _M_alpha + __l;\n+\t    const result_type __1l = 1 / __l;\n \n \t    // 1 + log(9 / 2)\n \t    const result_type __k = 2.5040773967762740733732583523868748L;\n@@ -833,8 +835,8 @@ _GLIBCXX_BEGIN_NAMESPACE(tr1)\n \t\tconst result_type __u = __urng();\n \t\tconst result_type __v = __urng();\n \n-\t\tconst result_type __y = _M_alpha * std::log(__v / (1 - __v));\n-\t\t__x = _M_alpha * std::exp(__v);\n+\t\tconst result_type __y = __1l * std::log(__v / (1 - __v));\n+\t\t__x = _M_alpha * std::exp(__y);\n \n \t\t__z = __u * __v * __v;\n \t\t__r = __b + __c * __y - __x;\n@@ -856,7 +858,7 @@ _GLIBCXX_BEGIN_NAMESPACE(tr1)\n \n \t\t__x = std::pow(__z, __c);\n \t      }\n-\t    while (__z + __e > __d + __x);\n+\t    while (__z + __e < __d + __x);\n \t  }\n \n \treturn __x;"}]}