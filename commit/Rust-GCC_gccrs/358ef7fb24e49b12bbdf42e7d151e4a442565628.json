{"sha": "358ef7fb24e49b12bbdf42e7d151e4a442565628", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU4ZWY3ZmIyNGU0OWIxMmJiZGY0MmU3ZDE1MWU0YTQ0MjU2NTYyOA==", "commit": {"author": {"name": "Andreas Krebbel", "email": "Andreas.Krebbel@de.ibm.com", "date": "2008-11-02T18:42:04Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2008-11-02T18:42:04Z"}, "message": "re PR ada/37977 (Missing ada multilib support for s390x)\n\n2008-11-02  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n\n\tPR target/37977\n\t* gcc-interface/Makefile.in: Add multilib handling for\n\ts390-linux and s390x-linux.\n\nFrom-SVN: r141537", "tree": {"sha": "6c26c2b596a849046530b33e652eed4378598b34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c26c2b596a849046530b33e652eed4378598b34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/358ef7fb24e49b12bbdf42e7d151e4a442565628", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358ef7fb24e49b12bbdf42e7d151e4a442565628", "html_url": "https://github.com/Rust-GCC/gccrs/commit/358ef7fb24e49b12bbdf42e7d151e4a442565628", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358ef7fb24e49b12bbdf42e7d151e4a442565628/comments", "author": null, "committer": null, "parents": [{"sha": "ca4df3b478cf470e56fd4460be3f8036b5fbeebd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca4df3b478cf470e56fd4460be3f8036b5fbeebd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca4df3b478cf470e56fd4460be3f8036b5fbeebd"}], "stats": {"total": 61, "additions": 34, "deletions": 27}, "files": [{"sha": "ba94a5e9a7f2d3426dc7593bcfe64b93ee2504b9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358ef7fb24e49b12bbdf42e7d151e4a442565628/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358ef7fb24e49b12bbdf42e7d151e4a442565628/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=358ef7fb24e49b12bbdf42e7d151e4a442565628", "patch": "@@ -1,3 +1,9 @@\n+2008-11-02  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n+\n+\tPR target/37977\n+\t* gcc-interface/Makefile.in: Add multilib handling for\n+\ts390-linux and s390x-linux.\n+\n 2008-10-24  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc-interface/Make-lang.in (check-ada-subtargets): Depend on"}, {"sha": "21bd1df2d09e69bb83038828748e746a83b050dd", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 28, "deletions": 27, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358ef7fb24e49b12bbdf42e7d151e4a442565628/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358ef7fb24e49b12bbdf42e7d151e4a442565628/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=358ef7fb24e49b12bbdf42e7d151e4a442565628", "patch": "@@ -962,36 +962,37 @@ ifeq ($(strip $(filter-out %86 freebsd%,$(arch) $(osys))),)\n endif\n \n ifeq ($(strip $(filter-out s390% linux%,$(arch) $(osys))),)\n+  LIBGNAT_TARGET_PAIRS_COMMON = \\\n+  a-intnam.ads<a-intnam-linux.ads \\\n+  s-inmaop.adb<s-inmaop-posix.adb \\\n+  s-intman.adb<s-intman-posix.adb \\\n+  s-linux.ads<s-linux.ads \\\n+  s-osinte.adb<s-osinte-posix.adb \\\n+  s-osinte.ads<s-osinte-linux.ads \\\n+  s-osprim.adb<s-osprim-posix.adb \\\n+  s-taprop.adb<s-taprop-linux.adb \\\n+  s-tasinf.ads<s-tasinf-linux.ads \\\n+  s-tasinf.adb<s-tasinf-linux.adb \\\n+  s-taspri.ads<s-taspri-posix-noaltstack.ads \\\n+  s-tpopsp.adb<s-tpopsp-posix-foreign.adb\n+\n+  LIBGNAT_TARGET_PAIRS_32 = \\\n+  system.ads<system-linux-s390.ads\n+\n+  LIBGNAT_TARGET_PAIRS_64 = \\\n+  system.ads<system-linux-s390x.ads\n+\n   ifeq ($(strip $(filter-out s390x,$(arch))),)\n-    LIBGNAT_TARGET_PAIRS = \\\n-    a-intnam.ads<a-intnam-linux.ads \\\n-    s-inmaop.adb<s-inmaop-posix.adb \\\n-    s-intman.adb<s-intman-posix.adb \\\n-    s-linux.ads<s-linux.ads \\\n-    s-osinte.adb<s-osinte-posix.adb \\\n-    s-osinte.ads<s-osinte-linux.ads \\\n-    s-osprim.adb<s-osprim-posix.adb \\\n-    s-taprop.adb<s-taprop-linux.adb \\\n-    s-tasinf.ads<s-tasinf-linux.ads \\\n-    s-tasinf.adb<s-tasinf-linux.adb \\\n-    s-taspri.ads<s-taspri-posix-noaltstack.ads \\\n-    s-tpopsp.adb<s-tpopsp-posix-foreign.adb \\\n-    system.ads<system-linux-s390x.ads\n+    ifeq ($(strip $(MULTISUBDIR)),/32)\n+      LIBGNAT_TARGET_PAIRS = \\\n+      $(LIBGNAT_TARGET_PAIRS_COMMON) $(LIBGNAT_TARGET_PAIRS_32)\n+    else\n+      LIBGNAT_TARGET_PAIRS = \\\n+      $(LIBGNAT_TARGET_PAIRS_COMMON) $(LIBGNAT_TARGET_PAIRS_64)\n+    endif\n   else\n     LIBGNAT_TARGET_PAIRS = \\\n-    a-intnam.ads<a-intnam-linux.ads \\\n-    s-inmaop.adb<s-inmaop-posix.adb \\\n-    s-intman.adb<s-intman-posix.adb \\\n-    s-linux.ads<s-linux.ads \\\n-    s-osinte.adb<s-osinte-posix.adb \\\n-    s-osinte.ads<s-osinte-linux.ads \\\n-    s-osprim.adb<s-osprim-posix.adb \\\n-    s-taprop.adb<s-taprop-linux.adb \\\n-    s-tasinf.ads<s-tasinf-linux.ads \\\n-    s-tasinf.adb<s-tasinf-linux.adb \\\n-    s-taspri.ads<s-taspri-posix-noaltstack.ads \\\n-    s-tpopsp.adb<s-tpopsp-posix-foreign.adb \\\n-    system.ads<system-linux-s390.ads\n+    $(LIBGNAT_TARGET_PAIRS_COMMON) $(LIBGNAT_TARGET_PAIRS_32)\n   endif\n \n   TOOLS_TARGET_PAIRS =  \\"}]}