{"sha": "8352cbb413ca035b1a646cc0e595a45cdd6e1426", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODM1MmNiYjQxM2NhMDM1YjFhNjQ2Y2MwZTU5NWE0NWNkZDZlMTQyNg==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2010-05-25T16:59:45Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2010-05-25T16:59:45Z"}, "message": "re PR libgcj/44216 (All libjava tests fail on IRIX 6.5: ld warns about -no-merge-exidx-entries)\n\n\tPR libgcj/44216\n\t* configure.ac (libgcj_cv_exidx): Enable AC_LANG_WERROR.\n\tSave and restore werror flag.\n\t* configure: Regenerate.\n\nFrom-SVN: r159833", "tree": {"sha": "5c065c5b5ddaca208481e58ce228f3f42df64e19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c065c5b5ddaca208481e58ce228f3f42df64e19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8352cbb413ca035b1a646cc0e595a45cdd6e1426", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8352cbb413ca035b1a646cc0e595a45cdd6e1426", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8352cbb413ca035b1a646cc0e595a45cdd6e1426", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8352cbb413ca035b1a646cc0e595a45cdd6e1426/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c3641fd790cbca6f2bf79fd236851e44d0a38977", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3641fd790cbca6f2bf79fd236851e44d0a38977", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3641fd790cbca6f2bf79fd236851e44d0a38977"}], "stats": {"total": 31, "additions": 28, "deletions": 3}, "files": [{"sha": "2968be1728caac455e10645f962e56f5987cb605", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=8352cbb413ca035b1a646cc0e595a45cdd6e1426", "patch": "@@ -1,3 +1,10 @@\n+2010-05-25  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\tPR libgcj/44216\n+\t* configure.ac (libgcj_cv_exidx): Enable AC_LANG_WERROR.\n+\tSave and restore werror flag.\n+\t* configure: Regenerate.\n+\n 2010-05-04  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \tPR other/43620"}, {"sha": "8f549050da2e00b926af1ed45bd4b81072a8a998", "filename": "libjava/configure", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=8352cbb413ca035b1a646cc0e595a45cdd6e1426", "patch": "@@ -599,6 +599,7 @@ ac_includes_default=\"\\\n #endif\"\n \n enable_option_checking=no\n+ac_c_werror_flag=\n ac_subst_vars='am__EXEEXT_FALSE\n am__EXEEXT_TRUE\n LTLIBOBJS\n@@ -13338,7 +13339,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 13341 \"configure\"\n+#line 13342 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -13444,7 +13445,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 13447 \"configure\"\n+#line 13448 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -19423,7 +19424,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then :\n   enableval=$enable_sjlj_exceptions; :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 19426 \"configure\"\n+#line 19427 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -20528,6 +20529,14 @@ if test \"${libgcj_cv_exidx+set}\" = set; then :\n else\n   saved_ldflags=\"$LDFLAGS\"\n    LDFLAGS=\"${LDFLAGS} -Wl,--no-merge-exidx-entries\"\n+   # The IRIX 6 ld doesn't recognize --no-merge-exidx-entries, but only\n+   # warns about unknown options, which breaks the testsuite.  So enable\n+   # AC_LANG_WERROR, but there's currently (autoconf 2.64) no way to turn\n+   # it off again.  As a workaround, save and restore werror flag like\n+   # AC_PATH_XTRA.\n+   ac_xsave_c_werror_flag=$ac_c_werror_flag\n+\n+ac_c_werror_flag=yes\n    if test x$gcc_no_link = xyes; then\n   as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n fi\n@@ -20542,6 +20551,7 @@ else\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n+   ac_c_werror_flag=$ac_xsave_c_werror_flag\n    LDFLAGS=\"${saved_ldflags}\"\n \n fi"}, {"sha": "5376a0157eaafbbc6390e0e1c26ec1f302778b81", "filename": "libjava/configure.ac", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8352cbb413ca035b1a646cc0e595a45cdd6e1426/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=8352cbb413ca035b1a646cc0e595a45cdd6e1426", "patch": "@@ -932,9 +932,17 @@ esac\n AC_CACHE_CHECK([for --no-merge-exidx-entries], [libgcj_cv_exidx],\n   [saved_ldflags=\"$LDFLAGS\"\n    LDFLAGS=\"${LDFLAGS} -Wl,--no-merge-exidx-entries\"\n+   # The IRIX 6 ld doesn't recognize --no-merge-exidx-entries, but only\n+   # warns about unknown options, which breaks the testsuite.  So enable\n+   # AC_LANG_WERROR, but there's currently (autoconf 2.64) no way to turn\n+   # it off again.  As a workaround, save and restore werror flag like\n+   # AC_PATH_XTRA.\n+   ac_xsave_[]_AC_LANG_ABBREV[]_werror_flag=$ac_[]_AC_LANG_ABBREV[]_werror_flag\n+   AC_LANG_WERROR\n    AC_LINK_IFELSE([int main(void){ return 0;} ],\n \t\t      [eval \"libgcj_cv_exidx=yes\"],\n \t\t      [eval \"libgcj_cv_exidx=no\"])\n+   ac_[]_AC_LANG_ABBREV[]_werror_flag=$ac_xsave_[]_AC_LANG_ABBREV[]_werror_flag\n    LDFLAGS=\"${saved_ldflags}\"]\n )\n if test \"${libgcj_cv_exidx}\" = \"yes\"; then"}]}