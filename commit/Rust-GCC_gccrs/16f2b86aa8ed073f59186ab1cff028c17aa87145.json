{"sha": "16f2b86aa8ed073f59186ab1cff028c17aa87145", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTZmMmI4NmFhOGVkMDczZjU5MTg2YWIxY2ZmMDI4YzE3YWE4NzE0NQ==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "rakdver@atrey.karlin.mff.cuni.cz", "date": "2003-01-16T15:49:20Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2003-01-16T15:49:20Z"}, "message": "cfgloop.c (flow_loops_find): Fix handling of abnormal edges.\n\n2003-01-16  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n\n\t* cfgloop.c (flow_loops_find): Fix handling of abnormal edges.\n\nFrom-SVN: r61393", "tree": {"sha": "282c8a9e170d09ff46347e800edda163a0ea8f54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/282c8a9e170d09ff46347e800edda163a0ea8f54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/16f2b86aa8ed073f59186ab1cff028c17aa87145", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16f2b86aa8ed073f59186ab1cff028c17aa87145", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16f2b86aa8ed073f59186ab1cff028c17aa87145", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16f2b86aa8ed073f59186ab1cff028c17aa87145/comments", "author": null, "committer": null, "parents": [{"sha": "c1b50e4978a214de1df4b7f61395bee83a924426", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1b50e4978a214de1df4b7f61395bee83a924426", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1b50e4978a214de1df4b7f61395bee83a924426"}], "stats": {"total": 21, "additions": 13, "deletions": 8}, "files": [{"sha": "fa920142e96ad3f7234f6830b05061ac19cca59f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16f2b86aa8ed073f59186ab1cff028c17aa87145/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16f2b86aa8ed073f59186ab1cff028c17aa87145/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=16f2b86aa8ed073f59186ab1cff028c17aa87145", "patch": "@@ -1,3 +1,7 @@\n+2003-01-16  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n+\n+\t* cfgloop.c (flow_loops_find): Fix handling of abnormal edges.\n+\n 2003-01-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* dbxout.c (lastfile, cwd): Fix `unused' warning."}, {"sha": "b93302e82c85c9b7a4e1e6ec3ede78e6d8a78cc5", "filename": "gcc/cfgloop.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/16f2b86aa8ed073f59186ab1cff028c17aa87145/gcc%2Fcfgloop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/16f2b86aa8ed073f59186ab1cff028c17aa87145/gcc%2Fcfgloop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgloop.c?ref=16f2b86aa8ed073f59186ab1cff028c17aa87145", "patch": "@@ -804,19 +804,20 @@ flow_loops_find (loops, flags)\n      \n       header->loop_depth = 0;\n \n+      /* If we have an abnormal predecessor, do not consider the\n+\t loop (not worth the problems).  */\n+      for (e = header->pred; e; e = e->pred_next)\n+\tif (e->flags & EDGE_ABNORMAL)\n+\t  break;\n+      if (e)\n+\tcontinue;\n+\n       for (e = header->pred; e; e = e->pred_next)\n \t{\n \t  basic_block latch = e->src;\n \n \t  if (e->flags & EDGE_ABNORMAL)\n-\t    {\n-\t      if (more_latches)\n-\t\t{\n-\t\t  RESET_BIT (headers, header->index);\n-\t\t  num_loops--;\n-\t\t}\n-\t      break;\n-\t    }\n+\t    abort ();\n \n \t  /* Look for back edges where a predecessor is dominated\n \t     by this block.  A natural loop has a single entry"}]}