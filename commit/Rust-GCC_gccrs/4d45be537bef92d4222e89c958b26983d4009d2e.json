{"sha": "4d45be537bef92d4222e89c958b26983d4009d2e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ0NWJlNTM3YmVmOTJkNDIyMmU4OWM5NThiMjY5ODNkNDAwOWQyZQ==", "commit": {"author": {"name": "Gregor Richards", "email": "gregor.richards@uwaterloo.ca", "date": "2015-05-27T13:17:11Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2015-05-27T13:17:11Z"}, "message": "[PATCH 4/13] arm musl support\n\nOn behalf of szabolcs.nagy@arm.com\n\n2015-05-27  Gregor Richards  <gregor.richards@uwaterloo.ca>\n\n\t* config/arm/linux-eabi.h (MUSL_DYNAMIC_LINKER): Define.\n\nFrom-SVN: r223749", "tree": {"sha": "413173fdbf45bab0853b62d2cf024aff18b82b5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/413173fdbf45bab0853b62d2cf024aff18b82b5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d45be537bef92d4222e89c958b26983d4009d2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d45be537bef92d4222e89c958b26983d4009d2e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d45be537bef92d4222e89c958b26983d4009d2e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d45be537bef92d4222e89c958b26983d4009d2e/comments", "author": null, "committer": null, "parents": [{"sha": "2d44c7dea7c8d2917eec28a5e08e8f405aad8c3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d44c7dea7c8d2917eec28a5e08e8f405aad8c3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d44c7dea7c8d2917eec28a5e08e8f405aad8c3e"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "b496476e7124b3c05908377dfba9532d4e3747b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d45be537bef92d4222e89c958b26983d4009d2e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d45be537bef92d4222e89c958b26983d4009d2e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d45be537bef92d4222e89c958b26983d4009d2e", "patch": "@@ -1,3 +1,7 @@\n+2015-05-27  Gregor Richards  <gregor.richards@uwaterloo.ca>\n+\n+\t* config/arm/linux-eabi.h (MUSL_DYNAMIC_LINKER): Define.\n+\n 2015-05-27  Martin Liska  <mliska@suse.cz>\n \n \t* Makefile.in: Add additional dependencies related to memory report"}, {"sha": "d51376fc3cbbed9253ae0bc81ff639a04a4c57ee", "filename": "gcc/config/arm/linux-eabi.h", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d45be537bef92d4222e89c958b26983d4009d2e/gcc%2Fconfig%2Farm%2Flinux-eabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d45be537bef92d4222e89c958b26983d4009d2e/gcc%2Fconfig%2Farm%2Flinux-eabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-eabi.h?ref=4d45be537bef92d4222e89c958b26983d4009d2e", "patch": "@@ -77,6 +77,23 @@\n     %{mfloat-abi=soft*:\" GLIBC_DYNAMIC_LINKER_SOFT_FLOAT \"} \\\n     %{!mfloat-abi=*:\" GLIBC_DYNAMIC_LINKER_DEFAULT \"}\"\n \n+/* For ARM musl currently supports four dynamic linkers:\n+   - ld-musl-arm.so.1 - for the EABI-derived soft-float ABI\n+   - ld-musl-armhf.so.1 - for the EABI-derived hard-float ABI\n+   - ld-musl-armeb.so.1 - for the EABI-derived soft-float ABI, EB\n+   - ld-musl-armebhf.so.1 - for the EABI-derived hard-float ABI, EB\n+   musl does not support the legacy OABI mode.\n+   All the dynamic linkers live in /lib.\n+   We default to soft-float, EL. */\n+#undef  MUSL_DYNAMIC_LINKER\n+#if TARGET_BIG_ENDIAN_DEFAULT\n+#define MUSL_DYNAMIC_LINKER_E \"%{mlittle-endian:;:eb}\"\n+#else\n+#define MUSL_DYNAMIC_LINKER_E \"%{mbig-endian:eb}\"\n+#endif\n+#define MUSL_DYNAMIC_LINKER \\\n+  \"/lib/ld-musl-arm\" MUSL_DYNAMIC_LINKER_E \"%{mfloat-abi=hard:hf}.so.1\"\n+\n /* At this point, bpabi.h will have clobbered LINK_SPEC.  We want to\n    use the GNU/Linux version, not the generic BPABI version.  */\n #undef  LINK_SPEC"}]}