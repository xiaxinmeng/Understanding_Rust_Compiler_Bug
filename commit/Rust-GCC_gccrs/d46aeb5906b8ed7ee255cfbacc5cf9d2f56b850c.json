{"sha": "d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c", "node_id": "C_kwDOANBUbNoAKGQ0NmFlYjU5MDZiOGVkN2VlMjU1Y2ZiYWNjNWNmOWQyZjU2Yjg1MGM", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-10-26T18:43:33Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-10-28T14:48:38Z"}, "message": "Reset scev before invoking array_checker.\n\nBefore invoking the array_checker, we need to reset scev so it will not try to\naccess any ssa_names that the substitute and fold engine has freed.\n\n\tPR tree-optimization/102940\n\t* tree-vrp.c (execute_ranger_vrp): Reset scev.", "tree": {"sha": "cb81f6f5c2ff85d7daea343ad349bf116f6c3401", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb81f6f5c2ff85d7daea343ad349bf116f6c3401"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c/comments", "author": null, "committer": null, "parents": [{"sha": "f70f17d03630fd948bc15a646ebe7e784125c4d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f70f17d03630fd948bc15a646ebe7e784125c4d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f70f17d03630fd948bc15a646ebe7e784125c4d4"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "dc3e250537adb1ec535338d4121065277f2a71b0", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=d46aeb5906b8ed7ee255cfbacc5cf9d2f56b850c", "patch": "@@ -4351,7 +4351,6 @@ execute_ranger_vrp (struct function *fun, bool warn_array_bounds_p)\n   if (dump_file && (dump_flags & TDF_DETAILS))\n     ranger->dump (dump_file);\n \n-\n   if (warn_array_bounds && warn_array_bounds_p)\n     {\n       // Set all edges as executable, except those ranger says aren't.\n@@ -4367,6 +4366,7 @@ execute_ranger_vrp (struct function *fun, bool warn_array_bounds_p)\n \t    else\n \t      e->flags |= EDGE_EXECUTABLE;\n \t}\n+      scev_reset ();\n       array_bounds_checker array_checker (fun, ranger);\n       array_checker.check ();\n     }"}]}