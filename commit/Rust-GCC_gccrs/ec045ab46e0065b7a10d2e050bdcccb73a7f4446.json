{"sha": "ec045ab46e0065b7a10d2e050bdcccb73a7f4446", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMwNDVhYjQ2ZTAwNjViN2ExMGQyZTA1MGJkY2NjYjczYTdmNDQ0Ng==", "commit": {"author": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1997-08-01T18:48:18Z"}, "committer": {"name": "Jason Merrill", "email": "merrill@gnu.org", "date": "1997-08-01T18:48:18Z"}, "message": "x\n\nFrom-SVN: r14600", "tree": {"sha": "f64046a6d3c935323df3739ae8455d422b170155", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f64046a6d3c935323df3739ae8455d422b170155"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec045ab46e0065b7a10d2e050bdcccb73a7f4446", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec045ab46e0065b7a10d2e050bdcccb73a7f4446", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec045ab46e0065b7a10d2e050bdcccb73a7f4446", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec045ab46e0065b7a10d2e050bdcccb73a7f4446/comments", "author": null, "committer": null, "parents": [{"sha": "58a1b05a2f8f7de2d3ebd6a81c84b2c0e1688dc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58a1b05a2f8f7de2d3ebd6a81c84b2c0e1688dc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58a1b05a2f8f7de2d3ebd6a81c84b2c0e1688dc4"}], "stats": {"total": 44, "additions": 0, "deletions": 44}, "files": [{"sha": "434cfd45238899e0d51be6d950203de7ca4e6c32", "filename": "gcc/toplev.c", "status": "modified", "additions": 0, "deletions": 44, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec045ab46e0065b7a10d2e050bdcccb73a7f4446/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec045ab46e0065b7a10d2e050bdcccb73a7f4446/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=ec045ab46e0065b7a10d2e050bdcccb73a7f4446", "patch": "@@ -126,11 +126,6 @@ You Lose!  You must define PREFERRED_DEBUGGING_TYPE!\n #define PREFERRED_DEBUGGING_TYPE NO_DEBUG\n #endif\n \n-#ifdef DWARF2_DEBUGGING_INFO\n-#undef PREFERRED_DEBUGGING_TYPE\n-#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n-#endif\n-\n extern int rtx_equal_function_value_matters;\n \n #if ! (defined (VMS) || defined (OS2))\n@@ -244,7 +239,6 @@ extern int target_flags;\n int rtl_dump = 0;\n int rtl_dump_and_exit = 0;\n int jump_opt_dump = 0;\n-int addressof_dump = 0;\n int cse_dump = 0;\n int loop_dump = 0;\n int cse2_dump = 0;\n@@ -858,7 +852,6 @@ FILE *asm_out_file;\n FILE *aux_info_file;\n FILE *rtl_dump_file;\n FILE *jump_opt_dump_file;\n-FILE *addressof_dump_file;\n FILE *cse_dump_file;\n FILE *loop_dump_file;\n FILE *cse2_dump_file;\n@@ -1023,8 +1016,6 @@ fatal_insn (message, insn)\n     fflush (rtl_dump_file);\n   if (jump_opt_dump_file)\n     fflush (jump_opt_dump_file);\n-  if (addressof_dump_file)\n-    fflush (addressof_dump_file);\n   if (cse_dump_file)\n     fflush (cse_dump_file);\n   if (loop_dump_file)\n@@ -2187,10 +2178,6 @@ compile_file (name)\n   if (jump_opt_dump)\n     jump_opt_dump_file = open_dump_file (dump_base_name, \".jump\");\n \n-  /* If addressof dump desired, open the output file.  */\n-  if (addressof_dump)\n-    addressof_dump_file = open_dump_file (dump_base_name, \".addressof\");\n-\n   /* If cse dump desired, open the output file.  */\n   if (cse_dump)\n     cse_dump_file = open_dump_file (dump_base_name, \".cse\");\n@@ -2678,9 +2665,6 @@ compile_file (name)\n   if (jump_opt_dump)\n     fclose (jump_opt_dump_file);\n \n-  if (addressof_dump)\n-    fclose (addressof_dump_file);\n-\n   if (cse_dump)\n     fclose (cse_dump_file);\n \n@@ -2944,18 +2928,6 @@ rest_of_compilation (decl)\n \t functions containing nested functions since the nested function\n \t data is in our non-saved obstack.  */\n \n-      /* If this is a nested inline, remove ADDRESSOF now so we can\n-\t finish compiling ourselves.  Otherwise, wait until EOF.\n-\t We have to do this because the purge_addressof transformation\n-\t changes the DECL_RTL for many variables, which confuses integrate.  */\n-      if (DECL_INLINE (decl))\n-\t{\n-\t  if (decl_function_context (decl))\n-\t    purge_addressof (insns);\n-\t  else\n-\t    DECL_DEFER_OUTPUT (decl) = 1;\n-\t}\n-\n       if (! current_function_contains_functions\n \t  && (DECL_DEFER_OUTPUT (decl)\n \t      || (DECL_INLINE (decl)\n@@ -3148,18 +3120,6 @@ rest_of_compilation (decl)\n \t       fflush (cse_dump_file);\n \t     });\n \n-  purge_addressof (insns);\n-  reg_scan (insns, max_reg_num (), 1);\n-\n-  if (addressof_dump)\n-    TIMEVAR (dump_time,\n-\t     {\n-\t       fprintf (addressof_dump_file, \"\\n;; Function %s\\n\\n\",\n-\t\t\t(*decl_printable_name) (decl, 2));\n-\t       print_rtl (addressof_dump_file, insns);\n-\t       fflush (addressof_dump_file);\n-\t     });\n-\n   if (loop_dump)\n     TIMEVAR (dump_time,\n \t     {\n@@ -3773,7 +3733,6 @@ main (argc, argv, envp)\n  \t\t    flow_dump = 1;\n  \t\t    global_reg_dump = 1;\n  \t\t    jump_opt_dump = 1;\n- \t\t    addressof_dump = 1;\n  \t\t    jump2_opt_dump = 1;\n  \t\t    local_reg_dump = 1;\n  \t\t    loop_dump = 1;\n@@ -3804,9 +3763,6 @@ main (argc, argv, envp)\n \t\t  case 'j':\n \t\t    jump_opt_dump = 1;\n \t\t    break;\n-\t\t  case 'D':\n-\t\t    addressof_dump = 1;\n-\t\t    break;\n \t\t  case 'J':\n \t\t    jump2_opt_dump = 1;\n \t\t    break;"}]}