{"sha": "a3ddb738837877aaec229583102e0d5e00610117", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNkZGI3Mzg4Mzc4NzdhYWVjMjI5NTgzMTAyZTBkNWUwMDYxMDExNw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2012-04-15T17:07:39Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2012-04-15T17:07:39Z"}, "message": "re PR c++/52706 ([C++11] Demangling of templates with std::nullptr_t as non-type parameter)\n\n\tPR c++/52706\n\t* mangle.c (write_type): nullptr_t is a builtin type.\n\nFrom-SVN: r186469", "tree": {"sha": "f838e4225ec796feae47974d545a65a2ad4c9926", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f838e4225ec796feae47974d545a65a2ad4c9926"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3ddb738837877aaec229583102e0d5e00610117", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3ddb738837877aaec229583102e0d5e00610117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3ddb738837877aaec229583102e0d5e00610117", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3ddb738837877aaec229583102e0d5e00610117/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "04b391c164bca9a8a332d5a5b8e3ee8cf86224b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04b391c164bca9a8a332d5a5b8e3ee8cf86224b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04b391c164bca9a8a332d5a5b8e3ee8cf86224b9"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "ee0c66a4d9943061fc8d1ec6635fb7532e75c699", "filename": "gcc/common.opt", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=a3ddb738837877aaec229583102e0d5e00610117", "patch": "@@ -788,6 +788,8 @@ Driver Undocumented\n ;    argument.\n ;    First selectable in G++ 4.7.\n ;\n+; 7: The version of the ABI that treats nullptr_t as a builtin type.\n+;    First selectable in G++ 4.8.\n ; Additional positive integers will be assigned as new versions of\n ; the ABI become the default version of the ABI.\n fabi-version="}, {"sha": "69d5b1d3428edc2ca3ad8278495611d6e747cccb", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a3ddb738837877aaec229583102e0d5e00610117", "patch": "@@ -1,3 +1,8 @@\n+2012-04-15  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/52706\n+\t* mangle.c (write_type): nullptr_t is a builtin type.\n+\n 2012-04-14  Jan Hubicka  <jh@suse.cz>\n \n \t* tree.c: Update field referenced for new cgraph/varpool layout."}, {"sha": "d00df1fe49aba13c1963ff918a60584f8b2b645f", "filename": "gcc/cp/mangle.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcp%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Fcp%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmangle.c?ref=a3ddb738837877aaec229583102e0d5e00610117", "patch": "@@ -2023,6 +2023,8 @@ write_type (tree type)\n \n \t    case NULLPTR_TYPE:\n \t      write_string (\"Dn\");\n+\t      if (abi_version_at_least (7))\n+\t\t++is_builtin_type;\n \t      break;\n \n \t    case TYPEOF_TYPE:"}, {"sha": "f3f68951bf493f7ff62ca6c5d717677bbe16f48f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3ddb738837877aaec229583102e0d5e00610117", "patch": "@@ -1,5 +1,8 @@\n 2012-04-15  Jason Merrill  <jason@redhat.com>\n \n+\tPR c++/52706\n+\t* g++.dg/cpp0x/nullptr27.C: New.\n+\n \tPR c++/52818\n \t* g++.dg/warn/format8.C: New.\n "}, {"sha": "1b86868aa19a12e7b888995631e1cd434510d42a", "filename": "gcc/testsuite/g++.dg/cpp0x/nullptr27.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr27.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3ddb738837877aaec229583102e0d5e00610117/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr27.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fnullptr27.C?ref=a3ddb738837877aaec229583102e0d5e00610117", "patch": "@@ -0,0 +1,8 @@\n+// PR c++/52706\n+// { dg-options \"-std=c++11 -fabi-version=0\" }\n+// { dg-final { scan-assembler \"_Z1fIDnLDn0EEiT_\" } }\n+\n+template<class T, decltype(nullptr) = nullptr>\n+int f(T);\n+\n+int i2 = f(nullptr); // 17"}]}