{"sha": "c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdkMTljMGI1ODhjYzAwOTU3ZDdlNDBkNzVkMzM2YzQxZTczZmJiMw==", "commit": {"author": {"name": "Terry Guo", "email": "terry.guo@arm.com", "date": "2014-01-06T08:16:30Z"}, "committer": {"name": "Xuepeng Guo", "email": "xguo@gcc.gnu.org", "date": "2014-01-06T08:16:30Z"}, "message": "config.gcc (arm*-*-*): Check --with-arch against arm-arches.def.\n\n2014-01-06  Terry Guo  <terry.guo@arm.com>\n\n\t* config.gcc (arm*-*-*): Check --with-arch against arm-arches.def.\n\nFrom-SVN: r206354", "tree": {"sha": "7017f7d623457c14bc3e96e7e2c08f3d55c9d4c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7017f7d623457c14bc3e96e7e2c08f3d55c9d4c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7d19c0b588cc00957d7e40d75d336c41e73fbb3/comments", "author": null, "committer": null, "parents": [{"sha": "9596ecdf8c46c4d4f837c70bd6e722a36a23424c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9596ecdf8c46c4d4f837c70bd6e722a36a23424c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9596ecdf8c46c4d4f837c70bd6e722a36a23424c"}], "stats": {"total": 28, "additions": 15, "deletions": 13}, "files": [{"sha": "33548a07100b0c27bcc19d9e619c85d7995f06bf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d19c0b588cc00957d7e40d75d336c41e73fbb3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d19c0b588cc00957d7e40d75d336c41e73fbb3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "patch": "@@ -1,3 +1,7 @@\n+2014-01-06  Terry Guo  <terry.guo@arm.com>\n+\n+\t* config.gcc (arm*-*-*): Check --with-arch against arm-arches.def.\n+\n 2014-01-05  Iain Sandoe  <iain@codesourcery.com>\n \n \tPR bootstrap/59541"}, {"sha": "23657a5b0f42f5d20f3815ca49003c534d99a4e2", "filename": "gcc/config.gcc", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7d19c0b588cc00957d7e40d75d336c41e73fbb3/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7d19c0b588cc00957d7e40d75d336c41e73fbb3/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=c7d19c0b588cc00957d7e40d75d336c41e73fbb3", "patch": "@@ -3476,19 +3476,17 @@ case \"${target}\" in\n \t\t\tfi\n \t\tdone\n \n-\t\tcase \"$with_arch\" in\n-\t\t\"\" \\\n-\t\t| armv[23456] | armv2a | armv3m | armv4t | armv5t \\\n-\t\t| armv5te | armv6j |armv6k | armv6z | armv6zk | armv6-m \\\n-\t\t| armv7 | armv7-a | armv7-r | armv7-m | armv8-a \\\n-\t\t| iwmmxt | ep9312)\n-\t\t\t# OK\n-\t\t\t;;\n-\t\t*)\n-\t\t\techo \"Unknown arch used in --with-arch=$with_arch\" 1>&2\n-\t\t\texit 1\n-\t\t\t;;\n-\t\tesac\n+\t\t# See if it matches any of the entries in arm-arches.def\n+\t\tif [ x\"$with_arch\" = x ] \\\n+\t\t    || grep \"^ARM_ARCH(\\\"$with_arch\\\",\" \\\n+\t\t\t    ${srcdir}/config/arm/arm-arches.def \\\n+\t\t\t    > /dev/null; then\n+\t\t  # OK\n+\t\t  true\n+\t\telse\n+\t\t  echo \"Unknown arch used in --with-arch=$with_arch\" 1>&2\n+\t\t  exit 1\n+\t\tfi\n \n \t\tcase \"$with_float\" in\n \t\t\"\" \\"}]}