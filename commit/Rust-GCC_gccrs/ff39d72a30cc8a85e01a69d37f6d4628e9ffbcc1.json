{"sha": "ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmYzOWQ3MmEzMGNjOGE4NWUwMWE2OWQzN2Y2ZDQ2MjhlOWZmYmNjMQ==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel@linux.vnet.ibm.com", "date": "2015-05-12T11:23:48Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2015-05-12T11:23:48Z"}, "message": "2827.md: Split zEC12_simple into zEC12_simple_int and zEC12_simple_fp.\n\n2015-05-12  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n\n\t* config/s390/2827.md: Split zEC12_simple into zEC12_simple_int\n\tand zEC12_simple_fp.\n\t* config/s390/s390.c (s390_issue_rate): Set issue rate for zEC12\n\tto 1.\n\nFrom-SVN: r223056", "tree": {"sha": "f1ff6bd9095a09c487045ec61a5d659126d50919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1ff6bd9095a09c487045ec61a5d659126d50919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/comments", "author": null, "committer": null, "parents": [{"sha": "570c6987d8e984af307aa61ee6e72bfde1813507", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/570c6987d8e984af307aa61ee6e72bfde1813507", "html_url": "https://github.com/Rust-GCC/gccrs/commit/570c6987d8e984af307aa61ee6e72bfde1813507"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "06618fa7311080bbe67bb97f78dead5c210842cd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "patch": "@@ -1,3 +1,10 @@\n+2015-05-12  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n+\n+\t* config/s390/2827.md: Split zEC12_simple into zEC12_simple_int\n+\tand zEC12_simple_fp.\n+\t* config/s390/s390.c (s390_issue_rate): Set issue rate for zEC12\n+\tto 1.\n+\n 2015-05-12  Tom de Vries  <tom@codesourcery.com>\n \n \tPR tree-optimization/66010"}, {"sha": "f292046316d12f399de0359e83413978363e28e4", "filename": "gcc/config/s390/2827.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2Fconfig%2Fs390%2F2827.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2Fconfig%2Fs390%2F2827.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2F2827.md?ref=ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "patch": "@@ -35,9 +35,13 @@\n   (cond [(eq_attr \"mnemonic\" \"lnxbr,madb,ltxtr,clc,axtr,msebr,slbgr,xc,alcr,lpxbr,slbr,maebr,mlg,mfy,lxdtr,maeb,lxeb,nc,mxtr,sxtr,dxbr,alc,msdbr,ltxbr,lxdb,madbr,lxdbr,lxebr,mvc,m,mseb,mlr,mlgr,slb,tcxb,msdb,sqxbr,alcgr,oc,flogr,alcg,mxbr,dxtr,axbr,mr,sxbr,slbg,ml,lcxbr,bcr_flush\") (const_int 1)]\n         (const_int 0)))\n \n-(define_insn_reservation \"zEC12_simple\" 1\n+(define_insn_reservation \"zEC12_simple_int\" 0\n   (and (eq_attr \"cpu\" \"zEC12\")\n-       (eq_attr \"mnemonic\" \"ltg,ogrk,lr,lnebr,lghrl,sdbr,x,asi,lhr,sebr,madb,ar,lhrl,clfxtr,llgfr,clghrl,cgr,cli,agrk,ic,adbr,aebr,lrv,clg,cy,cghi,sy,celfbr,seb,clgfr,al,tm,lang,clfebr,lghr,cdb,lpebr,laa,ark,lh,or,icy,xi,msebr,n,llihl,afi,cs,nrk,sth,lgr,l,lcr,stey,xg,crt,slgfr,ny,ld,j,llihh,slgr,clfhsi,slg,lb,lgrl,lrl,llihf,lndbr,llcr,laxg,mvghi,rllg,sdb,xrk,laag,alhsik,algfi,algr,aly,agfi,lrvr,d,crl,llgc,tmhl,algsi,lgh,icmh,clhrl,xgrk,icm,iilf,ork,lbr,cg,ldgr,lgf,iihf,llghr,sg,clfdbr,llgtr,stam,cebr,tmhh,tceb,slgf,basr,lgbr,maebr,lgb,cgfi,aeb,ltebr,lax,clfit,lrvgr,nihl,ni,clfdtr,srdl,mdb,srk,xihf,stgrl,sthrl,algf,ltr,cdlgbr,cgit,ng,lat,llghrl,ltgr,nihh,clgfrl,srlk,maeb,agr,cxlftr,ler,bcr_flush,stcy,cds,clfi,nihf,ly,clt,lgat,alg,lhy,lgfrl,clghsi,clrt,tmll,srlg,tcdb,ay,sty,clr,lgfi,lan,lpdbr,clgt,adb,ahik,sra,algrk,cdfbr,lcebr,clfxbr,msdbr,ceb,clgr,tmy,tmlh,alghsik,lcgr,mvi,cdbr,ltgf,xr,larl,ldr,llgcr,clgrt,clrl,cghsi,cliy,madbr,oy,ogr,llgt,meebr,slr,clgxbr,chi,s,icmy,llc,ngr,clhhsi,ltgfr,llill,lhi,o,meeb,clgdtr,sll,clgrl,clgf,ledbr,cegbr,mviy,algfr,rll,cdlftr,sldl,cdlgtr,lg,niy,st,sgr,ag,le,xgr,cr,stg,llilh,sr,lzer,cdsg,sllk,mdbr,stoc,csg,clgit,chhsi,strl,llilf,lndfr,ngrk,clgebr,clgfi,llgh,mseb,ltdbr,oill,la,llhrl,stc,lghi,oihl,xiy,sllg,llgf,cgrt,ldeb,cl,sl,cdlfbr,oi,oilh,nr,srak,oihh,ear,slgrk,og,c,slgfi,sthy,oilf,oiy,msdb,oihf,a,cfi,lzxr,lzdr,srag,cdgbr,brasl,alr,cgrl,llgfrl,cit,clgxtr,ley,exrl,lcdfr,lay,xilf,lcdbr,alsi,mvhhi,srl,chsi,lgfr,lrvg,cly,sgrk,ahi,celgbr,nill,clgdbr,jg,slrk,lxr,sar,slfi,cpsdr,lcgfr,aghik,nilh,mvhi,lpdfr,xy,alrk,lao,agsi,ldy,nilf,llhr,alfi,laog,sly,aghi,ldebr,bras,srda,cefbr,lt,fiebra,fidbra,fixbra,fidtr,fixtr\")) \"nothing\")\n+       (eq_attr \"mnemonic\" \"ltg,ogrk,lr,lghrl,x,asi,lhr,ar,lhrl,llgfr,clghrl,cgr,cli,agrk,ic,lrv,clg,cy,cghi,sy,clgfr,al,tm,lang,lghr,laa,ark,lh,or,icy,xi,n,llihl,afi,cs,nrk,sth,lgr,l,lcr,stey,xg,crt,slgfr,ny,ld,j,llihh,slgr,clfhsi,slg,lb,lgrl,lrl,llihf,llcr,laxg,mvghi,rllg,xrk,laag,alhsik,algfi,algr,aly,agfi,lrvr,d,crl,llgc,tmhl,algsi,lgh,icmh,clhrl,xgrk,icm,iilf,ork,cg,ldgr,lgf,iihf,llghr,sg,stam,tmhh,slgf,basr,lgb,cgfi,lax,clfit,lrvgr,nihl,ni,srdl,srk,xihf,stgrl,sthrl,algf,cgit,ng,lat,llghrl,ltgr,nihh,clgfrl,srlk,agr,ler,bcr_flush,stcy,cds,clfi,nihf,ly,clt,lgat,alg,lhy,lgfrl,clghsi,clrt,tmll,srlg,ay,sty,clr,lgfi,lan,clgt,ahik,sra,algrk,clgr,tmy,tmlh,alghsik,lcgr,mvi,ltgf,xr,larl,ldr,llgcr,clgrt,clrl,cghsi,cliy,oy,ogr,llgt,slr,chi,s,icmy,llc,ngr,clhhsi,ltgfr,llill,lhi,o,sll,clgrl,clgf,mviy,algfr,rll,sldl,lg,niy,st,sgr,ag,le,xgr,cr,stg,llilh,sr,cdsg,sllk,stoc,csg,clgit,chhsi,strl,llilf,lndfr,ngrk,clgfi,llgh,oill,la,llhrl,stc,lghi,oihl,xiy,sllg,llgf,cgrt,cl,sl,oi,oilh,nr,srak,oihh,ear,slgrk,og,c,slgfi,sthy,oilf,oiy,oihf,a,cfi,srag,brasl,alr,cgrl,llgfrl,cit,ley,exrl,lcdfr,lay,xilf,alsi,mvhhi,srl,chsi,lgfr,lrvg,cly,sgrk,ahi,nill,jg,slrk,lxr,sar,slfi,cpsdr,lcgfr,aghik,nilh,mvhi,lpdfr,xy,alrk,lao,agsi,ldy,nilf,llhr,alfi,laog,sly,aghi,bras,srda,lt,lbr,lzxr,lzdr,lzer\")) \"nothing\")\n+\n+(define_insn_reservation \"zEC12_simple_fp\" 1\n+  (and (eq_attr \"cpu\" \"zEC12\")\n+       (eq_attr \"mnemonic\" \"lnebr,sdbr,sebr,clfxtr,adbr,aebr,celfbr,clfebr,lpebr,msebr,lndbr,clfdbr,llgtr,cebr,lgbr,maebr,ltebr,clfdtr,ltr,cdlgbr,cxlftr,lpdbr,cdfbr,lcebr,clfxbr,msdbr,cdbr,madbr,meebr,clgxbr,clgdtr,ledbr,cegbr,cdlftr,cdlgtr,mdbr,clgebr,ltdbr,cdlfbr,cdgbr,clgxtr,lcdbr,celgbr,clgdbr,ldebr,cefbr,fidtr,fixtr,madb,msdb,mseb,fiebra,fidbra,fixbra,aeb,mdb,seb,cdb,tcdb,sdb,adb,tceb,maeb,ceb,meeb,ldeb\")) \"nothing\")\n \n (define_insn_reservation \"zEC12_cgdbr\" 2\n   (and (eq_attr \"cpu\" \"zEC12\")"}, {"sha": "cbe8e1f8444c09dffcc1e0326e28c290cd3d283f", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=ff39d72a30cc8a85e01a69d37f6d4628e9ffbcc1", "patch": "@@ -5885,8 +5885,12 @@ s390_issue_rate (void)\n     case PROCESSOR_2817_Z196:\n       return 3;\n     case PROCESSOR_2097_Z10:\n-    case PROCESSOR_2827_ZEC12:\n       return 2;\n+      /* Starting with EC12 we use the sched_reorder hook to take care\n+\t of instruction dispatch constraints.  The algorithm only\n+\t picks the best instruction and assumes only a single\n+\t instruction gets issued per cycle.  */\n+    case PROCESSOR_2827_ZEC12:\n     default:\n       return 1;\n     }"}]}