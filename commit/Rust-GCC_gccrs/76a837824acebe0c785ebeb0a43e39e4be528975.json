{"sha": "76a837824acebe0c785ebeb0a43e39e4be528975", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZhODM3ODI0YWNlYmUwYzc4NWViZWIwYTQzZTM5ZTRiZTUyODk3NQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-09-08T09:06:28Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-09-08T09:06:28Z"}, "message": "pt.c (process_partial_specialization): Consistantly allocate and zero tpd.parms based on ntparms.\n\n\t* pt.c (process_partial_specialization): Consistantly allocate\n\tand zero tpd.parms based on ntparms.  Use tpd2.parms, not\n\ttpd.parms, where appropriate.\n\nCo-Authored-By: Mark Mitchell <mark@markmitchell.com>\n\nFrom-SVN: r22325", "tree": {"sha": "0cdc9c0bfab1f094b54611687d57f53de273232b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0cdc9c0bfab1f094b54611687d57f53de273232b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76a837824acebe0c785ebeb0a43e39e4be528975", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76a837824acebe0c785ebeb0a43e39e4be528975", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76a837824acebe0c785ebeb0a43e39e4be528975", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76a837824acebe0c785ebeb0a43e39e4be528975/comments", "author": null, "committer": null, "parents": [{"sha": "f2bd33a3e6e1ba2d09bd30826cbf64a0ee70cc5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2bd33a3e6e1ba2d09bd30826cbf64a0ee70cc5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2bd33a3e6e1ba2d09bd30826cbf64a0ee70cc5a"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "4382a2acc711443672f67bc2efb5cc39540e59ce", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76a837824acebe0c785ebeb0a43e39e4be528975/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76a837824acebe0c785ebeb0a43e39e4be528975/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=76a837824acebe0c785ebeb0a43e39e4be528975", "patch": "@@ -1,3 +1,10 @@\n+1998-09-08  Richard Henderson  <rth@cygnus.com>\n+\t    Mark Mitchell  <mark@markmitchell.com>\t\n+\t\n+\t* pt.c (process_partial_specialization): Consistantly allocate\n+\tand zero tpd.parms based on ntparms.  Use tpd2.parms, not\n+\ttpd.parms, where appropriate.\n+\n Sun Sep  6 00:00:51 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (INCLUDES): Update after recent toplevel gcc"}, {"sha": "e95d7d1e70cb6004a4fe8d85b595fff5d5775889", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76a837824acebe0c785ebeb0a43e39e4be528975/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76a837824acebe0c785ebeb0a43e39e4be528975/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=76a837824acebe0c785ebeb0a43e39e4be528975", "patch": "@@ -1912,7 +1912,7 @@ process_partial_specialization (decl)\n      or some such would have been OK.  */\n   tpd.level = TMPL_PARMS_DEPTH (current_template_parms);\n   tpd.parms = alloca (sizeof (int) * ntparms);\n-  bzero (tpd.parms, sizeof (int) * nargs);\n+  bzero (tpd.parms, sizeof (int) * ntparms);\n \n   tpd.arg_uses_template_parms = alloca (sizeof (int) * nargs);\n   bzero (tpd.arg_uses_template_parms, sizeof (int) * nargs);\n@@ -1985,6 +1985,9 @@ process_partial_specialization (decl)\n \t\t  /* We haven't yet initialized TPD2.  Do so now.  */\n \t\t  tpd2.arg_uses_template_parms \n \t\t    =  (int*) alloca (sizeof (int) * nargs);\n+\t\t  /* The number of paramters here is the number in the\n+\t\t     main template, which, as checked in the assertion\n+\t\t     above, is NARGS.  */\n \t\t  tpd2.parms = (int*) alloca (sizeof (int) * nargs);\n \t\t  tpd2.level = \n \t\t    TMPL_PARMS_DEPTH (DECL_TEMPLATE_PARMS (maintmpl));\n@@ -1995,7 +1998,7 @@ process_partial_specialization (decl)\n \t\t template, not in the specialization.  */\n \t      tpd2.current_arg = i;\n \t      tpd2.arg_uses_template_parms[i] = 0;\n-\t      bzero (tpd.parms, sizeof (int) * nargs);\n+\t      bzero (tpd2.parms, sizeof (int) * nargs);\n \t      for_each_template_parm (type,\n \t\t\t\t      &mark_template_parm,\n \t\t\t\t      &tpd2);"}]}