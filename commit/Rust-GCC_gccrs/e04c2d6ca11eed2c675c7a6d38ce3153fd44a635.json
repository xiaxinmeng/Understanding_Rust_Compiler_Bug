{"sha": "e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA0YzJkNmNhMTFlZWQyYzY3NWM3YTZkMzhjZTMxNTNmZDQ0YTYzNQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2000-08-23T15:15:21Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2000-08-23T15:15:21Z"}, "message": "arm.c (arm_expand_prologue): Ensure that the stack-adjustment barrier can't be ignored by the alias analysis...\n\n* arm.c (arm_expand_prologue): Ensure that the stack-adjustment\nbarrier can't be ignored by the alias analysis code.\n\nFrom-SVN: r35911", "tree": {"sha": "f66318bf944f5653cb03ef80e8fe573deeafd042", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f66318bf944f5653cb03ef80e8fe573deeafd042"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635/comments", "author": null, "committer": null, "parents": [{"sha": "47db946ca4f65b526ab014d0059766ca0b58907b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47db946ca4f65b526ab014d0059766ca0b58907b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47db946ca4f65b526ab014d0059766ca0b58907b"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "3b5df621334c8228d078e5c74c13c6b629336af3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "patch": "@@ -1,3 +1,8 @@\n+2000-08-23  Richard Earnshaw  (rearnsha@arm.com)\n+\n+\t* arm.c (arm_expand_prologue): Ensure that the stack-adjustment\n+\tbarrier can't be ignored by the alias analysis code.\n+\n 2000-08-12  Eli Zaretskii  <eliz@is.elta.co.il>\n \n \t* fixinc/inclhack.def (sysv68_string): Fix the Sed script so it"}, {"sha": "4c7679abb15ec7a4e9901fdebdc6b79a08eddf7a", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e04c2d6ca11eed2c675c7a6d38ce3153fd44a635/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=e04c2d6ca11eed2c675c7a6d38ce3153fd44a635", "patch": "@@ -7430,8 +7430,19 @@ arm_expand_prologue ()\n       insn = emit_insn (gen_addsi3 (stack_pointer_rtx, stack_pointer_rtx,\n \t\t\t\t    amount));\n       RTX_FRAME_RELATED_P (insn) = 1;\n-      emit_insn (gen_rtx_CLOBBER (VOIDmode, \n-\t\t\t\t  gen_rtx_MEM (BLKmode, stack_pointer_rtx)));\n+\n+      /* If the frame pointer is needed, emit a special barrier that\n+\t will prevent the scheduler from moving stores to the frame\n+\t before the stack adjustment.  */\n+      if (frame_pointer_needed)\n+\t{\n+\t  rtx unspec = gen_rtx_UNSPEC (SImode,\n+\t\t\t\t       gen_rtvec (2, stack_pointer_rtx,\n+\t\t\t\t\t\t  hard_frame_pointer_rtx), 4);\n+\n+\t  emit_insn (gen_rtx_CLOBBER (VOIDmode,\n+\t\t\t\t      gen_rtx_MEM (BLKmode, unspec)));\n+\t}\n     }\n \n   /* If we are profiling, make sure no instructions are scheduled before"}]}