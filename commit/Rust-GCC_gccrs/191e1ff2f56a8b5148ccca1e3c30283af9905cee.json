{"sha": "191e1ff2f56a8b5148ccca1e3c30283af9905cee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTkxZTFmZjJmNTZhOGI1MTQ4Y2NjYTFlM2MzMDI4M2FmOTkwNWNlZQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@st.com", "date": "2005-07-22T12:25:20Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2005-07-22T12:25:20Z"}, "message": "re PR rtl-optimization/20370 (dead_or_predictable doesn't resize reg_n_info)\n\n\tPR rtl-optimization/20370\n\t* ifcvt.c (dead_or_predicable): Before calling propagate_block,\n\tcall allocate_reg_info if necessary.\n\nFrom-SVN: r102282", "tree": {"sha": "a98e7cdc5aa12f9912600717a656138bb0b828ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a98e7cdc5aa12f9912600717a656138bb0b828ce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/191e1ff2f56a8b5148ccca1e3c30283af9905cee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/191e1ff2f56a8b5148ccca1e3c30283af9905cee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/191e1ff2f56a8b5148ccca1e3c30283af9905cee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/191e1ff2f56a8b5148ccca1e3c30283af9905cee/comments", "author": null, "committer": null, "parents": [{"sha": "475a3eef78ce1a81c2eb9e391327d4163a4f7556", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/475a3eef78ce1a81c2eb9e391327d4163a4f7556", "html_url": "https://github.com/Rust-GCC/gccrs/commit/475a3eef78ce1a81c2eb9e391327d4163a4f7556"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "faddc8357e1bf871b29b2d4559784396b70291a6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191e1ff2f56a8b5148ccca1e3c30283af9905cee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191e1ff2f56a8b5148ccca1e3c30283af9905cee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=191e1ff2f56a8b5148ccca1e3c30283af9905cee", "patch": "@@ -1,5 +1,9 @@\n 2005-07-22  J\"orn Rennecke <joern.rennecke@st.com>\n \n+\tPR rtl-optimization/20370\n+\t* ifcvt.c (dead_or_predicable): Before calling propagate_block,\n+\tcall allocate_reg_info if necessary.\n+\n \tPR rtl-optimization/21848\n \t* calls.c (emit_library_call_value_1): For const functions, add\n \tUSEs of the stack slots to CALL_INSN_FUNCTION_USAGE."}, {"sha": "d74d9457d7becadfef6ad02bb1e134476d9424ec", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/191e1ff2f56a8b5148ccca1e3c30283af9905cee/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/191e1ff2f56a8b5148ccca1e3c30283af9905cee/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=191e1ff2f56a8b5148ccca1e3c30283af9905cee", "patch": "@@ -3341,6 +3341,14 @@ dead_or_predicable (basic_block test_bb, basic_block merge_bb,\n       /* ??? bb->local_set is only valid during calculate_global_regs_live,\n \t so we must recompute usage for MERGE_BB.  Not so bad, I suppose,\n          since we've already asserted that MERGE_BB is small.  */\n+      /* If we allocated new pseudos (e.g. in the conditional move\n+\t expander called from noce_emit_cmove), we must resize the\n+\t array first.  */\n+      if (max_regno < max_reg_num ())\n+\t{\n+\t  max_regno = max_reg_num ();\n+\t  allocate_reg_info (max_regno, FALSE, FALSE);\n+\t}\n       propagate_block (merge_bb, tmp, merge_set, merge_set, 0);\n \n       /* For small register class machines, don't lengthen lifetimes of"}]}