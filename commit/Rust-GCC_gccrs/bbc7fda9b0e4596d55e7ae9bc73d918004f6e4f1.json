{"sha": "bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJjN2ZkYTliMGU0NTk2ZDU1ZTdhZTliYzczZDkxODAwNGY2ZTRmMQ==", "commit": {"author": {"name": "Alan Lehotsky", "email": "lehotsky@tiac.net", "date": "2001-01-11T23:01:40Z"}, "committer": {"name": "Alan Lehotsky", "email": "alehotsky@gcc.gnu.org", "date": "2001-01-11T23:01:40Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r38929", "tree": {"sha": "46723b9d5b2b4b73dd839f7b5862b54e7ff25d37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46723b9d5b2b4b73dd839f7b5862b54e7ff25d37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1/comments", "author": null, "committer": null, "parents": [{"sha": "a4299d07de85eb2919c86f84a9226fd6143fcbe1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4299d07de85eb2919c86f84a9226fd6143fcbe1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4299d07de85eb2919c86f84a9226fd6143fcbe1"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "b1d8c07e1ab0de35e30440824f7ff6e053306cba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "patch": "@@ -1,3 +1,8 @@\n+2001-01-11  Alan Lehotsky  <lehotsky@tiac.net>\n+\n+\t* builtins.c (std_expand_builtin_va_start): Handle varargs when\n+\tsizeof (int) is larger than sizeof(__word__).\n+\t\n 2001-01-11  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n         * cppinit.c (do_includes): Fix typo."}, {"sha": "b7db928d48c818ec800aeffaeb1015f11b948559", "filename": "gcc/builtins.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=bbc7fda9b0e4596d55e7ae9bc73d918004f6e4f1", "patch": "@@ -2801,8 +2801,13 @@ std_expand_builtin_va_start (stdarg_p, valist, nextarg)\n \n   if (! stdarg_p)\n     {\n+      /* The dummy named parameter is declared as a 'word' sized\n+\t object, but if a 'word' is smaller than an 'int', it would\n+\t have been promoted to int when it was added to the arglist.  */\n       int align = PARM_BOUNDARY / BITS_PER_UNIT;\n-      int offset = (((UNITS_PER_WORD + align - 1) / align) * align);\n+      int size = MAX (UNITS_PER_WORD,\n+\t\t      GET_MODE_SIZE (TYPE_MODE (integer_type_node)));\n+      int offset = ((size + align - 1) / align) * align;\n       nextarg = plus_constant (nextarg, -offset);\n     }\n "}]}