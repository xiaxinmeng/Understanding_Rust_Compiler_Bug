{"sha": "238e3a40af2349190dc662aed9476576af4b4516", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM4ZTNhNDBhZjIzNDkxOTBkYzY2MmFlZDk0NzY1NzZhZjRiNDUxNg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2009-01-07T01:56:26Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2009-01-07T01:56:26Z"}, "message": "locale_init.cc (locale::_S_initialize_once): Move construction of classic locale...\n\n2009-01-06  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* src/locale_init.cc (locale::_S_initialize_once): Move construction\n\tof classic locale...\n\t(locale::classic): Here.\n\nFrom-SVN: r143149", "tree": {"sha": "15c5a5d2246bc94d83fe85dd9a5378bc5950ec39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/15c5a5d2246bc94d83fe85dd9a5378bc5950ec39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/238e3a40af2349190dc662aed9476576af4b4516", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/238e3a40af2349190dc662aed9476576af4b4516", "html_url": "https://github.com/Rust-GCC/gccrs/commit/238e3a40af2349190dc662aed9476576af4b4516", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/238e3a40af2349190dc662aed9476576af4b4516/comments", "author": null, "committer": null, "parents": [{"sha": "246cb5be0e91e1ba74a2a7e89b29b2b70b80ac91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/246cb5be0e91e1ba74a2a7e89b29b2b70b80ac91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/246cb5be0e91e1ba74a2a7e89b29b2b70b80ac91"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "11bf44eef6a586a574dbf8b64835e2a29888bb54", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/238e3a40af2349190dc662aed9476576af4b4516/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/238e3a40af2349190dc662aed9476576af4b4516/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=238e3a40af2349190dc662aed9476576af4b4516", "patch": "@@ -1,3 +1,9 @@\n+2009-01-06  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* src/locale_init.cc (locale::_S_initialize_once): Move construction\n+\tof classic locale...\n+\t(locale::classic): Here.\n+\n 2009-01-06  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* include/tr1_impl/regex: Fix bad return statements and typos."}, {"sha": "0730155b236ec434397988e93927cc070c0be056", "filename": "libstdc++-v3/src/locale_init.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/238e3a40af2349190dc662aed9476576af4b4516/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/238e3a40af2349190dc662aed9476576af4b4516/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Flocale_init.cc?ref=238e3a40af2349190dc662aed9476576af4b4516", "patch": "@@ -1,4 +1,5 @@\n-// Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006\n+// Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, \n+// 2009\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -242,9 +243,9 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n \n   const locale&\n   locale::classic()\n-  {\n+  { \n     _S_initialize();\n-    return reinterpret_cast<const locale&>(c_locale);\n+    return *(new (&c_locale) locale(_S_classic));\n   }\n \n   void\n@@ -254,7 +255,6 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n     // One reference for _S_classic, one for _S_global\n     _S_classic = new (&c_locale_impl) _Impl(2);\n     _S_global = _S_classic; \t    \n-    new (&c_locale) locale(_S_classic);\n   }\n \n   void  "}]}