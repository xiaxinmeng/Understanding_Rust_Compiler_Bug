{"sha": "9bc13c238df4ed18f702e70f976408dee0c7df6b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJjMTNjMjM4ZGY0ZWQxOGY3MDJlNzBmOTc2NDA4ZGVlMGM3ZGY2Yg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2011-07-26T04:21:57Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2011-07-26T04:21:57Z"}, "message": "array (at): Remove constexpr when -fno-exceptions.\n\n2011-07-25  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/std/array (at): Remove constexpr when -fno-exceptions.\n\t* testsuite/23_containers/array/at_neg.cc: Test.\n\nFrom-SVN: r176780", "tree": {"sha": "d45a3f03d5c7d2f895060246c0d5ed54c998a2b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d45a3f03d5c7d2f895060246c0d5ed54c998a2b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9bc13c238df4ed18f702e70f976408dee0c7df6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bc13c238df4ed18f702e70f976408dee0c7df6b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bc13c238df4ed18f702e70f976408dee0c7df6b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bc13c238df4ed18f702e70f976408dee0c7df6b/comments", "author": null, "committer": null, "parents": [{"sha": "104fcc7aec39d14625aad4f6573c44c2eb54aaa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/104fcc7aec39d14625aad4f6573c44c2eb54aaa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/104fcc7aec39d14625aad4f6573c44c2eb54aaa3"}], "stats": {"total": 48, "additions": 43, "deletions": 5}, "files": [{"sha": "38833b71e76c373a4e6aa3f117c25af75384b599", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9bc13c238df4ed18f702e70f976408dee0c7df6b", "patch": "@@ -1,3 +1,8 @@\n+2011-07-25  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* include/std/array (at): Remove constexpr when -fno-exceptions.\n+\t* testsuite/23_containers/array/at_neg.cc: Test.\n+\n 2011-07-25  Paolo Carlini  <paolo.carlini@oracle.com>\n \t    Nathan Ridge  <zeratul976@hotmail.com>\n "}, {"sha": "39573bec844189c7de76b0d6c547b4c367d64475", "filename": "libstdc++-v3/include/std/array", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray?ref=9bc13c238df4ed18f702e70f976408dee0c7df6b", "patch": "@@ -163,16 +163,21 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \treturn _M_instance[__n];\n       }\n \n+#ifdef __EXCEPTIONS\n       constexpr const_reference\n       at(size_type __n) const\n       {\n-\treturn __n < _Nm ? _M_instance[__n] : \n-#ifdef __EXCEPTIONS\n-\t                   throw out_of_range(__N(\"array::at\"));\n+\treturn __n < _Nm ? \n+\t       _M_instance[__n] : throw out_of_range(__N(\"array::at\"));\n+      }\n #else\n-\t                   _M_instance[0];\n-#endif\n+      const_reference\n+      at(size_type __n) const\n+      {\n+\treturn __n < _Nm ?\n+\t       _M_instance[__n] : __throw_out_of_range(__N(\"array::at\"));\n       }\n+#endif\n \n       reference \n       front()"}, {"sha": "aefc39b75ecd58ad119038e964f9eca4f7820e84", "filename": "libstdc++-v3/testsuite/23_containers/array/at_neg.cc", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Fat_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bc13c238df4ed18f702e70f976408dee0c7df6b/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Fat_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Fat_neg.cc?ref=9bc13c238df4ed18f702e70f976408dee0c7df6b", "patch": "@@ -0,0 +1,28 @@\n+// { dg-do run { xfail *-*-* } }\n+// { dg-options \"-std=gnu++0x -fno-exceptions\" }\n+\n+// Copyright (C) 2011 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without Pred the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+#include <array>\n+\n+int main()\n+{\n+  std::array<int, 3> a{{1, 2, 3}};\n+  auto i = a.at(4); // expected behavior is to either throw or abort\n+  return 0;\n+}"}]}