{"sha": "683b80daf3c474cda528f06e8c3557120b6e924c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgzYjgwZGFmM2M0NzRjZGE1MjhmMDZlOGMzNTU3MTIwYjZlOTI0Yw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-10-06T12:38:05Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-10-06T12:38:05Z"}, "message": "call.c (resolve_args): Resolve template specializations, if possible.\n\n\t* call.c (resolve_args): Resolve template specializations, if\n\tpossible.\n\nFrom-SVN: r22867", "tree": {"sha": "731bf202819f0c48bf27fbce98d594d4ecb71e4a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/731bf202819f0c48bf27fbce98d594d4ecb71e4a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/683b80daf3c474cda528f06e8c3557120b6e924c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683b80daf3c474cda528f06e8c3557120b6e924c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/683b80daf3c474cda528f06e8c3557120b6e924c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/683b80daf3c474cda528f06e8c3557120b6e924c/comments", "author": null, "committer": null, "parents": [{"sha": "37053d1fe5f2eac2a8c267d318cbc9d7ee8aff7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37053d1fe5f2eac2a8c267d318cbc9d7ee8aff7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37053d1fe5f2eac2a8c267d318cbc9d7ee8aff7a"}], "stats": {"total": 33, "additions": 28, "deletions": 5}, "files": [{"sha": "ff3901d385519439a3b2583c0c88e5207563c5b4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=683b80daf3c474cda528f06e8c3557120b6e924c", "patch": "@@ -1,3 +1,8 @@\n+1998-10-06  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* call.c (resolve_args): Resolve template specializations, if\n+\tpossible.\n+\n Tue Oct  6 07:57:26 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Makefile.in (spew.o): Depend on toplev.h."}, {"sha": "f01aacb09c03b851a2571bab43f45a6b51f6c3c9", "filename": "gcc/cp/call.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=683b80daf3c474cda528f06e8c3557120b6e924c", "patch": "@@ -2255,6 +2255,26 @@ resolve_args (args)\n \t}\n       else if (TREE_CODE (TREE_VALUE (t)) == OFFSET_REF)\n \tTREE_VALUE (t) = resolve_offset_ref (TREE_VALUE (t));\n+      else if (TREE_CODE (TREE_VALUE (t)) == TEMPLATE_ID_EXPR)\n+\t{\n+\t  tree targs;\n+\t  tree r;\n+\n+\t  r = determine_specialization (TREE_VALUE (t), NULL_TREE,\n+\t\t\t\t\t&targs, \n+\t\t\t\t\t/*need_member_template=*/0,\n+\t\t\t\t\t/*complain=*/0);\n+\n+\t  /* If we figured out what was being specialized, use it.\n+\t     Otherwise, the function being called may resolve the\n+\t     choice of specialization, so we don't issue any error\n+\t     messages here.  */\n+\t  if (r)\n+\t    {\n+\t      r = instantiate_template (r, targs);\n+\t      TREE_VALUE (t) = r;\n+\t    }\n+\t}\n     }\n   return args;\n }"}, {"sha": "f4e58e27fc7e20140bddb517a27e780ca7709c96", "filename": "gcc/testsuite/g++.old-deja/g++.pt/overload4.C", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Foverload4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/683b80daf3c474cda528f06e8c3557120b6e924c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Foverload4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Foverload4.C?ref=683b80daf3c474cda528f06e8c3557120b6e924c", "patch": "@@ -1,14 +1,12 @@\n // Build don't link:\n \n-// crash test - XFAIL *-*-*\n-\n template <class T> void foo(T);\n \n template <class T> void bar(void (*)(T), T);\n \n void baz() {\n   bar<int>(foo, 1);\n-  bar(foo<int>, 1); // explicit args for foo don't help\n-  bar<int>(foo<int>, 1); // not even here\n-  bar(foo, 1);\n+  bar(foo<int>, 1);\n+  bar<int>(foo<int>, 1);\n+  bar(foo, 1); \n }"}]}