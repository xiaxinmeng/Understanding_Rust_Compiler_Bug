{"sha": "2beee64ae080305808720f839b6ca7bc280aed74", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJlZWU2NGFlMDgwMzA1ODA4NzIwZjgzOWI2Y2E3YmMyODBhZWQ3NA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2019-08-20T09:47:58Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2019-08-20T09:47:58Z"}, "message": "[Ada] Document requirements for Pragma Lock_Free\n\n2019-08-20  Arnaud Charlet  <charlet@adacore.com>\n\ngcc/ada/\n\n\t* doc/gnat_rm/implementation_defined_pragmas.rst: Document\n\trequirements for Pragma Lock_Free.\n\t* gnat_rm.texi: Regenerate.\n\nFrom-SVN: r274717", "tree": {"sha": "c9106a21d9b6bfc8d1b48148a453f1287fbcd8ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9106a21d9b6bfc8d1b48148a453f1287fbcd8ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2beee64ae080305808720f839b6ca7bc280aed74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2beee64ae080305808720f839b6ca7bc280aed74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2beee64ae080305808720f839b6ca7bc280aed74", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2beee64ae080305808720f839b6ca7bc280aed74/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fdacd614f4162311af0e60a02e6ff6b47ba809a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdacd614f4162311af0e60a02e6ff6b47ba809a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdacd614f4162311af0e60a02e6ff6b47ba809a5"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "a6f680c9ea7bff1b803fb9ebb1aa214286fb99f9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2beee64ae080305808720f839b6ca7bc280aed74", "patch": "@@ -1,3 +1,9 @@\n+2019-08-20  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* doc/gnat_rm/implementation_defined_pragmas.rst: Document\n+\trequirements for Pragma Lock_Free.\n+\t* gnat_rm.texi: Regenerate.\n+\n 2019-08-20  Philippe Gil  <gil@adacore.com>\n \n \t* bindgen.adb (Gen_Main): Set gnat_argc/gnat_argv to argc/argv"}, {"sha": "baa13fce0dd81df1ebca3a9f05bc17876676de0d", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_pragmas.rst", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst?ref=2beee64ae080305808720f839b6ca7bc280aed74", "patch": "@@ -3649,6 +3649,24 @@ the implementation of protected operations must be implemented without locks.\n Compilation fails if the compiler cannot generate lock-free code for the\n operations.\n \n+The current conditions required to support this pragma are:\n+\n+* Protected type declarations may not contain entries\n+* Protected subprogram declarations may not have nonelementary parameters\n+\n+In addition, each protected subprogram body must satisfy:\n+\n+* May reference only one protected component\n+* May not reference nonconstant entities outside the protected subprogram\n+  scope.\n+* May not contain address representation items, allocators, or quantified\n+  expressions.\n+* May not contain delay, goto, loop, or procedure-call statements.\n+* May not contain exported and imported entities\n+* May not dereferenced access values\n+* Function calls and attribute references must be static\n+\n+\n Pragma Loop_Invariant\n =====================\n "}, {"sha": "3c561ed1b04414dae3eb30edb1d0123e24dd0022", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2beee64ae080305808720f839b6ca7bc280aed74/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=2beee64ae080305808720f839b6ca7bc280aed74", "patch": "@@ -5115,6 +5115,47 @@ the implementation of protected operations must be implemented without locks.\n Compilation fails if the compiler cannot generate lock-free code for the\n operations.\n \n+The current conditions required to support this pragma are:\n+\n+\n+@itemize *\n+\n+@item \n+Protected type declarations may not contain entries\n+\n+@item \n+Protected subprogram declarations may not have nonelementary parameters\n+@end itemize\n+\n+In addition, each protected subprogram body must satisfy:\n+\n+\n+@itemize *\n+\n+@item \n+May reference only one protected component\n+\n+@item \n+May not reference nonconstant entities outside the protected subprogram\n+scope.\n+\n+@item \n+May not contain address representation items, allocators, or quantified\n+expressions.\n+\n+@item \n+May not contain delay, goto, loop, or procedure-call statements.\n+\n+@item \n+May not contain exported and imported entities\n+\n+@item \n+May not dereferenced access values\n+\n+@item \n+Function calls and attribute references must be static\n+@end itemize\n+\n @node Pragma Loop_Invariant,Pragma Loop_Optimize,Pragma Lock_Free,Implementation Defined Pragmas\n @anchor{gnat_rm/implementation_defined_pragmas pragma-loop-invariant}@anchor{98}\n @section Pragma Loop_Invariant"}]}