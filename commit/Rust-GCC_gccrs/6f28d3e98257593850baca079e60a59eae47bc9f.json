{"sha": "6f28d3e98257593850baca079e60a59eae47bc9f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmYyOGQzZTk4MjU3NTkzODUwYmFjYTA3OWU2MGE1OWVhZTQ3YmM5Zg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-03-26T00:20:08Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-03-26T00:20:08Z"}, "message": "* combine.c (make_compound_operation): Simplify (subreg (*_extend) 0).\n\nFrom-SVN: r18836", "tree": {"sha": "fa5c337155be729a7812e5f418eaaf7d3d5d0442", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa5c337155be729a7812e5f418eaaf7d3d5d0442"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f28d3e98257593850baca079e60a59eae47bc9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f28d3e98257593850baca079e60a59eae47bc9f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f28d3e98257593850baca079e60a59eae47bc9f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f28d3e98257593850baca079e60a59eae47bc9f/comments", "author": null, "committer": null, "parents": [{"sha": "7eea64437a974d93e6a99163ecb3d1b97d1c7e0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7eea64437a974d93e6a99163ecb3d1b97d1c7e0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7eea64437a974d93e6a99163ecb3d1b97d1c7e0d"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "028e157752c4cc859139738626f74cf3baa611d0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f28d3e98257593850baca079e60a59eae47bc9f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f28d3e98257593850baca079e60a59eae47bc9f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6f28d3e98257593850baca079e60a59eae47bc9f", "patch": "@@ -1,3 +1,7 @@\n+Thu Mar 26 00:19:47 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* combine.c (make_compound_operation): Simplify (subreg (*_extend) 0).\n+\n Wed Mar 25 23:53:11 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* pa.c (pa_adjust_cost): Avoid redundant calls to get_attr_type."}, {"sha": "4bef563f1b8861e32a37c51aeb8807764bd4eb96", "filename": "gcc/combine.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f28d3e98257593850baca079e60a59eae47bc9f/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f28d3e98257593850baca079e60a59eae47bc9f/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=6f28d3e98257593850baca079e60a59eae47bc9f", "patch": "@@ -6038,6 +6038,23 @@ make_compound_operation (x, in_code)\n \n \t  return newer;\n \t}\n+\n+      /* If this is a paradoxical subreg, and the new code is a sign or\n+\t zero extension, omit the subreg and widen the extension.  If it\n+\t is a regular subreg, we can still get rid of the subreg by not\n+\t widening so much, or in fact removing the extension entirely.  */\n+      if ((GET_CODE (tem) == SIGN_EXTEND\n+\t   || GET_CODE (tem) == ZERO_EXTEND)\n+\t  && subreg_lowpart_p (x))\n+\t{\n+\t  if (GET_MODE_SIZE (mode) > GET_MODE_SIZE (GET_MODE (tem))\n+\t      || (GET_MODE_SIZE (mode) >\n+\t\t  GET_MODE_SIZE (GET_MODE (XEXP (tem, 0)))))\n+\t    tem = gen_rtx_combine (GET_CODE (tem), mode, XEXP (tem, 0));\n+\t  else\n+\t    tem = gen_lowpart_for_combine (mode, XEXP (tem, 0));\n+\t  return tem;\n+\t}\n       break;\n       \n     default:"}]}