{"sha": "a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTY4MWI3NThlOWViNjdhN2VlZDBiNjViYmZjNjEwYWE0NGI5MDVjYg==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2015-09-28T08:19:42Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2015-09-28T08:19:42Z"}, "message": "Add gcc.dg/vect/pr62171.c\n\n2015-09-28  Tom de Vries  <tom@codesourcery.com>\n\n\t* gcc.dg/vect/pr62171.c: New test.\n\nFrom-SVN: r228193", "tree": {"sha": "26098e4dd785c8ee5fbc8e1df8ce91f7f2960dbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/26098e4dd785c8ee5fbc8e1df8ce91f7f2960dbc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a681b758e9eb67a7eed0b65bbfc610aa44b905cb/comments", "author": null, "committer": null, "parents": [{"sha": "7b954766120b503ad1526de773177a2af42c20c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b954766120b503ad1526de773177a2af42c20c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b954766120b503ad1526de773177a2af42c20c1"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "f197512961a9a2a063364baeca8496eb7a2285ab", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a681b758e9eb67a7eed0b65bbfc610aa44b905cb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a681b758e9eb67a7eed0b65bbfc610aa44b905cb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "patch": "@@ -1,3 +1,7 @@\n+2015-09-28  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* gcc.dg/vect/pr62171.c: New test.\n+\n 2015-09-27  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* g++.dg/debug/dwarf2/pr44641.C: Revert line number change. Remove"}, {"sha": "18517b3a74040d7b1c6339d850d01366060be9b2", "filename": "gcc/testsuite/gcc.dg/vect/pr62171.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a681b758e9eb67a7eed0b65bbfc610aa44b905cb/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr62171.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a681b758e9eb67a7eed0b65bbfc610aa44b905cb/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr62171.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr62171.c?ref=a681b758e9eb67a7eed0b65bbfc610aa44b905cb", "patch": "@@ -0,0 +1,27 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -ftree-vectorize -fdump-tree-vect-details\" } */\n+/* { dg-require-effective-target vect_double } */\n+\n+struct omp_data_i\n+{\n+  double *__restrict__ results;\n+  double *__restrict__ pData;\n+  double *__restrict__ coeff;\n+};\n+\n+#define nEvents 1000000\n+\n+double __attribute__((noinline, noclone))\n+f (struct omp_data_i *__restrict__ p, int argc)\n+{\n+\n+  int idx;\n+\n+  for (idx = 0; idx < nEvents; idx++)\n+    ((p->results))[idx] = (*(p->coeff)) * ((p->pData))[idx];\n+\n+  return ((p->results))[argc];\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" } } */\n+/* { dg-final { scan-tree-dump-not \"versioned\" \"vect\" } } */"}]}