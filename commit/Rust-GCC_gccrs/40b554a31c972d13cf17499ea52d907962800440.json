{"sha": "40b554a31c972d13cf17499ea52d907962800440", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBiNTU0YTMxYzk3MmQxM2NmMTc0OTllYTUyZDkwNzk2MjgwMDQ0MA==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2004-10-27T17:14:19Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2004-10-27T17:14:19Z"}, "message": "tree-phinodes.c (remove_phi_arg_num): Don't remove PHIs without any PHI arguments left.\n\n\t* tree-phinodes.c (remove_phi_arg_num): Don't remove PHIs\n\twithout any PHI arguments left.  Make sure the argument that\n\twe're supposed to remove exists at all.\n\nFrom-SVN: r89689", "tree": {"sha": "8f16e715609b1c7279583d2bb6a5fecbd287aad9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f16e715609b1c7279583d2bb6a5fecbd287aad9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40b554a31c972d13cf17499ea52d907962800440", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b554a31c972d13cf17499ea52d907962800440", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40b554a31c972d13cf17499ea52d907962800440", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40b554a31c972d13cf17499ea52d907962800440/comments", "author": null, "committer": null, "parents": [{"sha": "a559b61bf71da102462ffe4b4af443cd22b8eb67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a559b61bf71da102462ffe4b4af443cd22b8eb67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a559b61bf71da102462ffe4b4af443cd22b8eb67"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "db8f25f51a272b26f8a74020f689e741e43d06f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b554a31c972d13cf17499ea52d907962800440/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b554a31c972d13cf17499ea52d907962800440/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=40b554a31c972d13cf17499ea52d907962800440", "patch": "@@ -1,3 +1,9 @@\n+2004-10-27  Steven Bosscher  <stevenb@suse.de>\n+\n+\t* tree-phinodes.c (remove_phi_arg_num): Don't remove PHIs\n+\twithout any PHI arguments left.  Make sure the argument that\n+\twe're supposed to remove exists at all.\n+\n 2004-10-27  Paul Brook  <paul@codesourcery.com>\n \n \t* configure.ac: Don't test for [build] __cxa_atexit when building a\n@@ -161,7 +167,7 @@\n \n 2004-10-26  Fariborz Jahanian <fjahanian@apple.com>\n \n-\t* config/rs6000/rs6000.md (andsi3_internal8): Set CR when splitting\n+\t* config/rs6000/rs6000.md (andsi3_internal8): Set CR when splitting \n \tinto rotlsi3.\n \n 2004-10-26  Kazu Hirata  <kazu@cs.umass.edu>"}, {"sha": "64fab712a4d890142b1cb6c3e5bfb97a02bbaac5", "filename": "gcc/tree-phinodes.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40b554a31c972d13cf17499ea52d907962800440/gcc%2Ftree-phinodes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40b554a31c972d13cf17499ea52d907962800440/gcc%2Ftree-phinodes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-phinodes.c?ref=40b554a31c972d13cf17499ea52d907962800440", "patch": "@@ -407,6 +407,8 @@ remove_phi_arg_num (tree phi, int i)\n {\n   int num_elem = PHI_NUM_ARGS (phi);\n \n+  gcc_assert (i < num_elem);\n+\n   /* If we are not at the last element, switch the last element\n      with the element we want to delete.  */\n   if (i != num_elem - 1)\n@@ -421,11 +423,6 @@ remove_phi_arg_num (tree phi, int i)\n   PHI_ARG_EDGE (phi, num_elem - 1) = NULL;\n   PHI_ARG_NONZERO (phi, num_elem - 1) = false;\n   PHI_NUM_ARGS (phi)--;\n-\n-  /* If we removed the last PHI argument, then go ahead and\n-     remove the PHI node.  */\n-  if (PHI_NUM_ARGS (phi) == 0)\n-    remove_phi_node (phi, NULL, bb_for_stmt (phi));\n }\n \n /* Remove PHI node PHI from basic block BB.  If PREV is non-NULL, it is"}]}