{"sha": "06edd772e354ab922fa429bfe788a006f53511d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZlZGQ3NzJlMzU0YWI5MjJmYTQyOWJmZTc4OGEwMDZmNTM1MTFkOA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-04-24T06:03:43Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-04-24T06:03:43Z"}, "message": "re PR target/52999 (ICE, segmentation fault in c_tree_printer)\n\n\tPR middle-end/52999\n\t* varasm.c (get_section): Don't ICE for section conflicts with\n\tbuilt-in section kinds.\n\nFrom-SVN: r186741", "tree": {"sha": "5a483344d3cecd7b768043f2c33fb78c230bde89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a483344d3cecd7b768043f2c33fb78c230bde89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06edd772e354ab922fa429bfe788a006f53511d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06edd772e354ab922fa429bfe788a006f53511d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06edd772e354ab922fa429bfe788a006f53511d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06edd772e354ab922fa429bfe788a006f53511d8/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "234bdd5b07ad021270b1e81e419c9bd7ce679877", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/234bdd5b07ad021270b1e81e419c9bd7ce679877", "html_url": "https://github.com/Rust-GCC/gccrs/commit/234bdd5b07ad021270b1e81e419c9bd7ce679877"}], "stats": {"total": 23, "additions": 17, "deletions": 6}, "files": [{"sha": "f3992e1b8b2715ec32dcd6cd081e4b935837c3e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06edd772e354ab922fa429bfe788a006f53511d8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06edd772e354ab922fa429bfe788a006f53511d8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=06edd772e354ab922fa429bfe788a006f53511d8", "patch": "@@ -1,3 +1,9 @@\n+2012-04-24  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/52999\n+\t* varasm.c (get_section): Don't ICE for section conflicts with\n+\tbuilt-in section kinds.\n+\n 2012-04-23  DJ Delorie  <dj@redhat.com>\n \n \t* config/s390/s390.h (LINK_SPEC): Remove, no longer needed."}, {"sha": "b7939c54a848290615594bde74ba74020e9f6528", "filename": "gcc/varasm.c", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06edd772e354ab922fa429bfe788a006f53511d8/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06edd772e354ab922fa429bfe788a006f53511d8/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=06edd772e354ab922fa429bfe788a006f53511d8", "patch": "@@ -1,7 +1,7 @@\n /* Output variables, constants and external declarations, for GNU compiler.\n    Copyright (C) 1987, 1988, 1989, 1992, 1993, 1994, 1995, 1996, 1997,\n    1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,\n-   2010, 2011  Free Software Foundation, Inc.\n+   2010, 2011, 2012  Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -314,11 +314,16 @@ get_section (const char *name, unsigned int flags, tree decl)\n \t  if (decl == 0)\n \t    decl = sect->named.decl;\n \t  gcc_assert (decl);\n-\t  error (\"%+D causes a section type conflict with %D\", \n-\t\t\tdecl, sect->named.decl);\n-\t  if (decl != sect->named.decl)\n-            inform (DECL_SOURCE_LOCATION (sect->named.decl), \n-\t\t    \"%qD was declared here\", sect->named.decl);\n+\t  if (sect->named.decl == NULL)\n+\t    error (\"%+D causes a section type conflict\", decl);\n+\t  else\n+\t    {\n+\t      error (\"%+D causes a section type conflict with %D\",\n+\t\t     decl, sect->named.decl);\n+\t      if (decl != sect->named.decl)\n+\t\tinform (DECL_SOURCE_LOCATION (sect->named.decl),\n+\t\t\t\"%qD was declared here\", sect->named.decl);\n+\t    }\n \t  /* Make sure we don't error about one section multiple times.  */\n \t  sect->common.flags |= SECTION_OVERRIDE;\n \t}"}]}