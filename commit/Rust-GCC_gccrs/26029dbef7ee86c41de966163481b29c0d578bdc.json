{"sha": "26029dbef7ee86c41de966163481b29c0d578bdc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjYwMjlkYmVmN2VlODZjNDFkZTk2NjE2MzQ4MWIyOWMwZDU3OGJkYw==", "commit": {"author": {"name": "Carl Love", "email": "cel@us.ibm.com", "date": "2018-06-11T16:38:42Z"}, "committer": {"name": "Carl Love", "email": "carll@gcc.gnu.org", "date": "2018-06-11T16:38:42Z"}, "message": "altivec-7.c (main): Remove tests vec_unpackh(vecubi[0]) and vec_unpackl(vecubi[0]) returning long...\n\ngcc/testsuite/ChangeLog:\n\n2018-06-11  Carl Love  <cel@us.ibm.com>\n\t* gcc.target/powerpc/altivec-7.c (main): Remove tests\n\tvec_unpackh(vecubi[0]) and vec_unpackl(vecubi[0]) returning\n\tlong long bool.  Remove duplicate dg-final for xxlxor.  Update\n\tdg-final instruction counts.\n\t* gcc.target/powerpc/altivec-37.c (main): New file for\n\ttests vec_unpackh and vec_unpackl returning long long bool and\n\tlong long int.\n\nFrom-SVN: r261438", "tree": {"sha": "2e386c04aa072175b8c3d5fbbfc94733e1ca868c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e386c04aa072175b8c3d5fbbfc94733e1ca868c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26029dbef7ee86c41de966163481b29c0d578bdc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26029dbef7ee86c41de966163481b29c0d578bdc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26029dbef7ee86c41de966163481b29c0d578bdc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26029dbef7ee86c41de966163481b29c0d578bdc/comments", "author": {"login": "carlelove", "id": 86435705, "node_id": "MDQ6VXNlcjg2NDM1NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/86435705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlelove", "html_url": "https://github.com/carlelove", "followers_url": "https://api.github.com/users/carlelove/followers", "following_url": "https://api.github.com/users/carlelove/following{/other_user}", "gists_url": "https://api.github.com/users/carlelove/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlelove/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlelove/subscriptions", "organizations_url": "https://api.github.com/users/carlelove/orgs", "repos_url": "https://api.github.com/users/carlelove/repos", "events_url": "https://api.github.com/users/carlelove/events{/privacy}", "received_events_url": "https://api.github.com/users/carlelove/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ee6760c2917461ff7dd0f49d80a594fecd476f38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee6760c2917461ff7dd0f49d80a594fecd476f38", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee6760c2917461ff7dd0f49d80a594fecd476f38"}], "stats": {"total": 50, "additions": 42, "deletions": 8}, "files": [{"sha": "27201df4ef74e7b7ce169a1ff905fd4ad7b88a1a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=26029dbef7ee86c41de966163481b29c0d578bdc", "patch": "@@ -1,3 +1,12 @@\n+2018-06-11  Carl Love  <cel@us.ibm.com>\n+\t* gcc.target/powerpc/altivec-7.c (main): Remove tests\n+\tvec_unpackh(vecubi[0]) and vec_unpackl(vecubi[0]) returning\n+\tlong long bool.  Remove duplicate dg-final for xxlxor.  Update\n+\tdg-final instruction counts.\n+\t* gcc.target/powerpc/altivec-37.c (main): New file for\n+\ttests vec_unpackh and vec_unpackl returning long long bool and\n+\tlong long int.\n+\n 2018-06-11  Martin Liska  <mliska@suse.cz>\n \n         PR tree-optimization/86089"}, {"sha": "06d4bb155f0eab5d08ab5277778cc4f9eb23395c", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-37.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-37.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-37.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-37.c?ref=26029dbef7ee86c41de966163481b29c0d578bdc", "patch": "@@ -0,0 +1,32 @@\n+/* { dg-do compile { target powerpc*-*-* } } */\n+/* { dg-require-effective-target powerpc_p8vector_ok } */\n+/* { dg-options \"-mpower8-vector -mvsx\" } */\n+\n+#include <altivec.h>\n+\n+vector bool int *vecubi;\n+vector bool long long *vecublli;\n+vector signed int *vecsi;\n+vector signed long long int *vecslli;\n+\n+int main ()\n+{\n+\n+  /*  use of \u2018long long\u2019 in AltiVec types requires -mvsx */\n+  /* __builtin_altivec_vupkhsw and __builtin_altivec_vupklsw\n+     requires the -mpower8-vector option */\n+  *vecublli++ = vec_unpackh(vecubi[0]);\n+  *vecublli++ = vec_unpackl(vecubi[0]);\n+  *vecslli++ = vec_unpackh(vecsi[0]);\n+  *vecslli++ = vec_unpackl(vecsi[0]);\n+  \n+  return 0;\n+}\n+\n+/* Expected results:\n+     vec_unpackh                    vupklsw\n+     vec_unpackl                    vupkhsw\n+*/\n+\n+/* { dg-final { scan-assembler-times \"vupklsw\" 2 } } */\n+/* { dg-final { scan-assembler-times \"vupkhsw\" 2 } } */"}, {"sha": "b61092cec67c5951c03a972bdc93c8bc6ebdc42d", "filename": "gcc/testsuite/gcc.target/powerpc/altivec-7.c", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26029dbef7ee86c41de966163481b29c0d578bdc/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Faltivec-7.c?ref=26029dbef7ee86c41de966163481b29c0d578bdc", "patch": "@@ -18,7 +18,6 @@ vector unsigned int *vecuint;\n vector bool int *vecubi;\n vector bool char *vecubci;\n vector bool short int *vecubsi;\n-vector bool long long int *vecublli;\n vector unsigned short *vecushort;\n vector bool int *vecbint;\n vector float *vecfloat;\n@@ -50,13 +49,11 @@ int main ()\n \n   *vecubi++ = vec_unpackh(vecubsi[0]);\n   *vecuint++ = vec_unpackh(varpixel[0]);\n-  *vecublli++ = vec_unpackh(vecubi[0]);\n   *vecubsi++ = vec_unpackh(vecubci[0]);\n   *vecshort++ = vec_unpackh(vecchar[0]);\n \n   *vecubi++ = vec_unpackl(vecubsi[0]);\n   *vecuint++ = vec_unpackl(varpixel[0]);\n-  *vecublli++ = vec_unpackl(vecubi[0]);\n   *vecubsi++ = vec_unpackl(vecubci[0]);\n   *vecshort++ = vec_unpackl(vecchar[0]);\n   \n@@ -72,11 +69,9 @@ int main ()\n      vec_lvewx                      lvewx\n      vec_unpackh                    vupklsh\n      vec_unpackh                    vupklpx\n-     vec_unpackh                    vupklsw\n      vec_unpackh                    vupklsb\n      vec_unpackl                    vupkhsh\n      vec_unpackl                    vupkhpx\n-     vec_unpackl                    vupkhsw\n      vec_unpackl                    vupkhsb\n      vec_andc                       xxnor\n                                     xxland\n@@ -90,7 +85,7 @@ int main ()\n /* { dg-final { scan-assembler-times \"vpkpx\" 2 } } */\n /* { dg-final { scan-assembler-times \"vmulesb\" 1 } } */\n /* { dg-final { scan-assembler-times \"vmulosb\" 1 } } */\n-/* { dg-final { scan-assembler-times {\\mlxvd2x\\M|\\mlxv\\M} 44 { target le } } } */\n+/* { dg-final { scan-assembler-times {\\mlxvd2x\\M|\\mlxv\\M} 42 { target le } } } */\n /* { dg-final { scan-assembler-times {\\mlxvd2x\\M|\\mlxv\\M} 4 { target be } } } */\n /* { dg-final { scan-assembler-times \"lvewx\" 2 } } */\n /* { dg-final { scan-assembler-times \"lvxl\" 1 } } */\n@@ -100,12 +95,10 @@ int main ()\n /* { dg-final { scan-assembler-times \"xxland\" 4 } } */\n /* { dg-final { scan-assembler-times \"xxlxor\" 5 } } */\n /* { dg-final { scan-assembler-times \"xxlandc\" 0 } } */\n-/* { dg-final { scan-assembler-times \"xxlxor\" 5 } } */\n /* { dg-final { scan-assembler-times \"lvx\" 1 } } */\n /* { dg-final { scan-assembler-times \"vmsumubm\" 1 } } */\n /* { dg-final { scan-assembler-times \"vupklpx\" 1 } } */\n /* { dg-final { scan-assembler-times \"vupklsx\" 0 } } */\n /* { dg-final { scan-assembler-times \"vupklsb\" 2 } } */\n /* { dg-final { scan-assembler-times \"vupkhpx\" 1 } } */\n-/* { dg-final { scan-assembler-times \"vupkhsw\" 1 } } */\n /* { dg-final { scan-assembler-times \"vupkhsb\" 2 } } */"}]}