{"sha": "0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ1ZWYyYTk4NWU3NjcwYzIyYTBjZjAyZDYxNTZjNzVkZTJmNjQxYw==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2009-11-25T05:21:54Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2009-11-25T05:21:54Z"}, "message": "graphite-sese-to-poly.c (dump_alias_graphs): New.\n\n2009-10-22  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-sese-to-poly.c (dump_alias_graphs): New.\n\t(build_scop_drs): Call dump_alias_graphs.\n\nFrom-SVN: r154619", "tree": {"sha": "b5b386501ac3b896a5c96de3696e0af3396627b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5b386501ac3b896a5c96de3696e0af3396627b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5ef2a985e7670c22a0cf02d6156c75de2f641c/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f70de156ee79126bdb86837e6a2e41930c531836", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f70de156ee79126bdb86837e6a2e41930c531836", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f70de156ee79126bdb86837e6a2e41930c531836"}], "stats": {"total": 74, "additions": 43, "deletions": 31}, "files": [{"sha": "780d916e5c058aef6bd0875d5f7cf2b2386f80e8", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5ef2a985e7670c22a0cf02d6156c75de2f641c/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5ef2a985e7670c22a0cf02d6156c75de2f641c/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "patch": "@@ -1,3 +1,8 @@\n+2009-10-22  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-sese-to-poly.c (dump_alias_graphs): New.\n+\t(build_scop_drs): Call dump_alias_graphs.\n+\n 2009-10-22  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-poly.c (new_scop): Initialize SCOP_ORIGINAL_SCHEDULE,"}, {"sha": "de5bcbc94c179f54cb2cd432687e1a219764d3f4", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 38, "deletions": 31, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5ef2a985e7670c22a0cf02d6156c75de2f641c/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5ef2a985e7670c22a0cf02d6156c75de2f641c/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=0d5ef2a985e7670c22a0cf02d6156c75de2f641c", "patch": "@@ -2025,6 +2025,42 @@ build_pbb_drs (poly_bb_p pbb)\n     build_poly_dr (dr, pbb);\n }\n \n+/* Dump to file the alias graphs for the data references in DRS.  */\n+\n+static void\n+dump_alias_graphs (VEC (data_reference_p, heap) *drs)\n+{\n+  char comment[100];\n+  FILE *file_dimacs, *file_ecc, *file_dot;\n+\n+  file_dimacs = fopen (\"/tmp/dr_alias_graph_dimacs\", \"ab\");\n+  if (file_dimacs)\n+    {\n+      snprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n+\t\tcurrent_function_name ());\n+      write_alias_graph_to_ascii_dimacs (file_dimacs, comment, drs);\n+      fclose (file_dimacs);\n+    }\n+\n+  file_ecc = fopen (\"/tmp/dr_alias_graph_ecc\", \"ab\");\n+  if (file_ecc)\n+    {\n+      snprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n+\t\tcurrent_function_name ());\n+      write_alias_graph_to_ascii_ecc (file_ecc, comment, drs);\n+      fclose (file_ecc);\n+    }\n+\n+  file_dot = fopen (\"/tmp/dr_alias_graph_dot\", \"ab\");\n+  if (file_dot)\n+    {\n+      snprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n+\t\tcurrent_function_name ());\n+      write_alias_graph_to_ascii_dot (file_dot, comment, drs);\n+      fclose (file_dot);\n+    }\n+}\n+\n /* Build data references in SCOP.  */\n \n static void\n@@ -2053,37 +2089,8 @@ build_scop_drs (scop_p scop)\n \n   /* When debugging, enable the following code.  This cannot be used\n      in production compilers.  */\n-#if 0\n-  {\n-    char comment[100];\n-    FILE *file_dimacs, *file_ecc, *file_dot;\n-\n-    file_dimacs = fopen (\"/tmp/dr_alias_graph_dimacs\", \"ab\");\n-    file_ecc = fopen (\"/tmp/dr_alias_graph_ecc\", \"ab\");\n-    file_dot = fopen (\"/tmp/dr_alias_graph_dot\", \"ab\");\n-    if (file_dimacs)\n-      {\n-\tsnprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n-\t\t  current_function_name ());\n-\twrite_alias_graph_to_ascii_dimacs (file_dimacs, comment, drs);\n-\tfclose (file_dimacs);\n-      }\n-    if (file_ecc)\n-      {\n-\tsnprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n-\t\t  current_function_name ());\n-\twrite_alias_graph_to_ascii_ecc (file_ecc, comment, drs);\n-\tfclose (file_ecc);\n-      }\n-    if (file_dot)\n-      {\n-\tsnprintf (comment, sizeof (comment), \"%s %s\", main_input_filename,\n-\t\t  current_function_name ());\n-\twrite_alias_graph_to_ascii_dot (file_dot, comment, drs);\n-\tfclose (file_dot);\n-      }\n-  }\n-#endif\n+  if (0)\n+    dump_alias_graphs (drs);\n \n   VEC_free (data_reference_p, heap, drs);\n "}]}