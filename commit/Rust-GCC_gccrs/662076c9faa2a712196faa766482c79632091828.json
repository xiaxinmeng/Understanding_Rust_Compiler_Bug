{"sha": "662076c9faa2a712196faa766482c79632091828", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjYyMDc2YzlmYWEyYTcxMjE5NmZhYTc2NjQ4MmM3OTYzMjA5MTgyOA==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2018-11-19T01:04:04Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2018-11-19T01:04:04Z"}, "message": "re PR other/40498 (no_instrument_function attribute not documented to prevent -pg instrumentation)\n\n2018-11-18  Sandra Loosemore  <sandra@codesourcery.com>\n\n\tPR other/40498\n\n\tgcc/\n\t* doc/extend.texi (Common Function Attributes): Document that\n\tno_instrument_function applies to -p and -pg, too.\n\t* doc/invoke.texi (Instrumentation Options): Add cross-references\n\tto docs for -p, -pg, and -finstrument-functions.\n\nFrom-SVN: r266260", "tree": {"sha": "fe16a6268fefda48b538db31b75aae80318265e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe16a6268fefda48b538db31b75aae80318265e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/662076c9faa2a712196faa766482c79632091828", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/662076c9faa2a712196faa766482c79632091828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/662076c9faa2a712196faa766482c79632091828", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/662076c9faa2a712196faa766482c79632091828/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "45f27e5c6cae6be08879d2596b036135e75f66d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45f27e5c6cae6be08879d2596b036135e75f66d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45f27e5c6cae6be08879d2596b036135e75f66d6"}], "stats": {"total": 30, "additions": 21, "deletions": 9}, "files": [{"sha": "dd7984c741891c5ac1345cd3acc0d4980c001409", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/662076c9faa2a712196faa766482c79632091828/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/662076c9faa2a712196faa766482c79632091828/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=662076c9faa2a712196faa766482c79632091828", "patch": "@@ -1,3 +1,11 @@\n+2018-11-18  Sandra Loosemore  <sandra@codesourcery.com>\n+\n+\tPR other/40498\n+\t* doc/extend.texi (Common Function Attributes): Document that\n+\tno_instrument_function applies to -p and -pg, too.\n+\t* doc/invoke.texi (Instrumentation Options): Add cross-references\n+\tto docs for -p, -pg, and -finstrument-functions.\n+\n 2018-11-18  Alan Modra  <amodra@gmail.com>\n \n \t* config/gnu-user.h (GNU_USER_TARGET_CRTI): Define."}, {"sha": "d230da977d4f7e229c3d0e396d6e380fa3e7bcb3", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/662076c9faa2a712196faa766482c79632091828/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/662076c9faa2a712196faa766482c79632091828/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=662076c9faa2a712196faa766482c79632091828", "patch": "@@ -3015,7 +3015,10 @@ semantically equivalent function.\n @item no_instrument_function\n @cindex @code{no_instrument_function} function attribute\n @opindex finstrument-functions\n-If @option{-finstrument-functions} is given, profiling function calls are\n+@opindex p\n+@opindex pg\n+If any of @option{-finstrument-functions}, @option{-p}, or @option{-pg} are \n+given, profiling function calls are\n generated at entry and exit of most user-compiled functions.\n Functions with this attribute are not so instrumented.\n "}, {"sha": "f4fc182a24e885504e1be7e703b671dea91b5aa0", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/662076c9faa2a712196faa766482c79632091828/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/662076c9faa2a712196faa766482c79632091828/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=662076c9faa2a712196faa766482c79632091828", "patch": "@@ -11980,21 +11980,21 @@ program analysis purposes.\n \n @table @gcctabopt\n @cindex @command{prof}\n+@cindex @command{gprof}\n @item -p\n+@itemx -pg\n @opindex p\n-Generate extra code to write profile information suitable for the\n-analysis program @command{prof}.  You must use this option when compiling\n-the source files you want data about, and you must also use it when\n-linking.\n-\n-@cindex @command{gprof}\n-@item -pg\n @opindex pg\n Generate extra code to write profile information suitable for the\n-analysis program @command{gprof}.  You must use this option when compiling\n+analysis program @command{prof} (for @option{-p}) or @command{gprof}\n+(for @option{-pg}).  You must use this option when compiling\n the source files you want data about, and you must also use it when\n linking.\n \n+You can use the function attribute @code{no_instrument_function} to\n+suppress profiling of individual functions when compiling with these options.\n+@xref{Common Function Attributes}.\n+\n @item -fprofile-arcs\n @opindex fprofile-arcs\n Add code so that program flow @dfn{arcs} are instrumented.  During\n@@ -12742,6 +12742,7 @@ example, for the profiling functions listed above, high-priority\n interrupt routines, and any functions from which the profiling functions\n cannot safely be called (perhaps signal handlers, if the profiling\n routines generate output or allocate memory).\n+@xref{Common Function Attributes}.\n \n @item -finstrument-functions-exclude-file-list=@var{file},@var{file},@dots{}\n @opindex finstrument-functions-exclude-file-list"}]}