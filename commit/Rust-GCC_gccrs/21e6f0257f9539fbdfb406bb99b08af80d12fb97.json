{"sha": "21e6f0257f9539fbdfb406bb99b08af80d12fb97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFlNmYwMjU3Zjk1MzlmYmRmYjQwNmJiOTliMDhhZjgwZDEyZmI5Nw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@codesourcery.com", "date": "2003-09-29T22:21:15Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-09-29T22:21:15Z"}, "message": "target.c (FFETARGET_ATOF_): Delete.\n\nf:\n\t* target.c (FFETARGET_ATOF_): Delete.\n\t(ffetarget_real1, ffetarget_real2): Use real_from_string directly.\n\t* target.h (FFETARGET_REAL_VALUE_FROM_INT_,\n\tFFETARGET_REAL_VALUE_FROM_LONGLONG_): Use mode_for_size,\n\tdon't refer to SFmode or DFmode directly.\n\nFrom-SVN: r71922", "tree": {"sha": "ed411a0171be280752268f99928f9850f792f319", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed411a0171be280752268f99928f9850f792f319"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21e6f0257f9539fbdfb406bb99b08af80d12fb97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e6f0257f9539fbdfb406bb99b08af80d12fb97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21e6f0257f9539fbdfb406bb99b08af80d12fb97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21e6f0257f9539fbdfb406bb99b08af80d12fb97/comments", "author": null, "committer": null, "parents": [{"sha": "783be936d2f4928f74c6b8418bd17b21021ece86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/783be936d2f4928f74c6b8418bd17b21021ece86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/783be936d2f4928f74c6b8418bd17b21021ece86"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "720bfa0db9196500a9c47b64144f5849c56bad50", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=21e6f0257f9539fbdfb406bb99b08af80d12fb97", "patch": "@@ -1,3 +1,11 @@\n+2003-09-29  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* target.c (FFETARGET_ATOF_): Delete.\n+\t(ffetarget_real1, ffetarget_real2): Use real_from_string directly.\n+\t* target.h (FFETARGET_REAL_VALUE_FROM_INT_,\n+\tFFETARGET_REAL_VALUE_FROM_LONGLONG_): Use mode_for_size,\n+\tdon't refer to SFmode or DFmode directly.\n+\n 2003-09-28  Richard Henderson  <rth@redhat.com>\n \n \t* com.c (duplicate_decls): Copy DECL_SOURCE_LOCATION, not"}, {"sha": "16261120e240e7b8c9ce7e462625a9f963fda076", "filename": "gcc/f/target.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2Ftarget.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2Ftarget.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftarget.c?ref=21e6f0257f9539fbdfb406bb99b08af80d12fb97", "patch": "@@ -105,11 +105,6 @@ static void ffetarget_print_char_ (FILE *f, unsigned char c);\n \n /* Internal macros. */\n \n-#ifdef REAL_VALUE_ATOF\n-#define FFETARGET_ATOF_(p,m) REAL_VALUE_ATOF ((p),(m))\n-#else\n-#define FFETARGET_ATOF_(p,m) atof ((p))\n-#endif\n \f\n \n /* ffetarget_print_char_ -- Print a single character (in apostrophe context)\n@@ -2279,7 +2274,7 @@ ffetarget_real1 (ffetargetReal1 *value, ffelexToken integer,\n \n   {\n     REAL_VALUE_TYPE rv;\n-    rv = FFETARGET_ATOF_ (ptr, SFmode);\n+    real_from_string (&rv, ptr);\n     ffetarget_make_real1 (value, rv);\n   }\n \n@@ -2367,7 +2362,7 @@ ffetarget_real2 (ffetargetReal2 *value, ffelexToken integer,\n \n   {\n     REAL_VALUE_TYPE rv;\n-    rv = FFETARGET_ATOF_ (ptr, DFmode);\n+    real_from_string (&rv, ptr);\n     ffetarget_make_real2 (value, rv);\n   }\n "}, {"sha": "8ec73addc85cd2869a0bfe2bd1d4c29558934e81", "filename": "gcc/f/target.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2Ftarget.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21e6f0257f9539fbdfb406bb99b08af80d12fb97/gcc%2Ff%2Ftarget.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Ftarget.h?ref=21e6f0257f9539fbdfb406bb99b08af80d12fb97", "patch": "@@ -579,13 +579,13 @@ void *ffetarget_memcpy_ (void *dst, void *src, size_t len);\n #define FFETARGET_REAL_VALUE_FROM_INT_(resr, lf, kt)\t\t\\\n   REAL_VALUE_FROM_INT (resr, (HOST_WIDE_INT) lf,\t\t\\\n                        (HOST_WIDE_INT) ((lf < 0) ? -1 : 0),\t\\\n-\t\t       ((kt == 1) ? SFmode : DFmode))\n+                       mode_for_size (kt == 1 ? 32 : 64, MODE_FLOAT, 0))\n \n #if HOST_BITS_PER_LONGLONG > HOST_BITS_PER_WIDE_INT\n #define FFETARGET_REAL_VALUE_FROM_LONGLONG_(resr, lf, kt)\t\t\\\n   REAL_VALUE_FROM_INT (resr, (HOST_WIDE_INT) lf,\t\t\t\\\n \t\t       (HOST_WIDE_INT) (lf >> HOST_BITS_PER_WIDE_INT),\t\\\n-\t\t       ((kt == 1) ? SFmode : DFmode))\n+                       mode_for_size (kt == 1 ? 32 : 64, MODE_FLOAT, 0))\n #define FFETARGET_LONGLONG_FROM_INTS_(hi, lo)\t\t\\\n   (((long long int) hi << HOST_BITS_PER_WIDE_INT)\t\\\n    | (long long int) ((unsigned HOST_WIDE_INT) lo))"}]}