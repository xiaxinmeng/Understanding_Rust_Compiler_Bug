{"sha": "9645e798ba137f3edab0c560f679a433b2a460b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTY0NWU3OThiYTEzN2YzZWRhYjBjNTYwZjY3OWE0MzNiMmE0NjBiNg==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T23:58:20Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-11-03T23:58:20Z"}, "message": "trans.h (gfc_inline_intrinsic_function_p): Move prototype...\n\n\t* trans.h (gfc_inline_intrinsic_function_p): Move prototype...\n\t* gfortran.h (gfc_inline_intrinsic_function_p): ... here.\n\t* dependency.c (gfc_check_argument_var_dependency): Check dependencies\n\tof inline intrinsics' arguments.\n\nFrom-SVN: r180904", "tree": {"sha": "1043bf80209dba05a24d669559f9728afe47f6be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1043bf80209dba05a24d669559f9728afe47f6be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9645e798ba137f3edab0c560f679a433b2a460b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9645e798ba137f3edab0c560f679a433b2a460b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9645e798ba137f3edab0c560f679a433b2a460b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9645e798ba137f3edab0c560f679a433b2a460b6/comments", "author": null, "committer": null, "parents": [{"sha": "8e24054ba4b47f9a677d58f92c504ab744a752b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e24054ba4b47f9a677d58f92c504ab744a752b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e24054ba4b47f9a677d58f92c504ab744a752b8"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "a1faa78c0f20dd2dba5bef40d04711408d32ea35", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9645e798ba137f3edab0c560f679a433b2a460b6", "patch": "@@ -1,3 +1,10 @@\n+2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans.h (gfc_inline_intrinsic_function_p): Move prototype...\n+\t* gfortran.h (gfc_inline_intrinsic_function_p): ... here.\n+\t* dependency.c (gfc_check_argument_var_dependency): Check dependencies\n+\tof inline intrinsics' arguments.\n+\n 2011-11-03  Mikael Morin  <mikael@gcc.gnu.org>\n \n \t* trans-array.c (gfc_trans_preloop_setup): New pointers to outer"}, {"sha": "fd7fa73442678b1e3957ff8e9ad20ec6d6752c59", "filename": "gcc/fortran/dependency.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Fdependency.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Fdependency.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdependency.c?ref=9645e798ba137f3edab0c560f679a433b2a460b6", "patch": "@@ -713,6 +713,17 @@ gfc_check_argument_var_dependency (gfc_expr *var, sym_intent intent,\n \t    return gfc_check_fncall_dependency (var, intent, NULL,\n \t\t\t\t\t\texpr->value.function.actual,\n \t\t\t\t\t\tELEM_CHECK_VARIABLE);\n+\n+\t  if (gfc_inline_intrinsic_function_p (expr))\n+\t    {\n+\t      /* The TRANSPOSE case should have been caught in the\n+\t\t noncopying intrinsic case above.  */\n+\t      gcc_assert (expr->value.function.isym->id != GFC_ISYM_TRANSPOSE);\n+\n+\t      return gfc_check_fncall_dependency (var, intent, NULL,\n+\t\t\t\t\t\t  expr->value.function.actual,\n+\t\t\t\t\t\t  ELEM_CHECK_VARIABLE);\n+\t    }\n \t}\n       return 0;\n "}, {"sha": "b869ca353defcd4588e8c21da0d6b4fdf7898f15", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=9645e798ba137f3edab0c560f679a433b2a460b6", "patch": "@@ -2880,6 +2880,9 @@ void gfc_generate_code (gfc_namespace *);\n void gfc_generate_module_code (gfc_namespace *);\n void gfc_init_coarray_decl (bool);\n \n+/* trans-intrinsic.c */\n+bool gfc_inline_intrinsic_function_p (gfc_expr *);\n+\n /* bbt.c */\n typedef int (*compare_fn) (void *, void *);\n void gfc_insert_bbt (void *, void *, compare_fn);"}, {"sha": "5757865b3a180a32e5baa320c56d235924df68dc", "filename": "gcc/fortran/trans.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Ftrans.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9645e798ba137f3edab0c560f679a433b2a460b6/gcc%2Ffortran%2Ftrans.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans.h?ref=9645e798ba137f3edab0c560f679a433b2a460b6", "patch": "@@ -396,9 +396,6 @@ tree gfc_builtin_decl_for_float_kind (enum built_in_function, int);\n tree gfc_conv_intrinsic_subroutine (gfc_code *);\n void gfc_conv_intrinsic_function (gfc_se *, gfc_expr *);\n \n-/* Is the intrinsic expanded inline.  */\n-bool gfc_inline_intrinsic_function_p (gfc_expr *);\n-\n /* Does an intrinsic map directly to an external library call\n    This is true for array-returning intrinsics, unless\n    gfc_inline_intrinsic_function_p returns true.  */"}]}