{"sha": "f2f81d570826c20c299a3509d1b0866f0e9a9afd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJmODFkNTcwODI2YzIwYzI5OWEzNTA5ZDFiMDg2NmYwZTlhOWFmZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-03-22T10:14:07Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-03-22T10:14:07Z"}, "message": "* gimplify.c (gimplify_cond_expr): Gimplify COMPOUND_EXPR conditions.\n\nFrom-SVN: r171282", "tree": {"sha": "808d519b33d7dd476efaf6d387a09d9b464bd020", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/808d519b33d7dd476efaf6d387a09d9b464bd020"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2f81d570826c20c299a3509d1b0866f0e9a9afd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2f81d570826c20c299a3509d1b0866f0e9a9afd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2f81d570826c20c299a3509d1b0866f0e9a9afd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2f81d570826c20c299a3509d1b0866f0e9a9afd/comments", "author": null, "committer": null, "parents": [{"sha": "ab081dd6234db09f2d8023f1f09777fc8cf10efb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab081dd6234db09f2d8023f1f09777fc8cf10efb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab081dd6234db09f2d8023f1f09777fc8cf10efb"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "c6d5fe915b0463da05a596ec2d773bad5cf64bc2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f81d570826c20c299a3509d1b0866f0e9a9afd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f81d570826c20c299a3509d1b0866f0e9a9afd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f2f81d570826c20c299a3509d1b0866f0e9a9afd", "patch": "@@ -1,3 +1,7 @@\n+2011-03-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gimplify.c (gimplify_cond_expr): Gimplify COMPOUND_EXPR conditions.\n+\n 2011-03-22  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* config/s390/s390.c (s390_delegitimize_address): Fix offset"}, {"sha": "e48409d4a7469bb7172c9c6f71dc96d32c3d411b", "filename": "gcc/gimplify.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2f81d570826c20c299a3509d1b0866f0e9a9afd/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2f81d570826c20c299a3509d1b0866f0e9a9afd/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=f2f81d570826c20c299a3509d1b0866f0e9a9afd", "patch": "@@ -2992,6 +2992,11 @@ gimplify_cond_expr (tree *expr_p, gimple_seq *pre_p, fallback_t fallback)\n       return GS_ALL_DONE;\n     }\n \n+  /* Remove any COMPOUND_EXPR so the following cases will be caught.  */\n+  STRIP_TYPE_NOPS (TREE_OPERAND (expr, 0));\n+  if (TREE_CODE (TREE_OPERAND (expr, 0)) == COMPOUND_EXPR)\n+    gimplify_compound_expr (&TREE_OPERAND (expr, 0), pre_p, true);\n+\n   /* Make sure the condition has BOOLEAN_TYPE.  */\n   TREE_OPERAND (expr, 0) = gimple_boolify (TREE_OPERAND (expr, 0));\n "}]}