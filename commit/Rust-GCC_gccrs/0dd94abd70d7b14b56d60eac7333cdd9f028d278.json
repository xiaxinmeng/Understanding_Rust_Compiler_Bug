{"sha": "0dd94abd70d7b14b56d60eac7333cdd9f028d278", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRkOTRhYmQ3MGQ3YjE0YjU2ZDYwZWFjNzMzM2NkZDlmMDI4ZDI3OA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-07-23T15:27:33Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-07-23T15:27:33Z"}, "message": "flow.c (try_simplify_condjump): Unlink insn chain on fallthru edge; use can_fallthru.\n\n\n\t* flow.c (try_simplify_condjump): Unlink insn chain on\n\tfallthru edge; use can_fallthru.\n\nFrom-SVN: r44268", "tree": {"sha": "ea8d0ee2d60a45012614cd8b419e733902d4bfca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea8d0ee2d60a45012614cd8b419e733902d4bfca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0dd94abd70d7b14b56d60eac7333cdd9f028d278", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dd94abd70d7b14b56d60eac7333cdd9f028d278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0dd94abd70d7b14b56d60eac7333cdd9f028d278", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dd94abd70d7b14b56d60eac7333cdd9f028d278/comments", "author": null, "committer": null, "parents": [{"sha": "0005550b5832aa6f0a3d7f343319c6b5b327dde8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0005550b5832aa6f0a3d7f343319c6b5b327dde8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0005550b5832aa6f0a3d7f343319c6b5b327dde8"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "642408d7876bdd48ca7996b5eb86c06a38994341", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dd94abd70d7b14b56d60eac7333cdd9f028d278/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dd94abd70d7b14b56d60eac7333cdd9f028d278/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0dd94abd70d7b14b56d60eac7333cdd9f028d278", "patch": "@@ -1,3 +1,8 @@\n+Mon Jul 23 17:20:18 CEST 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* flow.c (try_simplify_condjump): Unlink insn chain on\n+\tfallthru edge; use can_fallthru.\n+\n Mon Jul 23 16:03:19 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* basic-block.h (find_sub_basic_block): Declare."}, {"sha": "12712f26a8300dbc956305cafafee4b033de270f", "filename": "gcc/flow.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dd94abd70d7b14b56d60eac7333cdd9f028d278/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dd94abd70d7b14b56d60eac7333cdd9f028d278/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=0dd94abd70d7b14b56d60eac7333cdd9f028d278", "patch": "@@ -3056,7 +3056,8 @@ try_simplify_condjump (cbranch_block)\n   /* The conditional branch must target the block after the\n      unconditional branch.  */\n   cbranch_dest_block = cbranch_jump_edge->dest;\n-  if (cbranch_dest_block->index != jump_block->index + 1)\n+\n+  if (!can_fallthru (jump_block, cbranch_dest_block))\n     return false;\n \n   /* Invert the conditional branch.  Prevent jump.c from deleting\n@@ -3079,6 +3080,10 @@ try_simplify_condjump (cbranch_block)\n   cbranch_fallthru_edge->flags &= ~EDGE_FALLTHRU;\n   \n   flow_delete_block (jump_block);\n+  /* Selectively unlink the sequence.  */\n+  if (cbranch_jump_edge->src->end != PREV_INSN (cbranch_jump_edge->dest->head))\n+    flow_delete_insn_chain (NEXT_INSN (cbranch_jump_edge->src->end),\n+\t\t\t    PREV_INSN (cbranch_jump_edge->dest->head));\n   return true;\n }\n "}]}