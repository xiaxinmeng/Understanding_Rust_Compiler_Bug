{"sha": "38700ceee72fb7b538a291c7e69e0d86f08f8fba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg3MDBjZWVlNzJmYjdiNTM4YTI5MWM3ZTY5ZTBkODZmMDhmOGZiYQ==", "commit": {"author": {"name": "Steven Bosscher", "email": "stevenb@suse.de", "date": "2003-12-18T17:07:24Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2003-12-18T17:07:24Z"}, "message": "Makefile.in (tracer.o, [...]): Depend on timevar.h\n\n\t* Makefile.in (tracer.o, bb-reorder.o): Depend on timevar.h\n\t* toplev.c (rest_of_handle_reorder_blocks, rest_of_handle_tracer):\n\tDon't push and pop TV_REORDER_BLOCKS timevars, do it...\n\t* bb-reorder.c (reorder_basic_blocks): ...here, and...\n\t* tracer.c (tracer): here.\n\nFrom-SVN: r74786", "tree": {"sha": "02ee9c392331f8b4680db305916ff07138f9fa99", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02ee9c392331f8b4680db305916ff07138f9fa99"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38700ceee72fb7b538a291c7e69e0d86f08f8fba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38700ceee72fb7b538a291c7e69e0d86f08f8fba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38700ceee72fb7b538a291c7e69e0d86f08f8fba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38700ceee72fb7b538a291c7e69e0d86f08f8fba/comments", "author": null, "committer": null, "parents": [{"sha": "a7296ae157c63b44cb2c950fb4a3cc91131b521d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7296ae157c63b44cb2c950fb4a3cc91131b521d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7296ae157c63b44cb2c950fb4a3cc91131b521d"}], "stats": {"total": 28, "additions": 22, "deletions": 6}, "files": [{"sha": "a793fcf2646bc3ff09c586f3deef4dee507f09b4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=38700ceee72fb7b538a291c7e69e0d86f08f8fba", "patch": "@@ -1,3 +1,11 @@\n+2003-12-18  Steven Bosscher  <stevenb@suse.de>\n+\n+\t* Makefile.in (tracer.o, bb-reorder.o): Depend on timevar.h\n+\t* toplev.c (rest_of_handle_reorder_blocks, rest_of_handle_tracer):\n+\tDon't push and pop TV_REORDER_BLOCKS timevars, do it...\n+\t* bb-reorder.c (reorder_basic_blocks): ...here, and...\n+\t* tracer.c (tracer): here.\n+\n 2003-12-18  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* loop.c (move_movables): Handle combination of m->consec, "}, {"sha": "75d6e76f3888bb78ca816123701f5ebd919d5e3e", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=38700ceee72fb7b538a291c7e69e0d86f08f8fba", "patch": "@@ -1815,10 +1815,10 @@ predict.o: predict.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(TREE\n    $(PARAMS_H) $(TARGET_H) cfgloop.h $(COVERAGE_H)\n lists.o: lists.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) toplev.h $(RTL_H) $(GGC_H)\n bb-reorder.o : bb-reorder.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n-   $(RTL_H) $(BASIC_BLOCK_H) flags.h output.h cfglayout.h $(FIBHEAP_H) \\\n+   $(RTL_H) $(BASIC_BLOCK_H) flags.h timevar.h output.h cfglayout.h $(FIBHEAP_H) \\\n    $(TARGET_H)\n tracer.o : tracer.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(RTL_H) $(TREE_H) \\\n-   $(BASIC_BLOCK_H) hard-reg-set.h output.h cfglayout.h flags.h \\\n+   $(BASIC_BLOCK_H) hard-reg-set.h output.h cfglayout.h flags.h timevar.h \\\n    $(PARAMS_H) $(COVERAGE_H)\n cfglayout.o : cfglayout.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) \\\n    $(RTL_H) $(TREE_H) insn-config.h $(BASIC_BLOCK_H) hard-reg-set.h output.h \\"}, {"sha": "85e184dd719417cd1dc69928171d9d7632048bb8", "filename": "gcc/bb-reorder.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Fbb-reorder.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Fbb-reorder.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbb-reorder.c?ref=38700ceee72fb7b538a291c7e69e0d86f08f8fba", "patch": "@@ -72,6 +72,7 @@\n #include \"rtl.h\"\n #include \"basic-block.h\"\n #include \"flags.h\"\n+#include \"timevar.h\"\n #include \"output.h\"\n #include \"cfglayout.h\"\n #include \"fibheap.h\"\n@@ -1064,6 +1065,8 @@ reorder_basic_blocks (void)\n   if ((* targetm.cannot_modify_jumps_p) ())\n     return;\n \n+  timevar_push (TV_REORDER_BLOCKS);\n+\n   cfg_layout_initialize ();\n \n   set_edge_can_fallthru_flag ();\n@@ -1096,4 +1099,6 @@ reorder_basic_blocks (void)\n     dump_flow_info (rtl_dump_file);\n \n   cfg_layout_finalize ();\n+\n+  timevar_pop (TV_REORDER_BLOCKS);\n }"}, {"sha": "252fe41918738016afdd8a1a3294221fe0c1b7c5", "filename": "gcc/toplev.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=38700ceee72fb7b538a291c7e69e0d86f08f8fba", "patch": "@@ -2298,7 +2298,6 @@ rest_of_handle_regrename (tree decl, rtx insns)\n static void\n rest_of_handle_reorder_blocks (tree decl, rtx insns)\n {\n-  timevar_push (TV_REORDER_BLOCKS);\n   open_dump_file (DFI_bbro, decl);\n \n   /* Last attempt to optimize CFG, as scheduling, peepholing and insn\n@@ -2315,7 +2314,6 @@ rest_of_handle_reorder_blocks (tree decl, rtx insns)\n     cleanup_cfg (CLEANUP_EXPENSIVE | CLEANUP_UPDATE_LIFE);\n \n   close_dump_file (DFI_bbro, print_rtl_with_bb, insns);\n-  timevar_pop (TV_REORDER_BLOCKS);\n }\n \n #ifdef INSN_SCHEDULING\n@@ -2394,15 +2392,13 @@ rest_of_handle_regmove (tree decl, rtx insns)\n static void\n rest_of_handle_tracer (tree decl, rtx insns)\n {\n-  timevar_push (TV_TRACER);\n   open_dump_file (DFI_tracer, decl);\n   if (rtl_dump_file)\n     dump_flow_info (rtl_dump_file);\n   tracer ();\n   cleanup_cfg (CLEANUP_EXPENSIVE);\n   reg_scan (insns, max_reg_num (), 0);\n   close_dump_file (DFI_tracer, print_rtl_with_bb, get_insns ());\n-  timevar_pop (TV_TRACER);\n }\n \n /* If-conversion and CFG cleanup.  */"}, {"sha": "4769a47632f9fadd87a2a9383b4d607525295d85", "filename": "gcc/tracer.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Ftracer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38700ceee72fb7b538a291c7e69e0d86f08f8fba/gcc%2Ftracer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftracer.c?ref=38700ceee72fb7b538a291c7e69e0d86f08f8fba", "patch": "@@ -45,6 +45,7 @@\n #include \"cfglayout.h\"\n #include \"fibheap.h\"\n #include \"flags.h\"\n+#include \"timevar.h\"\n #include \"params.h\"\n #include \"coverage.h\"\n \n@@ -360,6 +361,9 @@ tracer (void)\n {\n   if (n_basic_blocks <= 1)\n     return;\n+\n+  timevar_push (TV_TRACER);\n+\n   cfg_layout_initialize ();\n   mark_dfs_back_edges ();\n   if (rtl_dump_file)\n@@ -369,6 +373,9 @@ tracer (void)\n   if (rtl_dump_file)\n     dump_flow_info (rtl_dump_file);\n   cfg_layout_finalize ();\n+\n   /* Merge basic blocks in duplicated traces.  */\n   cleanup_cfg (CLEANUP_EXPENSIVE);\n+\n+  timevar_pop (TV_TRACER);\n }"}]}