{"sha": "30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBmNGMyNWRkODRiNmY0YmZiMmY1YWVjNzIyNzUzZTZkNTUxNzBlNQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@geoffk.org", "date": "2007-12-23T00:57:19Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2007-12-23T00:57:19Z"}, "message": "widget.html: Mark as HTML 4.01, which it now is, rather than XHTML, which it never was.\n\n\t* GCC_Regression_Tester.wdgt/widget.html: Mark as HTML 4.01,\n\twhich it now is, rather than XHTML, which it never was.\n\t(<head>): Mark as UTF-8.  Add title.  Move CSS to top of\n\tdocument, specify type.  Mark script as 'defer'.\n\t(updateContents): If loaded from HTTP, look for status in same\n\tplace as widget.\n\t(gotContents): Use DOM methods to change text rather than innerHTML.\n\t(<body>): Eliminate unnecessary DIV element.\n\t* GCC_Regression_Tester.wdgt/Info.plist: Update version, copyright\n\tnotice.\n\nFrom-SVN: r131145", "tree": {"sha": "0b5c44ba2aced805a7a616d4c194eb2f71fa4295", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0b5c44ba2aced805a7a616d4c194eb2f71fa4295"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/comments", "author": {"login": "geoffk02", "id": 34037634, "node_id": "MDQ6VXNlcjM0MDM3NjM0", "avatar_url": "https://avatars.githubusercontent.com/u/34037634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk02", "html_url": "https://github.com/geoffk02", "followers_url": "https://api.github.com/users/geoffk02/followers", "following_url": "https://api.github.com/users/geoffk02/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk02/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk02/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk02/subscriptions", "organizations_url": "https://api.github.com/users/geoffk02/orgs", "repos_url": "https://api.github.com/users/geoffk02/repos", "events_url": "https://api.github.com/users/geoffk02/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk02/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6eddcb0d5624eae4ab1f08609eb31804f8e8207d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eddcb0d5624eae4ab1f08609eb31804f8e8207d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eddcb0d5624eae4ab1f08609eb31804f8e8207d"}], "stats": {"total": 81, "additions": 46, "deletions": 35}, "files": [{"sha": "77f284b9d85c95bc3dd87b87e5dac1561e176930", "filename": "contrib/regression/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fregression%2FChangeLog?ref=30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "patch": "@@ -1,3 +1,16 @@\n+2007-12-22  Geoff Keating  <geoffk@geoffk.org>\n+\n+\t* GCC_Regression_Tester.wdgt/widget.html: Mark as HTML 4.01,\n+\twhich it now is, rather than XHTML, which it never was.\n+\t(<head>): Mark as UTF-8.  Add title.  Move CSS to top of\n+\tdocument, specify type.  Mark script as 'defer'.\n+\t(updateContents): If loaded from HTTP, look for status in same\n+\tplace as widget.\n+\t(gotContents): Use DOM methods to change text rather than innerHTML.\n+\t(<body>): Eliminate unnecessary DIV element.\n+\t* GCC_Regression_Tester.wdgt/Info.plist: Update version, copyright\n+\tnotice.\n+\n 2006-09-05  Geoffrey Keating  <geoffk@apple.com>\n \n \t* btest-gcc.sh: .bad_compare has moved to toplevel from gcc/."}, {"sha": "a011e69a38f74c33de8b34f27601bcc62624c6e7", "filename": "contrib/regression/GCC_Regression_Tester.wdgt/Info.plist", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2FInfo.plist", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2FInfo.plist", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2FInfo.plist?ref=30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "patch": "@@ -11,9 +11,9 @@\n \t<key>CFBundleName</key>\n \t<string>GCC Regr. Tester</string>\n \t<key>CFBundleShortVersionString</key>\n-\t<string>1.0.1</string>\n+\t<string>1.0.2</string>\n \t<key>CFBundleVersion</key>\n-\t<string>1.0.1</string>\n+\t<string>1.0.2</string>\n \t<key>CloseBoxInsetX</key>\n \t<integer>0</integer>\n \t<key>CloseBoxInsetY</key>\n@@ -25,7 +25,7 @@\n \t<key>MainHTML</key>\n \t<string>widget.html</string>\n \t<key>NSHumanReadableCopyright</key>\n-\t<string>Copyright \u00a9 2005 Free Software Foundation, Inc.</string>\n+\t<string>Copyright \u00a9 2005, 2007 Free Software Foundation, Inc.</string>\n \t<key>Width</key>\n \t<integer>261</integer>\n </dict>"}, {"sha": "94f44ad3f828230cf94cc244e8c0f7eb6199bb87", "filename": "contrib/regression/GCC_Regression_Tester.wdgt/widget.html", "status": "modified", "additions": 30, "deletions": 32, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2Fwidget.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30f4c25dd84b6f4bfb2f5aec722753e6d55170e5/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2Fwidget.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fregression%2FGCC_Regression_Tester.wdgt%2Fwidget.html?ref=30f4c25dd84b6f4bfb2f5aec722753e6d55170e5", "patch": "@@ -1,5 +1,5 @@\n <!-- Get and update the GCC regression tester's web page.\n-     Copyright (C) 2005 Free Software Foundation, Inc.\n+     Copyright (C) 2005, 2007 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -17,15 +17,28 @@\n along with GCC; see the file COPYING.  If not, write to the Free\n Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA\n 02110-1301, USA.  -->\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!DOCTYPE html \n-     PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n-     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n-<html xmlns=\"http://www.w3.org/1999/xhtml\">\n-<META http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n-\n+<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"\n+        \"http://www.w3.org/TR/html4/strict.dtd\">\n <head>\n-<script type='text/javascript'>\n+<meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\">\n+<meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\">\n+<title>Regression Tester Status</title>\n+<style type='text/css'>\n+body {\n+\tmargin: 0px;\n+\tpadding: 0px;\n+}\n+pre {\n+\tfont-family: Monaco;\n+\tfont-size: 9px;\n+\tmargin: 0px;\n+\tpadding: 1px 2px 1px 2px;\n+\tcolor: black;\n+\tbackground-color: white;\n+\topacity: 0.8;\n+}\n+</style>\n+<script type='text/javascript' defer>\n // A string representing NUM, with a leading zero if it would be 1 digit long\n function dig2 (num) \n {\n@@ -64,6 +77,9 @@\n // Update the data\n function updateContents () {\n     var url = 'http://gcc.gnu.org/regtest/HEAD/status.txt';\n+    if (document.URL && document.URL.substring (0,5) == 'http:') {\n+\turl = document.URL.replace ('widget.html','status.txt');\n+    }\n     var xml_request = new XMLHttpRequest();\n     \n     xml_request.onload = function(e) \n@@ -82,12 +98,7 @@\n     if (! request.responseText)\n \treturn;\n \n-    var txt = (request.responseText\n-\t       .replace (/&/g,\"&amp;\")\n-\t       .replace (/</g,\"&lt;\")\n-\t       .replace (/&quot;/g,\"&quot;\")\n-\t       .replace (/>;/g,\"&gt;\"));\n-    \n+    var txt = request.responseText;\n     var today = new Date();\n     var date_r = fromISO (txt, \"Date\");\n     var completed_r = fromISO (txt, \"Test-Completed\");\n@@ -102,7 +113,9 @@\n \t}\n \n     var val = txt + \"Now: \" + getISO (today) + '\\n' + eta;\n-    document.getElementById (\"contents\").innerHTML = \"<pre>\"+val+\"<\\/pre>\";\n+    var contEl = document.getElementById (\"contents\");\n+    contEl.removeChild(contEl.firstChild);\n+    contEl.appendChild (document.createTextNode (val));\n }\n \n var mainTimer = null;\n@@ -132,24 +145,9 @@\n     myOnShow();\n }\n </script>\n-<style>\n-body {\n-\tmargin: 0px;\n-\tpadding: 0px;\n-}\n-pre {\n-\tfont-family: Monaco;\n-\tfont-size: 9px;\n-\tmargin: 0px;\n-\tpadding: 1px 2px 1px 2px;\n-\tcolor: black;\n-\tbackground-color: white;\n-\topacity: 0.8;\n-}\n-</style>\n </head>\n \n <body onLoad='myOnLoad();'>\n-<div id=\"contents\">Loading...</div>\n+<pre id=\"contents\">Loading...</pre>\n </body>\n </html>"}]}