{"sha": "796bb3734a77e914b31b48811eebe0523f334f9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk2YmIzNzM0YTc3ZTkxNGIzMWI0ODgxMWVlYmUwNTIzZjMzNGY5Yw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-06-24T20:17:42Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-06-24T20:17:42Z"}, "message": "(build_c_cast): Issue a warning for non-matching cast from a function\ncall (like malloc without proto).\n\nFrom-SVN: r7562", "tree": {"sha": "e7a4e69fdc356ce5f59c555f1d9a072774b1d55b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7a4e69fdc356ce5f59c555f1d9a072774b1d55b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/796bb3734a77e914b31b48811eebe0523f334f9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/796bb3734a77e914b31b48811eebe0523f334f9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/796bb3734a77e914b31b48811eebe0523f334f9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/796bb3734a77e914b31b48811eebe0523f334f9c/comments", "author": null, "committer": null, "parents": [{"sha": "5c8902bb1a4e99e69a1d9daeae1165bc7abcbf76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c8902bb1a4e99e69a1d9daeae1165bc7abcbf76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c8902bb1a4e99e69a1d9daeae1165bc7abcbf76"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "80c236f36262d560c7ccd13d86d7b1bac7192ed0", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/796bb3734a77e914b31b48811eebe0523f334f9c/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/796bb3734a77e914b31b48811eebe0523f334f9c/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=796bb3734a77e914b31b48811eebe0523f334f9c", "patch": "@@ -3606,6 +3606,11 @@ build_c_cast (type, expr)\n \t  && !TREE_CONSTANT (value))\n \twarning (\"cast from pointer to integer of different size\");\n \n+      if (warn_bad_function_cast\n+\t  && TREE_CODE (value) == CALL_EXPR\n+\t  && TREE_CODE (type) != TREE_CODE (otype))\n+\twarning (\"cast does not match function type\");\n+\n       if (TREE_CODE (type) == POINTER_TYPE\n \t  && TREE_CODE (otype) == INTEGER_TYPE\n \t  && TYPE_PRECISION (type) != TYPE_PRECISION (otype)"}]}