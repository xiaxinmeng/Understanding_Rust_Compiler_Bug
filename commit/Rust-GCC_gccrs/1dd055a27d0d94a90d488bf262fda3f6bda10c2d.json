{"sha": "1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRkMDU1YTI3ZDBkOTRhOTBkNDg4YmYyNjJmZGEzZjZiZGExMGMyZA==", "commit": {"author": {"name": "James Greenhalgh", "email": "james.greenhalgh@arm.com", "date": "2014-01-23T14:56:50Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2014-01-23T14:56:50Z"}, "message": "[AArch64_BE 3/4] Big-Endian lane numbering fix\n\n2014-01-23  James Greenhalgh  <james.greenhalgh@arm.com>\n\n\t* config/aarch64/aarch64-simd.md\n\t(aarch64_dup_lane<mode>): Correct lane number on big-endian.\n\t(aarch64_dup_lane_<vswap_widthi_name><mode>): Likewise.\n\t(*aarch64_mul3_elt<mode>): Likewise.\n\t(*aarch64_mul3_elt<vswap_width_name><mode>): Likewise.\n\t(*aarch64_mul3_elt_to_64v2df): Likewise.\n\t(*aarch64_mla_elt<mode>): Likewise.\n\t(*aarch64_mla_elt_<vswap_width_name><mode>): Likewise.\n\t(*aarch64_mls_elt<mode>): Likewise.\n\t(*aarch64_mls_elt_<vswap_width_name><mode>): Likewise.\n\t(*aarch64_fma4_elt<mode>): Likewise.\n\t(*aarch64_fma4_elt_<vswap_width_name><mode>): Likewise.\n\t(*aarch64_fma4_elt_to_64v2df): Likewise.\n\t(*aarch64_fnma4_elt<mode>): Likewise.\n\t(*aarch64_fnma4_elt_<vswap_width_name><mode>): Likewise.\n\t(*aarch64_fnma4_elt_to_64v2df): Likewise.\n\t(aarch64_sq<r>dmulh_lane<mode>): Likewise.\n\t(aarch64_sq<r>dmulh_laneq<mode>): Likewise.\n\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n\t(aarch64_sqdml<SBINQOPS:as>l2_lane<mode>_internal): Likewise.\n\t(aarch64_sqdmull_lane<mode>_internal): Likewise.\n\t(aarch64_sqdmull2_lane<mode>_internal): Likewise.\n\nFrom-SVN: r206972", "tree": {"sha": "6da1602144d91d76f68b2cd4af2491ba41b748d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6da1602144d91d76f68b2cd4af2491ba41b748d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dd055a27d0d94a90d488bf262fda3f6bda10c2d/comments", "author": {"login": "jgreenhalgh-arm", "id": 6104025, "node_id": "MDQ6VXNlcjYxMDQwMjU=", "avatar_url": "https://avatars.githubusercontent.com/u/6104025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgreenhalgh-arm", "html_url": "https://github.com/jgreenhalgh-arm", "followers_url": "https://api.github.com/users/jgreenhalgh-arm/followers", "following_url": "https://api.github.com/users/jgreenhalgh-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jgreenhalgh-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgreenhalgh-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgreenhalgh-arm/subscriptions", "organizations_url": "https://api.github.com/users/jgreenhalgh-arm/orgs", "repos_url": "https://api.github.com/users/jgreenhalgh-arm/repos", "events_url": "https://api.github.com/users/jgreenhalgh-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jgreenhalgh-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dafb9b6489ef1b45a0831e46d85aa9933de4428e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dafb9b6489ef1b45a0831e46d85aa9933de4428e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dafb9b6489ef1b45a0831e46d85aa9933de4428e"}], "stats": {"total": 143, "additions": 122, "deletions": 21}, "files": [{"sha": "c00a9553d0b79d82a8b1145e4cd776e01648bfe5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dd055a27d0d94a90d488bf262fda3f6bda10c2d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dd055a27d0d94a90d488bf262fda3f6bda10c2d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "patch": "@@ -1,3 +1,29 @@\n+2014-01-23  James Greenhalgh  <james.greenhalgh@arm.com>\n+\n+\t* config/aarch64/aarch64-simd.md\n+\t(aarch64_dup_lane<mode>): Correct lane number on big-endian.\n+\t(aarch64_dup_lane_<vswap_widthi_name><mode>): Likewise.\n+\t(*aarch64_mul3_elt<mode>): Likewise.\n+\t(*aarch64_mul3_elt<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_mul3_elt_to_64v2df): Likewise.\n+\t(*aarch64_mla_elt<mode>): Likewise.\n+\t(*aarch64_mla_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_mls_elt<mode>): Likewise.\n+\t(*aarch64_mls_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_fma4_elt<mode>): Likewise.\n+\t(*aarch64_fma4_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_fma4_elt_to_64v2df): Likewise.\n+\t(*aarch64_fnma4_elt<mode>): Likewise.\n+\t(*aarch64_fnma4_elt_<vswap_width_name><mode>): Likewise.\n+\t(*aarch64_fnma4_elt_to_64v2df): Likewise.\n+\t(aarch64_sq<r>dmulh_lane<mode>): Likewise.\n+\t(aarch64_sq<r>dmulh_laneq<mode>): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdml<SBINQOPS:as>l2_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdmull_lane<mode>_internal): Likewise.\n+\t(aarch64_sqdmull2_lane<mode>_internal): Likewise.\n+\n 2013-01-23  Alex Velenko  <Alex.Velenko@arm.com>\n \n \t* config/aarch64/aarch64-simd.md"}, {"sha": "680b943414016d41dd0b01e6996c4d586244630e", "filename": "gcc/config/aarch64/aarch64-simd.md", "status": "modified", "additions": 96, "deletions": 21, "changes": 117, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dd055a27d0d94a90d488bf262fda3f6bda10c2d/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dd055a27d0d94a90d488bf262fda3f6bda10c2d/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md?ref=1dd055a27d0d94a90d488bf262fda3f6bda10c2d", "patch": "@@ -67,7 +67,10 @@\n \t    (parallel [(match_operand:SI 2 \"immediate_operand\" \"i\")])\n           )))]\n   \"TARGET_SIMD\"\n-  \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_dup<q>\")]\n )\n \n@@ -79,7 +82,11 @@\n \t    (parallel [(match_operand:SI 2 \"immediate_operand\" \"i\")])\n           )))]\n   \"TARGET_SIMD\"\n-  \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"dup\\\\t%0.<Vtype>, %1.<Vetype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_dup<q>\")]\n )\n \n@@ -288,7 +295,10 @@\n \t    (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n       (match_operand:VMUL 3 \"register_operand\" \"w\")))]\n   \"TARGET_SIMD\"\n-  \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon<fp>_mul_<Vetype>_scalar<q>\")]\n )\n \n@@ -301,7 +311,11 @@\n \t    (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n       (match_operand:VMUL_CHANGE_NLANES 3 \"register_operand\" \"w\")))]\n   \"TARGET_SIMD\"\n-  \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"<f>mul\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vetype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon<fp>_mul_<Vetype>_scalar<q>\")]\n )\n \n@@ -324,7 +338,10 @@\n \t (parallel [(match_operand:SI 2 \"immediate_operand\")]))\n        (match_operand:DF 3 \"register_operand\" \"w\")))]\n   \"TARGET_SIMD\"\n-  \"fmul\\\\t%0.2d, %3.2d, %1.d[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (V2DFmode, INTVAL (operands[2])));\n+    return \"fmul\\\\t%0.2d, %3.2d, %1.d[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mul_d_scalar_q\")]\n )\n \n@@ -783,7 +800,10 @@\n \t   (match_operand:VDQHS 3 \"register_operand\" \"w\"))\n \t (match_operand:VDQHS 4 \"register_operand\" \"0\")))]\n  \"TARGET_SIMD\"\n- \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -798,7 +818,11 @@\n \t   (match_operand:VDQHS 3 \"register_operand\" \"w\"))\n \t (match_operand:VDQHS 4 \"register_operand\" \"0\")))]\n  \"TARGET_SIMD\"\n- \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"mla\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -823,7 +847,10 @@\n \t\t  (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n \t   (match_operand:VDQHS 3 \"register_operand\" \"w\"))))]\n  \"TARGET_SIMD\"\n- \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -838,7 +865,11 @@\n \t\t  (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n \t   (match_operand:VDQHS 3 \"register_operand\" \"w\"))))]\n  \"TARGET_SIMD\"\n- \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"mls\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -1237,7 +1268,10 @@\n       (match_operand:VDQF 3 \"register_operand\" \"w\")\n       (match_operand:VDQF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -1251,7 +1285,11 @@\n       (match_operand:VDQSF 3 \"register_operand\" \"w\")\n       (match_operand:VDQSF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"fmla\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -1276,7 +1314,10 @@\n       (match_operand:DF 3 \"register_operand\" \"w\")\n       (match_operand:DF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmla\\\\t%0.2d, %3.2d, %1.2d[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (V2DFmode, INTVAL (operands[2])));\n+    return \"fmla\\\\t%0.2d, %3.2d, %1.2d[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_d_scalar_q\")]\n )\n \n@@ -1303,7 +1344,10 @@\n \t  (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n       (match_operand:VDQF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<MODE>mode, INTVAL (operands[2])));\n+    return \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -1318,7 +1362,11 @@\n \t  (parallel [(match_operand:SI 2 \"immediate_operand\")])))\n       (match_operand:VDQSF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (<VSWAP_WIDTH>mode,\n+\t\t\t\t\t  INTVAL (operands[2])));\n+    return \"fmls\\\\t%0.<Vtype>, %3.<Vtype>, %1.<Vtype>[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_<Vetype>_scalar<q>\")]\n )\n \n@@ -1345,7 +1393,10 @@\n         (match_operand:DF 3 \"register_operand\" \"w\"))\n       (match_operand:DF 4 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD\"\n-  \"fmls\\\\t%0.2d, %3.2d, %1.2d[%2]\"\n+  {\n+    operands[2] = GEN_INT (ENDIAN_LANE_N (V2DFmode, INTVAL (operands[2])));\n+    return \"fmls\\\\t%0.2d, %3.2d, %1.2d[%2]\";\n+  }\n   [(set_attr \"type\" \"neon_fp_mla_d_scalar_q\")]\n )\n \n@@ -2542,6 +2593,7 @@\n   \"TARGET_SIMD\"\n   \"*\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCOND>mode));\n+   operands[3] = GEN_INT (ENDIAN_LANE_N (<VCOND>mode, INTVAL (operands[3])));\n    return \\\"sq<r>dmulh\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vetype>[%3]\\\";\"\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")]\n )\n@@ -2557,6 +2609,7 @@\n   \"TARGET_SIMD\"\n   \"*\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCONQ>mode));\n+   operands[3] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[3])));\n    return \\\"sq<r>dmulh\\\\t%0.<Vtype>, %1.<Vtype>, %2.<Vetype>[%3]\\\";\"\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")]\n )\n@@ -2572,6 +2625,7 @@\n   \"TARGET_SIMD\"\n   \"*\n    aarch64_simd_lane_bounds (operands[3], 0, GET_MODE_NUNITS (<VCONQ>mode));\n+   operands[3] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[3])));\n    return \\\"sq<r>dmulh\\\\t%<v>0, %<v>1, %2.<v>[%3]\\\";\"\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar<q>\")]\n )\n@@ -2612,7 +2666,11 @@\n               ))\n \t    (const_int 1))))]\n   \"TARGET_SIMD\"\n-  \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n+  {\n+    operands[4] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[4])));\n+    return\n+      \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")]\n )\n \n@@ -2631,7 +2689,11 @@\n               )\n \t    (const_int 1))))]\n   \"TARGET_SIMD\"\n-  \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n+  {\n+    operands[4] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[4])));\n+    return\n+      \"sqdml<SBINQOPS:as>l\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")]\n )\n \n@@ -2782,7 +2844,11 @@\n \t\t    ))))\n \t      (const_int 1))))]\n   \"TARGET_SIMD\"\n-  \"sqdml<SBINQOPS:as>l2\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\"\n+  {\n+    operands[4] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[4])));\n+    return\n+     \"sqdml<SBINQOPS:as>l2\\\\t%<vw2>0<Vmwtype>, %<v>2<Vmtype>, %3.<Vetype>[%4]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mla_<Vetype>_scalar_long\")]\n )\n \n@@ -2929,7 +2995,10 @@\n \t       ))\n \t     (const_int 1)))]\n   \"TARGET_SIMD\"\n-  \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n+  {\n+    operands[3] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[3])));\n+    return \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")]\n )\n \n@@ -2946,7 +3015,10 @@\n \t       ))\n \t     (const_int 1)))]\n   \"TARGET_SIMD\"\n-  \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n+  {\n+    operands[3] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[3])));\n+    return \"sqdmull\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")]\n )\n \n@@ -3047,7 +3119,10 @@\n \t       ))\n \t     (const_int 1)))]\n   \"TARGET_SIMD\"\n-  \"sqdmull2\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\"\n+  {\n+    operands[3] = GEN_INT (ENDIAN_LANE_N (<VCONQ>mode, INTVAL (operands[3])));\n+    return \"sqdmull2\\\\t%<vw2>0<Vmwtype>, %<v>1<Vmtype>, %2.<Vetype>[%3]\";\n+  }\n   [(set_attr \"type\" \"neon_sat_mul_<Vetype>_scalar_long\")]\n )\n "}]}