{"sha": "f062f8f2307ae66bdeb176260841bd09a8765beb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjA2MmY4ZjIzMDdhZTY2YmRlYjE3NjI2MDg0MWJkMDlhODc2NWJlYg==", "commit": {"author": {"name": "Olivier Hainque", "email": "hainque@adacore.com", "date": "2009-07-07T06:53:56Z"}, "committer": {"name": "Olivier Hainque", "email": "hainque@gcc.gnu.org", "date": "2009-07-07T06:53:56Z"}, "message": "t-osf4 (SHLIB_LINK): Do not hide the dummy weak pthread symbols.\n\n\t* config/alpha/t-osf4 (SHLIB_LINK): Do not hide the dummy weak\n\tpthread symbols.\n\nFrom-SVN: r149314", "tree": {"sha": "b0149e96550102767cd0d9ef4a1ff76a42e01466", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0149e96550102767cd0d9ef4a1ff76a42e01466"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f062f8f2307ae66bdeb176260841bd09a8765beb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f062f8f2307ae66bdeb176260841bd09a8765beb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f062f8f2307ae66bdeb176260841bd09a8765beb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f062f8f2307ae66bdeb176260841bd09a8765beb/comments", "author": {"login": "hainque", "id": 18735142, "node_id": "MDQ6VXNlcjE4NzM1MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/18735142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hainque", "html_url": "https://github.com/hainque", "followers_url": "https://api.github.com/users/hainque/followers", "following_url": "https://api.github.com/users/hainque/following{/other_user}", "gists_url": "https://api.github.com/users/hainque/gists{/gist_id}", "starred_url": "https://api.github.com/users/hainque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hainque/subscriptions", "organizations_url": "https://api.github.com/users/hainque/orgs", "repos_url": "https://api.github.com/users/hainque/repos", "events_url": "https://api.github.com/users/hainque/events{/privacy}", "received_events_url": "https://api.github.com/users/hainque/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cac1b0eef1062e72e54e365f8a04ceaa872f98ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cac1b0eef1062e72e54e365f8a04ceaa872f98ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cac1b0eef1062e72e54e365f8a04ceaa872f98ec"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "46d51451fc9398055747c04f950242b8cb1194ff", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f062f8f2307ae66bdeb176260841bd09a8765beb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f062f8f2307ae66bdeb176260841bd09a8765beb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f062f8f2307ae66bdeb176260841bd09a8765beb", "patch": "@@ -1,3 +1,8 @@\n+2009-07-07  Olivier Hainque  <hainque@adacore.com>\n+\n+        * config/alpha/t-osf4 (SHLIB_LINK): Do not hide the dummy weak\n+        pthread symbols.\n+\n 2009-07-07  Basile Starynkevitch  <basile@starynkevitch.net>\n \n \t* Makefile.in: added more lists of includes to PLUGIN_HEADERS."}, {"sha": "eabf2728f26f9b92949b3a87e5c996a02e3c1382", "filename": "gcc/config/alpha/t-osf4", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f062f8f2307ae66bdeb176260841bd09a8765beb/gcc%2Fconfig%2Falpha%2Ft-osf4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f062f8f2307ae66bdeb176260841bd09a8765beb/gcc%2Fconfig%2Falpha%2Ft-osf4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Ft-osf4?ref=f062f8f2307ae66bdeb176260841bd09a8765beb", "patch": "@@ -28,11 +28,9 @@ SHLIB_NAME = @shlib_base_name@.so\n SHLIB_SONAME = @shlib_base_name@.so.1\n SHLIB_OBJS = @shlib_objs@\n \n-# Hide all POSIX threads related symbols provided by gthr-posix.c.  This\n-# only has an effect if t-osf-pthread is in use.\n+# Beware *not* to hide the POSIX threads related symbols provided by\n+# gthr-posix.c, as this would prevent their preemption by real symbols.\n SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -shared -nodefaultlibs \\\n-\t-Wl,-hidden_symbol,pthread\\* -Wl,-hidden_symbol,__pthread\\* \\\n-\t-Wl,-hidden_symbol,sched_get_\\* -Wl,-hidden_symbol,sched_yield \\\n \t-Wl,-msym -Wl,-set_version,gcc.1 -Wl,-soname,$(SHLIB_SONAME) \\\n \t-o $(SHLIB_NAME).tmp @multilib_flags@ $(SHLIB_OBJS) -lc && \\\n \trm -f $(SHLIB_SONAME) && \\"}]}