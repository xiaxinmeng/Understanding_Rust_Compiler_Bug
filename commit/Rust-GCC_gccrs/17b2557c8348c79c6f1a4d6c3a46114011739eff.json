{"sha": "17b2557c8348c79c6f1a4d6c3a46114011739eff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdiMjU1N2M4MzQ4Yzc5YzZmMWE0ZDZjM2E0NjExNDAxMTczOWVmZg==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2013-09-12T22:43:30Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2013-09-12T22:43:30Z"}, "message": "rl78.c (rl78_expand_prologue): Use AX to copy between SP and FP.\n\n* config/rl78/rl78.c (rl78_expand_prologue): Use AX to copy\nbetween SP and FP.\n(rl78_expand_epilogue): Likewise.\n\nFrom-SVN: r202542", "tree": {"sha": "e6649283fb5338b08ab35ddda268b111d9d90636", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e6649283fb5338b08ab35ddda268b111d9d90636"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17b2557c8348c79c6f1a4d6c3a46114011739eff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b2557c8348c79c6f1a4d6c3a46114011739eff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17b2557c8348c79c6f1a4d6c3a46114011739eff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b2557c8348c79c6f1a4d6c3a46114011739eff/comments", "author": null, "committer": null, "parents": [{"sha": "984417a0ae5aec2b3ef771b52d9d41b01c77ff02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/984417a0ae5aec2b3ef771b52d9d41b01c77ff02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/984417a0ae5aec2b3ef771b52d9d41b01c77ff02"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "5dc8ed03385d0eb296366926274e5acca487df63", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17b2557c8348c79c6f1a4d6c3a46114011739eff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17b2557c8348c79c6f1a4d6c3a46114011739eff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=17b2557c8348c79c6f1a4d6c3a46114011739eff", "patch": "@@ -1,3 +1,9 @@\n+2013-09-12  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/rl78/rl78.c (rl78_expand_prologue): Use AX to copy\n+\tbetween SP and FP.\n+\t(rl78_expand_epilogue): Likewise.\n+\n 2013-09-12  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR middle-end/58335"}, {"sha": "3f13955d896e4ff59e9df0a84acc9ed0d2980aa3", "filename": "gcc/config/rl78/rl78.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17b2557c8348c79c6f1a4d6c3a46114011739eff/gcc%2Fconfig%2Frl78%2Frl78.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17b2557c8348c79c6f1a4d6c3a46114011739eff/gcc%2Fconfig%2Frl78%2Frl78.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frl78%2Frl78.c?ref=17b2557c8348c79c6f1a4d6c3a46114011739eff", "patch": "@@ -1036,8 +1036,12 @@ rl78_expand_prologue (void)\n     emit_insn (gen_sel_rb (GEN_INT (0)));\n \n   if (frame_pointer_needed)\n-    F (emit_move_insn (gen_rtx_REG (HImode, FRAME_POINTER_REGNUM),\n-\t\t       gen_rtx_REG (HImode, STACK_POINTER_REGNUM)));\n+    {\n+      F (emit_move_insn (gen_rtx_REG (HImode, AX_REG),\n+\t\t\t gen_rtx_REG (HImode, STACK_POINTER_REGNUM)));\n+      F (emit_move_insn (gen_rtx_REG (HImode, FRAME_POINTER_REGNUM),\n+\t\t\t gen_rtx_REG (HImode, AX_REG)));\n+    }\n \n   fs = cfun->machine->framesize_locals + cfun->machine->framesize_outgoing;\n   while (fs > 0)\n@@ -1061,8 +1065,10 @@ rl78_expand_epilogue (void)\n \n   if (frame_pointer_needed)\n     {\n-      emit_move_insn (gen_rtx_REG (HImode, STACK_POINTER_REGNUM),\n+      emit_move_insn (gen_rtx_REG (HImode, AX_REG),\n \t\t      gen_rtx_REG (HImode, FRAME_POINTER_REGNUM));\n+      emit_move_insn (gen_rtx_REG (HImode, STACK_POINTER_REGNUM),\n+\t\t      gen_rtx_REG (HImode, AX_REG));\n     }\n   else\n     {"}]}