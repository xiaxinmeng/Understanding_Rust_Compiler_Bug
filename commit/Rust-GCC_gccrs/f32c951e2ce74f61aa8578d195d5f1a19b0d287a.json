{"sha": "f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMyYzk1MWUyY2U3NGY2MWFhODU3OGQxOTVkNWYxYTE5YjBkMjg3YQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2011-11-18T19:02:45Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2011-11-18T19:02:45Z"}, "message": "Add _mm_stream_si64.\n\n2011-11-18  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR target/33944\n\t* doc/extend.texi: Document __builtin_ia32_movnti64.\n\n\t* config/i386/emmintrin.h (_mm_stream_si64): New.\n\n\t* config/i386/i386-builtin-types.def: Add VOID_FTYPE_PLONGLONG_LONGLONG.\n\n\t* config/i386/i386.c (ix86_builtins): Add IX86_BUILTIN_MOVNTI64.\n\t(bdesc_special_args): Update __builtin_ia32_movnti.  Add\n\t__builtin_ia32_movnti64.\n\t(ix86_expand_special_args_builtin): Handle\n\tVOID_FTYPE_PLONGLONG_LONGLONG.\n\n\t* config/i386/i386.md (UNSPEC_MOVNTI): New.\n\n\t* config/i386/sse.md (sse2_movntsi): Renamed to ...\n\t(sse2_movnti<mode>): This.\n\nFrom-SVN: r181491", "tree": {"sha": "6c67a994c65e955aa32699ed2a224c8aca5ea322", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c67a994c65e955aa32699ed2a224c8aca5ea322"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "52e4e221bd6355b1c40173724e927a0d5be6c254", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52e4e221bd6355b1c40173724e927a0d5be6c254", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52e4e221bd6355b1c40173724e927a0d5be6c254"}], "stats": {"total": 47, "additions": 41, "deletions": 6}, "files": [{"sha": "2d5091df6fb6242d95d96e522896247cef5af0da", "filename": "gcc/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -1,3 +1,23 @@\n+2011-11-18  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/33944\n+\t* doc/extend.texi: Document __builtin_ia32_movnti64.\n+\n+\t* config/i386/emmintrin.h (_mm_stream_si64): New.\n+\n+\t* config/i386/i386-builtin-types.def: Add VOID_FTYPE_PLONGLONG_LONGLONG.\n+\n+\t* config/i386/i386.c (ix86_builtins): Add IX86_BUILTIN_MOVNTI64.\n+\t(bdesc_special_args): Update __builtin_ia32_movnti.  Add\n+\t__builtin_ia32_movnti64.\n+\t(ix86_expand_special_args_builtin): Handle\n+\tVOID_FTYPE_PLONGLONG_LONGLONG.\n+\n+\t* config/i386/i386.md (UNSPEC_MOVNTI): New.\n+\n+\t* config/i386/sse.md (sse2_movntsi): Renamed to ...\n+\t(sse2_movnti<mode>): This.\n+\n 2011-11-18  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/49868"}, {"sha": "07ac9f3d8aed64af33efc50c51249f9a1d5face0", "filename": "gcc/config/i386/emmintrin.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Femmintrin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Femmintrin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Femmintrin.h?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -1418,6 +1418,14 @@ _mm_stream_si32 (int *__A, int __B)\n   __builtin_ia32_movnti (__A, __B);\n }\n \n+#ifdef __x86_64__\n+extern __inline void __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n+_mm_stream_si64 (long long int *__A, long long int __B)\n+{\n+  __builtin_ia32_movnti64 (__A, __B);\n+}\n+#endif\n+\n extern __inline void __attribute__((__gnu_inline__, __always_inline__, __artificial__))\n _mm_stream_si128 (__m128i *__A, __m128i __B)\n {"}, {"sha": "d00b05341b9a33d75ea5731d96a802058bd36b49", "filename": "gcc/config/i386/i386-builtin-types.def", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386-builtin-types.def?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -111,6 +111,7 @@ DEF_POINTER_TYPE (PDOUBLE, DOUBLE)\n DEF_POINTER_TYPE (PFLOAT, FLOAT)\n DEF_POINTER_TYPE (PUSHORT, USHORT)\n DEF_POINTER_TYPE (PINT, INT)\n+DEF_POINTER_TYPE (PLONGLONG, LONGLONG)\n DEF_POINTER_TYPE (PULONGLONG, ULONGLONG)\n DEF_POINTER_TYPE (PUNSIGNED, UNSIGNED)\n \n@@ -357,6 +358,7 @@ DEF_FUNCTION_TYPE (VOID, PDOUBLE, V4DF)\n DEF_FUNCTION_TYPE (VOID, PFLOAT, V4SF)\n DEF_FUNCTION_TYPE (VOID, PFLOAT, V8SF)\n DEF_FUNCTION_TYPE (VOID, PINT, INT)\n+DEF_FUNCTION_TYPE (VOID, PLONGLONG, LONGLONG)\n DEF_FUNCTION_TYPE (VOID, PULONGLONG, ULONGLONG)\n DEF_FUNCTION_TYPE (VOID, PV2SI, V2SI)\n DEF_FUNCTION_TYPE (VOID, PV2DI, V2DI)"}, {"sha": "7e8f1a4225b80b8df903138810a737d872bcd39b", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -25341,6 +25341,7 @@ enum ix86_builtins\n   IX86_BUILTIN_CVTTPS2DQ,\n \n   IX86_BUILTIN_MOVNTI,\n+  IX86_BUILTIN_MOVNTI64,\n   IX86_BUILTIN_MOVNTPD,\n   IX86_BUILTIN_MOVNTDQ,\n \n@@ -26423,7 +26424,8 @@ static const struct builtin_description bdesc_special_args[] =\n   { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movdqu, \"__builtin_ia32_storedqu\", IX86_BUILTIN_STOREDQU, UNKNOWN, (int) VOID_FTYPE_PCHAR_V16QI },\n   { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movntv2df, \"__builtin_ia32_movntpd\", IX86_BUILTIN_MOVNTPD, UNKNOWN, (int) VOID_FTYPE_PDOUBLE_V2DF },\n   { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movntv2di, \"__builtin_ia32_movntdq\", IX86_BUILTIN_MOVNTDQ, UNKNOWN, (int) VOID_FTYPE_PV2DI_V2DI },\n-  { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movntsi, \"__builtin_ia32_movnti\", IX86_BUILTIN_MOVNTI, UNKNOWN, (int) VOID_FTYPE_PINT_INT },\n+  { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movntisi, \"__builtin_ia32_movnti\", IX86_BUILTIN_MOVNTI, UNKNOWN, (int) VOID_FTYPE_PINT_INT },\n+  { OPTION_MASK_ISA_SSE2 | OPTION_MASK_ISA_64BIT, CODE_FOR_sse2_movntidi, \"__builtin_ia32_movnti64\", IX86_BUILTIN_MOVNTI64, UNKNOWN, (int) VOID_FTYPE_PLONGLONG_LONGLONG },\n   { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movupd, \"__builtin_ia32_loadupd\", IX86_BUILTIN_LOADUPD, UNKNOWN, (int) V2DF_FTYPE_PCDOUBLE },\n   { OPTION_MASK_ISA_SSE2, CODE_FOR_sse2_movdqu, \"__builtin_ia32_loaddqu\", IX86_BUILTIN_LOADDQU, UNKNOWN, (int) V16QI_FTYPE_PCCHAR },\n \n@@ -29409,6 +29411,7 @@ ix86_expand_special_args_builtin (const struct builtin_description *d,\n     case VOID_FTYPE_PFLOAT_V4SF:\n     case VOID_FTYPE_PDOUBLE_V4DF:\n     case VOID_FTYPE_PDOUBLE_V2DF:\n+    case VOID_FTYPE_PLONGLONG_LONGLONG:\n     case VOID_FTYPE_PULONGLONG_ULONGLONG:\n     case VOID_FTYPE_PINT_INT:\n       nargs = 1;"}, {"sha": "daf1387edfe3599263d139a1e6df43907d44e946", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -116,6 +116,7 @@\n   UNSPEC_MASKMOV\n   UNSPEC_MOVMSK\n   UNSPEC_MOVNT\n+  UNSPEC_MOVNTI\n   UNSPEC_MOVU\n   UNSPEC_RCP\n   UNSPEC_RSQRT"}, {"sha": "e64864aa6da9ee578deb1ef3a1edb55895d7db54", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -573,15 +573,15 @@\n    (set_attr \"prefix\" \"maybe_vex\")\n    (set_attr \"mode\" \"<sseinsnmode>\")])\n \n-(define_insn \"sse2_movntsi\"\n-  [(set (match_operand:SI 0 \"memory_operand\" \"=m\")\n-\t(unspec:SI [(match_operand:SI 1 \"register_operand\" \"r\")]\n-\t\t   UNSPEC_MOVNT))]\n+(define_insn \"sse2_movnti<mode>\"\n+  [(set (match_operand:SWI48 0 \"memory_operand\" \"=m\")\n+\t(unspec:SWI48 [(match_operand:SWI48 1 \"register_operand\" \"r\")]\n+\t\t      UNSPEC_MOVNTI))]\n   \"TARGET_SSE2\"\n   \"movnti\\t{%1, %0|%0, %1}\"\n   [(set_attr \"type\" \"ssemov\")\n    (set_attr \"prefix_data16\" \"0\")\n-   (set_attr \"mode\" \"V2DF\")])\n+   (set_attr \"mode\" \"<MODE>\")])\n \n (define_insn \"<sse>_movnt<mode>\"\n   [(set (match_operand:VF 0 \"memory_operand\" \"=m\")"}, {"sha": "de483a3d354d7db810baa7b14a219644f7cd7fc1", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f32c951e2ce74f61aa8578d195d5f1a19b0d287a/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=f32c951e2ce74f61aa8578d195d5f1a19b0d287a", "patch": "@@ -9384,6 +9384,7 @@ v2df __builtin_ia32_loadlpd (v2df, double const *)\n int __builtin_ia32_movmskpd (v2df)\n int __builtin_ia32_pmovmskb128 (v16qi)\n void __builtin_ia32_movnti (int *, int)\n+void __builtin_ia32_movnti64 (long long int *, long long int)\n void __builtin_ia32_movntpd (double *, v2df)\n void __builtin_ia32_movntdq (v2df *, v2df)\n v4si __builtin_ia32_pshufd (v4si, int)"}]}