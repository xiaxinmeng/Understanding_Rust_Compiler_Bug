{"sha": "7423f5b56ad436f51ac1b9defb954e2bdc5b06ab", "node_id": "C_kwDOANBUbNoAKDc0MjNmNWI1NmFkNDM2ZjUxYWMxYjlkZWZiOTU0ZTJiZGM1YjA2YWI", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-02-23T22:26:43Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-02-23T22:26:43Z"}, "message": "xtensa: Fix up fatal_error message strings in xtensa-dynconfig.c [PR108890]\n\nThe translation PR complains that these 4 messages from xtensa-dynconfig.c\nare marked in po/gcc.pot as c-format (which doesn't allow %qs) while they\nshould be gcc-internal-format.\n\nThe problem is in the manual translation of the strings with _(),\nthat should be both unnecessary because fatal_error invokes _() on its\nargument already, but also incorrect for the above reason, for\ngcc-internal-format strings one should use G_(\"...\") instead if really\nneeded.\n\nThe following patch drops those _(\"...\"), tested by regenerating po/gcc.pot\nto see they are now gcc-internal-format, but not really tested on xtensa\ntarget.\n\n2023-02-23  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR translation/108890\n\t* config/xtensa/xtensa-dynconfig.c (xtensa_load_config): Drop _()s\n\taround fatal_error format strings.", "tree": {"sha": "097a540cfe9d15792066c08323c9c0cbe883cfde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/097a540cfe9d15792066c08323c9c0cbe883cfde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5592679df783547049efc6d73727c5ff809ec302", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5592679df783547049efc6d73727c5ff809ec302", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5592679df783547049efc6d73727c5ff809ec302"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "e0091f3e66691d8467521d7e9d4ec4689e34a8e9", "filename": "gcc/config/xtensa/xtensa-dynconfig.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab/gcc%2Fconfig%2Fxtensa%2Fxtensa-dynconfig.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7423f5b56ad436f51ac1b9defb954e2bdc5b06ab/gcc%2Fconfig%2Fxtensa%2Fxtensa-dynconfig.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa-dynconfig.c?ref=7423f5b56ad436f51ac1b9defb954e2bdc5b06ab", "patch": "@@ -87,14 +87,14 @@ const void *xtensa_load_config (const char *name ATTRIBUTE_UNUSED,\n       if (!handle)\n \t{\n \t  fatal_error (input_location,\n-\t\t       _(\"%qs is defined but could not be loaded: %s\"),\n+\t\t       \"%qs is defined but could not be loaded: %s\",\n \t\t       CONFIG_ENV_NAME, dlerror ());\n \t  exit (FATAL_EXIT_CODE);\n \t}\n       if (dlsym (handle, \"plugin_is_GPL_compatible\") == NULL)\n \t{\n \t  fatal_error (input_location,\n-\t\t       _(\"%qs plugin is not licensed under a GPL-compatible license\"),\n+\t\t       \"%qs plugin is not licensed under a GPL-compatible license\",\n \t\t       CONFIG_ENV_NAME);\n \t  exit (FATAL_EXIT_CODE);\n \t}\n@@ -111,7 +111,7 @@ const void *xtensa_load_config (const char *name ATTRIBUTE_UNUSED,\n \treturn no_name_def;\n \n       fatal_error (input_location,\n-\t\t   _(\"%qs is loaded but symbol %qs is not found: %s\"),\n+\t\t   \"%qs is loaded but symbol %qs is not found: %s\",\n \t\t   CONFIG_ENV_NAME, name, dlerror ());\n       exit (FATAL_EXIT_CODE);\n     }\n@@ -125,7 +125,7 @@ const void *xtensa_load_config (const char *name ATTRIBUTE_UNUSED,\n       if (path)\n \t{\n \t  fatal_error (input_location,\n-\t\t       _(\"%qs is defined but plugin support is disabled\"),\n+\t\t       \"%qs is defined but plugin support is disabled\",\n \t\t       CONFIG_ENV_NAME);\n \t  exit (FATAL_EXIT_CODE);\n \t}"}]}