{"sha": "348aa1da38633b3756f3f1fb6de22d8d318384c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ4YWExZGEzODYzM2IzNzU2ZjNmMWZiNmRlMjJkOGQzMTgzODRjMg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2014-01-15T17:08:38Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2014-01-15T17:08:38Z"}, "message": "Silence vector ABI change warnings for x86\n\n\tPR target/59794\n\t* c-c++-common/convert-vec-1.c: Also prune ABI change for\n\tLinux/x86.\n\t* g++.dg/cpp0x/constexpr-53094-2.C: Likewise.\n\t* g++.dg/ext/attribute-test-1.C: Likewise.\n\t* g++.dg/ext/attribute-test-2.C: Likewise.\n\t* g++.dg/ext/attribute-test-3.C: Likewise.\n\t* g++.dg/ext/attribute-test-4.C: Likewise.\n\t* g++.dg/ext/pr56790-1.C: Likewise.\n\t* g++.dg/torture/pr38565.C: Likewise.\n\t* gcc.dg/pr53060.c: Likewise.\n\t* c-c++-common/scal-to-vec2.c: Add -msse2 for x86.\n\t* c-c++-common/vector-compare-2.c: Likewise.\n\t* gcc.dg/Wstrict-aliasing-bogus-ref-all-2.c: Likewise.\n\t* g++.dg/conversion/simd1.C: Add -msse2 for x86.  Adjust\n\tdg-message line number.\n\nFrom-SVN: r206634", "tree": {"sha": "ff334bafe4a6ef61c2dd3875cbd920466a1bb942", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff334bafe4a6ef61c2dd3875cbd920466a1bb942"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/348aa1da38633b3756f3f1fb6de22d8d318384c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/348aa1da38633b3756f3f1fb6de22d8d318384c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/348aa1da38633b3756f3f1fb6de22d8d318384c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/348aa1da38633b3756f3f1fb6de22d8d318384c2/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9b7dc56e48a2af8659c1ff354d76988762898f85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b7dc56e48a2af8659c1ff354d76988762898f85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b7dc56e48a2af8659c1ff354d76988762898f85"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "4aadd851e852e0b8c0743c804e9ab69a20e40ac3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,3 +1,22 @@\n+2014-01-15  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/59794\n+\t* c-c++-common/convert-vec-1.c: Also prune ABI change for\n+\tLinux/x86.\n+\t* g++.dg/cpp0x/constexpr-53094-2.C: Likewise.\n+\t* g++.dg/ext/attribute-test-1.C: Likewise.\n+\t* g++.dg/ext/attribute-test-2.C: Likewise.\n+\t* g++.dg/ext/attribute-test-3.C: Likewise.\n+\t* g++.dg/ext/attribute-test-4.C: Likewise.\n+\t* g++.dg/ext/pr56790-1.C: Likewise.\n+\t* g++.dg/torture/pr38565.C: Likewise.\n+\t* gcc.dg/pr53060.c: Likewise.\n+\t* c-c++-common/scal-to-vec2.c: Add -msse2 for x86.\n+\t* c-c++-common/vector-compare-2.c: Likewise.\n+\t* gcc.dg/Wstrict-aliasing-bogus-ref-all-2.c: Likewise.\n+\t* g++.dg/conversion/simd1.C: Add -msse2 for x86.  Adjust\n+\tdg-message line number.\n+\n 2014-01-15  Matthias Klose  <doko@ubuntu.com>\n \n \t* go.test/go-test.exp: Set goarch for aarch64*-*-*."}, {"sha": "862190d609299507406feade8b647c24dbd93972", "filename": "gcc/testsuite/c-c++-common/convert-vec-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fconvert-vec-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fconvert-vec-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fconvert-vec-1.c?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,3 +1,4 @@\n /* { dg-do compile } */\n+/* { dg-prune-output \"changes the ABI\" } */\n typedef float v2sf __attribute__ ((vector_size (8)));\n v2sf sub (void) { return (v2sf) 0.0; } /* { dg-error \"can't convert\" } */"}, {"sha": "e2c93eedd6c5a068a785d2d84d87edad3f7dec4b", "filename": "gcc/testsuite/c-c++-common/scal-to-vec2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fscal-to-vec2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fscal-to-vec2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fscal-to-vec2.c?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,6 +1,7 @@\n /* { dg-do compile } */   \n /* { dg-options \"-fno-common\" { target hppa*-*-hpux* } } */\n /* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n+/* { dg-options \"-msse2\" { target { i?86-*-* x86_64-*-* } } } */\n /* Ignore warning on some powerpc-ibm-aix configurations. */\n /* { dg-prune-output \"non-standard ABI extension\" } */\n "}, {"sha": "5ebe9e3ca56c23ba31df43754549b92177d1818d", "filename": "gcc/testsuite/c-c++-common/vector-compare-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-compare-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-compare-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-compare-2.c?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,6 +1,7 @@\n /* { dg-do compile } */   \n /* { dg-options \"-fno-common\" { target hppa*-*-hpux* } } */\n /* { dg-options \"-mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n+/* { dg-options \"-msse2\" { target { i?86-*-* x86_64-*-* } } } */\n /* Ignore warning on some powerpc-ibm-aix configurations. */\n /* { dg-prune-output \"non-standard ABI extension\" } */\n "}, {"sha": "522d8b5470aefa08718256039ffb98ee86058414", "filename": "gcc/testsuite/g++.dg/conversion/simd1.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fsimd1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fsimd1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fsimd1.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,4 +1,5 @@\n /* { dg-do compile } */\n+/* { dg-options \"-msse2\" { target { i?86-*-* x86_64-*-* } } } */\n \n /* Test overload resolution of vector types.\n    From Janis Johnson and Paolo Bonzini, based on PR/16882 */\n@@ -17,7 +18,7 @@ extern const vector signed short *cvssp;\n void foo ()\n {\n   vss = vld(i, vscp);        /* { dg-error \"no matching function for call\" } */\n-  // { dg-message \"candidate\" \"candidate note\" { target *-*-* } 19 }\n+  // { dg-message \"candidate\" \"candidate note\" { target *-*-* } 20 }\n   vss = vld(i, vssp);\n   vss = vld(i, cvssp);\n }"}, {"sha": "1c5129dcb3fc762054cf0ba4f5821e06f94f3858", "filename": "gcc/testsuite/g++.dg/cpp0x/constexpr-53094-2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-53094-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-53094-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-53094-2.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -2,6 +2,7 @@\n // { dg-options \"-std=gnu++11\" }\n // Ignore warning on some powerpc-ibm-aix configurations.\n // { dg-prune-output \"non-standard ABI extension\" }\n+// { dg-prune-output \"changes the ABI\" }\n \n typedef float __attribute__ ((vector_size (4 * sizeof (float)))) V4;\n constexpr V4 build (float x, float y, float z) { return (V4){ x, y, z, 0 };}"}, {"sha": "93e08d7ef897e5ecb32b0657fc4d01493cb16c6c", "filename": "gcc/testsuite/g++.dg/ext/attribute-test-1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-1.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -36,3 +36,4 @@ int main()\n \n /* Ignore a warning that is irrelevant to the purpose of this test.  */\n /* { dg-prune-output \".*GCC vector returned by reference.*\" } */\n+/* { dg-prune-output \"changes the ABI\" } */"}, {"sha": "d7c417dccaac1866a7b4f62ae84a14460f6926a3", "filename": "gcc/testsuite/g++.dg/ext/attribute-test-2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-2.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -50,3 +50,4 @@ int main()\n \n /* Ignore a warning that is irrelevant to the purpose of this test.  */\n /* { dg-prune-output \".*GCC vector returned by reference.*\" } */\n+/* { dg-prune-output \"changes the ABI\" } */"}, {"sha": "4b0939ea3a2aaf8cc2f9c8f9cad481216075bcda", "filename": "gcc/testsuite/g++.dg/ext/attribute-test-3.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-3.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -52,3 +52,4 @@ int main() {\n \n /* Ignore a warning that is irrelevant to the purpose of this test.  */\n /* { dg-prune-output \".*GCC vector returned by reference.*\" } */\n+/* { dg-prune-output \"changes the ABI\" } */"}, {"sha": "c3e949a9bde54ceb0094267f6c29ff9e22c87bbc", "filename": "gcc/testsuite/g++.dg/ext/attribute-test-4.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fattribute-test-4.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -49,3 +49,4 @@ int main() {\n \n /* Ignore a warning that is irrelevant to the purpose of this test.  */\n /* { dg-prune-output \".*GCC vector returned by reference.*\" } */\n+/* { dg-prune-output \"changes the ABI\" } */"}, {"sha": "ae465fa3e134a0669e1a8322ac86a04b5d93075d", "filename": "gcc/testsuite/g++.dg/ext/pr56790-1.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fpr56790-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fpr56790-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fpr56790-1.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-tree-ccp1\" } */\n+/* { dg-prune-output \"changes the ABI\" } */\n \n typedef long vec __attribute__ ((vector_size (2 * sizeof (long))));\n "}, {"sha": "7216b1c67e7c7ca28b7f51983d9bcec06ff819c2", "filename": "gcc/testsuite/g++.dg/torture/pr38565.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr38565.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr38565.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr38565.C?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,6 +1,7 @@\n // { dg-do compile }\n // Ignore warning on some powerpc-linux configurations.\n // { dg-prune-output \"non-standard ABI extension\" }\n+// { dg-prune-output \"changes the ABI\" }\n #define vector __attribute__((vector_size(16) ))\n vector unsigned int f(int a)\n {"}, {"sha": "b1bee33c382a69310b82d36a2b931cff73329e8f", "filename": "gcc/testsuite/gcc.dg/Wstrict-aliasing-bogus-ref-all-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWstrict-aliasing-bogus-ref-all-2.c?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -1,6 +1,7 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -Wall\" } */\n /* { dg-options \"-O2 -Wall -mabi=altivec\" { target { { powerpc*-*-linux* } && ilp32 } } } */\n+/* { dg-options \"-O2 -Wall -msse2\" { target { i?86-*-* x86_64-*-* } } } */\n \n typedef long long __m128i __attribute__ ((__vector_size__ (16), __may_alias__));\n "}, {"sha": "503f05407742eff5bc7dad4852c23329ff1db095", "filename": "gcc/testsuite/gcc.dg/pr53060.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53060.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/348aa1da38633b3756f3f1fb6de22d8d318384c2/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53060.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr53060.c?ref=348aa1da38633b3756f3f1fb6de22d8d318384c2", "patch": "@@ -25,3 +25,4 @@ int main()\n \n /* Ignore a warning that is irrelevant to the purpose of this test.  */\n /* { dg-prune-output \".*GCC vector returned by reference.*\" } */\n+/* { dg-prune-output \"changes the ABI\" } */"}]}