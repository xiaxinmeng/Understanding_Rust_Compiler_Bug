{"sha": "2ed26f6bd11f3e6321338fc6423257f418e1081c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmVkMjZmNmJkMTFmM2U2MzIxMzM4ZmM2NDIzMjU3ZjQxOGUxMDgxYw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-08-31T06:07:42Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-08-31T06:07:42Z"}, "message": "configure.frag: Delete file.\n\n\t* configure.frag: Delete file.\n\t* configure.in: Rename the substitution variables\n\tdep_host_xmake_file and dep_tmake_file to xmake_file and\n\ttmake_file respectively.  Do not expand $srcdir in the\n\tvalue of these; leave that for Make.  Introduce a new\n\tsubstitution varaible, all_lang_makefrags, which lists\n\tsubdirectory Make-lang.in files; exclude these from\n\tall_lang_makefiles, which is now only for subdirectory\n\toutputs.  Do not invoke configure.frag.  Do not set nor\n\tAC_SUBST_FILE target_overrides, host_overrides, or\n\tlanguage_fragments. Create build subdirectories in\n\tconfig.status extra commands.\n\t* configure: Regenerate.\n\t* Makefile.in: Update substitutions to match changes to\n\tconfigure.  Use include directives instead of @-insertions\n\tto read in host, target, and language fragments.\n\t(Makefile rule): Do not invoke configure.frag.  Do not copy\n\tconfig.status to config.run before executing it.  Set\n\tCONFIG_HEADERS and CONFIG_FILES so that only Makefile gets\n\tregenerated.\n\t(cstamp-h rule): Set CONFIG_FILES as well as CONFIG_HEADERS.\nada:\n\t* Makefile.in: Update substitutions to match changes to\n\tconfigure.  Use include directives instead of @-insertions\n\tto read in host and target fragments.  Add a rule to\n\tregenerate ada/Makefile.\n\nFrom-SVN: r70957", "tree": {"sha": "6b7798294fc47b211fc16dc6a97c40cc7b860112", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b7798294fc47b211fc16dc6a97c40cc7b860112"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2ed26f6bd11f3e6321338fc6423257f418e1081c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ed26f6bd11f3e6321338fc6423257f418e1081c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ed26f6bd11f3e6321338fc6423257f418e1081c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ed26f6bd11f3e6321338fc6423257f418e1081c/comments", "author": null, "committer": null, "parents": [{"sha": "ec9b6ebadd72d510ae8eb7858f74ba48135b4df3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec9b6ebadd72d510ae8eb7858f74ba48135b4df3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec9b6ebadd72d510ae8eb7858f74ba48135b4df3"}], "stats": {"total": 400, "additions": 182, "deletions": 218}, "files": [{"sha": "16cc8148574b2e6f8268a2018673d9fdee1c852d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -1,3 +1,27 @@\n+2003-08-30  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* configure.frag: Delete file.\n+\t* configure.in: Rename the substitution variables\n+\tdep_host_xmake_file and dep_tmake_file to xmake_file and\n+\ttmake_file respectively.  Do not expand $srcdir in the\n+\tvalue of these; leave that for Make.  Introduce a new\n+\tsubstitution varaible, all_lang_makefrags, which lists\n+\tsubdirectory Make-lang.in files; exclude these from\n+\tall_lang_makefiles, which is now only for subdirectory\n+\toutputs.  Do not invoke configure.frag.  Do not set nor\n+\tAC_SUBST_FILE target_overrides, host_overrides, or\n+\tlanguage_fragments. Create build subdirectories in\n+\tconfig.status extra commands.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Update substitutions to match changes to\n+\tconfigure.  Use include directives instead of @-insertions\n+\tto read in host, target, and language fragments.\n+\t(Makefile rule): Do not invoke configure.frag.  Do not copy\n+\tconfig.status to config.run before executing it.  Set\n+\tCONFIG_HEADERS and CONFIG_FILES so that only Makefile gets\n+\tregenerated.\n+\t(cstamp-h rule): Set CONFIG_FILES as well as CONFIG_HEADERS.\n+\n 2003-08-30  Zack Weinberg  <zack@codesourcery.com>\n \n \t* c-tree.h: Delete COMPARE_DIFFERENT_TU from enumeration."}, {"sha": "f71b5fe457abc39071f640c18ff306b385975cd3", "filename": "gcc/Makefile.in", "status": "modified", "additions": 24, "deletions": 20, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -336,8 +336,8 @@ LIMITS_H_TEST = [ -f $(SYSTEM_HEADER_DIR)/limits.h ]\n # each of $(system_prefix)/usr/include, $(system_prefix)/usr/lib, etc.\n TARGET_SYSTEM_ROOT = @TARGET_SYSTEM_ROOT@\n \n-xmake_file=@dep_host_xmake_file@\n-tmake_file=@dep_tmake_file@\n+xmake_file=@xmake_file@\n+tmake_file=@tmake_file@\n out_file=$(srcdir)/config/@out_file@\n out_object_file=@out_object_file@\n md_file=$(srcdir)/config/@md_file@\n@@ -661,12 +661,16 @@ PRETTY_PRINT_H = pretty-print.h input.h $(OBSTACK_H)\n DIAGNOSTIC_H = diagnostic.h diagnostic.def $(PRETTY_PRINT_H)\n C_PRETTY_PRINT_H = $(PRETTY_PRINT_H) $(C_COMMON_H) $(TREE_H)\n \n-# sed inserts variable overrides after the following line.\n-####target overrides\n-@target_overrides@\n+# target overrides\n+ifneq ($(tmake_file),)\n+include $(tmake_file)\n+endif\n+\n+# host overrides\n+ifneq ($(xmake_file),)\n+include $(xmake_file)\n+endif\n \n-####host overrides\n-@host_overrides@\n #\f\n # Now figure out from those variables how to compile and link.\n \n@@ -735,6 +739,7 @@ INCLUDES = -I. -I$(@D) -I$(srcdir) -I$(srcdir)/$(@D) \\\n # Support for additional languages (other than C).\n # C can be supported this way too (leave for later).\n \n+LANG_MAKEFRAGS = @all_lang_makefrags@\n LANG_MAKEFILES = @all_lang_makefiles@\n LANG_STAGESTUFF = @all_stagestuff@\n \n@@ -917,27 +922,24 @@ LIB2_DIVMOD_FUNCS = _divdi3 _moddi3 _udivdi3 _umoddi3 _udiv_w_sdiv _udivmoddi4\n # targets).  The name of each hooked is \"lang.${target_name}\" (eg: lang.info).\n # Configure computes and adds these here.\n \n-####language hooks\n+# language hooks, generated by configure\n @language_hooks@\n \n-# sed inserts language fragments after the following line.\n-####language fragments\n-@language_fragments@\n+# per-language makefile fragments\n+ifneq ($(LANG_MAKEFRAGS),)\n+include $(LANG_MAKEFRAGS)\n+endif\n \n-# End of language makefile fragments.\n #\f\n \n # -----------------------------\n # Rebuilding this configuration\n # -----------------------------\n \n-Makefile: $(srcdir)/Makefile.in config.status $(srcdir)/version.c \\\n-   $(xmake_file) $(tmake_file) $(LANG_MAKEFILES)\n-\t$(SHELL) $(srcdir)/configure.frag $(srcdir) \"$(SUBDIRS)\" \\\n-\t\t\"$(xmake_file)\" \"$(tmake_file)\"\n-\tcp config.status config.run\n-\tLANGUAGES=\"$(CONFIG_LANGUAGES)\" $(SHELL) config.run\n-\trm -f config.run\n+Makefile: config.status $(srcdir)/Makefile.in $(srcdir)/version.c\n+\tLANGUAGES=\"$(CONFIG_LANGUAGES)\" \\\n+\tCONFIG_HEADERS= \\\n+\tCONFIG_FILES=$@ $(SHELL) config.status\n \n config.h: cs-config.h ; @true\n bconfig.h: cs-bconfig.h ; @true\n@@ -1006,7 +1008,9 @@ mkheaders: $(srcdir)/mkheaders.in\n @MAINT@\techo timestamp > $(srcdir)/cstamp-h.in\n auto-host.h: cstamp-h ; @true\n cstamp-h: config.in config.status\n-\tCONFIG_HEADERS=auto-host.h:config.in LANGUAGES=\"$(CONFIG_LANGUAGES)\" $(SHELL) config.status\n+\tCONFIG_HEADERS=auto-host.h:config.in \\\n+\tCONFIG_FILES= \\\n+\tLANGUAGES=\"$(CONFIG_LANGUAGES)\" $(SHELL) config.status\n \n # Really, really stupid make features, such as SUN's KEEP_STATE, may force\n # a target to build even if it is up-to-date.  So we must verify that"}, {"sha": "9efeeb85ffbe0531a76143cb738475378d8305ff", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -1,3 +1,10 @@\n+2003-08-30  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Makefile.in: Update substitutions to match changes to\n+\tconfigure.  Use include directives instead of @-insertions\n+\tto read in host and target fragments.  Add a rule to\n+\tregenerate ada/Makefile.\n+\n 2003-07-18  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* lang-options.h: Remove.\n@@ -142,10 +149,10 @@ Thu Jun  5 18:33:40 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n 2003-06-04  Olivier Hainque  <hainque@act-europe.fr>\n \n-        PR ada/9953:\n-        * 5hsystem.ads: Remove pragma Linker_Option for pthreads library,\n-        and turn ZCX_By_Default back to False since the underlying support\n-        is not quite there yet.\n+\tPR ada/9953:\n+\t* 5hsystem.ads: Remove pragma Linker_Option for pthreads library,\n+\tand turn ZCX_By_Default back to False since the underlying support\n+\tis not quite there yet.\n \n 2003-06-01  Andreas Jaeger  <aj@suse.de>\n \n@@ -173,9 +180,9 @@ Thu Jun  5 18:33:40 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n 2003-05-01  Laurent Guerby <guerby@acm.org>\n \n-        PR ada/10546\n-        * 5iosinte.ads: Increase pthread_cond_t size to match recent\n-        LinuxThread and NPTL version, merge from ACT.\n+\tPR ada/10546\n+\t* 5iosinte.ads: Increase pthread_cond_t size to match recent\n+\tLinuxThread and NPTL version, merge from ACT.\n \n 2003-04-28  Zack Weinberg  <zack@codesourcery.com>\n "}, {"sha": "abed86b7cde746cefeef228b0385e44c958fc61e", "filename": "gcc/ada/Makefile.in", "status": "modified", "additions": 22, "deletions": 7, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.in?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -177,8 +177,8 @@ objdir = .\n \n target=@target@\n target_alias=@target_alias@\n-xmake_file=@dep_host_xmake_file@\n-tmake_file=@dep_tmake_file@\n+xmake_file = @xmake_file@\n+tmake_file = @tmake_file@\n host_canonical=@host@\n #version=`sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/' < $(srcdir)/version.c`\n #mainversion=`sed -e 's/.*\\\"\\([0-9]*\\.[0-9]*\\).*/\\1/' < $(srcdir)/version.c`\n@@ -217,12 +217,20 @@ all: all.indirect\n # This tells GNU Make version 3 not to put all variables in the environment.\n .NOEXPORT:\n \n-# sed inserts variable overrides after the following line.\n-####target overrides\n-@target_overrides@\n+# tmake_file and xmake_file expand to lists with entries of the form\n+# $(srcdir)/config/...  but here $(srcdir) is the ada subdirectory so we\n+# need to adjust the paths.  There can't be spaces in the subst arguments\n+# or we get spurious spaces in the actual list of files to include.\n \n-####host overrides\n-@host_overrides@\n+# target overrides\n+ifneq ($(tmake_file),)\n+include $(subst /config,/../config,$(tmake_file))\n+endif\n+\n+# host overrides\n+ifneq ($(xmake_file),)\n+include $(subst /config,/../config,$(xmake_file))\n+endif\n \f\n # Now figure out from those variables how to compile and link.\n \n@@ -278,6 +286,13 @@ ADA_INCLUDES_FOR_SUBDIR = -I. -I$(fsrcdir)\n .ads.o:\n \t$(ADAC) -c $(ALL_ADAFLAGS) $(ADA_INCLUDES) $<\n \n+# how to regenerate this file\n+Makefile: ../config.status $(srcdir)/Makefile.in $(srcdir)/../version.c\n+\tcd ..; \\\n+\tLANGUAGES=\"$(CONFIG_LANGUAGES)\" \\\n+\tCONFIG_HEADERS= \\\n+\tCONFIG_FILES=ada/Makefile $(SHELL) config.status\n+\n # This tells GNU make version 3 not to export all the variables\n # defined in this file into the environment.\n .NOEXPORT:"}, {"sha": "9cc650e466dfd6ea7c1e4e13e0dcbef935602cfa", "filename": "gcc/configure", "status": "modified", "additions": 79, "deletions": 86, "changes": 165, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -5559,30 +5559,25 @@ topdir=`${PWDCMD-pwd}`\n cd $holddir\n \n # Conditionalize the makefile for this host machine.\n-# Make-host contains the concatenation of all host makefile fragments\n-# [there can be more than one].  This file is built by configure.frag.\n-host_overrides=Make-host\n-dep_host_xmake_file=\n+xmake_file=\n for f in .. ${host_xmake_file}\n do\n \tif test -f ${srcdir}/config/$f\n \tthen\n-\t\tdep_host_xmake_file=\"${dep_host_xmake_file} ${srcdir}/config/$f\"\n+\t\txmake_file=\"${xmake_file} \\$(srcdir)/config/$f\"\n \tfi\n done\n \n # Conditionalize the makefile for this target machine.\n-# Make-target contains the concatenation of all host makefile fragments\n-# [there can be more than one].  This file is built by configure.frag.\n-target_overrides=Make-target\n-dep_tmake_file=\n+tmake_file_=\n for f in .. ${tmake_file}\n do\n \tif test -f ${srcdir}/config/$f\n \tthen\n-\t\tdep_tmake_file=\"${dep_tmake_file} ${srcdir}/config/$f\"\n+\t\ttmake_file_=\"${tmake_file_} \\$(srcdir)/config/$f\"\n \tfi\n done\n+tmake_file=\"${tmake_file_}\"\n \n symbolic_link='ln -s'\n \n@@ -5806,7 +5801,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5810: checking what assembler to use\" >&5\n+echo \"configure:5805: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -5930,7 +5925,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5934: checking what linker to use\" >&5\n+echo \"configure:5929: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -6038,7 +6033,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6042: checking what nm to use\" >&5\n+echo \"configure:6037: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -6061,7 +6056,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6065: checking what objdump to use\" >&5\n+echo \"configure:6060: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -6086,7 +6081,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler for .balign and .p2align\"\"... $ac_c\" 1>&6\n-echo \"configure:6090: checking assembler for .balign and .p2align\" >&5\n+echo \"configure:6085: checking assembler for .balign and .p2align\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_balign_and_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6098,7 +6093,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '.balign 4\n .p2align 2' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6102: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6097: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_balign_and_p2align=yes\n     else\n@@ -6118,7 +6113,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .p2align with maximum skip\"\"... $ac_c\" 1>&6\n-echo \"configure:6122: checking assembler for .p2align with maximum skip\" >&5\n+echo \"configure:6117: checking assembler for .p2align with maximum skip\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_max_skip_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6129,7 +6124,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.p2align 4,,7' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6133: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6128: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_max_skip_p2align=yes\n     else\n@@ -6149,7 +6144,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for working .subsection -1\"\"... $ac_c\" 1>&6\n-echo \"configure:6153: checking assembler for working .subsection -1\" >&5\n+echo \"configure:6148: checking assembler for working .subsection -1\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_subsection_m1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6164,7 +6159,7 @@ fi\n .subsection -1\n conftest_label2: .word 0\n .previous' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6168: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6163: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_nm != x; then\n     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1\n@@ -6192,7 +6187,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .weak\"\"... $ac_c\" 1>&6\n-echo \"configure:6196: checking assembler for .weak\" >&5\n+echo \"configure:6191: checking assembler for .weak\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_weak'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6203,7 +6198,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weak foobar' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6207: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6202: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_weak=yes\n     else\n@@ -6230,7 +6225,7 @@ fi\n # to be safe.\n # The gcc_GAS_CHECK_FEATURE call just sets a cache variable.\n echo $ac_n \"checking assembler for .hidden\"\"... $ac_c\" 1>&6\n-echo \"configure:6234: checking assembler for .hidden\" >&5\n+echo \"configure:6229: checking assembler for .hidden\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6243,7 +6238,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.hidden foobar\n foobar:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6247: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6242: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_hidden=yes\n     else\n@@ -6258,7 +6253,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n \n echo $ac_n \"checking linker for .hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6262: checking linker for .hidden support\" >&5\n+echo \"configure:6257: checking linker for .hidden support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_ld_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6332,7 +6327,7 @@ fi\n \n # Check if we have .[us]leb128, and support symbol arithmetic with it.\n echo $ac_n \"checking assembler for .sleb128 and .uleb128\"\"... $ac_c\" 1>&6\n-echo \"configure:6336: checking assembler for .sleb128 and .uleb128\" >&5\n+echo \"configure:6331: checking assembler for .sleb128 and .uleb128\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_leb128'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6349,7 +6344,7 @@ L1:\n \t.uleb128 1280\n \t.sleb128 -1010\n L2:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6353: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6348: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# GAS versions before 2.11 do not support uleb128,\n   # despite appearing to.\n@@ -6385,7 +6380,7 @@ fi\n # GAS versions up to and including 2.11.0 may mis-optimize\n # .eh_frame data.\n echo $ac_n \"checking assembler for eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:6389: checking assembler for eh_frame optimization\" >&5\n+echo \"configure:6384: checking assembler for eh_frame optimization\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6428,7 +6423,7 @@ __FRAME_BEGIN__:\n \t.byte\t0x4\n \t.4byte\t.L1-.LFB1\n .LEFDE1:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6432: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6427: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t  cat > conftest.lit <<EOF\n  0000 10000000 00000000 017a0001 781a0004  .........z..x...\n@@ -6449,7 +6444,7 @@ EOF\n     || cmp conftest.big conftest.got > /dev/null 2>&1; }\n   then\n     gcc_cv_as_eh_frame=yes\n-  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6453: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n+  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6448: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n     gcc_cv_as_eh_frame=buggy\n   else\n     # Uh oh, what do we do now?\n@@ -6474,7 +6469,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:6478: checking assembler for section merging support\" >&5\n+echo \"configure:6473: checking assembler for section merging support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_shf_merge'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6486,7 +6481,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", @progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6490: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6485: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_shf_merge=yes\n     else\n@@ -6685,7 +6680,7 @@ if test -z \"$tls_first_major\"; then\n   : # If we don't have a check, assume no support.\n else\n   echo $ac_n \"checking assembler for thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:6689: checking assembler for thread-local storage support\" >&5\n+echo \"configure:6684: checking assembler for thread-local storage support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_tls'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6696,7 +6691,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6700: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6695: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_tls=yes\n     else\n@@ -6722,7 +6717,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:6726: checking assembler for explicit relocation support\" >&5\n+echo \"configure:6721: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_alpha_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6745,7 +6740,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6749: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6744: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_alpha_explicit_relocs=yes\n     else\n@@ -6767,14 +6762,14 @@ fi\n \n   sparc*-*-*)\n     echo $ac_n \"checking assembler for .register\"\"... $ac_c\" 1>&6\n-echo \"configure:6771: checking assembler for .register\" >&5\n+echo \"configure:6766: checking assembler for .register\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_register_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6778: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6773: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_register_op=yes\n     else\n@@ -6794,14 +6789,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for -relax option\"\"... $ac_c\" 1>&6\n-echo \"configure:6798: checking assembler for -relax option\" >&5\n+echo \"configure:6793: checking assembler for -relax option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_relax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6805: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6800: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_relax=yes\n     else\n@@ -6821,7 +6816,7 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for unaligned pcrel relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6825: checking assembler for unaligned pcrel relocs\" >&5\n+echo \"configure:6820: checking assembler for unaligned pcrel relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6834,7 +6829,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6838: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6833: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x \\\n        && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n@@ -6857,7 +6852,7 @@ EOF\n \n \n       echo $ac_n \"checking assembler for unaligned pcrel relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:6861: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n+echo \"configure:6856: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6872,7 +6867,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6876: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6871: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \\\n@@ -6905,7 +6900,7 @@ fi\n fi # unaligned pcrel relocs\n \n     echo $ac_n \"checking assembler for offsetable %lo()\"\"... $ac_c\" 1>&6\n-echo \"configure:6909: checking assembler for offsetable %lo()\" >&5\n+echo \"configure:6904: checking assembler for offsetable %lo()\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6914,7 +6909,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6918: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6913: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_objdump != x \\\n        && %gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \\\n@@ -6940,7 +6935,7 @@ fi\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler for filds and fists mnemonics\"\"... $ac_c\" 1>&6\n-echo \"configure:6944: checking assembler for filds and fists mnemonics\" >&5\n+echo \"configure:6939: checking assembler for filds and fists mnemonics\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_filds_fists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6951,7 +6946,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6955: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6950: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_filds_fists=yes\n     else\n@@ -6973,7 +6968,7 @@ fi\n     # This one is used unconditionally by i386.[ch]; it is to be defined\n     # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:6977: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:6972: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6988,7 +6983,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6992: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6987: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -7009,7 +7004,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:7013: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:7008: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7023,7 +7018,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7027: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7022: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ia64_ltoffx_ldxmov_relocs=yes\n     else\n@@ -7053,7 +7048,7 @@ fi\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:7057: checking assembler for mfcr field support\" >&5\n+echo \"configure:7052: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7064,7 +7059,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7068: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7063: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7086,7 +7081,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7090: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7085: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7097,7 +7092,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7101: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7096: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7143,7 +7138,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7147: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7142: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7155,7 +7150,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7159: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7154: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7177,15 +7172,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7181: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7176: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7189: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7184: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7208,7 +7203,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7212: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7207: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7220,7 +7215,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7224: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7219: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7240,7 +7235,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7244: checking assembler for --gstabs option\" >&5\n+echo \"configure:7239: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7252,12 +7247,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7256: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7251: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7261: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7256: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7279,7 +7274,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7283: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7278: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7318,7 +7313,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7322: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7317: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7340,7 +7335,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7344: checking linker position independent executable support\" >&5\n+echo \"configure:7339: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7365,7 +7360,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7369: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7364: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7570,7 +7565,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7574: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7569: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -7615,6 +7610,8 @@ all_compilers=\n all_stagestuff=\n all_outputs='Makefile fixinc/Makefile gccbug mklibgcc mkheaders'\n # List of language makefile fragments.\n+all_lang_makefrags=\n+# List of language subdirectory makefiles.  Deprecated.\n all_lang_makefiles=\n # Files for gengtype\n all_gtfiles=\"$target_gtfiles\"\n@@ -7629,7 +7626,6 @@ all_gtfiles_files_files=\n # The other mechanism is a set of hooks for each of the main targets\n # like `clean', `install', etc.\n \n-language_fragments=\"Make-lang\"\n language_hooks=\"Make-hooks\"\n \n for s in .. $subdirs\n@@ -7648,9 +7644,9 @@ do\n \t\t\techo \"${srcdir}/$s/config-lang.in doesn't set \\$language.\" 1>&2\n \t\t\texit 1\n \t\tfi\n-\t\tall_lang_makefiles=\"$all_lang_makefiles ${srcdir}/$s/Make-lang.in\"\n+\t\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$s/Make-lang.in\"\n \t\tif test -f ${srcdir}/$s/Makefile.in\n-\t\tthen all_lang_makefiles=\"$all_lang_makefiles ${srcdir}/$s/Makefile.in\"\n+\t\tthen all_lang_makefiles=\"$s/Makefile\"\n \t\tfi\n \t\tall_languages=\"$all_languages $language\"\n \t\tif test \"x$boot_language\" = xyes\n@@ -7799,9 +7795,6 @@ fi\n objdir=`${PWDCMD-pwd}`\n \n \n-# Process the language and host/target makefile fragments.\n-${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\" \"$dep_host_xmake_file\" \"$dep_tmake_file\"\n-\n # Substitute configuration variables\n \n \n@@ -7868,8 +7861,6 @@ ${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\" \"$dep_host_xma\n \n \n \n-\n-\n \n \n \n@@ -8137,6 +8128,7 @@ s%@all_compilers@%$all_compilers%g\n s%@all_gtfiles@%$all_gtfiles%g\n s%@all_gtfiles_files_langs@%$all_gtfiles_files_langs%g\n s%@all_gtfiles_files_files@%$all_gtfiles_files_files%g\n+s%@all_lang_makefrags@%$all_lang_makefrags%g\n s%@all_lang_makefiles@%$all_lang_makefiles%g\n s%@all_languages@%$all_languages%g\n s%@all_stagestuff@%$all_stagestuff%g\n@@ -8149,8 +8141,8 @@ s%@check_languages@%$check_languages%g\n s%@cc_set_by_configure@%$cc_set_by_configure%g\n s%@quoted_cc_set_by_configure@%$quoted_cc_set_by_configure%g\n s%@cpp_install_dir@%$cpp_install_dir%g\n-s%@dep_host_xmake_file@%$dep_host_xmake_file%g\n-s%@dep_tmake_file@%$dep_tmake_file%g\n+s%@xmake_file@%$xmake_file%g\n+s%@tmake_file@%$tmake_file%g\n s%@extra_headers_list@%$extra_headers_list%g\n s%@extra_objs@%$extra_objs%g\n s%@extra_parts@%$extra_parts%g\n@@ -8193,12 +8185,6 @@ s%@xm_defines@%$xm_defines%g\n s%@c_target_objs@%$c_target_objs%g\n s%@cxx_target_objs@%$cxx_target_objs%g\n s%@target_cpu_default@%$target_cpu_default%g\n-/@target_overrides@/r $target_overrides\n-s%@target_overrides@%%g\n-/@host_overrides@/r $host_overrides\n-s%@host_overrides@%%g\n-/@language_fragments@/r $language_fragments\n-s%@language_fragments@%%g\n /@language_hooks@/r $language_hooks\n s%@language_hooks@%%g\n \n@@ -8415,6 +8401,13 @@ case x$CONFIG_HEADERS in\n xauto-host.h:config.in)\n echo > cstamp-h ;;\n esac\n+# Make sure all the subdirs exist.\n+for d in .. $subdirs\n+do\n+  if test $d != ..; then\n+    test -d $d || mkdir $d\n+  fi\n+done\n # If the host supports symlinks, point stage[1234] at ../stage[1234] so\n # bootstrapping and the installation procedure can still use\n # CC=\"stage1/xgcc -Bstage1/\".  If the host doesn't support symlinks,"}, {"sha": "2fdbca8bd41c8d3162b63af2bbe23135cbf7a392", "filename": "gcc/configure.frag", "status": "removed", "additions": 0, "deletions": 77, "changes": 77, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9b6ebadd72d510ae8eb7858f74ba48135b4df3/gcc%2Fconfigure.frag", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9b6ebadd72d510ae8eb7858f74ba48135b4df3/gcc%2Fconfigure.frag", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.frag?ref=ec9b6ebadd72d510ae8eb7858f74ba48135b4df3", "patch": "@@ -1,77 +0,0 @@\n-# configure.frag for GCC\n-# Process the host/target/language Makefile fragments.\n-\n-# Copyright (C) 1997 Free Software Foundation, Inc.\n-\n-#This file is part of GCC.\n-\n-#GCC is free software; you can redistribute it and/or modify it under\n-#the terms of the GNU General Public License as published by the Free\n-#Software Foundation; either version 2, or (at your option) any later\n-#version.\n-\n-#GCC is distributed in the hope that it will be useful, but WITHOUT\n-#ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n-#FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n-#for more details.\n-\n-#You should have received a copy of the GNU General Public License\n-#along with GCC; see the file COPYING.  If not, write to the Free\n-#Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n-#02111-1307, USA.\n-\n-# First parameter is the source directory, second is list of subdirectories,\n-# third is list of host makefile fragments, fourth is list of target makefile\n-# fragments.\n-\n-srcdir=$1\n-subdirs=$2\n-xmake_files=$3\n-tmake_files=$4\n-\n-# Copy all the host makefile fragments into Make-host.\n-\n-rm -f Make-host\n-touch Make-host\n-for f in .. $xmake_files\n-do\n-\tif [ -f $f ]\n-\tthen\n-\t\tcat $f >> Make-host\n-\tfi\n-done\n-\n-# Copy all the target makefile fragments into Make-target.\n-\n-rm -f Make-target\n-touch Make-target\n-for f in .. $tmake_files\n-do\n-\tif [ -f $f ]\n-\tthen\n-\t\tcat $f >> Make-target\n-\tfi\n-done\n-\n-# Ensure the language build subdirectories exist.\n-\n-for subdir in . $subdirs\n-do\n-\tif [ $subdir != . ]\n-\tthen\n-\t\ttest -d $subdir || mkdir $subdir\n-\tfi\n-done\n-\n-# Now copy each language's Make-lang.in file to Make-lang.\n-\n-rm -f Make-lang\n-touch Make-lang\n-\n-for subdir in . $subdirs\n-do\n-\tif [ $subdir != . ]\n-\tthen\n-\t\tcat $srcdir/$subdir/Make-lang.in >> Make-lang\n-\tfi\n-done"}, {"sha": "01d3e49a50fd5aa3022b9cd427948a2dce98dde3", "filename": "gcc/configure.in", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2ed26f6bd11f3e6321338fc6423257f418e1081c/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=2ed26f6bd11f3e6321338fc6423257f418e1081c", "patch": "@@ -1264,30 +1264,25 @@ topdir=`${PWDCMD-pwd}`\n cd $holddir\n \n # Conditionalize the makefile for this host machine.\n-# Make-host contains the concatenation of all host makefile fragments\n-# [there can be more than one].  This file is built by configure.frag.\n-host_overrides=Make-host\n-dep_host_xmake_file=\n+xmake_file=\n for f in .. ${host_xmake_file}\n do\n \tif test -f ${srcdir}/config/$f\n \tthen\n-\t\tdep_host_xmake_file=\"${dep_host_xmake_file} ${srcdir}/config/$f\"\n+\t\txmake_file=\"${xmake_file} \\$(srcdir)/config/$f\"\n \tfi\n done\n \n # Conditionalize the makefile for this target machine.\n-# Make-target contains the concatenation of all host makefile fragments\n-# [there can be more than one].  This file is built by configure.frag.\n-target_overrides=Make-target\n-dep_tmake_file=\n+tmake_file_=\n for f in .. ${tmake_file}\n do\n \tif test -f ${srcdir}/config/$f\n \tthen\n-\t\tdep_tmake_file=\"${dep_tmake_file} ${srcdir}/config/$f\"\n+\t\ttmake_file_=\"${tmake_file_} \\$(srcdir)/config/$f\"\n \tfi\n done\n+tmake_file=\"${tmake_file_}\"\n \n symbolic_link='ln -s'\n \n@@ -2726,6 +2721,8 @@ all_compilers=\n all_stagestuff=\n all_outputs='Makefile fixinc/Makefile gccbug mklibgcc mkheaders'\n # List of language makefile fragments.\n+all_lang_makefrags=\n+# List of language subdirectory makefiles.  Deprecated.\n all_lang_makefiles=\n # Files for gengtype\n all_gtfiles=\"$target_gtfiles\"\n@@ -2740,7 +2737,6 @@ all_gtfiles_files_files=\n # The other mechanism is a set of hooks for each of the main targets\n # like `clean', `install', etc.\n \n-language_fragments=\"Make-lang\"\n language_hooks=\"Make-hooks\"\n \n for s in .. $subdirs\n@@ -2759,9 +2755,9 @@ do\n \t\t\techo \"${srcdir}/$s/config-lang.in doesn't set \\$language.\" 1>&2\n \t\t\texit 1\n \t\tfi\n-\t\tall_lang_makefiles=\"$all_lang_makefiles ${srcdir}/$s/Make-lang.in\"\n+\t\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$s/Make-lang.in\"\n \t\tif test -f ${srcdir}/$s/Makefile.in\n-\t\tthen all_lang_makefiles=\"$all_lang_makefiles ${srcdir}/$s/Makefile.in\"\n+\t\tthen all_lang_makefiles=\"$s/Makefile\"\n \t\tfi\n \t\tall_languages=\"$all_languages $language\"\n \t\tif test \"x$boot_language\" = xyes\n@@ -2906,9 +2902,6 @@ AC_SUBST(slibdir)\n objdir=`${PWDCMD-pwd}`\n AC_SUBST(objdir)\n \n-# Process the language and host/target makefile fragments.\n-${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir \"$subdirs\" \"$dep_host_xmake_file\" \"$dep_tmake_file\"\n-\n # Substitute configuration variables\n AC_SUBST(subdirs)\n AC_SUBST(srcdir)\n@@ -2917,6 +2910,7 @@ AC_SUBST(all_compilers)\n AC_SUBST(all_gtfiles)\n AC_SUBST(all_gtfiles_files_langs)\n AC_SUBST(all_gtfiles_files_files)\n+AC_SUBST(all_lang_makefrags)\n AC_SUBST(all_lang_makefiles)\n AC_SUBST(all_languages)\n AC_SUBST(all_stagestuff)\n@@ -2929,8 +2923,8 @@ AC_SUBST(check_languages)\n AC_SUBST(cc_set_by_configure)\n AC_SUBST(quoted_cc_set_by_configure)\n AC_SUBST(cpp_install_dir)\n-AC_SUBST(dep_host_xmake_file)\n-AC_SUBST(dep_tmake_file)\n+AC_SUBST(xmake_file)\n+AC_SUBST(tmake_file)\n AC_SUBST(extra_headers_list)\n AC_SUBST(extra_objs)\n AC_SUBST(extra_parts)\n@@ -2975,9 +2969,6 @@ AC_SUBST(c_target_objs)\n AC_SUBST(cxx_target_objs)\n AC_SUBST(target_cpu_default)\n \n-AC_SUBST_FILE(target_overrides)\n-AC_SUBST_FILE(host_overrides)\n-AC_SUBST_FILE(language_fragments)\n AC_SUBST_FILE(language_hooks)\n \n # Echo that links are built\n@@ -3017,6 +3008,13 @@ case x$CONFIG_HEADERS in\n xauto-host.h:config.in)\n echo > cstamp-h ;;\n esac\n+# Make sure all the subdirs exist.\n+for d in .. $subdirs\n+do\n+  if test $d != ..; then\n+    test -d $d || mkdir $d\n+  fi\n+done\n # If the host supports symlinks, point stage[1234] at ../stage[1234] so\n # bootstrapping and the installation procedure can still use\n # CC=\"stage1/xgcc -Bstage1/\".  If the host doesn't support symlinks,"}]}