{"sha": "ee44c28d39db91a3f562fdff9b1689d039c04023", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU0NGMyOGQzOWRiOTFhM2Y1NjJmZGZmOWIxNjg5ZDAzOWMwNDAyMw==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-07-16T11:50:29Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-07-16T11:50:29Z"}, "message": "haifa-sched.c (init_before_recovery): Do not set EDGE_CAN_FALLTHRU.\n\n\t* haifa-sched.c (init_before_recovery): Do not set EDGE_CAN_FALLTHRU.\n\t* cfgrtl.c (force_nonfallthru_and_redirect): Likewise.\n\nFrom-SVN: r189523", "tree": {"sha": "742cde71cc97835563df083d97bdd0724e48c4b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/742cde71cc97835563df083d97bdd0724e48c4b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee44c28d39db91a3f562fdff9b1689d039c04023", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee44c28d39db91a3f562fdff9b1689d039c04023", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee44c28d39db91a3f562fdff9b1689d039c04023", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee44c28d39db91a3f562fdff9b1689d039c04023/comments", "author": null, "committer": null, "parents": [{"sha": "b3c144a3a7bff42cd361d49c0b2d0f293d1627a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3c144a3a7bff42cd361d49c0b2d0f293d1627a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3c144a3a7bff42cd361d49c0b2d0f293d1627a1"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "6c6ecff72cd8cd3c2c1da43eb9e31d621e2699b4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee44c28d39db91a3f562fdff9b1689d039c04023", "patch": "@@ -1,5 +1,16 @@\n 2012-07-16  Steven Bosscher  <steven@gcc.gnu.org>\n \n+\t* haifa-sched.c (init_before_recovery): Do not set EDGE_CAN_FALLTHRU.\n+\t* cfgrtl.c (force_nonfallthru_and_redirect): Likewise.\n+\n+\t* function.c (stack_protect_epilogue): Use expand_call to expand\n+\ttargetm.stack_protect_fail.\n+\t* stmt.c (expand_expr_stmt): Remove now-unused function.\n+\t* tree.h (expand_expr_stmt): Remove prototype.\n+\t* doc/tm.texi.in (TARGET_STACK_PROTECT_FAIL): Document that this\n+\thook must return a CALL_EXPR.\n+\t* doc/tm.texi: Regenerate.\n+\n \t* emit-rtl.c (emit_label_before): Do not allow the same label\n         to be emitted twice.\n \t(emit_label_after): Likewise."}, {"sha": "34e8bd45b81916a8baecb8b3dabf36a0155cb72e", "filename": "gcc/cfgrtl.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2Fcfgrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2Fcfgrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgrtl.c?ref=ee44c28d39db91a3f562fdff9b1689d039c04023", "patch": "@@ -1365,8 +1365,8 @@ force_nonfallthru_and_redirect (edge e, basic_block target, rtx jump_label)\n \t one and create separate abnormal edge to original destination.\n \t This allows bb-reorder to make such edge non-fallthru.  */\n       gcc_assert (e->dest == target);\n-      abnormal_edge_flags = e->flags & ~(EDGE_FALLTHRU | EDGE_CAN_FALLTHRU);\n-      e->flags &= EDGE_FALLTHRU | EDGE_CAN_FALLTHRU;\n+      abnormal_edge_flags = e->flags & ~EDGE_FALLTHRU;\n+      e->flags &= EDGE_FALLTHRU;\n     }\n   else\n     {"}, {"sha": "9cd0070998a0f4a8decf66819f7327583532dd1a", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee44c28d39db91a3f562fdff9b1689d039c04023/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=ee44c28d39db91a3f562fdff9b1689d039c04023", "patch": "@@ -7194,8 +7194,7 @@ init_before_recovery (basic_block *before_recovery_ptr)\n \n       redirect_edge_succ (e, single);\n       make_single_succ_edge (single, empty, 0);\n-      make_single_succ_edge (empty, EXIT_BLOCK_PTR,\n-\t\t\t     EDGE_FALLTHRU | EDGE_CAN_FALLTHRU);\n+      make_single_succ_edge (empty, EXIT_BLOCK_PTR, EDGE_FALLTHRU);\n \n       label = block_label (empty);\n       x = emit_jump_insn_after (gen_jump (label), BB_END (single));"}]}