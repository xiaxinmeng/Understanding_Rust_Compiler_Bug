{"sha": "593dbe119116727d9af8dcccf8f6cb6f7a98c243", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkzZGJlMTE5MTE2NzI3ZDlhZjhkY2NjZjhmNmNiNmY3YTk4YzI0Mw==", "commit": {"author": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-05-04T19:37:59Z"}, "committer": {"name": "Steven Bosscher", "email": "steven@gcc.gnu.org", "date": "2012-05-04T19:37:59Z"}, "message": "rtl.def (ATTR_FLAG): Remove probability indicating flags.\n\n\n\t* rtl.def (ATTR_FLAG): Remove probability indicating flags.\n\t* genattr.c (main): Remove ATTR_FLAG_likely, ATTR_FLAG_unlikely,\n\tATTR_FLAG_very_likely, and ATTR_FLAG_very_unlikely.\n\t* reorg.c (get_jump_flags): Do not set the removed flags.\n\nFrom-SVN: r187178", "tree": {"sha": "aea7a92f45feaea479eac6a725605bbb4069c390", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aea7a92f45feaea479eac6a725605bbb4069c390"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/593dbe119116727d9af8dcccf8f6cb6f7a98c243", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/593dbe119116727d9af8dcccf8f6cb6f7a98c243", "html_url": "https://github.com/Rust-GCC/gccrs/commit/593dbe119116727d9af8dcccf8f6cb6f7a98c243", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/593dbe119116727d9af8dcccf8f6cb6f7a98c243/comments", "author": null, "committer": null, "parents": [{"sha": "780140d3aff36953179cad94fb5fd2c555e24914", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/780140d3aff36953179cad94fb5fd2c555e24914", "html_url": "https://github.com/Rust-GCC/gccrs/commit/780140d3aff36953179cad94fb5fd2c555e24914"}], "stats": {"total": 50, "additions": 9, "deletions": 41}, "files": [{"sha": "f09c70eb2223bd857115fbb42d402fc9920e62b5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=593dbe119116727d9af8dcccf8f6cb6f7a98c243", "patch": "@@ -1,3 +1,10 @@\n+2012-05-04  Steven Bosscher  <steven@gcc.gnu.org>\n+\n+\t* rtl.def (ATTR_FLAG): Remove probability indicating flags.\n+\t* genattr.c (main): Remove ATTR_FLAG_likely, ATTR_FLAG_unlikely,\n+\tATTR_FLAG_very_likely, and ATTR_FLAG_very_unlikely.\n+\t* reorg.c (get_jump_flags): Do not set the removed flags.\n+\n 2012-05-04  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/53228"}, {"sha": "33030b1b2de6b6d7d6f4b72807c00e1345a2222f", "filename": "gcc/genattr.c", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Fgenattr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Fgenattr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattr.c?ref=593dbe119116727d9af8dcccf8f6cb6f7a98c243", "patch": "@@ -344,14 +344,9 @@ main (int argc, char **argv)\n \n   /* Output flag masks for use by reorg.\n \n-     Flags are used to hold branch direction and prediction information\n-     for use by eligible_for_...  */\n+     Flags are used to hold branch direction for use by eligible_for_...  */\n   printf(\"\\n#define ATTR_FLAG_forward\\t0x1\\n\");\n   printf(\"#define ATTR_FLAG_backward\\t0x2\\n\");\n-  printf(\"#define ATTR_FLAG_likely\\t0x4\\n\");\n-  printf(\"#define ATTR_FLAG_very_likely\\t0x8\\n\");\n-  printf(\"#define ATTR_FLAG_unlikely\\t0x10\\n\");\n-  printf(\"#define ATTR_FLAG_very_unlikely\\t0x20\\n\");\n \n   puts(\"\\n#endif /* GCC_INSN_ATTR_H */\");\n "}, {"sha": "e99fe02bd050b4cb2d7807f667424b0b23e4a0fc", "filename": "gcc/reorg.c", "status": "modified", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=593dbe119116727d9af8dcccf8f6cb6f7a98c243", "patch": "@@ -903,38 +903,6 @@ get_jump_flags (rtx insn, rtx label)\n   else\n     flags = 0;\n \n-  /* If insn is a conditional branch call mostly_true_jump to get\n-     determine the branch prediction.\n-\n-     Non conditional branches are predicted as very likely taken.  */\n-  if (JUMP_P (insn)\n-      && (condjump_p (insn) || condjump_in_parallel_p (insn)))\n-    {\n-      int prediction;\n-\n-      prediction = mostly_true_jump (insn, get_branch_condition (insn, label));\n-      switch (prediction)\n-\t{\n-\tcase 2:\n-\t  flags |= (ATTR_FLAG_very_likely | ATTR_FLAG_likely);\n-\t  break;\n-\tcase 1:\n-\t  flags |= ATTR_FLAG_likely;\n-\t  break;\n-\tcase 0:\n-\t  flags |= ATTR_FLAG_unlikely;\n-\t  break;\n-\tcase -1:\n-\t  flags |= (ATTR_FLAG_very_unlikely | ATTR_FLAG_unlikely);\n-\t  break;\n-\n-\tdefault:\n-\t  gcc_unreachable ();\n-\t}\n-    }\n-  else\n-    flags |= (ATTR_FLAG_very_likely | ATTR_FLAG_likely);\n-\n   return flags;\n }\n "}, {"sha": "0695d640fce50156c42da6d8c86e8e4f67600455", "filename": "gcc/rtl.def", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Frtl.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/593dbe119116727d9af8dcccf8f6cb6f7a98c243/gcc%2Frtl.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.def?ref=593dbe119116727d9af8dcccf8f6cb6f7a98c243", "patch": "@@ -1268,9 +1268,7 @@ DEF_RTL_EXPR(EQ_ATTR_ALT, \"eq_attr_alt\", \"ii\", RTX_EXTRA)\n    true for the insn being scheduled in reorg.\n \n    genattr.c defines the following flags which can be tested by\n-   (attr_flag \"foo\") expressions in eligible_for_delay.\n-\n-   forward, backward, very_likely, likely, very_unlikely, and unlikely.  */\n+   (attr_flag \"foo\") expressions in eligible_for_delay: forward, backward.  */\n \n DEF_RTL_EXPR (ATTR_FLAG, \"attr_flag\", \"s\", RTX_EXTRA)\n "}]}