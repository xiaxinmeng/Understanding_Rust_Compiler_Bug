{"sha": "3ec3a9feb83d98715c97c0df4ae751a4eb582956", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VjM2E5ZmViODNkOTg3MTVjOTdjMGRmNGFlNzUxYTRlYjU4Mjk1Ng==", "commit": {"author": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2021-05-13T18:10:10Z"}, "committer": {"name": "Bill Schmidt", "email": "wschmidt@linux.ibm.com", "date": "2021-05-15T19:05:05Z"}, "message": "rs6000: Conditionally define __ROP_PROTECT__\n\n2021-05-13  Bill Schmidt  <wschmidt@linux.ibm.com>\n\ngcc/\n\t* config/rs6000/rs6000-c.c (rs6000_target_modify_macros): Define\n\t__ROP_PROTECT__ if -mrop-protect is selected.", "tree": {"sha": "4c1b6d2af19df91d050849801f22f946d547ab94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c1b6d2af19df91d050849801f22f946d547ab94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ec3a9feb83d98715c97c0df4ae751a4eb582956", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ec3a9feb83d98715c97c0df4ae751a4eb582956", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ec3a9feb83d98715c97c0df4ae751a4eb582956", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ec3a9feb83d98715c97c0df4ae751a4eb582956/comments", "author": null, "committer": null, "parents": [{"sha": "af979a98bce444082cd5fc5d358dcdf3f65fdfce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af979a98bce444082cd5fc5d358dcdf3f65fdfce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af979a98bce444082cd5fc5d358dcdf3f65fdfce"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "afcb5bb6e39f7346898bbbd3eaefdfc59768d530", "filename": "gcc/config/rs6000/rs6000-c.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ec3a9feb83d98715c97c0df4ae751a4eb582956/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ec3a9feb83d98715c97c0df4ae751a4eb582956/gcc%2Fconfig%2Frs6000%2Frs6000-c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-c.c?ref=3ec3a9feb83d98715c97c0df4ae751a4eb582956", "patch": "@@ -602,6 +602,9 @@ rs6000_target_modify_macros (bool define_p, HOST_WIDE_INT flags,\n   /* Whether pc-relative code is being generated.  */\n   if ((flags & OPTION_MASK_PCREL) != 0)\n     rs6000_define_or_undefine_macro (define_p, \"__PCREL__\");\n+  /* Tell the user -mrop-protect is in play.  */\n+  if (rs6000_rop_protect)\n+    rs6000_define_or_undefine_macro (define_p, \"__ROP_PROTECT__\");\n }\n \n void"}]}