{"sha": "262121f07030ee05586e59aad705082990776b21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjYyMTIxZjA3MDMwZWUwNTU4NmU1OWFhZDcwNTA4Mjk5MDc3NmIyMQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-12-16T00:42:21Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-12-16T00:42:21Z"}, "message": "(return peepholes): Add QImode and HImode move/return patterns.\n\nFrom-SVN: r2876", "tree": {"sha": "6444bf620127e2736378622f3a2eb03d0a8841ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6444bf620127e2736378622f3a2eb03d0a8841ae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/262121f07030ee05586e59aad705082990776b21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/262121f07030ee05586e59aad705082990776b21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/262121f07030ee05586e59aad705082990776b21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/262121f07030ee05586e59aad705082990776b21/comments", "author": null, "committer": null, "parents": [{"sha": "190315a70fb4c830a6a4ac6081f15a8aab0d9ffd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/190315a70fb4c830a6a4ac6081f15a8aab0d9ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/190315a70fb4c830a6a4ac6081f15a8aab0d9ffd"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "33b50f9e2af2c5a5ae3090a791652a6d9113ef14", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/262121f07030ee05586e59aad705082990776b21/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/262121f07030ee05586e59aad705082990776b21/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=262121f07030ee05586e59aad705082990776b21", "patch": "@@ -3050,6 +3050,37 @@\n \n ;; Return peepholes.  First the \"normal\" ones\n \n+;; ??? There are QImode, HImode, and SImode versions of this pattern.\n+;; It might be possible to write one more general pattern instead of three.\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"restore_operand\" \"\")\n+\t(match_operand:QI 1 \"arith_operand\" \"rI\"))\n+   (return)]\n+  \"! TARGET_EPILOGUE\"\n+  \"*\n+{\n+  if (current_function_returns_struct)\n+    return \\\"jmp %%i7+12\\;restore %%g0,%1,%Y0\\\";\n+  else\n+    return \\\"ret\\;restore %%g0,%1,%Y0\\\";\n+}\"\n+  [(set_attr \"type\" \"multi\")])\n+\n+(define_insn \"\"\n+  [(set (match_operand:HI 0 \"restore_operand\" \"\")\n+\t(match_operand:HI 1 \"arith_operand\" \"rI\"))\n+   (return)]\n+  \"! TARGET_EPILOGUE\"\n+  \"*\n+{\n+  if (current_function_returns_struct)\n+    return \\\"jmp %%i7+12\\;restore %%g0,%1,%Y0\\\";\n+  else\n+    return \\\"ret\\;restore %%g0,%1,%Y0\\\";\n+}\"\n+  [(set_attr \"type\" \"multi\")])\n+\n (define_insn \"\"\n   [(set (match_operand:SI 0 \"restore_operand\" \"\")\n \t(match_operand:SI 1 \"arith_operand\" \"rI\"))"}]}