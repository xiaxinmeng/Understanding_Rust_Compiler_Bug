{"sha": "7c663eb02206a552e72c555e10270ecb2d7e5ac8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M2NjNlYjAyMjA2YTU1MmU3MmM1NTVlMTAyNzBlY2IyZDdlNWFjOA==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2010-10-11T20:23:04Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2010-10-11T20:23:04Z"}, "message": "re PR c++/45562 (ICE: SIGSEGV in cp_build_unary_op (typeck.c:5083) with -std=gnu++0x -fipa-cp-clone -fcompare-debug)\n\n2010-10-11  Martin Jambor  <mjambor@suse.cz>\n\n\tPR c++/45562\n\t* cp/cp-tree.h (current_class_ref): Check that cp_function_chain is\n\tnon-NULL.\n\t* cp/call.c (build_cxx_call): Likewise.\n\nFrom-SVN: r165330", "tree": {"sha": "d47e835201f3ad092d15e204bbace52b7e8b3655", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d47e835201f3ad092d15e204bbace52b7e8b3655"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c663eb02206a552e72c555e10270ecb2d7e5ac8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c663eb02206a552e72c555e10270ecb2d7e5ac8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c663eb02206a552e72c555e10270ecb2d7e5ac8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c663eb02206a552e72c555e10270ecb2d7e5ac8/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "579c1bf3497bbf3ad2b1a6c3da25dcb0234925b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/579c1bf3497bbf3ad2b1a6c3da25dcb0234925b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/579c1bf3497bbf3ad2b1a6c3da25dcb0234925b1"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "5b0890627b7c12a394067fb010290ed68c0f323c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7c663eb02206a552e72c555e10270ecb2d7e5ac8", "patch": "@@ -1,3 +1,10 @@\n+2010-10-11  Martin Jambor  <mjambor@suse.cz>\n+\n+\tPR c++/45562\n+\t* cp-tree.h (current_class_ref): Check that cp_function_chain is\n+\tnon-NULL.\n+\t* call.c (build_cxx_call): Likewise.\n+\n 2010-10-10  Jason Merrill  <jason@redhat.com>\n \n \t* pt.c (tsubst_default_argument): Handle DEFAULT_ARG."}, {"sha": "d3231913312233f850794d2ab14a8dc53f122768", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=7c663eb02206a552e72c555e10270ecb2d7e5ac8", "patch": "@@ -6082,7 +6082,8 @@ build_cxx_call (tree fn, int nargs, tree *argarray)\n   fndecl = get_callee_fndecl (fn);\n   if ((!fndecl || !TREE_NOTHROW (fndecl))\n       && at_function_scope_p ()\n-      && cfun)\n+      && cfun\n+      && cp_function_chain)\n     cp_function_chain->can_throw = 1;\n \n   /* Check that arguments to builtin functions match the expectations.  */"}, {"sha": "bfc6fd3d27b65ce2cbc5be29580d9e76514158e3", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c663eb02206a552e72c555e10270ecb2d7e5ac8/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=7c663eb02206a552e72c555e10270ecb2d7e5ac8", "patch": "@@ -1055,7 +1055,8 @@ struct GTY(()) language_function {\n   (cfun && cp_function_chain\t\t\t\t\t\\\n    ? cp_function_chain->x_current_class_ptr : NULL_TREE)\n #define current_class_ref \\\n-  (cfun ? cp_function_chain->x_current_class_ref : NULL_TREE)\n+  ((cfun && cp_function_chain)                                  \\\n+   ? cp_function_chain->x_current_class_ref : NULL_TREE)\n \n /* The EH_SPEC_BLOCK for the exception-specifiers for the current\n    function, if any.  */"}]}