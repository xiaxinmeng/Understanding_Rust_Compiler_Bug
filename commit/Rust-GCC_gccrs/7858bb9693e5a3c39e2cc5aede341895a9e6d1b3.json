{"sha": "7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzg1OGJiOTY5M2U1YTNjMzllMmNjNWFlZGUzNDE4OTVhOWU2ZDFiMw==", "commit": {"author": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2019-12-13T07:58:53Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2019-12-13T07:58:53Z"}, "message": "libgomp/openacc.f90 \u2013 clean-up public/private attributes\n\n        libgomp/\n        * openacc.f90 (module openacc_kinds): Use 'PUBLIC' to mark all symbols\n        as public except for the 'use \u2026, only' imported symbol, which is\n        private.\n        (module openacc): Default to 'PRIVATE' to exclude openacc_internal; mark\n        all symbols from module openacc_kinds as PUBLIC; add missing PUBLIC\n        attributes for acc_copyout_finalize and acc_delete_finalize.\n\nFrom-SVN: r279337", "tree": {"sha": "3134206960ee6ca2a1cd8835b413a2c19f463c50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3134206960ee6ca2a1cd8835b413a2c19f463c50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "396c2a9842f0f565b86efcb41bb3386da5dca889", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/396c2a9842f0f565b86efcb41bb3386da5dca889", "html_url": "https://github.com/Rust-GCC/gccrs/commit/396c2a9842f0f565b86efcb41bb3386da5dca889"}], "stats": {"total": 29, "additions": 20, "deletions": 9}, "files": [{"sha": "136ba6cbdb3fcd08f54da92f5760f52b54beae5e", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "patch": "@@ -1,3 +1,12 @@\n+2019-12-13  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* openacc.f90 (module openacc_kinds): Use 'PUBLIC' to mark all symbols\n+\tas public except for the 'use \u2026, only' imported symbol, which is\n+\tprivate.\n+\t(module openacc): Default to 'PRIVATE' to exclude openacc_internal; mark\n+\tall symbols from module openacc_kinds as PUBLIC; add missing PUBLIC\n+\tattributes for acc_copyout_finalize and acc_delete_finalize.\n+\n 2019-12-11  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/92899"}, {"sha": "b37f1872d504705d107c4e8cb6d7339d325d0b21", "filename": "libgomp/openacc.f90", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3/libgomp%2Fopenacc.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7858bb9693e5a3c39e2cc5aede341895a9e6d1b3/libgomp%2Fopenacc.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fopenacc.f90?ref=7858bb9693e5a3c39e2cc5aede341895a9e6d1b3", "patch": "@@ -31,13 +31,12 @@ module openacc_kinds\n   use iso_fortran_env, only: int32\n   implicit none\n \n+  public\n   private :: int32\n-  public :: acc_device_kind\n \n-  integer, parameter :: acc_device_kind = int32\n+  ! When adding items, also update 'public' setting in 'module openmp' below.\n \n-  public :: acc_device_none, acc_device_default, acc_device_host\n-  public :: acc_device_not_host, acc_device_nvidia\n+  integer, parameter :: acc_device_kind = int32\n \n   ! Keep in sync with include/gomp-constants.h.\n   integer (acc_device_kind), parameter :: acc_device_none = 0\n@@ -48,16 +47,11 @@ module openacc_kinds\n   integer (acc_device_kind), parameter :: acc_device_nvidia = 5\n   integer (acc_device_kind), parameter :: acc_device_gcn = 8\n \n-  public :: acc_handle_kind\n-\n   integer, parameter :: acc_handle_kind = int32\n \n-  public :: acc_async_noval, acc_async_sync\n-\n   ! Keep in sync with include/gomp-constants.h.\n   integer (acc_handle_kind), parameter :: acc_async_noval = -1\n   integer (acc_handle_kind), parameter :: acc_async_sync = -2\n-\n end module\n \n module openacc_internal\n@@ -717,6 +711,13 @@ module openacc\n   use openacc_internal\n   implicit none\n \n+  private\n+  ! From openacc_kinds\n+  public :: acc_device_kind, acc_handle_kind\n+  public :: acc_device_none, acc_device_default, acc_device_host\n+  public :: acc_device_not_host, acc_device_nvidia, acc_device_gcn\n+  public :: acc_async_noval, acc_async_sync\n+\n   public :: openacc_version\n \n   public :: acc_get_num_devices, acc_set_device_type, acc_get_device_type\n@@ -730,6 +731,7 @@ module openacc\n   public :: acc_update_device, acc_update_self, acc_is_present\n   public :: acc_copyin_async, acc_create_async, acc_copyout_async\n   public :: acc_delete_async, acc_update_device_async, acc_update_self_async\n+  public :: acc_copyout_finalize, acc_delete_finalize\n \n   integer, parameter :: openacc_version = 201306\n "}]}