{"sha": "f4769721584220bb4ac82f54f77a0a94b3be42aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ3Njk3MjE1ODQyMjBiYjRhYzgyZjU0Zjc3YTBhOTRiM2JlNDJhYQ==", "commit": {"author": {"name": "Denis Chertykov", "email": "denisc@overta.ru", "date": "2002-08-13T09:58:37Z"}, "committer": {"name": "Denis Chertykov", "email": "denisc@gcc.gnu.org", "date": "2002-08-13T09:58:37Z"}, "message": "ip2k.c (commands_in_file): Variable removed.\n\n\t* config/ip2k/ip2k.c (commands_in_file): Variable removed.\n\t(function_epilogue): Don't calculate function size.\n\t(ip2k_set_compare): Don't use lookup_const_double.\n\t(asm_file_start): Initialization of commands_in_file removed.\n\t(asm_file_end): Output of commands_in_file removed.\n\n\t* config/ip2k/ip2k.c (CPP_PREDEFINES): Remove definition of\n\t__INT_MAX__.\n\nFrom-SVN: r56249", "tree": {"sha": "a2384d5bf54aa699b1551dda698470735ce07e78", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2384d5bf54aa699b1551dda698470735ce07e78"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4769721584220bb4ac82f54f77a0a94b3be42aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4769721584220bb4ac82f54f77a0a94b3be42aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4769721584220bb4ac82f54f77a0a94b3be42aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4769721584220bb4ac82f54f77a0a94b3be42aa/comments", "author": null, "committer": null, "parents": [{"sha": "a3b5decfef52a8299111fbb8a2c9bd57abfc810f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3b5decfef52a8299111fbb8a2c9bd57abfc810f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3b5decfef52a8299111fbb8a2c9bd57abfc810f"}], "stats": {"total": 36, "additions": 16, "deletions": 20}, "files": [{"sha": "2230f7779acfdbf322ca36bdfb65f88e5ec89c13", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4769721584220bb4ac82f54f77a0a94b3be42aa", "patch": "@@ -1,3 +1,14 @@\n+2002-08-13  Denis Chertykov  <denisc@overta.ru>\n+\n+\t* config/ip2k/ip2k.c (commands_in_file): Variable removed.\n+\t(function_epilogue): Don't calculate function size.\n+\t(ip2k_set_compare): Don't use lookup_const_double.\n+\t(asm_file_start): Initialization of commands_in_file removed.\n+\t(asm_file_end): Output of commands_in_file removed.\n+\t\n+\t* config/ip2k/ip2k.c (CPP_PREDEFINES): Remove definition of\n+\t__INT_MAX__.\n+\n 2002-08-13  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* c-opts.c (c_common_init_options): Check option array is"}, {"sha": "94845fabfd274b0350dd735a692020b2d1ef28d1", "filename": "gcc/config/ip2k/ip2k.c", "status": "modified", "additions": 4, "deletions": 19, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2Fconfig%2Fip2k%2Fip2k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2Fconfig%2Fip2k%2Fip2k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fip2k%2Fip2k.c?ref=f4769721584220bb4ac82f54f77a0a94b3be42aa", "patch": "@@ -90,9 +90,6 @@ static void mdr_try_wreg_elim PARAMS ((rtx));\n \n struct gcc_target targetm = TARGET_INITIALIZER;\n \n-/* Commands count in the compiled file.  */\n-static int commands_in_file;\n-\n /* Commands in the functions prologues in the compiled file.  */\n static int commands_in_prologues;\n \n@@ -304,7 +301,6 @@ function_epilogue (file, size)\n {\n   int leaf_func_p;\n   int reg,savelimit;\n-  int function_size;\n   rtx operands[2];\t\t/* Dummy used by OUT_ASn  */\n   int need_ret = 1;\n \n@@ -324,9 +320,6 @@ function_epilogue (file, size)\n     }\n \n   leaf_func_p = leaf_function_p ();\n-  function_size = (INSN_ADDRESSES (INSN_UID (get_last_insn ()))\n-\t\t   - INSN_ADDRESSES (INSN_UID (get_insns ())));\n-  \n   epilogue_size = 0;\n   fprintf (file, \"/* epilogue: frame size=%d */\\n\", size);\n \n@@ -508,9 +501,6 @@ function_epilogue (file, size)\n     }\n   \n   fprintf (file, \"/* epilogue end (size=%d) */\\n\", epilogue_size);\n-  fprintf (file, \"/* function %s size %d (%d) */\\n\", current_function_name,\n-\t   prologue_size + function_size + epilogue_size, function_size);\n-  commands_in_file += prologue_size + function_size + epilogue_size;\n   commands_in_prologues += prologue_size;\n   commands_in_epilogues += epilogue_size;\n }\n@@ -1091,7 +1081,7 @@ ip2k_set_compare (x, y)\n     {\n       rtx value;\n       size_t i;\n-      \n+\n       value = rtx_alloc (CONST_DOUBLE);\n       PUT_MODE (value, VOIDmode);\n \n@@ -1101,7 +1091,7 @@ ip2k_set_compare (x, y)\n       for (i = 2; i < (sizeof CONST_DOUBLE_FORMAT - 1); i++)\n \tXWINT (value, i) = 0;\n       \n-      y = lookup_const_double (value);\n+      y = value;\n     }\n   \n   ip2k_compare_operands[0] = x;\n@@ -3196,7 +3186,6 @@ asm_file_start (file)\n {\n   output_file_directive (file, main_input_filename);\n   \n-  commands_in_file = 0;\n   commands_in_prologues = 0;\n   commands_in_epilogues = 0;\n }\n@@ -3210,12 +3199,8 @@ asm_file_end (file)\n {\n   fprintf\n     (file,\n-     \"/* File %s: code %4d = 0x%04x (%4d), prologues %3d, epilogues %3d */\\n\",\n-     main_input_filename,\n-     commands_in_file,\n-     commands_in_file,\n-     commands_in_file - commands_in_prologues - commands_in_epilogues,\n-     commands_in_prologues, commands_in_epilogues);\n+     \"/* File %s: prologues %3d, epilogues %3d */\\n\",\n+     main_input_filename, commands_in_prologues, commands_in_epilogues);\n }\n \n /* Cost functions.  */"}, {"sha": "379682d87bbb447e991f2e977c19ae4d76063631", "filename": "gcc/config/ip2k/ip2k.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2Fconfig%2Fip2k%2Fip2k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4769721584220bb4ac82f54f77a0a94b3be42aa/gcc%2Fconfig%2Fip2k%2Fip2k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fip2k%2Fip2k.h?ref=f4769721584220bb4ac82f54f77a0a94b3be42aa", "patch": "@@ -28,7 +28,7 @@ Boston, MA 02111-1307, USA.  */\n #undef ASM_SPEC\t\t\t/* But we have a GAS assembler.  */\n \n #define CPP_PREDEFINES \\\n-  \"-DIP2K -D__INT_MAX__=SHRT_MAX -D_DOUBLE_IS_32BITS -D__BUFSIZ__=512 -D__FILENAME_MAX__=128\"\n+  \"-DIP2K -D_DOUBLE_IS_32BITS -D__BUFSIZ__=512 -D__FILENAME_MAX__=128\"\n /* Define this to be a string constant containing `-D' options to\n    define the predefined macros that identify this machine and system.\n    These macros will be predefined unless the `-ansi' option is"}]}