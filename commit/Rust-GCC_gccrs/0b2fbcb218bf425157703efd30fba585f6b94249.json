{"sha": "0b2fbcb218bf425157703efd30fba585f6b94249", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGIyZmJjYjIxOGJmNDI1MTU3NzAzZWZkMzBmYmE1ODVmNmI5NDI0OQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-18T20:48:27Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-18T20:48:27Z"}, "message": "(infodir): New variable.\n\n(install-dir): Create that dir.\n(install-info): New rule.\n(install-normal): Depend on install-info.\n\n(local_prefix): Do not default from $(prefix).\n\nFrom-SVN: r4498", "tree": {"sha": "92a8b02416a61c8dd23a8b1113fcf94c976d847b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92a8b02416a61c8dd23a8b1113fcf94c976d847b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b2fbcb218bf425157703efd30fba585f6b94249", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b2fbcb218bf425157703efd30fba585f6b94249", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b2fbcb218bf425157703efd30fba585f6b94249", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b2fbcb218bf425157703efd30fba585f6b94249/comments", "author": null, "committer": null, "parents": [{"sha": "78c5c64609b46d501b45a9d20dfc3e5fb2ab308a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78c5c64609b46d501b45a9d20dfc3e5fb2ab308a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78c5c64609b46d501b45a9d20dfc3e5fb2ab308a"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "d507f51debb3ada4b984c98caadfe220584c7400", "filename": "gcc/Makefile.in", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b2fbcb218bf425157703efd30fba585f6b94249/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b2fbcb218bf425157703efd30fba585f6b94249/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=0b2fbcb218bf425157703efd30fba585f6b94249", "patch": "@@ -141,7 +141,8 @@ prefix = /usr/local\n # Directory in which to put localized header files. On the systems with\n # gcc as the native cc, `local_prefix' may not be `prefix' which is\n # `/usr'.\n-local_prefix = $(prefix)\n+# NOTE: local_prefix *should not* default from prefix.\n+local_prefix = /usr/local\n # Directory in which to put host dependent programs and libraries\n exec_prefix = $(prefix)\n # Directory in which to put the executable for the command `gcc'\n@@ -154,6 +155,8 @@ libsubdir = $(libdir)/gcc-lib/$(target)/$(version)\n includedir = $(local_prefix)/include\n # assertdir is overridden in cross-make.\n assertdir = $(includedir)\n+# where the info files go\n+infodir = $(prefix)/info\n # Extension (if any) to put in installed man-page filename.\n manext = .1\n # Directory in which to put man pages.\n@@ -1510,7 +1513,8 @@ realclean: distclean\n install: $(INSTALL_TARGET) ; @true\n \n # Copy the compiler files into directories where they will be run.\n-install-normal: install-common $(INSTALL_HEADERS) install-libgcc install-man\n+install-normal: install-common $(INSTALL_HEADERS) install-libgcc install-man \\\n+    install-info\n \n # Do nothing while making gcc with a cross-compiler. The person who\n # makes gcc for the target machine has to know how to put a complete\n@@ -1550,6 +1554,7 @@ install-dir:\n \t  if [ -d $(assertdir) ] ; then true ; else mkdir $(assertdir) ; fi ; \\\n \telse true; \\\n \tfi\n+\t-if [ -d $(infodir) ] ; then true ; else mkdir $(infodir) ; fi\n # We don't use mkdir -p to create the parents of mandir,\n # because some systems don't support it.\n # Instead, we use this technique to create the immediate parent of mandir.\n@@ -1615,6 +1620,13 @@ install-common: native install-dir xgcc $(EXTRA_PARTS)\n \t-rm -f $(libsubdir)/cpp\n \t$(INSTALL_PROGRAM) cpp $(libsubdir)/cpp\n \n+# Install the info files.\n+install-info: doc\n+\t-rm -f $(infodir)/cpp.info* $(infodir)/gcc.info*\n+\tcd $(srcdir); for f in cpp.info* gcc.info*; \\\n+\tdo $(INSTALL_DATA) $$f $(infodir)/$$f; done\n+\t-chmod a-x $(infodir)/cpp.info* $(infodir)/gcc.info*\n+\n # Install the man pages.\n install-man: install-dir $(srcdir)/gcc.1 $(srcdir)/cccp.1 $(srcdir)/g++.1\n \t-rm -f $(mandir)/gcc$(manext)"}]}