{"sha": "08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhiYjRiM2IyY2ZkZDRjZjNjNzYyMWRmMmVjOTkzMzA0MWExYmJkZQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-03T21:55:49Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-11-03T21:55:49Z"}, "message": "Remove last combine patch.  rth & jim are working on a new one.\n\nFrom-SVN: r16304", "tree": {"sha": "8ffd777069752441cbfea0565210db123eccbf37", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ffd777069752441cbfea0565210db123eccbf37"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde/comments", "author": null, "committer": null, "parents": [{"sha": "f6857708b8963071814b4737fcb643318201b082", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6857708b8963071814b4737fcb643318201b082", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6857708b8963071814b4737fcb643318201b082"}], "stats": {"total": 21, "additions": 4, "deletions": 17}, "files": [{"sha": "e38e428394ff2251fe8e3dcc03a8730ae7154a94", "filename": "gcc/ChangeLog", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "patch": "@@ -8,15 +8,6 @@ Sun Nov  2 23:31:43 1997  Manfred Hollstein  <manfred@s-direktnet.de>\n \t14 char length.\n \t* configure: Rebuild.\n \n-Sun Nov  2 23:21:36 1997  Richard Henderson  <rth@cygnus.com>\n-                          Jim Wilson  <wilson@cygnus.com>\n-\n-        * combine.c (try_combine): Don't elim_i1 when it is used in i2src.\n-\n-        * combine.c (try_combine): When setting elim_i2, check whether newi2pat\n-        sets i2dest.  When calling distribute_notes for i3dest_killed, pass\n-        elim_i2 and elim_i1.\n-\n Sun Nov  2 19:44:00 1997  Robert Lipe (robertl@dgii.com)\n \n \t* i386/sco5.h: enable -gstabs once again."}, {"sha": "20bcaf9b37e48dfa18d9e4466d229336bd2aba66", "filename": "gcc/combine.c", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=08bb4b3b2cfdd4cf3c7621df2ec9933041a1bbde", "patch": "@@ -1240,7 +1240,6 @@ try_combine (i3, i2, i1)\n   rtx i2pat;\n   /* Indicates if I2DEST or I1DEST is in I2SRC or I1_SRC.  */\n   int i2dest_in_i2src = 0, i1dest_in_i1src = 0, i2dest_in_i1src = 0;\n-  int i1dest_in_i2src = 0;\n   int i1_feeds_i3 = 0;\n   /* Notes that must be added to REG_NOTES in I3 and I2.  */\n   rtx new_i3_notes, new_i2_notes;\n@@ -1424,7 +1423,6 @@ try_combine (i3, i2, i1)\n   i2dest_in_i2src = reg_overlap_mentioned_p (i2dest, i2src);\n   i1dest_in_i1src = i1 && reg_overlap_mentioned_p (i1dest, i1src);\n   i2dest_in_i1src = i1 && reg_overlap_mentioned_p (i2dest, i1src);\n-  i1dest_in_i2src = i1 && reg_overlap_mentioned_p (i1dest, i2src);\n \n   /* See if I1 directly feeds into I3.  It does if I1DEST is not used\n      in I2SRC.  */\n@@ -2148,12 +2146,10 @@ try_combine (i3, i2, i1)\n     rtx i3links, i2links, i1links = 0;\n     rtx midnotes = 0;\n     register int regno;\n-    /* Compute which registers we expect to eliminate.  newi2pat may be setting\n-       either i3dest or i2dest, so we must check it.  */\n-    rtx elim_i2 = ((newi2pat && reg_set_p (i2dest, newi2pat))\n-\t\t   || i2dest_in_i2src || i2dest_in_i1src\n+    /* Compute which registers we expect to eliminate.  */\n+    rtx elim_i2 = (newi2pat || i2dest_in_i2src || i2dest_in_i1src\n \t\t   ? 0 : i2dest);\n-    rtx elim_i1 = i1 == 0 || i1dest_in_i1src || i1dest_in_i2src ? 0 : i1dest;\n+    rtx elim_i1 = i1 == 0 || i1dest_in_i1src ? 0 : i1dest;\n \n     /* Get the old REG_NOTES and LOG_LINKS from all our insns and\n        clear them.  */\n@@ -2321,7 +2317,7 @@ try_combine (i3, i2, i1)\n \t  distribute_notes (gen_rtx (EXPR_LIST, REG_DEAD, i3dest_killed,\n \t\t\t\t     NULL_RTX),\n \t\t\t    NULL_RTX, i3, newi2pat ? i2 : NULL_RTX,\n-\t\t\t    elim_i2, elim_i1);\n+\t\t\t    NULL_RTX, NULL_RTX);\n       }\n \n     if (i2dest_in_i2src)"}]}