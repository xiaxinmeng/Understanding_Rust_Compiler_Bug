{"sha": "df113ce7de77eba567568d47c0d0e3d5ebd98559", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGYxMTNjZTdkZTc3ZWJhNTY3NTY4ZDQ3YzBkMGUzZDVlYmQ5ODU1OQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@imgtec.com", "date": "2016-01-28T22:28:04Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2016-01-28T22:28:04Z"}, "message": "re PR target/68400 (ICE in change_address_1, at emit-rtl.c:2125)\n\n\tPR target/68400\n\t* gcc.target/mips/mips.exp (mips_option_groups): Add stack-protector.\n\t* gcc.target/mips/pr68400.c: New test.\n\nFrom-SVN: r232954", "tree": {"sha": "45a96d2b1ef9bb42ed5100c1351e5014dd1bd134", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45a96d2b1ef9bb42ed5100c1351e5014dd1bd134"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/df113ce7de77eba567568d47c0d0e3d5ebd98559", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df113ce7de77eba567568d47c0d0e3d5ebd98559", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df113ce7de77eba567568d47c0d0e3d5ebd98559", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df113ce7de77eba567568d47c0d0e3d5ebd98559/comments", "author": null, "committer": null, "parents": [{"sha": "0b16c7b99c6cc212135d6dba70bbc5ef47af4dbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b16c7b99c6cc212135d6dba70bbc5ef47af4dbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b16c7b99c6cc212135d6dba70bbc5ef47af4dbe"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "fc1e4ee183081509111e1cb31a77bca3ff4862f2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=df113ce7de77eba567568d47c0d0e3d5ebd98559", "patch": "@@ -1,3 +1,9 @@\n+2016-01-28  Steve Ellcey  <sellcey@imgtec.com>\n+\n+\tPR target/68400\n+\t* gcc.target/mips/mips.exp (mips_option_groups): Add stack-protector.\n+\t* gcc.target/mips/pr68400.c: New test.\n+\n 2016-01-28  Martin Sebor  <msebor@redhat.com>\n \n \tPR target/17381"}, {"sha": "ff9c99a8409e98dfd2ad2a2fd3871236af376a9e", "filename": "gcc/testsuite/gcc.target/mips/mips.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fmips.exp?ref=df113ce7de77eba567568d47c0d0e3d5ebd98559", "patch": "@@ -257,6 +257,7 @@ set mips_option_groups {\n     lsa \"(|!)HAS_LSA\"\n     section_start \"-Wl,--section-start=.*\"\n     frame-header \"-mframe-header-opt|-mno-frame-header-opt\"\n+    stack-protector \"-fstack-protector\"\n }\n \n for { set option 0 } { $option < 32 } { incr option } {"}, {"sha": "1099568a8dc78e1fe0943f9d49a6eca3e03f03f1", "filename": "gcc/testsuite/gcc.target/mips/pr68400.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fpr68400.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/df113ce7de77eba567568d47c0d0e3d5ebd98559/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fpr68400.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fpr68400.c?ref=df113ce7de77eba567568d47c0d0e3d5ebd98559", "patch": "@@ -0,0 +1,28 @@\n+/* PR target/pr68400\n+   This was triggering an ICE in change_address_1 when compiled with -Os.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-fstack-protector -mips16\" } */\n+\n+typedef struct s {\n+ unsigned long long d;\n+ long long t;\n+} p;\n+\n+int sh(int x, unsigned char *buf)\n+{\n+ p *uhdr = (p *)buf;\n+ unsigned int i = 0;\n+ uhdr->d = ((uhdr->d & 0xff00000000000000LL) >> 56)\n+            | ((uhdr->d & 0x0000ff0000000000LL) >> 24)\n+            | ((uhdr->d & 0x00000000ff000000LL) << 8)\n+            | ((uhdr->d & 0x00000000000000ffLL) << 56);\n+ uhdr->t = ((uhdr->t & 0xff00000000000000LL) >> 56)\n+                | ((uhdr->t & 0x0000ff0000000000LL) >> 24)\n+                | ((uhdr->t & 0x000000ff00000000LL) >> 8)\n+                | ((uhdr->t & 0x00000000ff000000LL) << 8)\n+                | ((uhdr->t & 0x000000000000ff00LL) << 40)\n+                | ((uhdr->t & 0x00000000000000ffLL) << 56);\n+ i += 4;\n+ if (x < i) return 0; else return 1;\n+}"}]}