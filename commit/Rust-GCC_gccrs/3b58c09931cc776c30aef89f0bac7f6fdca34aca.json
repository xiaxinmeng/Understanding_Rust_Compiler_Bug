{"sha": "3b58c09931cc776c30aef89f0bac7f6fdca34aca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I1OGMwOTkzMWNjNzc2YzMwYWVmODlmMGJhYzdmNmZkY2EzNGFjYQ==", "commit": {"author": {"name": "Michael Sokolov", "email": "msokolov@ivan.Harhan.ORG", "date": "2000-07-23T16:05:03Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-07-23T16:05:03Z"}, "message": "aclocal.m4 (libiberty_AC_DECLARE_ERRNO): New macro.\n\n\t* aclocal.m4 (libiberty_AC_DECLARE_ERRNO): New macro.\n\t* configure.in (libiberty_AC_DECLARE_ERRNO): Add check.\n\t* configure, config.in: Regenerate.\n\t* pexecute.c, strtol.c, strtoul.c: Declare errno if necessary.\n\nFrom-SVN: r35199", "tree": {"sha": "36f10416500fbf8a5ffa0c7fe7957e1d761edf22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/36f10416500fbf8a5ffa0c7fe7957e1d761edf22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b58c09931cc776c30aef89f0bac7f6fdca34aca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b58c09931cc776c30aef89f0bac7f6fdca34aca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b58c09931cc776c30aef89f0bac7f6fdca34aca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b58c09931cc776c30aef89f0bac7f6fdca34aca/comments", "author": null, "committer": null, "parents": [{"sha": "8502a100662b57e68782022751fbde893bb50213", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8502a100662b57e68782022751fbde893bb50213", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8502a100662b57e68782022751fbde893bb50213"}], "stats": {"total": 224, "additions": 146, "deletions": 78}, "files": [{"sha": "a97b43a4b8b31a015bf256ca8294fa1afc3ae61c", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -1,5 +1,10 @@\n 2000-07-23  Michael Sokolov  <msokolov@ivan.Harhan.ORG>\n \n+\t* aclocal.m4 (libiberty_AC_DECLARE_ERRNO): New macro.\n+\t* configure.in (libiberty_AC_DECLARE_ERRNO): Add check.\n+\t* configure, config.in: Regenerate.\n+\t* pexecute.c, strtol.c, strtoul.c: Declare errno if necessary.\n+\n \t* cp-demangle.c, mkstemps.c: #include <sys/types.h>.\n \n 2000-07-21  Mike Stump  <mrs@wrs.com>"}, {"sha": "b6c611e132d018f0e9dac75e5a9a4482ff24336e", "filename": "libiberty/aclocal.m4", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Faclocal.m4?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -69,3 +69,17 @@ if test $ac_cv_func_strncmp_works = no ; then\n   LIBOBJS=\"$LIBOBJS strncmp.o\"\n fi\n ])\n+\n+dnl See if errno must be declared even when <errno.h> is included.\n+AC_DEFUN(libiberty_AC_DECLARE_ERRNO,\n+[AC_CACHE_CHECK(whether errno must be declared, libiberty_cv_declare_errno,\n+[AC_TRY_COMPILE(\n+[#include <errno.h>],\n+[int x = errno;],\n+libiberty_cv_declare_errno=no,\n+libiberty_cv_declare_errno=yes)])\n+if test $libiberty_cv_declare_errno = yes\n+then AC_DEFINE(NEED_DECLARATION_ERRNO, 1,\n+  [Define if errno must be declared even when <errno.h> is included.])\n+fi\n+])"}, {"sha": "f9895c7c57ad7c67e8c9dfce25d89132e58e3122", "filename": "libiberty/config.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfig.in?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -231,3 +231,7 @@\n \n /* Define if you have the <unistd.h> header file.  */\n #undef HAVE_UNISTD_H\n+\n+/* Define if errno must be declared even when <errno.h> is included. */\n+#undef NEED_DECLARATION_ERRNO\n+"}, {"sha": "168bd8fc7a519bee58ed4cb319f1b74428482d6b", "filename": "libiberty/configure", "status": "modified", "additions": 112, "deletions": 78, "changes": 190, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -1141,6 +1141,40 @@ EOF\n fi\n \n \n+echo $ac_n \"checking whether errno must be declared\"\"... $ac_c\" 1>&6\n+echo \"configure:1146: checking whether errno must be declared\" >&5\n+if eval \"test \\\"`echo '$''{'libiberty_cv_declare_errno'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1151 \"configure\"\n+#include \"confdefs.h\"\n+#include <errno.h>\n+int main() {\n+int x = errno;\n+; return 0; }\n+EOF\n+if { (eval echo configure:1158: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  libiberty_cv_declare_errno=no\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  libiberty_cv_declare_errno=yes\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$libiberty_cv_declare_errno\" 1>&6\n+if test $libiberty_cv_declare_errno = yes\n+then cat >> confdefs.h <<\\EOF\n+#define NEED_DECLARATION_ERRNO 1\n+EOF\n+\n+fi\n+\n+\n # This is the list of functions which libiberty will provide if they\n # are not available on the host.\n \n@@ -1196,12 +1230,12 @@ if test \"x\" = \"y\"; then\n   for ac_func in asprintf atexit basename bcmp bcopy bzero calloc clock getcwd\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1200: checking for $ac_func\" >&5\n+echo \"configure:1234: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1205 \"configure\"\n+#line 1239 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1224,7 +1258,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1228: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1262: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1251,12 +1285,12 @@ done\n   for ac_func in getpagesize index insque mkstemps memchr memcmp memcpy memmove\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1255: checking for $ac_func\" >&5\n+echo \"configure:1289: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1260 \"configure\"\n+#line 1294 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1279,7 +1313,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1283: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1317: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1306,12 +1340,12 @@ done\n   for ac_func in memset putenv random rename rindex sigsetmask strcasecmp\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1310: checking for $ac_func\" >&5\n+echo \"configure:1344: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1315 \"configure\"\n+#line 1349 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1334,7 +1368,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1338: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1372: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1361,12 +1395,12 @@ done\n   for ac_func in setenv strchr strdup strncasecmp strrchr strstr strtod strtol\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1365: checking for $ac_func\" >&5\n+echo \"configure:1399: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1370 \"configure\"\n+#line 1404 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1389,7 +1423,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1393: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1427: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1416,12 +1450,12 @@ done\n   for ac_func in strtoul tmpnam vasprintf vfprintf vprintf vsprintf waitpid\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1420: checking for $ac_func\" >&5\n+echo \"configure:1454: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1425 \"configure\"\n+#line 1459 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1444,7 +1478,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1448: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1482: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1483,12 +1517,12 @@ EOF\n   for ac_func in getrusage on_exit psignal strerror strsignal sysconf times\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1487: checking for $ac_func\" >&5\n+echo \"configure:1521: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1492 \"configure\"\n+#line 1526 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1511,7 +1545,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1515: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1549: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1538,12 +1572,12 @@ done\n   for ac_func in sbrk gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1542: checking for $ac_func\" >&5\n+echo \"configure:1576: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1547 \"configure\"\n+#line 1581 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1566,7 +1600,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1570: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1604: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1748,7 +1782,7 @@ EOF\n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1752: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1786: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1759,12 +1793,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1763 \"configure\"\n+#line 1797 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1768: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1802: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1790,19 +1824,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1794: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1828: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1801: checking for $ac_func\" >&5\n+echo \"configure:1835: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1806 \"configure\"\n+#line 1840 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1825,7 +1859,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1829: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1863: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1872,19 +1906,19 @@ EOF\n     # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1876: checking for working alloca.h\" >&5\n+echo \"configure:1910: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1881 \"configure\"\n+#line 1915 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:1888: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1922: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -1905,12 +1939,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:1909: checking for alloca\" >&5\n+echo \"configure:1943: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1914 \"configure\"\n+#line 1948 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -1938,7 +1972,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1942: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1976: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -1970,12 +2004,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:1974: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:2008: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1979 \"configure\"\n+#line 2013 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -2000,12 +2034,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2004: checking for $ac_func\" >&5\n+echo \"configure:2038: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2009 \"configure\"\n+#line 2043 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2028,7 +2062,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2032: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2066: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2055,15 +2089,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking stack direction for C alloca\" >&5\n+echo \"configure:2093: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2067 \"configure\"\n+#line 2101 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -2082,7 +2116,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:2086: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2120: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -2107,20 +2141,20 @@ fi\n   esac\n \n   echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2111: checking for ANSI C header files\" >&5\n+echo \"configure:2145: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2116 \"configure\"\n+#line 2150 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2124: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2158: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2137,7 +2171,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2141 \"configure\"\n+#line 2175 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2155,7 +2189,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2159 \"configure\"\n+#line 2193 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2176,7 +2210,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2180 \"configure\"\n+#line 2214 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2187,7 +2221,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2191: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2225: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2211,12 +2245,12 @@ EOF\n fi\n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2215: checking for pid_t\" >&5\n+echo \"configure:2249: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2220 \"configure\"\n+#line 2254 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2245,17 +2279,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2249: checking for vfork.h\" >&5\n+echo \"configure:2283: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2254 \"configure\"\n+#line 2288 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2259: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2293: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2280,18 +2314,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2284: checking for working vfork\" >&5\n+echo \"configure:2318: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2290: checking for vfork\" >&5\n+echo \"configure:2324: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2295 \"configure\"\n+#line 2329 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2314,7 +2348,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2318: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2352: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2336,7 +2370,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2340 \"configure\"\n+#line 2374 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2431,7 +2465,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2435: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2469: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2458,19 +2492,19 @@ fi\n   fi\n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2462: checking for $v\" >&5\n+echo \"configure:2496: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2467 \"configure\"\n+#line 2501 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v; p = &$v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2474: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2508: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2496,12 +2530,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2500: checking for $ac_func\" >&5\n+echo \"configure:2534: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2505 \"configure\"\n+#line 2539 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2524,7 +2558,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2528: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2562: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2554,17 +2588,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2558: checking for $ac_hdr\" >&5\n+echo \"configure:2592: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2563 \"configure\"\n+#line 2597 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2568: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2602: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2593,12 +2627,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2597: checking for $ac_func\" >&5\n+echo \"configure:2631: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2602 \"configure\"\n+#line 2636 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2621,7 +2655,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2625: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2659: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2646,15 +2680,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:2650: checking for working mmap\" >&5\n+echo \"configure:2684: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2658 \"configure\"\n+#line 2692 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -2794,7 +2828,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:2798: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2832: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -2818,15 +2852,15 @@ fi\n \n \n echo $ac_n \"checking for working strncmp\"\"... $ac_c\" 1>&6\n-echo \"configure:2822: checking for working strncmp\" >&5\n+echo \"configure:2856: checking for working strncmp\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_strncmp_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_strncmp_works=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2830 \"configure\"\n+#line 2864 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Jim Wilson and Kaveh Ghazi.\n@@ -2887,7 +2921,7 @@ main ()\n }\n \n EOF\n-if { (eval echo configure:2891: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2925: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_strncmp_works=yes\n else"}, {"sha": "ecae1b1b63b5232af75f4497c1cb61273ac5a610", "filename": "libiberty/configure.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -112,6 +112,8 @@ AC_SUBST_FILE(host_makefile_frag)\n AC_CHECK_HEADERS(sys/file.h sys/param.h stdlib.h string.h unistd.h strings.h sys/time.h sys/resource.h sys/stat.h sys/mman.h fcntl.h)\n AC_HEADER_SYS_WAIT\n \n+libiberty_AC_DECLARE_ERRNO\n+\n # This is the list of functions which libiberty will provide if they\n # are not available on the host.\n "}, {"sha": "4a1970d5309dfc92472f077a5c3ccaa9bdfbb783", "filename": "libiberty/pexecute.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fpexecute.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fpexecute.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fpexecute.c?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -29,6 +29,9 @@ Boston, MA 02111-1307, USA.  */\n \n #include <stdio.h>\n #include <errno.h>\n+#ifdef NEED_DECLARATION_ERRNO\n+extern int errno;\n+#endif\n #ifdef HAVE_STRING_H\n #include <string.h>\n #endif"}, {"sha": "b4c66c403f7287a114935a767f2cb21dcd878fb1", "filename": "libiberty/strtol.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fstrtol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fstrtol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fstrtol.c?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -31,6 +31,9 @@\n #include <limits.h>\n #include <ctype.h>\n #include <errno.h>\n+#ifdef NEED_DECLARATION_ERRNO\n+extern int errno;\n+#endif\n #if 0\n #include <stdlib.h>\n #endif"}, {"sha": "59d428cd49e0d38afc63c902cb9480dd29efd2c4", "filename": "libiberty/strtoul.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fstrtoul.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b58c09931cc776c30aef89f0bac7f6fdca34aca/libiberty%2Fstrtoul.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fstrtoul.c?ref=3b58c09931cc776c30aef89f0bac7f6fdca34aca", "patch": "@@ -31,6 +31,9 @@\n #include <limits.h>\n #include <ctype.h>\n #include <errno.h>\n+#ifdef NEED_DECLARATION_ERRNO\n+extern int errno;\n+#endif\n #if 0\n #include <stdlib.h>\n #endif"}]}