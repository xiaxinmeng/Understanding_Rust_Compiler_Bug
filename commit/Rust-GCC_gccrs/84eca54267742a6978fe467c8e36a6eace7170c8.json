{"sha": "84eca54267742a6978fe467c8e36a6eace7170c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRlY2E1NDI2Nzc0MmE2OTc4ZmU0NjdjOGUzNmE2ZWFjZTcxNzBjOA==", "commit": {"author": {"name": "Mark Wielaard", "email": "mjw@redhat.com", "date": "2014-09-23T11:07:08Z"}, "committer": {"name": "Mark Wielaard", "email": "mark@gcc.gnu.org", "date": "2014-09-23T11:07:08Z"}, "message": "Make all gcc.dg/guality/const-volatile.c subtests PASS under LTO.\n\nSome subtests were reported as UNSUPPORTED when running under LTO.\nThat was just because the relevant variables were optimized out.\nMark those variables as used. Now const-volatile reports 192 PASS.\n\ngcc/testsuite/ChangeLog\n\n\t* gcc.dg/guality/const-volatile.c (i): Mark as used.\n\t(ci): Likewise.\n\t(pci): Likewise.\n\t(pvi): Likewise.\n\t(pcvi): Likewise.\n\t(cip): Likewise.\n\t(foo): Likewise.\n\t(cfoo): Likewise.\n\nFrom-SVN: r215502", "tree": {"sha": "10107a40fb6baf9ac0eafee5dac528bc11ed8e08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10107a40fb6baf9ac0eafee5dac528bc11ed8e08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84eca54267742a6978fe467c8e36a6eace7170c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84eca54267742a6978fe467c8e36a6eace7170c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84eca54267742a6978fe467c8e36a6eace7170c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84eca54267742a6978fe467c8e36a6eace7170c8/comments", "author": null, "committer": null, "parents": [{"sha": "0043a6c9b9b7ad956c5db232e46b2b760ada0cec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0043a6c9b9b7ad956c5db232e46b2b760ada0cec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0043a6c9b9b7ad956c5db232e46b2b760ada0cec"}], "stats": {"total": 27, "additions": 19, "deletions": 8}, "files": [{"sha": "a3bd1eb23061105511425660c0cef9086da48af4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84eca54267742a6978fe467c8e36a6eace7170c8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84eca54267742a6978fe467c8e36a6eace7170c8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=84eca54267742a6978fe467c8e36a6eace7170c8", "patch": "@@ -1,3 +1,14 @@\n+2014-09-20  Mark Wielaard  <mjw@redhat.com>\n+\n+\t* gcc.dg/guality/const-volatile.c (i): Mark as used.\n+\t(ci): Likewise.\n+\t(pci): Likewise.\n+\t(pvi): Likewise.\n+\t(pcvi): Likewise.\n+\t(cip): Likewise.\n+\t(foo): Likewise.\n+\t(cfoo): Likewise.\n+\n 2014-09-20  Mark Wielaard  <mjw@redhat.com>\n \n \t* lib/gcc-gdb-test.exp (gdb-test): Transform gdb types \"short int\""}, {"sha": "d657f48079c91b39f99c9118136f32a4ed2ef547", "filename": "gcc/testsuite/gcc.dg/guality/const-volatile.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84eca54267742a6978fe467c8e36a6eace7170c8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fconst-volatile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84eca54267742a6978fe467c8e36a6eace7170c8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fconst-volatile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fconst-volatile.c?ref=84eca54267742a6978fe467c8e36a6eace7170c8", "patch": "@@ -2,17 +2,17 @@\n /* { dg-do run } */\n /* { dg-options \"-g\" } */\n \n-int i;\n-const int ci;\n+int i __attribute__((used));\n+const int ci __attribute__((used));\n volatile int vi;\n const volatile int cvi;\n \n int *pi __attribute__((used));\n-const int *pci;\n-volatile int *pvi;\n-const volatile int *pcvi;\n+const int *pci __attribute__((used));\n+volatile int *pvi __attribute__((used));\n+const volatile int *pcvi __attribute__((used));\n \n-int * const cip;\n+int * const cip __attribute__((used));\n int * volatile vip;\n int * const volatile cvip;\n \n@@ -38,8 +38,8 @@ struct bar\n };\n \n struct bar bar __attribute__((used));\n-struct foo foo;\n-const struct foo cfoo;\n+struct foo foo __attribute__((used));\n+const struct foo cfoo __attribute__((used));\n volatile struct foo vfoo;\n const volatile struct foo cvfoo;\n "}]}