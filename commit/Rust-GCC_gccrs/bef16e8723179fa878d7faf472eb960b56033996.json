{"sha": "bef16e8723179fa878d7faf472eb960b56033996", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVmMTZlODcyMzE3OWZhODc4ZDdmYWY0NzJlYjk2MGI1NjAzMzk5Ng==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-01-26T21:11:57Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-01-26T21:11:57Z"}, "message": "re PR rtl-optimization/44469 (internal compiler error: in fixup_reorder_chain, at cfglayout.c:797)\n\n\tPR rtl-optimization/44469\n\t* cfgcleanup.c (try_optimize_cfg): Iterate in CFG layout mode too\n\tafter removing trivially dead basic blocks.\n\nFrom-SVN: r169304", "tree": {"sha": "1dd95614331cdc84b7f99f4df9a472f576819869", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1dd95614331cdc84b7f99f4df9a472f576819869"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bef16e8723179fa878d7faf472eb960b56033996", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef16e8723179fa878d7faf472eb960b56033996", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bef16e8723179fa878d7faf472eb960b56033996", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef16e8723179fa878d7faf472eb960b56033996/comments", "author": null, "committer": null, "parents": [{"sha": "c75d884b6dd8c8501cee8d6fcd15b9351cb2c7ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c75d884b6dd8c8501cee8d6fcd15b9351cb2c7ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c75d884b6dd8c8501cee8d6fcd15b9351cb2c7ac"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "fa574e8182502d3625fc36ee116ce4e7ae58109e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef16e8723179fa878d7faf472eb960b56033996/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef16e8723179fa878d7faf472eb960b56033996/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bef16e8723179fa878d7faf472eb960b56033996", "patch": "@@ -1,3 +1,9 @@\n+2011-01-26  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR rtl-optimization/44469\n+\t* cfgcleanup.c (try_optimize_cfg): Iterate in CFG layout mode too\n+\tafter removing trivially dead basic blocks.\n+\n 2011-01-26  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/bfin/bfin.h (LINK_SPEC): Remove %{Qy:} %{!Qn:-Qy}."}, {"sha": "aaa0ea5d232e955a4de91c33a87a1251add41383", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=bef16e8723179fa878d7faf472eb960b56033996", "patch": "@@ -2341,8 +2341,7 @@ try_optimize_cfg (int mode)\n \t\t\t}\n \t\t    }\n \t\t  delete_basic_block (b);\n-\t\t  if (!(mode & CLEANUP_CFGLAYOUT))\n-\t\t    changed = true;\n+\t\t  changed = true;\n \t\t  /* Avoid trying to remove ENTRY_BLOCK_PTR.  */\n \t\t  b = (c == ENTRY_BLOCK_PTR ? c->next_bb : c);\n \t\t  continue;"}, {"sha": "e5133d02145035c1fa5877e9cf8408dad207aa15", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bef16e8723179fa878d7faf472eb960b56033996", "patch": "@@ -1,3 +1,7 @@\n+2011-01-26  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc.c-torture/compile/20110126-1.c: New test.\n+\n 2011-01-26  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/47473"}, {"sha": "c55e0c2055db1d83f8e7aa011c8069f9386334dc", "filename": "gcc/testsuite/gcc.c-torture/compile/20110126-1.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110126-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef16e8723179fa878d7faf472eb960b56033996/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110126-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20110126-1.c?ref=bef16e8723179fa878d7faf472eb960b56033996", "patch": "@@ -0,0 +1,18 @@\n+/* PR rtl-optimization/44469 */\n+/* Testcase by Siarhei Siamashka <siarhei.siamashka@gmail.com> */\n+\n+int a (int *t, const char *p)\n+{\n+  if (*t == 0)\n+    {\n+    }\n+  else if (*t == 1)\n+    {\n+      p = (const char *)t;\n+    }\n+  else\n+    __builtin_unreachable();\n+  if (p[0])\n+    return 0;\n+  return 1;\n+}"}]}