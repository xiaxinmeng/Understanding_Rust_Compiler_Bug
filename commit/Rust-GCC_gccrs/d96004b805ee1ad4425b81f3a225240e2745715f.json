{"sha": "d96004b805ee1ad4425b81f3a225240e2745715f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk2MDA0YjgwNWVlMWFkNDQyNWI4MWYzYTIyNTI0MGUyNzQ1NzE1Zg==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2016-10-13T10:52:00Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2016-10-13T10:52:00Z"}, "message": "cfg.c (reset_original_copy_tables): New func.\n\n\t* cfg.c (reset_original_copy_tables): New func.\n\t* cfg.h (reset_original_copy_tables): New decl.\n\nFrom-SVN: r241095", "tree": {"sha": "447f34cd90f8a780c954781139f9db62adb3a742", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/447f34cd90f8a780c954781139f9db62adb3a742"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d96004b805ee1ad4425b81f3a225240e2745715f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d96004b805ee1ad4425b81f3a225240e2745715f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d96004b805ee1ad4425b81f3a225240e2745715f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d96004b805ee1ad4425b81f3a225240e2745715f/comments", "author": null, "committer": null, "parents": [{"sha": "1a1ab05e906d5fe546e72354dd79d455becd71df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1ab05e906d5fe546e72354dd79d455becd71df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a1ab05e906d5fe546e72354dd79d455becd71df"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "242805eeda7fa9b5332c45e43ea4a2f74079063d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d96004b805ee1ad4425b81f3a225240e2745715f", "patch": "@@ -1,3 +1,8 @@\n+2016-10-13  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* cfg.c (reset_original_copy_tables): New func.\n+\t* cfg.h (reset_original_copy_tables): New decl.\n+\n 2016-10-13  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/77946"}, {"sha": "ee2e42c1f80e66c0275fce7095fc053a8c883f8e", "filename": "gcc/cfg.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2Fcfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2Fcfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.c?ref=d96004b805ee1ad4425b81f3a225240e2745715f", "patch": "@@ -1066,6 +1066,18 @@ initialize_original_copy_tables (void)\n   loop_copy = new hash_table<bb_copy_hasher> (10);\n }\n \n+/* Reset the data structures to maintain mapping between blocks and\n+   its copies.  */\n+\n+void\n+reset_original_copy_tables (void)\n+{\n+  gcc_assert (original_copy_bb_pool);\n+  bb_original->empty ();\n+  bb_copy->empty ();\n+  loop_copy->empty ();\n+}\n+\n /* Free the data structures to maintain mapping between blocks and\n    its copies.  */\n void"}, {"sha": "ad935e3ee08895c0b68b6cc1c176ccb7ee3e0ccd", "filename": "gcc/cfg.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2Fcfg.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d96004b805ee1ad4425b81f3a225240e2745715f/gcc%2Fcfg.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfg.h?ref=d96004b805ee1ad4425b81f3a225240e2745715f", "patch": "@@ -108,6 +108,7 @@ extern void scale_bbs_frequencies_int (basic_block *, int, int, int);\n extern void scale_bbs_frequencies_gcov_type (basic_block *, int, gcov_type,\n \t\t\t\t\t     gcov_type);\n extern void initialize_original_copy_tables (void);\n+extern void reset_original_copy_tables (void);\n extern void free_original_copy_tables (void);\n extern void set_bb_original (basic_block, basic_block);\n extern basic_block get_bb_original (basic_block);"}]}