{"sha": "9bca676cc7a1670be021567ae4a128a5082229d3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWJjYTY3NmNjN2ExNjcwYmUwMjE1NjdhZTRhMTI4YTUwODIyMjlkMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-06-29T18:30:43Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-06-29T21:29:39Z"}, "message": "compiler: remove some erroneous code that was never run\n\nThe code accidentally called Type::type_descriptor rather than the\ndo_type_descriptor method.  Calling Type::type_descriptor with a second\nargument of NULL would always crash.  Since that never happened,\nit revealed that this code was never actually executed.\n\nFixes PR go/95970\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/240477", "tree": {"sha": "37ee050c1a334f4d95b7b9526ba852c8bc63fd2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/37ee050c1a334f4d95b7b9526ba852c8bc63fd2b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9bca676cc7a1670be021567ae4a128a5082229d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bca676cc7a1670be021567ae4a128a5082229d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bca676cc7a1670be021567ae4a128a5082229d3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bca676cc7a1670be021567ae4a128a5082229d3/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "583812c2e2f3593823622b0a5821d957c832dbd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/583812c2e2f3593823622b0a5821d957c832dbd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/583812c2e2f3593823622b0a5821d957c832dbd0"}], "stats": {"total": 16, "additions": 6, "deletions": 10}, "files": [{"sha": "ecef60400cc1a188591f56219cd03650686929b4", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bca676cc7a1670be021567ae4a128a5082229d3/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bca676cc7a1670be021567ae4a128a5082229d3/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=9bca676cc7a1670be021567ae4a128a5082229d3", "patch": "@@ -1,4 +1,4 @@\n-d4dade353648eae4a1eaa1acd3e4ce1f7180a913\n+30674246ef60ab74566a21f362a7de7a09b99955\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "3459a3357a39a7f3db235c718d6affe5a164e9a2", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 5, "deletions": 9, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9bca676cc7a1670be021567ae4a128a5082229d3/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9bca676cc7a1670be021567ae4a128a5082229d3/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=9bca676cc7a1670be021567ae4a128a5082229d3", "patch": "@@ -11106,15 +11106,11 @@ Named_type::do_type_descriptor(Gogo* gogo, Named_type* name)\n {\n   if (this->is_error_)\n     return Expression::make_error(this->location_);\n-  if (name == NULL && this->is_alias_)\n-    {\n-      if (this->seen_alias_)\n-\treturn Expression::make_error(this->location_);\n-      this->seen_alias_ = true;\n-      Expression* ret = this->type_->type_descriptor(gogo, NULL);\n-      this->seen_alias_ = false;\n-      return ret;\n-    }\n+\n+  // We shouldn't see unnamed type aliases here.  They should have\n+  // been removed by the call to unalias in Type::type_descriptor_pointer.\n+  // We can see named type aliases via Type::named_type_descriptor.\n+  go_assert(name != NULL || !this->is_alias_);\n \n   // If NAME is not NULL, then we don't really want the type\n   // descriptor for this type; we want the descriptor for the"}]}