{"sha": "cbba4777cd63b2672085afbe50709e6892923261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2JiYTQ3NzdjZDYzYjI2NzIwODVhZmJlNTA3MDllNjg5MjkyMzI2MQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-08-25T13:24:34Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-08-25T13:24:34Z"}, "message": "Wshadow-3.c: Restore original content destroyed by r148442.\n\n2011-08-25  Richard Guenther  <rguenther@suse.de>\n\n\t* gcc.dg/Wshadow-3.c: Restore original content destroyed by r148442.\n\nFrom-SVN: r178061", "tree": {"sha": "7fc99bfec5ba40d8538e06ab43afc9871b29efc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fc99bfec5ba40d8538e06ab43afc9871b29efc4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cbba4777cd63b2672085afbe50709e6892923261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbba4777cd63b2672085afbe50709e6892923261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbba4777cd63b2672085afbe50709e6892923261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbba4777cd63b2672085afbe50709e6892923261/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4ac9cf2b5ddff3440c2aa7cee69e82577972943c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ac9cf2b5ddff3440c2aa7cee69e82577972943c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ac9cf2b5ddff3440c2aa7cee69e82577972943c"}], "stats": {"total": 84, "additions": 24, "deletions": 60}, "files": [{"sha": "eda284a99fb8e6c679141af5609c9056036164d5", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbba4777cd63b2672085afbe50709e6892923261/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbba4777cd63b2672085afbe50709e6892923261/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cbba4777cd63b2672085afbe50709e6892923261", "patch": "@@ -1,3 +1,7 @@\n+2011-08-25  Richard Guenther  <rguenther@suse.de>\n+\n+\t* gcc.dg/Wshadow-3.c: Restore original content destroyed by r148442.\n+\n 2011-08-24  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/50163"}, {"sha": "a7f06a26f96639891fd2aab070009078672075ca", "filename": "gcc/testsuite/gcc.dg/Wshadow-3.c", "status": "modified", "additions": 20, "deletions": 60, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbba4777cd63b2672085afbe50709e6892923261/gcc%2Ftestsuite%2Fgcc.dg%2FWshadow-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbba4777cd63b2672085afbe50709e6892923261/gcc%2Ftestsuite%2Fgcc.dg%2FWshadow-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWshadow-3.c?ref=cbba4777cd63b2672085afbe50709e6892923261", "patch": "@@ -1,61 +1,21 @@\n-/* PR middle-end/36902 Array bound warning with dead code after optimization */\n+/* Test warnings for shadowing in function prototype scope: generally\n+   useless but of use if the parameter is used within the scope.  Bug\n+   529.  */\n+/* Origin: Joseph Myers <joseph@codesourcery.com> */\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -Warray-bounds -Wall -Wextra\" } */\n-typedef unsigned char __u8;\n-typedef unsigned short __u16;\n-\n-static inline unsigned char *\n-foo(unsigned char * to, const unsigned char * from, int n)\n-{\n-  switch ( n )\n-    {\n-    case 3:\n-      *to = *from;\n-      break;\n-    case 5:\n-      to[4] = from [4];\n-      break;\n-    }\n-  return to;\n-}\n-\n-struct {\n-  int    size_of_select;\n-  unsigned char pcr_select[4];\n-} sel;\n-\n-int bar(void)\n-{\n-  static unsigned char buf[64];\n-\n-  sel.size_of_select = 3;\n-  foo(buf, sel.pcr_select, sel.size_of_select);\n-\n-  return 1;\n-}\n-\n-\n-static inline unsigned char *\n-foo2(unsigned char * to, const unsigned char * from, int n)\n-{\n-  switch ( n )\n-    {\n-    case 3:\n-      *to = *from;\n-      break;\n-    case 5:\n-      to[63] = from [111]; /* { dg-warning \"array subscript is above array bounds\" } */\n-      break;\n-    }\n-  return to;\n-}\n-\n-int baz(void)\n-{\n-  static unsigned char buf[64];\n-\n-  sel.size_of_select = 5;\n-  foo2(buf, sel.pcr_select, sel.size_of_select);\n-\n-  return 1;\n-}\n+/* { dg-options \"-std=gnu89 -Wshadow\" } */\n+\n+int v; /* { dg-warning \"shadowed declaration\" } */\n+int f1(int v);\n+int f2(int v, int x[v]); /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f3(int v, int y[sizeof(v)]); /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f4(int v) { return 0; } /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f5(int v, int x[v]) { return 0; } /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f6(int x) { return 0; }\n+int f7(v) int v; { return 0; } /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f8(v, w) int v; int w[v]; { return 0; } /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f9(x) int x; { return 0; }\n+int f10(v) { return 0; } /* { dg-warning \"declaration of 'v' shadows a global declaration\" } */\n+int f11(int a, int b(int a));\n+int f12(int a, int b(int a, int x[a])); /* { dg-warning \"declaration of 'a' shadows a parameter\" } */\n+/* { dg-warning \"shadowed declaration\" \"outer parm\" { target *-*-* } 20 } */"}]}