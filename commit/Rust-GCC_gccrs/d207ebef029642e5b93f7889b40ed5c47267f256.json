{"sha": "d207ebef029642e5b93f7889b40ed5c47267f256", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDIwN2ViZWYwMjk2NDJlNWI5M2Y3ODg5YjQwZWQ1YzQ3MjY3ZjI1Ng==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-07-22T08:08:22Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-07-22T08:08:22Z"}, "message": "merge with /cvs/src\n\nFrom-SVN: r35188", "tree": {"sha": "352a946a9a021cf654cd9c81e8de516ff587ce85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/352a946a9a021cf654cd9c81e8de516ff587ce85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d207ebef029642e5b93f7889b40ed5c47267f256", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d207ebef029642e5b93f7889b40ed5c47267f256", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d207ebef029642e5b93f7889b40ed5c47267f256", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d207ebef029642e5b93f7889b40ed5c47267f256/comments", "author": null, "committer": null, "parents": [{"sha": "6beb1915dd5f7c585dcb0b4b5a3a90d7d6d81567", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6beb1915dd5f7c585dcb0b4b5a3a90d7d6d81567", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6beb1915dd5f7c585dcb0b4b5a3a90d7d6d81567"}], "stats": {"total": 2912, "additions": 2159, "deletions": 753}, "files": [{"sha": "bde48527b008124ee797f3d5cadd25ed39a50732", "filename": ".cvsignore", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/.cvsignore", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/.cvsignore", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/.cvsignore?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -2,7 +2,6 @@\n *-co\n *-dirs\n *-done\n-*-info\n *-install-info\n *-src\n *-stamp-*\n@@ -28,3 +27,6 @@ configure.vr\n configure.vrs\n dir.info\n Makefile\n+lost+found\n+update.out\n+"}, {"sha": "68f0b44bdb066396676a4d3d9b94c415e0c44687", "filename": "ChangeLog", "status": "modified", "additions": 604, "deletions": 53, "changes": 657, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -1,12 +1,18 @@\n+2000-07-20  Jason Merrill  <jason@redhat.com>\n+\n+\t* configure.in: Remove all references to libg++ and librx.\n+\n+\t* configure, configure.in, Makefile.in: Unify gcc and binutils.\n+\n+2000-07-20  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* config.sub: Update to subversions version 2000-07-06.\n+\n 2000-07-12  Andrew Haley  <aph@cygnus.com>\n \n \t* configure.in (host_makefile_frag): Use mh-ia64pic on IA-64 hosts.\n \t(target_makefile_frag): Use mt-ia64pic on IA-64 targets.\n \n-Fri Jul 14 18:13:23 2000  Mark P Mitchell  <mark@codesourcery.com>\n-\n-\t* config/mh-irix6 (CC): Don't set it.\n-\n 2000-07-07  Phil Edwards  <pme@sourceware.cygnus.com>\n \n \t* symlink-tree:  Check number of arguments.\n@@ -18,29 +24,52 @@ Fri Jul 14 18:13:23 2000  Mark P Mitchell  <mark@codesourcery.com>\n \twill allow link tests run by configure scripts in\n \tsubdirectories to succeed.\n \n+2000-07-01  Koundinya K  <kk@ddeorg.soft.net>\n+\n+        * ltconfig: Add support for mips-dde-sysv4.2MP\n+\t\n 2000-06-29  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n \n \t* MAINTAINERS: Add myself as loop discovery maintainer.\n \n+2000-06-28  Corinna Vinschen  <vinschen@cygnus.com>\n+\n+\t* ltconfig: Check for host_os beeing one of `cygwin', `mingw' or\n+\t`os2'. Force ac_cv_exeext to be \".exe\" in that case.\n+\n+2000-06-19  Timothy Wall  <twall@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Set noconfigdirs for tic54x target.\n+\t* config.sub: Add tic54x target.\n+\n Sun Jun 11 17:20:00 MET 2000  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* MAINTAINERS: Add self as Fortran maintainer,\n \tremove Craig Burley.\n \n-Thu Jun 6 01:20:00 MET 2000  Philipp Thomas  <pthomas@suse.de>\n+Tue May 30 19:01:12 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n-\t* config.guess: Updated to latest version.\n-\t* config.sub: Likewise.\n+\t* config.sub: Import CVS version 1.167 Tue May 30 09:00:07 2000.\n+\t* config.guess: Import CVS version 1.148 Tue May 30 09:00:06 2000\n \n Mon May 29 21:15:00 MET 2000  Philipp Thomas  <pthomas@suse.de>\n \n \t* MAINTAINERS: Add self as i18n maintainer\n \n+20000-05-21  H.J. Lu  (hjl@gnu.org)\n+\n+        * Makefile.in (CC_FOR_TARGET): Make sure as/ld in the gcc\n+        directory are used if they exist. Make sure\n+        $(build_tooldir)/include is searched for header files,\n+        $(build_tooldir)/lib/ for library files.\n+\t(GCC_FOR_TARGET): Likewise.\n+        (CXX_FOR_TARGET): Likewise.\n+\n Thu May 18 10:58:13 2000  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in (hppa*64*-*-*): Do build ld for this configuration.\n \n-2000-05-18  Alexandre Oliva  <aoliva@cygnus.com>\n+Wed May 17 16:03:48 2000  Alexandre Oliva  <aoliva@cygnus.com>\n \n \t* Makefile.in (configure-target-libiberty): Depend on\n \tconfigure-target-newlib.\n@@ -50,6 +79,18 @@ Thu May 18 10:58:13 2000  Jeffrey A Law  (law@cygnus.com)\n \t* configure.in, Makefile.in: Merge all libffi-related\n \tconfigury stuff from the libgcj tree.\n \n+Tue May 16 10:06:21 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\tThu Apr 27 11:01:48 2000 Andrew Cagney <cagney@b1.cygnus.com>:\n+\t* Makefile.in (do-tar-bz2, do-md5sum): Skip CVS directories.\n+\n+Tue May 16 09:57:35 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\tWed Apr 26 17:03:53 2000 Andrew Cagney <cagney@b1.cygnus.com>:\n+\t* Makefile.in (do-djunpack): New target. Update djunpack.bat with\n+ \tcurrent version information.  Add to proto-toplev directory.\n+\t(gdb-taz): Build do-djunpack.\n+\n 2000-05-15  David Edelsohn  <edelsohn@gnu.org>\n \n \t* configure.in: Special case powerpc*-*-aix* target_makefile_frag.\n@@ -58,9 +99,23 @@ Mon May 15 13:39:09 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n \t* MAINTAINERS: Add self to Write After Approval list.\n \n+2000-05-13 Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n+\n+\t* ltmain.sh: Preserve in relink_command any environment\n+\tvariables that may affect the linker behavior.\n+\n Fri May 12 11:23:17 2000  Jeffrey A Law  (law@cygnus.com)\n \n-        * config.sub (basic_machine): Recognize hppa64 as a valid cpu type.\n+\t* config.sub (basic_machine): Recognize hppa64 as a valid cpu type.\n+\n+Wed May 10 21:26:51 2000  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* configure.in (ia64*-*-elf*): Add gdb and friends to noconfigdirs.\n+\n+2000-05-08  Eli Zaretskii  <eliz@is.elta.co.il>\n+\n+\t* djunpack.bat: Change the Sed script to replace @V@ in fnchange.lst\n+        with the version name.\n \n Sat May  6 21:12:55 CDT 2000  Jason Eckhardt  <jle@cygnus.com>\n \n@@ -70,6 +125,17 @@ Sat May  6 21:12:55 CDT 2000  Jason Eckhardt  <jle@cygnus.com>\n \n \t* config.if: Tweak.\n \n+2000-04-23  Eli Zaretskii  <eliz@is.elta.co.il>\n+\n+\t* djunpack.bat: New file.\n+\n+Wed Apr 19 12:46:26 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (taz, gdb-taz, gas.tar.bz2, binutils.tar.bz2,\n+ \tgas+binutils.tar.bz2, libg++.tar.bz2, gnats.tar.bz2, gdb.tar.bz2,\n+ \tdejagnu.tar.bz2, gdb+dejagnu.tar.bz2, insight.tar.bz2,\n+ \tinsight+dejagnu.tar.bz2, newlib.tar.bz2): Pass MD5PROG to sub-make.\n+\n 2000-04-16  Dave Pitts  <dpitts@cozx.com>\n \n         * config.sub (case $basic_machine): Change default for \"ibm-*\"\n@@ -79,6 +145,24 @@ Sat May  6 21:12:55 CDT 2000  Jason Eckhardt  <jle@cygnus.com>\n \n \t* MAINTAINERS: Added myself.\n \n+Wed Apr 12 16:42:48 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (gdb-taz): New target.  GDB specific archive.\n+\t(do-md5sum): New target.\n+\t(MD5PROG): Define.\n+\t(PACKAGE): Default to TOOL.\n+\t(VER): Default to a shell script.\n+\t(taz): Rewrite target.  Move real work to do-proto-toplev.  Include\n+ \tmd5 checksum generation.\n+\t(do-proto-toplev): New target. Create $(PACKAGE)-$(VER) link.\n+\t(do-tar-bz2): Delete creation of $(PACKAGE)-$(VER) link.\n+\t(gdb.tar.bz2, dejagnu.tar.bz2, gdb+dejagnu.tar.bz2,\n+ \tinsight.tar.bz2): Use gdb-taz to create archive.\n+\n+Fri Apr  7 18:10:29 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* configure (warn_cflags): Delete.\n+\n Thu Apr  6 16:15:14 2000  Philippe De Muyter  <phdm@macqel.be>\n \n \t* MAINTAINERS: Added myself.\n@@ -112,25 +196,44 @@ Sun Mar 12 00:23:32 2000  Jim Wilson  <wilson@cygnus.com>\n \n \t* MAINTAINERS: Add self in write-after-approval section.\n \n-2000-01-27  Christopher Faylor <cgf@redhat.com>\n+Fri Mar  3 18:44:08 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n \n-\t* Makefile.in (CC_FOR_TARGET): Add new winsup directory\n-\tstructure stuff to -L library search.\n-\t(CXX_FOR_TARGET): Ditto.\n-\t(CROSS_CHECK_MODULES): Fix spelling mistake.\n+\t* Makefile.in (taz): Set PACKAGE to TOOL when not defined.\n+\t(do-tar-bz2): Replace TOOL with PACKAGE.\n+\t(gdb.tar.bz2): Remove GDBTK from GDB package.\n+\t(gdb+dejagnu.tar.bz2, insight.tar.bz2, insight+dejagnu.tar.bz2,\n+ \tdejagnu.tar.bz2): New packages.\n+\n+2000-02-27  Andreas Jaeger  <aj@suse.de>\n+\n+\t* configure.in: Add entry for mips*-*-linux*, move catch all\n+\t*-*-*linux* entry below this one.\n+\n+2000-02-27  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* ltconfig, ltmain.sh: Update to libtool 1.3.4.\n \n 2000-02-24  Nick Clifton  <nickc@cygnus.com>\n \n \t* config.sub: Support an OS of \"wince\".\n \n+Thu Feb 24 16:15:56 2000  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* config.guess, config.sub: Updated to match config's 2000-02-15\n+ \tversion.\n+\n+2000-02-23  Linas Vepstas <linas@linas.org>\n+\n+\t* config.sub: Add support for Linux/IBM 370.\n+\t* configure.in: Likewise.\n+\n 2000-02-22  Nick Clifton  <nickc@cygnus.com>\n \n \t* configure.in: Add mips-pe, sh-pe and arm-wince-pe targets.\n \n-2000-02-16  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n+2000-02-20  Christopher Faylor <cgf@cygnus.com>\n \n-\t* config.guess: Synchronize with master repository.\n-\t* config.sub: Likewise.\n+\t* config.guess: Guess \"cygwin\" rather than \"cygwin32\".\n \n 2000-02-16  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n@@ -153,15 +256,18 @@ Tue Feb  1 00:07:46 2000  Hans-Peter Nilsson  <hp@bitrange.com>\n \n \t* MAINTAINERS: Pair cccp with cpplib maintainership.\n \n+2000-01-27  Christopher Faylor <cgf@redhat.com>\n+\n+\t* Makefile.in (CC_FOR_TARGET): Add new winsup directory\n+\tstructure stuff to -L library search.\n+\t(CXX_FOR_TARGET): Ditto.\n+\t(CROSS_CHECK_MODULES): Fix spelling mistake.\n+\n 2000-01-24  Mark Mitchell  <mark@codesourcery.com>\n \n \t* Makefile.in (CXX_FOR_TARGET): Use g++, not xgcc, to invoke\n \tthe C++ compiler.\n \n-Wed Jan 12 18:00:26 2000  Mark P. Mitchell  <mark@codesourcery.com>\n-\n-\t* configure.in: Fix typo in last change.\n-\n 2000-01-12  Richard Henderson  <rth@cygnus.com>\n \n \t* configure.in: Don't build some bits for beos.\n@@ -219,22 +325,20 @@ Wed Nov 17 16:08:43 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* config-ml.in: Allow suppression of some ARM multilibs.\n \n-Sun Oct  3 14:20:22 1999  Jeffrey A Law  (law@cygnus.com)\n-\n-\t* configure.in (fr30): Fix typo.\n-\n-1999-09-21  Nick Clifton  <nickc@cygnus.com>\n-\n-\t* config.sub: Add fr30 target.\n-\t* configure.in: Add fr30 target.\n-\t* MAINTAINERS: Add fr30 maintainer.\n-\n Tue Sep  7 23:33:57 1999  Linas Vepstas  <linas@linas.org>\n \n \t* config.guess: Add OS/390 match pattern.\n \t* config.sub: Add mvs, openedition targets.\n \t* configure.in (i370-ibm-opened*): New.\n \n+1999-09-04  Steve Chamberlain  <sac@pobox.com>\n+\n+\t* config.sub: Add support for configuring for pj.\n+\n+1999-08-31  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config.sub (maybe_os): Add support for configuring for fr30.\n+\n 1999-08-25  Nick Clifton  <nickc@cygnus.com>\n \n \t* configure.in: Do not configure or build ld for AIX\n@@ -245,10 +349,35 @@ Wed Aug 25 01:12:25 1999  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \t* config-ml.in: Pass compiler flag corresponding to multidirs to\n \tsubdir configures.\n \n+1999-08-09  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* Makefile.in (LDFLAGS): Define.\n+\n+1999-08-08  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* configure.in (i[3456]-*-mingw32*): Don't put gprof in\n+\tnoconfigdirs.\n+\t(*-*-cygwin*): Likewise.\n+\n+1999-08-08  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* mkdep: New file.\n+\t* Makefile.in (GAS_SUPPORT_DIRS): Add mkdep.\n+\t(BINUTILS_SUPPORT_DIRS): Add mkdep.\n+\n+\tFrom Eli Zaretskii <eliz@is.elta.co.il>:\n+\t* configure (tmpfile): Change cONf$$ to cNf$$ to avoid an overly\n+\tlong file name when using DJGPP on MS-DOS.\n+\n Wed Aug  4 02:07:14 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.sub (vxworks case): Use os=-vxworks, not os=vxworks.\n \n+1999-07-30  Alan Modra  <alan@spri.levels.unisa.edu.au>\n+\n+\t* Makefile.in (check-target-libio): Remove all-target-libstdc++\n+\tdependency as this causes \"make check\" to globally \"make all\"\n+\n Tue Jun 22 23:45:18 1999  Tom Tromey  <tromey@cygnus.com>\n \n \t* configure.in (target_libs): Added target-zlib.\n@@ -267,14 +396,6 @@ Tue Jun 22 23:45:18 1999  Tom Tromey  <tromey@cygnus.com>\n \t(configure-target-boehm-gc): New target.\n \t(configure-target-qthreads): New target.\n \n-        * configure.in (host_tools): Added zip.\n-        * Makefile.in (all-target-libjava): Depend on all-zip.\n-        (all-zip): New target.\n-        (ALL_MODULES): Added all-zip.\n-        (NATIVE_CHECK_MODULES): Added check-zip.\n-        (INSTALL_MODULES): Added install-zip.\n-        (CLEAN_MODULES): Added clean-zip.\n-\n         * configure.in (target_libs): Added target-qthreads.\n         * Makefile.in (ALL_TARGET_MODULES): Added qthreads.\n         (CONFIGURE_TARGET_MODULES): Likewise.\n@@ -294,6 +415,43 @@ Tue Jun 22 23:45:18 1999  Tom Tromey  <tromey@cygnus.com>\n \t(all-target-boehm-gc): Likewise.\n \t* configure.in (target_libs): Added libjava, boehm-gc.\n \n+1999-07-22  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* Makefile.in (binutils.tar.bz2): Don't pass makeall.bat and\n+\tconfigure.bat in SUPPORT_FILES.\n+\t(gas+binutils.tar.bz2): Likewise.\n+\n+\t* makeall.bat: Remove; obsolete.\n+\n+1999-07-21  Ian Lance Taylor  <ian@zembu.com>\n+\n+\tFrom Mark Elbrecht:\n+\t* configure.bat: Remove; obsolete.\n+\n+1999-07-11  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* configure: Add -W -Wall to the default CFLAGS when compiling with\n+\tgcc.\n+\n+Thu Jul  8 12:32:23 1999  John David Anglin <dave@hiauly1.hia.nrc.ca>\n+\n+\t* configure.in: Build ld, binutils & gas for hppa*-*-linux-gnu*.\n+\n+1999-06-30  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* configure.in: Build ld on IRIX6.\n+\n+1999-06-12  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* Makefile.in: Change distribution targets to use bzip2 instead of\n+\tgzip.\n+\t(TEXINFO_SUPPORT): Set to just texinfo/texinfo.tex.\n+\t(taz): Don't use texinfo/gpl.texinfo or texinfo/lgpl.texinfo.\n+\n+1999-06-04  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config.sub: Add mcore target.\n+\n Sun May 30 16:03:16 1999  Cort Dougan  <cort@cs.nmt.edu>\n \n \t* config.guess (ppc-*-linux-gnu): Also use ld emul elf32ppclinux.\n@@ -319,15 +477,30 @@ Thu May 20 10:00:42 1999   Stephen L Moshier  <moshier@world.std.com>\n \n \t * Makefile.in (GCC_FOR_TARGET): Add -I$(build_tooldir)/include.\n \n+1999-04-30  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* ltmain.sh: [mode link] Always use CC given by ltconfig.\n+\n 1999-04-23  Tom Tromey  <tromey@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Update to libtool 1.2f.\n \n+1999-04-20  Drew Moseley  <dmoseley@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Don't build libstub for arm-elf targets.\n+\t(noconfigdirs): Don't build any bsp stuff for for arm-oabi targets.\n+\tBad merge removed these two changes.\n+\n Tue Apr 13 22:50:54 1999  Donn Terry (donn@interix.com)\n                           Martin Heller (Ing.-Buero_Heller@t-online.de)\n \n \t* config.guess (interix Alpha): Add.\n \n+1999-04-11  Richard Henderson  <rth@cygnus.com>\n+\n+\t* configure.in (i?86-*-beos*): Do config gperf; don't config\n+\tgdb, newlib, or libgloss.\n+\n Sun Apr 11 23:55:34 1999  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \t\n \t* config-ml.in: On mips*-*-*, if multidirs contains mabi=64, try to\n@@ -338,20 +511,58 @@ Sat Apr 10 21:50:01 1999  Philipp Thomas  (kthomas@gwdg.de)\n \n \t* config.sub: Set basic_machine to i586 when target_alias = k6-*.\n \n+1999-04-08  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config.sub: Add support for mcore targets.\n+\n+1999-04-07  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*): Use config/mt-d30v as makefile fragment,\n+\tnot mt-ospace, in order to shut up assembler warning about using\n+\tsymbols that are named the same as registers.\n+\n+1999-04-07  Drew Moseley  <dmoseley@cygnus.com>\n+\n+\t* Makefile.in (all-target-cygmon): Added all-target-bsp to the\n+\tdependency list for all-target-cygmon.\n+\n+1999-04-05  Doug Evans  <devans@casey.cygnus.com>\n+\n+\t* config-ml.in: Check $host, not $target, for selective multilibs.\n+\t(arm-*-*): Allow disabling of biendian, h/w fp, 26 bit apcs,\n+\tthumb interworking, and underscore prefix multilibs.\n+\n+1999-04-04  Ian Lance Taylor  <ian@zembu.com>\n+\n+\t* missing: Update to version from current automake.\n+\n Fri Apr  2 15:11:32 1999  H.J. Lu  (hjl@gnu.org)\n \n \t* configure (gxx_include_dir): Removed.\n \n \t* configure.in (gxx_include_dir): Handle it.\n \t* Makefile.in: Likewise.\n \n+1999-03-29  Gavin Romig-Koch  <gavin@cygnus.com>\n+\n+\t* config.sub (mips64vr4111,mips64vr4111el) Add.\n+\n+1999-03-21  Ben Elliston  <bje@cygnus.com>\n+\n+        * config.guess: Correct typo for detecting ELF on FreeBSD.\n+\n Thu Mar 18 00:17:50 1999  Mark Elbrecht <snowball3@usa.net>\n \n \t* config/mh-go32: Delete.\n \t* config/mh-djgpp: New. Renamed from mh-go32.\n \t* configure.in (pc-msdosdjgpp): Set host_makefile_frag to\n \tconfig/mh-djgpp.\n \n+Thu Mar 11 18:37:23 1999  Drew Moseley  <dmoseley@cygnus.com>\n+\n+\t* Makefile.in (all-target-bsp): Added all-gcc all-binutils and\n+\tall-target-newlib to dependency list for all-target-bsp.\n+\n Thu Mar 11 01:19:31 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \n \t* config.sub: Add i386-uwin support.\n@@ -362,6 +573,16 @@ Thu Mar 11 01:07:55 1999  Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n \t* configure.in: cleanup, add mh-*pic handling for arm, special\n \tcase powerpc*-*-aix*\n \n+Wed Mar 10 18:35:07 1999  Jeff Johnston  <jjohnstn@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Removed target-libgloss so libnosys.a\n+\tcan be built.\n+\n+Wed Mar 10 17:39:09 1999  Drew Moseley  <dmoseley@cygnus.com>\n+\n+\t* configure.in: Added bsp support to arm-*-coff and arm-*-elf\n+ \ttargets.\n+\n 1999-03-02  Nick Clifton  <nickc@cygnus.com>\n \n \t* config.sub: Rename CYGNUS LOCAL to EGCS LOCAL\n@@ -374,6 +595,23 @@ Sun Feb 28 02:20:00 1999  Geoffrey Noer  <noer@cygnus.com>\n \n \t* config.sub: Fix typo in arm recognition.\n \n+Wed Feb 24 13:51:40 1999  Drew Moseley  <dmoseley@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Changed target_configdirs to\n+\tinclude target-bsp only for m68k-*-elf* and m68k-*-coff*\n+\trather than m68k-*-* since it is not known to work on\n+\tm68k-aout. Ditto for arm-*-*oabi.\n+\n+Wed Feb 24 12:52:17 1999  Stan Shebs  <shebs@andros.cygnus.com>\n+\n+\t* configure.in (*-*-windows*): Remove, no longer used.\n+\t* config/mh-windows: Ditto.\n+\n+1999-02-19  Ben Elliston <bje@cygnus.com>\n+\n+\t* config.guess: Automatically recognise ELF on FreeBSD. From Niall\n+\tSmart and improved by Andrew Cagney.\n+\n Thu Feb 18 19:55:09 1999  Marc Espie <espie@cvs.openbsd.org>\n \n \t* config.guess: Recognize openbsd-*-hppa.\n@@ -387,16 +625,33 @@ Wed Feb 17 01:38:59 1999  H.J. Lu  (hjl@gnu.org)\n \n \tPatch from: Scott Bambrough <scottb@corelcomputer.com>\n \t\n-\t* config.guess: Modified to recognize uname's armv* syntax. \n+\t* config.guess: Modified to recognize uname's armv* syntax.\n \n \t* config.sub: Modified to recognize uname's armv* syntax.\n \n+1999-02-17  Mark Salter  <msalter@cygnus.com>\n+\n+\t* configure.in: Added target-bsp for sparclite.\n+\n+Mon Feb  8 14:17:24 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* config.sub: Recognize alphapca5[67] and up to alphaev8.\n+\n+1999-02-08  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in: Add support for strongarm port.\n+\t* config.sub: Add support for strongarm target.\n+\n Sun Feb  7 18:01:54 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \t\n \t* configure.in (*-*-cygwin32*): Use config/mh-cygwin instead of\n \tthe old name config/mh-cygwin32.\n \tEnable texinfo.\n \n+Thu Feb  4 20:43:25 1999  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure.in: Do build ld for ix86 Solaris.\n+\n Tue Feb  2 19:46:40 1999  Jim Wilson  <wilson@cygnus.com>\n \n \t* Makefile.in (EXTRA_GCC_FLAGS):  Set AR to $AR instead of\n@@ -418,6 +673,27 @@ Sat Jan 30 08:04:00 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n \t* configure.in: Likewise.\n \t* config/mh-interix: New file.\n \n+Mon Jan 18 13:59:20 1999  Christopher Faylor <cgf@cygnus.com>\n+\n+\t* Makefile.in: Remove unneeded all-target-libio from\n+\tfrom all-target-winsup target since it is now unneeded.\n+\tAdd all-target-libtermcap in its place since it is now\n+\tneeded.\n+\n+Wed Dec 30 20:34:52 1998  Christopher Faylor <cgf@cygnus.com>\n+\n+\t* configure.in: makefile stub for cygwin target is probably\n+\tunnecessary.  Remove it for now.\n+\t* config/mt-cygwin: Remove.\n+\n+Wed Dec 30 01:13:03 1998  Christopher Faylor <cgf@cygnus.com>\n+\n+\t* configure.in: libtermcap.a should be built when cygwin is the\n+\ttarget as well as the host.\n+\t* config.guess: Allow mixed case in cygwin uname output.\n+\t* Makefile.in: Add libtermcap target.\n+\t* config/mt-cygwin: New file.  libtermcap target info.\n+\n Wed Dec 23 00:20:50 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.sub: Clean up handling of hppa2.0.\n@@ -430,6 +706,17 @@ Thu Dec 17 01:22:30 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.sub: Handle hppa2.0.\n \n+Tue Dec 15 17:02:58 1998  Bob Manson  <manson@charmed.cygnus.com>\n+\n+\t* configure.in: Add cygmon for x86-coff and x86-elf. Configure\n+ \tcygmon for all sparclite targets, regardless of object format.\n+\n+1998-12-15  Mark Salter  <msalter@cygnus.com>\n+\n+\t* configure.in: Added target-bsp for several target architectures.\n+\n+\t* Makefile.in: Added rules for bsp.\n+\n Fri Dec  4 01:34:02 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.guess: Improve detection of hppa2.0 processors.\n@@ -445,10 +732,62 @@ Fri Dec  4 01:33:05 1998  Niall Smart <nialls@euristix.ie>\n \tdirectory is \"unwanted\".\n \t* Makefile.in ($(CONFIGURE_TARGET_MODULES)): Likewise.\n \n+Wed Nov 18 18:28:45 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* ltconfig: import from libtool, after changing libtool to\n+\taccount for the cygwin name change.\n+\n+Wed Nov 18 18:09:14 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* Makefile.in: CC_FOR_TARGET and CXX_FOR_TARGET should also\n+\tinclude newlib/libc/sys/cygwin and newlib/libc/sys/cygwin32.\n+\n+Wed Nov 18 20:13:29 1998  Christopher Faylor <cgf@cygnus.com>\n+\n+\t* configure.in: Add libtermcap to list of cygwin dependencies.\n+\n+Tue Nov 17 16:57:51 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+        * Makefile.in: modify CC_FOR_TARGET and CXX_FOR_TARGET so that\n+        they include winsup/include when it's a cygwin target.\n+\n+1998-11-12  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* configure.in (host_tools): Added zip.\n+\t* Makefile.in (all-target-libjava): Depend on all-zip.\n+\t(all-zip): New target.\n+\t(ALL_MODULES): Added all-zip.\n+\t(NATIVE_CHECK_MODULES): Added check-zip.\n+\t(INSTALL_MODULES): Added install-zip.\n+\t(CLEAN_MODULES): Added clean-zip.\n+\n+Thu Nov 12 17:27:21 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* Makefile.in: lose \"32\" from comment about cygwin.\n+\n+Thu Nov  5 15:00:31 1998  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in: Use -Os to build target libraries for the fr30.\n+\n+Wed Nov  4 18:49:43 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* config.sub: Add fr30.\n+\n+Mon Nov  2 15:19:33 1998  Geoffrey Noer  <noer@cygnus.com>\n+\n+        * configure.in: drop \"32\" from config/mh-cygwin32.  Check\n+\tcygwin* instead of cygwin32*.\n+\t* config.sub: Check cygwin* instead of cygwin32*.\n+\n Thu Oct 22 10:55:25 1998  Robert Lipe  <robertl@dgii.com>\n \n \t* config.guess: Match any version of Unixware7.\n \n+1998-10-20  Syd Polk  <spolk@cygnus.com>\n+\n+\t* Makefile.in configure.in: Add the ability to use tcl8.1 and tk8.1\n+\tif desired.\n+\n Sun Oct 18 18:34:50 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.if (cxx_interface, libstdcxx_interface): Do not try to set\n@@ -466,8 +805,6 @@ Tue Oct 13 15:45:36 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \n Tue Oct 13 09:17:06 1998  Jeffrey A Law  (law@cygnus.com)\n \n-\t* configure.in: Fix merge typo.\n-\n \t* config.sub: Bring back lost sparcv9.\n \n \t* Makefile.in (all-snvavigator): Remove all-flexlm dependency.\n@@ -490,7 +827,7 @@ Tue Sep  1 16:23:11 1998  Gerald Pfeifer  <pfeifer@dbai.tuwien.ac.at>\n \tINSTALL directory instead.\n \n Wed Sep 30 22:20:50 1998  Robert Lipe  <robertl@dgii.com>\n-\t\n+\n \t* config.sub: Add support for i[34567]86-pc-udk.\n \t* configure.in: Likewise.\n \n@@ -624,6 +961,23 @@ Fri Jul 24 17:01:42 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* config.guess: Merge with FSF.\n \n+Fri Jul 24 08:43:36 1998  Doug Evans  <devans@canuck.cygnus.com>\n+\n+\t* configure (extraconfigdirs): New variable.\n+\t(SUBDIRS): Add extraconfigdirs and recurse on them too.\n+\t* Makefile.in (all): Move higher in file.\n+\t(EXTRA_TARGET_HOST_ALL_MODULES): New variable.\n+\t(EXTRA_TARGET_HOST_{INSTALL,CHECK}_MODULES): New variables.\n+\t(ALL_MODULES): Add EXTRA_TARGET_HOST_ALL_MODULES.\n+\t(CROSS_CHECK_MODULES): Add EXTRA_TARGET_HOST_CHECK_MODULES.\n+\t(INSTALL_MODULES): Add EXTRA_TARGET_HOST_INSTALL_MODULES.\n+\n+1998-07-23  Brendan Kehoe  <brendan@cygnus.com>\n+\n+\t* Makefile.in (all-target-libjava): Depend on all-gcc and\n+\tall-target-newlib.\n+\t(configure-target-libjava): Depend on $(ALL_GCC).\n+\n Sat Jul 18 14:32:43 CDT 1998  Robert Lipe  <robertl@dgii.com>\n \n \t* config.guess: (*-pc-sco3.2v5) Add detection for Pentium II.\n@@ -674,6 +1028,11 @@ Tue Jul 14 15:37:41 1998  Geoffrey Noer  <noer@cygnus.com>\n \t* install-sh: remove -x option, and special .exe-handling\n \thack.\n \n+Tue Jul 14 15:28:41 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* config.guess: Recognize i586-pc-beos.\n+\t* configure.in: Don't build some bits for beos.\n+\n Tue Jul 14 13:22:18 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure: If CC is set but CFLAGS is not, and CC is gcc, make\n@@ -690,6 +1049,10 @@ Tue Jul  7 15:24:38 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* ltconfig, ltmain.sh: Update to libtool 1.2b.\n \n+Thu Jul  2 13:57:36 1998  Klaus Kaempf  <kkaempf@rmi.de>\n+\n+\t* makefile.vms: Update to build binutils/makefile.vms.  Add install\n+\ttarget.\n \n Wed Jul  1 16:45:21 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n@@ -730,6 +1093,11 @@ Sat Jun 27 22:46:32 1998  Jeffrey A Law  (law@cygnus.com)\n \t(recursion line): Pass a --with-gcc-version=${gcc_version}\n \tto configures in subdirs.\n \n+Wed Jun 24 16:01:59 1998  John Metzler  <jmetzler@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Add configure pattern for mips tx39\n+ \tcygmon\n+\n Tue Jun 23 22:42:32 1998  Mark Alexander  <marka@cygnus.com>\n \n \t* configure.in: Add cygmon and libstub support for mn10200.\n@@ -820,13 +1188,22 @@ Tue May  5 18:02:24 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n 1998-04-30  Paul Eggert  <eggert@twinsun.com>\n \n-        * Makefile.in (EXTRA_GCC_FLAGS): Remove backslash at end;\n-\tSolaris `make' causes it to continue to next definition.\n+\t* Makefile.in (EXTRA_GCC_FLAGS): Remove backslash at end;\n+\tSolaris `make' causes it to continue to next definition. \n+\n+Tue Apr 28 16:24:24 1998  Jason Molenda  (crash@bugshack.cygnus.com)\n+\n+\t* Makefile.in (install-gdbtk): Call this 'install-gdb' so that\n+\tthe right GUI libraries and files are installed along with GDB.\n \n Tue Apr 28 18:11:24 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure.in: Change alpha to alpha* in several places.\n \n+Tue Apr 28 07:42:00 1998  Mark Alexander  <marka@cygnus.com>\n+\n+\t* config.sub: Recognize sparc86x.\n+\n Tue Apr 28 07:35:02 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* configure.in (--enable-target-optspace): Remove debug echo.\n@@ -847,8 +1224,9 @@ Wed Apr 22 12:30:10 1998  Michael Meissner  <meissner@cygnus.com>\n \n \t* configure.in (target_makefile_frag): If --enable-target-optspace,\n \tuse -Os to compile target libraries rather than -O2.  Default to\n-\tusing -Os for m32r if --{enable,disable}-target-optspace is not\n-\tused.\n+\tusing -Os for d10v and m32r if --{enable,disable}-target-optspace is\n+\tnot used.\n+\t* configure.in (target_cflags): Ditto for d30v.\n \n Tue Apr 21 23:06:54 1998  Tom Tromey  <tromey@cygnus.com>\n \n@@ -901,7 +1279,7 @@ Sun Apr 12 20:58:46 1998  Jeffrey A Law  (law@cygnus.com)\n \t* Makefile.in (INSTALL_MODULES): Remove texinfo.\n \n Wed Apr  8 13:18:56 1998  Philippe De Muyter  <phdm@macqel.be>\n- \n+\n \t* Makefile.in (EXTRA_GCC_FLAGS): XFOO lines shortened.\n \n Thu Apr  2 14:48:44 1998  Geoffrey Noer  <noer@cygnus.com>\n@@ -922,6 +1300,10 @@ Thu Mar 26 12:53:20 1998  Tom Tromey  <tromey@cygnus.com>\n \t(noconfigdirs) [various cases]: Likewise.\n \t(host_libs): Added intl.\n \n+Thu Mar 26 15:00:11 1998  Keith Seitz  <keiths@onions.cygnus.com>\n+\n+\t* configure: Do not disable building gdbtk for cygwin32 hosts.\n+\n Wed Mar 25 10:04:18 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* configure.in: Add thumb-coff target.\n@@ -947,7 +1329,7 @@ Tue Mar 24 18:28:12 1998  Eric Mumpower  <nocturne@cygnus.com>\n Tue Mar 24 11:37:45 1998  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* Makefile.in (CC_FOR_TARGET): Use $(TARGET_SUBDIR) when passing -B\n-\tfor newlib directory.                                          \n+\tfor newlib directory.\n \t(CXX_FOR_TARGET): Likewise.\n \n Mon Mar 23 11:30:21 1998  Jeffrey A Law  (law@cygnus.com)\n@@ -969,7 +1351,12 @@ Fri Mar 20 09:32:14 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n \t* Makefile.in ($(CONFIGURE_TARGET_MODULES)): Set CONFIG_SITE to a\n \tnon-existent file since /dev/null loses with bash 2.0/autoconf 2.12.\n \n+Wed Mar 18 09:24:59 1998  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in: Add Thumb-pe target.\n+\n Tue Mar 17 16:59:00 1998  Syd Polk <spolk@cygnus.com>\n+\n \t* Makefile.in - changed sn targets to snavigator\n \t* configure.in - changed sn targets to snavigator\n \n@@ -1117,6 +1504,11 @@ Fri Jan 23 00:29:28 1998  Philip Blundell  <pb@nexus.co.uk>\n \n \t* config.guess: Add support for Linux/ARM.\n \n+Thu Jan 22 15:14:01 1998  Fred Fish  <fnf@cygnus.com>\n+\n+\t* .cvsignore: Remove *-info and *-install since they match\n+\trelease-info and mpw-install, which we don't want to just ignore.\n+\n Thu Jan 22 01:38:33 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* configure.in: Revert 3 Jan change for alpha-linux-gnulibc1.\n@@ -1194,6 +1586,14 @@ Sun Dec 21 16:53:12 1997  H.J. Lu  (hjl@gnu.ai.mit.edu)\n \t(alpha-*-linux*): Treat alpha-*-linux* as alpha-*-linux* and\n \talpha-*-*.\n \n+Thu Dec 18 13:13:03 1997  Doug Evans  <devans@canuck.cygnus.com>\n+\n+\t* mkdep: New file.\n+\n+Wed Dec 17 09:53:02 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*-*): Allow configuring of libide, vmake, etc.\n+\n Tue Dec 16 17:36:05 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* Makefile.in: Add libgui directory.\n@@ -1252,7 +1652,12 @@ Thu Nov 27 01:31:30 1997  Jeffrey A Law  (law@cygnus.com)\n \t* Makefile.in (INSTALL_TARGET): Do install-gcc first.\n \t* configure (gxx_include_dir): Provide a definition for subdirs\n \twhich do not use autoconf.\n-\t\n+\n+Wed Nov 26 11:53:33 1997  Keith Seitz  <keiths@onions.cygnus.com>\n+\n+\t* Makefile.in, configure, configure.in, ChangeLog: merge with foundry's\n+\t11/18/97 build \n+\n Wed Nov 26 16:08:50 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* From Franz Sirl.\n@@ -1273,13 +1678,30 @@ Mon Nov 10 15:23:21 1997  H.J. Lu  <hjl@gnu.ai.mit.edu>\n \t* ltmain.sh: If mkdir fails, check whether the directory was created\n \tanyhow by some other process.\n \n+Mon Nov 10 14:38:03 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*-*): Configure all directories.\n+\n+Sun Nov  9 17:36:20 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*-*): Configure newlib, libiberty directories\n+\tfor the D30V.\n+\n+Sat Nov  8 14:42:59 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*-*): Configure target-libgloss on the D30V.\n+\n Fri Nov  7 10:34:09 1997  Rob Savoye  <rob@darkstar.cygnus.com>\n \n         * include/libiberty.h: Add extern \"C\" { so it can be used with C++\n         progrms.\n         * include/remote-sim.h:  Add extern \"C\" { so it can be used with C++\n         programs.\n \n+Thu Oct 30 11:09:29 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (d30v-*-*): Configure GCC now.\n+\n Mon Oct 27 13:17:24 1997  Stan Shebs  <shebs@andros.cygnus.com>\n \n \t* configure.in: Remove a \"second pass\" of tweaking noconfigdirs,\n@@ -1295,10 +1717,43 @@ Sun Oct 26 11:48:27 1997  Manfred Hollstein  (manfred@s-direktnet.de)\n \ttargets using \"$@\" to provide support for similar but not identical\n \ttargets without having to duplicate code.\n \n+Mon Oct 20 15:28:49 1997  Klaus K\"ampf  <kkaempf@progis.de>\n+\n+\t* makefile.vms: Fix to work with DEC C.\n+\n+Tue Oct  7 23:58:57 1997  Gavin Koch  <gavin@cygnus.com>\n+\n+\t* config.sub: Add mips-tx39-elf to marketing names.\n+\n+Tue Oct  7 14:24:41 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* ltmain.sh: Handle symlinks in generated script.\n+\n+Wed Oct  1 13:11:27 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* configure: Handle autoconf style directory options: --bindir,\n+\t--datadir, --includedir, --infodir, --libdir, --libexecdir,\n+\t--mandir, --oldincludedir, --sbindir, --sharedstatedir,\n+\t--sysconfdir.\n+\t* Makefile.in (sbindir, libexecdir, sysconfdir): New variables.\n+\t(sharedstatedir, localstatedir, oldincludedir): New variables.\n+\t(BASE_FLAGS_TO_PASS): Pass down bindir, datadir, includedir,\n+\tinfodir, libdir, libexecdir, localstatedir, mandir, oldincludedir,\n+\tsbindir, sharedstatedir, and sysconfdir.\n+\n Mon Sep 29 00:38:08 1997 Aaron Jackson <jackson@negril.msrce.howard.edu>\n \n \t* Makefile.in (bootstrap-lean): New target.\n \n+Wed Sep 24 18:06:27 1997  Stu Grossman  <grossman@babylon-5.cygnus.com>\n+\n+\t* configure.in (d30v):  Remove tcl, tk, expect, gdb, itcl, tix, db,\n+ \tsn, and gnuserv from noconfigdirs.\n+\n+Wed Sep 24 15:18:32 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* ltmain.sh: Tweak shell pattern to avoid bug in NetBSD /bin/sh.\n+\n Thu Sep 18 23:58:27 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* Makefile.in (cross): New target.\n@@ -1310,6 +1765,11 @@ Thu Sep 18 21:43:23 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \t(all-bootstrap): Remove outdated and confusing target.\n \t(bootstrap, bootstrap2, bootstrap3): Don't pass BOOT_CFLAGS down.\n \n+Thu Sep 18 15:37:42 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* configure (tooldir): enable_gdbtk=YES for cygwin32, NO for\n+ \twindows.  Consistent with gdb/configure.\n+\n 1997-09-15 02:37  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* config/mt-linux: Define CXXFLAGS to make sure -fvtable-thunks is\n@@ -1319,6 +1779,14 @@ Thu Sep 18 21:43:23 1997  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \t* configure: Rewrite so that project Makefile fragment is inserted\n \tfirst and appears last in the resulting Makefile.\n \n+Tue Sep 16 09:55:07 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (install-itcl): Install tcl first.\n+\n+Sun Sep 14 20:53:42 1997  Geoffrey Noer  <noer@cygnus.com>\n+\n+\t* config/mh-cygwin32: ok to build split texinfo files\n+\n Fri Sep 12 16:19:20 1997  Geoffrey Noer  <noer@cygnus.com>\n \n \t* configure.in: remove bison from noconfigdirs for Cygwin32 host\n@@ -1338,10 +1806,18 @@ Wed Sep 10 15:19:22 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* config.sub: Accept 'amigados' for backward compatability.\n \n+Mon Sep  8 20:46:20 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* config.guess: Merge with FSF.\n+\n Sun Sep  7 23:18:32 1997  Fred Fish  <fnf@ninemoons.com>\n \n \t* config.sub: Change 'amigados' to 'amigaos' to match current usage.\n \n+Sun Sep  7 15:55:28 1997  Gavin Koch  <gavin@cygnus.com>\n+\n+\t* config.sub: Add \"marketing-names\" patch.\n+\n Fri Sep  5 16:11:28 1997  Joel Sherrill  (joel@OARcorp.com)\n \n         * configure.in (*-*-rtems*): Do not build libgloss for rtems.\n@@ -1367,6 +1843,10 @@ Wed Aug 27 16:15:11 1997  Jim Wilson  <wilson@cygnus.com>\n \n \t* config.guess: Update from gcc directory.\n \n+Tue Aug 26 16:46:46 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+\n+\t* Makefile.in (all-sim): Depends on all-readline.\n+\n Wed Aug 20 19:57:37 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* Makefile.in (BISON, YACC): Use $$s.\n@@ -1377,6 +1857,18 @@ Tue Aug 19 01:41:32 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \t* Makefile.in (BISON): Add -L flag.\n \t(YACC): Likewise.\n \n+Mon Aug 18 11:30:50 1997  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Add support for v850e target. \n+\t\n+\t* config.sub (maybe_os): Add support for v850e target.\n+\n+Mon Aug 18 11:30:50 1997  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Add support for v850ea target. \n+\t\n+\t* config.sub (maybe_os): Add support for v850ea target.\n+\n Mon Aug 18 09:24:06 1997  Gavin Koch  <gavin@cygnus.com>\n \n \t* config.sub: Add mipstx39.  Delete r3900.\n@@ -1396,6 +1888,7 @@ Thu Aug 14 14:42:17 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure: When handling a Canadian Cross, handle YACC as well as\n \tBISON.  Just set BISON to bison.  When setting YACC, prefer bison.\n+        * Makefile.in (all-bison): Depend upon all-texinfo.\n \n Tue Aug 12 20:09:48 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n@@ -1730,6 +2223,11 @@ Mon Mar 31 16:26:55 1997  Joel Sherrill  <joel@oarcorp.com>\n \n         * configure.in (hppa1.1-*-rtems*): New target, like hppa-*-*elf*.\n \n+Sun Mar 30 12:38:27 1997  Fred Fish  <fnf@cygnus.com>\n+\n+\t* configure.in: Remove noconfigdirs case since gdb also\n+\tconfigures and builds for tic80-coff.\n+\n Fri Mar 28 18:28:52 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* configure: Set cache_file to config.cache.\n@@ -1739,6 +2237,11 @@ Wed Mar 26 18:49:39 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* COPYING: Update FSF address.\n \n+Wed Mar 26 10:38:25 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (tic80-*-*): Remove G++ libraries and libgloss from\n+\tnoconfigdirs.\n+\n Mon Mar 24 15:02:39 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* Makefile.in (install-dirs): Don't crash if prefix, and hence\n@@ -1775,6 +2278,10 @@ Wed Mar  5 12:09:29 1997  Martin  <hunt@cygnus.com>\n \t* configure.in (noconfigdirs): Remove tcl and tk from\n \tnoconfigdirs for cygwin32 builds.\n \n+Fri Feb 28 18:20:15 1997  Fred Fish  <fnf@cygnus.com>\n+\n+\t* configure.in (tic80-*-*): Remove ld from noconfigdirs.\n+\n Thu Feb 27 14:57:26 1997  Ken Raeburn  <raeburn@cygnus.com>\n \n \t* Makefile.in (GAS_SUPPORT_DIRS, BINUTILS_SUPPORT_DIRS): Remove\n@@ -1784,6 +2291,28 @@ Tue Feb 25 18:46:14 1997  Stan Shebs  <shebs@andros.cygnus.com>\n \n \t* config.sub: Accept -lnews*.\n \n+Tue Feb 25 13:19:14 1997  Andrew Cagney  <cagney@kremvax.tpgi.com.au>\n+\n+\t* configure.in (noconfigdirs): Disable target-newlib,\n+ \ttarget-examples and target-libiberty for d30v.\n+\n+Fri Feb 21 17:56:25 1997  Martin M. Hunt  <hunt@pizza.cygnus.com>\n+\n+\t* configure.in (noconfigdirs): Enable ld for d30v.\n+\n+Fri Feb 21 20:58:51 1997  Michael Meissner  <meissner@cygnus.com>\n+\n+\t* configure.in (tic80-*-*): Build compiler.\n+\n+Sun Feb 16 15:41:09 1997  Andrew Cagney  <cagney@critters.cygnus.com>\n+\n+\t* configure.in (d30v-*): Remove sim directory from list of\n+ \tunsupported d30v directories\n+\n+Tue Feb 18 17:32:42 1997  Martin M. Hunt  <hunt@pizza.cygnus.com>\n+\n+\t* config.sub, configure.in: Add d30v target cpu. \n+\t\n Thu Feb 13 22:04:44 1997  Klaus Kaempf  <kkaempf@progis.de>\n \n \t* makefile.vms: New file.\n@@ -1823,6 +2352,10 @@ Fri Jan 17 15:32:15 1997  Doug Evans  <dje@canuck.cygnus.com>\n \n \t* Makefile.in (all-target-winsup): Depend on all-target-libio.\n \n+Mon Jan 13 22:46:54 1997  Michael Meissner  <meissner@tiktok.cygnus.com>\n+\n+\t* configure.in (tic80-*-*): Turn off most targets right now.\n+\n Fri Jan  3 16:04:03 1997  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* Makefile.in (MAKEINFO): Check for the existence of the Makefile,\n@@ -1835,6 +2368,10 @@ Tue Dec 31 16:00:31 1996  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* config.sub, config.guess: Merge with latest FSF sources.\n \n+Fri Dec 27 23:04:33 1996  Fred Fish  <fnf@cygnus.com>\n+\n+\t* config.sub (case $basic_machine): Add tic80 entries.\n+\n Fri Dec 27 12:07:59 1996  Ian Lance Taylor  <ian@cygnus.com>\n \n \t* config.sub, config.guess: Merge with latest FSF sources.\n@@ -1882,6 +2419,10 @@ Sat Nov 23 19:26:22 1996  Michael Meissner  <meissner@tiktok.cygnus.com>\n \n \t* config.sub: Handle d10v-unknown.\n \n+Sat Nov 23 10:23:01 1996  Gavin Koch  <gavin@cygnus.com>\n+\n+\t* config.sub: Handle v850-unknown.\n+\n Thu Nov 21 16:19:44 1996  Geoffrey Noer  <noer@cygnus.com>\n \n \t* Makefile.in: add findutils\n@@ -2102,6 +2643,10 @@ Mon Sep 30 14:24:01 1996  Stan Shebs  <shebs@andros.cygnus.com>\n \t* mpw-build.in: Don't always depend on byacc and flex.\n \t(install-only-top): New action.\n \n+Fri Sep 27 17:39:44 1996  Stu Grossman  (grossman@critters.cygnus.com)\n+\n+\t* configure.in:  You can now configure GDB for the v850.\n+\n Tue Sep 24 19:05:12 1996  Stan Shebs  <shebs@andros.cygnus.com>\n \n \t* configure.in (noconfigdirs): Don't configure any C++ dirs\n@@ -2161,15 +2706,21 @@ Mon Aug 26 18:34:42 1996  Martin M. Hunt  <hunt@pizza.cygnus.com>\n \n \t* configure.in (noconfigdirs): Removed gdb for D10V.\n \n-Tue Aug 26 16:46:46 1997  Andrew Cagney  <cagney@b1.cygnus.com>\n+Thu Aug 22 17:13:52 1996  Jeffrey A Law  (law@cygnus.com)\n \n-\t* Makefile.in (all-sim): Depends on all-readline.\n+\t* configure.in: Remove ld, target-libio, target-libg++, and\n+\ttarget-libstdc++ from noconfigdirs.\n \n Wed Aug 21 18:56:38 1996  Fred Fish  <fnf@cygnus.com>\n \n \t* configure: Fix three locations where shell scripts were\n \tbeing run directly rather than with config_shell.\n \n+Tue Aug 20 13:08:47 1996  J.T. Conklin  <jtc@hippo.cygnus.com>\n+\n+\t* configure.in (v850-*-*): Set up initial $noconfigdirs.\n+\t* config.sub (basic_machine): Recognize v850.\n+\n Thu Aug 15 12:19:33 1996  Stan Shebs  <shebs@andros.cygnus.com>\n \n \t* mpw-configure: Handle multiple enable/disable options and\n@@ -3516,7 +4067,7 @@ Tue Apr 11 18:55:40 1995  Doug Evans  <dje@canuck.cygnus.com>\n \n Mon Apr 10 14:38:20 1995  Jason Molenda (crash@phydeaux.cygnus.com)\n \n-\t* Makefile.in: move {all,check,install}-gdb from *_MODULES \n+\t* Makefile.in: move {all,check,install}-gdb from *_MODULES\n \tto *_X11_MODULES due to gdbtk needing X include files et al.\n \n Mon Apr 10 11:42:22 1995  Stan Shebs  <shebs@andros.cygnus.com>"}, {"sha": "3fb2114f02268a39cd56273cd01ec3c1823bb218", "filename": "Makefile.in", "status": "modified", "additions": 168, "deletions": 76, "changes": 244, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -40,7 +40,6 @@ gxx_include_dir=${includedir}/g++\n tooldir = $(exec_prefix)/$(target_alias)\n build_tooldir = $(exec_prefix)/$(target_alias)\n \n-\n program_transform_name =\n \n man1dir = $(mandir)/man1\n@@ -61,7 +60,7 @@ GDB_NLM_DEPS =\n SHELL = /bin/sh\n \n # INSTALL_PROGRAM_ARGS is changed by configure.in to use -x for a\n-# cygwin32 host.\n+# cygwin host.\n INSTALL_PROGRAM_ARGS =\n \n INSTALL = $(SHELL) $$s/install-sh -c\n@@ -86,6 +85,7 @@ HOST_PREFIX_1 = loser-\n CFLAGS = -g\n CXXFLAGS = -g -O2\n \n+LDFLAGS = \n LIBCFLAGS = $(CFLAGS)\n CFLAGS_FOR_TARGET = $(CFLAGS)\n LDFLAGS_FOR_TARGET = \n@@ -111,8 +111,8 @@ NM = nm\n \n LD = ld\n \n-# Not plain GZIP, since gzip looks there for extra command-line options.\n-GZIPPROG = gzip\n+BZIPPROG = bzip2\n+MD5PROG = md5sum\n \n # These values are substituted by configure.\n DEFAULT_YACC = yacc\n@@ -169,7 +169,7 @@ OTHERS =\n \n # This is set by the configure script to the list of directories which\n # should be built using the target tools.\n-TARGET_CONFIGDIRS = libiberty libgloss newlib libio librx libstdc++ libg++ winsup opcodes libstub cygmon libf2c libchill libobjc\n+TARGET_CONFIGDIRS = libiberty libgloss $(SPECIAL_LIBS) newlib libio librx libstdc++ libg++ winsup opcodes bsp libstub cygmon libf2c libchill libobjc\n \n # Target libraries are put under this directory:\n # Changed by configure to $(target_alias) if cross.\n@@ -215,18 +215,14 @@ CC_FOR_TARGET = ` \\\n     if [ -f $$r/$(TARGET_SUBDIR)/newlib/Makefile ] ; then \\\n       case \"$(target_canonical)\" in \\\n         i[3456]86-*-cygwin*) \\\n-          echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -L$$r/$(TARGET_SUBDIR)/winsup -L$$r/$(TARGET_SUBDIR)/winsup/cygwin -L$$r/$(TARGET_SUBDIR)/winsup/w32api/lib -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/winsup/include -idirafter $$s/winsup/cygwin/include -idirafter $$s/winsup/w32api/include -idirafter $$s/newlib/libc/include -idirafter $$s/newlib/libc/sys/cygwin -idirafter $$s/newlib/libc/sys/cygwin32 -nostdinc; \\\n+          echo $$r/gcc/xgcc -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$$r/gcc/ -L$$r/$(TARGET_SUBDIR)/winsup -L$$r/$(TARGET_SUBDIR)/winsup/cygwin -L$$r/$(TARGET_SUBDIR)/winsup/w32api/lib -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/winsup/include -idirafter $$s/winsup/cygwin/include -idirafter $$s/winsup/w32api/include -idirafter $$s/newlib/libc/include -idirafter $$s/newlib/libc/sys/cygwin -idirafter $$s/newlib/libc/sys/cygwin32 -nostdinc; \\\n           ;; \\\n         *) \\\n-          if [ -f $$r/$(TARGET_SUBDIR)/winsup/Makefile ] ; then \\\n-            echo $$r/gcc/xgcc -B$$r/gcc/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$(build_tooldir)/bin/ -L$$r/$(TARGET_SUBDIR)/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \\\n-          else \\\n-            echo $$r/gcc/xgcc -B$$r/gcc/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$(build_tooldir)/bin/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \\\n-          fi; \\\n+          echo $$r/gcc/xgcc -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$$r/gcc/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc; \\\n \t  ;; \\\n       esac \\\n     else \\\n-      echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/; \\\n+      echo $$r/gcc/xgcc -B$(build_tooldir)/bin/ -B$(build_tooldir)/lib/ -B$$r/gcc/ -isystem $(build_tooldir)/include; \\\n     fi; \\\n   else \\\n     if [ \"$(host_canonical)\" = \"$(target_canonical)\" ] ; then \\\n@@ -240,11 +236,11 @@ CC_FOR_TARGET = ` \\\n # variable is passed down to the gcc Makefile, where it is used to\n # build libgcc2.a.  We define it here so that it can itself be\n # overridden on the command line.\n-GCC_FOR_TARGET = $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -I$(build_tooldir)/include\n+GCC_FOR_TARGET = $$r/gcc/xgcc -B$(build_tooldir)/bin/ -B$(build_tooldir)/lib/ -B$$r/gcc/ -isystem $(build_tooldir)/include\n \n CHILL_FOR_TARGET = ` \\\n   if [ -f $$r/gcc/xgcc ] ; then \\\n-    echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -L$$r/gcc/ch/runtime/; \\\n+    echo $$r/gcc/xgcc -B$(build_tooldir)/bin/ -B$(build_tooldir)/lib/ -B$$r/gcc/ -L$$r/gcc/ch/runtime/; \\\n   else \\\n     if [ \"$(host_canonical)\" = \"$(target_canonical)\" ] ; then \\\n       echo $(CC); \\\n@@ -258,18 +254,14 @@ CXX_FOR_TARGET = ` \\\n     if [ -f $$r/$(TARGET_SUBDIR)/newlib/Makefile ] ; then \\\n       case \"$(target_canonical)\" in \\\n         i[3456]86-*-cygwin*) \\\n-          echo $$r/gcc/xgcc -B$$r/gcc/ -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -L$$r/$(TARGET_SUBDIR)/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/winsup/cygwin/include -idirafter $$s/winsup/w32api/include -idirafter $$s/newlib/libc/include -idirafter $$s/newlib/libc/sys/cygwin -idirafter $$s/newlib/libc/sys/cygwin32 -nostdinc -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n+          echo $$r/gcc/g++ -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$$r/gcc/ -L$$r/$(TARGET_SUBDIR)/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/winsup/cygwin/include -idirafter $$s/winsup/w32api/include -idirafter $$s/newlib/libc/include -idirafter $$s/newlib/libc/sys/cygwin -idirafter $$s/newlib/libc/sys/cygwin32 -nostdinc -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n           ;; \\\n         *) \\\n-          if [ -f $$r/$(TARGET_SUBDIR)/winsup/Makefile ] ; then \\\n-            echo $$r/gcc/g++ -B$$r/gcc/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$(build_tooldir)/bin/ -L$$r/winsup -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n-          else \\\n-            echo $$r/gcc/g++ -B$$r/gcc/ -B$(build_tooldir)/bin/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n-          fi; \\\n+          echo $$r/gcc/g++ -B$(build_tooldir)/bin/ -B$$r/$(TARGET_SUBDIR)/newlib/ -B$$r/gcc/ -idirafter $$r/$(TARGET_SUBDIR)/newlib/targ-include -idirafter $$s/newlib/libc/include -nostdinc -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n \t  ;; \\\n       esac \\\n     else \\\n-      echo $$r/gcc/g++ -B$$r/gcc/ -B$(build_tooldir)/bin/ -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n+      echo $$r/gcc/g++ -B$(build_tooldir)/bin/ -B$(build_tooldir)/lib/ -B$$r/gcc/ -isystem $(build_tooldir)/include -L$$r/$(TARGET_SUBDIR)/libstdc++; \\\n     fi; \\\n   else \\\n     if [ \"$(host_canonical)\" = \"$(target_canonical)\" ] ; then \\\n@@ -557,6 +549,7 @@ ALL_MODULES = \\\n \tall-ld \\\n \tall-libgui \\\n \tall-libiberty \\\n+\tall-libtool \\\n \tall-m4 \\\n \tall-make \\\n \tall-mmalloc \\\n@@ -575,6 +568,7 @@ ALL_MODULES = \\\n \tall-snavigator \\\n \tall-tar \\\n \tall-tcl \\\n+\tall-tcl8.1 \\\n \tall-texinfo \\\n \tall-textutils \\\n \tall-tgas \\\n@@ -700,6 +694,7 @@ INSTALL_MODULES = \\\n \tinstall-intl \\\n \tinstall-ispell \\\n \tinstall-tcl \\\n+\tinstall-tcl8.1 \\\n \tinstall-itcl \\\n \tinstall-ld \\\n \tinstall-libgui \\\n@@ -720,7 +715,6 @@ INSTALL_MODULES = \\\n \tinstall-sim \\\n \tinstall-snavigator \\\n \tinstall-tar \\\n-\tinstall-texinfo \\\n \tinstall-textutils \\\n \tinstall-tgas \\\n \tinstall-time \\\n@@ -740,6 +734,7 @@ ALL_X11_MODULES = \\\n \tall-guile \\\n \tall-tclX \\\n \tall-tk \\\n+\tall-tk8.1 \\\n \tall-tix\n \n # This is a list of the check targets for all of the modules which are\n@@ -765,6 +760,7 @@ INSTALL_X11_MODULES = \\\n \tinstall-gash \\\n \tinstall-tclX \\\n \tinstall-tk \\\n+\tinstall-tk8.1 \\\n \tinstall-tix\n \n # This is a list of the targets for all of the modules which are compiled\n@@ -779,6 +775,7 @@ ALL_TARGET_MODULES = \\\n \tall-target-libf2c \\\n \tall-target-libchill \\\n \tall-target-libobjc \\\n+\tall-target-libtermcap \\\n \tall-target-winsup \\\n \tall-target-libgloss \\\n \tall-target-libiberty \\\n@@ -790,6 +787,7 @@ ALL_TARGET_MODULES = \\\n \tall-target-zlib \\\n \tall-target-boehm-gc \\\n \tall-target-qthreads \\\n+\tall-target-bsp \\\n \tall-target-cygmon\n \n # This is a list of the configure targets for all of the modules which\n@@ -804,6 +802,7 @@ CONFIGURE_TARGET_MODULES = \\\n \tconfigure-target-libf2c \\\n \tconfigure-target-libchill \\\n \tconfigure-target-libobjc \\\n+\tconfigure-target-libtermcap \\\n \tconfigure-target-winsup \\\n \tconfigure-target-libgloss \\\n \tconfigure-target-libiberty \\\n@@ -815,6 +814,7 @@ CONFIGURE_TARGET_MODULES = \\\n \tconfigure-target-zlib \\\n \tconfigure-target-boehm-gc \\\n \tconfigure-target-qthreads \\\n+\tconfigure-target-bsp \\\n \tconfigure-target-cygmon\n \n # This is a list of the check targets for all of the modules which are\n@@ -848,6 +848,7 @@ INSTALL_TARGET_MODULES = \\\n \tinstall-target-libf2c \\\n \tinstall-target-libchill \\\n \tinstall-target-libobjc \\\n+\tinstall-target-libtermcap \\\n \tinstall-target-winsup \\\n \tinstall-target-libgloss \\\n \tinstall-target-libiberty \\\n@@ -924,7 +925,6 @@ CLEAN_MODULES = \\\n \tclean-wdiff \\\n \tclean-zip\n \n-\n # All of the target modules that can be cleaned\n CLEAN_TARGET_MODULES = \\\n \tclean-target-libio \\\n@@ -947,6 +947,7 @@ CLEAN_TARGET_MODULES = \\\n \tclean-target-zlib \\\n \tclean-target-boehm-gc \\\n \tclean-target-qthreads \\\n+\tclean-target-bsp \\\n \tclean-target-cygmon\n \n # All of the x11 modules that can be cleaned\n@@ -961,10 +962,6 @@ CLEAN_X11_MODULES = \\\n \tclean-tk \\\n \tclean-tix\n \n-# The first rule in the file had better be this one.  Don't put any above it.\n-all: all.normal\n-.PHONY: all\n-\n # The target built for a native build.\n .PHONY: all.normal\n all.normal: \\\n@@ -1586,11 +1583,13 @@ all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc all\n all-bison: all-texinfo\n configure-target-boehm-gc: configure-target-newlib configure-target-qthreads\n all-target-boehm-gc: configure-target-boehm-gc\n+configure-target-bsp: $(ALL_GCC)\n+all-target-bsp: configure-target-bsp all-gcc all-binutils all-target-newlib\n all-byacc:\n all-bzip2:\n all-cvssrc:\n configure-target-cygmon: $(ALL_GCC)\n-all-target-cygmon: configure-target-cygmon all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-libstub\n+all-target-cygmon: configure-target-cygmon all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-libstub all-target-bsp\n all-db:\n all-dejagnu: all-tcl all-expect all-tk\n all-diff: all-libiberty\n@@ -1627,16 +1626,16 @@ all-indent:\n all-inet: all-tcl all-send-pr all-perl\n all-intl:\n all-ispell: all-emacs19\n-all-itcl: all-tcl all-tk\n+all-itcl: all-tcl all-tk all-tcl8.1 all-tk8.1\n all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex all-intl\n configure-target-libg++: $(ALL_GCC) configure-target-librx\n all-target-libg++: configure-target-libg++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio all-target-librx all-target-libstdc++\n configure-target-libgloss: $(ALL_GCC)\n all-target-libgloss: configure-target-libgloss configure-target-newlib\n configure-target-libio: $(ALL_GCC)\n all-target-libio: configure-target-libio all-gas all-ld all-gcc all-target-libiberty all-target-newlib\n-check-target-libio: all-target-libstdc++\n-all-libgui: all-tcl all-tk all-itcl\n+check-target-libio:\n+all-libgui: all-tcl all-tk all-tcl8.1 all-tk8.1 all-itcl\n all-libiberty:\n configure-target-libffi: $(ALL_GCC) \n configure-target-libjava: $(ALL_GCC) configure-target-zlib configure-target-boehm-gc configure-target-qthreads configure-target-newlib configure-target-libffi\n@@ -1658,7 +1657,9 @@ all-m4: all-libiberty\n all-make: all-libiberty\n all-mmalloc:\n configure-target-newlib: $(ALL_GCC)\n+configure-target-libtermcap: $(ALL_GCC)\n all-target-newlib: configure-target-newlib all-binutils all-gas all-gcc\n+all-target-libtermcap: configure-target-libtermcap all-binutils all-gas all-gcc\n all-opcodes: all-bfd all-libiberty\n all-patch: all-libiberty\n all-perl:\n@@ -1675,15 +1676,17 @@ all-sim: all-libiberty all-bfd all-opcodes all-readline\n all-snavigator: all-tcl all-tk all-itcl all-db all-grep all-libgui\n all-tar: all-libiberty\n all-tcl:\n+all-tcl8.1:\n all-tclX: all-tcl all-tk\n all-tk: all-tcl\n+all-tk8.1: all-tcl8.1\n all-texinfo: all-libiberty\n all-textutils:\n all-tgas: all-libiberty all-bfd all-opcodes\n all-time:\n-all-tix: all-tcl all-tk\n+all-tix: all-tcl all-tk all-tcl8.1 all-tk8.1\n all-wdiff:\n-all-target-winsup: all-target-newlib all-target-libiberty all-target-libio configure-target-winsup \n+all-target-winsup: all-target-newlib all-target-libiberty all-target-libtermcap configure-target-winsup\n configure-target-winsup: configure-target-newlib\n all-uudecode: all-libiberty\n all-zip:\n@@ -1693,7 +1696,7 @@ configure-target-libiberty: $(ALL_GCC) configure-target-newlib\n all-target-libiberty: configure-target-libiberty all-gcc all-ld all-target-newlib\n all-target: $(ALL_TARGET_MODULES)\n install-target: $(INSTALL_TARGET_MODULES)\n-\n+install-gdb: install-tcl install-tk install-itcl install-tix install-libgui\n ### other supporting targets\n \n MAKEDIRS= \\\n@@ -1751,11 +1754,53 @@ ETC_SUPPORT= Makefile.in configure configure.in standards.texi \\\n # this macro.\n SUPPORT_FILES = list-of-support-files-for-tool-in-question\n \n-.PHONY: taz\n+# NOTE: No double quotes in the below.  It is used within shell script\n+# as VER=\"$(VER)\"\n+VER = `\tif grep AM_INIT_AUTOMAKE $(TOOL)/configure.in >/dev/null 2>&1; then \\\n+\t  sed < $(TOOL)/configure.in -n 's/AM_INIT_AUTOMAKE[^,]*, *\\([^)]*\\))/\\1/p'; \\\n+\telse \\\n+\t  sed < $(TOOL)/Makefile.in -n 's/^VERSION *= *//p'; \\\n+\tfi`\n+PACKAGE = $(TOOL)\n \n-taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) \\\n-  texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo\n-\t# Take out texinfo from a few places\n+.PHONY: taz\n+taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) texinfo/texinfo.tex\n+\t$(MAKE) -f Makefile.in do-proto-toplev \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\t$(MAKE) -f Makefile.in do-md5sum \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\t$(MAKE) -f Makefile.in do-tar-bz2 \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\n+.PHONY: gdb-taz\n+gdb-taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) texinfo/texinfo.tex\n+\t$(MAKE) -f Makefile.in do-proto-toplev \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\t$(MAKE) -f Makefile.in do-md5sum \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\t$(MAKE) -f Makefile.in do-djunpack \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\t$(MAKE) -f Makefile.in do-tar-bz2 \\\n+\t\tTOOL=$(TOOL) PACKAGE=\"$(PACKAGE)\" VER=\"$(VER)\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(SUPPORT_FILES)\"\n+\n+.PHONY: do-proto-toplev\n+do-proto-toplev: $(DEVO_SUPPORT) $(SUPPORT_FILES) texinfo/texinfo.tex\n+\techo \"==> Making $(PACKAGE)-$(VER)/\"\n+\t# Take out texinfo from a few places.\n \tsed -e '/^all\\.normal: /s/\\all-texinfo //' \\\n \t    -e '/^\tinstall-texinfo /d' \\\n \t<Makefile.in >tmp\n@@ -1799,68 +1844,114 @@ taz: $(DEVO_SUPPORT) $(SUPPORT_FILES) \\\n \t#\n \tmkdir proto-toplev/texinfo\n \tln -s ../../texinfo/texinfo.tex\t\tproto-toplev/texinfo/\n-\tln -s ../../texinfo/gpl.texinfo\t\tproto-toplev/texinfo/\n-\tln -s ../../texinfo/lgpl.texinfo\tproto-toplev/texinfo/\n \tif test -r texinfo/util/tex3patch ; then \\\n \t  mkdir proto-toplev/texinfo/util && \\\n \t  ln -s ../../../texinfo/util/tex3patch\tproto-toplev/texinfo/util ; \\\n \telse true; fi\n \tchmod -R og=u . || chmod og=u `find . -print`\n-\tif grep AM_INIT_AUTOMAKE $(TOOL)/configure.in >/dev/null 2>&1; then \\\n-\t  ver=`sed < $(TOOL)/configure.in -n 's/AM_INIT_AUTOMAKE[^,]*, *\\([^)]*\\))/\\1/p'`; \\\n-\telse \\\n-\t  ver=`sed <$(TOOL)/Makefile.in -n 's/^VERSION *= *//p'`; \\\n-\tfi; \\\n-\t$(MAKE) -f Makefile.in do-tar-gz TOOL=$(TOOL) VER=$$ver\n-\n-do-tar-gz:\n-\techo \"==> Making $(TOOL)-$(VER).tar.gz\"\n-\t-rm -f $(TOOL)-$(VER)\n-\tln -s proto-toplev $(TOOL)-$(VER)\n-\ttar cfh $(TOOL)-$(VER).tar $(TOOL)-$(VER)\n-\t$(GZIPPROG) -v -9 $(TOOL)-$(VER).tar\n-\n-TEXINFO_SUPPORT= texinfo/texinfo.tex texinfo/gpl.texinfo texinfo/lgpl.texinfo\n+\t#\n+\t-rm -f $(PACKAGE)-$(VER)\n+\tln -s proto-toplev $(PACKAGE)-$(VER)\n+\n+.PHONY: do-tar-bz2\n+do-tar-bz2:\n+\techo \"==> Making $(PACKAGE)-$(VER).tar.bz2\"\n+\t-rm -f $(PACKAGE)-$(VER).tar.bz2\n+\tfind $(PACKAGE)-$(VER) -follow -name CVS -prune -o -type f -print \\\n+\t\t| tar cTfh - $(PACKAGE)-$(VER).tar\n+\t$(BZIPPROG) -v -9 $(PACKAGE)-$(VER).tar\n+\n+.PHONY: do-md5sum\n+do-md5sum:\n+\techo \"==> Adding md5 checksum to top-level directory\"\n+\tcd proto-toplev && find * -follow -name CVS -prune -o -type f -print \\\n+\t\t| xargs $(MD5PROG) > ../md5.sum\n+\tmv md5.sum proto-toplev\n+\n+.PHONY: do-djunpack\n+do-djunpack:\n+\techo \"==> Adding updated djunpack.bat to top-level directory\"\n+\techo - 's /gdb-[0-9\\.]*/gdb-'\"$(VER)\"'/'\n+\tsed < djunpack.bat > djunpack.new \\\n+\t\t-e 's/gdb-[0-9][0-9\\.]*/gdb-'\"$(VER)\"'/'\n+\tmv djunpack.new djunpack.bat\n+\t-rm -f proto-toplev/djunpack.bat\n+\tln -s ../djunpack.bat proto-toplev/djunpack.bat\n+\n+TEXINFO_SUPPORT= texinfo/texinfo.tex\n DIST_SUPPORT= $(DEVO_SUPPORT) $(TEXINFO_SUPPORT)\n \n-.PHONY: gas.tar.gz\n-GAS_SUPPORT_DIRS= bfd include libiberty opcodes intl setup.com makefile.vms\n-gas.tar.gz: $(DIST_SUPPORT) $(GAS_SUPPORT_DIRS) gas\n+.PHONY: gas.tar.bz2\n+GAS_SUPPORT_DIRS= bfd include libiberty opcodes intl setup.com makefile.vms mkdep\n+gas.tar.bz2: $(DIST_SUPPORT) $(GAS_SUPPORT_DIRS) gas\n \t$(MAKE) -f Makefile.in taz TOOL=gas \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n \t\tSUPPORT_FILES=\"$(GAS_SUPPORT_DIRS)\"\n \n # The FSF \"binutils\" release includes gprof and ld.\n-.PHONY: binutils.tar.gz\n-BINUTILS_SUPPORT_DIRS= bfd gas include libiberty opcodes ld gprof intl setup.com makefile.vms\n-binutils.tar.gz: $(DIST_SUPPORT) $(BINUTILS_SUPPORT_DIRS) binutils\n+.PHONY: binutils.tar.bz2\n+BINUTILS_SUPPORT_DIRS= bfd gas include libiberty opcodes ld gprof intl setup.com makefile.vms mkdep\n+binutils.tar.bz2: $(DIST_SUPPORT) $(BINUTILS_SUPPORT_DIRS) binutils\n \t$(MAKE) -f Makefile.in taz TOOL=binutils \\\n-\t\tSUPPORT_FILES=\"$(BINUTILS_SUPPORT_DIRS) makeall.bat configure.bat\"\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(BINUTILS_SUPPORT_DIRS)\"\n \n-.PHONY: gas+binutils.tar.gz\n+.PHONY: gas+binutils.tar.bz2\n GASB_SUPPORT_DIRS= $(GAS_SUPPORT_DIRS) binutils ld gprof\n-gas+binutils.tar.gz: $(DIST_SUPPORT) $(GASB_SUPPORT_DIRS) gas\n+gas+binutils.tar.bz2: $(DIST_SUPPORT) $(GASB_SUPPORT_DIRS) gas\n \t$(MAKE) -f Makefile.in taz TOOL=gas \\\n-\t\tSUPPORT_FILES=\"$(GASB_SUPPORT_DIRS) makeall.bat configure.bat\"\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(GASB_SUPPORT_DIRS)\"\n \n-.PHONY: libg++.tar.gz\n+.PHONY: libg++.tar.bz2\n LIBGXX_SUPPORT_DIRS=include libstdc++ libio librx libiberty\n-libg++.tar.gz: $(DIST_SUPPORT) libg++\n+libg++.tar.bz2: $(DIST_SUPPORT) libg++\n \t$(MAKE) -f Makefile.in taz TOOL=libg++ \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n \t\tSUPPORT_FILES=\"$(LIBGXX_SUPPORT_DIRS)\"\n \n GNATS_SUPPORT_DIRS=include libiberty send-pr\n-gnats.tar.gz: $(DIST_SUPPORT) $(GNATS_SUPPORT_DIRS) gnats\n+gnats.tar.bz2: $(DIST_SUPPORT) $(GNATS_SUPPORT_DIRS) gnats\n \t$(MAKE) -f  Makefile.in taz TOOL=gnats \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n \t\tSUPPORT_FILES=\"$(GNATS_SUPPORT_DIRS)\"\n \n-.PHONY: gdb.tar.gz\n+.PHONY: gdb.tar.bz2\n GDB_SUPPORT_DIRS= bfd include libiberty mmalloc opcodes readline sim utils intl\n-GDBTK_SUPPORT_DIRS= `if [ -d tcl -a -d tk ] ; then echo tcl tk ; fi`\n-gdb.tar.gz: $(DIST_SUPPORT) $(GDB_SUPPORT_DIRS) gdb\n-\t$(MAKE) -f Makefile.in taz TOOL=gdb \\\n-\t\tSUPPORT_FILES=\"$(GDB_SUPPORT_DIRS) $(GDBTK_SUPPORT_DIRS)\"\n-\n-.PHONY: newlib.tar.gz\n+gdb.tar.bz2: $(DIST_SUPPORT) $(GDB_SUPPORT_DIRS) gdb\n+\t$(MAKE) -f Makefile.in gdb-taz TOOL=gdb \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(GDB_SUPPORT_DIRS)\"\n+\n+.PHONY: dejagnu.tar.bz2\n+DEJAGNU_SUPPORT_DIRS=  tcl expect libiberty\n+dejagnu.tar.bz2: $(DIST_SUPPORT) $(DEJAGNU_SUPPORT_DIRS) dejagnu\n+\t$(MAKE) -f Makefile.in taz TOOL=dejagnu \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(DEJAGNU_SUPPORT_DIRS)\"\n+\n+.PHONY: gdb+dejagnu.tar.bz2\n+GDBD_SUPPORT_DIRS= $(GDB_SUPPORT_DIRS) tcl expect dejagnu\n+gdb+dejagnu.tar.bz2: $(DIST_SUPPORT) $(GDBD_SUPPORT_DIRS) gdb\n+\t$(MAKE) -f Makefile.in gdb-taz TOOL=gdb PACKAGE=gdb+dejagnu \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(GDBD_SUPPORT_DIRS)\"\n+\n+.PHONY: insight.tar.bz2\n+INSIGHT_SUPPORT_DIRS= $(GDB_SUPPORT_DIRS) tcl tk itcl tix libgui\n+insight.tar.bz2: $(DIST_SUPPORT) $(GDB_SUPPORT_DIRS) gdb\n+\t$(MAKE) -f Makefile.in gdb-taz TOOL=gdb PACKAGE=insight \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(INSIGHT_SUPPORT_DIRS)\"\n+\n+.PHONY: insight+dejagnu.tar.bz2\n+INSIGHTD_SUPPORT_DIRS= $(INSIGHT_SUPPORT_DIRS) expect dejagnu\n+insight+dejagnu.tar.bz2: $(DIST_SUPPORT) $(INSIGHTD_SUPPORT_DIRS) gdb\n+\t$(MAKE) -f Makefile.in gdb-taz TOOL=gdb PACKAGE=\"insight+dejagnu\" \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n+\t\tSUPPORT_FILES=\"$(INSIGHTD_SUPPORT_DIRS)\"\n+\n+.PHONY: newlib.tar.bz2\n NEWLIB_SUPPORT_DIRS=libgloss\n # taz configures for the sun4 target which won't configure newlib.\n # We need newlib configured so that the .info files are made.\n@@ -1873,8 +1964,9 @@ NEWLIB_SUPPORT_DIRS=libgloss\n # the make distclean.  For now punt on the issue of shipping newlib info files\n # with newlib net releases and wait for a day when some native target (sun4?)\n # supports newlib (if only minimally).\n-newlib.tar.gz: $(DIST_SUPPORT) $(NEWLIB_SUPPORT_DIRS) newlib\n+newlib.tar.bz2: $(DIST_SUPPORT) $(NEWLIB_SUPPORT_DIRS) newlib\n \t$(MAKE) -f Makefile.in taz TOOL=newlib \\\n+\t\tMD5PROG=\"$(MD5PROG)\" \\\n \t\tSUPPORT_FILES=\"$(NEWLIB_SUPPORT_DIRS)\" \\\n \t\tDEVO_SUPPORT=\"$(DEVO_SUPPORT) COPYING.NEWLIB\" newlib\n "}, {"sha": "60b1d2c1f949430035a4d879ee930148d95b531a", "filename": "config-ml.in", "status": "modified", "additions": 29, "deletions": 5, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/config-ml.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/config-ml.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config-ml.in?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -72,14 +72,16 @@\n # We have to handle being invoked by both Cygnus configure and Autoconf.\n #\n # Cygnus configure incoming variables:\n-# srcdir, subdir, target, arguments\n+# srcdir, subdir, host, arguments\n #\n # Autoconf incoming variables:\n-# srcdir, target, ac_configure_args\n+# srcdir, host, ac_configure_args\n #\n-# We *could* figure srcdir and target out, but we'd have to do work that\n+# We *could* figure srcdir and host out, but we'd have to do work that\n # our caller has already done to figure them out and requiring these two\n # seems reasonable.\n+# Note that `host' in this case is GCC's `target'.  Target libraries are\n+# configured for a particular host.\n \n if [ -n \"${ac_configure_args}\" ]; then\n   Makefile=${ac_file-Makefile}\n@@ -204,7 +206,10 @@ for i in `${CC-gcc} --print-multi-lib 2>/dev/null`; do\n   fi\n done\n \n-case \"${target}\" in\n+# Target libraries are configured for the host they run on, so we check\n+# $host here, not $target.\n+\n+case \"${host}\" in\n arc-*-elf*)\n \tif [ x$enable_biendian != xyes ]\n \tthen\n@@ -524,6 +529,8 @@ multi-do:\n \t\tflags=`echo $$i | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`; \\\n \t\tif (cd ../$${dir}/$${lib}; $(MAKE) $(FLAGS_TO_PASS) \\\n \t\t\t\tCFLAGS=\"$(CFLAGS) $${flags}\" \\\n+\t\t\t\tprefix=\"$(prefix)\" \\\n+\t\t\t\texec_prefix=\"$(exec_prefix)\" \\\n \t\t\t\tCXXFLAGS=\"$(CXXFLAGS) $${flags}\" \\\n \t\t\t\tLIBCFLAGS=\"$(LIBCFLAGS) $${flags}\" \\\n \t\t\t\tLIBCXXFLAGS=\"$(LIBCXXFLAGS) $${flags}\" \\\n@@ -667,7 +674,24 @@ if [ -n \"${multidirs}\" ] && [ -z \"${ml_norecursion}\" ]; then\n       echo \"pwd: `pwd`\"\n     fi\n \n-    if [ -d ${ml_dir} ]; then true; else mkdir ${ml_dir}; fi\n+    if [ -d ${ml_dir} ]; then true; else\n+      # ``mkdir -p ${ml_dir}'' See also mkinstalldirs.\n+      pathcomp=\"\"\n+      for d in `echo \":${ml_dir}\" | sed -ne 's/^:\\//#/;s/^://;s/\\// /g;s/^#/\\//;p'`; do\n+        pathcomp=\"$pathcomp$d\"\n+        case \"$pathcomp\" in\n+          -* ) pathcomp=./$pathcomp ;;\n+        esac\n+        if test ! -d \"$pathcomp\"; then\n+           echo \"mkdir $pathcomp\" 1>&2\n+           mkdir \"$pathcomp\" > /dev/null 2>&1 || lasterr=$?\n+        fi\n+        if test ! -d \"$pathcomp\"; then\n+\t   exit $lasterr\n+        fi\n+        pathcomp=\"$pathcomp/\"\n+      done\n+    fi\n     if [ -d ${ml_dir}/${ml_libdir} ]; then true; else mkdir ${ml_dir}/${ml_libdir}; fi\n \n     # Eg: if ${ml_dir} = m68000/m68881, dotdot = ../../"}, {"sha": "2b4fad13ff0b2901e72a13d6a02793ecd0888152", "filename": "config.sub", "status": "modified", "additions": 23, "deletions": 8, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/config.sub", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/config.sub", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config.sub?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -3,7 +3,7 @@\n #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000\n #   Free Software Foundation, Inc.\n \n-version='2000-05-31'\n+version='2000-07-06'\n \n # This file is (in principle) common to ALL GNU software.\n # The presence of a machine in this file suggests that SOME GNU software\n@@ -29,7 +29,6 @@ version='2000-05-31'\n # configuration script generated by Autoconf, you may include it under\n # the same distribution terms that you use for the rest of that program.\n \n-# Written by Per Bothner <bothner@cygnus.com>.\n # Please send patches to <config-patches@gnu.org>.\n #\n # Configuration subroutine to validate and canonicalize a configuration type.\n@@ -132,7 +131,7 @@ case $os in\n \t-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\\\n \t-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \\\n \t-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \\\n-\t-apple)\n+\t-apple | -axis)\n \t\tos=\n \t\tbasic_machine=$1\n \t\t;;\n@@ -212,22 +211,28 @@ case $basic_machine in\n \t\t| hppa64 \\\n \t\t| alpha | alphaev[4-8] | alphaev56 | alphapca5[67] \\\n \t\t| alphaev6[78] \\\n-\t\t| we32k | ns16k | clipper | i370 | sh | powerpc | powerpcle \\\n+\t\t| we32k | ns16k | clipper | i370 | sh | sh[34] \\\n+\t\t| powerpc | powerpcle \\\n \t\t| 1750a | dsp16xx | pdp11 | mips16 | mips64 | mipsel | mips64el \\\n \t\t| mips64orion | mips64orionel | mipstx39 | mipstx39el \\\n \t\t| mips64vr4300 | mips64vr4300el | mips64vr4100 | mips64vr4100el \\\n \t\t| mips64vr5000 | miprs64vr5000el | mcore \\\n \t\t| sparc | sparclet | sparclite | sparc64 | sparcv9 | v850 | c4x \\\n-\t\t| thumb | d10v | fr30 | avr)\n+\t\t| thumb | d10v | d30v | fr30 | avr)\n \t\tbasic_machine=$basic_machine-unknown\n \t\t;;\n+\tm6811 | m68hc11 | m6812 | m68hc12)\n+\t\t# Motorola 68HC11/12.\n+\t\tbasic_machine=$basic_machine-unknown\n+\t\tos=-none\n+\t\t;;\n \tm88110 | m680[12346]0 | m683?2 | m68360 | m5200 | z8k | v70 | h8500 | w65 | pj | pjl)\n \t\t;;\n \n \t# We use `pc' rather than `unknown'\n \t# because (1) that's what they normally are, and\n \t# (2) the word \"unknown\" tends to confuse beginning users.\n-\ti[34567]86)\n+\ti[234567]86)\n \t  basic_machine=$basic_machine-pc\n \t  ;;\n \t# Object if more than one company name word.\n@@ -237,7 +242,7 @@ case $basic_machine in\n \t\t;;\n \t# Recognize the basic CPU types with company name.\n \t# FIXME: clean up the formatting here.\n-\tvax-* | tahoe-* | i[34567]86-* | i860-* | ia64-* | m32r-* | m68k-* | m68000-* \\\n+\tvax-* | tahoe-* | i[234567]86-* | i860-* | ia64-* | m32r-* | m68k-* | m68000-* \\\n \t      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \\\n \t      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \\\n \t      | power-* | none-* | 580-* | cray2-* | h8300-* | h8500-* | i960-* \\\n@@ -257,7 +262,7 @@ case $basic_machine in\n \t      | f301-* | armv*-* | s390-* | sv1-* | t3e-* \\\n \t      | m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | d10v-* \\\n \t      | thumb-* | v850-* | d30v-* | tic30-* | c30-* | fr30-* \\\n-\t      | bs2000-*)\n+\t      | bs2000-* | tic54x-* | c54x-*)\n \t\t;;\n \t# Recognize the various machine names and aliases which stand\n \t# for a CPU type and a company and sometimes even an OS.\n@@ -355,6 +360,9 @@ case $basic_machine in\n \tcrds | unos)\n \t\tbasic_machine=m68k-crds\n \t\t;;\n+\tcris | cris-* | etrax*)\n+\t\tbasic_machine=cris-axis\n+\t\t;;\n \tda30 | da30-*)\n \t\tbasic_machine=m68k-da30\n \t\t;;\n@@ -790,6 +798,10 @@ case $basic_machine in\n \t\tbasic_machine=t3e-cray\n \t\tos=-unicos\n \t\t;;\n+\ttic54x | c54x*)\n+\t\tbasic_machine=tic54x-unknown\n+\t\tos=-coff\n+\t\t;;\n \ttx39)\n \t\tbasic_machine=mipstx39-unknown\n \t\t;;\n@@ -891,6 +903,9 @@ case $basic_machine in\n \twe32k)\n \t\tbasic_machine=we32k-att\n \t\t;;\n+\tsh3 | sh4)\n+\t\tbase_machine=sh-unknown\n+\t\t;;\n \tsparc | sparcv9)\n \t\tbasic_machine=sparc-sun\n \t\t;;"}, {"sha": "553a089af5eb5a54b15fd12452f113b8c0d437e0", "filename": "configure", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -3,7 +3,7 @@\n ### WARNING: this file contains embedded tabs.  Do not run untabify on this file.\n \n # Configuration script\n-# Copyright (C) 1988, 90, 91, 92, 93, 94, 95, 96, 1997\n+# Copyright (C) 1988, 90, 91, 92, 93, 94, 95, 96, 97, 98, 1999\n # Free Software Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n@@ -654,8 +654,8 @@ case \"${TMPDIR}\" in\n *) ;;\n esac\n \n-# keep this filename short for &%*%$*# 14 char file names\n-tmpfile=${TMPDIR}/cONf$$\n+# keep this filename short for &%*%$*# 14 char file names and 8+3 file names\n+tmpfile=${TMPDIR}/cNf$$\n # Note that under many versions of sh a trap handler for 0 will *override* any\n # exit status you explicitly specify!  At this point, the only non-error exit\n # is at the end of the script; these actions are duplicated there, minus\n@@ -911,6 +911,7 @@ if [ \"${build}\" != \"${host}\" ]; then\n   tools=\"${tools} HOST_PREFIX_1 LD LD_FOR_TARGET LEX MAKEINFO NM\"\n   tools=\"${tools} NM_FOR_TARGET RANLIB RANLIB_FOR_TARGET\"\n   tools=\"${tools} WINDRES WINDRES_FOR_TARGET YACC\"\n+  tools=\"${tools} OBJCOPY OBJDUMP\"\n \n   for var in ${tools}; do\n     if eval [ -z \\\"\\$${var}\\\" ] && [ -r Makefile ]; then\n@@ -954,6 +955,8 @@ t loop\n   RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET-${target_alias}-ranlib}\n   WINDRES=${WINDRES-${host_alias}-windres}\n   WINDRES_FOR_TARGET=${WINDRES_FOR_TARGET-${target_alias}-windres}\n+  OBJCOPY=${OBJCOPY-${host_alias}-objcopy}\n+  OBJDUMP=${OBJDUMP-${host_alias}-objdump}\n \n   if [ -z \"${YACC}\" ]; then\n     IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}:\"\n@@ -1004,6 +1007,8 @@ t loop\n   export NM\n   export RANLIB\n   export WINDRES\n+  export OBJCOPY\n+  export OBJDUMP\n else\n   # If CC is still not set, try to get gcc.\n   if [ -z \"${CC}\" ]; then\n@@ -1062,14 +1067,12 @@ case \"$host\" in\n \t    enable_gdbtk=no ;;\n \t*msdosdjgpp*)\n \t    enable_gdbtk=no ;;\n-\t*cygwin32*)\n-\t    enable_gdbtk=no ;;\n esac\n \n # FIXME: This should be in configure.in, not configure\n # Determine whether gdb needs tk/tcl or not.\n if [ \"$enable_gdbtk\" != \"no\" ]; then\n-\tGDB_TK=\"all-tcl all-tk all-itcl all-tix\"\n+\tGDB_TK=\"all-tcl all-tk all-itcl all-tix all-libgui\"\n else\n \tGDB_TK=\"\"\n fi\n@@ -1403,7 +1406,6 @@ EOF\n \t\t\ts%^CXXFLAGS[ \t]*=.*$%CXXFLAGS = ${CXXFLAGS}%\n \t\t\t}\" \\\n \t\t    -e \"s|^SHELL[\t ]*=.*$|SHELL = ${config_shell}|\" \\\n-\t\t    -e \"s:^GDB_TK[\t ]*=.*$:GDB_TK = ${GDB_TK}:\" \\\n                     -e \"s|^srcdir[ \t]*=.*$|srcdir = ${makesrcdir}|\" \\\n                     -e \"s/\f//\" \\\n                     -e \"s:^program_prefix[ \t]*=.*$:program_prefix = ${program_prefix}:\" \\\n@@ -1415,6 +1417,9 @@ EOF\n \t\t    -e \"s:^DEFAULT_LEX[\t ]*=.*$:DEFAULT_LEX = ${DEFAULT_LEX}:\" \\\n \t\t    -e \"s:^DEFAULT_M4[  ]*=.*$:DEFAULT_M4 = ${DEFAULT_M4}:\" \\\n                     ${subdir}/Makefile.tem >> ${Makefile}\n+  \n+\t    sed -e \"s:^GDB_TK[\t ]*=.*$:GDB_TK = ${GDB_TK}:\" ${Makefile} >${Makefile}.tem\n+\t    mv -f ${Makefile}.tem ${Makefile}\n \n \t    # If this is a Canadian Cross, preset the values of many more\n \t    # tools."}, {"sha": "e4ed2b23ab064bf9f41aaa4cc0c534447e939175", "filename": "configure.in", "status": "modified", "additions": 104, "deletions": 66, "changes": 170, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -41,7 +41,7 @@\n \n # these libraries are used by various programs built for the host environment\n #\n-host_libs=\"intl mmalloc libiberty opcodes bfd readline gash db tcl tk tclX itcl tix libgui\"\n+host_libs=\"intl mmalloc libiberty opcodes bfd readline gash db tcl tk tcl8.1 tk8.1 tclX itcl tix libgui\"\n \n if [ \"${enable_gdbgui}\" = \"yes\" ] ; then\n \thost_libs=\"${host_libs} libgui\"\n@@ -59,16 +59,13 @@ fi\n # know that we are building the simulator.\n host_tools=\"texinfo byacc flex bison binutils ld gas gcc sim gdb make patch prms send-pr gprof gdbtest tgas etc expect dejagnu ash bash bzip2 m4 autoconf automake libtool ispell grep diff rcs cvssrc fileutils shellutils time textutils wdiff find emacs emacs19 uudecode hello tar gzip indent recode release sed utils guile perl apache inet gawk findutils snavigator libtool gettext zip\"\n \n-\n # these libraries are built for the target environment, and are built after\n # the host libraries and the host tools (which may be a cross compiler)\n #\n target_libs=\"target-libiberty \\\n \t\ttarget-libgloss \\\n \t\ttarget-newlib \\\n \t\t${libstdcxx_version} \\\n-\t\ttarget-librx \\\n-\t\ttarget-libg++ \\\n \t\ttarget-libf2c \\\n \t\ttarget-libchill \\\n \t\ttarget-libffi \\\n@@ -205,7 +202,7 @@ case \"${host}\" in\n   i[3456]86-*-msdosdjgpp*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-djgpp\"\n     ;;\n-  *-cygwin32*)\n+  *-cygwin*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-cygwin\"\n     ;;\n   *-mingw32*)\n@@ -300,12 +297,15 @@ if [ x${shared} = xyes ]; then\n     hppa*-*-*)\n       host_makefile_frag=\"${host_makefile_frag} config/mh-papic\"\n       ;;\n-    i[3456]86-*-cygwin32*)\n-      # We don't want -fPIC on cygwin32.\n+    i[3456]86-*-cygwin*)\n+      # We don't want -fPIC on Cygwin.\n       ;;\n     i[3456]86-*-*)\n       host_makefile_frag=\"${host_makefile_frag} config/mh-x86pic\"\n       ;;\n+    i370-*-*)\n+      host_makefile_frag=\"${host_makefile_frag} config/mh-i370pic\"\n+      ;;\n     ia64-*-*)\n       host_makefile_frag=\"${host_makefile_frag} config/mh-ia64pic\"\n       ;;\n@@ -365,7 +365,10 @@ case \"${enable_target_optspace}:${target}\" in\n   yes:*)\n     target_makefile_frag=\"${target_makefile_frag} config/mt-ospace\"\n     ;;\n-  :m32r-* | :fr30-*)\n+  :d30v-*)\n+    target_makefile_frag=\"${target_makefile_frag} config/mt-d30v\"\n+    ;;\n+  :m32r-* | :d10v-* | :fr30-*)\n     target_makefile_frag=\"${target_makefile_frag} config/mt-ospace\"\n     ;;\n   no:* | :*)\n@@ -524,8 +527,8 @@ case \"${host}\" in\n \t  configdirs=\"$configdirs dosrel\" ;;\n \ti[3456]86-*-mingw32*)\n \t  configdirs=\"$configdirs dosrel\" ;;\n-\t*-cygwin32*)\n-\t  configdirs=\"$configdirs dosrel\" ;;\n+\t*-cygwin*)\n+\t  configdirs=\"$configdirs libtermcap dosrel\" ;;\n esac\n \n # Remove more programs from consideration, based on the host or \n@@ -543,19 +546,13 @@ case \"${host}\" in\n \t;;\n   i[3456]86-*-mingw32*)\n     # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db snavigator gnuserv\"\n-     noconfigdirs=\"expect dejagnu cvs autoconf automake send-pr gprof rcs guile perl texinfo apache inet libtool\"\n+     noconfigdirs=\"expect dejagnu cvs autoconf automake send-pr rcs guile perl texinfo apache inet libtool\"\n \t;;\n   i[3456]86-*-beos*)\n      noconfigdirs=\"$noconfigdirs tk itcl tix libgui gdb\"\n      ;;\n-  *-*-cygwin32)\n-     noconfigdirs=\"autoconf automake send-pr gprof rcs guile perl apache inet\"\n-    ;;\n-  *-*-windows*)\n-# This is only used to build WinGDB...\n-# note that powerpc-eabi depends on sim configured before gdb.\n-     configdirs=\"bfd libiberty opcodes readline sim gdb\"\n-     target_configdirs=\n+  *-*-cygwin*)\n+     noconfigdirs=\"autoconf automake send-pr rcs guile perl texinfo apache inet\"\n     ;;\n   *-*-netbsd*)\n     noconfigdirs=\"rcs\"\n@@ -571,7 +568,7 @@ esac\n \n case \"${target}\" in\n   *-*-netware)\n-    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-newlib target-libiberty target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-newlib target-libiberty target-libgloss target-libffi\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n@@ -588,63 +585,83 @@ case \"${target}\" in\n   alpha*-*-*vms*)\n     noconfigdirs=\"$noconfigdirs gdb ld target-newlib target-libgloss target-libffi\"\n     ;;\n-  alpha*-*-linux*)\n-    # newlib is not 64 bit ready\n-    noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n-    # linux has rx in libc\n-    skipdirs=\"$skipdirs target-librx\"\n-    ;;\n   alpha*-*-*)\n     # newlib is not 64 bit ready\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss\"\n     ;;\n-  arc-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n-    ;;\n   sh*-*-pe|mips*-*-pe|*arm-wince-pe)\n     noconfigdirs=\"$noconfigdirs target-libjava target-libffi target-zlib\"\n     noconfigdirs=\"$noconfigdirs target-boehm-gc target-qthreads target-examples\"\n-    noconfigdirs=\"$noconfigdirs target-librx target-libiberty texinfo send-pr\"\n+    noconfigdirs=\"$noconfigdirs target-libiberty texinfo send-pr\"\n     noconfigdirs=\"$noconfigdirs tcl tix tk itcl libgui sim\"\n     noconfigdirs=\"$noconfigdirs expect dejagnu\"\n     # the C++ libraries don't build on top of CE's C libraries\n-    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version}\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version}\"\n     skipdirs=\"$skipdirs target-newlib\"\n     case \"${host}\" in\n       *-*-cygwin*) ;; # keep gdb and readline\n-      *) noconfigdirs=\"$noconfigdirs gdb readline ${libstdcxx_version} target-libg++\"\n+      *) noconfigdirs=\"$noconfigdirs gdb readline ${libstdcxx_version}\"\n \t ;;\n     esac\n     ;;\n+  arc-*-*)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n   arm-*-pe*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   arm-*-coff*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n+    fi\n     ;;\n   arm-*-elf*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n     if [ x${is_cross_compiler} != xno ] ; then\n-           target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n     fi\n     ;;\n   arm-*-oabi*)\n     noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n-    if [ x${is_cross_compiler} != xno ] ; then\n-           target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n-    fi\n     ;;\n   c4x-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-libgloss target-libffi\"\n+    ;;\n+  c54x*-*-* | tic54x-*-*)\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-libgloss target-libffi gcc gdb newlib\"\n     ;;\n   thumb-*-coff)\n     noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n     ;;\n+  thumb-*-elf)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n+  thumb-*-oabi)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n+  strongarm-*-elf)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n+    fi\n+    ;;\n+  strongarm-*-coff)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n+    fi\n+    ;;\n+  thumb-*-pe)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n   arm-*-riscix*)\n     noconfigdirs=\"$noconfigdirs ld target-libgloss target-libffi\"\n     ;;\n   d10v-*-*)\n-    noconfigdirs=\"$noconfigdirs target-librx target-libg++ ${libstdcxx_version} target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-libgloss target-libffi\"\n+    ;;\n+  d30v-*-*)\n     ;;\n   fr30-*-elf*)\n     if [ x${is_cross_compiler} != xno ] ; then\n@@ -653,7 +670,7 @@ case \"${target}\" in\n     ;;\n   h8300*-*-* | \\\n   h8500-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-libgloss target-libffi\"\n     ;;\n   hppa*-*-*elf* | \\\n   hppa*-*-linux-gnu* | \\\n@@ -669,15 +686,20 @@ case \"${target}\" in\n \t\"\" | cc*) noconfigdirs=\"$noconfigdirs emacs emacs19\" ;;\n         *) ;;\n     esac\n-    noconfigdirs=\"$noconfigdirs ld shellutils target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ld shellutils\"\n+    ;;\n+  ia64*-*-elf*)\n+    # No gdb support yet.\n+    noconfigdirs=\"$noconfigdirs tix readline mmalloc libgui itcl gdb\"\n+    ;;\n+  i[3456]86-*-coff | i[3456]86-*-elf)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+         target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    fi\n     ;;\n   i[3456]86-*-go32* | i[3456]-*-msdosdjgpp*)\n     # but don't build gdb\n-    noconfigdirs=\"$noconfigdirs gdb target-libg++ ${libstdcxx_version} target-librx target-libffi\"\n-    ;;\n-  *-*-linux*)\n-    # linux has rx in libc\n-    skipdirs=\"$skipdirs target-librx\"\n+    noconfigdirs=\"$noconfigdirs gdb ${libstdcxx_version} target-libffi\"\n     ;;\n   i[3456]86-*-mingw32*)\n     target_configdirs=\"$target_configdirs target-mingw\"\n@@ -690,21 +712,21 @@ case \"${target}\" in\n          ;;\n     esac\n     ;;    \n-  *-*-cygwin32*)\n-    target_configdirs=\"$target_configdirs target-winsup\"\n+  *-*-cygwin*)\n+    target_configdirs=\"$target_configdirs target-libtermcap target-winsup\"\n     noconfigdirs=\"$noconfigdirs target-gperf target-libgloss target-libffi\"\n     # always build newlib.\n     skipdirs=`echo \" ${skipdirs} \" | sed -e 's/ target-newlib / /'`\n \n-    # Can't build gdb for cygwin32 if not native.\n+    # Can't build gdb for Cygwin if not native.\n     case \"${host}\" in\n-      *-*-cygwin32*) ;; # keep gdb tcl tk expect etc.\n+      *-*-cygwin*) ;; # keep gdb tcl tk expect etc.\n       *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix libgui db snavigator gnuserv\"\n          ;;\n     esac\n     ;;    \n   i[3456]86-*-pe)\n-    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs ${libstdcxx_version} target-libgloss target-libffi\"\n     ;;\n   i[3456]86-*-sco3.2v5*)\n     # The linker does not yet know about weak symbols in COFF,\n@@ -715,10 +737,7 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss target-libffi\"\n     ;;\n   i[3456]86-*-solaris2*)\n-    # The linker does static linking correctly, but the Solaris C library\n-    # has bugs such that some important functions won't work when statically\n-    # linked.  (See man pages for getpwuid, for example.)\n-    noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-libgloss\"\n     ;;\n   i[3456]86-*-sysv4*)\n     # The SYSV4 C compiler doesn't handle Emacs correctly\n@@ -732,6 +751,16 @@ case \"${target}\" in\n   i[3456]86-*-beos*)\n      noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n      ;;\n+  m68k-*-elf*)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n+    fi\n+    ;;\n+  m68k-*-coff*)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n+    fi\n+    ;;\n   mn10200-*-*)\n     noconfigdirs=\"$noconfigdirs target-libffi\"\n     if [ x${is_cross_compiler} != xno ] ; then\n@@ -741,7 +770,7 @@ case \"${target}\" in\n   mn10300-*-*)\n     noconfigdirs=\"$noconfigdirs target-libffi\"\n     if [ x${is_cross_compiler} != xno ] ; then\n-\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n     ;;\n   powerpc-*-aix*)\n@@ -766,9 +795,13 @@ case \"${target}\" in\n   powerpc-*-beos*)\n     noconfigdirs=\"$noconfigdirs gdb target-newlib target-libgloss\"\n     ;;\n+  powerpc-*-eabi)\n+    if [ x${is_cross_compiler} != xno ] ; then\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n+    fi\n+    ;;\n   rs6000-*-lynxos*)\n     # The CVS server code doesn't work on the RS/6000\n-    # Newlib makes problems for libg++ in crosses.\n     noconfigdirs=\"$noconfigdirs target-newlib gprof cvssrc target-libffi\"\n     ;;\n   rs6000-*-aix*)\n@@ -791,9 +824,9 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs ld gprof emacs target-libgloss\"\n     ;;\n   mips*-*-irix6*)\n-    # The GNU assembler and linker do not support IRIX 6.\n+    # The GNU assembler does not support IRIX 6.\n     # emacs is emacs 18, which does not work on Irix 5 (emacs19 does work)\n-    noconfigdirs=\"$noconfigdirs ld gas gprof emacs target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs gas gprof emacs target-libgloss\"\n     ;;\n   mips*-dec-bsd*)\n     noconfigdirs=\"$noconfigdirs gprof target-libgloss target-libffi\"\n@@ -803,7 +836,7 @@ case \"${target}\" in\n     ;;\n   mipstx39-*-*)\n     noconfigdirs=\"$noconfigdirs gprof target-libffi\"   # same as generic mips\n-    target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n+    target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n    ;;\n   mips*-*-*)\n     noconfigdirs=\"$noconfigdirs gprof target-libffi\"\n@@ -828,14 +861,14 @@ case \"${target}\" in\n   sparc64-*-elf*)\n     if [ x${is_cross_compiler} != xno ] ; then\n \t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n-    noconfigdirs=\"target-libffi\"\n     fi\n+    noconfigdirs=\"target-libffi\"\n     ;;\n-  sparclite-*-aout*)\n+  sparclite-*-*)\n     if [ x${is_cross_compiler} != xno ] ; then\n-\t   target_configdirs=\"${target_configdirs} target-libstub target-cygmon\"\n-    noconfigdirs=\"target-libffi\"\n+\t   target_configdirs=\"${target_configdirs} target-bsp target-libstub target-cygmon\"\n     fi\n+    noconfigdirs=\"target-libffi\"\n     ;;\n   sparc-*-sunos4*)\n     if [ x${is_cross_compiler} != xno ] ; then\n@@ -845,19 +878,24 @@ case \"${target}\" in\n     fi\n     ;;\n   v810-*-*)\n-    noconfigdirs=\"$noconfigdirs bfd binutils gas gcc gdb ld ${libstdcxx_version} target-libg++ opcodes target-libgloss target-libffi\"\n+    noconfigdirs=\"$noconfigdirs bfd binutils gas gcc gdb ld ${libstdcxx_version} opcodes target-libgloss target-libffi\"\n     ;;\n   v850-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n     ;;\n+  v850e-*-*)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n+  v850ea-*-*)\n+    noconfigdirs=\"$noconfigdirs target-libgloss target-libffi\"\n+    ;;\n   vax-*-vms)\n     noconfigdirs=\"$noconfigdirs bfd binutils gdb ld target-newlib opcodes target-libgloss target-libffi\"\n     ;;\n   vax-*-*)\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-libffi\"\n     ;;\n   *-*-lynxos*)\n-    # Newlib makes problems for libg++ in crosses.\n     noconfigdirs=\"$noconfigdirs target-newlib target-libgloss target-libffi\"\n     ;; \n   *-*-macos* | \\\n@@ -1151,7 +1189,7 @@ fi\n \n # provide a proper gxx_include_dir.\n # Note, if you change the default, make sure to fix both here and in\n-# the gcc, libio, libstdc++ and libg++ subdirectories.\n+# the gcc, libio, and libstdc++ subdirectories.\n # Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n gxx_include_dir=\n if test -n \"${with_gxx_include_dir}\"; then"}, {"sha": "f09f5ed3251f20ec1acf824eae0720bf547410a7", "filename": "djunpack.bat", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/djunpack.bat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/djunpack.bat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/djunpack.bat?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -0,0 +1,52 @@\n+@echo off\r\n+Rem\r\n+Rem WARNING WARNING WARNING: This file needs to have DOS CRLF end-of-line\r\n+Rem format, or else stock DOS/Windows shells will refuse to run it.\r\n+Rem\r\n+Rem This batch file unpacks the GDB distribution while simultaneously\r\n+Rem renaming some of the files whose names are invalid on DOS or conflict\r\n+Rem with other file names after truncation to DOS 8+3 namespace.\r\n+Rem\r\n+Rem Invoke like this:\r\n+Rem\r\n+Rem     djunpack gdb-XYZ.tar\r\n+Rem\r\n+Rem where XYZ is the version number.  If the argument includes leading\r\n+Rem directories, it MUST use backslashes, not forward slashes.\r\n+Rem\r\n+Rem The following 2 lines need to be changed with each new GDB release, to\r\n+Rem be identical to the name of the top-level directory where the GDB\r\n+Rem distribution unpacks itself.\r\n+set GDBVER=gdb-5.0\r\n+if \"%GDBVER%\"==\"gdb-5.0\" GoTo EnvOk\r\n+Rem If their environment space is too small, re-exec with a larger one\r\n+command.com /e:4096 /c %0 %1\r\n+GoTo End\r\n+:EnvOk\r\n+if not exist %1 GoTo NoArchive\r\n+djtar -x -p -o %GDBVER%/gdb/config/djgpp/fnchange.lst %1 > fnchange.tmp\r\n+Rem The following uses a feature of COPY whereby it does not copy\r\n+Rem empty files.  We need that because the previous line will create\r\n+Rem an empty fnchange.tmp even if the command failed for some reason.\r\n+copy fnchange.tmp junk.tmp > nul\r\n+if not exist junk.tmp GoTo NoDjTar\r\n+del junk.tmp\r\n+sed -e 's,@V@,%GDBVER%,g' < fnchange.tmp > fnchange.lst\r\n+Rem See the comment above about the reason for using COPY.\r\n+copy fnchange.lst junk.tmp > nul\r\n+if not exist junk.tmp GoTo NoSed\r\n+del junk.tmp\r\n+djtar -x -n fnchange.lst %1\r\n+GoTo End\r\n+:NoSed\r\n+echo FAIL: Sed is not available.\r\n+GoTo End\r\n+:NoDjTar\r\n+echo FAIL: DJTAR is not available or no fnchange.lst file in %1.\r\n+GoTo End\r\n+:NoArchive\r\n+echo FAIL: the file %1 does not seem to exist.\r\n+echo Remember that %1 cannot use forward slashes, only backslashes.\r\n+GoTo End\r\n+:End\r\n+set GDBVER=\r"}, {"sha": "a258dcae92e0a6d0a7cbe4eed70638a0f6f29cbe", "filename": "ltconfig", "status": "modified", "additions": 558, "deletions": 278, "changes": 836, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/ltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/ltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltconfig?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -2,7 +2,7 @@\n \n # ltconfig - Create a system-specific libtool.\n # Copyright (C) 1996-1999 Free Software Foundation, Inc.\n-# Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+# Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n #\n # This file is free software; you can redistribute it and/or modify it\n # under the terms of the GNU General Public License as published by\n@@ -32,12 +32,8 @@ if test \"X$1\" = X--no-reexec; then\n   # Discard the --no-reexec flag, and continue.\n   shift\n elif test \"X$1\" = X--fallback-echo; then\n-  # used as fallback echo\n-  shift\n-  cat <<EOF\n-$*\n-EOF\n-  exit 0\n+  # Avoid inline document here, it may be left over\n+  :\n elif test \"X`($echo '\\t') 2>/dev/null`\" = 'X\\t'; then\n   # Yippee, $echo works!\n   :\n@@ -46,9 +42,18 @@ else\n   exec \"$SHELL\" \"$0\" --no-reexec ${1+\"$@\"}\n fi\n \n+if test \"X$1\" = X--fallback-echo; then\n+  # used as fallback echo\n+  shift\n+  cat <<EOF\n+$*\n+EOF\n+  exit 0\n+fi\n+\n # Find the correct PATH separator.  Usually this is `:', but\n # DJGPP uses `;' like DOS.\n-if test \"X${PATH_SEPARATOR+set}\" != \"Xset\"; then\n+if test \"X${PATH_SEPARATOR+set}\" != Xset; then\n   UNAME=${UNAME-`uname 2>/dev/null`}\n   case X$UNAME in\n     *-DOS) PATH_SEPARATOR=';' ;;\n@@ -58,9 +63,9 @@ fi\n \n # The HP-UX ksh and POSIX shell print the target directory to stdout\n # if CDPATH is set.\n-if test \"${CDPATH+set}\" = set; then CDPATH=; export CDPATH; fi\n+if test \"X${CDPATH+set}\" = Xset; then CDPATH=:; export CDPATH; fi\n \n-if test \"X${echo_test_string+set}\" != \"Xset\"; then\n+if test \"X${echo_test_string+set}\" != Xset; then\n   # find a string as large as possible, as long as the shell can cope with it\n   for cmd in 'sed 50q \"$0\"' 'sed 20q \"$0\"' 'sed 10q \"$0\"' 'sed 2q \"$0\"' 'echo test'; do\n     # expected sizes: less than 2Kb, 1Kb, 512 bytes, 16 bytes, ...\n@@ -82,7 +87,7 @@ if test \"X`($echo '\\t') 2>/dev/null`\" != 'X\\t' ||\n \n   IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR}\"\n   for dir in $PATH /usr/ucb; do\n-    if test -f $dir/echo &&\n+    if (test -f $dir/echo || test -f $dir/echo$ac_exeext) &&\n        test \"X`($dir/echo '\\t') 2>/dev/null`\" = 'X\\t' &&\n        test \"X`($dir/echo \"$echo_test_string\") 2>/dev/null`\" = X\"$echo_test_string\"; then\n       echo=\"$dir/echo\"\n@@ -97,7 +102,8 @@ if test \"X`($echo '\\t') 2>/dev/null`\" != 'X\\t' ||\n        test \"X`(print -r \"$echo_test_string\") 2>/dev/null`\" = X\"$echo_test_string\"; then\n       # This shell has a builtin print -r that does the trick.\n       echo='print -r'\n-    elif test -f /bin/ksh && test \"X$CONFIG_SHELL\" != X/bin/ksh; then\n+    elif (test -f /bin/ksh || test -f /bin/ksh$ac_exeext) &&\n+\t test \"X$CONFIG_SHELL\" != X/bin/ksh; then\n       # If we have ksh, try running ltconfig again with it.\n       ORIGINAL_CONFIG_SHELL=\"${CONFIG_SHELL-/bin/sh}\"\n       export ORIGINAL_CONFIG_SHELL\n@@ -163,10 +169,10 @@ progname=`$echo \"X$0\" | $Xsed -e 's%^.*/%%'`\n # Constants:\n PROGRAM=ltconfig\n PACKAGE=libtool\n-VERSION=1.2f\n-TIMESTAMP=\" (1.385 1999/03/15 17:24:54)\"\n-ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.c 1>&5'\n-ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.c $LIBS 1>&5'\n+VERSION=1.3.4\n+TIMESTAMP=\" (1.385.2.196 1999/12/07 21:47:57)\"\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n rm=\"rm -f\"\n \n help=\"Try \\`$progname --help' for more information.\"\n@@ -175,10 +181,12 @@ help=\"Try \\`$progname --help' for more information.\"\n default_ofile=libtool\n can_build_shared=yes\n enable_shared=yes\n-# All known linkers require a `.a' archive for static linking.\n+# All known linkers require a `.a' archive for static linking (except M$VC,\n+# which needs '.lib').\n enable_static=yes\n enable_fast_install=yes\n enable_dlopen=unknown\n+enable_win32_dll=no\n ltmain=\n silent=\n srcdir=\n@@ -194,17 +202,21 @@ need_locks=yes\n ac_ext=c\n objext=o\n libext=a\n+exeext=\n cache_file=\n \n old_AR=\"$AR\"\n old_CC=\"$CC\"\n old_CFLAGS=\"$CFLAGS\"\n old_CPPFLAGS=\"$CPPFLAGS\"\n+old_LDFLAGS=\"$LDFLAGS\"\n old_LD=\"$LD\"\n old_LN_S=\"$LN_S\"\n+old_LIBS=\"$LIBS\"\n old_NM=\"$NM\"\n old_RANLIB=\"$RANLIB\"\n old_DLLTOOL=\"$DLLTOOL\"\n+old_OBJDUMP=\"$OBJDUMP\"\n old_AS=\"$AS\"\n \n # Parse the command line options.\n@@ -235,7 +247,7 @@ Generate a system-specific libtool script.\n     --disable-static       do not build static libraries\n     --disable-fast-install do not optimize for fast installation\n     --enable-dlopen        enable dlopen support\n-    --enable-dlopen-self   enable support for dlopening programs\n+    --enable-win32-dll     enable building dlls on win32 hosts\n     --help                 display this help and exit\n     --no-verify            do not verify that HOST is a valid host type\n -o, --output=FILE          specify the output file [default=$default_ofile]\n@@ -269,6 +281,8 @@ EOM\n \n   --enable-dlopen) enable_dlopen=yes ;;\n \n+  --enable-win32-dll) enable_win32_dll=yes ;;\n+\n   --quiet | --silent) silent=yes ;;\n \n   --srcdir) prev=srcdir ;;\n@@ -355,8 +369,8 @@ exec 5>>./config.log\n # Only set LANG and LC_ALL to C if already set.\n # These must not be set unconditionally because not all systems understand\n # e.g. LANG=C (notably SCO).\n-if test \"${LC_ALL+set}\" = set; then LC_ALL=C; export LC_ALL; fi\n-if test \"${LANG+set}\"   = set; then LANG=C;   export LANG;   fi\n+if test \"X${LC_ALL+set}\" = Xset; then LC_ALL=C; export LC_ALL; fi\n+if test \"X${LANG+set}\"   = Xset; then LANG=C;   export LANG;   fi\n \n if test -n \"$cache_file\" && test -r \"$cache_file\"; then\n   echo \"loading cache $cache_file within ltconfig\"\n@@ -448,7 +462,7 @@ aix3*)\n   # AIX sometimes has problems with the GCC collect2 program.  For some\n   # reason, if we set the COLLECT_NAMES environment variable, the problems\n   # vanish in a puff of smoke.\n-  if test \"${COLLECT_NAMES+set}\" != set; then\n+  if test \"X${COLLECT_NAMES+set}\" != Xset; then\n     COLLECT_NAMES=\n     export COLLECT_NAMES\n   fi\n@@ -463,6 +477,9 @@ old_postuninstall_cmds=\n # Set a sane default for `AR'.\n test -z \"$AR\" && AR=ar\n \n+# Set a sane default for `OBJDUMP'.\n+test -z \"$OBJDUMP\" && OBJDUMP=objdump\n+\n # If RANLIB is not set, then run the test.\n if test \"${RANLIB+set}\" != \"set\"; then\n   result=no\n@@ -471,7 +488,7 @@ if test \"${RANLIB+set}\" != \"set\"; then\n   IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR}\"\n   for dir in $PATH; do\n     test -z \"$dir\" && dir=.\n-    if test -f $dir/ranlib; then\n+    if test -f $dir/ranlib || test -f $dir/ranlib$ac_exeext; then\n       RANLIB=\"ranlib\"\n       result=\"ranlib\"\n       break\n@@ -487,8 +504,9 @@ if test -n \"$RANLIB\"; then\n   old_postinstall_cmds=\"\\$RANLIB \\$oldlib~$old_postinstall_cmds\"\n fi\n \n-# Set sane defaults for `DLLTOOL' and `AS', used on cygwin.\n+# Set sane defaults for `DLLTOOL', `OBJDUMP', and `AS', used on cygwin.\n test -z \"$DLLTOOL\" && DLLTOOL=dlltool\n+test -z \"$OBJDUMP\" && OBJDUMP=objdump\n test -z \"$AS\" && AS=as\n \n # Check to see if we are using GCC.\n@@ -498,9 +516,8 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n     echo $ac_n \"checking for gcc... $ac_c\" 1>&6\n     IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR}\"\n     for dir in $PATH; do\n-      IFS=\"$save_ifs\"\n       test -z \"$dir\" && dir=.\n-      if test -f $dir/gcc; then\n+      if test -f $dir/gcc || test -f $dir/gcc$ac_exeext; then\n \tCC=\"gcc\"\n \tbreak\n       fi\n@@ -521,7 +538,7 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n     cc_rejected=no\n     for dir in $PATH; do\n       test -z \"$dir\" && dir=.\n-      if test -f $dir/cc; then\n+      if test -f $dir/cc || test -f $dir/cc$ac_exeext; then\n \tif test \"$dir/cc\" = \"/usr/ucb/cc\"; then\n \t  cc_rejected=yes\n \t  continue\n@@ -561,15 +578,15 @@ if test \"$with_gcc\" != yes || test -z \"$CC\"; then\n   # Now see if the compiler is really GCC.\n   with_gcc=no\n   echo $ac_n \"checking whether we are using GNU C... $ac_c\" 1>&6\n-  echo \"$progname:564: checking whether we are using GNU C\" >&5\n+  echo \"$progname:581: checking whether we are using GNU C\" >&5\n \n   $rm conftest.c\n   cat > conftest.c <<EOF\n #ifdef __GNUC__\n   yes;\n #endif\n EOF\n-  if { ac_try='${CC-cc} -E conftest.c'; { (eval echo $progname:572: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+  if { ac_try='${CC-cc} -E conftest.c'; { (eval echo $progname:589: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n     with_gcc=yes\n   fi\n   $rm conftest.c\n@@ -583,8 +600,8 @@ compiler=\"$2\"\n echo $ac_n \"checking for object suffix... $ac_c\" 1>&6\n $rm conftest*\n echo 'int i = 1;' > conftest.c\n-echo \"$progname:586: checking for object suffix\" >& 5\n-if { (eval echo $progname:587: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; }; then\n+echo \"$progname:603: checking for object suffix\" >& 5\n+if { (eval echo $progname:604: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; }; then\n   # Append any warnings to the config.log.\n   cat conftest.err 1>&5\n \n@@ -602,6 +619,45 @@ fi\n $rm conftest*\n echo \"$ac_t$objext\" 1>&6\n \n+echo $ac_n \"checking for executable suffix... $ac_c\" 1>&6\n+if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  case \"$host_os\" in\n+  cygwin* | mingw* | os2*)\n+    ac_cv_exeext=.exe\n+    ;;\n+  *)\n+    ac_cv_exeext=\"no\"\n+    $rm conftest*\n+    echo 'main () { return 0; }' > conftest.c\n+    echo \"$progname:634: checking for executable suffix\" >& 5\n+    if { (eval echo $progname:635: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>conftest.err; }; then\n+      # Append any warnings to the config.log.\n+      cat conftest.err 1>&5\n+\n+      for ac_file in conftest.*; do\n+        case $ac_file in\n+        *.c | *.err | *.$objext ) ;;\n+        *) ac_cv_exeext=.`echo $ac_file | sed -e s/conftest.//` ;;\n+        esac\n+      done\n+    else\n+      cat conftest.err 1>&5\n+      echo \"$progname: failed program was:\" >&5\n+      cat conftest.c >&5\n+    fi\n+    $rm conftest*\n+    ;;\n+  esac\n+fi\n+if test \"X$ac_cv_exeext\" = Xno; then\n+  exeext=\"\"\n+else\n+  exeext=\"$ac_cv_exeext\"\n+fi\n+echo \"$ac_t$ac_cv_exeext\" 1>&6\n+\n echo $ac_n \"checking for $compiler option to produce PIC... $ac_c\" 1>&6\n pic_flag=\n special_shlib_compile_flags=\n@@ -614,7 +670,7 @@ if test \"$with_gcc\" = yes; then\n   link_static_flag='-static'\n \n   case \"$host_os\" in\n-  beos* | irix5* | irix6* | osf3* | osf4*)\n+  beos* | irix5* | irix6* | osf3* | osf4* | osf5*)\n     # PIC is the default for these OSes.\n     ;;\n   aix*)\n@@ -635,6 +691,11 @@ if test \"$with_gcc\" = yes; then\n     # like `-m68040'.\n     pic_flag='-m68020 -resident32 -malways-restore-a4'\n     ;;\n+  sysv4*MP*)\n+    if test -d /usr/nec; then\n+       pic_flag=-Kconform_pic\n+    fi\n+    ;;\n   *)\n     pic_flag='-fPIC'\n     ;;\n@@ -664,7 +725,7 @@ else\n     # We can build DLLs from non-PIC.\n     ;;\n \n-  osf3* | osf4*)\n+  osf3* | osf4* | osf5*)\n     # All OSF/1 code is PIC.\n     wl='-Wl,'\n     link_static_flag='-non_shared'\n@@ -688,7 +749,7 @@ else\n     wl='-Qoption ld '\n     ;;\n \n-  sysv4.2uw2* | sysv4.3* | sysv5*)\n+  sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n     pic_flag='-KPIC'\n     link_static_flag='-Bstatic'\n     wl='-Wl,'\n@@ -699,6 +760,16 @@ else\n     link_static_flag='-Bstatic'\n     ;;\n \n+  sysv4*MP*)\n+    if test -d /usr/nec ;then\n+      pic_flag='-Kconform_pic'\n+      link_static_flag='-Bstatic'\n+    elif test -d /usr/dde ;then\n+      pic_flag='-KPIC'\n+      link_static_flag='-Bstatic'\n+      wl='-Wl,'\n+    fi\n+    ;;\n   *)\n     can_build_shared=no\n     ;;\n@@ -714,8 +785,8 @@ if test -n \"$pic_flag\"; then\n   echo \"int some_variable = 0;\" > conftest.c\n   save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS $pic_flag -DPIC\"\n-  echo \"$progname:717: checking if $compiler PIC flag $pic_flag works\" >&5\n-  if { (eval echo $progname:718: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.$objext; then\n+  echo \"$progname:776: checking if $compiler PIC flag $pic_flag works\" >&5\n+  if { (eval echo $progname:777: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.$objext; then\n     # Append any warnings to the config.log.\n     cat conftest.err 1>&5\n     \n@@ -753,16 +824,26 @@ fi\n \n # Check to see if options -o and -c are simultaneously supported by compiler\n echo $ac_n \"checking if $compiler supports -c -o file.o... $ac_c\" 1>&6\n+$rm -r conftest 2>/dev/null\n+mkdir conftest\n+cd conftest\n $rm conftest*\n echo \"int some_variable = 0;\" > conftest.c\n+mkdir out\n+# According to Tom Tromey, Ian Lance Taylor reported there are C compilers\n+# that will create temporary files in the current directory regardless of\n+# the output directory.  Thus, making CWD read-only will cause this test\n+# to fail, enabling locking or at least warning the user not to do parallel\n+# builds.\n+chmod -w .\n save_CFLAGS=\"$CFLAGS\"\n-CFLAGS=\"$CFLAGS -c -o conftest2.o\"\n-echo \"$progname:760: checking if $compiler supports -c -o file.o\" >&5\n-if { (eval echo $progname:761: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest2.o; then\n+CFLAGS=\"$CFLAGS -o out/conftest2.o\"\n+echo \"$progname:829: checking if $compiler supports -c -o file.o\" >&5\n+if { (eval echo $progname:830: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>out/conftest.err; } && test -s out/conftest2.o; then\n \n   # The compiler can only warn and ignore the option if not recognized\n   # So say no if there are warnings\n-    if test -s conftest.err; then\n+    if test -s out/conftest.err; then\n       echo \"$ac_t\"no 1>&6\n       compiler_c_o=no\n     else\n@@ -771,12 +852,17 @@ if { (eval echo $progname:761: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conft\n     fi\n else\n   # Append any errors to the config.log.\n-  cat conftest.err 1>&5\n+  cat out/conftest.err 1>&5\n   compiler_c_o=no\n   echo \"$ac_t\"no 1>&6\n fi\n CFLAGS=\"$save_CFLAGS\"\n-$rm conftest*\n+chmod u+w .\n+$rm conftest* out/*\n+rmdir out\n+cd ..\n+rmdir conftest\n+$rm -r conftest 2>/dev/null\n \n if test x\"$compiler_c_o\" = x\"yes\"; then\n   # Check to see if we can write to a .lo\n@@ -785,8 +871,8 @@ if test x\"$compiler_c_o\" = x\"yes\"; then\n   echo \"int some_variable = 0;\" > conftest.c\n   save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -c -o conftest.lo\"\n-  echo \"$progname:788: checking if $compiler supports -c -o file.lo\" >&5\n-if { (eval echo $progname:789: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.lo; then\n+  echo \"$progname:862: checking if $compiler supports -c -o file.lo\" >&5\n+if { (eval echo $progname:863: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.lo; then\n \n     # The compiler can only warn and ignore the option if not recognized\n     # So say no if there are warnings\n@@ -837,8 +923,8 @@ if test \"$with_gcc\" = yes; then\n   echo \"int some_variable = 0;\" > conftest.c\n   save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\"$CFLAGS -fno-rtti -fno-exceptions -c conftest.c\"\n-  echo \"$progname:840: checking if $compiler supports -fno-rtti -fno-exceptions\" >&5\n-  if { (eval echo $progname:841: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.o; then\n+  echo \"$progname:914: checking if $compiler supports -fno-rtti -fno-exceptions\" >&5\n+  if { (eval echo $progname:915: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>conftest.err; } && test -s conftest.o; then\n \n     # The compiler can only warn and ignore the option if not recognized\n     # So say no if there are warnings\n@@ -881,8 +967,8 @@ $rm conftest*\n echo 'main(){return(0);}' > conftest.c\n save_LDFLAGS=\"$LDFLAGS\"\n LDFLAGS=\"$LDFLAGS $link_static_flag\"\n-echo \"$progname:884: checking if $compiler static flag $link_static_flag works\" >&5\n-if { (eval echo $progname:885: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+echo \"$progname:958: checking if $compiler static flag $link_static_flag works\" >&5\n+if { (eval echo $progname:959: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   echo \"$ac_t$link_static_flag\" 1>&6\n else\n   echo \"$ac_t\"none 1>&6\n@@ -894,9 +980,9 @@ $rm conftest*\n if test -z \"$LN_S\"; then\n   # Check to see if we can use ln -s, or we need hard links.\n   echo $ac_n \"checking whether ln -s works... $ac_c\" 1>&6\n-  $rm conftestdata\n-  if ln -s X conftestdata 2>/dev/null; then\n-    $rm conftestdata\n+  $rm conftest.dat\n+  if ln -s X conftest.dat 2>/dev/null; then\n+    $rm conftest.dat\n     LN_S=\"ln -s\"\n   else\n     LN_S=ln\n@@ -914,11 +1000,11 @@ if test -z \"$LD\"; then\n   if test \"$with_gcc\" = yes; then\n     # Check if gcc -print-prog-name=ld gives a path.\n     echo $ac_n \"checking for ld used by GCC... $ac_c\" 1>&6\n-    echo \"$progname:917: checking for ld used by GCC\" >&5\n+    echo \"$progname:991: checking for ld used by GCC\" >&5\n     ac_prog=`($CC -print-prog-name=ld) 2>&5`\n     case \"$ac_prog\" in\n     # Accept absolute paths.\n-    /* | [A-Za-z]:[\\\\/]*)\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n       re_direlt='/[^/][^/]*/\\.\\./'\n       # Canonicalize the path of ld\n       ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n@@ -938,17 +1024,17 @@ if test -z \"$LD\"; then\n     esac\n   elif test \"$with_gnu_ld\" = yes; then\n     echo $ac_n \"checking for GNU ld... $ac_c\" 1>&6\n-    echo \"$progname:941: checking for GNU ld\" >&5\n+    echo \"$progname:1015: checking for GNU ld\" >&5\n   else\n     echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n-    echo \"$progname:944: checking for non-GNU ld\" >&5\n+    echo \"$progname:1018: checking for non-GNU ld\" >&5\n   fi\n \n   if test -z \"$LD\"; then\n     IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR}\"\n     for ac_dir in $PATH; do\n       test -z \"$ac_dir\" && ac_dir=.\n-      if test -f \"$ac_dir/$ac_prog\"; then\n+      if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n \tLD=\"$ac_dir/$ac_prog\"\n \t# Check to see if the program is GNU ld.  I'd rather use --version,\n \t# but apparently some GNU ld's only accept -v.\n@@ -1007,15 +1093,20 @@ hardcode_minus_L=no\n hardcode_shlibpath_var=unsupported\n runpath_var=\n always_export_symbols=no\n-export_symbols_cmds='$NM $libobjs | $global_symbol_pipe | sed '\\''s/.* //'\\'' | sort | uniq > $export_symbols'\n+export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | sed '\\''s/.* //'\\'' | sort | uniq > $export_symbols'\n # include_expsyms should be a list of space-separated symbols to be *always*\n # included in the symbol list\n include_expsyms=\n # exclude_expsyms can be an egrep regular expression of symbols to exclude\n # it will be wrapped by ` (' and `)$', so one must not match beginning or\n # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',\n # as well as any symbol that contains `d'.\n-exclude_expsyms=\n+exclude_expsyms=\"_GLOBAL_OFFSET_TABLE_\"\n+# Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out\n+# platforms (ab)use it in PIC code, but their linkers get confused if\n+# the symbol is explicitly referenced.  Since portable code cannot\n+# rely on this symbol name, it's probably fine to never include it in\n+# preloaded symbol tables.\n \n case \"$host_os\" in\n cygwin* | mingw*)\n@@ -1027,10 +1118,6 @@ cygwin* | mingw*)\n   fi\n   ;;\n \n-freebsd2* | sunos4*)\n-  exclude_expsyms=\"_GLOBAL_OFFSET_TABLE_\"\n-  ;;\n-\n esac\n \n ld_shlibs=yes\n@@ -1058,18 +1145,21 @@ EOF\n     archive_cmds='$rm $objdir/a2ixlibrary.data~$echo \"#define NAME $libname\" > $objdir/a2ixlibrary.data~$echo \"#define LIBRARY_ID 1\" >> $objdir/a2ixlibrary.data~$echo \"#define VERSION $major\" >> $objdir/a2ixlibrary.data~$echo \"#define REVISION $revision\" >> $objdir/a2ixlibrary.data~$AR cru $lib $libobjs~$RANLIB $lib~(cd $objdir && a2ixlibrary -32)'\n     hardcode_libdir_flag_spec='-L$libdir'\n     hardcode_minus_L=yes\n-    ;;\n \n-  sunos4*)\n-    archive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linkopts'\n-    wlarc=\n-    hardcode_direct=yes\n-    hardcode_minus_L=yes\n-    hardcode_shlibpath_var=no\n+    # Samuel A. Falvo II <kc5tja@dolphin.openprojects.net> reports\n+    # that the semantics of dynamic libraries on AmigaOS, at least up\n+    # to version 4, is to share data among multiple programs linked\n+    # with the same dynamic library.  Since this doesn't match the\n+    # behavior of shared libraries on other platforms, we can use\n+    # them.\n+    ld_shlibs=no\n     ;;\n \n   beos*)\n     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n+      allow_undefined_flag=unsupported\n+      # Joseph Beckenbach <jrb3@best.com> says some releases of gcc\n+      # support --undefined.  This deserves some investigation.  FIXME\n       archive_cmds='$CC -nostart $libobjs $deplibs $linkopts ${wl}-soname $wl$soname -o $lib'\n     else\n       ld_shlibs=no\n@@ -1086,18 +1176,19 @@ EOF\n     # Extract the symbol export list from an `--export-all' def file,\n     # then regenerate the def file from the symbol export list, so that\n     # the compiled dll only exports the symbol export list.\n-    export_symbols_cmds='rm -f $objdir/$soname-ltdll.c~\n-      sed -e \"/^# \\/\\* ltdll.c starts here \\*\\//,/^# \\/\\* ltdll.c ends here \\*\\// { s/^# //; p; }\" -e d < $0 > $objdir/$soname-ltdll.c~\n-      (cd $objdir && $CC -c $soname-ltdll.c)~\n-      $DLLTOOL --export-all --exclude-symbols DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12 --output-def $objdir/$soname-def  $objdir/$soname-ltdll.$objext $libobjs~\n+    export_symbols_cmds='test -f $objdir/$soname-ltdll.c || sed -e \"/^# \\/\\* ltdll\\.c starts here \\*\\//,/^# \\/\\* ltdll.c ends here \\*\\// { s/^# //; p; }\" -e d < $0 > $objdir/$soname-ltdll.c~\n+      test -f $objdir/$soname-ltdll.$objext || (cd $objdir && $CC -c $soname-ltdll.c)~\n+      $DLLTOOL --export-all --exclude-symbols DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12 --output-def $objdir/$soname-def  $objdir/$soname-ltdll.$objext $libobjs $convenience~\n       sed -e \"1,/EXPORTS/d\" -e \"s/ @ [0-9]* ; *//\" < $objdir/$soname-def > $export_symbols'\n \n     archive_expsym_cmds='echo EXPORTS > $objdir/$soname-def~\n       _lt_hint=1;\n       for symbol in `cat $export_symbols`; do\n-        echo \"\t\\$symbol @ \\$_lt_hint ; \" >> $objdir/$soname-def;\n+\techo \"\t\\$symbol @ \\$_lt_hint ; \" >> $objdir/$soname-def;\n \t_lt_hint=`expr 1 + \\$_lt_hint`;\n       done~\n+      test -f $objdir/$soname-ltdll.c || sed -e \"/^# \\/\\* ltdll\\.c starts here \\*\\//,/^# \\/\\* ltdll.c ends here \\*\\// { s/^# //; p; }\" -e d < $0 > $objdir/$soname-ltdll.c~\n+      test -f $objdir/$soname-ltdll.$objext || (cd $objdir && $CC -c $soname-ltdll.c)~\n       $CC -Wl,--base-file,$objdir/$soname-base -Wl,--dll -nostartfiles -Wl,-e,__cygwin_dll_entry@12 -o $lib $objdir/$soname-ltdll.$objext $libobjs $deplibs $linkopts~\n       $DLLTOOL --as=$AS --dllname $soname --exclude-symbols DllMain@12,_cygwin_dll_entry@12,_cygwin_noncygwin_dll_entry@12 --def $objdir/$soname-def --base-file $objdir/$soname-base --output-exp $objdir/$soname-exp~\n       $CC -Wl,--base-file,$objdir/$soname-base $objdir/$soname-exp -Wl,--dll -nostartfiles -Wl,-e,__cygwin_dll_entry@12 -o $lib $objdir/$soname-ltdll.$objext $libobjs $deplibs $linkopts~\n@@ -1107,6 +1198,44 @@ EOF\n       old_archive_from_new_cmds='$DLLTOOL --as=$AS --dllname $soname --def $objdir/$soname-def --output-lib $objdir/$libname.a'\n     ;;\n \n+  netbsd*)\n+    if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n+      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname -o $lib'\n+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+    else\n+      archive_cmds='$LD -Bshareable $libobjs $deplibs $linkopts -o $lib'\n+      # can we support soname and/or expsyms with a.out? -oliva\n+    fi\n+    ;;\n+\n+  solaris* | sysv5*)\n+    if $LD -v 2>&1 | egrep 'BFD 2\\.8' > /dev/null; then\n+      ld_shlibs=no\n+      cat <<EOF 1>&2\n+\n+*** Warning: The releases 2.8.* of the GNU linker cannot reliably\n+*** create shared libraries on Solaris systems.  Therefore, libtool\n+*** is disabling shared libraries support.  We urge you to upgrade GNU\n+*** binutils to release 2.9.1 or newer.  Another option is to modify\n+*** your PATH or compiler configuration so that the native linker is\n+*** used, and then restart.\n+\n+EOF\n+    elif $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n+      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname -o $lib'\n+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+    else\n+      ld_shlibs=no\n+    fi\n+    ;;      \n+\n+  sunos4*)\n+    archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linkopts'\n+    wlarc=\n+    hardcode_direct=yes\n+    hardcode_shlibpath_var=no\n+    ;;\n+\n   *)\n     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n       archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname -o $lib'\n@@ -1121,7 +1250,20 @@ EOF\n     runpath_var=LD_RUN_PATH\n     hardcode_libdir_flag_spec='${wl}--rpath ${wl}$libdir'\n     export_dynamic_flag_spec='${wl}--export-dynamic'\n-    whole_archive_flag_spec=\"$wlarc\"'--whole-archive$convenience '\"$wlarc\"'--no-whole-archive'\n+    case $host_os in\n+    cygwin* | mingw*)\n+      # dlltool doesn't understand --whole-archive et. al.\n+      whole_archive_flag_spec=\n+      ;;\n+    *)\n+      # ancient GNU ld didn't support --whole-archive et. al.\n+      if $LD --help 2>&1 | egrep 'no-whole-archive' > /dev/null; then\n+        whole_archive_flag_spec=\"$wlarc\"'--whole-archive$convenience '\"$wlarc\"'--no-whole-archive'\n+      else\n+        whole_archive_flag_spec=\n+      fi\n+      ;;\n+    esac\n   fi\n else\n   # PORTME fill in a description of your system's linker (not GNU ld)\n@@ -1141,35 +1283,45 @@ else\n     ;;\n \n   aix4*)\n-    allow_undefined_flag=\n+    hardcode_libdir_flag_spec='${wl}-b ${wl}nolibpath ${wl}-b ${wl}libpath:$libdir:/usr/lib:/lib'\n+    hardcode_libdir_separator=':'\n     if test \"$with_gcc\" = yes; then\n-      if strings `${CC} -print-prog-name=collect2` | \\\n-\t grep resolve_lib_name >/dev/null\n+      collect2name=`${CC} -print-prog-name=collect2`\n+      if test -f \"$collect2name\" && \\\n+\t strings \"$collect2name\" | grep resolve_lib_name >/dev/null\n       then\n \t# We have reworked collect2\n \thardcode_direct=yes\n       else\n \t# We have old collect2\n \thardcode_direct=unsupported\n+\t# It fails to find uninstalled libraries when the uninstalled\n+\t# path is not listed in the libpath.  Setting hardcode_minus_L\n+\t# to unsupported forces relinking\n+\thardcode_minus_L=yes\n+\thardcode_libdir_flag_spec='-L$libdir'\n+\thardcode_libdir_separator=\n       fi\n-      archive_cmds='$CC -shared ${wl}-bnoentry -o $objdir/$soname $libobjs $deplibs $linkopts'\n+      shared_flag='-shared'\n     else\n-      always_export_symbols=yes\n-      archive_expsym_cmds='$CC -o $objdir/$soname $libobjs $deplibs $linkopts ${wl}-bE:$export_symbols ${wl}-bM:SRE ${wl}-bnoentry'\n+      shared_flag='${wl}-bM:SRE'\n       hardcode_direct=yes\n     fi\n-    hardcode_minus_L=yes\n-    # Though LIBPATH variable hardcodes shlibpath into executable,\n-    # it doesn't affect searching for -l* libraries; this confuses\n-    # tests in mdemo.\n-    hardcode_shlibpath_var=unsupported\n-    hardcode_libdir_flag_spec='-L$libdir'\n+    allow_undefined_flag=' ${wl}-berok'\n+    archive_cmds=\"\\$CC $shared_flag\"' -o $objdir/$soname $libobjs $deplibs $linkopts ${wl}-bexpall ${wl}-bnoentry${allow_undefined_flag}'\n+    archive_expsym_cmds=\"\\$CC $shared_flag\"' -o $objdir/$soname $libobjs $deplibs $linkopts ${wl}-bE:$export_symbols ${wl}-bnoentry${allow_undefined_flag}'\n+    case \"$host_os\" in aix4.[01]|aix4.[01].*)\n+      # According to Greg Wooledge, -bexpall is only supported from AIX 4.2 on\n+      always_export_symbols=yes ;;\n+    esac\n    ;;\n \n   amigaos*)\n     archive_cmds='$rm $objdir/a2ixlibrary.data~$echo \"#define NAME $libname\" > $objdir/a2ixlibrary.data~$echo \"#define LIBRARY_ID 1\" >> $objdir/a2ixlibrary.data~$echo \"#define VERSION $major\" >> $objdir/a2ixlibrary.data~$echo \"#define REVISION $revision\" >> $objdir/a2ixlibrary.data~$AR cru $lib $libobjs~$RANLIB $lib~(cd $objdir && a2ixlibrary -32)'\n     hardcode_libdir_flag_spec='-L$libdir'\n     hardcode_minus_L=yes\n+    # see comment about different semantics on the GNU ld section\n+    ld_shlibs=no\n     ;;\n \n   cygwin* | mingw*)\n@@ -1192,7 +1344,6 @@ else\n \n   freebsd1*)\n     ld_shlibs=no\n-    can_build_shared=no\n     ;;\n \n   # FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor\n@@ -1203,7 +1354,6 @@ else\n     archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linkopts /usr/lib/c++rt0.o'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n-    hardcode_minus_L=no # verified on 2.2.6\n     hardcode_shlibpath_var=no\n     ;;\n \n@@ -1220,31 +1370,27 @@ else\n     archive_cmds='$CC -shared -o $lib $libobjs $deplibs $linkopts'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n-    hardcode_minus_L=no\n     hardcode_shlibpath_var=no\n     ;;\n \n-  hpux9*)\n-    archive_cmds='$rm $objdir/$soname~$LD -b +s +b $install_libdir -o $objdir/$soname $libobjs $deplibs $linkopts~test $objdir/$soname = $lib || mv $objdir/$soname $lib'\n-    hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n-    hardcode_direct=yes\n-    hardcode_minus_L=yes\n-    export_dynamic_flag_spec='${wl}-E'\n-    ;;\n-\n-  hpux10* | hpux11*)\n-    archive_cmds='$LD -b +h $soname +s +b $install_libdir -o $lib $libobjs $deplibs $linkopts'\n+  hpux9* | hpux10* | hpux11*)\n+    case \"$host_os\" in\n+    hpux9*) archive_cmds='$rm $objdir/$soname~$LD -b +b $install_libdir -o $objdir/$soname $libobjs $deplibs $linkopts~test $objdir/$soname = $lib || mv $objdir/$soname $lib' ;;\n+    *) archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linkopts' ;;\n+    esac\n     hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n+    hardcode_libdir_separator=:\n     hardcode_direct=yes\n-    hardcode_minus_L=yes\n+    hardcode_minus_L=yes # Not in the search PATH, but as the default\n+\t\t\t # location of the library.\n     export_dynamic_flag_spec='${wl}-E'\n     ;;\n \n   irix5* | irix6*)\n     if test \"$with_gcc\" = yes; then\n-      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n+      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${objdir}/so_locations -o $lib'\n     else\n-      archive_cmds='$LD -shared $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -o $lib'\n+      archive_cmds='$LD -shared $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -update_registry ${objdir}/so_locations -o $lib'\n     fi\n     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n     hardcode_libdir_separator=:\n@@ -1276,21 +1422,35 @@ else\n     old_archive_from_new_cmds='emximp -o $objdir/$libname.a $objdir/$libname.def'\n     ;;\n \n-  osf3* | osf4*)\n+  osf3*)\n+    if test \"$with_gcc\" = yes; then\n+      allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\\*'\n+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${objdir}/so_locations -o $lib'\n+    else\n+      allow_undefined_flag=' -expect_unresolved \\*'\n+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -update_registry ${objdir}/so_locations -o $lib'\n+    fi\n+    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n+    hardcode_libdir_separator=:\n+    ;;\n+\n+  osf4* | osf5*)  # As osf3* with the addition of the -msym flag\n     if test \"$with_gcc\" = yes; then\n       allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\\*'\n-      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $linkopts ${wl}-msym ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` ${wl}-update_registry ${wl}${objdir}/so_locations -o $lib'\n     else\n       allow_undefined_flag=' -expect_unresolved \\*'\n-      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -o $lib'\n+      archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linkopts -msym -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -update_registry ${objdir}/so_locations -o $lib'\n     fi\n     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n     hardcode_libdir_separator=:\n     ;;\n \n   sco3.2v5*)\n-    archive_cmds='$LD -G -o $lib $libobjs $deplibs $linkopts'\n-    hardcode_direct=yes\n+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n+    hardcode_shlibpath_var=no\n+    runpath_var=LD_RUN_PATH\n+    hardcode_runpath_var=yes\n     ;;\n \n   solaris*)\n@@ -1302,63 +1462,106 @@ else\n \t\t$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linkopts~$rm $lib.exp'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_shlibpath_var=no\n+    case \"$host_os\" in\n+    solaris2.[0-5] | solaris2.[0-5].*) ;;\n+    *) # Supported since Solaris 2.6 (maybe 2.5.1?)\n+      whole_archive_flag_spec='-z allextract$convenience -z defaultextract' ;;\n+    esac\n     ;;\n \n   sunos4*)\n-    # Why do we need -Bstatic?  To avoid inter-library dependencies, maybe...\n-    if test \"$with_gcc\" = yes; then\n-      # Use -fPIC here because libgcc is multilibbed\n-      archive_cmds='$CC -shared ${wl}-Bstatic -fPIC -o $lib $libobjs $deplibs $linkopts'\n-    else\n-      archive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linkopts'\n-    fi\n+    archive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linkopts'\n     hardcode_libdir_flag_spec='-L$libdir'\n     hardcode_direct=yes\n     hardcode_minus_L=yes\n     hardcode_shlibpath_var=no\n     ;;\n \n+  sysv4)\n+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n+    runpath_var='LD_RUN_PATH'\n+    hardcode_shlibpath_var=no\n+    hardcode_direct=no #Motorola manual says yes, but my tests say they lie \n+    ;;  \n+\n   sysv4.3*)\n     archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n-    hardcode_direct=no\n-    hardcode_minus_L=no\n     hardcode_shlibpath_var=no\n     export_dynamic_flag_spec='-Bexport'\n     ;;\n \n+  sysv5*)\n+    no_undefined_flag=' -z text'\n+    # $CC -shared without GNU ld will not create a library from C++\n+    # object files and a static libstdc++, better avoid it by now\n+    archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linkopts'\n+    archive_expsym_cmds='$echo \"{ global:\" > $lib.exp~cat $export_symbols | sed -e \"s/\\(.*\\)/\\1;/\" >> $lib.exp~$echo \"local: *; };\" >> $lib.exp~\n+\t\t$LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linkopts~$rm $lib.exp'\n+    hardcode_libdir_flag_spec=\n+    hardcode_shlibpath_var=no\n+    runpath_var='LD_RUN_PATH'\n+    ;;\n+\n   uts4*)\n     archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n     hardcode_libdir_flag_spec='-L$libdir'\n-    hardcode_direct=no\n-    hardcode_minus_L=no\n     hardcode_shlibpath_var=no\n     ;;\n \n   dgux*)\n     archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n     hardcode_libdir_flag_spec='-L$libdir'\n-    hardcode_direct=no\n+    hardcode_shlibpath_var=no\n+    ;;\n+\n+  sysv4*MP*)\n+    if test -d /usr/nec; then\n+      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n+      hardcode_shlibpath_var=no\n+      runpath_var=LD_RUN_PATH\n+      hardcode_runpath_var=yes\n+      ld_shlibs=yes\n+    elif test -d /usr/dde; then\n+      archive_cmds='$CC -V -dy -G -z text -h $soname -o $lib $libobjs'\n+      hardcode_shlibpath_var=no\n+      runpath_var=LD_RUN_PATH\n+      no_undefined_flag='-z text'\n+      ld_shlibs=yes\n+    fi\n+    ;;\n+\n+  sysv4.2uw2*)\n+    archive_cmds='$LD -G -o $lib $libobjs $deplibs $linkopts'\n+    hardcode_direct=yes\n     hardcode_minus_L=no\n     hardcode_shlibpath_var=no\n+    hardcode_runpath_var=yes\n+    runpath_var=LD_RUN_PATH\n+    ;;\n+\n+  unixware7*)\n+    archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linkopts'\n+    runpath_var='LD_RUN_PATH'\n+    hardcode_shlibpath_var=no\n     ;;\n \n   *)\n     ld_shlibs=no\n-    can_build_shared=no\n     ;;\n   esac\n fi\n echo \"$ac_t$ld_shlibs\" 1>&6\n+test \"$ld_shlibs\" = no && can_build_shared=no\n \n if test -z \"$NM\"; then\n   echo $ac_n \"checking for BSD-compatible nm... $ac_c\" 1>&6\n   case \"$NM\" in\n-  /* | [A-Za-z]:[/\\\\]*) ;; # Let the user override the test with a path.\n+  [\\\\/]* | [A-Za-z]:[\\\\/]*) ;; # Let the user override the test with a path.\n   *)\n     IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR}\"\n     for ac_dir in $PATH /usr/ucb /usr/ccs/bin /bin; do\n       test -z \"$ac_dir\" && ac_dir=.\n-      if test -f $ac_dir/nm; then\n+      if test -f $ac_dir/nm || test -f $ac_dir/nm$ac_exeext; then\n \t# Check to see if the nm accepts a BSD-compat flag.\n \t# Adding the `sed 1q' prevents false positives on HP-UX, which says:\n \t#   nm: unknown option \"B\" ignored\n@@ -1416,6 +1619,9 @@ irix*)\n solaris*)\n   symcode='[BDT]'\n   ;;\n+sysv4)\n+  symcode='[DFNSTU]'\n+  ;;\n esac\n \n # If we're using GNU nm, then use its standard symbol codes.\n@@ -1444,11 +1650,11 @@ void nm_test_func(){}\n main(){nm_test_var='a';nm_test_func();return(0);}\n EOF\n \n-  echo \"$progname:1447: checking if global_symbol_pipe works\" >&5\n-  if { (eval echo $progname:1448: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; } && test -s conftest.$objext; then\n+  echo \"$progname:1635: checking if global_symbol_pipe works\" >&5\n+  if { (eval echo $progname:1636: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; } && test -s conftest.$objext; then\n     # Now try to grab the symbols.\n     nlist=conftest.nm\n-    if { echo \"$progname:1451: eval \\\"$NM conftest.$objext | $global_symbol_pipe > $nlist\\\"\" >&5; eval \"$NM conftest.$objext | $global_symbol_pipe > $nlist 2>&5\"; } && test -s \"$nlist\"; then\n+    if { echo \"$progname:1639: eval \\\"$NM conftest.$objext | $global_symbol_pipe > $nlist\\\"\" >&5; eval \"$NM conftest.$objext | $global_symbol_pipe > $nlist 2>&5\"; } && test -s \"$nlist\"; then\n \n       # Try sorting and uniquifying the output.\n       if sort \"$nlist\" | uniq > \"$nlist\"T; then\n@@ -1495,12 +1701,12 @@ EOF\n #endif\n EOF\n \t  # Now try linking the two files.\n-\t  mv conftest.$objext conftestm.$objext\n+\t  mv conftest.$objext conftstm.$objext\n \t  save_LIBS=\"$LIBS\"\n \t  save_CFLAGS=\"$CFLAGS\"\n-\t  LIBS=\"conftestm.$objext\"\n+\t  LIBS=\"conftstm.$objext\"\n \t  CFLAGS=\"$CFLAGS$no_builtin_flag\"\n-\t  if { (eval echo $progname:1503: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+\t  if { (eval echo $progname:1691: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n \t    pipe_works=yes\n \t  else\n \t    echo \"$progname: failed program was:\" >&5\n@@ -1520,7 +1726,7 @@ EOF\n     echo \"$progname: failed program was:\" >&5\n     cat conftest.c >&5\n   fi\n-  $rm conftest*\n+  $rm conftest* conftst*\n \n   # Do not use the global_symbol_pipe unless it works.\n   if test \"$pipe_works\" = yes; then\n@@ -1529,7 +1735,11 @@ EOF\n     global_symbol_pipe=\n   fi\n done\n-echo \"$ac_t$pipe_works\" 1>&6\n+if test \"$pipe_works\" = yes; then\n+  echo \"${ac_t}ok\" 1>&6\n+else\n+  echo \"${ac_t}failed\" 1>&6\n+fi\n \n if test -z \"$global_symbol_pipe\"; then\n   global_symbol_to_cdecl=\n@@ -1542,10 +1752,12 @@ if test -n \"$hardcode_libdir_flag_spec\" || \\\n    test -n \"$runpath_var\"; then\n \n   # We can hardcode non-existant directories.\n-  if test \"$hardcode_direct\" != no && \\\n-     test \"$hardcode_minus_L\" != no && \\\n-     test \"$hardcode_shlibpath_var\" != no; then\n-\n+  if test \"$hardcode_direct\" != no &&\n+     # If the only mechanism to avoid hardcoding is shlibpath_var, we\n+     # have to relink, otherwise we might link with an installed library\n+     # when we should be linking with a yet-to-be-installed one\n+     ## test \"$hardcode_shlibpath_var\" != no &&\n+     test \"$hardcode_minus_L\" != no; then\n     # Linking always hardcodes the temporary library directory.\n     hardcode_action=relink\n   else\n@@ -1628,37 +1840,46 @@ beos*)\n   library_names_spec='${libname}.so'\n   dynamic_linker=\"$host_os ld.so\"\n   shlibpath_var=LIBRARY_PATH\n+  deplibs_check_method=pass_all\n+  lt_cv_dlopen=\"load_add_on\"\n+  lt_cv_dlopen_libs=\n+  lt_cv_dlopen_self=yes\n   ;;\n \n bsdi4*)\n   version_type=linux\n-  library_names_spec='${libname}.so$major ${libname}.so'\n-  soname_spec='${libname}.so'\n-  finish_cmds='PATH=\"$PATH:/sbin\" ldconfig $libdir'\n+  need_version=no\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+  soname_spec='${libname}${release}.so$major'\n+  finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n-  deplibs_check_method='file_magic ELF 32-bit LSB shared object'\n+  deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n   file_magic_cmd=/usr/bin/file\n   file_magic_test_file=/shlib/libc.so\n   sys_lib_search_path_spec=\"/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib\"\n   sys_lib_dlsearch_path_spec=\"/shlib /usr/lib /usr/local/lib\"\n+  export_dynamic_flag_spec=-rdynamic\n   # the default ld.so.conf also contains /usr/contrib/lib and\n   # /usr/X11R6/lib (/usr/X11 is a link to /usr/X11R6), but let us allow\n   # libtool to hard-code these into programs\n   ;;\n \n cygwin* | mingw*)\n   version_type=windows\n+  need_version=no\n+  need_lib_prefix=no\n   if test \"$with_gcc\" = yes; then\n     library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll $libname.a'\n   else\n     library_names_spec='${libname}`echo ${release} | sed -e 's/[.]/-/g'`${versuffix}.dll $libname.lib'\n   fi\n   dynamic_linker='Win32 ld.exe'\n-  deplibs_check_method='file_magic file format pei*-i386.*architecture: i386'\n-  file_magic_cmd='objdump -f'\n-  need_lib_prefix=no\n+  deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n+  file_magic_cmd='${OBJDUMP} -f'\n   # FIXME: first we should search . and the directory the executable is in\n   shlibpath_var=PATH\n+  lt_cv_dlopen=\"LoadLibrary\"\n+  lt_cv_dlopen_libs=\n   ;;\n \n freebsd1*)\n@@ -1683,13 +1904,23 @@ freebsd*)\n       need_version=yes\n       ;;\n   esac\n-  finish_cmds='PATH=\"$PATH:/sbin\" OBJFORMAT=\"'\"$objformat\"'\" ldconfig -m $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n+  case \"$host_os\" in\n+  freebsd2* | freebsd3.[01]* | freebsdelf3.[01]*)\n+    shlibpath_overrides_runpath=yes\n+    ;;\n+  *) # from 3.2 on\n+    shlibpath_overrides_runpath=no\n+    ;;\n+  esac\n   ;;\n \n gnu*)\n   version_type=linux\n-  library_names_spec='${libname}${release}.so$versuffix ${libname}.so'\n+  need_lib_prefix=no\n+  need_version=no\n+  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so${major} ${libname}.so'\n+  soname_spec='${libname}${release}.so$major'\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n@@ -1701,46 +1932,41 @@ hpux9* | hpux10* | hpux11*)\n   need_lib_prefix=no\n   need_version=no\n   shlibpath_var=SHLIB_PATH\n+  shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH\n   library_names_spec='${libname}${release}.sl$versuffix ${libname}${release}.sl$major $libname.sl'\n   soname_spec='${libname}${release}.sl$major'\n   # HP-UX runs *really* slowly unless shared libraries are mode 555.\n   postinstall_cmds='chmod 555 $lib'\n   ;;\n \n-irix5*)\n-  version_type=irix\n-  soname_spec='${libname}${release}.so'\n-  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\" # or should it be pass_all?\n-  file_magic_cmd=/usr/bin/file\n-  file_magic_test_file=`echo /lib/libc.so*`\n-  shlibpath_overrides_runpath=no\n-  ;;\n-\n-irix6*)\n+irix5* | irix6*)\n   version_type=irix\n   need_lib_prefix=no\n   need_version=no\n-  soname_spec='${libname}${release}.so'\n-  library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'\n-  case \"$LD\" in # libtool.m4 will add one of these switches to LD\n-  *-32|*\"-32 \") libsuff= shlibsuff= libmagic=32-bit;;\n-  *-n32|*\"-n32 \") libsuff=32 shlibsuff=N32 libmagic=N32;;\n-  *-64|*\"-64 \") libsuff=64 shlibsuff=64 libmagic=64-bit;;\n-  *) libsuff= shlibsuff= libmagic=never-match;;\n+  soname_spec='${libname}${release}.so.$major'\n+  library_names_spec='${libname}${release}.so.$versuffix ${libname}${release}.so.$major ${libname}${release}.so $libname.so'\n+  case \"$host_os\" in\n+  irix5*)\n+    libsuff= shlibsuff=\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n+    ;;\n+  *)\n+    case \"$LD\" in # libtool.m4 will add one of these switches to LD\n+    *-32|*\"-32 \") libsuff= shlibsuff= libmagic=32-bit;;\n+    *-n32|*\"-n32 \") libsuff=32 shlibsuff=N32 libmagic=N32;;\n+    *-64|*\"-64 \") libsuff=64 shlibsuff=64 libmagic=64-bit;;\n+    *) libsuff= shlibsuff= libmagic=never-match;;\n+    esac\n+    ;;\n   esac\n   shlibpath_var=LD_LIBRARY${shlibsuff}_PATH\n   shlibpath_overrides_runpath=no\n-  # even though /usr/local/lib is always searched, the man-page says\n-  # shared libraries should not be installed there if they use an ABI\n-  # different from -32, so we'd better not search for shared libraries\n-  # there either\n-  sys_lib_search_path_spec=\"/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}\"\n-  sys_lib_dlsearch_path_spec=\"/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}\"\n-  deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\" # or should it be pass_all?\n+  sys_lib_search_path_spec=\"/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}\"\n+  sys_lib_dlsearch_path_spec=\"/usr/lib${libsuff} /lib${libsuff}\"\n   file_magic_cmd=/usr/bin/file\n   file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n+  deplibs_check_method='pass_all'\n   ;;\n \n # No shared lib support for Linux oldld, aout, or coff.\n@@ -1755,7 +1981,7 @@ linux-gnu*)\n   need_version=no\n   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n   soname_spec='${libname}${release}.so$major'\n-  finish_cmds='PATH=\"$PATH:/sbin\" ldconfig -n $libdir'\n+  finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -n $libdir'\n   shlibpath_var=LD_LIBRARY_PATH\n   shlibpath_overrides_runpath=no\n   deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )'\n@@ -1777,7 +2003,7 @@ netbsd*)\n   version_type=sunos\n   if echo __ELF__ | $CC -E - | grep __ELF__ >/dev/null; then\n     library_names_spec='${libname}${release}.so$versuffix ${libname}.so$versuffix'\n-    finish_cmds='PATH=\"$PATH:/sbin\" ldconfig -m $libdir'\n+    finish_cmds='PATH=\"\\$PATH:/sbin\" ldconfig -m $libdir'\n     dynamic_linker='NetBSD (a.out) ld.so'\n   else\n     library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major ${libname}${release}.so ${libname}.so'\n@@ -1806,19 +2032,17 @@ os2*)\n   shlibpath_var=LIBPATH\n   ;;\n \n-osf3* | osf4*)\n+osf3* | osf4* | osf5*)\n   version_type=osf\n+  need_version=no\n   soname_spec='${libname}${release}.so'\n   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so $libname.so'\n   shlibpath_var=LD_LIBRARY_PATH\n-  # deplibs_check_method='pass_all'\n-  # Although pass_all appears to work, it copies symbols from static libraries\n-  # into shared ones and exports them.  So, when a program is linked with two\n-  # or more libraries that have got copies of the same symbols, link fails\n-  # This was only tested on osf4:\n+  # this will be overridden with pass_all, but let us keep it just in case\n   deplibs_check_method='file_magic COFF format alpha shared library'\n   file_magic_cmd=/usr/bin/file\n   file_magic_test_file=/shlib/libc.so\n+  deplibs_check_method='pass_all'\n   sys_lib_search_path_spec=\"/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib\"\n   sys_lib_dlsearch_path_spec=\"$sys_lib_search_path_spec\"\n   ;;\n@@ -1857,7 +2081,7 @@ sunos4*)\n   need_version=yes\n   ;;\n \n-sysv4.2uw2* | sysv4.3* | sysv5*)\n+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n   version_type=linux\n   library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n   soname_spec='${libname}${release}.so$major'\n@@ -1866,6 +2090,15 @@ sysv4.2uw2* | sysv4.3* | sysv5*)\n     ncr)\n       deplibs_check_method='pass_all'\n       ;;\n+    motorola)\n+      need_lib_prefix=no\n+      need_version=no\n+      shlibpath_overrides_runpath=no\n+      sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'\n+      deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n+      file_magic_cmd=/usr/bin/file\n+      file_magic_test_file=`echo /usr/lib/libc.so*`\n+      ;;\n   esac\n   ;;\n \n@@ -1885,6 +2118,21 @@ dgux*)\n   shlibpath_var=LD_LIBRARY_PATH\n   ;;\n \n+sysv4*MP*)\n+  if test -d /usr/nec ;then\n+    version_type=linux\n+    library_names_spec='$libname.so.$versuffix $libname.so.$major $libname.so'\n+    soname_spec='$libname.so.$major'\n+    shlibpath_var=LD_LIBRARY_PATH\n+  elif test -d /usr/dde ;then\n+    dynamic_linker=\"/usr/lib/libc.so.1\"\n+    version_type=osf\n+    library_names_spec='${libname}${release}.so$versuffix ${libname}${release}.so$major $libname.so'\n+    soname_spec='${libname}${release}.so$major'\n+    shlibpath_var=LD_LIBRARY_PATH\n+  fi\n+  ;;\n+\n *)\n   dynamic_linker=no\n   ;;\n@@ -1895,6 +2143,17 @@ test \"$dynamic_linker\" = no && can_build_shared=no\n # Report the final consequences.\n echo \"checking if libtool supports shared libraries... $can_build_shared\" 1>&6\n \n+# Only try to build win32 dlls if AC_LIBTOOL_WIN32_DLL was used in\n+# configure.in, otherwise build static only libraries.\n+case \"$host_os\" in\n+cygwin* | mingw* | os2*)\n+  if test x$can_build_shared = xyes; then\n+    test x$enable_win32_dll = xno && can_build_shared=no\n+    echo \"checking if package supports dlls... $can_build_shared\" 1>&6\n+  fi\n+;;\n+esac\n+\n if test -n \"$file_magic_test_file\" && test -n \"$file_magic_cmd\"; then\n   case \"$deplibs_check_method\" in\n   \"file_magic \"*)\n@@ -1973,108 +2232,116 @@ if test \"x$enable_dlopen\" != xyes; then\n else\n if eval \"test \\\"`echo '$''{'lt_cv_dlopen'+set}'`\\\" != set\"; then\n   lt_cv_dlopen=no lt_cv_dlopen_libs=\n-echo $ac_n \"checking for dlopen\"\"... $ac_c\" 1>&6\n-echo \"$progname:1977: checking for dlopen\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_dlopen'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n+echo \"$progname:2212: checking for dlopen in -ldl\" >&5\n+ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n+if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  cat > conftest.$ac_ext <<EOF\n-#line 1982 \"ltconfig\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char dlopen(); below.  */\n-#include <assert.h>\n+  ac_save_LIBS=\"$LIBS\"\n+LIBS=\"-ldl  $LIBS\"\n+cat > conftest.$ac_ext <<EOF\n+#line 2220 \"ltconfig\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n char dlopen();\n \n int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_dlopen) || defined (__stub___dlopen)\n-choke me\n-#else\n-dlopen();\n-#endif\n-\n+dlopen()\n ; return 0; }\n EOF\n-if { (eval echo $progname:2004: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo $progname:2233: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n-  eval \"ac_cv_func_dlopen=yes\"\n+  eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n   echo \"$progname: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"ac_cv_func_dlopen=no\"\n+  eval \"ac_cv_lib_$ac_lib_var=no\"\n fi\n rm -f conftest*\n-fi\n+LIBS=\"$ac_save_LIBS\"\n \n-if eval \"test \\\"`echo '$ac_cv_func_'dlopen`\\\" = yes\"; then\n+fi\n+if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  lt_cv_dlopen=\"dlopen\"\n+  lt_cv_dlopen=\"dlopen\" lt_cv_dlopen_libs=\"-ldl\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n-echo $ac_n \"checking for dlopen in -ldl\"\"... $ac_c\" 1>&6\n-echo \"$progname:2022: checking for dlopen in -ldl\" >&5\n-ac_lib_var=`echo dl'_'dlopen | sed 'y%./+-%__p_%'`\n-if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for dlopen\"\"... $ac_c\" 1>&6\n+echo \"$progname:2252: checking for dlopen\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_dlopen'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  ac_save_LIBS=\"$LIBS\"\n-LIBS=\"-ldl  $LIBS\"\n-cat > conftest.$ac_ext <<EOF\n-#line 2030 \"ltconfig\"\n+  cat > conftest.$ac_ext <<EOF\n+#line 2257 \"ltconfig\"\n+/* System header to define __stub macros and hopefully few prototypes,\n+    which can conflict with char dlopen(); below.  */\n+#include <assert.h>\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n char dlopen();\n \n int main() {\n-dlopen()\n+\n+/* The GNU C library defines this for functions which it implements\n+    to always fail with ENOSYS.  Some functions are actually named\n+    something starting with __ and the normal name is an alias.  */\n+#if defined (__stub_dlopen) || defined (__stub___dlopen)\n+choke me\n+#else\n+dlopen();\n+#endif\n+\n ; return 0; }\n EOF\n-if { (eval echo $progname:2040: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo $progname:2282: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n-  eval \"ac_cv_lib_$ac_lib_var=yes\"\n+  eval \"ac_cv_func_dlopen=yes\"\n else\n   echo \"$progname: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"ac_cv_lib_$ac_lib_var=no\"\n+  eval \"ac_cv_func_dlopen=no\"\n fi\n rm -f conftest*\n-LIBS=\"$ac_save_LIBS\"\n-\n fi\n-if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n+if eval \"test \\\"`echo '$ac_cv_func_'dlopen`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  lt_cv_dlopen=\"dlopen\" lt_cv_dlopen_libs=\"-ldl\"\n+  lt_cv_dlopen=\"dlopen\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for dld_link in -ldld\"\"... $ac_c\" 1>&6\n-echo \"$progname:2059: checking for dld_link in -ldld\" >&5\n+echo \"$progname:2299: checking for dld_link in -ldld\" >&5\n ac_lib_var=`echo dld'_'dld_link | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-ldld  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 2067 \"ltconfig\"\n+#line 2307 \"ltconfig\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n char dld_link();\n \n int main() {\n dld_link()\n ; return 0; }\n EOF\n-if { (eval echo $progname:2077: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo $progname:2320: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -2093,18 +2360,21 @@ if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for shl_load\"\"... $ac_c\" 1>&6\n-echo \"$progname:2096: checking for shl_load\" >&5\n+echo \"$progname:2339: checking for shl_load\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_shl_load'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2101 \"ltconfig\"\n+#line 2344 \"ltconfig\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char shl_load(); below.  */\n #include <assert.h>\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n+#ifdef __cplusplus\n+extern \"C\"\n+#endif\n char shl_load();\n \n int main() {\n@@ -2120,7 +2390,7 @@ shl_load();\n \n ; return 0; }\n EOF\n-if { (eval echo $progname:2123: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo $progname:2369: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_shl_load=yes\"\n else\n@@ -2137,54 +2407,50 @@ if eval \"test \\\"`echo '$ac_cv_func_'shl_load`\\\" = yes\"; then\n   lt_cv_dlopen=\"shl_load\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n-echo $ac_n \"checking for LoadLibrary\"\"... $ac_c\" 1>&6\n-echo \"$progname:2141: checking for LoadLibrary\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_LoadLibrary'+set}'`\\\" = set\"; then\n+echo $ac_n \"checking for shl_load in -ldld\"\"... $ac_c\" 1>&6\n+echo \"$progname:2387: checking for shl_load in -ldld\" >&5\n+ac_lib_var=`echo dld'_'shl_load | sed 'y%./+-%__p_%'`\n+if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  cat > conftest.$ac_ext <<EOF\n-#line 2146 \"ltconfig\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char LoadLibrary(); below.  */\n-#include <assert.h>\n+  ac_save_LIBS=\"$LIBS\"\n+LIBS=\"-ldld  $LIBS\"\n+cat > conftest.$ac_ext <<EOF\n+#line 2395 \"ltconfig\"\n+#include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n-char LoadLibrary();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_LoadLibrary) || defined (__stub___LoadLibrary)\n-choke me\n-#else\n-LoadLibrary();\n+#ifdef __cplusplus\n+extern \"C\"\n #endif\n+char shl_load();\n \n+int main() {\n+shl_load()\n ; return 0; }\n EOF\n-if { (eval echo $progname:2168: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo $progname:2409: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n-  eval \"ac_cv_func_LoadLibrary=yes\"\n+  eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n   echo \"$progname: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"ac_cv_func_LoadLibrary=no\"\n+  eval \"ac_cv_lib_$ac_lib_var=no\"\n fi\n rm -f conftest*\n-fi\n+LIBS=\"$ac_save_LIBS\"\n \n-if eval \"test \\\"`echo '$ac_cv_func_'LoadLibrary`\\\" = yes\"; then\n+fi\n+if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n-  lt_cv_dlopen=\"LoadLibrary\"\n+  lt_cv_dlopen=\"shl_load\" lt_cv_dlopen_libs=\"-ldld\"\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-      \n+\n fi\n \n     \n@@ -2207,17 +2473,17 @@ fi\n for ac_hdr in dlfcn.h; do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"$progname:2210: checking for $ac_hdr\" >&5\n+echo \"$progname:2452: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2215 \"ltconfig\"\n+#line 2457 \"ltconfig\"\n #include <$ac_hdr>\n int fnord = 0;\n EOF\n-ac_try=\"$ac_compile conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo $progname:2220: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+ac_try=\"$ac_compile >/dev/null 2>conftest.out\"\n+{ (eval echo $progname:2462: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2245,15 +2511,15 @@ done\n     LIBS=\"$lt_cv_dlopen_libs $LIBS\"\n \n   echo $ac_n \"checking whether a program can dlopen itself\"\"... $ac_c\" 1>&6\n-echo \"$progname:2248: checking whether a program can dlopen itself\" >&5\n+echo \"$progname:2490: checking whether a program can dlopen itself\" >&5\n if test \"${lt_cv_dlopen_self+set}\" = set; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     lt_cv_dlopen_self=cross\n   else\n     cat > conftest.c <<EOF\n-#line 2256 \"ltconfig\"\n+#line 2498 \"ltconfig\"\n \n #if HAVE_DLFCN_H\n #include <dlfcn.h>\n@@ -2296,10 +2562,10 @@ else\n fnord() { int i=42;}\n main() { void *self, *ptr1, *ptr2; self=dlopen(0,LTDL_GLOBAL|LTDL_LAZY_OR_NOW);\n     if(self) { ptr1=dlsym(self,\"fnord\"); ptr2=dlsym(self,\"_fnord\");\n-\t       if(ptr1 || ptr2) exit(0); } exit(1); } \n+\t       if(ptr1 || ptr2) { dlclose(self); exit(0); } } exit(1); } \n \n EOF\n-if { (eval echo $progname:2302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo $progname:2544: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   lt_cv_dlopen_self=yes\n else\n@@ -2318,15 +2584,15 @@ echo \"$ac_t\"\"$lt_cv_dlopen_self\" 1>&6\n   if test \"$lt_cv_dlopen_self\" = yes; then\n     LDFLAGS=\"$LDFLAGS $link_static_flag\"\n   echo $ac_n \"checking whether a statically linked program can dlopen itself\"\"... $ac_c\" 1>&6\n-echo \"$progname:2321: checking whether a statically linked program can dlopen itself\" >&5\n+echo \"$progname:2563: checking whether a statically linked program can dlopen itself\" >&5\n if test \"${lt_cv_dlopen_self_static+set}\" = set; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n     lt_cv_dlopen_self_static=cross\n   else\n     cat > conftest.c <<EOF\n-#line 2329 \"ltconfig\"\n+#line 2571 \"ltconfig\"\n \n #if HAVE_DLFCN_H\n #include <dlfcn.h>\n@@ -2369,10 +2635,10 @@ else\n fnord() { int i=42;}\n main() { void *self, *ptr1, *ptr2; self=dlopen(0,LTDL_GLOBAL|LTDL_LAZY_OR_NOW);\n     if(self) { ptr1=dlsym(self,\"fnord\"); ptr2=dlsym(self,\"_fnord\");\n-    if(ptr1 || ptr2) exit(0); } exit(1); } \n+    if(ptr1 || ptr2) { dlclose(self); exit(0); } } exit(1); } \n \n EOF\n-if { (eval echo $progname:2375: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo $progname:2617: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   lt_cv_dlopen_self_static=yes\n else\n@@ -2416,8 +2682,10 @@ LTCONFIG_VERSION=\"$VERSION\"\n case \"$ltmain\" in\n *.sh)\n   # Now quote all the things that may contain metacharacters.\n-  for var in ltecho old_CC old_CFLAGS old_CPPFLAGS old_LD old_NM old_RANLIB \\\n-    old_LN_S old_DLLTOOL old_AS AR CC LD LN_S NM LTSHELL LTCONFIG_VERSION \\\n+  for var in ltecho old_CC old_CFLAGS old_CPPFLAGS \\\n+    old_LD old_LDFLAGS old_LIBS \\\n+    old_NM old_RANLIB old_LN_S old_DLLTOOL old_OBJDUMP old_AS \\\n+    AR CC LD LN_S NM LTSHELL LTCONFIG_VERSION \\\n     reload_flag reload_cmds wl \\\n     pic_flag link_static_flag no_builtin_flag export_dynamic_flag_spec \\\n     thread_safe_flag_spec whole_archive_flag_spec libname_spec \\\n@@ -2462,7 +2730,7 @@ case \"$ltmain\" in\n # NOTE: Changes made to this file will be lost: look at ltconfig or ltmain.sh.\n #\n # Copyright (C) 1996-1999 Free Software Foundation, Inc.\n-# Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+# Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n #\n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -2488,7 +2756,7 @@ Xsed=\"sed -e s/^X//\"\n \n # The HP-UX ksh and POSIX shell print the target directory to stdout\n # if CDPATH is set.\n-if test \"\\${CDPATH+set}\" = set; then CDPATH=; export CDPATH; fi\n+if test \"X\\${CDPATH+set}\" = Xset; then CDPATH=:; export CDPATH; fi\n \n ### BEGIN LIBTOOL CONFIG\n EOF\n@@ -2497,8 +2765,9 @@ EOF\n \n *)\n   # Double-quote the variables that need it (for aesthetics).\n-  for var in old_CC old_CFLAGS old_CPPFLAGS old_LD old_NM old_RANLIB \\\n-    old_LN_S old_DLLTOOL old_AS; do\n+  for var in old_CC old_CFLAGS old_CPPFLAGS \\\n+    old_LD old_LDFLAGS old_LIBS \\\n+    old_NM old_RANLIB old_LN_S old_DLLTOOL old_OBJDUMP old_AS; do\n     eval \"$var=\\\\\\\"\\$var\\\\\\\"\"\n   done\n \n@@ -2518,8 +2787,9 @@ cat <<EOF >> \"$cfgfile\"\n # Libtool was configured as follows, on host `(hostname || uname -n) 2>/dev/null | sed 1q`:\n #\n # CC=$old_CC CFLAGS=$old_CFLAGS CPPFLAGS=$old_CPPFLAGS \\\\\n-# LD=$old_LD NM=$old_NM RANLIB=$old_RANLIB LN_S=$old_LN_S \\\\\n-# DLLTOOL=\"$old_DLLTOOL\" AS=\"$old_AS\" \\\\\n+# LD=$old_LD LDFLAGS=$old_LDFLAGS LIBS=$old_LIBS \\\\\n+# NM=$old_NM RANLIB=$old_RANLIB LN_S=$old_LN_S \\\\\n+# DLLTOOL=$old_DLLTOOL OBJDUMP=$old_OBJDUMP AS=$old_AS \\\\\n #   $0$ltconfig_args\n #\n # Compiler and other test output produced by $progname, useful for\n@@ -2565,6 +2835,9 @@ NM=$NM\n # Used on cygwin: DLL creation program.\n DLLTOOL=\"$DLLTOOL\"\n \n+# Used on cygwin: object dumper.\n+OBJDUMP=\"$OBJDUMP\"\n+\n # Used on cygwin: assembler.\n AS=\"$AS\"\n \n@@ -2584,10 +2857,13 @@ objext=\"$objext\"\n # Old archive suffix (normally \"a\").\n libext=\"$libext\"\n \n+# Executable file suffix (normally \"\").\n+exeext=\"$exeext\"\n+\n # Additional compiler flags for building library objects.\n pic_flag=$pic_flag\n \n-# Does compiler simultaneously support -c and -o options\n+# Does compiler simultaneously support -c and -o options?\n compiler_c_o=$compiler_c_o\n \n # Can we write directly to a .lo ?\n@@ -2657,7 +2933,7 @@ postuninstall_cmds=$postuninstall_cmds\n # Method to check whether dependent libraries are shared objects.\n deplibs_check_method=$deplibs_check_method\n \n-# Command to use when deplibs_check_method == file_magic\n+# Command to use when deplibs_check_method == file_magic.\n file_magic_cmd=$file_magic_cmd\n \n # Flag that allows shared libraries with undefined symbols to be built.\n@@ -2718,16 +2994,16 @@ sys_lib_dlsearch_path_spec=$sys_lib_dlsearch_path_spec\n # Fix the shell variable \\$srcfile for the compiler.\n fix_srcfile_path=\"$fix_srcfile_path\"\n \n-# Set to yes if exported symbols are required\n+# Set to yes if exported symbols are required.\n always_export_symbols=$always_export_symbols\n \n-# The command to extract exported symbols\n+# The commands to list exported symbols.\n export_symbols_cmds=$export_symbols_cmds\n \n-# Symbols that should not be listed in the preloaded symbols\n+# Symbols that should not be listed in the preloaded symbols.\n exclude_expsyms=$exclude_expsyms\n \n-# Symbols that must always be exported\n+# Symbols that must always be exported.\n include_expsyms=$include_expsyms\n \n EOF\n@@ -2743,7 +3019,7 @@ case \"$ltmain\" in\n # AIX sometimes has problems with the GCC collect2 program.  For some\n # reason, if we set the COLLECT_NAMES environment variable, the problems\n # vanish in a puff of smoke.\n-if test \"${COLLECT_NAMES+set}\" != set; then\n+if test \"X${COLLECT_NAMES+set}\" != Xset; then\n   COLLECT_NAMES=\n   export COLLECT_NAMES\n fi\n@@ -2752,7 +3028,11 @@ EOF\n   esac\n \n   # Append the ltmain.sh script.\n-  cat \"$ltmain\" >> \"$ofile\" || (rm -f \"$ofile\"; exit 1)\n+  sed '$q' \"$ltmain\" >> \"$ofile\" || (rm -f \"$ofile\"; exit 1)\n+  # We use sed instead of cat because bash on DJGPP gets confused if\n+  # if finds mixed CR/LF and LF-only lines.  Since sed operates in\n+  # text mode, it properly converts lines to CR/LF.  This bash problem\n+  # is reportedly fixed, but why not run on old versions too?\n \n   chmod +x \"$ofile\"\n   ;;"}, {"sha": "a171502c77f33262f5751449730986ad2beb55a3", "filename": "ltmain.sh", "status": "modified", "additions": 505, "deletions": 247, "changes": 752, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/ltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/ltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ltmain.sh?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -1,8 +1,8 @@\n # ltmain.sh - Provide generalized library-building support services.\n # NOTE: Changing this file will not affect anything until you rerun ltconfig.\n #\n-# Copyright (C) 1996-1999 Free Software Foundation, Inc.\n-# Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+# Copyright (C) 1996-1999, 2000 Free Software Foundation, Inc.\n+# Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n #\n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -28,12 +28,8 @@ if test \"X$1\" = X--no-reexec; then\n   # Discard the --no-reexec flag, and continue.\n   shift\n elif test \"X$1\" = X--fallback-echo; then\n-  # used as fallback echo\n-  shift\n-  cat <<EOF\n-$*\n-EOF\n-  exit 0\n+  # Avoid inline document here, it may be left over\n+  :\n elif test \"X`($echo '\\t') 2>/dev/null`\" = 'X\\t'; then\n   # Yippee, $echo works!\n   :\n@@ -42,15 +38,24 @@ else\n   exec $SHELL \"$0\" --no-reexec ${1+\"$@\"}\n fi\n \n+if test \"X$1\" = X--fallback-echo; then\n+  # used as fallback echo\n+  shift\n+  cat <<EOF\n+$*\n+EOF\n+  exit 0\n+fi\n+\n # The name of this program.\n progname=`$echo \"$0\" | sed 's%^.*/%%'`\n modename=\"$progname\"\n \n # Constants.\n PROGRAM=ltmain.sh\n PACKAGE=libtool\n-VERSION=1.2f\n-TIMESTAMP=\" (1.385 1999/03/15 17:24:54)\"\n+VERSION=1.3.4\n+TIMESTAMP=\" (1.385.2.196 1999/12/07 21:47:57)\"\n \n default_mode=\n help=\"Try \\`$progname --help' for more information.\"\n@@ -64,7 +69,7 @@ rm=\"rm -f\"\n Xsed='sed -e 1s/^X//'\n sed_quote_subst='s/\\([\\\\`\\\\\"$\\\\\\\\]\\)/\\\\\\1/g'\n SP2NL='tr \\040 \\012'\n-NL2SP='tr \\012 \\040'\n+NL2SP='tr \\015\\012 \\040\\040'\n \n # NLS nuisances.\n # Only set LANG and LC_ALL to C if already set.\n@@ -100,6 +105,7 @@ show=\"$echo\"\n show_help=\n execute_dlfiles=\n lo2o=\"s/\\\\.lo\\$/.${objext}/\"\n+o2lo=\"s/\\\\.${objext}\\$/.lo/\"\n \n # Parse our command line options once, thoroughly.\n while test $# -gt 0\n@@ -429,7 +435,13 @@ compiler.\"\n       fbsd_hideous_sh_bug=$base_compile\n \n       # All platforms use -DPIC, to notify preprocessed assembler code.\n-      command=\"$base_compile $pic_flag -DPIC $srcfile\"\n+      # However, make sure we only set it for non-Java code.\n+      case \"$srcfile\" in\n+\t*.java|*.class)\n+\t  command=\"$base_compile $pic_flag $srcfile\";;\n+\t*)\n+\t  command=\"$base_compile $srcfile $pic_flag -DPIC\";;\n+      esac\n       if test \"$build_old_libs\" = yes; then\n \tlo_libobj=\"$libobj\"\n \tdir=`$echo \"X$libobj\" | $Xsed -e 's%/[^/]*$%%'`\n@@ -460,6 +472,7 @@ compiler.\"\n \tcommand=\"$command -o $output_obj\"\n       fi\n \n+      $run $rm \"$output_obj\"\n       $show \"$command\"\n       if $run eval \"$command\"; then :\n       else\n@@ -514,9 +527,17 @@ compiler.\"\n \t  exit $error\n \tfi\n \n+\txdir=`$echo \"X$obj\" | $Xsed -e 's%/[^/]*$%%'`\n+\tif test \"X$xdir\" = \"X$obj\"; then\n+\t  xdir=\".\"\n+\telse\n+\t  xdir=\"$xdir\"\n+\tfi\n+\tbaseobj=`$echo \"X$obj\" | $Xsed -e \"s%.*/%%\"`\n+\tlibobj=`$echo \"X$baseobj\" | $Xsed -e \"$o2lo\"`\n \t# Now arrange that obj and lo_libobj become the same file\n-\t$show \"$LN_S $obj $lo_libobj\"\n-\tif $run $LN_S $obj $lo_libobj; then\n+\t$show \"(cd $xdir && $LN_S $baseobj $libobj)\"\n+\tif $run eval '(cd $xdir && $LN_S $baseobj $libobj)'; then\n \t  exit 0\n \telse\n \t  error=$?\n@@ -539,6 +560,7 @@ compiler.\"\n \n       # Suppress compiler output if we already did a PIC compilation.\n       command=\"$command$suppress_output\"\n+      $run $rm \"$output_obj\"\n       $show \"$command\"\n       if $run eval \"$command\"; then :\n       else\n@@ -606,7 +628,19 @@ compiler.\"\n   link)\n     modename=\"$modename: link\"\n     C_compiler=\"$CC\" # save it, to compile generated C sources\n+    # Always respect the CC configured in by ltconfig.\n     CC=\"$nonopt\"\n+    # CYGNUS LOCAL: tromey/java\n+    # Add -B options to link line.\n+    for arg\n+    do\n+       case \"$arg\" in\n+\t-B*)\n+\t   CC=\"$CC $arg\"\n+\t   ;;\n+       esac\n+    done\n+    # END CYGNUS LOCAL\n     case \"$host\" in\n     *-*-cygwin* | *-*-mingw* | *-*-os2*)\n       # It is impossible to link a dll without this setting, and\n@@ -630,10 +664,24 @@ compiler.\"\n # #undef WIN32_LEAN_AND_MEAN\n # #include <stdio.h>\n #\n+# #ifndef __CYGWIN__\n+# #  ifdef __CYGWIN32__\n+# #    define __CYGWIN__ __CYGWIN32__\n+# #  endif\n+# #endif\n+#\n+# #ifdef __cplusplus\n+# extern \"C\" {\n+# #endif\n # BOOL APIENTRY DllMain (HINSTANCE hInst, DWORD reason, LPVOID reserved);\n+# #ifdef __cplusplus\n+# }\n+# #endif\n #\n+# #ifdef __CYGWIN__\n # #include <cygwin/cygwin_dll.h>\n # DECLARE_CYGWIN_DLL( DllMain );\n+# #endif\n # HINSTANCE __hDllInstance_base;\n #\n # BOOL APIENTRY\n@@ -780,8 +828,8 @@ compiler.\"\n       allow_undefined=yes\n       ;;\n     esac\n-    compile_command=\"$CC\"\n-    finalize_command=\"$CC\"\n+    compile_command=\"$nonopt\"\n+    finalize_command=\"$nonopt\"\n \n     compile_rpath=\n     finalize_rpath=\n@@ -815,6 +863,7 @@ compiler.\"\n     ltlibs=\n     module=no\n     objs=\n+    prefer_static_libs=no\n     preload=no\n     prev=\n     prevarg=\n@@ -831,11 +880,21 @@ compiler.\"\n     do\n       case \"$arg\" in\n       -all-static | -static)\n-\tif test \"X$arg\" = \"X-all-static\" && test \"$build_libtool_libs\" = yes && test -z \"$link_static_flag\"; then\n+\tif test \"X$arg\" = \"X-all-static\"; then\n+\t  if test \"$build_libtool_libs\" = yes && test -z \"$link_static_flag\"; then\n \t    $echo \"$modename: warning: complete static linking is impossible in this configuration\" 1>&2\n+\t  fi\n+\t  if test -n \"$link_static_flag\"; then\n+\t    dlopen_self=$dlopen_self_static\n+\t  fi\n+\telse\n+\t  if test -z \"$pic_flag\" && test -n \"$link_static_flag\"; then\n+\t    dlopen_self=$dlopen_self_static\n+\t  fi\n \tfi\n \tbuild_libtool_libs=no\n \tbuild_old_libs=yes\n+\tprefer_static_libs=yes\n \tbreak\n \t;;\n       esac\n@@ -868,18 +927,32 @@ compiler.\"\n \t  fi\n \t  case \"$arg\" in\n \t  *.la | *.lo) ;;  # We handle these cases below.\n+\t  force)\n+\t    if test \"$dlself\" = no; then\n+\t      dlself=needless\n+\t      export_dynamic=yes\n+\t    fi\n+\t    prev=\n+\t    continue\n+\t    ;;\n \t  self)\n \t    if test \"$prev\" = dlprefiles; then\n \t      dlself=yes\n \t    elif test \"$prev\" = dlfiles && test \"$dlopen_self\" != yes; then\n \t      dlself=yes\n+\t    else\n+\t      dlself=needless\n+\t      export_dynamic=yes\n \t    fi\n \t    prev=\n \t    continue\n \t    ;;\n \t  *)\n-\t    dlprefiles=\"$dlprefiles $arg\"\n-\t    test \"$prev\" = dlfiles && dlfiles=\"$dlfiles $arg\"\n+\t    if test \"$prev\" = dlfiles; then\n+\t      dlfiles=\"$dlfiles $arg\"\n+\t    else\n+\t      dlprefiles=\"$dlprefiles $arg\"\n+\t    fi\n \t    prev=\n \t    ;;\n \t  esac\n@@ -903,13 +976,26 @@ compiler.\"\n \t  prev=\n \t  continue\n \t  ;;\n-\trpath)\n-\t  rpath=\"$rpath $arg\"\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\txrpath)\n-\t  xrpath=\"$xrpath $arg\"\n+\trpath | xrpath)\n+\t  # We need an absolute path.\n+\t  case \"$arg\" in\n+\t  [\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n+\t  *)\n+\t    $echo \"$modename: only absolute run-paths are allowed\" 1>&2\n+\t    exit 1\n+\t    ;;\n+\t  esac\n+\t  if test \"$prev\" = rpath; then\n+\t    case \"$rpath \" in\n+\t    *\" $arg \"*) ;;\n+\t    *) rpath=\"$rpath $arg\" ;;\n+\t    esac\n+\t  else\n+\t    case \"$xrpath \" in\n+\t    *\" $arg \"*) ;;\n+\t    *) xrpath=\"$xrpath $arg\" ;;\n+\t    esac\n+\t  fi\n \t  prev=\n \t  continue\n \t  ;;\n@@ -928,7 +1014,6 @@ compiler.\"\n \tif test -n \"$link_static_flag\"; then\n \t  compile_command=\"$compile_command $link_static_flag\"\n \t  finalize_command=\"$finalize_command $link_static_flag\"\n-\t  dlopen_self=$dlopen_self_static\n \tfi\n \tcontinue\n \t;;\n@@ -955,22 +1040,16 @@ compiler.\"\n \t;;\n \n       -export-dynamic)\n-\tif test \"$export_dynamic\" != yes; then\n-\t  export_dynamic=yes\n-\t  if test -n \"$export_dynamic_flag_spec\"; then\n-\t    eval arg=\\\"$export_dynamic_flag_spec\\\"\n-\t  else\n-\t    arg=\n-\t  fi\n-\tfi\n+\texport_dynamic=yes\n+\tcontinue\n \t;;\n \n       -export-symbols | -export-symbols-regex)\n \tif test -n \"$export_symbols\" || test -n \"$export_symbols_regex\"; then\n-\t  $echo \"$modename: cannot have more than one -exported-symbols\"\n+\t  $echo \"$modename: not more than one -exported-symbols argument allowed\"\n \t  exit 1\n \tfi\n-\tif test \"$arg\" = \"-export-symbols\"; then\n+\tif test \"X$arg\" = \"X-export-symbols\"; then\n \t  prev=expsyms\n \telse\n \t  prev=expsyms_regex\n@@ -979,14 +1058,18 @@ compiler.\"\n \t;;\n \n       -L*)\n-\tdir=`$echo \"X$arg\" | $Xsed -e 's%^-L\\(.*\\)$%\\1%'`\n+\tdir=`$echo \"X$arg\" | $Xsed -e 's/^-L//'`\n+\t# We need an absolute path.\n \tcase \"$dir\" in\n-\t/* | [A-Za-z]:[/\\\\]*)\n-\t  # Add the corresponding hardcode_libdir_flag, if it is not identical.\n-\t  ;;\n+\t[\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n \t*)\n-\t  $echo \"$modename: \\`-L$dir' cannot specify a relative directory\" 1>&2\n-\t  exit 1\n+\t  absdir=`cd \"$dir\" && pwd`\n+\t  if test -z \"$absdir\"; then\n+\t    $echo \"$modename: warning: cannot determine absolute directory name of \\`$dir'\" 1>&2\n+\t    $echo \"$modename: passing it literally to the linker, although it might fail\" 1>&2\n+\t    absdir=\"$dir\"\n+\t  fi\n+\t  dir=\"$absdir\"\n \t  ;;\n \tesac\n \tcase \" $deplibs \" in\n@@ -1010,20 +1093,29 @@ compiler.\"\n \t;;\n \n       -l*)\n+\tif test \"$arg\" = \"-lc\"; then\n+\t  case \"$host\" in\n+\t  *-*-cygwin* | *-*-mingw* | *-*-os2* | *-*-beos*)\n+\t    # These systems don't actually have c library (as such)\n+\t    continue\n+\t    ;;\n+\t  esac\n+\telif test \"$arg\" = \"-lm\"; then\n+\t  case \"$host\" in\n+\t  *-*-cygwin* | *-*-beos*)\n+\t    # These systems don't actually have math library (as such)\n+\t    continue\n+\t    ;;\n+\t  esac\n+\tfi\n \tdeplibs=\"$deplibs $arg\"\n \t;;\n \n       -module)\n-\tif test \"$module\" != yes; then\n-\t  module=yes\n-\t  if test -n \"$export_dynamic_flag_spec\"; then\n-\t    eval arg=\\\"$export_dynamic_flag_spec\\\"\n-\t  else\n-\t    arg=\n-\t  fi\n-\tfi\n+\tmodule=yes\n+\tcontinue\n \t;;\n-\t\n+\n       -no-undefined)\n \tallow_undefined=no\n \tcontinue\n@@ -1047,7 +1139,19 @@ compiler.\"\n \t;;\n \n       -R*)\n-\txrpath=\"$xrpath \"`$echo \"X$arg\" | $Xsed -e 's/^-R//'`\n+\tdir=`$echo \"X$arg\" | $Xsed -e 's/^-R//'`\n+\t# We need an absolute path.\n+\tcase \"$dir\" in\n+\t[\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n+\t*)\n+\t  $echo \"$modename: only absolute run-paths are allowed\" 1>&2\n+\t  exit 1\n+\t  ;;\n+\tesac\n+\tcase \"$xrpath \" in\n+\t*\" $dir \"*) ;;\n+\t*) xrpath=\"$xrpath $dir\" ;;\n+\tesac\n \tcontinue\n \t;;\n \n@@ -1056,7 +1160,6 @@ compiler.\"\n \tif test -z \"$pic_flag\" && test -n \"$link_static_flag\"; then\n \t  compile_command=\"$compile_command $link_static_flag\"\n \t  finalize_command=\"$finalize_command $link_static_flag\"\n-\t  dlopen_self=$dlopen_self_static\n \tfi\n \tcontinue\n \t;;\n@@ -1128,6 +1231,7 @@ compiler.\"\n \t# it will not redefine variable installed.\n \tinstalled=yes\n \n+\t# Read the .la file\n \t# If there is no directory component, then add one.\n \tcase \"$arg\" in\n \t*/* | *\\\\*) . $arg ;;\n@@ -1160,7 +1264,7 @@ compiler.\"\n \tfi\n \n \tif test -n \"$dependency_libs\"; then\n-\t  # Extract -R from dependency_libs\n+\t  # Extract -R and -L from dependency_libs\n \t  temp_deplibs=\n \t  for deplib in $dependency_libs; do\n \t    case \"$deplib\" in\n@@ -1172,7 +1276,13 @@ compiler.\"\n \t    -L*) case \"$compile_command $temp_deplibs \" in\n \t\t *\" $deplib \"*) ;;\n \t\t *) temp_deplibs=\"$temp_deplibs $deplib\";;\n-\t\t esac;;\n+\t\t esac\n+\t\t temp_dir=`$echo \"X$deplib\" | $Xsed -e 's/^-L//'`\n+\t\t case \" $lib_search_path \" in\n+\t\t *\" $temp_dir \"*) ;;\n+\t\t *) lib_search_path=\"$lib_search_path $temp_dir\";;\n+\t\t esac\n+\t\t ;;\n \t    *) temp_deplibs=\"$temp_deplibs $deplib\";;\n \t    esac\n \t  done\n@@ -1218,7 +1328,8 @@ compiler.\"\n \t  prev=\n \tfi\n \n-\tif test \"$build_libtool_libs\" = yes && test -n \"$library_names\"; then\n+\tif test -n \"$library_names\" &&\n+\t   { test \"$prefer_static_libs\" = no || test -z \"$old_library\"; }; then\n \t  link_against_libtool_libs=\"$link_against_libtool_libs $arg\"\n \t  if test -n \"$shlibpath_var\"; then\n \t    # Make sure the rpath contains only unique directories.\n@@ -1230,12 +1341,13 @@ compiler.\"\n \n \t  # We need an absolute path.\n \t  case \"$dir\" in\n-\t  /* | [A-Za-z]:[/\\\\]*) absdir=\"$dir\" ;;\n+\t  [\\\\/] | [A-Za-z]:[\\\\/]*) absdir=\"$dir\" ;;\n \t  *)\n \t    absdir=`cd \"$dir\" && pwd`\n \t    if test -z \"$absdir\"; then\n-\t      $echo \"$modename: cannot determine absolute directory name of \\`$libdir'\" 1>&2\n-\t      exit 1\n+\t      $echo \"$modename: warning: cannot determine absolute directory name of \\`$dir'\" 1>&2\n+\t      $echo \"$modename: passing it literally to the linker, although it might fail\" 1>&2\n+\t      absdir=\"$dir\"\n \t    fi\n \t    ;;\n \t  esac\n@@ -1244,24 +1356,24 @@ compiler.\"\n \t  # Skip directories that are in the system default run-time\n \t  # search path, unless they have been requested with -R.\n \t  case \" $sys_lib_dlsearch_path \" in\n- \t  *\" $absdir \"*) ;;\n+\t  *\" $absdir \"*) ;;\n \t  *)\n \t    case \"$compile_rpath \" in\n \t    *\" $absdir \"*) ;;\n \t    *) compile_rpath=\"$compile_rpath $absdir\" \n \t    esac\n \t    ;;\n- \t  esac\n+\t  esac\n \n \t  case \" $sys_lib_dlsearch_path \" in\n- \t  *\" $libdir \"*) ;;\n+\t  *\" $libdir \"*) ;;\n \t  *)\n \t    case \"$finalize_rpath \" in\n \t    *\" $libdir \"*) ;;\n \t    *) finalize_rpath=\"$finalize_rpath $libdir\"\n \t    esac\n \t    ;;\n- \t  esac\n+\t  esac\n \n \t  lib_linked=yes\n \t  case \"$hardcode_action\" in\n@@ -1419,6 +1531,12 @@ compiler.\"\n       exit 1\n     fi\n \n+    if test \"$export_dynamic\" = yes && test -n \"$export_dynamic_flag_spec\"; then\n+      eval arg=\\\"$export_dynamic_flag_spec\\\"\n+      compile_command=\"$compile_command $arg\"\n+      finalize_command=\"$finalize_command $arg\"\n+    fi\n+\n     oldlibs=\n     # calculate the name of the file, without its directory\n     outputname=`$echo \"X$output\" | $Xsed -e 's%^.*/%%'`\n@@ -1441,7 +1559,7 @@ compiler.\"\n \t$echo \"$modename: warning: \\`-l' and \\`-L' are ignored for archives\" 1>&2\n       fi\n \n-      if test -n \"$dlfiles$dlprefiles\"; then\n+      if test -n \"$dlfiles$dlprefiles\" || test \"$dlself\" != no; then\n \t$echo \"$modename: warning: \\`-dlopen' is ignored for archives\" 1>&2\n       fi\n \n@@ -1461,7 +1579,7 @@ compiler.\"\n \t$echo \"$modename: warning: \\`-release' is ignored for archives\" 1>&2\n       fi\n \n-      if test -n \"$export_symbols\"; then\n+      if test -n \"$export_symbols\" || test -n \"$export_symbols_regex\"; then\n \t$echo \"$modename: warning: \\`-export-symbols' is ignored for archives\" 1>&2\n       fi\n \n@@ -1500,11 +1618,6 @@ compiler.\"\n \toutput_objdir=\"$output_objdir/$objdir\"\n       fi\n \n-      # All the library-specific variables (install_libdir is set above).\n-      library_names=\n-      old_library=\n-      dlname=\n-\n       if test -n \"$objs\"; then\n \t$echo \"$modename: cannot build libtool library \\`$output' from non-libtool objects:$objs\" 2>&1\n \texit 1\n@@ -1516,7 +1629,7 @@ compiler.\"\n \t exit 1\n       fi\n \n-      if test -n \"$dlfiles$dlprefiles\"; then\n+      if test -n \"$dlfiles$dlprefiles\" || test \"$dlself\" != no; then\n \t$echo \"$modename: warning: \\`-dlopen' is ignored for libtool libraries\" 1>&2\n       fi\n \n@@ -1699,7 +1812,7 @@ compiler.\"\n \n \tdependency_libs=\"$deplibs\"\n \tcase \"$host\" in\n-\t*-*-cygwin* | *-*-mingw* | *-*-os2*)\n+\t*-*-cygwin* | *-*-mingw* | *-*-os2* | *-*-beos*)\n \t  # these systems don't actually have a c library (as such)!\n \t  ;;\n \t*)\n@@ -1747,12 +1860,13 @@ compiler.\"\n \tdroppeddeps=no\n \tcase \"$deplibs_check_method\" in\n \tpass_all)\n+\t  # Don't check for shared/static.  Everything works.\n+\t  # This might be a little naive.  We might want to check\n+\t  # whether the library exists or not.  But this is on\n+\t  # osf3 & osf4 and I'm not really sure... Just\n+\t  # implementing what was already the behaviour.\n \t  newdeplibs=$deplibs\n-\t\t    ;; # Don't check for shared/static.  Everything works.\n-\t\t       # This might be a little naive.  We might want to check\n-\t\t       # whether the library exists or not.  But this is on\n-\t\t       # osf3 & osf4 and I'm not really sure... Just\n-\t\t       # implementing what was already the behaviour.\n+\t  ;;\n \ttest_compile)\n \t  # This code stresses the \"libraries are programs\" paradigm to its\n \t  # limits. Maybe even breaks it.  We compile a program, linking it\n@@ -1763,7 +1877,7 @@ compiler.\"\n \t  int main() { return 0; }\n EOF\n \t  $rm conftest\n-\t  $C_compiler -o conftest conftest.c $deplibs\n+\t  $CC -o conftest conftest.c $deplibs\n \t  if test $? -eq 0 ; then\n \t    ldd_output=`ldd conftest`\n \t    for i in $deplibs; do\n@@ -1796,24 +1910,24 @@ EOF\n \t     # If $name is empty we are operating on a -L argument.\n \t      if test \"$name\" != \"\" ; then\n \t\t$rm conftest\n-\t\t$C_compiler -o conftest conftest.c $i\n+\t\t$CC -o conftest conftest.c $i\n \t\t# Did it work?\n \t\tif test $? -eq 0 ; then\n \t\t  ldd_output=`ldd conftest`\n-\t\t    libname=`eval \\\\$echo \\\"$libname_spec\\\"`\n-\t\t    deplib_matches=`eval \\\\$echo \\\"$library_names_spec\\\"`\n-\t\t    set dummy $deplib_matches\n-\t\t    deplib_match=$2\n-\t\t    if test `expr \"$ldd_output\" : \".*$deplib_match\"` -ne 0 ; then\n-\t\t      newdeplibs=\"$newdeplibs $i\"\n-\t\t    else\n-\t\t      droppeddeps=yes\n-\t\t      echo\n-\t\t      echo \"*** Warning: This library needs some functionality provided by $i.\"\n-\t\t      echo \"*** I have the capability to make that library automatically link in when\"\n-\t\t      echo \"*** you link to this library.  But I can only do this if you have a\"\n-\t\t      echo \"*** shared version of the library, which you do not appear to have.\"\n-\t\t    fi\n+\t\t  libname=`eval \\\\$echo \\\"$libname_spec\\\"`\n+\t\t  deplib_matches=`eval \\\\$echo \\\"$library_names_spec\\\"`\n+\t\t  set dummy $deplib_matches\n+\t\t  deplib_match=$2\n+\t\t  if test `expr \"$ldd_output\" : \".*$deplib_match\"` -ne 0 ; then\n+\t\t    newdeplibs=\"$newdeplibs $i\"\n+\t\t  else\n+\t\t    droppeddeps=yes\n+\t\t    echo\n+\t\t    echo \"*** Warning: This library needs some functionality provided by $i.\"\n+\t\t    echo \"*** I have the capability to make that library automatically link in when\"\n+\t\t    echo \"*** you link to this library.  But I can only do this if you have a\"\n+\t\t    echo \"*** shared version of the library, which you do not appear to have.\"\n+\t\t  fi\n \t\telse\n \t\t  droppeddeps=yes\n \t\t  echo\n@@ -1827,7 +1941,6 @@ EOF\n \t      fi\n \t    done\n \t  fi\n-\t  deplibs=$newdeplibs\n \t  ;;\n \tfile_magic*)\n \t  set dummy $deplibs_check_method\n@@ -1841,7 +1954,7 @@ EOF\n \t\t    potential_libs=`ls $i/$libname[.-]* 2>/dev/null`\n \t\t    for potent_lib in $potential_libs; do\n \t\t      # Follow soft links.\n-\t\t      if ls -lLd \"$potlib\" 2>/dev/null \\\n+\t\t      if ls -lLd \"$potent_lib\" 2>/dev/null \\\n \t\t\t | grep \" -> \" >/dev/null; then\n \t\t\tcontinue \n \t\t      fi\n@@ -1854,11 +1967,11 @@ EOF\n \t\t      while test -h \"$potlib\" 2>/dev/null; do\n \t\t\tpotliblink=`ls -ld $potlib | sed 's/.* -> //'`\n \t\t\tcase \"$potliblink\" in\n-\t\t\t/*) potlib=\"$potliblink\";;\n+\t\t\t[\\\\/]* | [A-Za-z]:[\\\\/]*) potlib=\"$potliblink\";;\n \t\t\t*) potlib=`$echo \"X$potlib\" | $Xsed -e 's,[^/]*$,,'`\"$potliblink\";;\n \t\t\tesac\n \t\t      done\n-\t\t      if eval $file_magic_cmd \\\"\\$potlib\\\" \\\n+\t\t      if eval $file_magic_cmd \\\"\\$potlib\\\" 2>/dev/null \\\n \t\t\t | sed 10q \\\n \t\t\t | egrep \"$file_magic_regex\" > /dev/null; then\n \t\t\tnewdeplibs=\"$newdeplibs $a_deplib\"\n@@ -1881,7 +1994,8 @@ EOF\n \t    fi\n \t  done # Gone through all deplibs.\n \t  ;;\n-\tnone | unknown | *) newdeplibs=\"\"\n+\tnone | unknown | *)\n+\t  newdeplibs=\"\"\n \t  if $echo \"X $deplibs\" | $Xsed -e 's/ -lc$//' \\\n \t       -e 's/ -[LR][^ ]*//g' -e 's/[ \t]//g' |\n \t     grep . >/dev/null; then\n@@ -1923,21 +2037,23 @@ EOF\n \t    else\n \t      build_libtool_libs=no\n \t    fi\n-\t    dlname=\n-\t    library_names=\n \t  else\n \t    echo \"*** The inter-library dependencies that have been dropped here will be\"\n \t    echo \"*** automatically added whenever a program is linked with this library\"\n \t    echo \"*** or is declared to -dlopen it.\"\n \t  fi\n \tfi\n+\t# Done checking deplibs!\n+\tdeplibs=$newdeplibs\n       fi\n \n-      # test again, we may have decided not to build it any more\n+      # All the library-specific variables (install_libdir is set above).\n+      library_names=\n+      old_library=\n+      dlname=\n+      \n+      # Test again, we may have decided not to build it any more\n       if test \"$build_libtool_libs\" = yes; then\n-\tdeplibs=$newdeplibs\n-\t# Done checking deplibs!\n- \n \t# Get the real and link names of the library.\n \teval library_names=\\\"$library_names_spec\\\"\n \tset dummy $library_names\n@@ -1957,52 +2073,30 @@ EOF\n \tdone\n \n \t# Ensure that we have .o objects for linkers which dislike .lo\n-\t# (e.g. aix) incase we are running --disable-static\n+\t# (e.g. aix) in case we are running --disable-static\n \tfor obj in $libobjs; do\n-\t  oldobj=`$echo \"X$obj\" | $Xsed -e \"$lo2o\"`\n-\t  test -f $oldobj || ${LN_S} $obj $oldobj\n+\t  xdir=`$echo \"X$obj\" | $Xsed -e 's%/[^/]*$%%'`\n+\t  if test \"X$xdir\" = \"X$obj\"; then\n+\t    xdir=\".\"\n+\t  else\n+\t    xdir=\"$xdir\"\n+\t  fi\n+\t  baseobj=`$echo \"X$obj\" | $Xsed -e 's%^.*/%%'`\n+\t  oldobj=`$echo \"X$baseobj\" | $Xsed -e \"$lo2o\"`\n+\t  if test ! -f $xdir/$oldobj; then\n+\t    $show \"(cd $xdir && ${LN_S} $baseobj $oldobj)\"\n+\t    $run eval '(cd $xdir && ${LN_S} $baseobj $oldobj)' || exit $?\n+\t  fi\n \tdone\n \n \t# Use standard objects if they are pic\n \ttest -z \"$pic_flag\" && libobjs=`$echo \"X$libobjs\" | $SP2NL | $Xsed -e \"$lo2o\" | $NL2SP`\n \n-\tif test -n \"$whole_archive_flag_spec\"; then\n-\t  if test -n \"$convenience\"; then\n-\t    eval libobjs=\\\"\\$libobjs $whole_archive_flag_spec\\\"\n-\t  fi\n-\telse\n-\t  for xlib in $convenience; do\n-\t    # Extract the objects.\n-\t    xdir=\"$xlib\"x\n-\t    generated=\"$generated $xdir\"\n-\t    xlib=`$echo \"X$xlib\" | $Xsed -e 's%^.*/%%'`\n-\n-\t    $show \"${rm}r $xdir\"\n-\t    $run ${rm}r \"$xdir\"\n-\t    $show \"mkdir $xdir\"\n-\t    $run mkdir \"$xdir\"\n-\t    status=$?\n-\t    if test $status -ne 0 && test ! -d \"$xdir\"; then\n-\t      exit $status\n-\t    fi\n-\t    $show \"(cd $xdir && $AR x ../$xlib)\"\n-\t    $run eval \"(cd \\$xdir && $AR x ../\\$xlib)\" || exit $?\n-\n-\t    libobjs=\"$libobjs \"`find $xdir -name \\*.o -print -o -name \\*.lo -print | $NL2SP`\n-\t  done\n-\tfi\n-\n-\tif test \"$thread_safe\" = yes && test -n \"$thread_safe_flag_spec\"; then\n-\t  eval flag=\\\"$thread_safe_flag_spec\\\"\n-\n-\t  linkopts=\"$linkopts $flag\"\n-\tfi\n-\n \t# Prepare the list of exported symbols\n \tif test -z \"$export_symbols\"; then\n \t  if test \"$always_export_symbols\" = yes || test -n \"$export_symbols_regex\"; then\n \t    $show \"generating symbol list for \\`$libname.la'\"\n-\t    export_symbols=\"$objdir/$libname.exp\"\n+\t    export_symbols=\"$output_objdir/$libname.exp\"\n \t    $run $rm $export_symbols\n \t    eval cmds=\\\"$export_symbols_cmds\\\"\n \t    IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS='~'\n@@ -2025,6 +2119,51 @@ EOF\n \t  $run eval '$echo \"X$include_expsyms\" | $SP2NL >> \"$export_symbols\"'\n \tfi\n \n+\tif test -n \"$convenience\"; then\n+\t  if test -n \"$whole_archive_flag_spec\"; then\n+\t    eval libobjs=\\\"\\$libobjs $whole_archive_flag_spec\\\"\n+\t  else\n+\t    gentop=\"$output_objdir/${outputname}x\"\n+\t    $show \"${rm}r $gentop\"\n+\t    $run ${rm}r \"$gentop\"\n+\t    $show \"mkdir $gentop\"\n+\t    $run mkdir \"$gentop\"\n+\t    status=$?\n+\t    if test $status -ne 0 && test ! -d \"$gentop\"; then\n+\t      exit $status\n+\t    fi\n+\t    generated=\"$generated $gentop\"\n+\n+\t    for xlib in $convenience; do\n+\t      # Extract the objects.\n+\t      case \"$xlib\" in\n+\t      [\\\\/]* | [A-Za-z]:[\\\\/]*) xabs=\"$xlib\" ;;\n+\t      *) xabs=`pwd`\"/$xlib\" ;;\n+\t      esac\n+\t      xlib=`$echo \"X$xlib\" | $Xsed -e 's%^.*/%%'`\n+\t      xdir=\"$gentop/$xlib\"\n+\n+\t      $show \"${rm}r $xdir\"\n+\t      $run ${rm}r \"$xdir\"\n+\t      $show \"mkdir $xdir\"\n+\t      $run mkdir \"$xdir\"\n+\t      status=$?\n+\t      if test $status -ne 0 && test ! -d \"$xdir\"; then\n+\t\texit $status\n+\t      fi\n+\t      $show \"(cd $xdir && $AR x $xabs)\"\n+\t      $run eval \"(cd \\$xdir && $AR x \\$xabs)\" || exit $?\n+\n+\t      libobjs=\"$libobjs \"`find $xdir -name \\*.o -print -o -name \\*.lo -print | $NL2SP`\n+\t    done\n+\t  fi\n+\tfi\n+\n+\tif test \"$thread_safe\" = yes && test -n \"$thread_safe_flag_spec\"; then\n+\t  eval flag=\\\"$thread_safe_flag_spec\\\"\n+\t  linkopts=\"$linkopts $flag\"\n+\tfi\n+\n \t# Do each of the archive commands.\n \tif test -n \"$export_symbols\" && test -n \"$archive_expsym_cmds\"; then\n \t  eval cmds=\\\"$archive_expsym_cmds\\\"\n@@ -2065,7 +2204,7 @@ EOF\n \t$echo \"$modename: warning: \\`-l' and \\`-L' are ignored for objects\" 1>&2\n       fi\n \n-      if test -n \"$dlfiles$dlprefiles\"; then\n+      if test -n \"$dlfiles$dlprefiles\" || test \"$dlself\" != no; then\n \t$echo \"$modename: warning: \\`-dlopen' is ignored for objects\" 1>&2\n       fi\n \n@@ -2103,8 +2242,58 @@ EOF\n       # Delete the old objects.\n       $run $rm $obj $libobj\n \n+      # Objects from convenience libraries.  This assumes\n+      # single-version convenience libraries.  Whenever we create\n+      # different ones for PIC/non-PIC, this we'll have to duplicate\n+      # the extraction.\n+      reload_conv_objs=\n+      gentop=\n+      # reload_cmds runs $LD directly, so let us get rid of\n+      # -Wl from whole_archive_flag_spec\n+      wl= \n+\n+      if test -n \"$convenience\"; then\n+\tif test -n \"$whole_archive_flag_spec\"; then\n+\t  eval reload_conv_objs=\\\"\\$reload_objs $whole_archive_flag_spec\\\"\n+\telse\n+\t  gentop=\"$output_objdir/${obj}x\"\n+\t  $show \"${rm}r $gentop\"\n+\t  $run ${rm}r \"$gentop\"\n+\t  $show \"mkdir $gentop\"\n+\t  $run mkdir \"$gentop\"\n+\t  status=$?\n+\t  if test $status -ne 0 && test ! -d \"$gentop\"; then\n+\t    exit $status\n+\t  fi\n+\t  generated=\"$generated $gentop\"\n+\n+\t  for xlib in $convenience; do\n+\t    # Extract the objects.\n+\t    case \"$xlib\" in\n+\t    [\\\\/]* | [A-Za-z]:[\\\\/]*) xabs=\"$xlib\" ;;\n+\t    *) xabs=`pwd`\"/$xlib\" ;;\n+\t    esac\n+\t    xlib=`$echo \"X$xlib\" | $Xsed -e 's%^.*/%%'`\n+\t    xdir=\"$gentop/$xlib\"\n+\n+\t    $show \"${rm}r $xdir\"\n+\t    $run ${rm}r \"$xdir\"\n+\t    $show \"mkdir $xdir\"\n+\t    $run mkdir \"$xdir\"\n+\t    status=$?\n+\t    if test $status -ne 0 && test ! -d \"$xdir\"; then\n+\t      exit $status\n+\t    fi\n+\t    $show \"(cd $xdir && $AR x $xabs)\"\n+\t    $run eval \"(cd \\$xdir && $AR x \\$xabs)\" || exit $?\n+\n+\t    reload_conv_objs=\"$reload_objs \"`find $xdir -name \\*.o -print -o -name \\*.lo -print | $NL2SP`\n+\t  done\n+\tfi\n+      fi\n+\n       # Create the old-style object.\n-      reload_objs=\"$objs \"`$echo \"X$libobjs\" | $SP2NL | $Xsed -e '/\\.'${libext}$'/d' -e '/\\.lib$/d' -e \"$lo2o\" | $NL2SP`\n+      reload_objs=\"$objs \"`$echo \"X$libobjs\" | $SP2NL | $Xsed -e '/\\.'${libext}$'/d' -e '/\\.lib$/d' -e \"$lo2o\" | $NL2SP`\" $reload_conv_objs\"\n \n       output=\"$obj\"\n       eval cmds=\\\"$reload_cmds\\\"\n@@ -2117,9 +2306,21 @@ EOF\n       IFS=\"$save_ifs\"\n \n       # Exit if we aren't doing a library object file.\n-      test -z \"$libobj\" && exit 0\n+      if test -z \"$libobj\"; then\n+\tif test -n \"$gentop\"; then\n+\t  $show \"${rm}r $gentop\"\n+\t  $run ${rm}r $gentop\n+\tfi\n+\n+\texit 0\n+      fi\n \n       if test \"$build_libtool_libs\" != yes; then\n+\tif test -n \"$gentop\"; then\n+\t  $show \"${rm}r $gentop\"\n+\t  $run ${rm}r $gentop\n+\tfi\n+\n \t# Create an invalid libtool object if no PIC, so that we don't\n \t# accidentally link it into a program.\n \t$show \"echo timestamp > $libobj\"\n@@ -2129,7 +2330,7 @@ EOF\n \n       if test -n \"$pic_flag\"; then\n \t# Only do commands if we really have different PIC objects.\n-\treload_objs=\"$libobjs\"\n+\treload_objs=\"$libobjs $reload_conv_objs\"\n \toutput=\"$libobj\"\n \teval cmds=\\\"$reload_cmds\\\"\n \tIFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS='~'\n@@ -2143,8 +2344,21 @@ EOF\n \t# Just create a symlink.\n \t$show $rm $libobj\n \t$run $rm $libobj\n-\t$show \"$LN_S $obj $libobj\"\n-\t$run $LN_S $obj $libobj || exit $?\n+\txdir=`$echo \"X$libobj\" | $Xsed -e 's%/[^/]*$%%'`\n+\tif test \"X$xdir\" = \"X$libobj\"; then\n+\t  xdir=\".\"\n+\telse\n+\t  xdir=\"$xdir\"\n+\tfi\n+\tbaseobj=`$echo \"X$libobj\" | $Xsed -e 's%^.*/%%'`\n+\toldobj=`$echo \"X$baseobj\" | $Xsed -e \"$lo2o\"`\n+\t$show \"(cd $xdir && $LN_S $oldobj $baseobj)\"\n+\t$run eval '(cd $xdir && $LN_S $oldobj $baseobj)' || exit $?\n+      fi\n+\n+      if test -n \"$gentop\"; then\n+\t$show \"${rm}r $gentop\"\n+\t$run ${rm}r $gentop\n       fi\n \n       exit 0\n@@ -2167,11 +2381,6 @@ EOF\n \tfi \n       fi\n     \n-      if test \"$dlself\" = yes && test \"$export_dynamic\" = no; then\n-\t$echo \"$modename: error: \\`-dlopen self' requires \\`-export-dynamic'\" 1>&2\n-\texit 1\n-      fi\n-\n       if test -n \"$rpath$xrpath\"; then\n \t# If the user specified any rpath flags, then add them.\n \tfor libdir in $rpath $xrpath; do\n@@ -2207,7 +2416,6 @@ EOF\n \t    fi\n \t  else\n \t    eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n-\n \t    rpath=\"$rpath $flag\"\n \t  fi\n \telif test -n \"$runpath_var\"; then\n@@ -2244,7 +2452,6 @@ EOF\n \t    fi\n \t  else\n \t    eval flag=\\\"$hardcode_libdir_flag_spec\\\"\n-\n \t    rpath=\"$rpath $flag\"\n \t  fi\n \telif test -n \"$runpath_var\"; then\n@@ -2269,14 +2476,24 @@ EOF\n \toutput_objdir=\"$output_objdir/$objdir\"\n       fi\n \n+      # Create the binary in the object directory, then wrap it.\n+      if test ! -d $output_objdir; then\n+\t$show \"$mkdir $output_objdir\"\n+\t$run $mkdir $output_objdir\n+\tstatus=$?\n+\tif test $status -ne 0 && test ! -d $output_objdir; then\n+\t  exit $status\n+\tfi\n+      fi\n+\n       if test -n \"$libobjs\" && test \"$build_old_libs\" = yes; then\n \t# Transform all the library objects into standard objects.\n \tcompile_command=`$echo \"X$compile_command\" | $SP2NL | $Xsed -e \"$lo2o\" | $NL2SP`\n \tfinalize_command=`$echo \"X$finalize_command\" | $SP2NL | $Xsed -e \"$lo2o\" | $NL2SP`\n       fi\n \n       dlsyms=\n-      if test -n \"$dlfiles$dlprefiles\" || test \"$dlself\" = yes; then\n+      if test -n \"$dlfiles$dlprefiles\" || test \"$dlself\" != no; then\n \tif test -n \"$NM\" && test -n \"$global_symbol_pipe\"; then\n \t  dlsyms=\"${outputname}S.c\"\n \telse\n@@ -2289,24 +2506,15 @@ EOF\n \t\"\") ;;\n \t*.c)\n \t  # Discover the nlist of each of the dlfiles.\n-\t  nlist=\"$objdir/${output}.nm\"\n+\t  nlist=\"$output_objdir/${outputname}.nm\"\n \n-\t  if test -d $objdir; then\n-\t    $show \"$rm $nlist ${nlist}S ${nlist}T\"\n-\t    $run $rm \"$nlist\" \"${nlist}S\" \"${nlist}T\"\n-\t  else\n-\t    $show \"$mkdir $objdir\"\n-\t    $run $mkdir $objdir\n-\t    status=$?\n-\t    if test $status -ne 0 && test ! -d $objdir; then\n-\t      exit $status\n-\t    fi\n-\t  fi\n+\t  $show \"$rm $nlist ${nlist}S ${nlist}T\"\n+\t  $run $rm \"$nlist\" \"${nlist}S\" \"${nlist}T\"\n \n \t  # Parse the name list into a source file.\n-\t  $show \"creating $objdir/$dlsyms\"\n+\t  $show \"creating $output_objdir/$dlsyms\"\n \n-\t  $echo > \"$objdir/$dlsyms\" \"\\\n+\t  test -z \"$run\" && $echo > \"$output_objdir/$dlsyms\" \"\\\n /* $dlsyms - symbol resolution table for \\`$outputname' dlsym emulation. */\n /* Generated by $PROGRAM - GNU $PACKAGE $VERSION$TIMESTAMP */\n \n@@ -2323,7 +2531,7 @@ extern \\\"C\\\" {\n \t  if test \"$dlself\" = yes; then\n \t    $show \"generating symbol list for \\`$output'\"\n \n-\t    echo ': @PROGRAM@ ' > \"$nlist\"\n+\t    test -z \"$run\" && $echo ': @PROGRAM@ ' > \"$nlist\"\n \n \t    # Add our own program objects to the symbol list.\n \t    progfiles=`$echo \"X$objs\" | $SP2NL | $Xsed -e \"$lo2o\" | $NL2SP`\n@@ -2344,13 +2552,12 @@ extern \\\"C\\\" {\n \n \t    # Prepare the list of exported symbols\n \t    if test -z \"$export_symbols\"; then\n-\t      export_symbols=\"$objdir/$output.exp\"\n+\t      export_symbols=\"$output_objdir/$output.exp\"\n \t      $run $rm $export_symbols\n \t      $run eval \"sed -n -e '/^: @PROGRAM@$/d' -e 's/^.* \\(.*\\)$/\\1/p' \"'< \"$nlist\" > \"$export_symbols\"'\n \t    else\n-\t      $run $rm $export_symbols\n-\t      $run eval \"sed -e 's/\\([][.*^$]\\)/\\\\\\1/g' -e 's/^/ /' -e 's/$/$/'\"' < \"$export_symbols\" > \"$objdir/$output.exp\"'\n-\t      $run eval 'grep -f \"$objdir/$output.exp\" < \"$nlist\" > \"$nlist\"T'\n+\t      $run eval \"sed -e 's/\\([][.*^$]\\)/\\\\\\1/g' -e 's/^/ /' -e 's/$/$/'\"' < \"$export_symbols\" > \"$output_objdir/$output.exp\"'\n+\t      $run eval 'grep -f \"$output_objdir/$output.exp\" < \"$nlist\" > \"$nlist\"T'\n \t      $run eval 'mv \"$nlist\"T \"$nlist\"'\n \t    fi\n \t  fi\n@@ -2426,26 +2633,35 @@ static const void *lt_preloaded_setup() {\n \t  fi\n \n \t  pic_flag_for_symtable=\n-          case \"$host\" in\n+\t  case \"$host\" in\n \t  # compiling the symbol table file with pic_flag works around\n \t  # a FreeBSD bug that causes programs to crash when -lm is\n \t  # linked before any other PIC object.  But we must not use\n \t  # pic_flag when linking with -static.  The problem exists in\n \t  # FreeBSD 2.2.6 and is fixed in FreeBSD 3.1.\n-\t  *-*-freebsd2*|*-*-freebsd3.0*)\n+\t  *-*-freebsd2*|*-*-freebsd3.0*|*-*-freebsdelf3.0*)\r\n \t    case \"$compile_command \" in\n \t    *\" -static \"*) ;;\n \t    *) pic_flag_for_symtable=\" $pic_flag -DPIC -DFREEBSD_WORKAROUND\";;\n+\t    esac;;\n+\t  *-*-hpux*)\n+\t    case \"$compile_command \" in\n+\t    *\" -static \"*) ;;\n+\t    *) pic_flag_for_symtable=\" $pic_flag -DPIC\";;\n \t    esac\n \t  esac\n \n \t  # Now compile the dynamic symbol file.\n-\t  $show \"(cd $objdir && $C_compiler -c$no_builtin_flag$pic_flag_for_symtable \\\"$dlsyms\\\")\"\n-\t  $run eval '(cd $objdir && $C_compiler -c$no_builtin_flag$pic_flag_for_symtable \"$dlsyms\")' || exit $?\n+\t  $show \"(cd $output_objdir && $CC -c$no_builtin_flag$pic_flag_for_symtable \\\"$dlsyms\\\")\"\n+\t  $run eval '(cd $output_objdir && $CC -c$no_builtin_flag$pic_flag_for_symtable \"$dlsyms\")' || exit $?\n+\n+\t  # Clean up the generated files.\n+\t  $show \"$rm $output_objdir/$dlsyms $nlist ${nlist}S ${nlist}T\"\n+\t  $run $rm \"$output_objdir/$dlsyms\" \"$nlist\" \"${nlist}S\" \"${nlist}T\"\n \n \t  # Transform the symbol file into the correct name.\n-\t  compile_command=`$echo \"X$compile_command\" | $Xsed -e \"s%@SYMFILE@%$objdir/${output}S.${objext}%\"`\n-\t  finalize_command=`$echo \"X$finalize_command\" | $Xsed -e \"s%@SYMFILE@%$objdir/${output}S.${objext}%\"`\n+\t  compile_command=`$echo \"X$compile_command\" | $Xsed -e \"s%@SYMFILE@%$output_objdir/${outputname}S.${objext}%\"`\n+\t  finalize_command=`$echo \"X$finalize_command\" | $Xsed -e \"s%@SYMFILE@%$output_objdir/${outputname}S.${objext}%\"`\n \t  ;;\n \t*)\n \t  $echo \"$modename: unknown suffix for \\`$dlsyms'\" 1>&2\n@@ -2470,15 +2686,23 @@ static const void *lt_preloaded_setup() {\n \t# We have no uninstalled library dependencies, so finalize right now.\n \t$show \"$link_command\"\n \t$run eval \"$link_command\"\n-\texit $?\n+\tstatus=$?\n+\t\n+\t# Delete the generated files.\n+\tif test -n \"$dlsyms\"; then\n+\t  $show \"$rm $output_objdir/${outputname}S.${objext}\"\n+\t  $run $rm \"$output_objdir/${outputname}S.${objext}\"\n+\tfi\n+\n+\texit $status\n       fi\n \n       if test -n \"$shlibpath_var\"; then\n \t# We should set the shlibpath_var\n \trpath=\n \tfor dir in $temp_rpath; do\n \t  case \"$dir\" in\n-\t  /* | [A-Za-z]:[/\\\\]*)\n+\t  [\\\\/]* | [A-Za-z]:[\\\\/]*)\n \t    # Absolute path.\n \t    rpath=\"$rpath$dir:\"\n \t    ;;\n@@ -2524,7 +2748,6 @@ static const void *lt_preloaded_setup() {\n \tlink_command=\"$compile_var$compile_command$compile_rpath\"\n \trelink_command=\"$finalize_var$finalize_command$finalize_rpath\"\n \t\n-\t# AGH! Flame the AIX and HP-UX people for me, will ya?\n \t$echo \"$modename: warning: this platform does not like uninstalled shared libraries\" 1>&2\n \t$echo \"$modename: \\`$output' will be relinked during installation\" 1>&2\n       else\n@@ -2545,17 +2768,7 @@ static const void *lt_preloaded_setup() {\n       # Replace the output file specification.\n       link_command=`$echo \"X$link_command\" | $Xsed -e 's%@OUTPUT@%'\"$output_objdir/$outputname\"'%g'`\n       \n-      # Create the binary in the object directory, then wrap it.\n-      if test ! -d $output_objdir; then\n-\t$show \"$mkdir $output_objdir\"\n-\t$run $mkdir $output_objdir\n-\tstatus=$?\n-\tif test $status -ne 0 && test ! -d $objdir; then\n-\t  exit $status\n-\tfi\n-      fi\n-\n-      # Delete the old output file.\n+      # Delete the old output files.\n       $run $rm $output $output_objdir/$outputname $output_objdir/lt-$outputname\n \n       $show \"$link_command\"\n@@ -2566,13 +2779,18 @@ static const void *lt_preloaded_setup() {\n \n       # Quote the relink command for shipping.\n       if test -n \"$relink_command\"; then\n+        # Preserve any variables that may affect compiler behavior\n+\tvariables_saved_for_relink=\"GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH\"\n+\tfor var in $variables_saved_for_relink; do\n+\t  relink_command=\"$var=\\\"\"`eval \\$echo \\\"X'$'$var\\\" | $Xsed -e \"$sed_quote_subst\"`\"\\\"; export $var; $relink_command\"\n+\tdone\n \trelink_command=`$echo \"X$relink_command\" | $Xsed -e \"$sed_quote_subst\"`\n       fi\n \n       # Quote $echo for shipping.\n       if test \"X$echo\" = \"X$SHELL $0 --fallback-echo\"; then\n \tcase \"$0\" in\n-\t/* | [A-Za-z]:[/\\\\]*) qecho=\"$SHELL $0 --fallback-echo\";;\n+\t[\\\\/]* | [A-Za-z]:[\\\\/]*) qecho=\"$SHELL $0 --fallback-echo\";;\n \t*) qecho=\"$SHELL `pwd`/$0 --fallback-echo\";;\n \tesac\n \tqecho=`$echo \"X$qecho\" | $Xsed -e \"$sed_quote_subst\"`\n@@ -2609,7 +2827,7 @@ sed_quote_subst='$sed_quote_subst'\n \n # The HP-UX ksh and POSIX shell print the target directory to stdout\n # if CDPATH is set.\n-if test \\\"\\${CDPATH+set}\\\" = set; then CDPATH=; export CDPATH; fi\n+if test \\\"\\${CDPATH+set}\\\" = set; then CDPATH=:; export CDPATH; fi\n \n relink_command=\\\"$relink_command\\\"\n \n@@ -2649,7 +2867,7 @@ else\n     # If there was a directory component, then change thisdir.\n     if test \\\"x\\$destdir\\\" != \\\"x\\$file\\\"; then\n       case \\\"\\$destdir\\\" in\n-      /* | [A-Za-z]:[/\\\\]*) thisdir=\\\"\\$destdir\\\" ;;\n+      [\\\\/]* | [A-Za-z]:[\\\\/]*) thisdir=\\\"\\$destdir\\\" ;;\n       *) thisdir=\\\"\\$thisdir/\\$destdir\\\" ;;\n       esac\n     fi\n@@ -2787,31 +3005,65 @@ fi\\\n \taddlibs=\"$old_convenience\"\n       fi\n \n-      # Add in members from convenience archives.\n-      for xlib in $addlibs; do\n-\t# Extract the objects.\n-\txdir=\"$xlib\"x\n-\tgenerated=\"$generated $xdir\"\n-\txlib=`$echo \"X$xlib\" | $Xsed -e 's%^.*/%%'`\n-\n-\t$show \"${rm}r $xdir\"\n-\t$run ${rm}r \"$xdir\"\n-\t$show \"mkdir $xdir\"\n-\t$run mkdir \"$xdir\"\n+      if test -n \"$addlibs\"; then\n+\tgentop=\"$output_objdir/${outputname}x\"\n+\t$show \"${rm}r $gentop\"\n+\t$run ${rm}r \"$gentop\"\n+\t$show \"mkdir $gentop\"\n+\t$run mkdir \"$gentop\"\n \tstatus=$?\n-\tif test $status -ne 0 && test ! -d \"$xdir\"; then\n+\tif test $status -ne 0 && test ! -d \"$gentop\"; then\n \t  exit $status\n \tfi\n-\t$show \"(cd $xdir && $AR x ../$xlib)\"\n-\t$run eval \"(cd \\$xdir && $AR x ../\\$xlib)\" || exit $?\n+\tgenerated=\"$generated $gentop\"\n+\t  \n+\t# Add in members from convenience archives.\n+\tfor xlib in $addlibs; do\n+\t  # Extract the objects.\n+\t  case \"$xlib\" in\n+\t  [\\\\/]* | [A-Za-z]:[\\\\/]*) xabs=\"$xlib\" ;;\n+\t  *) xabs=`pwd`\"/$xlib\" ;;\n+\t  esac\n+\t  xlib=`$echo \"X$xlib\" | $Xsed -e 's%^.*/%%'`\n+\t  xdir=\"$gentop/$xlib\"\n \n-\toldobjs=\"$oldobjs \"`find $xdir -name \\*.o -print -o -name \\*.lo -print | $NL2SP`\n-      done\n+\t  $show \"${rm}r $xdir\"\n+\t  $run ${rm}r \"$xdir\"\n+\t  $show \"mkdir $xdir\"\n+\t  $run mkdir \"$xdir\"\n+\t  status=$?\n+\t  if test $status -ne 0 && test ! -d \"$xdir\"; then\n+\t    exit $status\n+\t  fi\n+\t  $show \"(cd $xdir && $AR x $xabs)\"\n+\t  $run eval \"(cd \\$xdir && $AR x \\$xabs)\" || exit $?\n+\n+\t  oldobjs=\"$oldobjs \"`find $xdir -name \\*.${objext} -print -o -name \\*.lo -print | $NL2SP`\n+\tdone\n+      fi\n \n       # Do each command in the archive commands.\n       if test -n \"$old_archive_from_new_cmds\" && test \"$build_libtool_libs\" = yes; then\n \teval cmds=\\\"$old_archive_from_new_cmds\\\"\n       else\n+\t# Ensure that we have .o objects in place in case we decided\n+\t# not to build a shared library, and have fallen back to building\n+\t# static libs even though --disable-static was passed!\n+\tfor oldobj in $oldobjs; do\n+\t  if test ! -f $oldobj; then\n+\t    xdir=`$echo \"X$oldobj\" | $Xsed -e 's%/[^/]*$%%'`\n+\t    if test \"X$xdir\" = \"X$oldobj\"; then\n+\t      xdir=\".\"\n+\t    else\n+\t      xdir=\"$xdir\"\n+\t    fi\n+\t    baseobj=`$echo \"X$oldobj\" | $Xsed -e 's%^.*/%%'`\n+\t    obj=`$echo \"X$baseobj\" | $Xsed -e \"$o2lo\"`\n+\t    $show \"(cd $xdir && ${LN_S} $obj $baseobj)\"\n+\t    $run eval '(cd $xdir && ${LN_S} $obj $baseobj)' || exit $?\n+\t  fi\n+\tdone\n+\n \teval cmds=\\\"$old_archive_cmds\\\"\n       fi\n       IFS=\"${IFS= \t}\"; save_ifs=\"$IFS\"; IFS='~'\n@@ -2845,9 +3097,20 @@ fi\\\n \n       # Only create the output if not a dry run.\n       if test -z \"$run\"; then\n-\t$echo > $output \"\\\n-# $output - a libtool library file\n+\tfor installed in no yes; do\n+\t  if test \"$installed\" = yes; then\n+\t    if test -z \"$install_libdir\"; then\n+\t      break\n+\t    fi\n+\t    output=\"$output_objdir/$outputname\"i\n+\t  fi\n+\t  $rm $output\n+\t  $echo > $output \"\\\n+# $outputname - a libtool library file\n # Generated by $PROGRAM - GNU $PACKAGE $VERSION$TIMESTAMP\n+#\n+# Please DO NOT delete this file!\n+# It is necessary for linking the library.\n \n # The name that we can dlopen(3).\n dlname='$dlname'\n@@ -2867,15 +3130,12 @@ age=$age\n revision=$revision\n \n # Is this an already installed library?\n-installed=no\n+installed=$installed\n \n # Directory that this library needs to be installed in:\n libdir='$install_libdir'\\\n \"\n-\n-\t$rm \"$output_objdir/$outputname\"i\n-\tsed 's/^installed=no$/installed=yes/' \\\n-\t  < \"$output\" > \"$output_objdir/$outputname\"i || exit 1\n+\tdone\n       fi\n \n       # Do a symbolic link so that the libtool archive can be found in\n@@ -3012,7 +3272,7 @@ libdir='$install_libdir'\\\n       fi\n     fi\n     case \"$destdir\" in\n-    /* | [A-Za-z]:[/\\\\]*) ;;\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n     *)\n       for file in $files; do\n \tcase \"$file\" in\n@@ -3088,26 +3348,18 @@ libdir='$install_libdir'\\\n \t  # Install the shared library and build the symlinks.\n \t  $show \"$install_prog $dir/$realname $destdir/$realname\"\n \t  $run eval \"$install_prog $dir/$realname $destdir/$realname\" || exit $?\n-\t  test \"X$dlname\" = \"X$realname\" && dlname=\n \n \t  if test $# -gt 0; then\n \t    # Delete the old symlinks, and create new ones.\n \t    for linkname\n \t    do\n-\t      test \"X$dlname\" = \"X$linkname\" && dlname=\n \t      if test \"$linkname\" != \"$realname\"; then\n \t\t$show \"(cd $destdir && $rm $linkname && $LN_S $realname $linkname)\"\n \t\t$run eval \"(cd $destdir && $rm $linkname && $LN_S $realname $linkname)\"\n \t      fi\n \t    done\n \t  fi\n \n-\t  if test -n \"$dlname\"; then\n-\t    # Install the dynamically-loadable library.\n-\t    $show \"$install_prog $dir/$dlname $destdir/$dlname\"\n-\t    $run eval \"$install_prog $dir/$dlname $destdir/$dlname\" || exit $?\n-\t  fi\n-\n \t  # Do each command in the postinstall commands.\n \t  lib=\"$destdir/$realname\"\n \t  eval cmds=\\\"$postinstall_cmds\\\"\n@@ -3123,12 +3375,6 @@ libdir='$install_libdir'\\\n \t# Install the pseudo-library for information purposes.\n \tname=`$echo \"X$file\" | $Xsed -e 's%^.*/%%'`\n \tinstname=\"$dir/$name\"i\n-\tif test ! -f \"$instname\"; then\n-\t  # Just in case it was removed...\n-\t  $show \"Creating $instname\"\n-\t  $rm \"$instname\"\n-\t  sed 's/^installed=no$/installed=yes/' \"$file\" > \"$instname\"\n-\tfi\n \t$show \"$install_prog $instname $destdir/$name\"\n \t$run eval \"$install_prog $instname $destdir/$name\" || exit $?\n \n@@ -3226,21 +3472,29 @@ libdir='$install_libdir'\\\n \n \t  outputname=\n \t  if test \"$fast_install\" = no && test -n \"$relink_command\"; then\n-\t    if test \"$finalize\" = yes; then\n-\t      outputname=\"/tmp/$$-$file\"\n+\t    if test \"$finalize\" = yes && test -z \"$run\"; then\n+\t      tmpdir=\"/tmp\"\n+\t      test -n \"$TMPDIR\" && tmpdir=\"$TMPDIR\"\n+\t      tmpdir=\"$tmpdir/libtool-$$\"\n+\t      if $mkdir -p \"$tmpdir\" && chmod 700 \"$tmpdir\"; then :\n+\t      else\n+\t\t$echo \"$modename: error: cannot create temporary directory \\`$tmpdir'\" 1>&2\n+\t\tcontinue\n+\t      fi\n+\t      outputname=\"$tmpdir/$file\"\n \t      # Replace the output file specification.\n \t      relink_command=`$echo \"X$relink_command\" | $Xsed -e 's%@OUTPUT@%'\"$outputname\"'%g'`\n \n-\t      $echo \"$modename: warning: relinking \\`$file' on behalf of your buggy system linker\" 1>&2\n \t      $show \"$relink_command\"\n \t      if $run eval \"$relink_command\"; then :\n \t      else\n \t\t$echo \"$modename: error: relink \\`$file' with the above command before installing it\" 1>&2\n+\t\t${rm}r \"$tmpdir\"\n \t\tcontinue\n \t      fi\n \t      file=\"$outputname\"\n \t    else\n-\t      $echo \"$modename: warning: cannot relink \\`$file' on behalf of your buggy system linker\" 1>&2\n+\t      $echo \"$modename: warning: cannot relink \\`$file'\" 1>&2\n \t    fi\n \t  else\n \t    # Install the binary that we compiled earlier.\n@@ -3250,7 +3504,7 @@ libdir='$install_libdir'\\\n \n \t$show \"$install_prog$stripme $file $destfile\"\n \t$run eval \"$install_prog\\$stripme \\$file \\$destfile\" || exit $?\n-\ttest -n \"$outputname\" && $rm $outputname\n+\ttest -n \"$outputname\" && ${rm}r \"$tmpdir\"\n \t;;\n       esac\n     done\n@@ -3476,8 +3730,10 @@ libdir='$install_libdir'\\\n     done\n \n     if test -z \"$run\"; then\n-      # Export the shlibpath_var.\n-      eval \"export $shlibpath_var\"\n+      if test -n \"$shlibpath_var\"; then\n+        # Export the shlibpath_var.\n+        eval \"export $shlibpath_var\"\n+      fi\n \n       # Restore saved enviroment variables\n       if test \"${save_LC_ALL+set}\" = set; then\n@@ -3494,8 +3750,10 @@ libdir='$install_libdir'\\\n       exit 1\n     else\n       # Display what would be done.\n-      eval \"\\$echo \\\"\\$shlibpath_var=\\$$shlibpath_var\\\"\"\n-      $echo \"export $shlibpath_var\"\n+      if test -n \"$shlibpath_var\"; then\n+        eval \"\\$echo \\\"\\$shlibpath_var=\\$$shlibpath_var\\\"\"\n+        $echo \"export $shlibpath_var\"\n+      fi\n       $echo \"$cmd$args\"\n       exit 0\n     fi\n@@ -3537,9 +3795,7 @@ libdir='$install_libdir'\\\n \t  # Delete the libtool libraries and symlinks.\n \t  for n in $library_names; do\n \t    rmfiles=\"$rmfiles $dir/$n\"\n-\t    test \"X$n\" = \"X$dlname\" && dlname=\n \t  done\n-\t  test -n \"$dlname\" && rmfiles=\"$rmfiles $dir/$dlname\"\n \t  test -n \"$old_library\" && rmfiles=\"$rmfiles $dir/$old_library\"\n \n \t  $show \"$rm $rmfiles\"\n@@ -3718,6 +3974,8 @@ The following components of LINK-COMMAND are treated specially:\n   -export-dynamic   allow symbols from OUTPUT-FILE to be resolved with dlsym(3)\n   -export-symbols SYMFILE\n \t\t    try to export only the symbols listed in SYMFILE\n+  -export-symbols-regex REGEX\n+\t\t    try to export only the symbols matching REGEX\n   -LLIBDIR          search LIBDIR for required installed libraries\n   -lNAME            OUTPUT-FILE requires the installed library libNAME\n   -module           build a library that can dlopened\n@@ -3748,7 +4006,7 @@ is created, otherwise an executable program is created.\"\n   ;;\n \n uninstall)\n-  $echo\n+  $echo \\\n \"Usage: $modename [OPTION]... --mode=uninstall RM [RM-OPTION]... FILE...\n \n Remove libraries from an installation directory."}, {"sha": "7789652e877fbc83c770377691249820eebea1f2", "filename": "missing", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/missing", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/missing", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/missing?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -82,15 +82,17 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n          you modified \\`acconfig.h' or \\`configure.in'.  You might want\n          to install the \\`Autoconf' and \\`GNU m4' packages.  Grab them\n          from any GNU archive site.\"\n-    files=`sed -n 's/^[ ]*A[CM]_CONFIG_HEADER([^):]*:\\([^)]*\\)).*/\\1/p' configure.in`\n-    if test -z \"$files\"; then\n-      files=`sed -n 's/^[ ]*A[CM]_CONFIG_HEADER(\\([^):]*\\)).*/\\1/p' configure.in`\n-      test -z \"$files\" || files=\"$files.in\"\n-    else\n-      files=`echo \"$files\" | sed -e 's/:/ /g'`\n-    fi\n-    test -z \"$files\" && files=\"config.h.in\"\n-    touch $files\n+    files=`sed -n 's/^[ ]*A[CM]_CONFIG_HEADER(\\([^)]*\\)).*/\\1/p' configure.in`\n+    test -z \"$files\" && files=\"config.h\"\n+    touch_files=\n+    for f in $files; do\n+      case \"$f\" in\n+      *:*) touch_files=\"$touch_files \"`echo \"$f\" |\n+\t\t\t\t       sed -e 's/^[^:]*://' -e 's/:.*//'`;;\n+      *) touch_files=\"$touch_files $f.in\";;\n+      esac\n+    done\n+    touch $touch_files\n     ;;\n \n   automake)\n@@ -99,9 +101,9 @@ WARNING: \\`$1' is missing on your system.  You should only need it if\n          you modified \\`Makefile.am', \\`acinclude.m4' or \\`configure.in'.\n          You might want to install the \\`Automake' and \\`Perl' packages.\n          Grab them from any GNU archive site.\"\n-    find . -type f -name Makefile.am -print \\\n-      | sed 's/^\\(.*\\).am$/touch \\1.in/' \\\n-      | sh\n+    find . -type f -name Makefile.am -print |\n+\t   sed 's/\\.am$/.in/' |\n+\t   while read f; do touch \"$f\"; done\n     ;;\n \n   bison|yacc)"}, {"sha": "3c5b508f14279150d7097dfe63ef646b20de27c3", "filename": "mkdep", "status": "added", "additions": 87, "deletions": 0, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d207ebef029642e5b93f7889b40ed5c47267f256/mkdep", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d207ebef029642e5b93f7889b40ed5c47267f256/mkdep", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/mkdep?ref=d207ebef029642e5b93f7889b40ed5c47267f256", "patch": "@@ -0,0 +1,87 @@\n+#!/bin/sh -\n+#\n+# Copyright (c) 1987 Regents of the University of California.\n+# All rights reserved.\n+#\n+# Redistribution and use in source and binary forms are permitted\n+# provided that the above copyright notice and this paragraph are\n+# duplicated in all such forms and that any documentation,\n+# advertising materials, and other materials related to such\n+# distribution and use acknowledge that the software was developed\n+# by the University of California, Berkeley.  The name of the\n+# University may not be used to endorse or promote products derived\n+# from this software without specific prior written permission.\n+# THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR\n+# IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED\n+# WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.\n+#\n+#\t@(#)mkdep.sh\t5.12 (Berkeley) 6/30/88\n+#\n+\n+MAKE=Makefile\t\t\t# default makefile name is \"Makefile\"\n+\n+while :\n+\tdo case \"$1\" in\n+\t\t# -f allows you to select a makefile name\n+\t\t-f)\n+\t\t\tMAKE=$2\n+\t\t\tshift; shift ;;\n+\n+\t\t# the -p flag produces \"program: program.c\" style dependencies\n+\t\t# so .o's don't get produced\n+\t\t-p)\n+\t\t\tSED='s;\\.o;;'\n+\t\t\tshift ;;\n+\t\t*)\n+\t\t\tbreak ;;\n+\tesac\n+done\n+\n+if [ $# = 0 ] ; then\n+\techo 'usage: mkdep [-p] [-f makefile] [flags] file ...'\n+\texit 1\n+fi\n+\n+if [ ! -w $MAKE ]; then\n+\techo \"mkdep: no writeable file \\\"$MAKE\\\"\"\n+\texit 1\n+fi\n+\n+TMP=/tmp/mkdep$$\n+\n+trap 'rm -f $TMP ; exit 1' 1 2 3 13 15\n+\n+cp $MAKE ${MAKE}.bak\n+\n+sed -e '/DO NOT DELETE THIS LINE/,$d' < $MAKE > $TMP\n+\n+cat << _EOF_ >> $TMP\n+# DO NOT DELETE THIS LINE -- mkdep uses it.\n+# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.\n+\n+_EOF_\n+\n+# If your compiler doesn't have -M, add it.  If you can't, the next two\n+# lines will try and replace the \"cc -M\".  The real problem is that this\n+# hack can't deal with anything that requires a search path, and doesn't\n+# even try for anything using bracket (<>) syntax.\n+#\n+# egrep '^#include[ \t]*\".*\"' /dev/null $* |\n+# sed -e 's/:[^\"]*\"\\([^\"]*\\)\".*/: \\1/' -e 's/\\.c/.o/' |\n+\n+gcc -MM $* |\n+sed \"\n+\ts; \\./; ;g\n+\t$SED\" >> $TMP\n+\n+cat << _EOF_ >> $TMP\n+\n+# IF YOU PUT ANYTHING HERE IT WILL GO AWAY\n+_EOF_\n+\n+# copy to preserve permissions\n+cp $TMP $MAKE\n+rm -f ${MAKE}.bak $TMP\n+exit 0\n+\n+"}]}