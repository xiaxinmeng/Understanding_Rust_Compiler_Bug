{"sha": "f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdhNTdjZGMzNTJiZGE0MzI4MTQyM2I5MzNlNGQzY2IwZWRjOWRkYw==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2011-11-07T08:33:14Z"}, "committer": {"name": "Tristan Gingold", "email": "gingold@gcc.gnu.org", "date": "2011-11-07T08:33:14Z"}, "message": "alpha-common.c (alpha_option_init_struct): New function.\n\n2011-11-07  Tristan Gingold  <gingold@adacore.com>\n\n\t* common/config/alpha/alpha-common.c (alpha_option_init_struct):\n\tNew function.\n\t(TARGET_OPTION_INIT_STRUCT): Define.\n\t* config/alpha/alpha.c (TARGET_MIN_ANCHOR_OFFSET)\n\t(TARGET_MAX_ANCHOR_OFFSET)\n\t(TARGET_USE_BLOCKS_FOR_CONSTANT_P): Redefine.\n\nFrom-SVN: r181074", "tree": {"sha": "01162eb745695b65a7edb2d3a9800db3e9f3b839", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01162eb745695b65a7edb2d3a9800db3e9f3b839"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ff02a38bc6b5afb0283d2d9a9ed16c92623ee331", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff02a38bc6b5afb0283d2d9a9ed16c92623ee331", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff02a38bc6b5afb0283d2d9a9ed16c92623ee331"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "f8f33d90a82194bf62ac8e4f554dd77731eae74f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "patch": "@@ -1,3 +1,12 @@\n+2011-11-07  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* common/config/alpha/alpha-common.c (alpha_option_init_struct):\n+\tNew function.\n+\t(TARGET_OPTION_INIT_STRUCT): Define.\n+\t* config/alpha/alpha.c (TARGET_MIN_ANCHOR_OFFSET)\n+\t(TARGET_MAX_ANCHOR_OFFSET)\n+\t(TARGET_USE_BLOCKS_FOR_CONSTANT_P): Redefine.\n+\n 2011-11-06  Quentin Neill  <quentin.neill@amd.com>\n \n \tFix r180999, update ChangeLog"}, {"sha": "8a366b687c9e1684fccd0914ec93efa320a15420", "filename": "gcc/common/config/alpha/alpha-common.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2Fcommon%2Fconfig%2Falpha%2Falpha-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2Fcommon%2Fconfig%2Falpha%2Falpha-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Falpha%2Falpha-common.c?ref=f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "patch": "@@ -36,6 +36,17 @@ static const struct default_options alpha_option_optimization_table[] =\n     { OPT_LEVELS_NONE, 0, NULL, 0 }\n   };\n \n+/* Implement TARGET_OPTION_INIT_STRUCT.  */\n+\n+static void\n+alpha_option_init_struct (struct gcc_options *opts ATTRIBUTE_UNUSED)\n+{\n+#if TARGET_ABI_OPEN_VMS\n+  /* Enable section anchors by default.  */\n+  opts->x_flag_section_anchors = 1;\n+#endif\n+}\n+\n /* Implement TARGET_HANDLE_OPTION.  */\n \n static bool\n@@ -75,6 +86,9 @@ alpha_handle_option (struct gcc_options *opts,\n #undef TARGET_HANDLE_OPTION\n #define TARGET_HANDLE_OPTION alpha_handle_option\n \n+#undef TARGET_OPTION_INIT_STRUCT\n+#define TARGET_OPTION_INIT_STRUCT alpha_option_init_struct\n+\n #undef TARGET_OPTION_OPTIMIZATION_TABLE\n #define TARGET_OPTION_OPTIMIZATION_TABLE alpha_option_optimization_table\n "}, {"sha": "9a43f80243f1f15e241f1022223e966b9082e2f0", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a57cdc352bda43281423b933e4d3cb0edc9ddc/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=f7a57cdc352bda43281423b933e4d3cb0edc9ddc", "patch": "@@ -9643,6 +9643,14 @@ alpha_conditional_register_usage (void)\n #define TARGET_STDARG_OPTIMIZE_HOOK alpha_stdarg_optimize_hook\n #endif\n \n+/* Use 16-bits anchor.  */\n+#undef TARGET_MIN_ANCHOR_OFFSET\n+#define TARGET_MIN_ANCHOR_OFFSET -0x7fff - 1\n+#undef TARGET_MAX_ANCHOR_OFFSET\n+#define TARGET_MAX_ANCHOR_OFFSET 0x7fff\n+#undef TARGET_USE_BLOCKS_FOR_CONSTANT_P\n+#define TARGET_USE_BLOCKS_FOR_CONSTANT_P hook_bool_mode_const_rtx_true\n+\n #undef TARGET_RTX_COSTS\n #define TARGET_RTX_COSTS alpha_rtx_costs\n #undef TARGET_ADDRESS_COST"}]}