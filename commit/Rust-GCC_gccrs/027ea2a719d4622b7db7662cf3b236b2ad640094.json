{"sha": "027ea2a719d4622b7db7662cf3b236b2ad640094", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDI3ZWEyYTcxOWQ0NjIyYjdkYjc2NjJjZjNiMjM2YjJhZDY0MDA5NA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1999-03-01T19:15:49Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1999-03-01T19:15:49Z"}, "message": "Patch to fix solaris2 float.h/limits.h conflict.\n\n\t* Makefile.in (CROSS_FLOAT_H): Delete.\n\t(FLOAT_H): Use float_h_file.\n\t(rest.cross, stmp-int-hdrs): Delete gfloat.h dependency.\n\t(gfloat.h): Delete.\n\t(stmp-int-hdrs): Use FLOAT_H instead of gfloat.h.\n\t(mostlyclean): Delete gloat.h reference.\n\t(install-cross-rest, install-float-h-cross, stmp-headers): Update\n\tcomments.\n\t* configure.in (sparcv9-*-solaris2*): Set float_format to none.\n\t(sparc-*-solaris2*): Set float_format to none for 2.5 and higher.\n\t(float_h_file): Set from float_format.  Substitute into Makefile.in.\n\t(float_format): No longer substitute into Makefile.in.\n\t* cross-make (FLOAT_H): Delete.\n\t* config/mips/t-cross64 (FLOAT_H): Delete.\n\t* configure: Rebuilt.\n\nFrom-SVN: r25518", "tree": {"sha": "06f920e4e70a6153db6074c0a96482d99f80f339", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06f920e4e70a6153db6074c0a96482d99f80f339"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/027ea2a719d4622b7db7662cf3b236b2ad640094", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/027ea2a719d4622b7db7662cf3b236b2ad640094", "html_url": "https://github.com/Rust-GCC/gccrs/commit/027ea2a719d4622b7db7662cf3b236b2ad640094", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/027ea2a719d4622b7db7662cf3b236b2ad640094/comments", "author": null, "committer": null, "parents": [{"sha": "487f99d2ab1d0db37eb0c68290d81b77539155ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/487f99d2ab1d0db37eb0c68290d81b77539155ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/487f99d2ab1d0db37eb0c68290d81b77539155ed"}], "stats": {"total": 314, "additions": 163, "deletions": 151}, "files": [{"sha": "c6935e7a54f55ccb65464ac5fcffdfa5b8d00821", "filename": "gcc/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -1,3 +1,21 @@\n+Mon Mar  1 19:09:32 1999  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* Makefile.in (CROSS_FLOAT_H): Delete.\n+\t(FLOAT_H): Use float_h_file.\n+\t(rest.cross, stmp-int-hdrs): Delete gfloat.h dependency.\n+\t(gfloat.h): Delete.\n+\t(stmp-int-hdrs): Use FLOAT_H instead of gfloat.h.\n+\t(mostlyclean): Delete gloat.h reference.\n+\t(install-cross-rest, install-float-h-cross, stmp-headers): Update\n+\tcomments.\n+\t* configure.in (sparcv9-*-solaris2*): Set float_format to none.\n+\t(sparc-*-solaris2*): Set float_format to none for 2.5 and higher.\n+\t(float_h_file): Set from float_format.  Substitute into Makefile.in.\n+\t(float_format): No longer substitute into Makefile.in.\t\n+\t* cross-make (FLOAT_H): Delete.\n+\t* config/mips/t-cross64 (FLOAT_H): Delete.\n+\t* configure: Rebuilt.\n+\t\n Mon Mar  1 16:36:18 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* mips.md (div_trap_normal, div_trap_mips16): Require the dependent"}, {"sha": "8bc986f1913c7cb9e7da27b4e558bfb1a55098c7", "filename": "gcc/Makefile.in", "status": "modified", "additions": 9, "deletions": 16, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -397,13 +397,9 @@ LIB1FUNCS_EXTRA =\n # Assembler files should have names ending in `.asm'.\n LIB2FUNCS_EXTRA = \n \n-# Default float.h source to use for cross-compiler.\n-# This is overridden by configure.\n-CROSS_FLOAT_H=$(srcdir)/config/float-@float_format@.h\n-\n # We do not try to build float.h anymore.  Let configure select the\n # appropriate pre-built float.h file for the target.\n-FLOAT_H=$(srcdir)/config/float-@float_format@.h\n+FLOAT_H=@float_h_file@\n \n # Program to convert libraries.\n LIBCONVERT = \n@@ -850,7 +846,7 @@ PROTO: proto\n \n # On the target machine, finish building a cross compiler.\n # This does the things that can't be done on the host machine.\n-rest.cross: $(LIBGCC) gfloat.h specs\n+rest.cross: $(LIBGCC) specs\n \n # Verify that it works to compile and link libgcc1-test.\n # If it does, then there are sufficient replacements for libgcc1.a.\n@@ -892,11 +888,6 @@ gcc-cross: xgcc$(exeext)\n cc1$(exeext): $(P) $(OBJS) $(C_OBJS) $(LIBDEPS)\n \t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(OBJS) $(C_OBJS) $(LIBS)\n \n-# Copy float.h from its source.\n-gfloat.h: $(FLOAT_H)\n-\t-rm -f gfloat.h\n-\tcp $(FLOAT_H) gfloat.h\n-\n # Build the version of limits.h that we will install.\n xlimits.h: glimits.h limitx.h limity.h\n \tif $(LIMITS_H_TEST) ; then \\\n@@ -2072,7 +2063,7 @@ gcov$(exeext): $(GCOV_OBJS) $(LIBDEPS)\n \n # Build the include directory including float.h (which no longer depends upon\n # enquire).\n-stmp-int-hdrs: stmp-fixinc $(USER_H) xlimits.h gfloat.h\n+stmp-int-hdrs: stmp-fixinc $(USER_H) xlimits.h\n # Copy in the headers provided with gcc.\n # The sed command gets just the last file name component;\n # this is necessary because VPATH could add a dirname.\n@@ -2091,8 +2082,8 @@ stmp-int-hdrs: stmp-fixinc $(USER_H) xlimits.h gfloat.h\n \tcp xlimits.h include/limits.h\n \tchmod a+r include/limits.h\n \trm -f include/float.h\n-\tif [ -s gfloat.h ]; then \\\n-\t  cp gfloat.h include/float.h && \\\n+\tif [ x$(FLOAT_H) != xMakefile.in ]; then \\\n+\t  cp $(srcdir)/config/$(FLOAT_H) include/float.h && \\\n \t  chmod a+r include/float.h; \\\n \telse :; fi\n # Install the README\n@@ -2101,7 +2092,7 @@ stmp-int-hdrs: stmp-fixinc $(USER_H) xlimits.h gfloat.h\n \tchmod a+r include/README\n \ttouch $@\n \n-# Now that gfloat.h no longer depends upon enquire, this is actually a no-op.\n+# Now that float.h no longer depends upon enquire, this is actually a no-op.\n stmp-headers:\n \ttouch $@\n \n@@ -2296,7 +2287,7 @@ mostlyclean: intl.mostlyclean lang.mostlyclean\n \t-rm -f */*.tree */*.loop */*.dbr */*.jump2 */*.sched */*.cse2\n \t-rm -f */*.sched2 */*.stack */*.regmove */*.gcse\n # Delete some files made during installation.\n-\t-rm -f specs gfloat.h float.h-* enquire SYSCALLS.c.X SYSCALLS.c\n+\t-rm -f specs float.h-* enquire SYSCALLS.c.X SYSCALLS.c\n \t-rm -f collect collect2 mips-tfile mips-tdump alloca.s\n # Delete files generated for fixproto\n \t-rm -rf fix-header xsys-protos.h deduced.h tmp-deduced.h \\\n@@ -2408,10 +2399,12 @@ install-build: force\n \n # Run this on the target machine\n # to finish installation of cross compiler.\n+# This is not used anymore now that float.h does not depend on enquire.\n install-cross-rest: install-float-h-cross\n \n # Install float.h for cross compiler.\n # Run this on the target machine!\n+# This is not used anymore now that float.h does not depend on enquire.\n install-float-h-cross: installdirs\n #\tif [ -f enquire ] ; then true; else false; fi\n # Note: don't use -.  We should fail right away if enquire was not made."}, {"sha": "bfca95072f71d2f340dd48f5ae120dc53432cdf0", "filename": "gcc/config/mips/t-cross64", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfig%2Fmips%2Ft-cross64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfig%2Fmips%2Ft-cross64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-cross64?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -2,8 +2,6 @@ SYSTEM_HEADER_DIR = /usr/cross64/usr/include\n \n AR = /usr/cross64/usr/bin/ar\n \n-FLOAT_H = $(CROSS_FLOAT_H)\n-\n # The rest of the file is identical to t-iris6.\n \n # Suppress building libgcc1.a, since the MIPS compiler port is complete"}, {"sha": "ff478058f924866fac0dd4a533c570a5323384ef", "filename": "gcc/configure", "status": "modified", "additions": 123, "deletions": 125, "changes": 248, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -2160,7 +2160,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -2170,12 +2169,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2179: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2178: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2204,12 +2203,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2208: checking for vprintf\" >&5\n+echo \"configure:2207: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2213 \"configure\"\n+#line 2212 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2218,7 +2217,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char vprintf();\n-char (*f)();\n \n int main() {\n \n@@ -2228,12 +2226,12 @@ int main() {\n #if defined (__stub_vprintf) || defined (__stub___vprintf)\n choke me\n #else\n-f = vprintf;\n+vprintf();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2237: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2235: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2257,12 +2255,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2261: checking for _doprnt\" >&5\n+echo \"configure:2259: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2266 \"configure\"\n+#line 2264 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2271,7 +2269,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char _doprnt();\n-char (*f)();\n \n int main() {\n \n@@ -2281,12 +2278,12 @@ int main() {\n #if defined (__stub__doprnt) || defined (__stub____doprnt)\n choke me\n #else\n-f = _doprnt;\n+_doprnt();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2290: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2287: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2322,15 +2319,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2326: checking whether the printf functions support %p\" >&5\n+echo \"configure:2323: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2334 \"configure\"\n+#line 2331 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2343,7 +2340,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2347: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2344: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2367,12 +2364,12 @@ EOF\n fi\n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2371: checking for pid_t\" >&5\n+echo \"configure:2368: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2376 \"configure\"\n+#line 2373 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2401,17 +2398,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2405: checking for vfork.h\" >&5\n+echo \"configure:2402: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2410 \"configure\"\n+#line 2407 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2415: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2412: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2436,18 +2433,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2440: checking for working vfork\" >&5\n+echo \"configure:2437: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2446: checking for vfork\" >&5\n+echo \"configure:2443: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2451 \"configure\"\n+#line 2448 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2456,7 +2453,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char vfork();\n-char (*f)();\n \n int main() {\n \n@@ -2466,12 +2462,12 @@ int main() {\n #if defined (__stub_vfork) || defined (__stub___vfork)\n choke me\n #else\n-f = vfork;\n+vfork();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2475: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2471: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2493,7 +2489,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2497 \"configure\"\n+#line 2493 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2588,7 +2584,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2592: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2588: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2616,12 +2612,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tstrsignal\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2620: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2616: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2625 \"configure\"\n+#line 2621 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2654,7 +2650,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2658: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2654: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2683,12 +2679,12 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2687: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2683: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2692 \"configure\"\n+#line 2688 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2725,7 +2721,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2729: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2725: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2752,12 +2748,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2756: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2752: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2761 \"configure\"\n+#line 2757 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2769,7 +2765,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2773: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2769: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5349,7 +5345,7 @@ for machine in $build $host $target; do\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o crtbegin.o crtend.o\"\n \t\tfixincludes=fixinc.wrap\n-\t\tfloat_format=i128\n+\t\tfloat_format=none\n \t\tif test x${enable_threads} = x ; then\n \t\t    enable_threads=$have_pthread_h\n \t\t    if test x${enable_threads} = x ; then\n@@ -5387,11 +5383,14 @@ for machine in $build $host $target; do\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o\"\n \t\tcase $machine in\n \t\t*-*-solaris2.[0-4])\n-\t\t\tfixincludes=fixinc.svr4;;\n+\t\t\tfixincludes=fixinc.svr4\n+\t\t\tfloat_format=i128\n+\t\t\t;;\n \t\t*)\n-\t\t\tfixincludes=fixinc.wrap;;\n+\t\t\tfixincludes=fixinc.wrap\n+\t\t\tfloat_format=none\n+\t\t\t;;\n \t\tesac\n-\t\tfloat_format=i128\n \t\tif test x${enable_threads} = x; then\n \t\t    enable_threads=$have_pthread_h\n \t\t    if test x${enable_threads} = x; then\n@@ -5786,6 +5785,11 @@ if test x$float_format = x\n then float_format=i64\n fi\n \n+if test $float_format = none\n+then float_h_file=Makefile.in\n+else float_h_file=float-$float_format.h\n+fi\n+\n if test x$enable_haifa = x\n then\n   case $target in\n@@ -5977,15 +5981,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:5981: checking for strerror in -lcposix\" >&5\n+echo \"configure:5985: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5989 \"configure\"\n+#line 5993 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5996,7 +6000,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6000: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6004: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6019,12 +6023,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6023: checking for working const\" >&5\n+echo \"configure:6027: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6028 \"configure\"\n+#line 6032 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6073,7 +6077,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6077: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6081: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6094,21 +6098,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6098: checking for inline\" >&5\n+echo \"configure:6102: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6105 \"configure\"\n+#line 6109 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6112: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6116: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6134,12 +6138,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6138: checking for off_t\" >&5\n+echo \"configure:6142: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6143 \"configure\"\n+#line 6147 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6167,12 +6171,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6171: checking for size_t\" >&5\n+echo \"configure:6175: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6176 \"configure\"\n+#line 6180 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6202,19 +6206,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6206: checking for working alloca.h\" >&5\n+echo \"configure:6210: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6211 \"configure\"\n+#line 6215 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6218: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6222: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6235,12 +6239,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6239: checking for alloca\" >&5\n+echo \"configure:6243: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6244 \"configure\"\n+#line 6248 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6268,7 +6272,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6272: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6276: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6300,12 +6304,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6304: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6308: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6309 \"configure\"\n+#line 6313 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6330,12 +6334,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6334: checking for $ac_func\" >&5\n+echo \"configure:6338: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6339 \"configure\"\n+#line 6343 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6344,7 +6348,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -6354,12 +6357,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6363: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6366: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6386,15 +6389,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6390: checking stack direction for C alloca\" >&5\n+echo \"configure:6393: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6398 \"configure\"\n+#line 6401 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6413,7 +6416,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6420: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6438,17 +6441,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6442: checking for $ac_hdr\" >&5\n+echo \"configure:6445: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6447 \"configure\"\n+#line 6450 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6452: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6455: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6477,12 +6480,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6481: checking for $ac_func\" >&5\n+echo \"configure:6484: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6486 \"configure\"\n+#line 6489 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6491,7 +6494,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -6501,12 +6503,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6510: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6512: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6531,15 +6533,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6535: checking for working mmap\" >&5\n+echo \"configure:6537: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6543 \"configure\"\n+#line 6545 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -6679,7 +6681,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:6683: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6685: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -6707,17 +6709,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6711: checking for $ac_hdr\" >&5\n+echo \"configure:6713: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6716 \"configure\"\n+#line 6718 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6721: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6723: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6747,12 +6749,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6751: checking for $ac_func\" >&5\n+echo \"configure:6753: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6756 \"configure\"\n+#line 6758 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6761,7 +6763,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -6771,12 +6772,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6780: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6781: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6805,12 +6806,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6809: checking for $ac_func\" >&5\n+echo \"configure:6810: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6814 \"configure\"\n+#line 6815 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6819,7 +6820,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -6829,7 +6829,7 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n@@ -7141,7 +7141,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char $ac_func();\n-char (*f)();\n \n int main() {\n \n@@ -7151,12 +7150,12 @@ int main() {\n #if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n choke me\n #else\n-f = $ac_func;\n+$ac_func();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7160: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7159: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7183,7 +7182,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7187: checking for $ac_word\" >&5\n+echo \"configure:7186: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7219,7 +7218,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7223: checking for $ac_word\" >&5\n+echo \"configure:7222: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7251,15 +7250,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7255 \"configure\"\n+#line 7254 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7263: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7262: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7282,7 +7281,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7286: checking whether catgets can be used\" >&5\n+echo \"configure:7285: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7295,22 +7294,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7299: checking for main in -li\" >&5\n+echo \"configure:7298: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7307 \"configure\"\n+#line 7306 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7314: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7313: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7338,12 +7337,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7342: checking for catgets\" >&5\n+echo \"configure:7341: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7347 \"configure\"\n+#line 7346 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7352,7 +7351,6 @@ else\n /* We use char because int might match the return type of a gcc2\n     builtin and then its argument prototype would still apply.  */\n char catgets();\n-char (*f)();\n \n int main() {\n \n@@ -7362,12 +7360,12 @@ int main() {\n #if defined (__stub_catgets) || defined (__stub___catgets)\n choke me\n #else\n-f = catgets;\n+catgets();\n #endif\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7371: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7369: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7389,7 +7387,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7393: checking for $ac_word\" >&5\n+echo \"configure:7391: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7425,7 +7423,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7429: checking for $ac_word\" >&5\n+echo \"configure:7427: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7462,7 +7460,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7466: checking for $ac_word\" >&5\n+echo \"configure:7464: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7497,7 +7495,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7501: checking for $ac_word\" >&5\n+echo \"configure:7499: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7555,7 +7553,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7559: checking for $ac_word\" >&5\n+echo \"configure:7557: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7589,7 +7587,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7593: checking for $ac_word\" >&5\n+echo \"configure:7591: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7625,7 +7623,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7629: checking for $ac_word\" >&5\n+echo \"configure:7627: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7718,7 +7716,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7722: checking for catalogs to be installed\" >&5\n+echo \"configure:7720: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -7746,17 +7744,17 @@ echo \"configure:7722: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7750: checking for linux/version.h\" >&5\n+echo \"configure:7748: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7755 \"configure\"\n+#line 7753 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7760: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7758: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7988,7 +7986,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7992: checking assembler alignment features\" >&5\n+echo \"configure:7990: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8061,7 +8059,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8065: checking assembler subsection support\" >&5\n+echo \"configure:8063: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8346,7 +8344,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:8350: checking whether to enable init_priority by default\" >&5\n+echo \"configure:8348: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi\n@@ -8695,7 +8693,7 @@ s%@fixincludes@%$fixincludes%g\n s%@build_install_headers_dir@%$build_install_headers_dir%g\n s%@build_exeext@%$build_exeext%g\n s%@host_exeext@%$host_exeext%g\n-s%@float_format@%$float_format%g\n+s%@float_h_file@%$float_h_file%g\n s%@will_use_collect2@%$will_use_collect2%g\n s%@maybe_use_collect2@%$maybe_use_collect2%g\n s%@cc_set_by_configure@%$cc_set_by_configure%g"}, {"sha": "861cd25a834b627ca276b9b9be4193a1bba0785c", "filename": "gcc/configure.in", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -3088,7 +3088,7 @@ changequote([,])dnl\n \t\txmake_file=sparc/x-sysv4\n \t\textra_parts=\"crt1.o crti.o crtn.o gcrt1.o crtbegin.o crtend.o\"\n \t\tfixincludes=fixinc.wrap\n-\t\tfloat_format=i128\n+\t\tfloat_format=none\n \t\tif test x${enable_threads} = x ; then\n \t\t    enable_threads=$have_pthread_h\n \t\t    if test x${enable_threads} = x ; then\n@@ -3128,11 +3128,14 @@ changequote([,])dnl\n changequote(,)dnl\n \t\t*-*-solaris2.[0-4])\n changequote([,])dnl\n-\t\t\tfixincludes=fixinc.svr4;;\n+\t\t\tfixincludes=fixinc.svr4\n+\t\t\tfloat_format=i128\n+\t\t\t;;\n \t\t*)\n-\t\t\tfixincludes=fixinc.wrap;;\n+\t\t\tfixincludes=fixinc.wrap\n+\t\t\tfloat_format=none\n+\t\t\t;;\n \t\tesac\n-\t\tfloat_format=i128\n \t\tif test x${enable_threads} = x; then\n \t\t    enable_threads=$have_pthread_h\n \t\t    if test x${enable_threads} = x; then\n@@ -3527,6 +3530,11 @@ if test x$float_format = x\n then float_format=i64\n fi\n \n+if test $float_format = none\n+then float_h_file=Makefile.in\n+else float_h_file=float-$float_format.h\n+fi\n+\n if test x$enable_haifa = x\n then\n   case $target in\n@@ -4278,7 +4286,7 @@ AC_SUBST(fixincludes)\n AC_SUBST(build_install_headers_dir)\n AC_SUBST(build_exeext)\n AC_SUBST(host_exeext)\n-AC_SUBST(float_format)\n+AC_SUBST(float_h_file)\n AC_SUBST(will_use_collect2)\n AC_SUBST(maybe_use_collect2)\n AC_SUBST(cc_set_by_configure)"}, {"sha": "84be67fd605b62afc07f931b918437b29ae11f67", "filename": "gcc/cross-make", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fcross-make", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/027ea2a719d4622b7db7662cf3b236b2ad640094/gcc%2Fcross-make", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcross-make?ref=027ea2a719d4622b7db7662cf3b236b2ad640094", "patch": "@@ -10,8 +10,5 @@ SYSTEM_HEADER_DIR = $(tooldir)/sys-include\n # Don't try to compile the things we can't compile.\n ALL = all.cross\n \n-# Use cross-compiler version of float.h.\n-FLOAT_H = $(CROSS_FLOAT_H)\n-\n # Don't install assert.h in /usr/local/include.\n assertdir = $(tooldir)/include"}]}