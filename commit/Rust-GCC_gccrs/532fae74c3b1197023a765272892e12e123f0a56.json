{"sha": "532fae74c3b1197023a765272892e12e123f0a56", "node_id": "C_kwDOANBUbNoAKDUzMmZhZTc0YzNiMTE5NzAyM2E3NjUyNzI4OTJlMTJlMTIzZjBhNTY", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-11-19T15:48:53Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-11-19T19:51:27Z"}, "message": "libphobos, testsuite: Add prune clauses for two Darwin cases.\n\nDepending on the permutation of CPU, OS version and shared/non-\nshared library inclusion, we get can get two warnings from the\nexternal tools (ld64, dsymutil) which are not actually GCC issues\nbut relate to the external tools.  These are alrrady pruned in\nthe main testsuite, this adds them to the library.\n\nSigned-off-by: Iain Sandoe <iain@sandoe.co.uk>\n\nlibphobos/ChangeLog:\n\n\t* testsuite/lib/libphobos.exp: Prune warnings from external\n\ttool bugs.", "tree": {"sha": "076466922a8cf757bca30ef5cbdcb4d8e0b4b380", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/076466922a8cf757bca30ef5cbdcb4d8e0b4b380"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/532fae74c3b1197023a765272892e12e123f0a56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/532fae74c3b1197023a765272892e12e123f0a56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/532fae74c3b1197023a765272892e12e123f0a56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/532fae74c3b1197023a765272892e12e123f0a56/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8f2efaed02e8b03d215d74e42d3707761772f64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8f2efaed02e8b03d215d74e42d3707761772f64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8f2efaed02e8b03d215d74e42d3707761772f64"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "2af430a0e456c86da75d72f19ba9fe857b1b9538", "filename": "libphobos/testsuite/lib/libphobos.exp", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/532fae74c3b1197023a765272892e12e123f0a56/libphobos%2Ftestsuite%2Flib%2Flibphobos.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/532fae74c3b1197023a765272892e12e123f0a56/libphobos%2Ftestsuite%2Flib%2Flibphobos.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Ftestsuite%2Flib%2Flibphobos.exp?ref=532fae74c3b1197023a765272892e12e123f0a56", "patch": "@@ -90,6 +90,13 @@ proc libphobos-dg-test { prog do_what extra_tool_flags } {\n }\n \n proc libphobos-dg-prune { system text } {\n+\n+    # Ignore harmless warnings from Xcode.\n+    regsub -all \"(^|\\n)\\[^\\n\\]*ld: warning: could not create compact unwind for\\[^\\n\\]*\" $text \"\" text\n+\n+    # Ignore dsymutil warning (tool bug is actually linker)\n+    regsub -all \"(^|\\n)\\[^\\n\\]*could not find object file symbol for symbol\\[^\\n\\]*\" $text \"\" text\n+\n     return $text\n }\n "}]}