{"sha": "dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d", "node_id": "C_kwDOANBUbNoAKGRkNjFlZTZmZGU1ZmNmMWQ1MDNiNjc5YmI5YjVlMGEwYmE3YTUxNWQ", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2022-04-13T13:08:59Z"}, "committer": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2022-04-13T13:09:29Z"}, "message": "testsuite: Increase auto-inlining param in gcc.dg/ipa/remref-7.c (PR 105183)\n\nA scan dump of testsuite gcc.dg/ipa/remref-7.c fails on a number of\nplatforms.  I investigated only i?86-*-* with -mno-sse but assume the\nissue is the same on all of the affected platform.\n\nBecause function bar is not inlined there even though it is only\ncalled once, the process that is being tested is simply not triggered.\nThis can be \"fixed\" by increasing parameter max-inline-insns-auto to\nsomething high, I randomly picked 100.\n\nI have only manually tested the change but hopefully that is enough.\n\ngcc/testsuite/ChangeLog:\n\n2022-04-08  Martin Jambor  <mjambor@suse.cz>\n\n\tPR testsuite/105183\n\t* gcc.dg/ipa/remref-7.c: Add --param max-inline-insns-auto=100 to options.", "tree": {"sha": "2ca690c73343001428f939b94b90fb541549c72b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ca690c73343001428f939b94b90fb541549c72b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE5elVTFt/d09Vsoczv2PBvD+kNUAFAmJWy4kACgkQv2PBvD+k\nNUDr3A//UkQ9TK6zHGJpGz7tyLIL4jXVSJOVHw+MLP4R3T2Uq/DUo2cycTNfno8d\nf3y73PKIpTN03ahmai0oOnOmfRnzS95N9jpRL4TBR/RpQ5bz+ub+OWpBBbTpNR5h\nZYLGmLq/hnKI7D6WxaKjEhAp2Q8HBizjj1IwYOUJaq2cbZOdKckVUGaF3krVKIui\nmJEzinSiJpRyIbcHk+kiNA6/jpIilUE6lH/gLqZ8oLzpUfSIoH4bcaZ6zgW1OkOR\nOyzHQJUByadB0IA80BUhko3yiMpvttYOMxMx7dGAIM6dU8mcufyIbYGHSs/MStUq\n8ZuYYO4FG1moFhfHzlET9WveBSsIfO4QSHpJkrI2TYOEaiQKUb9K3UIE1xKk1yGv\niwdYphpZO6LF0edR1Veu57xNL559n2yyNQNneQEmEL1oO0CFc4qa4UWWwMQKc2C/\nx0WdBa9i+BXnxK21FxhI3RfydlQQOqiyauQooaANTbPROljN7Y7BpMb7M/k8UhAr\ncy9JiglrPCHg36HogeqPxc6q6y426tCQmGgklgp+G/Aj6UO6a15WTndKfl3SPGPk\nwn8HKWMj5azNNW+GOfg4ZsRZpT2n+IecUv/c3b94JfY3exOUbHofD8ZZrchkiv6A\n+rRvchHXXG7V55J6fm/9uDk85E5sgO+rtWzXs8fg/9AG31+ml84=\n=3OPt\n-----END PGP SIGNATURE-----", "payload": "tree 2ca690c73343001428f939b94b90fb541549c72b\nparent 85ae54e18b9a3cbe4feda921ecd77cf275177edf\nauthor Martin Jambor <mjambor@suse.cz> 1649855339 +0200\ncommitter Martin Jambor <mjambor@suse.cz> 1649855369 +0200\n\ntestsuite: Increase auto-inlining param in gcc.dg/ipa/remref-7.c (PR 105183)\n\nA scan dump of testsuite gcc.dg/ipa/remref-7.c fails on a number of\nplatforms.  I investigated only i?86-*-* with -mno-sse but assume the\nissue is the same on all of the affected platform.\n\nBecause function bar is not inlined there even though it is only\ncalled once, the process that is being tested is simply not triggered.\nThis can be \"fixed\" by increasing parameter max-inline-insns-auto to\nsomething high, I randomly picked 100.\n\nI have only manually tested the change but hopefully that is enough.\n\ngcc/testsuite/ChangeLog:\n\n2022-04-08  Martin Jambor  <mjambor@suse.cz>\n\n\tPR testsuite/105183\n\t* gcc.dg/ipa/remref-7.c: Add --param max-inline-insns-auto=100 to options.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85ae54e18b9a3cbe4feda921ecd77cf275177edf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85ae54e18b9a3cbe4feda921ecd77cf275177edf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85ae54e18b9a3cbe4feda921ecd77cf275177edf"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "152b9d0ca94e022e1478fdc70c4f9c1c92a56d4d", "filename": "gcc/testsuite/gcc.dg/ipa/remref-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fremref-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fremref-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fremref-7.c?ref=dd61ee6fde5fcf1d503b679bb9b5e0a0ba7a515d", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -fno-early-inlining -fno-ipa-sra -fdump-ipa-inline\"  }  */\n+/* { dg-options \"-O2 -fno-early-inlining -fno-ipa-sra -fdump-ipa-inline --param max-inline-insns-auto=100\" }  */\n \n int rglobal = 0;\n int g;"}]}