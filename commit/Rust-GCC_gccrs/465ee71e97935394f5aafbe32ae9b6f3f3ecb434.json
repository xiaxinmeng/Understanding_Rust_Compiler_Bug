{"sha": "465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY1ZWU3MWU5NzkzNTM5NGY1YWFmYmUzMmFlOWI2ZjNmM2VjYjQzNA==", "commit": {"author": {"name": "Sven de Marothy", "email": "sven@physto.se", "date": "2005-04-27T18:47:40Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2005-04-27T18:47:40Z"}, "message": "2005-04-27  Sven de Marothy <sven@physto.se>\n\n\t* java/util/TimeZone.java,\n\t(getDefaultDisplayName): Fix previous fix.\n\n2005-04-27  Sven de Marothy <sven@physto.se>\n\n\t* java/util/TimeZone.java,\n\t(getDefaultDisplayName): Don't print zero offsets.\n\nFrom-SVN: r98874", "tree": {"sha": "44e3bdb3d870bb980657ebea614e9d5b0c9fbe9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/44e3bdb3d870bb980657ebea614e9d5b0c9fbe9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "html_url": "https://github.com/Rust-GCC/gccrs/commit/465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/465ee71e97935394f5aafbe32ae9b6f3f3ecb434/comments", "author": null, "committer": null, "parents": [{"sha": "a8efb5bb1e73551b6d1eef99bf96ea7df3837246", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8efb5bb1e73551b6d1eef99bf96ea7df3837246", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8efb5bb1e73551b6d1eef99bf96ea7df3837246"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "375b41dc46ac2432708e9c01316e6e5da5ccb021", "filename": "libjava/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/465ee71e97935394f5aafbe32ae9b6f3f3ecb434/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/465ee71e97935394f5aafbe32ae9b6f3f3ecb434/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "patch": "@@ -1,3 +1,13 @@\n+2005-04-27  Sven de Marothy <sven@physto.se>\n+\n+\t* java/util/TimeZone.java,\n+\t(getDefaultDisplayName): Fix previous fix.\n+\n+2005-04-27  Sven de Marothy <sven@physto.se>\n+\n+\t* java/util/TimeZone.java,\n+\t(getDefaultDisplayName): Don't print zero offsets.\n+\n 2005-04-27  Roman Kennke  <roman@kennke.org>\n \n \t* javax/swing/plaf/basic/BasicScrollBarUI"}, {"sha": "7b7947f63cae9dd95bd37e6a387c40da60d97701", "filename": "libjava/java/util/TimeZone.java", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/465ee71e97935394f5aafbe32ae9b6f3f3ecb434/libjava%2Fjava%2Futil%2FTimeZone.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/465ee71e97935394f5aafbe32ae9b6f3f3ecb434/libjava%2Fjava%2Futil%2FTimeZone.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2FTimeZone.java?ref=465ee71e97935394f5aafbe32ae9b6f3f3ecb434", "patch": "@@ -1107,15 +1107,21 @@ private String getDefaultDisplayName(boolean dst)\n \n     StringBuffer sb = new StringBuffer(9);\n     sb.append(\"GMT\");\n-    sb.append(offset >= 0 ? '+' : '-');\n \n-    offset = Math.abs(offset) / (1000 * 60);\n-    int hours = offset / 60;\n-    int minutes = offset % 60;\n+    offset = offset / (1000 * 60);\n+    int hours = Math.abs(offset) / 60;\n+    int minutes = Math.abs(offset) % 60;\n+\n+    if (minutes != 0 || hours != 0)\n+      {\n+\tsb.append(offset >= 0 ? '+' : '-');\n+\tsb.append((char) ('0' + hours / 10));\n+\tsb.append((char) ('0' + hours % 10));\n+\tsb.append(':');\n+\tsb.append((char) ('0' + minutes / 10));\n+\tsb.append((char) ('0' + minutes % 10));\n+      }\n \n-    sb.append((char) ('0' + hours / 10)).append((char) ('0' + hours % 10));\n-    sb.append(':');\n-    sb.append((char) ('0' + minutes / 10)).append((char) ('0' + minutes % 10));\n     return sb.toString();\n   }\n "}]}