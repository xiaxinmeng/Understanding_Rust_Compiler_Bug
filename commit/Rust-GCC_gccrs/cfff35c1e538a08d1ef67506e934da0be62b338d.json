{"sha": "cfff35c1e538a08d1ef67506e934da0be62b338d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ZmZjM1YzFlNTM4YTA4ZDFlZjY3NTA2ZTkzNGRhMGJlNjJiMzM4ZA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "2000-04-14T23:11:01Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2000-04-14T23:11:01Z"}, "message": "Fix ia64 gdb miscompilation reported by Kevin Buettner.\n\n\t* combine.c (force_to_mode, case LSHIFTRT): Check that shift shift\n\tplus mask size is smaller or equal to the mode size.\n\nFrom-SVN: r33157", "tree": {"sha": "d2b85db3da8e452e68244bddadfb8efbf9ded3ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2b85db3da8e452e68244bddadfb8efbf9ded3ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cfff35c1e538a08d1ef67506e934da0be62b338d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfff35c1e538a08d1ef67506e934da0be62b338d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cfff35c1e538a08d1ef67506e934da0be62b338d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cfff35c1e538a08d1ef67506e934da0be62b338d/comments", "author": null, "committer": null, "parents": [{"sha": "4c1545e441c284dab059b8d6d769d4b75e9cdf96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c1545e441c284dab059b8d6d769d4b75e9cdf96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c1545e441c284dab059b8d6d769d4b75e9cdf96"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "ff72913193d0932efdf3444f08f2c42c6a65dad0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfff35c1e538a08d1ef67506e934da0be62b338d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfff35c1e538a08d1ef67506e934da0be62b338d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cfff35c1e538a08d1ef67506e934da0be62b338d", "patch": "@@ -1,3 +1,8 @@\n+Fri Apr 14 16:09:02 2000  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* combine.c (force_to_mode, case LSHIFTRT): Check that shift shift\n+\tplus mask size is smaller or equal to the mode size.\n+\n Fri Apr 14 18:07:30 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* print-rtl.c (print_rtx, case NOTE): Don't blow up if NOTE_BASIC_BLOCK"}, {"sha": "4bcaf388115f5d87fbf484838a29f149211b5b78", "filename": "gcc/combine.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cfff35c1e538a08d1ef67506e934da0be62b338d/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cfff35c1e538a08d1ef67506e934da0be62b338d/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=cfff35c1e538a08d1ef67506e934da0be62b338d", "patch": "@@ -6935,10 +6935,17 @@ force_to_mode (x, mode, mask, reg, just_select)\n \n       if (GET_CODE (x) == LSHIFTRT\n \t  && GET_CODE (XEXP (x, 1)) == CONST_INT\n+\t  /* The shift puts one of the sign bit copies in the least significant\n+\t     bit.  */\n \t  && ((INTVAL (XEXP (x, 1))\n \t       + num_sign_bit_copies (XEXP (x, 0), GET_MODE (XEXP (x, 0))))\n \t      >= GET_MODE_BITSIZE (GET_MODE (x)))\n \t  && exact_log2 (mask + 1) >= 0\n+\t  /* Number of bits left after the shift must be more than the mask\n+\t     needs.  */\n+\t  && ((INTVAL (XEXP (x, 1)) + exact_log2 (mask + 1))\n+\t      <= GET_MODE_BITSIZE (GET_MODE (x)))\n+\t  /* Must be more sign bit copies than the mask needs.  */\n \t  && ((int) num_sign_bit_copies (XEXP (x, 0), GET_MODE (XEXP (x, 0)))\n \t      >= exact_log2 (mask + 1)))\n \tx = gen_binary (LSHIFTRT, GET_MODE (x), XEXP (x, 0),"}]}