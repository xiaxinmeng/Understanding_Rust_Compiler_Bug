{"sha": "e7a82751a55254b5c88748453415dc17b5ee9ae7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdhODI3NTFhNTUyNTRiNWM4ODc0ODQ1MzQxNWRjMTdiNWVlOWFlNw==", "commit": {"author": {"name": "Roland McGrath", "email": "mcgrathr@google.com", "date": "2011-11-09T18:57:26Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2011-11-09T18:57:26Z"}, "message": "configure.ac: Add tool checks for READELF and READELF_FOR_TARGET.\n\n2011-11-09  Roland McGrath  <mcgrathr@google.com>\n* configure.ac: Add tool checks for READELF and READELF_FOR_TARGET.\n* configure: Rebuild.\n* Makefile.def (flags_to_pass): Add READELF_FOR_TARGET.\n* Makefile.tpl (READELF, READELF_FOR_TARGET): New variables.\n(HOST_EXPORTS): Add READELF, READELF_FOR_TARGET.\n(BASE_FLAGS_TO_PASS): Add READELF_FOR_TARGET.\n(BASE_TARGET_EXPORTS, EXTRA_HOST_FLAGS, EXTRA_TARGET_FLAGS):\nAdd READELF.\n* Makefile.in: Rebuild.\n\nFrom-SVN: r181230", "tree": {"sha": "a58e59b7da1fc1e38edabebce114dc00638bf214", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a58e59b7da1fc1e38edabebce114dc00638bf214"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7a82751a55254b5c88748453415dc17b5ee9ae7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7a82751a55254b5c88748453415dc17b5ee9ae7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7a82751a55254b5c88748453415dc17b5ee9ae7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7a82751a55254b5c88748453415dc17b5ee9ae7/comments", "author": {"login": "frobtech", "id": 972096, "node_id": "MDQ6VXNlcjk3MjA5Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/972096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frobtech", "html_url": "https://github.com/frobtech", "followers_url": "https://api.github.com/users/frobtech/followers", "following_url": "https://api.github.com/users/frobtech/following{/other_user}", "gists_url": "https://api.github.com/users/frobtech/gists{/gist_id}", "starred_url": "https://api.github.com/users/frobtech/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frobtech/subscriptions", "organizations_url": "https://api.github.com/users/frobtech/orgs", "repos_url": "https://api.github.com/users/frobtech/repos", "events_url": "https://api.github.com/users/frobtech/events{/privacy}", "received_events_url": "https://api.github.com/users/frobtech/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9bdc63433a4b27f731bbca86ac35733b8c294c71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9bdc63433a4b27f731bbca86ac35733b8c294c71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9bdc63433a4b27f731bbca86ac35733b8c294c71"}], "stats": {"total": 451, "additions": 451, "deletions": 0}, "files": [{"sha": "ae88c3a1d2bf9a3b432b865fbc394c142e0c3273", "filename": "ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -1,3 +1,15 @@\n+2011-11-09  Roland McGrath  <mcgrathr@google.com>\n+\n+\t* configure.ac: Add tool checks for READELF and READELF_FOR_TARGET.\n+\t* configure: Rebuild.\n+\t* Makefile.def (flags_to_pass): Add READELF_FOR_TARGET.\n+\t* Makefile.tpl (READELF, READELF_FOR_TARGET): New variables.\n+\t(HOST_EXPORTS): Add READELF, READELF_FOR_TARGET.\n+\t(BASE_FLAGS_TO_PASS): Add READELF_FOR_TARGET.\n+\t(BASE_TARGET_EXPORTS, EXTRA_HOST_FLAGS, EXTRA_TARGET_FLAGS):\n+\tAdd READELF.\n+\t* Makefile.in: Rebuild.\n+\n 2011-11-09  Jason Merrill  <jason@redhat.com>\n \n \t* Makefile.def (language=c++): Remove check-c++0x."}, {"sha": "5de12bf691526a83256085091334808164ce5073", "filename": "Makefile.def", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -260,6 +260,7 @@ flags_to_pass = { flag= LIBCXXFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= NM_FOR_TARGET ; };\n flags_to_pass = { flag= OBJDUMP_FOR_TARGET ; };\n flags_to_pass = { flag= RANLIB_FOR_TARGET ; };\n+flags_to_pass = { flag= READELF_FOR_TARGET ; };\n flags_to_pass = { flag= STRIP_FOR_TARGET ; };\n flags_to_pass = { flag= WINDRES_FOR_TARGET ; };\n flags_to_pass = { flag= WINDMC_FOR_TARGET ; };"}, {"sha": "88797b4bf06509e0e4974d1f3de0d4ffccaefc7b", "filename": "Makefile.in", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -206,13 +206,15 @@ HOST_EXPORTS = \\\n \tWINDMC=\"$(WINDMC)\"; export WINDMC; \\\n \tOBJCOPY=\"$(OBJCOPY)\"; export OBJCOPY; \\\n \tOBJDUMP=\"$(OBJDUMP)\"; export OBJDUMP; \\\n+\tREADELF=\"$(READELF)\"; export READELF; \\\n \tAR_FOR_TARGET=\"$(AR_FOR_TARGET)\"; export AR_FOR_TARGET; \\\n \tAS_FOR_TARGET=\"$(AS_FOR_TARGET)\"; export AS_FOR_TARGET; \\\n \tGCC_FOR_TARGET=\"$(GCC_FOR_TARGET)\"; export GCC_FOR_TARGET; \\\n \tLD_FOR_TARGET=\"$(LD_FOR_TARGET)\"; export LD_FOR_TARGET; \\\n \tNM_FOR_TARGET=\"$(NM_FOR_TARGET)\"; export NM_FOR_TARGET; \\\n \tOBJDUMP_FOR_TARGET=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP_FOR_TARGET; \\\n \tRANLIB_FOR_TARGET=\"$(RANLIB_FOR_TARGET)\"; export RANLIB_FOR_TARGET; \\\n+\tREADELF_FOR_TARGET=\"$(READELF_FOR_TARGET)\"; export READELF_FOR_TARGET; \\\n \tTOPLEVEL_CONFIGURE_ARGUMENTS=\"$(TOPLEVEL_CONFIGURE_ARGUMENTS)\"; export TOPLEVEL_CONFIGURE_ARGUMENTS; \\\n \tHOST_LIBS=\"$(STAGE1_LIBS)\"; export HOST_LIBS; \\\n \tGMPLIBS=\"$(HOST_GMPLIBS)\"; export GMPLIBS; \\\n@@ -285,6 +287,7 @@ BASE_TARGET_EXPORTS = \\\n \tNM=\"$(COMPILER_NM_FOR_TARGET)\"; export NM; \\\n \tOBJDUMP=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP; \\\n \tRANLIB=\"$(RANLIB_FOR_TARGET)\"; export RANLIB; \\\n+\tREADELF=\"$(READELF_FOR_TARGET)\"; export READELF; \\\n \tSTRIP=\"$(STRIP_FOR_TARGET)\"; export STRIP; \\\n \tWINDRES=\"$(WINDRES_FOR_TARGET)\"; export WINDRES; \\\n \tWINDMC=\"$(WINDMC_FOR_TARGET)\"; export WINDMC; \\\n@@ -397,6 +400,7 @@ LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n RANLIB = @RANLIB@\n+READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n WINDMC = @WINDMC@\n@@ -555,6 +559,7 @@ LIPO_FOR_TARGET=@LIPO_FOR_TARGET@\n NM_FOR_TARGET=@NM_FOR_TARGET@\n OBJDUMP_FOR_TARGET=@OBJDUMP_FOR_TARGET@\n RANLIB_FOR_TARGET=@RANLIB_FOR_TARGET@\n+READELF_FOR_TARGET=@READELF_FOR_TARGET@\n STRIP_FOR_TARGET=@STRIP_FOR_TARGET@\n WINDRES_FOR_TARGET=@WINDRES_FOR_TARGET@\n WINDMC_FOR_TARGET=@WINDMC_FOR_TARGET@\n@@ -771,6 +776,7 @@ BASE_FLAGS_TO_PASS = \\\n \t\"NM_FOR_TARGET=$(NM_FOR_TARGET)\" \\\n \t\"OBJDUMP_FOR_TARGET=$(OBJDUMP_FOR_TARGET)\" \\\n \t\"RANLIB_FOR_TARGET=$(RANLIB_FOR_TARGET)\" \\\n+\t\"READELF_FOR_TARGET=$(READELF_FOR_TARGET)\" \\\n \t\"STRIP_FOR_TARGET=$(STRIP_FOR_TARGET)\" \\\n \t\"WINDRES_FOR_TARGET=$(WINDRES_FOR_TARGET)\" \\\n \t\"WINDMC_FOR_TARGET=$(WINDMC_FOR_TARGET)\" \\\n@@ -819,6 +825,7 @@ EXTRA_HOST_FLAGS = \\\n \t'NM=$(NM)' \\\n \t'OBJDUMP=$(OBJDUMP)' \\\n \t'RANLIB=$(RANLIB)' \\\n+\t'READELF=$(READELF)' \\\n \t'STRIP=$(STRIP)' \\\n \t'WINDRES=$(WINDRES)' \\\n \t'WINDMC=$(WINDMC)'\n@@ -859,6 +866,7 @@ EXTRA_TARGET_FLAGS = \\\n \t'NM=$(COMPILER_NM_FOR_TARGET)' \\\n \t'OBJDUMP=$$(OBJDUMP_FOR_TARGET)' \\\n \t'RANLIB=$$(RANLIB_FOR_TARGET)' \\\n+\t'READELF=$$(READELF_FOR_TARGET)' \\\n \t'WINDRES=$$(WINDRES_FOR_TARGET)' \\\n \t'WINDMC=$$(WINDMC_FOR_TARGET)' \\\n \t'XGCC_FLAGS_FOR_TARGET=$(XGCC_FLAGS_FOR_TARGET)' \\"}, {"sha": "ae263e6d36f152bb23617a088877a3d42231a8ff", "filename": "Makefile.tpl", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -209,13 +209,15 @@ HOST_EXPORTS = \\\n \tWINDMC=\"$(WINDMC)\"; export WINDMC; \\\n \tOBJCOPY=\"$(OBJCOPY)\"; export OBJCOPY; \\\n \tOBJDUMP=\"$(OBJDUMP)\"; export OBJDUMP; \\\n+\tREADELF=\"$(READELF)\"; export READELF; \\\n \tAR_FOR_TARGET=\"$(AR_FOR_TARGET)\"; export AR_FOR_TARGET; \\\n \tAS_FOR_TARGET=\"$(AS_FOR_TARGET)\"; export AS_FOR_TARGET; \\\n \tGCC_FOR_TARGET=\"$(GCC_FOR_TARGET)\"; export GCC_FOR_TARGET; \\\n \tLD_FOR_TARGET=\"$(LD_FOR_TARGET)\"; export LD_FOR_TARGET; \\\n \tNM_FOR_TARGET=\"$(NM_FOR_TARGET)\"; export NM_FOR_TARGET; \\\n \tOBJDUMP_FOR_TARGET=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP_FOR_TARGET; \\\n \tRANLIB_FOR_TARGET=\"$(RANLIB_FOR_TARGET)\"; export RANLIB_FOR_TARGET; \\\n+\tREADELF_FOR_TARGET=\"$(READELF_FOR_TARGET)\"; export READELF_FOR_TARGET; \\\n \tTOPLEVEL_CONFIGURE_ARGUMENTS=\"$(TOPLEVEL_CONFIGURE_ARGUMENTS)\"; export TOPLEVEL_CONFIGURE_ARGUMENTS; \\\n \tHOST_LIBS=\"$(STAGE1_LIBS)\"; export HOST_LIBS; \\\n \tGMPLIBS=\"$(HOST_GMPLIBS)\"; export GMPLIBS; \\\n@@ -288,6 +290,7 @@ BASE_TARGET_EXPORTS = \\\n \tNM=\"$(COMPILER_NM_FOR_TARGET)\"; export NM; \\\n \tOBJDUMP=\"$(OBJDUMP_FOR_TARGET)\"; export OBJDUMP; \\\n \tRANLIB=\"$(RANLIB_FOR_TARGET)\"; export RANLIB; \\\n+\tREADELF=\"$(READELF_FOR_TARGET)\"; export READELF; \\\n \tSTRIP=\"$(STRIP_FOR_TARGET)\"; export STRIP; \\\n \tWINDRES=\"$(WINDRES_FOR_TARGET)\"; export WINDRES; \\\n \tWINDMC=\"$(WINDMC_FOR_TARGET)\"; export WINDMC; \\\n@@ -400,6 +403,7 @@ LIPO = @LIPO@\n NM = @NM@\n OBJDUMP = @OBJDUMP@\n RANLIB = @RANLIB@\n+READELF = @READELF@\n STRIP = @STRIP@\n WINDRES = @WINDRES@\n WINDMC = @WINDMC@\n@@ -493,6 +497,7 @@ LIPO_FOR_TARGET=@LIPO_FOR_TARGET@\n NM_FOR_TARGET=@NM_FOR_TARGET@\n OBJDUMP_FOR_TARGET=@OBJDUMP_FOR_TARGET@\n RANLIB_FOR_TARGET=@RANLIB_FOR_TARGET@\n+READELF_FOR_TARGET=@READELF_FOR_TARGET@\n STRIP_FOR_TARGET=@STRIP_FOR_TARGET@\n WINDRES_FOR_TARGET=@WINDRES_FOR_TARGET@\n WINDMC_FOR_TARGET=@WINDMC_FOR_TARGET@\n@@ -612,6 +617,7 @@ EXTRA_HOST_FLAGS = \\\n \t'NM=$(NM)' \\\n \t'OBJDUMP=$(OBJDUMP)' \\\n \t'RANLIB=$(RANLIB)' \\\n+\t'READELF=$(READELF)' \\\n \t'STRIP=$(STRIP)' \\\n \t'WINDRES=$(WINDRES)' \\\n \t'WINDMC=$(WINDMC)'\n@@ -652,6 +658,7 @@ EXTRA_TARGET_FLAGS = \\\n \t'NM=$(COMPILER_NM_FOR_TARGET)' \\\n \t'OBJDUMP=$$(OBJDUMP_FOR_TARGET)' \\\n \t'RANLIB=$$(RANLIB_FOR_TARGET)' \\\n+\t'READELF=$$(READELF_FOR_TARGET)' \\\n \t'WINDRES=$$(WINDRES_FOR_TARGET)' \\\n \t'WINDMC=$$(WINDMC_FOR_TARGET)' \\\n \t'XGCC_FLAGS_FOR_TARGET=$(XGCC_FLAGS_FOR_TARGET)' \\"}, {"sha": "f5c76be1968be1d077ff7b336f8ad5cb5e033865", "filename": "configure", "status": "modified", "additions": 420, "deletions": 0, "changes": 420, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -571,6 +571,7 @@ RAW_CXX_FOR_TARGET\n WINDMC_FOR_TARGET\n WINDRES_FOR_TARGET\n STRIP_FOR_TARGET\n+READELF_FOR_TARGET\n RANLIB_FOR_TARGET\n OBJDUMP_FOR_TARGET\n NM_FOR_TARGET\n@@ -585,6 +586,7 @@ GCJ_FOR_TARGET\n GCC_FOR_TARGET\n CXX_FOR_TARGET\n CC_FOR_TARGET\n+READELF\n OBJDUMP\n OBJCOPY\n WINDMC\n@@ -815,6 +817,7 @@ WINDRES\n WINDMC\n OBJCOPY\n OBJDUMP\n+READELF\n CC_FOR_TARGET\n CXX_FOR_TARGET\n GCC_FOR_TARGET\n@@ -829,6 +832,7 @@ LIPO_FOR_TARGET\n NM_FOR_TARGET\n OBJDUMP_FOR_TARGET\n RANLIB_FOR_TARGET\n+READELF_FOR_TARGET\n STRIP_FOR_TARGET\n WINDRES_FOR_TARGET\n WINDMC_FOR_TARGET'\n@@ -1577,6 +1581,7 @@ Some influential environment variables:\n   WINDMC      WINDMC for the host\n   OBJCOPY     OBJCOPY for the host\n   OBJDUMP     OBJDUMP for the host\n+  READELF     READELF for the host\n   CC_FOR_TARGET\n               CC for the target\n   CXX_FOR_TARGET\n@@ -1605,6 +1610,8 @@ Some influential environment variables:\n               OBJDUMP for the target\n   RANLIB_FOR_TARGET\n               RANLIB for the target\n+  READELF_FOR_TARGET\n+              READELF for the target\n   STRIP_FOR_TARGET\n               STRIP for the target\n   WINDRES_FOR_TARGET\n@@ -9608,6 +9615,147 @@ fi\n \n \n \n+if test -n \"$READELF\"; then\n+  ac_cv_prog_READELF=$READELF\n+elif test -n \"$ac_cv_prog_READELF\"; then\n+  READELF=$ac_cv_prog_READELF\n+fi\n+\n+if test -n \"$ac_cv_prog_READELF\"; then\n+  for ncn_progname in readelf; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF\"; then\n+  ac_cv_prog_READELF=\"$READELF\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF=$ac_cv_prog_READELF\n+if test -n \"$READELF\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF\" >&5\n+$as_echo \"$READELF\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+for ncn_progname in readelf; do\n+  if test -n \"$ncn_tool_prefix\"; then\n+    # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF\"; then\n+  ac_cv_prog_READELF=\"$READELF\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF=\"${ncn_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF=$ac_cv_prog_READELF\n+if test -n \"$READELF\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF\" >&5\n+$as_echo \"$READELF\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  if test -z \"$ac_cv_prog_READELF\" && test $build = $host ; then\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF\"; then\n+  ac_cv_prog_READELF=\"$READELF\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF=$ac_cv_prog_READELF\n+if test -n \"$READELF\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF\" >&5\n+$as_echo \"$READELF\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  test -n \"$ac_cv_prog_READELF\" && break\n+done\n+\n+if test -z \"$ac_cv_prog_READELF\" ; then\n+  set dummy readelf\n+  if test $build = $host ; then\n+    READELF=\"$2\"\n+  else\n+    READELF=\"${ncn_tool_prefix}$2\"\n+  fi\n+fi\n+\n+\n+\n \n \n \n@@ -12447,6 +12595,236 @@ fi\n \n \n \n+if test -z \"$ac_cv_path_READELF_FOR_TARGET\" ; then\n+  if test -n \"$with_build_time_tools\"; then\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for readelf in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for readelf in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/readelf; then\n+      READELF_FOR_TARGET=`cd $with_build_time_tools && pwd`/readelf\n+      ac_cv_path_READELF_FOR_TARGET=$READELF_FOR_TARGET\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_READELF_FOR_TARGET\" >&5\n+$as_echo \"$ac_cv_path_READELF_FOR_TARGET\" >&6; }\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  elif test $build != $host && test $have_gcc_for_target = yes; then\n+    READELF_FOR_TARGET=`$GCC_FOR_TARGET --print-prog-name=readelf`\n+    test $READELF_FOR_TARGET = readelf && READELF_FOR_TARGET=\n+    test -n \"$READELF_FOR_TARGET\" && ac_cv_path_READELF_FOR_TARGET=$READELF_FOR_TARGET\n+  fi\n+fi\n+if test -z \"$ac_cv_path_READELF_FOR_TARGET\" && test -n \"$gcc_cv_tool_dirs\"; then\n+  # Extract the first word of \"readelf\", so it can be a program name with args.\n+set dummy readelf; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_path_READELF_FOR_TARGET+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $READELF_FOR_TARGET in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_READELF_FOR_TARGET=\"$READELF_FOR_TARGET\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_path_READELF_FOR_TARGET=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+READELF_FOR_TARGET=$ac_cv_path_READELF_FOR_TARGET\n+if test -n \"$READELF_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF_FOR_TARGET\" >&5\n+$as_echo \"$READELF_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_READELF_FOR_TARGET\" ; then\n+\n+\n+if test -n \"$READELF_FOR_TARGET\"; then\n+  ac_cv_prog_READELF_FOR_TARGET=$READELF_FOR_TARGET\n+elif test -n \"$ac_cv_prog_READELF_FOR_TARGET\"; then\n+  READELF_FOR_TARGET=$ac_cv_prog_READELF_FOR_TARGET\n+fi\n+\n+if test -n \"$ac_cv_prog_READELF_FOR_TARGET\"; then\n+  for ncn_progname in readelf; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF_FOR_TARGET+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF_FOR_TARGET\"; then\n+  ac_cv_prog_READELF_FOR_TARGET=\"$READELF_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF_FOR_TARGET=$ac_cv_prog_READELF_FOR_TARGET\n+if test -n \"$READELF_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF_FOR_TARGET\" >&5\n+$as_echo \"$READELF_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_READELF_FOR_TARGET\" && test -n \"$with_build_time_tools\"; then\n+  for ncn_progname in readelf; do\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for ${ncn_progname} in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/${ncn_progname}; then\n+      ac_cv_prog_READELF_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+      break\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_READELF_FOR_TARGET\"; then\n+  for ncn_progname in readelf; do\n+    if test -n \"$ncn_target_tool_prefix\"; then\n+      # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF_FOR_TARGET+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF_FOR_TARGET\"; then\n+  ac_cv_prog_READELF_FOR_TARGET=\"$READELF_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF_FOR_TARGET=\"${ncn_target_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF_FOR_TARGET=$ac_cv_prog_READELF_FOR_TARGET\n+if test -n \"$READELF_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF_FOR_TARGET\" >&5\n+$as_echo \"$READELF_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    if test -z \"$ac_cv_prog_READELF_FOR_TARGET\" && test $build = $target ; then\n+      # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if test \"${ac_cv_prog_READELF_FOR_TARGET+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$READELF_FOR_TARGET\"; then\n+  ac_cv_prog_READELF_FOR_TARGET=\"$READELF_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n+    ac_cv_prog_READELF_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+READELF_FOR_TARGET=$ac_cv_prog_READELF_FOR_TARGET\n+if test -n \"$READELF_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $READELF_FOR_TARGET\" >&5\n+$as_echo \"$READELF_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    test -n \"$ac_cv_prog_READELF_FOR_TARGET\" && break\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_READELF_FOR_TARGET\" ; then\n+  set dummy readelf\n+  if test $build = $target ; then\n+    READELF_FOR_TARGET=\"$2\"\n+  else\n+    READELF_FOR_TARGET=\"${ncn_target_tool_prefix}$2\"\n+  fi\n+else\n+  READELF_FOR_TARGET=\"$ac_cv_prog_READELF_FOR_TARGET\"\n+fi\n+\n+else\n+  READELF_FOR_TARGET=$ac_cv_path_READELF_FOR_TARGET\n+fi\n+\n+\n+\n+\n if test -z \"$ac_cv_path_STRIP_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for strip in $with_build_time_tools\" >&5\n@@ -13771,6 +14149,48 @@ $as_echo \"pre-installed\" >&6; }\n   fi\n fi\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target readelf\" >&5\n+$as_echo_n \"checking where to find the target readelf... \" >&6; }\n+if test \"x${build}\" != \"x${host}\" ; then\n+  if expr \"x$READELF_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $READELF_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  else\n+    # Canadian cross, just use what we found\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+else\n+  ok=yes\n+  case \" ${configdirs} \" in\n+    *\" binutils \"*) ;;\n+    *) ok=no ;;\n+  esac\n+\n+  if test $ok = yes; then\n+    # An in-tree tool is available and we can use it\n+    READELF_FOR_TARGET='$$r/$(HOST_SUBDIR)/binutils/readelf'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: just compiled\" >&5\n+$as_echo \"just compiled\" >&6; }\n+  elif expr \"x$READELF_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $READELF_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  elif test \"x$target\" = \"x$host\"; then\n+    # We can use an host tool\n+    READELF_FOR_TARGET='$(READELF)'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: host tool\" >&5\n+$as_echo \"host tool\" >&6; }\n+  else\n+    # We need a cross tool\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+fi\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target strip\" >&5\n $as_echo_n \"checking where to find the target strip... \" >&6; }\n if test \"x${build}\" != \"x${host}\" ; then"}, {"sha": "a5034b26217f3d079a240031d06a4529d37d6241", "filename": "configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7a82751a55254b5c88748453415dc17b5ee9ae7/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7a82751a55254b5c88748453415dc17b5ee9ae7/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=e7a82751a55254b5c88748453415dc17b5ee9ae7", "patch": "@@ -3059,6 +3059,7 @@ NCN_STRICT_CHECK_TOOLS(WINDRES, windres)\n NCN_STRICT_CHECK_TOOLS(WINDMC, windmc)\n NCN_STRICT_CHECK_TOOLS(OBJCOPY, objcopy)\n NCN_STRICT_CHECK_TOOLS(OBJDUMP, objdump)\n+NCN_STRICT_CHECK_TOOLS(READELF, readelf)\n AC_SUBST(CC)\n AC_SUBST(CXX)\n AC_SUBST(CFLAGS)\n@@ -3092,6 +3093,7 @@ ACX_CHECK_INSTALLED_TARGET_TOOL(LIPO_FOR_TARGET, lipo)\n ACX_CHECK_INSTALLED_TARGET_TOOL(NM_FOR_TARGET, nm)\n ACX_CHECK_INSTALLED_TARGET_TOOL(OBJDUMP_FOR_TARGET, objdump)\n ACX_CHECK_INSTALLED_TARGET_TOOL(RANLIB_FOR_TARGET, ranlib)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(READELF_FOR_TARGET, readelf)\n ACX_CHECK_INSTALLED_TARGET_TOOL(STRIP_FOR_TARGET, strip)\n ACX_CHECK_INSTALLED_TARGET_TOOL(WINDRES_FOR_TARGET, windres)\n ACX_CHECK_INSTALLED_TARGET_TOOL(WINDMC_FOR_TARGET, windmc)\n@@ -3121,6 +3123,7 @@ GCC_TARGET_TOOL(lipo, LIPO_FOR_TARGET, LIPO)\n GCC_TARGET_TOOL(nm, NM_FOR_TARGET, NM, [binutils/nm-new])\n GCC_TARGET_TOOL(objdump, OBJDUMP_FOR_TARGET, OBJDUMP, [binutils/objdump])\n GCC_TARGET_TOOL(ranlib, RANLIB_FOR_TARGET, RANLIB, [binutils/ranlib])\n+GCC_TARGET_TOOL(readelf, READELF_FOR_TARGET, READELF, [binutils/readelf])\n GCC_TARGET_TOOL(strip, STRIP_FOR_TARGET, STRIP, [binutils/strip-new])\n GCC_TARGET_TOOL(windres, WINDRES_FOR_TARGET, WINDRES, [binutils/windres])\n GCC_TARGET_TOOL(windmc, WINDMC_FOR_TARGET, WINDMC, [binutils/windmc])"}]}