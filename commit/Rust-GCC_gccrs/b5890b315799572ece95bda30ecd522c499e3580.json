{"sha": "b5890b315799572ece95bda30ecd522c499e3580", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjU4OTBiMzE1Nzk5NTcyZWNlOTViZGEzMGVjZDUyMmM0OTllMzU4MA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-11T19:16:22Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-07-11T19:16:22Z"}, "message": "Revise to be more consistent with make-cc1.com for symbol setup &\nusage and for echoing command execution.\n\nFrom-SVN: r7709", "tree": {"sha": "af7bd9c1ea9940ba8fae2b10b68dec11a04fb211", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af7bd9c1ea9940ba8fae2b10b68dec11a04fb211"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5890b315799572ece95bda30ecd522c499e3580", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5890b315799572ece95bda30ecd522c499e3580", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5890b315799572ece95bda30ecd522c499e3580", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5890b315799572ece95bda30ecd522c499e3580/comments", "author": null, "committer": null, "parents": [{"sha": "63468c37b4a0223bdb3341428790ebbc7c5bb725", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63468c37b4a0223bdb3341428790ebbc7c5bb725", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63468c37b4a0223bdb3341428790ebbc7c5bb725"}], "stats": {"total": 67, "additions": 44, "deletions": 23}, "files": [{"sha": "d19940a4f28ba21deb0b6fe226af9d7de342ef0e", "filename": "gcc/make-cccp.com", "status": "modified", "additions": 44, "deletions": 23, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5890b315799572ece95bda30ecd522c499e3580/gcc%2Fmake-cccp.com", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5890b315799572ece95bda30ecd522c499e3580/gcc%2Fmake-cccp.com", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmake-cccp.com?ref=b5890b315799572ece95bda30ecd522c499e3580", "patch": "@@ -11,47 +11,68 @@ $\n $!\n $!\tC compiler\n $!\n-$ CC\t:=\tgcc\n-$! CC\t:=\tcc\t!uncomment for VAXC\n-$ BISON\t:=\tbison\n-$ RENAME :=\trename\n-$ LINK\t:=\tlink\n+$ CC\t=\t\"gcc\"\n+$! CC\t=\t\"cc\"\t!uncomment for VAXC\n+$ BISON\t=\t\"bison\"\n+$ RENAME=\t\"rename/New_Version\"\n+$ LINK\t=\t\"link\"\n+$ echo\t=\t\"write sys$output\"\n $!\n $!\tCompiler options\n $!\n-$ CFLAGS =\t\"/debug/incl=([],[.config.])\"\n-$! CFLAGS =\t\"/noopt/incl=([],[.config])\"\t!uncomment for VAXC\n+$ CFLAGS =\t\"/Debug/noVerbos\"\n+$! CFLAGS =\t\"/noOpt\"\t!uncomment for VAXC\n $!\n $!\tLink options\n $!\n-$ LDFLAGS :=\t/nomap\n+$ LDFLAGS =\t\"/noMap\"\n $!\n $!\tLink libraries\n $!\n-$ LIBS :=\tgnu_cc:[000000]gcclib.olb/libr,sys$library:vaxcrtl.olb/libr\n-$! LIBS :=\talloca.obj,sys$library:vaxcrtl.olb/libr\t!uncomment for VAXC\n+$ LIBS = \"gnu_cc:[000000]gcclib.olb/Libr,sys$library:vaxcrtl.olb/Libr\"\n+$! LIBS = \"alloca.obj,sys$library:vaxcrtl.olb/Libr\"\t!uncomment for VAXC\n+$\n+$!!!!!!!\n+$!\tNothing beyond this point should need any local configuration changes.\n+$!!!!!!!\n $\n $ if \"''p1'\" .eqs. \"LINK\" then goto Link\n-$ 'CC 'CFLAGS cccp.c\n+$ echo \" Building the preprocessor.\"\n+$ set verify\n+$ 'CC''CFLAGS' cccp.c\n+$!'f$verify(0)\n $ t1:='f$search(\"CEXP.C\")'\n $ if \"''t1'\" .eqs. \"\" then goto 10$\n $ t1:='f$file_attributes(\"CEXP.Y\",\"RDT\")'\n $ t1:='f$cvtime(t1)'\n $ t2:='f$file_attributes(\"CEXP.C\",\"RDT\")'\n $ t2:='f$cvtime(t2)'\n $ if t1 .les. t2 then goto 20$\n-$ 10$:\n-$ bison cexp.y\n-$ rename cexp_tab.c cexp.c\n-$ 20$:\n-$!\n-$ if f$locate(\"alloca.obj\",f$edit(LIBS,\"lowercase\")).lt.f$length(LIBS) then -\n-  'CC 'CFLAGS /define=\"STACK_DIRECTION=(-1)\" alloca.c\n-$!\n-$ 'CC 'CFLAGS cexp.c\n-$ 'CC 'CFLAGS version.c\n-$ Link:\n-$ link 'LDFLAGS /exe=gcc-cpp cccp,cexp,version,version.opt/opt,'LIBS'\n+$10$:\n+$ set verify\n+$ 'BISON' cexp.y\n+$ 'RENAME' cexp_tab.c cexp.c\n+$!'f$verify(0)\n+$20$:\n+$!\n+$ if f$locate(\"alloca.obj\",f$edit(LIBS,\"lowercase\")).lt.f$length(LIBS)\n+$ then\n+$  set verify\n+$ 'CC''CFLAGS'/Define=\"STACK_DIRECTION=(-1)\" alloca.c\t\t!#'f$verify(1)\n+$!'f$verify(0)\n+$ endif\n+$!\n+$ echo \" (Ignore any warning about not finding file \"\"bison.simple\"\".)\"\n+$ set verify\n+$ 'CC''CFLAGS' cexp.c\n+$ 'CC''CFLAGS' version.c\n+$!'f$verify(0)\n+$Link:\n+$ echo \" Linking the preprocessor.\"\n+$ set verify\n+$ 'LINK''LDFLAGS'/Exe=gcc-cpp.exe cccp.obj,cexp.obj,version.obj,version.opt/Opt,-\n+\t  'LIBS'\n+$!'f$verify(0)\n $!\n $!\tDone\n $!"}]}