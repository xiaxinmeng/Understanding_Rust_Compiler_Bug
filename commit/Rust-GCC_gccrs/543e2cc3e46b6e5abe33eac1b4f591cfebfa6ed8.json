{"sha": "543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTQzZTJjYzNlNDZiNmU1YWJlMzNlYWMxYjRmNTkxY2ZlYmZhNmVkOA==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2005-08-16T12:14:10Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2005-08-16T12:14:10Z"}, "message": "builtins.c (expand_builtin_strcat): Remove superfluous call to fold.\n\n\t* builtins.c (expand_builtin_strcat): Remove superfluous call to fold.\n\t(fold_builtin_isdigit): Use fold_buildN.\n\t(build_function_call_expr): Likewise.\n\t* c-typeck.c (c_finish_loop): Likewise.\n\nFrom-SVN: r103154", "tree": {"sha": "f1b21523f1f783dce881cffb68af0c2a38ac5235", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1b21523f1f783dce881cffb68af0c2a38ac5235"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/comments", "author": null, "committer": null, "parents": [{"sha": "28f52a4d8eb0703eadd9eb19df729c69a6b5cd23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f52a4d8eb0703eadd9eb19df729c69a6b5cd23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f52a4d8eb0703eadd9eb19df729c69a6b5cd23"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "9614c472f9f5c7123ae3f7d39d820fa6066fd10f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "patch": "@@ -1,3 +1,10 @@\n+2005-08-16  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\t* builtins.c (expand_builtin_strcat): Remove superfluous call to fold.\n+\t(fold_builtin_isdigit): Use fold_buildN.\n+\t(build_function_call_expr): Likewise.\n+\t* c-typeck.c (c_finish_loop): Likewise.\n+\n 2005-08-16  J\"orn Rennecke <joern.rennecke@st.com>\n             Richard Shann <rshann@superh.com>\n "}, {"sha": "13d80ed53dcffaec635027ab2cd8820a371b7261", "filename": "gcc/builtins.c", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "patch": "@@ -3860,9 +3860,8 @@ expand_builtin_strcat (tree arglist, tree type, rtx target, enum machine_mode mo\n \n \t      /* Create strlen (dst).  */\n \t      newdst =\n-\t\tfold (build_function_call_expr (strlen_fn,\n-\t\t\t\t\t\tbuild_tree_list (NULL_TREE,\n-\t\t\t\t\t\t\t\t dst)));\n+\t\tbuild_function_call_expr (strlen_fn,\n+\t\t\t\t\t  build_tree_list (NULL_TREE, dst));\n \t      /* Create (dst + (cast) strlen (dst)).  */\n \t      newdst = fold_convert (TREE_TYPE (dst), newdst);\n \t      newdst = fold_build2 (PLUS_EXPR, TREE_TYPE (dst), dst, newdst);\n@@ -8291,9 +8290,8 @@ fold_builtin_isdigit (tree arglist)\n       arg = fold_convert (unsigned_type_node, TREE_VALUE (arglist));\n       arg = build2 (MINUS_EXPR, unsigned_type_node, arg,\n \t\t    build_int_cst (unsigned_type_node, target_digit0));\n-      arg = build2 (LE_EXPR, integer_type_node, arg,\n-\t\t    build_int_cst (unsigned_type_node, 9));\n-      arg = fold (arg);\n+      arg = fold_build2 (LE_EXPR, integer_type_node, arg,\n+\t\t\t build_int_cst (unsigned_type_node, 9));\n       if (in_gimple_form && !TREE_CONSTANT (arg))\n         return NULL_TREE;\n       else\n@@ -8929,9 +8927,8 @@ build_function_call_expr (tree fn, tree arglist)\n   tree call_expr;\n \n   call_expr = build1 (ADDR_EXPR, build_pointer_type (TREE_TYPE (fn)), fn);\n-  call_expr = build3 (CALL_EXPR, TREE_TYPE (TREE_TYPE (fn)),\n+  return fold_build3 (CALL_EXPR, TREE_TYPE (TREE_TYPE (fn)),\n \t\t      call_expr, arglist, NULL_TREE);\n-  return fold (call_expr);\n }\n \n /* This function validates the types of a function call argument list"}, {"sha": "39f682229a53f54ef6a77935dd00dce34bbcfafa", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=543e2cc3e46b6e5abe33eac1b4f591cfebfa6ed8", "patch": "@@ -7086,8 +7086,7 @@ c_finish_loop (location_t start_locus, tree cond, tree incr, tree body,\n             }\n  \n \t  t = build_and_jump (&blab);\n-          exit = build3 (COND_EXPR, void_type_node, cond, exit, t);\n-          exit = fold (exit);\n+          exit = fold_build3 (COND_EXPR, void_type_node, cond, exit, t);\n \t  if (cond_is_first)\n             SET_EXPR_LOCATION (exit, start_locus);\n \t  else"}]}