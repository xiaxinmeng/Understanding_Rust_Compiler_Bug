{"sha": "f4d21c5c16defef5a901e160c93991765b5fbc9d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRkMjFjNWMxNmRlZmVmNWE5MDFlMTYwYzkzOTkxNzY1YjVmYmM5ZA==", "commit": {"author": {"name": "Michael Bushnell", "email": "mib@gnu.org", "date": "1994-10-05T01:52:40Z"}, "committer": {"name": "Michael Bushnell", "email": "mib@gnu.org", "date": "1994-10-05T01:52:40Z"}, "message": "Define O_RDONLY if not already defined and use it in read_specs's call\nto open.\n\nFrom-SVN: r8217", "tree": {"sha": "5a430b6e990ccdb8b8a7a1068a99c3ca8bd6be26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a430b6e990ccdb8b8a7a1068a99c3ca8bd6be26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4d21c5c16defef5a901e160c93991765b5fbc9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4d21c5c16defef5a901e160c93991765b5fbc9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4d21c5c16defef5a901e160c93991765b5fbc9d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4d21c5c16defef5a901e160c93991765b5fbc9d/comments", "author": null, "committer": null, "parents": [{"sha": "0c85e387f59ea6b88f831eb2986697f94790a51a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c85e387f59ea6b88f831eb2986697f94790a51a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c85e387f59ea6b88f831eb2986697f94790a51a"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "db9c49af7ef3a9882aaa295c98e83add521806ef", "filename": "gcc/gcc.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4d21c5c16defef5a901e160c93991765b5fbc9d/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4d21c5c16defef5a901e160c93991765b5fbc9d/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=f4d21c5c16defef5a901e160c93991765b5fbc9d", "patch": "@@ -100,6 +100,11 @@ compilation is specified by a string called a \"spec\".  */\n #define NULL 0\n #endif\n \n+/* Define O_RDONLY if the system hasn't defined it for us. */\n+#ifndef O_RDONLY\n+#define O_RDONLY 0\n+#endif\n+\n #ifndef GENERIC_PTR\n #if defined (USE_PROTOTYPES) ? USE_PROTOTYPES : defined (__STDC__)\n #define GENERIC_PTR void *\n@@ -1045,7 +1050,7 @@ read_specs (filename)\n     fprintf (stderr, \"Reading specs from %s\\n\", filename);\n \n   /* Open and stat the file.  */\n-  desc = open (filename, 0, 0);\n+  desc = open (filename, O_RDONLY, 0);\n   if (desc < 0)\n     pfatal_with_name (filename);\n   if (stat (filename, &statbuf) < 0)"}]}