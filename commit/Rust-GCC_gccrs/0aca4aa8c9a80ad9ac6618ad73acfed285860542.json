{"sha": "0aca4aa8c9a80ad9ac6618ad73acfed285860542", "node_id": "C_kwDOANBUbNoAKDBhY2E0YWE4YzlhODBhZDlhYzY2MThhZDczYWNmZWQyODU4NjA1NDI", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2022-05-10T20:35:56Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2022-05-11T14:59:08Z"}, "message": "rs6000: Remove <Ff>\n\nThe <Ff> mode iterator can just use \"d\" always.\n\n2022-05-11  Segher Boessenkool  <segher@kernel.crashing.org>\n\n\t* config/rs6000/rs6000.md: Use d instead of <Ff>.", "tree": {"sha": "12f589851f6da907233071ade3514cbd81fcbe81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12f589851f6da907233071ade3514cbd81fcbe81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0aca4aa8c9a80ad9ac6618ad73acfed285860542", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aca4aa8c9a80ad9ac6618ad73acfed285860542", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0aca4aa8c9a80ad9ac6618ad73acfed285860542", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aca4aa8c9a80ad9ac6618ad73acfed285860542/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "401abb8f646087c2235457dd9d1789bd63c4e7e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/401abb8f646087c2235457dd9d1789bd63c4e7e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/401abb8f646087c2235457dd9d1789bd63c4e7e4"}], "stats": {"total": 117, "additions": 57, "deletions": 60}, "files": [{"sha": "0100d67e921759f2e0b213b266ae607d9dac54b5", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 57, "deletions": 60, "changes": 117, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0aca4aa8c9a80ad9ac6618ad73acfed285860542/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0aca4aa8c9a80ad9ac6618ad73acfed285860542/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=0aca4aa8c9a80ad9ac6618ad73acfed285860542", "patch": "@@ -622,9 +622,6 @@\n ; Iterator for ISA 3.0 supported floating point types\n (define_mode_iterator FP_ISA3 [SF DF])\n \n-; SF/DF constraint for arithmetic on traditional floating point registers\n-(define_mode_attr Ff\t\t[(SF \"f\") (DF \"d\") (DI \"d\")])\n-\n ; SF/DF constraint for arithmetic on VSX registers using instructions added in\n ; ISA 2.06 (power7).  This includes instructions that normally target DF mode,\n ; but are used on SFmode, since internally SFmode values are kept in the DFmode\n@@ -4871,19 +4868,19 @@\n   \"\")\n \n (define_insn \"*abs<mode>2_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(abs:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(abs:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fabs %0,%1\n    xsabsdp %x0,%x1\"\n   [(set_attr \"type\" \"fpsimple\")])\n \n (define_insn \"*nabs<mode>2_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n \t(neg:SFDF\n \t (abs:SFDF\n-\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\"))))]\n+\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\"))))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fnabs %0,%1\n@@ -4897,8 +4894,8 @@\n   \"\")\n \n (define_insn \"*neg<mode>2_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(neg:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(neg:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fneg %0,%1\n@@ -4913,9 +4910,9 @@\n   \"\")\n \n (define_insn \"*add<mode>3_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(plus:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"%<Ff>,wa\")\n-\t\t   (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(plus:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"%d,wa\")\n+\t\t   (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fadd<s> %0,%1,%2\n@@ -4931,9 +4928,9 @@\n   \"\")\n \n (define_insn \"*sub<mode>3_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(minus:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")\n-\t\t    (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(minus:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")\n+\t\t    (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fsub<s> %0,%1,%2\n@@ -4949,9 +4946,9 @@\n   \"\")\n \n (define_insn \"*mul<mode>3_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(mult:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"%<Ff>,wa\")\n-\t\t   (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(mult:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"%d,wa\")\n+\t\t   (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fmul<s> %0,%1,%2\n@@ -4975,9 +4972,9 @@\n })\n \n (define_insn \"*div<mode>3_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(div:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")\n-\t\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(div:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")\n+\t\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fdiv<s> %0,%1,%2\n@@ -4986,8 +4983,8 @@\n    (set_attr \"isa\" \"*,<Fisa>\")])\n \n (define_insn \"*sqrt<mode>2_internal\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(sqrt:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(sqrt:SFDF (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT && TARGET_PPC_GPOPT\"\n   \"@\n    fsqrt<s> %0,%1\n@@ -5014,8 +5011,8 @@\n \n ;; Floating point reciprocal approximation\n (define_insn \"fre<sd>\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")]\n \t\t     UNSPEC_FRES))]\n   \"TARGET_<FFRE>\"\n   \"@\n@@ -5061,8 +5058,8 @@\n  })\n \n (define_insn \"*rsqrt<mode>2\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")]\n \t\t     UNSPEC_RSQRT))]\n   \"RS6000_RECIP_HAVE_RSQRTE_P (<MODE>mode)\"\n   \"@\n@@ -5074,8 +5071,8 @@\n ;; Floating point comparisons\n (define_insn \"*cmp<mode>_fpr\"\n   [(set (match_operand:CCFP 0 \"cc_reg_operand\" \"=y,y\")\n-\t(compare:CCFP (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa\")\n-\t\t      (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa\")))]\n+\t(compare:CCFP (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa\")\n+\t\t      (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fcmpu %0,%1,%2\n@@ -5277,9 +5274,9 @@\n ;; Use an unspec rather providing an if-then-else in RTL, to prevent the\n ;; compiler from optimizing -0.0\n (define_insn \"copysign<mode>3_fcpsgn\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")\n-\t\t      (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,<Fv>\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")\n+\t\t      (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,<Fv>\")]\n \t\t     UNSPEC_COPYSIGN))]\n   \"TARGET_HARD_FLOAT && (TARGET_CMPB || VECTOR_UNIT_VSX_P (<MODE>mode))\"\n   \"@\n@@ -6205,7 +6202,7 @@\n \n (define_insn \"*fix_trunc<mode>di2_fctidz\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=d,wa\")\n-\t(fix:DI (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")))]\n+\t(fix:DI (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")))]\n   \"TARGET_HARD_FLOAT && TARGET_FCFID\"\n   \"@\n    fctidz %0,%1\n@@ -6324,7 +6321,7 @@\n \n (define_insn \"fixuns_trunc<mode>di2\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=d,wa\")\n-\t(unsigned_fix:DI (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")))]\n+\t(unsigned_fix:DI (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")))]\n   \"TARGET_HARD_FLOAT && TARGET_FCTIDUZ\"\n   \"@\n    fctiduz %0,%1\n@@ -6474,7 +6471,7 @@\n (define_insn \"fctiwz_<mode>\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=d,wa\")\n \t(unspec:DI [(fix:SI\n-\t\t     (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\"))]\n+\t\t     (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\"))]\n \t\t   UNSPEC_FCTIWZ))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n@@ -6485,7 +6482,7 @@\n (define_insn \"fctiwuz_<mode>\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=d,wa\")\n \t(unspec:DI [(unsigned_fix:SI\n-\t\t     (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\"))]\n+\t\t     (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\"))]\n \t\t   UNSPEC_FCTIWUZ))]\n   \"TARGET_HARD_FLOAT && TARGET_FCTIWUZ\"\n   \"@\n@@ -6588,8 +6585,8 @@\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"btrunc<mode>2\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")]\n \t\t     UNSPEC_FRIZ))]\n   \"TARGET_HARD_FLOAT && TARGET_FPRND\"\n   \"@\n@@ -6598,8 +6595,8 @@\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"ceil<mode>2\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")]\n \t\t     UNSPEC_FRIP))]\n   \"TARGET_HARD_FLOAT && TARGET_FPRND\"\n   \"@\n@@ -6608,8 +6605,8 @@\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"floor<mode>2\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,<Fv>\")\n-\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,<Fv>\")]\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,<Fv>\")\n+\t(unspec:SFDF [(match_operand:SFDF 1 \"gpc_reg_operand\" \"d,<Fv>\")]\n \t\t     UNSPEC_FRIM))]\n   \"TARGET_HARD_FLOAT && TARGET_FPRND\"\n   \"@\n@@ -10152,7 +10149,7 @@\n    (set_attr \"indexed\" \"yes,no\")])\n \n (define_insn \"*mov<SFDF:mode>_update1\"\n-  [(set (match_operand:SFDF 3 \"gpc_reg_operand\" \"=<SFDF:Ff>,<SFDF:Ff>\")\n+  [(set (match_operand:SFDF 3 \"gpc_reg_operand\" \"=d,d\")\n \t(mem:SFDF (plus:P (match_operand:P 1 \"gpc_reg_operand\" \"0,0\")\n \t\t\t  (match_operand:P 2 \"reg_or_short_operand\" \"r,I\"))))\n    (set (match_operand:P 0 \"gpc_reg_operand\" \"=b,b\")\n@@ -10171,7 +10168,7 @@\n (define_insn \"*mov<SFDF:mode>_update2\"\n   [(set (mem:SFDF (plus:P (match_operand:P 1 \"gpc_reg_operand\" \"0,0\")\n \t\t\t  (match_operand:P 2 \"reg_or_short_operand\" \"r,I\")))\n-\t(match_operand:SFDF 3 \"gpc_reg_operand\" \"<SFDF:Ff>,<SFDF:Ff>\"))\n+\t(match_operand:SFDF 3 \"gpc_reg_operand\" \"d,d\"))\n    (set (match_operand:P 0 \"gpc_reg_operand\" \"=b,b\")\n \t(plus:P (match_dup 1) (match_dup 2)))]\n   \"TARGET_HARD_FLOAT && TARGET_UPDATE\n@@ -14142,11 +14139,11 @@\n   \"\")\n \n (define_insn \"*fma<mode>4_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa,wa\")\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa,wa\")\n \t(fma:SFDF\n-\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"%<Ff>,wa,wa\")\n-\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa,0\")\n-\t  (match_operand:SFDF 3 \"gpc_reg_operand\" \"<Ff>,0,wa\")))]\n+\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"%d,wa,wa\")\n+\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa,0\")\n+\t  (match_operand:SFDF 3 \"gpc_reg_operand\" \"d,0,wa\")))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fmadd<s> %0,%1,%2,%3\n@@ -14166,11 +14163,11 @@\n   \"\")\n \n (define_insn \"*fms<mode>4_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa,wa\")\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa,wa\")\n \t(fma:SFDF\n-\t (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa,wa\")\n-\t (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa,0\")\n-\t (neg:SFDF (match_operand:SFDF 3 \"gpc_reg_operand\" \"<Ff>,0,wa\"))))]\n+\t (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa,wa\")\n+\t (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa,0\")\n+\t (neg:SFDF (match_operand:SFDF 3 \"gpc_reg_operand\" \"d,0,wa\"))))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fmsub<s> %0,%1,%2,%3\n@@ -14213,12 +14210,12 @@\n   \"\")\n \n (define_insn \"*nfma<mode>4_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa,wa\")\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa,wa\")\n \t(neg:SFDF\n \t (fma:SFDF\n-\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa,wa\")\n-\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa,0\")\n-\t  (match_operand:SFDF 3 \"gpc_reg_operand\" \"<Ff>,0,wa\"))))]\n+\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa,wa\")\n+\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa,0\")\n+\t  (match_operand:SFDF 3 \"gpc_reg_operand\" \"d,0,wa\"))))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fnmadd<s> %0,%1,%2,%3\n@@ -14239,13 +14236,13 @@\n   \"\")\n \n (define_insn \"*nfmssf4_fpr\"\n-  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=<Ff>,wa,wa\")\n+  [(set (match_operand:SFDF 0 \"gpc_reg_operand\" \"=d,wa,wa\")\n \t(neg:SFDF\n \t (fma:SFDF\n-\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"<Ff>,wa,wa\")\n-\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"<Ff>,wa,0\")\n+\t  (match_operand:SFDF 1 \"gpc_reg_operand\" \"d,wa,wa\")\n+\t  (match_operand:SFDF 2 \"gpc_reg_operand\" \"d,wa,0\")\n \t  (neg:SFDF\n-\t   (match_operand:SFDF 3 \"gpc_reg_operand\" \"<Ff>,0,wa\")))))]\n+\t   (match_operand:SFDF 3 \"gpc_reg_operand\" \"d,0,wa\")))))]\n   \"TARGET_HARD_FLOAT\"\n   \"@\n    fnmsub<s> %0,%1,%2,%3"}]}