{"sha": "0d381b47571b7625ee4df85147d3327acb4573eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQzODFiNDc1NzFiNzYyNWVlNGRmODUxNDdkMzMyN2FjYjQ1NzNlYg==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-06-30T06:11:46Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-06-30T06:11:46Z"}, "message": "configure.in (hppa*-*-*): Add som.h or elf.h to tm_file as appropriate.\n\n        * configure.in (hppa*-*-*): Add som.h or elf.h to tm_file as\n        appropriate.\n        * configure: Rebuilt.\n        (hppa1.1-*-pro*, hppa1.1-*-rtems*): Define target_cpu_default.\n        * pa.h: Include dbxelf.h.  Delete various dbx/stabs related\n        definitions made redundant by dbxelf.h inclusion.  Delete\n        lots of definitions related to assembly output that are\n        specific to the SOM object format.\n        * pa.c (output_function_prologue): Do not emit the function's\n        name for OBJ_ELF.\n        * pa-pro-end.h (STARTFILE_SPEC): Undefine before redefining.\n        * pa-pro.h: Deleted.\n        * som.h: New file with SOM specific definitions.\n        * elf.h: New file with ELF specific definitions.\n\nFrom-SVN: r27846", "tree": {"sha": "cfa622ccd99368d7a69eebb08cda268d930e5336", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfa622ccd99368d7a69eebb08cda268d930e5336"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d381b47571b7625ee4df85147d3327acb4573eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d381b47571b7625ee4df85147d3327acb4573eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d381b47571b7625ee4df85147d3327acb4573eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d381b47571b7625ee4df85147d3327acb4573eb/comments", "author": null, "committer": null, "parents": [{"sha": "c7a159aa2fbe2015b7f700952163c2e70216956f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7a159aa2fbe2015b7f700952163c2e70216956f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7a159aa2fbe2015b7f700952163c2e70216956f"}], "stats": {"total": 1372, "additions": 686, "deletions": 686}, "files": [{"sha": "d667745ef7e727f64c688360f650acbba70569f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -1,5 +1,20 @@\n Wed Jun 30 03:31:54 1999  Jeffrey A Law  (law@cygnus.com)\n \n+\t* configure.in (hppa*-*-*): Add som.h or elf.h to tm_file as\n+\tappropriate.\n+\t* configure: Rebuilt.\n+\t(hppa1.1-*-pro*, hppa1.1-*-rtems*): Define target_cpu_default.\n+\t* pa.h: Include dbxelf.h.  Delete various dbx/stabs related\n+\tdefinitions made redundant by dbxelf.h inclusion.  Delete\n+\tlots of definitions related to assembly output that are\n+\tspecific to the SOM object format.\n+\t* pa.c (output_function_prologue): Do not emit the function's\n+\tname for OBJ_ELF.\n+\t* pa-pro-end.h (STARTFILE_SPEC): Undefine before redefining.\n+\t* pa-pro.h: Deleted.\n+\t* som.h: New file with SOM specific definitions.\n+\t* elf.h: New file with ELF specific definitions.\n+\n \t* elfos.h (const_section): Output a tab before assembler directives.\n \t(ctors_section, dtors_section): Likewise.\n \t(ASM_OUTPUT_SECTION_NAME): Likewise."}, {"sha": "067d7c0e105891cab3f2cfe3a73f9d4d742b67fc", "filename": "gcc/config/pa/elf.h", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Felf.h?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -0,0 +1,43 @@\n+/* Definitions for ELF assembler support.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 1, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* So we can conditionalize small amounts of code in pa.c or pa.md.  */\n+#define OBJ_ELF\n+\n+/* Dummy definitions.  We do not care about this stuff for ELF.  */\n+#define TEXT_SPACE_P(DECL) 0\n+#define FUNCTION_NAME_P(NAME) 0\n+\n+#define TEXT_SECTION_ASM_OP \"\\t.text\"\n+#define DATA_SECTION_ASM_OP \"\\t.data\"\n+#define BSS_SECTION_ASM_OP \"\\t.bss\"\n+\n+/* This is how to output a command to make the user-level label named NAME\n+   defined for reference from other files.  */\n+\n+#define ASM_GLOBALIZE_LABEL(FILE,NAME)  \\\n+  (fputs (\"\\t.globl \", FILE), assemble_name (FILE, NAME), fputs (\"\\n\", FILE))\n+\n+/* This is how to output an assembler line defining an `int' constant.  */\n+\n+#define ASM_OUTPUT_INT(FILE,VALUE)  \\\n+{ fputs (\"\\t.word \", FILE);\t\t\t\\\n+  output_addr_const (FILE, (VALUE));\t\t\\\n+  fputs (\"\\n\", FILE);}"}, {"sha": "f36b887c3812b5901c095d7864581f27b517d402", "filename": "gcc/config/pa/pa-pro-end.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa-pro-end.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa-pro-end.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-pro-end.h?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -37,6 +37,6 @@ Boston, MA 02111-1307, USA.  */\n #define NO_IMPLICIT_EXTERN_C\n \n /* We don't want a crt0.o to get linked in automatically, we want the\n-   linker script to pull it in.\n- */\n+   linker script to pull it in.  */\n+#undef STARTFILE_SPEC\n #define STARTFILE_SPEC \"\""}, {"sha": "8a4c2bcabd3cf09b8355a2b21de53cd476495650", "filename": "gcc/config/pa/pa-pro.h", "status": "removed", "additions": 0, "deletions": 79, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a159aa2fbe2015b7f700952163c2e70216956f/gcc%2Fconfig%2Fpa%2Fpa-pro.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a159aa2fbe2015b7f700952163c2e70216956f/gcc%2Fconfig%2Fpa%2Fpa-pro.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-pro.h?ref=c7a159aa2fbe2015b7f700952163c2e70216956f", "patch": "@@ -1,79 +0,0 @@\n-/* Definitions of target machine for GNU compiler, for PRO.\n-   Copyright (C) 1994, 1995, 1996 Free Software Foundation, Inc.\n-\n-This file is part of GNU CC.\n-\n-GNU CC is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2, or (at your option)\n-any later version.\n-\n-GNU CC is distributed in the hope that it will be useful,\n-but WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-GNU General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GNU CC; see the file COPYING.  If not, write to\n-the Free Software Foundation, 59 Temple Place - Suite 330,\n-Boston, MA 02111-1307, USA.  */\n-\n-/* Global constructor and destructor support.  */\n-/* Define the pseudo-ops used to switch to the .ctors and .dtors sections.\n- \n-   Note that we want to give these sections the SHF_WRITE attribute\n-   because these sections will actually contain data (i.e. tables of\n-   addresses of functions in the current root executable or shared library\n-   file) and, in the case of a shared library, the relocatable addresses\n-   will have to be properly resolved/relocated (and then written into) by\n-   the dynamic linker when it actually attaches the given shared library\n-   to the executing process.  */\n- \n-#define CTORS_SECTION_ASM_OP    \"\\t.section\\t\\\".ctors\\\",#alloc,#write\"\n-#define DTORS_SECTION_ASM_OP    \"\\t.section\\t\\\".dtors\\\",#alloc,#write\"\n-\n-#define CTORS_SECTION_FUNCTION\t\t\t\t\t\t\\\n-void\t\t\t\t\t\t\t\t\t\\\n-ctors_section ()\t\t\t\t\t\t\t\\\n-{\t\t\t\t\t\t\t\t\t\\\n-  if (in_section != in_ctors)\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\t\\\n-      fprintf (asm_out_file, \"%s\\n\", CTORS_SECTION_ASM_OP);\t\t\\\n-      in_section = in_ctors;\t\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\t\\\n-}\n-\n-#define DTORS_SECTION_FUNCTION\t\t\t\t\t\t\\\n-void\t\t\t\t\t\t\t\t\t\\\n-dtors_section ()\t\t\t\t\t\t\t\\\n-{\t\t\t\t\t\t\t\t\t\\\n-  if (in_section != in_dtors)\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\t\\\n-      fprintf (asm_out_file, \"%s\\n\", DTORS_SECTION_ASM_OP);\t\t\\\n-      in_section = in_dtors;\t\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\t\\\n-}\n-\n-\n-/* A C statement (sans semicolon) to output an element in the table of\n-   global destructors.  */\n-#define ASM_OUTPUT_DESTRUCTOR(FILE,NAME)       \t\t\t\t\\\n-  do {\t\t\t\t\t\t\t\t\t\\\n-    dtors_section ();                   \t\t\t\t\\\n-    fputs (\"\\t.word\\t \", FILE);\t\t\t\t\\\n-    assemble_name (FILE, NAME);              \t\t\t\t\\\n-    fputs (\"\\n\", FILE);\t\t\t\t\t\t\\\n-  } while (0)\n-\n-/* A C statement (sans semicolon) to output an element in the table of\n-   global constructors.  */\n-#define ASM_OUTPUT_CONSTRUCTOR(FILE,NAME)\t\t\t\t\\\n-  do {\t\t\t\t\t\t\t\t\t\\\n-    ctors_section ();\t\t\t\t\t\t\t\\\n-    fputs (\"\\t.word\\t \", FILE);\t\t\t\t\\\n-    assemble_name (FILE, NAME);\t\t\t\t\t\t\\\n-    fputs (\"\\n\", FILE);\t\t\t\t\t\t\\\n-  } while (0)\n-\n-#define TARGET_DEFAULT (MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | \\\n-MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT )"}, {"sha": "6cf48288aa4349d3d5a7f77ac065332fa73e4448", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -2610,7 +2610,9 @@ output_function_prologue (file, size)\n   /* The function's label and associated .PROC must never be\n      separated and must be output *after* any profiling declarations\n      to avoid changing spaces/subspaces within a procedure.  */\n+#ifdef OBJ_SOM\n   ASM_OUTPUT_LABEL (file, XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\n+#endif\n   fputs (\"\\t.PROC\\n\", file);\n \n   /* hppa_expand_prologue does the dirty work now.  We just need"}, {"sha": "ad18e4b4d2e23919ec0cc33349e428189314f469", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 25, "deletions": 479, "changes": 504, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -209,39 +209,38 @@ extern int target_flags;\n \n #define OVERRIDE_OPTIONS override_options ()\n \n-#define DBX_DEBUGGING_INFO\n+/* stabs-in-som is nearly identical to stabs-in-elf.  To avoid useless\n+   code duplication we simply include this file and override as needed.  */\n+#include \"dbxelf.h\"\n+\n+/* We do not have to be compatible with dbx, so we enable gdb extensions\n+   by default.  */\n #define DEFAULT_GDB_EXTENSIONS 1\n \n-/* This is the way other stabs-in-XXX tools do things.  We will be\n-   compatible.  */\n-#define DBX_BLOCKS_FUNCTION_RELATIVE 1\n-\n-/* Likewise for linenos.\n-\n-   We make the first line stab special to avoid adding several\n-   gross hacks to GAS.  */\n-#undef  ASM_OUTPUT_SOURCE_LINE\n-#define ASM_OUTPUT_SOURCE_LINE(file, line)\t\t\\\n-  { static int sym_lineno = 1;\t\t\t\t\\\n-    static tree last_function_decl = NULL;\t\t\\\n-    if (current_function_decl == last_function_decl)\t\\\n-      fprintf (file, \"\\t.stabn 68,0,%d,L$M%d-%s\\nL$M%d:\\n\",\t\\\n-\t       line, sym_lineno,\t\t\t\\\n-\t       XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0) + 1, \\\n-\t       sym_lineno);\t\t\t\t\\\n-    else\t\t\t\t\t\t\\\n-      fprintf (file, \"\\t.stabn 68,0,%d,0\\n\", line);\t\\\n-    last_function_decl = current_function_decl;\t\t\\\n-    sym_lineno += 1; }\n-\n-/* But, to make this work, we have to output the stabs for the function\n-   name *first*...  */\n-#define DBX_FUNCTION_FIRST\n+/* This used to be zero (no max length), but big enums and such can\n+   cause huge strings which killed gas.\n+\n+   We also have to avoid lossage in dbxout.c -- it does not compute the\n+   string size accurately, so we are real conservative here.  */\n+#undef DBX_CONTIN_LENGTH\n+#define DBX_CONTIN_LENGTH 3000\n \n /* Only labels should ever begin in column zero.  */\n #define ASM_STABS_OP \"\\t.stabs\"\n #define ASM_STABN_OP \"\\t.stabn\"\n \n+/* How to renumber registers for dbx and gdb.\n+\n+   Registers 0  - 31 remain unchanged.\n+\n+   Registers 32 - 87 are mapped to 72 - 127\n+\n+   Register 88 is mapped to 32.  */\n+\n+#define DBX_REGISTER_NUMBER(REGNO) \\\n+  ((REGNO) <= 31 ? (REGNO) :\t\t\t\t\t\t\\\n+   ((REGNO) > 31 && (REGNO) <= 87 ? (REGNO) + 40 : 32))\n+\n /* GDB always assumes the current function's frame begins at the value\n    of the stack pointer upon entry to the current function.  Accessing\n    local variables and parameters passed on the stack is done using the\n@@ -263,18 +262,6 @@ extern int target_flags;\n   ((GET_CODE (X) == PLUS ? OFFSET : 0) \\\n     + (frame_pointer_needed ? 0 : compute_frame_size (get_frame_size (), 0)))\n \n-/* gdb needs a null N_SO at the end of each file for scattered loading. */\n-\n-#undef\tDBX_OUTPUT_MAIN_SOURCE_FILE_END\n-#define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME) \\\n-  text_section (); \\\n-  if (!TARGET_PORTABLE_RUNTIME) \\\n-    fputs (\"\\t.SPACE $TEXT$\\n\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n-  else \\\n-    fprintf (FILE, \"%s\\n\", TEXT_SECTION_ASM_OP); \\\n-  fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t   \"\\t.stabs \\\"\\\",%d,0,0,L$text_end0000\\nL$text_end0000:\\n\", N_SO)\n-\n #if ((TARGET_DEFAULT | TARGET_CPU_DEFAULT) & MASK_PA_11) == 0\n #define CPP_SPEC \"%{msnake:-D__hp9000s700 -D_PA_RISC1_1}\\\n  %{mpa-risc-1-1:-D__hp9000s700 -D_PA_RISC1_1}\\\n@@ -324,55 +311,6 @@ int lhs_lshift_cint_operand ();\n /* Names to predefine in the preprocessor for this target machine.  */\n \n #define CPP_PREDEFINES \"-Dhppa -Dhp9000s800 -D__hp9000s800 -Dhp9k8 -Dunix -Dhp9000 -Dhp800 -Dspectrum -DREVARGV -Asystem(unix) -Asystem(bsd) -Acpu(hppa) -Amachine(hppa)\"\n-\n-/* HPUX has a program 'chatr' to list the dependencies of dynamically\n-   linked executables and shared libraries.  */\n-#define LDD_SUFFIX \"chatr\"\n-/* Look for lines like \"dynamic   /usr/lib/X11R5/libX11.sl\"\n-   or \"static    /usr/lib/X11R5/libX11.sl\". \n-\n-   HPUX 10.20 also has lines like \"static branch prediction ...\"\n-   so we filter that out explicitly.\n-\n-   We also try to bound our search for libraries with marker\n-   lines.  What a pain.  */\n-#define PARSE_LDD_OUTPUT(PTR)\t\t\t\t\t\\\n-do {\t\t\t\t\t\t\t\t\\\n-  static int in_shlib_list = 0;\t\t\t\t\t\\\n-  while (*PTR == ' ') PTR++;\t\t\t\t\t\\\n-  if (strncmp (PTR, \"shared library list:\",\t\t\t\\\n-\t       sizeof (\"shared library list:\") - 1) == 0)\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      PTR = 0;\t\t\t\t\t\t\t\\\n-      in_shlib_list = 1;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (strncmp (PTR, \"shared library binding:\",\t\t\\\n-\t\t    sizeof (\"shared library binding:\") - 1) == 0)\\\n-    {\t\t\t\t\t\t\t\t\\\n-      PTR = 0;\t\t\t\t\t\t\t\\\n-      in_shlib_list = 0;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (strncmp (PTR, \"static branch prediction disabled\",\t\\\n-\t\t    sizeof (\"static branch prediction disabled\") - 1) == 0)\\\n-    {\t\t\t\t\t\t\t\t\\\n-      PTR = 0;\t\t\t\t\t\t\t\\\n-      in_shlib_list = 0;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (in_shlib_list\t\t\t\t\t\\\n-\t   &&  strncmp (PTR, \"dynamic\", sizeof (\"dynamic\") - 1) == 0) \\\n-    {\t\t\t\t\t\t\t\t\\\n-      PTR += sizeof (\"dynamic\") - 1;\t\t\t\t\\\n-      while (*p == ' ') PTR++;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (in_shlib_list\t\t\t\t\t\\\n-\t   && strncmp (PTR, \"static\", sizeof (\"static\") - 1) == 0) \\\n-    {\t\t\t\t\t\t\t\t\\\n-      PTR += sizeof (\"static\") - 1;\t\t\t\t\\\n-      while (*p == ' ') PTR++;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  else\t\t\t\t\t\t\t\t\\\n-    PTR = 0;\t\t\t\t\t\t\t\\\n-} while (0)\n \f\n /* target machine storage layout */\n \n@@ -1143,21 +1081,6 @@ struct hppa_args {int words, nargs_prototype, indirect; };\n extern struct rtx_def *hppa_compare_op0, *hppa_compare_op1;\n extern enum cmp_type hppa_branch_type;\n \n-/* Output the label for a function definition.  */\n-#ifndef HP_FP_ARG_DESCRIPTOR_REVERSED\n-#define ASM_DOUBLE_ARG_DESCRIPTORS(FILE, ARG0, ARG1)\t\\\n-  do { fprintf (FILE, \",ARGW%d=FR\", (ARG0));\t\t\\\n-       fprintf (FILE, \",ARGW%d=FU\", (ARG1));} while (0)\n-#define DFMODE_RETURN_STRING \",RTNVAL=FU\"\n-#define SFMODE_RETURN_STRING \",RTNVAL=FR\"\n-#else\n-#define ASM_DOUBLE_ARG_DESCRIPTORS(FILE, ARG0, ARG1)\t\\\n-  do { fprintf (FILE, \",ARGW%d=FU\", (ARG0));\t\t\\\n-       fprintf (FILE, \",ARGW%d=FR\", (ARG1));} while (0)\n-#define DFMODE_RETURN_STRING \",RTNVAL=FR\"\n-#define SFMODE_RETURN_STRING \",RTNVAL=FU\"\n-#endif\n-\n #define ASM_OUTPUT_MI_THUNK(FILE, THUNK_FNDECL, DELTA, FUNCTION) \\\n { char *target_name = XSTR (XEXP (DECL_RTL (FUNCTION), 0), 0); \\\n   STRIP_NAME_ENCODING (target_name, target_name); \\\n@@ -1170,101 +1093,6 @@ extern enum cmp_type hppa_branch_type;\n   fprintf (FILE, \"\\n\\t.EXIT\\n\\t.PROCEND\\n\"); \\\n }\n \n-/* NAME refers to the function's name.  If we are placing each function into\n-   its own section, we need to switch to the section for this function.  Note\n-   that the section name will have a \".\" prefix.  */\n-#define ASM_OUTPUT_FUNCTION_PREFIX(FILE, NAME) \\\n-  {\t\t\t\t\t\t\t\t\t\\\n-    char *name;\t\t\t\t\t\t\t\t\\\n-    STRIP_NAME_ENCODING (name, NAME);\t\t\t\t\t\\\n-    if (!TARGET_PORTABLE_RUNTIME && TARGET_GAS && in_section == in_text) \\\n-      fputs (\"\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n-    else if (! TARGET_PORTABLE_RUNTIME && TARGET_GAS)\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t       \"\\t.SUBSPA .%s\\n\", name);\t\t\t\t\\\n-  }\n-    \n-#define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL) \\\n-    do { tree fntype = TREE_TYPE (TREE_TYPE (DECL));\t\t\t\\\n-\t tree tree_type = TREE_TYPE (DECL);\t\t\t\t\\\n-\t tree parm;\t\t\t\t\t\t\t\\\n-\t int i;\t\t\t\t\t\t\t\t\\\n-\t if (TREE_PUBLIC (DECL) || TARGET_GAS)\t\t\t\t\\\n-\t   { extern int current_function_varargs;\t\t\t\\\n-\t     if (TREE_PUBLIC (DECL))\t\t\t\t\t\\\n-\t       {\t\t\t\t\t\t\t\\\n-\t\t fputs (\"\\t.EXPORT \", FILE);\t\t\t\t\\\n-\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n-\t\t fputs (\",ENTRY,PRIV_LEV=3\", FILE);\t\t\t\\\n-\t       }\t\t\t\t\t\t\t\\\n-\t     else\t\t\t\t\t\t\t\\\n-\t       {\t\t\t\t\t\t\t\\\n-\t\t fputs (\"\\t.PARAM \", FILE);\t\t\t\t\\\n-\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n-\t       }\t\t\t\t\t\t\t\\\n-\t     if (TARGET_PORTABLE_RUNTIME)\t\t\t\t\\\n-\t       {\t\t\t\t\t\t\t\\\n-\t\t fputs (\",ARGW0=NO,ARGW1=NO,ARGW2=NO,ARGW3=NO,\", FILE);\t\\\n-\t\t fputs (\"RTNVAL=NO\\n\", FILE);\t\t\t\t\\\n-\t\t break;\t\t\t\t\t\t\t\\\n-\t       }\t\t\t\t\t\t\t\\\n-\t     for (parm = DECL_ARGUMENTS (DECL), i = 0; parm && i < 4;\t\\\n-\t\t  parm = TREE_CHAIN (parm))\t\t\t\t\\\n-\t       {\t\t\t\t\t\t\t\\\n-\t\t if (TYPE_MODE (DECL_ARG_TYPE (parm)) == SFmode\t\t\\\n-\t\t     && ! TARGET_SOFT_FLOAT)\t\t\t\t\\\n-\t\t   fprintf (FILE, \",ARGW%d=FR\", i++);\t\t\t\\\n-\t\t else if (TYPE_MODE (DECL_ARG_TYPE (parm)) == DFmode\t\\\n-\t\t\t  && ! TARGET_SOFT_FLOAT)\t\t\t\\\n-\t\t   {\t\t\t\t\t\t\t\\\n-\t\t     if (i <= 2)\t\t\t\t\t\\\n-\t\t       {\t\t\t\t\t\t\\\n-\t\t\t if (i == 1) i++;\t\t\t\t\\\n-\t\t\t ASM_DOUBLE_ARG_DESCRIPTORS (FILE, i++, i++);\t\\\n-\t\t       }\t\t\t\t\t\t\\\n-\t\t     else\t\t\t\t\t\t\\\n-\t\t       break;\t\t\t\t\t\t\\\n-\t\t   }\t\t\t\t\t\t\t\\\n-\t\t else\t\t\t\t\t\t\t\\\n-\t\t   {\t\t\t\t\t\t\t\\\n-\t\t     int arg_size =\t\t\t\t\t\\\n-\t\t       FUNCTION_ARG_SIZE (TYPE_MODE (DECL_ARG_TYPE (parm)),\\\n-\t\t\t\t\t  DECL_ARG_TYPE (parm));\t\\\n-\t\t     /* Passing structs by invisible reference uses\t\\\n-\t\t\tone general register.  */\t\t\t\\\n-\t\t     if (arg_size > 2\t\t\t\t\t\\\n-\t\t\t || TREE_ADDRESSABLE (DECL_ARG_TYPE (parm)))\t\\\n-\t\t       arg_size = 1;\t\t\t\t\t\\\n-\t\t     if (arg_size == 2 && i <= 2)\t\t\t\\\n-\t\t       {\t\t\t\t\t\t\\\n-\t\t\t if (i == 1) i++;\t\t\t\t\\\n-\t\t\t fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n-\t\t\t fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n-\t\t       }\t\t\t\t\t\t\\\n-\t\t     else if (arg_size == 1)\t\t\t\t\\\n-\t\t       fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n-\t\t     else\t\t\t\t\t\t\\\n-\t\t       i += arg_size;\t\t\t\t\t\\\n-\t\t   }\t\t\t\t\t\t\t\\\n-\t       }\t\t\t\t\t\t\t\\\n-\t     /* anonymous args */\t\t\t\t\t\\\n-\t     if ((TYPE_ARG_TYPES (tree_type) != 0\t\t\t\\\n-\t\t  && (TREE_VALUE (tree_last (TYPE_ARG_TYPES (tree_type)))\\\n-\t\t      != void_type_node))\t\t\t\t\\\n-\t\t || current_function_varargs)\t\t\t\t\\\n-\t       {\t\t\t\t\t\t\t\\\n-\t\t for (; i < 4; i++)\t\t\t\t\t\\\n-\t\t   fprintf (FILE, \",ARGW%d=GR\", i);\t\t\t\\\n-\t       }\t\t\t\t\t\t\t\\\n-\t     if (TYPE_MODE (fntype) == DFmode && ! TARGET_SOFT_FLOAT)\t\\\n-\t       fputs (DFMODE_RETURN_STRING, FILE);\t\t\t\\\n-\t     else if (TYPE_MODE (fntype) == SFmode && ! TARGET_SOFT_FLOAT) \\\n-\t       fputs (SFMODE_RETURN_STRING, FILE);\t\t\t\\\n-\t     else if (fntype != void_type_node)\t\t\t\t\\\n-\t       fputs (\",RTNVAL=GR\", FILE);\t\t\t\t\\\n-\t     fputs (\"\\n\", FILE);\t\t\t\t\t\\\n-\t   }} while (0)\n-\n /* This macro generates the assembly code for function entry.\n    FILE is a stdio stream to output the code to.\n    SIZE is an int: how many units of temporary storage to allocate.\n@@ -1746,79 +1574,6 @@ extern struct rtx_def *hppa_legitimize_address ();\n       || GET_CODE (ADDR) == POST_INC)\t\\\n     goto LABEL\n \f\n-/* Define this macro if references to a symbol must be treated\n-   differently depending on something about the variable or\n-   function named by the symbol (such as what section it is in).\n-\n-   The macro definition, if any, is executed immediately after the\n-   rtl for DECL or other node is created.\n-   The value of the rtl will be a `mem' whose address is a\n-   `symbol_ref'.\n-\n-   The usual thing for this macro to do is to a flag in the\n-   `symbol_ref' (such as `SYMBOL_REF_FLAG') or to store a modified\n-   name string in the `symbol_ref' (if one bit is not enough\n-   information).\n-\n-   On the HP-PA we use this to indicate if a symbol is in text or\n-   data space.  Also, function labels need special treatment. */\n-\n-#define TEXT_SPACE_P(DECL)\\\n-  (TREE_CODE (DECL) == FUNCTION_DECL\t\t\t\t\t\\\n-   || (TREE_CODE (DECL) == VAR_DECL\t\t\t\t\t\\\n-       && TREE_READONLY (DECL) && ! TREE_SIDE_EFFECTS (DECL)\t\t\\\n-       && (! DECL_INITIAL (DECL) || ! reloc_needed (DECL_INITIAL (DECL))) \\\n-       && !flag_pic)\t\t\t\t\t\t\t\\\n-   || (TREE_CODE_CLASS (TREE_CODE (DECL)) == 'c'\t\t\t\\\n-       && !(TREE_CODE (DECL) == STRING_CST && flag_writable_strings)))\n-\n-#define FUNCTION_NAME_P(NAME) \\\n-(*(NAME) == '@' || (*(NAME) == '*' && *((NAME) + 1) == '@'))\n-\n-#define ENCODE_SECTION_INFO(DECL)\\\n-do\t\t\t\t\t\t\t\\\n-  { if (TEXT_SPACE_P (DECL))\t\t\t\t\\\n-      {\trtx _rtl;\t\t\t\t\t\\\n-\tif (TREE_CODE (DECL) == FUNCTION_DECL\t\t\\\n-\t    || TREE_CODE (DECL) == VAR_DECL)\t\t\\\n-\t  _rtl = DECL_RTL (DECL);\t\t\t\\\n-\telse\t\t\t\t\t\t\\\n-\t  _rtl = TREE_CST_RTL (DECL);\t\t\t\\\n-\tSYMBOL_REF_FLAG (XEXP (_rtl, 0)) = 1;\t\t\\\n-\tif (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n-\t  hppa_encode_label (XEXP (DECL_RTL (DECL), 0), 0);\\\n-      }\t\t\t\t\t\t\t\\\n-  }\t\t\t\t\t\t\t\\\n-while (0)\n-\n-/* Store the user-specified part of SYMBOL_NAME in VAR.\n-   This is sort of inverse to ENCODE_SECTION_INFO.  */\n-\n-#define STRIP_NAME_ENCODING(VAR,SYMBOL_NAME)\t\\\n-  (VAR) = ((SYMBOL_NAME)  + ((SYMBOL_NAME)[0] == '*' ?\t\\\n-\t\t\t     1 + (SYMBOL_NAME)[1] == '@'\\\n-\t\t\t     : (SYMBOL_NAME)[0] == '@'))\n-\n-/* On hpux10, the linker will give an error if we have a reference\n-   in the read-only data section to a symbol defined in a shared\n-   library.  Therefore, expressions that might require a reloc can\n-   not be placed in the read-only data section.  */\n-#define SELECT_SECTION(EXP,RELOC) \\\n-  if (TREE_CODE (EXP) == VAR_DECL \\\n-      && TREE_READONLY (EXP) \\\n-      && !TREE_THIS_VOLATILE (EXP) \\\n-      && DECL_INITIAL (EXP) \\\n-      && (DECL_INITIAL (EXP) == error_mark_node \\\n-          || TREE_CONSTANT (DECL_INITIAL (EXP))) \\\n-      && !RELOC) \\\n-    readonly_data_section (); \\\n-  else if (TREE_CODE_CLASS (TREE_CODE (EXP)) == 'c' \\\n-\t   && !(TREE_CODE (EXP) == STRING_CST && flag_writable_strings) \\\n-\t   && !RELOC) \\\n-    readonly_data_section (); \\\n-  else \\\n-    data_section ();\n-   \n /* Arghh.  The hpux10 linker chokes if we have a reference to symbols\n    in a readonly data section when the symbol is defined in a shared\n    library.  Since we can't know at compile time if a symbol will be\n@@ -1865,15 +1620,6 @@ while (0)\n /* Nonzero if access to memory by bytes is slow and undesirable.  */\n #define SLOW_BYTE_ACCESS 1\n \n-/* Do not break .stabs pseudos into continuations.\n-\n-   This used to be zero (no max length), but big enums and such can\n-   cause huge strings which killed gas.\n-\n-   We also have to avoid lossage in dbxout.c -- it does not compute the\n-   string size accurately, so we are real conservative here.  */\n-#define DBX_CONTIN_LENGTH 3000\n-\n /* Value is 1 if truncating an integer of INPREC bits to OUTPREC bits\n    is done just by pretending it is already truncated.  */\n #define TRULY_NOOP_TRUNCATION(OUTPREC, INPREC) 1\n@@ -2055,25 +1801,6 @@ while (0)\n \f\n /* Control the assembler format that we output.  */\n \n-/* Output at beginning of assembler file.  */\n-\n-#define ASM_FILE_START(FILE) \\\n-do { fputs (\"\\t.SPACE $PRIVATE$\\n\\\n-\\t.SUBSPA $DATA$,QUAD=1,ALIGN=8,ACCESS=31\\n\\\n-\\t.SUBSPA $BSS$,QUAD=1,ALIGN=8,ACCESS=31,ZERO,SORT=82\\n\\\n-\\t.SPACE $TEXT$\\n\\\n-\\t.SUBSPA $LIT$,QUAD=0,ALIGN=8,ACCESS=44\\n\\\n-\\t.SUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\\\n-\\t.IMPORT $global$,DATA\\n\\\n-\\t.IMPORT $$dyncall,MILLICODE\\n\", FILE);\\\n-     if (profile_flag)\\\n-       fprintf (FILE, \"\\t.IMPORT _mcount, CODE\\n\");\\\n-     if (write_symbols != NO_DEBUG) \\\n-       output_file_directive ((FILE), main_input_filename); \\\n-   } while (0)\n-\n-#define ASM_FILE_END(FILE) output_deferred_plabels (FILE)\n-\n /* Output to assembler file text saying following lines\n    may contain character constants, extra white space, comments, etc.  */\n \n@@ -2084,98 +1811,6 @@ do { fputs (\"\\t.SPACE $PRIVATE$\\n\\\n \n #define ASM_APP_OFF \"\"\n \n-/* We don't yet know how to identify GCC to HP-PA machines.  */\n-#define ASM_IDENTIFY_GCC(FILE) fputs (\"; gcc_compiled.:\\n\", FILE)\n-\n-/* Output before code.  */\n-\n-/* Supposedly the assembler rejects the command if there is no tab!  */\n-#define TEXT_SECTION_ASM_OP \"\\t.SPACE $TEXT$\\n\\t.SUBSPA $CODE$\\n\"\n-\n-/* Output before read-only data.  */\n-\n-/* Supposedly the assembler rejects the command if there is no tab!  */\n-#define READONLY_DATA_ASM_OP \"\\t.SPACE $TEXT$\\n\\t.SUBSPA $LIT$\\n\"\n-\n-#define READONLY_DATA_SECTION readonly_data\n-\n-/* Output before writable data.  */\n-\n-/* Supposedly the assembler rejects the command if there is no tab!  */\n-#define DATA_SECTION_ASM_OP \"\\t.SPACE $PRIVATE$\\n\\t.SUBSPA $DATA$\\n\"\n-\n-/* Output before uninitialized data.  */\n-\n-#define BSS_SECTION_ASM_OP \"\\t.SPACE $PRIVATE$\\n\\t.SUBSPA $BSS$\\n\"\n-\n-/* Define the .bss section for ASM_OUTPUT_LOCAL to use. */\n-\n-#ifndef CTORS_SECTION_FUNCTION\n-#define EXTRA_SECTIONS in_readonly_data\n-#define CTORS_SECTION_FUNCTION\n-#define DTORS_SECTION_FUNCTION\n-#else\n-#define EXTRA_SECTIONS in_readonly_data, in_ctors, in_dtors\n-#endif\n-\n-/* Switch into a generic section.\n-   This is currently only used to support section attributes.\n-\n-   We make the section read-only and executable for a function decl,\n-   read-only for a const data decl, and writable for a non-const data decl.  */\n-#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME, RELOC) \\\n-  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.SUBSPA %s%s%s,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY,SORT=24\\n\",\\\n-\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n-    }\t\t\t\t\t\t\t\t\\\n-  else if (DECL && DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.SUBSPA %s%s%s,QUAD=0,ALIGN=8,ACCESS=44,SORT=16\\n\", \\\n-\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n-    }\t\t\t\t\t\t\t\t\\\n-  else\t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      fputs (\"\\t.SPACE $PRIVATE$\\n\", FILE);\t\t\t\\\n-      fprintf (FILE,\t\t\t\t\t\t\\\n-\t       \"\\t.SUBSPA %s%s%s,QUAD=1,ALIGN=8,ACCESS=31,SORT=16\\n\", \\\n-\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n-    }\n-\n-/* FIXME: HPUX ld generates incorrect GOT entries for \"T\" fixups\n-   which reference data within the $TEXT$ space (for example constant\n-   strings in the $LIT$ subspace).\n-\n-   The assemblers (GAS and HP as) both have problems with handling\n-   the difference of two symbols which is the other correct way to\n-   reference constant data during PIC code generation.\n-\n-   So, there's no way to reference constant data which is in the\n-   $TEXT$ space during PIC generation.  Instead place all constant\n-   data into the $PRIVATE$ subspace (this reduces sharing, but it\n-   works correctly).  */\n-\n-#define EXTRA_SECTION_FUNCTIONS\t\t\t\t\t\t\\\n-void\t\t\t\t\t\t\t\t\t\\\n-readonly_data ()\t\t\t\t\t\t\t\\\n-{\t\t\t\t\t\t\t\t\t\\\n-  if (in_section != in_readonly_data)\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\t\\\n-      if (flag_pic)\t\t\t\t\t\t\t\\\n-\tfprintf (asm_out_file, \"%s\\n\", DATA_SECTION_ASM_OP);\t\t\\\n-      else\t\t\t\t\t\t\t\t\\\n-\tfprintf (asm_out_file, \"%s\\n\", READONLY_DATA_ASM_OP);\t\t\\\n-      in_section = in_readonly_data;\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\t\\\n-}\t\t\t\t\t\t\t\t\t\\\n-CTORS_SECTION_FUNCTION\t\t\t\t\t\t\t\\\n-DTORS_SECTION_FUNCTION\n-\n-\n /* How to refer to registers in assembler output.\n    This sequence is indexed by compiler's hard-register-number (see above).  */\n \n@@ -2203,72 +1838,13 @@ DTORS_SECTION_FUNCTION\n  {\"%fr28L\",80}, {\"%fr29L\",82}, {\"%fr30L\",84}, {\"%fr31R\",86},\t\t\\\n  {\"%cr11\",88}}\n \n-/* How to renumber registers for dbx and gdb.\n-\n-   Registers 0  - 31 remain unchanged.\n-\n-   Registers 32 - 87 are mapped to 72 - 127\n-\n-   Register 88 is mapped to 32.  */\n-\n-#define DBX_REGISTER_NUMBER(REGNO) \\\n-  ((REGNO) <= 31 ? (REGNO) :\t\t\t\t\t\t\\\n-   ((REGNO) > 31 && (REGNO) <= 87 ? (REGNO) + 40 : 32))\n-\n /* This is how to output the definition of a user-level label named NAME,\n    such as the label on a static function or variable NAME.  */\n \n #define ASM_OUTPUT_LABEL(FILE, NAME)\t\\\n   do { assemble_name (FILE, NAME); \t\\\n        fputc ('\\n', FILE); } while (0)\n \n-/* This is how to output a command to make the user-level label named NAME\n-   defined for reference from other files.\n-\n-   We call assemble_name, which in turn sets TREE_SYMBOL_REFERENCED.  This\n-   macro will restore the original value of TREE_SYMBOL_REFERENCED to avoid\n-   placing useless function definitions in the output file.  */\n-\n-#define ASM_OUTPUT_EXTERNAL(FILE, DECL, NAME)\t\\\n-  do { int save_referenced;\t\t\t\t\t\\\n-       save_referenced = TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (DECL)); \\\n-       fputs (\"\\t.IMPORT \", FILE);\t\t\t\t\t\\\n-\t assemble_name (FILE, NAME);\t\t\t\t\\\n-       if (FUNCTION_NAME_P (NAME))     \t\t\t\t\\\n-\t fputs (\",CODE\\n\", FILE);\t\t\t\t\\\n-       else\t\t\t\t\t\t\t\\\n-\t fputs (\",DATA\\n\", FILE);\t\t\t\t\\\n-       TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (DECL)) = save_referenced; \\\n-     } while (0)\n-\n-/* The bogus HP assembler requires ALL external references to be\n-   \"imported\", even library calls. They look a bit different, so\n-   here's this macro.\n-\n-   Also note not all libcall names are passed to ENCODE_SECTION_INFO\n-   (__main for example).  To make sure all libcall names have section\n-   info recorded in them, we do it here.  */\n-\n-#define ASM_OUTPUT_EXTERNAL_LIBCALL(FILE, RTL) \\\n-  do { fputs (\"\\t.IMPORT \", FILE);\t\t\t\t\t\\\n-       if (!function_label_operand (RTL, VOIDmode))\t\t\t\\\n-\t hppa_encode_label (RTL, 1);\t\t\t\t\t\\\n-       assemble_name (FILE, XSTR ((RTL), 0));\t\t       \t\t\\\n-       fputs (\",CODE\\n\", FILE);\t\t\t\t\t\t\\\n-     } while (0)\n-\n-#define ASM_GLOBALIZE_LABEL(FILE, NAME)\t\t\t\t\t\\\n-  do {\t\t\t\t\t\t\t\t\t\\\n-    /* We only handle DATA objects here, functions are globalized in\t\\\n-       ASM_DECLARE_FUNCTION_NAME.  */\t\t\t\t\t\\\n-    if (! FUNCTION_NAME_P (NAME))\t\t\t\t\t\\\n-      {\t\t\t\t\t\t\t\t\t\\\n-\tfputs (\"\\t.EXPORT \", FILE);\t\t\t\t\t\\\n-\tassemble_name (FILE, NAME);\t\t\t\t\t\\\n-\tfputs (\",DATA\\n\", FILE);\t\t\t\t\t\\\n-      }\t\t\t\t\t\t\t\t\t\\\n-  } while (0)\n-\n /* This is how to output a reference to a user-level label named NAME.\n    `assemble_name' uses this.  */\n \n@@ -2305,20 +1881,6 @@ DTORS_SECTION_FUNCTION\n        fprintf (FILE, \"\\t.word 0x%lx\\n\", l);\t\t\t\t\\\n      } while (0)\n \n-/* This is how to output an assembler line defining an `int' constant. \n-\n-   This is made more complicated by the fact that functions must be\n-   prefixed by a P% as well as code label references for the exception\n-   table -- otherwise the linker chokes.  */\n-\n-#define ASM_OUTPUT_INT(FILE,VALUE)  \\\n-{ fputs (\"\\t.word \", FILE);\t\t\t\\\n-  if (function_label_operand (VALUE, VOIDmode)\t\\\n-      && !TARGET_PORTABLE_RUNTIME)\t\t\\\n-    fputs (\"P%\", FILE);\t\t\t\t\\\n-  output_addr_const (FILE, (VALUE));\t\t\\\n-  fputs (\"\\n\", FILE);}\n-\n /* Likewise for `short' and `char' constants.  */\n \n #define ASM_OUTPUT_SHORT(FILE,VALUE)  \\\n@@ -2568,22 +2130,6 @@ extern int insn_sets_and_refs_are_delayed ();\n \n extern struct rtx_def *return_addr_rtx ();\n \n-/* We want __gcc_plt_call to appear in every program built by\n-   gcc, so we make a reference to it out of __main.\n-   We use the asm statement to fool the optimizer into not\n-   removing the dead (but important) initialization of\n-   REFERENCE.  */\n-\n-#define DO_GLOBAL_DTORS_BODY\t\t\t\\\n-do {\t\t\t\t\t\t\\\n-  extern void __gcc_plt_call ();\t\t\\\n-  void (*reference)() = &__gcc_plt_call;\t\\\n-  func_ptr *p;\t\t\t\t\t\\\n-  __asm__ (\"\" : : \"r\" (reference));\t\t\\\n-  for (p = __DTOR_LIST__ + 1; *p; )\t\t\\\n-    (*p++) ();\t\t\t\t\t\\\n-} while (0)\n-\n /* Find the return address associated with the frame given by\n    FRAMEADDR.  */\n #define RETURN_ADDR_RTX(COUNT, FRAMEADDR)\t\t\t\t \\"}, {"sha": "1f8e5c78d6dc86c5050dd50d954796b893b8a6e5", "filename": "gcc/config/pa/som.h", "status": "added", "additions": 463, "deletions": 0, "changes": 463, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fsom.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfig%2Fpa%2Fsom.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fsom.h?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -0,0 +1,463 @@\n+/* Definitions for SOM assembler support.\n+   Copyright (C) 1999 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 1, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* So we can conditionalize small amounts of code in pa.c or pa.md.  */\n+#define OBJ_SOM\n+\n+/* We do not use BINCL stabs in SOM.\n+   ??? If it does not hurt, we probably should to avoid useless divergence\n+   from other embedded stabs implementations.  */\n+#undef DBX_USE_BINCL\n+\n+/* We make the first line stab special to avoid adding several\n+   gross hacks to GAS.  */\n+#undef  ASM_OUTPUT_SOURCE_LINE\n+#define ASM_OUTPUT_SOURCE_LINE(file, line)\t\t\\\n+  { static int sym_lineno = 1;\t\t\t\t\\\n+    static tree last_function_decl = NULL;\t\t\\\n+    if (current_function_decl == last_function_decl)\t\\\n+      fprintf (file, \"\\t.stabn 68,0,%d,L$M%d-%s\\nL$M%d:\\n\",\t\\\n+\t       line, sym_lineno,\t\t\t\\\n+\t       XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0) + 1, \\\n+\t       sym_lineno);\t\t\t\t\\\n+    else\t\t\t\t\t\t\\\n+      fprintf (file, \"\\t.stabn 68,0,%d,0\\n\", line);\t\\\n+    last_function_decl = current_function_decl;\t\t\\\n+    sym_lineno += 1; }\n+\n+/* gdb needs a null N_SO at the end of each file for scattered loading. */\n+\n+#undef\tDBX_OUTPUT_MAIN_SOURCE_FILE_END\n+#define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME) \\\n+  text_section (); \\\n+  fputs (\"\\t.SPACE $TEXT$\\n\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n+  fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t   \"\\t.stabs \\\"\\\",%d,0,0,L$text_end0000\\nL$text_end0000:\\n\", N_SO)\n+\n+/* On hpux10, the linker will give an error if we have a reference\n+   in the read-only data section to a symbol defined in a shared\n+   library.  Therefore, expressions that might require a reloc can\n+   not be placed in the read-only data section.  */\n+#define SELECT_SECTION(EXP,RELOC) \\\n+  if (TREE_CODE (EXP) == VAR_DECL \\\n+      && TREE_READONLY (EXP) \\\n+      && !TREE_THIS_VOLATILE (EXP) \\\n+      && DECL_INITIAL (EXP) \\\n+      && (DECL_INITIAL (EXP) == error_mark_node \\\n+          || TREE_CONSTANT (DECL_INITIAL (EXP))) \\\n+      && !RELOC) \\\n+    readonly_data_section (); \\\n+  else if (TREE_CODE_CLASS (TREE_CODE (EXP)) == 'c' \\\n+\t   && !(TREE_CODE (EXP) == STRING_CST && flag_writable_strings) \\\n+\t   && !RELOC) \\\n+    readonly_data_section (); \\\n+  else \\\n+    data_section ();\n+   \n+/* HPUX has a program 'chatr' to list the dependencies of dynamically\n+   linked executables and shared libraries.  */\n+#define LDD_SUFFIX \"chatr\"\n+/* Look for lines like \"dynamic   /usr/lib/X11R5/libX11.sl\"\n+   or \"static    /usr/lib/X11R5/libX11.sl\". \n+\n+   HPUX 10.20 also has lines like \"static branch prediction ...\"\n+   so we filter that out explicitly.\n+\n+   We also try to bound our search for libraries with marker\n+   lines.  What a pain.  */\n+#define PARSE_LDD_OUTPUT(PTR)\t\t\t\t\t\\\n+do {\t\t\t\t\t\t\t\t\\\n+  static int in_shlib_list = 0;\t\t\t\t\t\\\n+  while (*PTR == ' ') PTR++;\t\t\t\t\t\\\n+  if (strncmp (PTR, \"shared library list:\",\t\t\t\\\n+\t       sizeof (\"shared library list:\") - 1) == 0)\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      PTR = 0;\t\t\t\t\t\t\t\\\n+      in_shlib_list = 1;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (strncmp (PTR, \"shared library binding:\",\t\t\\\n+\t\t    sizeof (\"shared library binding:\") - 1) == 0)\\\n+    {\t\t\t\t\t\t\t\t\\\n+      PTR = 0;\t\t\t\t\t\t\t\\\n+      in_shlib_list = 0;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (strncmp (PTR, \"static branch prediction disabled\",\t\\\n+\t\t    sizeof (\"static branch prediction disabled\") - 1) == 0)\\\n+    {\t\t\t\t\t\t\t\t\\\n+      PTR = 0;\t\t\t\t\t\t\t\\\n+      in_shlib_list = 0;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (in_shlib_list\t\t\t\t\t\\\n+\t   &&  strncmp (PTR, \"dynamic\", sizeof (\"dynamic\") - 1) == 0) \\\n+    {\t\t\t\t\t\t\t\t\\\n+      PTR += sizeof (\"dynamic\") - 1;\t\t\t\t\\\n+      while (*p == ' ') PTR++;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (in_shlib_list\t\t\t\t\t\\\n+\t   && strncmp (PTR, \"static\", sizeof (\"static\") - 1) == 0) \\\n+    {\t\t\t\t\t\t\t\t\\\n+      PTR += sizeof (\"static\") - 1;\t\t\t\t\\\n+      while (*p == ' ') PTR++;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    PTR = 0;\t\t\t\t\t\t\t\\\n+} while (0)\n+\n+/* Output the label for a function definition.  */\n+#ifndef HP_FP_ARG_DESCRIPTOR_REVERSED\n+#define ASM_DOUBLE_ARG_DESCRIPTORS(FILE, ARG0, ARG1)\t\\\n+  do { fprintf (FILE, \",ARGW%d=FR\", (ARG0));\t\t\\\n+       fprintf (FILE, \",ARGW%d=FU\", (ARG1));} while (0)\n+#define DFMODE_RETURN_STRING \",RTNVAL=FU\"\n+#define SFMODE_RETURN_STRING \",RTNVAL=FR\"\n+#else\n+#define ASM_DOUBLE_ARG_DESCRIPTORS(FILE, ARG0, ARG1)\t\\\n+  do { fprintf (FILE, \",ARGW%d=FU\", (ARG0));\t\t\\\n+       fprintf (FILE, \",ARGW%d=FR\", (ARG1));} while (0)\n+#define DFMODE_RETURN_STRING \",RTNVAL=FR\"\n+#define SFMODE_RETURN_STRING \",RTNVAL=FU\"\n+#endif\n+\n+\f\n+/* Define this macro if references to a symbol must be treated\n+   differently depending on something about the variable or\n+   function named by the symbol (such as what section it is in).\n+\n+   The macro definition, if any, is executed immediately after the\n+   rtl for DECL or other node is created.\n+   The value of the rtl will be a `mem' whose address is a\n+   `symbol_ref'.\n+\n+   The usual thing for this macro to do is to a flag in the\n+   `symbol_ref' (such as `SYMBOL_REF_FLAG') or to store a modified\n+   name string in the `symbol_ref' (if one bit is not enough\n+   information).\n+\n+   On the HP-PA we use this to indicate if a symbol is in text or\n+   data space.  Also, function labels need special treatment. */\n+\n+#define TEXT_SPACE_P(DECL)\\\n+  (TREE_CODE (DECL) == FUNCTION_DECL\t\t\t\t\t\\\n+   || (TREE_CODE (DECL) == VAR_DECL\t\t\t\t\t\\\n+       && TREE_READONLY (DECL) && ! TREE_SIDE_EFFECTS (DECL)\t\t\\\n+       && (! DECL_INITIAL (DECL) || ! reloc_needed (DECL_INITIAL (DECL))) \\\n+       && !flag_pic)\t\t\t\t\t\t\t\\\n+   || (TREE_CODE_CLASS (TREE_CODE (DECL)) == 'c'\t\t\t\\\n+       && !(TREE_CODE (DECL) == STRING_CST && flag_writable_strings)))\n+\n+#define FUNCTION_NAME_P(NAME) \\\n+(*(NAME) == '@' || (*(NAME) == '*' && *((NAME) + 1) == '@'))\n+\n+#define ENCODE_SECTION_INFO(DECL)\\\n+do\t\t\t\t\t\t\t\\\n+  { if (TEXT_SPACE_P (DECL))\t\t\t\t\\\n+      {\trtx _rtl;\t\t\t\t\t\\\n+\tif (TREE_CODE (DECL) == FUNCTION_DECL\t\t\\\n+\t    || TREE_CODE (DECL) == VAR_DECL)\t\t\\\n+\t  _rtl = DECL_RTL (DECL);\t\t\t\\\n+\telse\t\t\t\t\t\t\\\n+\t  _rtl = TREE_CST_RTL (DECL);\t\t\t\\\n+\tSYMBOL_REF_FLAG (XEXP (_rtl, 0)) = 1;\t\t\\\n+\tif (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+\t  hppa_encode_label (XEXP (DECL_RTL (DECL), 0), 0);\\\n+      }\t\t\t\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\\\n+while (0)\n+\n+/* Store the user-specified part of SYMBOL_NAME in VAR.\n+   This is sort of inverse to ENCODE_SECTION_INFO.  */\n+\n+#define STRIP_NAME_ENCODING(VAR,SYMBOL_NAME)\t\\\n+  (VAR) = ((SYMBOL_NAME)  + ((SYMBOL_NAME)[0] == '*' ?\t\\\n+\t\t\t     1 + (SYMBOL_NAME)[1] == '@'\\\n+\t\t\t     : (SYMBOL_NAME)[0] == '@'))\n+\n+/* NAME refers to the function's name.  If we are placing each function into\n+   its own section, we need to switch to the section for this function.  Note\n+   that the section name will have a \".\" prefix.  */\n+#define ASM_OUTPUT_FUNCTION_PREFIX(FILE, NAME) \\\n+  {\t\t\t\t\t\t\t\t\t\\\n+    char *name;\t\t\t\t\t\t\t\t\\\n+    STRIP_NAME_ENCODING (name, NAME);\t\t\t\t\t\\\n+    if (TARGET_GAS && in_section == in_text) \t\t\t\t\\\n+      fputs (\"\\t.NSUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\", FILE); \\\n+    else if (TARGET_GAS)\t\t\t\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA .%s\\n\", name);\t\t\t\t\\\n+  }\n+    \n+#define ASM_DECLARE_FUNCTION_NAME(FILE, NAME, DECL) \\\n+    do { tree fntype = TREE_TYPE (TREE_TYPE (DECL));\t\t\t\\\n+\t tree tree_type = TREE_TYPE (DECL);\t\t\t\t\\\n+\t tree parm;\t\t\t\t\t\t\t\\\n+\t int i;\t\t\t\t\t\t\t\t\\\n+\t if (TREE_PUBLIC (DECL) || TARGET_GAS)\t\t\t\t\\\n+\t   { extern int current_function_varargs;\t\t\t\\\n+\t     if (TREE_PUBLIC (DECL))\t\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t fputs (\"\\t.EXPORT \", FILE);\t\t\t\t\\\n+\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n+\t\t fputs (\",ENTRY,PRIV_LEV=3\", FILE);\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n+\t     else\t\t\t\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t fputs (\"\\t.PARAM \", FILE);\t\t\t\t\\\n+\t\t assemble_name (FILE, NAME);\t\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n+\t     for (parm = DECL_ARGUMENTS (DECL), i = 0; parm && i < 4;\t\\\n+\t\t  parm = TREE_CHAIN (parm))\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t if (TYPE_MODE (DECL_ARG_TYPE (parm)) == SFmode\t\t\\\n+\t\t     && ! TARGET_SOFT_FLOAT)\t\t\t\t\\\n+\t\t   fprintf (FILE, \",ARGW%d=FR\", i++);\t\t\t\\\n+\t\t else if (TYPE_MODE (DECL_ARG_TYPE (parm)) == DFmode\t\\\n+\t\t\t  && ! TARGET_SOFT_FLOAT)\t\t\t\\\n+\t\t   {\t\t\t\t\t\t\t\\\n+\t\t     if (i <= 2)\t\t\t\t\t\\\n+\t\t       {\t\t\t\t\t\t\\\n+\t\t\t if (i == 1) i++;\t\t\t\t\\\n+\t\t\t ASM_DOUBLE_ARG_DESCRIPTORS (FILE, i++, i++);\t\\\n+\t\t       }\t\t\t\t\t\t\\\n+\t\t     else\t\t\t\t\t\t\\\n+\t\t       break;\t\t\t\t\t\t\\\n+\t\t   }\t\t\t\t\t\t\t\\\n+\t\t else\t\t\t\t\t\t\t\\\n+\t\t   {\t\t\t\t\t\t\t\\\n+\t\t     int arg_size =\t\t\t\t\t\\\n+\t\t       FUNCTION_ARG_SIZE (TYPE_MODE (DECL_ARG_TYPE (parm)),\\\n+\t\t\t\t\t  DECL_ARG_TYPE (parm));\t\\\n+\t\t     /* Passing structs by invisible reference uses\t\\\n+\t\t\tone general register.  */\t\t\t\\\n+\t\t     if (arg_size > 2\t\t\t\t\t\\\n+\t\t\t || TREE_ADDRESSABLE (DECL_ARG_TYPE (parm)))\t\\\n+\t\t       arg_size = 1;\t\t\t\t\t\\\n+\t\t     if (arg_size == 2 && i <= 2)\t\t\t\\\n+\t\t       {\t\t\t\t\t\t\\\n+\t\t\t if (i == 1) i++;\t\t\t\t\\\n+\t\t\t fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n+\t\t\t fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n+\t\t       }\t\t\t\t\t\t\\\n+\t\t     else if (arg_size == 1)\t\t\t\t\\\n+\t\t       fprintf (FILE, \",ARGW%d=GR\", i++);\t\t\\\n+\t\t     else\t\t\t\t\t\t\\\n+\t\t       i += arg_size;\t\t\t\t\t\\\n+\t\t   }\t\t\t\t\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n+\t     /* anonymous args */\t\t\t\t\t\\\n+\t     if ((TYPE_ARG_TYPES (tree_type) != 0\t\t\t\\\n+\t\t  && (TREE_VALUE (tree_last (TYPE_ARG_TYPES (tree_type)))\\\n+\t\t      != void_type_node))\t\t\t\t\\\n+\t\t || current_function_varargs)\t\t\t\t\\\n+\t       {\t\t\t\t\t\t\t\\\n+\t\t for (; i < 4; i++)\t\t\t\t\t\\\n+\t\t   fprintf (FILE, \",ARGW%d=GR\", i);\t\t\t\\\n+\t       }\t\t\t\t\t\t\t\\\n+\t     if (TYPE_MODE (fntype) == DFmode && ! TARGET_SOFT_FLOAT)\t\\\n+\t       fputs (DFMODE_RETURN_STRING, FILE);\t\t\t\\\n+\t     else if (TYPE_MODE (fntype) == SFmode && ! TARGET_SOFT_FLOAT) \\\n+\t       fputs (SFMODE_RETURN_STRING, FILE);\t\t\t\\\n+\t     else if (fntype != void_type_node)\t\t\t\t\\\n+\t       fputs (\",RTNVAL=GR\", FILE);\t\t\t\t\\\n+\t     fputs (\"\\n\", FILE);\t\t\t\t\t\\\n+\t   }} while (0)\n+\n+/* Output at beginning of assembler file.  */\n+\n+#define ASM_FILE_START(FILE) \\\n+do { fputs (\"\\t.SPACE $PRIVATE$\\n\\\n+\\t.SUBSPA $DATA$,QUAD=1,ALIGN=8,ACCESS=31\\n\\\n+\\t.SUBSPA $BSS$,QUAD=1,ALIGN=8,ACCESS=31,ZERO,SORT=82\\n\\\n+\\t.SPACE $TEXT$\\n\\\n+\\t.SUBSPA $LIT$,QUAD=0,ALIGN=8,ACCESS=44\\n\\\n+\\t.SUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY\\n\\\n+\\t.IMPORT $global$,DATA\\n\\\n+\\t.IMPORT $$dyncall,MILLICODE\\n\", FILE);\\\n+     if (profile_flag)\\\n+       fprintf (FILE, \"\\t.IMPORT _mcount, CODE\\n\");\\\n+     if (write_symbols != NO_DEBUG) \\\n+       output_file_directive ((FILE), main_input_filename); \\\n+   } while (0)\n+\n+/* Output before code.  */\n+\n+/* Supposedly the assembler rejects the command if there is no tab!  */\n+#define TEXT_SECTION_ASM_OP \"\\t.SPACE $TEXT$\\n\\t.SUBSPA $CODE$\\n\"\n+\n+/* Output before read-only data.  */\n+\n+/* Supposedly the assembler rejects the command if there is no tab!  */\n+#define READONLY_DATA_ASM_OP \"\\t.SPACE $TEXT$\\n\\t.SUBSPA $LIT$\\n\"\n+\n+#define READONLY_DATA_SECTION readonly_data\n+\n+/* Output before writable data.  */\n+\n+/* Supposedly the assembler rejects the command if there is no tab!  */\n+#define DATA_SECTION_ASM_OP \"\\t.SPACE $PRIVATE$\\n\\t.SUBSPA $DATA$\\n\"\n+\n+/* Output before uninitialized data.  */\n+\n+#define BSS_SECTION_ASM_OP \"\\t.SPACE $PRIVATE$\\n\\t.SUBSPA $BSS$\\n\"\n+\n+/* Define the .bss section for ASM_OUTPUT_LOCAL to use. */\n+\n+#ifndef CTORS_SECTION_FUNCTION\n+#define EXTRA_SECTIONS in_readonly_data\n+#define CTORS_SECTION_FUNCTION\n+#define DTORS_SECTION_FUNCTION\n+#else\n+#define EXTRA_SECTIONS in_readonly_data, in_ctors, in_dtors\n+#endif\n+\n+/* Switch into a generic section.\n+   This is currently only used to support section attributes.\n+\n+   We make the section read-only and executable for a function decl,\n+   read-only for a const data decl, and writable for a non-const data decl.  */\n+#define ASM_OUTPUT_SECTION_NAME(FILE, DECL, NAME, RELOC) \\\n+  if (DECL && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA %s%s%s,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY,SORT=24\\n\",\\\n+\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n+    }\t\t\t\t\t\t\t\t\\\n+  else if (DECL && DECL_READONLY_SECTION (DECL, RELOC))\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $TEXT$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA %s%s%s,QUAD=0,ALIGN=8,ACCESS=44,SORT=16\\n\", \\\n+\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n+    }\t\t\t\t\t\t\t\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      fputs (\"\\t.SPACE $PRIVATE$\\n\", FILE);\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\\\n+\t       \"\\t.SUBSPA %s%s%s,QUAD=1,ALIGN=8,ACCESS=31,SORT=16\\n\", \\\n+\t       TARGET_GAS ? \"\" : \"$\", NAME, TARGET_GAS ? \"\" : \"$\"); \\\n+    }\n+\n+/* FIXME: HPUX ld generates incorrect GOT entries for \"T\" fixups\n+   which reference data within the $TEXT$ space (for example constant\n+   strings in the $LIT$ subspace).\n+\n+   The assemblers (GAS and HP as) both have problems with handling\n+   the difference of two symbols which is the other correct way to\n+   reference constant data during PIC code generation.\n+\n+   So, there's no way to reference constant data which is in the\n+   $TEXT$ space during PIC generation.  Instead place all constant\n+   data into the $PRIVATE$ subspace (this reduces sharing, but it\n+   works correctly).  */\n+\n+#define EXTRA_SECTION_FUNCTIONS\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\t\\\n+readonly_data ()\t\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\t\\\n+  if (in_section != in_readonly_data)\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      if (flag_pic)\t\t\t\t\t\t\t\\\n+\tfprintf (asm_out_file, \"%s\\n\", DATA_SECTION_ASM_OP);\t\t\\\n+      else\t\t\t\t\t\t\t\t\\\n+\tfprintf (asm_out_file, \"%s\\n\", READONLY_DATA_ASM_OP);\t\t\\\n+      in_section = in_readonly_data;\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\t\\\n+CTORS_SECTION_FUNCTION\t\t\t\t\t\t\t\\\n+DTORS_SECTION_FUNCTION\n+\n+/* This is how to output a command to make the user-level label named NAME\n+   defined for reference from other files.\n+\n+   We call assemble_name, which in turn sets TREE_SYMBOL_REFERENCED.  This\n+   macro will restore the original value of TREE_SYMBOL_REFERENCED to avoid\n+   placing useless function definitions in the output file.  */\n+\n+#define ASM_OUTPUT_EXTERNAL(FILE, DECL, NAME)\t\\\n+  do { int save_referenced;\t\t\t\t\t\\\n+       save_referenced = TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (DECL)); \\\n+       fputs (\"\\t.IMPORT \", FILE);\t\t\t\t\t\\\n+\t assemble_name (FILE, NAME);\t\t\t\t\\\n+       if (FUNCTION_NAME_P (NAME))     \t\t\t\t\\\n+\t fputs (\",CODE\\n\", FILE);\t\t\t\t\\\n+       else\t\t\t\t\t\t\t\\\n+\t fputs (\",DATA\\n\", FILE);\t\t\t\t\\\n+       TREE_SYMBOL_REFERENCED (DECL_ASSEMBLER_NAME (DECL)) = save_referenced; \\\n+     } while (0)\n+\n+/* The bogus HP assembler requires ALL external references to be\n+   \"imported\", even library calls. They look a bit different, so\n+   here's this macro.\n+\n+   Also note not all libcall names are passed to ENCODE_SECTION_INFO\n+   (__main for example).  To make sure all libcall names have section\n+   info recorded in them, we do it here.  */\n+\n+#define ASM_OUTPUT_EXTERNAL_LIBCALL(FILE, RTL) \\\n+  do { fputs (\"\\t.IMPORT \", FILE);\t\t\t\t\t\\\n+       if (!function_label_operand (RTL, VOIDmode))\t\t\t\\\n+\t hppa_encode_label (RTL, 1);\t\t\t\t\t\\\n+       assemble_name (FILE, XSTR ((RTL), 0));\t\t       \t\t\\\n+       fputs (\",CODE\\n\", FILE);\t\t\t\t\t\t\\\n+     } while (0)\n+\n+#define ASM_GLOBALIZE_LABEL(FILE, NAME)\t\t\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    /* We only handle DATA objects here, functions are globalized in\t\\\n+       ASM_DECLARE_FUNCTION_NAME.  */\t\t\t\t\t\\\n+    if (! FUNCTION_NAME_P (NAME))\t\t\t\t\t\\\n+      {\t\t\t\t\t\t\t\t\t\\\n+\tfputs (\"\\t.EXPORT \", FILE);\t\t\t\t\t\\\n+\tassemble_name (FILE, NAME);\t\t\t\t\t\\\n+\tfputs (\",DATA\\n\", FILE);\t\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\t\\\n+  } while (0)\n+\n+#define ASM_FILE_END(FILE) output_deferred_plabels (FILE)\n+\n+/* This is how to output an assembler line defining an `int' constant. \n+\n+   This is made more complicated by the fact that functions must be\n+   prefixed by a P% as well as code label references for the exception\n+   table -- otherwise the linker chokes.  */\n+\n+#define ASM_OUTPUT_INT(FILE,VALUE)  \\\n+{ fputs (\"\\t.word \", FILE);\t\t\t\\\n+  if (function_label_operand (VALUE, VOIDmode))\t\\\n+    fputs (\"P%\", FILE);\t\t\t\t\\\n+  output_addr_const (FILE, (VALUE));\t\t\\\n+  fputs (\"\\n\", FILE);}\n+\n+\n+/* We want __gcc_plt_call to appear in every program built by\n+   gcc, so we make a reference to it out of __main.\n+   We use the asm statement to fool the optimizer into not\n+   removing the dead (but important) initialization of\n+   REFERENCE.  */\n+\n+#define DO_GLOBAL_DTORS_BODY\t\t\t\\\n+do {\t\t\t\t\t\t\\\n+  extern void __gcc_plt_call ();\t\t\\\n+  void (*reference)() = &__gcc_plt_call;\t\\\n+  func_ptr *p;\t\t\t\t\t\\\n+  __asm__ (\"\" : : \"r\" (reference));\t\t\\\n+  for (p = __DTOR_LIST__ + 1; *p; )\t\t\\\n+    (*p++) ();\t\t\t\t\t\\\n+} while (0)"}, {"sha": "edfc6701193847a462b6102047068804d39229ab", "filename": "gcc/configure", "status": "modified", "additions": 114, "deletions": 109, "changes": 223, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -3263,33 +3263,37 @@ for machine in $build $host $target; do\n \t\ttmake_file=pa/t-openbsd\n \t\t;;\n \thppa1.1-*-pro*)\n-\t\ttm_file=\"pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h\"\n+\t\ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h\"\n \t\txm_file=pa/xm-papro.h\n \t\ttmake_file=pa/t-pro\n \t\t;;\n \thppa1.1-*-osf*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-osf.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-osf.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.1-*-rtems*)\n-\t\ttm_file=\"pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h pa/rtems.h\"\n+\t\ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h pa/rtems.h\"\n \t\txm_file=pa/xm-papro.h\n \t\ttmake_file=pa/t-pro\n \t\t;;\n \thppa1.0-*-osf*)\n-\t\ttm_file=\"${tm_file} pa/pa-osf.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-osf.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.1-*-bsd*)\n+\t\ttm_file=\"${tm_file} pa/som.h\"\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-bsd*)\n+\t\ttm_file=\"${tm_file} pa/som.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux7*)\n-\t\ttm_file=\"pa/pa-oldas.h ${tm_file} pa/pa-hpux7.h\"\n+\t\ttm_file=\"pa/pa-oldas.h ${tm_file} pa/som.h pa/pa-hpux7.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3300,7 +3304,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux8.0[0-2]*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3314,7 +3318,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hpux8.0[0-2]*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3328,7 +3332,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hpux8*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3339,7 +3343,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux8*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3351,7 +3355,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hpux10* | hppa2*-*-hpux10*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux10.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux10.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -3370,7 +3374,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux10*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux10.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux10.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -3390,7 +3394,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hpux11* | hppa2*-*-hpux11*)\n \t\ttarget_cpu_default=1\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux11.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux11.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -3409,7 +3413,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux11*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux11.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux11.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif [ x$gas = xyes ]\n@@ -3428,7 +3432,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hpux* | hppa2*-*-hpux*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux9.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux9.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3439,7 +3443,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux9.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux9.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3451,7 +3455,7 @@ for machine in $build $host $target; do\n \t\t;;\n \thppa1.1-*-hiux* | hppa2*-*-hiux*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hiux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hiux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3462,7 +3466,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hiux*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hiux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hiux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -3473,6 +3477,7 @@ for machine in $build $host $target; do\n \t\tuse_collect2=yes\n \t\t;;\n \thppa*-*-lites*)\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h\"\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n \t\tuse_collect2=yes\n \t\t;;\n@@ -6082,15 +6087,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6086: checking for strerror in -lcposix\" >&5\n+echo \"configure:6091: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6094 \"configure\"\n+#line 6099 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6101,7 +6106,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6105: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6110: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6124,12 +6129,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6128: checking for working const\" >&5\n+echo \"configure:6133: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6133 \"configure\"\n+#line 6138 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6178,7 +6183,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6182: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6187: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6199,21 +6204,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6203: checking for inline\" >&5\n+echo \"configure:6208: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6210 \"configure\"\n+#line 6215 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6217: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6222: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6239,12 +6244,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6243: checking for off_t\" >&5\n+echo \"configure:6248: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6248 \"configure\"\n+#line 6253 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6272,12 +6277,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6276: checking for size_t\" >&5\n+echo \"configure:6281: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6281 \"configure\"\n+#line 6286 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6307,19 +6312,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6311: checking for working alloca.h\" >&5\n+echo \"configure:6316: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6316 \"configure\"\n+#line 6321 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6323: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6328: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6340,12 +6345,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6344: checking for alloca\" >&5\n+echo \"configure:6349: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6349 \"configure\"\n+#line 6354 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6373,7 +6378,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6377: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6382: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6405,12 +6410,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6409: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6414: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6414 \"configure\"\n+#line 6419 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6435,12 +6440,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6439: checking for $ac_func\" >&5\n+echo \"configure:6444: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6444 \"configure\"\n+#line 6449 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6463,7 +6468,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6467: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6472: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6490,15 +6495,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6494: checking stack direction for C alloca\" >&5\n+echo \"configure:6499: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6502 \"configure\"\n+#line 6507 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6517,7 +6522,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6521: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6526: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6542,17 +6547,17 @@ for ac_hdr in unistd.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6546: checking for $ac_hdr\" >&5\n+echo \"configure:6551: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6551 \"configure\"\n+#line 6556 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6556: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6561: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6581,12 +6586,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6585: checking for $ac_func\" >&5\n+echo \"configure:6590: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6590 \"configure\"\n+#line 6595 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6609,7 +6614,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6613: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6618: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6634,15 +6639,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:6638: checking for working mmap\" >&5\n+echo \"configure:6643: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6646 \"configure\"\n+#line 6651 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -6782,7 +6787,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:6786: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6791: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -6810,17 +6815,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6814: checking for $ac_hdr\" >&5\n+echo \"configure:6819: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6819 \"configure\"\n+#line 6824 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6824: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6829: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6850,12 +6855,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6854: checking for $ac_func\" >&5\n+echo \"configure:6859: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6859 \"configure\"\n+#line 6864 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6878,7 +6883,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6882: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6887: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6907,12 +6912,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6911: checking for $ac_func\" >&5\n+echo \"configure:6916: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6916 \"configure\"\n+#line 6921 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6935,7 +6940,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6939: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6944: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6969,19 +6974,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6973: checking for LC_MESSAGES\" >&5\n+echo \"configure:6978: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6978 \"configure\"\n+#line 6983 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6985: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6990: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7002,7 +7007,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7006: checking whether NLS is requested\" >&5\n+echo \"configure:7011: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7022,7 +7027,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7026: checking whether included gettext is requested\" >&5\n+echo \"configure:7031: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7041,17 +7046,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7045: checking for libintl.h\" >&5\n+echo \"configure:7050: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7050 \"configure\"\n+#line 7055 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7055: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7060: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7068,19 +7073,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7072: checking for gettext in libc\" >&5\n+echo \"configure:7077: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7077 \"configure\"\n+#line 7082 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7084: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7089: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7096,15 +7101,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7100: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7105: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7108 \"configure\"\n+#line 7113 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7115,7 +7120,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7119: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7124: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7131,20 +7136,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7135: checking for gettext in libintl\" >&5\n+echo \"configure:7140: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7140: checking for gettext in -lintl\" >&5\n+echo \"configure:7145: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7148 \"configure\"\n+#line 7153 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7155,7 +7160,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7159: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7164: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7194,7 +7199,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7198: checking for $ac_word\" >&5\n+echo \"configure:7203: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7228,12 +7233,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7232: checking for $ac_func\" >&5\n+echo \"configure:7237: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7237 \"configure\"\n+#line 7242 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7256,7 +7261,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7260: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7265: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7283,7 +7288,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7287: checking for $ac_word\" >&5\n+echo \"configure:7292: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7319,7 +7324,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7323: checking for $ac_word\" >&5\n+echo \"configure:7328: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7351,15 +7356,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7355 \"configure\"\n+#line 7360 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7363: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7382,7 +7387,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7386: checking whether catgets can be used\" >&5\n+echo \"configure:7391: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7395,22 +7400,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7399: checking for main in -li\" >&5\n+echo \"configure:7404: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7407 \"configure\"\n+#line 7412 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7414: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7419: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7438,12 +7443,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7442: checking for catgets\" >&5\n+echo \"configure:7447: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7447 \"configure\"\n+#line 7452 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7466,7 +7471,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7470: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7475: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7488,7 +7493,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7492: checking for $ac_word\" >&5\n+echo \"configure:7497: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7524,7 +7529,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7528: checking for $ac_word\" >&5\n+echo \"configure:7533: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7561,7 +7566,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7565: checking for $ac_word\" >&5\n+echo \"configure:7570: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7596,7 +7601,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7600: checking for $ac_word\" >&5\n+echo \"configure:7605: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7654,7 +7659,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7658: checking for $ac_word\" >&5\n+echo \"configure:7663: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7688,7 +7693,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7692: checking for $ac_word\" >&5\n+echo \"configure:7697: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7724,7 +7729,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7728: checking for $ac_word\" >&5\n+echo \"configure:7733: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7817,7 +7822,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7821: checking for catalogs to be installed\" >&5\n+echo \"configure:7826: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -7845,17 +7850,17 @@ echo \"configure:7821: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7849: checking for linux/version.h\" >&5\n+echo \"configure:7854: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7854 \"configure\"\n+#line 7859 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7859: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7864: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8089,7 +8094,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8093: checking assembler alignment features\" >&5\n+echo \"configure:8098: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8210,7 +8215,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8214: checking assembler subsection support\" >&5\n+echo \"configure:8219: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8250,7 +8255,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8254: checking assembler instructions\" >&5\n+echo \"configure:8259: checking assembler instructions\" >&5\n gcc_cv_as_instructions=\n if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\""}, {"sha": "c74469c077157be02cd298b2783abe2b5b93c6bf", "filename": "gcc/configure.in", "status": "modified", "additions": 22, "deletions": 17, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d381b47571b7625ee4df85147d3327acb4573eb/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=0d381b47571b7625ee4df85147d3327acb4573eb", "patch": "@@ -836,33 +836,37 @@ changequote([,])dnl\n \t\ttmake_file=pa/t-openbsd\n \t\t;;\n \thppa1.1-*-pro*)\n-\t\ttm_file=\"pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h\"\n+\t\ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h\"\n \t\txm_file=pa/xm-papro.h\n \t\ttmake_file=pa/t-pro\n \t\t;;\n \thppa1.1-*-osf*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-osf.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-osf.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.1-*-rtems*)\n-\t\ttm_file=\"pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h pa/rtems.h\"\n+\t\ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h pa/rtems.h\"\n \t\txm_file=pa/xm-papro.h\n \t\ttmake_file=pa/t-pro\n \t\t;;\n \thppa1.0-*-osf*)\n-\t\ttm_file=\"${tm_file} pa/pa-osf.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-osf.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.1-*-bsd*)\n+\t\ttm_file=\"${tm_file} pa/som.h\"\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-bsd*)\n+\t\ttm_file=\"${tm_file} pa/som.h\"\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux7*)\n-\t\ttm_file=\"pa/pa-oldas.h ${tm_file} pa/pa-hpux7.h\"\n+\t\ttm_file=\"pa/pa-oldas.h ${tm_file} pa/som.h pa/pa-hpux7.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -875,7 +879,7 @@ changequote([,])dnl\n changequote(,)dnl\n \thppa1.0-*-hpux8.0[0-2]*)\n changequote([,])dnl\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -891,7 +895,7 @@ changequote(,)dnl\n \thppa1.1-*-hpux8.0[0-2]*)\n changequote([,])dnl\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -905,7 +909,7 @@ changequote([,])dnl\n \t\t;;\n \thppa1.1-*-hpux8*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -916,7 +920,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux8*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -928,7 +932,7 @@ changequote([,])dnl\n \t\t;;\n \thppa1.1-*-hpux10* | hppa2*-*-hpux10*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux10.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux10.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -947,7 +951,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux10*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux10.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux10.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -967,7 +971,7 @@ changequote([,])dnl\n \t\t;;\n \thppa1.1-*-hpux11* | hppa2*-*-hpux11*)\n \t\ttarget_cpu_default=1\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux11.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux11.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\ttmake_file=pa/t-pa\n@@ -986,7 +990,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux11*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux11.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux11.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif [[ x$gas = xyes ]]\n@@ -1005,7 +1009,7 @@ changequote([,])dnl\n \t\t;;\n \thppa1.1-*-hpux* | hppa2*-*-hpux*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux9.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux9.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -1016,7 +1020,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hpux*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hpux9.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hpux9.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -1028,7 +1032,7 @@ changequote([,])dnl\n \t\t;;\n \thppa1.1-*-hiux* | hppa2*-*-hiux*)\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hiux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hiux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -1039,7 +1043,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa1.0-*-hiux*)\n-\t\ttm_file=\"${tm_file} pa/pa-hpux.h pa/pa-hiux.h\"\n+\t\ttm_file=\"${tm_file} pa/som.h pa/pa-hpux.h pa/pa-hiux.h\"\n \t\txm_file=pa/xm-pahpux.h\n \t\txmake_file=pa/x-pa-hpux\n \t\tif test x$gas = xyes\n@@ -1050,6 +1054,7 @@ changequote([,])dnl\n \t\tuse_collect2=yes\n \t\t;;\n \thppa*-*-lites*)\n+\t\ttm_file=\"${tm_file} elfos.h pa/elf.h\"\n \t\ttarget_cpu_default=\"MASK_PA_11\"\n \t\tuse_collect2=yes\n \t\t;;"}]}