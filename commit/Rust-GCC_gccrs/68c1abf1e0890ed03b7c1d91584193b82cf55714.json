{"sha": "68c1abf1e0890ed03b7c1d91584193b82cf55714", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjhjMWFiZjFlMDg5MGVkMDNiN2MxZDkxNTg0MTkzYjgyY2Y1NTcxNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-06-24T13:27:25Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-06-24T13:27:25Z"}, "message": "re PR tree-optimization/22171 (gcc-4.0-20050623 internal compiler error in linux/drivers/serial/8250.c)\n\n\tPR 22171\n\t* tree-ssa-operands.c (get_expr_operands): Check s_ann for NULL\n\tbefore use.\n\n\tPR 22171\n\t* gcc.dg/tree-ssa/pr22171.c: New test.\n\nFrom-SVN: r101292", "tree": {"sha": "126cfb4378caa5075533fd25a1538e261cbc2dc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/126cfb4378caa5075533fd25a1538e261cbc2dc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68c1abf1e0890ed03b7c1d91584193b82cf55714", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c1abf1e0890ed03b7c1d91584193b82cf55714", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68c1abf1e0890ed03b7c1d91584193b82cf55714", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c1abf1e0890ed03b7c1d91584193b82cf55714/comments", "author": null, "committer": null, "parents": [{"sha": "305a132148b9ced8ec6a6cf33a3d4635729fde9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/305a132148b9ced8ec6a6cf33a3d4635729fde9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/305a132148b9ced8ec6a6cf33a3d4635729fde9d"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "818aea579ca1311424e7a2ec533a062d784130a9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=68c1abf1e0890ed03b7c1d91584193b82cf55714", "patch": "@@ -1,3 +1,9 @@\n+2005-06-24  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR 22171\n+\t* tree-ssa-operands.c (get_expr_operands): Check s_ann for NULL\n+\tbefore use.\n+\n 2005-06-23  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR 22000"}, {"sha": "f699cd2eb0b0a1b504e7e8d6c22e8feb8fbdf5d0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=68c1abf1e0890ed03b7c1d91584193b82cf55714", "patch": "@@ -1,3 +1,8 @@\n+2005-06-24  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR 22171\n+\t* gcc.dg/tree-ssa/pr22171.c: New test.\n+\n 2005-06-24  Feng Wang  <fengwang@nudt.edu.cn>\n \n \t* gfortran.dg/simplify_modulo.f90: New."}, {"sha": "6a26c56d0e77c46d664aa6579141ff578f2188c5", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr22171.c", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr22171.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c1abf1e0890ed03b7c1d91584193b82cf55714/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr22171.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr22171.c?ref=68c1abf1e0890ed03b7c1d91584193b82cf55714", "patch": "@@ -0,0 +1,28 @@\n+/* { dg-options \"-O2\" } */\n+\n+static unsigned int old_serial_port_irq[10];\n+\n+static struct uart_8250_port {\n+  volatile unsigned int slock;\n+  unsigned int irq;\n+} serial8250_ports[10];\n+\n+static __inline__ __attribute__((always_inline)) int irq_canonicalize(int irq)\n+{\n+  return ((irq == 2) ? 9 : irq);\n+}\n+\n+void serial8250_isa_init_ports(void)\n+{\n+  struct uart_8250_port *up;\n+  int i;\n+\n+  for (i = 0, up = serial8250_ports; i < 10; i++, up++)\n+    up->irq = irq_canonicalize(old_serial_port_irq[i]);\n+}\n+\n+int main(void)\n+{\n+  serial8250_isa_init_ports();\n+  return 0;\n+}"}]}