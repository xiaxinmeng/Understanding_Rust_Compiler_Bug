{"sha": "4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGMyMWVmMDNkMTVhZTk5MGRiMjllM2ZmYjZhNGJlMTdjZDQ1OGE1OQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-09-04T18:20:21Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-09-04T18:20:21Z"}, "message": "unwind.h (_UA_END_OF_STACK): New flag.\n\n        * unwind.h (_UA_END_OF_STACK): New flag.\n        * unwind.inc (_Unwind_ForcedUnwind_Phase2): Set it.\n\nFrom-SVN: r45384", "tree": {"sha": "5e966e9d60dc8b553e7925abbaff08734452bc3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5e966e9d60dc8b553e7925abbaff08734452bc3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/comments", "author": null, "committer": null, "parents": [{"sha": "7a98d9b2484ca82269f5f63850606f95c8a77a9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a98d9b2484ca82269f5f63850606f95c8a77a9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a98d9b2484ca82269f5f63850606f95c8a77a9c"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "1de0a42fb775d0c2c563b8dfee60a9189a5cbe05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "patch": "@@ -1,3 +1,8 @@\n+2001-09-04  Richard Henderson  <rth@redhat.com>\n+\n+\t* unwind.h (_UA_END_OF_STACK): New flag.\n+\t* unwind.inc (_Unwind_ForcedUnwind_Phase2): Set it.\n+\n Tue Sep  4 11:16:35 2001  Jeffrey A Law  (law@cygnus.com)\n \n \t* h8300/elf.h (LINK_SPEC): Redefine appropriately for the H8."}, {"sha": "fc36913d9790ae9a58efea0ceedac1febb5f0367", "filename": "gcc/unwind.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2Funwind.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2Funwind.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind.h?ref=4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "patch": "@@ -87,6 +87,7 @@ typedef int _Unwind_Action;\n #define _UA_CLEANUP_PHASE\t2\n #define _UA_HANDLER_FRAME\t4\n #define _UA_FORCE_UNWIND\t8\n+#define _UA_END_OF_STACK\t16\n \n /* This is an opaque type used to refer to a system-specific data\n    structure used by the system unwinder. This context is created and"}, {"sha": "bd867e60892c23774ccd0eeccea135687291b493", "filename": "gcc/unwind.inc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2Funwind.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c21ef03d15ae990db29e3ffb6a4be17cd458a59/gcc%2Funwind.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funwind.inc?ref=4c21ef03d15ae990db29e3ffb6a4be17cd458a59", "patch": "@@ -142,14 +142,18 @@ _Unwind_ForcedUnwind_Phase2(struct _Unwind_Exception *exc,\n   while (1)\n     {\n       _Unwind_FrameState fs;\n+      int action;\n \n       code = uw_frame_state_for (context, &fs);\n       if (code != _URC_NO_REASON && code != _URC_END_OF_STACK)\n \treturn _URC_FATAL_PHASE2_ERROR;\n \n       /* Unwind successful.  */\n-      stop_code = (*stop) (1, _UA_FORCE_UNWIND | _UA_CLEANUP_PHASE,\n-\t\t\t   exc->exception_class, exc, context, stop_argument);\n+      action = _UA_FORCE_UNWIND | _UA_CLEANUP_PHASE;\n+      if (code == _URC_END_OF_STACK)\n+\taction |= _UA_END_OF_STACK;\n+      stop_code = (*stop) (1, action, exc->exception_class, exc,\n+\t\t\t   context, stop_argument);\n       if (stop_code != _URC_NO_REASON)\n \treturn _URC_FATAL_PHASE2_ERROR;\n "}]}