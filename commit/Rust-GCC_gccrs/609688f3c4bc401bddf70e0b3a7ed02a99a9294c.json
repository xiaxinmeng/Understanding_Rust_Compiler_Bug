{"sha": "609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA5Njg4ZjNjNGJjNDAxYmRkZjcwZTBiM2E3ZWQwMmE5OWE5Mjk0Yw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2002-05-03T12:09:35Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-05-03T12:09:35Z"}, "message": "defaults.h (BOOL_TYPE_SIZE): Move default here from cp/decl.c.\n\n        * defaults.h (BOOL_TYPE_SIZE): Move default here from cp/decl.c.\n        * c-decl.c (c_init_decl_processing): Use it.\n        * config/rs6000/darwin.h (BOOL_TYPE_SIZE): Define to INT_TYPE_SIZE.\n        * config/i960/i960.h (BOOL_TYPE_SIZE): Don't define.\n        * config/mcore/mcore.h (BOOL_TYPE_SIZE): Don't define.\n\nFrom-SVN: r53089", "tree": {"sha": "9ab8b45e49c0b7f6ff711d8ba5e370033a2c0ef8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ab8b45e49c0b7f6ff711d8ba5e370033a2c0ef8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3b03c671adb3d46d7ccfddba9e750e032287afc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b03c671adb3d46d7ccfddba9e750e032287afc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b03c671adb3d46d7ccfddba9e750e032287afc4"}], "stats": {"total": 37, "additions": 22, "deletions": 15}, "files": [{"sha": "512da23466f42c1d8b4d2c00e42d21fa1a3459eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -1,3 +1,11 @@\n+2002-05-02  Jason Merrill  <jason@redhat.com>\n+\n+\t* defaults.h (BOOL_TYPE_SIZE): Move default here from cp/decl.c.\n+\t* c-decl.c (c_init_decl_processing): Use it.\n+\t* config/rs6000/darwin.h (BOOL_TYPE_SIZE): Define to INT_TYPE_SIZE.\n+\t* config/i960/i960.h (BOOL_TYPE_SIZE): Don't define.\n+\t* config/mcore/mcore.h (BOOL_TYPE_SIZE): Don't define.\n+\n 2002-05-03  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* regrename.c: Fix formatting."}, {"sha": "ae4cebb9d0c7db9d33a254eccfa655fc93d22f7b", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -2913,8 +2913,7 @@ c_init_decl_processing ()\n   boolean_true_node = integer_one_node;\n   boolean_false_node = integer_zero_node;\n \n-  /* With GCC, C99's _Bool is always of size 1.  */\n-  c_bool_type_node = make_unsigned_type (CHAR_TYPE_SIZE);\n+  c_bool_type_node = make_unsigned_type (BOOL_TYPE_SIZE);\n   TREE_SET_CODE (c_bool_type_node, BOOLEAN_TYPE);\n   TYPE_MAX_VALUE (c_bool_type_node) = build_int_2 (1, 0);\n   TREE_TYPE (TYPE_MAX_VALUE (c_bool_type_node)) = c_bool_type_node;"}, {"sha": "bf5aadad99fe3b4b7435cd27a0132138fbafd103", "filename": "gcc/config/i960/i960.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Fi960%2Fi960.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Fi960%2Fi960.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.h?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -1174,11 +1174,6 @@ struct cum_args { int ca_nregparms; int ca_nstackparms; };\n \n #define SLOW_BYTE_ACCESS 1\n \n-/* Force sizeof(bool) == 1 to maintain binary compatibility; otherwise, the\n-   change in SLOW_BYTE_ACCESS would have changed it to 4.  */\n-\n-#define BOOL_TYPE_SIZE CHAR_TYPE_SIZE\n-\n /* We assume that the store-condition-codes instructions store 0 for false\n    and some other value for true.  This is the value stored for true.  */\n "}, {"sha": "6ef9613030a1294d374b4d5918238573eca95185", "filename": "gcc/config/mcore/mcore.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Fmcore%2Fmcore.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Fmcore%2Fmcore.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmcore%2Fmcore.h?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -254,9 +254,6 @@ extern const char * mcore_stack_increment_string;\n    words.  */\n #define LONG_LONG_TYPE_SIZE 64\n \n-/* the size of the boolean type -- in C++; */\n-#define\tBOOL_TYPE_SIZE\t8\n-\n /* Allocation boundary (in *bits*) for storing arguments in argument list.  */\n #define PARM_BOUNDARY  \t32\n "}, {"sha": "81c24e76814b8ed09a0f9462ebfe3eda4bf9c3b4", "filename": "gcc/config/rs6000/darwin.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin.h?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -233,3 +233,7 @@ Boston, MA 02111-1307, USA.  */\n    space/speed.  */\n #undef MAX_LONG_TYPE_SIZE\n #define MAX_LONG_TYPE_SIZE 32\n+\n+/* For binary compatibility with 2.95; Darwin C APIs use bool from\n+   stdbool.h, which was an int-sized enum in 2.95.  */\n+#define BOOL_TYPE_SIZE INT_TYPE_SIZE"}, {"sha": "4e0100ea30060381bc94c90fa602a7cab89e9f71", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -1,3 +1,7 @@\n+2002-05-03  Jason Merrill  <jason@redhat.com>\n+\n+\t* decl.c (BOOL_TYPE_SIZE): Move default to defaults.h.\n+\n 2002-04-30  Mark Mitchell  <mark@codesourcery.com>\n \n \tABI change, returning simple classes from functions."}, {"sha": "c854cb707d81f79a8d961db78aaaa099de6545b9", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -49,11 +49,6 @@ Boston, MA 02111-1307, USA.  */\n #include \"c-pragma.h\"\n #include \"diagnostic.h\"\n \n-#ifndef BOOL_TYPE_SIZE\n-/* `bool' has size and alignment `1', on all platforms.  */\n-#define BOOL_TYPE_SIZE CHAR_TYPE_SIZE\n-#endif\n-\n static tree grokparms\t\t\t\tPARAMS ((tree));\n static const char *redeclaration_error_message\tPARAMS ((tree, tree));\n "}, {"sha": "702800ad7ab4f18d7b9094b17c4cc613767883f7", "filename": "gcc/defaults.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/609688f3c4bc401bddf70e0b3a7ed02a99a9294c/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=609688f3c4bc401bddf70e0b3a7ed02a99a9294c", "patch": "@@ -293,6 +293,11 @@ do {\t\t\t\t\t\t\t\t\\\n #define CHAR_TYPE_SIZE BITS_PER_UNIT\n #endif\n \n+#ifndef BOOL_TYPE_SIZE\n+/* `bool' has size and alignment `1', on almost all platforms.  */\n+#define BOOL_TYPE_SIZE CHAR_TYPE_SIZE\n+#endif\n+\n #ifndef SHORT_TYPE_SIZE\n #define SHORT_TYPE_SIZE (BITS_PER_UNIT * MIN ((UNITS_PER_WORD + 1) / 2, 2))\n #endif"}]}