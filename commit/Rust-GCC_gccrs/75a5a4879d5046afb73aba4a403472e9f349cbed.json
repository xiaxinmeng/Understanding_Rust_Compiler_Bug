{"sha": "75a5a4879d5046afb73aba4a403472e9f349cbed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVhNWE0ODc5ZDUwNDZhZmI3M2FiYTRhNDAzNDcyZTlmMzQ5Y2JlZA==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2009-07-07T13:22:34Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-07T13:22:34Z"}, "message": "s-osprim-mingw.adb: Minor reformatting Minor code reorganization\n\n2009-07-07  Robert Dewar  <dewar@adacore.com>\n\n\t* s-osprim-mingw.adb: Minor reformatting\n\tMinor code reorganization\n\n\t* a-stzsea.adb, a-stwise.adb, a-strsea.adb (Index): Redo previous change\n\t(Ind should be Integer).\n\nFrom-SVN: r149327", "tree": {"sha": "0d62b778459616a301d7b5a24088c9a2ab8f5158", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d62b778459616a301d7b5a24088c9a2ab8f5158"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75a5a4879d5046afb73aba4a403472e9f349cbed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75a5a4879d5046afb73aba4a403472e9f349cbed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75a5a4879d5046afb73aba4a403472e9f349cbed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75a5a4879d5046afb73aba4a403472e9f349cbed/comments", "author": null, "committer": null, "parents": [{"sha": "85686ad98b329307ecdcdef3e75babbb8eed799d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/85686ad98b329307ecdcdef3e75babbb8eed799d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/85686ad98b329307ecdcdef3e75babbb8eed799d"}], "stats": {"total": 48, "additions": 15, "deletions": 33}, "files": [{"sha": "c22b4c7a01aaccb4aaccba1e4ffc0ac494455369", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=75a5a4879d5046afb73aba4a403472e9f349cbed", "patch": "@@ -1,3 +1,8 @@\n+2009-07-07  Robert Dewar  <dewar@adacore.com>\n+\n+\t* s-osprim-mingw.adb: Minor reformatting\n+\tMinor code reorganization\n+\n 2009-07-07  Robert Dewar  <dewar@adacore.com>\n \n \t* prj-nmsc.adb: Minor reformatting"}, {"sha": "d6898331e91c4ca1018d1ed476b2e0d24d5e5afe", "filename": "gcc/ada/a-strsea.adb", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-strsea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-strsea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-strsea.adb?ref=75a5a4879d5046afb73aba4a403472e9f349cbed", "patch": "@@ -238,20 +238,14 @@ package body Ada.Strings.Search is\n       Mapping : Maps.Character_Mapping := Maps.Identity) return Natural\n    is\n       PL1 : constant Integer := Pattern'Length - 1;\n-      Ind : Natural;\n+      Ind : Integer; -- can be negative if Pattern'Length > Source'Length\n       Cur : Natural;\n \n    begin\n       if Pattern = \"\" then\n          raise Pattern_Error;\n       end if;\n \n-      --  If Pattern longer than Source it can't be found\n-\n-      if Pattern'Length > Source'Length then\n-         return 0;\n-      end if;\n-\n       --  Forwards case\n \n       if Going = Forward then"}, {"sha": "c5fb0be9abf609c8cc9d3744c2f95d1a65bb4548", "filename": "gcc/ada/a-stwise.adb", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-stwise.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-stwise.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stwise.adb?ref=75a5a4879d5046afb73aba4a403472e9f349cbed", "patch": "@@ -233,20 +233,14 @@ package body Ada.Strings.Wide_Search is\n       return Natural\n    is\n       PL1 : constant Integer := Pattern'Length - 1;\n-      Ind : Natural;\n+      Ind : Integer; -- can be negative if Pattern'Length > Source'Length\n       Cur : Natural;\n \n    begin\n       if Pattern = \"\" then\n          raise Pattern_Error;\n       end if;\n \n-      --  If Pattern longer than Source it can't be found\n-\n-      if Pattern'Length > Source'Length then\n-         return 0;\n-      end if;\n-\n       --  Forwards case\n \n       if Going = Forward then"}, {"sha": "4947896809c7c040d5261f5fac3fc6f092b5e1dd", "filename": "gcc/ada/a-stzsea.adb", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-stzsea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fa-stzsea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-stzsea.adb?ref=75a5a4879d5046afb73aba4a403472e9f349cbed", "patch": "@@ -237,20 +237,14 @@ package body Ada.Strings.Wide_Wide_Search is\n       return Natural\n    is\n       PL1 : constant Integer := Pattern'Length - 1;\n-      Ind : Natural;\n+      Ind : Integer; -- can be negative if Pattern'Length > Source'Length\n       Cur : Natural;\n \n    begin\n       if Pattern = \"\" then\n          raise Pattern_Error;\n       end if;\n \n-      --  If Pattern longer than Source it can't be found\n-\n-      if Pattern'Length > Source'Length then\n-         return 0;\n-      end if;\n-\n       --  Forwards case\n \n       if Going = Forward then"}, {"sha": "4a9161665358b0e8af92441540c3e51da685d771", "filename": "gcc/ada/s-osprim-mingw.adb", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fs-osprim-mingw.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75a5a4879d5046afb73aba4a403472e9f349cbed/gcc%2Fada%2Fs-osprim-mingw.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osprim-mingw.adb?ref=75a5a4879d5046afb73aba4a403472e9f349cbed", "patch": "@@ -157,13 +157,10 @@ package body System.OS_Primitives is\n       --  actions should be null.\n \n       Max_Elapsed    : constant := 0;\n-\n       epoch_1970     : constant := 16#19D_B1DE_D53E_8000#; -- win32 UTC epoch\n       system_time_ns : constant := 100;                    -- 100 ns per tick\n       Sec_Unit       : constant := 10#1#E9;\n-\n       Test_Now       : aliased Long_Long_Integer;\n-\n       Loc_Ticks      : aliased LARGE_INTEGER;\n       Loc_Time       : aliased Long_Long_Integer;\n       Elapsed        : Long_Long_Integer;\n@@ -181,8 +178,8 @@ package body System.OS_Primitives is\n       --  time API.\n \n       --  Try at most 10th times to reach the best synchronisation (below 1\n-      --  millisecond) otherwise the runtime will use the best value\n-      --  reached during the runs.\n+      --  millisecond) otherwise the runtime will use the best value reached\n+      --  during the runs.\n \n       for K in 1 .. 10 loop\n          GetSystemTimeAsFileTime (Loc_Time'Access);\n@@ -219,17 +216,15 @@ package body System.OS_Primitives is\n    function Monotonic_Clock return Duration is\n       Current_Ticks  : aliased LARGE_INTEGER;\n       Elap_Secs_Tick : Duration;\n-\n    begin\n       if QueryPerformanceCounter (Current_Ticks'Access) = Win32.FALSE then\n          return 0.0;\n+      else\n+         Elap_Secs_Tick :=\n+           Duration (Long_Long_Float (Current_Ticks - BMTA.all) /\n+                       Long_Long_Float (TFA.all));\n+         return BMCA.all + Elap_Secs_Tick;\n       end if;\n-\n-      Elap_Secs_Tick :=\n-        Duration (Long_Long_Float (Current_Ticks - BMTA.all) /\n-                  Long_Long_Float (TFA.all));\n-\n-      return BMCA.all + Elap_Secs_Tick;\n    end Monotonic_Clock;\n \n    -----------------"}]}