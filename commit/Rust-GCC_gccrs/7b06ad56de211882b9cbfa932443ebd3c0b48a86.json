{"sha": "7b06ad56de211882b9cbfa932443ebd3c0b48a86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2IwNmFkNTZkZTIxMTg4MmI5Y2JmYTkzMjQ0M2ViZDNjMGI0OGE4Ng==", "commit": {"author": {"name": "Thomas Preud'homme", "email": "thomas.preudhomme@arm.com", "date": "2018-03-14T10:47:32Z"}, "committer": {"name": "Thomas Preud'homme", "email": "thopre01@gcc.gnu.org", "date": "2018-03-14T10:47:32Z"}, "message": "Fix FAIL display for some scan-*-times directives\n\nscan-assembler-times and scan-tree-dump-times dejagnu directives show a\ndifferent output in the summary files depending on whether they PASS or\nFAIL. This means that dg-cmp-results would not show a regression because\nit would not see a connection between the two output.\n\nThe difference comes from the FAIL showing the number of actual times\nthe pattern was match, presumably to help debugging. This patch moves\nthe info regarding the actual number of times the pattern match in a\nseparate verbose message. This keeps the message unchanged but let\ndevelopers have the required debug message with -v.\n\n2018-03-14  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n\n    gcc/testsuite/\n    * lib/scanasm.exp (scan-assembler-times): Move FAIL debug info into a\n    separate verbose message.\n    * lib/scandump.exp (scan-dump-times): Likewise.\n\nFrom-SVN: r258519", "tree": {"sha": "1def88f356c5d4c852c23c96789c099be6ffc9ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1def88f356c5d4c852c23c96789c099be6ffc9ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b06ad56de211882b9cbfa932443ebd3c0b48a86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b06ad56de211882b9cbfa932443ebd3c0b48a86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b06ad56de211882b9cbfa932443ebd3c0b48a86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b06ad56de211882b9cbfa932443ebd3c0b48a86/comments", "author": {"login": "RoboTux", "id": 272327, "node_id": "MDQ6VXNlcjI3MjMyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/272327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RoboTux", "html_url": "https://github.com/RoboTux", "followers_url": "https://api.github.com/users/RoboTux/followers", "following_url": "https://api.github.com/users/RoboTux/following{/other_user}", "gists_url": "https://api.github.com/users/RoboTux/gists{/gist_id}", "starred_url": "https://api.github.com/users/RoboTux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RoboTux/subscriptions", "organizations_url": "https://api.github.com/users/RoboTux/orgs", "repos_url": "https://api.github.com/users/RoboTux/repos", "events_url": "https://api.github.com/users/RoboTux/events{/privacy}", "received_events_url": "https://api.github.com/users/RoboTux/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "79ab536427e403df631eb3ed3480c6330b2ff898", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79ab536427e403df631eb3ed3480c6330b2ff898", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79ab536427e403df631eb3ed3480c6330b2ff898"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "f89a29a9c98fff21f45172c78b221b706f619949", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b06ad56de211882b9cbfa932443ebd3c0b48a86", "patch": "@@ -1,3 +1,9 @@\n+2018-03-14  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n+\n+\t* lib/scanasm.exp (scan-assembler-times): Move FAIL debug info into a\n+\tseparate verbose message.\n+\t* lib/scandump.exp (scan-dump-times): Likewise.\n+\n 2018-03-14  Julia Koval  <julia.koval@intel.com>\n \n \t* g++.dg/ext/mv16.C: Split up icelake on icelake client and icelake"}, {"sha": "61e0f3f48aeea5785689c5df7a15dc2ccbc71029", "filename": "gcc/testsuite/lib/scanasm.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscanasm.exp?ref=7b06ad56de211882b9cbfa932443ebd3c0b48a86", "patch": "@@ -266,7 +266,8 @@ proc scan-assembler-times { args } {\n     if {$result_count == $times} {\n \tpass \"$testcase scan-assembler-times $pp_pattern $times\"\n     } else {\n-\tfail \"$testcase scan-assembler-times $pp_pattern $times (found $result_count times)\"\n+\tverbose -log \"$testcase: $pp_pattern found $result_count times\"\n+\tfail \"$testcase scan-assembler-times $pp_pattern $times\"\n     }\n }\n "}, {"sha": "be8fbe8b461dc81d5683fe323c0913f678daa1e0", "filename": "gcc/testsuite/lib/scandump.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2Flib%2Fscandump.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b06ad56de211882b9cbfa932443ebd3c0b48a86/gcc%2Ftestsuite%2Flib%2Fscandump.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscandump.exp?ref=7b06ad56de211882b9cbfa932443ebd3c0b48a86", "patch": "@@ -110,7 +110,8 @@ proc scan-dump-times { args } {\n     if {$result_count == $times} {\n         pass \"$testname\"\n     } else {\n-        fail \"$testname (found $result_count times)\"\n+\tverbose -log \"$testcase: pattern found $result_count times\"\n+        fail \"$testname\"\n     }\n }\n "}]}