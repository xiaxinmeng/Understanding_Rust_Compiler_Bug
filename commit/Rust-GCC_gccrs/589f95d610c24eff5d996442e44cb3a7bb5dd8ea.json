{"sha": "589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg5Zjk1ZDYxMGMyNGVmZjVkOTk2NDQyZTQ0Y2IzYTdiYjVkZDhlYQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2012-11-16T07:51:43Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2012-11-16T07:51:43Z"}, "message": "* lib/target_suports.exp\n\t(check_effective_target_has_w_floating_suffix): New procedure.\n\t(check_effective_target_has_q_floating_suffix): Ditto.\n\t* g++.dg/cpp0x/gnu_fext-numeric-literals.C: Add dg-error directive\n\tfor unsupported non-standard suffix on floating constant.\n\t* g++.dg/cpp0x/std_fext-numeric-literals.C: Ditto.\n\nFrom-SVN: r193551", "tree": {"sha": "96f51500bef661a5467b5f2359018ff935073b55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96f51500bef661a5467b5f2359018ff935073b55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5756eff74e6746100631da64ab91d0ba39ebb0cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5756eff74e6746100631da64ab91d0ba39ebb0cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5756eff74e6746100631da64ab91d0ba39ebb0cb"}], "stats": {"total": 42, "additions": 34, "deletions": 8}, "files": [{"sha": "8851fdbb6f6183e723d2b7810a3d107e36a6a534", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "patch": "@@ -1,3 +1,12 @@\n+2012-11-15  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* lib/target_suports.exp\n+\t(check_effective_target_has_w_floating_suffix): New procedure.\n+\t(check_effective_target_has_q_floating_suffix): Ditto.\n+\t* g++.dg/cpp0x/gnu_fext-numeric-literals.C: Add dg-error directive\n+\tfor unsupported non-standard suffix on floating constant.\n+\t* g++.dg/cpp0x/std_fext-numeric-literals.C: Ditto.\n+\n 2012-11-14  Jakub Jelinek  <jakub@redhat.com>\n \n \t* lib/asan-dg.exp: New file."}, {"sha": "ad98db9f8f2e047ac01f5a4a8258360b461e89dc", "filename": "gcc/testsuite/g++.dg/cpp0x/gnu_fext-numeric-literals.C", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgnu_fext-numeric-literals.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgnu_fext-numeric-literals.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fgnu_fext-numeric-literals.C?ref=589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "patch": "@@ -91,10 +91,10 @@ main()\n   auto rfp = 1.0r; // { dg-error \"fixed-point types not supported\" }\n   auto Rfp = 1.0R; // { dg-error \"fixed-point types not supported\" }\n \n-  auto wfp = 1.0w;\n-  auto Wfp = 1.0W;\n-  auto qfp = 1.0q;\n-  auto Qfp = 1.0Q;\n+  auto wfp = 1.0w; // { dg-error \"unsupported\" \"\" { target { ! has_w_floating_suffix } } }\n+  auto Wfp = 1.0W; // { dg-error \"unsupported\" \"\" { target { ! has_w_floating_suffix } } }\n+  auto qfp = 1.0q; // { dg-error \"unsupported\" \"\" { target { ! has_q_floating_suffix } } }\n+  auto Qfp = 1.0Q; // { dg-error \"unsupported\" \"\" { target { ! has_q_floating_suffix } } }\n }\n \n // { dg-warning \"literal operator suffixes not preceded by\" \"\" { target *-*-* } 7 }"}, {"sha": "e71cdc5abb07f8f4891eea60a556224c12b22571", "filename": "gcc/testsuite/g++.dg/cpp0x/std_fext-numeric-literals.C", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstd_fext-numeric-literals.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstd_fext-numeric-literals.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fstd_fext-numeric-literals.C?ref=589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "patch": "@@ -91,10 +91,10 @@ main()\n   auto rfp = 1.0r; // { dg-error \"fixed-point types not supported\" }\n   auto Rfp = 1.0R; // { dg-error \"fixed-point types not supported\" }\n \n-  auto wfp = 1.0w;\n-  auto Wfp = 1.0W;\n-  auto qfp = 1.0q;\n-  auto Qfp = 1.0Q;\n+  auto wfp = 1.0w; // { dg-error \"unsupported\" \"\" { target { ! has_w_floating_suffix } } }\n+  auto Wfp = 1.0W; // { dg-error \"unsupported\" \"\" { target { ! has_w_floating_suffix } } }\n+  auto qfp = 1.0q; // { dg-error \"unsupported\" \"\" { target { ! has_q_floating_suffix } } }\n+  auto Qfp = 1.0Q; // { dg-error \"unsupported\" \"\" { target { ! has_q_floating_suffix } } }\n }\n \n // { dg-warning \"literal operator suffixes not preceded by\" \"\" { target *-*-* } 7 }"}, {"sha": "184e1611b2126f613a55921eaa268787430ce937", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/589f95d610c24eff5d996442e44cb3a7bb5dd8ea/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=589f95d610c24eff5d996442e44cb3a7bb5dd8ea", "patch": "@@ -1742,6 +1742,23 @@ proc check_effective_target_double64plus { } {\n     }]\n }\n \n+# Return 1 if the target supports 'w' suffix on floating constant\n+# 0 otherwise.\n+\n+proc check_effective_target_has_w_floating_suffix { } {\n+    return [check_no_compiler_messages w_fp_suffix object {\n+\tfloat dummy = 1.0w;\n+    } \"-std=gnu++03 -w\"]\n+}\n+\n+# Return 1 if the target supports 'q' suffix on floating constant\n+# 0 otherwise.\n+\n+proc check_effective_target_has_q_floating_suffix { } {\n+    return [check_no_compiler_messages q_fp_suffix object {\n+\tfloat dummy = 1.0q;\n+    } \"-std=gnu++03 -w\"]\n+}\n # Return 1 if the target supports compiling fixed-point,\n # 0 otherwise.\n "}]}