{"sha": "f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMwYmMyZTdmNTExNjBhOWZjNGI1ODEzNWI1M2MxNmM1ODZlNmQ1Ng==", "commit": {"author": {"name": "Craig Burley", "email": "burley@gnu.org", "date": "1998-06-15T07:52:05Z"}, "committer": {"name": "Dave Love", "email": "fx@gcc.gnu.org", "date": "1998-06-15T07:52:05Z"}, "message": "Makefile.in (install): Don't install if $(libsubdir) is empty...\n\nSat Jun 13 03:46:40 1998  Craig Burley  <burley@gnu.org>\n\t* Makefile.in (install): Don't install if $(libsubdir)\n\tis empty; issue a diagnostic saying top-level Makefile\n\tmust pass it in instead, and exit.\n\t* Makefile.in (g2c.h): Rename from f2c.h.\n\t* Makefile.in, libF77/Makefile.in, libI77/Makefile.in,\n\tlibU77/Makefile.in: Rewrite config and var assignment\n\tsections to be even more minimal than before, and to\n\tmore clearly documented what macros are expected to be\n\tset and to what sorts of values.  Eliminate CROSS and\n\trelated stuff, since there's no such things as CROSS\n\tin egcs.  Rename GCC_FOR_TARGET to CC throughout.\n\t* Makefile.in (stamp-libi77, stamp-libf77, stamp-libu77):\n\tEliminate CROSS.\n\t* configure.in: Eliminate CROSS.\n\tRename libf2c.a and f2c.h to libg2c.a and g2c.h,\n\tnormalize and simplify g77/libg2c build process:\n\t* Makefile.in: Remove all stuff pertaining to\n\tinstallation, cleaning, and so on.  Parent Makefile\n\tdoes all that now.  Pass F2C_H_DIR,\n\tG2C_H_DIR, and GCC_H_DIR, the pathnames for the\n\tdirectories containing f2c.h, g2c.h, and other\n\t#include files, to subdirectory Makefiles.\n\t(stamp-libf77, stamp-libi77, stamp-libu77):\n\tDon't specify `-f Makefile' anymore, it's not needed\n\tnow that subdirectory makefile's from netlib are\n\trenamed to makefile.netlib in g77 source (and to\n\tmakefile.ori by configuration process, in case they're\n\tstill around somehow).\n\t(stamp-libe77): Don't make libE77 dir unless it doesn't\n\texist, if it does just delete all objects in it.\n\tCompile using $(GCC_FOR_TARGET), not $(CC).\n\t(rebuilt): Remove this and all subordinate targets,\n\tas parent Makefile now handles all that.\n\t(*clean): Remove.\n\t* configure.in (Pad_UDread, ALWAYS_FLUSH, WANT_LEAD_0):\n\tRemove these and commentary to new f2c.h file.\n\tAC_OUTPUT g2c.h instead of f2c.h.  Remove old commentary\n\tregarding concatenation.\n\t* g2c.h.in: Rename from f2c.h.in, add appropriate\n\tcommentary.\n\t* f2c.h: New file, a wrapper for g2c.h that does\n\tlibg2c-specific stuff.\n\t* libF77/Makefile.in, libI77/Makefile.in, libU77/Makefile.in:\n\tChange $(ALL_CFLAGS) to use F2C_H_DIR, G2C_H_DIR, and GCC_H_DIR\n\tmacros.  Remove F2C_H macro, replace use with explicit\n\tdependencies on f2c.h and g2c.h.\n\t(*clean): Remove.\n\nFrom-SVN: r20507", "tree": {"sha": "dce4e9da3cd43a9dd39543058e1b4927e6b28c02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dce4e9da3cd43a9dd39543058e1b4927e6b28c02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/comments", "author": null, "committer": null, "parents": [{"sha": "95a1b67649114c9f3bb3b1ccc79d06f340d5dd40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95a1b67649114c9f3bb3b1ccc79d06f340d5dd40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95a1b67649114c9f3bb3b1ccc79d06f340d5dd40"}], "stats": {"total": 714, "additions": 397, "deletions": 317}, "files": [{"sha": "6940abbcc8a686ef0b0dcbcb2125088682997d9b", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,3 +1,56 @@\n+Sat Jun 13 03:46:40 1998  Craig Burley  <burley@gnu.org>\n+\n+\t* Makefile.in (install): Don't install if $(libsubdir)\n+\tis empty; issue a diagnostic saying top-level Makefile\n+\tmust pass it in instead, and exit.\n+\n+\t* Makefile.in (g2c.h): Rename from f2c.h.\n+\n+\t* Makefile.in, libF77/Makefile.in, libI77/Makefile.in,\n+\tlibU77/Makefile.in: Rewrite config and var assignment\n+\tsections to be even more minimal than before, and to\n+\tmore clearly documented what macros are expected to be\n+\tset and to what sorts of values.  Eliminate CROSS and\n+\trelated stuff, since there's no such things as CROSS\n+\tin egcs.  Rename GCC_FOR_TARGET to CC throughout.\n+\t* Makefile.in (stamp-libi77, stamp-libf77, stamp-libu77):\n+\tEliminate CROSS.\n+\t* configure.in: Eliminate CROSS.\n+\n+\tRename libf2c.a and f2c.h to libg2c.a and g2c.h,\n+\tnormalize and simplify g77/libg2c build process:\n+\t* Makefile.in: Remove all stuff pertaining to\n+\tinstallation, cleaning, and so on.  Parent Makefile\n+\tdoes all that now.  Pass F2C_H_DIR,\n+\tG2C_H_DIR, and GCC_H_DIR, the pathnames for the\n+\tdirectories containing f2c.h, g2c.h, and other\n+\t#include files, to subdirectory Makefiles.\n+\t(stamp-libf77, stamp-libi77, stamp-libu77):\n+\tDon't specify `-f Makefile' anymore, it's not needed\n+\tnow that subdirectory makefile's from netlib are\n+\trenamed to makefile.netlib in g77 source (and to\n+\tmakefile.ori by configuration process, in case they're\n+\tstill around somehow).\n+\t(stamp-libe77): Don't make libE77 dir unless it doesn't\n+\texist, if it does just delete all objects in it.\n+\tCompile using $(GCC_FOR_TARGET), not $(CC).\n+\t(rebuilt): Remove this and all subordinate targets,\n+\tas parent Makefile now handles all that.\n+\t(*clean): Remove.\n+\t* configure.in (Pad_UDread, ALWAYS_FLUSH, WANT_LEAD_0):\n+\tRemove these and commentary to new f2c.h file.\n+\tAC_OUTPUT g2c.h instead of f2c.h.  Remove old commentary\n+\tregarding concatenation.\n+\t* g2c.h.in: Rename from f2c.h.in, add appropriate\n+\tcommentary.\n+\t* f2c.h: New file, a wrapper for g2c.h that does\n+\tlibg2c-specific stuff.\n+\t* libF77/Makefile.in, libI77/Makefile.in, libU77/Makefile.in:\n+\tChange $(ALL_CFLAGS) to use F2C_H_DIR, G2C_H_DIR, and GCC_H_DIR\n+\tmacros.  Remove F2C_H macro, replace use with explicit\n+\tdependencies on f2c.h and g2c.h.\n+\t(*clean): Remove.\n+\n 1998-05-20  Dave Love  <d.love@dl.ac.uk>\n \n \t* Makefile.in ($(lib)): Use shell loop instead of unportable"}, {"sha": "abce5ea5c6772d4eeac4a92336cb4fcac59ccf2e", "filename": "libf2c/Makefile.in", "status": "modified", "additions": 73, "deletions": 54, "changes": 127, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FMakefile.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -60,24 +60,16 @@ LIBCFLAGS = $(CFLAGS)\n # overrides thouh $(MAKE)) but may be needed by older versions.'\n \n FLAGS_TO_PASS= \\\n-\t\"SHELL=$(SHELL)\" \\\n-\t\"INSTALL=$(INSTALL)\" \\\n-\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n-\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n-\t\"prefix=$(prefix)\" \\\n-\t\"exec_prefix=$(exec_prefix)\" \\\n-\t\"tooldir=$(tooldir)\" \\\n-\t\"AR=$(AR)\" \\\n-\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n \t\"CC=$(CC)\" \\\n \t\"CFLAGS=$(CFLAGS)\" \\\n-\t\"RANLIB=$(RANLIB)\" \\\n+\t\"F2C_H_DIR=$(s)/libf2c\" \\\n+\t\"G2C_H_DIR=$(r)/libraries/libf2c\" \\\n+\t\"GCC_H_DIR=$(s)/include\" \\\n \t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n \t\"PICFLAG=$(PICFLAG)\" \\\n \t\"RUNTESTFLAGS=$(RUNTESTFLAGS)\"\n \n-\n-lib = libf2c.a\n+LIBG2C = libg2c.a\n \n MISC =\tlibF77/F77_aloc.o libF77/VersionF.o libF77/main.o libF77/s_rnge.o \\\n \tlibF77/abort_.o libF77/getarg_.o libF77/iargc_.o libF77/getenv_.o \\\n@@ -151,90 +143,117 @@ F2CEXT = abort derf derfc ef1asc ef1cmc erf erfc exit getarg getenv iargc \\\n \tsecnds second sleep srand stat symlnk sclock time ttynam umask unlink \\\n \tvxtidt vxttim alarm\n \n-all: f2c.h $(lib)\n+all: g2c.h $(LIBG2C)\n \n-$(lib): stamp-libf77 stamp-libi77 stamp-libu77 stamp-libe77\n-\trm -f $(lib)\n-\t$(AR) $(AR_FLAGS) $(lib) $(FOBJ)\n-\t$(AR) $(AR_FLAGS) $(lib) $(IOBJ)\n-\t$(AR) $(AR_FLAGS) $(lib) $(UOBJ)\n+$(LIBG2C): stamp-libf77 stamp-libi77 stamp-libu77 stamp-libe77\n+\trm -f $(LIBG2C)\n+\t$(AR) $(AR_FLAGS) $(LIBG2C) $(FOBJ)\n+\t$(AR) $(AR_FLAGS) $(LIBG2C) $(IOBJ)\n+\t$(AR) $(AR_FLAGS) $(LIBG2C) $(UOBJ)\n \tobjs=\"\"; for i in $(F2CEXT); do objs=\"$$objs libE77/L$$i.o\"; done; \\\n-\t  $(AR) $(AR_FLAGS) $(lib) $$objs\n-\t$(RANLIB) $(lib)\n+\t  $(AR) $(AR_FLAGS) $(LIBG2C) $$objs\n+\t$(RANLIB) $(LIBG2C)\n \n stamp-libi77: libI77/Makefile\n \trm -f stamp-libi77\n-\tcd libI77; $(MAKE) -f Makefile $(FLAGS_TO_PASS) all\n+\tcd libI77; $(MAKE) $(FLAGS_TO_PASS) all\n \ttouch stamp-libi77\n \n stamp-libf77: libF77/Makefile\n \trm -f stamp-libf77\n-\tcd libF77; $(MAKE) -f Makefile $(FLAGS_TO_PASS) all\n+\tcd libF77; $(MAKE) $(FLAGS_TO_PASS) all\n \ttouch stamp-libf77\n \n stamp-libu77: libU77/Makefile\n \trm -f stamp-libu77\n-\tcd libU77; $(MAKE) -f Makefile $(FLAGS_TO_PASS) all\n+\tcd libU77; $(MAKE) $(FLAGS_TO_PASS) all\n \ttouch stamp-libu77\n \n stamp-libe77: $(srcdir)/f2cext.c\n-\trm -fr libE77\n-\tmkdir libE77\n+\trm -f stamp-libe77\n+\tif [ -d libE77 ]; then rm -f libE77/*.o; else mkdir libE77; fi\n \tfor name in $(F2CEXT); \\\n \tdo \\\n \t  echo $${name}; \\\n \t  $(CC) -c -I. -I$(srcdir) -I../../include $(CPPFLAGS) $(CFLAGS) \\\n-\t    $(CGFLAGS) -DL$${name} $(srcdir)/f2cext.c \\\n+\t    -DL$${name} $(srcdir)/f2cext.c \\\n \t    -o libE77/L$${name}.o; \\\n \t  if [ $$? -eq 0 ] ; then true; else exit 1; fi; \\\n \tdone\n \ttouch stamp-libe77\n \n ${srcdir}/configure: ${srcdir}/configure.in\n-\trm -f config.cache && cd ${srcdir} && autoconf && rm -f config.cache\n+\trm -f config.cache Makefile g2c.h \\\n+\t  && cd $(srcdir) && autoconf && rm -f config.cache\n ${srcdir}/libU77/configure: ${srcdir}/libU77/configure.in\n-\trm -f libU77/config.cache && cd ${srcdir}/libU77 && autoconf && rm -f config.cache\n-f2c.h Makefile: $(srcdir)/Makefile.in config.status\n+\trm -f libU77/config.cache libU77/Makefile && \\\n+\t  cd $(srcdir)/libU77 && autoconf && rm -f config.cache\n+g2c.h Makefile: $(srcdir)/g2c.h.in $(srcdir)/Makefile.in config.status\n \t$(SHELL) config.status\n config.status: $(srcdir)/configure\n \t$(SHELL) config.status --recheck\n \n-f2c.h: $(srcdir)/f2c.h.in\n-\n info install-info clean-info dvi:\n \n check:\n \tcd libU77; $(MAKE) G77DIR=../../../gcc/ check\n \n install:\n-\t$(INSTALL_DATA) $(lib) $(libdir)/$(lib).n\n-\t( cd $(libdir) ; $(RANLIB) $(lib).n )\n-\tmv -f $(libdir)/$(lib).n $(libdir)/$(lib)\n-\t$(INSTALL_DATA) f2c.h $(includedir)/f2c.h\n+\t@if [ x$(libsubdir) = x ]; then \\\n+\t  echo ''; \\\n+\t  echo 'libf2c error: libsubdir environment variable is not'; \\\n+\t  echo '  exported by top-level Makefile.  libg2c.a and g2c.h'; \\\n+\t  echo '  are installed in the directory tree identified named'; \\\n+\t  echo '  by that variable, the same tree in which the gcc-'; \\\n+\t  echo '  specific executables, libraries, and so on are installed.'; \\\n+\t  echo '  Rather than try to extract the name of this tree via'; \\\n+\t  echo '  a kludge, libf2c/Makefile.in simply assumes it is passed'; \\\n+\t  echo '  in as an environment variable.  Someone needs to make'; \\\n+\t  echo '  the appropriate changes to the top-level Makefile.in for'; \\\n+\t  echo '  this to happen.'; \\\n+\t  echo ''; \\\n+\t  echo '  In the meantime, you can try setting libsubdir explicitly'; \\\n+\t  echo '  in the make command line via libsubdir=/foo/lib/gcc-lib/...,'; \\\n+\t  echo '  where foo and ... indicate wherever the cc1 and f771'; \\\n+\t  echo '  executables were installed as part of this overall'; \\\n+\t  echo '  installation process.'; \\\n+\t  echo ''; \\\n+\t  exit 1; \\\n+\tfi\n+\t$(INSTALL_DATA) $(LIBG2C) $(libsubdir)/$(LIBG2C).n\n+\t( cd $(libsubdir) ; $(RANLIB) $(LIBG2C).n )\n+\tmv -f $(libsubdir)/$(LIBG2C).n $(libsubdir)/$(LIBG2C)\n+\t$(INSTALL_DATA) g2c.h $(libsubdir)/include/g2c.h\n+\t@if [ -f f2c-install-ok -o -f $(srcdir)/f2c-install-ok ]; then \\\n+\t  echo ''; \\\n+\t  echo 'Warning: g77 no longer installs libf2c.a or f2c.h.'; \\\n+\t  echo '         You must do so yourself.  For more information,'; \\\n+\t  echo '         read \"Distributing Binaries\" in the g77 docs.'; \\\n+\t  echo '         (To turn off this warning, delete the file'; \\\n+\t  echo '         f2c-install-ok in the source or build directory.)'; \\\n+\t  echo ''; \\\n+\tfi\n \n mostlyclean:\n-\t-rm -f stamp-*\n-\tfor i in libI77 libF77 libU77; do \\\n-\t  if [ -f $$i/Makefile ]; then \\\n-\t    cd $$i; $(MAKE) -f Makefile mostlyclean; cd ..; \\\n-\t  fi; \\\n-\tdone\n+\trm -f stamp-* $(LIBG2C)\n+\trm -f libF77/*.o\n+\trm -f libI77/*.o\n+\trm -f libU77/*.o\n \trm -fr libE77\n \n clean:\n-\t-rm -f config.log stamp-*\n-\tfor i in libI77 libF77 libU77; do \\\n-\t  if [ -f $$i/Makefile ]; then \\\n-\t    cd $$i; $(MAKE) -f Makefile clean; cd ..; \\\n-\t  fi; \\\n-\tdone\n-\trm -fr libE77\n-\n-distclean: clean\n-\t-rm -f Makefile config.cache lib?77/Makefile config.status lib?77/config.status lib?77/config.cache lib?77/config.h f2c.h\n-\n-maintainer-clean: distclean\n-\t-rm -f $(srcdir)/configure $(srcdir)/libU77/configure\n+\trm -f config.log\n+\trm -f libF77/Makefile\n+\trm -f libI77/Makefile\n+\trm -f libU77/Makefile libU77/config.log libU77/a.out\n+\n+distclean:\n+\trm -f Makefile config.cache config.status g2c.h\n+\trm -f lib?77/Makefile lib?77/config.status\n+\trm -f lib?77/config.cache lib?77/config.h\n+\n+maintainer-clean:\n+\trm -f $(srcdir)/configure $(srcdir)/libU77/configure\n \n rebuilt: ${srcdir}/configure ${srcdir}/libU77/configure\n "}, {"sha": "3d0e29d0ac4e0838ad9af4ba939e48b3247b8a4d", "filename": "libf2c/README", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FREADME", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FREADME", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FREADME?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,8 +1,10 @@\n-970811\n+1998-04-20\n \n This directory contains the f2c library packaged for use with g77 to configure\n and build automatically (in principle!) as part of the top-level configure and\n make steps.  This depends on the makefile and configure fragments in ../f.\n+g77 names this library `libg2c' to avoid conflict with existing copies\n+of `libf2c' on a system.\n \n Some small changes have been made to the f2c distributions of lib[FI]77 which\n come from <ftp:bell-labs.com/netlib/f2c/> and are maintained (excellently) by\n@@ -26,7 +28,7 @@ interesting, but should not be taken as guidelines for how to\n configure and build libf2c in g77's distribution.\n \n The packaging for auto-configuration was done by Dave Love <d.love@dl.ac.uk>.\n-Minor changes have been made by James Craig Burley <burley@gnu.ai.mit.edu>,\n+Minor changes have been made by James Craig Burley <burley@gnu.org>,\n who probably broke things Dave had working.  :-)\n \n Among the user-visible changes (choices) g77 makes in its"}, {"sha": "a4f51cb12e923bbf864d30c297bfc1d1bd60ae7f", "filename": "libf2c/configure", "status": "modified", "additions": 89, "deletions": 122, "changes": 211, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -520,22 +520,14 @@ fi\n \n \n \n-# From configure.in 1.10\n+# From configure.in 1.11\n \n-if test \"$CROSS\";then\n-  if test \"$CC_FOR_TARGET\"; then\n-    CC=\"$CC_FOR_TARGET\"\n-  else\n-    CC=\"../../xgcc -B../../xgcc/\"\n-  fi\n-  ac_cv_c_cross=yes\n-else\n-    # For g77 we'll set CC to point at the built gcc, but this will get it into\n-  # the makefiles\n-  # Extract the first word of \"gcc\", so it can be a program name with args.\n+# For g77 we'll set CC to point at the built gcc, but this will get it into\n+# the makefiles\n+# Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:539: checking for $ac_word\" >&5\n+echo \"configure:531: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -564,7 +556,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:568: checking for $ac_word\" >&5\n+echo \"configure:560: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -612,7 +604,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:616: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:608: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -622,11 +614,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 626 \"configure\"\n+#line 618 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:630: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:622: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -646,12 +638,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:650: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:642: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:655: checking whether we are using GNU C\" >&5\n+echo \"configure:647: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -660,7 +652,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:664: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:656: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -675,7 +667,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:679: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:671: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -702,8 +694,6 @@ else\n   test \"${CFLAGS+set}\" = set || CFLAGS=\"-g\"\n fi\n \n-  ac_cv_c_cross=no\n-fi\n \n test \"$AR\" || AR=ar\n \n@@ -717,7 +707,7 @@ else\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:721: checking for $ac_word\" >&5\n+echo \"configure:711: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -750,7 +740,7 @@ fi\n \n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:754: checking how to run the C preprocessor\" >&5\n+echo \"configure:744: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -765,13 +755,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 769 \"configure\"\n+#line 759 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:775: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:765: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -782,13 +772,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 786 \"configure\"\n+#line 776 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:792: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:782: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -812,17 +802,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:816: checking for stdio.h\" >&5\n+echo \"configure:806: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 821 \"configure\"\n+#line 811 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:826: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:816: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -850,20 +840,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:854: checking for ANSI C header files\" >&5\n+echo \"configure:844: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 859 \"configure\"\n+#line 849 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:867: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:857: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -880,7 +870,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 884 \"configure\"\n+#line 874 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -898,7 +888,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 902 \"configure\"\n+#line 892 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -919,7 +909,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 923 \"configure\"\n+#line 913 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -930,7 +920,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:934: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:924: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -956,12 +946,12 @@ fi\n \n \n echo $ac_n \"checking for posix\"\"... $ac_c\" 1>&6\n-echo \"configure:960: checking for posix\" >&5\n+echo \"configure:950: checking for posix\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_header_posix'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 965 \"configure\"\n+#line 955 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <unistd.h>\n@@ -987,12 +977,12 @@ echo \"$ac_t\"\"$g77_cv_header_posix\" 1>&6\n # We can rely on the GNU library being posix-ish.  I guess checking the \n # header isn't actually like checking the functions, though...\n echo $ac_n \"checking for GNU library\"\"... $ac_c\" 1>&6\n-echo \"configure:991: checking for GNU library\" >&5\n+echo \"configure:981: checking for GNU library\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_lib_gnu'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 996 \"configure\"\n+#line 986 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n #ifdef __GNU_LIBRARY__\n@@ -1016,12 +1006,12 @@ echo \"$ac_t\"\"$g77_cv_lib_gnu\" 1>&6\n \n # Apparently cygwin needs to be special-cased.\n echo $ac_n \"checking for cyg\\`win'32\"\"... $ac_c\" 1>&6\n-echo \"configure:1020: checking for cyg\\`win'32\" >&5\n+echo \"configure:1010: checking for cyg\\`win'32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_cygwin32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1025 \"configure\"\n+#line 1015 \"configure\"\n #include \"confdefs.h\"\n #ifdef __CYGWIN32__\n   yes\n@@ -1044,12 +1034,12 @@ echo \"$ac_t\"\"$g77_cv_sys_cygwin32\" 1>&6\n \n # ditto for mingw32.\n echo $ac_n \"checking for mingw32\"\"... $ac_c\" 1>&6\n-echo \"configure:1048: checking for mingw32\" >&5\n+echo \"configure:1038: checking for mingw32\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_sys_mingw32'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1053 \"configure\"\n+#line 1043 \"configure\"\n #include \"confdefs.h\"\n #ifdef __MINGW32__\n   yes\n@@ -1073,17 +1063,17 @@ echo \"$ac_t\"\"$g77_cv_sys_mingw32\" 1>&6\n \n ac_safe=`echo \"fcntl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for fcntl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1077: checking for fcntl.h\" >&5\n+echo \"configure:1067: checking for fcntl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1082 \"configure\"\n+#line 1072 \"configure\"\n #include \"confdefs.h\"\n #include <fcntl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1087: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1077: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1116,12 +1106,12 @@ fi\n \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1120: checking for working const\" >&5\n+echo \"configure:1110: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1125 \"configure\"\n+#line 1115 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -1170,7 +1160,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1174: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1164: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1191,12 +1181,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1195: checking for size_t\" >&5\n+echo \"configure:1185: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1200 \"configure\"\n+#line 1190 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1225,12 +1215,12 @@ fi\n \n \n echo $ac_n \"checking return type of signal handlers\"\"... $ac_c\" 1>&6\n-echo \"configure:1229: checking return type of signal handlers\" >&5\n+echo \"configure:1219: checking return type of signal handlers\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_signal'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1234 \"configure\"\n+#line 1224 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -1247,7 +1237,7 @@ int main() {\n int i;\n ; return 0; }\n EOF\n-if { (eval echo configure:1251: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1241: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_type_signal=void\n else\n@@ -1268,12 +1258,12 @@ EOF\n # we'll get atexit by default\n if test $ac_cv_header_stdc != yes; then\n echo $ac_n \"checking for atexit\"\"... $ac_c\" 1>&6\n-echo \"configure:1272: checking for atexit\" >&5\n+echo \"configure:1262: checking for atexit\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_atexit'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1277 \"configure\"\n+#line 1267 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char atexit(); below.  */\n@@ -1296,7 +1286,7 @@ atexit();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1300: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1290: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_atexit=yes\"\n else\n@@ -1321,12 +1311,12 @@ else\n EOF\n \n   echo $ac_n \"checking for onexit\"\"... $ac_c\" 1>&6\n-echo \"configure:1325: checking for onexit\" >&5\n+echo \"configure:1315: checking for onexit\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_onexit'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1330 \"configure\"\n+#line 1320 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char onexit(); below.  */\n@@ -1349,7 +1339,7 @@ onexit();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1353: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1343: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_onexit=yes\"\n else\n@@ -1367,12 +1357,12 @@ if eval \"test \\\"`echo '$ac_cv_func_'onexit`\\\" = yes\"; then\n else\n   echo \"$ac_t\"\"no\" 1>&6\n echo $ac_n \"checking for on_exit\"\"... $ac_c\" 1>&6\n-echo \"configure:1371: checking for on_exit\" >&5\n+echo \"configure:1361: checking for on_exit\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_on_exit'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1376 \"configure\"\n+#line 1366 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char on_exit(); below.  */\n@@ -1395,7 +1385,7 @@ on_exit();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1399: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1389: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_on_exit=yes\"\n else\n@@ -1428,12 +1418,12 @@ fi\n # Apparently positive result on cygwin loses re. NON_UNIX_STDIO\n # (as of cygwin b18). Likewise on mingw.\n echo $ac_n \"checking for fstat\"\"... $ac_c\" 1>&6\n-echo \"configure:1432: checking for fstat\" >&5\n+echo \"configure:1422: checking for fstat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_fstat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1437 \"configure\"\n+#line 1427 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char fstat(); below.  */\n@@ -1456,7 +1446,7 @@ fstat();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1460: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1450: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_fstat=yes\"\n else\n@@ -1476,7 +1466,7 @@ else\n fi\n \n echo $ac_n \"checking need for NON_UNIX_STDIO\"\"... $ac_c\" 1>&6\n-echo \"configure:1480: checking need for NON_UNIX_STDIO\" >&5\n+echo \"configure:1470: checking need for NON_UNIX_STDIO\" >&5\n if test $g77_cv_sys_cygwin32 = yes \\\n   || test $g77_cv_sys_mingw32 = yes \\\n   || test $ac_cv_func_fstat = no; then\n@@ -1491,19 +1481,19 @@ fi\n \n # This is necessary for e.g. Linux:\n echo $ac_n \"checking for necessary members of struct FILE\"\"... $ac_c\" 1>&6\n-echo \"configure:1495: checking for necessary members of struct FILE\" >&5\n+echo \"configure:1485: checking for necessary members of struct FILE\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_struct_FILE'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1500 \"configure\"\n+#line 1490 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n int main() {\n FILE s; s._ptr; s._base; s._flag;\n ; return 0; }\n EOF\n-if { (eval echo configure:1507: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1497: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   g77_cv_struct_FILE=yes\n else\n@@ -1523,15 +1513,15 @@ EOF\n fi\n \n echo $ac_n \"checking for drem in -lm\"\"... $ac_c\" 1>&6\n-echo \"configure:1527: checking for drem in -lm\" >&5\n+echo \"configure:1517: checking for drem in -lm\" >&5\n ac_lib_var=`echo m'_'drem | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lm  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1535 \"configure\"\n+#line 1525 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1542,7 +1532,7 @@ int main() {\n drem()\n ; return 0; }\n EOF\n-if { (eval echo configure:1546: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1536: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1570,12 +1560,12 @@ fi\n for ac_func in tempnam\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1574: checking for $ac_func\" >&5\n+echo \"configure:1564: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1579 \"configure\"\n+#line 1569 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1598,7 +1588,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1602: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1592: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1628,19 +1618,19 @@ done\n # However, on my sunos4/gcc setup unistd.h leads us wrongly to believe\n # we're posix-conformant, so always do the test.\n echo $ac_n \"checking for ansi/posix sprintf result\"\"... $ac_c\" 1>&6\n-echo \"configure:1632: checking for ansi/posix sprintf result\" >&5\n+echo \"configure:1622: checking for ansi/posix sprintf result\" >&5\n if test \"$cross_compiling\" = yes; then\n   g77_cv_sys_sprintf_ansi=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1637 \"configure\"\n+#line 1627 \"configure\"\n #include \"confdefs.h\"\n   #include <stdio.h>\n     /* does sprintf return the number of chars transferred? */\n     main () {char foo[2]; (sprintf(foo, \"1\") == 1) ? exit(0) : exit(1);}\n \n EOF\n-if { (eval echo configure:1644: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1634: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   g77_cv_sys_sprintf_ansi=yes\n else\n@@ -1658,11 +1648,8 @@ else\n   g77_cv_sys_sprintf_ansi=$g77_cv_sys_sprintf_ansi\n fi\n \n-if test $ac_cv_c_cross = no; then\n-  echo \"$ac_t\"\"$g77_cv_sys_sprintf_ansi\" 1>&6\n-else\n-  echo \"$ac_t\"\"can't tell -- assuming no\" 1>&6\n-fi\n+echo \"$ac_t\"\"$g77_cv_sys_sprintf_ansi\" 1>&6\n+\n # The cygwin patch takes steps to avoid defining USE_STRLEN here -- I don't\n # understand why.\n if test $g77_cv_sys_sprintf_ansi != yes; then \n@@ -1674,9 +1661,9 @@ fi\n \n # define NON_ANSI_RW_MODES on unix (can't hurt)\n echo $ac_n \"checking NON_ANSI_RW_MODES\"\"... $ac_c\" 1>&6\n-echo \"configure:1678: checking NON_ANSI_RW_MODES\" >&5\n+echo \"configure:1665: checking NON_ANSI_RW_MODES\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1680 \"configure\"\n+#line 1667 \"configure\"\n #include \"confdefs.h\"\n #ifdef unix\n   yes\n@@ -1717,7 +1704,7 @@ fi\n # (via com.h).  proj.h and com.h are in $srcdir/.., config.h which they need\n # is in ../.. and the config files are in $srcdir/../../config.\n echo $ac_n \"checking f2c integer type\"\"... $ac_c\" 1>&6\n-echo \"configure:1721: checking f2c integer type\" >&5\n+echo \"configure:1708: checking f2c integer type\" >&5\n late_ac_cpp=$ac_cpp\n ac_cpp=\"$late_ac_cpp -I../../gcc/f  -I../../gcc -I../../gcc/config\"\n if test \"$subdir\" != . ; then\n@@ -1726,9 +1713,9 @@ fi\n if eval \"test \\\"`echo '$''{'g77_cv_sys_f2cinteger'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo \"configure:1730: using $ac_cpp\" >&5\n+  echo \"configure:1717: using $ac_cpp\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1732 \"configure\"\n+#line 1719 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1750,9 +1737,9 @@ fi\n rm -f conftest*\n \n if test \"$g77_cv_sys_f2cinteger\" = \"\"; then\n-echo \"configure:1754: using $ac_cpp\" >&5\n+echo \"configure:1741: using $ac_cpp\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 1756 \"configure\"\n+#line 1743 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1787,7 +1774,7 @@ ac_cpp=$late_ac_cpp\n \n \n echo $ac_n \"checking f2c long int type\"\"... $ac_c\" 1>&6\n-echo \"configure:1791: checking f2c long int type\" >&5\n+echo \"configure:1778: checking f2c long int type\" >&5\n late_ac_cpp=$ac_cpp\n ac_cpp=\"$late_ac_cpp -I../../gcc/f  -I../../gcc -I../../gcc/config\"\n if test \"$subdir\" != . ; then\n@@ -1796,9 +1783,9 @@ fi\n if eval \"test \\\"`echo '$''{'g77_cv_sys_f2clongint'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n-  echo \"configure:1800: using $ac_cpp\" >&5\n+  echo \"configure:1787: using $ac_cpp\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 1802 \"configure\"\n+#line 1789 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1820,9 +1807,9 @@ fi\n rm -f conftest*\n \n if test \"$g77_cv_sys_f2clongint\" = \"\"; then\n-echo \"configure:1824: using $ac_cpp\" >&5\n+echo \"configure:1811: using $ac_cpp\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 1826 \"configure\"\n+#line 1813 \"configure\"\n #include \"confdefs.h\"\n #include \"proj.h\"\n #define FFECOM_DETERMINE_TYPES 1\n@@ -1857,9 +1844,6 @@ ac_cpp=$late_ac_cpp\n \n \n \n-\n-\n-\n # This EOF_CHAR is a misfeature on unix.\n cat >> confdefs.h <<\\EOF\n #define NO_EOF_CHAR_CHECK 1\n@@ -1871,22 +1855,6 @@ cat >> confdefs.h <<\\EOF\n EOF\n \n \n-\n-\n-\n-cat >> confdefs.h <<\\EOF\n-#define Pad_UDread 1\n-EOF\n-\n-\n-\n-\n-\n-cat >> confdefs.h <<\\EOF\n-#define WANT_LEAD_0 1\n-EOF\n-\n-\n # avoid confusion in case the `makefile's from the f2c distribution have\n # got put here\n test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n@@ -2026,7 +1994,7 @@ done\n \n ac_given_srcdir=$srcdir\n \n-trap 'rm -fr `echo \"Makefile f2c.h libI77/Makefile libF77/Makefile\" | sed \"s/:[^ ]*//g\"` conftest*; exit 1' 1 2 15\n+trap 'rm -fr `echo \"Makefile g2c.h libI77/Makefile libF77/Makefile\" | sed \"s/:[^ ]*//g\"` conftest*; exit 1' 1 2 15\n EOF\n cat >> $CONFIG_STATUS <<EOF\n \n@@ -2064,7 +2032,6 @@ s%@RANLIB_TEST@%$RANLIB_TEST%g\n s%@CPP@%$CPP%g\n s%@F2C_INTEGER@%$F2C_INTEGER%g\n s%@F2C_LONGINT@%$F2C_LONGINT%g\n-s%@CROSS@%$CROSS%g\n s%@subdirs@%$subdirs%g\n \n CEOF\n@@ -2107,7 +2074,7 @@ EOF\n \n cat >> $CONFIG_STATUS <<EOF\n \n-CONFIG_FILES=\\${CONFIG_FILES-\"Makefile f2c.h libI77/Makefile libF77/Makefile\"}\n+CONFIG_FILES=\\${CONFIG_FILES-\"Makefile g2c.h libI77/Makefile libF77/Makefile\"}\n EOF\n cat >> $CONFIG_STATUS <<\\EOF\n for ac_file in .. $CONFIG_FILES; do if test \"x$ac_file\" != x..; then"}, {"sha": "a2d9fe9e84a20610fcb324d3ea7b3090600b9b9a", "filename": "libf2c/configure.in", "status": "modified", "additions": 8, "deletions": 58, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fconfigure.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -21,24 +21,12 @@\n \n AC_INIT(libF77/Version.c)\n \n-AC_REVISION(1.10)\n+AC_REVISION(1.11)\n \n-dnl AC_C_CROSS\n-dnl Gives misleading `(cached)' message from the check.\n-if test \"$CROSS\";then\n-  if test \"$CC_FOR_TARGET\"; then\n-    CC=\"$CC_FOR_TARGET\"\n-  else\n-    CC=\"../../xgcc -B../../xgcc/\"\n-  fi\n-  ac_cv_c_cross=yes\n-else\n-  dnl Checks for programs.\n-  # For g77 we'll set CC to point at the built gcc, but this will get it into\n-  # the makefiles\n-  AC_PROG_CC\n-  ac_cv_c_cross=no\n-fi\n+dnl Checks for programs.\n+# For g77 we'll set CC to point at the built gcc, but this will get it into\n+# the makefiles\n+AC_PROG_CC\n \n dnl These should be inherited in the recursive make, but ensure they are\n dnl defined:\n@@ -213,11 +201,8 @@ AC_TRY_RUN(changequote(<<, >>)dnl\n AC_CACHE_VAL(g77_cv_sys_sprintf_ansi,\n      g77_cv_sys_sprintf_ansi=$g77_cv_sys_sprintf_ansi)\n dnl We get a misleading `(cached)' message...\n-if test $ac_cv_c_cross = no; then\n-  AC_MSG_RESULT($g77_cv_sys_sprintf_ansi)\n-else\n-  AC_MSG_RESULT([can't tell -- assuming no])\n-fi\n+AC_MSG_RESULT($g77_cv_sys_sprintf_ansi)\n+\n # The cygwin patch takes steps to avoid defining USE_STRLEN here -- I don't\n # understand why.\n if test $g77_cv_sys_sprintf_ansi != yes; then \n@@ -347,56 +332,21 @@ AC_SUBST(F2C_LONGINT)\n \n dnl maybe check for drem/remainder\n \n-AC_SUBST(CROSS)\n-\n-\n # This EOF_CHAR is a misfeature on unix.\n AC_DEFINE(NO_EOF_CHAR_CHECK)\n \n AC_DEFINE(Skip_f2c_Undefs)\n \n-dnl Craig had these in f2c.h, but they're only relevant for building libf2c\n-dnl anyway.\n-\n-dnl   For GNU Fortran (g77), we always enable the following behaviors for\n-dnl   libf2c, to make things easy on the programmer.  The alternate\n-dnl   behaviors have their uses, and g77 might provide them as compiler,\n-dnl   rather than library, options, so only a single copy of a shared libf2c\n-dnl   need be built for a system.\n-\n-dnl   This makes unformatted I/O more consistent in relation to other\n-dnl   systems.  It is not required by the F77 standard.\n-\n-AC_DEFINE(Pad_UDread)\n-\n-dnl   This makes ERR= and IOSTAT= returns work properly in disk-full\n-dnl   situations, making things work more as expected.  It slows things\n-dnl   down, so g77 will probably someday choose the original implementation\n-dnl   on a case-by-case basis when it can be shown to not be necessary\n-dnl   (e.g. no ERR= or IOSTAT=) or when it is given the appropriate\n-dnl   compile-time option or, perhaps, source-code directive.\n-\n-dnl AC_DEFINE(ALWAYS_FLUSH)\n-\n-dnl   Most Fortran implementations do this, so to make it easier\n-dnl   to compare the output of g77-compiled programs to those compiled\n-dnl   by most other compilers, tell libf2c to put leading zeros in\n-dnl   appropriate places on output\n-\n-AC_DEFINE(WANT_LEAD_0)\n-\n # avoid confusion in case the `makefile's from the f2c distribution have\n # got put here\n test -f libF77/makefile && mv libF77/makefile  libF77/makefile.ori\n test -f libI77/makefile && mv libI77/makefile  libI77/makefile.ori\n test -f libU77/makefile && mv libU77/makefile  libU77/makefile.ori\n \n AC_CONFIG_SUBDIRS(libU77)\n-AC_OUTPUT(Makefile f2c.h libI77/Makefile libF77/Makefile)\n+AC_OUTPUT(Makefile g2c.h libI77/Makefile libF77/Makefile)\n \n dnl We might have configuration options to:\n-dnl * allow non-standard string concatenation (use libF77 s_catow.o,\n-dnl   not s_cat.o)\n dnl * change unit preconnexion in libI77/err.c (f_init.c)\n dnl * -DALWAYS_FLUSH in libI77\n dnl * -DOMIT_BLANK_CC in libI77"}, {"sha": "f27703f48079174a17c26023b3d8d38a0ceba774", "filename": "libf2c/f2c.h", "status": "added", "additions": 64, "deletions": 0, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Ff2c.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Ff2c.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Ff2c.h?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -0,0 +1,64 @@\n+/* f2c.h file for GNU Fortran run-time library\n+   Copyright (C) 1998 Free Software Foundation, Inc.\n+   Contributed by James Craig Burley (burley@gnu.org).\n+\n+This file is part of GNU Fortran.\n+\n+GNU Fortran is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Fortran is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Fortran; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* This file currently is just a stub through which g77's copy\n+   of netlib's libf2c, which g77 builds and installs as libg2c.a\n+   (to avoid conflict), #include's g77's version of f2c.h, named\n+   g2c.h.  That file is, in turn, produced via g77's library\n+   configuration process from g2c.h.in.\n+\n+   By going through this extra \"hoop\", it is easy to provide for\n+   libg2c-specific configuration and typedefs that aren't appropriate\n+   in g2c.h itself (since that is intended to be installed so it can\n+   be shared with f2c users), without changing the libf2c (libg2c)\n+   routines themselves.  (They continue to #include \"f2c.h\", just\n+   like they do in netlib's version.)  */\n+\n+#include \"g2c.h\"\n+\n+/* For GNU Fortran (g77), we always enable the following behaviors for\n+   libf2c, to make things easy on the programmer.  The alternate\n+   behaviors have their uses, and g77 might provide them as compiler,\n+   rather than library, options, so only a single copy of a shared libf2c\n+   need be built for a system.  */\n+\n+/* This makes unformatted I/O more consistent in relation to other\n+   systems.  It is not required by the F77 standard.  */\n+\n+#define Pad_UDread\n+\n+/* This makes ERR= and IOSTAT= returns work properly in disk-full\n+   situations, making things work more as expected.  It slows things\n+   down, so g77 will probably someday choose the original implementation\n+   on a case-by-case basis when it can be shown to not be necessary\n+   (e.g. no ERR= or IOSTAT=) or when it is given the appropriate\n+   compile-time option or, perhaps, source-code directive.\n+\n+   (No longer defined, since it really slows down NFS access too much.)  */\n+\n+/* #define ALWAYS_FLUSH */\n+\n+/* Most Fortran implementations do this, so to make it easier\n+   to compare the output of g77-compiled programs to those compiled\n+   by most other compilers, tell libf2c to put leading zeros in\n+   appropriate places on output.  */\n+\n+#define WANT_LEAD_0"}, {"sha": "5897525a230b1dcbf3cf2261bb57102e2dac09ce", "filename": "libf2c/g2c.h.in", "status": "renamed", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fg2c.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2Fg2c.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2Fg2c.h.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,4 +1,13 @@\n-/* f2c.h  --  Standard Fortran to C header file */\n+/* g2c.h  --  g77 version of f2c (Standard Fortran to C header file) */\n+\n+/* This file is generated by the g77 libg2c configuration process from a\n+   file named g2c.h.in.  This process sets up the appropriate types,\n+   defines the appropriate macros, and so on.  The resulting g2c.h file\n+   is used to build g77's copy of libf2c, named libg2c, and also can\n+   be used when compiling C code produced by f2c to link the resulting\n+   object file(s) with those produced by the same version of g77 that\n+   produced this file, allowing inter-operability of f2c-compiled and\n+   g77-compiled code.  */\n \n /**  barf  [ba:rf]  2.  \"He suggested using FORTRAN, and everybody barfed.\"\n ", "previous_filename": "libf2c/f2c.h.in"}, {"sha": "b2ce4dbacf5767177f74262b567fb32fe3e215c4", "filename": "libf2c/libF77/Makefile.in", "status": "modified", "additions": 27, "deletions": 16, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibF77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibF77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibF77%2FMakefile.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,7 +1,7 @@\n # Makefile for GNU F77 compiler runtime.\n # Copyright 1990 - 1994 by AT&T Bell Laboratories and Bellcore (see the\n # file `Notice').\n-# Portions of this file Copyright (C) 1995, 1996 Free Software Foundation, Inc.\n+# Portions of this file Copyright (C) 1995-1998 Free Software Foundation, Inc.\n #   Contributed by Dave Love (d.love@dl.ac.uk).\n #\n #This file is part of GNU Fortran.\n@@ -21,16 +21,35 @@\n #the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #02111-1307, USA.\n \n-SHELL = /bin/sh\n+#### Start of system configuration section. ####\n+\n+# $(srcdir) must be set to the g77 runtime libF77 source directory\n+# (g77/f/runtime/libF77).\n \n srcdir = @srcdir@\n VPATH = @srcdir@\n \n-#### Start of system configuration section. ####\n+# gcc/f/runtime/configure sets this to all the -D options appropriate\n+# for the configuration.\n+DEFS = @DEFS@\n+\n+#### End of system configuration section. ####\n+\n+# Must be passed in explicitly.  Sample values are shown below.\n+#CC = /gcc-build-dir/xgcc -B/gcc-build-dir/\n+#CFLAGS = -O -g\n+#CPPFLAGS = \n+#F2C_H_DIR = /gcc-source-dir/f/runtime\n+#G2C_H_DIR = /gcc-build-dir/f/runtime\n+#GCC_H_DIR = /gcc-build-dir/include\n \n+ALL_CFLAGS = -I. -I$(srcdir) -I$(G2C_H_DIR) -I$(F2C_H_DIR) -I$(GCC_H_DIR) $(CPPFLAGS) $(DEFS) $(CFLAGS)\n+\n+.SUFFIXES:\n+.SUFFIXES: .c .o\n \n .c.o:\n-\t$(CC) -c -DSkip_f2c_Undefs -I../ $(CFLAGS) $<\n+\t$(CC) -c -DSkip_f2c_Undefs $(ALL_CFLAGS) $<\n \n MISC =\tF77_aloc.o VersionF.o main.o s_rnge.o abort_.o getarg_.o iargc_.o\\\n \tgetenv_.o signal_.o s_stop.o s_paus.o system_.o cabs.o\\\n@@ -55,22 +74,14 @@ EFL =\tef1asc_.o ef1cmc_.o\n CHAR =\ts_cat.o s_cmp.o s_copy.o\n F90BIT = lbitbits.o lbitshft.o qbitbits.o qbitshft.o\n \n-F2C_H = ../f2c.h\n-\n all: $(MISC) $(POW) $(CX) $(DCX) $(REAL) $(DBL) $(INT) \\\n \t $(HALF) $(CMP) $(EFL) $(CHAR) $(F90BIT)\n \n VersionF.o: Version.c\n-\t$(CC) -c $(CFLAGS) -o $@ $(srcdir)/Version.c\n-\n-mostlyclean clean:\n-\t-rm -f *.o\n-\n-distclean maintainer-clean: clean\n-\t-rm -f stage? include Makefile\n+\t$(CC) -c $(ALL_CFLAGS) -o $@ $(srcdir)/Version.c\n \n # Not quite all these actually do depend on f2c.h...\n-$(MISC) $(POW) $(CX) $(DCX) $(REAL) $(DBL) $(INT) \\\n-  $(HALF) $(CMP) $(EFL) $(CHAR) $(F90BIT): $(F2C_H)\n+$(MISC) $(POW) $(CX) $(DCX) $(REAL) $(DBL) $(INT) $(HALF) $(CMP) $(EFL) \\\n+  $(CHAR) $(F90BIT): $(F2C_H_DIR)/f2c.h $(G2C_H_DIR)/g2c.h\n \n-.PHONY: mostlyclean clean distclean maintainer-clean all\n+.PHONY: all"}, {"sha": "569b0a25dc41e92670c69b17248f6ae61c71d110", "filename": "libf2c/libI77/Makefile.in", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibI77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibI77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibI77%2FMakefile.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,7 +1,7 @@\n # Makefile for GNU F77 compiler runtime.\n # Copyright 1990 - 1994 by AT&T Bell Laboratories and Bellcore (see the\n # file `Notice').\n-# Portions of this file Copyright (C) 1995, 1996 Free Software Foundation, Inc.\n+# Portions of this file Copyright (C) 1995, 1996, 1998 Free Software Foundation, Inc.\n #   Contributed by Dave Love (d.love@dl.ac.uk).\n #\n #This file is part of GNU Fortran.\n@@ -21,19 +21,29 @@\n #the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #02111-1307, USA.\n \n-SHELL = /bin/sh\n+#### Start of system configuration section. ####\n+\n+# $(srcdir) must be set to the g77 runtime libF77 source directory\n+# (g77/f/runtime/libF77).\n \n srcdir = @srcdir@\n VPATH = @srcdir@\n \n-#### Start of system configuration section. ####\n-\n-CPPFLAGS = @CPPFLAGS@\n+# gcc/f/runtime/configure sets this to all the -D options appropriate\n+# for the configuration.\n DEFS = @DEFS@\n-# f2c.h should already be installed in xgcc's include directory but add that\n-# to -I anyhow in case not using xgcc.\n-ALL_CFLAGS = -I. -I$(srcdir) -I.. $(CPPFLAGS) $(DEFS) $(CFLAGS)\n-CROSS = @CROSS@\n+\n+#### End of system configuration section. ####\n+\n+# Must be passed in explicitly.  Sample values are shown below.\n+#CC = /gcc-build-dir/xgcc -B/gcc-build-dir/\n+#CFLAGS = -O -g\n+#CPPFLAGS = \n+#F2C_H_DIR = /gcc-source-dir/f/runtime\n+#G2C_H_DIR = /gcc-build-dir/f/runtime\n+#GCC_H_DIR = /gcc-build-dir/include\n+\n+ALL_CFLAGS = -I. -I$(srcdir) -I$(G2C_H_DIR) -I$(F2C_H_DIR) -I$(GCC_H_DIR) $(CPPFLAGS) $(DEFS) $(CFLAGS)\n \n .SUFFIXES:\n .SUFFIXES: .c .o\n@@ -47,18 +57,10 @@ OBJ =\tVersionI.o backspace.o close.o dfe.o dolio.o due.o endfile.o err.o \\\n \tutil.o wref.o wrtfmt.o wsfe.o wsle.o wsne.o xwsne.o \\\n \tftell_.o\n \n-F2C_H = ../f2c.h\n-\n all: $(OBJ)\n \n VersionI.o: Version.c\n-\t$(CC) -c $(CGFLAGS) -o $@ $(srcdir)/Version.c\n-\n-mostlyclean clean:\n-\t-rm -f $(OBJ)\n-\n-distclean maintainer-clean: mostlyclean\n-\t-rm -f stage? include Makefile\n+\t$(CC) -c $(ALL_CFLAGS) -o $@ $(srcdir)/Version.c\n \n backspace.o:\tfio.h\n close.o:\tfio.h\n@@ -114,6 +116,6 @@ xwsne.o:\tlio.h\n xwsne.o:\tfmt.h\n \n # May be pessimistic:\n-$(OBJ): $(F2C_H)\n+$(OBJ): $(F2C_H_DIR)/f2c.h $(G2C_H_DIR)/g2c.h\n \n-.PHONY: mostlyclean clean distclean maintainer-clean all\n+.PHONY: all"}, {"sha": "c72f2f0a00edb233195850186b9f5cec7e2ac0ec", "filename": "libf2c/libU77/Makefile.in", "status": "modified", "additions": 47, "deletions": 44, "changes": 91, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibU77%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30bc2e7f51160a9fc4b58135b53c16c586e6d56/libf2c%2FlibU77%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2FMakefile.in?ref=f30bc2e7f51160a9fc4b58135b53c16c586e6d56", "patch": "@@ -1,37 +1,52 @@\n # Makefile for GNU F77 compiler runtime, libc interface.\n-# Copyright (C) 1995-1997 Free Software Foundation, Inc.\n+# Copyright (C) 1995-1998 Free Software Foundation, Inc.\n #   Contributed by Dave Love (d.love@dl.ac.uk).\n #\n-#This file is part of GNU Fortran libU77 library.\n+#This file is part of the GNU Fortran libU77 library.\n #\n-#This library is free software; you can redistribute it and/or modify\n-#it under the terms of the GNU Library General Public License as\n-#published by the Free Software Foundation; either version 2, or (at\n-#your option) any later version.\n+#The GNU Fortran libU77 library is free software; you can redistribute\n+#it and/or modify it under the terms of the GNU Library General Public\n+#License as published by the Free Software Foundation; either version 2,\n+#or (at your option) any later version.\n #\n-#GNU Fortran is distributed in the hope that it will be useful, but\n-#WITHOUT ANY WARRANTY; without even the implied warranty of\n-#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-#Library General Public License for more details.\n+#GNU Fortran is distributed in the hope that it will be useful,\n+#but WITHOUT ANY WARRANTY; without even the implied warranty of\n+#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+#GNU Library General Public License for more details.\n #\n #You should have received a copy of the GNU General Public License\n #along with GNU Fortran; see the file COPYING.  If not, write to\n-#Software Foundation, 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.\n+#the Free Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n+#02111-1307, USA.\n \n-SHELL = /bin/sh\n+#### Start of system configuration section. ####\n+\n+# $(srcdir) must be set to the g77 runtime libF77 source directory\n+# (g77/f/runtime/libF77).\n \n srcdir = @srcdir@\n VPATH = @srcdir@\n \n-#### Start of system configuration section. ####\n-\n-CPPFLAGS = @CPPFLAGS@\n+# gcc/f/runtime/configure sets this to all the -D options appropriate\n+# for the configuration.\n DEFS = @DEFS@\n-# f2c.h should already be installed in xgcc's include directory but add that\n-# to -I anyhow in case not using xgcc.  fio.h is in libI77.  We need config.h\n-# from `.'.\n-ALL_CFLAGS = -I. -I$(srcdir) -I$(srcdir)/../libI77 -I.. $(CPPFLAGS) $(DEFS) $(CFLAGS)\n-CROSS = @CROSS@\n+\n+#### End of system configuration section. ####\n+\n+# Must be passed in explicitly.  Sample values are shown below.\n+#CC = /gcc-build-dir/xgcc -B/gcc-build-dir/\n+#CFLAGS = -O -g\n+#CPPFLAGS = \n+#F2C_H_DIR = /gcc-source-dir/f/runtime\n+#G2C_H_DIR = /gcc-build-dir/f/runtime\n+#GCC_H_DIR = /gcc-build-dir/include\n+\n+# fio.h is in libI77.  config.h is in `.'.\n+ALL_CFLAGS = -I. -I$(srcdir) -I$(G2C_H_DIR)/libI77 -I$(F2C_H_DIR)/libI77 -I$(G2C_H_DIR) -I$(F2C_H_DIR) -I$(GCC_H_DIR) $(CPPFLAGS) $(DEFS) $(CFLAGS)\n+\n+# This could probably be done more elegantly, but it's currently\n+# just for running the u77-test test.\n+G77DIR = ../../../\n \n .SUFFIXES:\n .SUFFIXES: .c .o\n@@ -60,36 +75,17 @@ SRCS =  Version.c gerror_.c perror_.c ierrno_.c itime_.c time_.c \\\n \tumask_.c sys_clock_.c date_.c second_.c flush1_.c mclock_.c \\\n \talarm_.c\n \n-F2C_H = ../f2c.h\n-\n all: $(OBJS)\n \n VersionU.o: Version.c\n-\t$(CC) -c $(CGFLAGS) -o $@ $(srcdir)/Version.c\n-\n-lint:\n-\tlint $(CFLAGS) $(SRCS)\n-\n-mostlyclean:\n-\t-rm -f $(OBJS)\n-\n-clean: mostlyclean\n-\t-rm -f config.log a.out\n-\n-distclean realclean maintainer-clean: clean\n-\t-rm -f config.h Makefile config.status config.cache stage? include\n-\n-$(OBJS): $(F2C_H) config.h\n-\n-check:\n-\t-$(G77DIR)g77 -B$(G77DIR) -L.. -g $(srcdir)/u77-test.f $(lib) && ./a.out\n-\trm -f a.out\n+\t$(CC) -c $(ALL_CFLAGS) -o $@ $(srcdir)/Version.c\n \n+$(OBJS): $(F2C_H_DIR)/f2c.h $(G2C_H_DIR)/g2c.h config.h\n access_.o: access_.c\n ctime_.o: ctime_.c\n dtime_.o: dtime_.c\n etime_.o: etime_.c\n-fnum_.o: fnum_.c $(srcdir)/../libI77/fio.h\n+fnum_.o: fnum_.c $(F2C_H_DIR)/libI77/fio.h\n fstat_.o: fstat_.c\n gerror_.o: gerror_.c\n getcwd_.o: getcwd_.c\n@@ -100,7 +96,7 @@ getuid_.o: getuid_.c\n idate_.o: idate_.c\n ierrno_.o: ierrno_.c\n irand_.o: irand_.c\n-isatty_.o: isatty_.c $(srcdir)/../libI77/fio.h\n+isatty_.o: isatty_.c $(F2C_H_DIR)/libI77/fio.h\n itime_.o: itime_.c\n kill_.o: kill_.c\n link_.o: link_.c\n@@ -141,4 +137,11 @@ flush1_.o: flush1_.c\n mclock_.o: mclock_.c\n alarm_.o: alarm_.c\n \n-.PHONY: mostlyclean clean distclean maintainer-clean lint check all\n+lint:\n+\tlint $(ALL_CFLAGS) $(SRCS)\n+\n+check:\n+\t-$(G77DIR)g77 -B$(G77DIR) -L.. -g $(srcdir)/u77-test.f $(lib) && ./a.out\n+\trm -f a.out\n+\n+.PHONY: lint check all"}]}