{"sha": "0b1821788cbe452cfa0cd50452e50754542aee3f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGIxODIxNzg4Y2JlNDUyY2ZhMGNkNTA0NTJlNTA3NTQ1NDJhZWUzZg==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2010-09-19T14:53:05Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2010-09-19T14:53:05Z"}, "message": "bfin.h (CLASS_LIKELY_SPILLED_P): Remove.\n\n\t* config/bfin/bfin.h (CLASS_LIKELY_SPILLED_P): Remove.\n\t* config/bfin/bfin.c (TARGET_CLASS_LIKELY_SPILLED_P): Define.\n\t(bfin_class_likely_spilled_p): New function\n\nFrom-SVN: r164421", "tree": {"sha": "6242087d02a28d36dea5e0b8950d2ba9b05cab8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6242087d02a28d36dea5e0b8950d2ba9b05cab8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b1821788cbe452cfa0cd50452e50754542aee3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b1821788cbe452cfa0cd50452e50754542aee3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b1821788cbe452cfa0cd50452e50754542aee3f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b1821788cbe452cfa0cd50452e50754542aee3f/comments", "author": null, "committer": null, "parents": [{"sha": "039d9ea1843014ca798de2117edb70e65d0e554e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/039d9ea1843014ca798de2117edb70e65d0e554e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/039d9ea1843014ca798de2117edb70e65d0e554e"}], "stats": {"total": 41, "additions": 32, "deletions": 9}, "files": [{"sha": "7fafcf5608b7fe5507da57f938c84c552a01e0c2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0b1821788cbe452cfa0cd50452e50754542aee3f", "patch": "@@ -1,3 +1,9 @@\n+2010-09-19  Anatoly Sokolov  <aesok@post.ru>\n+\n+\t* config/bfin/bfin.h (CLASS_LIKELY_SPILLED_P): Remove.\n+\t* config/bfin/bfin.c (TARGET_CLASS_LIKELY_SPILLED_P): Define.\n+\t(bfin_class_likely_spilled_p): New function\n+\n 2010-09-19  Ira Rosen  <irar@il.ibm.com>\n \n \tPR tree-optimization/45714"}, {"sha": "da5a8eef237366e7dd4fc3acc3a5f60f65b32a36", "filename": "gcc/config/bfin/bfin.c", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2Fconfig%2Fbfin%2Fbfin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2Fconfig%2Fbfin%2Fbfin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.c?ref=0b1821788cbe452cfa0cd50452e50754542aee3f", "patch": "@@ -2543,6 +2543,29 @@ bfin_secondary_reload (bool in_p, rtx x, reg_class_t rclass_i,\n \n   return NO_REGS;\n }\n+\n+/* Implement TARGET_CLASS_LIKELY_SPILLED_P.  */\n+\n+static bool\n+bfin_class_likely_spilled_p (reg_class_t rclass)\n+{\n+  switch (rclass)\n+    {\n+      case PREGS_CLOBBERED:\n+      case PROLOGUE_REGS:\n+      case P0REGS:\n+      case D0REGS:\n+      case D1REGS:\n+      case D2REGS:\n+      case CCREGS:\n+        return true;\n+\n+      default:\n+        break;\n+    }\n+\n+  return false;\n+}\n \f\n /* Implement TARGET_HANDLE_OPTION.  */\n \n@@ -6635,6 +6658,9 @@ bfin_expand_builtin (tree exp, rtx target ATTRIBUTE_UNUSED,\n #undef TARGET_SECONDARY_RELOAD\n #define TARGET_SECONDARY_RELOAD bfin_secondary_reload\n \n+#undef TARGET_CLASS_LIKELY_SPILLED_P\n+#define TARGET_CLASS_LIKELY_SPILLED_P bfin_class_likely_spilled_p\n+\n #undef TARGET_DELEGITIMIZE_ADDRESS\n #define TARGET_DELEGITIMIZE_ADDRESS bfin_delegitimize_address\n "}, {"sha": "30b298d76e1d91732f12ad9ec44d9b66e6fd3768", "filename": "gcc/config/bfin/bfin.h", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2Fconfig%2Fbfin%2Fbfin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b1821788cbe452cfa0cd50452e50754542aee3f/gcc%2Fconfig%2Fbfin%2Fbfin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fbfin.h?ref=0b1821788cbe452cfa0cd50452e50754542aee3f", "patch": "@@ -750,15 +750,6 @@ enum reg_class\n    registers.  */\n #define TARGET_SMALL_REGISTER_CLASSES_FOR_MODE_P hook_bool_mode_true\n \n-#define CLASS_LIKELY_SPILLED_P(CLASS) \\\n-    ((CLASS) == PREGS_CLOBBERED \\\n-     || (CLASS) == PROLOGUE_REGS \\\n-     || (CLASS) == P0REGS \\\n-     || (CLASS) == D0REGS \\\n-     || (CLASS) == D1REGS \\\n-     || (CLASS) == D2REGS \\\n-     || (CLASS) == CCREGS)\n-\n /* Do not allow to store a value in REG_CC for any mode */\n /* Do not allow to store value in pregs if mode is not SI*/\n #define HARD_REGNO_MODE_OK(REGNO, MODE) hard_regno_mode_ok((REGNO), (MODE))"}]}