{"sha": "4f44ecc07f40ad8210c703300224b7e6bed86a86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY0NGVjYzA3ZjQwYWQ4MjEwYzcwMzMwMDIyNGI3ZTZiZWQ4NmE4Ng==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-03-06T09:00:21Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-03-06T09:00:21Z"}, "message": "m68k.c (m68k_save_reg): Remove special case for leaf functions.\n\ngcc/\n\t* config/m68k/m68k.c (m68k_save_reg): Remove special case for\n\tleaf functions.\n\t(m68k_expand_prologue): Likewise.\n\nFrom-SVN: r122608", "tree": {"sha": "8161e1f4c13c80f08ad8e3a90c03db27428d8a5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8161e1f4c13c80f08ad8e3a90c03db27428d8a5f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f44ecc07f40ad8210c703300224b7e6bed86a86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f44ecc07f40ad8210c703300224b7e6bed86a86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f44ecc07f40ad8210c703300224b7e6bed86a86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f44ecc07f40ad8210c703300224b7e6bed86a86/comments", "author": null, "committer": null, "parents": [{"sha": "f7e70894412aa334b68cceb241496c302c663dd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7e70894412aa334b68cceb241496c302c663dd9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7e70894412aa334b68cceb241496c302c663dd9"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "97076399d2bf486da2d9faf180170acce278a806", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f44ecc07f40ad8210c703300224b7e6bed86a86/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f44ecc07f40ad8210c703300224b7e6bed86a86/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4f44ecc07f40ad8210c703300224b7e6bed86a86", "patch": "@@ -1,3 +1,9 @@\n+2007-03-06  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* config/m68k/m68k.c (m68k_save_reg): Remove special case for\n+\tleaf functions.\n+\t(m68k_expand_prologue): Likewise.\n+\n 2007-03-06  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/m68k/m68k-protos.h (output_sibcall): Declare."}, {"sha": "e491beb38fc54520df031e74a6bebbf9dccb53e8", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f44ecc07f40ad8210c703300224b7e6bed86a86/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f44ecc07f40ad8210c703300224b7e6bed86a86/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=4f44ecc07f40ad8210c703300224b7e6bed86a86", "patch": "@@ -749,8 +749,6 @@ m68k_save_reg (unsigned int regno, bool interrupt_handler)\n     {\n       if (current_function_uses_pic_offset_table)\n \treturn true;\n-      if (!current_function_is_leaf && TARGET_ID_SHARED_LIBRARY)\n-\treturn true;\n     }\n \n   if (current_function_calls_eh_return)\n@@ -996,8 +994,7 @@ m68k_expand_prologue (void)\n \n   if (flag_pic\n       && !TARGET_SEP_DATA\n-      && (current_function_uses_pic_offset_table\n-\t  || (!current_function_is_leaf && TARGET_ID_SHARED_LIBRARY)))\n+      && current_function_uses_pic_offset_table)\n     {\n       insn = emit_insn (gen_load_got (pic_offset_table_rtx));\n       REG_NOTES (insn) = gen_rtx_EXPR_LIST (REG_MAYBE_DEAD,"}]}