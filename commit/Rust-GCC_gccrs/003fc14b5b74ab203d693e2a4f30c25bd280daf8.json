{"sha": "003fc14b5b74ab203d693e2a4f30c25bd280daf8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDAzZmMxNGI1Yjc0YWIyMDNkNjkzZTJhNGYzMGMyNWJkMjgwZGFmOA==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2018-11-18T10:22:10Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2018-11-18T10:22:10Z"}, "message": "Delete !HAVE_LD_PIE variants of startfile/endfile specs\n\nThe HAVE_LD_PIE variant doesn't contain anything that will break\nlinking when !HAVE_LD_PIE that isn't already broken if you choose to\nbuild PIEs with a linker that doesn't support PIE.  All this\nHAVE_LD_PIE protects is the choice of different crt files, which is\nmore about libc capability than linker capability.\n\n\t* config/gnu-user.h (GNU_USER_TARGET_STARTFILE_SPEC): Delete\n\t!HAVE_LD_PIE variant.\n\t(GNU_USER_TARGET_ENDFILE_SPEC): Likewise.\n\nFrom-SVN: r266249", "tree": {"sha": "35dca2779cec819595148980f3cbe799abbf3ae1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/35dca2779cec819595148980f3cbe799abbf3ae1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/003fc14b5b74ab203d693e2a4f30c25bd280daf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/003fc14b5b74ab203d693e2a4f30c25bd280daf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/003fc14b5b74ab203d693e2a4f30c25bd280daf8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/003fc14b5b74ab203d693e2a4f30c25bd280daf8/comments", "author": null, "committer": null, "parents": [{"sha": "83fad92900e6370e4ca4f40cefe56a386399239d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83fad92900e6370e4ca4f40cefe56a386399239d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83fad92900e6370e4ca4f40cefe56a386399239d"}], "stats": {"total": 47, "additions": 13, "deletions": 34}, "files": [{"sha": "6539253f8b7b7a42142b2223cb388fe071a652cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/003fc14b5b74ab203d693e2a4f30c25bd280daf8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/003fc14b5b74ab203d693e2a4f30c25bd280daf8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=003fc14b5b74ab203d693e2a4f30c25bd280daf8", "patch": "@@ -1,8 +1,14 @@\n+2018-11-18  Alan Modra  <amodra@gmail.com>\n+\n+\t* config/gnu-user.h (GNU_USER_TARGET_STARTFILE_SPEC): Delete\n+\t!HAVE_LD_PIE variant.\n+\t(GNU_USER_TARGET_ENDFILE_SPEC): Likewise.\n+\n 2018-11-17  Nick Clifton  <nickc@redhat.com>\n \t    Sandra Loosemore  <sandra@codesourcery.com>\n \n \tPR driver/31357\n-\t* doc/invoke.texi (Overall Options): Document that --help and \n+\t* doc/invoke.texi (Overall Options): Document that --help and\n \t--help=<value> options cannot be combined.\n \n 2018-11-17  Jim Wilson  <jimw@sifive.com>\n@@ -1626,7 +1632,7 @@\n \tOMP_CLAUSE_{TASK,IN}_REDUCTION.  Diagnose invalid conditional\n \tlastprivate.\n \t(gimplify_adjust_omp_clauses_1): Ignore GOVD_NONTEMPORAL.  Handle\n-\tGOVD_MAP_ALLOC_ONLY and GOVD_MAP_FROM_ONLY.  \n+\tGOVD_MAP_ALLOC_ONLY and GOVD_MAP_FROM_ONLY.\n \t(gimplify_adjust_omp_clauses): Handle OMP_CLAUSE_NONTEMPORAL.  Handle\n \tOMP_CLAUSE_{TASK,IN}_REDUCTION.\n \t(gimplify_omp_task): Handle taskwait with depend clauses.\n@@ -4816,7 +4822,7 @@\n \tthe REF_REVERSE_STORAGE_ORDER flag on the value.\n \t(gimple_simplify) <GIMPLE_ASSIGN>: For BIT_FIELD_REF, propagate the\n \tREF_REVERSE_STORAGE_ORDER flag and avoid simplifying if it is set.\n-\t\n+\n 2018-10-08  Richard Sandiford  <richard.sandiford@arm.com>\n \n \tPR middle-end/63155"}, {"sha": "75f6a6f0a7d1b219a05f101670e0557630ffe395", "filename": "gcc/config/gnu-user.h", "status": "modified", "additions": 4, "deletions": 31, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/003fc14b5b74ab203d693e2a4f30c25bd280daf8/gcc%2Fconfig%2Fgnu-user.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/003fc14b5b74ab203d693e2a4f30c25bd280daf8/gcc%2Fconfig%2Fgnu-user.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fgnu-user.h?ref=003fc14b5b74ab203d693e2a4f30c25bd280daf8", "patch": "@@ -45,7 +45,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n    provides part of the support for getting C++ file-scope static\n    object constructed before entering `main'.  */\n \n-#if defined HAVE_LD_PIE\n #define GNU_USER_TARGET_STARTFILE_SPEC \\\n   \"%{shared:; \\\n      pg|p|profile:%{static-pie:grcrt1.o%s;:gcrt1.o%s}; \\\n@@ -59,22 +58,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n      :crtbegin.o%s} \\\n    %{fvtable-verify=none:%s; \\\n      fvtable-verify=preinit:vtv_start_preinit.o%s; \\\n-     fvtable-verify=std:vtv_start.o%s} \\\n-   \" CRTOFFLOADBEGIN\n-#else\n-#define GNU_USER_TARGET_STARTFILE_SPEC \\\n-  \"%{shared:; \\\n-     pg|p|profile:gcrt1.o%s; \\\n-     :crt1.o%s} \\\n-   crti.o%s \\\n-   %{static:crtbeginT.o%s; \\\n-     shared|pie|static-pie:crtbeginS.o%s; \\\n-     :crtbegin.o%s} \\\n-   %{fvtable-verify=none:%s; \\\n-     fvtable-verify=preinit:vtv_start_preinit.o%s; \\\n-     fvtable-verify=std:vtv_start.o%s} \\\n-   \" CRTOFFLOADBEGIN\n-#endif\n+     fvtable-verify=std:vtv_start.o%s} \" \\\n+   CRTOFFLOADBEGIN\n #undef  STARTFILE_SPEC\n #define STARTFILE_SPEC GNU_USER_TARGET_STARTFILE_SPEC\n \n@@ -84,27 +69,15 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n    object constructed before entering `main', followed by a normal\n    GNU userspace \"finalizer\" file, `crtn.o'.  */\n \n-#if defined HAVE_LD_PIE\n #define GNU_USER_TARGET_ENDFILE_SPEC \\\n   \"%{fvtable-verify=none:%s; \\\n      fvtable-verify=preinit:vtv_end_preinit.o%s; \\\n      fvtable-verify=std:vtv_end.o%s} \\\n    %{static:crtend.o%s; \\\n      shared|static-pie|\" PIE_SPEC \":crtendS.o%s; \\\n      :crtend.o%s} \\\n-   crtn.o%s \\\n-   \" CRTOFFLOADEND\n-#else\n-#define GNU_USER_TARGET_ENDFILE_SPEC \\\n-  \"%{fvtable-verify=none:%s; \\\n-     fvtable-verify=preinit:vtv_end_preinit.o%s; \\\n-     fvtable-verify=std:vtv_end.o%s} \\\n-   %{static:crtend.o%s; \\\n-     shared|pie|static-pie:crtendS.o%s; \\\n-     :crtend.o%s} \\\n-   crtn.o%s \\\n-   \" CRTOFFLOADEND\n-#endif\n+   crtn.o%s \" \\\n+   CRTOFFLOADEND\n #undef  ENDFILE_SPEC\n #define ENDFILE_SPEC GNU_USER_TARGET_ENDFILE_SPEC\n "}]}