{"sha": "fcd215916e0991815853999267824defe1963379", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNkMjE1OTE2ZTA5OTE4MTU4NTM5OTkyNjc4MjRkZWZlMTk2MzM3OQ==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2016-07-13T02:44:35Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2016-07-13T02:44:35Z"}, "message": "tree-ssa-sccvn.c: use auto_vec for sccvn_dom_walker::cond_stack\n\ngcc/ChangeLog:\n\n2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* tree-ssa-sccvn.c (sccvn_dom_walker::~sccvn_dom_walker): remove.\n\t(sccvn_dom_walker): make cond_stack an auto_vec.\n\nFrom-SVN: r238284", "tree": {"sha": "bcfc5c76faf7c228ed037573050bad350e31e9d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bcfc5c76faf7c228ed037573050bad350e31e9d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcd215916e0991815853999267824defe1963379", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcd215916e0991815853999267824defe1963379", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcd215916e0991815853999267824defe1963379", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcd215916e0991815853999267824defe1963379/comments", "author": null, "committer": null, "parents": [{"sha": "4a5a779a59456b83c3f75b09a54d845c540ef1c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a5a779a59456b83c3f75b09a54d845c540ef1c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a5a779a59456b83c3f75b09a54d845c540ef1c0"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "a488fd861ddd14d684bb53c1a1ba4134ecb99eca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcd215916e0991815853999267824defe1963379/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcd215916e0991815853999267824defe1963379/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fcd215916e0991815853999267824defe1963379", "patch": "@@ -1,3 +1,8 @@\n+2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* tree-ssa-sccvn.c (sccvn_dom_walker::~sccvn_dom_walker): remove.\n+\t(sccvn_dom_walker): make cond_stack an auto_vec.\n+\n 2016-07-12  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* ree.c (struct ext_state): Make type of members auto_vec."}, {"sha": "9bcbe52a298a5deaa260f78ab8b310d83ce4c831", "filename": "gcc/tree-ssa-sccvn.c", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcd215916e0991815853999267824defe1963379/gcc%2Ftree-ssa-sccvn.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcd215916e0991815853999267824defe1963379/gcc%2Ftree-ssa-sccvn.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-sccvn.c?ref=fcd215916e0991815853999267824defe1963379", "patch": "@@ -4455,8 +4455,7 @@ class sccvn_dom_walker : public dom_walker\n {\n public:\n   sccvn_dom_walker ()\n-    : dom_walker (CDI_DOMINATORS, true), fail (false), cond_stack (vNULL) {}\n-  ~sccvn_dom_walker ();\n+    : dom_walker (CDI_DOMINATORS, true), fail (false), cond_stack (0) {}\n \n   virtual edge before_dom_children (basic_block);\n   virtual void after_dom_children (basic_block);\n@@ -4467,15 +4466,10 @@ class sccvn_dom_walker : public dom_walker\n \t\t     enum tree_code code, tree lhs, tree rhs, bool value);\n \n   bool fail;\n-  vec<std::pair <basic_block, std::pair <vn_nary_op_t, vn_nary_op_t> > >\n+  auto_vec<std::pair <basic_block, std::pair <vn_nary_op_t, vn_nary_op_t> > >\n     cond_stack;\n };\n \n-sccvn_dom_walker::~sccvn_dom_walker ()\n-{\n-  cond_stack.release ();\n-}\n-\n /* Record a temporary condition for the BB and its dominated blocks.  */\n \n void"}]}