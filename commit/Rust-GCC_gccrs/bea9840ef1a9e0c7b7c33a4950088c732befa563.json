{"sha": "bea9840ef1a9e0c7b7c33a4950088c732befa563", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVhOTg0MGVmMWE5ZTBjN2I3YzMzYTQ5NTAwODhjNzMyYmVmYTU2Mw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2010-02-28T10:37:04Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-02-28T10:37:04Z"}, "message": "hash-long-double-aux.cc (hash<long double>:: operator()(long double)): Hash both -0 and +0 to 0.\n\n2010-02-28  Paolo Carlini  <paolo.carlini@oracle.com>\n\n       * src/hash-long-double-aux.cc (hash<long double>::\n       operator()(long double)): Hash both -0 and +0 to 0.\n\nFrom-SVN: r157120", "tree": {"sha": "b17c419af91b17dfba45d9dd76369cb7a2365ff0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b17c419af91b17dfba45d9dd76369cb7a2365ff0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bea9840ef1a9e0c7b7c33a4950088c732befa563", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bea9840ef1a9e0c7b7c33a4950088c732befa563", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bea9840ef1a9e0c7b7c33a4950088c732befa563", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bea9840ef1a9e0c7b7c33a4950088c732befa563/comments", "author": null, "committer": null, "parents": [{"sha": "91ad7e13d14ce8e5f855cc6c93ce5901ea8ec7fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91ad7e13d14ce8e5f855cc6c93ce5901ea8ec7fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91ad7e13d14ce8e5f855cc6c93ce5901ea8ec7fc"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "ef97ea3c0cf6a6af3f59530b01d6c6d06498f738", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bea9840ef1a9e0c7b7c33a4950088c732befa563/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bea9840ef1a9e0c7b7c33a4950088c732befa563/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=bea9840ef1a9e0c7b7c33a4950088c732befa563", "patch": "@@ -1,3 +1,8 @@\n+2010-02-28  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+       * src/hash-long-double-aux.cc (hash<long double>::\n+       operator()(long double)): Hash both -0 and +0 to 0.\n+\n 2010-02-25  Ed Smith-Rowland  <3dw4rd@verizon.net>\n \n \t* include/bits/random.tcc (operator<<): Use max_digits10."}, {"sha": "d54d635f83e69e66484d09abf6c74b2d6de0bd6d", "filename": "libstdc++-v3/src/hash-long-double-aux.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bea9840ef1a9e0c7b7c33a4950088c732befa563/libstdc%2B%2B-v3%2Fsrc%2Fhash-long-double-aux.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bea9840ef1a9e0c7b7c33a4950088c732befa563/libstdc%2B%2B-v3%2Fsrc%2Fhash-long-double-aux.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fhash-long-double-aux.cc?ref=bea9840ef1a9e0c7b7c33a4950088c732befa563", "patch": "@@ -28,7 +28,9 @@\n     size_t\n     hash<long double>::operator()(long double __val) const\n     {\n-      size_t __result = 0;\n+      // 0 and -0 both hash to zero.\n+      if (__val == 0.0L)\n+\treturn 0;\n \n       int __exponent;\n       __val = __builtin_frexpl(__val, &__exponent);\n@@ -44,7 +46,5 @@\n \n       const size_t __coeff = __SIZE_MAX__ / __LDBL_MAX_EXP__;\n \n-      __result = __hibits + (size_t)__val + __coeff * __exponent;\n-\n-      return __result;\n+      return __hibits + (size_t)__val + __coeff * __exponent;\n     }"}]}