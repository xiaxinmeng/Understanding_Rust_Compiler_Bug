{"sha": "8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRlYjlhZWU5NDc3ZmJlOGZkOGEwYzlmYWY4YjM5MmVkMDdhMzczNA==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2003-12-24T02:22:37Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2003-12-24T02:22:37Z"}, "message": "function.c (assign_parms): Update max_parm_reg and parm_reg_stack_loc when adding new parm reg.\n\n        * function.c (assign_parms): Update max_parm_reg and\n        parm_reg_stack_loc when adding new parm reg.\n\nFrom-SVN: r75001", "tree": {"sha": "87d1768140c9ea5855f3647e421b14c63deeae7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/87d1768140c9ea5855f3647e421b14c63deeae7d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734/comments", "author": null, "committer": null, "parents": [{"sha": "2ab127f3ef93106864c0961bebe4cedd76453531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ab127f3ef93106864c0961bebe4cedd76453531", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ab127f3ef93106864c0961bebe4cedd76453531"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "fc2f3871ef974a7e91d2ae80217a3cbae473d7f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "patch": "@@ -1,3 +1,8 @@\n+2003-12-23  David Edelsohn  <edelsohn@gnu.org>\n+\n+\t* function.c (assign_parms): Update max_parm_reg and\n+\tparm_reg_stack_loc when adding new parm reg.\n+\n 2003-12-23  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/ns32k/ns32k.c: Convert to ISO-C."}, {"sha": "30ede39ef0222d1f0273c77e6197298eec9308dc", "filename": "gcc/function.c", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=8deb9aee9477fbe8fd8a0c9faf8b392ed07a3734", "patch": "@@ -4740,9 +4740,28 @@ assign_parms (tree fndecl)\n \n \t  if (REG_P (parmreg))\n \t    {\n+\t      unsigned int regno = REGNO (parmreg);\n+\n \t      emit_group_store (parmreg, entry_parm, TREE_TYPE (parm),\n \t\t\t\tint_size_in_bytes (TREE_TYPE (parm)));\n \t      SET_DECL_RTL (parm, parmreg);\n+\n+\t      if (regno >= max_parm_reg)\n+\t\t{\n+\t\t  rtx *new;\n+\t\t  int old_max_parm_reg = max_parm_reg;\n+\n+\t\t  /* It's slow to expand this one register at a time,\n+\t\t     but it's also rare and we need max_parm_reg to be\n+\t\t     precisely correct.  */\n+\t\t  max_parm_reg = regno + 1;\n+\t\t  new = ggc_realloc (parm_reg_stack_loc,\n+\t\t\t\t     max_parm_reg * sizeof (rtx));\n+\t\t  memset (new + old_max_parm_reg, 0,\n+\t\t\t  (max_parm_reg - old_max_parm_reg) * sizeof (rtx));\n+\t\t  parm_reg_stack_loc = new;\n+\t\t  parm_reg_stack_loc[regno] = stack_parm;\n+\t\t}\n \t    }\n \t}\n "}]}