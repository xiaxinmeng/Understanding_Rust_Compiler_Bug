{"sha": "1f50597830e668d54c3c08c26027e64ad92db85f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY1MDU5NzgzMGU2NjhkNTRjM2MwOGMyNjAyN2U2NGFkOTJkYjg1Zg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-04-24T13:17:28Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-04-24T13:17:28Z"}, "message": "[multiple changes]\n\n2013-04-24  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_aux.adb: Add guard in Available_View.\n\n2013-04-24  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* sem_prag.adb (Analyze_Depends_In_Decl_Part): Use\n\tFind_Related_Subprogram to find the associated subprogram.\n\t(Analyze_Global_In_Decl_List): Use Find_Related_Subprogram\n\tto find the associated subprogram.\n\t(Analyze_Pragma): Use Find_Related_Subprogram to find the associated\n\tsubprogram.\n\nFrom-SVN: r198229", "tree": {"sha": "4151249b58e3c3305714877ac67ff5d417852be9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4151249b58e3c3305714877ac67ff5d417852be9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f50597830e668d54c3c08c26027e64ad92db85f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f50597830e668d54c3c08c26027e64ad92db85f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f50597830e668d54c3c08c26027e64ad92db85f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f50597830e668d54c3c08c26027e64ad92db85f/comments", "author": null, "committer": null, "parents": [{"sha": "83082391ebf83cc0c4a812473d3f8648fe27058e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83082391ebf83cc0c4a812473d3f8648fe27058e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83082391ebf83cc0c4a812473d3f8648fe27058e"}], "stats": {"total": 25, "additions": 21, "deletions": 4}, "files": [{"sha": "f33d03b9a635bb770bf05cab128a422eea114be6", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1f50597830e668d54c3c08c26027e64ad92db85f", "patch": "@@ -1,3 +1,16 @@\n+2013-04-24  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_aux.adb: Add guard in Available_View.\n+\n+2013-04-24  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* sem_prag.adb (Analyze_Depends_In_Decl_Part): Use\n+\tFind_Related_Subprogram to find the associated subprogram.\n+\t(Analyze_Global_In_Decl_List): Use Find_Related_Subprogram\n+\tto find the associated subprogram.\n+\t(Analyze_Pragma): Use Find_Related_Subprogram to find the associated\n+\tsubprogram.\n+\n 2013-04-24  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* exp_ch6.adb: Remove with and use clause for Sem_Prag."}, {"sha": "3c5d2af59baa8f9c6c719c1a65883bcf1b971f30", "filename": "gcc/ada/sem_aux.adb", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2Fsem_aux.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2Fsem_aux.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_aux.adb?ref=1f50597830e668d54c3c08c26027e64ad92db85f", "patch": "@@ -86,8 +86,12 @@ package body Sem_Aux is\n \n          return Get_Full_View (Non_Limited_View (Typ));\n \n+      --  If it is class_wide, check whether the specific type comes from\n+      --  A limited_with.\n+\n       elsif Is_Class_Wide_Type (Typ)\n         and then Is_Incomplete_Type (Etype (Typ))\n+        and then From_With_Type (Etype (Typ))\n         and then Present (Non_Limited_View (Etype (Typ)))\n       then\n          return Class_Wide_Type (Non_Limited_View (Etype (Typ)));"}, {"sha": "089c1157fefb191241ebb1a374cc16d5dd6a314a", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f50597830e668d54c3c08c26027e64ad92db85f/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=1f50597830e668d54c3c08c26027e64ad92db85f", "patch": "@@ -1370,7 +1370,7 @@ package body Sem_Prag is\n    begin\n       Set_Analyzed (N);\n \n-      Subp_Decl := Parent (Corresponding_Aspect (N));\n+      Subp_Decl := Find_Related_Subprogram (N);\n       Subp_Id   := Defining_Unit_Name (Specification (Subp_Decl));\n       Clause    := Expression (Arg1);\n \n@@ -1746,7 +1746,7 @@ package body Sem_Prag is\n    begin\n       Set_Analyzed (N);\n \n-      Subp_Decl := Parent (Corresponding_Aspect (N));\n+      Subp_Decl := Find_Related_Subprogram (N);\n       Subp_Id   := Defining_Unit_Name (Specification (Subp_Decl));\n       List      := Expression (Arg1);\n \n@@ -10625,7 +10625,7 @@ package body Sem_Prag is\n             --  associated with a subprogram declaration or a body that acts\n             --  as a spec.\n \n-            Subp_Decl := Parent (Corresponding_Aspect (N));\n+            Subp_Decl := Find_Related_Subprogram (N, Check_Duplicates => True);\n \n             if Nkind (Subp_Decl) /= N_Subprogram_Declaration\n               and then (Nkind (Subp_Decl) /= N_Subprogram_Body\n@@ -11904,7 +11904,7 @@ package body Sem_Prag is\n             --  associated with a subprogram declaration or a body that acts\n             --  as a spec.\n \n-            Subp_Decl := Parent (Corresponding_Aspect (N));\n+            Subp_Decl := Find_Related_Subprogram (N, Check_Duplicates => True);\n \n             if Nkind (Subp_Decl) /= N_Subprogram_Declaration\n               and then (Nkind (Subp_Decl) /= N_Subprogram_Body"}]}