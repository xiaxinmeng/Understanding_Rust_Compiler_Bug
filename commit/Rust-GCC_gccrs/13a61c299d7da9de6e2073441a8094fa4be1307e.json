{"sha": "13a61c299d7da9de6e2073441a8094fa4be1307e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNhNjFjMjk5ZDdkYTlkZTZlMjA3MzQ0MWE4MDk0ZmE0YmUxMzA3ZQ==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1997-04-07T21:29:09Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1997-04-07T21:29:09Z"}, "message": "(SUBTARGET_CC1_SPEC): Define.\n\n(LINK_SPEC, STARTFILE_SPEC): Support -static.\n\nFrom-SVN: r13841", "tree": {"sha": "4bf18bcc5b63d58164ad778a0c7dd95cbc37cb8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4bf18bcc5b63d58164ad778a0c7dd95cbc37cb8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13a61c299d7da9de6e2073441a8094fa4be1307e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13a61c299d7da9de6e2073441a8094fa4be1307e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13a61c299d7da9de6e2073441a8094fa4be1307e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13a61c299d7da9de6e2073441a8094fa4be1307e/comments", "author": null, "committer": null, "parents": [{"sha": "f54fd62edcba1a52572f2cb267ab7e5abeb77734", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f54fd62edcba1a52572f2cb267ab7e5abeb77734", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f54fd62edcba1a52572f2cb267ab7e5abeb77734"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "d7840b45a4a2585435931c9115144ad4b2b58f58", "filename": "gcc/config/mips/iris5.h", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13a61c299d7da9de6e2073441a8094fa4be1307e/gcc%2Fconfig%2Fmips%2Firis5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13a61c299d7da9de6e2073441a8094fa4be1307e/gcc%2Fconfig%2Fmips%2Firis5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis5.h?ref=13a61c299d7da9de6e2073441a8094fa4be1307e", "patch": "@@ -54,6 +54,9 @@ Boston, MA 02111-1307, USA.  */\n  (DEFAULT_WORD_SWITCH_TAKES_ARG (STR)\t\t\t\\\n   || !strcmp (STR, \"rpath\"))\n \n+#undef SUBTARGET_CC1_SPEC\n+#define SUBTARGET_CC1_SPEC \"%{static: -mno-abicalls}\"\n+\n /* ??? _MIPS_SIM and _MIPS_SZPTR should eventually depend on options when\n    options for them exist.  */\n \n@@ -80,14 +83,21 @@ Boston, MA 02111-1307, USA.  */\n %{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n %{bestGnum} %{shared} %{non_shared} \\\n %{call_shared} %{no_archive} %{exact_version} \\\n-%{!shared:%{!non_shared:%{!call_shared: -call_shared -no_unresolved}}} \\\n+%{static: -non_shared} \\\n+%{!static: \\\n+  %{!shared:%{!non_shared:%{!call_shared: -call_shared -no_unresolved}}}} \\\n %{rpath} \\\n -_SYSTYPE_SVR4\"\n \n /* We now support shared libraries.  */\n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \\\n-  \"%{!shared:%{pg:gcrt1.o%s}%{!pg:%{p:mcrt1.o%s libprof1.a%s}%{!p:crt1.o%s}}}\"\n+#define STARTFILE_SPEC \"\\\n+%{!static: \\\n+  %{!shared:%{pg:gcrt1.o%s}%{!pg:%{p:mcrt1.o%s libprof1.a%s}%{!p:crt1.o%s}}}} \\\n+%{static: \\\n+  %{pg:gcrt1.o%s} \\\n+  %{!pg:%{p:/usr/lib/nonshared/mcrt1.o%s libprof1.a%s} \\\n+  %{!p:/usr/lib/nonshared/crt1.o%s}}}\"\n \n #undef LIB_SPEC\n #define LIB_SPEC \"%{!shared:%{p:-lprof1} %{pg:-lprof1} -lc}\""}]}