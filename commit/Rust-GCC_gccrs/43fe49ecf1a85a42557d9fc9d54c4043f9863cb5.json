{"sha": "43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDNmZTQ5ZWNmMWE4NWE0MjU1N2Q5ZmM5ZDU0YzQwNDNmOTg2M2NiNQ==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2012-01-17T23:39:21Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2012-01-17T23:39:21Z"}, "message": "configure.ac (BUILD_EPUB): Adjust for epub3.\n\n2012-01-17  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* configure.ac (BUILD_EPUB): Adjust for epub3.\n\t* configure: Regenerate.\n\t* Makefile.in: Same.\n\t* doc/Makefile.am (stamp-epub-docbook): Update for epub3.\n\t* doc/Makefile.in: Regenerate.\n\t* include/Makefile.in: Same.\n\t* libsupc++/Makefile.in: Same.\n\t* po/Makefile.in: Same.\n\t* python/Makefile.in: Same.\n\t* src/Makefile.in: Same.\n\t* testsuite/Makefile.in: Same.\n\n\t* doc/xml/manual/documentation_hacking.xml: Update.\n\nFrom-SVN: r183263", "tree": {"sha": "cf6825c30831db83803362c1b76e68e46e2dd688", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf6825c30831db83803362c1b76e68e46e2dd688"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/comments", "author": null, "committer": null, "parents": [{"sha": "3bdb97b8b97757eaf5aae67bd300c1a58dd00027", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bdb97b8b97757eaf5aae67bd300c1a58dd00027", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bdb97b8b97757eaf5aae67bd300c1a58dd00027"}], "stats": {"total": 201, "additions": 96, "deletions": 105}, "files": [{"sha": "ddfed728edfeec3155650eccea636e405e0e134e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -1,3 +1,19 @@\n+2012-01-17  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* configure.ac (BUILD_EPUB): Adjust for epub3.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Same.\n+\t* doc/Makefile.am (stamp-epub-docbook): Update for epub3.\n+\t* doc/Makefile.in: Regenerate.\n+\t* include/Makefile.in: Same.\n+\t* libsupc++/Makefile.in: Same.\n+\t* po/Makefile.in: Same.\n+\t* python/Makefile.in: Same.\n+\t* src/Makefile.in: Same.\n+\t* testsuite/Makefile.in: Same.\n+\n+\t* doc/xml/manual/documentation_hacking.xml: Update.\n+\n 2012-01-17  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \tPR target/47852"}, {"sha": "ba19d09fdb143434939975a12511296cb629bc5d", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -133,7 +133,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -189,7 +188,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "5b7cacfef7e091377a5ead329bf1b512ce513853", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 40, "deletions": 75, "changes": 115, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -620,8 +620,6 @@ ATOMIC_WORD_SRCDIR\n ATOMICITY_SRCDIR\n BUILD_EPUB_FALSE\n BUILD_EPUB_TRUE\n-DBTOEPUB\n-RUBY\n BUILD_PDF_FALSE\n BUILD_PDF_TRUE\n PDFLATEX\n@@ -11488,7 +11486,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11491 \"configure\"\n+#line 11489 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11594,7 +11592,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11597 \"configure\"\n+#line 11595 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -14952,7 +14950,7 @@ fi\n     #\n     # Fake what AC_TRY_COMPILE does.  XXX Look at redoing this new-style.\n     cat > conftest.$ac_ext << EOF\n-#line 14955 \"configure\"\n+#line 14953 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -15283,7 +15281,7 @@ $as_echo \"$glibcxx_cv_atomic_long_long\" >&6; }\n   # Fake what AC_TRY_COMPILE does.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15286 \"configure\"\n+#line 15284 \"configure\"\n int main()\n {\n   typedef bool atomic_type;\n@@ -15317,7 +15315,7 @@ $as_echo \"$glibcxx_cv_atomic_bool\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15320 \"configure\"\n+#line 15318 \"configure\"\n int main()\n {\n   typedef short atomic_type;\n@@ -15351,7 +15349,7 @@ $as_echo \"$glibcxx_cv_atomic_short\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15354 \"configure\"\n+#line 15352 \"configure\"\n int main()\n {\n   // NB: _Atomic_word not necessarily int.\n@@ -15386,7 +15384,7 @@ $as_echo \"$glibcxx_cv_atomic_int\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15389 \"configure\"\n+#line 15387 \"configure\"\n int main()\n {\n   typedef long long atomic_type;\n@@ -15462,7 +15460,7 @@ $as_echo \"$as_me: WARNING: Performance of certain classes will degrade as a resu\n   # unnecessary for this test.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15465 \"configure\"\n+#line 15463 \"configure\"\n int main()\n {\n   _Decimal32 d1;\n@@ -15504,7 +15502,7 @@ ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n   # unnecessary for this test.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15507 \"configure\"\n+#line 15505 \"configure\"\n template<typename T1, typename T2>\n   struct same\n   { typedef T2 type; };\n@@ -15538,7 +15536,7 @@ $as_echo \"$enable_int128\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15541 \"configure\"\n+#line 15539 \"configure\"\n template<typename T1, typename T2>\n   struct same\n   { typedef T2 type; };\n@@ -65827,7 +65825,7 @@ else\n fi\n \n \n-# Check for pdf/epub dependencies.\n+# Check for pdf dependencies.\n # Extract the first word of \"dblatex\", so it can be a program name with args.\n set dummy dblatex; ac_word=$2\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n@@ -65914,84 +65912,51 @@ else\n fi\n \n \n-# Extract the first word of \"ruby\", so it can be a program name with args.\n-set dummy ruby; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if test \"${ac_cv_prog_RUBY+set}\" = set; then :\n+# Check for epub dependencies.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for /usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl\" >&5\n+$as_echo_n \"checking for /usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl... \" >&6; }\n+if test \"${ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if test -n \"$RUBY\"; then\n-  ac_cv_prog_RUBY=\"$RUBY\" # Let the user override the test.\n+  test \"$cross_compiling\" = yes &&\n+  as_fn_error \"cannot check for file existence when cross compiling\" \"$LINENO\" 5\n+if test -r \"/usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl\"; then\n+  ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl=yes\n else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n-    ac_cv_prog_RUBY=\"yes\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-  test -z \"$ac_cv_prog_RUBY\" && ac_cv_prog_RUBY=\"no\"\n+  ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl=no\n fi\n fi\n-RUBY=$ac_cv_prog_RUBY\n-if test -n \"$RUBY\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $RUBY\" >&5\n-$as_echo \"$RUBY\" >&6; }\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" >&5\n+$as_echo \"$ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" >&6; }\n+if test \"x$ac_cv_file__usr_share_xml_docbook_stylesheet_docbook_xsl_ns_epub3_chunk_xsl\" = x\"\"yes; then :\n+  ac_cv_file_epub3_a=yes\n else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n+  ac_cv_file_epub3_a=no\n fi\n \n-\n-# Extract the first word of \"dbtoepub\", so it can be a program name with args.\n-set dummy dbtoepub; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if test \"${ac_cv_prog_DBTOEPUB+set}\" = set; then :\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for /usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl\" >&5\n+$as_echo_n \"checking for /usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl... \" >&6; }\n+if test \"${ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if test -n \"$DBTOEPUB\"; then\n-  ac_cv_prog_DBTOEPUB=\"$DBTOEPUB\" # Let the user override the test.\n+  test \"$cross_compiling\" = yes &&\n+  as_fn_error \"cannot check for file existence when cross compiling\" \"$LINENO\" 5\n+if test -r \"/usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl\"; then\n+  ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl=yes\n else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if { test -f \"$as_dir/$ac_word$ac_exec_ext\" && $as_test_x \"$as_dir/$ac_word$ac_exec_ext\"; }; then\n-    ac_cv_prog_DBTOEPUB=\"yes\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-  test -z \"$ac_cv_prog_DBTOEPUB\" && ac_cv_prog_DBTOEPUB=\"no\"\n+  ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl=no\n fi\n fi\n-DBTOEPUB=$ac_cv_prog_DBTOEPUB\n-if test -n \"$DBTOEPUB\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DBTOEPUB\" >&5\n-$as_echo \"$DBTOEPUB\" >&6; }\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" >&5\n+$as_echo \"$ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" >&6; }\n+if test \"x$ac_cv_file__usr_share_sgml_docbook_xsl_ns_stylesheets_epub3_chunk_xsl\" = x\"\"yes; then :\n+  ac_cv_file_epub3_b=yes\n else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n+  ac_cv_file_epub3_b=no\n fi\n \n-\n- if test $ac_cv_prog_RUBY = \"yes\" &&\n-\t       test $ac_cv_prog_DBTOEPUB = \"yes\"; then\n+ if test $ac_cv_file_epub3_a = \"yes\" ||\n+\t       test $ac_cv_file_epub3_b = \"yes\"; then\n   BUILD_EPUB_TRUE=\n   BUILD_EPUB_FALSE='#'\n else"}, {"sha": "1c62aeadb464f724f8ce0937c04d032b8abd7522", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -373,18 +373,21 @@ AM_CONDITIONAL(BUILD_MAN,\n \t       test $ac_cv_prog_DOXYGEN = \"yes\" &&\n \t       test $ac_cv_prog_DOT = \"yes\")\n \n-# Check for pdf/epub dependencies.\n+# Check for pdf dependencies.\n AC_CHECK_PROG([DBLATEX], dblatex, yes, no)\n AC_CHECK_PROG([PDFLATEX], pdflatex, yes, no)\n AM_CONDITIONAL(BUILD_PDF,\n \t       test $ac_cv_prog_DBLATEX = \"yes\" &&\n \t       test $ac_cv_prog_PDFLATEX = \"yes\")\n \n-AC_CHECK_PROG([RUBY], ruby, yes, no)\n-AC_CHECK_PROG([DBTOEPUB], dbtoepub, yes, no)\n+# Check for epub dependencies.\n+AC_CHECK_FILE(/usr/share/xml/docbook/stylesheet/docbook-xsl-ns/epub3/chunk.xsl,\n+\t      ac_cv_file_epub3_a=yes, ac_cv_file_epub3_a=no)\n+AC_CHECK_FILE(/usr/share/sgml/docbook/xsl-ns-stylesheets/epub3/chunk.xsl,\n+\t      ac_cv_file_epub3_b=yes, ac_cv_file_epub3_b=no)\n AM_CONDITIONAL(BUILD_EPUB,\n-\t       test $ac_cv_prog_RUBY = \"yes\" &&\n-\t       test $ac_cv_prog_DBTOEPUB = \"yes\")\n+\t       test $ac_cv_file_epub3_a = \"yes\" ||\n+\t       test $ac_cv_file_epub3_b = \"yes\")\n \n \n # Propagate the target-specific source directories through the build chain."}, {"sha": "0f7b2852bcbfd482d521e2a6bbab66fc4baa3c86", "filename": "libstdc++-v3/doc/Makefile.am", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.am?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -467,10 +467,11 @@ XSLT_PARAM = --param toc.section.depth 4\n XSL_FO_STYLE = $(XSL_STYLE_DIR)/fo/docbook.xsl\n XSL_HTML_STYLE = $(XSL_STYLE_DIR)/xhtml-1_1/chunk.xsl\n XSL_HTML_SINGLE_STYLE = $(XSL_STYLE_DIR)/xhtml-1_1/docbook.xsl\n-XSL_EPUB_STYLE = $(XSL_STYLE_DIR)/epub/docbook.xsl\n+XSL_EPUB_STYLE = $(XSL_STYLE_DIR)/epub3/chunk.xsl\n \n ${docbook_outdir}/epub:\n \tmkdir -p ${docbook_outdir}/epub\n+\tmkdir -p ${docbook_outdir}/epub/OEBPS/images\n \n ${docbook_outdir}/fo:\n \tmkdir -p ${docbook_outdir}/fo\n@@ -592,20 +593,25 @@ doc-texinfo-docbook: stamp-texinfo-docbook\n \n doc-info-docbook: stamp-info-docbook\n \n-# EPUB, via ruby + dbtoepub\n-# Can verify document with: epubcheck\n+# EPUB version 3\n+# http://sourceforge.net/projects/docbook/files/epub3/\n+# Can verify document with epubcheck\n manual_epub = ${docbook_outdir}/epub/libstdc++-manual.epub\n stamp-epub-docbook: stamp-xml-single-docbook ${docbook_outdir}/epub\n \t@echo \"Generating epub files...\"\n \tif [ ! -d \"${docbook_outdir}/images\" ]; then \\\n \t  $(LN_S) ${top_srcdir}/doc/xml/images ${docbook_outdir}/; \\\n \tfi\n-\t${XSL_STYLE_DIR}/epub/bin/dbtoepub -v -d -o ${manual_epub} ${set_xml}\n+\t$(XSLTPROC) $(XSLT_PARAM) $(XSLT_FLAGS) \\\n+\t--stringparam base.dir \"${docbook_outdir}/epub/OEBPS/\" \\\n+\t$(XSL_EPUB_STYLE) ${top_srcdir}/doc/xml/spine.xml\n+\t$(INSTALL_DATA)\t$(xml_images) ${docbook_outdir}/epub/OEBPS/images\n+\tzip -X0 ${manual_epub} ${docbook_outdir}/epub/mimetype\n+\tzip -r -X9 ${manual_epub} ${docbook_outdir}/epub/META-INF ${docbook_outdir}/epub/OEBPS\n \t$(STAMP) stamp-epub-docbook\n \n doc-epub-docbook: stamp-epub-docbook\n \n-\n # Performance doc and graph configuration.\n # Assumes pychart, beautiful soup installed.\n # Generates the plots/graph imagery for performance testing."}, {"sha": "7a5498e84e888a0176531cac92a68644fedf02fb", "filename": "libstdc++-v3/doc/Makefile.in", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -107,7 +107,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -163,7 +162,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@\n@@ -518,7 +516,7 @@ XSLT_PARAM = --param toc.section.depth 4\n XSL_FO_STYLE = $(XSL_STYLE_DIR)/fo/docbook.xsl\n XSL_HTML_STYLE = $(XSL_STYLE_DIR)/xhtml-1_1/chunk.xsl\n XSL_HTML_SINGLE_STYLE = $(XSL_STYLE_DIR)/xhtml-1_1/docbook.xsl\n-XSL_EPUB_STYLE = $(XSL_STYLE_DIR)/epub/docbook.xsl\n+XSL_EPUB_STYLE = $(XSL_STYLE_DIR)/epub3/chunk.xsl\n LINT_FLAGS = --debug --xinclude --noent --noblanks --noout\n SCHEMA_FLAGS = http://www.docbook.org/xml/5.0/dtd/docbook.dtd\n #SCHEMA_FLAGS = --nonet /usr/share/xml/docbook5/schema/dtd/5.0/docbook.dtd\n@@ -549,8 +547,9 @@ DB2TEXI_FLAGS = \\\n \t--string-param explicit-node-names=true\n \n \n-# EPUB, via ruby + dbtoepub\n-# Can verify document with: epubcheck\n+# EPUB version 3\n+# http://sourceforge.net/projects/docbook/files/epub3/\n+# Can verify document with epubcheck\n manual_epub = ${docbook_outdir}/epub/libstdc++-manual.epub\n \n # Performance doc and graph configuration.\n@@ -871,6 +870,7 @@ doc-man-doxygen: stamp-man-doxygen\n \n ${docbook_outdir}/epub:\n \tmkdir -p ${docbook_outdir}/epub\n+\tmkdir -p ${docbook_outdir}/epub/OEBPS/images\n \n ${docbook_outdir}/fo:\n \tmkdir -p ${docbook_outdir}/fo\n@@ -965,7 +965,12 @@ stamp-epub-docbook: stamp-xml-single-docbook ${docbook_outdir}/epub\n \tif [ ! -d \"${docbook_outdir}/images\" ]; then \\\n \t  $(LN_S) ${top_srcdir}/doc/xml/images ${docbook_outdir}/; \\\n \tfi\n-\t${XSL_STYLE_DIR}/epub/bin/dbtoepub -v -d -o ${manual_epub} ${set_xml}\n+\t$(XSLTPROC) $(XSLT_PARAM) $(XSLT_FLAGS) \\\n+\t--stringparam base.dir \"${docbook_outdir}/epub/OEBPS/\" \\\n+\t$(XSL_EPUB_STYLE) ${top_srcdir}/doc/xml/spine.xml\n+\t$(INSTALL_DATA)\t$(xml_images) ${docbook_outdir}/epub/OEBPS/images\n+\tzip -X0 ${manual_epub} ${docbook_outdir}/epub/mimetype\n+\tzip -r -X9 ${manual_epub} ${docbook_outdir}/epub/META-INF ${docbook_outdir}/epub/OEBPS\n \t$(STAMP) stamp-epub-docbook\n \n doc-epub-docbook: stamp-epub-docbook"}, {"sha": "2fe7692148a86a923bee6d6855c76345b6b21052", "filename": "libstdc++-v3/doc/xml/manual/documentation_hacking.xml", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdocumentation_hacking.xml", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdocumentation_hacking.xml", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fdoc%2Fxml%2Fmanual%2Fdocumentation_hacking.xml?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -611,6 +611,12 @@\n       <entry>info output</entry>\n     </row>\n \n+    <row>\n+      <entry>epub3 stylesheets</entry>\n+      <entry>b3</entry>\n+      <entry>epub output</entry>\n+    </row>\n+\n   </tbody>\n </tgroup>\n </table>\n@@ -675,6 +681,10 @@\n \tFor Texinfo output, something that transforms valid Docbook\n \tXML to Texinfo is required. The default choice is <link xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"http://docbook2x.sourceforge.net/\">docbook2X</link>.\n       </para>\n+\n+      <para>\n+\tFor epub output, the <link xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:href=\"http://sourceforge.net/projects/docbook/files/epub3/\">stylesheets</link> for EPUB3 are required. These stylesheets are still in development. To validate the created file, <link xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:href=\"https://code.google.com/p/epubcheck/\">epubcheck</link> is necessary.\n+      </para>\n     </section>\n \n     <section xml:id=\"docbook.rules\"><info><title>Generating the DocBook Files</title></info>"}, {"sha": "a50b628275688bb3d006970073a035ff1b8f96c7", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -107,7 +107,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -163,7 +162,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "e5af706be414cdca648bc8c9595d59b1a9be8940", "filename": "libstdc++-v3/libsupc++/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -167,7 +167,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -223,7 +222,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "e428385a75761600f72336fb4aef2c1db8e57310", "filename": "libstdc++-v3/po/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fpo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpo%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -107,7 +107,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -163,7 +162,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "2948f873dcb1d331ef07b50184894fc99fc46964", "filename": "libstdc++-v3/python/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fpython%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fpython%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fpython%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -131,7 +131,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -187,7 +186,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "ef4d0a2f1e3f4fbd8e5d5713efdfca721cbae3a9", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -171,7 +171,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -227,7 +226,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}, {"sha": "b56c639bbcc5bf2a75acf4303fd54fecfbcd3a1a", "filename": "libstdc++-v3/testsuite/Makefile.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/43fe49ecf1a85a42557d9fc9d54c4043f9863cb5/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2FMakefile.in?ref=43fe49ecf1a85a42557d9fc9d54c4043f9863cb5", "patch": "@@ -107,7 +107,6 @@ CXXFLAGS = @CXXFLAGS@\n CYGPATH_W = @CYGPATH_W@\n C_INCLUDE_DIR = @C_INCLUDE_DIR@\n DBLATEX = @DBLATEX@\n-DBTOEPUB = @DBTOEPUB@\n DEBUG_FLAGS = @DEBUG_FLAGS@\n DEFS = @DEFS@\n DOT = @DOT@\n@@ -163,7 +162,6 @@ PACKAGE_VERSION = @PACKAGE_VERSION@\n PATH_SEPARATOR = @PATH_SEPARATOR@\n PDFLATEX = @PDFLATEX@\n RANLIB = @RANLIB@\n-RUBY = @RUBY@\n SECTION_FLAGS = @SECTION_FLAGS@\n SECTION_LDFLAGS = @SECTION_LDFLAGS@\n SED = @SED@"}]}