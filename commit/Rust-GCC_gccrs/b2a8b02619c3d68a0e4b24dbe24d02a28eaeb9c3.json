{"sha": "b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjJhOGIwMjYxOWMzZDY4YTBlNGIyNGRiZTI0ZDAyYTI4ZWFlYjljMw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-05-14T07:56:57Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-05-14T07:56:57Z"}, "message": "regrename.c (regrename_optimize): Do not rename registers to leaf registers.\n\n\t* regrename.c (regrename_optimize): Do not rename registers to\n\tleaf registers.\n\nFrom-SVN: r42066", "tree": {"sha": "e9d214dd905064681b051c7df69f6a9502e74d23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9d214dd905064681b051c7df69f6a9502e74d23"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3/comments", "author": null, "committer": null, "parents": [{"sha": "ce29729adfaf82fa599537c3e085cda1edc4ed2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce29729adfaf82fa599537c3e085cda1edc4ed2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce29729adfaf82fa599537c3e085cda1edc4ed2f"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "2ab87036652ae2569535bd9e32c195719a910943", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "patch": "@@ -1,3 +1,8 @@\n+2001-05-14  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* regrename.c (regrename_optimize): Do not rename registers to\n+\tleaf registers.\n+\n 2001-05-14  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* rtl.texi (CALL_INSN_FUNCTION_USAGE): Note that (and when) it may"}, {"sha": "bad6624f59d07ab2e74142880b77e44dbbee87dd", "filename": "gcc/regrename.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3/gcc%2Fregrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3/gcc%2Fregrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregrename.c?ref=b2a8b02619c3d68a0e4b24dbe24d02a28eaeb9c3", "patch": "@@ -292,6 +292,12 @@ regrename_optimize ()\n \t\t    /* Can't use regs which aren't saved by the prologue.  */\n \t\t    || (! regs_ever_live[new_reg + i]\n \t\t\t&& ! call_used_regs[new_reg + i])\n+#ifdef LEAF_REGISTERS\n+\t\t    /* We can't use a non-leaf register if we're in a \n+\t\t       leaf function.  */\n+\t\t    || (current_function_is_leaf \n+\t\t\t&& !LEAF_REGISTERS[new_reg + i])\n+#endif\n #ifdef HARD_REGNO_RENAME_OK\n \t\t    || ! HARD_REGNO_RENAME_OK (reg + i, new_reg + i)\n #endif"}]}