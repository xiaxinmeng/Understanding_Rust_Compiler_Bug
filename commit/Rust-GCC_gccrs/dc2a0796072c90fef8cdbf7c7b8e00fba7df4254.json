{"sha": "dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGMyYTA3OTYwNzJjOTBmZWY4Y2RiZjdjN2I4ZTAwZmJhN2RmNDI1NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2006-10-08T01:13:03Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2006-10-08T01:13:03Z"}, "message": "PR libstdc++/28277 (partial: money_get bits)\n\n2006-10-07  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR libstdc++/28277 (partial: money_get bits)\n\t* include/bits/locale_facets.tcc (money_get<>::do_get(iter_type,\n\titer_type, bool, ios_base&, ios_base::iostate&, string_type&)):\n\tAvoid __builtin_alloca with no limit, do the work in place.\n\nFrom-SVN: r117549", "tree": {"sha": "8ad6d6f1966026b9126ae4a123dd600763a62979", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ad6d6f1966026b9126ae4a123dd600763a62979"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254/comments", "author": null, "committer": null, "parents": [{"sha": "bcec65390e8dc99914ec6d8f763c3aaffb6d80b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcec65390e8dc99914ec6d8f763c3aaffb6d80b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcec65390e8dc99914ec6d8f763c3aaffb6d80b7"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "9c5b039550aad4b3553d74f3e13650057bd48e32", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "patch": "@@ -1,3 +1,10 @@\n+2006-10-07  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR libstdc++/28277 (partial: money_get bits)\n+\t* include/bits/locale_facets.tcc (money_get<>::do_get(iter_type,\n+\titer_type, bool, ios_base&, ios_base::iostate&, string_type&)):\n+\tAvoid __builtin_alloca with no limit, do the work in place.\n+\n 2006-10-07  Ion Gaztanaga  <igaztanaga@gmail.com>\n \t    Paolo Carlini  <pcarlini@suse.de>\n "}, {"sha": "789df493c5ce9ae41a5a273717e9b9066f22ec05", "filename": "libstdc++-v3/include/bits/locale_facets.tcc", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc2a0796072c90fef8cdbf7c7b8e00fba7df4254/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Flocale_facets.tcc?ref=dc2a0796072c90fef8cdbf7c7b8e00fba7df4254", "patch": "@@ -1565,7 +1565,7 @@ _GLIBCXX_BEGIN_LDBL_NAMESPACE\n     _InIter\n     money_get<_CharT, _InIter>::\n     do_get(iter_type __beg, iter_type __end, bool __intl, ios_base& __io,\n-\t   ios_base::iostate& __err, string_type& __units) const\n+\t   ios_base::iostate& __err, string_type& __digits) const\n     {\n       typedef typename string::size_type                  size_type;\n \n@@ -1580,10 +1580,8 @@ _GLIBCXX_BEGIN_LDBL_NAMESPACE\n       const size_type __len = __str.size();\n       if (__len)\n \t{\n-\t  _CharT* __ws = static_cast<_CharT*>(__builtin_alloca(sizeof(_CharT)\n-\t\t\t\t\t\t\t       * __len));\n-\t  __ctype.widen(__str.data(), __str.data() + __len, __ws);\n-\t  __units.assign(__ws, __len);\n+\t  __digits.resize(__len);\n+\t  __ctype.widen(__str.data(), __str.data() + __len, &__digits[0]);\n \t}\n \n       return __ret;"}]}