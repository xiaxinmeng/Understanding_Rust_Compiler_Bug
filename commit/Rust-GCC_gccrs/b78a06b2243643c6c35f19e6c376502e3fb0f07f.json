{"sha": "b78a06b2243643c6c35f19e6c376502e3fb0f07f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjc4YTA2YjIyNDM2NDNjNmMzNWYxOWU2YzM3NjUwMmUzZmIwZjA3Zg==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael.morin@sfr.fr", "date": "2011-10-07T19:07:04Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-07T19:07:04Z"}, "message": "resolve.c (compare_spec_to_ref): Move coarray ref initialization code...\n\n\t* resolve.c (compare_spec_to_ref): Move coarray ref initialization\n\tcode...\n\t(resolve_array_ref): ... here.\n\nFrom-SVN: r179672", "tree": {"sha": "4484b37cc6f30939957be06c67569533a2d60394", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4484b37cc6f30939957be06c67569533a2d60394"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b78a06b2243643c6c35f19e6c376502e3fb0f07f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b78a06b2243643c6c35f19e6c376502e3fb0f07f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b78a06b2243643c6c35f19e6c376502e3fb0f07f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b78a06b2243643c6c35f19e6c376502e3fb0f07f/comments", "author": null, "committer": null, "parents": [{"sha": "266edc7e8384f879fd938981cf86ad17166251b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/266edc7e8384f879fd938981cf86ad17166251b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/266edc7e8384f879fd938981cf86ad17166251b0"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "4c0888f237f963ac476b27fd58a3356dacd14169", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b78a06b2243643c6c35f19e6c376502e3fb0f07f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b78a06b2243643c6c35f19e6c376502e3fb0f07f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b78a06b2243643c6c35f19e6c376502e3fb0f07f", "patch": "@@ -1,3 +1,9 @@\n+2011-10-07  Mikael Morin  <mikael.morin@sfr.fr>\n+\n+\t* resolve.c (compare_spec_to_ref): Move coarray ref initialization\n+\tcode...\n+\t(resolve_array_ref): ... here.\n+\n 2011-10-07  Mikael Morin  <mikael.morin@sfr.fr>\n \n \t* check.c (is_coarray): Remove."}, {"sha": "e6770db07ab090d8de47d1b80bdd36e2c2dd48fa", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b78a06b2243643c6c35f19e6c376502e3fb0f07f/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b78a06b2243643c6c35f19e6c376502e3fb0f07f/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=b78a06b2243643c6c35f19e6c376502e3fb0f07f", "patch": "@@ -4396,14 +4396,6 @@ compare_spec_to_ref (gfc_array_ref *ar)\n \t  return FAILURE;\n       }\n \n-  if (as->corank && ar->codimen == 0)\n-    {\n-      int n;\n-      ar->codimen = as->corank;\n-      for (n = ar->dimen; n < ar->dimen + ar->codimen; n++)\n-\tar->dimen_type[n] = DIMEN_THIS_IMAGE;\n-    }\n-\n   return SUCCESS;\n }\n \n@@ -4672,6 +4664,14 @@ resolve_array_ref (gfc_array_ref *ar)\n   if (!ar->as->cray_pointee && compare_spec_to_ref (ar) == FAILURE)\n     return FAILURE;\n \n+  if (ar->as->corank && ar->codimen == 0)\n+    {\n+      int n;\n+      ar->codimen = ar->as->corank;\n+      for (n = ar->dimen; n < ar->dimen + ar->codimen; n++)\n+\tar->dimen_type[n] = DIMEN_THIS_IMAGE;\n+    }\n+\n   return SUCCESS;\n }\n "}]}