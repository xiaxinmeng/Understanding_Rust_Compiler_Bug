{"sha": "28f527c9598339cf834a30b5ee1f14258b8ecbb2", "node_id": "C_kwDOANBUbNoAKDI4ZjUyN2M5NTk4MzM5Y2Y4MzRhMzBiNWVlMWYxNDI1OGI4ZWNiYjI", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-09-23T19:20:34Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-09-24T16:20:21Z"}, "message": "Merge commit '2961ac45b9e19523958757e607d11c5893d6368b' [#247]", "tree": {"sha": "9d43a69d857eb3ea5f4bced292059b56986c984b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d43a69d857eb3ea5f4bced292059b56986c984b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28f527c9598339cf834a30b5ee1f14258b8ecbb2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f527c9598339cf834a30b5ee1f14258b8ecbb2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f527c9598339cf834a30b5ee1f14258b8ecbb2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f527c9598339cf834a30b5ee1f14258b8ecbb2/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1eb4d0d3bad1a7faa7f1734837562aea71575740", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1eb4d0d3bad1a7faa7f1734837562aea71575740", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1eb4d0d3bad1a7faa7f1734837562aea71575740"}, {"sha": "2961ac45b9e19523958757e607d11c5893d6368b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2961ac45b9e19523958757e607d11c5893d6368b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2961ac45b9e19523958757e607d11c5893d6368b"}], "stats": {"total": 1040159, "additions": 668942, "deletions": 371217}, "files": [{"sha": "fa031cbded9909889dbe4442182a8ae9721b6c29", "filename": ".dir-locals.el", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/.dir-locals.el", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/.dir-locals.el", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/.dir-locals.el?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -17,7 +17,7 @@\n ((tcl-mode . ((tcl-indent-level . 4)\n \t      (tcl-continued-indent-level . 4)\n \t      (indent-tabs-mode . t)))\n- (nil . ((bug-reference-url-format . \"http://gcc.gnu.org/PR%s\")))\n+ (nil . ((bug-reference-url-format . \"https://gcc.gnu.org/PR%s\")))\n  (c-mode . ((c-file-style . \"GNU\")\n \t    (indent-tabs-mode . t)\n-\t    (fill-column . 80))))\n+\t    (fill-column . 79))))"}, {"sha": "5ff87221590c135f6ca416f70dafd27566ded0a1", "filename": ".gitignore", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/.gitignore", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/.gitignore", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/.gitignore?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -32,6 +32,7 @@ POTFILES\n \n TAGS\n TAGS.sub\n+cscope.out\n \n .local.vimrc\n .lvimrc"}, {"sha": "b59d82dc4e8c82c06c8443403c8ac35f578148da", "filename": "ChangeLog", "status": "modified", "additions": 198, "deletions": 0, "changes": 198, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,3 +1,201 @@\n+2021-09-16  Andrew Pinski  <apinski@marvell.com>\n+\n+\tPR bootstrap/67102\n+\t* Makefile.def: Have configure-target-libffi depend on\n+\tall-target-libstdc++-v3.\n+\t* Makefile.in: Regenerate.\n+\n+2021-09-10  Petter Tomner  <tomner@kth.se>\n+\n+\t* MAINTAINERS: Me added to DCO and write after approval\n+\n+2021-09-01  YunQiang Su  <syq@debian.org>\n+\n+\t* MAINTAINERS: Add myself for write after approval.\n+\n+2021-08-31  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* Makefile.def: Add all-gdb dependency on all-libbacktrace.\n+\t* Makefile.in: Regenerate.\n+\n+2021-08-21  Dragan Mladjenovic  <Dragan.Mladjenovic@syrmia.com>\n+\n+\t* MAINTAINERS: Add myself for write after approval.\n+\n+2021-08-18  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* Makefile.in: Regenerate.\n+\t* Makefile.tpl: Make the state of the configured host\n+\tshared flag available to makefile fragements.\n+\n+2021-08-09  Hongyu Wang  <hongyu.wang@intel.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-07-20  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* .dir-locals.el (bug-reference-url-format): Use https.\n+\n+2021-07-20  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* .dir-locals.el (c-mode): Change fill-column to 79.\n+\n+2021-07-15  Trevor Saunders  <tbsaunde@tbsaunde.org>\n+\n+\t* MAINTAINERS: Add myself to DCO section.\n+\n+2021-07-09  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* configure: Regenerate.\n+\t* configure.ac: Adjust cases for which it is necessary to\n+\tinclude the Darwin host config fragment.\n+\n+2021-07-06  Gaius Mulley  <gaius.mulley@southwales.ac.uk>\n+\n+\t* MAINTAINERS: Add myself for write after approval and DCO.\n+\n+2021-07-05  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* Makefile.def: Add dsymutil defs.\n+\t* Makefile.in: Regenerated.\n+\t* Makefile.tpl: Add dsymutil to flags.\n+\t* configure: Regenerated.\n+\t* configure.ac: Add dsymutil to target and build recipes.\n+\n+2021-07-01  Ankur Saini  <arsenic@sourceware.org>\n+\n+\t* MAINTAINERS: Add myself for write after approval.\n+\n+2021-06-30  Xi Ruoyao  <xry111@mengyan1223.wang>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-06-25  Matthias Kretz  <m.kretz@gsi.de>\n+\n+\t* MAINTAINERS: Add myself for write after approval and DCO\n+\n+2021-06-24  prathamesh.kulkarni  <prathamesh.kulkarni@linaro.org>\n+\n+\t* .gitignore: Add entry for cscope.out.\n+\n+2021-06-22  liuhongt  <hongtao.liu@intel.com>\n+\n+\t* MAINTAINERS: Remove my Write After Approval entry.\n+\n+2021-06-21  liuhongt  <hongtao.liu@intel.com>\n+\n+\t* MAINTAINERS: Add myself as maintainer of the i386 vector\n+\textensions.\n+\n+2021-06-18  Antoni Boucher  <bouanto@zoho.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-06-17  Aldy Hernandez  <aldyh@redhat.com>\n+\n+\t* MAINTAINERS (Various Maintainers): Add Andrew and myself\n+\tas *vrp and ranger maintainers.\n+\n+2021-06-05  Jeff Law  <jeffreyalaw@gmail.com>\n+\n+\t* MAINTAINERS: Adjust my entry in the DCO section so that it does\n+\tnot trigger testsuite failures.\n+\n+2021-06-05  Jeff Law  <jeffreyalaw@gmail.com>\n+\n+\t* MAINTAINERS: Add myself to DCO section with both email addresses.\n+\n+2021-06-03  Jason Merrill  <jason@redhat.com>\n+\n+\t* MAINTAINERS: Add DCO version number.\n+\n+2021-06-02  Jason Merrill  <jason@redhat.com>\n+\n+\t* MAINTAINERS: Add DCO section.\n+\n+2021-05-31  Indu Bhagat  <indu.bhagat@oracle.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-05-29  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* configure.ac: Add gnulib to configdirs for sim.\n+\t* configure: Regenerate.\n+\n+2021-05-18  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* Makefile.def: Add configure-sim dependency on all-gnulib.\n+\t* Makefile.in: Regenerated.\n+\n+2021-05-17  Serge Belyshev  <belyshev@depni.sinp.msu.ru>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-05-12  Marcel Vollweiler  <marcel@codesourcery.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-05-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* MAINTAINERS: Remove entries for removed\n+\tcomponents (HSA, BRIG, libhsail-rt).\n+\tMove Pekka to Write After Approval.\n+\n+2021-05-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* Makefile.def: Remove libhsail-rt.\n+\t* Makefile.in: Likewise.\n+\t* configure.ac: Likewise.\n+\t* configure: Regenerate.\n+\t* libhsail-rt/ChangeLog: Removed.\n+\t* libhsail-rt/Makefile.am: Removed.\n+\t* libhsail-rt/Makefile.in: Removed.\n+\t* libhsail-rt/README: Removed.\n+\t* libhsail-rt/aclocal.m4: Removed.\n+\t* libhsail-rt/configure: Removed.\n+\t* libhsail-rt/configure.ac: Removed.\n+\t* libhsail-rt/configure.tgt: Removed.\n+\t* libhsail-rt/include/internal/fibers.h: Removed.\n+\t* libhsail-rt/include/internal/phsa-queue-interface.h: Removed.\n+\t* libhsail-rt/include/internal/phsa-rt.h: Removed.\n+\t* libhsail-rt/include/internal/workitems.h: Removed.\n+\t* libhsail-rt/rt/arithmetic.c: Removed.\n+\t* libhsail-rt/rt/atomics.c: Removed.\n+\t* libhsail-rt/rt/bitstring.c: Removed.\n+\t* libhsail-rt/rt/fbarrier.c: Removed.\n+\t* libhsail-rt/rt/fibers.c: Removed.\n+\t* libhsail-rt/rt/fp16.c: Removed.\n+\t* libhsail-rt/rt/misc.c: Removed.\n+\t* libhsail-rt/rt/multimedia.c: Removed.\n+\t* libhsail-rt/rt/queue.c: Removed.\n+\t* libhsail-rt/rt/sat_arithmetic.c: Removed.\n+\t* libhsail-rt/rt/segment.c: Removed.\n+\t* libhsail-rt/rt/workitems.c: Removed.\n+\t* libhsail-rt/target-config.h.in: Removed.\n+\n+2021-05-04  Nick Clifton  <nickc@redhat.com>\n+\n+\t* configure.ac (AC_PROG_CC): Replace with AC_PROG_CC_C99.\n+\t* configure: Regenerate.\n+\n+2021-04-28  Jakub Jelinek  <jakub@redhat.com>\n+\t    Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* configure.ac (--enable-offload-defaulted): New.\n+\t* configure: Regenerate.\n+\n+2021-04-23  David Faust  <david.faust@oracle.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-04-11  Hafiz Abid Qadeer  <abidh@codesourcery.com>\n+\n+\t* MAINTAINERS (Write After Approval): Add myself.\n+\n+2021-03-26  Dimitar Dimitrov  <dimitar@dinux.eu>\n+\n+\t* MAINTAINERS: Add myself as pru port maintainer.\n+\n 2021-03-23  David Malcolm  <dmalcolm@redhat.com>\n \n \t* MAINTAINERS: Add myself as static analyzer maintainer."}, {"sha": "1c2f3a1d8303257c19f98701a144f90a585c00e9", "filename": "MAINTAINERS", "status": "modified", "additions": 34, "deletions": 7, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/MAINTAINERS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/MAINTAINERS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/MAINTAINERS?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -74,6 +74,7 @@ hppa port\t\tJohn David Anglin\t<dave.anglin@bell.net>\n i386 port\t\tJan Hubicka\t\t<hubicka@ucw.cz>\n i386 port\t\tUros Bizjak\t\t<ubizjak@gmail.com>\n i386 vector ISA extns\tKirill Yukhin\t\t<kirill.yukhin@gmail.com>\n+i386 vector ISA extns\tHongtao Liu\t\t<hongtao.liu@intel.com>\n iq2000 port\t\tNick Clifton\t\t<nickc@redhat.com>\n lm32 port\t\tSebastien Bourdeauducq\t<sebastien@milkymist.org>\n m32r port\t\tNick Clifton\t\t<nickc@redhat.com>\n@@ -96,6 +97,7 @@ nvptx port\t\tTom de Vries\t\t<tdevries@suse.de>\n or1k port\t\tStafford Horne\t\t<shorne@gmail.com>\n pdp11 port\t\tPaul Koning\t\t<ni1d@arrl.net>\n powerpcspe port\t\tAndrew Jenner\t\t<andrew@codesourcery.com>\n+pru port\t\tDimitar Dimitrov\t<dimitar@dinux.eu>\n riscv port\t\tKito Cheng\t\t<kito.cheng@gmail.com>\n riscv port\t\tPalmer Dabbelt\t\t<palmer@dabbelt.com>\n riscv port\t\tAndrew Waterman\t\t<andrew@sifive.com>\n@@ -149,8 +151,6 @@ C front end/ISO C99\tJoseph Myers\t\t<joseph@codesourcery.com>\n Ada front end\t\tArnaud Charlet\t\t<charlet@adacore.com>\n Ada front end\t\tEric Botcazou\t\t<ebotcazou@libertysurf.fr>\n Ada front end\t\tPierre-Marie de Rodat\t<derodat@adacore.com>\n-BRIG (HSAIL) front end\tPekka J\u00e4\u00e4skel\u00e4inen\t<pekka.jaaskelainen@parmance.com>\n-BRIG (HSAIL) front end \tMartin Jambor\t\t<mjambor@suse.cz>\n c++\t\t\tJason Merrill\t\t<jason@redhat.com>\n c++\t\t\tNathan Sidwell\t\t<nathan@acm.org>\n D front end\t\tIain Buclaw\t\t<ibuclaw@gdcproject.org>\n@@ -176,8 +176,6 @@ libobjc\t\t\tAndrew Pinski\t\t<pinskia@gmail.com>\n libquadmath\t\tTobias Burnus\t\t<tobias@codesourcery.com>\n libquadmath\t\tJakub Jelinek\t\t<jakub@redhat.com>\n libvtv\t\t\tCaroline Tice\t\t<cmtice@google.com>\n-libhsail-rt\t\tPekka J\u00e4\u00e4skel\u00e4inen\t<pekka.jaaskelainen@parmance.com>\n-libhsail-rt\t\tMartin Jambor\t\t<mjambor@suse.cz>\n libphobos\t\tIain Buclaw\t\t<ibuclaw@gdcproject.org>\n line map\t\tDodji Seketeli\t\t<dodji@redhat.com>\n soft-fp\t\t\tJoseph Myers\t\t<joseph@codesourcery.com>\n@@ -203,7 +201,6 @@ fixincludes\t\tBruce Korb\t\t<bkorb@gnu.org>\n *gimpl*\t\t\tJason Merrill\t\t<jason@redhat.com>\n gcse.c\t\t\tJeff Law\t\t<jeffreyalaw@gmail.com>\n global opt framework\tJeff Law\t\t<jeffreyalaw@gmail.com>\n-hsa\t\t\tMartin Jambor\t\t<mjambor@suse.cz>\n jump.c\t\t\tDavid S. Miller\t\t<davem@redhat.com>\n web pages\t\tGerald Pfeifer\t\t<gerald@pfeifer.com>\n config.sub/config.guess\tBen Elliston\t\t<config-patches@gnu.org>\n@@ -228,6 +225,8 @@ option handling\t\tJoseph Myers\t\t<joseph@codesourcery.com>\n middle-end\t\tJeff Law\t\t<jeffreyalaw@gmail.com>\n middle-end\t\tIan Lance Taylor\t<ian@airs.com>\n middle-end\t\tRichard Biener\t\t<rguenther@suse.de>\n+*vrp, ranger\t\tAldy Hernandez\t\t<aldyh@redhat.com>\n+*vrp, ranger\t\tAndrew MacLeod\t\t<amacleod@redhat.com>\n tree-ssa\t\tAndrew MacLeod\t\t<amacleod@redhat.com>\n tree browser/unparser\tSebastian Pop\t\t<sebpop@gmail.com>\n scev, data dependence\tSebastian Pop\t\t<sebpop@gmail.com>\n@@ -321,12 +320,14 @@ Gerg\u00f6 Barany\t\t\t\t\t<gergo@codesourcery.com>\n Charles Baylis\t\t\t\t\t<charles.baylis@linaro.org>\n Tejas Belagod\t\t\t\t\t<tejas.belagod@arm.com>\n Matthew Beliveau\t\t\t\t<mbelivea@redhat.com>\n+Serge Belyshev\t\t\t\t\t<belyshev@depni.sinp.msu.ru>\n Jon Beniston\t\t\t\t\t<jon@beniston.com>\n Andrew Bennett\t\t\t\t\t<andrew.bennett@imgtec.com>\n Andrew Benson\t\t\t\t\t<abensonca@gmail.com>\n Daniel Berlin\t\t\t\t\t<dberlin@dberlin.org>\n Pat Bernardi\t\t\t\t\t<bernardi@adacore.com>\n Jan Beulich\t\t\t\t\t<jbeulich@novell.com>\n+Indu Bhagat\t\t\t\t\t<indu.bhagat@oracle.com>\n David Billinghurst\t\t\t\t<David.Billinghurst@riotinto.com>\n Tomas Bily\t\t\t\t\t<tbily@suse.cz>\n Laurynas Biveinis\t\t\t\t<laurynas.biveinis@gmail.com>\n@@ -337,6 +338,7 @@ Lynn Boger\t\t\t\t\t<laboger@linux.vnet.ibm.com>\n Ian Bolton\t\t\t\t\t<ian.bolton@arm.com>\n Andrea Bona\t\t\t\t\t<andrea.bona@st.com>\n Neil Booth\t\t\t\t\t<neil@daikokuya.co.uk>\n+Antoni Boucher\t\t\t\t\t<bouanto@zoho.com>\n Robert Bowdidge\t\t\t\t\t<bowdidge@apple.com>\n Joel Brobecker\t\t\t\t\t<brobecker@gnat.com>\n Dave Brolley\t\t\t\t\t<brolley@redhat.com>\n@@ -372,7 +374,6 @@ Bud Davis\t\t\t\t\t<jmdavis@link.com>\n Chris Demetriou\t\t\t\t\t<cgd@google.com>\n Sameera Deshpande\t\t\t\t<sameera.deshpande@linaro.org>\n Wilco Dijkstra\t\t\t\t\t<wdijkstr@arm.com>\n-Dimitar Dimitrov\t\t\t\t<dimitar@dinux.eu>\n Benoit Dupont de Dinechin\t\t\t<benoit.dupont-de-dinechin@st.com>\n Jason Eckhardt\t\t\t\t\t<jle@rice.edu>\n Bernd Edlinger\t\t\t\t\t<bernd.edlinger@hotmail.de>\n@@ -387,6 +388,7 @@ Doug Evans\t\t\t\t\t<dje@google.com>\n Chris Fairles\t\t\t\t\t<cfairles@gcc.gnu.org>\n Alessandro Fanfarillo\t\t\t\t<fanfarillo.gcc@gmail.com>\n Changpeng Fang\t\t\t\t\t<changpeng.fang@amd.com>\n+David Faust\t\t\t\t\t<david.faust@oracle.com>\n Li Feng\t\t\t\t\t\t<nemokingdom@gmail.com>\n Thomas Fitzsimmons\t\t\t\t<fitzsim@redhat.com>\n Alexander Fomin\t\t\t\t\t<afomin.mailbox@gmail.com>\n@@ -448,6 +450,7 @@ Mihail Ionescu\t\t\t\t\t<mihail.ionescu@arm.com>\n Vladislav Ivanishin\t\t\t\t<vlad@ispras.ru>\n Alexander Ivchenko\t\t\t\t<aivchenk@gmail.com>\n Balaji V. Iyer\t\t\t\t\t<bviyer@gmail.com>\n+Pekka J\u00e4\u00e4skel\u00e4inen\t\t\t\t<pekka.jaaskelainen@parmance.com>\n Daniel Jacobowitz\t\t\t\t<drow@false.org>\n Andreas Jaeger\t\t\t\t\t<aj@suse.de>\n Harsha Jagasia\t\t\t\t\t<harsha.jagasia@amd.com>\n@@ -469,9 +472,9 @@ Nicolas Koenig\t\t\t\t\t<koenigni@student.ethz.ch>\n Boris Kolpackov\t\t\t\t\t<boris@codesynthesis.com>\n Dave Korn\t\t\t\t\t<dave.korn.cygwin@gmail.com>\n Julia Koval\t\t\t\t\t<julia.koval@intel.com>\n-Hongtao Liu\t\t\t\t\t<hongtao.liu@intel.com>\n Matt Kraai\t\t\t\t\t<kraai@ftbfs.org>\n Jan Kratochvil\t\t\t\t\t<jan.kratochvil@redhat.com>\n+Matthias Kretz\t\t\t\t\t<m.kretz@gsi.de>\n Louis Krupp\t\t\t\t\t<louis.krupp@zoho.com>\n Prathamesh Kulkarni\t\t\t\t<prathamesh.kulkarni@linaro.org>\n Venkataramanan Kumar\t\t\t\t<venkataramanan.kumar@amd.com>\n@@ -528,12 +531,14 @@ Bingfeng Mei\t\t\t\t\t<bmei@broadcom.com>\n Jim Meyering\t\t\t\t\t<jim@meyering.net>\n Martin Michlmayr\t\t\t\t<tbm@cyrius.com>\n Lee Millward\t\t\t\t\t<lee.millward@gmail.com>\n+Dragan Mladjenovic\t\t\t\t<Dragan.Mladjenovic@syrmia.com>\n Alan Modra\t\t\t\t\t<amodra@gmail.com>\n Catherine Moore\t\t\t\t\t<clm@codesourcery.com>\n James A. Morrison\t\t\t\t<phython@gcc.gnu.org>\n Brooks Moses\t\t\t\t\t<bmoses@google.com>\n Dirk Mueller\t\t\t\t\t<dmueller@suse.de>\n Phil Muldoon\t\t\t\t\t<pmuldoon@redhat.com>\n+Gaius Mulley\t\t\t\t\t<gaius.mulley@southwales.ac.uk>\n Steven Munroe\t\t\t\t\t<munroesj52@gmail.com>\n Jun Ma\t\t\t\t\t\t<junma@linux.alibaba.com>\n Szabolcs Nagy\t\t\t\t\t<szabolcs.nagy@arm.com>\n@@ -568,6 +573,7 @@ Siddhesh Poyarekar\t\t\t\t<siddhesh@sourceware.org>\n Vidya Praveen\t\t\t\t\t<vidyapraveen@arm.com>\n Thomas Preud'homme\t\t\t\t<thomas.preudhomme@celest.fr>\n Vladimir Prus\t\t\t\t\t<vladimir@codesourcery.com>\n+Hafiz Abid Qadeer\t\t\t\t<abidh@codesourcery.com>\n Yao Qi\t\t\t\t\t\t<yao@codesourcery.com>\n Jerry Quinn\t\t\t\t\t<jlquinn@optonline.net>\n Easwaran Raman\t\t\t\t\t<eraman@google.com>\n@@ -586,6 +592,7 @@ Eugene Rozenfeld\t\t\t\t<erozen@microsoft.com>\n Maciej W. Rozycki\t\t\t\t<macro@orcam.me.uk>\n Silvius Rus\t\t\t\t\t<rus@google.com>\n Matthew Sachs\t\t\t\t\t<msachs@apple.com>\n+Ankur Saini\t\t\t\t\t<arsenic@sourceware.org>\n Hariharan Sandanagobalane\t\t\t<hariharan.gcc@gmail.com>\n Duncan Sands\t\t\t\t\t<baldrick@gcc.gnu.org>\n Sujoy Saraswati\t\t\t\t\t<sujoy.saraswati@hpe.com>\n@@ -628,6 +635,7 @@ Dinar Temirbulatov\t\t\t\t<dtemirbulatov@gmail.com>\n Kresten Krab Thorup\t\t\t\t<krab@gcc.gnu.org>\n Kai Tietz\t\t\t\t\t<ktietz70@googlemail.com>\n Ilya Tocar\t\t\t\t\t<tocarip@gmail.com>\n+Petter Tomner\t\t\t\t\t<tomner@kth.se>\n Philipp Tomsich\t\t\t\t\t<philipp.tomsich@vrull.eu>\n Daniel Towner\t\t\t\t\t<dant@picochip.com>\n Konrad Trifunovic\t\t\t\t<konrad.trifunovic@inria.fr>\n@@ -645,9 +653,11 @@ Ilya Verbin\t\t\t\t\t<iverbin@gmail.com>\n Andre Vieira\t\t\t\t\t<andre.simoesdiasvieira@arm.com>\n Rasmus Villemoes\t\t\t\t<rv@rasmusvillemoes.dk>\n Kugan Vivekanandarajah\t\t\t\t<kuganv@linaro.org>\n+Marcel Vollweiler\t\t\t\t<marcel@codesourcery.com>\n Ville Voutilainen\t\t\t\t<ville.voutilainen@gmail.com>\n Nenad Vukicevic\t\t\t\t\t<nenad@intrepid.com>\n Feng Wang\t\t\t\t\t<fengwang@nudt.edu.cn>\n+Hongyu Wang\t\t\t\t\t<hongyu.wang@intel.com>\n Jiong Wang\t\t\t\t\t<jiong.wang@arm.com>\n Stephen M. Webb\t\t\t\t\t<stephen.webb@bregmasoft.com>\n John Wehle\t\t\t\t\t<john@feith.com>\n@@ -661,6 +671,7 @@ Przemyslaw Wirkus\t\t\t\t<przemyslaw.wirkus@arm.com>\n Carlo Wood\t\t\t\t\t<carlo@alinoe.com>\n Jackson Woodruff\t\t\t\t<jackson.woodruff@arm.com>\n Jonathan Wright\t\t\t\t\t<jonathan.wright@arm.com>\n+Ruoyao Xi\t\t\t\t\t<xry111@mengyan1223.wang>\n Mingjie Xing\t\t\t\t\t<mingjie.xing@gmail.com>\n Chenghua Xu\t\t\t\t\t<paul.hua.gm@gmail.com>\n Canqun Yang\t\t\t\t\t<canqun@nudt.edu.cn>\n@@ -678,9 +689,25 @@ Shujing Zhao\t\t\t\t\t<pearly.zhao@oracle.com>\n Jon Ziegler\t\t\t\t\t<jonz@apple.com>\n Roman Zippel\t\t\t\t\t<zippel@linux-m68k.org>\n Josef Zlomek\t\t\t\t\t<josef.zlomek@email.cz>\n+YunQiang Su\t\t\t\t\t<yunqiang.su@cipunited.com>\n \n \t\t\tBug database only accounts\n \n James Dennett\t\t\t\t\t<jdennett@acm.org>\n Christian Ehrhardt\t\t\t\t<ehrhardt@mathematik.uni-ulm.de>\n Dara Hazeghi\t\t\t\t\t<dhazeghi@yahoo.com>\n+\n+\t\t\tContributing under the DCO\n+\n+By adding your name and email to this section, you certify that all your\n+subsequent contributions to GCC are made under the terms of the Developer's\n+Certificate of Origin Version 1.1.  See https://gcc.gnu.org/dco.html for more\n+information.\n+\n+\n+ Matthias Kretz\t\t\t\t\t<m.kretz@gsi.de>\n+ Jeff Law\t\t\t\t\t<jeffreyalaw@gmail.com>\n+ Jeff Law\t\t\t\t\t<jlaw@tachyum.com>\n+ Gaius Mulley\t\t\t\t\t<gaius.mulley@southwales.ac.uk>\n+ Trevor Saunders\t\t\t\t<tbsaunde+gcc@tbsaunde.org>\n+ Petter Tomner\t\t\t\t\t<tomner@kth.se>\n\\ No newline at end of file"}, {"sha": "1a619112f89a78462f699702d9eabbe81aef5ff7", "filename": "Makefile.def", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -166,7 +166,6 @@ target_modules = { module= libquadmath; };\n target_modules = { module= libgfortran; };\n target_modules = { module= libobjc; };\n target_modules = { module= libgo; };\n-target_modules = { module= libhsail-rt; };\n target_modules = { module= libphobos;\n \t\t   lib_path=src/.libs; };\n target_modules = { module= libtermcap; no_check=true;\n@@ -292,6 +291,7 @@ flags_to_pass = { flag= CFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= CPPFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= CXXFLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= DLLTOOL_FOR_TARGET ; };\n+flags_to_pass = { flag= DSYMUTIL_FOR_TARGET ; };\n flags_to_pass = { flag= FLAGS_FOR_TARGET ; };\n flags_to_pass = { flag= GFORTRAN_FOR_TARGET ; };\n flags_to_pass = { flag= GOC_FOR_TARGET ; };\n@@ -423,6 +423,7 @@ dependencies = { module=all-gdb; on=all-sim; };\n dependencies = { module=all-gdb; on=all-libdecnumber; };\n dependencies = { module=all-gdb; on=all-libtermcap; };\n dependencies = { module=all-gdb; on=all-libctf; };\n+dependencies = { module=all-gdb; on=all-libbacktrace; };\n \n // Host modules specific to gdbserver.\n dependencies = { module=configure-gdbserver; on=all-gnulib; };\n@@ -541,6 +542,7 @@ dependencies = { module=install-strip-sid; on=install-strip-tcl; };\n dependencies = { module=install-sid; on=install-tk; };\n dependencies = { module=install-strip-sid; on=install-strip-tk; };\n \n+dependencies = { module=configure-sim; on=all-gnulib; };\n dependencies = { module=configure-sim; on=configure-intl; };\n dependencies = { module=all-sim; on=all-intl; };\n dependencies = { module=all-sim; on=all-libiberty; };\n@@ -590,6 +592,7 @@ dependencies = { module=configure-target-fastjar; on=configure-target-zlib; };\n dependencies = { module=all-target-fastjar; on=all-target-zlib; };\n dependencies = { module=configure-target-libgo; on=configure-target-libffi; };\n dependencies = { module=configure-target-libgo; on=all-target-libstdc++-v3; };\n+dependencies = { module=configure-target-libffi; on=all-target-libstdc++-v3; };\n dependencies = { module=all-target-libgo; on=all-target-libbacktrace; };\n dependencies = { module=all-target-libgo; on=all-target-libffi; };\n dependencies = { module=all-target-libgo; on=all-target-libatomic; };\n@@ -651,10 +654,9 @@ languages = { language=obj-c++;\tgcc-check-target=check-obj-c++; };\n languages = { language=go;\tgcc-check-target=check-go;\n \t\t\t\tlib-check-target=check-target-libgo;\n \t\t\t\tlib-check-target=check-gotools; };\n-languages = { language=brig;\tgcc-check-target=check-brig;\n-\t\t\t\tlib-check-target=check-target-libhsail-rt; };\n languages = { language=d;\tgcc-check-target=check-d;\n \t\t\t\tlib-check-target=check-target-libphobos; };\n+languages = { language=jit;\tgcc-check-target=check-jit; };\n languages = { language=rust;\tgcc-check-target=check-rust; };\n \n // Toplevel bootstrap"}, {"sha": "2ca5f1fdd9a3c522dd3255ebf5a8cb4fc06be566", "filename": "Makefile.in", "status": "modified", "additions": 24, "deletions": 489, "changes": 513, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -109,6 +109,9 @@ RPATH_ENVVAR = @RPATH_ENVVAR@\n # executables in PATH.\n GCC_SHLIB_SUBDIR = @GCC_SHLIB_SUBDIR@\n \n+# If the build should make suitable code for shared host resources.\n+host_shared = @host_shared@\n+\n # Build programs are put under this directory.\n BUILD_SUBDIR = @build_subdir@\n # This is set by the configure script to the arguments to use when configuring\n@@ -159,6 +162,7 @@ BUILD_EXPORTS = \\\n \tGDC=\"$(GDC_FOR_BUILD)\"; export GDC; \\\n \tGDCFLAGS=\"$(GDCFLAGS_FOR_BUILD)\"; export GDCFLAGS; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_BUILD)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL_FOR_BUILD)\"; export DSYMUTIL; \\\n \tLD=\"$(LD_FOR_BUILD)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_BUILD)\"; export LDFLAGS; \\\n \tNM=\"$(NM_FOR_BUILD)\"; export NM; \\\n@@ -200,6 +204,7 @@ HOST_EXPORTS = \\\n \tCC_FOR_BUILD=\"$(CC_FOR_BUILD)\"; export CC_FOR_BUILD; \\\n \tCXX_FOR_BUILD=\"$(CXX_FOR_BUILD)\"; export CXX_FOR_BUILD; \\\n \tDLLTOOL=\"$(DLLTOOL)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL)\"; export DSYMUTIL; \\\n \tLD=\"$(LD)\"; export LD; \\\n \tLDFLAGS=\"$(STAGE1_LDFLAGS) $(LDFLAGS)\"; export LDFLAGS; \\\n \tNM=\"$(NM)\"; export NM; \\\n@@ -212,6 +217,7 @@ HOST_EXPORTS = \\\n \tREADELF=\"$(READELF)\"; export READELF; \\\n \tAR_FOR_TARGET=\"$(AR_FOR_TARGET)\"; export AR_FOR_TARGET; \\\n \tAS_FOR_TARGET=\"$(AS_FOR_TARGET)\"; export AS_FOR_TARGET; \\\n+\tDSYMUTIL_FOR_TARGET=\"$(DSYMUTIL_FOR_TARGET)\"; export DSYMUTIL_FOR_TARGET; \\\n \tGCC_FOR_TARGET=\"$(GCC_FOR_TARGET)\"; export GCC_FOR_TARGET; \\\n \tLD_FOR_TARGET=\"$(LD_FOR_TARGET)\"; export LD_FOR_TARGET; \\\n \tNM_FOR_TARGET=\"$(NM_FOR_TARGET)\"; export NM_FOR_TARGET; \\\n@@ -294,6 +300,7 @@ BASE_TARGET_EXPORTS = \\\n \tGOC=\"$(GOC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GOC; \\\n \tGDC=\"$(GDC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GDC; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_TARGET)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL_FOR_TARGET)\"; export DSYMUTIL; \\\n \tLD=\"$(COMPILER_LD_FOR_TARGET)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_TARGET)\"; export LDFLAGS; \\\n \tLIPO=\"$(LIPO_FOR_TARGET)\"; export LIPO; \\\n@@ -356,6 +363,7 @@ CFLAGS_FOR_BUILD = @CFLAGS_FOR_BUILD@\n CXXFLAGS_FOR_BUILD = @CXXFLAGS_FOR_BUILD@\n CXX_FOR_BUILD = @CXX_FOR_BUILD@\n DLLTOOL_FOR_BUILD = @DLLTOOL_FOR_BUILD@\n+DSYMUTIL_FOR_BUILD = @DSYMUTIL_FOR_BUILD@\n GFORTRAN_FOR_BUILD = @GFORTRAN_FOR_BUILD@\n GOC_FOR_BUILD = @GOC_FOR_BUILD@\n GDC_FOR_BUILD = @GDC_FOR_BUILD@\n@@ -406,6 +414,7 @@ AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n DLLTOOL = @DLLTOOL@\n+DSYMUTIL = @DSYMUTIL@\n LD = @LD@\n LIPO = @LIPO@\n NM = @NM@\n@@ -596,6 +605,7 @@ GFORTRAN_FOR_TARGET=$(STAGE_CC_WRAPPER) @GFORTRAN_FOR_TARGET@\n GOC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GOC_FOR_TARGET@\n GDC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GDC_FOR_TARGET@\n DLLTOOL_FOR_TARGET=@DLLTOOL_FOR_TARGET@\n+DSYMUTIL_FOR_TARGET=@DSYMUTIL_FOR_TARGET@\n LD_FOR_TARGET=@LD_FOR_TARGET@\n \n LIPO_FOR_TARGET=@LIPO_FOR_TARGET@\n@@ -814,6 +824,7 @@ BASE_FLAGS_TO_PASS = \\\n \t\"CPPFLAGS_FOR_TARGET=$(CPPFLAGS_FOR_TARGET)\" \\\n \t\"CXXFLAGS_FOR_TARGET=$(CXXFLAGS_FOR_TARGET)\" \\\n \t\"DLLTOOL_FOR_TARGET=$(DLLTOOL_FOR_TARGET)\" \\\n+\t\"DSYMUTIL_FOR_TARGET=$(DSYMUTIL_FOR_TARGET)\" \\\n \t\"FLAGS_FOR_TARGET=$(FLAGS_FOR_TARGET)\" \\\n \t\"GFORTRAN_FOR_TARGET=$(GFORTRAN_FOR_TARGET)\" \\\n \t\"GOC_FOR_TARGET=$(GOC_FOR_TARGET)\" \\\n@@ -889,6 +900,7 @@ EXTRA_HOST_FLAGS = \\\n \t'CC=$(CC)' \\\n \t'CXX=$(CXX)' \\\n \t'DLLTOOL=$(DLLTOOL)' \\\n+\t'DSYMUTIL=$(DSYMUTIL)' \\\n \t'GFORTRAN=$(GFORTRAN)' \\\n \t'GOC=$(GOC)' \\\n \t'GDC=$(GDC)' \\\n@@ -947,6 +959,7 @@ EXTRA_TARGET_FLAGS = \\\n \t $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'CXXFLAGS=$$(CXXFLAGS_FOR_TARGET)' \\\n \t'DLLTOOL=$$(DLLTOOL_FOR_TARGET)' \\\n+\t'DSYMUTIL=$$(DSYMUTIL_FOR_TARGET)' \\\n \t'GFORTRAN=$$(GFORTRAN_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOC=$$(GOC_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOCFLAGS=$$(GOCFLAGS_FOR_TARGET)' \\\n@@ -1058,7 +1071,6 @@ configure-target:  \\\n     maybe-configure-target-libgfortran \\\n     maybe-configure-target-libobjc \\\n     maybe-configure-target-libgo \\\n-    maybe-configure-target-libhsail-rt \\\n     maybe-configure-target-libphobos \\\n     maybe-configure-target-libtermcap \\\n     maybe-configure-target-winsup \\\n@@ -1231,7 +1243,6 @@ all-target: maybe-all-target-libquadmath\n all-target: maybe-all-target-libgfortran\n all-target: maybe-all-target-libobjc\n all-target: maybe-all-target-libgo\n-all-target: maybe-all-target-libhsail-rt\n all-target: maybe-all-target-libphobos\n all-target: maybe-all-target-libtermcap\n all-target: maybe-all-target-winsup\n@@ -1329,7 +1340,6 @@ info-target: maybe-info-target-libquadmath\n info-target: maybe-info-target-libgfortran\n info-target: maybe-info-target-libobjc\n info-target: maybe-info-target-libgo\n-info-target: maybe-info-target-libhsail-rt\n info-target: maybe-info-target-libphobos\n info-target: maybe-info-target-libtermcap\n info-target: maybe-info-target-winsup\n@@ -1420,7 +1430,6 @@ dvi-target: maybe-dvi-target-libquadmath\n dvi-target: maybe-dvi-target-libgfortran\n dvi-target: maybe-dvi-target-libobjc\n dvi-target: maybe-dvi-target-libgo\n-dvi-target: maybe-dvi-target-libhsail-rt\n dvi-target: maybe-dvi-target-libphobos\n dvi-target: maybe-dvi-target-libtermcap\n dvi-target: maybe-dvi-target-winsup\n@@ -1511,7 +1520,6 @@ pdf-target: maybe-pdf-target-libquadmath\n pdf-target: maybe-pdf-target-libgfortran\n pdf-target: maybe-pdf-target-libobjc\n pdf-target: maybe-pdf-target-libgo\n-pdf-target: maybe-pdf-target-libhsail-rt\n pdf-target: maybe-pdf-target-libphobos\n pdf-target: maybe-pdf-target-libtermcap\n pdf-target: maybe-pdf-target-winsup\n@@ -1602,7 +1610,6 @@ html-target: maybe-html-target-libquadmath\n html-target: maybe-html-target-libgfortran\n html-target: maybe-html-target-libobjc\n html-target: maybe-html-target-libgo\n-html-target: maybe-html-target-libhsail-rt\n html-target: maybe-html-target-libphobos\n html-target: maybe-html-target-libtermcap\n html-target: maybe-html-target-winsup\n@@ -1693,7 +1700,6 @@ TAGS-target: maybe-TAGS-target-libquadmath\n TAGS-target: maybe-TAGS-target-libgfortran\n TAGS-target: maybe-TAGS-target-libobjc\n TAGS-target: maybe-TAGS-target-libgo\n-TAGS-target: maybe-TAGS-target-libhsail-rt\n TAGS-target: maybe-TAGS-target-libphobos\n TAGS-target: maybe-TAGS-target-libtermcap\n TAGS-target: maybe-TAGS-target-winsup\n@@ -1784,7 +1790,6 @@ install-info-target: maybe-install-info-target-libquadmath\n install-info-target: maybe-install-info-target-libgfortran\n install-info-target: maybe-install-info-target-libobjc\n install-info-target: maybe-install-info-target-libgo\n-install-info-target: maybe-install-info-target-libhsail-rt\n install-info-target: maybe-install-info-target-libphobos\n install-info-target: maybe-install-info-target-libtermcap\n install-info-target: maybe-install-info-target-winsup\n@@ -1875,7 +1880,6 @@ install-pdf-target: maybe-install-pdf-target-libquadmath\n install-pdf-target: maybe-install-pdf-target-libgfortran\n install-pdf-target: maybe-install-pdf-target-libobjc\n install-pdf-target: maybe-install-pdf-target-libgo\n-install-pdf-target: maybe-install-pdf-target-libhsail-rt\n install-pdf-target: maybe-install-pdf-target-libphobos\n install-pdf-target: maybe-install-pdf-target-libtermcap\n install-pdf-target: maybe-install-pdf-target-winsup\n@@ -1966,7 +1970,6 @@ install-html-target: maybe-install-html-target-libquadmath\n install-html-target: maybe-install-html-target-libgfortran\n install-html-target: maybe-install-html-target-libobjc\n install-html-target: maybe-install-html-target-libgo\n-install-html-target: maybe-install-html-target-libhsail-rt\n install-html-target: maybe-install-html-target-libphobos\n install-html-target: maybe-install-html-target-libtermcap\n install-html-target: maybe-install-html-target-winsup\n@@ -2057,7 +2060,6 @@ installcheck-target: maybe-installcheck-target-libquadmath\n installcheck-target: maybe-installcheck-target-libgfortran\n installcheck-target: maybe-installcheck-target-libobjc\n installcheck-target: maybe-installcheck-target-libgo\n-installcheck-target: maybe-installcheck-target-libhsail-rt\n installcheck-target: maybe-installcheck-target-libphobos\n installcheck-target: maybe-installcheck-target-libtermcap\n installcheck-target: maybe-installcheck-target-winsup\n@@ -2148,7 +2150,6 @@ mostlyclean-target: maybe-mostlyclean-target-libquadmath\n mostlyclean-target: maybe-mostlyclean-target-libgfortran\n mostlyclean-target: maybe-mostlyclean-target-libobjc\n mostlyclean-target: maybe-mostlyclean-target-libgo\n-mostlyclean-target: maybe-mostlyclean-target-libhsail-rt\n mostlyclean-target: maybe-mostlyclean-target-libphobos\n mostlyclean-target: maybe-mostlyclean-target-libtermcap\n mostlyclean-target: maybe-mostlyclean-target-winsup\n@@ -2239,7 +2240,6 @@ clean-target: maybe-clean-target-libquadmath\n clean-target: maybe-clean-target-libgfortran\n clean-target: maybe-clean-target-libobjc\n clean-target: maybe-clean-target-libgo\n-clean-target: maybe-clean-target-libhsail-rt\n clean-target: maybe-clean-target-libphobos\n clean-target: maybe-clean-target-libtermcap\n clean-target: maybe-clean-target-winsup\n@@ -2330,7 +2330,6 @@ distclean-target: maybe-distclean-target-libquadmath\n distclean-target: maybe-distclean-target-libgfortran\n distclean-target: maybe-distclean-target-libobjc\n distclean-target: maybe-distclean-target-libgo\n-distclean-target: maybe-distclean-target-libhsail-rt\n distclean-target: maybe-distclean-target-libphobos\n distclean-target: maybe-distclean-target-libtermcap\n distclean-target: maybe-distclean-target-winsup\n@@ -2421,7 +2420,6 @@ maintainer-clean-target: maybe-maintainer-clean-target-libquadmath\n maintainer-clean-target: maybe-maintainer-clean-target-libgfortran\n maintainer-clean-target: maybe-maintainer-clean-target-libobjc\n maintainer-clean-target: maybe-maintainer-clean-target-libgo\n-maintainer-clean-target: maybe-maintainer-clean-target-libhsail-rt\n maintainer-clean-target: maybe-maintainer-clean-target-libphobos\n maintainer-clean-target: maybe-maintainer-clean-target-libtermcap\n maintainer-clean-target: maybe-maintainer-clean-target-winsup\n@@ -2568,7 +2566,6 @@ check-target:  \\\n     maybe-check-target-libgfortran \\\n     maybe-check-target-libobjc \\\n     maybe-check-target-libgo \\\n-    maybe-check-target-libhsail-rt \\\n     maybe-check-target-libphobos \\\n     maybe-check-target-libtermcap \\\n     maybe-check-target-winsup \\\n@@ -2761,7 +2758,6 @@ install-target:  \\\n     maybe-install-target-libgfortran \\\n     maybe-install-target-libobjc \\\n     maybe-install-target-libgo \\\n-    maybe-install-target-libhsail-rt \\\n     maybe-install-target-libphobos \\\n     maybe-install-target-libtermcap \\\n     maybe-install-target-winsup \\\n@@ -2872,7 +2868,6 @@ install-strip-target:  \\\n     maybe-install-strip-target-libgfortran \\\n     maybe-install-strip-target-libobjc \\\n     maybe-install-strip-target-libgo \\\n-    maybe-install-strip-target-libhsail-rt \\\n     maybe-install-strip-target-libphobos \\\n     maybe-install-strip-target-libtermcap \\\n     maybe-install-strip-target-winsup \\\n@@ -50752,464 +50747,6 @@ maintainer-clean-target-libgo:\n \n \n \n-.PHONY: configure-target-libhsail-rt maybe-configure-target-libhsail-rt\n-maybe-configure-target-libhsail-rt:\n-@if gcc-bootstrap\n-configure-target-libhsail-rt: stage_current\n-@endif gcc-bootstrap\n-@if target-libhsail-rt\n-maybe-configure-target-libhsail-rt: configure-target-libhsail-rt\n-configure-target-libhsail-rt: \n-\t@: $(MAKE); $(unstage)\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\techo \"Checking multilib configuration for libhsail-rt...\"; \\\n-\t$(SHELL) $(srcdir)/mkinstalldirs $(TARGET_SUBDIR)/libhsail-rt; \\\n-\t$(CC_FOR_TARGET) --print-multi-lib > $(TARGET_SUBDIR)/libhsail-rt/multilib.tmp 2> /dev/null; \\\n-\tif test -r $(TARGET_SUBDIR)/libhsail-rt/multilib.out; then \\\n-\t  if cmp -s $(TARGET_SUBDIR)/libhsail-rt/multilib.tmp $(TARGET_SUBDIR)/libhsail-rt/multilib.out; then \\\n-\t    rm -f $(TARGET_SUBDIR)/libhsail-rt/multilib.tmp; \\\n-\t  else \\\n-\t    rm -f $(TARGET_SUBDIR)/libhsail-rt/Makefile; \\\n-\t    mv $(TARGET_SUBDIR)/libhsail-rt/multilib.tmp $(TARGET_SUBDIR)/libhsail-rt/multilib.out; \\\n-\t  fi; \\\n-\telse \\\n-\t  mv $(TARGET_SUBDIR)/libhsail-rt/multilib.tmp $(TARGET_SUBDIR)/libhsail-rt/multilib.out; \\\n-\tfi; \\\n-\ttest ! -f $(TARGET_SUBDIR)/libhsail-rt/Makefile || exit 0; \\\n-\t$(SHELL) $(srcdir)/mkinstalldirs $(TARGET_SUBDIR)/libhsail-rt; \\\n-\t$(NORMAL_TARGET_EXPORTS)  \\\n-\techo Configuring in $(TARGET_SUBDIR)/libhsail-rt; \\\n-\tcd \"$(TARGET_SUBDIR)/libhsail-rt\" || exit 1; \\\n-\tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n-\t  *) topdir=`echo $(TARGET_SUBDIR)/libhsail-rt/ | \\\n-\t\tsed -e 's,\\./,,g' -e 's,[^/]*/,../,g' `$(srcdir) ;; \\\n-\tesac; \\\n-\tmodule_srcdir=libhsail-rt; \\\n-\trm -f no-such-file || : ; \\\n-\tCONFIG_SITE=no-such-file $(SHELL) \\\n-\t  $$s/$$module_srcdir/configure \\\n-\t  --srcdir=$${topdir}/$$module_srcdir \\\n-\t  $(TARGET_CONFIGARGS) --build=${build_alias} --host=${target_alias} \\\n-\t  --target=${target_alias}  \\\n-\t  || exit 1\n-@endif target-libhsail-rt\n-\n-\n-\n-\n-\n-.PHONY: all-target-libhsail-rt maybe-all-target-libhsail-rt\n-maybe-all-target-libhsail-rt:\n-@if gcc-bootstrap\n-all-target-libhsail-rt: stage_current\n-@endif gcc-bootstrap\n-@if target-libhsail-rt\n-TARGET-target-libhsail-rt=all\n-maybe-all-target-libhsail-rt: all-target-libhsail-rt\n-all-target-libhsail-rt: configure-target-libhsail-rt\n-\t@: $(MAKE); $(unstage)\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS)  \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) $(EXTRA_TARGET_FLAGS)   \\\n-\t\t$(TARGET-target-libhsail-rt))\n-@endif target-libhsail-rt\n-\n-\n-\n-\n-\n-.PHONY: check-target-libhsail-rt maybe-check-target-libhsail-rt\n-maybe-check-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-check-target-libhsail-rt: check-target-libhsail-rt\n-\n-check-target-libhsail-rt:\n-\t@: $(MAKE); $(unstage)\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(TARGET_FLAGS_TO_PASS)   check)\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: install-target-libhsail-rt maybe-install-target-libhsail-rt\n-maybe-install-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-install-target-libhsail-rt: install-target-libhsail-rt\n-\n-install-target-libhsail-rt: installdirs\n-\t@: $(MAKE); $(unstage)\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(TARGET_FLAGS_TO_PASS)  install)\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: install-strip-target-libhsail-rt maybe-install-strip-target-libhsail-rt\n-maybe-install-strip-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-install-strip-target-libhsail-rt: install-strip-target-libhsail-rt\n-\n-install-strip-target-libhsail-rt: installdirs\n-\t@: $(MAKE); $(unstage)\n-\t@r=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(TARGET_FLAGS_TO_PASS)  install-strip)\n-\n-@endif target-libhsail-rt\n-\n-# Other targets (info, dvi, pdf, etc.)\n-\n-.PHONY: maybe-info-target-libhsail-rt info-target-libhsail-rt\n-maybe-info-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-info-target-libhsail-rt: info-target-libhsail-rt\n-\n-info-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing info in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           info) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-dvi-target-libhsail-rt dvi-target-libhsail-rt\n-maybe-dvi-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-dvi-target-libhsail-rt: dvi-target-libhsail-rt\n-\n-dvi-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing dvi in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           dvi) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-pdf-target-libhsail-rt pdf-target-libhsail-rt\n-maybe-pdf-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-pdf-target-libhsail-rt: pdf-target-libhsail-rt\n-\n-pdf-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing pdf in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           pdf) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-html-target-libhsail-rt html-target-libhsail-rt\n-maybe-html-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-html-target-libhsail-rt: html-target-libhsail-rt\n-\n-html-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing html in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           html) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-TAGS-target-libhsail-rt TAGS-target-libhsail-rt\n-maybe-TAGS-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-TAGS-target-libhsail-rt: TAGS-target-libhsail-rt\n-\n-TAGS-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing TAGS in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           TAGS) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-install-info-target-libhsail-rt install-info-target-libhsail-rt\n-maybe-install-info-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-install-info-target-libhsail-rt: install-info-target-libhsail-rt\n-\n-install-info-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \\\n-    info-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing install-info in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           install-info) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-install-pdf-target-libhsail-rt install-pdf-target-libhsail-rt\n-maybe-install-pdf-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-install-pdf-target-libhsail-rt: install-pdf-target-libhsail-rt\n-\n-install-pdf-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \\\n-    pdf-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing install-pdf in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           install-pdf) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-install-html-target-libhsail-rt install-html-target-libhsail-rt\n-maybe-install-html-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-install-html-target-libhsail-rt: install-html-target-libhsail-rt\n-\n-install-html-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \\\n-    html-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing install-html in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           install-html) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-installcheck-target-libhsail-rt installcheck-target-libhsail-rt\n-maybe-installcheck-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-installcheck-target-libhsail-rt: installcheck-target-libhsail-rt\n-\n-installcheck-target-libhsail-rt: \\\n-    configure-target-libhsail-rt \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing installcheck in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           installcheck) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-mostlyclean-target-libhsail-rt mostlyclean-target-libhsail-rt\n-maybe-mostlyclean-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-mostlyclean-target-libhsail-rt: mostlyclean-target-libhsail-rt\n-\n-mostlyclean-target-libhsail-rt: \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing mostlyclean in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           mostlyclean) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-clean-target-libhsail-rt clean-target-libhsail-rt\n-maybe-clean-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-clean-target-libhsail-rt: clean-target-libhsail-rt\n-\n-clean-target-libhsail-rt: \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing clean in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           clean) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-distclean-target-libhsail-rt distclean-target-libhsail-rt\n-maybe-distclean-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-distclean-target-libhsail-rt: distclean-target-libhsail-rt\n-\n-distclean-target-libhsail-rt: \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing distclean in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           distclean) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-.PHONY: maybe-maintainer-clean-target-libhsail-rt maintainer-clean-target-libhsail-rt\n-maybe-maintainer-clean-target-libhsail-rt:\n-@if target-libhsail-rt\n-maybe-maintainer-clean-target-libhsail-rt: maintainer-clean-target-libhsail-rt\n-\n-maintainer-clean-target-libhsail-rt: \n-\t@: $(MAKE); $(unstage)\n-\t@[ -f $(TARGET_SUBDIR)/libhsail-rt/Makefile ] || exit 0; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(NORMAL_TARGET_EXPORTS) \\\n-\techo \"Doing maintainer-clean in $(TARGET_SUBDIR)/libhsail-rt\"; \\\n-\tfor flag in $(EXTRA_TARGET_FLAGS); do \\\n-\t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n-\tdone; \\\n-\t(cd $(TARGET_SUBDIR)/libhsail-rt && \\\n-\t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n-\t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n-\t          \"RANLIB=$${RANLIB}\" \\\n-\t          \"DLLTOOL=$${DLLTOOL}\" \"WINDRES=$${WINDRES}\" \"WINDMC=$${WINDMC}\" \\\n-\t           maintainer-clean) \\\n-\t  || exit 1\n-\n-@endif target-libhsail-rt\n-\n-\n-\n-\n-\n .PHONY: configure-target-libphobos maybe-configure-target-libphobos\n maybe-configure-target-libphobos:\n @if gcc-bootstrap\n@@ -57045,14 +56582,6 @@ check-gcc-go:\n \t(cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) check-go);\n check-go: check-gcc-go check-target-libgo check-gotools\n \n-.PHONY: check-gcc-brig check-brig\n-check-gcc-brig:\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\t$(HOST_EXPORTS) \\\n-\t(cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) check-brig);\n-check-brig: check-gcc-brig check-target-libhsail-rt\n-\n .PHONY: check-gcc-d check-d\n check-gcc-d:\n \tr=`${PWD_COMMAND}`; export r; \\\n@@ -57061,6 +56590,14 @@ check-gcc-d:\n \t(cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) check-d);\n check-d: check-gcc-d check-target-libphobos\n \n+.PHONY: check-gcc-jit check-jit\n+check-gcc-jit:\n+\tr=`${PWD_COMMAND}`; export r; \\\n+\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n+\t$(HOST_EXPORTS) \\\n+\t(cd gcc && $(MAKE) $(GCC_FLAGS_TO_PASS) check-jit);\n+check-jit: check-gcc-jit\n+\n .PHONY: check-gcc-rust check-rust\n check-gcc-rust:\n \tr=`${PWD_COMMAND}`; export r; \\\n@@ -60472,7 +60009,6 @@ configure-target-libquadmath: stage_last\n configure-target-libgfortran: stage_last\n configure-target-libobjc: stage_last\n configure-target-libgo: stage_last\n-configure-target-libhsail-rt: stage_last\n configure-target-libphobos: stage_last\n configure-target-libtermcap: stage_last\n configure-target-winsup: stage_last\n@@ -60507,7 +60043,6 @@ configure-target-libquadmath: maybe-all-gcc\n configure-target-libgfortran: maybe-all-gcc\n configure-target-libobjc: maybe-all-gcc\n configure-target-libgo: maybe-all-gcc\n-configure-target-libhsail-rt: maybe-all-gcc\n configure-target-libphobos: maybe-all-gcc\n configure-target-libtermcap: maybe-all-gcc\n configure-target-winsup: maybe-all-gcc\n@@ -61529,6 +61064,7 @@ install-sid: maybe-install-tcl\n install-strip-sid: maybe-install-strip-tcl\n install-sid: maybe-install-tk\n install-strip-sid: maybe-install-strip-tk\n+configure-sim: maybe-all-gnulib\n all-sim: maybe-all-readline\n all-fastjar: maybe-all-build-texinfo\n all-libctf: all-libiberty\n@@ -61717,6 +61253,7 @@ all-gdb: maybe-all-libiconv\n all-gdb: maybe-all-opcodes\n all-gdb: maybe-all-libdecnumber\n all-gdb: maybe-all-libctf\n+all-gdb: maybe-all-libbacktrace\n all-gdbserver: maybe-all-libiberty\n configure-gdbsupport: maybe-configure-intl\n all-gdbsupport: maybe-all-intl\n@@ -61740,6 +61277,7 @@ all-bison: maybe-all-intl\n all-flex: maybe-all-intl\n all-m4: maybe-all-intl\n configure-target-libgo: maybe-all-target-libstdc++-v3\n+configure-target-libffi: maybe-all-target-libstdc++-v3\n configure-target-liboffloadmic: maybe-configure-target-libgomp\n all-target-liboffloadmic: maybe-all-target-libgomp\n configure-target-newlib: maybe-all-binutils\n@@ -61802,7 +61340,6 @@ configure-target-libquadmath: maybe-all-target-libgcc\n configure-target-libgfortran: maybe-all-target-libgcc\n configure-target-libobjc: maybe-all-target-libgcc\n configure-target-libgo: maybe-all-target-libgcc\n-configure-target-libhsail-rt: maybe-all-target-libgcc\n configure-target-libphobos: maybe-all-target-libgcc\n configure-target-libtermcap: maybe-all-target-libgcc\n configure-target-winsup: maybe-all-target-libgcc\n@@ -61840,8 +61377,6 @@ configure-target-libobjc: maybe-all-target-newlib maybe-all-target-libgloss\n \n configure-target-libgo: maybe-all-target-newlib maybe-all-target-libgloss\n \n-configure-target-libhsail-rt: maybe-all-target-newlib maybe-all-target-libgloss\n-\n configure-target-libphobos: maybe-all-target-newlib maybe-all-target-libgloss\n \n configure-target-libtermcap: maybe-all-target-newlib maybe-all-target-libgloss"}, {"sha": "9adf4f947285a155c2865cfa7da00c746ffb796e", "filename": "Makefile.tpl", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -112,6 +112,9 @@ RPATH_ENVVAR = @RPATH_ENVVAR@\n # executables in PATH.\n GCC_SHLIB_SUBDIR = @GCC_SHLIB_SUBDIR@\n \n+# If the build should make suitable code for shared host resources.\n+host_shared = @host_shared@\n+\n # Build programs are put under this directory.\n BUILD_SUBDIR = @build_subdir@\n # This is set by the configure script to the arguments to use when configuring\n@@ -162,6 +165,7 @@ BUILD_EXPORTS = \\\n \tGDC=\"$(GDC_FOR_BUILD)\"; export GDC; \\\n \tGDCFLAGS=\"$(GDCFLAGS_FOR_BUILD)\"; export GDCFLAGS; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_BUILD)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL_FOR_BUILD)\"; export DSYMUTIL; \\\n \tLD=\"$(LD_FOR_BUILD)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_BUILD)\"; export LDFLAGS; \\\n \tNM=\"$(NM_FOR_BUILD)\"; export NM; \\\n@@ -203,6 +207,7 @@ HOST_EXPORTS = \\\n \tCC_FOR_BUILD=\"$(CC_FOR_BUILD)\"; export CC_FOR_BUILD; \\\n \tCXX_FOR_BUILD=\"$(CXX_FOR_BUILD)\"; export CXX_FOR_BUILD; \\\n \tDLLTOOL=\"$(DLLTOOL)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL)\"; export DSYMUTIL; \\\n \tLD=\"$(LD)\"; export LD; \\\n \tLDFLAGS=\"$(STAGE1_LDFLAGS) $(LDFLAGS)\"; export LDFLAGS; \\\n \tNM=\"$(NM)\"; export NM; \\\n@@ -215,6 +220,7 @@ HOST_EXPORTS = \\\n \tREADELF=\"$(READELF)\"; export READELF; \\\n \tAR_FOR_TARGET=\"$(AR_FOR_TARGET)\"; export AR_FOR_TARGET; \\\n \tAS_FOR_TARGET=\"$(AS_FOR_TARGET)\"; export AS_FOR_TARGET; \\\n+\tDSYMUTIL_FOR_TARGET=\"$(DSYMUTIL_FOR_TARGET)\"; export DSYMUTIL_FOR_TARGET; \\\n \tGCC_FOR_TARGET=\"$(GCC_FOR_TARGET)\"; export GCC_FOR_TARGET; \\\n \tLD_FOR_TARGET=\"$(LD_FOR_TARGET)\"; export LD_FOR_TARGET; \\\n \tNM_FOR_TARGET=\"$(NM_FOR_TARGET)\"; export NM_FOR_TARGET; \\\n@@ -297,6 +303,7 @@ BASE_TARGET_EXPORTS = \\\n \tGOC=\"$(GOC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GOC; \\\n \tGDC=\"$(GDC_FOR_TARGET) $(XGCC_FLAGS_FOR_TARGET) $$TFLAGS\"; export GDC; \\\n \tDLLTOOL=\"$(DLLTOOL_FOR_TARGET)\"; export DLLTOOL; \\\n+\tDSYMUTIL=\"$(DSYMUTIL_FOR_TARGET)\"; export DSYMUTIL; \\\n \tLD=\"$(COMPILER_LD_FOR_TARGET)\"; export LD; \\\n \tLDFLAGS=\"$(LDFLAGS_FOR_TARGET)\"; export LDFLAGS; \\\n \tLIPO=\"$(LIPO_FOR_TARGET)\"; export LIPO; \\\n@@ -359,6 +366,7 @@ CFLAGS_FOR_BUILD = @CFLAGS_FOR_BUILD@\n CXXFLAGS_FOR_BUILD = @CXXFLAGS_FOR_BUILD@\n CXX_FOR_BUILD = @CXX_FOR_BUILD@\n DLLTOOL_FOR_BUILD = @DLLTOOL_FOR_BUILD@\n+DSYMUTIL_FOR_BUILD = @DSYMUTIL_FOR_BUILD@\n GFORTRAN_FOR_BUILD = @GFORTRAN_FOR_BUILD@\n GOC_FOR_BUILD = @GOC_FOR_BUILD@\n GDC_FOR_BUILD = @GDC_FOR_BUILD@\n@@ -409,6 +417,7 @@ AR_FLAGS = rc\n CC = @CC@\n CXX = @CXX@\n DLLTOOL = @DLLTOOL@\n+DSYMUTIL = @DSYMUTIL@\n LD = @LD@\n LIPO = @LIPO@\n NM = @NM@\n@@ -519,6 +528,7 @@ GFORTRAN_FOR_TARGET=$(STAGE_CC_WRAPPER) @GFORTRAN_FOR_TARGET@\n GOC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GOC_FOR_TARGET@\n GDC_FOR_TARGET=$(STAGE_CC_WRAPPER) @GDC_FOR_TARGET@\n DLLTOOL_FOR_TARGET=@DLLTOOL_FOR_TARGET@\n+DSYMUTIL_FOR_TARGET=@DSYMUTIL_FOR_TARGET@\n LD_FOR_TARGET=@LD_FOR_TARGET@\n \n LIPO_FOR_TARGET=@LIPO_FOR_TARGET@\n@@ -644,6 +654,7 @@ EXTRA_HOST_FLAGS = \\\n \t'CC=$(CC)' \\\n \t'CXX=$(CXX)' \\\n \t'DLLTOOL=$(DLLTOOL)' \\\n+\t'DSYMUTIL=$(DSYMUTIL)' \\\n \t'GFORTRAN=$(GFORTRAN)' \\\n \t'GOC=$(GOC)' \\\n \t'GDC=$(GDC)' \\\n@@ -702,6 +713,7 @@ EXTRA_TARGET_FLAGS = \\\n \t $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'CXXFLAGS=$$(CXXFLAGS_FOR_TARGET)' \\\n \t'DLLTOOL=$$(DLLTOOL_FOR_TARGET)' \\\n+\t'DSYMUTIL=$$(DSYMUTIL_FOR_TARGET)' \\\n \t'GFORTRAN=$$(GFORTRAN_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOC=$$(GOC_FOR_TARGET) $$(XGCC_FLAGS_FOR_TARGET) $$(TFLAGS)' \\\n \t'GOCFLAGS=$$(GOCFLAGS_FOR_TARGET)' \\"}, {"sha": "fe606e52d3f0adb72fba0c0b7cb2903d321618e0", "filename": "c++tools/ChangeLog", "status": "modified", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,3 +1,51 @@\n+2021-09-14  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* resolver.cc (module_resolver::ModuleCompiledRequest):\n+\tAdd a simple handler.\n+\t* resolver.h: Declare handler for ModuleCompiledRequest.\n+\n+2021-07-21  Iain Sandoe  <iain@sandoe.co.uk>\n+\t    Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c++/98821\n+\t* config.h.in: Regenerate.\n+\t* configure: Regenerate.\n+\t* configure.ac: Configure using C++.  Pull logic to\n+\tdetect enabled checking modes; default to release\n+\tchecking.\n+\t* server.cc (AI_NUMERICSERV): Define a fallback value.\n+\t(gcc_assert): New.\n+\t(gcc_unreachable): New.\n+\t(fancy_abort): Only build when checking is enabled.\n+\n+2021-05-25  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/100731\n+\t* server.cc: Include <cstdlib>.\n+\n+2021-05-25  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* configure.ac (--enable-maintainer-mode): Fix typo and weird syntax.\n+\t* configure: Regenerate.\n+\n+2021-05-25  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* Makefile.in: Update copyright year.\n+\t* configure.ac: Likewise.\n+\t* resolver.cc: Likewise.\n+\t* resolver.h: Likewise.\n+\t* server.cc: Likewise.\n+\t(print_version): Update copyright notice date.\n+\n+2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* Makefile.in: Include also ../gcc folder.\n+\n+2021-04-01  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* resolver.h: Do not include std headers directly when\n+\tbuilding in GCC.\n+\n 2021-02-25  Nathan Sidwell  <nathan@acm.org>\n \n \t* server.cc: Use #if NETWORKING not #ifdef, to be consistent"}, {"sha": "83a6ae54c296afe00ec56e02df2ab0425708538b", "filename": "c++tools/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2FMakefile.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n # Makefile for c++tools\n-#   Copyright 2020 Free Software Foundation, Inc.\n+#   Copyright (C) 2020-2021 Free Software Foundation, Inc.\n #\n # This file is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -89,9 +89,9 @@ all::g++-mapper-server$(exeext)\n \n MAPPER.O := server.o resolver.o\n CODYLIB = ../libcody/libcody.a\n-CXXINC += -I$(srcdir)/../libcody -I$(srcdir)/../include -I$(srcdir)/../gcc -I.\n+CXXINC += -I$(srcdir)/../libcody -I$(srcdir)/../include -I$(srcdir)/../gcc -I. -I../gcc\n g++-mapper-server$(exeext): $(MAPPER.O) $(CODYLIB)\n-\t+$(CXX) $(LDFLAGS) $(PIEFLAG) -o $@ $^ $(VERSION.O) $(LIBIBERTY) $(NETLIBS)\n+\t+$(CXX) $(LDFLAGS) $(PIEFLAG) -o $@ $^ $(LIBIBERTY) $(NETLIBS)\n \n # copy to gcc dir so tests there can run\n all::../gcc/g++-mapper-server$(exeext)"}, {"sha": "410b2f7dab837c3491833d989f3f1d9a91b9af2b", "filename": "c++tools/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fconfig.h.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,8 @@\n /* config.h.in.  Generated from configure.ac by autoheader.  */\n \n+/* Define if you want assertions enabled. This is a cheap check. */\n+#undef ENABLE_ASSERT_CHECKING\n+\n /* Define if accept4 provided. */\n #undef HAVE_ACCEPT4\n "}, {"sha": "742816e42539149ace5883114168bd4422197176", "filename": "c++tools/configure", "status": "modified", "additions": 111, "deletions": 656, "changes": 767, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fconfigure?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -626,10 +626,7 @@ NETLIBS\n get_gcc_base_ver\n EGREP\n GREP\n-CPP\n-ac_ct_CC\n-CFLAGS\n-CC\n+CXXCPP\n PIEFLAG\n MAINTAINER\n CXX_AUX_TOOLS\n@@ -701,6 +698,7 @@ ac_user_opts='\n enable_option_checking\n enable_c___tools\n enable_maintainer_mode\n+enable_checking\n enable_default_pie\n with_gcc_major_version_only\n '\n@@ -713,9 +711,7 @@ LDFLAGS\n LIBS\n CPPFLAGS\n CCC\n-CC\n-CFLAGS\n-CPP'\n+CXXCPP'\n \n \n # Initialize some variables set by options.\n@@ -1332,6 +1328,10 @@ Optional Features:\n   --enable-maintainer-mode\n                           enable maintainer mode. Add rules to rebuild\n                           configurey bits\n+  --enable-checking[=LIST]\n+                          enable expensive run-time checks. With LIST, enable\n+                          only specific categories of checks. Categories are:\n+                          yes,no,all,none,release.\n   --enable-default-pie    enable Position Independent Executable as default\n \n Optional Packages:\n@@ -1348,9 +1348,7 @@ Some influential environment variables:\n   LIBS        libraries to pass to the linker, e.g. -l<library>\n   CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n               you have headers in a nonstandard directory <include dir>\n-  CC          C compiler command\n-  CFLAGS      C compiler flags\n-  CPP         C preprocessor\n+  CXXCPP      C++ preprocessor\n \n Use these variables to override the choices made by `configure' or to help\n it to find libraries and programs with nonstandard names/locations.\n@@ -1470,48 +1468,10 @@ fi\n \n } # ac_fn_cxx_try_compile\n \n-# ac_fn_c_try_compile LINENO\n-# --------------------------\n-# Try to compile conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_compile ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext\n-  if { { ac_try=\"$ac_compile\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_compile\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest.$ac_objext; then :\n-  ac_retval=0\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_compile\n-\n-# ac_fn_c_try_cpp LINENO\n-# ----------------------\n+# ac_fn_cxx_try_cpp LINENO\n+# ------------------------\n # Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_cpp ()\n+ac_fn_cxx_try_cpp ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if { { ac_try=\"$ac_cpp conftest.$ac_ext\"\n@@ -1530,7 +1490,7 @@ $as_echo \"$ac_try_echo\"; } >&5\n   fi\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; } > conftest.i && {\n-\t test -z \"$ac_c_preproc_warn_flag$ac_c_werror_flag\" ||\n+\t test -z \"$ac_cxx_preproc_warn_flag$ac_cxx_werror_flag\" ||\n \t test ! -s conftest.err\n        }; then :\n   ac_retval=0\n@@ -1543,14 +1503,14 @@ fi\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n   as_fn_set_status $ac_retval\n \n-} # ac_fn_c_try_cpp\n+} # ac_fn_cxx_try_cpp\n \n-# ac_fn_c_check_header_mongrel LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n+# ac_fn_cxx_check_header_mongrel LINENO HEADER VAR INCLUDES\n+# ---------------------------------------------------------\n # Tests whether HEADER exists, giving a warning if it cannot be compiled using\n # the include files in INCLUDES and setting the cache variable VAR\n # accordingly.\n-ac_fn_c_check_header_mongrel ()\n+ac_fn_cxx_check_header_mongrel ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if eval \\${$3+:} false; then :\n@@ -1571,7 +1531,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n $4\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_header_compiler=yes\n else\n   ac_header_compiler=no\n@@ -1587,7 +1547,7 @@ cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   ac_header_preproc=yes\n else\n   ac_header_preproc=no\n@@ -1597,7 +1557,7 @@ rm -f conftest.err conftest.i conftest.$ac_ext\n $as_echo \"$ac_header_preproc\" >&6; }\n \n # So?  What about this header?\n-case $ac_header_compiler:$ac_header_preproc:$ac_c_preproc_warn_flag in #((\n+case $ac_header_compiler:$ac_header_preproc:$ac_cxx_preproc_warn_flag in #((\n   yes:no: )\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&5\n $as_echo \"$as_me: WARNING: $2: accepted by the compiler, rejected by the preprocessor!\" >&2;}\n@@ -1630,13 +1590,13 @@ $as_echo \"$ac_res\" >&6; }\n fi\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n \n-} # ac_fn_c_check_header_mongrel\n+} # ac_fn_cxx_check_header_mongrel\n \n-# ac_fn_c_try_run LINENO\n-# ----------------------\n+# ac_fn_cxx_try_run LINENO\n+# ------------------------\n # Try to link conftest.$ac_ext, and return whether this succeeded. Assumes\n # that executables *can* be run.\n-ac_fn_c_try_run ()\n+ac_fn_cxx_try_run ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   if { { ac_try=\"$ac_link\"\n@@ -1672,13 +1632,13 @@ fi\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n   as_fn_set_status $ac_retval\n \n-} # ac_fn_c_try_run\n+} # ac_fn_cxx_try_run\n \n-# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n+# ac_fn_cxx_check_header_compile LINENO HEADER VAR INCLUDES\n+# ---------------------------------------------------------\n # Tests whether HEADER exists and can be compiled using the include files in\n # INCLUDES, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_compile ()\n+ac_fn_cxx_check_header_compile ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $2\" >&5\n@@ -1691,7 +1651,7 @@ else\n $4\n #include <$2>\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   eval \"$3=yes\"\n else\n   eval \"$3=no\"\n@@ -1703,12 +1663,12 @@ eval ac_res=\\$$3\n $as_echo \"$ac_res\" >&6; }\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n \n-} # ac_fn_c_check_header_compile\n+} # ac_fn_cxx_check_header_compile\n \n-# ac_fn_c_try_link LINENO\n-# -----------------------\n+# ac_fn_cxx_try_link LINENO\n+# -------------------------\n # Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_link ()\n+ac_fn_cxx_try_link ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n   rm -f conftest.$ac_objext conftest$ac_exeext\n@@ -1728,7 +1688,7 @@ $as_echo \"$ac_try_echo\"; } >&5\n   fi\n   $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n   test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n+\t test -z \"$ac_cxx_werror_flag\" ||\n \t test ! -s conftest.err\n        } && test -s conftest$ac_exeext && {\n \t test \"$cross_compiling\" = yes ||\n@@ -1749,7 +1709,7 @@ fi\n   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n   as_fn_set_status $ac_retval\n \n-} # ac_fn_c_try_link\n+} # ac_fn_cxx_try_link\n cat >config.log <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n@@ -2955,6 +2915,13 @@ done\n test -n \"$AUTOHEADER\" || AUTOHEADER=\"$MISSING autoheader\"\n \n \n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n+\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether to build C++ tools\" >&5\n $as_echo_n \"checking whether to build C++ tools... \" >&6; }\n   # Check whether --enable-c++-tools was given.\n@@ -2978,9 +2945,9 @@ else\n fi\n \n case \"$enable_maintainer_mode\" in\n-  (\"yes\") maintainer_mode=yes ;;\n-  (\"no\") maintainer=no ;;\n-  (*) as_fn_error $? \"unknown maintainer mode $enable_maintainer_mode\" \"$LINENO\" 5 ;;\n+  yes) maintainer_mode=yes ;;\n+  no) maintainer_mode=no ;;\n+  *) as_fn_error $? \"unknown maintainer mode $enable_maintainer_mode\" \"$LINENO\" 5 ;;\n esac\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking maintainer-mode\" >&5\n $as_echo_n \"checking maintainer-mode... \" >&6; }\n@@ -2989,556 +2956,48 @@ $as_echo \"$maintainer_mode\" >&6; }\n test \"$maintainer_mode\" = yes && MAINTAINER=yes\n \n \n-# Check whether --enable-default-pie was given.\n-# Check whether --enable-default-pie was given.\n-if test \"${enable_default_pie+set}\" = set; then :\n-  enableval=$enable_default_pie; PIEFLAG=-fPIE\n-else\n-  PIEFLAG=\n-fi\n-\n-\n-\n-# Check if O_CLOEXEC is defined by fcntl\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-if test -n \"$ac_tool_prefix\"; then\n-  # Extract the first word of \"${ac_tool_prefix}gcc\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}gcc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"${ac_tool_prefix}gcc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$ac_cv_prog_CC\"; then\n-  ac_ct_CC=$CC\n-  # Extract the first word of \"gcc\", so it can be a program name with args.\n-set dummy gcc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$ac_ct_CC\"; then\n-  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_CC=\"gcc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \"$ac_ct_CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n-$as_echo \"$ac_ct_CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-  if test \"x$ac_ct_CC\" = x; then\n-    CC=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-else\n-  CC=\"$ac_cv_prog_CC\"\n-fi\n+# Handle configuration of checking; for the tools in this directory we\n+# default to release checking and stricter checks do not change this.\n \n-if test -z \"$CC\"; then\n-          if test -n \"$ac_tool_prefix\"; then\n-    # Extract the first word of \"${ac_tool_prefix}cc\", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}cc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n+# Check whether --enable-checking was given.\n+if test \"${enable_checking+set}\" = set; then :\n+  enableval=$enable_checking; ac_checking_flags=\"${enableval}\"\n else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"${ac_tool_prefix}cc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n \n+# Default to checking.\n+ac_checking_flags=yes\n \n-  fi\n-fi\n-if test -z \"$CC\"; then\n-  # Extract the first word of \"cc\", so it can be a program name with args.\n-set dummy cc; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-  ac_prog_rejected=no\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    if test \"$as_dir/$ac_word$ac_exec_ext\" = \"/usr/ucb/cc\"; then\n-       ac_prog_rejected=yes\n-       continue\n-     fi\n-    ac_cv_prog_CC=\"cc\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-if test $ac_prog_rejected = yes; then\n-  # We found a bogon in the path, so make sure we never use it.\n-  set dummy $ac_cv_prog_CC\n-  shift\n-  if test $# != 0; then\n-    # We chose a different compiler from the bogus one.\n-    # However, it has the same basename, so the bogon will be chosen\n-    # first if we set CC to just the basename; use the full file name.\n-    shift\n-    ac_cv_prog_CC=\"$as_dir/$ac_word${1+' '}$@\"\n-  fi\n-fi\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \"$CC\"; then\n-  if test -n \"$ac_tool_prefix\"; then\n-  for ac_prog in cl.exe\n-  do\n-    # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\n-set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$CC\"; then\n-  ac_cv_prog_CC=\"$CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_CC=\"$ac_tool_prefix$ac_prog\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \"$CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CC\" >&5\n-$as_echo \"$CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n fi\n \n-\n-    test -n \"$CC\" && break\n-  done\n-fi\n-if test -z \"$CC\"; then\n-  ac_ct_CC=$CC\n-  for ac_prog in cl.exe\n-do\n-  # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n-$as_echo_n \"checking for $ac_word... \" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  if test -n \"$ac_ct_CC\"; then\n-  ac_cv_prog_ac_ct_CC=\"$ac_ct_CC\" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n+IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\"$IFS,\"\n+for check in release $ac_checking_flags\n do\n-  IFS=$as_save_IFS\n-  test -z \"$as_dir\" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_CC=\"$ac_prog\"\n-    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \"$ac_ct_CC\"; then\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\" >&5\n-$as_echo \"$ac_ct_CC\" >&6; }\n-else\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-fi\n-\n-\n-  test -n \"$ac_ct_CC\" && break\n-done\n-\n-  if test \"x$ac_ct_CC\" = x; then\n-    CC=\"\"\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\" >&5\n-$as_echo \"$as_me: WARNING: using cross tools not prefixed with host triplet\" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-fi\n-\n-fi\n-\n-\n-test -z \"$CC\" && { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"no acceptable C compiler found in \\$PATH\n-See \\`config.log' for more details\" \"$LINENO\" 5; }\n-\n-# Provide some information about the compiler.\n-$as_echo \"$as_me:${as_lineno-$LINENO}: checking for C compiler version\" >&5\n-set X $ac_compile\n-ac_compiler=$2\n-for ac_option in --version -v -V -qversion; do\n-  { { ac_try=\"$ac_compiler $ac_option >&5\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_compiler $ac_option >&5\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    sed '10a\\\n-... rest of stderr output deleted ...\n-         10q' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-  fi\n-  rm -f conftest.er1 conftest.err\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; }\n+\tcase $check in\n+\t# these set all the flags to specific states\n+\tyes|all|release|assert) ac_assert_checking=1 ; ;;\n+\tno|none) ac_assert_checking= ; ;;\n+\t*) ;;\n+\tesac\n done\n+IFS=\"$ac_save_IFS\"\n \n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler\" >&5\n-$as_echo_n \"checking whether we are using the GNU C compiler... \" >&6; }\n-if ${ac_cv_c_compiler_gnu+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-#ifndef __GNUC__\n-       choke me\n-#endif\n+if test x$ac_assert_checking != x ; then\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_compiler_gnu=yes\n-else\n-  ac_compiler_gnu=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-ac_cv_c_compiler_gnu=$ac_compiler_gnu\n+$as_echo \"#define ENABLE_ASSERT_CHECKING 1\" >>confdefs.h\n \n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu\" >&5\n-$as_echo \"$ac_cv_c_compiler_gnu\" >&6; }\n-if test $ac_compiler_gnu = yes; then\n-  GCC=yes\n-else\n-  GCC=\n-fi\n-ac_test_CFLAGS=${CFLAGS+set}\n-ac_save_CFLAGS=$CFLAGS\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g\" >&5\n-$as_echo_n \"checking whether $CC accepts -g... \" >&6; }\n-if ${ac_cv_prog_cc_g+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  ac_save_c_werror_flag=$ac_c_werror_flag\n-   ac_c_werror_flag=yes\n-   ac_cv_prog_cc_g=no\n-   CFLAGS=\"-g\"\n-   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_g=yes\n-else\n-  CFLAGS=\"\"\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n \n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-\n-else\n-  ac_c_werror_flag=$ac_save_c_werror_flag\n-\t CFLAGS=\"-g\"\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_g=yes\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-   ac_c_werror_flag=$ac_save_c_werror_flag\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g\" >&5\n-$as_echo \"$ac_cv_prog_cc_g\" >&6; }\n-if test \"$ac_test_CFLAGS\" = set; then\n-  CFLAGS=$ac_save_CFLAGS\n-elif test $ac_cv_prog_cc_g = yes; then\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-g -O2\"\n-  else\n-    CFLAGS=\"-g\"\n-  fi\n-else\n-  if test \"$GCC\" = yes; then\n-    CFLAGS=\"-O2\"\n-  else\n-    CFLAGS=\n-  fi\n-fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89\" >&5\n-$as_echo_n \"checking for $CC option to accept ISO C89... \" >&6; }\n-if ${ac_cv_prog_cc_c89+:} false; then :\n-  $as_echo_n \"(cached) \" >&6\n+# Check whether --enable-default-pie was given.\n+# Check whether --enable-default-pie was given.\n+if test \"${enable_default_pie+set}\" = set; then :\n+  enableval=$enable_default_pie; PIEFLAG=-fPIE\n else\n-  ac_cv_prog_cc_c89=no\n-ac_save_CC=$CC\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdarg.h>\n-#include <stdio.h>\n-struct stat;\n-/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */\n-struct buf { int x; };\n-FILE * (*rcsopen) (struct buf *, struct stat *, int);\n-static char *e (p, i)\n-     char **p;\n-     int i;\n-{\n-  return p[i];\n-}\n-static char *f (char * (*g) (char **, int), char **p, ...)\n-{\n-  char *s;\n-  va_list v;\n-  va_start (v,p);\n-  s = g (p, va_arg (v,int));\n-  va_end (v);\n-  return s;\n-}\n-\n-/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has\n-   function prototypes and stuff, but not '\\xHH' hex character constants.\n-   These don't provoke an error unfortunately, instead are silently treated\n-   as 'x'.  The following induces an error, until -std is added to get\n-   proper ANSI mode.  Curiously '\\x00'!='x' always comes out true, for an\n-   array size at least.  It's necessary to write '\\x00'==0 to get something\n-   that's true only with -std.  */\n-int osf4_cc_array ['\\x00' == 0 ? 1 : -1];\n-\n-/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters\n-   inside strings and character constants.  */\n-#define FOO(x) 'x'\n-int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];\n-\n-int test (int i, double x);\n-struct s1 {int (*f) (int a);};\n-struct s2 {int (*f) (double a);};\n-int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);\n-int argc;\n-char **argv;\n-int\n-main ()\n-{\n-return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \\\n-\t-Ae \"-Aa -D_HPUX_SOURCE\" \"-Xc -D__EXTENSIONS__\"\n-do\n-  CC=\"$ac_save_CC $ac_arg\"\n-  if ac_fn_c_try_compile \"$LINENO\"; then :\n-  ac_cv_prog_cc_c89=$ac_arg\n-fi\n-rm -f core conftest.err conftest.$ac_objext\n-  test \"x$ac_cv_prog_cc_c89\" != \"xno\" && break\n-done\n-rm -f conftest.$ac_ext\n-CC=$ac_save_CC\n-\n+  PIEFLAG=\n fi\n-# AC_CACHE_VAL\n-case \"x$ac_cv_prog_cc_c89\" in\n-  x)\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: none needed\" >&5\n-$as_echo \"none needed\" >&6; } ;;\n-  xno)\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: unsupported\" >&5\n-$as_echo \"unsupported\" >&6; } ;;\n-  *)\n-    CC=\"$CC $ac_cv_prog_cc_c89\"\n-    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89\" >&5\n-$as_echo \"$ac_cv_prog_cc_c89\" >&6; } ;;\n-esac\n-if test \"x$ac_cv_prog_cc_c89\" != xno; then :\n \n-fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n+# Check if O_CLOEXEC is defined by fcntl\n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for O_CLOEXEC\" >&5\n $as_echo_n \"checking for O_CLOEXEC... \" >&6; }\n@@ -3559,7 +3018,7 @@ return open (\"/dev/null\", O_RDONLY | O_CLOEXEC);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_o_cloexec=yes\n else\n   ac_cv_o_cloexec=no\n@@ -3574,26 +3033,22 @@ $as_echo \"#define HOST_HAS_O_CLOEXEC 1\" >>confdefs.h\n \n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\" >&5\n-$as_echo_n \"checking how to run the C preprocessor... \" >&6; }\n-# On Suns, sometimes $CPP names a directory.\n-if test -n \"$CPP\" && test -d \"$CPP\"; then\n-  CPP=\n-fi\n-if test -z \"$CPP\"; then\n-  if ${ac_cv_prog_CPP+:} false; then :\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking how to run the C++ preprocessor\" >&5\n+$as_echo_n \"checking how to run the C++ preprocessor... \" >&6; }\n+if test -z \"$CXXCPP\"; then\n+  if ${ac_cv_prog_CXXCPP+:} false; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      # Double quotes because CPP needs to be expanded\n-    for CPP in \"$CC -E\" \"$CC -E -traditional-cpp\" \"/lib/cpp\"\n+      # Double quotes because CXXCPP needs to be expanded\n+    for CXXCPP in \"$CXX -E\" \"/lib/cpp\"\n     do\n       ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n+for ac_cxx_preproc_warn_flag in '' yes\n do\n   # Use a header file that comes with gcc, so configuring glibc\n   # with a fresh cross-compiler works.\n@@ -3610,7 +3065,7 @@ do\n #endif\n \t\t     Syntax error\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n \n else\n   # Broken: fails on valid input.\n@@ -3624,7 +3079,7 @@ rm -f conftest.err conftest.i conftest.$ac_ext\n /* end confdefs.h.  */\n #include <ac_nonexistent.h>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   # Broken: success on invalid input.\n continue\n else\n@@ -3642,17 +3097,17 @@ if $ac_preproc_ok; then :\n fi\n \n     done\n-    ac_cv_prog_CPP=$CPP\n+    ac_cv_prog_CXXCPP=$CXXCPP\n \n fi\n-  CPP=$ac_cv_prog_CPP\n+  CXXCPP=$ac_cv_prog_CXXCPP\n else\n-  ac_cv_prog_CPP=$CPP\n+  ac_cv_prog_CXXCPP=$CXXCPP\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CPP\" >&5\n-$as_echo \"$CPP\" >&6; }\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $CXXCPP\" >&5\n+$as_echo \"$CXXCPP\" >&6; }\n ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n+for ac_cxx_preproc_warn_flag in '' yes\n do\n   # Use a header file that comes with gcc, so configuring glibc\n   # with a fresh cross-compiler works.\n@@ -3669,7 +3124,7 @@ do\n #endif\n \t\t     Syntax error\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n \n else\n   # Broken: fails on valid input.\n@@ -3683,7 +3138,7 @@ rm -f conftest.err conftest.i conftest.$ac_ext\n /* end confdefs.h.  */\n #include <ac_nonexistent.h>\n _ACEOF\n-if ac_fn_c_try_cpp \"$LINENO\"; then :\n+if ac_fn_cxx_try_cpp \"$LINENO\"; then :\n   # Broken: success on invalid input.\n continue\n else\n@@ -3701,15 +3156,15 @@ if $ac_preproc_ok; then :\n else\n   { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n $as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error $? \"C preprocessor \\\"$CPP\\\" fails sanity check\n+as_fn_error $? \"C++ preprocessor \\\"$CXXCPP\\\" fails sanity check\n See \\`config.log' for more details\" \"$LINENO\" 5; }\n fi\n \n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+ac_ext=cpp\n+ac_cpp='$CXXCPP $CPPFLAGS'\n+ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n \n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\" >&5\n@@ -3862,7 +3317,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_header_stdc=yes\n else\n   ac_cv_header_stdc=no\n@@ -3935,7 +3390,7 @@ main ()\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_cxx_try_run \"$LINENO\"; then :\n \n else\n   ac_cv_header_stdc=no\n@@ -3959,7 +3414,7 @@ for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n \t\t  inttypes.h stdint.h unistd.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n-ac_fn_c_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n+ac_fn_cxx_check_header_compile \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\n \"\n if eval test \\\"x\\$\"$as_ac_Header\"\\\" = x\"yes\"; then :\n   cat >>confdefs.h <<_ACEOF\n@@ -3973,7 +3428,7 @@ done\n \n for ac_header in sys/mman.h\n do :\n-  ac_fn_c_check_header_mongrel \"$LINENO\" \"sys/mman.h\" \"ac_cv_header_sys_mman_h\" \"$ac_includes_default\"\n+  ac_fn_cxx_check_header_mongrel \"$LINENO\" \"sys/mman.h\" \"ac_cv_header_sys_mman_h\" \"$ac_includes_default\"\n if test \"x$ac_cv_header_sys_mman_h\" = xyes; then :\n   cat >>confdefs.h <<_ACEOF\n #define HAVE_SYS_MMAN_H 1\n@@ -4016,7 +3471,7 @@ connect (fd, (sockaddr *)&un, sizeof (un));\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_af_unix=yes\n else\n   ac_cv_af_unix=no\n@@ -4070,7 +3525,7 @@ connect (fd, (sockaddr *)&in6, sizeof (in6));\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_af_inet6=yes\n else\n   ac_cv_af_inet6=no\n@@ -4111,7 +3566,7 @@ epoll_pwait (fd, 0, 0, -1, 0);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_epoll=yes\n else\n   ac_cv_epoll=no\n@@ -4147,7 +3602,7 @@ pselect (0, 0, 0, 0, 0, 0);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_pselect=yes\n else\n   ac_cv_pselect=no\n@@ -4184,7 +3639,7 @@ select (0, 0, 0, 0, 0);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_select=yes\n else\n   ac_cv_select=no\n@@ -4220,7 +3675,7 @@ int err = accept4 (1, 0, 0, SOCK_NONBLOCK);\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_accept4=yes\n else\n   ac_cv_accept4=no\n@@ -4259,7 +3714,7 @@ const char *str = inet_ntop (AF_INET6, &in6, buf, sizeof (buf));\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n   ac_cv_inet_ntop=yes\n else\n   ac_cv_inet_ntop=no\n@@ -4325,7 +3780,7 @@ for ac_lib in '' nsl; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_gethostbyname=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -4381,7 +3836,7 @@ for ac_lib in '' socket; do\n     ac_res=-l$ac_lib\n     LIBS=\"-l$ac_lib  $ac_func_search_save_LIBS\"\n   fi\n-  if ac_fn_c_try_link \"$LINENO\"; then :\n+  if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_search_socket=$ac_res\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n@@ -4431,7 +3886,7 @@ return socket ();\n   return 0;\n }\n _ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n   ac_cv_lib_socket_socket=yes\n else\n   ac_cv_lib_socket_socket=no"}, {"sha": "f991f63077fbe4de8182a057ff71b4d9f7dc8e4c", "filename": "c++tools/configure.ac", "status": "modified", "additions": 35, "deletions": 4, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fconfigure.ac?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n # Configure script for c++tools\n-#   Copyright (C) 2020 Free Software Foundation, Inc.\n+#   Copyright (C) 2020-2021 Free Software Foundation, Inc.\n #   Written by Nathan Sidwell <nathan@acm.org> while at FaceBook\n #\n # This file is free software; you can redistribute it and/or modify it\n@@ -41,6 +41,8 @@ MISSING=`cd $ac_aux_dir && ${PWDCMD-pwd}`/missing\n AC_CHECK_PROGS([AUTOCONF], [autoconf], [$MISSING autoconf])\n AC_CHECK_PROGS([AUTOHEADER], [autoheader], [$MISSING autoheader])\n \n+AC_LANG(C++)\n+\n dnl Enabled by default\n AC_MSG_CHECKING([whether to build C++ tools])\n   AC_ARG_ENABLE(c++-tools, \n@@ -58,15 +60,44 @@ AS_HELP_STRING([--enable-maintainer-mode],\n [enable maintainer mode.  Add rules to rebuild configurey bits]),,\n [enable_maintainer_mode=no])\n case \"$enable_maintainer_mode\" in\n-  (\"yes\") maintainer_mode=yes ;;\n-  (\"no\") maintainer=no ;;\n-  (*) AC_MSG_ERROR([unknown maintainer mode $enable_maintainer_mode]) ;;\n+  yes) maintainer_mode=yes ;;\n+  no) maintainer_mode=no ;;\n+  *) AC_MSG_ERROR([unknown maintainer mode $enable_maintainer_mode]) ;;\n esac\n AC_MSG_CHECKING([maintainer-mode])\n AC_MSG_RESULT([$maintainer_mode])\n test \"$maintainer_mode\" = yes && MAINTAINER=yes\n AC_SUBST(MAINTAINER)\n \n+# Handle configuration of checking; for the tools in this directory we\n+# default to release checking and stricter checks do not change this.\n+\n+AC_ARG_ENABLE(checking,\n+[AS_HELP_STRING([[--enable-checking[=LIST]]],\n+\t\t[enable expensive run-time checks.  With LIST,\n+\t\t enable only specific categories of checks.\n+\t\t Categories are: yes,no,all,none,release.])],\n+[ac_checking_flags=\"${enableval}\"],[\n+# Default to checking.\n+ac_checking_flags=yes\n+])\n+IFS=\"${IFS= \t}\"; ac_save_IFS=\"$IFS\"; IFS=\"$IFS,\"\n+for check in release $ac_checking_flags\n+do\n+\tcase $check in\n+\t# these set all the flags to specific states\n+\tyes|all|release|assert) ac_assert_checking=1 ; ;;\n+\tno|none) ac_assert_checking= ; ;;\n+\t*) ;;\n+\tesac\n+done\n+IFS=\"$ac_save_IFS\"\n+\n+if test x$ac_assert_checking != x ; then\n+  AC_DEFINE(ENABLE_ASSERT_CHECKING, 1,\n+[Define if you want assertions enabled.  This is a cheap check.])\n+fi\n+\n # Check whether --enable-default-pie was given.\n AC_ARG_ENABLE(default-pie,\n [AS_HELP_STRING([--enable-default-pie],"}, {"sha": "421fdaa55fe23d49fdcb39100e5439262210c856", "filename": "c++tools/resolver.cc", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fresolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fresolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fresolver.cc?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n /* C++ modules.  Experimental!\t-*- c++ -*-\n-   Copyright (C) 2017-2020 Free Software Foundation, Inc.\n+   Copyright (C) 2017-2021 Free Software Foundation, Inc.\n    Written by Nathan Sidwell <nathan@acm.org> while at FaceBook\n \n    This file is part of GCC.\n@@ -307,3 +307,14 @@ module_resolver::IncludeTranslateRequest (Cody::Server *s, Cody::Flags,\n   return 0;\n }\n \n+/* This handles a client notification to the server that a CMI has been\n+   produced for a module.  For this simplified server, we just accept\n+   the transaction and respond with \"OK\".  */\n+\n+int\n+module_resolver::ModuleCompiledRequest (Cody::Server *s, Cody::Flags,\n+\t\t\t\t      std::string &)\n+{\n+  s->OKResponse();\n+  return 0;\n+}"}, {"sha": "c1ce9564e7fc32b3cc6453fdf41d9af1d8d2e0ac", "filename": "c++tools/resolver.h", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fresolver.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fresolver.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fresolver.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n /* C++ modules.  Experimental!\t-*- c++ -*-\n-   Copyright (C) 2017-2020 Free Software Foundation, Inc.\n+   Copyright (C) 2017-2021 Free Software Foundation, Inc.\n    Written by Nathan Sidwell <nathan@acm.org> while at FaceBook\n \n    This file is part of GCC.\n@@ -24,8 +24,10 @@ along with GCC; see the file COPYING3.  If not see\n // Mapper interface for client and server bits\n #include \"cody.hh\"\n // C++\n+#if !IN_GCC\n #include <string>\n #include <map>\n+#endif\n \n // This is a GCC class, so GCC coding conventions on new bits.  \n class module_resolver : public Cody::Resolver\n@@ -94,6 +96,10 @@ class module_resolver : public Cody::Resolver\n \t\t\t\t       std::string &include)\n     override;\n \n+  using parent::ModuleCompiledRequest;\n+  virtual int ModuleCompiledRequest (Cody::Server *s, Cody::Flags Flags,\n+\t\t\t\t     std::string &Module) override;\n+\n private:\n   using parent::GetCMISuffix;\n   virtual char const *GetCMISuffix () override;"}, {"sha": "a60eefe63b0c4ca2070f9819c97465af521da061", "filename": "c++tools/server.cc", "status": "modified", "additions": 31, "deletions": 2, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fserver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/c%2B%2Btools%2Fserver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/c%2B%2Btools%2Fserver.cc?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n /* C++ modules.  Experimental!\n-   Copyright (C) 2018-2020 Free Software Foundation, Inc.\n+   Copyright (C) 2018-2021 Free Software Foundation, Inc.\n    Written by Nathan Sidwell <nathan@acm.org> while at FaceBook\n \n    This file is part of GCC.\n@@ -29,6 +29,7 @@ along with GCC; see the file COPYING3.  If not see\n #include <csignal>\n #include <cstring>\n #include <cstdarg>\n+#include <cstdlib>\n // OS\n #include <unistd.h>\n #include <sys/types.h>\n@@ -60,6 +61,10 @@ along with GCC; see the file COPYING3.  If not see\n # define gai_strerror(X) \"\"\n #endif\n \n+#ifndef AI_NUMERICSERV\n+#define AI_NUMERICSERV 0\n+#endif\n+\n #include <getopt.h>\n \n // Select or epoll\n@@ -91,6 +96,28 @@ along with GCC; see the file COPYING3.  If not see\n #define DIR_SEPARATOR '/'\n #endif\n \n+/* Imported from libcpp/system.h\n+   Use gcc_assert(EXPR) to test invariants.  */\n+#if ENABLE_ASSERT_CHECKING\n+#define gcc_assert(EXPR)                                                \\\n+   ((void)(!(EXPR) ? fancy_abort (__FILE__, __LINE__, __FUNCTION__), 0 : 0))\n+#elif (GCC_VERSION >= 4005)\n+#define gcc_assert(EXPR)                                                \\\n+  ((void)(__builtin_expect (!(EXPR), 0) ? __builtin_unreachable (), 0 : 0))\n+#else\n+/* Include EXPR, so that unused variable warnings do not occur.  */\n+#define gcc_assert(EXPR) ((void)(0 && (EXPR)))\n+#endif\n+\n+/* Use gcc_unreachable() to mark unreachable locations (like an\n+   unreachable default case of a switch.  Do not use gcc_assert(0).  */\n+#if (GCC_VERSION >= 4005) && !ENABLE_ASSERT_CHECKING\n+#define gcc_unreachable() __builtin_unreachable ()\n+#else\n+#define gcc_unreachable() (fancy_abort (__FILE__, __LINE__, __FUNCTION__))\n+#endif\n+\n+\n #if NETWORKING\n struct netmask {\n   in6_addr addr;\n@@ -201,11 +228,13 @@ internal_error (const char *fmt, ...)\n \n /* Hooked to from gcc_assert & gcc_unreachable.  */\n \n+#if ENABLE_ASSERT_CHECKING\n void ATTRIBUTE_NORETURN ATTRIBUTE_COLD\n fancy_abort (const char *file, int line, const char *func)\n {\n   internal_error (\"in %s, at %s:%d\", func, trim_src_file (file), line);\n }\n+#endif\n \n /* Exploded on a signal.  */\n \n@@ -290,7 +319,7 @@ static void ATTRIBUTE_NORETURN\n print_version (void)\n {\n   fnotice (stdout, \"%s %s%s\\n\", progname, pkgversion_string, version_string);\n-  fprintf (stdout, \"Copyright %s 2018-2020 Free Software Foundation, Inc.\\n\",\n+  fprintf (stdout, \"Copyright %s 2018-2021 Free Software Foundation, Inc.\\n\",\n \t   (\"(C)\"));\n   fnotice (stdout,\n \t   (\"This is free software; see the source for copying conditions.\\n\""}, {"sha": "6c3add89176cd754f61c8a46ee1ebf43634453ae", "filename": "config/ChangeLog", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,3 +1,35 @@\n+2021-08-18  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* mh-darwin: Require a non-shared host configuration to\n+\tenable  mdynamic-no-pic where that is supported.\n+\n+2021-07-09  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* mh-darwin: Make this specific to handling the\n+\tmdynamic-no-pic case.\n+\n+2021-06-14  Michael Forney  <mforney@mforney.org>\n+\n+\t* gettext.m4 (AM_GNU_GETTEXT): Skip checks for the internal\n+\tsymbols _nl_msg_cat_cntr, _nl_domain_bindings, and\n+\t_nl_expand_alias, if __GNU_GETTEXT_SUPPORTED_REVISION is defined.\n+\tBackport of gettext serial 68 patch.\n+\n+2021-05-18  Mike Frysinger  <vapier@gentoo.org>\n+\n+\t* acinclude.m4 (CYG_AC_PATH_SIM, CYG_AC_PATH_DEVO): Delete.\n+\n+2021-05-03  H.J. Lu  <hjl.tools@gmail.com>\n+\n+\tPR bootstrap/99703\n+\t* cet.m4 (GCC_CET_HOST_FLAGS): Check if host supports multi-byte\n+\tNOPs.\n+\n+2021-04-13  Martin Storsj\u00f6  <martin@martin.st>\n+\n+\t* mh-mingw: Set __USE_MINGW_ACCESS in missed C++ flags\n+\tvariables\n+\n 2021-01-05  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \tPR c++/98316"}, {"sha": "0abccafa03539500b0fb3b1d3ec2c771343283b3", "filename": "config/acinclude.m4", "status": "modified", "additions": 0, "deletions": 102, "changes": 102, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Facinclude.m4?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -373,88 +373,6 @@ fi\n AC_SUBST(INTLLIB)\n ])\n \n-dnl ====================================================================\n-dnl Find the simulator library.\n-AC_DEFUN([CYG_AC_PATH_SIM], [\n-dirlist=\".. ../../ ../../../ ../../../../ ../../../../../ ../../../../../../ ../../../../../../.. ../../../../../../../.. ../../../../../../../../.. ../../../../../../../../../.. ../../../../../../../../../..\"\n-case \"$target_cpu\" in\n-    powerpc)\ttarget_dir=ppc ;;\n-    sparc*)\ttarget_dir=erc32 ;;\n-    mips*)\ttarget_dir=mips ;;\n-    *)\t\ttarget_dir=$target_cpu ;;\n-esac\n-dnl First look for the header file\n-AC_MSG_CHECKING(for the simulator header file)\n-AC_CACHE_VAL(ac_cv_c_simh,[\n-for i in $dirlist; do\n-    if test -f \"${srcdir}/$i/include/remote-sim.h\" ; then\n-\tac_cv_c_simh=`(cd ${srcdir}/$i/include; ${PWDCMD-pwd})`\n-\tbreak\n-    fi\n-done\n-])\n-if test x\"${ac_cv_c_simh}\" != x; then\n-    SIMHDIR=\"-I${ac_cv_c_simh}\"\n-    AC_MSG_RESULT(${ac_cv_c_simh})\n-else\n-    AC_MSG_RESULT(none)\n-fi\n-AC_SUBST(SIMHDIR)\n-\n-dnl See whether it's a devo or Foundry branch simulator\n-AC_MSG_CHECKING(Whether this is a devo simulator )\n-AC_CACHE_VAL(ac_cv_c_simdevo,[\n-    CPPFLAGS=\"$CPPFLAGS $SIMHDIR\"\n-    AC_EGREP_HEADER([SIM_DESC sim_open.*struct _bfd], remote-sim.h,\n-        ac_cv_c_simdevo=yes,\n-        ac_cv_c_simdevo=no)\n-])\n-if test x\"$ac_cv_c_simdevo\" = x\"yes\" ; then\n-    AC_DEFINE(HAVE_DEVO_SIM)\n-fi\n-AC_MSG_RESULT(${ac_cv_c_simdevo})\n-AC_SUBST(HAVE_DEVO_SIM)\n-\n-dnl Next look for the library\n-AC_MSG_CHECKING(for the simulator library)\n-AC_CACHE_VAL(ac_cv_c_simlib,[\n-for i in $dirlist; do\n-    if test -f \"$i/sim/$target_dir/Makefile\" ; then\n-\tac_cv_c_simlib=`(cd $i/sim/$target_dir; ${PWDCMD-pwd})`\n-    fi\n-done\n-])\n-if test x\"${ac_cv_c_simlib}\" != x; then\n-    SIMLIB=\"-L${ac_cv_c_simlib}\"\n-else\n-    AC_MSG_RESULT(none)\n-    dnl FIXME: this is kinda bogus, cause umtimately the TM will build\n-    dnl all the libraries for several architectures. But for now, this\n-    dnl will work till then.\n-dnl     AC_MSG_CHECKING(for the simulator installed with the compiler libraries)\n-    dnl Transform the name of the compiler to it's cross variant, unless\n-    dnl CXX is set. This is also what CXX gets set to in the generated\n-    dnl Makefile.\n-    CROSS_GCC=`echo gcc | sed -e \"s/^/$target/\"`\n-\n-    dnl Get G++'s full path to libgcc.a\n-changequote(,)\n-    gccpath=`${CROSS_GCC} --print-libgcc | sed -e 's:[a-z0-9A-Z\\.\\-]*/libgcc.a::' -e 's:lib/gcc-lib/::'`lib\n-changequote([,])\n-    if test -f $gccpath/libsim.a -o -f $gccpath/libsim.so ; then\n-        ac_cv_c_simlib=\"$gccpath/\"\n-        SIMLIB=\"-L${ac_cv_c_simlib}\"\n-\tAC_MSG_RESULT(${ac_cv_c_simlib})\n-    else\n-        AM_CONDITIONAL(PSIM, test x$psim = xno)\n-\tSIMLIB=\"\"\n-\tAC_MSG_RESULT(none)\n-dnl         ac_cv_c_simlib=none\n-    fi\n-fi\n-AC_SUBST(SIMLIB)\n-])\n-\n dnl ====================================================================\n dnl Find the libiberty library.\n AC_DEFUN([CYG_AC_PATH_LIBIBERTY], [\n@@ -476,26 +394,6 @@ fi\n AC_SUBST(LIBIBERTY)\n ])\n \n-dnl ====================================================================\n-AC_DEFUN([CYG_AC_PATH_DEVO], [\n-AC_MSG_CHECKING(for devo headers in the source tree)\n-dirlist=\".. ../../ ../../../ ../../../../ ../../../../../ ../../../../../../ ../../../../../../.. ../../../../../../../.. ../../../../../../../../.. ../../../../../../../../../..\"\n-AC_CACHE_VAL(ac_cv_c_devoh,[\n-for i in $dirlist; do\n-    if test -f \"${srcdir}/$i/include/remote-sim.h\" ; then\n-\tac_cv_c_devoh=`(cd ${srcdir}/$i/include; ${PWDCMD-pwd})`\n-    fi\n-done\n-])\n-if test x\"${ac_cv_c_devoh}\" != x; then\n-    DEVOHDIR=\"-I${ac_cv_c_devoh}\"\n-    AC_MSG_RESULT(${ac_cv_c_devoh})\n-else\n-    AC_MSG_RESULT(none)\n-fi\n-AC_SUBST(DEVOHDIR)\n-])\n-\n dnl ====================================================================\n dnl Find all the ILU headers and libraries\n AC_DEFUN([CYG_AC_PATH_ILU], ["}, {"sha": "7718be1afe891196b9d0547fa4c13d3dbb70b137", "filename": "config/cet.m4", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fcet.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fcet.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fcet.m4?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -130,6 +130,18 @@ fi\n if test x$may_have_cet = xyes; then\n   if test x$cross_compiling = xno; then\n     AC_TRY_RUN([\n+int\n+main ()\n+{\n+  asm (\"endbr32\");\n+  return 0;\n+}\n+    ],\n+    [have_multi_byte_nop=yes],\n+    [have_multi_byte_nop=no])\n+    have_cet=no\n+    if test x$have_multi_byte_nop = xyes; then\n+      AC_TRY_RUN([\n static void\n foo (void)\n {\n@@ -155,9 +167,10 @@ main ()\n   bar ();\n   return 0;\n }\n-    ],\n-    [have_cet=no],\n-    [have_cet=yes])\n+      ],\n+      [have_cet=no],\n+      [have_cet=yes])\n+    fi\n     if test x$enable_cet = xno -a x$have_cet = xyes; then\n       AC_MSG_ERROR([Intel CET must be enabled on Intel CET enabled host])\n     fi"}, {"sha": "5b42bb1652318092df643e20e8ade2d49148fa46", "filename": "config/gettext.m4", "status": "modified", "additions": 35, "deletions": 17, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fgettext.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fgettext.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgettext.m4?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -128,17 +128,23 @@ AC_DEFUN([AM_GNU_GETTEXT],\n \n         AC_CACHE_CHECK([for GNU gettext in libc], gt_cv_func_gnugettext_libc,\n          [AC_TRY_LINK([#include <libintl.h>\n+#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+extern int _nl_msg_cat_cntr;\n+extern int *_nl_domain_bindings;\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION (_nl_msg_cat_cntr + *_nl_domain_bindings)\n+#else\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION 0\n+#endif\n ]ifelse([$2], [need-formatstring-macros],\n [#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n #define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n #endif\n changequote(,)dnl\n typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n changequote([,])dnl\n-], [])[extern int _nl_msg_cat_cntr;\n-extern int *_nl_domain_bindings;],\n+], []),\n             [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_domain_bindings],\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + __GNU_GETTEXT_SYMBOL_EXPRESSION],\n             gt_cv_func_gnugettext_libc=yes,\n             gt_cv_func_gnugettext_libc=no)])\n \n@@ -160,42 +166,54 @@ return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\",\n             LIBS=\"$LIBS $LIBINTL\"\n             dnl Now see whether libintl exists and does not depend on libiconv.\n             AC_TRY_LINK([#include <libintl.h>\n+#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+extern int _nl_msg_cat_cntr;\n+extern\n+#ifdef __cplusplus\n+\"C\"\n+#endif\n+const char *_nl_expand_alias ();\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION (_nl_msg_cat_cntr + *_nl_expand_alias (0))\n+#else\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION 0\n+#endif\n ]ifelse([$2], [need-formatstring-macros],\n [#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n #define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n #endif\n changequote(,)dnl\n typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n changequote([,])dnl\n-], [])[extern int _nl_msg_cat_cntr;\n-extern\n-#ifdef __cplusplus\n-\"C\"\n-#endif\n-const char *_nl_expand_alias ();],\n+], []),\n               [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + __GNU_GETTEXT_SYMBOL_EXPRESSION],\n               gt_cv_func_gnugettext_libintl=yes,\n               gt_cv_func_gnugettext_libintl=no)\n             dnl Now see whether libintl exists and depends on libiconv.\n             if test \"$gt_cv_func_gnugettext_libintl\" != yes && test -n \"$LIBICONV\"; then\n               LIBS=\"$LIBS $LIBICONV\"\n               AC_TRY_LINK([#include <libintl.h>\n+#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n+extern int _nl_msg_cat_cntr;\n+extern\n+#ifdef __cplusplus\n+\"C\"\n+#endif\n+const char *_nl_expand_alias ();\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION (_nl_msg_cat_cntr + *_nl_expand_alias (0))\n+#else\n+#define __GNU_GETTEXT_SYMBOL_EXPRESSION 0\n+#endif\n ]ifelse([$2], [need-formatstring-macros],\n [#ifndef __GNU_GETTEXT_SUPPORTED_REVISION\n #define __GNU_GETTEXT_SUPPORTED_REVISION(major) ((major) == 0 ? 0 : -1)\n #endif\n changequote(,)dnl\n typedef int array [2 * (__GNU_GETTEXT_SUPPORTED_REVISION(0) >= 1) - 1];\n changequote([,])dnl\n-], [])[extern int _nl_msg_cat_cntr;\n-extern\n-#ifdef __cplusplus\n-\"C\"\n-#endif\n-const char *_nl_expand_alias ();],\n+], []),\n                 [bindtextdomain (\"\", \"\");\n-return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + _nl_msg_cat_cntr + *_nl_expand_alias (0)],\n+return (int) gettext (\"\")]ifelse([$2], [need-ngettext], [ + (int) ngettext (\"\", \"\", 0)], [])[ + __GNU_GETTEXT_SYMBOL_EXPRESSION],\n                [LIBINTL=\"$LIBINTL $LIBICONV\"\n                 LTLIBINTL=\"$LTLIBINTL $LTLIBICONV\"\n                 gt_cv_func_gnugettext_libintl=yes"}, {"sha": "b72835ae953ffd7e6bfaae1a5ac43ceaaa803f13", "filename": "config/mh-darwin", "status": "modified", "additions": 41, "deletions": 24, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fmh-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fmh-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fmh-darwin?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,29 +1,46 @@\n # The -mdynamic-no-pic ensures that the compiler executable is built without\n-# position-independent-code -- the usual default on Darwin. This fix speeds\n-# compiles by 3-5%.  Don't add it if the compiler doesn't also support\n-# -mno-dynamic-no-pic to undo it.\n-DARWIN_MDYNAMIC_NO_PIC := \\\n-`case ${host} in i?86-*-darwin* | powerpc-*-darwin*) \\\n-   $(CC) -S -xc /dev/null -o /dev/null -mno-dynamic-no-pic 2>/dev/null \\\n-   && echo -mdynamic-no-pic ;; esac`\n-DARWIN_GCC_MDYNAMIC_NO_PIC := \\\n-`case ${host} in i?86-*-darwin* | powerpc-*-darwin*) \\\n-   $(CC) -S -xc /dev/null -o /dev/null -mno-dynamic-no-pic 2>/dev/null \\\n-   || echo -mdynamic-no-pic ;; esac`\n+# position-independent-code -- the usual default on Darwin. This speeds compiles\n+# by 8-20% (measurements made against GCC-11).\n+# However, we cannot add it unless the bootstrap compiler supports\n+# -mno-dynamic-no-pic to undo it, since libiberty, at least, needs this.\n \n-# ld on Darwin versions >= 10.7 defaults to PIE executables. Disable this for\n-# gcc components, since it is incompatible with our pch implementation.\n-DARWIN_NO_PIE := `case ${host} in *-*-darwin[1][1-9]*) echo -Wl,-no_pie ;; esac;`\n+#\u00a0We use Werror, since some versions of clang report unknown command line flags\n+# as a warning only.\n \n-BOOT_CFLAGS += $(DARWIN_MDYNAMIC_NO_PIC)\n-BOOT_LDFLAGS += $(DARWIN_NO_PIE)\n+# We only need to determine this for the host tool used to build stage1 (or a\n+# non-bootstrapped compiler), later stages will be built by GCC which supports\n+# the required flags.\n \n-# Similarly, for cross-compilation.\n-STAGE1_CFLAGS += $(DARWIN_MDYNAMIC_NO_PIC)\n-STAGE1_LDFLAGS += $(DARWIN_NO_PIE)\n+# We cannot use mdynamic-no-pic when building shared host resources.\n \n-# Without -mno-dynamic-no-pic support, add -mdynamic-no-pic just to later\n-# stages when we know it is built with gcc.\n-STAGE2_CFLAGS += $(DARWIN_GCC_MDYNAMIC_NO_PIC)\n-STAGE3_CFLAGS += $(DARWIN_GCC_MDYNAMIC_NO_PIC)\n-STAGE4_CFLAGS += $(DARWIN_GCC_MDYNAMIC_NO_PIC)\n+ifeq (${host_shared},no)\n+BOOTSTRAP_TOOL_CAN_USE_MDYNAMIC_NO_PIC := $(shell \\\n+  $(CC) -S -xc /dev/null -o /dev/null -Werror -mno-dynamic-no-pic 2>/dev/null \\\n+  && echo true)\n+else\n+BOOTSTRAP_TOOL_CAN_USE_MDYNAMIC_NO_PIC := false\n+endif\n+\n+@if gcc-bootstrap\n+ifeq (${BOOTSTRAP_TOOL_CAN_USE_MDYNAMIC_NO_PIC},true)\n+STAGE1_CFLAGS += -mdynamic-no-pic\n+else\n+STAGE1_CFLAGS += -fPIC\n+endif\n+ifeq (${host_shared},no)\n+# Add -mdynamic-no-pic to later stages when we know it is built with GCC.\n+BOOT_CFLAGS += -mdynamic-no-pic\n+endif\n+@endif gcc-bootstrap\n+\n+@unless gcc-bootstrap\n+ifeq (${BOOTSTRAP_TOOL_CAN_USE_MDYNAMIC_NO_PIC},true)\n+# FIXME: we should also enable this for cross and non-bootstrap builds but\n+# that needs amendment to libcc1.\n+# CFLAGS += -mdynamic-no-pic\n+# CXXFLAGS += -mdynamic-no-pic\n+else\n+CFLAGS += -fPIC\n+CXXFLAGS += -fPIC\n+endif\n+@endunless gcc-bootstrap"}, {"sha": "e91367a711284148e16849d3066fb94599204a6c", "filename": "config/mh-mingw", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fmh-mingw", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/config%2Fmh-mingw", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fmh-mingw?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,7 +1,9 @@\n # Add -D__USE_MINGW_ACCESS to enable the built compiler to work on Windows\n # Vista (see PR33281 for details).\n BOOT_CFLAGS += -D__USE_MINGW_ACCESS -Wno-pedantic-ms-format\n+BOOT_CXXFLAGS += -D__USE_MINGW_ACCESS -Wno-pedantic-ms-format\n CFLAGS += -D__USE_MINGW_ACCESS\n+CXXFLAGS += -D__USE_MINGW_ACCESS\n STAGE1_CXXFLAGS += -D__USE_MINGW_ACCESS\n STAGE2_CXXFLAGS += -D__USE_MINGW_ACCESS\n STAGE3_CXXFLAGS += -D__USE_MINGW_ACCESS"}, {"sha": "85ab99154020a71feb63aef93508e8462a59cd9a", "filename": "configure", "status": "modified", "additions": 608, "deletions": 25, "changes": 633, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -609,6 +609,7 @@ OBJCOPY_FOR_TARGET\n NM_FOR_TARGET\n LIPO_FOR_TARGET\n LD_FOR_TARGET\n+DSYMUTIL_FOR_TARGET\n DLLTOOL_FOR_TARGET\n AS_FOR_TARGET\n AR_FOR_TARGET\n@@ -629,6 +630,7 @@ RANLIB\n NM\n LIPO\n LD\n+DSYMUTIL\n DLLTOOL\n AS\n AR\n@@ -649,6 +651,7 @@ LDFLAGS_FOR_BUILD\n GDC_FOR_BUILD\n GOC_FOR_BUILD\n GFORTRAN_FOR_BUILD\n+DSYMUTIL_FOR_BUILD\n DLLTOOL_FOR_BUILD\n CXX_FOR_BUILD\n CXXFLAGS_FOR_BUILD\n@@ -786,6 +789,7 @@ with_build_libsubdir\n with_system_zlib\n enable_as_accelerator_for\n enable_offload_targets\n+enable_offload_defaulted\n enable_gold\n enable_ld\n enable_compressed_debug_sections\n@@ -853,6 +857,7 @@ target_configargs\n AR\n AS\n DLLTOOL\n+DSYMUTIL\n LD\n LIPO\n NM\n@@ -873,6 +878,7 @@ GDC_FOR_TARGET\n AR_FOR_TARGET\n AS_FOR_TARGET\n DLLTOOL_FOR_TARGET\n+DSYMUTIL_FOR_TARGET\n LD_FOR_TARGET\n LIPO_FOR_TARGET\n NM_FOR_TARGET\n@@ -1515,6 +1521,11 @@ Optional Features:\n                           enable offloading to devices from comma-separated\n                           LIST of TARGET[=DIR]. Use optional path to find\n                           offload target compiler during the build\n+  --enable-offload-defaulted\n+\t\tIf enabled, configured but not installed offload compilers and\n+\t\tlibgomp plugins are silently ignored.  Useful for distribution\n+\t\tcompilers where those are in separate optional packages.\n+\n   --enable-gold[=ARG]     build gold [ARG={default,yes,no}]\n   --enable-ld[=ARG]       build ld [ARG={default,yes,no}]\n   --enable-compressed-debug-sections={all,gas,gold,ld,none}\n@@ -1636,6 +1647,7 @@ Some influential environment variables:\n   AR          AR for the host\n   AS          AS for the host\n   DLLTOOL     DLLTOOL for the host\n+  DSYMUTIL    DSYMUTIL for the host\n   LD          LD for the host\n   LIPO        LIPO for the host\n   NM          NM for the host\n@@ -1665,6 +1677,8 @@ Some influential environment variables:\n               AS for the target\n   DLLTOOL_FOR_TARGET\n               DLLTOOL for the target\n+  DSYMUTIL_FOR_TARGET\n+              DSYMUTIL for the target\n   LD_FOR_TARGET\n               LD for the target\n   LIPO_FOR_TARGET\n@@ -2806,7 +2820,6 @@ target_libraries=\"target-libgcc \\\n \t\ttarget-newlib \\\n \t\ttarget-libgomp \\\n \t\ttarget-liboffloadmic \\\n-\t\ttarget-libhsail-rt \\\n \t\ttarget-libatomic \\\n \t\ttarget-libitm \\\n \t\ttarget-libstdc++-v3 \\\n@@ -2981,6 +2994,14 @@ else\n fi\n \n \n+# Check whether --enable-offload-defaulted was given.\n+if test \"${enable_offload_defaulted+set}\" = set; then :\n+  enableval=$enable_offload_defaulted; enable_offload_defaulted=$enableval\n+else\n+  enable_offload_defaulted=\n+fi\n+\n+\n # Handle --enable-gold, --enable-ld.\n # --disable-gold [--enable-ld]\n #     Build only ld.  Default option.\n@@ -3318,29 +3339,6 @@ $as_echo \"yes\" >&6; }\n     fi\n fi\n \n-\n-# Disable libhsail-rt on unsupported systems.\n-if test -d ${srcdir}/libhsail-rt; then\n-    if test x$enable_libhsail_rt = x; then\n-        { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for libhsail-rt support\" >&5\n-$as_echo_n \"checking for libhsail-rt support... \" >&6; }\n-        if (srcdir=${srcdir}/libhsail-rt; \\\n-                . ${srcdir}/configure.tgt; \\\n-                test -n \"$UNSUPPORTED\")\n-        then\n-            { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n-$as_echo \"no\" >&6; }\n-            unsupported_languages=\"$unsupported_languages brig\"\n-            # This implicitly disables also target-libhsail-rt as it won't\n-            # get added to the build without BRIG FE.\n-        else\n-            { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n-$as_echo \"yes\" >&6; }\n-        fi\n-    fi\n-fi\n-\n-\n # Disable libquadmath for some systems.\n case \"${target}\" in\n   avr-*-*)\n@@ -4076,7 +4074,7 @@ fi\n   hppa*-*)\n     host_makefile_frag=\"config/mh-pa\"\n     ;;\n-  *-*-darwin*)\n+  i?86-*-darwin[89]* | i?86-*-darwin1[0-7]* | powerpc*-*-darwin*)\n     host_makefile_frag=\"config/mh-darwin\"\n     ;;\n   powerpc-*-aix*)\n@@ -4093,6 +4091,7 @@ if test \"${build}\" != \"${host}\" ; then\n   AS_FOR_BUILD=${AS_FOR_BUILD-as}\n   CC_FOR_BUILD=${CC_FOR_BUILD-gcc}\n   CXX_FOR_BUILD=${CXX_FOR_BUILD-g++}\n+  DSYMUTIL_FOR_BUILD=${DSYMUTIL_FOR_BUILD-dsymutil}\n   GFORTRAN_FOR_BUILD=${GFORTRAN_FOR_BUILD-gfortran}\n   GOC_FOR_BUILD=${GOC_FOR_BUILD-gccgo}\n   GDC_FOR_BUILD=${GDC_FOR_BUILD-gdc}\n@@ -4107,6 +4106,7 @@ else\n   AS_FOR_BUILD=\"\\$(AS)\"\n   CC_FOR_BUILD=\"\\$(CC)\"\n   CXX_FOR_BUILD=\"\\$(CXX)\"\n+  DSYMUTIL_FOR_BUILD=\"\\$(DSYMUTIL)\"\n   GFORTRAN_FOR_BUILD=\"\\$(GFORTRAN)\"\n   GOC_FOR_BUILD=\"\\$(GOC)\"\n   GDC_FOR_BUILD=\"\\$(GDC)\"\n@@ -4907,6 +4907,183 @@ ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n+   { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C99\" >&5\n+$as_echo_n \"checking for $CC option to accept ISO C99... \" >&6; }\n+if ${ac_cv_prog_cc_c99+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  ac_cv_prog_cc_c99=no\n+ac_save_CC=$CC\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <stdarg.h>\n+#include <stdbool.h>\n+#include <stdlib.h>\n+#include <wchar.h>\n+#include <stdio.h>\n+\n+// Check varargs macros.  These examples are taken from C99 6.10.3.5.\n+#define debug(...) fprintf (stderr, __VA_ARGS__)\n+#define showlist(...) puts (#__VA_ARGS__)\n+#define report(test,...) ((test) ? puts (#test) : printf (__VA_ARGS__))\n+static void\n+test_varargs_macros (void)\n+{\n+  int x = 1234;\n+  int y = 5678;\n+  debug (\"Flag\");\n+  debug (\"X = %d\\n\", x);\n+  showlist (The first, second, and third items.);\n+  report (x>y, \"x is %d but y is %d\", x, y);\n+}\n+\n+// Check long long types.\n+#define BIG64 18446744073709551615ull\n+#define BIG32 4294967295ul\n+#define BIG_OK (BIG64 / BIG32 == 4294967297ull && BIG64 % BIG32 == 0)\n+#if !BIG_OK\n+  your preprocessor is broken;\n+#endif\n+#if BIG_OK\n+#else\n+  your preprocessor is broken;\n+#endif\n+static long long int bignum = -9223372036854775807LL;\n+static unsigned long long int ubignum = BIG64;\n+\n+struct incomplete_array\n+{\n+  int datasize;\n+  double data[];\n+};\n+\n+struct named_init {\n+  int number;\n+  const wchar_t *name;\n+  double average;\n+};\n+\n+typedef const char *ccp;\n+\n+static inline int\n+test_restrict (ccp restrict text)\n+{\n+  // See if C++-style comments work.\n+  // Iterate through items via the restricted pointer.\n+  // Also check for declarations in for loops.\n+  for (unsigned int i = 0; *(text+i) != '\\0'; ++i)\n+    continue;\n+  return 0;\n+}\n+\n+// Check varargs and va_copy.\n+static void\n+test_varargs (const char *format, ...)\n+{\n+  va_list args;\n+  va_start (args, format);\n+  va_list args_copy;\n+  va_copy (args_copy, args);\n+\n+  const char *str;\n+  int number;\n+  float fnumber;\n+\n+  while (*format)\n+    {\n+      switch (*format++)\n+\t{\n+\tcase 's': // string\n+\t  str = va_arg (args_copy, const char *);\n+\t  break;\n+\tcase 'd': // int\n+\t  number = va_arg (args_copy, int);\n+\t  break;\n+\tcase 'f': // float\n+\t  fnumber = va_arg (args_copy, double);\n+\t  break;\n+\tdefault:\n+\t  break;\n+\t}\n+    }\n+  va_end (args_copy);\n+  va_end (args);\n+}\n+\n+int\n+main ()\n+{\n+\n+  // Check bool.\n+  _Bool success = false;\n+\n+  // Check restrict.\n+  if (test_restrict (\"String literal\") == 0)\n+    success = true;\n+  char *restrict newvar = \"Another string\";\n+\n+  // Check varargs.\n+  test_varargs (\"s, d' f .\", \"string\", 65, 34.234);\n+  test_varargs_macros ();\n+\n+  // Check flexible array members.\n+  struct incomplete_array *ia =\n+    malloc (sizeof (struct incomplete_array) + (sizeof (double) * 10));\n+  ia->datasize = 10;\n+  for (int i = 0; i < ia->datasize; ++i)\n+    ia->data[i] = i * 1.234;\n+\n+  // Check named initializers.\n+  struct named_init ni = {\n+    .number = 34,\n+    .name = L\"Test wide string\",\n+    .average = 543.34343,\n+  };\n+\n+  ni.number = 58;\n+\n+  int dynamic_array[ni.number];\n+  dynamic_array[ni.number - 1] = 543;\n+\n+  // work around unused variable warnings\n+  return (!success || bignum == 0LL || ubignum == 0uLL || newvar[0] == 'x'\n+\t  || dynamic_array[ni.number - 1] != 543);\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+for ac_arg in '' -std=gnu99 -std=c99 -c99 -AC99 -D_STDC_C99= -qlanglvl=extc99\n+do\n+  CC=\"$ac_save_CC $ac_arg\"\n+  if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_cv_prog_cc_c99=$ac_arg\n+fi\n+rm -f core conftest.err conftest.$ac_objext\n+  test \"x$ac_cv_prog_cc_c99\" != \"xno\" && break\n+done\n+rm -f conftest.$ac_ext\n+CC=$ac_save_CC\n+\n+fi\n+# AC_CACHE_VAL\n+case \"x$ac_cv_prog_cc_c99\" in\n+  x)\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: none needed\" >&5\n+$as_echo \"none needed\" >&6; } ;;\n+  xno)\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: unsupported\" >&5\n+$as_echo \"unsupported\" >&6; } ;;\n+  *)\n+    CC=\"$CC $ac_cv_prog_cc_c99\"\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99\" >&5\n+$as_echo \"$ac_cv_prog_cc_c99\" >&6; } ;;\n+esac\n+if test \"x$ac_cv_prog_cc_c99\" != xno; then :\n+\n+fi\n+\n+\n ac_ext=cpp\n ac_cpp='$CXXCPP $CPPFLAGS'\n ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n@@ -9353,6 +9530,9 @@ case \" ${configdirs} \" in\n   *\\ gdbserver\\ *)\n     configdirs=\"${configdirs} gnulib gdbsupport\"\n     ;;\n+  *\\ sim\\ *)\n+    configdirs=\"${configdirs} gnulib\"\n+    ;;\n esac\n \n # Strip out unwanted targets.\n@@ -9888,6 +10068,7 @@ done\n \n \n \n+\n # Generate default definitions for YACC, M4, LEX and other programs that run\n # on the build machine.  These are used if the Makefile can't locate these\n # programs in objdir.\n@@ -10720,6 +10901,147 @@ fi\n \n \n \n+if test -n \"$DSYMUTIL\"; then\n+  ac_cv_prog_DSYMUTIL=$DSYMUTIL\n+elif test -n \"$ac_cv_prog_DSYMUTIL\"; then\n+  DSYMUTIL=$ac_cv_prog_DSYMUTIL\n+fi\n+\n+if test -n \"$ac_cv_prog_DSYMUTIL\"; then\n+  for ncn_progname in dsymutil; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL\"; then\n+  ac_cv_prog_DSYMUTIL=\"$DSYMUTIL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL=$ac_cv_prog_DSYMUTIL\n+if test -n \"$DSYMUTIL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL\" >&5\n+$as_echo \"$DSYMUTIL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+for ncn_progname in dsymutil; do\n+  if test -n \"$ncn_tool_prefix\"; then\n+    # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL\"; then\n+  ac_cv_prog_DSYMUTIL=\"$DSYMUTIL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL=\"${ncn_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL=$ac_cv_prog_DSYMUTIL\n+if test -n \"$DSYMUTIL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL\" >&5\n+$as_echo \"$DSYMUTIL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  if test -z \"$ac_cv_prog_DSYMUTIL\" && test $build = $host ; then\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL\"; then\n+  ac_cv_prog_DSYMUTIL=\"$DSYMUTIL\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL=$ac_cv_prog_DSYMUTIL\n+if test -n \"$DSYMUTIL\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL\" >&5\n+$as_echo \"$DSYMUTIL\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  fi\n+  test -n \"$ac_cv_prog_DSYMUTIL\" && break\n+done\n+\n+if test -z \"$ac_cv_prog_DSYMUTIL\" ; then\n+  set dummy dsymutil\n+  if test $build = $host ; then\n+    DSYMUTIL=\"$2\"\n+  else\n+    DSYMUTIL=\"${ncn_tool_prefix}$2\"\n+  fi\n+fi\n+\n+\n+\n if test -n \"$LD\"; then\n   ac_cv_prog_LD=$LD\n elif test -n \"$ac_cv_prog_LD\"; then\n@@ -13950,6 +14272,236 @@ fi\n \n \n \n+if test -z \"$ac_cv_path_DSYMUTIL_FOR_TARGET\" ; then\n+  if test -n \"$with_build_time_tools\"; then\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for dsymutil in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for dsymutil in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/dsymutil; then\n+      DSYMUTIL_FOR_TARGET=`cd $with_build_time_tools && pwd`/dsymutil\n+      ac_cv_path_DSYMUTIL_FOR_TARGET=$DSYMUTIL_FOR_TARGET\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_DSYMUTIL_FOR_TARGET\" >&5\n+$as_echo \"$ac_cv_path_DSYMUTIL_FOR_TARGET\" >&6; }\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  elif test $build != $host && test $have_gcc_for_target = yes; then\n+    DSYMUTIL_FOR_TARGET=`$GCC_FOR_TARGET --print-prog-name=dsymutil`\n+    test $DSYMUTIL_FOR_TARGET = dsymutil && DSYMUTIL_FOR_TARGET=\n+    test -n \"$DSYMUTIL_FOR_TARGET\" && ac_cv_path_DSYMUTIL_FOR_TARGET=$DSYMUTIL_FOR_TARGET\n+  fi\n+fi\n+if test -z \"$ac_cv_path_DSYMUTIL_FOR_TARGET\" && test -n \"$gcc_cv_tool_dirs\"; then\n+  # Extract the first word of \"dsymutil\", so it can be a program name with args.\n+set dummy dsymutil; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_path_DSYMUTIL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  case $DSYMUTIL_FOR_TARGET in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_DSYMUTIL_FOR_TARGET=\"$DSYMUTIL_FOR_TARGET\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $gcc_cv_tool_dirs\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_DSYMUTIL_FOR_TARGET=\"$as_dir/$ac_word$ac_exec_ext\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+  ;;\n+esac\n+fi\n+DSYMUTIL_FOR_TARGET=$ac_cv_path_DSYMUTIL_FOR_TARGET\n+if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL_FOR_TARGET\" >&5\n+$as_echo \"$DSYMUTIL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+fi\n+if test -z \"$ac_cv_path_DSYMUTIL_FOR_TARGET\" ; then\n+\n+\n+if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  ac_cv_prog_DSYMUTIL_FOR_TARGET=$DSYMUTIL_FOR_TARGET\n+elif test -n \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\"; then\n+  DSYMUTIL_FOR_TARGET=$ac_cv_prog_DSYMUTIL_FOR_TARGET\n+fi\n+\n+if test -n \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\"; then\n+  for ncn_progname in dsymutil; do\n+    # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  ac_cv_prog_DSYMUTIL_FOR_TARGET=\"$DSYMUTIL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL_FOR_TARGET=$ac_cv_prog_DSYMUTIL_FOR_TARGET\n+if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL_FOR_TARGET\" >&5\n+$as_echo \"$DSYMUTIL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\" && test -n \"$with_build_time_tools\"; then\n+  for ncn_progname in dsymutil; do\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+$as_echo_n \"checking for ${ncn_progname} in $with_build_time_tools... \" >&6; }\n+    if test -x $with_build_time_tools/${ncn_progname}; then\n+      ac_cv_prog_DSYMUTIL_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: yes\" >&5\n+$as_echo \"yes\" >&6; }\n+      break\n+    else\n+      { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+    fi\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\"; then\n+  for ncn_progname in dsymutil; do\n+    if test -n \"$ncn_target_tool_prefix\"; then\n+      # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  ac_cv_prog_DSYMUTIL_FOR_TARGET=\"$DSYMUTIL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL_FOR_TARGET=\"${ncn_target_tool_prefix}${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL_FOR_TARGET=$ac_cv_prog_DSYMUTIL_FOR_TARGET\n+if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL_FOR_TARGET\" >&5\n+$as_echo \"$DSYMUTIL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    if test -z \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\" && test $build = $target ; then\n+      # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n+set dummy ${ncn_progname}; ac_word=$2\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking for $ac_word\" >&5\n+$as_echo_n \"checking for $ac_word... \" >&6; }\n+if ${ac_cv_prog_DSYMUTIL_FOR_TARGET+:} false; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  ac_cv_prog_DSYMUTIL_FOR_TARGET=\"$DSYMUTIL_FOR_TARGET\" # Let the user override the test.\n+else\n+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+    for ac_exec_ext in '' $ac_executable_extensions; do\n+  if as_fn_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_prog_DSYMUTIL_FOR_TARGET=\"${ncn_progname}\"\n+    $as_echo \"$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+  done\n+IFS=$as_save_IFS\n+\n+fi\n+fi\n+DSYMUTIL_FOR_TARGET=$ac_cv_prog_DSYMUTIL_FOR_TARGET\n+if test -n \"$DSYMUTIL_FOR_TARGET\"; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL_FOR_TARGET\" >&5\n+$as_echo \"$DSYMUTIL_FOR_TARGET\" >&6; }\n+else\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: no\" >&5\n+$as_echo \"no\" >&6; }\n+fi\n+\n+\n+    fi\n+    test -n \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\" && break\n+  done\n+fi\n+\n+if test -z \"$ac_cv_prog_DSYMUTIL_FOR_TARGET\" ; then\n+  set dummy dsymutil\n+  if test $build = $target ; then\n+    DSYMUTIL_FOR_TARGET=\"$2\"\n+  else\n+    DSYMUTIL_FOR_TARGET=\"${ncn_target_tool_prefix}$2\"\n+  fi\n+else\n+  DSYMUTIL_FOR_TARGET=\"$ac_cv_prog_DSYMUTIL_FOR_TARGET\"\n+fi\n+\n+else\n+  DSYMUTIL_FOR_TARGET=$ac_cv_path_DSYMUTIL_FOR_TARGET\n+fi\n+\n+\n+\n+\n if test -z \"$ac_cv_path_LD_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for ld in $with_build_time_tools\" >&5\n@@ -16738,6 +17290,37 @@ $as_echo \"pre-installed\" >&6; }\n   fi\n fi\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target dsymutil\" >&5\n+$as_echo_n \"checking where to find the target dsymutil... \" >&6; }\n+if test \"x${build}\" != \"x${host}\" ; then\n+  if expr \"x$DSYMUTIL_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $DSYMUTIL_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  else\n+    # Canadian cross, just use what we found\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+else\n+  if expr \"x$DSYMUTIL_FOR_TARGET\" : \"x/\" > /dev/null; then\n+    # We already found the complete path\n+    ac_dir=`dirname $DSYMUTIL_FOR_TARGET`\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed in $ac_dir\" >&5\n+$as_echo \"pre-installed in $ac_dir\" >&6; }\n+  elif test \"x$target\" = \"x$host\"; then\n+    # We can use an host tool\n+    DSYMUTIL_FOR_TARGET='$(DSYMUTIL)'\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: host tool\" >&5\n+$as_echo \"host tool\" >&6; }\n+  else\n+    # We need a cross tool\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: pre-installed\" >&5\n+$as_echo \"pre-installed\" >&6; }\n+  fi\n+fi\n+\n { $as_echo \"$as_me:${as_lineno-$LINENO}: checking where to find the target gcc\" >&5\n $as_echo_n \"checking where to find the target gcc... \" >&6; }\n if test \"x${build}\" != \"x${host}\" ; then"}, {"sha": "1df038b04f361867333769ec3a27f7b6ed59008d", "filename": "configure.ac", "status": "modified", "additions": 19, "deletions": 23, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -151,7 +151,6 @@ target_libraries=\"target-libgcc \\\n \t\ttarget-newlib \\\n \t\ttarget-libgomp \\\n \t\ttarget-liboffloadmic \\\n-\t\ttarget-libhsail-rt \\\n \t\ttarget-libatomic \\\n \t\ttarget-libitm \\\n \t\ttarget-libstdc++-v3 \\\n@@ -300,6 +299,14 @@ AC_ARG_ENABLE(offload-targets,\n   fi\n ], [enable_offload_targets=])\n \n+AC_ARG_ENABLE(offload-defaulted,\n+[AS_HELP_STRING([--enable-offload-defaulted]\n+\t\t[If enabled, configured but not installed offload compilers and\n+\t\tlibgomp plugins are silently ignored.  Useful for distribution\n+\t\tcompilers where those are in separate optional packages.])],\n+[enable_offload_defaulted=$enableval],\n+[enable_offload_defaulted=])\n+\n # Handle --enable-gold, --enable-ld.\n # --disable-gold [--enable-ld]\n #     Build only ld.  Default option.\n@@ -601,26 +608,6 @@ if test -d ${srcdir}/libvtv; then\n     fi\n fi\n \n-\n-# Disable libhsail-rt on unsupported systems.\n-if test -d ${srcdir}/libhsail-rt; then\n-    if test x$enable_libhsail_rt = x; then\n-        AC_MSG_CHECKING([for libhsail-rt support])\n-        if (srcdir=${srcdir}/libhsail-rt; \\\n-                . ${srcdir}/configure.tgt; \\\n-                test -n \"$UNSUPPORTED\")\n-        then\n-            AC_MSG_RESULT([no])\n-            unsupported_languages=\"$unsupported_languages brig\"\n-            # This implicitly disables also target-libhsail-rt as it won't\n-            # get added to the build without BRIG FE.\n-        else\n-            AC_MSG_RESULT([yes])\n-        fi\n-    fi\n-fi\n-\n-\n # Disable libquadmath for some systems.\n case \"${target}\" in\n   avr-*-*)\n@@ -1331,7 +1318,7 @@ case \"${host}\" in\n   hppa*-*)\t\n     host_makefile_frag=\"config/mh-pa\"\n     ;;\n-  *-*-darwin*)\n+  i?86-*-darwin[[89]]* | i?86-*-darwin1[[0-7]]* | powerpc*-*-darwin*)\n     host_makefile_frag=\"config/mh-darwin\"\n     ;;\n   powerpc-*-aix*)\n@@ -1348,6 +1335,7 @@ if test \"${build}\" != \"${host}\" ; then\n   AS_FOR_BUILD=${AS_FOR_BUILD-as}\n   CC_FOR_BUILD=${CC_FOR_BUILD-gcc}\n   CXX_FOR_BUILD=${CXX_FOR_BUILD-g++}\n+  DSYMUTIL_FOR_BUILD=${DSYMUTIL_FOR_BUILD-dsymutil}\n   GFORTRAN_FOR_BUILD=${GFORTRAN_FOR_BUILD-gfortran}\n   GOC_FOR_BUILD=${GOC_FOR_BUILD-gccgo}\n   GDC_FOR_BUILD=${GDC_FOR_BUILD-gdc}\n@@ -1362,6 +1350,7 @@ else\n   AS_FOR_BUILD=\"\\$(AS)\"\n   CC_FOR_BUILD=\"\\$(CC)\"\n   CXX_FOR_BUILD=\"\\$(CXX)\"\n+  DSYMUTIL_FOR_BUILD=\"\\$(DSYMUTIL)\"\n   GFORTRAN_FOR_BUILD=\"\\$(GFORTRAN)\"\n   GOC_FOR_BUILD=\"\\$(GOC)\"\n   GDC_FOR_BUILD=\"\\$(GDC)\"\n@@ -1373,7 +1362,7 @@ else\n   WINDMC_FOR_BUILD=\"\\$(WINDMC)\"\n fi\n \n-AC_PROG_CC\n+AC_PROG_CC_C99\n AC_PROG_CXX\n \n # We must set the default linker to the linker used by gcc for the correct\n@@ -2862,6 +2851,9 @@ case \" ${configdirs} \" in\n   *\\ gdbserver\\ *)\n     configdirs=\"${configdirs} gnulib gdbsupport\"\n     ;;\n+  *\\ sim\\ *)\n+    configdirs=\"${configdirs} gnulib\"\n+    ;;\n esac\n \n # Strip out unwanted targets.\n@@ -3390,6 +3382,7 @@ AC_SUBST(CFLAGS_FOR_BUILD)\n AC_SUBST(CXXFLAGS_FOR_BUILD)\n AC_SUBST(CXX_FOR_BUILD)\n AC_SUBST(DLLTOOL_FOR_BUILD)\n+AC_SUBST(DSYMUTIL_FOR_BUILD)\n AC_SUBST(GFORTRAN_FOR_BUILD)\n AC_SUBST(GOC_FOR_BUILD)\n AC_SUBST(GDC_FOR_BUILD)\n@@ -3469,6 +3462,7 @@ esac\n NCN_STRICT_CHECK_TOOLS(AR, ar)\n NCN_STRICT_CHECK_TOOLS(AS, as)\n NCN_STRICT_CHECK_TOOLS(DLLTOOL, dlltool)\n+NCN_STRICT_CHECK_TOOLS(DSYMUTIL, dsymutil)\n NCN_STRICT_CHECK_TOOLS(LD, ld)\n NCN_STRICT_CHECK_TOOLS(LIPO, lipo)\n NCN_STRICT_CHECK_TOOLS(NM, nm)\n@@ -3508,6 +3502,7 @@ NCN_STRICT_CHECK_TARGET_TOOLS(GDC_FOR_TARGET, gdc)\n ACX_CHECK_INSTALLED_TARGET_TOOL(AR_FOR_TARGET, ar)\n ACX_CHECK_INSTALLED_TARGET_TOOL(AS_FOR_TARGET, as)\n ACX_CHECK_INSTALLED_TARGET_TOOL(DLLTOOL_FOR_TARGET, dlltool)\n+ACX_CHECK_INSTALLED_TARGET_TOOL(DSYMUTIL_FOR_TARGET, dsymutil)\n ACX_CHECK_INSTALLED_TARGET_TOOL(LD_FOR_TARGET, ld)\n ACX_CHECK_INSTALLED_TARGET_TOOL(LIPO_FOR_TARGET, lipo)\n ACX_CHECK_INSTALLED_TARGET_TOOL(NM_FOR_TARGET, nm)\n@@ -3533,6 +3528,7 @@ GCC_TARGET_TOOL(c++ for libstdc++, RAW_CXX_FOR_TARGET, CXX,\n \t\t[gcc/xgcc -shared-libgcc -B$$r/$(HOST_SUBDIR)/gcc -nostdinc++ -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/src/.libs -L$$r/$(TARGET_SUBDIR)/libstdc++-v3/libsupc++/.libs],\n \t\tc++)\n GCC_TARGET_TOOL(dlltool, DLLTOOL_FOR_TARGET, DLLTOOL, [binutils/dlltool])\n+GCC_TARGET_TOOL(dsymutil, DSYMUTIL_FOR_TARGET, DSYMUTIL)\n GCC_TARGET_TOOL(gcc, GCC_FOR_TARGET, , [gcc/xgcc -B$$r/$(HOST_SUBDIR)/gcc/])\n GCC_TARGET_TOOL(gfortran, GFORTRAN_FOR_TARGET, GFORTRAN,\n \t\t[gcc/gfortran -B$$r/$(HOST_SUBDIR)/gcc/], fortran)"}, {"sha": "464611ed04b3acbf590e59929442ac3941267c50", "filename": "contrib/ChangeLog", "status": "modified", "additions": 259, "deletions": 0, "changes": 259, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,3 +1,262 @@\n+2021-09-15  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Add FIXME note.\n+\n+2021-09-15  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Check commit email.\n+\t* gcc-changelog/test_email.py: Add new test.\n+\t* gcc-changelog/test_patches.txt: Likewise.\n+\n+2021-09-15  Richard Biener  <rguenther@suse.de>\n+\n+\t* config-list.mk: Remove vax-openbsd.\n+\n+2021-09-15  Richard Biener  <rguenther@suse.de>\n+\n+\t* config-list.mk: Remove m68k-openbsd.\n+\n+2021-09-13  Andrew Pinski  <apinski@marvell.com>\n+\n+\t* config-list.mk: Remove m32r-linux and m32rle-linux\n+\tfrom the list.\n+\n+2021-09-13  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n+\n+\t* config-list.mk (LIST): --enable-obsolete for cr16-elf.\n+\n+2021-09-06  Serge Belyshev  <belyshev@depni.sinp.msu.ru>\n+\n+\t* gcc_update: Derive human readable name for HEAD using git describe\n+\tlike \"git gcc-descr\" with short commit hash.  Drop \"revision\" from\n+\tgcc/REVISION.\n+\n+2021-08-30  Andrew Pinski  <apinski@marvell.com>\n+\n+\t* download_prerequisites (md5_check): Replace == inside\n+\ttest with = to be more portable.\n+\n+2021-08-26  Martin Liska  <mliska@suse.cz>\n+\n+\t* mklog.py: Use file.{source,target}_file for proper rename\n+\thandling.\n+\n+2021-08-24  Andrew Pinski  <apinski@marvell.com>\n+\n+\tPR other/82704\n+\t* download_prerequisites: Fix issues with --md5 and\n+\t--sha512 options.\n+\n+2021-08-18  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-git-customization.sh: Wrap $@ in quotes.\n+\t* git-commit-mklog.py: Add new argument --co.\n+\t* mklog.py: Skip the Co-Authored-By lines.\n+\n+2021-08-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* mklog.py: Support additional PRs without PR prefix.\n+\n+2021-08-03  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_update_version.py: Ignore problematic\n+\t  commit.\n+\n+2021-07-20  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* vimrc (textwidth): Change non-gitcommit length to 79.\n+\n+2021-07-02  Eugene Rozenfeld  <erozen@microsoft.com>\n+\n+\t* gen_autofdo_event.py: handle stepping, non-working PEBS\n+\n+2021-06-28  Martin Liska  <mliska@suse.cz>\n+\n+\t* mklog.py: Handle correctly long lines.\n+\t* test_mklog.py: Test it.\n+\n+2021-06-23  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-git-customization.sh: Use the new wrapper.\n+\t* git-commit-mklog.py: New file.\n+\t* prepare-commit-msg: Support GCC_MKLOG_ARGS.\n+\n+2021-06-22  Martin Liska  <mliska@suse.cz>\n+\n+\t* mklog.py: Fix flake8 issue.\n+\n+2021-06-21  Tobias Burnus  <tobias@codesourcery.com>\n+\t    Martin Sebor  <msebor@redhat.com>\n+\n+\t* mklog.py (bugzilla_url): Fetch also component.\n+\t(pr_filename_regex): New.\n+\t(get_pr_titles): Update PR string with correct format and component.\n+\t(generate_changelog): Take additional PRs; extract PR from the\n+\tfilename.\n+\t(__main__): Add -b/--pr-numbers argument.\n+\t* test_mklog.py (EXPECTED4): Update to expect a PR for the new file.\n+\n+2021-06-17  Jason Merrill  <jason@redhat.com>\n+\n+\t* mklog.py: Add an initial component: [PRnnnnn] line when\n+\twe have a PR.\n+\n+2021-06-13  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* gcc-changelog/git_commit.py (pr_regex): Add ?P<pr> for group('pr').\n+\t(subject_pr_regex, subject_pr2_regex): New.\n+\t(GitInfo.__init__, GitCommit.parse_changelog): Check subject PRs.\n+\t* gcc-changelog/git_email.py (SUBJECT_PREFIX, subject_patch_regex): New.\n+\t(GitEmail.__init__): Parse 'Subject:' and pass it to GitInfo.\n+\t* gcc-changelog/test_email.py (test_pr_only_in_subject,\n+\ttest_wrong_pr_comp_in_subject, test_copyright_years): New.\n+\t* gcc-changelog/test_patches.txt (0030-PR-c-92746, pr-check1.patch):\n+\tUpdate to avoid triggering the new check.\n+\t(0001-rs6000-Support-doubleword, pr-wrong-comp.patch,\n+\tcopyright-years.patch): New.\n+\n+2021-06-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_update_version.py: Ignore commit that\n+\tviolates rules and was somehow pushed.\n+\n+2021-05-25  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* update-copyright.py: Add c++tools.\n+\n+2021-05-24  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Add note that ChangeLog entries\n+\tare added automatically.\n+\t* gcc-changelog/test_email.py: Update test.\n+\n+2021-05-18  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\t* gcc-changelog/git_email.py: Remove use of non-strict mode.\n+\n+2021-05-17  Richard Biener  <rguenther@suse.de>\n+\n+\t* download_prerequisites: Update mpfr version to 3.1.6.\n+\t* prerequisites.md5: Update.\n+\t* prerequisites.sha512: Likewise.\n+\n+2021-05-17  Richard Biener  <rguenther@suse.de>\n+\n+\tRevert:\n+\t2021-05-14  Martin Liska  <mliska@suse.cz>\n+\n+\t* download_prerequisites: Use version 4.1.0.\n+\n+2021-05-14  Martin Liska  <mliska@suse.cz>\n+\n+\t* download_prerequisites: Use version 4.1.0.\n+\n+2021-05-14  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc-changelog/git_update_version.py: Remove releases/gcc-8 from\n+\tactive_refs.\n+\n+2021-05-14  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Support Co-Authored-By before\n+\ta first ChangeLog entry.\n+\n+2021-05-13  Martin Liska  <mliska@suse.cz>\n+\n+\t* mklog.py: Put PR entries before all ChangeLog entries\n+\t(will be added to all ChangeLog locations by Daily bump script).\n+\t* test_mklog.py: Test the new behavior.\n+\n+2021-05-12  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Simplify needle lookup.\n+\t* gcc-changelog/git_update_version.py: Pass ref_name to\n+\tparse_git_revisions.\n+\n+2021-05-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc_update: Remove libhsail-rt folder.\n+\t* update-copyright.py: Likewise.\n+\n+2021-05-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_check_commit.py: Remove --non-strict-mode.\n+\t* gcc-changelog/git_commit.py: Remove strict mode.\n+\t* gcc-changelog/git_email.py: Likewise.\n+\t* gcc-changelog/git_repository.py: Likewise.\n+\t* gcc-changelog/test_email.py: Likewise.\n+\t* gcc-changelog/test_patches.txt: Update patches so that they\n+\tdon't contain a ChangeLog file changes.\n+\n+2021-05-11  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Remove ChangeLog locations\n+\tbased on ref_name.\n+\t* gcc-changelog/git_repository.py: Likewise.\n+\n+2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_email.py: Remove newlines when --help\n+\tis used.\n+\n+2021-05-10  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* gcc-changelog/git_check_commit.py (__Main__): State in --help\n+\tthe default value for 'revisions'.\n+\t* gcc-changelog/git_email.py (show_help): Add.\n+\t(__main__): Handle -h and --help.\n+\n+2021-05-10  Tobias Burnus  <tobias@codesourcery.com>\n+\n+\t* gcc-changelog/git_commit.py (Error.__repr__): Add space after the colon.\n+\t(GitCommit.check_mentioned_files): Check whether the same file has been\n+\tspecified multiple times.\n+\t* gcc-changelog/test_email.py (TestGccChangelog.test_multi_same_file): New.\n+\t* gcc-changelog/test_patches.txt (0001-OpenMP-Fix-SIMT): New test.\n+\n+2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\tRevert:\n+\t2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Remove components that will be\n+\tremoved.\n+\n+2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc_update: Start using reload.c instead of version.c.\n+\n+2021-05-10  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Remove components that will be\n+\tremoved.\n+\n+2021-04-27  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gennews (files): Add files for GCC 10 and GCC 11.\n+\n+2021-04-22  David Edelsohn  <dje.gcc@gmail.com>\n+\n+\t* config-list.mk: Remove rs6000-ibm-aix6.1.\n+\tRename rs6000-ibm-aix7.1 to powerpc-ibm-aix7.1.\n+\tAdd powerpc-ibm-aix7.2.\n+\n+2021-04-20  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc-changelog/git_update_version.py (active_refs): Add\n+\treleases/gcc-11.\n+\n+2021-04-12  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Do not allow space in long lines.\n+\n+2021-04-12  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc-changelog/git_commit.py: Support long filenames\n+\tin entries.\n+\t* gcc-changelog/test_email.py: Test it.\n+\t* gcc-changelog/test_patches.txt: Likewise.\n+\n 2021-03-23  Martin Liska  <mliska@suse.cz>\n \n \t* mklog.py: Fix broken tests."}, {"sha": "28c0db7a26c5a9669702f72fc0bc81d21320eb20", "filename": "contrib/config-list.mk", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fconfig-list.mk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fconfig-list.mk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fconfig-list.mk?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -40,7 +40,7 @@ LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   arm-symbianelf avr-elf \\\n   bfin-elf bfin-uclinux bfin-linux-uclibc bfin-rtems bfin-openbsd \\\n   bpf-unknown-none \\\n-  c6x-elf c6x-uclinux cr16-elf cris-elf \\\n+  c6x-elf c6x-uclinux cr16-elfOPT-enable-obsolete cris-elf \\\n   csky-elf csky-linux-gnu \\\n   epiphany-elf epiphany-elfOPT-with-stack-offset=16 fido-elf \\\n   fr30-elf frv-elf frv-linux ft32-elf h8300-elf hppa-linux-gnu \\\n@@ -57,8 +57,8 @@ LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   i686-cygwinOPT-enable-threads=yes i686-mingw32crt ia64-elf \\\n   ia64-freebsd6 ia64-linux ia64-hpux ia64-hp-vms iq2000-elf lm32-elf \\\n   lm32-rtems lm32-uclinux m32c-rtems m32c-elf m32r-elf m32rle-elf \\\n-  m32r-linux m32rle-linux m68k-elf m68k-netbsdelf \\\n-  m68k-openbsd m68k-uclinux m68k-linux m68k-rtems \\\n+  m68k-elf m68k-netbsdelf \\\n+  m68k-uclinux m68k-linux m68k-rtems \\\n   mcore-elf microblaze-linux microblaze-elf \\\n   mips-netbsd \\\n   mips64el-st-linux-gnu mips64octeon-linux mipsisa64r2-linux \\\n@@ -84,7 +84,7 @@ LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   powerpcle-eabisim powerpcle-eabi \\\n   pru-elf \\\n   riscv32-unknown-linux-gnu riscv64-unknown-linux-gnu \\\n-  rs6000-ibm-aix6.1 rs6000-ibm-aix7.1 \\\n+  powerpc-ibm-aix7.1 powerpc-ibm-aix7.2 \\\n   rl78-elf rx-elf s390-linux-gnu s390x-linux-gnu s390x-ibm-tpf sh-elf \\\n   shle-linux sh-netbsdelf sh-superh-elf \\\n   sh-rtems sh-wrs-vxworks sparc-elf \\\n@@ -96,7 +96,7 @@ LIST = aarch64-elf aarch64-linux-gnu aarch64-rtems \\\n   tilegx-linux-gnuOPT-enable-obsolete tilegxbe-linux-gnuOPT-enable-obsolete \\\n   tilepro-linux-gnuOPT-enable-obsolete \\\n   v850e1-elf v850e-elf v850-elf v850-rtems vax-linux-gnu \\\n-  vax-netbsdelf vax-openbsd visium-elf x86_64-apple-darwin \\\n+  vax-netbsdelf visium-elf x86_64-apple-darwin \\\n   x86_64-pc-linux-gnuOPT-with-fpmath=avx \\\n   x86_64-elfOPT-with-fpmath=sse x86_64-freebsd6 x86_64-netbsd \\\n   x86_64-w64-mingw32 \\"}, {"sha": "11c283ecb1aab88958915cff65109ddd5801a9e1", "filename": "contrib/download_prerequisites", "status": "modified", "additions": 32, "deletions": 31, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fdownload_prerequisites", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fdownload_prerequisites", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fdownload_prerequisites?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -28,7 +28,7 @@ version='(unversioned)'\n # `contrib/prerequisites.md5` with the new checksums.\n \n gmp='gmp-6.1.0.tar.bz2'\n-mpfr='mpfr-3.1.4.tar.bz2'\n+mpfr='mpfr-3.1.6.tar.bz2'\n mpc='mpc-1.0.3.tar.gz'\n isl='isl-0.18.tar.bz2'\n \n@@ -46,18 +46,6 @@ verify=1\n force=0\n OS=$(uname)\n \n-case $OS in\n-  \"Darwin\"|\"FreeBSD\"|\"DragonFly\"|\"AIX\")\n-    chksum='shasum -a 512 --check'\n-  ;;\n-  \"OpenBSD\")\n-    chksum='sha512 -c'\n-  ;;\n-  *)\n-    chksum='sha512sum -c'\n-  ;;\n-esac\n-\n if type wget > /dev/null ; then\n   fetch='wget'\n else\n@@ -113,7 +101,7 @@ do\n done\n unset arg\n \n-# Emulate Linux's 'md5 --check' on macOS\n+# Emulate Linux's 'md5sum --check' on macOS\n md5_check() {\n   # Store the standard input: a line from contrib/prerequisites.md5:\n   md5_checksum_line=$(cat -)\n@@ -125,7 +113,7 @@ md5_check() {\n   md5_checksum_output=$(md5 -r \"${file_to_check}\")\n   # Grab the text before the first space\n   md5_checksum_detected=\"${md5_checksum_output%% *}\"\n-  [ \"${md5_checksum_expected}\" == \"${md5_checksum_detected}\" ] \\\n+  [ \"${md5_checksum_expected}\" = \"${md5_checksum_detected}\" ] \\\n     || die \"Cannot verify integrity of possibly corrupted file ${file_to_check}\"\n   echo \"${file_to_check}: OK\"\n }\n@@ -162,26 +150,10 @@ do\n                 verify=0\n                 ;;\n             --sha512)\n-                case $OS in\n-                  \"Darwin\")\n-                    chksum='shasum -a 512 --check'\n-                  ;;\n-                  *)\n-                    chksum='sha512sum --check'\n-                  ;;\n-                esac\n                 chksum_extension='sha512'\n                 verify=1\n                 ;;\n             --md5)\n-                case $OS in\n-                  \"Darwin\")\n-                    chksum='md5_check'\n-                  ;;\n-                  *)\n-                    chksum='md5 --check'\n-                  ;;\n-                esac\n                 chksum_extension='md5'\n                 verify=1\n                 ;;\n@@ -212,6 +184,35 @@ done\n [ \"x${argnext}\" = x ] || die \"Missing argument for option --${argnext}\"\n unset arg argnext\n \n+case $chksum_extension in\n+  sha512)\n+    case $OS in\n+      \"Darwin\"|\"FreeBSD\"|\"DragonFly\"|\"AIX\")\n+        chksum='shasum -a 512 --check'\n+      ;;\n+      \"OpenBSD\")\n+        chksum='sha512 -c'\n+      ;;\n+      *)\n+        chksum='sha512sum -c'\n+      ;;\n+    esac\n+  ;;\n+  md5)\n+    case $OS in\n+      \"Darwin\")\n+        chksum='md5_check'\n+      ;;\n+      *)\n+        chksum='md5sum -c'\n+      ;;\n+    esac\n+    ;;\n+  *)\n+    die \"Unkown checksum $chksum_extension\"\n+  ;;\n+esac\n+\n [ -e ./gcc/BASE-VER ]                                                         \\\n     || die \"You must run this script in the top-level GCC source directory\"\n "}, {"sha": "9a4c5d448fb1ceff095539381707e2af86754ed6", "filename": "contrib/gcc-changelog/git_check_commit.py", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_check_commit.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_check_commit.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_check_commit.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -23,19 +23,16 @@\n parser = argparse.ArgumentParser(description='Check git ChangeLog format '\n                                  'of a commit')\n parser.add_argument('revisions', default='HEAD', nargs='?',\n-                    help='Git revisions (e.g. hash~5..hash or just hash)')\n+                    help='Git revisions (e.g. hash~5..hash or just hash) - '\n+                    'if not specified: HEAD')\n parser.add_argument('-g', '--git-path', default='.',\n                     help='Path to git repository')\n parser.add_argument('-p', '--print-changelog', action='store_true',\n                     help='Print final changelog entires')\n-parser.add_argument('-n', '--non-strict-mode', action='store_true',\n-                    help='Use non-strict mode (allow changes in ChangeLog and '\n-                    'other automatically updated files).')\n args = parser.parse_args()\n \n retval = 0\n-for git_commit in parse_git_revisions(args.git_path, args.revisions,\n-                                      not args.non_strict_mode):\n+for git_commit in parse_git_revisions(args.git_path, args.revisions):\n     res = 'OK' if git_commit.success else 'FAILED'\n     print('Checking %s: %s' % (git_commit.original_info.hexsha, res))\n     if git_commit.success:"}, {"sha": "f26dc3b413573783b1c74accea5c5309f7287ef7", "filename": "contrib/gcc-changelog/git_commit.py", "status": "modified", "additions": 78, "deletions": 20, "changes": 98, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_commit.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_commit.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_commit.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -19,8 +19,9 @@\n import difflib\n import os\n import re\n+import sys\n \n-changelog_locations = {\n+default_changelog_locations = {\n     'c++tools',\n     'config',\n     'contrib',\n@@ -155,7 +156,9 @@\n         re.compile(r'^(?P<datetime>\\d{4}-\\d{2}-\\d{2})\\ {2}(?P<name>.*  <.*>)')\n additional_author_regex = re.compile(r'^\\t(?P<spaces>\\ *)?(?P<name>.*  <.*>)')\n changelog_regex = re.compile(r'^(?:[fF]or +)?([a-z0-9+-/]*)ChangeLog:?')\n-pr_regex = re.compile(r'\\tPR (?P<component>[a-z+-]+\\/)?([0-9]+)$')\n+subject_pr_regex = re.compile(r'(^|\\W)PR\\s+(?P<component>[a-zA-Z+-]+)/(?P<pr>\\d{4,7})')\n+subject_pr2_regex = re.compile(r'[(\\[]PR\\s*(?P<pr>\\d{4,7})[)\\]]')\n+pr_regex = re.compile(r'\\tPR (?P<component>[a-z+-]+\\/)?(?P<pr>[0-9]+)$')\n dr_regex = re.compile(r'\\tDR ([0-9]+)$')\n star_prefix_regex = re.compile(r'\\t\\*(?P<spaces>\\ *)(?P<content>.*)')\n end_of_location_regex = re.compile(r'[\\[<(:]')\n@@ -200,7 +203,7 @@ def __init__(self, message, line=None):\n     def __repr__(self):\n         s = self.message\n         if self.line:\n-            s += ':\"%s\"' % self.line\n+            s += ': \"%s\"' % self.line\n         return s\n \n \n@@ -287,7 +290,7 @@ def __init__(self, hexsha, date, author, lines, modified_files):\n \n \n class GitCommit:\n-    def __init__(self, info, strict=True, commit_to_info_hook=None):\n+    def __init__(self, info, commit_to_info_hook=None, ref_name=None):\n         self.original_info = info\n         self.info = info\n         self.message = None\n@@ -297,14 +300,19 @@ def __init__(self, info, strict=True, commit_to_info_hook=None):\n         self.top_level_authors = []\n         self.co_authors = []\n         self.top_level_prs = []\n+        self.subject_prs = set()\n         self.cherry_pick_commit = None\n         self.revert_commit = None\n         self.commit_to_info_hook = commit_to_info_hook\n+        self.init_changelog_locations(ref_name)\n \n         # Skip Update copyright years commits\n         if self.info.lines and self.info.lines[0] == 'Update copyright years.':\n             return\n \n+        if self.info.lines and len(self.info.lines) > 1 and self.info.lines[1]:\n+            self.errors.append(Error('Expected empty second line in commit message', info.lines[0]))\n+\n         # Identify first if the commit is a Revert commit\n         for line in self.info.lines:\n             m = revert_regex.match(line)\n@@ -314,6 +322,21 @@ def __init__(self, info, strict=True, commit_to_info_hook=None):\n         if self.revert_commit:\n             self.info = self.commit_to_info_hook(self.revert_commit)\n \n+        # The following happens for get_email.py:\n+        if not self.info:\n+            return\n+\n+        self.check_commit_email()\n+\n+        # Extract PR numbers form the subject line\n+        # Match either [PRnnnn] / (PRnnnn) or PR component/nnnn\n+        if self.info.lines and not self.revert_commit:\n+            self.subject_prs = {m.group('pr') for m in subject_pr2_regex.finditer(info.lines[0])}\n+            for m in subject_pr_regex.finditer(info.lines[0]):\n+                if not m.group('component') in bug_components:\n+                    self.errors.append(Error('invalid PR component in subject', info.lines[0]))\n+                self.subject_prs.add(m.group('pr'))\n+\n         # Allow complete deletion of ChangeLog files in a commit\n         project_files = [f for f in self.info.modified_files\n                          if (self.is_changelog_filename(f[0], allow_suffix=True) and f[1] != 'D')\n@@ -323,10 +346,12 @@ def __init__(self, info, strict=True, commit_to_info_hook=None):\n         if len(project_files) == len(self.info.modified_files):\n             # All modified files are only MISC files\n             return\n-        elif project_files and strict:\n-            self.errors.append(Error('ChangeLog, DATESTAMP, BASE-VER and '\n-                                     'DEV-PHASE updates should be done '\n-                                     'separately from normal commits'))\n+        elif project_files:\n+            err = 'ChangeLog, DATESTAMP, BASE-VER and DEV-PHASE updates ' \\\n+                  'should be done separately from normal commits\\n' \\\n+                  '(note: ChangeLog entries will be automatically ' \\\n+                  'added by a cron job)'\n+            self.errors.append(Error(err))\n             return\n \n         all_are_ignored = (len(project_files) + len(ignored_files)\n@@ -342,6 +367,9 @@ def __init__(self, info, strict=True, commit_to_info_hook=None):\n             if not self.errors:\n                 self.check_mentioned_files()\n                 self.check_for_correct_changelog()\n+        if self.subject_prs:\n+            self.errors.append(Error('PR %s in subject but not in changelog' %\n+                                     ', '.join(self.subject_prs), self.info.lines[0]))\n \n     @property\n     def success(self):\n@@ -361,15 +389,14 @@ def is_changelog_filename(cls, path, allow_suffix=False):\n         else:\n             return False\n \n-    @classmethod\n-    def find_changelog_location(cls, name):\n+    def find_changelog_location(self, name):\n         if name.startswith('\\t'):\n             name = name[1:]\n         if name.endswith(':'):\n             name = name[:-1]\n         if name.endswith('/'):\n             name = name[:-1]\n-        return name if name in changelog_locations else None\n+        return name if name in self.changelog_locations else None\n \n     @classmethod\n     def format_git_author(cls, author):\n@@ -389,6 +416,17 @@ def parse_git_name_status(cls, string):\n                 modified_files.append((parts[2], 'A'))\n         return modified_files\n \n+    def init_changelog_locations(self, ref_name):\n+        self.changelog_locations = list(default_changelog_locations)\n+        if ref_name:\n+            version = sys.maxsize\n+            if 'releases/gcc-' in ref_name:\n+                version = int(ref_name.split('-')[-1])\n+            if version >= 12:\n+                # HSA and BRIG were removed in GCC 12\n+                self.changelog_locations.remove('gcc/brig')\n+                self.changelog_locations.remove('libhsail-rt')\n+\n     def parse_lines(self, all_are_ignored):\n         body = self.info.lines\n \n@@ -397,7 +435,8 @@ def parse_lines(self, all_are_ignored):\n                 continue\n             if (changelog_regex.match(b) or self.find_changelog_location(b)\n                     or star_prefix_regex.match(b) or pr_regex.match(b)\n-                    or dr_regex.match(b) or author_line_regex.match(b)):\n+                    or dr_regex.match(b) or author_line_regex.match(b)\n+                    or b.lower().startswith(CO_AUTHORED_BY_PREFIX)):\n                 self.changes = body[i:]\n                 return\n         if not all_are_ignored:\n@@ -415,8 +454,10 @@ def parse_changelog(self):\n             if line != line.rstrip():\n                 self.errors.append(Error('trailing whitespace', line))\n             if len(line.replace('\\t', ' ' * TAB_WIDTH)) > LINE_LIMIT:\n-                self.errors.append(Error('line exceeds %d character limit'\n-                                         % LINE_LIMIT, line))\n+                # support long filenames\n+                if not line.startswith('\\t* ') or not line.endswith(':') or ' ' in line[3:-1]:\n+                    self.errors.append(Error('line exceeds %d character limit'\n+                                             % LINE_LIMIT, line))\n             m = changelog_regex.match(line)\n             if m:\n                 last_entry = ChangeLogEntry(m.group(1).rstrip('/'),\n@@ -443,7 +484,9 @@ def parse_changelog(self):\n                     else:\n                         author_tuple = (m.group('name'), None)\n                 elif pr_regex.match(line):\n-                    component = pr_regex.match(line).group('component')\n+                    m = pr_regex.match(line)\n+                    component = m.group('component')\n+                    pr = m.group('pr')\n                     if not component:\n                         self.errors.append(Error('missing PR component', line))\n                         continue\n@@ -452,6 +495,8 @@ def parse_changelog(self):\n                         continue\n                     else:\n                         pr_line = line.lstrip()\n+                    if pr in self.subject_prs:\n+                        self.subject_prs.remove(pr)\n                 elif dr_regex.match(line):\n                     pr_line = line.lstrip()\n \n@@ -584,7 +629,7 @@ def deduce_changelog_locations(self):\n                 for file in entry.files:\n                     location = self.get_file_changelog_location(file)\n                     if (location == ''\n-                       or (location and location in changelog_locations)):\n+                       or (location and location in self.changelog_locations)):\n                         if changelog and changelog != location:\n                             msg = 'could not deduce ChangeLog file, ' \\\n                                   'not unique location'\n@@ -604,11 +649,10 @@ def in_ignored_location(cls, path):\n                 return True\n         return False\n \n-    @classmethod\n-    def get_changelog_by_path(cls, path):\n+    def get_changelog_by_path(self, path):\n         components = path.split('/')\n         while components:\n-            if '/'.join(components) in changelog_locations:\n+            if '/'.join(components) in self.changelog_locations:\n                 break\n             components = components[:-1]\n         return '/'.join(components)\n@@ -627,7 +671,12 @@ def check_mentioned_files(self):\n             assert not entry.folder.endswith('/')\n             for file in entry.files:\n                 if not self.is_changelog_filename(file):\n-                    mentioned_files.add(os.path.join(entry.folder, file))\n+                    item = os.path.join(entry.folder, file)\n+                    if item in mentioned_files:\n+                        msg = 'same file specified multiple times'\n+                        self.errors.append(Error(msg, file))\n+                    else:\n+                        mentioned_files.add(item)\n             for pattern in entry.file_patterns:\n                 mentioned_patterns.append(os.path.join(entry.folder, pattern))\n \n@@ -756,3 +805,12 @@ def print_errors(self):\n         print('Errors:')\n         for error in self.errors:\n             print(error)\n+\n+    def check_commit_email(self):\n+        # Parse 'Martin Liska  <mliska@suse.cz>'\n+        email = self.info.author.split(' ')[-1].strip('<>')\n+\n+        # Verify that all characters are ASCII\n+        # TODO: Python 3.7 provides a nicer function: isascii\n+        if len(email) != len(email.encode()):\n+            self.errors.append(Error(f'non-ASCII characters in git commit email address ({email})'))"}, {"sha": "87b419cae5d665cb919c335674f15a3d8f67a116", "filename": "contrib/gcc-changelog/git_email.py", "status": "modified", "additions": 39, "deletions": 8, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_email.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_email.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_email.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -17,6 +17,7 @@\n # <http://www.gnu.org/licenses/>.  */\n \n import os\n+import re\n import sys\n from itertools import takewhile\n \n@@ -28,16 +29,20 @@\n \n DATE_PREFIX = 'Date: '\n FROM_PREFIX = 'From: '\n+SUBJECT_PREFIX = 'Subject: '\n+subject_patch_regex = re.compile(r'^\\[PATCH( \\d+/\\d+)?\\] ')\n unidiff_supports_renaming = hasattr(PatchedFile(), 'is_rename')\n \n \n class GitEmail(GitCommit):\n-    def __init__(self, filename, strict=False):\n+    def __init__(self, filename):\n         self.filename = filename\n         diff = PatchSet.from_filename(filename)\n         date = None\n         author = None\n+        subject = ''\n \n+        subject_last = False\n         with open(self.filename, 'r') as f:\n             lines = f.read().splitlines()\n         lines = list(takewhile(lambda line: line != '---', lines))\n@@ -46,8 +51,21 @@ def __init__(self, filename, strict=False):\n                 date = parse(line[len(DATE_PREFIX):])\n             elif line.startswith(FROM_PREFIX):\n                 author = GitCommit.format_git_author(line[len(FROM_PREFIX):])\n+            elif line.startswith(SUBJECT_PREFIX):\n+                subject = line[len(SUBJECT_PREFIX):]\n+                subject_last = True\n+            elif subject_last and line.startswith(' '):\n+                subject += line\n+            elif line == '':\n+                break\n+            else:\n+                subject_last = False\n+\n+        if subject:\n+            subject = subject_patch_regex.sub('', subject)\n         header = list(takewhile(lambda line: line != '', lines))\n-        body = lines[len(header) + 1:]\n+        # Note: commit message consists of email subject, empty line, email body\n+        message = [subject] + lines[len(header):]\n \n         modified_files = []\n         for f in diff:\n@@ -67,15 +85,28 @@ def __init__(self, filename, strict=False):\n             else:\n                 t = 'M'\n             modified_files.append((target if t != 'D' else source, t))\n-        git_info = GitInfo(None, date, author, body, modified_files)\n-        super().__init__(git_info, strict=strict,\n+        git_info = GitInfo(None, date, author, message, modified_files)\n+        super().__init__(git_info,\n                          commit_to_info_hook=lambda x: None)\n \n \n-# With zero arguments, process every patch file in the ./patches directory.\n-# With one argument, process the named patch file.\n-# Patch files must be in 'git format-patch' format.\n+def show_help():\n+    print(\"\"\"usage: git_email.py [--help] [patch file ...]\n+\n+Check git ChangeLog format of a patch\n+\n+With zero arguments, process every patch file in the\n+./patches directory.\n+With one argument, process the named patch file.\n+\n+Patch files must be in 'git format-patch' format.\"\"\")\n+    sys.exit(0)\n+\n+\n if __name__ == '__main__':\n+    if len(sys.argv) == 2 and (sys.argv[1] == '-h' or sys.argv[1] == '--help'):\n+        show_help()\n+\n     if len(sys.argv) == 1:\n         allfiles = []\n         for root, _dirs, files in os.walk('patches'):\n@@ -97,7 +128,7 @@ def __init__(self, filename, strict=False):\n         print()\n         print('Successfully parsed: %d/%d' % (success, len(allfiles)))\n     else:\n-        email = GitEmail(sys.argv[1], False)\n+        email = GitEmail(sys.argv[1])\n         if email.success:\n             print('OK')\n             email.print_output()"}, {"sha": "2d688826ff84d006050e690c38e4b416872bba5f", "filename": "contrib/gcc-changelog/git_repository.py", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_repository.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_repository.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_repository.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -29,7 +29,7 @@\n from git_commit import GitCommit, GitInfo, decode_path\n \n \n-def parse_git_revisions(repo_path, revisions, strict=True):\n+def parse_git_revisions(repo_path, revisions, ref_name=None):\n     repo = Repo(repo_path)\n \n     def commit_to_info(commit):\n@@ -72,7 +72,8 @@ def commit_to_info(commit):\n         commits = [repo.commit(revisions)]\n \n     for commit in commits:\n-        git_commit = GitCommit(commit_to_info(commit.hexsha), strict=strict,\n-                               commit_to_info_hook=commit_to_info)\n+        git_commit = GitCommit(commit_to_info(commit.hexsha),\n+                               commit_to_info_hook=commit_to_info,\n+                               ref_name=ref_name)\n         parsed_commits.append(git_commit)\n     return parsed_commits"}, {"sha": "1837c1a8d7fafcf658e3a6cf112fcfea12d9e8be", "filename": "contrib/gcc-changelog/git_update_version.py", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_update_version.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Fgit_update_version.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Fgit_update_version.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -27,7 +27,10 @@\n current_timestamp = datetime.datetime.now().strftime('%Y%m%d\\n')\n \n # Skip the following commits, they cannot be correctly processed\n-IGNORED_COMMITS = ('c2be82058fb40f3ae891c68d185ff53e07f14f45')\n+IGNORED_COMMITS = (\n+        'c2be82058fb40f3ae891c68d185ff53e07f14f45',\n+        '04a040d907a83af54e0a98bdba5bfabc0ef4f700',\n+        '2e96b5f14e4025691b57d2301d71aa6092ed44bc')\n \n \n def read_timestamp(path):\n@@ -57,7 +60,8 @@ def prepend_to_changelog_files(repo, folder, git_commit, add_to_git):\n             repo.git.add(full_path)\n \n \n-active_refs = ['master', 'releases/gcc-8', 'releases/gcc-9', 'releases/gcc-10']\n+active_refs = ['master', 'releases/gcc-9', 'releases/gcc-10',\n+               'releases/gcc-11']\n \n parser = argparse.ArgumentParser(description='Update DATESTAMP and generate '\n                                  'ChangeLog entries')\n@@ -77,7 +81,7 @@ def prepend_to_changelog_files(repo, folder, git_commit, add_to_git):\n origin = repo.remotes['origin']\n \n \n-def update_current_branch():\n+def update_current_branch(ref_name):\n     commit = repo.head.commit\n     commit_count = 1\n     while commit:\n@@ -100,7 +104,7 @@ def update_current_branch():\n         if len(head.parents) == 2:\n             head = head.parents[1]\n         commits = parse_git_revisions(args.git_path, '%s..%s'\n-                                      % (commit.hexsha, head.hexsha))\n+                                      % (commit.hexsha, head.hexsha), ref_name)\n         commits = [c for c in commits if c.info.hexsha not in IGNORED_COMMITS]\n         for git_commit in reversed(commits):\n             prepend_to_changelog_files(repo, args.git_path, git_commit,\n@@ -144,6 +148,6 @@ def update_current_branch():\n             branch.checkout()\n             origin.pull(rebase=True)\n             print('branch pulled and checked out')\n-            update_current_branch()\n+            update_current_branch(name)\n             assert not repo.index.diff(None)\n             print('branch is done\\n', flush=True)"}, {"sha": "dae7c27c707944375e355c8fbc516d36595fc729", "filename": "contrib/gcc-changelog/test_email.py", "status": "modified", "additions": 36, "deletions": 11, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Ftest_email.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Ftest_email.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_email.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -62,17 +62,17 @@ def tearDown(self):\n             assert t.endswith('.patch')\n             os.remove(t)\n \n-    def get_git_email(self, filename, strict=False):\n+    def get_git_email(self, filename):\n         with tempfile.NamedTemporaryFile(mode='w+', suffix='.patch',\n                                          delete=False) as f:\n             f.write('\\n'.join(self.patches[filename]))\n             self.temps.append(f.name)\n-        return GitEmail(f.name, strict)\n+        return GitEmail(f.name)\n \n-    def from_patch_glob(self, name, strict=False):\n+    def from_patch_glob(self, name):\n         files = [f for f in self.patches.keys() if f.startswith(name)]\n         assert len(files) == 1\n-        return self.get_git_email(files[0], strict)\n+        return self.get_git_email(files[0])\n \n     def test_simple_patch_format(self):\n         email = self.get_git_email('0577-aarch64-Add-an-and.patch')\n@@ -247,26 +247,25 @@ def test_unique_prs(self):\n         assert email.changelog_entries[1].prs == []\n \n     def test_multiple_prs_not_added(self):\n-        email = self.from_patch_glob('0001-Add-patch_are')\n+        email = self.from_patch_glob('0002-Add-patch_are')\n         assert not email.errors\n         assert email.changelog_entries[0].prs == ['PR target/93492']\n         assert email.changelog_entries[1].prs == ['PR target/12345']\n         assert email.changelog_entries[2].prs == []\n         assert email.changelog_entries[2].folder == 'gcc/testsuite'\n \n     def test_strict_mode(self):\n-        email = self.from_patch_glob('0001-Add-patch_are',\n-                                     True)\n+        email = self.from_patch_glob('0001-Add-patch_are')\n         msg = 'ChangeLog, DATESTAMP, BASE-VER and DEV-PHASE updates should ' \\\n               'be done separately from normal commits'\n-        assert email.errors[0].message == msg\n+        assert email.errors[0].message.startswith(msg)\n \n     def test_strict_mode_normal_patch(self):\n-        email = self.get_git_email('0001-Just-test-it.patch', True)\n+        email = self.get_git_email('0001-Just-test-it.patch')\n         assert not email.errors\n \n     def test_strict_mode_datestamp_only(self):\n-        email = self.get_git_email('0002-Bump-date.patch', True)\n+        email = self.get_git_email('0002-Bump-date.patch')\n         assert not email.errors\n \n     def test_wrong_changelog_entry(self):\n@@ -418,5 +417,31 @@ def test_multiline_bad_parentheses(self):\n         assert email.errors[0].message == 'bad parentheses wrapping'\n \n     def test_changelog_removal(self):\n-        email = self.from_patch_glob('0001-ChangeLog-removal.patch', strict=True)\n+        email = self.from_patch_glob('0001-ChangeLog-removal.patch')\n         assert not email.errors\n+\n+    def test_long_filenames(self):\n+        email = self.from_patch_glob('0001-long-filenames')\n+        assert not email.errors\n+\n+    def test_multi_same_file(self):\n+        email = self.from_patch_glob('0001-OpenMP-Fix-SIMT')\n+        assert email.errors[0].message == 'same file specified multiple times'\n+\n+    def test_pr_only_in_subject(self):\n+        email = self.from_patch_glob('0001-rs6000-Support-doubleword')\n+        assert (email.errors[0].message ==\n+                'PR 100085 in subject but not in changelog')\n+\n+    def test_wrong_pr_comp_in_subject(self):\n+        email = self.from_patch_glob('pr-wrong-comp.patch')\n+        assert email.errors[0].message == 'invalid PR component in subject'\n+\n+    def test_copyright_years(self):\n+        email = self.from_patch_glob('copyright-years.patch')\n+        assert not email.errors\n+\n+    def test_non_ascii_email(self):\n+        email = self.from_patch_glob('non-ascii-email.patch')\n+        assert (email.errors[0].message ==\n+                'non-ASCII characters in git commit email address (jbglaw@\u0142ug-owl.de)')"}, {"sha": "98a0d3f1ee022859b86d55f531cdea490887087e", "filename": "contrib/gcc-changelog/test_patches.txt", "status": "modified", "additions": 264, "deletions": 286, "changes": 550, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Ftest_patches.txt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-changelog%2Ftest_patches.txt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-changelog%2Ftest_patches.txt?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -68,13 +68,6 @@ xxxx-xx-xx  Claudiu Zissulescu  <claziss@synopsys.com>\n  create mode 100644 gcc/testsuite/gcc.target/arc/uncached-7.c\n  create mode 100644 gcc/testsuite/gcc.target/arc/uncached-8.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 91dfcd71a4b..2cc61d68cf3 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/arc/arc.c b/gcc/config/arc/arc.c\n index 22475f2732e..e1a865f02e6 100644\n --- a/gcc/config/arc/arc.c\n@@ -88,13 +81,6 @@ index cf7aa8d83c9..46cb254ed28 100644\n +++ b/gcc/config/arc/arc.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 16ddef07516..991934272e0 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/arc/arc.exp b/gcc/testsuite/gcc.target/arc/arc.exp\n index 8d1844edd22..501d4589c53 100644\n@@ -199,20 +185,6 @@ without any data fields.\n  4 files changed, 36 insertions(+)\n  create mode 100644 gcc/testsuite/g++.dg/tree-ssa/pr93667.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 77c2a9ad810..6b53f9a2f07 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 9b4fe11a6f6..8033fa0a3bb 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/testsuite/g++.dg/tree-ssa/pr93667.C b/gcc/testsuite/g++.dg/tree-ssa/pr93667.C\n new file mode 100644\n index 00000000000..d875f53d9ec\n@@ -275,20 +247,6 @@ Subject: [PATCH 0413/2034] SRA: Total scalarization after access propagation\n  5 files changed, 537 insertions(+), 184 deletions(-)\n  create mode 100644 gcc/testsuite/gcc.dg/tree-ssa/pr92706-2.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 16247a59304..61da54df346 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 05518848829..38758207989 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/testsuite/gcc.dg/guality/pr59776.c b/gcc/testsuite/gcc.dg/guality/pr59776.c\n index 382abb622bb..6c1c8165b70 100644\n --- a/gcc/testsuite/gcc.dg/guality/pr59776.c\n@@ -333,26 +291,12 @@ Subject: [PATCH 0334/2034] Do not generate a unique fnname for resolver.\n  gcc/testsuite/gcc.target/i386/pr81213.c |  4 ++--\n  4 files changed, 19 insertions(+), 17 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 45075840824..59806baa757 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/i386/i386-features.c b/gcc/config/i386/i386-features.c\n index e580b26b995..b49e6f8d408 100644\n --- a/gcc/config/i386/i386-features.c\n +++ b/gcc/config/i386/i386-features.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 2de060843d9..22a37dd1ab2 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/i386/pr81213.c b/gcc/testsuite/gcc.target/i386/pr81213.c\n index 13e15d5fef0..89c47529861 100644\n@@ -396,26 +340,12 @@ Co-Authored-By: Jakub Jelinek <jakub@redhat.com>\n  8 files changed, 142 insertions(+), 22 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/pr94314-4.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 74dbeeb44c6..9e499ec9c86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cgraphclones.c b/gcc/cgraphclones.c\n index c73b8f810f0..8f541a28b6e 100644\n --- a/gcc/cgraphclones.c\n +++ b/gcc/cgraphclones.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 756f1d759e6..94d2312022d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/pr94314-2.C b/gcc/testsuite/g++.dg/pr94314-2.C\n index 36b93ed6d4d..998ce601767 100644\n@@ -492,13 +422,6 @@ https://gcc.gnu.org/ml/gcc-patches/2020-01/msg00809.html\n  3 files changed, 24 insertions(+), 5 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/template/pr90916.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 004ce0fdcdf..3cc7c48b490 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index fa82ecad233..4fdc74f9ca8 100644\n --- a/gcc/cp/pt.c\n@@ -539,13 +462,6 @@ not broken, but this is both safer and satisfies static analysis.\n  libgomp/plugin/plugin-gcn.c | 8 ++++++++\n  2 files changed, 17 insertions(+)\n \n-diff --git a/libgomp/ChangeLog b/libgomp/ChangeLog\n-index c524abbbfb6..ee1764d4ae3 100644\n---- a/libgomp/ChangeLog\n-+++ b/libgomp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/libgomp/plugin/plugin-gcn.c b/libgomp/plugin/plugin-gcn.c\n index dc72c90962c..4c6a4c03b6e 100644\n --- a/libgomp/plugin/plugin-gcn.c\n@@ -578,13 +494,6 @@ ChangeLog:\n  gcc/tree-into-ssa.c | 59 ++++++++++++++++++++++++++++++++++++---------\n  2 files changed, 55 insertions(+), 12 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 8c17e5992d2..262f0d6506f 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-into-ssa.c b/gcc/tree-into-ssa.c\n index c27bf2ce121..6528acac31a 100644\n --- a/gcc/tree-into-ssa.c\n@@ -683,26 +592,12 @@ just the C-family ones that defined a forwarding macro.\n  17 files changed, 146 insertions(+), 95 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/cpp/pr80005.C\n \n-diff --git a/gcc/c-family/ChangeLog b/gcc/c-family/ChangeLog\n-index 09ba2c8b40f..fdddb98a74d 100644\n---- a/gcc/c-family/ChangeLog\n-+++ b/gcc/c-family/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/c-family/c-cppbuiltin.c b/gcc/c-family/c-cppbuiltin.c\n index a6308921dc9..70a12055e27 100644\n --- a/gcc/c-family/c-cppbuiltin.c\n +++ b/gcc/c-family/c-cppbuiltin.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index a526e32ac89..67d5f2e9e28 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/cpp/pr80005.C b/gcc/testsuite/g++.dg/cpp/pr80005.C\n new file mode 100644\n@@ -731,13 +626,6 @@ index dd15cd6af3c..82fd602f9f1 100644\n +++ b/gcc/testsuite/g++.dg/cpp2a/feat-cxx2a.C\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/libcpp/ChangeLog b/libcpp/ChangeLog\n-index 3249b93fe88..27a841bbdce 100644\n---- a/libcpp/ChangeLog\n-+++ b/libcpp/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/libcpp/directives.c b/libcpp/directives.c\n index 983206a5838..10735c8c668 100644\n@@ -825,13 +713,6 @@ Subject: [PATCH 0004/2034] tree-opt: Fix bootstrap failure in\n  gcc/tree-ssa-forwprop.c | 6 +++---\n  2 files changed, 12 insertions(+), 3 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a195863212e..f7df07343d1 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-ssa-forwprop.c b/gcc/tree-ssa-forwprop.c\n index aac31d02b6c..56c470f6ecf 100644\n --- a/gcc/tree-ssa-forwprop.c\n@@ -898,13 +779,6 @@ Subject: [PATCH 0735/2034] PR 87488: Add --with-diagnostics-urls configuration\n  gcc/pretty-print.h     |   5 +-\n  11 files changed, 328 insertions(+), 26 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index e6eb6ab4c21..22f990a3088 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config.in b/gcc/config.in\n index 48292861842..01fb18dbbb5 100644\n --- a/gcc/config.in\n@@ -1000,13 +874,6 @@ gcc/ChangeLog\n  gcc/cfgloopanal.c | 5 ++++-\n  2 files changed, 9 insertions(+), 1 deletion(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 07e5bebe909..f3301b16464 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cfgloopanal.c b/gcc/cfgloopanal.c\n index 392b1c337c4..0b33e8272a7 100644\n --- a/gcc/cfgloopanal.c\n@@ -1073,13 +940,6 @@ Subject: [PATCH 0735/2034] PR 87488: Add --with-diagnostics-urls configuration\n  gcc/pretty-print.h     |   5 +-\n  11 files changed, 328 insertions(+), 26 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index e6eb6ab4c21..22f990a3088 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config.in b/gcc/config.in\n index 48292861842..01fb18dbbb5 100644\n --- a/gcc/config.in\n@@ -1187,26 +1047,12 @@ co-authored-by: John Miller2 <jm2@example.com>\n  8 files changed, 142 insertions(+), 22 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/pr94314-4.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 74dbeeb44c6..9e499ec9c86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cgraphclones.c b/gcc/cgraphclones.c\n index c73b8f810f0..8f541a28b6e 100644\n --- a/gcc/cgraphclones.c\n +++ b/gcc/cgraphclones.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 756f1d759e6..94d2312022d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/pr94314-2.C b/gcc/testsuite/g++.dg/pr94314-2.C\n index 36b93ed6d4d..998ce601767 100644\n@@ -1299,26 +1145,12 @@ if it isn't a REG or SUBREG of REG.\n  4 files changed, 51 insertions(+), 19 deletions(-)\n  create mode 100644 gcc/testsuite/gcc.dg/pr94291.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a1ab9fb4ef3..12803e90b0a 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/combine.c b/gcc/combine.c\n index 58366a6d331..cff76cd3303 100644\n --- a/gcc/combine.c\n +++ b/gcc/combine.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 71b5a14bcbe..3cbf891d58d 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.dg/pr94291.c b/gcc/testsuite/gcc.dg/pr94291.c\n new file mode 100644\n@@ -1389,13 +1221,6 @@ index e85a8e8813e..fb776ba5a0e 100644\n +++ b/gcc/ChangeLog\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/c-family/ChangeLog b/gcc/c-family/ChangeLog\n-index c429b49e68c..69ea1fdc4f3 100644\n---- a/gcc/c-family/ChangeLog\n-+++ b/gcc/c-family/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/c-family/c-attribs.c b/gcc/c-family/c-attribs.c\n index ac936d5bbbb..a101312c581 100644\n@@ -1432,10 +1257,122 @@ index c212a1a57dc..3dccef39701 100644\n @@ -1 +1,2 @@\n \n +\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 176aa117904..185f9ea725e 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+new file mode 100644\n+index 00000000000..f60bf46cfe3\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+new file mode 100644\n+index 00000000000..90f88c78be7\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+new file mode 100644\n+index 00000000000..4490e5c15ca\n+--- /dev/null\n++++ b/gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+@@ -0,0 +1 @@\n++\n+diff --git a/gcc/varasm.c b/gcc/varasm.c\n+index 271a67abf56..f062e48071f 100644\n+--- a/gcc/varasm.c\n++++ b/gcc/varasm.c\n+@@ -1 +1,2 @@\n+\n++\n+-- \n+2.26.2\n+\n+=== 0002-Add-patch_area_size-and-patch_area_entry-to-crtl.patch ===\n+From 6607bdd99994c834f92fce924abdaea3405f62dc Mon Sep 17 00:00:00 2001\n+From: \"H.J. Lu\" <hjl.tools@gmail.com>\n+Date: Fri, 1 May 2020 21:03:10 -0700\n+Subject: [PATCH] Add patch_area_size and patch_area_entry to crtl\n+\n+Currently patchable area is at the wrong place.  It is placed immediately\n+after function label and before .cfi_startproc.  A backend should be able\n+to add a pseudo patchable area instruction durectly into RTL.  This patch\n+adds patch_area_size and patch_area_entry to crtl so that the patchable\n+area info is available in RTL passes.\n+\n+It also limits patch_area_size and patch_area_entry to 65535, which is\n+a reasonable maximum size for patchable area.\n+\n+gcc/\n+\n+\tPR target/93492\n+\t* cfgexpand.c (pass_expand::execute): Set crtl->patch_area_size\n+\tand crtl->patch_area_entry.\n+\t* emit-rtl.h (rtl_data): Add patch_area_size and patch_area_entry.\n+\t* opts.c (common_handle_option): Limit\n+\tfunction_entry_patch_area_size and function_entry_patch_area_start\n+\tto USHRT_MAX.  Fix a typo in error message.\n+\t* varasm.c (assemble_start_function): Use crtl->patch_area_size\n+\tand crtl->patch_area_entry.\n+\t* doc/invoke.texi: Document the maximum value for\n+\t-fpatchable-function-entry.\n+\n+gcc/c-family/\n+\n+\tPR target/12345\n+\t* c-attribs.c (handle_patchable_function_entry_attribute): Limit\n+\tvalue to USHRT_MAX (65535).\n+\n+---\n+ gcc/ChangeLog                                 | 14 ++++++++\n+ gcc/c-family/ChangeLog                        |  6 ++++\n+ gcc/c-family/c-attribs.c                      |  9 +++++\n+ gcc/cfgexpand.c                               | 33 +++++++++++++++++++\n+ gcc/doc/invoke.texi                           |  1 +\n+ gcc/emit-rtl.h                                |  6 ++++\n+ gcc/opts.c                                    |  4 ++-\n+ gcc/testsuite/ChangeLog                       |  7 ++++\n+ .../patchable_function_entry-error-1.c        |  9 +++++\n+ .../patchable_function_entry-error-2.c        |  9 +++++\n+ .../patchable_function_entry-error-3.c        | 17 ++++++++++\n+ gcc/varasm.c                                  | 30 ++---------------\n+ 12 files changed, 116 insertions(+), 29 deletions(-)\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-2.c\n+ create mode 100644 gcc/testsuite/c-c++-common/patchable_function_entry-error-3.c\n+\n+diff --git a/gcc/c-family/c-attribs.c b/gcc/c-family/c-attribs.c\n+index ac936d5bbbb..a101312c581 100644\n+--- a/gcc/c-family/c-attribs.c\n++++ b/gcc/c-family/c-attribs.c\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/cfgexpand.c b/gcc/cfgexpand.c\n+index a7ec77d5c85..86efa22bf60 100644\n+--- a/gcc/cfgexpand.c\n++++ b/gcc/cfgexpand.c\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/doc/invoke.texi b/gcc/doc/invoke.texi\n+index 527d362533a..767d1f07801 100644\n+--- a/gcc/doc/invoke.texi\n++++ b/gcc/doc/invoke.texi\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/emit-rtl.h b/gcc/emit-rtl.h\n+index a878efe3cf7..3d6565c8a30 100644\n+--- a/gcc/emit-rtl.h\n++++ b/gcc/emit-rtl.h\n+@@ -1 +1,2 @@\n+\n++\n+diff --git a/gcc/opts.c b/gcc/opts.c\n+index c212a1a57dc..3dccef39701 100644\n+--- a/gcc/opts.c\n++++ b/gcc/opts.c\n @@ -1 +1,2 @@\n \n +\n@@ -1497,13 +1434,6 @@ gcc/cp/ChangeLog\n  3 files changed, 40 insertions(+), 18 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/cpp2a/lambda-generic-variadic20.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 640e4948130..4b6691a77f0 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index 7bf249cee5c..2fe7b66707c 100644\n --- a/gcc/cp/pt.c\n@@ -1531,6 +1461,7 @@ Subject: [PATCH 0030/2034] \tPR c++/92746 - ICE with noexcept of function\n Another place that needs to specially handle Concepts TS function-style\n concepts.\n \n+\tPR c++/92746\n \t* except.c (check_noexcept_r): Handle concept-check.\n ---\n  gcc/cp/ChangeLog                            | 3 +++\n@@ -1539,13 +1470,6 @@ concepts.\n  3 files changed, 11 insertions(+)\n  create mode 100644 gcc/testsuite/g++.dg/concepts/fn-concept3.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 59646c70fa4..4729e3d331d 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/except.c b/gcc/cp/except.c\n index e073bd4d2bc..55b4b6af442 100644\n --- a/gcc/cp/except.c\n@@ -1573,13 +1497,6 @@ Subject: [PATCH 0129/2034] Add PR number to change log\n  gcc/ChangeLog | 1 +\n  1 file changed, 1 insertion(+)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 6c6d586ca75..49ca5f92dec 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n -- \n 2.26.1\n \n@@ -1616,13 +1533,6 @@ gcc/testsuite/\n  6 files changed, 132 insertions(+)\n  create mode 100644 gcc/testsuite/gcc.target/aarch64/movk_2.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index efbbbf08225..cea8ffee99c 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/aarch64/aarch64-protos.h b/gcc/config/aarch64/aarch64-protos.h\n index 24cc65a383a..d29975a8921 100644\n --- a/gcc/config/aarch64/aarch64-protos.h\n@@ -1643,13 +1553,6 @@ index 90eebce85c0..9c1f17d0f85 100644\n +++ b/gcc/config/aarch64/aarch64.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 601bc336290..cdb26581b9c 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/aarch64/movk_2.c b/gcc/testsuite/gcc.target/aarch64/movk_2.c\n new file mode 100644\n@@ -1836,26 +1739,12 @@ already).\n  gcc/testsuite/g++.dg/tree-ssa/pr27830.C |  2 ++\n  4 files changed, 47 insertions(+), 5 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 06f7eda0033..93c3076eb86 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/rs6000/rs6000-call.c b/gcc/config/rs6000/rs6000-call.c\n index e08621ace27..a9ae7ab70ca 100644\n --- a/gcc/config/rs6000/rs6000-call.c\n +++ b/gcc/config/rs6000/rs6000-call.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 684e408c1a5..245c1512c76 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/tree-ssa/pr27830.C b/gcc/testsuite/g++.dg/tree-ssa/pr27830.C\n index 01c7fc18783..551ebc428cd 100644\n@@ -1968,13 +1857,6 @@ index c212a1a57dc..3dccef39701 100644\n +++ b/gcc/opts.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 176aa117904..185f9ea725e 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c b/gcc/testsuite/c-c++-common/patchable_function_entry-error-1.c\n new file mode 100644\n@@ -2082,13 +1964,6 @@ Subject: [PATCH 0004/2034] tree-opt: Fix bootstrap failure in\n  gcc/tree-ssa-forwprop.c | 6 +++---\n  2 files changed, 12 insertions(+), 3 deletions(-)\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index a195863212e..f7df07343d1 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/tree-ssa-forwprop.c b/gcc/tree-ssa-forwprop.c\n index aac31d02b6c..56c470f6ecf 100644\n --- a/gcc/tree-ssa-forwprop.c\n@@ -2103,7 +1978,7 @@ index aac31d02b6c..56c470f6ecf 100644\n From 5194b51ed9714808d88827531e91474895b6c706 Mon Sep 17 00:00:00 2001\n From: Jason Merrill <jason@redhat.com>\n Date: Thu, 16 Jan 2020 16:55:39 -0500\n-Subject: [PATCH 0121/2034] PR c++/93286 - ICE with __is_constructible and\n+Subject: [PATCH 0121/2034] PR c++/12345 - ICE with __is_constructible and\n  variadic template.\n \n Here we had been recursing in tsubst_copy_and_build if type2 was a TREE_LIST\n@@ -2125,13 +2000,6 @@ gcc/testsuite/ChangeLog:\n  3 files changed, 89 insertions(+), 7 deletions(-)\n  create mode 100644 gcc/testsuite/g++.dg/ext/is_constructible4.C\n \n-diff --git a/gcc/cp/ChangeLog b/gcc/cp/ChangeLog\n-index 3ca5d7a11b4..c37e461bcc5 100644\n---- a/gcc/cp/ChangeLog\n-+++ b/gcc/cp/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/cp/pt.c b/gcc/cp/pt.c\n index 9bb8cc13e5f..872f8ff8f52 100644\n --- a/gcc/cp/pt.c\n@@ -2210,26 +2078,12 @@ Subject: [PATCH 0043/2034] Compare TREE_ADDRESSABLE and TYPE_MODE when ODR\n  create mode 100644 gcc/testsuite/g++.dg/lto/odr-8_0.C\n  create mode 100644 gcc/testsuite/g++.dg/lto/odr-8_1.C\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 38165123654..33ca91a6467 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/ipa-devirt.c b/gcc/ipa-devirt.c\n index f0031957375..b609a77701d 100644\n --- a/gcc/ipa-devirt.c\n +++ b/gcc/ipa-devirt.c\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 8e3b9105188..dc42601794b 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/g++.dg/lto/odr-8_0.C b/gcc/testsuite/g++.dg/lto/odr-8_0.C\n new file mode 100644\n@@ -2302,13 +2156,6 @@ gcc/testsuite/ChangeLog:\n  create mode 100755 gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-3.c\n  create mode 100755 gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-4.c\n \n-diff --git a/gcc/ChangeLog b/gcc/ChangeLog\n-index 9a949980699..49dcecb6777 100644\n---- a/gcc/ChangeLog\n-+++ b/gcc/ChangeLog\n-@@ -1 +1,2 @@\n-\n-+\n diff --git a/gcc/config/aarch64/aarch64-builtins.c b/gcc/config/aarch64/aarch64-builtins.c\n index f0e0461b7f0..f50c4857e1c 100644\n --- a/gcc/config/aarch64/aarch64-builtins.c\n@@ -2343,13 +2190,6 @@ index b9843b83c5f..83720d9802a 100644\n +++ b/gcc/config/aarch64/iterators.md\n @@ -1 +1,2 @@\n \n-+\n-diff --git a/gcc/testsuite/ChangeLog b/gcc/testsuite/ChangeLog\n-index 0d8aa6063a7..8b01aa06a40 100644\n---- a/gcc/testsuite/ChangeLog\n-+++ b/gcc/testsuite/ChangeLog\n-@@ -1 +1,2 @@\n-\n +\n diff --git a/gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-1.c b/gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-3-1.c\n new file mode 100755\n@@ -3408,14 +3248,6 @@ Subject: [PATCH] Fix a changelog.\n  gcc/ChangeLog-2020 | 1 +\n  1 file changed, 1 insertion(+)\n \n-diff --git a/gcc/ChangeLog-2020 b/gcc/ChangeLog-2020\n-index 6553720acad..2c170ef014a 100644\n---- a/gcc/ChangeLog-2020\n-+++ b/gcc/ChangeLog-2020\n-@@ -1 +1,2 @@\n- \n-+\n- \n -- \n 2.29.2\n === 0001-Add-macro.patch ===\n@@ -3511,3 +3343,149 @@ index 5dd33a75c3a..c4ce432cb98 100644\n -- \n 2.30.1\n \n+=== 0001-long-filenames ===\n+From 0a5b3f87bdac5e61f9a626c795d30f9e93198585 Mon Sep 17 00:00:00 2001\n+From: Martin Liska <mliska@suse.cz>\n+Date: Mon, 12 Apr 2021 13:10:14 +0200\n+Subject: [PATCH] libstdc++: Fix some tests that fail in C++20 mode\n+\n+The linear_congruential_engine negative tests fail with a different\n+error in C++20 mode, because double is no longer an invalid type for\n+NTTP. Adjust the expected errors.\n+\n+libstdc++-v3/ChangeLog:\n+\n+\t* testsuite/26_numerics/random/linear_congruential_engine/requirements/non_uint_neg.cc:\n+\tAdjust expected error for C++20 mode.\n+\t* testsuite/tr1/5_numerical_facilities/random/linear_congruential/requirements/non_uint_neg.cc:\n+\tLikewise.\n+---\n+ .../linear_congruential_engine/requirements/non_uint_neg.cc   | 4 +++-\n+ .../random/linear_congruential/requirements/non_uint_neg.cc   | 3 ++-\n+ 2 files changed, 5 insertions(+), 2 deletions(-)\n+\n+diff --git a/libstdc++-v3/testsuite/26_numerics/random/linear_congruential_engine/requirements/non_uint_neg.cc b/libstdc++-v3/testsuite/26_numerics/random/linear_congruential_engine/requirements/non_uint_neg.cc\n+index e04e8ca6972..a36d63c6c7b 100644\n+--- a/libstdc++-v3/testsuite/26_numerics/random/linear_congruential_engine/requirements/non_uint_neg.cc\n++++ b/libstdc++-v3/testsuite/26_numerics/random/linear_congruential_engine/requirements/non_uint_neg.cc\n+@@ -1 +1,2 @@\n+ \n++\n+diff --git a/libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/linear_congruential/requirements/non_uint_neg.cc b/libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/linear_congruential/requirements/non_uint_neg.cc\n+index 5ad82db1def..53b15f32516 100644\n+--- a/libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/linear_congruential/requirements/non_uint_neg.cc\n++++ b/libstdc++-v3/testsuite/tr1/5_numerical_facilities/random/linear_congruential/requirements/non_uint_neg.cc\n+@@ -1 +1,2 @@\n+ \n++\n+\n+=== 0001-OpenMP-Fix-SIMT ===\n+From 33b647956caa977d1ae489f9baed9cef70b4f382 Mon Sep 17 00:00:00 2001\n+From: Tobias Burnus <tobias@codesourcery.com>\n+Date: Fri, 7 May 2021 12:11:51 +0200\n+Subject: [PATCH] OpenMP: Fix SIMT for complex/float reduction with && and ||\n+\n+libgomp/ChangeLog:\n+\n+\t* testsuite/libgomp.c-c++-common/reduction-5.c: New test, testing\n+\tcomplex/floating-point || + && reduction with 'omp target'.\n+\t* testsuite/libgomp.c-c++-common/reduction-5.c: Likewise.\n+---\n+diff --git a/libgomp/testsuite/libgomp.c-c++-common/reduction-5.c b/libgomp/testsuite/libgomp.c-c++-common/reduction-5.c\n+new file mode 100644\n+index 00000000000..21540512e23\n+--- /dev/null\n++++ b/libgomp/testsuite/libgomp.c-c++-common/reduction-5.c\n+@@ -0,0 +1,1 @@\n++\n+diff --git a/libgomp/testsuite/libgomp.c-c++-common/reduction-6.c b/libgomp/testsuite/libgomp.c-c++-common/reduction-6.c\n+new file mode 100644\n+index 00000000000..21540512e23\n+--- /dev/null\n++++ b/libgomp/testsuite/libgomp.c-c++-common/reduction-6.c\n+@@ -0,0 +1,1 @@\n++\n+-- \n+2.25.1\n+=== 0001-rs6000-Support-doubleword ===\n+From f700e4b0ee3ef53b48975cf89be26b9177e3a3f3 Mon Sep 17 00:00:00 2001\n+From: Xionghu Luo <luoxhu@linux.ibm.com>\n+Date: Tue, 8 Jun 2021 21:48:12 -0500\n+Subject: [PATCH] rs6000: Support doubleword swaps removal in rot64 load store\n+ [PR100085]\n+\n+gcc/testsuite/ChangeLog:\n+\n+\t* gcc.target/powerpc/pr100085.c: New test.\n+---\n+diff --git a/gcc/testsuite/gcc.target/powerpc/pr100085.c b/gcc/testsuite/gcc.target/powerpc/pr100085.c\n+new file mode 100644\n+index 00000000000..7d8b147b127\n+--- /dev/null\n++++ b/gcc/testsuite/gcc.target/powerpc/pr100085.c\n+@@ -0,0 +1,1 @@\n++\n+-- \n+2.25.1\n+=== pr-wrong-comp.patch ===\n+From 5194b51ed9714808d88827531e91474895b6c706 Mon Sep 17 00:00:00 2001\n+From: Jason Merrill <jason@redhat.com>\n+Date: Thu, 16 Jan 2020 16:55:39 -0500\n+Subject: [PATCH 0121/2034] PR some/93286 - ICE with __is_constructible and\n+ variadic template.\n+\n+gcc/testsuite/ChangeLog:\n+\n+\tPR c++/93286\n+\t* gcc.target/powerpc/pr100085.c: New test.\n+---\n+diff --git a/gcc/testsuite/gcc.target/powerpc/pr100085.c b/gcc/testsuite/gcc.target/powerpc/pr100085.c\n+new file mode 100644\n+index 00000000000..7d8b147b127\n+--- /dev/null\n++++ b/gcc/testsuite/gcc.target/powerpc/pr100085.c\n+@@ -0,0 +1,1 @@\n++\n+-- \n+2.25.1\n+==== copyright-years.patch ===\n+From 99dee82307f1e163e150c9c810452979994047ce Mon Sep 17 00:00:00 2001\n+From: Jakub Jelinek <jakub@redhat.com>\n+Date: Mon, 4 Jan 2021 10:26:59 +0100\n+Subject: [PATCH] Update copyright years.\n+\n+---\n+diff --git a/lto-plugin/lto-plugin.c b/lto-plugin/lto-plugin.c\n+new file mode 100644\n+index 6f67552d075..32478f070e8 100644\n+--- a/lto-plugin/lto-plugin.c\n++++ b/lto-plugin/lto-plugin.c\n+@@ -0,0 +1,1 @@\n++\n+-- \n+2.25.1\n+\n+=== non-ascii-email.patch ===\n+From f42e95a830ab48e59389065ce79a013a519646f1 Mon Sep 17 00:00:00 2001\n+From: Jan-Benedict Glaw <jbglaw@\u0142ug-owl.de>\n+Date: Mon, 13 Sep 2021 12:08:25 +0200\n+Subject: [PATCH] Fix multi-statment macro\n+\n+INIT_CUMULATIVE_ARGS() expands to multiple statements, which will break right\n+after an `if` statement. Wrap it into a block.\n+\n+gcc/ChangeLog:\n+\n+\t* config/alpha/vms.h (INIT_CUMULATIVE_ARGS): Wrap multi-statment\n+\tdefine into a block.\n+---\n+ gcc/config/alpha/vms.h | 10 +++++++---\n+ 1 file changed, 7 insertions(+), 3 deletions(-)\n+\n+diff --git a/gcc/config/alpha/vms.h b/gcc/config/alpha/vms.h\n+index 2a9917cde62..0033b0004b3 100644\n+--- a/gcc/config/alpha/vms.h\n++++ b/gcc/config/alpha/vms.h\n+@@ -0,0 +1,1 @@\n++\n+-- "}, {"sha": "aca61b781ff202bdfc77586bc46ec034dba3b7b7", "filename": "contrib/gcc-git-customization.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-git-customization.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc-git-customization.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-git-customization.sh?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -28,7 +28,7 @@ git config alias.gcc-undescr \\!\"f() { o=\\$(git config --get gcc-config.upstream)\n git config alias.gcc-verify '!f() { \"`git rev-parse --show-toplevel`/contrib/gcc-changelog/git_check_commit.py\" $@; } ; f'\n git config alias.gcc-backport '!f() { \"`git rev-parse --show-toplevel`/contrib/git-backport.py\" $@; } ; f'\n git config alias.gcc-mklog '!f() { \"`git rev-parse --show-toplevel`/contrib/mklog.py\" $@; } ; f'\n-git config alias.gcc-commit-mklog '!f() { GCC_FORCE_MKLOG=1 git commit \"$@\"; }; f'\n+git config alias.gcc-commit-mklog '!f() { \"`git rev-parse --show-toplevel`/contrib/git-commit-mklog.py\" \"$@\"; }; f'\n \n # Make diff on MD files use \"(define\" as a function marker.\n # Use this in conjunction with a .gitattributes file containing"}, {"sha": "ce472545e255b3070ebaa12256d84125aca9f7d1", "filename": "contrib/gcc_update", "status": "modified", "additions": 18, "deletions": 7, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc_update", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgcc_update", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_update?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -141,10 +141,6 @@ libgomp/testsuite/Makefile.in: libgomp/testsuite/Makefile.am libgomp/aclocal.m4\n libgomp/configure.ac: libgomp/plugin/configfrag.ac\n libgomp/configure: libgomp/configure.ac libgomp/aclocal.m4\n libgomp/config.h.in: libgomp/configure.ac libgomp/aclocal.m4\n-libhsail-rt/aclocal.m4: libhsail-rt/configure.ac\n-libhsail-rt/Makefile.in: libhsail-rt/Makefile.am libhsail-rt/aclocal.m4\n-libhsail-rt/configure: libhsail-rt/configure.ac libhsail-rt/aclocal.m4\n-libhsail-rt/target-config.h.in: libhsail-rt/configure.ac libhsail-rt/aclocal.m4\n libitm/aclocal.m4: libitm/configure.ac libitm/acinclude.m4\n libitm/Makefile.in: libitm/Makefile.am libitm/aclocal.m4\n libitm/testsuite/Makefile.in: libitm/testsuite/Makefile.am libitm/aclocal.m4\n@@ -243,7 +239,7 @@ apply_patch () {\n }\n \n # Check whether this indeed looks like a local tree.\n-if [ ! -f gcc/version.c ]; then\n+if [ ! -f gcc/reload.c ]; then\n     echo \"This does not seem to be a GCC tree!\"\n     exit\n fi\n@@ -336,7 +332,22 @@ case $vcs_type in\n             exit 1\n \tfi\n \n-\trevision=`$GCC_GIT log -n1 --pretty=tformat:%p:%t:%H`\n+\t# Open-coded version of \"git gcc-descr\" from contrib/gcc-git-customization.sh\n+\trevision=`$GCC_GIT log -n1 --pretty=tformat:%h`\n+\tr=`$GCC_GIT describe --all --match 'basepoints/gcc-[0-9]*' HEAD \\\n+\t   | sed -n 's,^\\(tags/\\)\\?basepoints/gcc-\\([0-9]\\+\\)-\\([0-9]\\+\\)-g[0-9a-f]*$,r\\2-\\3,p;s,^\\(tags/\\)\\?basepoints/gcc-\\([0-9]\\+\\)$,r\\2-0,p'`;\n+\tif test -n $r; then\n+\t\to=`$GCC_GIT config --get gcc-config.upstream`;\n+\t\trr=`echo $r | sed -n 's,^r\\([0-9]\\+\\)-[0-9]\\+\\(-g[0-9a-f]\\+\\)\\?$,\\1,p'`;\n+\t\tif $GCC_GIT rev-parse --verify --quiet ${o:-origin}/releases/gcc-$rr >/dev/null; then\n+\t\t\tm=releases/gcc-$rr;\n+\t\telse\n+\t\t\tm=master;\n+\t\tfi;\n+\t\tif $GCC_GIT merge-base --is-ancestor HEAD ${o:-origin}/$m; then\n+\t\t\trevision=${r}-g${revision};\n+\t\tfi\n+\tfi\n \tbranch=`$GCC_GIT name-rev --name-only HEAD || :`\n \t;;    \n \n@@ -418,6 +429,6 @@ rm -f LAST_UPDATED gcc/REVISION\n     date\n     echo \"`TZ=UTC date` (revision $revision)\"\n } > LAST_UPDATED\n-echo \"[$branch revision $revision]\" > gcc/REVISION\n+echo \"[$branch $revision]\" > gcc/REVISION\n \n touch_files_reexec"}, {"sha": "1eb6f1d6d85364382192910f7078143b0cf61690", "filename": "contrib/gen_autofdo_event.py", "status": "modified", "additions": 37, "deletions": 17, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgen_autofdo_event.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgen_autofdo_event.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgen_autofdo_event.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -46,20 +46,29 @@\n \n eventmap = collections.defaultdict(list)\n \n-def get_cpu_str():\n-    with open('/proc/cpuinfo', 'r') as c:\n-        vendor, fam, model = None, None, None\n-        for j in c:\n-            n = j.split()\n-            if n[0] == 'vendor_id':\n-                vendor = n[2]\n-            elif n[0] == 'model' and n[1] == ':':\n-                model = int(n[2])\n-            elif n[0] == 'cpu' and n[1] == 'family':\n-                fam = int(n[3])\n-            if vendor and fam and model:\n-                return \"%s-%d-%X\" % (vendor, fam, model), model\n-    return None, None\n+def get_cpustr():\n+    cpuinfo = os.getenv(\"CPUINFO\")\n+    if cpuinfo is None:\n+        cpuinfo = '/proc/cpuinfo'\n+    f = open(cpuinfo, 'r')\n+    cpu = [None, None, None, None]\n+    for j in f:\n+        n = j.split()\n+        if n[0] == 'vendor_id':\n+            cpu[0] = n[2]\n+        elif n[0] == 'model' and n[1] == ':':\n+            cpu[2] = int(n[2])\n+        elif n[0] == 'cpu' and n[1] == 'family':\n+            cpu[1] = int(n[3])\n+        elif n[0] == 'stepping' and n[1] == ':':\n+            cpu[3] = int(n[2])\n+        if all(v is not None for v in cpu):\n+            break\n+    # stepping for SKX only\n+    stepping = cpu[0] == \"GenuineIntel\" and cpu[1] == 6 and cpu[2] == 0x55\n+    if stepping:\n+        return \"%s-%d-%X-%X\" % tuple(cpu)\n+    return \"%s-%d-%X\" % tuple(cpu)[:3]\n \n def find_event(eventurl, model):\n     print >>sys.stderr, \"Downloading\", eventurl\n@@ -81,7 +90,7 @@ def find_event(eventurl, model):\n     return found\n \n if not args.all:\n-    cpu, model = get_cpu_str()\n+    cpu = get_cpu_str()\n     if not cpu:\n         sys.exit(\"Unknown CPU type\")\n \n@@ -94,7 +103,8 @@ def find_event(eventurl, model):\n     n = j.rstrip().split(',')\n     if len(n) >= 4 and (args.all or n[0] == cpu) and n[3] == \"core\":\n         if args.all:\n-            vendor, fam, model = n[0].split(\"-\")\n+            components = n[0].split(\"-\")\n+            model = components[2]\n             model = int(model, 16)\n         cpufound += 1\n         found += find_event(baseurl + n[2], model)\n@@ -146,7 +156,17 @@ def find_event(eventurl, model):\n echo >&2 \"Unknown CPU. Run contrib/gen_autofdo_event.py --all --script to update script.\"\n \texit 1 ;;'''\n     print \"esac\"\n-    print 'exec perf record -e $E -b \"$@\"'\n+    print \"set -x\"\n+    print 'if ! perf record -e $E -b \"$@\" ; then'\n+    print '  # PEBS may not actually be working even if the processor supports it'\n+    print '  # (e.g., in a virtual machine). Trying to run without /p.'\n+    print '  set +x'\n+    print '  echo >&2 \"Retrying without /p.\"'\n+    print '  E=\"$(echo \"${E}\" | sed -e \\'s/\\/p/\\//\\')\"'\n+    print '  set -x'\n+    print '  exec perf record -e $E -b \"$@\"'\n+    print ' set +x'\n+    print 'fi'\n \n if cpufound == 0 and not args.all:\n     sys.exit('CPU %s not found' % cpu)"}, {"sha": "cd773cdfea120e9659a6364b90a2d85e3ccf2ae1", "filename": "contrib/gennews", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgennews", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgennews", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgennews?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -3,7 +3,7 @@\n # Script to generate the NEWS file from online release notes.\n # Contributed by Joseph Myers <jsm28@cam.ac.uk>.\n #\n-# Copyright (C) 2000-2019 Free Software Foundation, Inc.\n+# Copyright (C) 2000-2021 Free Software Foundation, Inc.\n # This file is part of GCC.\n #\n # GCC is free software; you can redistribute it and/or modify\n@@ -23,6 +23,8 @@\n \n website=http://gcc.gnu.org/\n files=\"\n+    gcc-11/index.html gcc-11/changes.html\n+    gcc-10/index.html gcc-10/changes.html\n     gcc-9/index.html gcc-9/changes.html\n     gcc-8/index.html gcc-8/changes.html\n     gcc-7/index.html gcc-7/changes.html"}, {"sha": "eda3fc4a8923ebf215620cf80ee1fe88fed0a06f", "filename": "contrib/git-commit-mklog.py", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgit-commit-mklog.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fgit-commit-mklog.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgit-commit-mklog.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -0,0 +1,59 @@\n+#!/usr/bin/env python3\n+\n+# Copyright (C) 2020 Free Software Foundation, Inc.\n+#\n+# This file is part of GCC.\n+#\n+# GCC is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3, or (at your option)\n+# any later version.\n+#\n+# GCC is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING.  If not, write to\n+# the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n+# Boston, MA 02110-1301, USA.\n+#\n+# The script is wrapper for git commit-mklog alias where it parses\n+# -b/--pr-numbers argument and passes it via environment variable\n+# to mklog.py script.\n+\n+import argparse\n+import os\n+import subprocess\n+\n+if __name__ == '__main__':\n+    children_args = []\n+    myenv = os.environ.copy()\n+\n+    parser = argparse.ArgumentParser(description='git-commit-mklog wrapped')\n+    parser.add_argument('-b', '--pr-numbers', action='store',\n+                        type=lambda arg: arg.split(','), nargs='?',\n+                        help='Add the specified PRs (comma separated)')\n+    parser.add_argument('-p', '--fill-up-bug-titles', action='store_true',\n+                        help='Download title of mentioned PRs')\n+    parser.add_argument('--co',\n+                        help='Add Co-Authored-By trailer (comma separated)')\n+    args, unknown_args = parser.parse_known_args()\n+\n+    myenv['GCC_FORCE_MKLOG'] = '1'\n+    mklog_args = []\n+    if args.pr_numbers:\n+        mklog_args.append(f'-b {\",\".join(args.pr_numbers)}')\n+    if args.fill_up_bug_titles:\n+        mklog_args.append('-p')\n+\n+    if mklog_args:\n+        myenv['GCC_MKLOG_ARGS'] = ' '.join(mklog_args)\n+\n+    if args.co:\n+        for author in args.co.split(','):\n+            unknown_args.append(f'--trailer \"Co-Authored-By: {author}\"')\n+\n+    commit_args = ' '.join(unknown_args)\n+    subprocess.run(f'git commit {commit_args}', shell=True, env=myenv)"}, {"sha": "cd5ef0bcc74b90a86aa68752fd827a49aa854fe4", "filename": "contrib/mklog.py", "status": "modified", "additions": 98, "deletions": 23, "changes": 121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fmklog.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fmklog.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fmklog.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -38,9 +38,15 @@\n \n from unidiff import PatchSet\n \n+LINE_LIMIT = 100\n+TAB_WIDTH = 8\n+CO_AUTHORED_BY_PREFIX = 'co-authored-by: '\n+\n pr_regex = re.compile(r'(\\/(\\/|\\*)|[Cc*!])\\s+(?P<pr>PR [a-z+-]+\\/[0-9]+)')\n+prnum_regex = re.compile(r'PR (?P<comp>[a-z+-]+)/(?P<num>[0-9]+)')\n dr_regex = re.compile(r'(\\/(\\/|\\*)|[Cc*!])\\s+(?P<dr>DR [0-9]+)')\n dg_regex = re.compile(r'{\\s+dg-(error|warning)')\n+pr_filename_regex = re.compile(r'(^|[\\W_])[Pp][Rr](?P<pr>\\d{4,})')\n identifier_regex = re.compile(r'^([a-zA-Z0-9_#].*)')\n comment_regex = re.compile(r'^\\/\\*')\n struct_regex = re.compile(r'^(class|struct|union|enum)\\s+'\n@@ -51,7 +57,7 @@\n template_and_param_regex = re.compile(r'<[^<>]*>')\n md_def_regex = re.compile(r'\\(define.*\\s+\"(.*)\"')\n bugzilla_url = 'https://gcc.gnu.org/bugzilla/rest.cgi/bug?id=%s&' \\\n-               'include_fields=summary'\n+               'include_fields=summary,component'\n \n function_extensions = {'.c', '.cpp', '.C', '.cc', '.h', '.inc', '.def', '.md'}\n \n@@ -67,6 +73,8 @@\n script_folder = os.path.realpath(__file__)\n root = os.path.dirname(os.path.dirname(script_folder))\n \n+firstpr = ''\n+\n \n def find_changelog(path):\n     folder = os.path.split(path)[0]\n@@ -115,26 +123,53 @@ def sort_changelog_files(changed_file):\n \n \n def get_pr_titles(prs):\n-    output = ''\n-    for pr in prs:\n+    output = []\n+    for idx, pr in enumerate(prs):\n         pr_id = pr.split('/')[-1]\n         r = requests.get(bugzilla_url % pr_id)\n         bugs = r.json()['bugs']\n         if len(bugs) == 1:\n-            output += '%s - %s\\n' % (pr, bugs[0]['summary'])\n-            print(output)\n+            prs[idx] = 'PR %s/%s' % (bugs[0]['component'], pr_id)\n+            out = '%s - %s\\n' % (prs[idx], bugs[0]['summary'])\n+            if out not in output:\n+                output.append(out)\n     if output:\n-        output += '\\n'\n-    return output\n+        output.append('')\n+    return '\\n'.join(output)\n+\n+\n+def append_changelog_line(out, relative_path, text):\n+    line = f'\\t* {relative_path}:'\n+    if len(line.replace('\\t', ' ' * TAB_WIDTH) + ' ' + text) <= LINE_LIMIT:\n+        out += f'{line} {text}\\n'\n+    else:\n+        out += f'{line}\\n'\n+        out += f'\\t{text}\\n'\n+    return out\n+\n \n+def get_rel_path_if_prefixed(path, folder):\n+    if path.startswith(folder):\n+        return path[len(folder):].lstrip('/')\n+    else:\n+        return path\n \n-def generate_changelog(data, no_functions=False, fill_pr_titles=False):\n+\n+def generate_changelog(data, no_functions=False, fill_pr_titles=False,\n+                       additional_prs=None):\n     changelogs = {}\n     changelog_list = []\n     prs = []\n     out = ''\n     diff = PatchSet(data)\n-\n+    global firstpr\n+\n+    if additional_prs:\n+        for apr in additional_prs:\n+            if not apr.startswith('PR ') and '/' in apr:\n+                apr = 'PR ' + apr\n+            if apr not in prs:\n+                prs.append(apr)\n     for file in diff:\n         # skip files that can't be parsed\n         if file.path == '/dev/null':\n@@ -150,53 +185,78 @@ def generate_changelog(data, no_functions=False, fill_pr_titles=False):\n             # Only search first ten lines as later lines may\n             # contains commented code which a note that it\n             # has not been tested due to a certain PR or DR.\n+            this_file_prs = []\n             for line in list(file)[0][0:10]:\n                 m = pr_regex.search(line.value)\n                 if m:\n                     pr = m.group('pr')\n                     if pr not in prs:\n                         prs.append(pr)\n+                        this_file_prs.append(pr.split('/')[-1])\n                 else:\n                     m = dr_regex.search(line.value)\n                     if m:\n                         dr = m.group('dr')\n                         if dr not in prs:\n                             prs.append(dr)\n+                            this_file_prs.append(dr.split('/')[-1])\n                     elif dg_regex.search(line.value):\n                         # Found dg-warning/dg-error line\n                         break\n+            # PR number in the file name\n+            fname = os.path.basename(file.path)\n+            m = pr_filename_regex.search(fname)\n+            if m:\n+                pr = m.group('pr')\n+                pr2 = 'PR ' + pr\n+                if pr not in this_file_prs and pr2 not in prs:\n+                    prs.append(pr2)\n+\n+    if prs:\n+        firstpr = prs[0]\n \n     if fill_pr_titles:\n         out += get_pr_titles(prs)\n \n+    # print list of PR entries before ChangeLog entries\n+    if prs:\n+        if not out:\n+            out += '\\n'\n+        for pr in prs:\n+            out += '\\t%s\\n' % pr\n+        out += '\\n'\n+\n     # sort ChangeLog so that 'testsuite' is at the end\n     for changelog in sorted(changelog_list, key=lambda x: 'testsuite' in x):\n         files = changelogs[changelog]\n         out += '%s:\\n' % os.path.join(changelog, 'ChangeLog')\n         out += '\\n'\n-        for pr in prs:\n-            out += '\\t%s\\n' % pr\n         # new and deleted files should be at the end\n         for file in sorted(files, key=sort_changelog_files):\n             assert file.path.startswith(changelog)\n             in_tests = 'testsuite' in changelog or 'testsuite' in file.path\n-            relative_path = file.path[len(changelog):].lstrip('/')\n+            relative_path = get_rel_path_if_prefixed(file.path, changelog)\n             functions = []\n             if file.is_added_file:\n-                msg = 'New test' if in_tests else 'New file'\n-                out += '\\t* %s: %s.\\n' % (relative_path, msg)\n+                msg = 'New test.' if in_tests else 'New file.'\n+                out = append_changelog_line(out, relative_path, msg)\n             elif file.is_removed_file:\n-                out += '\\t* %s: Removed.\\n' % (relative_path)\n+                out = append_changelog_line(out, relative_path, 'Removed.')\n             elif hasattr(file, 'is_rename') and file.is_rename:\n-                out += '\\t* %s: Moved to...\\n' % (relative_path)\n-                new_path = file.target_file[2:]\n                 # A file can be theoretically moved to a location that\n                 # belongs to a different ChangeLog.  Let user fix it.\n-                if new_path.startswith(changelog):\n-                    new_path = new_path[len(changelog):].lstrip('/')\n-                out += '\\t* %s: ...here.\\n' % (new_path)\n+                #\n+                # Since unidiff 0.7.0, path.file == path.target_file[2:],\n+                # it used to be path.source_file[2:]\n+                relative_path = get_rel_path_if_prefixed(file.source_file[2:],\n+                                                         changelog)\n+                out = append_changelog_line(out, relative_path, 'Moved to...')\n+                new_path = get_rel_path_if_prefixed(file.target_file[2:],\n+                                                    changelog)\n+                out += f'\\t* {new_path}: ...here.\\n'\n             elif os.path.basename(file.path) in generated_files:\n                 out += '\\t* %s: Regenerate.\\n' % (relative_path)\n+                append_changelog_line(out, relative_path, 'Regenerate.')\n             else:\n                 if not no_functions:\n                     for hunk in file:\n@@ -269,10 +329,19 @@ def update_copyright(data):\n                 f.write(content)\n \n \n+def skip_line_in_changelog(line):\n+    if line.lower().startswith(CO_AUTHORED_BY_PREFIX) or line.startswith('#'):\n+        return False\n+    return True\n+\n+\n if __name__ == '__main__':\n     parser = argparse.ArgumentParser(description=help_message)\n     parser.add_argument('input', nargs='?',\n                         help='Patch file (or missing, read standard input)')\n+    parser.add_argument('-b', '--pr-numbers', action='store',\n+                        type=lambda arg: arg.split(','), nargs='?',\n+                        help='Add the specified PRs (comma separated)')\n     parser.add_argument('-s', '--no-functions', action='store_true',\n                         help='Do not generate function names in ChangeLogs')\n     parser.add_argument('-p', '--fill-up-bug-titles', action='store_true',\n@@ -296,14 +365,20 @@ def update_copyright(data):\n         update_copyright(data)\n     else:\n         output = generate_changelog(data, args.no_functions,\n-                                    args.fill_up_bug_titles)\n+                                    args.fill_up_bug_titles, args.pr_numbers)\n         if args.changelog:\n             lines = open(args.changelog).read().split('\\n')\n-            start = list(takewhile(lambda l: not l.startswith('#'), lines))\n+            start = list(takewhile(skip_line_in_changelog, lines))\n             end = lines[len(start):]\n             with open(args.changelog, 'w') as f:\n+                if not start or not start[0]:\n+                    # initial commit subject line 'component: [PRnnnnn]'\n+                    m = prnum_regex.match(firstpr)\n+                    if m:\n+                        title = f'{m.group(\"comp\")}: [PR{m.group(\"num\")}]'\n+                        start.insert(0, title)\n                 if start:\n-                    # appent empty line\n+                    # append empty line\n                     if start[-1] != '':\n                         start.append('')\n                 else:"}, {"sha": "5da878458cd214277c432bd4778982218774281d", "filename": "contrib/prepare-commit-msg", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprepare-commit-msg", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprepare-commit-msg", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fprepare-commit-msg?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -78,4 +78,4 @@ else\n     tee=\"cat\"\n fi\n \n-git $cmd | $tee | git gcc-mklog -c \"$COMMIT_MSG_FILE\"\n+git $cmd | $tee | git gcc-mklog $GCC_MKLOG_ARGS -c \"$COMMIT_MSG_FILE\""}, {"sha": "272f7a429b6f24630409f9392e78c8df1021248d", "filename": "contrib/prerequisites.md5", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprerequisites.md5", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprerequisites.md5", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fprerequisites.md5?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,4 +1,4 @@\n 86ee6e54ebfc4a90b643a65e402c4048  gmp-6.1.0.tar.bz2\n-b8a2f6b0e68bef46e53da2ac439e1cf4  mpfr-3.1.4.tar.bz2\n+320c28198def956aeacdb240b46b8969  mpfr-3.1.6.tar.bz2\n d6a1d5f8ddea3abd2cc3e98f58352d26  mpc-1.0.3.tar.gz\n 11436d6b205e516635b666090b94ab32  isl-0.18.tar.bz2"}, {"sha": "71601457cfc5cc5d1922e9618c1d367c9322e08f", "filename": "contrib/prerequisites.sha512", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprerequisites.sha512", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fprerequisites.sha512", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fprerequisites.sha512?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,4 +1,4 @@\n 3c82aeab9c1596d4da8afac2eec38e429e84f3211e1a572cf8fd2b546493c44c039b922a1133eaaa48bd7f3e11dbe795a384e21ed95cbe3ecc58d7ac02246117  gmp-6.1.0.tar.bz2\n-51066066ff2c12ed2198605ecf68846b0c96b548adafa5b80e0c786d0df488411a5e8973358fce7192dc977ad4e68414cf14500e3c39746de62465eb145bb819  mpfr-3.1.4.tar.bz2\n+0c310dd7956be527884f8059c195a5aca1042b089d0927ac6341e6310b1250a7059bc61aaaab4dfb76c6ab8b67e440878ca203f72674529bbcb46770ed9b6885  mpfr-3.1.6.tar.bz2\n 0028b76df130720c1fad7de937a0d041224806ce5ef76589f19c7b49d956071a683e2f20d154c192a231e69756b19e48208f2889b0c13950ceb7b3cfaf059a43  mpc-1.0.3.tar.gz\n 85d0b40f4dbf14cb99d17aa07048cdcab2dc3eb527d2fbb1e84c41b2de5f351025370e57448b63b2b8a8cf8a0843a089c3263f9baee1542d5c2e1cb37ed39d94  isl-0.18.tar.bz2"}, {"sha": "bf2f280b46e625c3f962483c5517712eca179791", "filename": "contrib/test_mklog.py", "status": "modified", "additions": 33, "deletions": 2, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Ftest_mklog.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Ftest_mklog.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_mklog.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -240,6 +240,9 @@\n '''\n \n EXPECTED4 = '''\\\n+\n+\tPR 50209\n+\n gcc/ChangeLog:\n \n \t* ipa-icf.c:\n@@ -317,9 +320,10 @@\n EXPECTED5 = '''\\\n PR target/95046 - Vectorize V2SFmode operations\n \n+\tPR target/95046\n+\n gcc/testsuite/ChangeLog:\n \n-\tPR target/95046\n \t* gcc.target/i386/pr95046-6.c: New test.\n \n '''\n@@ -377,9 +381,11 @@\n '''\n \n EXPECTED7 = '''\\\n-gcc/testsuite/ChangeLog:\n \n \tDR 2237\n+\n+gcc/testsuite/ChangeLog:\n+\n \t* g++.dg/DRs/dr2237.C: New test.\n \n '''\n@@ -437,6 +443,27 @@\n \n '''\n \n+PATCH10 = '''\\\n+diff --git a/libgomp/doc/the-libgomp-abi/implementing-firstprivate-lastprivate-copyin-and-copyprivate-clauses.rst b/libgomp/doc/the-libgomp-abi/implementing-firstprivate-lastprivate-copyin-and-copyprivate-clauses.rst\n+new file mode 100644\n+index 00000000000..ad3c6d856fc\n+--- /dev/null\n++++ b/libgomp/doc/the-libgomp-abi/implementing-firstprivate-lastprivate-copyin-and-copyprivate-clauses.rst\n+@@ -0,0 +1,3 @@\n++\n++\n++\n+\n+'''\n+\n+EXPECTED10 = '''\\\n+libgomp/ChangeLog:\n+\n+\t* doc/the-libgomp-abi/implementing-firstprivate-lastprivate-copyin-and-copyprivate-clauses.rst:\n+\tNew file.\n+\n+'''\n+\n class TestMklog(unittest.TestCase):\n     def test_macro_definition(self):\n         changelog = generate_changelog(PATCH1)\n@@ -479,3 +506,7 @@ def test_renaming(self):\n     def test_define_macro_parsing(self):\n         changelog = generate_changelog(PATCH9)\n         assert changelog == EXPECTED9\n+\n+    def test_long_filenames(self):\n+        changelog = generate_changelog(PATCH10)\n+        assert changelog == EXPECTED10"}, {"sha": "2b2bb11d2e617d60eb84a20be08f6543c47db384", "filename": "contrib/update-copyright.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fupdate-copyright.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fupdate-copyright.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fupdate-copyright.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -735,6 +735,7 @@ def __init__ (self):\n \n         self.add_dir ('.', TopLevelFilter())\n         # boehm-gc is imported from upstream.\n+        self.add_dir ('c++tools')\n         self.add_dir ('config', ConfigFilter())\n         # contrib isn't really part of GCC.\n         self.add_dir ('fixincludes')\n@@ -755,7 +756,6 @@ def __init__ (self):\n         self.add_dir ('libgfortran')\n         # libgo is imported from upstream.\n         self.add_dir ('libgomp')\n-        self.add_dir ('libhsail-rt')\n         self.add_dir ('libiberty')\n         self.add_dir ('libitm')\n         self.add_dir ('libobjc')\n@@ -771,6 +771,7 @@ def __init__ (self):\n         # zlib is imported from upstream.\n \n         self.default_dirs = [\n+            'c++tools',\n             'gcc',\n             'include',\n             'libada',\n@@ -782,7 +783,6 @@ def __init__ (self):\n             'libgcc',\n             'libgfortran',\n             'libgomp',\n-            'libhsail-rt',\n             'libiberty',\n             'libitm',\n             'libobjc',"}, {"sha": "b7a8ab7360c377e380948d22a3b313be51b5a083", "filename": "contrib/vimrc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fvimrc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/contrib%2Fvimrc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fvimrc?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -42,7 +42,7 @@ function! SetStyle()\n   if &filetype == \"gitcommit\"\n     setlocal textwidth=72\n   else\n-    setlocal textwidth=80\n+    setlocal textwidth=79\n   endif\n   setlocal formatoptions-=ro formatoptions+=cqlt\n   if index(l:c_exts, l:ext) != -1 || &filetype == \"c\" || &filetype == \"cpp\""}, {"sha": "b57d9f1ed3a39814eb2d77670ee83d7431b5922a", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,3 +1,24 @@\n+2021-08-30  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\t* inclhack.def (hpux_c99_inttypes5): New hack to define PRIdPTR, etc.\n+\t* fixincl.x: Regenerate.\n+\t* tests/base/inttypes.h: Update.\n+\n+2021-07-06  Cl\u00e9ment Chigot  <clement.chigot@atos.net>\n+\n+\t* inclhack.def (aix_externcpp1): Improve select regexp.\n+\t* fixincl.x: Regenerate.\n+\t* tests/base/sys/socket.h: Update.\n+\n+2021-06-30  Xi Ruoyao  <xry111@mengyan1223.wang>\n+\n+\tPR other/91085\n+\t* fixfixes.c (check_has_inc): New static function.\n+\t  (machine_name_fix): Don't replace header names in\n+\t  __has_include(...).\n+\t* inclhack.def (machine_name): Adjust test.\n+\t* tests/base/testing.h: Update.\n+\n 2020-12-14  Ilya Leoshkevich  <iii@linux.ibm.com>\n \n \t* fixincl.x: Rerun genfixes."}, {"sha": "404b420f302c7dd42de63ec524822dbe4a3226e8", "filename": "fixincludes/fixfixes.c", "status": "modified", "additions": 43, "deletions": 2, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ffixfixes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ffixfixes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixfixes.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -477,6 +477,39 @@ FIX_PROC_HEAD( char_macro_def_fix )\n   fputs (text, stdout);\n }\n \n+/* Check if the pattern at pos is actually in a \"__has_include(...)\"\n+   directive.  Return the pointer to the ')' of this\n+   \"__has_include(...)\" if it is, NULL otherwise.  */\n+static const char *\n+check_has_inc (const char *begin, const char *pos, const char *end)\n+{\n+  static const char has_inc[] = \"__has_include\";\n+  const size_t has_inc_len = sizeof (has_inc) - 1;\n+  const char *p;\n+\n+  for (p = memmem (begin, pos - begin, has_inc, has_inc_len);\n+       p != NULL;\n+       p = memmem (p, pos - p, has_inc, has_inc_len))\n+    {\n+      p += has_inc_len;\n+      while (p < end && ISSPACE (*p))\n+        p++;\n+\n+      /* \"__has_include\" may appear as \"defined(__has_include)\",\n+         search for the next appearance then.  */\n+      if (*p != '(')\n+        continue;\n+\n+      /* To avoid too much complexity, just hope there is never a\n+         ')' in a header name.  */\n+      p = memchr (p, ')', end - p);\n+      if (p == NULL || p > pos)\n+        return p;\n+    }\n+\n+  return NULL;\n+}\n+\n /* Fix for machine name #ifdefs that are not in the namespace reserved\n    by the C standard.  They won't be defined if compiling with -ansi,\n    and the headers will break.  We go to some trouble to only change\n@@ -524,7 +557,7 @@ FIX_PROC_HEAD( machine_name_fix )\n       /* If the 'name_pat' matches in between base and limit, we have\n          a bogon.  It is not worth the hassle of excluding comments\n          because comments on #if/#ifdef lines are rare, and strings on\n-         such lines are illegal.\n+         such lines are only legal in a \"__has_include\" directive.\n \n          REG_NOTBOL means 'base' is not at the beginning of a line, which\n          shouldn't matter since the name_re has no ^ anchor, but let's\n@@ -544,8 +577,16 @@ FIX_PROC_HEAD( machine_name_fix )\n             break;\n \n           p = base + match[0].rm_so;\n-          base += match[0].rm_eo;\n \n+          /* Check if the match is in __has_include(...) (PR 91085). */\n+          q = check_has_inc (base, p, limit);\n+          if (q) \n+            {\n+              base = q + 1;\n+              goto again;\n+            }\n+\n+          base += match[0].rm_eo;\n           /* One more test: if on the same line we have the same string\n              with the appropriate underscores, then leave it alone.\n              We want exactly two leading and trailing underscores.  */"}, {"sha": "bc2fcd224824ba9a09d67c508f137e32f24c4e74", "filename": "fixincludes/fixincl.x", "status": "modified", "additions": 67, "deletions": 7, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixincl.x?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -2,11 +2,11 @@\n  *\n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  *\n- * It has been AutoGen-ed  December  9, 2020 at 11:16:08 AM by AutoGen 5.18.16\n+ * It has been AutoGen-ed  August 30, 2021 at 07:31:11 PM by AutoGen 5.18.16\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT SVN-MERGE THIS FILE, EITHER Wed Dec  9 11:16:08 EST 2020\n+/* DO NOT SVN-MERGE THIS FILE, EITHER Mon Aug 30 19:31:11 UTC 2021\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -15,7 +15,7 @@\n  * certain ANSI-incompatible system header files which are fixed to work\n  * correctly with ANSI C and placed in a directory that GNU C will search.\n  *\n- * This file contains 260 fixup descriptions.\n+ * This file contains 261 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -827,7 +827,8 @@ tSCC* apzAix_Externcpp1Machs[] = {\n  */\n tSCC zAix_Externcpp1Select0[] =\n        \"#ifndef _KERNEL\\n\\\n-#ifdef __cplusplus\";\n+#ifdef __cplusplus\\n\\\n+extern \\\"C\\\" int naccept\\\\(int, struct sockaddr \\\\*, socklen_t \\\\*\\\\);\";\n \n #define    AIX_EXTERNCPP1_TEST_CT  1\n static tTestDesc aAix_Externcpp1Tests[] = {\n@@ -840,7 +841,8 @@ static const char* apzAix_Externcpp1Patch[] = {\n     \"format\",\n     \"#ifndef _KERNEL\\n\\\n #ifdef __cplusplus\\n\\\n-extern \\\"C++\\\" {\",\n+extern \\\"C++\\\" {\\n\\\n+extern \\\"C\\\" int naccept(int, struct sockaddr *, socklen_t *);\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -5309,6 +5311,58 @@ static const char* apzHpux_C99_Inttypes4Patch[] = { sed_cmd_z,\n #define SCNuMAX \\t SCNu32\\n\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Hpux_C99_Inttypes5 fix\n+ */\n+tSCC zHpux_C99_Inttypes5Name[] =\n+     \"hpux_c99_inttypes5\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zHpux_C99_Inttypes5List[] =\n+  \"inttypes.h\\0\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzHpux_C99_Inttypes5Machs[] = {\n+        \"hppa*-hp-hpux11.[01]*\",\n+        (const char*)NULL };\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zHpux_C99_Inttypes5Select0[] =\n+       \"#ifndef[ \\t]_KERNEL[ \\t]*\\n\";\n+\n+#define    HPUX_C99_INTTYPES5_TEST_CT  1\n+static tTestDesc aHpux_C99_Inttypes5Tests[] = {\n+  { TT_EGREP,    zHpux_C99_Inttypes5Select0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Hpux_C99_Inttypes5\n+ */\n+static const char* apzHpux_C99_Inttypes5Patch[] = {\n+    \"format\",\n+    \"#ifndef __LP64__\\n\\\n+#define PRIdPTR\\t\\tPRId32\\n\\\n+#define PRIiPTR\\t\\tPRIi32\\n\\\n+#define PRIoPTR\\t\\tPRIo32\\n\\\n+#define PRIuPTR\\t\\tPRIu32\\n\\\n+#define PRIxPTR\\t\\tPRIx32\\n\\\n+#define PRIXPTR\\t\\tPRIX32\\n\\\n+#else\\n\\\n+#define PRIdPTR\\t\\tPRId64\\n\\\n+#define PRIiPTR\\t\\tPRIi64\\n\\\n+#define PRIoPTR\\t\\tPRIo64\\n\\\n+#define PRIuPTR\\t\\tPRIu64\\n\\\n+#define PRIxPTR\\t\\tPRIx64\\n\\\n+#define PRIXPTR\\t\\tPRIX64\\n\\\n+#endif\\n\\n\\\n+#ifndef _KERNEL\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux_Ctype_Macros fix\n@@ -10558,9 +10612,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          298\n+#define REGEX_COUNT          299\n #define MACH_LIST_SIZE_LIMIT 187\n-#define FIX_COUNT            260\n+#define FIX_COUNT            261\n \n /*\n  *  Enumerate the fixes\n@@ -10693,6 +10747,7 @@ typedef enum {\n     HPUX_C99_INTTYPES2_FIXIDX,\n     HPUX_C99_INTTYPES3_FIXIDX,\n     HPUX_C99_INTTYPES4_FIXIDX,\n+    HPUX_C99_INTTYPES5_FIXIDX,\n     HPUX_CTYPE_MACROS_FIXIDX,\n     HPUX_EXTERN_ERRNO_FIXIDX,\n     HPUX_HTONL_FIXIDX,\n@@ -11464,6 +11519,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX_C99_INTTYPES4_TEST_CT, FD_MACH_ONLY,\n      aHpux_C99_Inttypes4Tests,   apzHpux_C99_Inttypes4Patch, 0 },\n \n+  {  zHpux_C99_Inttypes5Name,    zHpux_C99_Inttypes5List,\n+     apzHpux_C99_Inttypes5Machs,\n+     HPUX_C99_INTTYPES5_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aHpux_C99_Inttypes5Tests,   apzHpux_C99_Inttypes5Patch, 0 },\n+\n   {  zHpux_Ctype_MacrosName,    zHpux_Ctype_MacrosList,\n      apzHpux_Ctype_MacrosMachs,\n      HPUX_CTYPE_MACROS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "46e3b8c993a3e214056aee8bdbd3ab28eeec6d46", "filename": "fixincludes/inclhack.def", "status": "modified", "additions": 36, "deletions": 4, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Finclhack.def?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -554,13 +554,16 @@ fix = {\n   mach      = \"*-*-aix*\";\n   files     = \"sys/socket.h\";\n   select    = \"#ifndef _KERNEL\\n\"\n-\t      \"#ifdef __cplusplus\";\n+\t      \"#ifdef __cplusplus\\n\"\n+\t      \"extern \\\"C\\\" int naccept\\\\(int, struct sockaddr \\\\*, socklen_t \\\\*\\\\);\";\n   c_fix     = format;\n   c_fix_arg = \"#ifndef _KERNEL\\n\"\n \t      \"#ifdef __cplusplus\\n\"\n-              \"extern \\\"C++\\\" {\";\n+\t      \"extern \\\"C++\\\" {\\n\"\n+\t      \"extern \\\"C\\\" int naccept(int, struct sockaddr *, socklen_t *);\";\n   test_text = \"#ifndef _KERNEL\\n\"\n-\t      \"#ifdef __cplusplus\";\n+\t      \"#ifdef __cplusplus\\n\"\n+\t      \"extern \\\"C\\\" int naccept(int, struct sockaddr *, socklen_t *);\";\n };\n \n fix = {\n@@ -2665,6 +2668,34 @@ fix = {\n \t\t\"#define SCNxMAX SCNx32\\n\";\n };\n \n+/*\n+ * Fix missing PRIdPTR defines in inttypes.h\n+ */\n+fix = {\n+    hackname  = hpux_c99_inttypes5;\n+    mach      = \"hppa*-hp-hpux11.[01]*\";\n+    files     = inttypes.h;\n+    select    = \"#ifndef[ \\t]_KERNEL[ \\t]*\\n\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __LP64__\\n\"\n+\t\t\"#define PRIdPTR\\t\\tPRId32\\n\"\n+\t\t\"#define PRIiPTR\\t\\tPRIi32\\n\"\n+\t\t\"#define PRIoPTR\\t\\tPRIo32\\n\"\n+\t\t\"#define PRIuPTR\\t\\tPRIu32\\n\"\n+\t\t\"#define PRIxPTR\\t\\tPRIx32\\n\"\n+\t\t\"#define PRIXPTR\\t\\tPRIX32\\n\"\n+\t\t\"#else\\n\"\n+\t\t\"#define PRIdPTR\\t\\tPRId64\\n\"\n+\t\t\"#define PRIiPTR\\t\\tPRIi64\\n\"\n+\t\t\"#define PRIoPTR\\t\\tPRIo64\\n\"\n+\t\t\"#define PRIuPTR\\t\\tPRIu64\\n\"\n+\t\t\"#define PRIxPTR\\t\\tPRIx64\\n\"\n+\t\t\"#define PRIXPTR\\t\\tPRIX64\\n\"\n+\t\t\"#endif\\n\\n\"\n+\t\t\"#ifndef _KERNEL\\n\";\n+    test_text = \"#ifndef _KERNEL\\n\";\n+};\n+\n /*\n  *  Fix hpux broken ctype macros\n  */\n@@ -3151,7 +3182,8 @@ fix = {\n     c_fix     = machine_name;\n \n     test_text = \"/* MACH_DIFF: */\\n\"\n-    \"#if defined( i386 ) || defined( sparc ) || defined( vax )\"\n+    \"#if defined( i386 ) || defined( sparc ) || defined( vax ) || \"\n+    \"defined( linux ) || __has_include ( <linux.h> )\"\n     \"\\n/* no uniform test, so be careful  :-) */\";\n };\n "}, {"sha": "9c1f93eb736e88ccf6f60638170d972d1a81060a", "filename": "fixincludes/tests/base/inttypes.h", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Finttypes.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Finttypes.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ftests%2Fbase%2Finttypes.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -42,3 +42,25 @@\n #define SCNuMAX \t SCNu32\n \n #endif  /* HPUX_C99_INTTYPES4_CHECK */\n+\n+\n+#if defined( HPUX_C99_INTTYPES5_CHECK )\n+#ifndef __LP64__\n+#define PRIdPTR\t\tPRId32\n+#define PRIiPTR\t\tPRIi32\n+#define PRIoPTR\t\tPRIo32\n+#define PRIuPTR\t\tPRIu32\n+#define PRIxPTR\t\tPRIx32\n+#define PRIXPTR\t\tPRIX32\n+#else\n+#define PRIdPTR\t\tPRId64\n+#define PRIiPTR\t\tPRIi64\n+#define PRIoPTR\t\tPRIo64\n+#define PRIuPTR\t\tPRIu64\n+#define PRIxPTR\t\tPRIx64\n+#define PRIXPTR\t\tPRIX64\n+#endif\n+\n+#ifndef _KERNEL\n+\n+#endif  /* HPUX_C99_INTTYPES5_CHECK */"}, {"sha": "588a378fe0abe5b542a89ee8a7e2bcee3bde106c", "filename": "fixincludes/tests/base/sys/socket.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Fsys%2Fsocket.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Fsys%2Fsocket.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ftests%2Fbase%2Fsys%2Fsocket.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -13,6 +13,7 @@\n #ifndef _KERNEL\n #ifdef __cplusplus\n extern \"C++\" {\n+extern \"C\" int naccept(int, struct sockaddr *, socklen_t *);\n #endif  /* AIX_EXTERNCPP1_CHECK */\n \n "}, {"sha": "8b3accaf04ecb5c1c0ea711419fe5e9f98b70451", "filename": "fixincludes/tests/base/testing.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Ftesting.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/fixincludes%2Ftests%2Fbase%2Ftesting.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ftests%2Fbase%2Ftesting.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -64,7 +64,7 @@ BSD43__IOWR('T', 1) /* Some are multi-line */\n \n #if defined( MACHINE_NAME_CHECK )\n /* MACH_DIFF: */\n-#if defined( i386 ) || defined( sparc ) || defined( vax )\n+#if defined( i386 ) || defined( sparc ) || defined( vax ) || defined( linux ) || __has_include ( <linux.h> )\n /* no uniform test, so be careful  :-) */\n #endif  /* MACHINE_NAME_CHECK */\n "}, {"sha": "4044f90867dfbda056433ba862589c96b1df579d", "filename": "gcc/BASE-VER", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FBASE-VER", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FBASE-VER", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FBASE-VER?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1 +1 @@\n-11.0.1\n+12.0.0"}, {"sha": "bb5576ac0737f0261229530c186eb6e694d6c615", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17602, "deletions": 0, "changes": 17602, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "62910e59a28e900767996bba37851f4f2d8f186c", "filename": "gcc/DATESTAMP", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FDATESTAMP", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FDATESTAMP", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FDATESTAMP?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1 +1 @@\n-20210325\n+20210917"}, {"sha": "9ea254efb09de995806274afa549d0afceb926f6", "filename": "gcc/Makefile.in", "status": "modified", "additions": 49, "deletions": 47, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -560,6 +560,7 @@ out_file=$(srcdir)/config/@out_file@\n out_object_file=@out_object_file@\n common_out_file=$(srcdir)/common/config/@common_out_file@\n common_out_object_file=@common_out_object_file@\n+EXTRA_GTYPE_DEPS=\n md_file=$(srcdir)/common.md $(srcdir)/config/@md_file@\n tm_file_list=@tm_file_list@\n tm_include_list=@tm_include_list@\n@@ -800,13 +801,8 @@ DIR = ../gcc\n # Native compiler for the build machine and its switches.\n CC_FOR_BUILD = @CC_FOR_BUILD@\n CXX_FOR_BUILD = @CXX_FOR_BUILD@\n-NO_PIE_CFLAGS_FOR_BUILD = @NO_PIE_CFLAGS_FOR_BUILD@\n-NO_PIE_FLAG_FOR_BUILD = @NO_PIE_FLAG_FOR_BUILD@\n BUILD_CFLAGS= @BUILD_CFLAGS@ $(GENERATOR_CFLAGS) -DGENERATOR_FILE\n BUILD_CXXFLAGS = @BUILD_CXXFLAGS@ $(GENERATOR_CFLAGS) -DGENERATOR_FILE\n-BUILD_NO_PIE_CFLAGS = @BUILD_NO_PIE_CFLAGS@\n-BUILD_CFLAGS += $(BUILD_NO_PIE_CFLAGS)\n-BUILD_CXXFLAGS += $(BUILD_NO_PIE_CFLAGS)\n \n # Native compiler that we use.  This may be C++ some day.\n COMPILER_FOR_BUILD = $(CXX_FOR_BUILD)\n@@ -818,8 +814,6 @@ BUILD_LINKERFLAGS = $(BUILD_CXXFLAGS)\n \n # Native linker and preprocessor flags.  For x-fragment overrides.\n BUILD_LDFLAGS=@BUILD_LDFLAGS@\n-BUILD_NO_PIE_FLAG = @BUILD_NO_PIE_FLAG@\n-BUILD_LDFLAGS += $(BUILD_NO_PIE_FLAG)\n BUILD_CPPFLAGS= -I. -I$(@D) -I$(srcdir) -I$(srcdir)/$(@D) \\\n \t\t-I$(srcdir)/../include @INCINTL@ $(CPPINC) $(CPPFLAGS)\n \n@@ -964,7 +958,7 @@ BASIC_BLOCK_H = basic-block.h $(PREDICT_H) $(VEC_H) $(FUNCTION_H) \\\n GIMPLE_H = gimple.h gimple.def gsstruct.def $(VEC_H) \\\n \t$(GGC_H) $(BASIC_BLOCK_H) $(TREE_H) tree-ssa-operands.h \\\n \ttree-ssa-alias.h $(INTERNAL_FN_H) $(HASH_TABLE_H) is-a.h\n-GCOV_IO_H = gcov-io.h gcov-iov.h auto-host.h gcov-counter.def\n+GCOV_IO_H = gcov-io.h version.h auto-host.h gcov-counter.def\n RECOG_H = recog.h\n EMIT_RTL_H = emit-rtl.h\n FLAGS_H = flags.h flag-types.h $(OPTIONS_H)\n@@ -1255,6 +1249,7 @@ ANALYZER_OBJS = \\\n \tanalyzer/analyzer-pass.o \\\n \tanalyzer/analyzer-selftests.o \\\n \tanalyzer/bar-chart.o \\\n+\tanalyzer/call-info.o \\\n \tanalyzer/call-string.o \\\n \tanalyzer/checker-path.o \\\n \tanalyzer/complexity.o \\\n@@ -1268,6 +1263,7 @@ ANALYZER_OBJS = \\\n \tanalyzer/program-state.o \\\n \tanalyzer/region.o \\\n \tanalyzer/region-model.o \\\n+\tanalyzer/region-model-asm.o \\\n \tanalyzer/region-model-impl-calls.o \\\n \tanalyzer/region-model-manager.o \\\n \tanalyzer/region-model-reachability.o \\\n@@ -1326,6 +1322,9 @@ OBJS = \\\n \tcfgloopanal.o \\\n \tcfgloopmanip.o \\\n \tcfgrtl.o \\\n+\tctfc.o \\\n+\tctfout.o \\\n+\tbtfout.o \\\n \tsymtab.o \\\n \tsymtab-thunks.o \\\n \tsymtab-clones.o \\\n@@ -1366,6 +1365,7 @@ OBJS = \\\n \tdumpfile.o \\\n \tdwarf2asm.o \\\n \tdwarf2cfi.o \\\n+\tdwarf2ctf.o \\\n \tdwarf2out.o \\\n \tearly-remat.o \\\n \temit-rtl.o \\\n@@ -1405,7 +1405,9 @@ OBJS = \\\n \tgimple-range.o \\\n \tgimple-range-cache.o \\\n \tgimple-range-edge.o \\\n+\tgimple-range-fold.o \\\n \tgimple-range-gori.o \\\n+\tgimple-range-trace.o \\\n \tgimple-ssa-backprop.o \\\n \tgimple-ssa-evrp.o \\\n \tgimple-ssa-evrp-analyze.o \\\n@@ -1415,6 +1417,7 @@ OBJS = \\\n \tgimple-ssa-store-merging.o \\\n \tgimple-ssa-strength-reduction.o \\\n \tgimple-ssa-sprintf.o \\\n+\tgimple-ssa-warn-access.o \\\n \tgimple-ssa-warn-alloca.o \\\n \tgimple-ssa-warn-restrict.o \\\n \tgimple-streamer-in.o \\\n@@ -1453,6 +1456,7 @@ OBJS = \\\n \tipa-split.o \\\n \tipa-inline.o \\\n \tipa-comdats.o \\\n+\tipa-free-lang-data.o \\\n \tipa-visibility.o \\\n \tipa-inline-analysis.o \\\n \tipa-inline-transform.o \\\n@@ -1511,6 +1515,7 @@ OBJS = \\\n \tomp-general.o \\\n \tomp-low.o \\\n \tomp-oacc-kernels-decompose.o \\\n+\tomp-oacc-neuter-broadcast.o \\\n \tomp-simd-clone.o \\\n \topt-problem.o \\\n \toptabs.o \\\n@@ -1524,6 +1529,7 @@ OBJS = \\\n \tordered-hash-map-tests.o \\\n \tpasses.o \\\n \tplugin.o \\\n+\tpointer-query.o \\\n \tpostreload-gcse.o \\\n \tpostreload.o \\\n \tpredict.o \\\n@@ -1650,6 +1656,7 @@ OBJS = \\\n \ttree-ssa-loop.o \\\n \ttree-ssa-math-opts.o \\\n \ttree-ssa-operands.o \\\n+\tgimple-range-path.o \\\n \ttree-ssa-phiopt.o \\\n \ttree-ssa-phiprop.o \\\n \ttree-ssa-pre.o \\\n@@ -1691,9 +1698,11 @@ OBJS = \\\n \ttyped-splay-tree.o \\\n \tunique-ptr-tests.o \\\n \tvaltrack.o \\\n+\tvalue-pointer-equiv.o \\\n \tvalue-query.o \\\n \tvalue-range.o \\\n \tvalue-range-equiv.o \\\n+\tvalue-relation.o \\\n \tvalue-prof.o \\\n \tvar-tracking.o \\\n \tvarasm.o \\\n@@ -1702,6 +1711,7 @@ OBJS = \\\n \tvmsdbgout.o \\\n \tvr-values.o \\\n \tvtable-verify.o \\\n+\twarning-control.o \\\n \tweb.o \\\n \twide-int.o \\\n \twide-int-print.o \\\n@@ -1713,12 +1723,12 @@ OBJS = \\\n \n # Objects in libcommon.a, potentially used by all host binaries and with\n # no target dependencies.\n-OBJS-libcommon = diagnostic.o diagnostic-color.o diagnostic-show-locus.o \\\n-\tdiagnostic-format-json.o json.o \\\n+OBJS-libcommon = diagnostic-spec.o diagnostic.o diagnostic-color.o \\\n+\tdiagnostic-show-locus.o diagnostic-format-json.o json.o \\\n \tedit-context.o \\\n \tpretty-print.o intl.o \\\n \tsbitmap.o \\\n-\tvec.o input.o version.o hash-table.o ggc-none.o memory-block.o \\\n+\tvec.o input.o hash-table.o ggc-none.o memory-block.o \\\n \tselftest.o selftest-diagnostic.o sort.o\n \n # Objects in libcommon-target.a, used by drivers and by the core\n@@ -1770,7 +1780,7 @@ MOSTLYCLEANFILES = insn-flags.h insn-config.h insn-codes.h \\\n  $(EXTRA_PROGRAMS) gcc-cross$(exeext) \\\n  $(SPECS) collect2$(exeext) gcc-ar$(exeext) gcc-nm$(exeext) \\\n  gcc-ranlib$(exeext) \\\n- gcov-iov$(build_exeext) gcov$(exeext) gcov-dump$(exeext) \\\n+ genversion$(build_exeext) gcov$(exeext) gcov-dump$(exeext) \\\n  gcov-tool$(exeect) \\\n  gengtype$(exeext) *.[0-9][0-9].* *.[si] *-checksum.c libbackend.a \\\n  libcommon-target.a libcommon.a libgcc.mk perf.data\n@@ -2157,7 +2167,7 @@ checksum-options:\n # Build libgcc.a.\n \n libgcc-support: libgcc.mvars stmp-int-hdrs $(TCONFIG_H) \\\n-\t$(MACHMODE_H) gcov-iov.h\n+\t$(MACHMODE_H) version.h\n \n libgcc.mvars: config.status Makefile specs xgcc$(exeext)\n \t: > tmp-libgcc.mvars\n@@ -2352,12 +2362,6 @@ s-options-h: optionlist $(srcdir)/opt-functions.awk $(srcdir)/opt-read.awk \\\n \n dumpvers: dumpvers.c\n \n-CFLAGS-version.o += -DBASEVER=$(BASEVER_s) -DDATESTAMP=$(DATESTAMP_s) \\\n-\t-DREVISION=$(REVISION_s) \\\n-\t-DDEVPHASE=$(DEVPHASE_s) -DPKGVERSION=$(PKGVERSION_s) \\\n-\t-DBUGURL=$(BUGURL_s)\n-version.o: $(REVISION) $(DATESTAMP) $(BASEVER) $(DEVPHASE)\n-\n # lto-compress.o needs $(ZLIBINC) added to the include flags.\n CFLAGS-lto-compress.o += $(ZLIBINC) $(ZSTD_INC)\n \n@@ -2682,10 +2686,15 @@ GTFILES = $(CPPLIB_H) $(srcdir)/input.h $(srcdir)/coretypes.h \\\n   $(srcdir)/ipa-modref.h $(srcdir)/ipa-modref.c \\\n   $(srcdir)/ipa-modref-tree.h \\\n   $(srcdir)/signop.h \\\n+  $(srcdir)/diagnostic-spec.h $(srcdir)/diagnostic-spec.c \\\n   $(srcdir)/dwarf2out.h \\\n   $(srcdir)/dwarf2asm.c \\\n   $(srcdir)/dwarf2cfi.c \\\n+  $(srcdir)/dwarf2ctf.c \\\n   $(srcdir)/dwarf2out.c \\\n+  $(srcdir)/ctfc.h \\\n+  $(srcdir)/ctfout.c \\\n+  $(srcdir)/btfout.c \\\n   $(srcdir)/tree-vect-generic.c \\\n   $(srcdir)/gimple-isel.cc \\\n   $(srcdir)/dojump.c $(srcdir)/emit-rtl.h \\\n@@ -2710,7 +2719,6 @@ GTFILES = $(CPPLIB_H) $(srcdir)/input.h $(srcdir)/coretypes.h \\\n   $(srcdir)/tree-ssa-operands.h \\\n   $(srcdir)/tree-profile.c $(srcdir)/tree-nested.c \\\n   $(srcdir)/omp-offload.h \\\n-  $(srcdir)/omp-offload.c \\\n   $(srcdir)/omp-general.c \\\n   $(srcdir)/omp-low.c \\\n   $(srcdir)/targhooks.c $(out_file) $(srcdir)/passes.c \\\n@@ -2768,8 +2776,8 @@ s-gtyp-input: Makefile\n \t$(SHELL) $(srcdir)/../move-if-change tmp-gi.list gtyp-input.list\n \t$(STAMP) s-gtyp-input\n \n-s-gtype: build/gengtype$(build_exeext) $(filter-out [%], $(GTFILES)) \\\n-\t gtyp-input.list\n+s-gtype: $(EXTRA_GTYPE_DEPS) build/gengtype$(build_exeext) \\\n+\t$(filter-out [%], $(GTFILES)) gtyp-input.list\n # First, parse all files and save a state file.\n \t$(RUN_GEN) build/gengtype$(build_exeext) $(GENGTYPE_FLAGS) \\\n                     -S $(srcdir) -I gtyp-input.list -w tmp-gtype.state\n@@ -2784,9 +2792,10 @@ generated_files = config.h tm.h $(TM_P_H) $(TM_D_H) $(TM_RUST_H) $(TM_H) \\\n        multilib.h $(simple_generated_h) specs.h \\\n        tree-check.h genrtl.h insn-modes.h insn-modes-inline.h \\\n        tm-preds.h tm-constrs.h \\\n-       $(ALL_GTFILES_H) gtype-desc.c gtype-desc.h gcov-iov.h \\\n+       $(ALL_GTFILES_H) gtype-desc.c gtype-desc.h version.h \\\n        options.h target-hooks-def.h insn-opinit.h \\\n        common/common-target-hooks-def.h pass-instances.def \\\n+       gimple-match.c generic-match.c \\\n        c-family/c-target-hooks-def.h d/d-target-hooks-def.h \\\n        rust/rust-target-hooks-def.h case-cfn-macros.h \\\n        cfn-operators.pd omp-device-properties.h\n@@ -2798,16 +2807,6 @@ build/%.o :  # dependencies provided by explicit rule later\n \t$(COMPILER_FOR_BUILD) -c $(BUILD_COMPILERFLAGS) $(BUILD_CPPFLAGS) \\\n \t\t-o $@ $<\n \n-## build/version.o is compiled by the $(COMPILER_FOR_BUILD) but needs\n-## several C macro definitions, just like version.o\n-build/version.o:  version.c version.h \\\n-                  $(REVISION) $(DATESTAMP) $(BASEVER) $(DEVPHASE)\n-\t$(COMPILER_FOR_BUILD) -c $(BUILD_COMPILERFLAGS) $(BUILD_CPPFLAGS) \\\n-\t-DBASEVER=$(BASEVER_s) -DDATESTAMP=$(DATESTAMP_s) \\\n-\t-DREVISION=$(REVISION_s) \\\n-\t-DDEVPHASE=$(DEVPHASE_s) -DPKGVERSION=$(PKGVERSION_s) \\\n-\t-DBUGURL=$(BUGURL_s) -o $@ $<\n-\n # Header dependencies for the programs that generate source code.\n # These are library modules...\n build/errors.o : errors.c $(BCONFIG_H) $(SYSTEM_H) errors.h\n@@ -2986,10 +2985,10 @@ build/genmatch$(build_exeext) : $(BUILD_CPPLIB) \\\n \n # These programs are not linked with the MD reader.\n build/gengtype$(build_exeext) : build/gengtype-lex.o build/gengtype-parse.o \\\n-              build/gengtype-state.o build/version.o build/errors.o\n+              build/gengtype-state.o build/errors.o\n \n gengtype$(exeext) : gengtype.o gengtype-lex.o gengtype-parse.o \\\n-              gengtype-state.o version.o errors.o $(LIBDEPS)\n+              gengtype-state.o errors.o $(LIBDEPS)\n \t+$(LINKER) $(ALL_LINKERFLAGS) $(LDFLAGS) -o $@ \\\n \t    $(filter-out ($LIBDEPS), $^) $(LIBS)\n \n@@ -3068,20 +3067,23 @@ CFLAGS-cppdefault.o += $(PREPROCESSOR_DEFINES)\n # Note for the stamp targets, we run the program `true' instead of\n # having an empty command (nothing following the semicolon).\n \n-# gcov-iov.c is run on the build machine to generate gcov-iov.h from version.c\n-build/gcov-iov.o: gcov-iov.c $(BCONFIG_H) $(CORETYPES_H) $(GTM_H) \\\n-  $(SYSTEM_H) $(CORETYPES_H) $(TM_H)\n+# genversion.c is run on the build machine to generate version.h\n+CFLAGS-build/genversion.o += -DBASEVER=$(BASEVER_s) -DDATESTAMP=$(DATESTAMP_s) \\\n+\t-DREVISION=$(REVISION_s) \\\n+\t-DDEVPHASE=$(DEVPHASE_s) -DPKGVERSION=$(PKGVERSION_s) \\\n+\t-DBUGURL=$(BUGURL_s)\n+\n+build/genversion.o: genversion.c $(BCONFIG_H) $(SYSTEM_H) $(srcdir)/DATESTAMP\n \n-build/gcov-iov$(build_exeext): build/gcov-iov.o\n+build/genversion$(build_exeext): build/genversion.o\n \t+$(LINKER_FOR_BUILD) $(BUILD_LINKERFLAGS) $(BUILD_LDFLAGS) \\\n-\t\tbuild/gcov-iov.o -o $@\n+\t\tbuild/genversion.o -o $@\n \n-gcov-iov.h: s-iov; @true\n-s-iov: build/gcov-iov$(build_exeext) $(BASEVER) $(DEVPHASE)\n-\tbuild/gcov-iov$(build_exeext) '$(BASEVER_c)' '$(DEVPHASE_c)' \\\n-\t    > tmp-gcov-iov.h\n-\t$(SHELL) $(srcdir)/../move-if-change tmp-gcov-iov.h gcov-iov.h\n-\t$(STAMP) s-iov\n+version.h: s-version; @true\n+s-version: build/genversion$(build_exeext)\n+\tbuild/genversion$(build_exeext) > tmp-version.h\n+\t$(SHELL) $(srcdir)/../move-if-change tmp-version.h version.h\n+\t$(STAMP) s-version\n \n # gcov.o needs $(ZLIBINC) added to the include flags.\n CFLAGS-gcov.o += $(ZLIBINC)\n@@ -3355,7 +3357,7 @@ TEXI_GCCINT_FILES = gccint.texi gcc-common.texi gcc-vers.texi\t\t\\\n \t loop.texi generic.texi gimple.texi plugins.texi optinfo.texi   \\\n \t match-and-simplify.texi analyzer.texi ux.texi poly-int.texi\n \n-TEXI_GCCINSTALL_FILES = install.texi install-old.texi fdl.texi\t\t\\\n+TEXI_GCCINSTALL_FILES = install.texi fdl.texi\t\t\\\n \t gcc-common.texi gcc-vers.texi\n \n TEXI_CPPINT_FILES = cppinternals.texi gcc-common.texi gcc-vers.texi"}, {"sha": "082fa16ecb5993d76b4b0ab51faa63a90eb60350", "filename": "gcc/acinclude.m4", "status": "modified", "additions": 22, "deletions": 74, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facinclude.m4?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -422,8 +422,18 @@ changequote([,])dnl\n ])],, [gcc_cv_initfini_array=no]);;\n     esac\n   else\n-    AC_MSG_CHECKING(cross compile... guessing)\n-    gcc_cv_initfini_array=no\n+    case \"${target}\" in\n+      aarch64*-linux-gnu*)\n+\t# AArch64 postdates glibc support for .init_array/.fini_array,\n+\t# so we don't need the preprocessor test above.\n+\tgcc_cv_initfini_array=yes\n+\t;;\n+\n+      *)\n+\tAC_MSG_CHECKING(cross compile... guessing)\n+\tgcc_cv_initfini_array=no\n+\t;;\n+    esac\n   fi])\n   enable_initfini_array=$gcc_cv_initfini_array\n ])\n@@ -432,63 +442,6 @@ AC_DEFINE_UNQUOTED(HAVE_INITFINI_ARRAY_SUPPORT,\n   [Define 0/1 if .init_array/.fini_array sections are available and working.])\n ])\n \n-dnl # _gcc_COMPUTE_GAS_VERSION\n-dnl # Used by gcc_GAS_VERSION_GTE_IFELSE\n-dnl #\n-dnl # WARNING:\n-dnl # gcc_cv_as_gas_srcdir must be defined before this.\n-dnl # This gross requirement will go away eventually.\n-AC_DEFUN([_gcc_COMPUTE_GAS_VERSION],\n-[gcc_cv_as_bfd_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/bfd\n-for f in $gcc_cv_as_bfd_srcdir/configure \\\n-         $gcc_cv_as_gas_srcdir/configure \\\n-         $gcc_cv_as_gas_srcdir/configure.ac \\\n-         $gcc_cv_as_gas_srcdir/Makefile.in ; do\n-  gcc_cv_gas_version=`sed -n -e 's/^[[ \t]]*VERSION=[[^0-9A-Za-z_]]*\\([[0-9]]*\\.[[0-9]]*.*\\)/VERSION=\\1/p' < $f`\n-  if test x$gcc_cv_gas_version != x; then\n-    break\n-  fi\n-done\n-case $gcc_cv_gas_version in\n-  VERSION=[[0-9]]*) ;;\n-  *) AC_MSG_ERROR([[cannot find version of in-tree assembler]]);;\n-esac\n-gcc_cv_gas_major_version=`expr \"$gcc_cv_gas_version\" : \"VERSION=\\([[0-9]]*\\)\"`\n-gcc_cv_gas_minor_version=`expr \"$gcc_cv_gas_version\" : \"VERSION=[[0-9]]*\\.\\([[0-9]]*\\)\"`\n-gcc_cv_gas_patch_version=`expr \"$gcc_cv_gas_version\" : \"VERSION=[[0-9]]*\\.[[0-9]]*\\.\\([[0-9]]*\\)\"`\n-case $gcc_cv_gas_patch_version in\n-  \"\") gcc_cv_gas_patch_version=\"0\" ;;\n-esac\n-gcc_cv_gas_vers=`expr \\( \\( $gcc_cv_gas_major_version \\* 1000 \\) \\\n-\t\t\t    + $gcc_cv_gas_minor_version \\) \\* 1000 \\\n-\t\t\t    + $gcc_cv_gas_patch_version`\n-]) []dnl # _gcc_COMPUTE_GAS_VERSION\n-\n-dnl # gcc_GAS_VERSION_GTE_IFELSE([elf,] major, minor, patchlevel,\n-dnl #                     [command_if_true = :], [command_if_false = :])\n-dnl # Check to see if the version of GAS is greater than or\n-dnl # equal to the specified version.\n-dnl #\n-dnl # The first ifelse() shortens the shell code if the patchlevel\n-dnl # is unimportant (the usual case).  The others handle missing\n-dnl # commands.  Note that the tests are structured so that the most\n-dnl # common version number cases are tested first.\n-AC_DEFUN([_gcc_GAS_VERSION_GTE_IFELSE],\n-[ifelse([$1], elf,\n- [if test $in_tree_gas_is_elf = yes \\\n-  &&],\n- [if]) test $gcc_cv_gas_vers -ge `expr \\( \\( $2 \\* 1000 \\) + $3 \\) \\* 1000 + $4`\n-  then dnl\n-ifelse([$5],,:,[$5])[]dnl\n-ifelse([$6],,,[\n-  else $6])\n-fi])\n-\n-AC_DEFUN([gcc_GAS_VERSION_GTE_IFELSE],\n-[AC_REQUIRE([_gcc_COMPUTE_GAS_VERSION])dnl\n-ifelse([$1], elf, [_gcc_GAS_VERSION_GTE_IFELSE($@)],\n-                  [_gcc_GAS_VERSION_GTE_IFELSE(,$@)])])\n-\n dnl # gcc_GAS_FLAGS\n dnl # Used by gcc_GAS_CHECK_FEATURE \n dnl #\n@@ -517,13 +470,11 @@ AC_DEFUN([gcc_GAS_FLAGS],\n   esac])\n ])\n \n-dnl gcc_GAS_CHECK_FEATURE(description, cv, [[elf,]major,minor,patchlevel],\n+dnl gcc_GAS_CHECK_FEATURE(description, cv,\n dnl [extra switches to as], [assembler input],\n dnl [extra testing logic], [command if feature available])\n dnl\n-dnl Checks for an assembler feature.  If we are building an in-tree\n-dnl gas, the feature is available if the associated assembler version\n-dnl is greater than or equal to major.minor.patchlevel.  If not, then\n+dnl Checks for an assembler feature.\n dnl ASSEMBLER INPUT is fed to the assembler and the feature is available\n dnl if assembly succeeds.  If EXTRA TESTING LOGIC is not the empty string,\n dnl then it is run instead of simply setting CV to \"yes\" - it is responsible\n@@ -532,27 +483,24 @@ AC_DEFUN([gcc_GAS_CHECK_FEATURE],\n [AC_REQUIRE([gcc_GAS_FLAGS])dnl\n AC_CACHE_CHECK([assembler for $1], [$2],\n  [[$2]=no\n-  ifelse([$3],,,[dnl\n-  if test $in_tree_gas = yes; then\n-    gcc_GAS_VERSION_GTE_IFELSE($3, [[$2]=yes])\n-  el])if test x$gcc_cv_as != x; then\n-    AS_ECHO([ifelse(m4_substr([$5],0,1),[$], \"[$5]\", '[$5]')]) > conftest.s\n-    if AC_TRY_COMMAND([$gcc_cv_as $gcc_cv_as_flags $4 -o conftest.o conftest.s >&AS_MESSAGE_LOG_FD])\n+  if test x$gcc_cv_as != x; then\n+    AS_ECHO([ifelse(m4_substr([$4],0,1),[$], \"[$4]\", '[$4]')]) > conftest.s\n+    if AC_TRY_COMMAND([$gcc_cv_as $gcc_cv_as_flags $3 -o conftest.o conftest.s >&AS_MESSAGE_LOG_FD])\n     then\n-\tifelse([$6],, [$2]=yes, [$6])\n+\tifelse([$5],, [$2]=yes, [$5])\n     else\n       echo \"configure: failed program was\" >&AS_MESSAGE_LOG_FD\n       cat conftest.s >&AS_MESSAGE_LOG_FD\n     fi\n     rm -f conftest.o conftest.s\n   fi])\n-ifelse([$7],,,[dnl\n+ifelse([$6],,,[dnl\n if test $[$2] = yes; then\n-  $7\n+  $6\n fi])\n-ifelse([$8],,,[dnl\n+ifelse([$7],,,[dnl\n if test $[$2] != yes; then\n-  $8\n+  $7\n fi])])\n \n dnl GCC_TARGET_TEMPLATE(KEY)"}, {"sha": "36a0db08087fd9e0ef5b76f8880a4ed39e1ab78c", "filename": "gcc/ada/.gitignore", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2F.gitignore", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2F.gitignore", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2F.gitignore?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -0,0 +1,2 @@\n+# Sphinx build artifacts\n+doc/build"}, {"sha": "70aaabf295697f4761f8597b8edf9922e84b3ca0", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7942, "deletions": 0, "changes": 7942, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "948fc508a56a133f39795502672256b4760979be", "filename": "gcc/ada/Make-generated.in", "status": "modified", "additions": 44, "deletions": 55, "changes": 99, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FMake-generated.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FMake-generated.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMake-generated.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -2,10 +2,6 @@\n \n # Note: can't use ?= here, not supported by older versions of GNU Make\n \n-ifeq ($(origin ADA_GEN_SUBDIR), undefined)\n-ADA_GEN_SUBDIR=ada\n-endif\n-\n ifeq ($(origin CP), undefined)\n CP=cp\n endif\n@@ -14,60 +10,50 @@ ifeq ($(origin MKDIR), undefined)\n MKDIR=mkdir -p\n endif\n \n-ifeq ($(origin MOVE_IF_CHANGE), undefined)\n-MOVE_IF_CHANGE=mv -f\n-endif\n-\n-.PHONY: ada_extra_files\n-ada_extra_files : $(ADA_GEN_SUBDIR)/treeprs.ads $(ADA_GEN_SUBDIR)/einfo.h $(ADA_GEN_SUBDIR)/sinfo.h $(ADA_GEN_SUBDIR)/nmake.adb \\\n-\t$(ADA_GEN_SUBDIR)/nmake.ads $(ADA_GEN_SUBDIR)/snames.ads $(ADA_GEN_SUBDIR)/snames.adb $(ADA_GEN_SUBDIR)/snames.h\n+fsrcdir := $(shell cd $(srcdir);${PWD_COMMAND})\n \n-# We delete the files before copying, below, in case they are read-only.\n+GEN_IL_INCLUDES = -I$(fsrcdir)/ada\n+GEN_IL_FLAGS = -gnata -gnat2012 -gnatw.g -gnatyg -gnatU $(GEN_IL_INCLUDES)\n \n-$(ADA_GEN_SUBDIR)/treeprs.ads : $(ADA_GEN_SUBDIR)/treeprs.adt $(ADA_GEN_SUBDIR)/sinfo.ads $(ADA_GEN_SUBDIR)/xtreeprs.adb\n-\t-$(MKDIR) $(ADA_GEN_SUBDIR)/bldtools/treeprs\n-\t$(RM) $(addprefix $(ADA_GEN_SUBDIR)/bldtools/treeprs/,$(notdir $^))\n-\t$(CP) $^ $(ADA_GEN_SUBDIR)/bldtools/treeprs\n-\t(cd $(ADA_GEN_SUBDIR)/bldtools/treeprs; gnatmake -q xtreeprs ; ./xtreeprs treeprs.ads )\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/treeprs/treeprs.ads $(ADA_GEN_SUBDIR)/treeprs.ads\n+ada/seinfo_tables.ads ada/seinfo_tables.adb ada/sinfo.h ada/einfo.h ada/nmake.ads ada/nmake.adb ada/seinfo.ads ada/sinfo-nodes.ads ada/sinfo-nodes.adb ada/einfo-entities.ads ada/einfo-entities.adb: ada/stamp-gen_il ; @true\n+ada/stamp-gen_il: $(fsrcdir)/ada/gen_il*\n+\t$(MKDIR) ada/gen_il\n+\tcd ada/gen_il; gnatmake -q -g $(GEN_IL_FLAGS) gen_il-main\n+\t# Ignore errors to work around finalization issues in older compilers\n+\t- cd ada/gen_il; ./gen_il-main\n+\t$(fsrcdir)/../move-if-change ada/gen_il/seinfo_tables.ads ada/seinfo_tables.ads\n+\t$(fsrcdir)/../move-if-change ada/gen_il/seinfo_tables.adb ada/seinfo_tables.adb\n+\t$(fsrcdir)/../move-if-change ada/gen_il/sinfo.h ada/sinfo.h\n+\t$(fsrcdir)/../move-if-change ada/gen_il/einfo.h ada/einfo.h\n+\t$(fsrcdir)/../move-if-change ada/gen_il/nmake.ads ada/nmake.ads\n+\t$(fsrcdir)/../move-if-change ada/gen_il/nmake.adb ada/nmake.adb\n+\t$(fsrcdir)/../move-if-change ada/gen_il/seinfo.ads ada/seinfo.ads\n+\t$(fsrcdir)/../move-if-change ada/gen_il/sinfo-nodes.ads ada/sinfo-nodes.ads\n+\t$(fsrcdir)/../move-if-change ada/gen_il/sinfo-nodes.adb ada/sinfo-nodes.adb\n+\t$(fsrcdir)/../move-if-change ada/gen_il/einfo-entities.ads ada/einfo-entities.ads\n+\t$(fsrcdir)/../move-if-change ada/gen_il/einfo-entities.adb ada/einfo-entities.adb\n+\ttouch ada/stamp-gen_il\n \n-$(ADA_GEN_SUBDIR)/einfo.h : $(ADA_GEN_SUBDIR)/einfo.ads $(ADA_GEN_SUBDIR)/einfo.adb $(ADA_GEN_SUBDIR)/xeinfo.adb $(ADA_GEN_SUBDIR)/ceinfo.adb\n-\t-$(MKDIR) $(ADA_GEN_SUBDIR)/bldtools/einfo\n-\t$(RM) $(addprefix $(ADA_GEN_SUBDIR)/bldtools/einfo/,$(notdir $^))\n-\t$(CP) $^ $(ADA_GEN_SUBDIR)/bldtools/einfo\n-\t(cd $(ADA_GEN_SUBDIR)/bldtools/einfo; gnatmake -q xeinfo ; ./xeinfo einfo.h )\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/einfo/einfo.h $(ADA_GEN_SUBDIR)/einfo.h\n+# We need -gnatX to compile seinfo_tables, because it uses extensions. This\n+# target is not currently used when building gnat, because these extensions\n+# would cause bootstrapping with older compilers to fail. You can call it by\n+# hand, as a sanity check that these files are legal.\n+ada/seinfo_tables.o: ada/seinfo_tables.ads ada/seinfo_tables.adb\n+\tcd ada ; gnatmake $(GEN_IL_INCLUDES) seinfo_tables.adb -gnatU -gnatX\n \n-$(ADA_GEN_SUBDIR)/sinfo.h : $(ADA_GEN_SUBDIR)/sinfo.ads $(ADA_GEN_SUBDIR)/sinfo.adb $(ADA_GEN_SUBDIR)/xsinfo.adb $(ADA_GEN_SUBDIR)/csinfo.adb\n-\t-$(MKDIR) $(ADA_GEN_SUBDIR)/bldtools/sinfo\n-\t$(RM) $(addprefix $(ADA_GEN_SUBDIR)/bldtools/sinfo/,$(notdir $^))\n-\t$(CP) $^ $(ADA_GEN_SUBDIR)/bldtools/sinfo\n-\t(cd $(ADA_GEN_SUBDIR)/bldtools/sinfo; gnatmake -q xsinfo ; ./xsinfo sinfo.h )\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/sinfo/sinfo.h $(ADA_GEN_SUBDIR)/sinfo.h\n+ada/snames.h ada/snames.ads ada/snames.adb : ada/stamp-snames ; @true\n+ada/stamp-snames : ada/snames.ads-tmpl ada/snames.adb-tmpl ada/snames.h-tmpl ada/xsnamest.adb ada/xutil.ads ada/xutil.adb\n+\t-$(MKDIR) ada/bldtools/snamest\n+\t$(RM) $(addprefix ada/bldtools/snamest/,$(notdir $^))\n+\t$(CP) $^ ada/bldtools/snamest\n+\tcd ada/bldtools/snamest; gnatmake -q xsnamest ; ./xsnamest\n+\t$(fsrcdir)/../move-if-change ada/bldtools/snamest/snames.ns ada/snames.ads\n+\t$(fsrcdir)/../move-if-change ada/bldtools/snamest/snames.nb ada/snames.adb\n+\t$(fsrcdir)/../move-if-change ada/bldtools/snamest/snames.nh ada/snames.h\n+\ttouch ada/stamp-snames\n \n-$(ADA_GEN_SUBDIR)/snames.h $(ADA_GEN_SUBDIR)/snames.ads $(ADA_GEN_SUBDIR)/snames.adb : $(ADA_GEN_SUBDIR)/stamp-snames ; @true\n-$(ADA_GEN_SUBDIR)/stamp-snames : $(ADA_GEN_SUBDIR)/snames.ads-tmpl $(ADA_GEN_SUBDIR)/snames.adb-tmpl $(ADA_GEN_SUBDIR)/snames.h-tmpl $(ADA_GEN_SUBDIR)/xsnamest.adb $(ADA_GEN_SUBDIR)/xutil.ads $(ADA_GEN_SUBDIR)/xutil.adb\n-\t-$(MKDIR) $(ADA_GEN_SUBDIR)/bldtools/snamest\n-\t$(RM) $(addprefix $(ADA_GEN_SUBDIR)/bldtools/snamest/,$(notdir $^))\n-\t$(CP) $^ $(ADA_GEN_SUBDIR)/bldtools/snamest\n-\t(cd $(ADA_GEN_SUBDIR)/bldtools/snamest; gnatmake -q xsnamest ; ./xsnamest )\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/snamest/snames.ns $(ADA_GEN_SUBDIR)/snames.ads\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/snamest/snames.nb $(ADA_GEN_SUBDIR)/snames.adb\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/snamest/snames.nh $(ADA_GEN_SUBDIR)/snames.h\n-\ttouch $(ADA_GEN_SUBDIR)/stamp-snames\n-\n-$(ADA_GEN_SUBDIR)/nmake.adb $(ADA_GEN_SUBDIR)/nmake.ads: $(ADA_GEN_SUBDIR)/stamp-nmake ; @true\n-$(ADA_GEN_SUBDIR)/stamp-nmake: $(ADA_GEN_SUBDIR)/sinfo.ads $(ADA_GEN_SUBDIR)/nmake.adt $(ADA_GEN_SUBDIR)/xnmake.adb $(ADA_GEN_SUBDIR)/xutil.ads $(ADA_GEN_SUBDIR)/xutil.adb\n-\t-$(MKDIR) $(ADA_GEN_SUBDIR)/bldtools/nmake\n-\t$(RM) $(addprefix $(ADA_GEN_SUBDIR)/bldtools/nmake/,$(notdir $^))\n-\t$(CP) $^ $(ADA_GEN_SUBDIR)/bldtools/nmake\n-\t(cd $(ADA_GEN_SUBDIR)/bldtools/nmake; gnatmake -q xnmake ; ./xnmake -b nmake.adb ; ./xnmake -s nmake.ads)\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/nmake/nmake.ads $(ADA_GEN_SUBDIR)/nmake.ads\n-\t$(MOVE_IF_CHANGE) $(ADA_GEN_SUBDIR)/bldtools/nmake/nmake.adb $(ADA_GEN_SUBDIR)/nmake.adb\n-\ttouch $(ADA_GEN_SUBDIR)/stamp-nmake\n-\n-$(ADA_GEN_SUBDIR)/sdefault.adb: $(ADA_GEN_SUBDIR)/stamp-sdefault ; @true\n-$(ADA_GEN_SUBDIR)/stamp-sdefault : $(srcdir)/version.c Makefile\n+ada/sdefault.adb: ada/stamp-sdefault ; @true\n+ada/stamp-sdefault : $(srcdir)/ada/version.c Makefile\n \t$(ECHO) \"pragma Style_Checks (Off);\" >tmp-sdefault.adb\n \t$(ECHO) \"with Osint; use Osint;\" >>tmp-sdefault.adb\n \t$(ECHO) \"package body Sdefault is\" >>tmp-sdefault.adb\n@@ -93,5 +79,8 @@ $(ADA_GEN_SUBDIR)/stamp-sdefault : $(srcdir)/version.c Makefile\n \t$(ECHO) \"      return Relocate_Path (S0, S4);\" >>tmp-sdefault.adb\n \t$(ECHO) \"   end Search_Dir_Prefix;\" >>tmp-sdefault.adb\n \t$(ECHO) \"end Sdefault;\" >> tmp-sdefault.adb\n-\t$(MOVE_IF_CHANGE) tmp-sdefault.adb $(ADA_GEN_SUBDIR)/sdefault.adb\n-\ttouch $(ADA_GEN_SUBDIR)/stamp-sdefault\n+\t$(fsrcdir)/../move-if-change tmp-sdefault.adb ada/sdefault.adb\n+\ttouch ada/stamp-sdefault\n+\n+ada/%: $(srcdir)/ada/libgnat/%\n+\t$(CP) -f $< $@"}, {"sha": "fb851a6bd9222049f556370e02d4492746764b41", "filename": "gcc/ada/Makefile.rtl", "status": "modified", "additions": 62, "deletions": 37, "changes": 99, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FMakefile.rtl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2FMakefile.rtl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.rtl?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1,5 +1,5 @@\n # Makefile.rtl for GNU Ada Compiler (GNAT).\n-#   Copyright (C) 2003-2020, Free Software Foundation, Inc.\n+#   Copyright (C) 2003-2021, Free Software Foundation, Inc.\n \n #This file is part of GCC.\n \n@@ -275,13 +275,7 @@ GNATRTL_NONTASKING_OBJS= \\\n   a-stboha$(objext) \\\n   a-stfiha$(objext) \\\n   a-stmaco$(objext) \\\n-  a-stobbu$(objext) \\\n-  a-stobfi$(objext) \\\n   a-storio$(objext) \\\n-  a-stoubu$(objext) \\\n-  a-stoufi$(objext) \\\n-  a-stoufo$(objext) \\\n-  a-stouut$(objext) \\\n   a-strbou$(objext) \\\n   a-stream$(objext) \\\n   a-strsto$(objext) \\\n@@ -295,7 +289,12 @@ GNATRTL_NONTASKING_OBJS= \\\n   a-strsup$(objext) \\\n   a-strunb$(objext) \\\n   a-ststio$(objext) \\\n-  a-stteou$(objext) \\\n+  a-sttebu$(objext) \\\n+  a-stbuun$(objext) \\\n+  a-stbubo$(objext) \\\n+  a-stbuut$(objext) \\\n+  a-stbufi$(objext) \\\n+  a-stbufo$(objext) \\\n   a-stunau$(objext) \\\n   a-stunha$(objext) \\\n   a-stuten$(objext) \\\n@@ -575,20 +574,24 @@ GNATRTL_NONTASKING_OBJS= \\\n   s-dlmkio$(objext) \\\n   s-dlmopr$(objext) \\\n   s-dmotpr$(objext) \\\n+  s-dourea$(objext) \\\n   s-dsaser$(objext) \\\n   s-elaall$(objext) \\\n   s-excdeb$(objext) \\\n   s-except$(objext) \\\n   s-exctab$(objext) \\\n   s-exctra$(objext) \\\n   s-exnint$(objext) \\\n+  s-exnflt$(objext) \\\n+  s-exnlfl$(objext) \\\n   s-exnllf$(objext) \\\n   s-exnlli$(objext) \\\n   s-expint$(objext) \\\n   s-explli$(objext) \\\n   s-expllu$(objext) \\\n   s-expmod$(objext) \\\n   s-exponn$(objext) \\\n+  s-exponr$(objext) \\\n   s-expont$(objext) \\\n   s-exponu$(objext) \\\n   s-expuns$(objext) \\\n@@ -618,18 +621,24 @@ GNATRTL_NONTASKING_OBJS= \\\n   s-imaged$(objext) \\\n   s-imagef$(objext) \\\n   s-imagei$(objext) \\\n+  s-imagen$(objext) \\\n+  s-imager$(objext) \\\n   s-imageu$(objext) \\\n   s-imagew$(objext) \\\n   s-imde32$(objext) \\\n   s-imde64$(objext) \\\n-  s-imenne$(objext) \\\n+  s-imen16$(objext) \\\n+  s-imen32$(objext) \\\n+  s-imenu8$(objext) \\\n   s-imfi32$(objext) \\\n   s-imfi64$(objext) \\\n   s-imgbiu$(objext) \\\n   s-imgboo$(objext) \\\n   s-imgcha$(objext) \\\n-  s-imgenu$(objext) \\\n+  s-imgflt$(objext) \\\n   s-imgint$(objext) \\\n+  s-imglfl$(objext) \\\n+  s-imgllf$(objext) \\\n   s-imgllb$(objext) \\\n   s-imglli$(objext) \\\n   s-imgllu$(objext) \\\n@@ -709,6 +718,7 @@ GNATRTL_NONTASKING_OBJS= \\\n   s-pack63$(objext) \\\n   s-parame$(objext) \\\n   s-parint$(objext) \\\n+  s-pehage$(objext) \\\n   s-pooglo$(objext) \\\n   s-pooloc$(objext) \\\n   s-poosiz$(objext) \\\n@@ -754,9 +764,11 @@ GNATRTL_NONTASKING_OBJS= \\\n   s-valcha$(objext) \\\n   s-vade32$(objext) \\\n   s-vade64$(objext) \\\n+  s-vaen16$(objext) \\\n+  s-vaen32$(objext) \\\n+  s-vaenu8$(objext) \\\n   s-vafi32$(objext) \\\n   s-vafi64$(objext) \\\n-  s-valenu$(objext) \\\n   s-valflt$(objext) \\\n   s-valint$(objext) \\\n   s-vallfl$(objext) \\\n@@ -767,6 +779,7 @@ GNATRTL_NONTASKING_OBJS= \\\n   s-valued$(objext) \\\n   s-valuef$(objext) \\\n   s-valuei$(objext) \\\n+  s-valuen$(objext) \\\n   s-valuer$(objext) \\\n   s-valueu$(objext) \\\n   s-valuns$(objext) \\\n@@ -1030,7 +1043,7 @@ EXTRA_GNATRTL_NONTASKING_OBJS=\n EXTRA_GNATRTL_TASKING_OBJS=\n \n # Subsets of extra libgnat sources that always go together\n-VX_SIGTRAMP_EXTRA_SRCS=sigtramp.h sigtramp-vxworks-target.inc\n+VX_SIGTRAMP_EXTRA_SRCS=sigtramp.h sigtramp-vxworks-target.h\n \n # Additional object files that should go in the same directory as libgnat,\n # aside the library itself. Typically useful for crtbegin/crtend kind of files.\n@@ -1069,12 +1082,13 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworks vxworksspe vxworks7% vxworks7spe\n   a-naliop.ads<libgnat/a-naliop__nolibm.ads \\\n   a-nuaufl.ads<libgnat/a-nuaufl__wraplf.ads \\\n   a-nashfl.ads<libgnat/a-nashfl__wraplf.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__vxworks.adb \\\n   s-intman.ads<libgnarl/s-intman__vxworks.ads \\\n   s-intman.adb<libgnarl/s-intman__vxworks.adb \\\n   s-osinte.ads<libgnarl/s-osinte__vxworks.ads \\\n   s-osinte.adb<libgnarl/s-osinte__vxworks.adb \\\n-  s-osprim.adb<libgnat/s-osprim__vxworks.adb \\\n+  s-osprim.adb<libgnat/s-osprim__posix.adb \\\n   s-parame.ads<libgnat/s-parame__vxworks.ads \\\n   s-parame.adb<libgnat/s-parame__vxworks.adb \\\n   s-taprop.adb<libgnarl/s-taprop__vxworks.adb \\\n@@ -1202,6 +1216,7 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksae vxworksaespe,$(target_cpu) $(t\n   a-nuaufl.ads<libgnat/a-nuaufl__wraplf.ads \\\n   a-nashfl.ads<libgnat/a-nashfl__wraplf.ads \\\n   g-io.adb<hie/g-io__vxworks-cert.adb \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__vxworks.adb \\\n   s-interr.adb<libgnarl/s-interr__vxworks.adb \\\n   s-intman.ads<libgnarl/s-intman__vxworks.ads \\\n@@ -1218,9 +1233,9 @@ ifeq ($(strip $(filter-out powerpc% wrs vxworksae vxworksaespe,$(target_cpu) $(t\n   s-vxwext.adb<libgnarl/s-vxwext__noints.adb \\\n   s-vxwext.ads<libgnarl/s-vxwext__vthreads.ads \\\n   s-vxwork.ads<libgnarl/s-vxwork__ppc.ads \\\n-  system.ads<libgnat/system-vxworks-$(ARCH_STR)-vthread.ads \\\n   $(ATOMICS_TARGET_PAIRS) \\\n-  $(ATOMICS_BUILTINS_TARGET_PAIRS)\n+  $(ATOMICS_BUILTINS_TARGET_PAIRS) \\\n+  system.ads<libgnat/system-vxworks-$(ARCH_STR)-vthread.ads\n \n   EH_MECHANISM=-gcc\n \n@@ -1324,7 +1339,7 @@ ifeq ($(strip $(filter-out %86 x86_64 wrs vxworks vxworks7%,$(target_cpu) $(targ\n   s-inmaop.adb<libgnarl/s-inmaop__vxworks.adb \\\n   s-intman.ads<libgnarl/s-intman__vxworks.ads \\\n   s-intman.adb<libgnarl/s-intman__vxworks.adb \\\n-  s-osprim.adb<libgnat/s-osprim__vxworks.adb \\\n+  s-osprim.adb<libgnat/s-osprim__posix.adb \\\n   s-parame.ads<libgnat/s-parame__vxworks.ads \\\n   s-parame.adb<libgnat/s-parame__vxworks.adb \\\n   s-stchop.ads<libgnat/s-stchop__limit.ads \\\n@@ -1435,12 +1450,12 @@ ifeq ($(strip $(filter-out %86 x86_64 wrs vxworks vxworks7%,$(target_cpu) $(targ\n         endif\n       endif\n \n-      EXTRA_GNATRTL_NONTASKING_OBJS += i-vxwork.o i-vxwoio.o\n+      EXTRA_GNATRTL_NONTASKING_OBJS += i-vxinco.o i-vxwork.o i-vxwoio.o\n     endif\n   endif\n \n   EXTRA_GNATRTL_NONTASKING_OBJS += s-stchop.o\n-  EXTRA_GNATRTL_TASKING_OBJS += i-vxinco.o s-vxwork.o s-vxwext.o\n+  EXTRA_GNATRTL_TASKING_OBJS += s-vxwork.o s-vxwext.o\n \n   EXTRA_LIBGNAT_OBJS+=vx_stack_info.o\n \n@@ -1471,7 +1486,7 @@ ifeq ($(strip $(filter-out aarch64 arm% coff wrs vx%,$(target_cpu) $(target_vend\n   s-intman.adb<libgnarl/s-intman__vxworks.adb \\\n   s-osinte.adb<libgnarl/s-osinte__vxworks.adb \\\n   s-osinte.ads<libgnarl/s-osinte__vxworks.ads \\\n-  s-osprim.adb<libgnat/s-osprim__vxworks.adb \\\n+  s-osprim.adb<libgnat/s-osprim__posix.adb \\\n   s-parame.ads<libgnat/s-parame__vxworks.ads \\\n   s-parame.adb<libgnat/s-parame__vxworks.adb \\\n   s-stchop.ads<libgnat/s-stchop__limit.ads \\\n@@ -1490,7 +1505,8 @@ ifeq ($(strip $(filter-out aarch64 arm% coff wrs vx%,$(target_cpu) $(target_vend\n     EH_MECHANISM=-gcc\n     SIGTRAMP_OBJ=sigtramp-vxworks.o\n     LIBGNAT_TARGET_PAIRS += $(GNATRTL_128BIT_PAIRS) \\\n-      a-nallfl.ads<libgnat/a-nallfl__wraplf.ads\n+      a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n+      s-dorepr.adb<libgnat/s-dorepr__fma.adb\n     EXTRA_GNATRTL_NONTASKING_OBJS += $(GNATRTL_128BIT_OBJS)\n   else\n     ifeq ($(strip $(filter-out arm%, $(target_cpu))),)\n@@ -1611,6 +1627,7 @@ ifeq ($(strip $(filter-out aarch64 %qnx,$(target_cpu) $(target_os))),)\n   LIBGNAT_TARGET_PAIRS = \\\n   a-intnam.ads<libgnarl/a-intnam__qnx.ads \\\n   a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__qnx.adb \\\n   s-osinte.adb<libgnarl/s-osinte__qnx.adb \\\n@@ -1878,6 +1895,7 @@ ifeq ($(strip $(filter-out %aarch64 freebsd%,$(target_cpu) $(target_os))),)\n   LIBGNAT_TARGET_PAIRS = \\\n   a-intnam.ads<libgnarl/a-intnam__freebsd.ads \\\n   a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-mudido.adb<libgnarl/s-mudido__affinity.adb \\\n@@ -2144,6 +2162,7 @@ ifeq ($(strip $(filter-out lynxos178%,$(target_os))),)\n \n   ifeq ($(strip $(filter-out lynxos178e,$(target_os))),)\n     LIBGNAT_TARGET_PAIRS += \\\n+    s-parame.ads<libgnat/s-parame__posix2008.ads \\\n     s-osinte.ads<libgnarl/s-osinte__lynxos178e.ads \\\n     s-osprim.adb<libgnat/s-osprim__posix2008.adb \\\n     s-tracon.adb<hie/s-tracon__ppc-eabi.adb\n@@ -2163,6 +2182,7 @@ ifeq ($(strip $(filter-out rtems%,$(target_os))),)\n   s-osinte.ads<libgnarl/s-osinte__rtems.ads \\\n   s-osprim.adb<libgnat/s-osprim__rtems.adb \\\n   s-parame.adb<libgnat/s-parame__rtems.adb \\\n+  s-parame.ads<libgnat/s-parame__posix2008.ads \\\n   s-taprop.adb<libgnarl/s-taprop__posix.adb \\\n   s-taspri.ads<libgnarl/s-taspri__posix.ads \\\n   s-tpopsp.adb<libgnarl/s-tpopsp__tls.adb \\\n@@ -2175,7 +2195,7 @@ ifeq ($(strip $(filter-out rtems%,$(target_os))),)\n     EH_MECHANISM=-gcc\n   endif\n \n-  ifeq ($(strip $(filter-out riscv%,$(target_cpu))),)\n+  ifeq ($(strip $(filter-out aarch64% riscv%,$(target_cpu))),)\n     LIBGNAT_TARGET_PAIRS += a-nallfl.ads<libgnat/a-nallfl__wraplf.ads\n   endif\n endif\n@@ -2342,6 +2362,7 @@ ifeq ($(strip $(filter-out powerpc% linux%,$(target_cpu) $(target_os))),)\n   a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n   a-synbar.adb<libgnarl/a-synbar__posix.adb \\\n   a-synbar.ads<libgnarl/a-synbar__posix.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-linux.ads<libgnarl/s-linux.ads \\\n@@ -2425,9 +2446,11 @@ ifeq ($(strip $(filter-out aarch64% linux%,$(target_cpu) $(target_os))),)\n   a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n   a-synbar.adb<libgnarl/a-synbar__posix.adb \\\n   a-synbar.ads<libgnarl/a-synbar__posix.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-linux.ads<libgnarl/s-linux.ads \\\n+  $(TRASYM_DWARF_UNIX_PAIRS) \\\n   s-mudido.adb<libgnarl/s-mudido__affinity.adb \\\n   s-osinte.ads<libgnarl/s-osinte__linux.ads \\\n   s-osinte.adb<libgnarl/s-osinte__posix.adb \\\n@@ -2444,7 +2467,8 @@ ifeq ($(strip $(filter-out aarch64% linux%,$(target_cpu) $(target_os))),)\n \n   TOOLS_TARGET_PAIRS = indepsw.adb<indepsw-gnu.adb\n \n-  EXTRA_GNATRTL_NONTASKING_OBJS = $(GNATRTL_128BIT_OBJS)\n+  EXTRA_GNATRTL_NONTASKING_OBJS += $(GNATRTL_128BIT_OBJS) \\\n+\t\t\t\t   $(TRASYM_DWARF_UNIX_OBJS)\n   EXTRA_GNATRTL_TASKING_OBJS=s-linux.o a-exetim.o\n   EH_MECHANISM=-gcc\n   THREADSLIB=-lpthread -lrt\n@@ -2584,6 +2608,7 @@ ifeq ($(strip $(filter-out %ia64 linux%,$(target_cpu) $(target_os))),)\n   a-nuauco.ads<libgnat/a-nuauco__x86.ads \\\n   a-synbar.adb<libgnarl/a-synbar__posix.adb \\\n   a-synbar.ads<libgnarl/a-synbar__posix.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-linux.ads<libgnarl/s-linux.ads \\\n@@ -2620,6 +2645,7 @@ endif\n ifeq ($(strip $(filter-out ia64% hp hpux%,$(target_cpu) $(target_vendor) $(target_os))),)\n   LIBGNAT_TARGET_PAIRS = \\\n   a-intnam.ads<libgnarl/a-intnam__hpux.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-osinte.adb<libgnarl/s-osinte__posix.adb \\\n@@ -2736,6 +2762,7 @@ ifeq ($(strip $(filter-out %x32 linux%,$(target_cpu) $(target_os))),)\n   s-osinte.ads<libgnarl/s-osinte__linux.ads \\\n   s-osinte.adb<libgnarl/s-osinte__x32.adb \\\n   s-osprim.adb<libgnat/s-osprim__x32.adb \\\n+  s-parame.ads<libgnat/s-parame__posix2008.ads \\\n   s-taprop.adb<libgnarl/s-taprop__linux.adb \\\n   s-tasinf.ads<libgnarl/s-tasinf__linux.ads \\\n   s-tasinf.adb<libgnarl/s-tasinf__linux.adb \\\n@@ -2761,6 +2788,7 @@ ifeq ($(strip $(filter-out riscv% linux%,$(target_cpu) $(target_os))),)\n   LIBGNAT_TARGET_PAIRS = \\\n   a-intnam.ads<libgnarl/a-intnam__linux.ads \\\n   a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n+  s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n   s-inmaop.adb<libgnarl/s-inmaop__posix.adb \\\n   s-intman.adb<libgnarl/s-intman__posix.adb \\\n   s-linux.ads<libgnarl/s-linux__riscv.ads \\\n@@ -2890,6 +2918,7 @@ ifeq ($(strip $(filter-out darwin%,$(target_os))),)\n     LIBGNAT_TARGET_PAIRS += \\\n       a-nallfl.ads<libgnat/a-nallfl__wraplf.ads \\\n       s-intman.adb<libgnarl/s-intman__susv3.adb \\\n+      s-dorepr.adb<libgnat/s-dorepr__fma.adb \\\n       s-osprim.adb<libgnat/s-osprim__darwin.adb \\\n       $(ATOMICS_TARGET_PAIRS) \\\n       $(ATOMICS_BUILTINS_TARGET_PAIRS) \\\n@@ -2933,6 +2962,13 @@ ifeq ($(strip $(filter-out linux%,$(target_os))),)\n     g-sercom.adb<libgnat/g-sercom__linux.adb\n endif\n \n+# Turn on shared gnatlib for specific vx7r2 targets for RTP runtimes. Once\n+# all targets are ported the target_cpu selector can be removed.\n+ifeq ($(strip $(filter-out vxworks7r2 powerpc64 x86_64 rtp rtp-smp, $(target_os) $(target_cpu) $(THREAD_KIND))),)\n+    GNATLIB_SHARED = gnatlib-shared-dual\n+    LIBRARY_VERSION := $(LIB_VERSION)\n+endif\n+\n LIBGNAT_TARGET_PAIRS += \\\n   interfac.ads<libgnat/interfac__2020.ads\n \n@@ -2967,7 +3003,7 @@ GNATRTL_OBJS = $(GNATRTL_NONTASKING_OBJS) $(GNATRTL_TASKING_OBJS) \\\n ADA_INCLUDE_SRCS =\\\n  libgnat/ada.ads libgnat/calendar.ads libgnat/directio.ads libgnat/gnat.ads libgnat/interfac.ads libgnat/ioexcept.ads \\\n  libgnat/machcode.ads libgnat/text_io.ads libgnat/unchconv.ads libgnat/unchdeal.ads \\\n- libgnat/sequenio.ads libgnat/system.ads libgnat/memtrack.adb \\\n+ libgnat/sequenio.ads libgnat/memtrack.adb \\\n  libgna*/*.gpr \\\n  libgnat/a-[a-o]*.adb libgnat/a-[a-o]*.ads \\\n  libgnat/a-[p-z]*.adb libgnat/a-[p-z]*.ads \\\n@@ -2987,21 +3023,10 @@ ADA_EXCLUDE_SRCS =\\\n   g-altive.ads g-alveop.adb g-alveop.ads g-alvety.ads g-alvevi.ads \\\n   g-intpri.ads g-regist.adb g-regist.ads g-sse.ads    g-ssvety.ads \\\n   i-vxinco.adb i-vxinco.ads i-vxwoio.adb i-vxwoio.ads i-vxwork.ads \\\n-  s-bb.ads     s-bbbosu.ads s-bbcaco.ads s-bbcppr.ads s-bbexti.adb \\\n-  s-bbexti.ads s-bbinte.adb s-bbinte.ads s-bbprot.adb s-bbprot.ads \\\n-  s-bbsle3.ads s-bbsuer.ads s-bbsule.ads s-bbthqu.adb s-bbthqu.ads \\\n-  s-bbthre.adb s-bbthre.ads s-bbtiev.adb s-bbtiev.ads s-bbtime.adb \\\n-  s-bbtime.ads s-bcprmu.adb s-bcprmu.ads s-btstch.adb s-btstch.ads \\\n-  s-gcc.adb    s-gcc.ads    s-gccdiv.adb s-gccdiv.ads \\\n-  s-gccshi.adb s-gccshi.ads \\\n-  s-init.ads   s-init.adb   s-linux.ads  s-macres.ads \\\n-  s-memcom.adb s-memcom.ads s-memmov.adb s-memmov.ads s-memset.adb \\\n-  s-memset.ads s-mufalo.adb s-mufalo.ads s-musplo.adb s-musplo.ads \\\n-  s-sam4.ads   s-sopco3.adb s-sopco3.ads s-sopco4.adb s-sopco4.ads \\\n-  s-sopco5.adb s-sopco5.ads s-stchop.ads s-stchop.adb s-stm32.ads \\\n+  s-linux.ads  s-vxwext.adb s-vxwext.ads s-win32.ads  s-winext.ads \\\n+  s-sopco3.adb s-sopco3.ads s-sopco4.adb s-sopco4.ads \\\n+  s-sopco5.adb s-sopco5.ads s-stchop.ads s-stchop.adb \\\n   s-strcom.adb s-strcom.ads s-thread.ads \\\n-  s-vxwext.adb s-vxwext.ads \\\n-  s-win32.ads  s-winext.ads\n \n # ADA_EXCLUDE_SRCS without the sources used by the target\n ADA_EXCLUDE_FILES=$(filter-out \\"}, {"sha": "609847810fcc5844a1a4f2e866996d8a80ee6a6e", "filename": "gcc/ada/ada_get_targ.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fada_get_targ.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fada_get_targ.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fada_get_targ.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -214,7 +214,7 @@ package body Get_Targ is\n \n    function Get_Max_Unaligned_Field return Pos is\n    begin\n-      return 64;  -- Can be different on some targets (e.g., AAMP)\n+      return 64;  -- Can be different on some targets\n    end Get_Max_Unaligned_Field;\n \n    -----------------------------"}, {"sha": "2ad58ef2a5426d548e49ba253dc5c0befb4151e7", "filename": "gcc/ada/adabkend.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadabkend.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadabkend.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadabkend.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---                     Copyright (C) 2001-2020, AdaCore                     --\n+--                     Copyright (C) 2001-2021, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "86b1bce2d51a52e96a6bc7b1bbaaae704e859a24", "filename": "gcc/ada/adabkend.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadabkend.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadabkend.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadabkend.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "1e8d3067e3499db3b771b0643f24351ddd6c5981", "filename": "gcc/ada/adadecode.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadadecode.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadadecode.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadadecode.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *           Copyright (C) 2001-2020, Free Software Foundation, Inc.        *\n+ *           Copyright (C) 2001-2021, Free Software Foundation, Inc.        *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "a2ac9d22759e7f9026d248ebef24a3cd4932fd8b", "filename": "gcc/ada/adadecode.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadadecode.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadadecode.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadadecode.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                              C Header File                               *\n  *                                                                          *\n- *           Copyright (C) 2001-2020, Free Software Foundation, Inc.        *\n+ *           Copyright (C) 2001-2021, Free Software Foundation, Inc.        *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "06a48952b99dec8ae0a1b5b1ee645d5d91ef9396", "filename": "gcc/ada/adaint.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadaint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadaint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadaint.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -1570,7 +1570,7 @@ extern long long __gnat_file_time(char* name)\n /* Set the file time stamp.  */\n \n void\n-__gnat_set_file_time_name (char *name, time_t time_stamp)\n+__gnat_set_file_time_name (char *name, OS_Time time_stamp)\n {\n #if defined (__vxworks)\n \n@@ -1606,7 +1606,7 @@ __gnat_set_file_time_name (char *name, time_t time_stamp)\n   time_t t;\n \n   /* Set modification time to requested time.  */\n-  utimbuf.modtime = time_stamp;\n+  utimbuf.modtime = (time_t) time_stamp;\n \n   /* Set access time to now in local time.  */\n   t = time (NULL);\n@@ -2423,7 +2423,6 @@ __gnat_portable_spawn (char *args[] ATTRIBUTE_UNUSED)\n   if (pid == 0)\n     {\n       /* The child. */\n-      __gnat_in_child_after_fork = 1;\n       if (execv (args[0], MAYBE_TO_PTR32 (args)) != 0)\n \t_exit (1);\n     }\n@@ -2486,7 +2485,7 @@ __gnat_number_of_cpus (void)\n {\n   int cores = 1;\n \n-#ifdef _SC_NPROCESSORS_ONLN\n+#if defined (_SC_NPROCESSORS_ONLN)\n   cores = (int) sysconf (_SC_NPROCESSORS_ONLN);\n \n #elif defined (__QNX__)"}, {"sha": "a63ceef060b527f0ec32e37fe7a387ba14dd6e6e", "filename": "gcc/ada/adaint.h", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadaint.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fadaint.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fadaint.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                              C Header File                               *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -101,11 +101,7 @@ extern \"C\" {\n #endif\n \n /* Type corresponding to GNAT.OS_Lib.OS_Time */\n-#if defined (_WIN64)\n typedef long long OS_Time;\n-#else\n-typedef long OS_Time;\n-#endif\n \n #define __int64 long long\n GNAT_STRUCT_STAT;\n@@ -205,7 +201,7 @@ extern OS_Time __gnat_file_time_name                (char *);\n extern OS_Time __gnat_file_time_fd                  (int);\n /* return -1 in case of error */\n \n-extern void   __gnat_set_file_time_name\t\t   (char *, time_t);\n+extern void   __gnat_set_file_time_name\t\t   (char *, OS_Time);\n \n extern int    __gnat_dup\t\t\t            (int);\n extern int    __gnat_dup2\t\t\t            (int, int);"}, {"sha": "6a3dbb27d149d6e3f14831402f30f4ffd6098c7d", "filename": "gcc/ada/affinity.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faffinity.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faffinity.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Faffinity.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *            Copyright (C) 2005-2020, Free Software Foundation, Inc.       *\n+ *            Copyright (C) 2005-2021, Free Software Foundation, Inc.       *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "9074a9a349fa671cc3136bd8bb33f783e54f7e68", "filename": "gcc/ada/ali-util.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali-util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali-util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali-util.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "e7e1c0da5ad332157ca58dfc184d1e40e49e5e54", "filename": "gcc/ada/ali-util.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali-util.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali-util.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali-util.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "24f1677f82a08225ec62eab92354418d581cd11b", "filename": "gcc/ada/ali.adb", "status": "modified", "additions": 8, "deletions": 468, "changes": 476, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -894,8 +894,6 @@ package body ALI is\n       T                : Text_Buffer_Ptr;\n       Ignore_ED        : Boolean;\n       Err              : Boolean;\n-      Read_Xref        : Boolean := False;\n-      Read_Lines       : String  := \"\";\n       Ignore_Lines     : String  := \"X\";\n       Ignore_Errors    : Boolean := False;\n       Directly_Scanned : Boolean := False) return ALI_Id\n@@ -907,7 +905,8 @@ package body ALI is\n       NS_Found  : Boolean;\n       First_Arg : Arg_Id;\n \n-      Ignore : array (Character range 'A' .. 'Z') of Boolean;\n+      Ignore : array (Character range 'A' .. 'Z') of Boolean :=\n+                 (others => False);\n       --  Ignore (X) is set to True if lines starting with X are to\n       --  be ignored by Scan_ALI and skipped, and False if the lines\n       --  are to be read and processed.\n@@ -1006,16 +1005,6 @@ package body ALI is\n       function Nextc return Character;\n       --  Return current character without modifying pointer P\n \n-      procedure Get_Typeref\n-        (Current_File_Num : Sdep_Id;\n-         Ref             : out Tref_Kind;\n-         File_Num        : out Sdep_Id;\n-         Line            : out Nat;\n-         Ref_Type        : out Character;\n-         Col             : out Nat;\n-         Standard_Entity : out Name_Id);\n-      --  Parse the definition of a typeref (<...>, {...} or (...))\n-\n       procedure Scan_Invocation_Graph_Line;\n       --  Parse a single line that encodes a piece of the invocation graph\n \n@@ -1423,94 +1412,6 @@ package body ALI is\n          return T;\n       end Get_Stamp;\n \n-      -----------------\n-      -- Get_Typeref --\n-      -----------------\n-\n-      procedure Get_Typeref\n-        (Current_File_Num : Sdep_Id;\n-         Ref              : out Tref_Kind;\n-         File_Num         : out Sdep_Id;\n-         Line             : out Nat;\n-         Ref_Type         : out Character;\n-         Col              : out Nat;\n-         Standard_Entity  : out Name_Id)\n-      is\n-         N : Nat;\n-      begin\n-         case Nextc is\n-            when '<'    => Ref := Tref_Derived;\n-            when '('    => Ref := Tref_Access;\n-            when '{'    => Ref := Tref_Type;\n-            when others => Ref := Tref_None;\n-         end case;\n-\n-         --  Case of typeref field present\n-\n-         if Ref /= Tref_None then\n-            P := P + 1; -- skip opening bracket\n-\n-            if Nextc in 'a' .. 'z' then\n-               File_Num        := No_Sdep_Id;\n-               Line            := 0;\n-               Ref_Type        := ' ';\n-               Col             := 0;\n-               Standard_Entity := Get_Name (Ignore_Spaces => True);\n-            else\n-               N := Get_Nat;\n-\n-               if Nextc = '|' then\n-                  File_Num := Sdep_Id (N + Nat (First_Sdep_Entry) - 1);\n-                  P := P + 1;\n-                  N := Get_Nat;\n-               else\n-                  File_Num := Current_File_Num;\n-               end if;\n-\n-               Line            := N;\n-               Ref_Type        := Getc;\n-               Col             := Get_Nat;\n-               Standard_Entity := No_Name;\n-            end if;\n-\n-            --  ??? Temporary workaround for nested generics case:\n-            --     4i4 Directories{1|4I9[4|6[3|3]]}\n-            --  See C918-002\n-\n-            declare\n-               Nested_Brackets : Natural := 0;\n-\n-            begin\n-               loop\n-                  case Nextc is\n-                     when '[' =>\n-                        Nested_Brackets := Nested_Brackets + 1;\n-                     when ']' =>\n-                        Nested_Brackets := Nested_Brackets - 1;\n-                     when others =>\n-                        if Nested_Brackets = 0 then\n-                           exit;\n-                        end if;\n-                  end case;\n-\n-                  Skipc;\n-               end loop;\n-            end;\n-\n-            P := P + 1; -- skip closing bracket\n-            Skip_Space;\n-\n-         --  No typeref entry present\n-\n-         else\n-            File_Num        := No_Sdep_Id;\n-            Line            := 0;\n-            Ref_Type        := ' ';\n-            Col             := 0;\n-            Standard_Entity := No_Name;\n-         end if;\n-      end Get_Typeref;\n-\n       ----------\n       -- Getc --\n       ----------\n@@ -1836,31 +1737,10 @@ package body ALI is\n    begin\n       First_Sdep_Entry := Sdep.Last + 1;\n \n-      --  Acquire lines to be ignored\n-\n-      if Read_Xref then\n-         Ignore :=\n-           ('T' | 'U' | 'W' | 'Y' | 'Z' | 'D' | 'X' => False, others => True);\n-\n-      --  Read_Lines parameter given\n-\n-      elsif Read_Lines /= \"\" then\n-         Ignore := ('U' => False, others => True);\n-\n-         for J in Read_Lines'Range loop\n-            Ignore (Read_Lines (J)) := False;\n-         end loop;\n-\n-      --  Process Ignore_Lines parameter\n-\n-      else\n-         Ignore := (others => False);\n-\n-         for J in Ignore_Lines'Range loop\n-            pragma Assert (Ignore_Lines (J) /= 'U');\n-            Ignore (Ignore_Lines (J)) := True;\n-         end loop;\n-      end if;\n+      for J in Ignore_Lines'Range loop\n+         pragma Assert (Ignore_Lines (J) /= 'U');\n+         Ignore (Ignore_Lines (J)) := True;\n+      end loop;\n \n       --  Setup ALI Table entry with appropriate defaults\n \n@@ -3465,347 +3345,7 @@ package body ALI is\n          Fatal_Error;\n       end if;\n \n-      --  If we are ignoring Xref sections we are done (we ignore all\n-      --  remaining lines since only xref related lines follow X).\n-\n-      if Ignore ('X') and then not Debug_Flag_X then\n-         return Id;\n-      end if;\n-\n-      --  Loop through Xref sections\n-\n-      X_Loop : loop\n-         Check_Unknown_Line;\n-         exit X_Loop when C /= 'X';\n-\n-         --  Make new entry in section table\n-\n-         Xref_Section.Increment_Last;\n-\n-         Read_Refs_For_One_File : declare\n-            XS : Xref_Section_Record renames\n-                   Xref_Section.Table (Xref_Section.Last);\n-\n-            Current_File_Num : Sdep_Id;\n-            --  Keeps track of the current file number (changed by nn|)\n-\n-         begin\n-            XS.File_Num     := Sdep_Id (Get_Nat + Nat (First_Sdep_Entry) - 1);\n-            XS.File_Name    := Get_File_Name;\n-            XS.First_Entity := Xref_Entity.Last + 1;\n-\n-            Current_File_Num := XS.File_Num;\n-\n-            Skip_Space;\n-\n-            Skip_Eol;\n-            C := Nextc;\n-\n-            --  Loop through Xref entities\n-\n-            while C /= 'X' and then C /= EOF loop\n-               Xref_Entity.Increment_Last;\n-\n-               Read_Refs_For_One_Entity : declare\n-                  XE : Xref_Entity_Record renames\n-                         Xref_Entity.Table (Xref_Entity.Last);\n-                  N  : Nat;\n-\n-                  procedure Read_Instantiation_Reference;\n-                  --  Acquire instantiation reference. Caller has checked\n-                  --  that current character is '[' and on return the cursor\n-                  --  is skipped past the corresponding closing ']'.\n-\n-                  ----------------------------------\n-                  -- Read_Instantiation_Reference --\n-                  ----------------------------------\n-\n-                  procedure Read_Instantiation_Reference is\n-                     Local_File_Num : Sdep_Id := Current_File_Num;\n-\n-                  begin\n-                     Xref.Increment_Last;\n-\n-                     declare\n-                        XR : Xref_Record renames Xref.Table (Xref.Last);\n-\n-                     begin\n-                        P := P + 1; -- skip [\n-                        N := Get_Nat;\n-\n-                        if Nextc = '|' then\n-                           XR.File_Num :=\n-                             Sdep_Id (N + Nat (First_Sdep_Entry) - 1);\n-                           Local_File_Num := XR.File_Num;\n-                           P := P + 1;\n-                           N := Get_Nat;\n-\n-                        else\n-                           XR.File_Num := Local_File_Num;\n-                        end if;\n-\n-                        XR.Line  := N;\n-                        XR.Rtype := ' ';\n-                        XR.Col   := 0;\n-\n-                        --  Recursive call for next reference\n-\n-                        if Nextc = '[' then\n-                           pragma Warnings (Off); -- kill recursion warning\n-                           Read_Instantiation_Reference;\n-                           pragma Warnings (On);\n-                        end if;\n-\n-                        --  Skip closing bracket after recursive call\n-\n-                        P := P + 1;\n-                     end;\n-                  end Read_Instantiation_Reference;\n-\n-               --  Start of processing for Read_Refs_For_One_Entity\n-\n-               begin\n-                  XE.Line  := Get_Nat;\n-                  XE.Etype := Getc;\n-                  XE.Col   := Get_Nat;\n-\n-                  case Getc is\n-                     when '*' =>\n-                        XE.Visibility := Global;\n-                     when '+' =>\n-                        XE.Visibility := Static;\n-                     when others =>\n-                        XE.Visibility := Other;\n-                  end case;\n-\n-                  XE.Entity := Get_Name;\n-\n-                  --  Handle the information about generic instantiations\n-\n-                  if Nextc = '[' then\n-                     Skipc; --  Opening '['\n-                     N := Get_Nat;\n-\n-                     if Nextc /= '|' then\n-                        XE.Iref_File_Num := Current_File_Num;\n-                        XE.Iref_Line     := N;\n-                     else\n-                        XE.Iref_File_Num :=\n-                          Sdep_Id (N + Nat (First_Sdep_Entry) - 1);\n-                        Skipc;\n-                        XE.Iref_Line := Get_Nat;\n-                     end if;\n-\n-                     if Getc /= ']' then\n-                        Fatal_Error;\n-                     end if;\n-\n-                  else\n-                     XE.Iref_File_Num := No_Sdep_Id;\n-                     XE.Iref_Line     := 0;\n-                  end if;\n-\n-                  Current_File_Num := XS.File_Num;\n-\n-                  --  Renaming reference is present\n-\n-                  if Nextc = '=' then\n-                     P := P + 1;\n-                     XE.Rref_Line := Get_Nat;\n-\n-                     if Getc /= ':' then\n-                        Fatal_Error;\n-                     end if;\n-\n-                     XE.Rref_Col := Get_Nat;\n-\n-                  --  No renaming reference present\n-\n-                  else\n-                     XE.Rref_Line := 0;\n-                     XE.Rref_Col  := 0;\n-                  end if;\n-\n-                  Skip_Space;\n-\n-                  XE.Oref_File_Num := No_Sdep_Id;\n-                  XE.Tref_File_Num := No_Sdep_Id;\n-                  XE.Tref          := Tref_None;\n-                  XE.First_Xref    := Xref.Last + 1;\n-\n-                  --  Loop to check for additional info present\n-\n-                  loop\n-                     declare\n-                        Ref  : Tref_Kind;\n-                        File : Sdep_Id;\n-                        Line : Nat;\n-                        Typ  : Character;\n-                        Col  : Nat;\n-                        Std  : Name_Id;\n-\n-                     begin\n-                        Get_Typeref\n-                          (Current_File_Num, Ref, File, Line, Typ, Col, Std);\n-                        exit when Ref = Tref_None;\n-\n-                        --  Do we have an overriding procedure?\n-\n-                        if Ref = Tref_Derived and then Typ = 'p' then\n-                           XE.Oref_File_Num := File;\n-                           XE.Oref_Line     := Line;\n-                           XE.Oref_Col      := Col;\n-\n-                        --  Arrays never override anything, and <> points to\n-                        --  the index types instead\n-\n-                        elsif Ref = Tref_Derived and then XE.Etype = 'A' then\n-\n-                           --  Index types are stored in the list of references\n-\n-                           Xref.Increment_Last;\n-\n-                           declare\n-                              XR : Xref_Record renames Xref.Table (Xref.Last);\n-                           begin\n-                              XR.File_Num := File;\n-                              XR.Line     := Line;\n-                              XR.Rtype    := Array_Index_Reference;\n-                              XR.Col      := Col;\n-                              XR.Name     := Std;\n-                           end;\n-\n-                        --  Interfaces are stored in the list of references,\n-                        --  although the parent type itself is stored in XE.\n-                        --  The first interface (when there are only\n-                        --  interfaces) is stored in XE.Tref*)\n-\n-                        elsif Ref = Tref_Derived\n-                          and then Typ = 'R'\n-                          and then XE.Tref_File_Num /= No_Sdep_Id\n-                        then\n-                           Xref.Increment_Last;\n-\n-                           declare\n-                              XR : Xref_Record renames Xref.Table (Xref.Last);\n-                           begin\n-                              XR.File_Num := File;\n-                              XR.Line     := Line;\n-                              XR.Rtype    := Interface_Reference;\n-                              XR.Col      := Col;\n-                              XR.Name     := Std;\n-                           end;\n-\n-                        else\n-                           XE.Tref                 := Ref;\n-                           XE.Tref_File_Num        := File;\n-                           XE.Tref_Line            := Line;\n-                           XE.Tref_Type            := Typ;\n-                           XE.Tref_Col             := Col;\n-                           XE.Tref_Standard_Entity := Std;\n-                        end if;\n-                     end;\n-                  end loop;\n-\n-                  --  Loop through cross-references for this entity\n-\n-                  loop\n-                     Skip_Space;\n-\n-                     if At_Eol then\n-                        Skip_Eol;\n-                        exit when Nextc /= '.';\n-                        P := P + 1;\n-                     end if;\n-\n-                     Xref.Increment_Last;\n-\n-                     declare\n-                        XR : Xref_Record renames Xref.Table (Xref.Last);\n-\n-                     begin\n-                        N := Get_Nat;\n-\n-                        if Nextc = '|' then\n-                           XR.File_Num :=\n-                             Sdep_Id (N + Nat (First_Sdep_Entry) - 1);\n-                           Current_File_Num := XR.File_Num;\n-                           P := P + 1;\n-                           N := Get_Nat;\n-                        else\n-                           XR.File_Num := Current_File_Num;\n-                        end if;\n-\n-                        XR.Line  := N;\n-                        XR.Rtype := Getc;\n-\n-                        --  Imported entities reference as in:\n-                        --    494b<c,__gnat_copy_attribs>25\n-\n-                        if Nextc = '<' then\n-                           Skipc;\n-                           XR.Imported_Lang := Get_Name;\n-\n-                           pragma Assert (Nextc = ',');\n-                           Skipc;\n-\n-                           XR.Imported_Name := Get_Name;\n-\n-                           pragma Assert (Nextc = '>');\n-                           Skipc;\n-\n-                        else\n-                           XR.Imported_Lang := No_Name;\n-                           XR.Imported_Name := No_Name;\n-                        end if;\n-\n-                        XR.Col   := Get_Nat;\n-\n-                        if Nextc = '[' then\n-                           Read_Instantiation_Reference;\n-                        end if;\n-                     end;\n-                  end loop;\n-\n-                  --  Record last cross-reference\n-\n-                  XE.Last_Xref := Xref.Last;\n-                  C := Nextc;\n-\n-               exception\n-                  when Bad_ALI_Format =>\n-\n-                     --  If ignoring errors, then we skip a line with an\n-                     --  unexpected error, and try to continue subsequent\n-                     --  xref lines.\n-\n-                     if Ignore_Errors then\n-                        Xref_Entity.Decrement_Last;\n-                        Skip_Line;\n-                        C := Nextc;\n-\n-                     --  Otherwise, we reraise the fatal exception\n-\n-                     else\n-                        raise;\n-                     end if;\n-               end Read_Refs_For_One_Entity;\n-            end loop;\n-\n-            --  Record last entity\n-\n-            XS.Last_Entity := Xref_Entity.Last;\n-         end Read_Refs_For_One_File;\n-\n-         C := Getc;\n-      end loop X_Loop;\n-\n-      --  Here after dealing with xref sections\n-\n-      --  Ignore remaining lines, which belong to an additional section of the\n-      --  ALI file not considered here (like SCO or SPARK information).\n-\n-      Check_Unknown_Line;\n+      --  This ALI parser does not care about Xref lines.\n \n       return Id;\n "}, {"sha": "3ac9f0e11fe9e48e380d0eea1882bc60a1d4a745", "filename": "gcc/ada/ali.ads", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fali.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1391,8 +1391,6 @@ package ALI is\n       T                : Text_Buffer_Ptr;\n       Ignore_ED        : Boolean;\n       Err              : Boolean;\n-      Read_Xref        : Boolean := False;\n-      Read_Lines       : String  := \"\";\n       Ignore_Lines     : String  := \"X\";\n       Ignore_Errors    : Boolean := False;\n       Directly_Scanned : Boolean := False) return ALI_Id;\n@@ -1417,24 +1415,6 @@ package ALI is\n    --    tables will not be filled in this case. It is not possible\n    --    to ignore U (unit) lines, they are always read.\n    --\n-   --    Read_Lines requests that Scan_ALI process only lines that start\n-   --    with one of the given characters. The corresponding data in the\n-   --    ALI file for any characters not given in the list will not be\n-   --    set. The default value of the null string indicates that all\n-   --    lines should be read (unless Ignore_Lines is specified). U\n-   --    (unit) lines are always read regardless of the value of this\n-   --    parameter.\n-   --\n-   --    Note: either Ignore_Lines or Read_Lines should be non-null, but not\n-   --    both. If both are provided then only the Read_Lines value is used,\n-   --    and the Ignore_Lines parameter is ignored.\n-   --\n-   --    Read_Xref is set True to read and acquire the cross-reference\n-   --    information. If Read_XREF is set to True, then the effect is to ignore\n-   --    all lines other than U, W, D and X lines and the Ignore_Lines and\n-   --    Read_Lines parameters are ignored (i.e. the use of True for Read_XREF\n-   --    is equivalent to specifying an argument of \"UWDX\" for Read_Lines.\n-   --\n    --    Ignore_Errors is normally False. If it is set True, then Scan_ALI\n    --    will do its best to scan through a file and extract all information\n    --    it can, even if there are errors. In this case Err is only set if"}, {"sha": "85944c987cf80a807e0895f095600049e801ef40", "filename": "gcc/ada/alloc.ads", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Falloc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Falloc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Falloc.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -35,7 +35,7 @@\n \n package Alloc is\n \n-   --  The comment shows the unit in which the table is defined\n+   --  The comment shows the unit in which the tables are defined\n \n    All_Interp_Initial               : constant := 1_000;      -- Sem_Type\n    All_Interp_Increment             : constant := 100;\n@@ -94,9 +94,11 @@ package Alloc is\n    Names_Initial                    : constant := 6_000;      -- Namet\n    Names_Increment                  : constant := 100;\n \n-   Nodes_Initial                    : constant := 50_000;     -- Atree\n-   Nodes_Increment                  : constant := 100;\n-   Nodes_Release_Threshold          : constant := 100_000;\n+   Node_Offsets_Initial             : constant := 500_000;    -- Atree, Nlists\n+   Node_Offsets_Increment           : constant := 100;\n+\n+   Slots_Initial                    : constant := 2_000_000;  -- Atree\n+   Slots_Increment                  : constant := 100;\n \n    Notes_Initial                    : constant := 100;        -- Lib\n    Notes_Increment                  : constant := 200;"}, {"sha": "21cead39a3e8379eaa5c90dee393bf1ea046e22d", "filename": "gcc/ada/argv-lynxos178-raven-cert.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fargv-lynxos178-raven-cert.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fargv-lynxos178-raven-cert.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fargv-lynxos178-raven-cert.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *         Copyright (C) 1992-2020, Free Software Foundation, Inc.          *\n+ *         Copyright (C) 1992-2021, Free Software Foundation, Inc.          *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -41,6 +41,7 @@\n    minimal support for Ada.Command_Line.Command_Name */\n \n #include <sys/types.h>\n+#include <stdlib.h>\n #include <string.h>\n \n #ifdef __cplusplus\n@@ -53,8 +54,8 @@ extern \"C\" {\n    the binder-generated file so they need to be defined here */\n \n int gnat_argc = 0;\n-const char **gnat_argv = (const char **) 0;\n-const char **gnat_envp = (const char **) 0;\n+char **gnat_argv = NULL;\n+char **gnat_envp = NULL;\n \n int\n __gnat_len_arg (int arg_num)"}, {"sha": "4734415960dbe902116fd2905f26664acade9ee5", "filename": "gcc/ada/argv.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fargv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fargv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fargv.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *         Copyright (C) 1992-2020, Free Software Foundation, Inc.          *\n+ *         Copyright (C) 1992-2021, Free Software Foundation, Inc.          *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -44,6 +44,7 @@\n \n #ifdef IN_RTS\n #include \"runtime.h\"\n+#include <stdlib.h>\n #include <string.h>\n #else\n #include \"config.h\"\n@@ -60,14 +61,13 @@ extern \"C\" {\n    envp of the main program is saved under gnat_envp.  */\n \n int gnat_argc = 0;\n-const char **gnat_argv = (const char **) 0;\n-const char **gnat_envp = (const char **) 0;\n+char **gnat_argv = NULL;\n+char **gnat_envp = NULL;\n \n #if defined (_WIN32) && !defined (RTX)\n /* Note that on Windows environment the environ point to a buffer that could\n    be reallocated if needed. It means that gnat_envp needs to be updated\n    before using gnat_envp to point to the right environment space */\n-#include <stdlib.h>\n /* for the environ variable definition */\n #define gnat_envp (environ)\n #endif"}, {"sha": "a6e4f28f2cb93deccde0bab27434b821f872c3fc", "filename": "gcc/ada/aspects.adb", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faspects.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faspects.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Faspects.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2010-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2010-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,10 +23,14 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Atree;    use Atree;\n-with Einfo;    use Einfo;\n-with Nlists;   use Nlists;\n-with Sinfo;    use Sinfo;\n+with Atree;          use Atree;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Nlists;         use Nlists;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n \n with GNAT.HTable;\n \n@@ -224,7 +228,7 @@ package body Aspects is\n       while Present (Item) loop\n          if Nkind (Item) = N_Aspect_Specification\n            and then Get_Aspect_Id (Item) = A\n-           and then Class_Present = Sinfo.Class_Present (Item)\n+           and then Class_Present = Sinfo.Nodes.Class_Present (Item)\n          then\n             return Item;\n          end if;\n@@ -237,6 +241,10 @@ package body Aspects is\n       --  find the declaration node where the aspects reside. This is usually\n       --  the parent or the parent of the parent.\n \n+      if No (Parent (Owner)) then\n+         return Empty;\n+      end if;\n+\n       Decl := Parent (Owner);\n       if not Permits_Aspect_Specifications (Decl) then\n          Decl := Parent (Decl);\n@@ -248,7 +256,7 @@ package body Aspects is\n          Spec := First (Aspect_Specifications (Decl));\n          while Present (Spec) loop\n             if Get_Aspect_Id (Spec) = A\n-              and then Class_Present = Sinfo.Class_Present (Spec)\n+              and then Class_Present = Sinfo.Nodes.Class_Present (Spec)\n             then\n                return Spec;\n             end if;\n@@ -484,6 +492,7 @@ package body Aspects is\n \n    function Permits_Aspect_Specifications (N : Node_Id) return Boolean is\n    begin\n+      pragma Assert (Present (N));\n       return Has_Aspect_Specifications_Flag (Nkind (N));\n    end Permits_Aspect_Specifications;\n "}, {"sha": "0f9ed232c8029c8770dffce8215f273c01f41570", "filename": "gcc/ada/aspects.ads", "status": "modified", "additions": 22, "deletions": 9, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faspects.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faspects.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Faspects.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2010-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2010-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -100,6 +100,7 @@ package Aspects is\n       Aspect_External_Tag,\n       Aspect_Ghost,                         -- GNAT\n       Aspect_Global,                        -- GNAT\n+      Aspect_GNAT_Annotate,                 -- GNAT\n       Aspect_Implicit_Dereference,\n       Aspect_Initial_Condition,             -- GNAT\n       Aspect_Initializes,                   -- GNAT\n@@ -116,6 +117,8 @@ package Aspects is\n       Aspect_Max_Entry_Queue_Length,\n       Aspect_Max_Queue_Length,              -- GNAT\n       Aspect_No_Caching,                    -- GNAT\n+      Aspect_No_Controlled_Parts,\n+      Aspect_No_Task_Parts,                 -- GNAT\n       Aspect_Object_Size,                   -- GNAT\n       Aspect_Obsolescent,                   -- GNAT\n       Aspect_Output,\n@@ -171,7 +174,6 @@ package Aspects is\n       Aspect_Remote_Call_Interface,\n       Aspect_Remote_Types,\n       Aspect_Shared_Passive,\n-      Aspect_Universal_Data,                -- GNAT\n \n       --  Remaining aspects have a static boolean value that turns the aspect\n       --  on or off. They all correspond to pragmas, but are only converted to\n@@ -268,6 +270,7 @@ package Aspects is\n       Aspect_Favor_Top_Level            => True,\n       Aspect_Ghost                      => True,\n       Aspect_Global                     => True,\n+      Aspect_GNAT_Annotate              => True,\n       Aspect_Inline_Always              => True,\n       Aspect_Invariant                  => True,\n       Aspect_Lock_Free                  => True,\n@@ -290,7 +293,6 @@ package Aspects is\n       Aspect_Thread_Local_Storage       => True,\n       Aspect_Test_Case                  => True,\n       Aspect_Universal_Aliasing         => True,\n-      Aspect_Universal_Data             => True,\n       Aspect_Unmodified                 => True,\n       Aspect_Unreferenced               => True,\n       Aspect_Unreferenced_Objects       => True,\n@@ -318,17 +320,18 @@ package Aspects is\n    --  the same aspect attached to the same declaration are allowed.\n \n    No_Duplicates_Allowed : constant array (Aspect_Id) of Boolean :=\n-     (Aspect_Annotate  => False,\n-      Aspect_Test_Case => False,\n-      others           => True);\n+     (Aspect_Annotate      => False,\n+      Aspect_GNAT_Annotate => False,\n+      Aspect_Test_Case     => False,\n+      others               => True);\n \n    --  The following subtype defines aspects corresponding to library unit\n    --  pragmas, these can only validly appear as aspects for library units,\n    --  and result in a corresponding pragma being inserted immediately after\n    --  the occurrence of the aspect.\n \n    subtype Library_Unit_Aspects is\n-     Aspect_Id range Aspect_All_Calls_Remote .. Aspect_Universal_Data;\n+     Aspect_Id range Aspect_All_Calls_Remote .. Aspect_Shared_Passive;\n \n    --  The following subtype defines aspects accepting an optional static\n    --  boolean parameter indicating if the aspect should be active or\n@@ -387,6 +390,7 @@ package Aspects is\n       Aspect_External_Tag               => Expression,\n       Aspect_Ghost                      => Optional_Expression,\n       Aspect_Global                     => Expression,\n+      Aspect_GNAT_Annotate              => Expression,\n       Aspect_Implicit_Dereference       => Name,\n       Aspect_Initial_Condition          => Expression,\n       Aspect_Initializes                => Expression,\n@@ -403,6 +407,8 @@ package Aspects is\n       Aspect_Max_Entry_Queue_Length     => Expression,\n       Aspect_Max_Queue_Length           => Expression,\n       Aspect_No_Caching                 => Optional_Expression,\n+      Aspect_No_Controlled_Parts        => Optional_Expression,\n+      Aspect_No_Task_Parts              => Optional_Expression,\n       Aspect_Object_Size                => Expression,\n       Aspect_Obsolescent                => Optional_Expression,\n       Aspect_Output                     => Name,\n@@ -489,6 +495,7 @@ package Aspects is\n       Aspect_External_Tag                 => False,\n       Aspect_Ghost                        => False,\n       Aspect_Global                       => False,\n+      Aspect_GNAT_Annotate               => False,\n       Aspect_Implicit_Dereference         => False,\n       Aspect_Initial_Condition            => False,\n       Aspect_Initializes                  => False,\n@@ -505,6 +512,8 @@ package Aspects is\n       Aspect_Max_Entry_Queue_Length       => False,\n       Aspect_Max_Queue_Length             => False,\n       Aspect_No_Caching                   => False,\n+      Aspect_No_Controlled_Parts          => False,\n+      Aspect_No_Task_Parts                => False,\n       Aspect_Object_Size                  => True,\n       Aspect_Obsolescent                  => False,\n       Aspect_Output                       => False,\n@@ -643,6 +652,7 @@ package Aspects is\n       Aspect_Full_Access_Only             => Name_Full_Access_Only,\n       Aspect_Ghost                        => Name_Ghost,\n       Aspect_Global                       => Name_Global,\n+      Aspect_GNAT_Annotate                => Name_GNAT_Annotate,\n       Aspect_Implicit_Dereference         => Name_Implicit_Dereference,\n       Aspect_Import                       => Name_Import,\n       Aspect_Independent                  => Name_Independent,\n@@ -666,6 +676,8 @@ package Aspects is\n       Aspect_Max_Entry_Queue_Length       => Name_Max_Entry_Queue_Length,\n       Aspect_Max_Queue_Length             => Name_Max_Queue_Length,\n       Aspect_No_Caching                   => Name_No_Caching,\n+      Aspect_No_Controlled_Parts          => Name_No_Controlled_Parts,\n+      Aspect_No_Task_Parts                => Name_No_Task_Parts,\n       Aspect_No_Elaboration_Code_All      => Name_No_Elaboration_Code_All,\n       Aspect_No_Inline                    => Name_No_Inline,\n       Aspect_No_Return                    => Name_No_Return,\n@@ -726,7 +738,6 @@ package Aspects is\n       Aspect_Unchecked_Union              => Name_Unchecked_Union,\n       Aspect_Unimplemented                => Name_Unimplemented,\n       Aspect_Universal_Aliasing           => Name_Universal_Aliasing,\n-      Aspect_Universal_Data               => Name_Universal_Data,\n       Aspect_Unmodified                   => Name_Unmodified,\n       Aspect_Unreferenced                 => Name_Unreferenced,\n       Aspect_Unreferenced_Objects         => Name_Unreferenced_Objects,\n@@ -927,7 +938,6 @@ package Aspects is\n       Aspect_Type_Invariant               => Always_Delay,\n       Aspect_Unchecked_Union              => Always_Delay,\n       Aspect_Universal_Aliasing           => Always_Delay,\n-      Aspect_Universal_Data               => Always_Delay,\n       Aspect_Unmodified                   => Always_Delay,\n       Aspect_Unreferenced                 => Always_Delay,\n       Aspect_Unreferenced_Objects         => Always_Delay,\n@@ -953,13 +963,16 @@ package Aspects is\n       Aspect_Extensions_Visible           => Never_Delay,\n       Aspect_Ghost                        => Never_Delay,\n       Aspect_Global                       => Never_Delay,\n+      Aspect_GNAT_Annotate                => Never_Delay,\n       Aspect_Import                       => Never_Delay,\n       Aspect_Initial_Condition            => Never_Delay,\n       Aspect_Initializes                  => Never_Delay,\n       Aspect_Max_Entry_Queue_Depth        => Never_Delay,\n       Aspect_Max_Entry_Queue_Length       => Never_Delay,\n       Aspect_Max_Queue_Length             => Never_Delay,\n       Aspect_No_Caching                   => Never_Delay,\n+      Aspect_No_Controlled_Parts          => Never_Delay,\n+      Aspect_No_Task_Parts                => Never_Delay,\n       Aspect_No_Elaboration_Code_All      => Never_Delay,\n       Aspect_No_Tagged_Streams            => Never_Delay,\n       Aspect_Obsolescent                  => Never_Delay,"}, {"sha": "c7e295bc8f7bc42b1aede1a9b5852c8b907c62e5", "filename": "gcc/ada/atree.adb", "status": "modified", "additions": 1754, "deletions": 8177, "changes": 9931, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fatree.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6fb5aa6c2b6fb24d920ea0ed28e2f051c1c08f5b", "filename": "gcc/ada/atree.ads", "status": "modified", "additions": 378, "deletions": 3515, "changes": 3893, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fatree.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "08b791cae7c3afd4bc7ca8ca2224899fc6f5e754", "filename": "gcc/ada/atree.h", "status": "modified", "additions": 66, "deletions": 821, "changes": 887, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fatree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fatree.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                              C Header File                               *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *\n@@ -35,361 +35,20 @@\n extern \"C\" {\n #endif\n \n-/* Structure used for the first part of the node in the case where we have\n-   an Nkind.  */\n-\n-struct NFK\n-{\n-  Boolean      is_extension  :  1;\n-  Boolean      pflag1        :  1;\n-  Boolean      pflag2        :  1;\n-  Boolean      in_list       :  1;\n-  Boolean      has_aspects   :  1;\n-  Boolean      rewrite_ins   :  1;\n-  Boolean      analyzed      :  1;\n-  Boolean      c_f_s\t     :  1;\n-  Boolean      error_posted  :  1;\n-\n-  Boolean      flag4  :  1;\n-  Boolean      flag5  :  1;\n-  Boolean      flag6  :  1;\n-  Boolean      flag7  :  1;\n-  Boolean      flag8  :  1;\n-  Boolean      flag9  :  1;\n-  Boolean      flag10 :  1;\n-\n-  Boolean      flag11 :  1;\n-  Boolean      flag12 :  1;\n-  Boolean      flag13 :  1;\n-  Boolean      flag14 :  1;\n-  Boolean      flag15 :  1;\n-  Boolean      flag16 :  1;\n-  Boolean      flag17 :  1;\n-  Boolean      flag18 :  1;\n-\n-  unsigned char kind;\n-};\n-\n-/* Structure for the first part of a node when Nkind is not present by\n-   extra flag bits are.  */\n-\n-struct NFNK\n-{\n-  Boolean      is_extension  :  1;\n-  Boolean      pflag1        :  1;\n-  Boolean      pflag2        :  1;\n-  Boolean      in_list       :  1;\n-  Boolean      has_aspects   :  1;\n-  Boolean      rewrite_ins   :  1;\n-  Boolean      analyzed      :  1;\n-  Boolean      c_f_s\t     :  1;\n-  Boolean      error_posted  :  1;\n-\n-  Boolean      flag4  :  1;\n-  Boolean      flag5  :  1;\n-  Boolean      flag6  :  1;\n-  Boolean      flag7  :  1;\n-  Boolean      flag8  :  1;\n-  Boolean      flag9  :  1;\n-  Boolean      flag10 :  1;\n-\n-  Boolean      flag11 :  1;\n-  Boolean      flag12 :  1;\n-  Boolean      flag13 :  1;\n-  Boolean      flag14 :  1;\n-  Boolean      flag15 :  1;\n-  Boolean      flag16 :  1;\n-  Boolean      flag17 :  1;\n-  Boolean      flag18 :  1;\n-\n-  Boolean      flag65 :  1;\n-  Boolean      flag66 :  1;\n-  Boolean      flag67 :  1;\n-  Boolean      flag68 :  1;\n-  Boolean      flag69 :  1;\n-  Boolean      flag70 :  1;\n-  Boolean      flag71 :  1;\n-  Boolean      flag72 :  1;\n-};\n-\n-/* Structure used for extra flags in third component overlaying Field12 */\n-struct Flag_Word\n-{\n-  Boolean      flag73\t    :  1;\n-  Boolean      flag74\t    :  1;\n-  Boolean      flag75\t    :  1;\n-  Boolean      flag76\t    :  1;\n-  Boolean      flag77\t    :  1;\n-  Boolean      flag78\t    :  1;\n-  Boolean      flag79\t    :  1;\n-  Boolean      flag80\t    :  1;\n-  Boolean      flag81\t    :  1;\n-  Boolean      flag82\t    :  1;\n-  Boolean      flag83\t    :  1;\n-  Boolean      flag84\t    :  1;\n-  Boolean      flag85\t    :  1;\n-  Boolean      flag86\t    :  1;\n-  Boolean      flag87\t    :  1;\n-  Boolean      flag88\t    :  1;\n-  Boolean      flag89\t    :  1;\n-  Boolean      flag90\t    :  1;\n-  Boolean      flag91\t    :  1;\n-  Boolean      flag92\t    :  1;\n-  Boolean      flag93\t    :  1;\n-  Boolean      flag94\t    :  1;\n-  Boolean      flag95\t    :  1;\n-  Boolean      flag96\t    :  1;\n-  Byte         convention   :  8;\n-};\n-\n-/* Structure used for extra flags in fourth component overlaying Field12 */\n-struct Flag_Word2\n-{\n-  Boolean      flag97\t    :  1;\n-  Boolean      flag98\t    :  1;\n-  Boolean      flag99\t    :  1;\n-  Boolean      flag100\t    :  1;\n-  Boolean      flag101\t    :  1;\n-  Boolean      flag102\t    :  1;\n-  Boolean      flag103\t    :  1;\n-  Boolean      flag104\t    :  1;\n-  Boolean      flag105\t    :  1;\n-  Boolean      flag106\t    :  1;\n-  Boolean      flag107\t    :  1;\n-  Boolean      flag108\t    :  1;\n-  Boolean      flag109\t    :  1;\n-  Boolean      flag110\t    :  1;\n-  Boolean      flag111\t    :  1;\n-  Boolean      flag112\t    :  1;\n-  Boolean      flag113\t    :  1;\n-  Boolean      flag114\t    :  1;\n-  Boolean      flag115\t    :  1;\n-  Boolean      flag116\t    :  1;\n-  Boolean      flag117\t    :  1;\n-  Boolean      flag118\t    :  1;\n-  Boolean      flag119\t    :  1;\n-  Boolean      flag120\t    :  1;\n-  Boolean      flag121\t    :  1;\n-  Boolean      flag122\t    :  1;\n-  Boolean      flag123\t    :  1;\n-  Boolean      flag124\t    :  1;\n-  Boolean      flag125\t    :  1;\n-  Boolean      flag126\t    :  1;\n-  Boolean      flag127\t    :  1;\n-  Boolean      flag128\t    :  1;\n-};\n-\n-/* Structure used for extra flags in fourth component overlaying Field11 */\n-struct Flag_Word3\n-{\n-  Boolean      flag152\t    :  1;\n-  Boolean      flag153\t    :  1;\n-  Boolean      flag154\t    :  1;\n-  Boolean      flag155\t    :  1;\n-  Boolean      flag156\t    :  1;\n-  Boolean      flag157\t    :  1;\n-  Boolean      flag158\t    :  1;\n-  Boolean      flag159\t    :  1;\n-\n-  Boolean      flag160\t    :  1;\n-  Boolean      flag161\t    :  1;\n-  Boolean      flag162\t    :  1;\n-  Boolean      flag163\t    :  1;\n-  Boolean      flag164\t    :  1;\n-  Boolean      flag165\t    :  1;\n-  Boolean      flag166\t    :  1;\n-  Boolean      flag167\t    :  1;\n-\n-  Boolean      flag168\t    :  1;\n-  Boolean      flag169\t    :  1;\n-  Boolean      flag170\t    :  1;\n-  Boolean      flag171\t    :  1;\n-  Boolean      flag172\t    :  1;\n-  Boolean      flag173\t    :  1;\n-  Boolean      flag174\t    :  1;\n-  Boolean      flag175\t    :  1;\n-\n-  Boolean      flag176\t    :  1;\n-  Boolean      flag177\t    :  1;\n-  Boolean      flag178\t    :  1;\n-  Boolean      flag179\t    :  1;\n-  Boolean      flag180\t    :  1;\n-  Boolean      flag181\t    :  1;\n-  Boolean      flag182\t    :  1;\n-  Boolean      flag183\t    :  1;\n-};\n-\n-/* Structure used for extra flags in fifth component overlaying Field12 */\n-struct Flag_Word4\n-{\n-  Boolean      flag184\t    :  1;\n-  Boolean      flag185\t    :  1;\n-  Boolean      flag186\t    :  1;\n-  Boolean      flag187\t    :  1;\n-  Boolean      flag188\t    :  1;\n-  Boolean      flag189\t    :  1;\n-  Boolean      flag190\t    :  1;\n-  Boolean      flag191\t    :  1;\n-\n-  Boolean      flag192\t    :  1;\n-  Boolean      flag193\t    :  1;\n-  Boolean      flag194\t    :  1;\n-  Boolean      flag195\t    :  1;\n-  Boolean      flag196\t    :  1;\n-  Boolean      flag197\t    :  1;\n-  Boolean      flag198\t    :  1;\n-  Boolean      flag199\t    :  1;\n-\n-  Boolean      flag200\t    :  1;\n-  Boolean      flag201\t    :  1;\n-  Boolean      flag202\t    :  1;\n-  Boolean      flag203\t    :  1;\n-  Boolean      flag204\t    :  1;\n-  Boolean      flag205\t    :  1;\n-  Boolean      flag206\t    :  1;\n-  Boolean      flag207\t    :  1;\n-\n-  Boolean      flag208      :  1;\n-  Boolean      flag209\t    :  1;\n-  Boolean      flag210\t    :  1;\n-  Boolean      flag211\t    :  1;\n-  Boolean      flag212\t    :  1;\n-  Boolean      flag213\t    :  1;\n-  Boolean      flag214\t    :  1;\n-  Boolean      flag215\t    :  1;\n-};\n-\n-/* Structure used for extra flags in sixth component overlaying Field12 */\n-struct Flag_Word5\n-{\n-  Boolean      flag255\t    :  1;\n-  Boolean      flag256\t    :  1;\n-  Boolean      flag257\t    :  1;\n-  Boolean      flag258\t    :  1;\n-  Boolean      flag259\t    :  1;\n-  Boolean      flag260\t    :  1;\n-  Boolean      flag261\t    :  1;\n-  Boolean      flag262\t    :  1;\n-\n-  Boolean      flag263\t    :  1;\n-  Boolean      flag264\t    :  1;\n-  Boolean      flag265\t    :  1;\n-  Boolean      flag266\t    :  1;\n-  Boolean      flag267\t    :  1;\n-  Boolean      flag268\t    :  1;\n-  Boolean      flag269\t    :  1;\n-  Boolean      flag270\t    :  1;\n-\n-  Boolean      flag271\t    :  1;\n-  Boolean      flag272\t    :  1;\n-  Boolean      flag273\t    :  1;\n-  Boolean      flag274\t    :  1;\n-  Boolean      flag275\t    :  1;\n-  Boolean      flag276\t    :  1;\n-  Boolean      flag277\t    :  1;\n-  Boolean      flag278\t    :  1;\n-\n-  Boolean      flag279      :  1;\n-  Boolean      flag280\t    :  1;\n-  Boolean      flag281\t    :  1;\n-  Boolean      flag282\t    :  1;\n-  Boolean      flag283\t    :  1;\n-  Boolean      flag284\t    :  1;\n-  Boolean      flag285\t    :  1;\n-  Boolean      flag286\t    :  1;\n-};\n-struct Non_Extended\n-{\n-  Source_Ptr   sloc;\n-  Int\t       link;\n-  Int\t       field1;\n-  Int\t       field2;\n-  Int\t       field3;\n-  Int\t       field4;\n-  Int\t       field5;\n-};\n-\n-/* The Following structure corresponds to variant with is_extension = True.  */\n-struct Extended\n-{\n-  Int\t       field6;\n-  Int\t       field7;\n-  Int\t       field8;\n-  Int\t       field9;\n-  Int\t       field10;\n-  union\n-    {\n-      Int      field11;\n-      struct   Flag_Word3 fw3;\n-    } X;\n-\n-  union\n-    {\n-      Int      field12;\n-      struct   Flag_Word fw;\n-      struct   Flag_Word2 fw2;\n-      struct   Flag_Word4 fw4;\n-      struct   Flag_Word5 fw5;\n-    } U;\n-};\n-\n-/* A tree node itself.  */\n-\n-struct Node\n-{\n-  union kind\n-    {\n-      struct NFK K;\n-      struct NFNK NK;\n-    } U;\n-\n-  union variant\n-    {\n-      struct Non_Extended NX;\n-      struct Extended EX;\n-    } V;\n-};\n-\n-/* The actual tree is an array of nodes. The pointer to this array is passed\n-   as a parameter to the tree transformer procedure and stored in the global\n-   variable Nodes_Ptr after adjusting it by subtracting Node_First_Entry, so\n-   that Node_Id values can be used as subscripts.  */\n-extern struct Node *Nodes_Ptr;\n-\n #define Parent atree__parent\n extern Node_Id Parent (Node_Id);\n \n #define Original_Node atree__original_node\n extern Node_Id Original_Node (Node_Id);\n \n-/* The auxiliary flags array which is allocated in parallel to Nodes */\n-\n-struct Flags\n-{\n-    Boolean      Flag0  : 1;\n-    Boolean      Flag1  : 1;\n-    Boolean      Flag2  : 1;\n-    Boolean      Flag3  : 1;\n-    Boolean      Spare0 : 1;\n-    Boolean      Spare1 : 1;\n-    Boolean      Spare2 : 1;\n-    Boolean      Spare3 : 1;\n-};\n-extern struct Flags *Flags_Ptr;\n-\n-/* Overloaded Functions:\n-\n-   These functions are overloaded in the original Ada source, but there is\n-   only one corresponding C function, which works as described below.\t*/\n-\n-/* Type used for union of Node_Id, List_Id, Elist_Id. */\n+/* Type used for union of Node_Id, List_Id, Elist_Id.  */\n typedef Int Tree_Id;\n \n /* These two functions can only be used for Node_Id and List_Id values and\n    they work in the C version because Empty = No_List = 0.  */\n \n-static Boolean No\t(Tree_Id);\n-static Boolean Present\t(Tree_Id);\n+INLINE Boolean No (Tree_Id);\n+INLINE Boolean Present (Tree_Id);\n \n INLINE Boolean\n No (Tree_Id N)\n@@ -400,496 +59,82 @@ No (Tree_Id N)\n INLINE Boolean\n Present (Tree_Id N)\n {\n-  return N != Empty;\n+  return !No (N);\n }\n \n-extern Node_Id Parent\t\t(Tree_Id);\n-\n #define Current_Error_Node atree__current_error_node\n extern Node_Id Current_Error_Node;\n \n-/* Node Access Functions:  */\n-\n-#define Nkind(N)        ((Node_Kind) (Nodes_Ptr[(N) - First_Node_Id].U.K.kind))\n-#define Ekind(N)        ((Entity_Kind) (Nodes_Ptr[N + 1].U.K.kind))\n-#define Sloc(N)         (Nodes_Ptr[(N) - First_Node_Id].V.NX.sloc)\n-#define Paren_Count(N)\t(Nodes_Ptr[(N) - First_Node_Id].U.K.pflag1\t\\\n-\t\t\t + 2 * Nodes_Ptr[(N) - First_Node_Id].U.K.pflag2)\n-\n-#define Field1(N)     (Nodes_Ptr[(N) - First_Node_Id].V.NX.field1)\n-#define Field2(N)     (Nodes_Ptr[(N) - First_Node_Id].V.NX.field2)\n-#define Field3(N)     (Nodes_Ptr[(N) - First_Node_Id].V.NX.field3)\n-#define Field4(N)     (Nodes_Ptr[(N) - First_Node_Id].V.NX.field4)\n-#define Field5(N)     (Nodes_Ptr[(N) - First_Node_Id].V.NX.field5)\n-#define Field6(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.field6)\n-#define Field7(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.field7)\n-#define Field8(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.field8)\n-#define Field9(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.field9)\n-#define Field10(N)    (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.field10)\n-#define Field11(N)    (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.X.field11)\n-#define Field12(N)    (Nodes_Ptr[(N) - First_Node_Id + 1].V.EX.U.field12)\n-#define Field13(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.field6)\n-#define Field14(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.field7)\n-#define Field15(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.field8)\n-#define Field16(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.field9)\n-#define Field17(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.field10)\n-#define Field18(N)    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.X.field11)\n-#define Field19(N)    (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.field6)\n-#define Field20(N)    (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.field7)\n-#define Field21(N)    (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.field8)\n-#define Field22(N)    (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.field9)\n-#define Field23(N)    (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.field10)\n-#define Field24(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.field6)\n-#define Field25(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.field7)\n-#define Field26(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.field8)\n-#define Field27(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.field9)\n-#define Field28(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.field10)\n-#define Field29(N)    (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.X.field11)\n-#define Field30(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.field6)\n-#define Field31(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.field7)\n-#define Field32(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.field8)\n-#define Field33(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.field9)\n-#define Field34(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.field10)\n-#define Field35(N)    (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.X.field11)\n-#define Field36(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.field6)\n-#define Field37(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.field7)\n-#define Field38(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.field8)\n-#define Field39(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.field9)\n-#define Field40(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.field10)\n-#define Field41(N)    (Nodes_Ptr[(N) - First_Node_Id + 6].V.EX.X.field11)\n-\n-#define Node1(N)      Field1  (N)\n-#define Node2(N)      Field2  (N)\n-#define Node3(N)      Field3  (N)\n-#define Node4(N)      Field4  (N)\n-#define Node5(N)      Field5  (N)\n-#define Node6(N)      Field6  (N)\n-#define Node7(N)      Field7  (N)\n-#define Node8(N)      Field8  (N)\n-#define Node9(N)      Field9  (N)\n-#define Node10(N)     Field10 (N)\n-#define Node11(N)     Field11 (N)\n-#define Node12(N)     Field12 (N)\n-#define Node13(N)     Field13 (N)\n-#define Node14(N)     Field14 (N)\n-#define Node15(N)     Field15 (N)\n-#define Node16(N)     Field16 (N)\n-#define Node17(N)     Field17 (N)\n-#define Node18(N)     Field18 (N)\n-#define Node19(N)     Field19 (N)\n-#define Node20(N)     Field20 (N)\n-#define Node21(N)     Field21 (N)\n-#define Node22(N)     Field22 (N)\n-#define Node23(N)     Field23 (N)\n-#define Node24(N)     Field24 (N)\n-#define Node25(N)     Field25 (N)\n-#define Node26(N)     Field26 (N)\n-#define Node27(N)     Field27 (N)\n-#define Node28(N)     Field28 (N)\n-#define Node29(N)     Field29 (N)\n-#define Node30(N)     Field30 (N)\n-#define Node31(N)     Field31 (N)\n-#define Node32(N)     Field32 (N)\n-#define Node33(N)     Field33 (N)\n-#define Node34(N)     Field34 (N)\n-#define Node35(N)     Field35 (N)\n-#define Node36(N)     Field36 (N)\n-#define Node37(N)     Field37 (N)\n-#define Node38(N)     Field38 (N)\n-#define Node39(N)     Field39 (N)\n-#define Node40(N)     Field40 (N)\n-#define Node41(N)     Field41 (N)\n-\n-#define List1(N)      Field1  (N)\n-#define List2(N)      Field2  (N)\n-#define List3(N)      Field3  (N)\n-#define List4(N)      Field4  (N)\n-#define List5(N)      Field5  (N)\n-#define List10(N)     Field10 (N)\n-#define List14(N)     Field14 (N)\n-#define List25(N)     Field25 (N)\n-#define List38(N)     Field38 (N)\n-#define List39(N)     Field39 (N)\n-\n-#define Elist1(N)     Field1  (N)\n-#define Elist2(N)     Field2  (N)\n-#define Elist3(N)     Field3  (N)\n-#define Elist4(N)     Field4  (N)\n-#define Elist5(N)     Field5  (N)\n-#define Elist8(N)     Field8  (N)\n-#define Elist9(N)     Field9  (N)\n-#define Elist10(N)    Field10 (N)\n-#define Elist11(N)    Field11 (N)\n-#define Elist13(N)    Field13 (N)\n-#define Elist15(N)    Field15 (N)\n-#define Elist16(N)    Field16 (N)\n-#define Elist18(N)    Field18 (N)\n-#define Elist21(N)    Field21 (N)\n-#define Elist23(N)    Field23 (N)\n-#define Elist24(N)    Field24 (N)\n-#define Elist25(N)    Field25 (N)\n-#define Elist26(N)    Field26 (N)\n-#define Elist29(N)    Field29 (N)\n-#define Elist30(N)    Field30 (N)\n-#define Elist36(N)    Field36 (N)\n-\n-#define Name1(N)      Field1  (N)\n-#define Name2(N)      Field2  (N)\n-\n-#define Char_Code2(N) (Field2 (N) - Char_Code_Bias)\n-\n-#define Str3(N)       Field3  (N)\n-\n-#define Uint2(N)      ((Field2  (N) == 0) ? Uint_0 : Field2  (N))\n-#define Uint3(N)      ((Field3  (N) == 0) ? Uint_0 : Field3  (N))\n-#define Uint4(N)      ((Field4  (N) == 0) ? Uint_0 : Field4  (N))\n-#define Uint5(N)      ((Field5  (N) == 0) ? Uint_0 : Field5  (N))\n-#define Uint8(N)      ((Field8  (N) == 0) ? Uint_0 : Field8  (N))\n-#define Uint9(N)      ((Field9  (N) == 0) ? Uint_0 : Field9  (N))\n-#define Uint10(N)     ((Field10 (N) == 0) ? Uint_0 : Field10 (N))\n-#define Uint11(N)     ((Field11 (N) == 0) ? Uint_0 : Field11 (N))\n-#define Uint12(N)     ((Field12 (N) == 0) ? Uint_0 : Field12 (N))\n-#define Uint13(N)     ((Field13 (N) == 0) ? Uint_0 : Field13 (N))\n-#define Uint14(N)     ((Field14 (N) == 0) ? Uint_0 : Field14 (N))\n-#define Uint15(N)     ((Field15 (N) == 0) ? Uint_0 : Field15 (N))\n-#define Uint16(N)     ((Field16 (N) == 0) ? Uint_0 : Field16 (N))\n-#define Uint17(N)     ((Field17 (N) == 0) ? Uint_0 : Field17 (N))\n-#define Uint22(N)     ((Field22 (N) == 0) ? Uint_0 : Field22 (N))\n-#define Uint24(N)     ((Field24 (N) == 0) ? Uint_0 : Field24 (N))\n-\n-#define Ureal3(N)     Field3  (N)\n-#define Ureal18(N)    Field18 (N)\n-#define Ureal21(N)    Field21 (N)\n-\n-#define Analyzed(N)          (Nodes_Ptr[(N) - First_Node_Id].U.K.analyzed)\n-#define Comes_From_Source(N) (Nodes_Ptr[(N) - First_Node_Id].U.K.c_f_s)\n-#define Error_Posted(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.error_posted)\n-#define Has_Aspects(N)       (Nodes_Ptr[(N) - First_Node_Id].U.K.has_aspects)\n-#define Convention(N) \\\n-    (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.convention)\n+/* The following code corresponds to the Get_n_Bit_Field functions (for\n+   various n) in package Atree.  The low-level getters in sinfo.h call\n+   these even-lower-level getters.  */\n \n-#define Flag0(N)      (Flags_Ptr[(N) - First_Node_Id].Flag0)\n-#define Flag1(N)      (Flags_Ptr[(N) - First_Node_Id].Flag1)\n-#define Flag2(N)      (Flags_Ptr[(N) - First_Node_Id].Flag2)\n-#define Flag3(N)      (Flags_Ptr[(N) - First_Node_Id].Flag3)\n+extern Field_Offset *Node_Offsets_Ptr;\n+extern any_slot *Slots_Ptr;\n \n-#define Flag4(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag4)\n-#define Flag5(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag5)\n-#define Flag6(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag6)\n-#define Flag7(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag7)\n-#define Flag8(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag8)\n-#define Flag9(N)      (Nodes_Ptr[(N) - First_Node_Id].U.K.flag9)\n-#define Flag10(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag10)\n-#define Flag11(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag11)\n-#define Flag12(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag12)\n-#define Flag13(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag13)\n-#define Flag14(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag14)\n-#define Flag15(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag15)\n-#define Flag16(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag16)\n-#define Flag17(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag17)\n-#define Flag18(N)     (Nodes_Ptr[(N) - First_Node_Id].U.K.flag18)\n+INLINE unsigned int Get_1_Bit_Field (Node_Id, Field_Offset);\n+INLINE unsigned int Get_2_Bit_Field (Node_Id, Field_Offset);\n+INLINE unsigned int Get_4_Bit_Field (Node_Id, Field_Offset);\n+INLINE unsigned int Get_8_Bit_Field (Node_Id, Field_Offset);\n+INLINE unsigned int Get_32_Bit_Field (Node_Id, Field_Offset);\n+INLINE unsigned int Get_32_Bit_Field_With_Default (Node_Id, Field_Offset,\n+\t\t\t\t\t\t   unsigned int);\n+INLINE unsigned int Get_Valid_32_Bit_Field (Node_Id, Field_Offset);\n \n-#define Flag19(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.in_list)\n-#define Flag20(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.has_aspects)\n-#define Flag21(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.rewrite_ins)\n-#define Flag22(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.analyzed)\n-#define Flag23(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.c_f_s)\n-#define Flag24(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.error_posted)\n-#define Flag25(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag4)\n-#define Flag26(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag5)\n-#define Flag27(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag6)\n-#define Flag28(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag7)\n-#define Flag29(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag8)\n-#define Flag30(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag9)\n-#define Flag31(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag10)\n-#define Flag32(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag11)\n-#define Flag33(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag12)\n-#define Flag34(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag13)\n-#define Flag35(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag14)\n-#define Flag36(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag15)\n-#define Flag37(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag16)\n-#define Flag38(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag17)\n-#define Flag39(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.flag18)\n-\n-#define Flag40(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.in_list)\n-#define Flag41(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.has_aspects)\n-#define Flag42(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.rewrite_ins)\n-#define Flag43(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.analyzed)\n-#define Flag44(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.c_f_s)\n-#define Flag45(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.error_posted)\n-#define Flag46(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag4)\n-#define Flag47(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag5)\n-#define Flag48(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag6)\n-#define Flag49(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag7)\n-#define Flag50(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag8)\n-#define Flag51(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag9)\n-#define Flag52(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag10)\n-#define Flag53(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag11)\n-#define Flag54(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag12)\n-#define Flag55(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag13)\n-#define Flag56(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag14)\n-#define Flag57(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag15)\n-#define Flag58(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag16)\n-#define Flag59(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag17)\n-#define Flag60(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.flag18)\n-#define Flag61(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.pflag1)\n-#define Flag62(N)     (Nodes_Ptr[(N) - First_Node_Id + 1].U.K.pflag2)\n-#define Flag63(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.pflag1)\n-#define Flag64(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.K.pflag2)\n-\n-#define Flag65(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag65)\n-#define Flag66(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag66)\n-#define Flag67(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag67)\n-#define Flag68(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag68)\n-#define Flag69(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag69)\n-#define Flag70(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag70)\n-#define Flag71(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag71)\n-#define Flag72(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].U.NK.flag72)\n-\n-#define Flag73(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag73)\n-#define Flag74(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag74)\n-#define Flag75(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag75)\n-#define Flag76(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag76)\n-#define Flag77(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag77)\n-#define Flag78(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag78)\n-#define Flag79(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag79)\n-#define Flag80(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag80)\n-#define Flag81(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag81)\n-#define Flag82(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag82)\n-#define Flag83(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag83)\n-#define Flag84(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag84)\n-#define Flag85(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag85)\n-#define Flag86(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag86)\n-#define Flag87(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag87)\n-#define Flag88(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag88)\n-#define Flag89(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag89)\n-#define Flag90(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag90)\n-#define Flag91(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag91)\n-#define Flag92(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag92)\n-#define Flag93(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag93)\n-#define Flag94(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag94)\n-#define Flag95(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag95)\n-#define Flag96(N)     (Nodes_Ptr[(N) - First_Node_Id + 2].V.EX.U.fw.flag96)\n-#define Flag97(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag97)\n-#define Flag98(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag98)\n-#define Flag99(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag99)\n-#define Flag100(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag100)\n-#define Flag101(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag101)\n-#define Flag102(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag102)\n-#define Flag103(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag103)\n-#define Flag104(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag104)\n-#define Flag105(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag105)\n-#define Flag106(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag106)\n-#define Flag107(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag107)\n-#define Flag108(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag108)\n-#define Flag109(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag109)\n-#define Flag110(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag110)\n-#define Flag111(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag111)\n-#define Flag112(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag112)\n-#define Flag113(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag113)\n-#define Flag114(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag114)\n-#define Flag115(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag115)\n-#define Flag116(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag116)\n-#define Flag117(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag117)\n-#define Flag118(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag118)\n-#define Flag119(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag119)\n-#define Flag120(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag120)\n-#define Flag121(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag121)\n-#define Flag122(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag122)\n-#define Flag123(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag123)\n-#define Flag124(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag124)\n-#define Flag125(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag125)\n-#define Flag126(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag126)\n-#define Flag127(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag127)\n-#define Flag128(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.U.fw2.flag128)\n-\n-#define Flag129(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.in_list)\n-#define Flag130(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.has_aspects)\n-#define Flag131(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.rewrite_ins)\n-#define Flag132(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.analyzed)\n-#define Flag133(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.c_f_s)\n-#define Flag134(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.error_posted)\n-#define Flag135(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag4)\n-#define Flag136(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag5)\n-#define Flag137(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag6)\n-#define Flag138(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag7)\n-#define Flag139(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag8)\n-#define Flag140(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag9)\n-#define Flag141(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag10)\n-#define Flag142(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag11)\n-#define Flag143(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag12)\n-#define Flag144(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag13)\n-#define Flag145(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag14)\n-#define Flag146(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag15)\n-#define Flag147(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag16)\n-#define Flag148(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag17)\n-#define Flag149(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.flag18)\n-#define Flag150(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.pflag1)\n-#define Flag151(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.K.pflag2)\n+INLINE unsigned int\n+Get_1_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  const Field_Offset L = Slot_Size / 1;\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset / L);\n+  return (slot >> (Offset % L) * (Slot_Size / L)) & 1;\n+}\n \n-#define Flag152(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag152)\n-#define Flag153(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag153)\n-#define Flag154(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag154)\n-#define Flag155(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag155)\n-#define Flag156(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag156)\n-#define Flag157(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag157)\n-#define Flag158(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag158)\n-#define Flag159(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag159)\n-#define Flag160(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag160)\n-#define Flag161(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag161)\n-#define Flag162(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag162)\n-#define Flag163(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag163)\n-#define Flag164(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag164)\n-#define Flag165(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag165)\n-#define Flag166(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag166)\n-#define Flag167(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag167)\n-#define Flag168(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag168)\n-#define Flag169(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag169)\n-#define Flag170(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag170)\n-#define Flag171(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag171)\n-#define Flag172(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag172)\n-#define Flag173(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag173)\n-#define Flag174(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag174)\n-#define Flag175(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag175)\n-#define Flag176(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag176)\n-#define Flag177(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag177)\n-#define Flag178(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag178)\n-#define Flag179(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag179)\n-#define Flag180(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag180)\n-#define Flag181(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag181)\n-#define Flag182(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag182)\n-#define Flag183(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].V.EX.X.fw3.flag183)\n+INLINE unsigned int\n+Get_2_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  const Field_Offset L = Slot_Size / 2;\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset / L);\n+  return (slot >> (Offset % L) * (Slot_Size / L)) & 3;\n+}\n \n-#define Flag184(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag184)\n-#define Flag185(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag185)\n-#define Flag186(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag186)\n-#define Flag187(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag187)\n-#define Flag188(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag188)\n-#define Flag189(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag189)\n-#define Flag190(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag190)\n-#define Flag191(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag191)\n-#define Flag192(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag192)\n-#define Flag193(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag193)\n-#define Flag194(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag194)\n-#define Flag195(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag195)\n-#define Flag196(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag196)\n-#define Flag197(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag197)\n-#define Flag198(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag198)\n-#define Flag199(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag199)\n-#define Flag200(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag200)\n-#define Flag201(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag201)\n-#define Flag202(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag202)\n-#define Flag203(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag203)\n-#define Flag204(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag204)\n-#define Flag205(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag205)\n-#define Flag206(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag206)\n-#define Flag207(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag207)\n-#define Flag208(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag208)\n-#define Flag209(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag209)\n-#define Flag210(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag210)\n-#define Flag211(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag211)\n-#define Flag212(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag212)\n-#define Flag213(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag213)\n-#define Flag214(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag214)\n-#define Flag215(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].V.EX.U.fw4.flag215)\n+INLINE unsigned int\n+Get_4_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  const Field_Offset L = Slot_Size / 4;\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset / L);\n+  return (slot >> (Offset % L) * (Slot_Size / L)) & 15;\n+}\n \n-#define Flag216(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.in_list)\n-#define Flag217(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.has_aspects)\n-#define Flag218(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.rewrite_ins)\n-#define Flag219(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.analyzed)\n-#define Flag220(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.c_f_s)\n-#define Flag221(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.error_posted)\n-#define Flag222(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag4)\n-#define Flag223(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag5)\n-#define Flag224(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag6)\n-#define Flag225(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag7)\n-#define Flag226(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag8)\n-#define Flag227(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag9)\n-#define Flag228(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag10)\n-#define Flag229(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag11)\n-#define Flag230(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag12)\n-#define Flag231(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag13)\n-#define Flag232(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag14)\n-#define Flag233(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag15)\n-#define Flag234(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag16)\n-#define Flag235(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag17)\n-#define Flag236(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.flag18)\n-#define Flag237(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.pflag1)\n-#define Flag238(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.K.pflag2)\n+INLINE unsigned int\n+Get_8_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  const Field_Offset L = Slot_Size / 8;\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset / L);\n+  return (slot >> (Offset % L) * (Slot_Size / L)) & 255;\n+}\n \n-#define Flag239(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag65)\n-#define Flag240(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag66)\n-#define Flag241(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag67)\n-#define Flag242(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag68)\n-#define Flag243(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag69)\n-#define Flag244(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag70)\n-#define Flag245(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag71)\n-#define Flag246(N)     (Nodes_Ptr[(N) - First_Node_Id + 3].U.NK.flag72)\n+INLINE unsigned int\n+Get_32_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset);\n+  return slot;\n+}\n \n-#define Flag247(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag65)\n-#define Flag248(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag66)\n-#define Flag249(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag67)\n-#define Flag250(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag68)\n-#define Flag251(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag69)\n-#define Flag252(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag70)\n-#define Flag253(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag71)\n-#define Flag254(N)     (Nodes_Ptr[(N) - First_Node_Id + 4].U.NK.flag72)\n+INLINE unsigned int\n+Get_32_Bit_Field_With_Default (Node_Id N, Field_Offset Offset,\n+\t\t\t       unsigned int Default_Value)\n+{\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset);\n+  return slot == Empty ? Default_Value : slot;\n+}\n \n-#define Flag255(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag255)\n-#define Flag256(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag256)\n-#define Flag257(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag257)\n-#define Flag258(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag258)\n-#define Flag259(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag259)\n-#define Flag260(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag260)\n-#define Flag261(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag261)\n-#define Flag262(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag262)\n-#define Flag263(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag263)\n-#define Flag264(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag264)\n-#define Flag265(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag265)\n-#define Flag266(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag266)\n-#define Flag267(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag267)\n-#define Flag268(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag268)\n-#define Flag269(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag269)\n-#define Flag270(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag270)\n-#define Flag271(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag271)\n-#define Flag272(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag272)\n-#define Flag273(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag273)\n-#define Flag274(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag274)\n-#define Flag275(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag275)\n-#define Flag276(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag276)\n-#define Flag277(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag277)\n-#define Flag278(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag278)\n-#define Flag279(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag279)\n-#define Flag280(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag280)\n-#define Flag281(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag281)\n-#define Flag282(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag282)\n-#define Flag283(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag283)\n-#define Flag284(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag284)\n-#define Flag285(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag285)\n-#define Flag286(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].V.EX.U.fw5.flag286)\n-#define Flag287(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.in_list)\n-#define Flag288(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.has_aspects)\n-#define Flag289(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.rewrite_ins)\n-#define Flag290(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.analyzed)\n-#define Flag291(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.c_f_s)\n-#define Flag292(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.error_posted)\n-#define Flag293(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag4)\n-#define Flag294(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag5)\n-#define Flag295(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag6)\n-#define Flag296(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag7)\n-#define Flag297(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag8)\n-#define Flag298(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag9)\n-#define Flag299(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag10)\n-#define Flag300(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag11)\n-#define Flag301(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag12)\n-#define Flag302(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag13)\n-#define Flag303(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag14)\n-#define Flag304(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag15)\n-#define Flag305(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag16)\n-#define Flag306(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag17)\n-#define Flag307(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.flag18)\n-#define Flag308(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.pflag1)\n-#define Flag309(N)     (Nodes_Ptr[(N) - First_Node_Id + 5].U.K.pflag2)\n+INLINE unsigned int\n+Get_Valid_32_Bit_Field (Node_Id N, Field_Offset Offset)\n+{\n+  any_slot slot = *(Slots_Ptr + Node_Offsets_Ptr[N] + Offset);\n+  gcc_assert (slot != Empty);\n+  return slot;\n+}\n \n #ifdef __cplusplus\n }"}, {"sha": "9f6b45b80cc926a67184944eaa3ad7cd114b6053", "filename": "gcc/ada/aux-io.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faux-io.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Faux-io.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Faux-io.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *           Copyright (C) 1992-2020, Free Software Foundation, Inc.        *\n+ *           Copyright (C) 1992-2021, Free Software Foundation, Inc.        *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "42d837d1df91f38880b578db5ae1b646eb1537c6", "filename": "gcc/ada/back_end.adb", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fback_end.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fback_end.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fback_end.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -88,8 +88,8 @@ package body Back_End is\n         (gnat_root                     : Int;\n          max_gnat_node                 : Int;\n          number_name                   : Nat;\n-         nodes_ptr                     : Address;\n-         flags_ptr                     : Address;\n+         node_offsets_ptr              : Address;\n+         slots_ptr                     : Address;\n \n          next_node_ptr                 : Address;\n          prev_node_ptr                 : Address;\n@@ -156,8 +156,8 @@ package body Back_End is\n         (gnat_root          => Int (Cunit (Main_Unit)),\n          max_gnat_node      => Int (Last_Node_Id - First_Node_Id + 1),\n          number_name        => Name_Entries_Count,\n-         nodes_ptr          => Nodes_Address,\n-         flags_ptr          => Flags_Address,\n+         node_offsets_ptr   => Node_Offsets_Address,\n+         slots_ptr          => Slots_Address,\n \n          next_node_ptr      => Next_Node_Address,\n          prev_node_ptr      => Prev_Node_Address,\n@@ -281,6 +281,14 @@ package body Back_End is\n             elsif Switch_Chars (First .. Last) = \"fpreserve-control-flow\" then\n                Opt.Suppress_Control_Flow_Optimizations := True;\n \n+            --  Back end switch -fdiagnostics-format=json tells the frontend to\n+            --  output its error and warning messages in the same format GCC\n+            --  uses when passed -fdiagnostics-format=json.\n+\n+            elsif Switch_Chars (First .. Last) = \"fdiagnostics-format=json\"\n+            then\n+               Opt.JSON_Output := True;\n+\n             --  Back end switch -fdump-scos, which exists primarily for C, is\n             --  also accepted for Ada as a synonym of -gnateS.\n "}, {"sha": "32a0ea34b238486bf7c8482fee95b6bd28da0ca3", "filename": "gcc/ada/back_end.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fback_end.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fback_end.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fback_end.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -70,6 +70,7 @@ package Back_End is\n    --    Opt.Suppress_Control_Float_Optimizations\n    --    Opt.Generate_SCO\n    --    Opt.Generate_SCO_Instance_Table\n+   --    Opt.JSON_Output\n    --    Opt.Stack_Checking_Enabled\n    --    Opt.No_Stdinc\n    --    Opt.No_Stdlib"}, {"sha": "804e2fd5d16cd4ce749af648bcb9ec2b6fce2569", "filename": "gcc/ada/bcheck.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbcheck.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbcheck.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbcheck.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "ee9a3f838dc90269d9664007b3b424907f4364a1", "filename": "gcc/ada/bcheck.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbcheck.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbcheck.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbcheck.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "3df78bf0ceedf612314ec068579641153bf3195a", "filename": "gcc/ada/binde.adb", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinde.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinde.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbinde.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2327,7 +2327,7 @@ package body Binde is\n       --  subsumed by their parent units, but we need to list them for other\n       --  tools. For now they are listed after other files, rather than right\n       --  after their parent, since there is no easy link between the\n-      --  elaboration table and the ALIs table ??? As subunits may appear\n+      --  elaboration table and the ALIs table. As subunits may appear\n       --  repeatedly in the list, if the parent unit appears in the context of\n       --  several units in the closure, duplicates are suppressed.\n \n@@ -2811,7 +2811,7 @@ package body Binde is\n                        or else Withs.Table (W).Elab_All_Desirable\n                      then\n                         if SCC (U) = SCC (Withed_Unit) then\n-                           Elab_Cycle_Found := True; -- ???\n+                           Elab_Cycle_Found := True;\n \n                            --  We could probably give better error messages\n                            --  than Elab_Old here, but for now, to avoid\n@@ -2873,10 +2873,10 @@ package body Binde is\n             end if;\n \n             --  If there are no nodes with predecessors, then either we are\n-            --  done, as indicated by Num_Left being set to zero, or we have\n-            --  a circularity. In the latter case, diagnose the circularity,\n-            --  removing it from the graph and continue.\n-            --  ????But Diagnose_Elaboration_Problem always raises an\n+            --  done, as indicated by Num_Left being set to zero, or we have a\n+            --  circularity. In the latter case, diagnose the circularity,\n+            --  removing it from the graph and\n+            --  continue. Diagnose_Elaboration_Problem always raises an\n             --  exception, so the loop never goes around more than once.\n \n             Get_No_Pred : while No_Pred = No_Unit_Id loop\n@@ -3086,11 +3086,11 @@ package body Binde is\n          Outer : loop\n \n             --  If there are no nodes with predecessors, then either we are\n-            --  done, as indicated by Num_Left being set to zero, or we have\n-            --  a circularity. In the latter case, diagnose the circularity,\n+            --  done, as indicated by Num_Left being set to zero, or we have a\n+            --  circularity. In the latter case, diagnose the circularity,\n             --  removing it from the graph and continue.\n-            --  ????But Diagnose_Elaboration_Problem always raises an\n-            --  exception, so the loop never goes around more than once.\n+            --  Diagnose_Elaboration_Problem always raises an exception, so the\n+            --  loop never goes around more than once.\n \n             Get_No_Pred : while No_Pred = No_Unit_Id loop\n                exit Outer when Num_Left < 1;"}, {"sha": "9e0bbee8227919be4b33e7f25875f989dec524c4", "filename": "gcc/ada/binde.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinde.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinde.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbinde.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "9433a16f28e313e4cac38126baa9462eda6fcbad", "filename": "gcc/ada/binderr.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinderr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinderr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbinderr.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "a40f805384769c61ee19192ac5a26cc1da80b01c", "filename": "gcc/ada/binderr.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinderr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbinderr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbinderr.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "0014f6a46da33d29e29914d30aad350991d525ca", "filename": "gcc/ada/bindgen.adb", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindgen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindgen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindgen.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -2388,7 +2388,11 @@ package body Bindgen is\n                                       Gnat_Version_String &\n                                       \"\"\" & ASCII.NUL;\");\n             WBI (\"   pragma Export (C, GNAT_Version, \"\"__gnat_version\"\");\");\n-\n+            WBI (\"\");\n+            WBI (\"   GNAT_Version_Address : constant System.Address := \" &\n+                 \"GNAT_Version'Address;\");\n+            WBI (\"   pragma Export (C, GNAT_Version_Address, \" &\n+                 \"\"\"__gnat_version_address\"\");\");\n             WBI (\"\");\n             Set_String (\"   Ada_Main_Program_Name : constant String := \"\"\");\n             Get_Name_String (Units.Table (First_Unit_Entry).Uname);"}, {"sha": "926dd5ef92f4cea83e38238742bf798a0b15c608", "filename": "gcc/ada/bindgen.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindgen.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindgen.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindgen.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "dcbb8d86951b4617174a4c6ecd8b9abe0813b4cf", "filename": "gcc/ada/bindo-augmentors.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-augmentors.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-augmentors.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-augmentors.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "9a6f01d53289fd6d22141320e64205b868337f89", "filename": "gcc/ada/bindo-augmentors.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-augmentors.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-augmentors.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-augmentors.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "0017d4b9baf278ccc223f67aac5919aaa820696e", "filename": "gcc/ada/bindo-builders.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-builders.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-builders.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-builders.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "c306d609ab9ebfab0ef822f8400c11aea0b17d57", "filename": "gcc/ada/bindo-builders.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-builders.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-builders.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-builders.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "e5ee55d97b2fdbf86882c2cd3f1792c78b836cd5", "filename": "gcc/ada/bindo-diagnostics.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-diagnostics.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-diagnostics.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-diagnostics.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "5be5f0277591ea54abc8799a496bc927bef1bf7d", "filename": "gcc/ada/bindo-diagnostics.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-diagnostics.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-diagnostics.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-diagnostics.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "a5090e681406fa7d18cffdeed484de682ecfafb5", "filename": "gcc/ada/bindo-elaborators.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-elaborators.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-elaborators.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-elaborators.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "8fdeda809ff1ae49c54fe76387d784595a796d7f", "filename": "gcc/ada/bindo-elaborators.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-elaborators.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-elaborators.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-elaborators.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "011b0f48fcbcbe80f8c01abdbde567395627b7a7", "filename": "gcc/ada/bindo-graphs.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-graphs.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-graphs.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-graphs.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "1f288180c0298e899fbcf28ce1af036f4b118abe", "filename": "gcc/ada/bindo-graphs.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-graphs.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-graphs.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-graphs.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "72f286690fa86596ad4f6b46c3cbd570b64ca8b7", "filename": "gcc/ada/bindo-units.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-units.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-units.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-units.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "bb8c1ed96a37fa2d1dfe927952276130ee234fd6", "filename": "gcc/ada/bindo-units.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-units.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-units.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-units.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "1a6188ac3b0d33b8ac4f9677c0bd60b636f5c208", "filename": "gcc/ada/bindo-validators.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-validators.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-validators.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-validators.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "e1230c9149d1773c6c1ac3616a0e9b788b48665e", "filename": "gcc/ada/bindo-validators.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-validators.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-validators.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-validators.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "b124a42228390576bab4382c64c754da861f1569", "filename": "gcc/ada/bindo-writers.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-writers.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-writers.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-writers.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1689,8 +1689,8 @@ package body Bindo.Writers is\n          if Contains (Set, Source) then\n             return;\n \n-         --  Nothing to do for internal source files unless switch -Ra (???) is\n-         --  in effect.\n+         --  Nothing to do for internal source files unless switch -Ra is in\n+         --  effect.\n \n          elsif Is_Internal_File_Name (Source)\n            and then not List_Closure_All"}, {"sha": "edadd6c0ca81770931e9fc4f210e5e05bb088b3d", "filename": "gcc/ada/bindo-writers.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-writers.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo-writers.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo-writers.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "df0884aace1b8140be76f9de28bc7b33072a5df6", "filename": "gcc/ada/bindo.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "07cbba8057db2b7e78e409e991e2823ba20e818b", "filename": "gcc/ada/bindo.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindo.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---             Copyright (C) 2019-2020, Free Software Foundation, Inc.      --\n+--             Copyright (C) 2019-2021, Free Software Foundation, Inc.      --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "664da34d42effcc10b4aa52bb8dd1dd9668bc184", "filename": "gcc/ada/bindusg.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindusg.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindusg.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindusg.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "985e068d37315a1aa6c8f9c593bc80119a461473", "filename": "gcc/ada/bindusg.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindusg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbindusg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbindusg.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "dfbcc3c57ce79c73d393d3b14f4302946559a2fd", "filename": "gcc/ada/butil.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbutil.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbutil.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbutil.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "fed8a7a0c871336bac933f63175cd7a3ef89ff31", "filename": "gcc/ada/butil.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbutil.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fbutil.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fbutil.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "4c01479f8aeba7e82ee9f96e216a37379116e909", "filename": "gcc/ada/cal.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcal.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "8abf11aa0cba782dafccc5c72e046bbca646dac4", "filename": "gcc/ada/casing.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcasing.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcasing.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcasing.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "277b19fd3b0304051846fa971dd6f6955e4f1469", "filename": "gcc/ada/casing.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcasing.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcasing.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcasing.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "8ce6b697ef55b03bb952d24b453b68e1669b6732", "filename": "gcc/ada/ceinfo.adb", "status": "removed", "additions": 0, "deletions": 226, "changes": 226, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1eb4d0d3bad1a7faa7f1734837562aea71575740/gcc%2Fada%2Fceinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1eb4d0d3bad1a7faa7f1734837562aea71575740/gcc%2Fada%2Fceinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fceinfo.adb?ref=1eb4d0d3bad1a7faa7f1734837562aea71575740", "patch": "@@ -1,226 +0,0 @@\n-------------------------------------------------------------------------------\n---                                                                          --\n---                          GNAT SYSTEM UTILITIES                           --\n---                                                                          --\n---                               C E I N F O                                --\n---                                                                          --\n---                                 B o d y                                  --\n---                                                                          --\n---          Copyright (C) 1998-2020, Free Software Foundation, Inc.         --\n---                                                                          --\n--- GNAT is free software;  you can  redistribute it  and/or modify it under --\n--- terms of the  GNU General Public License as published  by the Free Soft- --\n--- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n--- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n--- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n--- or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License --\n--- for  more details.  You should have  received  a copy of the GNU General --\n--- Public License  distributed with GNAT; see file COPYING3.  If not, go to --\n--- http://www.gnu.org/licenses for a complete copy of the license.          --\n---                                                                          --\n--- GNAT was originally developed  by the GNAT team at  New York University. --\n--- Extensive contributions were provided by Ada Core Technologies Inc.      --\n---                                                                          --\n-------------------------------------------------------------------------------\n-\n---  Check consistency of einfo.ads and einfo.adb. Checks that field name usage\n---  is consistent, including comments mentioning fields.\n-\n---  Note that this is used both as a standalone program, and as a procedure\n---  called by XEinfo. This raises an unhandled exception if it finds any\n---  errors; we don't attempt any sophisticated error recovery.\n-\n-with Ada.Strings.Unbounded;         use Ada.Strings.Unbounded;\n-with Ada.Strings.Unbounded.Text_IO; use Ada.Strings.Unbounded.Text_IO;\n-with Ada.Text_IO;                   use Ada.Text_IO;\n-\n-with GNAT.Spitbol;                  use GNAT.Spitbol;\n-with GNAT.Spitbol.Patterns;         use GNAT.Spitbol.Patterns;\n-with GNAT.Spitbol.Table_VString;\n-\n-procedure CEinfo is\n-\n-   package TV renames GNAT.Spitbol.Table_VString;\n-   use TV;\n-\n-   Infil  : File_Type;\n-   Lineno : Natural := 0;\n-\n-   Err : exception;\n-   --  Raised on error\n-\n-   Fieldnm    : VString;\n-   Accessfunc : VString;\n-   Line       : VString;\n-\n-   Fields : GNAT.Spitbol.Table_VString.Table (500);\n-   --  Maps field names to underlying field access name\n-\n-   UC : constant Pattern := Any (\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\");\n-\n-   Fnam : constant Pattern := (UC & Break (' ')) * Fieldnm;\n-\n-   Field_Def : constant Pattern :=\n-     \"--    \" & Fnam & \" (\" & Break (')') * Accessfunc;\n-\n-   Field_Ref : constant Pattern :=\n-     \"   --    \" & Fnam & Break ('(') & Len (1) &\n-     Break (')') * Accessfunc;\n-\n-   Field_Com : constant Pattern := \"   --    \" & Fnam & Span (' ') &\n-                                     (Break (' ') or Rest) * Accessfunc;\n-\n-   Func_Hedr : constant Pattern := \"   function \" & Fnam;\n-\n-   Func_Retn : constant Pattern := \"      return \" & Break (' ') * Accessfunc;\n-\n-   Proc_Hedr : constant Pattern := \"   procedure \" & Fnam;\n-\n-   Proc_Setf : constant Pattern := \"      Set_\" & Break (' ') * Accessfunc;\n-\n-   procedure Next_Line;\n-   --  Read next line trimmed from Infil into Line and bump Lineno\n-\n-   procedure Next_Line is\n-   begin\n-      Line := Get_Line (Infil);\n-      Trim (Line);\n-      Lineno := Lineno + 1;\n-   end Next_Line;\n-\n---  Start of processing for CEinfo\n-\n-begin\n-   Anchored_Mode := True;\n-   New_Line;\n-   Open (Infil, In_File, \"einfo.ads\");\n-\n-   Put_Line (\"Acquiring field names from spec\");\n-\n-   loop\n-      Next_Line;\n-\n-      --  Old format of einfo.ads\n-\n-      exit when Match (Line, \"   -- Access Kinds --\");\n-\n-      --  New format of einfo.ads\n-\n-      exit when Match (Line, \"-- Access Kinds --\");\n-\n-      if Match (Line, Field_Def) then\n-         Set (Fields, Fieldnm, Accessfunc);\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"Checking consistent references in spec\");\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Description of Defined\");\n-   end loop;\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Component_Alignment Control\");\n-\n-      if Match (Line, Field_Ref) then\n-         if Accessfunc /= \"synth\"\n-              and then\n-            Accessfunc /= \"special\"\n-              and then\n-            Accessfunc /= Get (Fields, Fieldnm)\n-         then\n-            if Present (Fields, Fieldnm) then\n-               Put_Line (\"*** field name incorrect at line \" & Lineno);\n-               Put_Line (\"      found field \" & Accessfunc);\n-               Put_Line (\"      expecting field \" & Get (Fields, Fieldnm));\n-\n-            else\n-               Put_Line\n-                 (\"*** unknown field name \" & Fieldnm & \" at line \" & Lineno);\n-            end if;\n-\n-            raise Err;\n-         end if;\n-      end if;\n-   end loop;\n-\n-   Close (Infil);\n-   Open (Infil, In_File, \"einfo.adb\");\n-   Lineno := 0;\n-\n-   Put_Line (\"Check listing of fields in body\");\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Attribute Access Functions --\");\n-\n-      if Match (Line, Field_Com)\n-        and then Fieldnm /= \"(unused)\"\n-        and then Accessfunc /= Get (Fields, Fieldnm)\n-      then\n-         if Present (Fields, Fieldnm) then\n-            Put_Line (\"*** field name incorrect at line \" & Lineno);\n-            Put_Line (\"      found field \" & Accessfunc);\n-            Put_Line (\"      expecting field \" & Get (Fields, Fieldnm));\n-\n-         else\n-            Put_Line\n-              (\"*** unknown field name \" & Fieldnm & \" at line \" & Lineno);\n-         end if;\n-\n-         raise Err;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"Check references in access routines in body\");\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Classification Functions --\");\n-\n-      if Match (Line, Func_Hedr) then\n-         null;\n-\n-      elsif Match (Line, Func_Retn)\n-        and then Accessfunc /= Get (Fields, Fieldnm)\n-        and then Fieldnm /= \"Mechanism\"\n-      then\n-         Put_Line (\"*** incorrect field at line \" & Lineno);\n-         Put_Line (\"      found field \" & Accessfunc);\n-         Put_Line (\"      expecting field \" & Get (Fields, Fieldnm));\n-         raise Err;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"Check references in set routines in body\");\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Attribute Set Procedures\");\n-   end loop;\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   ------------\");\n-\n-      if Match (Line, Proc_Hedr) then\n-         null;\n-\n-      elsif Match (Line, Proc_Setf)\n-        and then Accessfunc /= Get (Fields, Fieldnm)\n-        and then Fieldnm /= \"Mechanism\"\n-      then\n-         Put_Line (\"*** incorrect field at line \" & Lineno);\n-         Put_Line (\"      found field \" & Accessfunc);\n-         Put_Line (\"      expecting field \" & Get (Fields, Fieldnm));\n-         raise Err;\n-      end if;\n-   end loop;\n-\n-   Close (Infil);\n-\n-   Put_Line (\"All tests completed successfully, no errors detected\");\n-\n-end CEinfo;"}, {"sha": "cebeac5ab0c7ddaa5c97c1eed67b249a3ebecffd", "filename": "gcc/ada/checks.adb", "status": "modified", "additions": 483, "deletions": 353, "changes": 836, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fchecks.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fchecks.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fchecks.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,46 +23,50 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Atree;    use Atree;\n-with Casing;   use Casing;\n-with Debug;    use Debug;\n-with Einfo;    use Einfo;\n-with Elists;   use Elists;\n-with Eval_Fat; use Eval_Fat;\n-with Exp_Ch11; use Exp_Ch11;\n-with Exp_Ch4;  use Exp_Ch4;\n-with Exp_Pakd; use Exp_Pakd;\n-with Exp_Util; use Exp_Util;\n-with Expander; use Expander;\n-with Freeze;   use Freeze;\n-with Lib;      use Lib;\n-with Nlists;   use Nlists;\n-with Nmake;    use Nmake;\n-with Opt;      use Opt;\n-with Output;   use Output;\n-with Restrict; use Restrict;\n-with Rident;   use Rident;\n-with Rtsfind;  use Rtsfind;\n-with Sem;      use Sem;\n-with Sem_Aux;  use Sem_Aux;\n-with Sem_Ch3;  use Sem_Ch3;\n-with Sem_Ch8;  use Sem_Ch8;\n-with Sem_Disp; use Sem_Disp;\n-with Sem_Eval; use Sem_Eval;\n-with Sem_Mech; use Sem_Mech;\n-with Sem_Res;  use Sem_Res;\n-with Sem_Util; use Sem_Util;\n-with Sem_Warn; use Sem_Warn;\n-with Sinfo;    use Sinfo;\n-with Sinput;   use Sinput;\n-with Snames;   use Snames;\n-with Sprint;   use Sprint;\n-with Stand;    use Stand;\n-with Stringt;  use Stringt;\n-with Targparm; use Targparm;\n-with Tbuild;   use Tbuild;\n-with Ttypes;   use Ttypes;\n-with Validsw;  use Validsw;\n+with Atree;          use Atree;\n+with Debug;          use Debug;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Elists;         use Elists;\n+with Eval_Fat;       use Eval_Fat;\n+with Exp_Ch11;       use Exp_Ch11;\n+with Exp_Ch4;        use Exp_Ch4;\n+with Exp_Pakd;       use Exp_Pakd;\n+with Exp_Util;       use Exp_Util;\n+with Expander;       use Expander;\n+with Freeze;         use Freeze;\n+with Lib;            use Lib;\n+with Nlists;         use Nlists;\n+with Nmake;          use Nmake;\n+with Opt;            use Opt;\n+with Output;         use Output;\n+with Restrict;       use Restrict;\n+with Rident;         use Rident;\n+with Rtsfind;        use Rtsfind;\n+with Sem;            use Sem;\n+with Sem_Aux;        use Sem_Aux;\n+with Sem_Ch3;        use Sem_Ch3;\n+with Sem_Ch8;        use Sem_Ch8;\n+with Sem_Cat;        use Sem_Cat;\n+with Sem_Disp;       use Sem_Disp;\n+with Sem_Eval;       use Sem_Eval;\n+with Sem_Mech;       use Sem_Mech;\n+with Sem_Res;        use Sem_Res;\n+with Sem_Util;       use Sem_Util;\n+with Sem_Warn;       use Sem_Warn;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n+with Sinput;         use Sinput;\n+with Snames;         use Snames;\n+with Sprint;         use Sprint;\n+with Stand;          use Stand;\n+with Stringt;        use Stringt;\n+with Targparm;       use Targparm;\n+with Tbuild;         use Tbuild;\n+with Ttypes;         use Ttypes;\n+with Validsw;        use Validsw;\n \n package body Checks is\n \n@@ -81,7 +85,7 @@ package body Checks is\n    --  such as Apply_Scalar_Range_Check that do not insert any code can be\n    --  safely called even when the Expander is inactive (but Errors_Detected\n    --  is 0). The benefit of executing this code when expansion is off, is\n-   --  the ability to emit constraint error warning for static expressions\n+   --  the ability to emit constraint error warnings for static expressions\n    --  even when we are not generating code.\n \n    --  The above is modified in gnatprove mode to ensure that proper check\n@@ -376,8 +380,12 @@ package body Checks is\n \n    function Accessibility_Checks_Suppressed (E : Entity_Id) return Boolean is\n    begin\n-      if Present (E) and then Checks_May_Be_Suppressed (E) then\n+      if No_Dynamic_Accessibility_Checks_Enabled (E) then\n+         return True;\n+\n+      elsif Present (E) and then Checks_May_Be_Suppressed (E) then\n          return Is_Check_Suppressed (E, Accessibility_Check);\n+\n       else\n          return Scope_Suppress.Suppress (Accessibility_Check);\n       end if;\n@@ -500,9 +508,9 @@ package body Checks is\n                     not Range_Checks_Suppressed (Suppress_Typ);\n \n    begin\n-      --  For now we just return if Checks_On is false, however this should be\n+      --  For now we just return if Checks_On is false, however this could be\n       --  enhanced to check for an always True value in the condition and to\n-      --  generate a compilation warning???\n+      --  generate a compilation warning.\n \n       if not Checks_On then\n          return;\n@@ -552,9 +560,7 @@ package body Checks is\n \n       if Tagged_Type_Expansion\n         and then Present (Etype (P))\n-        and then RTU_Loaded (Ada_Tags)\n-        and then RTE_Available (RE_Offset_To_Top_Ptr)\n-        and then Etype (P) = RTE (RE_Offset_To_Top_Ptr)\n+        and then Is_RTE (Etype (P), RE_Offset_To_Top_Ptr)\n       then\n          return;\n       end if;\n@@ -581,6 +587,11 @@ package body Checks is\n       Type_Level  : Node_Id;\n \n    begin\n+      --  Verify we haven't tried to add a dynamic accessibility check when we\n+      --  shouldn't.\n+\n+      pragma Assert (not No_Dynamic_Accessibility_Checks_Enabled (N));\n+\n       if Ada_Version >= Ada_2012\n          and then not Present (Param_Ent)\n          and then Is_Entity_Name (N)\n@@ -2304,6 +2315,11 @@ package body Checks is\n    is\n       Loc : constant Source_Ptr := Sloc (Call);\n \n+      function Parameter_Passing_Mechanism_Specified\n+        (Typ : Entity_Id)\n+         return Boolean;\n+      --  Returns True if parameter-passing mechanism is specified for type Typ\n+\n       function May_Cause_Aliasing\n         (Formal_1 : Entity_Id;\n          Formal_2 : Entity_Id) return Boolean;\n@@ -2330,6 +2346,19 @@ package body Checks is\n       --  Check contains all and-ed simple tests generated so far or remains\n       --  unchanged in the case of detailed exception messaged.\n \n+      -------------------------------------------\n+      -- Parameter_Passing_Mechanism_Specified --\n+      -------------------------------------------\n+\n+      function Parameter_Passing_Mechanism_Specified\n+        (Typ : Entity_Id)\n+         return Boolean\n+      is\n+      begin\n+         return Is_Elementary_Type (Typ)\n+           or else Is_By_Reference_Type (Typ);\n+      end Parameter_Passing_Mechanism_Specified;\n+\n       ------------------------\n       -- May_Cause_Aliasing --\n       ------------------------\n@@ -2397,9 +2426,8 @@ package body Checks is\n          Formal_2 : Entity_Id;\n          Check    : in out Node_Id)\n       is\n-         Cond      : Node_Id;\n-         ID_Casing : constant Casing_Type :=\n-                       Identifier_Casing (Source_Index (Current_Sem_Unit));\n+         Cond        : Node_Id;\n+         Formal_Name : Bounded_String;\n \n       begin\n          --  Generate:\n@@ -2431,15 +2459,17 @@ package body Checks is\n \n             Store_String_Chars (\"aliased parameters, actuals for \"\"\");\n \n-            Get_Name_String (Chars (Formal_1));\n-            Set_Casing (ID_Casing);\n-            Store_String_Chars (Name_Buffer (1 .. Name_Len));\n+            Append (Formal_Name, Chars (Formal_1));\n+            Adjust_Name_Case (Formal_Name, Sloc (Formal_1));\n+            Store_String_Chars (To_String (Formal_Name));\n \n             Store_String_Chars (\"\"\" and \"\"\");\n \n-            Get_Name_String (Chars (Formal_2));\n-            Set_Casing (ID_Casing);\n-            Store_String_Chars (Name_Buffer (1 .. Name_Len));\n+            Formal_Name.Length := 0;\n+\n+            Append (Formal_Name, Chars (Formal_2));\n+            Adjust_Name_Case (Formal_Name, Sloc (Formal_2));\n+            Store_String_Chars (To_String (Formal_Name));\n \n             Store_String_Chars (\"\"\" overlap\");\n \n@@ -2487,47 +2517,38 @@ package body Checks is\n       while Present (Actual_1) and then Present (Formal_1) loop\n          Orig_Act_1 := Original_Actual (Actual_1);\n \n-         --  Ensure that the actual is an object that is not passed by value.\n-         --  Elementary types are always passed by value, therefore actuals of\n-         --  such types cannot lead to aliasing. An aggregate is an object in\n-         --  Ada 2012, but an actual that is an aggregate cannot overlap with\n-         --  another actual. A type that is By_Reference (such as an array of\n-         --  controlled types) is not subject to the check because any update\n-         --  will be done in place and a subsequent read will always see the\n-         --  correct value, see RM 6.2 (12/3).\n-\n-         if Nkind (Orig_Act_1) = N_Aggregate\n-           or else (Nkind (Orig_Act_1) = N_Qualified_Expression\n-                     and then Nkind (Expression (Orig_Act_1)) = N_Aggregate)\n-         then\n-            null;\n-\n-         elsif Is_Object_Reference (Orig_Act_1)\n-           and then not Is_Elementary_Type (Etype (Orig_Act_1))\n-           and then not Is_By_Reference_Type (Etype (Orig_Act_1))\n-         then\n+         if Is_Name_Reference (Orig_Act_1) then\n             Actual_2 := Next_Actual (Actual_1);\n             Formal_2 := Next_Formal (Formal_1);\n             while Present (Actual_2) and then Present (Formal_2) loop\n                Orig_Act_2 := Original_Actual (Actual_2);\n \n-               --  The other actual we are testing against must also denote\n-               --  a non pass-by-value object. Generate the check only when\n-               --  the mode of the two formals may lead to aliasing.\n+               --  Generate the check only when the mode of the two formals may\n+               --  lead to aliasing.\n \n-               if Is_Object_Reference (Orig_Act_2)\n-                 and then not Is_Elementary_Type (Etype (Orig_Act_2))\n+               if Is_Name_Reference (Orig_Act_2)\n                  and then May_Cause_Aliasing (Formal_1, Formal_2)\n                then\n-                  Remove_Side_Effects (Actual_1);\n-                  Remove_Side_Effects (Actual_2);\n-\n-                  Overlap_Check\n-                    (Actual_1 => Actual_1,\n-                     Actual_2 => Actual_2,\n-                     Formal_1 => Formal_1,\n-                     Formal_2 => Formal_2,\n-                     Check    => Check);\n+\n+                  --  The aliasing check only applies when some of the formals\n+                  --  have their passing mechanism unspecified; RM 6.2 (12/3).\n+\n+                  if Parameter_Passing_Mechanism_Specified (Etype (Orig_Act_1))\n+                       and then\n+                     Parameter_Passing_Mechanism_Specified (Etype (Orig_Act_2))\n+                  then\n+                     null;\n+                  else\n+                     Remove_Side_Effects (Actual_1);\n+                     Remove_Side_Effects (Actual_2);\n+\n+                     Overlap_Check\n+                       (Actual_1 => Actual_1,\n+                        Actual_2 => Actual_2,\n+                        Formal_1 => Formal_1,\n+                        Formal_2 => Formal_2,\n+                        Check    => Check);\n+                  end if;\n                end if;\n \n                Next_Actual (Actual_2);\n@@ -2702,6 +2723,10 @@ package body Checks is\n \n       Subp_Spec := Parent (Subp);\n \n+      if No (Subp_Spec) then\n+         return;\n+      end if;\n+\n       if Nkind (Subp_Spec) = N_Defining_Program_Unit_Name then\n          Subp_Spec := Parent (Subp_Spec);\n       end if;\n@@ -3299,13 +3324,6 @@ package body Checks is\n \n                      Bad_Value (Warn => SPARK_Mode = On);\n \n-                     --  In GNATprove mode, we enable the range check so that\n-                     --  GNATprove will issue a message if it cannot be proved.\n-\n-                     if GNATprove_Mode then\n-                        Enable_Range_Check (Expr);\n-                     end if;\n-\n                      return;\n                   end if;\n \n@@ -3461,9 +3479,6 @@ package body Checks is\n             end if;\n          end if;\n \n-         --  If the item is a conditional raise of constraint error, then have\n-         --  a look at what check is being performed and ???\n-\n          if Nkind (R_Cno) = N_Raise_Constraint_Error\n            and then Present (Condition (R_Cno))\n          then\n@@ -3575,6 +3590,116 @@ package body Checks is\n       --  full view might have discriminants with defaults, so we need the\n       --  full view here to retrieve the constraints.\n \n+      procedure Make_Discriminant_Constraint_Check\n+        (Target_Type : Entity_Id;\n+         Expr_Type   : Entity_Id);\n+      --  Generate a discriminant check based on the target type and expression\n+      --  type for Expr.\n+\n+      ----------------------------------------\n+      -- Make_Discriminant_Constraint_Check --\n+      ----------------------------------------\n+\n+      procedure Make_Discriminant_Constraint_Check\n+        (Target_Type : Entity_Id;\n+         Expr_Type   : Entity_Id)\n+      is\n+         Loc         : constant Source_Ptr := Sloc (N);\n+         Cond        : Node_Id;\n+         Constraint  : Elmt_Id;\n+         Discr_Value : Node_Id;\n+         Discr       : Entity_Id;\n+\n+         New_Constraints : constant Elist_Id := New_Elmt_List;\n+         Old_Constraints : constant Elist_Id :=\n+           Discriminant_Constraint (Expr_Type);\n+\n+      begin\n+         --  Build an actual discriminant constraint list using the stored\n+         --  constraint, to verify that the expression of the parent type\n+         --  satisfies the constraints imposed by the (unconstrained) derived\n+         --  type. This applies to value conversions, not to view conversions\n+         --  of tagged types.\n+\n+         Constraint := First_Elmt (Stored_Constraint (Target_Type));\n+         while Present (Constraint) loop\n+            Discr_Value := Node (Constraint);\n+\n+            if Is_Entity_Name (Discr_Value)\n+              and then Ekind (Entity (Discr_Value)) = E_Discriminant\n+            then\n+               Discr := Corresponding_Discriminant (Entity (Discr_Value));\n+\n+               if Present (Discr)\n+                 and then Scope (Discr) = Base_Type (Expr_Type)\n+               then\n+                  --  Parent is constrained by new discriminant. Obtain\n+                  --  Value of original discriminant in expression. If the\n+                  --  new discriminant has been used to constrain more than\n+                  --  one of the stored discriminants, this will provide the\n+                  --  required consistency check.\n+\n+                  Append_Elmt\n+                    (Make_Selected_Component (Loc,\n+                       Prefix        =>\n+                         Duplicate_Subexpr_No_Checks\n+                           (Expr, Name_Req => True),\n+                       Selector_Name =>\n+                         Make_Identifier (Loc, Chars (Discr))),\n+                     New_Constraints);\n+\n+               else\n+                  --  Discriminant of more remote ancestor ???\n+\n+                  return;\n+               end if;\n+\n+            --  Derived type definition has an explicit value for this\n+            --  stored discriminant.\n+\n+            else\n+               Append_Elmt\n+                 (Duplicate_Subexpr_No_Checks (Discr_Value),\n+                  New_Constraints);\n+            end if;\n+\n+            Next_Elmt (Constraint);\n+         end loop;\n+\n+         --  Use the unconstrained expression type to retrieve the\n+         --  discriminants of the parent, and apply momentarily the\n+         --  discriminant constraint synthesized above.\n+\n+         --  Note: We use Expr_Type instead of Target_Type since the number of\n+         --  actual discriminants may be different due to the presence of\n+         --  stored discriminants and cause Build_Discriminant_Checks to fail.\n+\n+         Set_Discriminant_Constraint (Expr_Type, New_Constraints);\n+         Cond := Build_Discriminant_Checks (Expr, Expr_Type);\n+         Set_Discriminant_Constraint (Expr_Type, Old_Constraints);\n+\n+         --  Conversion between access types requires that we check for null\n+         --  before checking discriminants.\n+\n+         if Is_Access_Type (Etype (Expr)) then\n+            Cond := Make_And_Then (Loc,\n+                      Left_Opnd  =>\n+                        Make_Op_Ne (Loc,\n+                          Left_Opnd  =>\n+                            Duplicate_Subexpr_No_Checks\n+                              (Expr, Name_Req => True),\n+                          Right_Opnd => Make_Null (Loc)),\n+                      Right_Opnd => Cond);\n+         end if;\n+\n+         Insert_Action (N,\n+           Make_Raise_Constraint_Error (Loc,\n+             Condition => Cond,\n+             Reason    => CE_Discriminant_Check_Failed));\n+      end Make_Discriminant_Constraint_Check;\n+\n+   --  Start of processing for Apply_Type_Conversion_Checks\n+\n    begin\n       if Inside_A_Generic then\n          return;\n@@ -3704,91 +3829,42 @@ package body Checks is\n             end if;\n          end;\n \n-      elsif Comes_From_Source (N)\n-        and then not Discriminant_Checks_Suppressed (Target_Type)\n-        and then Is_Record_Type (Target_Type)\n-        and then Is_Derived_Type (Target_Type)\n-        and then not Is_Tagged_Type (Target_Type)\n-        and then not Is_Constrained (Target_Type)\n-        and then Present (Stored_Constraint (Target_Type))\n-      then\n-         --  An unconstrained derived type may have inherited discriminant.\n-         --  Build an actual discriminant constraint list using the stored\n-         --  constraint, to verify that the expression of the parent type\n-         --  satisfies the constraints imposed by the (unconstrained) derived\n-         --  type. This applies to value conversions, not to view conversions\n-         --  of tagged types.\n-\n-         declare\n-            Loc         : constant Source_Ptr := Sloc (N);\n-            Cond        : Node_Id;\n-            Constraint  : Elmt_Id;\n-            Discr_Value : Node_Id;\n-            Discr       : Entity_Id;\n-\n-            New_Constraints : constant Elist_Id := New_Elmt_List;\n-            Old_Constraints : constant Elist_Id :=\n-              Discriminant_Constraint (Expr_Type);\n-\n-         begin\n-            Constraint := First_Elmt (Stored_Constraint (Target_Type));\n-            while Present (Constraint) loop\n-               Discr_Value := Node (Constraint);\n-\n-               if Is_Entity_Name (Discr_Value)\n-                 and then Ekind (Entity (Discr_Value)) = E_Discriminant\n-               then\n-                  Discr := Corresponding_Discriminant (Entity (Discr_Value));\n-\n-                  if Present (Discr)\n-                    and then Scope (Discr) = Base_Type (Expr_Type)\n-                  then\n-                     --  Parent is constrained by new discriminant. Obtain\n-                     --  Value of original discriminant in expression. If the\n-                     --  new discriminant has been used to constrain more than\n-                     --  one of the stored discriminants, this will provide the\n-                     --  required consistency check.\n-\n-                     Append_Elmt\n-                       (Make_Selected_Component (Loc,\n-                          Prefix        =>\n-                            Duplicate_Subexpr_No_Checks\n-                              (Expr, Name_Req => True),\n-                          Selector_Name =>\n-                            Make_Identifier (Loc, Chars (Discr))),\n-                        New_Constraints);\n+      --  Generate discriminant constraint checks for access types on the\n+      --  designated target type's stored constraints.\n \n-                  else\n-                     --  Discriminant of more remote ancestor ???\n+      --  Do we need to generate subtype predicate checks here as well ???\n \n-                     return;\n-                  end if;\n+      elsif Comes_From_Source (N)\n+        and then Ekind (Target_Type) = E_General_Access_Type\n \n-               --  Derived type definition has an explicit value for this\n-               --  stored discriminant.\n+        --  Check that both of the designated types have known discriminants,\n+        --  and that such checks on the target type are not suppressed.\n \n-               else\n-                  Append_Elmt\n-                    (Duplicate_Subexpr_No_Checks (Discr_Value),\n-                     New_Constraints);\n-               end if;\n+        and then Has_Discriminants (Directly_Designated_Type (Target_Type))\n+        and then Has_Discriminants (Directly_Designated_Type (Expr_Type))\n+        and then not Discriminant_Checks_Suppressed\n+                       (Directly_Designated_Type (Target_Type))\n \n-               Next_Elmt (Constraint);\n-            end loop;\n+        --  Verify the designated type of the target has stored constraints\n \n-            --  Use the unconstrained expression type to retrieve the\n-            --  discriminants of the parent, and apply momentarily the\n-            --  discriminant constraint synthesized above.\n+        and then Present\n+                   (Stored_Constraint (Directly_Designated_Type (Target_Type)))\n+      then\n+         Make_Discriminant_Constraint_Check\n+           (Target_Type => Directly_Designated_Type (Target_Type),\n+            Expr_Type   => Directly_Designated_Type (Expr_Type));\n \n-            Set_Discriminant_Constraint (Expr_Type, New_Constraints);\n-            Cond := Build_Discriminant_Checks (Expr, Expr_Type);\n-            Set_Discriminant_Constraint (Expr_Type, Old_Constraints);\n+      --  Create discriminant checks for the Target_Type's stored constraints\n \n-            Insert_Action (N,\n-              Make_Raise_Constraint_Error (Loc,\n-                Condition => Cond,\n-                Reason    => CE_Discriminant_Check_Failed));\n-         end;\n+      elsif Comes_From_Source (N)\n+        and then not Discriminant_Checks_Suppressed (Target_Type)\n+        and then Is_Record_Type (Target_Type)\n+        and then Is_Derived_Type (Target_Type)\n+        and then not Is_Tagged_Type (Target_Type)\n+        and then not Is_Constrained (Target_Type)\n+        and then Present (Stored_Constraint (Target_Type))\n+      then\n+         Make_Discriminant_Constraint_Check (Target_Type, Expr_Type);\n \n       --  For arrays, checks are set now, but conversions are applied during\n       --  expansion, to take into accounts changes of representation. The\n@@ -5350,8 +5426,7 @@ package body Checks is\n                      OK1 := True;\n                   end;\n \n-               --  No special handling for other attributes\n-               --  Probably more opportunities exist here???\n+               --  No special handling for other attributes for now\n \n                when others =>\n                   OK1 := False;\n@@ -5547,6 +5622,10 @@ package body Checks is\n \n       --  If type is not defined, we can't determine its range\n \n+      pragma Warnings (Off, \"condition can only be True if invalid\");\n+      --  Otherwise the compiler warns on the check of Float_Rep below, because\n+      --  there is only one value (see types.ads).\n+\n       if No (Typ)\n \n         --  We don't deal with anything except IEEE floating-point types\n@@ -5560,6 +5639,7 @@ package body Checks is\n \n         or else Error_Posted (N) or else Error_Posted (Typ)\n       then\n+         pragma Warnings (On, \"condition can only be True if invalid\");\n          OK := False;\n          return;\n       end if;\n@@ -7745,10 +7825,8 @@ package body Checks is\n                      New_Occurrence_Of (Target_Base_Type, Loc),\n                    Constant_Present    => True,\n                    Expression          =>\n-                     Make_Unchecked_Type_Conversion (Loc,\n-                       Subtype_Mark =>\n-                         New_Occurrence_Of (Target_Base_Type, Loc),\n-                       Expression   => Duplicate_Subexpr (N))),\n+                     Unchecked_Convert_To\n+                       (Target_Base_Type, Duplicate_Subexpr (N))),\n \n                  Make_Raise_Constraint_Error (Loc,\n                    Condition =>\n@@ -7941,7 +8019,7 @@ package body Checks is\n    begin\n       --  For now we just return if Checks_On is false, however this should be\n       --  enhanced to check for an always True value in the condition and to\n-      --  generate a compilation warning???\n+      --  generate a compilation warning.\n \n       if not Expander_Active or not Checks_On then\n          return;\n@@ -8099,7 +8177,7 @@ package body Checks is\n             --  cause our object declaration to remain unanalyzed we must do\n             --  some manual decoration.\n \n-            Set_Ekind (Var_Id, E_Variable);\n+            Mutate_Ekind (Var_Id, E_Variable);\n             Set_Etype (Var_Id, Typ);\n \n             Insert_Action (Exp,\n@@ -8470,22 +8548,6 @@ package body Checks is\n          return;\n       end if;\n \n-      --  No check needed for the Get_Current_Excep.all.all idiom generated by\n-      --  the expander within exception handlers, since we know that the value\n-      --  can never be null.\n-\n-      --  Is this really the right way to do this? Normally we generate such\n-      --  code in the expander with checks off, and that's how we suppress this\n-      --  kind of junk check ???\n-\n-      if Nkind (N) = N_Function_Call\n-        and then Nkind (Name (N)) = N_Explicit_Dereference\n-        and then Nkind (Prefix (Name (N))) = N_Identifier\n-        and then Is_RTE (Entity (Prefix (Name (N))), RE_Get_Current_Excep)\n-      then\n-         return;\n-      end if;\n-\n       --  In GNATprove mode, we do not apply the check\n \n       if GNATprove_Mode then\n@@ -8573,7 +8635,7 @@ package body Checks is\n          return;\n \n       --  Do not generate an elaboration check if the related subprogram is\n-      --  not subjected to accessibility checks.\n+      --  not subject to elaboration checks.\n \n       elsif Elaboration_Checks_Suppressed (Subp_Id) then\n          return;\n@@ -8583,14 +8645,20 @@ package body Checks is\n       elsif Restriction_Active (No_Elaboration_Code) then\n          return;\n \n+      --  If pragma Pure or Preelaborate applies, then these elaboration checks\n+      --  cannot fail, so do not generate them.\n+\n+      elsif In_Preelaborated_Unit then\n+         return;\n+\n       --  Do not generate an elaboration check if exceptions cannot be used,\n       --  caught, or propagated.\n \n       elsif not Exceptions_OK then\n          return;\n \n-      --  Do not consider subprograms which act as compilation units, because\n-      --  they cannot be the target of a dispatching call.\n+      --  Do not consider subprograms that are compilation units, because they\n+      --  cannot be the target of a dispatching call.\n \n       elsif Nkind (Context) = N_Compilation_Unit then\n          return;\n@@ -8620,10 +8688,10 @@ package body Checks is\n       elsif Analyzed (Subp_Body) then\n          return;\n \n-      --  Do not consider primitives which occur within an instance that acts\n-      --  as a compilation unit. Such an instance defines its spec and body out\n-      --  of order (body is first) within the tree, which causes the reference\n-      --  to the elaboration flag to appear as an undefined symbol.\n+      --  Do not consider primitives that occur within an instance that is a\n+      --  compilation unit. Such an instance defines its spec and body out of\n+      --  order (body is first) within the tree, which causes the reference to\n+      --  the elaboration flag to appear as an undefined symbol.\n \n       elsif Within_Compilation_Unit_Instance (Subp_Id) then\n          return;\n@@ -9256,7 +9324,6 @@ package body Checks is\n \n                      Append_To (New_Alts,\n                        Make_Case_Expression_Alternative (Sloc (Alt),\n-                         Actions          => No_List,\n                          Discrete_Choices => Discrete_Choices (Alt),\n                          Expression       => New_Exp));\n \n@@ -9697,9 +9764,6 @@ package body Checks is\n             when N_Attribute_Reference =>\n                Set_Do_Overflow_Check (N, False);\n \n-            when N_Function_Call =>\n-               Set_Do_Tag_Check (N, False);\n-\n             when N_Op =>\n                Set_Do_Overflow_Check (N, False);\n \n@@ -9735,7 +9799,6 @@ package body Checks is\n \n             when N_Type_Conversion =>\n                Set_Do_Length_Check   (N, False);\n-               Set_Do_Tag_Check      (N, False);\n                Set_Do_Overflow_Check (N, False);\n \n             when others =>\n@@ -9776,8 +9839,10 @@ package body Checks is\n       --  Adds the action given to Ret_Result if N is non-Empty\n \n       function Get_E_Length (E : Entity_Id; Indx : Nat) return Node_Id;\n+      --  Return E'Length (Indx)\n+\n       function Get_N_Length (N : Node_Id; Indx : Nat) return Node_Id;\n-      --  Comments required ???\n+      --  Return N'Length (Indx)\n \n       function Same_Bounds (L : Node_Id; R : Node_Id) return Boolean;\n       --  True for equal literals and for nodes that denote the same constant\n@@ -9813,8 +9878,10 @@ package body Checks is\n       begin\n          if Present (N) then\n \n-            --  For now, ignore attempt to place more than two checks ???\n-            --  This is really worrisome, are we really discarding checks ???\n+            --  We do not support inserting more than 2 checks on the same\n+            --  node. If this happens it means we have already added an\n+            --  unconditional raise, so we can skip the other checks safely\n+            --  since N will always raise an exception.\n \n             if Num_Checks = 2 then\n                return;\n@@ -9867,8 +9934,7 @@ package body Checks is\n \n             declare\n                Indx_Type : Node_Id;\n-               Lo        : Node_Id;\n-               Hi        : Node_Id;\n+               Bounds    : Range_Nodes;\n                Do_Expand : Boolean := False;\n \n             begin\n@@ -9878,37 +9944,38 @@ package body Checks is\n                   Next_Index (Indx_Type);\n                end loop;\n \n-               Get_Index_Bounds (Indx_Type, Lo, Hi);\n+               Bounds := Get_Index_Bounds (Indx_Type);\n \n-               if Nkind (Lo) = N_Identifier\n-                 and then Ekind (Entity (Lo)) = E_In_Parameter\n+               if Nkind (Bounds.First) = N_Identifier\n+                 and then Ekind (Entity (Bounds.First)) = E_In_Parameter\n                then\n-                  Lo := Get_Discriminal (E, Lo);\n+                  Bounds.First := Get_Discriminal (E, Bounds.First);\n                   Do_Expand := True;\n                end if;\n \n-               if Nkind (Hi) = N_Identifier\n-                 and then Ekind (Entity (Hi)) = E_In_Parameter\n+               if Nkind (Bounds.Last) = N_Identifier\n+                 and then Ekind (Entity (Bounds.Last)) = E_In_Parameter\n                then\n-                  Hi := Get_Discriminal (E, Hi);\n+                  Bounds.Last := Get_Discriminal (E, Bounds.Last);\n                   Do_Expand := True;\n                end if;\n \n                if Do_Expand then\n-                  if not Is_Entity_Name (Lo) then\n-                     Lo := Duplicate_Subexpr_No_Checks (Lo);\n+                  if not Is_Entity_Name (Bounds.First) then\n+                     Bounds.First :=\n+                       Duplicate_Subexpr_No_Checks (Bounds.First);\n                   end if;\n \n-                  if not Is_Entity_Name (Hi) then\n-                     Lo := Duplicate_Subexpr_No_Checks (Hi);\n+                  if not Is_Entity_Name (Bounds.Last) then\n+                     Bounds.First := Duplicate_Subexpr_No_Checks (Bounds.Last);\n                   end if;\n \n                   N :=\n                     Make_Op_Add (Loc,\n                       Left_Opnd =>\n                         Make_Op_Subtract (Loc,\n-                          Left_Opnd  => Hi,\n-                          Right_Opnd => Lo),\n+                          Left_Opnd  => Bounds.Last,\n+                          Right_Opnd => Bounds.First),\n \n                       Right_Opnd => Make_Integer_Literal (Loc, 1));\n                   return N;\n@@ -10151,10 +10218,8 @@ package body Checks is\n \n                   L_Index  : Node_Id;\n                   R_Index  : Node_Id;\n-                  L_Low    : Node_Id;\n-                  L_High   : Node_Id;\n-                  R_Low    : Node_Id;\n-                  R_High   : Node_Id;\n+                  L_Bounds : Range_Nodes;\n+                  R_Bounds : Range_Nodes;\n                   L_Length : Uint;\n                   R_Length : Uint;\n                   Ref_Node : Node_Id;\n@@ -10186,29 +10251,33 @@ package body Checks is\n                                or else\n                              Nkind (R_Index) = N_Raise_Constraint_Error)\n                      then\n-                        Get_Index_Bounds (L_Index, L_Low, L_High);\n-                        Get_Index_Bounds (R_Index, R_Low, R_High);\n+                        L_Bounds := Get_Index_Bounds (L_Index);\n+                        R_Bounds := Get_Index_Bounds (R_Index);\n \n                         --  Deal with compile time length check. Note that we\n                         --  skip this in the access case, because the access\n                         --  value may be null, so we cannot know statically.\n \n                         if not Do_Access\n-                          and then Compile_Time_Known_Value (L_Low)\n-                          and then Compile_Time_Known_Value (L_High)\n-                          and then Compile_Time_Known_Value (R_Low)\n-                          and then Compile_Time_Known_Value (R_High)\n+                          and then Compile_Time_Known_Value (L_Bounds.First)\n+                          and then Compile_Time_Known_Value (L_Bounds.Last)\n+                          and then Compile_Time_Known_Value (R_Bounds.First)\n+                          and then Compile_Time_Known_Value (R_Bounds.Last)\n                         then\n-                           if Expr_Value (L_High) >= Expr_Value (L_Low) then\n-                              L_Length := Expr_Value (L_High) -\n-                                          Expr_Value (L_Low) + 1;\n+                           if Expr_Value (L_Bounds.Last) >=\n+                              Expr_Value (L_Bounds.First)\n+                           then\n+                              L_Length := Expr_Value (L_Bounds.Last) -\n+                                          Expr_Value (L_Bounds.First) + 1;\n                            else\n                               L_Length := UI_From_Int (0);\n                            end if;\n \n-                           if Expr_Value (R_High) >= Expr_Value (R_Low) then\n-                              R_Length := Expr_Value (R_High) -\n-                                          Expr_Value (R_Low) + 1;\n+                           if Expr_Value (R_Bounds.Last) >=\n+                              Expr_Value (R_Bounds.First)\n+                           then\n+                              R_Length := Expr_Value (R_Bounds.Last) -\n+                                          Expr_Value (R_Bounds.First) + 1;\n                            else\n                               R_Length := UI_From_Int (0);\n                            end if;\n@@ -10240,8 +10309,9 @@ package body Checks is\n                             (Etype (L_Index), Etype (R_Index))\n \n                           and then not\n-                            (Same_Bounds (L_Low, R_Low)\n-                              and then Same_Bounds (L_High, R_High))\n+                            (Same_Bounds (L_Bounds.First, R_Bounds.First)\n+                              and then\n+                             Same_Bounds (L_Bounds.Last, R_Bounds.Last))\n                         then\n                            Evolve_Or_Else\n                              (Cond, Length_E_Cond (Exptyp, T_Typ, Indx));\n@@ -10384,7 +10454,10 @@ package body Checks is\n       begin\n          if Present (N) then\n \n-            --  For now, ignore attempt to place more than 2 checks ???\n+            --  We do not support inserting more than 2 checks on the same\n+            --  node. If this happens it means we have already added an\n+            --  unconditional raise, so we can skip the other checks safely\n+            --  since N will always raise an exception.\n \n             if Num_Checks = 2 then\n                return;\n@@ -10448,16 +10521,36 @@ package body Checks is\n             LB := New_Occurrence_Of (Discriminal (Entity (LB)), Loc);\n          end if;\n \n-         Left_Opnd :=\n-           Make_Op_Lt (Loc,\n-             Left_Opnd  =>\n-               Convert_To\n-                 (Base_Type (Typ), Duplicate_Subexpr_No_Checks (LB)),\n+         --  If the index type has a fixed lower bound, then we require an\n+         --  exact match of the range's lower bound against that fixed lower\n+         --  bound.\n \n-             Right_Opnd =>\n-               Convert_To\n-                 (Base_Type (Typ),\n-                  Get_E_First_Or_Last (Loc, Typ, 0, Name_First)));\n+         if Is_Fixed_Lower_Bound_Index_Subtype (Typ) then\n+            Left_Opnd :=\n+              Make_Op_Ne (Loc,\n+                Left_Opnd  =>\n+                  Convert_To\n+                    (Base_Type (Typ), Duplicate_Subexpr_No_Checks (LB)),\n+\n+                Right_Opnd =>\n+                  Convert_To\n+                    (Base_Type (Typ),\n+                     Get_E_First_Or_Last (Loc, Typ, 0, Name_First)));\n+\n+         --  Otherwise we do the expected less-than comparison\n+\n+         else\n+            Left_Opnd :=\n+              Make_Op_Lt (Loc,\n+                Left_Opnd  =>\n+                  Convert_To\n+                    (Base_Type (Typ), Duplicate_Subexpr_No_Checks (LB)),\n+\n+                Right_Opnd =>\n+                  Convert_To\n+                    (Base_Type (Typ),\n+                     Get_E_First_Or_Last (Loc, Typ, 0, Name_First)));\n+         end if;\n \n          if Nkind (HB) = N_Identifier\n            and then Ekind (Entity (HB)) = E_Discriminant\n@@ -10614,6 +10707,13 @@ package body Checks is\n                    Get_E_First_Or_Last (Loc, Typ, Indx, Name_Last)));\n       end Range_N_Cond;\n \n+      function \"<\" (Left, Right : Node_Id) return Boolean\n+      is (if Is_Floating_Point_Type (S_Typ)\n+          then Expr_Value_R (Left) < Expr_Value_R (Right)\n+          else Expr_Value   (Left) < Expr_Value   (Right));\n+      --  Convenience comparison function of integer or floating point\n+      --  values.\n+\n    --  Start of processing for Selected_Range_Checks\n \n    begin\n@@ -10684,14 +10784,14 @@ package body Checks is\n             Known_T_LB : constant Boolean := Compile_Time_Known_Value (T_LB);\n             Known_T_HB : constant Boolean := Compile_Time_Known_Value (T_HB);\n \n-            LB         : Node_Id := Low_Bound (Expr);\n-            HB         : Node_Id := High_Bound (Expr);\n-            Known_LB   : Boolean := False;\n-            Known_HB   : Boolean := False;\n+            LB          : Node_Id := Low_Bound (Expr);\n+            HB          : Node_Id := High_Bound (Expr);\n+            Known_LB    : Boolean := False;\n+            Known_HB    : Boolean := False;\n+            Check_Added : Boolean := False;\n \n-            Null_Range     : Boolean;\n-            Out_Of_Range_L : Boolean;\n-            Out_Of_Range_H : Boolean;\n+            Out_Of_Range_L : Boolean := False;\n+            Out_Of_Range_H : Boolean := False;\n \n          begin\n             --  Compute what is known at compile time\n@@ -10724,79 +10824,92 @@ package body Checks is\n                end if;\n             end if;\n \n-            --  Check for case where everything is static and we can do the\n-            --  check at compile time. This is skipped if we have an access\n-            --  type, since the access value may be null.\n-\n-            --  ??? This code can be improved since you only need to know that\n-            --  the two respective bounds (LB & T_LB or HB & T_HB) are known at\n-            --  compile time to emit pertinent messages.\n+            --  Check for the simple cases where we can do the check at\n+            --  compile time. This is skipped if we have an access type, since\n+            --  the access value may be null.\n \n-            if Known_T_LB and Known_T_HB and Known_LB and Known_HB\n-              and not Do_Access\n-            then\n-               --  Floating-point case\n-\n-               if Is_Floating_Point_Type (S_Typ) then\n-                  Null_Range := Expr_Value_R (HB) < Expr_Value_R (LB);\n-                  Out_Of_Range_L :=\n-                    (Expr_Value_R (LB) < Expr_Value_R (T_LB))\n-                      or else\n-                    (Expr_Value_R (LB) > Expr_Value_R (T_HB));\n-\n-                  Out_Of_Range_H :=\n-                    (Expr_Value_R (HB) > Expr_Value_R (T_HB))\n-                      or else\n-                    (Expr_Value_R (HB) < Expr_Value_R (T_LB));\n-\n-               --  Fixed or discrete type case\n-\n-               else\n-                  Null_Range := Expr_Value (HB) < Expr_Value (LB);\n-                  Out_Of_Range_L :=\n-                    (Expr_Value (LB) < Expr_Value (T_LB))\n-                      or else\n-                    (Expr_Value (LB) > Expr_Value (T_HB));\n+            if not Do_Access and then Not_Null_Range (LB, HB) then\n+               if Known_LB then\n+                  if Known_T_LB then\n+                     Out_Of_Range_L := LB < T_LB;\n+                  end if;\n \n-                  Out_Of_Range_H :=\n-                    (Expr_Value (HB) > Expr_Value (T_HB))\n-                      or else\n-                    (Expr_Value (HB) < Expr_Value (T_LB));\n-               end if;\n+                  if Known_T_HB and not Out_Of_Range_L then\n+                     Out_Of_Range_L := T_HB < LB;\n+                  end if;\n \n-               if not Null_Range then\n                   if Out_Of_Range_L then\n                      if No (Warn_Node) then\n                         Add_Check\n                           (Compile_Time_Constraint_Error\n                              (Low_Bound (Expr),\n                               \"static value out of range of}??\", T_Typ));\n+                        Check_Added := True;\n \n                      else\n                         Add_Check\n                           (Compile_Time_Constraint_Error\n                             (Wnode,\n                              \"static range out of bounds of}??\", T_Typ));\n+                        Check_Added := True;\n                      end if;\n                   end if;\n+               end if;\n+\n+               --  Flag the case of a fixed-lower-bound index where the static\n+               --  bounds are not equal.\n+\n+               if not Check_Added\n+                 and then Is_Fixed_Lower_Bound_Index_Subtype (T_Typ)\n+                 and then Expr_Value (LB) /= Expr_Value (T_LB)\n+               then\n+                  Add_Check\n+                    (Compile_Time_Constraint_Error\n+                       ((if Present (Warn_Node)\n+                        then Warn_Node else Low_Bound (Expr)),\n+                        \"static value does not equal lower bound of}??\",\n+                        T_Typ));\n+                  Check_Added := True;\n+               end if;\n+\n+               if Known_HB then\n+                  if Known_T_HB then\n+                     Out_Of_Range_H := T_HB < HB;\n+                  end if;\n+\n+                  if Known_T_LB and not Out_Of_Range_H then\n+                     Out_Of_Range_H := HB < T_LB;\n+                  end if;\n \n                   if Out_Of_Range_H then\n                      if No (Warn_Node) then\n                         Add_Check\n                           (Compile_Time_Constraint_Error\n                              (High_Bound (Expr),\n                               \"static value out of range of}??\", T_Typ));\n+                        Check_Added := True;\n \n                      else\n                         Add_Check\n                           (Compile_Time_Constraint_Error\n                              (Wnode,\n                               \"static range out of bounds of}??\", T_Typ));\n+                        Check_Added := True;\n                      end if;\n                   end if;\n                end if;\n+            end if;\n \n-            else\n+            --  Check for the case where not everything is static\n+\n+            if not Check_Added\n+              and then\n+                (Do_Access\n+                  or else not Known_T_LB\n+                  or else not Known_LB\n+                  or else not Known_T_HB\n+                  or else not Known_HB)\n+            then\n                declare\n                   LB : Node_Id := Low_Bound (Expr);\n                   HB : Node_Id := High_Bound (Expr);\n@@ -10863,8 +10976,8 @@ package body Checks is\n       elsif Is_Scalar_Type (S_Typ) then\n \n          --  This somewhat duplicates what Apply_Scalar_Range_Check does,\n-         --  except the above simply sets a flag in the node and lets\n-         --  gigi generate the check base on the Etype of the expression.\n+         --  except the above simply sets a flag in the node and lets the\n+         --  check be generated based on the Etype of the expression.\n          --  Sometimes, however we want to do a dynamic check against an\n          --  arbitrary target type, so we do that here.\n \n@@ -10878,56 +10991,24 @@ package body Checks is\n          --  expression. As usual, skip this for access types\n \n          elsif Compile_Time_Known_Value (Expr) and then not Do_Access then\n-            declare\n-               LB : constant Node_Id := Type_Low_Bound (T_Typ);\n-               UB : constant Node_Id := Type_High_Bound (T_Typ);\n+            if Is_Out_Of_Range (Expr, T_Typ) then\n \n-               Out_Of_Range  : Boolean;\n-               Static_Bounds : constant Boolean :=\n-                 Compile_Time_Known_Value (LB)\n-                 and Compile_Time_Known_Value (UB);\n+               --  Bounds of the type are static and the literal is out of\n+               --  range so output a warning message.\n \n-            begin\n-               --  Following range tests should use Sem_Eval routine ???\n-\n-               if Static_Bounds then\n-                  if Is_Floating_Point_Type (S_Typ) then\n-                     Out_Of_Range :=\n-                       (Expr_Value_R (Expr) < Expr_Value_R (LB))\n-                         or else\n-                       (Expr_Value_R (Expr) > Expr_Value_R (UB));\n-\n-                  --  Fixed or discrete type\n-\n-                  else\n-                     Out_Of_Range :=\n-                       Expr_Value (Expr) < Expr_Value (LB)\n-                         or else\n-                       Expr_Value (Expr) > Expr_Value (UB);\n-                  end if;\n-\n-                  --  Bounds of the type are static and the literal is out of\n-                  --  range so output a warning message.\n-\n-                  if Out_Of_Range then\n-                     if No (Warn_Node) then\n-                        Add_Check\n-                          (Compile_Time_Constraint_Error\n-                             (Expr,\n-                              \"static value out of range of}??\", T_Typ));\n-\n-                     else\n-                        Add_Check\n-                          (Compile_Time_Constraint_Error\n-                             (Wnode,\n-                              \"static value out of range of}??\", T_Typ));\n-                     end if;\n-                  end if;\n+               if No (Warn_Node) then\n+                  Add_Check\n+                    (Compile_Time_Constraint_Error\n+                       (Expr, \"static value out of range of}??\", T_Typ));\n \n                else\n-                  Cond := Discrete_Expr_Cond (Expr, T_Typ);\n+                  Add_Check\n+                    (Compile_Time_Constraint_Error\n+                       (Wnode, \"static value out of range of}??\", T_Typ));\n                end if;\n-            end;\n+            else\n+               Cond := Discrete_Expr_Cond (Expr, T_Typ);\n+            end if;\n \n          --  Here for the case of a non-static expression, we need a runtime\n          --  check unless the source type range is guaranteed to be in the\n@@ -10942,7 +11023,6 @@ package body Checks is\n \n       if Is_Array_Type (T_Typ) and then Is_Array_Type (S_Typ) then\n          if Is_Constrained (T_Typ) then\n-\n             Expr_Actual := Get_Referenced_Object (Expr);\n             Exptyp      := Get_Actual_Subtype (Expr_Actual);\n \n@@ -11036,6 +11116,56 @@ package body Checks is\n                end;\n             end if;\n \n+         --  If the context is a qualified_expression where the subtype is\n+         --  an unconstrained array subtype with fixed-lower-bound indexes,\n+         --  then consistency checks must be done between the lower bounds\n+         --  of any such indexes and the corresponding lower bounds of the\n+         --  qualified array object.\n+\n+         elsif Is_Fixed_Lower_Bound_Array_Subtype (T_Typ)\n+           and then Nkind (Parent (Expr)) = N_Qualified_Expression\n+           and then not Do_Access\n+         then\n+            declare\n+               Ndims : constant Pos := Number_Dimensions (T_Typ);\n+\n+               Qual_Index : Node_Id;\n+               Expr_Index : Node_Id;\n+\n+            begin\n+               Expr_Actual := Get_Referenced_Object (Expr);\n+               Exptyp      := Get_Actual_Subtype (Expr_Actual);\n+\n+               Qual_Index := First_Index (T_Typ);\n+               Expr_Index := First_Index (Exptyp);\n+\n+               for Indx in 1 .. Ndims loop\n+                  if Nkind (Expr_Index) /= N_Raise_Constraint_Error then\n+\n+                     --  If this index of the qualifying array subtype has\n+                     --  a fixed lower bound, then apply a check that the\n+                     --  corresponding lower bound of the array expression\n+                     --  is equal to it.\n+\n+                     if Is_Fixed_Lower_Bound_Index_Subtype (Etype (Qual_Index))\n+                     then\n+                        Evolve_Or_Else\n+                          (Cond,\n+                           Make_Op_Ne (Loc,\n+                             Left_Opnd   =>\n+                               Get_E_First_Or_Last\n+                                 (Loc, Exptyp, Indx, Name_First),\n+                             Right_Opnd  =>\n+                               New_Copy_Tree\n+                                 (Type_Low_Bound (Etype (Qual_Index)))));\n+                     end if;\n+\n+                     Next (Qual_Index);\n+                     Next (Expr_Index);\n+                  end if;\n+               end loop;\n+            end;\n+\n          else\n             --  For a conversion to an unconstrained array type, generate an\n             --  Action to check that the bounds of the source value are within"}, {"sha": "3b97bd0802c5e9e6e2736c8789a5b0f27961493a", "filename": "gcc/ada/checks.ads", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fchecks.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fchecks.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fchecks.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -357,7 +357,7 @@ package Checks is\n    --  if so inserts the appropriate run-time check.\n \n    procedure Install_Primitive_Elaboration_Check (Subp_Body : Node_Id);\n-   --  Insert a check which ensures that subprogram body Subp_Body has been\n+   --  Insert a check to ensure that subprogram body Subp_Body has been\n    --  properly elaborated. The check is installed only when Subp_Body is the\n    --  body of a nonabstract library-level primitive of a tagged type. Further\n    --  restrictions may apply, see the body for details.\n@@ -851,7 +851,7 @@ package Checks is\n    --    are not following the flow graph (more properly the flow of actual\n    --    processing only corresponds to the flow graph for local assignments).\n    --    For non-local variables, we preserve the current setting, i.e. a\n-   --    validity check is performed when assigning to a knonwn valid global.\n+   --    validity check is performed when assigning to a known valid global.\n \n    --  Note: no validity checking is required if range checks are suppressed\n    --  regardless of the setting of the validity checking mode."}, {"sha": "5a097ab60dd17345c4016b5053da0ccceceabe44", "filename": "gcc/ada/cio.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcio.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "03ca7a4fceff4f75d526df00526254c9e1f24c3c", "filename": "gcc/ada/clean.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fclean.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fclean.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fclean.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2003-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "e2dbdb4919973d7ae20fff79b962e0eb12ae7757", "filename": "gcc/ada/clean.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fclean.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fclean.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fclean.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2003-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2003-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "064fae062b868d79f22d51c33f33c53bf4e78939", "filename": "gcc/ada/comperr.adb", "status": "modified", "additions": 23, "deletions": 16, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcomperr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcomperr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcomperr.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -27,21 +27,22 @@\n --  is detected. Calls to these routines cause termination of the current\n --  compilation with appropriate error output.\n \n-with Atree;    use Atree;\n-with Debug;    use Debug;\n-with Errout;   use Errout;\n-with Gnatvsn;  use Gnatvsn;\n-with Lib;      use Lib;\n-with Namet;    use Namet;\n-with Opt;      use Opt;\n-with Osint;    use Osint;\n-with Output;   use Output;\n-with Sinfo;    use Sinfo;\n-with Sinput;   use Sinput;\n-with Sprint;   use Sprint;\n-with Sdefault; use Sdefault;\n-with Treepr;   use Treepr;\n-with Types;    use Types;\n+with Atree;          use Atree;\n+with Debug;          use Debug;\n+with Errout;         use Errout;\n+with Gnatvsn;        use Gnatvsn;\n+with Lib;            use Lib;\n+with Namet;          use Namet;\n+with Opt;            use Opt;\n+with Osint;          use Osint;\n+with Output;         use Output;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinput;         use Sinput;\n+with Sprint;         use Sprint;\n+with Sdefault;       use Sdefault;\n+with Treepr;         use Treepr;\n+with Types;          use Types;\n \n with Ada.Exceptions; use Ada.Exceptions;\n \n@@ -243,12 +244,17 @@ package body Comperr is\n             end if;\n \n             End_Line;\n+\n          else\n             Write_Str (\"| Error detected at \");\n             Write_Location (Sloc (Current_Error_Node));\n             End_Line;\n          end if;\n \n+         Write_Str (\"| Compiling \");\n+         Write_Str (Get_First_Main_File_Name);\n+         End_Line;\n+\n          --  There are two cases now. If the file gnat_bug.box exists,\n          --  we use the contents of this file at this point.\n \n@@ -403,6 +409,7 @@ package body Comperr is\n          Set_Standard_Output;\n \n          Tree_Dump;\n+         Sinput.Unlock; -- so Source_Dump can modify it\n          Source_Dump;\n          raise Unrecoverable_Error;\n       end if;"}, {"sha": "9e442370eb585a52b8de51e84485eed1a83b046d", "filename": "gcc/ada/comperr.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcomperr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcomperr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcomperr.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "d096cbb7752d7f965793f0050ea57327808c419d", "filename": "gcc/ada/contracts.adb", "status": "modified", "additions": 79, "deletions": 55, "changes": 134, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcontracts.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcontracts.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcontracts.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2015-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2015-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,35 +23,39 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Aspects;  use Aspects;\n-with Atree;    use Atree;\n-with Einfo;    use Einfo;\n-with Elists;   use Elists;\n-with Errout;   use Errout;\n-with Exp_Prag; use Exp_Prag;\n-with Exp_Tss;  use Exp_Tss;\n-with Exp_Util; use Exp_Util;\n-with Freeze;   use Freeze;\n-with Lib;      use Lib;\n-with Namet;    use Namet;\n-with Nlists;   use Nlists;\n-with Nmake;    use Nmake;\n-with Opt;      use Opt;\n-with Sem;      use Sem;\n-with Sem_Aux;  use Sem_Aux;\n-with Sem_Ch6;  use Sem_Ch6;\n-with Sem_Ch8;  use Sem_Ch8;\n-with Sem_Ch12; use Sem_Ch12;\n-with Sem_Ch13; use Sem_Ch13;\n-with Sem_Disp; use Sem_Disp;\n-with Sem_Prag; use Sem_Prag;\n-with Sem_Util; use Sem_Util;\n-with Sinfo;    use Sinfo;\n-with Sinput;   use Sinput;\n-with Snames;   use Snames;\n-with Stand;    use Stand;\n-with Stringt;  use Stringt;\n-with Tbuild;   use Tbuild;\n+with Aspects;        use Aspects;\n+with Atree;          use Atree;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Elists;         use Elists;\n+with Errout;         use Errout;\n+with Exp_Prag;       use Exp_Prag;\n+with Exp_Tss;        use Exp_Tss;\n+with Exp_Util;       use Exp_Util;\n+with Freeze;         use Freeze;\n+with Lib;            use Lib;\n+with Namet;          use Namet;\n+with Nlists;         use Nlists;\n+with Nmake;          use Nmake;\n+with Opt;            use Opt;\n+with Sem;            use Sem;\n+with Sem_Aux;        use Sem_Aux;\n+with Sem_Ch6;        use Sem_Ch6;\n+with Sem_Ch8;        use Sem_Ch8;\n+with Sem_Ch12;       use Sem_Ch12;\n+with Sem_Ch13;       use Sem_Ch13;\n+with Sem_Disp;       use Sem_Disp;\n+with Sem_Prag;       use Sem_Prag;\n+with Sem_Util;       use Sem_Util;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n+with Sinput;         use Sinput;\n+with Snames;         use Snames;\n+with Stand;          use Stand;\n+with Stringt;        use Stringt;\n+with Tbuild;         use Tbuild;\n \n package body Contracts is\n \n@@ -1576,7 +1580,7 @@ package body Contracts is\n       --  in its visible declarations.\n \n       if Nkind (Templ) = N_Generic_Package_Declaration then\n-         Set_Ekind (Templ_Id, E_Generic_Package);\n+         Mutate_Ekind (Templ_Id, E_Generic_Package);\n \n          if Present (Visible_Declarations (Specification (Templ))) then\n             Decl := First (Visible_Declarations (Specification (Templ)));\n@@ -1586,7 +1590,7 @@ package body Contracts is\n       --  declarations.\n \n       elsif Nkind (Templ) = N_Package_Body then\n-         Set_Ekind (Templ_Id, E_Package_Body);\n+         Mutate_Ekind (Templ_Id, E_Package_Body);\n \n          if Present (Declarations (Templ)) then\n             Decl := First (Declarations (Templ));\n@@ -1596,9 +1600,9 @@ package body Contracts is\n \n       elsif Nkind (Templ) = N_Generic_Subprogram_Declaration then\n          if Nkind (Specification (Templ)) = N_Function_Specification then\n-            Set_Ekind (Templ_Id, E_Generic_Function);\n+            Mutate_Ekind (Templ_Id, E_Generic_Function);\n          else\n-            Set_Ekind (Templ_Id, E_Generic_Procedure);\n+            Mutate_Ekind (Templ_Id, E_Generic_Procedure);\n          end if;\n \n          --  When the generic subprogram acts as a compilation unit, inspect\n@@ -1622,7 +1626,7 @@ package body Contracts is\n       --  its declarations.\n \n       elsif Nkind (Templ) = N_Subprogram_Body then\n-         Set_Ekind (Templ_Id, E_Subprogram_Body);\n+         Mutate_Ekind (Templ_Id, E_Subprogram_Body);\n \n          if Present (Declarations (Templ)) then\n             Decl := First (Declarations (Templ));\n@@ -2367,6 +2371,10 @@ package body Contracts is\n          --  postconditions until finalization has been performed when cleanup\n          --  actions are present.\n \n+         --  NOTE: This flag could be made into a predicate since we should be\n+         --  able at compile time to recognize when finalization and cleanup\n+         --  actions occur, but in practice this is not possible ???\n+\n          --  Generate:\n          --\n          --    Postcond_Enabled : Boolean := True;\n@@ -2405,16 +2413,16 @@ package body Contracts is\n          --  the postconditions: this would cause confusing debug info to be\n          --  produced, interfering with coverage-analysis tools.\n \n-         --  Also, wrap the postcondition checks in a conditional which can be\n-         --  used to delay their evaluation when clean-up actions are present.\n+         --  NOTE: Coverage-analysis and static-analysis tools rely on the\n+         --  postconditions procedure being free of internally generated code\n+         --  since some of these tools, like CodePeer, treat _postconditions\n+         --  as original source.\n \n          --  Generate:\n          --\n          --    procedure _postconditions is\n          --    begin\n-         --       if Postcond_Enabled and then Return_Success_For_Postcond then\n-         --          [Stmts];\n-         --       end if;\n+         --       [Stmts];\n          --    end;\n \n          Proc_Bod :=\n@@ -2425,19 +2433,7 @@ package body Contracts is\n              Handled_Statement_Sequence =>\n                Make_Handled_Sequence_Of_Statements (Loc,\n                  End_Label  => Make_Identifier (Loc, Chars (Proc_Id)),\n-                 Statements => New_List (\n-                   Make_If_Statement (Loc,\n-                     Condition      =>\n-                       Make_And_Then (Loc,\n-                         Left_Opnd  =>\n-                           New_Occurrence_Of\n-                             (Defining_Identifier\n-                               (Postcond_Enabled_Decl), Loc),\n-                         Right_Opnd =>\n-                           New_Occurrence_Of\n-                             (Defining_Identifier\n-                               (Return_Success_Decl), Loc)),\n-                      Then_Statements => Stmts))));\n+                 Statements => Stmts));\n          Insert_After_And_Analyze (Last_Decl, Proc_Bod);\n \n       end Build_Postconditions_Procedure;\n@@ -2614,7 +2610,21 @@ package body Contracts is\n \n             for Index in Subps'Range loop\n                Subp_Id := Subps (Index);\n-               Items   := Contract (Subp_Id);\n+\n+               if Present (Alias (Subp_Id)) then\n+                  Subp_Id := Ultimate_Alias (Subp_Id);\n+               end if;\n+\n+               --  Wrappers of class-wide pre/post conditions reference the\n+               --  parent primitive that has the inherited contract.\n+\n+               if Is_Wrapper (Subp_Id)\n+                 and then Present (LSP_Subprogram (Subp_Id))\n+               then\n+                  Subp_Id := LSP_Subprogram (Subp_Id);\n+               end if;\n+\n+               Items := Contract (Subp_Id);\n \n                if Present (Items) then\n                   Prag := Pre_Post_Conditions (Items);\n@@ -2896,7 +2906,21 @@ package body Contracts is\n \n             for Index in Subps'Range loop\n                Subp_Id := Subps (Index);\n-               Items   := Contract (Subp_Id);\n+\n+               if Present (Alias (Subp_Id)) then\n+                  Subp_Id := Ultimate_Alias (Subp_Id);\n+               end if;\n+\n+               --  Wrappers of class-wide pre/post conditions reference the\n+               --  parent primitive that has the inherited contract.\n+\n+               if Is_Wrapper (Subp_Id)\n+                 and then Present (LSP_Subprogram (Subp_Id))\n+               then\n+                  Subp_Id := LSP_Subprogram (Subp_Id);\n+               end if;\n+\n+               Items := Contract (Subp_Id);\n \n                if Present (Items) then\n                   Prag := Pre_Post_Conditions (Items);"}, {"sha": "bfd482e30533515a788574a3a62b85ca291e7f75", "filename": "gcc/ada/contracts.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcontracts.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcontracts.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcontracts.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2015-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2015-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "29a15920998f4ba8176cc060ad779bfef825964c", "filename": "gcc/ada/csets.adb", "status": "modified", "additions": 26, "deletions": 24, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcsets.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcsets.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcsets.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1091,38 +1091,40 @@ package body Csets is\n    begin\n       --  Set Fold_Upper table from source code indication\n \n-      if Identifier_Character_Set = '1'\n-        or else Identifier_Character_Set = 'w'\n-      then\n-         Fold_Upper := Fold_Latin_1;\n+      case Identifier_Character_Set is\n+         when '1' | 'w' =>\n+            Fold_Upper := Fold_Latin_1;\n \n-      elsif Identifier_Character_Set = '2' then\n-         Fold_Upper := Fold_Latin_2;\n+         when '2' =>\n+            Fold_Upper := Fold_Latin_2;\n \n-      elsif Identifier_Character_Set = '3' then\n-         Fold_Upper := Fold_Latin_3;\n+         when '3' =>\n+            Fold_Upper := Fold_Latin_3;\n \n-      elsif Identifier_Character_Set = '4' then\n-         Fold_Upper := Fold_Latin_4;\n+         when '4' =>\n+            Fold_Upper := Fold_Latin_4;\n \n-      elsif Identifier_Character_Set = '5' then\n-         Fold_Upper := Fold_Cyrillic;\n+         when '5' =>\n+            Fold_Upper := Fold_Cyrillic;\n \n-      elsif Identifier_Character_Set = 'p' then\n-         Fold_Upper := Fold_IBM_PC_437;\n+         when '9' =>\n+            Fold_Upper := Fold_Latin_9;\n \n-      elsif Identifier_Character_Set = '8' then\n-         Fold_Upper := Fold_IBM_PC_850;\n+         when 'p' =>\n+            Fold_Upper := Fold_IBM_PC_437;\n \n-      elsif Identifier_Character_Set = '9' then\n-         Fold_Upper := Fold_Latin_9;\n+         when '8' =>\n+            Fold_Upper := Fold_IBM_PC_850;\n \n-      elsif Identifier_Character_Set = 'f' then\n-         Fold_Upper := Fold_Full_Upper_Half;\n+         when 'f' =>\n+            Fold_Upper := Fold_Full_Upper_Half;\n \n-      else -- Identifier_Character_Set = 'n'\n-         Fold_Upper := Fold_No_Upper_Half;\n-      end if;\n+         when 'n' =>\n+            Fold_Upper := Fold_No_Upper_Half;\n+\n+         when others =>\n+            raise Program_Error;\n+      end case;\n \n       --  Use Fold_Upper table to compute Fold_Lower table\n "}, {"sha": "1bdbca4a55d3c74cabb879a829d2419c44d44d2f", "filename": "gcc/ada/csets.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcsets.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcsets.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcsets.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "635a2a52e687360ce78638f49388e5c080815d0b", "filename": "gcc/ada/csinfo.adb", "status": "removed", "additions": 0, "deletions": 639, "changes": 639, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1eb4d0d3bad1a7faa7f1734837562aea71575740/gcc%2Fada%2Fcsinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1eb4d0d3bad1a7faa7f1734837562aea71575740/gcc%2Fada%2Fcsinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcsinfo.adb?ref=1eb4d0d3bad1a7faa7f1734837562aea71575740", "patch": "@@ -1,639 +0,0 @@\n-------------------------------------------------------------------------------\n---                                                                          --\n---                          GNAT SYSTEM UTILITIES                           --\n---                                                                          --\n---                               C S I N F O                                --\n---                                                                          --\n---                                 B o d y                                  --\n---                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n---                                                                          --\n--- GNAT is free software;  you can  redistribute it  and/or modify it under --\n--- terms of the  GNU General Public License as published  by the Free Soft- --\n--- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n--- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n--- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n--- or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License --\n--- for  more details.  You should have  received  a copy of the GNU General --\n--- Public License  distributed with GNAT; see file COPYING3.  If not, go to --\n--- http://www.gnu.org/licenses for a complete copy of the license.          --\n---                                                                          --\n--- GNAT was originally developed  by the GNAT team at  New York University. --\n--- Extensive contributions were provided by Ada Core Technologies Inc.      --\n---                                                                          --\n-------------------------------------------------------------------------------\n-\n---  Check consistency of sinfo.ads and sinfo.adb. Checks that field name usage\n---  is consistent and that assertion cross-reference lists are correct, as well\n---  as making sure that all the comments on field name usage are consistent.\n-\n---  Note that this is used both as a standalone program, and as a procedure\n---  called by XSinfo. This raises an unhandled exception if it finds any\n---  errors; we don't attempt any sophisticated error recovery.\n-\n-with Ada.Strings.Unbounded;         use Ada.Strings.Unbounded;\n-with Ada.Strings.Unbounded.Text_IO; use Ada.Strings.Unbounded.Text_IO;\n-with Ada.Strings.Maps;              use Ada.Strings.Maps;\n-with Ada.Strings.Maps.Constants;    use Ada.Strings.Maps.Constants;\n-with Ada.Text_IO;                   use Ada.Text_IO;\n-\n-with GNAT.Spitbol;                  use GNAT.Spitbol;\n-with GNAT.Spitbol.Patterns;         use GNAT.Spitbol.Patterns;\n-with GNAT.Spitbol.Table_Boolean;\n-with GNAT.Spitbol.Table_VString;\n-\n-procedure CSinfo is\n-\n-   package TB renames GNAT.Spitbol.Table_Boolean;\n-   package TV renames GNAT.Spitbol.Table_VString;\n-   use TB, TV;\n-\n-   Infil  : File_Type;\n-   Lineno : Natural := 0;\n-\n-   Err : exception;\n-   --  Raised on fatal error\n-\n-   Done : exception;\n-   --  Raised after error is found to terminate run\n-\n-   WSP : constant Pattern := Span (' ' & ASCII.HT);\n-\n-   Fields   : TV.Table (300);\n-   Fields1  : TV.Table (300);\n-   Refs     : TV.Table (300);\n-   Refscopy : TV.Table (300);\n-   Special  : TB.Table (50);\n-   Inlines  : TV.Table (100);\n-\n-   --  The following define the standard fields used for binary operator,\n-   --  unary operator, and other expression nodes. Numbers in the range 1-5\n-   --  refer to the Fieldn fields. Letters D-R refer to flags:\n-\n-   --      D = Flag4\n-   --      E = Flag5\n-   --      F = Flag6\n-   --      G = Flag7\n-   --      H = Flag8\n-   --      I = Flag9\n-   --      J = Flag10\n-   --      K = Flag11\n-   --      L = Flag12\n-   --      M = Flag13\n-   --      N = Flag14\n-   --      O = Flag15\n-   --      P = Flag16\n-   --      Q = Flag17\n-   --      R = Flag18\n-\n-   Flags : TV.Table (20);\n-   --  Maps flag numbers to letters\n-\n-   N_Fields : constant Pattern := BreakX (\"J\");\n-   E_Fields : constant Pattern := BreakX (\"5EFGHIJOP\");\n-   U_Fields : constant Pattern := BreakX (\"1345EFGHIJKOPQ\");\n-   B_Fields : constant Pattern := BreakX (\"12345EFGHIJKOPQ\");\n-\n-   Line : VString;\n-   Bad  : Boolean;\n-\n-   Field       : constant VString := Nul;\n-   Fields_Used : VString := Nul;\n-   Name        : constant VString := Nul;\n-   Next        : constant VString := Nul;\n-   Node        : VString := Nul;\n-   Ref         : VString := Nul;\n-   Synonym     : constant VString := Nul;\n-   Nxtref      : constant VString := Nul;\n-\n-   Which_Field : aliased VString := Nul;\n-\n-   Node_Search : constant Pattern := WSP & \"--  N_\" & Rest * Node;\n-   Break_Punc  : constant Pattern := Break (\" .,\");\n-   Plus_Binary : constant Pattern := WSP\n-                                     & \"--  plus fields for binary operator\";\n-   Plus_Unary  : constant Pattern := WSP\n-                                     & \"--  plus fields for unary operator\";\n-   Plus_Expr   : constant Pattern := WSP\n-                                     & \"--  plus fields for expression\";\n-   Break_Syn   : constant Pattern := WSP &  \"--  \"\n-                                     & Break (' ') * Synonym\n-                                     & \" (\" & Break (')') * Field;\n-   Break_Field : constant Pattern := BreakX ('-') * Field;\n-   Get_Field   : constant Pattern := BreakX (Decimal_Digit_Set)\n-                                     & Span (Decimal_Digit_Set) * Which_Field;\n-   Break_WFld  : constant Pattern := Break (Which_Field'Access);\n-   Get_Funcsyn : constant Pattern := WSP & \"function \" & Rest * Synonym;\n-   Extr_Field  : constant Pattern := BreakX ('-') & \"-- \" & Rest * Field;\n-   Get_Procsyn : constant Pattern := WSP & \"procedure Set_\" & Rest * Synonym;\n-   Get_Inline  : constant Pattern := WSP & \"pragma Inline (\"\n-                                     & Break (')') * Name;\n-   Set_Name    : constant Pattern := \"Set_\" & Rest * Name;\n-   Func_Rest   : constant Pattern := \"   function \" & Rest * Synonym;\n-   Get_Nxtref  : constant Pattern := Break (',') * Nxtref & ',';\n-   Test_Syn    : constant Pattern := Break ('=') & \"= N_\"\n-                                     & (Break (\" ,)\") or Rest) * Next;\n-   Chop_Comma  : constant Pattern := BreakX (',') * Next;\n-   Return_Fld  : constant Pattern := WSP & \"return \" & Break (' ') * Field;\n-   Set_Syn     : constant Pattern := \"   procedure Set_\" & Rest * Synonym;\n-   Set_Fld     : constant Pattern := WSP & \"Set_\" & Break (' ') * Field\n-                                     & \" (N, Val)\";\n-   Break_With  : constant Pattern := Break ('_') ** Field & \"_With_Parent\";\n-\n-   type VStringA is array (Natural range <>) of VString;\n-\n-   procedure Next_Line;\n-   --  Read next line trimmed from Infil into Line and bump Lineno\n-\n-   procedure Sort (A : in out VStringA);\n-   --  Sort a (small) array of VString's\n-\n-   procedure Next_Line is\n-   begin\n-      Line := Get_Line (Infil);\n-      Trim (Line);\n-      Lineno := Lineno + 1;\n-   end Next_Line;\n-\n-   procedure Sort (A : in out VStringA) is\n-      Temp : VString;\n-   begin\n-      <<Sort>>\n-         for J in 1 .. A'Length - 1 loop\n-            if A (J) > A (J + 1) then\n-               Temp := A (J);\n-               A (J) := A (J + 1);\n-               A (J + 1) := Temp;\n-               goto Sort;\n-            end if;\n-         end loop;\n-   end Sort;\n-\n---  Start of processing for CSinfo\n-\n-begin\n-   Anchored_Mode := True;\n-   New_Line;\n-   Open (Infil, In_File, \"sinfo.ads\");\n-   Put_Line (\"Check for field name consistency\");\n-\n-   --  Setup table for mapping flag numbers to letters\n-\n-   Set (Flags, \"4\",  V (\"D\"));\n-   Set (Flags, \"5\",  V (\"E\"));\n-   Set (Flags, \"6\",  V (\"F\"));\n-   Set (Flags, \"7\",  V (\"G\"));\n-   Set (Flags, \"8\",  V (\"H\"));\n-   Set (Flags, \"9\",  V (\"I\"));\n-   Set (Flags, \"10\", V (\"J\"));\n-   Set (Flags, \"11\", V (\"K\"));\n-   Set (Flags, \"12\", V (\"L\"));\n-   Set (Flags, \"13\", V (\"M\"));\n-   Set (Flags, \"14\", V (\"N\"));\n-   Set (Flags, \"15\", V (\"O\"));\n-   Set (Flags, \"16\", V (\"P\"));\n-   Set (Flags, \"17\", V (\"Q\"));\n-   Set (Flags, \"18\", V (\"R\"));\n-\n-   --  Special fields table. The following names are not recorded or checked\n-   --  by Csinfo, since they are specially handled. This means that any field\n-   --  definition or subprogram with a matching name is ignored.\n-\n-   Set (Special, \"Analyzed\",                         True);\n-   Set (Special, \"Assignment_OK\",                    True);\n-   Set (Special, \"Associated_Node\",                  True);\n-   Set (Special, \"Cannot_Be_Constant\",               True);\n-   Set (Special, \"Chars\",                            True);\n-   Set (Special, \"Comes_From_Source\",                True);\n-   Set (Special, \"Do_Overflow_Check\",                True);\n-   Set (Special, \"Do_Range_Check\",                   True);\n-   Set (Special, \"Entity\",                           True);\n-   Set (Special, \"Entity_Or_Associated_Node\",        True);\n-   Set (Special, \"Error_Posted\",                     True);\n-   Set (Special, \"Etype\",                            True);\n-   Set (Special, \"Evaluate_Once\",                    True);\n-   Set (Special, \"First_Itype\",                      True);\n-   Set (Special, \"Has_Aspect_Specifications\",        True);\n-   Set (Special, \"Has_Dynamic_Itype\",                True);\n-   Set (Special, \"Has_Dynamic_Length_Check\",         True);\n-   Set (Special, \"Has_Private_View\",                 True);\n-   Set (Special, \"Is_Controlling_Actual\",            True);\n-   Set (Special, \"Is_Overloaded\",                    True);\n-   Set (Special, \"Is_Static_Expression\",             True);\n-   Set (Special, \"Left_Opnd\",                        True);\n-   Set (Special, \"Must_Not_Freeze\",                  True);\n-   Set (Special, \"Nkind_In\",                         True);\n-   Set (Special, \"Parens\",                           True);\n-   Set (Special, \"Pragma_Name\",                      True);\n-   Set (Special, \"Raises_Constraint_Error\",          True);\n-   Set (Special, \"Right_Opnd\",                       True);\n-\n-   --  Loop to acquire information from node definitions in sinfo.ads,\n-   --  checking for consistency in Op/Flag assignments to each synonym\n-\n-   loop\n-      Bad := False;\n-      Next_Line;\n-      exit when Match (Line, \"   -- Node Access Functions\");\n-\n-      if Match (Line, Node_Search)\n-        and then not Match (Node, Break_Punc)\n-      then\n-         Fields_Used := Nul;\n-\n-      elsif Node = \"\" then\n-         null;\n-\n-      elsif Line = \"\" then\n-         Node := Nul;\n-\n-      elsif Match (Line, Plus_Binary) then\n-         Bad := Match (Fields_Used, B_Fields);\n-\n-      elsif Match (Line, Plus_Unary) then\n-         Bad := Match (Fields_Used, U_Fields);\n-\n-      elsif Match (Line, Plus_Expr) then\n-         Bad := Match (Fields_Used, E_Fields);\n-\n-      elsif not Match (Line, Break_Syn) then\n-         null;\n-\n-      elsif Match (Synonym, \"plus\") then\n-         null;\n-\n-      else\n-         Match (Field, Break_Field);\n-\n-         if not Present (Special, Synonym) then\n-            if Present (Fields, Synonym) then\n-               if Field /= Get (Fields, Synonym) then\n-                  Put_Line\n-                    (\"Inconsistent field reference at line\" &\n-                     Lineno'Img & \" for \" & Synonym);\n-                  raise Done;\n-               end if;\n-\n-            else\n-               Set (Fields, Synonym, Field);\n-            end if;\n-\n-            Set (Refs, Synonym, Node & ',' & Get (Refs, Synonym));\n-            Match (Field, Get_Field);\n-\n-            if Match (Field, \"Flag\") then\n-               Which_Field := Get (Flags, Which_Field);\n-            end if;\n-\n-            if Match (Fields_Used, Break_WFld) then\n-               Put_Line\n-                 (\"Overlapping field at line \" & Lineno'Img &\n-                  \" for \" & Synonym);\n-               raise Done;\n-            end if;\n-\n-            Append (Fields_Used, Which_Field);\n-            Bad := Bad or Match (Fields_Used, N_Fields);\n-         end if;\n-      end if;\n-\n-      if Bad then\n-         Put_Line (\"fields conflict with standard fields for node \" & Node);\n-         raise Done;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for function consistency\");\n-\n-   --  Loop through field function definitions to make sure they are OK\n-\n-   Fields1 := Fields;\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Node Update\");\n-\n-      if Match (Line, Get_Funcsyn)\n-        and then not Present (Special, Synonym)\n-      then\n-         if not Present (Fields1, Synonym) then\n-            Put_Line\n-              (\"function on line \" &  Lineno &\n-               \" is for unused synonym\");\n-            raise Done;\n-         end if;\n-\n-         Next_Line;\n-\n-         if not Match (Line, Extr_Field) then\n-            raise Err;\n-         end if;\n-\n-         if Field /= Get (Fields1, Synonym) then\n-            Put_Line (\"Wrong field in function \" & Synonym);\n-            raise Done;\n-\n-         else\n-            Delete (Fields1, Synonym);\n-         end if;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for missing functions\");\n-\n-   declare\n-      List : constant TV.Table_Array := Convert_To_Array (Fields1);\n-\n-   begin\n-      if List'Length > 0 then\n-         Put_Line (\"No function for field synonym \" & List (1).Name);\n-         raise Done;\n-      end if;\n-   end;\n-\n-   --  Check field set procedures\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for set procedure consistency\");\n-\n-   Fields1 := Fields;\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Inline Pragmas\");\n-      exit when Match (Line, \"   -- Iterator Procedures\");\n-\n-      if Match (Line, Get_Procsyn)\n-        and then not Present (Special, Synonym)\n-      then\n-         if not Present (Fields1, Synonym) then\n-            Put_Line\n-              (\"procedure on line \" & Lineno & \" is for unused synonym\");\n-            raise Done;\n-         end if;\n-\n-         Next_Line;\n-\n-         if not Match (Line, Extr_Field) then\n-            raise Err;\n-         end if;\n-\n-         if Field /= Get (Fields1, Synonym) then\n-            Put_Line (\"Wrong field in procedure Set_\" & Synonym);\n-            raise Done;\n-\n-         else\n-            Delete (Fields1, Synonym);\n-         end if;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for missing set procedures\");\n-\n-   declare\n-      List : constant TV.Table_Array := Convert_To_Array (Fields1);\n-\n-   begin\n-      if List'Length > 0 then\n-         Put_Line (\"No procedure for field synonym Set_\" & List (1).Name);\n-         raise Done;\n-      end if;\n-   end;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check pragma Inlines are all for existing subprograms\");\n-\n-   Clear (Fields1);\n-   while not End_Of_File (Infil) loop\n-      Next_Line;\n-\n-      if Match (Line, Get_Inline)\n-        and then not Present (Special, Name)\n-      then\n-         exit when Match (Name, Set_Name);\n-\n-         if not Present (Fields, Name) then\n-            Put_Line\n-              (\"Pragma Inline on line \" & Lineno &\n-               \" does not correspond to synonym\");\n-            raise Done;\n-\n-         else\n-            Set (Inlines, Name, Get (Inlines, Name) & 'r');\n-         end if;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check no pragma Inlines were omitted\");\n-\n-   declare\n-      List : constant TV.Table_Array := Convert_To_Array (Fields);\n-      Nxt  : VString := Nul;\n-\n-   begin\n-      for M in List'Range loop\n-         Nxt := List (M).Name;\n-\n-         if Get (Inlines, Nxt) /= \"r\" then\n-            Put_Line (\"Incorrect pragma Inlines for \" & Nxt);\n-            raise Done;\n-         end if;\n-      end loop;\n-   end;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Clear (Inlines);\n-\n-   Close (Infil);\n-   Open (Infil, In_File, \"sinfo.adb\");\n-   Lineno := 0;\n-   Put_Line (\"Check references in functions in body\");\n-\n-   Refscopy := Refs;\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Field Access Functions --\");\n-   end loop;\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"   -- Field Set Procedures --\");\n-\n-      if Match (Line, Func_Rest)\n-        and then not Present (Special, Synonym)\n-      then\n-         Ref := Get (Refs, Synonym);\n-         Delete (Refs, Synonym);\n-\n-         if Ref = \"\" then\n-            Put_Line\n-              (\"Function on line \" & Lineno & \" is for unknown synonym\");\n-            raise Err;\n-         end if;\n-\n-         --  Alpha sort of references for this entry\n-\n-         declare\n-            Refa   : VStringA (1 .. 100);\n-            N      : Natural := 0;\n-\n-         begin\n-            loop\n-               exit when not Match (Ref, Get_Nxtref, Nul);\n-               N := N + 1;\n-               Refa (N) := Nxtref;\n-            end loop;\n-\n-            Sort (Refa (1 .. N));\n-            Next_Line;\n-            Next_Line;\n-            Next_Line;\n-\n-            --  Checking references for one entry\n-\n-            for M in 1 .. N loop\n-               Next_Line;\n-\n-               if not Match (Line, Test_Syn) then\n-                  Put_Line (\"Expecting N_\" & Refa (M) & \" at line \" & Lineno);\n-                  raise Done;\n-               end if;\n-\n-               Match (Next, Chop_Comma);\n-\n-               if Next /= Refa (M) then\n-                  Put_Line (\"Expecting N_\" & Refa (M) & \" at line \" & Lineno);\n-                  raise Done;\n-               end if;\n-            end loop;\n-\n-            Next_Line;\n-            Match (Line, Return_Fld);\n-\n-            if Field /= Get (Fields, Synonym) then\n-               Put_Line\n-                (\"Wrong field for function \" & Synonym & \" at line \" &\n-                 Lineno & \" should be \" & Get (Fields, Synonym));\n-               raise Done;\n-            end if;\n-         end;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for missing functions in body\");\n-\n-   declare\n-      List : constant TV.Table_Array := Convert_To_Array (Refs);\n-\n-   begin\n-      if List'Length /= 0 then\n-         Put_Line (\"Missing function \" & List (1).Name & \" in body\");\n-         raise Done;\n-      end if;\n-   end;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check Set procedures in body\");\n-   Refs := Refscopy;\n-\n-   loop\n-      Next_Line;\n-      exit when Match (Line, \"end\");\n-      exit when Match (Line, \"   -- Iterator Procedures\");\n-\n-      if Match (Line, Set_Syn)\n-        and then not Present (Special, Synonym)\n-      then\n-         Ref := Get (Refs, Synonym);\n-         Delete (Refs, Synonym);\n-\n-         if Ref = \"\" then\n-            Put_Line\n-              (\"Function on line \" & Lineno & \" is for unknown synonym\");\n-            raise Err;\n-         end if;\n-\n-         --  Alpha sort of references for this entry\n-\n-         declare\n-            Refa   : VStringA (1 .. 100);\n-            N      : Natural;\n-\n-         begin\n-            N := 0;\n-\n-            loop\n-               exit when not Match (Ref, Get_Nxtref, Nul);\n-               N := N + 1;\n-               Refa (N) := Nxtref;\n-            end loop;\n-\n-            Sort (Refa (1 .. N));\n-\n-            Next_Line;\n-            Next_Line;\n-            Next_Line;\n-\n-            --  Checking references for one entry\n-\n-            for M in 1 .. N loop\n-               Next_Line;\n-\n-               if not Match (Line, Test_Syn)\n-                 or else Next /= Refa (M)\n-               then\n-                  Put_Line (\"Expecting N_\" & Refa (M) & \" at line \" & Lineno);\n-                  raise Err;\n-               end if;\n-            end loop;\n-\n-            loop\n-               Next_Line;\n-               exit when Match (Line, Set_Fld);\n-            end loop;\n-\n-            Match (Field, Break_With);\n-\n-            if Field /= Get (Fields, Synonym) then\n-               Put_Line\n-                 (\"Wrong field for procedure Set_\" & Synonym &\n-                  \" at line \" & Lineno & \" should be \" &\n-                  Get (Fields, Synonym));\n-               raise Done;\n-            end if;\n-\n-            Delete (Fields1, Synonym);\n-         end;\n-      end if;\n-   end loop;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"Check for missing set procedures in body\");\n-\n-   declare\n-      List : constant TV.Table_Array := Convert_To_Array (Fields1);\n-   begin\n-      if List'Length /= 0 then\n-         Put_Line (\"Missing procedure Set_\" & List (1).Name & \" in body\");\n-         raise Done;\n-      end if;\n-   end;\n-\n-   Put_Line (\"     OK\");\n-   New_Line;\n-   Put_Line (\"All tests completed successfully, no errors detected\");\n-\n-end CSinfo;"}, {"sha": "44cb69c8ccaf3b8c74d0a4e8f15e2d628ba6b7cf", "filename": "gcc/ada/cstand.adb", "status": "modified", "additions": 131, "deletions": 125, "changes": 256, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstand.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstand.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcstand.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,28 +23,32 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Atree;    use Atree;\n-with Csets;    use Csets;\n-with Debug;    use Debug;\n-with Einfo;    use Einfo;\n-with Elists;   use Elists;\n-with Layout;   use Layout;\n-with Namet;    use Namet;\n-with Nlists;   use Nlists;\n-with Nmake;    use Nmake;\n-with Opt;      use Opt;\n-with Output;   use Output;\n-with Set_Targ; use Set_Targ;\n-with Targparm; use Targparm;\n-with Tbuild;   use Tbuild;\n-with Ttypes;   use Ttypes;\n-with Sem_Mech; use Sem_Mech;\n-with Sem_Util; use Sem_Util;\n-with Sinfo;    use Sinfo;\n-with Snames;   use Snames;\n-with Stand;    use Stand;\n-with Uintp;    use Uintp;\n-with Urealp;   use Urealp;\n+with Atree;          use Atree;\n+with Csets;          use Csets;\n+with Debug;          use Debug;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Elists;         use Elists;\n+with Layout;         use Layout;\n+with Namet;          use Namet;\n+with Nlists;         use Nlists;\n+with Nmake;          use Nmake;\n+with Opt;            use Opt;\n+with Output;         use Output;\n+with Set_Targ;       use Set_Targ;\n+with Targparm;       use Targparm;\n+with Tbuild;         use Tbuild;\n+with Ttypes;         use Ttypes;\n+with Sem_Mech;       use Sem_Mech;\n+with Sem_Util;       use Sem_Util;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n+with Snames;         use Snames;\n+with Stand;          use Stand;\n+with Uintp;          use Uintp;\n+with Urealp;         use Urealp;\n \n package body CStand is\n \n@@ -129,12 +133,12 @@ package body CStand is\n    --  Returns an identifier node with the same name as the defining identifier\n    --  corresponding to the given Standard_Entity_Type value.\n \n-   procedure Make_Component\n+   procedure Make_Aliased_Component\n      (Rec : Entity_Id;\n       Typ : Entity_Id;\n       Nam : String);\n-   --  Build a record component with the given type and name, and append to\n-   --  the list of components of Rec.\n+   --  Build an aliased record component with the given type and name,\n+   --  and append to the list of components of Rec.\n \n    function Make_Formal (Typ : Entity_Id; Nam : String) return Entity_Id;\n    --  Construct entity for subprogram formal with given name and type\n@@ -199,7 +203,7 @@ package body CStand is\n         Make_Floating_Point_Definition (Stloc,\n           Digits_Expression => Make_Integer (UI_From_Int (Digs))));\n \n-      Set_Ekind                      (E, E_Floating_Point_Type);\n+      Mutate_Ekind                   (E, E_Floating_Point_Type);\n       Set_Etype                      (E, E);\n       Init_Digits_Value              (E, Digs);\n       Set_Float_Rep                  (E, Rep);\n@@ -243,7 +247,7 @@ package body CStand is\n           Low_Bound  => Make_Integer (Lbound),\n           High_Bound => Make_Integer (Ubound)));\n \n-      Set_Ekind                      (E, E_Signed_Integer_Type);\n+      Mutate_Ekind                   (E, E_Signed_Integer_Type);\n       Set_Etype                      (E, E);\n       Init_Size                      (E, Siz);\n       Set_Elem_Alignment             (E);\n@@ -268,7 +272,7 @@ package body CStand is\n    begin\n       Set_Defining_Identifier (Decl, Uns);\n \n-      Set_Ekind                      (Uns, E_Modular_Integer_Type);\n+      Mutate_Ekind                   (Uns, E_Modular_Integer_Type);\n       Set_Scope                      (Uns, Standard_Standard);\n       Set_Etype                      (Uns, Uns);\n       Init_Size                      (Uns, Siz);\n@@ -463,7 +467,7 @@ package body CStand is\n \n       procedure Build_Exception (S : Standard_Entity_Type) is\n       begin\n-         Set_Ekind     (Standard_Entity (S), E_Exception);\n+         Mutate_Ekind  (Standard_Entity (S), E_Exception);\n          Set_Etype     (Standard_Entity (S), Standard_Exception_Type);\n          Set_Is_Public (Standard_Entity (S), True);\n \n@@ -603,7 +607,7 @@ package body CStand is\n       Set_Defining_Unit_Name (Pspec, Standard_Standard);\n       Set_Visible_Declarations (Pspec, Decl_S);\n \n-      Set_Ekind (Standard_Standard, E_Package);\n+      Mutate_Ekind (Standard_Standard, E_Package);\n       Set_Is_Pure (Standard_Standard);\n       Set_Is_Compilation_Unit (Standard_Standard);\n \n@@ -645,7 +649,7 @@ package body CStand is\n       Append (Standard_True, Literals (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_Boolean), Tdef_Node);\n \n-      Set_Ekind          (Standard_Boolean, E_Enumeration_Type);\n+      Mutate_Ekind       (Standard_Boolean, E_Enumeration_Type);\n       Set_First_Literal  (Standard_Boolean, Standard_False);\n       Set_Etype          (Standard_Boolean, Standard_Boolean);\n       Init_Esize         (Standard_Boolean, Standard_Character_Size);\n@@ -656,13 +660,13 @@ package body CStand is\n       Set_Size_Known_At_Compile_Time (Standard_Boolean);\n       Set_Has_Pragma_Ordered         (Standard_Boolean);\n \n-      Set_Ekind           (Standard_True, E_Enumeration_Literal);\n+      Mutate_Ekind        (Standard_True, E_Enumeration_Literal);\n       Set_Etype           (Standard_True, Standard_Boolean);\n       Set_Enumeration_Pos (Standard_True, Uint_1);\n       Set_Enumeration_Rep (Standard_True, Uint_1);\n       Set_Is_Known_Valid  (Standard_True, True);\n \n-      Set_Ekind           (Standard_False, E_Enumeration_Literal);\n+      Mutate_Ekind        (Standard_False, E_Enumeration_Literal);\n       Set_Etype           (Standard_False, Standard_Boolean);\n       Set_Enumeration_Pos (Standard_False, Uint_0);\n       Set_Enumeration_Rep (Standard_False, Uint_0);\n@@ -751,7 +755,7 @@ package body CStand is\n       Tdef_Node := New_Node (N_Enumeration_Type_Definition, Stloc);\n       Set_Type_Definition (Parent (Standard_Character), Tdef_Node);\n \n-      Set_Ekind          (Standard_Character, E_Enumeration_Type);\n+      Mutate_Ekind       (Standard_Character, E_Enumeration_Type);\n       Set_Etype          (Standard_Character, Standard_Character);\n       Init_Esize         (Standard_Character, Standard_Character_Size);\n       Init_RM_Size       (Standard_Character, 8);\n@@ -798,7 +802,7 @@ package body CStand is\n       Tdef_Node := New_Node (N_Enumeration_Type_Definition, Stloc);\n       Set_Type_Definition (Parent (Standard_Wide_Character), Tdef_Node);\n \n-      Set_Ekind      (Standard_Wide_Character, E_Enumeration_Type);\n+      Mutate_Ekind   (Standard_Wide_Character, E_Enumeration_Type);\n       Set_Etype      (Standard_Wide_Character, Standard_Wide_Character);\n       Init_Size      (Standard_Wide_Character, Standard_Wide_Character_Size);\n \n@@ -817,7 +821,7 @@ package body CStand is\n \n       B_Node := New_Node (N_Character_Literal, Stloc);\n       Set_Is_Static_Expression (B_Node);\n-      Set_Chars                (B_Node, No_Name);    --  ???\n+      Set_Chars                (B_Node, No_Name);\n       Set_Char_Literal_Value   (B_Node, Uint_0);\n       Set_Entity               (B_Node, Empty);\n       Set_Etype                (B_Node, Standard_Wide_Character);\n@@ -827,7 +831,7 @@ package body CStand is\n \n       B_Node := New_Node (N_Character_Literal, Stloc);\n       Set_Is_Static_Expression (B_Node);\n-      Set_Chars                (B_Node, No_Name);    --  ???\n+      Set_Chars                (B_Node, No_Name);\n       Set_Char_Literal_Value   (B_Node, UI_From_Int (16#FFFF#));\n       Set_Entity               (B_Node, Empty);\n       Set_Etype                (B_Node, Standard_Wide_Character);\n@@ -844,7 +848,7 @@ package body CStand is\n       Tdef_Node := New_Node (N_Enumeration_Type_Definition, Stloc);\n       Set_Type_Definition (Parent (Standard_Wide_Wide_Character), Tdef_Node);\n \n-      Set_Ekind (Standard_Wide_Wide_Character, E_Enumeration_Type);\n+      Mutate_Ekind (Standard_Wide_Wide_Character, E_Enumeration_Type);\n       Set_Etype (Standard_Wide_Wide_Character,\n                  Standard_Wide_Wide_Character);\n       Init_Size (Standard_Wide_Wide_Character,\n@@ -866,7 +870,7 @@ package body CStand is\n \n       B_Node := New_Node (N_Character_Literal, Stloc);\n       Set_Is_Static_Expression (B_Node);\n-      Set_Chars                (B_Node, No_Name);    --  ???\n+      Set_Chars                (B_Node, No_Name);\n       Set_Char_Literal_Value   (B_Node, Uint_0);\n       Set_Entity               (B_Node, Empty);\n       Set_Etype                (B_Node, Standard_Wide_Wide_Character);\n@@ -876,7 +880,7 @@ package body CStand is\n \n       B_Node := New_Node (N_Character_Literal, Stloc);\n       Set_Is_Static_Expression (B_Node);\n-      Set_Chars                (B_Node, No_Name);    --  ???\n+      Set_Chars                (B_Node, No_Name);\n       Set_Char_Literal_Value   (B_Node, UI_From_Int (16#7FFF_FFFF#));\n       Set_Entity               (B_Node, Empty);\n       Set_Etype                (B_Node, Standard_Wide_Wide_Character);\n@@ -904,17 +908,17 @@ package body CStand is\n       Append (Identifier_For (S_Positive), Subtype_Marks (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_String), Tdef_Node);\n \n-      Set_Ekind           (Standard_String, E_Array_Type);\n+      Mutate_Ekind        (Standard_String, E_Array_Type);\n       Set_Etype           (Standard_String, Standard_String);\n       Set_Component_Type  (Standard_String, Standard_Character);\n       Set_Component_Size  (Standard_String, Uint_8);\n       Init_Size_Align     (Standard_String);\n       Set_Alignment       (Standard_String, Uint_1);\n       Pack_String_Type    (Standard_String);\n \n-      --  On targets where a storage unit is larger than a byte (such as AAMP),\n-      --  pragma Pack has a real effect on the representation of type String,\n-      --  and the type must be marked as having a nonstandard representation.\n+      --  On targets where a storage unit is larger than a byte, pragma Pack\n+      --  has a real effect on the representation of type String, and the type\n+      --  must be marked as having a nonstandard representation.\n \n       if System_Storage_Unit > Uint_8 then\n          Set_Has_Non_Standard_Rep (Standard_String);\n@@ -948,7 +952,7 @@ package body CStand is\n       Append (Identifier_For (S_Positive), Subtype_Marks (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_Wide_String), Tdef_Node);\n \n-      Set_Ekind           (Standard_Wide_String, E_Array_Type);\n+      Mutate_Ekind        (Standard_Wide_String, E_Array_Type);\n       Set_Etype           (Standard_Wide_String, Standard_Wide_String);\n       Set_Component_Type  (Standard_Wide_String, Standard_Wide_Character);\n       Set_Component_Size  (Standard_Wide_String, Uint_16);\n@@ -983,7 +987,7 @@ package body CStand is\n       Append (Identifier_For (S_Positive), Subtype_Marks (Tdef_Node));\n       Set_Type_Definition (Parent (Standard_Wide_Wide_String), Tdef_Node);\n \n-      Set_Ekind            (Standard_Wide_Wide_String, E_Array_Type);\n+      Mutate_Ekind         (Standard_Wide_Wide_String, E_Array_Type);\n       Set_Etype            (Standard_Wide_Wide_String,\n                             Standard_Wide_Wide_String);\n       Set_Component_Type   (Standard_Wide_Wide_String,\n@@ -1005,7 +1009,7 @@ package body CStand is\n \n       --  Setup entity for Natural\n \n-      Set_Ekind          (Standard_Natural, E_Signed_Integer_Subtype);\n+      Mutate_Ekind       (Standard_Natural, E_Signed_Integer_Subtype);\n       Set_Etype          (Standard_Natural, Base_Type (Standard_Integer));\n       Init_Esize         (Standard_Natural, Standard_Integer_Size);\n       Init_RM_Size       (Standard_Natural, Standard_Integer_Size - 1);\n@@ -1020,7 +1024,7 @@ package body CStand is\n \n       --  Setup entity for Positive\n \n-      Set_Ekind          (Standard_Positive, E_Signed_Integer_Subtype);\n+      Mutate_Ekind       (Standard_Positive, E_Signed_Integer_Subtype);\n       Set_Etype          (Standard_Positive, Base_Type (Standard_Integer));\n       Init_Esize         (Standard_Positive, Standard_Integer_Size);\n       Init_RM_Size       (Standard_Positive, Standard_Integer_Size - 1);\n@@ -1043,7 +1047,7 @@ package body CStand is\n       Set_Specification (Decl, Pspec);\n \n       Set_Defining_Unit_Name (Pspec, Standard_Entity (S_ASCII));\n-      Set_Ekind (Standard_Entity (S_ASCII), E_Package);\n+      Mutate_Ekind (Standard_Entity (S_ASCII), E_Package);\n       Set_Visible_Declarations (Pspec, Decl_A);\n \n       --  Create control character definitions in package ASCII. Note that\n@@ -1063,7 +1067,7 @@ package body CStand is\n \n          begin\n             Set_Sloc                   (A_Char, Staloc);\n-            Set_Ekind                  (A_Char, E_Constant);\n+            Mutate_Ekind               (A_Char, E_Constant);\n             Set_Never_Set_In_Source    (A_Char, True);\n             Set_Is_True_Constant       (A_Char, True);\n             Set_Etype                  (A_Char, Standard_Character);\n@@ -1105,7 +1109,7 @@ package body CStand is\n       --  Create semantic phase entities\n \n       Standard_Void_Type := New_Standard_Entity (\"_void_type\");\n-      Set_Ekind       (Standard_Void_Type, E_Void);\n+      pragma Assert (Ekind (Standard_Void_Type) = E_Void); -- it's the default\n       Set_Etype       (Standard_Void_Type, Standard_Void_Type);\n       Set_Scope       (Standard_Void_Type, Standard_Standard);\n \n@@ -1118,7 +1122,7 @@ package body CStand is\n       --  type name that is reasonable, but does not overlap any Ada name.\n \n       Standard_A_String := New_Standard_Entity (\"access_string\");\n-      Set_Ekind      (Standard_A_String, E_Access_Type);\n+      Mutate_Ekind   (Standard_A_String, E_Access_Type);\n       Set_Scope      (Standard_A_String, Standard_Standard);\n       Set_Etype      (Standard_A_String, Standard_A_String);\n \n@@ -1134,7 +1138,7 @@ package body CStand is\n                      (Standard_A_String, Standard_String);\n \n       Standard_A_Char := New_Standard_Entity (\"access_character\");\n-      Set_Ekind          (Standard_A_Char, E_Access_Type);\n+      Mutate_Ekind       (Standard_A_Char, E_Access_Type);\n       Set_Scope          (Standard_A_Char, Standard_Standard);\n       Set_Etype          (Standard_A_Char, Standard_A_String);\n       Init_Size          (Standard_A_Char, System_Address_Size);\n@@ -1149,7 +1153,7 @@ package body CStand is\n \n       Standard_Debug_Renaming_Type := New_Standard_Entity (\"_renaming_type\");\n \n-      Set_Ekind (Standard_Debug_Renaming_Type, E_Signed_Integer_Subtype);\n+      Mutate_Ekind (Standard_Debug_Renaming_Type, E_Signed_Integer_Subtype);\n       Set_Scope (Standard_Debug_Renaming_Type, Standard_Standard);\n       Set_Etype (Standard_Debug_Renaming_Type, Base_Type (Standard_Integer));\n       Init_Esize          (Standard_Debug_Renaming_Type, 0);\n@@ -1179,14 +1183,14 @@ package body CStand is\n       Build_Signed_Integer_Type (Any_Type, Standard_Integer_Size);\n \n       Any_Id := New_Standard_Entity (\"any id\");\n-      Set_Ekind             (Any_Id, E_Variable);\n+      Mutate_Ekind          (Any_Id, E_Variable);\n       Set_Scope             (Any_Id, Standard_Standard);\n       Set_Etype             (Any_Id, Any_Type);\n       Init_Esize            (Any_Id);\n       Init_Alignment        (Any_Id);\n \n       Any_Access := New_Standard_Entity (\"an access type\");\n-      Set_Ekind             (Any_Access, E_Access_Type);\n+      Mutate_Ekind          (Any_Access, E_Access_Type);\n       Set_Scope             (Any_Access, Standard_Standard);\n       Set_Etype             (Any_Access, Any_Access);\n       Init_Size             (Any_Access, System_Address_Size);\n@@ -1195,7 +1199,7 @@ package body CStand is\n                             (Any_Access, Any_Type);\n \n       Any_Character := New_Standard_Entity (\"a character type\");\n-      Set_Ekind             (Any_Character, E_Enumeration_Type);\n+      Mutate_Ekind          (Any_Character, E_Enumeration_Type);\n       Set_Scope             (Any_Character, Standard_Standard);\n       Set_Etype             (Any_Character, Any_Character);\n       Set_Is_Unsigned_Type  (Any_Character);\n@@ -1206,15 +1210,15 @@ package body CStand is\n       Set_Scalar_Range      (Any_Character, Scalar_Range (Standard_Character));\n \n       Any_Array := New_Standard_Entity (\"an array type\");\n-      Set_Ekind             (Any_Array, E_Array_Type);\n+      Mutate_Ekind          (Any_Array, E_Array_Type);\n       Set_Scope             (Any_Array, Standard_Standard);\n       Set_Etype             (Any_Array, Any_Array);\n       Set_Component_Type    (Any_Array, Any_Character);\n       Init_Size_Align       (Any_Array);\n       Make_Dummy_Index      (Any_Array);\n \n       Any_Boolean := New_Standard_Entity (\"a boolean type\");\n-      Set_Ekind             (Any_Boolean, E_Enumeration_Type);\n+      Mutate_Ekind          (Any_Boolean, E_Enumeration_Type);\n       Set_Scope             (Any_Boolean, Standard_Standard);\n       Set_Etype             (Any_Boolean, Standard_Boolean);\n       Init_Esize            (Any_Boolean, Standard_Character_Size);\n@@ -1224,29 +1228,29 @@ package body CStand is\n       Set_Scalar_Range      (Any_Boolean, Scalar_Range (Standard_Boolean));\n \n       Any_Composite := New_Standard_Entity (\"a composite type\");\n-      Set_Ekind             (Any_Composite, E_Array_Type);\n+      Mutate_Ekind          (Any_Composite, E_Array_Type);\n       Set_Scope             (Any_Composite, Standard_Standard);\n       Set_Etype             (Any_Composite, Any_Composite);\n       Set_Component_Size    (Any_Composite, Uint_0);\n       Set_Component_Type    (Any_Composite, Standard_Integer);\n       Init_Size_Align       (Any_Composite);\n \n       Any_Discrete := New_Standard_Entity (\"a discrete type\");\n-      Set_Ekind             (Any_Discrete, E_Signed_Integer_Type);\n+      Mutate_Ekind          (Any_Discrete, E_Signed_Integer_Type);\n       Set_Scope             (Any_Discrete, Standard_Standard);\n       Set_Etype             (Any_Discrete, Any_Discrete);\n       Init_Size             (Any_Discrete, Standard_Integer_Size);\n       Set_Elem_Alignment    (Any_Discrete);\n \n       Any_Fixed := New_Standard_Entity (\"a fixed-point type\");\n-      Set_Ekind             (Any_Fixed, E_Ordinary_Fixed_Point_Type);\n+      Mutate_Ekind          (Any_Fixed, E_Ordinary_Fixed_Point_Type);\n       Set_Scope             (Any_Fixed, Standard_Standard);\n       Set_Etype             (Any_Fixed, Any_Fixed);\n       Init_Size             (Any_Fixed, Standard_Integer_Size);\n       Set_Elem_Alignment    (Any_Fixed);\n \n       Any_Integer := New_Standard_Entity (\"an integer type\");\n-      Set_Ekind            (Any_Integer, E_Signed_Integer_Type);\n+      Mutate_Ekind         (Any_Integer, E_Signed_Integer_Type);\n       Set_Scope            (Any_Integer, Standard_Standard);\n       Set_Etype            (Any_Integer, Standard_Long_Long_Long_Integer);\n       Init_Size            (Any_Integer, Standard_Long_Long_Long_Integer_Size);\n@@ -1259,37 +1263,37 @@ package body CStand is\n          Hb  => Intval (High_Bound (Scalar_Range (Standard_Integer))));\n \n       Any_Modular := New_Standard_Entity (\"a modular type\");\n-      Set_Ekind            (Any_Modular, E_Modular_Integer_Type);\n+      Mutate_Ekind         (Any_Modular, E_Modular_Integer_Type);\n       Set_Scope            (Any_Modular, Standard_Standard);\n       Set_Etype            (Any_Modular, Standard_Long_Long_Long_Integer);\n       Init_Size            (Any_Modular, Standard_Long_Long_Long_Integer_Size);\n       Set_Elem_Alignment   (Any_Modular);\n       Set_Is_Unsigned_Type (Any_Modular);\n \n       Any_Numeric := New_Standard_Entity (\"a numeric type\");\n-      Set_Ekind            (Any_Numeric, E_Signed_Integer_Type);\n+      Mutate_Ekind         (Any_Numeric, E_Signed_Integer_Type);\n       Set_Scope            (Any_Numeric, Standard_Standard);\n       Set_Etype            (Any_Numeric, Standard_Long_Long_Long_Integer);\n       Init_Size            (Any_Numeric, Standard_Long_Long_Long_Integer_Size);\n       Set_Elem_Alignment   (Any_Numeric);\n \n       Any_Real := New_Standard_Entity (\"a real type\");\n-      Set_Ekind             (Any_Real, E_Floating_Point_Type);\n+      Mutate_Ekind          (Any_Real, E_Floating_Point_Type);\n       Set_Scope             (Any_Real, Standard_Standard);\n       Set_Etype             (Any_Real, Standard_Long_Long_Float);\n       Init_Size             (Any_Real,\n         UI_To_Int (Esize (Standard_Long_Long_Float)));\n       Set_Elem_Alignment    (Any_Real);\n \n       Any_Scalar := New_Standard_Entity (\"a scalar type\");\n-      Set_Ekind             (Any_Scalar, E_Signed_Integer_Type);\n+      Mutate_Ekind          (Any_Scalar, E_Signed_Integer_Type);\n       Set_Scope             (Any_Scalar, Standard_Standard);\n       Set_Etype             (Any_Scalar, Any_Scalar);\n       Init_Size             (Any_Scalar, Standard_Integer_Size);\n       Set_Elem_Alignment    (Any_Scalar);\n \n       Any_String := New_Standard_Entity (\"a string type\");\n-      Set_Ekind             (Any_String, E_Array_Type);\n+      Mutate_Ekind          (Any_String, E_Array_Type);\n       Set_Scope             (Any_String, Standard_Standard);\n       Set_Etype             (Any_String, Any_String);\n       Set_Component_Type    (Any_String, Any_Character);\n@@ -1401,7 +1405,7 @@ package body CStand is\n       Universal_Fixed := New_Standard_Entity (\"universal_fixed\");\n       Decl := New_Node (N_Full_Type_Declaration, Stloc);\n       Set_Defining_Identifier (Decl, Universal_Fixed);\n-      Set_Ekind            (Universal_Fixed, E_Ordinary_Fixed_Point_Type);\n+      Mutate_Ekind         (Universal_Fixed, E_Ordinary_Fixed_Point_Type);\n       Set_Etype            (Universal_Fixed, Universal_Fixed);\n       Set_Scope            (Universal_Fixed, Standard_Standard);\n       Init_Size            (Universal_Fixed, Standard_Long_Long_Integer_Size);\n@@ -1446,7 +1450,7 @@ package body CStand is\n \n          Set_Type_Definition (Parent (Standard_Duration), Tdef_Node);\n \n-         Set_Ekind (Standard_Duration, E_Ordinary_Fixed_Point_Type);\n+         Mutate_Ekind (Standard_Duration, E_Ordinary_Fixed_Point_Type);\n          Set_Etype (Standard_Duration, Standard_Duration);\n \n          if Duration_32_Bits_On_Target then\n@@ -1491,38 +1495,40 @@ package body CStand is\n       --  known by the run-time. Components of the record are documented in\n       --  the declaration in System.Standard_Library.\n \n-      Standard_Exception_Type := New_Standard_Entity (\"exception\");\n-      Set_Ekind       (Standard_Exception_Type, E_Record_Type);\n-      Set_Etype       (Standard_Exception_Type, Standard_Exception_Type);\n-      Set_Scope       (Standard_Exception_Type, Standard_Standard);\n-      Set_Stored_Constraint\n-                      (Standard_Exception_Type, No_Elist);\n-      Init_Size_Align (Standard_Exception_Type);\n-      Set_Size_Known_At_Compile_Time\n-                      (Standard_Exception_Type, True);\n-\n-      Make_Component\n-        (Standard_Exception_Type, Standard_Boolean,   \"Not_Handled_By_Others\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_Character, \"Lang\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_Natural,   \"Name_Length\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_A_Char,    \"Full_Name\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_A_Char,    \"HTable_Ptr\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_A_Char,    \"Foreign_Data\");\n-      Make_Component\n-        (Standard_Exception_Type, Standard_A_Char,    \"Raise_Hook\");\n-\n-      --  Build tree for record declaration, for use by the back-end\n-\n-      declare\n-         Comp_List : List_Id;\n-         Comp      : Entity_Id;\n+      Build_Exception_Type : declare\n+         Comp_List      : List_Id;\n+         Comp           : Entity_Id;\n \n       begin\n+         Standard_Exception_Type := New_Standard_Entity (\"exception\");\n+         Mutate_Ekind    (Standard_Exception_Type, E_Record_Type);\n+         Set_Etype       (Standard_Exception_Type, Standard_Exception_Type);\n+         Set_Scope       (Standard_Exception_Type, Standard_Standard);\n+         Set_Stored_Constraint\n+                         (Standard_Exception_Type, No_Elist);\n+         Init_Size_Align (Standard_Exception_Type);\n+         Set_Size_Known_At_Compile_Time\n+                         (Standard_Exception_Type, True);\n+\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_Boolean,\n+                         \"Not_Handled_By_Others\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_Character,\n+                         \"Lang\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_Natural,\n+                         \"Name_Length\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_Address,\n+                         \"Full_Name\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_A_Char,\n+                         \"HTable_Ptr\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_Address,\n+                         \"Foreign_Data\");\n+         Make_Aliased_Component (Standard_Exception_Type, Standard_A_Char,\n+                         \"Raise_Hook\");\n+\n+         Layout_Type (Standard_Exception_Type);\n+\n+         --  Build tree for record declaration, for use by the back-end\n+\n          Comp      := First_Entity (Standard_Exception_Type);\n          Comp_List := New_List;\n          while Present (Comp) loop\n@@ -1531,9 +1537,9 @@ package body CStand is\n                 Defining_Identifier => Comp,\n                 Component_Definition =>\n                   Make_Component_Definition (Stloc,\n-                    Aliased_Present    => False,\n-                    Subtype_Indication => New_Occurrence_Of (Etype (Comp),\n-                                                             Stloc))),\n+                    Aliased_Present    => True,\n+                    Subtype_Indication =>\n+                      New_Occurrence_Of (Etype (Comp), Stloc))),\n               Comp_List);\n \n             Next_Entity (Comp);\n@@ -1543,15 +1549,13 @@ package body CStand is\n            Defining_Identifier => Standard_Exception_Type,\n            Type_Definition =>\n              Make_Record_Definition (Stloc,\n-               End_Label => Empty,\n+               End_Label      => Empty,\n                Component_List =>\n                  Make_Component_List (Stloc,\n                    Component_Items => Comp_List)));\n-      end;\n-\n-      Append (Decl, Decl_S);\n \n-      Layout_Type (Standard_Exception_Type);\n+         Append (Decl, Decl_S);\n+      end Build_Exception_Type;\n \n       --  Create declarations of standard exceptions\n \n@@ -1572,7 +1576,7 @@ package body CStand is\n          Decl := New_Node (N_Exception_Renaming_Declaration, Stloc);\n          E_Id := Standard_Entity (S_Numeric_Error);\n \n-         Set_Ekind          (E_Id, E_Exception);\n+         Mutate_Ekind       (E_Id, E_Exception);\n          Set_Etype          (E_Id, Standard_Exception_Type);\n          Set_Is_Public      (E_Id);\n          Set_Renamed_Entity (E_Id, Standard_Entity (S_Constraint_Error));\n@@ -1590,7 +1594,7 @@ package body CStand is\n \n       Abort_Signal := New_Standard_Entity;\n       Set_Chars     (Abort_Signal, Name_uAbort_Signal);\n-      Set_Ekind     (Abort_Signal, E_Exception);\n+      Mutate_Ekind  (Abort_Signal, E_Exception);\n       Set_Etype     (Abort_Signal, Standard_Exception_Type);\n       Set_Scope     (Abort_Signal, Standard_Standard);\n       Set_Is_Public (Abort_Signal, True);\n@@ -1605,24 +1609,24 @@ package body CStand is\n \n       Standard_Op_Rotate_Left := New_Standard_Entity;\n       Set_Chars (Standard_Op_Rotate_Left, Name_Rotate_Left);\n-      Set_Ekind (Standard_Op_Rotate_Left, E_Operator);\n+      Mutate_Ekind (Standard_Op_Rotate_Left, E_Operator);\n \n       Standard_Op_Rotate_Right := New_Standard_Entity;\n       Set_Chars (Standard_Op_Rotate_Right, Name_Rotate_Right);\n-      Set_Ekind (Standard_Op_Rotate_Right, E_Operator);\n+      Mutate_Ekind (Standard_Op_Rotate_Right, E_Operator);\n \n       Standard_Op_Shift_Left := New_Standard_Entity;\n       Set_Chars (Standard_Op_Shift_Left, Name_Shift_Left);\n-      Set_Ekind (Standard_Op_Shift_Left, E_Operator);\n+      Mutate_Ekind (Standard_Op_Shift_Left, E_Operator);\n \n       Standard_Op_Shift_Right := New_Standard_Entity;\n       Set_Chars (Standard_Op_Shift_Right, Name_Shift_Right);\n-      Set_Ekind (Standard_Op_Shift_Right, E_Operator);\n+      Mutate_Ekind (Standard_Op_Shift_Right, E_Operator);\n \n       Standard_Op_Shift_Right_Arithmetic := New_Standard_Entity;\n       Set_Chars (Standard_Op_Shift_Right_Arithmetic,\n                                           Name_Shift_Right_Arithmetic);\n-      Set_Ekind (Standard_Op_Shift_Right_Arithmetic,\n+      Mutate_Ekind (Standard_Op_Shift_Right_Arithmetic,\n                                           E_Operator);\n \n       --  Create standard operator declarations\n@@ -1677,7 +1681,7 @@ package body CStand is\n       New_Ent : constant Entity_Id := New_Copy (E);\n \n    begin\n-      Set_Ekind            (E, K);\n+      Mutate_Ekind         (E, K);\n       Set_Is_Constrained   (E, True);\n       Set_Is_First_Subtype (E, True);\n       Set_Etype            (E, New_Ent);\n@@ -1707,25 +1711,27 @@ package body CStand is\n       return Ident_Node;\n    end Identifier_For;\n \n-   --------------------\n-   -- Make_Component --\n-   --------------------\n+   ----------------------------\n+   -- Make_Aliased_Component --\n+   ----------------------------\n \n-   procedure Make_Component\n+   procedure Make_Aliased_Component\n      (Rec : Entity_Id;\n       Typ : Entity_Id;\n       Nam : String)\n    is\n       Id : constant Entity_Id := New_Standard_Entity (Nam);\n \n    begin\n-      Set_Ekind                     (Id, E_Component);\n+      Mutate_Ekind                  (Id, E_Component);\n       Set_Etype                     (Id, Typ);\n       Set_Scope                     (Id, Rec);\n       Init_Component_Location       (Id);\n       Set_Original_Record_Component (Id, Id);\n+      Set_Is_Aliased                (Id);\n+      Set_Is_Independent            (Id);\n       Append_Entity (Id, Rec);\n-   end Make_Component;\n+   end Make_Aliased_Component;\n \n    -----------------\n    -- Make_Formal --\n@@ -1735,7 +1741,7 @@ package body CStand is\n       Formal : constant Entity_Id := New_Standard_Entity (Nam);\n \n    begin\n-      Set_Ekind     (Formal, E_In_Parameter);\n+      Mutate_Ekind  (Formal, E_In_Parameter);\n       Set_Mechanism (Formal, Default_Mechanism);\n       Set_Scope     (Formal, Standard_Standard);\n       Set_Etype     (Formal, Typ);\n@@ -1765,7 +1771,7 @@ package body CStand is\n \n    begin\n       Set_Is_Pure    (Ident_Node, True);\n-      Set_Ekind      (Ident_Node, E_Operator);\n+      Mutate_Ekind   (Ident_Node, E_Operator);\n       Set_Etype      (Ident_Node, Typ);\n       Set_Scope      (Ident_Node, Standard_Standard);\n       Set_Homonym    (Ident_Node, Get_Name_Entity_Id (Op));"}, {"sha": "78bddc6a6318fd4e4dd3733841747376aeaf3510", "filename": "gcc/ada/cstand.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstand.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstand.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcstand.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "af794c7803a02032aed06191b30690c760d31768", "filename": "gcc/ada/cstreams.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstreams.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fcstreams.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcstreams.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *              Auxiliary C functions for Interfaces.C.Streams              *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "ebb74ca6d7560fac3ba32d0df391c5b042ce600b", "filename": "gcc/ada/ctrl_c.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fctrl_c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fctrl_c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fctrl_c.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *        Copyright (C) 2002-2020, Free Software Foundation, Inc.           *\n+ *        Copyright (C) 2002-2021, Free Software Foundation, Inc.           *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "5245feb3b27bdcc35d0aeb71cd1708a5dc9478e3", "filename": "gcc/ada/debug.adb", "status": "modified", "additions": 29, "deletions": 19, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -112,7 +112,7 @@ package body Debug is\n    --  d.y  Disable implicit pragma Elaborate_All on task bodies\n    --  d.z  Restore previous support for frontend handling of Inline_Always\n \n-   --  d.A  Print Atree statistics\n+   --  d.A\n    --  d.B  Generate a bug box on abort_statement\n    --  d.C  Generate concatenation call, do not generate inline code\n    --  d.D  Disable errors on use of overriding keyword in Ada 95 mode\n@@ -125,7 +125,7 @@ package body Debug is\n    --  d.K  Do not reject components in extensions overlapping with parent\n    --  d.L  Depend on back end for limited types in if and case expressions\n    --  d.M  Relaxed RM semantics\n-   --  d.N  Add node to all entities\n+   --  d.N\n    --  d.O  Dump internal SCO tables\n    --  d.P  Previous (non-optimized) handling of length comparisons\n    --  d.Q  Previous (incomplete) style check for binary operators\n@@ -140,13 +140,13 @@ package body Debug is\n    --  d.Z  Do not enable expansion in configurable run-time mode\n \n    --  d_a  Stop elaboration checks on accept or select statement\n-   --  d_b\n+   --  d_b  Use designated type model under No_Dynamic_Accessibility_Checks\n    --  d_c  CUDA compilation : compile for the host\n    --  d_d\n    --  d_e  Ignore entry calls and requeue statements for elaboration\n    --  d_f  Issue info messages related to GNATprove usage\n-   --  d_g\n-   --  d_h\n+   --  d_g  Disable large static aggregates\n+   --  d_h  Disable the use of (perfect) hash functions for enumeration Value\n    --  d_i  Ignore activations and calls to instances for elaboration\n    --  d_j  Read JSON files and populate Repinfo tables (opposite of -gnatRjs)\n    --  d_k\n@@ -160,11 +160,11 @@ package body Debug is\n    --  d_s  Stop elaboration checks on synchronous suspension\n    --  d_t\n    --  d_u\n-   --  d_v\n+   --  d_v  Enable additional checks and debug printouts in Atree\n    --  d_w\n-   --  d_x\n+   --  d_x  Disable inline expansion of Image attribute for enumeration types\n    --  d_y\n-   --  d_z  Enable Put_Image on tagged types\n+   --  d_z\n \n    --  d_A  Stop generation of ALI file\n    --  d_B  Warn on build-in-place function calls\n@@ -186,7 +186,7 @@ package body Debug is\n    --  d_R\n    --  d_S\n    --  d_T  Output trace information on invocation path recording\n-   --  d_U\n+   --  d_U  Disable prepending messages with \"error:\".\n    --  d_V  Enable verifications on the expanded tree\n    --  d_W\n    --  d_X\n@@ -830,8 +830,6 @@ package body Debug is\n    --       handling of Inline_Always by the front end on such targets. For the\n    --       targets that do not use the GCC back end, this switch is ignored.\n \n-   --  d.A  Print Atree statistics\n-\n    --  d.B  Generate a bug box when we see an abort_statement, even though\n    --       there is no bug. Useful for testing Comperr.Compiler_Abort: write\n    --       some code containing an abort_statement, and compile it with\n@@ -900,10 +898,6 @@ package body Debug is\n    --  d.M  Relaxed RM semantics. This flag sets Opt.Relaxed_RM_Semantics\n    --       See Opt.Relaxed_RM_Semantics for more details.\n \n-   --  d.N  Enlarge entities by one node (but don't attempt to use this extra\n-   --       node for storage of any flags or fields). This can be used to do\n-   --       experiments on the impact of increasing entity sizes.\n-\n    --  d.O  Dump internal SCO tables. Before outputting the SCO information to\n    --       the ALI file, the internal SCO tables (SCO_Table/SCO_Unit_Table)\n    --       are dumped for debugging purposes.\n@@ -962,6 +956,10 @@ package body Debug is\n    --       behavior is similar to that of No_Entry_Calls_In_Elaboration_Code,\n    --       but does not penalize actual entry calls in elaboration code.\n \n+   --  d_b  When the restriction No_Dynamic_Accessibility_Checks is enabled,\n+   --       use the simple \"designated type\" accessibility model, instead of\n+   --       using the implicit level of the anonymous access type declaration.\n+\n    --  d_e  The compiler ignores simple entry calls, asynchronous transfer of\n    --       control, conditional entry calls, timed entry calls, and requeue\n    --       statements in both the static and dynamic elaboration models.\n@@ -971,6 +969,13 @@ package body Debug is\n    --       beginners find them confusing. Set automatically by GNATprove when\n    --       switch --info is used.\n \n+   --  d_g  Disable large static aggregates. The maximum size for a static\n+   --       aggregate will be fairly modest, which is useful if the compiler\n+   --       is using too much memory and time at compile time.\n+\n+   --  d_h  The compiler does not make use of (perfect) hash functions in the\n+   --       implementation of the Value attribute for enumeration types.\n+\n    --  d_i  The compiler ignores calls and task activations when they target a\n    --       subprogram or task type defined in an external instance for both\n    --       the static and dynamic elaboration models.\n@@ -987,8 +992,10 @@ package body Debug is\n    --       a call to routine Ada.Synchronous_Task_Control.Suspend_Until_True\n    --       or Ada.Synchronous_Barriers.Wait_For_Release.\n \n-   --  d_z  Enable the default Put_Image on tagged types that are not\n-   --       predefined.\n+   --  d_v  Enable additional checks and debug printouts in Atree\n+\n+   --  d_x  The compiler does not expand in line the Image attribute for user-\n+   --       defined enumeration types and the standard boolean type.\n \n    --  d_A  Do not generate ALI files by setting Opt.Disable_ALI_File.\n \n@@ -1011,6 +1018,9 @@ package body Debug is\n    --  d_T  The compiler outputs trace information to standard output whenever\n    --       an invocation path is recorded.\n \n+   --  d_U  Disable prepending 'error:' to error messages. This used to be the\n+   --       default and can be seen as the opposite of -gnatU.\n+\n    --  d_V  Enable verification of the expanded code before calling the backend\n    --       and generate error messages on each inconsistency found.\n \n@@ -1091,7 +1101,7 @@ package body Debug is\n    --       issues (e.g., assuming that a low bound of an array parameter\n    --       of an unconstrained subtype belongs to the index subtype).\n \n-   --  d.9  Enable build-in-place for function calls returning some nonlimited\n+   --  d.9  Disable build-in-place for function calls returning nonlimited\n    --       types.\n \n    ------------------------------------------"}, {"sha": "c8f2c226cd834de06a09ac8292783fd38718a85b", "filename": "gcc/ada/debug.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "8a8ccc67f19c48a4e1912725f50622a29dfd1e56", "filename": "gcc/ada/debug_a.adb", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug_a.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug_a.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug_a.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,11 +23,12 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Atree;   use Atree;\n-with Debug;   use Debug;\n-with Sinfo;   use Sinfo;\n-with Sinput;  use Sinput;\n-with Output;  use Output;\n+with Atree;          use Atree;\n+with Debug;          use Debug;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinput;         use Sinput;\n+with Output;         use Output;\n \n package body Debug_A is\n \n@@ -46,6 +47,12 @@ package body Debug_A is\n    --  recursion levels, we just don't reset the right value on exit, which\n    --  is not crucial, since this is only for debugging.\n \n+   --  Note that Current_Error_Node must be maintained unconditionally (not\n+   --  only when Debug_Flag_A is True), because we want to print a correct sloc\n+   --  in bug boxes. Also, Current_Error_Node is not just used for printing bug\n+   --  boxes. For example, an incorrect Current_Error_Node can cause some code\n+   --  in Rtsfind to malfunction.\n+\n    -----------------------\n    -- Local Subprograms --\n    -----------------------\n@@ -75,8 +82,6 @@ package body Debug_A is\n \n       --  Now push the new element\n \n-      --  Why is this done unconditionally???\n-\n       Debug_A_Depth := Debug_A_Depth + 1;\n \n       if Debug_A_Depth <= Max_Node_Ids then\n@@ -103,8 +108,6 @@ package body Debug_A is\n       --  We look down the stack to find something with a decent Sloc. (If\n       --  we find nothing, just leave it unchanged which is not so terrible)\n \n-      --  This seems nasty overhead for the normal case ???\n-\n       for J in reverse 1 .. Integer'Min (Max_Node_Ids, Debug_A_Depth) loop\n          if Sloc (Node_Ids (J)) > No_Location then\n             Current_Error_Node := Node_Ids (J);\n@@ -130,8 +133,6 @@ package body Debug_A is\n \n    procedure Debug_Output_Astring is\n       Vbars : constant String := \"|||||||||||||||||||||||||\";\n-      --  Should be constant, removed because of GNAT 1.78 bug ???\n-\n    begin\n       if Debug_A_Depth > Vbars'Length then\n          for I in Vbars'Length .. Debug_A_Depth loop"}, {"sha": "1c165ded0db97e2f1b74c64c1523d8172dea6572", "filename": "gcc/ada/debug_a.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug_a.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdebug_a.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdebug_a.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "4adfd368cc8d090026ec1f072452850c9db9c879", "filename": "gcc/ada/doc/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2FMakefile", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2FMakefile", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2FMakefile?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -14,7 +14,7 @@ ALLSPHINXOPTS   = $(PAPEROPT_$(PAPER)) $(SPHINXOPTS) \\\n \t\t  -c $(SOURCEDIR)/share \\\n \t\t  -d $(BUILDDIR)/$*/doctrees \\\n \t\t  $(SOURCEDIR)\n-DOC_LIST=gnat_rm gnat_ugn\n+DOC_LIST=gnat_rm gnat_ugn gnat-style\n FMT_LIST=html pdf txt info\n \n .PHONY: help clean"}, {"sha": "527e7ba2a66d7b2df71eb6d6ca2a88cb784578ad", "filename": "gcc/ada/doc/gnat-style.rst", "status": "added", "additions": 691, "deletions": 0, "changes": 691, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat-style.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat-style.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat-style.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -0,0 +1,691 @@\n+GNAT Coding Style: A Guide for GNAT Developers\n+==============================================\n+\n+General\n+-------\n+\n+Most of GNAT is written in Ada using a consistent style to ensure\n+readability of the code.  This document has been written to help\n+maintain this consistent style, while having a large group of developers\n+work on the compiler.\n+\n+For the coding style in the C parts of the compiler and run time,\n+see the GNU Coding Guidelines.\n+\n+This document is structured after the Ada Reference Manual.\n+Those familiar with that document should be able to quickly\n+lookup style rules for particular constructs.\n+\n+Lexical Elements\n+----------------\n+\n+Character Set and Separators\n+****************************\n+\n+.. index:: Character set\n+.. index:: ASCII\n+.. index:: Separators\n+.. index:: End-of-line\n+.. index:: Line length\n+.. index:: Indentation\n+\n+* The character set used should be plain 7-bit ASCII.\n+  The only separators allowed are space and the end-of-line sequence.\n+  No other control character or format effector (such as ``HT``,\n+  ``VT``, ``FF`` )\n+  should be used.\n+  The normal end-of-line sequence is used, which may be\n+  ``LF``, ``CR/LF`` or ``CR``,\n+  depending on the host system.  An optional ``SUB``\n+  ( ``16#1A#`` ) may be present as the\n+  last character in the file on hosts using that character as file terminator.\n+\n+* Files that are checked in or distributed should be in host format.\n+\n+* A line should never be longer than 79 characters, not counting the line\n+  separator.\n+\n+* Lines must not have trailing blanks.\n+\n+* Indentation is 3 characters per level for ``if`` statements, loops, and\n+  ``case`` statements.\n+  For exact information on required spacing between lexical\n+  elements, see file style.adb.\n+\n+  .. index:: style.adb file\n+\n+Identifiers\n+***********\n+\n+* Identifiers will start with an upper case letter, and each letter following\n+  an underscore will be upper case.\n+\n+  .. index:: Casing (for identifiers)\n+\n+  Short acronyms may be all upper case.\n+  All other letters are lower case.\n+  An exception is for identifiers matching a foreign language.  In particular,\n+  we use all lower case where appropriate for C.\n+\n+* Use underscores to separate words in an identifier.\n+\n+  .. index:: Underscores\n+\n+* Try to limit your use of abbreviations in identifiers.\n+  It is ok to make a few abbreviations, explain what they mean, and then\n+  use them frequently, but don't use lots of obscure abbreviations.  An\n+  example is the ``ALI`` word which stands for Ada Library\n+  Information and is by convention always written in upper-case when\n+  used in entity names.\n+\n+  .. code-block:: ada\n+\n+           procedure Find_ALI_Files;\n+\n+* Don't use the variable name ``I``, use ``J`` instead; ``I`` is too\n+  easily confused with ``1`` in some fonts.  Similarly don't use the\n+  variable ``O``, which is too easily mistaken for the number ``0``.\n+\n+Numeric Literals\n+****************\n+\n+* Numeric literals should include underscores where helpful for\n+  readability.\n+\n+  .. index:: Underscores\n+\n+  .. code-block:: ada\n+\n+          1_000_000\n+          16#8000_0000#\n+          3.14159_26535_89793_23846\n+\n+Reserved Words\n+**************\n+\n+* Reserved words use all lower case.\n+\n+  .. index:: Casing (for reserved words)\n+\n+  .. code-block:: ada\n+\n+           return else\n+\n+* The words ``Access``, ``Delta`` and ``Digits`` are\n+  capitalized when used as attribute_designator.\n+\n+Comments\n+********\n+\n+* A comment starts with ``--`` followed by two spaces.\n+  The only exception to this rule (i.e. one space is tolerated) is when the\n+  comment ends with a single space followed by ``--``.\n+  It is also acceptable to have only one space between ``--`` and the start\n+  of the comment when the comment is at the end of a line,\n+  after some Ada code.\n+\n+* Every sentence in a comment should start with an upper-case letter (including\n+  the first letter of the comment).\n+\n+  .. index:: Casing (in comments)\n+\n+* When declarations are commented with 'hanging' comments, i.e.\n+  comments after the declaration, there is no blank line before the\n+  comment, and if it is absolutely necessary to have blank lines within\n+  the comments, e.g. to make paragraph separations within a single comment,\n+  these blank lines *do* have a ``--`` (unlike the\n+  normal rule, which is to use entirely blank lines for separating\n+  comment paragraphs).  The comment starts at same level of indentation\n+  as code it is commenting.\n+\n+  .. index:: Blank lines (in comments)\n+  .. index:: Indentation\n+\n+  .. code-block:: ada\n+\n+           z : Integer;\n+           --  Integer value for storing value of z\n+           --\n+           --  The previous line was a blank line.\n+\n+* Comments that are dubious or incomplete, or that comment on possibly\n+  wrong or incomplete code, should be preceded or followed by ``???``.\n+\n+* Comments in a subprogram body must generally be surrounded by blank lines.\n+  An exception is a comment that follows a line containing a single keyword\n+  ( ``begin``, ``else``, ``loop`` ):\n+\n+  .. code-block:: ada\n+\n+           begin\n+              --  Comment for the next statement\n+\n+              A := 5;\n+\n+              --  Comment for the B statement\n+\n+              B := 6;\n+           end;\n+\n+* In sequences of statements, comments at the end of the lines should be\n+  aligned.\n+\n+  .. index:: Alignment (in comments)\n+\n+  .. code-block:: ada\n+\n+            My_Identifier := 5;      --  First comment\n+            Other_Id := 6;           --  Second comment\n+\n+* Short comments that fit on a single line are *not* ended with a\n+  period.  Comments taking more than a line are punctuated in the normal\n+  manner.\n+\n+* Comments should focus on *why* instead of *what*.\n+  Descriptions of what subprograms do go with the specification.\n+\n+* Comments describing a subprogram spec should specifically mention the\n+  formal argument names.  General rule: write a comment that does not\n+  depend on the names of things.  The names are supplementary, not\n+  sufficient, as comments.\n+\n+* *Do not* put two spaces after periods in comments.\n+\n+Declarations and Types\n+----------------------\n+\n+* In entity declarations, colons must be surrounded by spaces.  Colons\n+  should be aligned.\n+\n+  .. index:: Alignment (in declarations)\n+\n+  .. code-block:: ada\n+\n+            Entity1   : Integer;\n+            My_Entity : Integer;\n+\n+* Declarations should be grouped in a logical order.\n+  Related groups of declarations may be preceded by a header comment.\n+\n+* All local subprograms in a subprogram or package body should be declared\n+  before the first local subprogram body.\n+\n+* Do not declare local entities that hide global entities.\n+\n+  .. index:: Hiding of outer entities\n+\n+* Do not declare multiple variables in one declaration that spans lines.\n+  Start a new declaration on each line, instead.\n+\n+* The defining_identifiers of global declarations serve as\n+  comments of a sort.  So don't choose terse names, but look for names\n+  that give useful information instead.\n+\n+* Local names can be shorter, because they are used only within\n+  one context, where comments explain their purpose.\n+\n+* When starting an initialization or default expression on the line that follows\n+  the declaration line, use 2 characters for indentation.\n+\n+  .. code-block:: ada\n+\n+            Entity1 : Integer :=\n+              Function_Name (Parameters, For_Call);\n+\n+* If an initialization or default expression needs to be continued on subsequent\n+  lines, the continuations should be indented from the start of the expression.\n+\n+  .. code-block:: ada\n+\n+            Entity1 : Integer := Long_Function_Name\n+                                   (parameters for call);\n+\n+Expressions and Names\n+---------------------\n+\n+* Every operator must be surrounded by spaces. An exception is that\n+  this rule does not apply to the exponentiation operator, for which\n+  there are no specific layout rules. The reason for this exception\n+  is that sometimes it makes clearer reading to leave out the spaces\n+  around exponentiation.\n+\n+  .. index:: Operators\n+\n+  .. code-block:: ada\n+\n+           E := A * B**2 + 3 * (C - D);\n+\n+* Use parentheses where they clarify the intended association of operands\n+  with operators:\n+\n+  .. index:: Parenthesization of expressions\n+\n+  .. code-block:: ada\n+\n+           (A / B) * C\n+\n+Statements\n+----------\n+\n+Simple and Compound Statements\n+******************************\n+\n+* Use only one statement or label per line.\n+\n+* A longer sequence_of_statements may be divided in logical\n+  groups or separated from surrounding code using a blank line.\n+\n+\n+If Statements\n+*************\n+\n+* When the ``if``, ``elsif`` or ``else`` keywords fit on the\n+  same line with the condition and the ``then`` keyword, then the\n+  statement is formatted as follows:\n+\n+  .. index:: Alignment (in an if statement)\n+\n+  .. code-block:: ada\n+\n+            if condition then\n+               ...\n+            elsif condition then\n+               ...\n+            else\n+               ...\n+            end if;\n+\n+  When the above layout is not possible, ``then`` should be aligned\n+  with ``if``, and conditions should preferably be split before an\n+  ``and`` or ``or`` keyword a follows:\n+\n+  .. code-block:: ada\n+\n+            if long_condition_that_has_to_be_split\n+              and then continued_on_the_next_line\n+            then\n+               ...\n+            end if;\n+\n+  The ``elsif``, ``else`` and ``end if`` always line up with\n+  the ``if`` keyword.  The preferred location for splitting the line\n+  is before ``and`` or ``or``.  The continuation of a condition is\n+  indented with two spaces or as many as needed to make nesting clear.\n+  As an exception, if conditions are closely related either of the\n+  following is allowed:\n+\n+  .. code-block:: ada\n+\n+         if x = lakdsjfhlkashfdlkflkdsalkhfsalkdhflkjdsahf\n+              or else\n+            x = asldkjhalkdsjfhhfd\n+              or else\n+            x = asdfadsfadsf\n+         then\n+           ...\n+         end if;\n+\n+         if x = lakdsjfhlkashfdlkflkdsalkhfsalkdhflkjdsahf or else\n+            x = asldkjhalkdsjfhhfd                         or else\n+            x = asdfadsfadsf\n+         then\n+           ...\n+         end if;\n+\n+* Conditions should use short-circuit forms ( ``and then``,\n+  ``or else`` ), except when the operands are boolean variables\n+  or boolean constants.\n+\n+  .. index:: Short-circuit forms\n+\n+* Complex conditions in ``if`` statements are indented two characters:\n+\n+  .. index:: Indentation (in if statements)\n+\n+  .. code-block:: ada\n+\n+          if this_complex_condition\n+            and then that_other_one\n+            and then one_last_one\n+          then\n+             ...\n+          end if;\n+\n+  There are some cases where complex conditionals can be laid out\n+  in manners that do not follow these rules to preserve better\n+  parallelism between branches, e.g.\n+\n+  .. code-block:: ada\n+\n+          if xyz.abc (gef) = 'c'\n+               or else\n+             xyz.abc (gef) = 'x'\n+          then\n+             ...\n+          end if;\n+\n+* Every ``if`` block is preceded and followed by a blank line, except\n+  where it begins or ends a sequence_of_statements.\n+\n+  .. index:: Blank lines (in an if statement)\n+\n+  .. code-block:: ada\n+\n+            A := 5;\n+\n+            if A = 5 then\n+               null;\n+            end if;\n+\n+            A := 6;\n+\n+Case Statements\n+***************\n+\n+* Layout is as below.  For long ``case`` statements, the extra indentation\n+  can be saved by aligning the ``when`` clauses with the opening ``case``.\n+\n+  .. code-block:: ada\n+\n+           case expression is\n+              when condition =>\n+                 ...\n+              when condition =>\n+                 ...\n+           end case;\n+\n+Loop Statements\n+***************\n+\n+* When possible, have ``for`` or ``while`` on one line with the\n+  condition and the ``loop`` keyword.\n+\n+  .. code-block:: ada\n+\n+           for J in S'Range loop\n+              ...\n+           end loop;\n+\n+  If the condition is too long, split the condition (see 'If\n+  statements' above) and align ``loop`` with the ``for`` or\n+  ``while`` keyword.\n+\n+  .. index:: Alignment (in a loop statement)\n+\n+  .. code-block:: ada\n+\n+          while long_condition_that_has_to_be_split\n+            and then continued_on_the_next_line\n+          loop\n+             ...\n+          end loop;\n+\n+  If the loop_statement has an identifier, it is laid out as follows:\n+\n+  .. code-block:: ada\n+\n+          Outer : while not condition loop\n+             ...\n+          end Outer;\n+\n+Block Statements\n+****************\n+\n+* The ``declare`` (optional), ``begin`` and ``end`` words\n+  are aligned, except when the block_statement is named.  There\n+  is a blank line before the ``begin`` keyword:\n+\n+  .. index:: Alignment (in a block statement)\n+\n+  .. code-block:: ada\n+\n+          Some_Block : declare\n+             ...\n+\n+          begin\n+             ...\n+          end Some_Block;\n+\n+Subprograms\n+-----------\n+\n+Subprogram Declarations\n+***********************\n+\n+* Do not write the ``in`` for parameters.\n+\n+  .. code-block:: ada\n+\n+          function Length (S : String) return Integer;\n+\n+* When the declaration line for a procedure or a function is too long to fit\n+  the entire declaration (including the keyword procedure or function) on a\n+  single line, then fold it, putting a single parameter on a line, aligning\n+  the colons, as in:\n+\n+  .. code-block:: ada\n+\n+         procedure Set_Heading\n+           (Source : String;\n+            Count  : Natural;\n+            Pad    : Character := Space;\n+            Fill   : Boolean   := True);\n+\n+  In the case of a function, if the entire spec does not fit on one line, then\n+  the return may appear after the last parameter, as in:\n+\n+  .. code-block:: ada\n+\n+          function Head\n+            (Source : String;\n+             Count  : Natural;\n+             Pad    : Character := Space) return String;\n+\n+  Or it may appear on its own as a separate line. This form is preferred when\n+  putting the return on the same line as the last parameter would result in\n+  an overlong line. The return type may optionally be aligned with the types\n+  of the parameters (usually we do this aligning if it results only in a small\n+  number of extra spaces, and otherwise we don't attempt to align). So two\n+  alternative forms for the above spec are:\n+\n+  .. code-block:: ada\n+\n+          function Head\n+            (Source : String;\n+             Count  : Natural;\n+             Pad    : Character := Space)\n+             return   String;\n+\n+          function Head\n+            (Source : String;\n+             Count  : Natural;\n+             Pad    : Character := Space)\n+             return String;\n+\n+Subprogram Bodies\n+*****************\n+\n+* Function and procedure bodies should usually be sorted alphabetically. Do\n+  not attempt to sort them in some logical order by functionality. For a\n+  sequence of subprogram specs, a general alphabetical sorting is also\n+  usually appropriate, but occasionally it makes sense to group by major\n+  function, with appropriate headers.\n+\n+* All subprograms have a header giving the function name, with the following\n+  format:\n+\n+  .. code-block:: ada\n+\n+          -----------------\n+          -- My_Function --\n+          -----------------\n+\n+          procedure My_Function is\n+          begin\n+            ...\n+          end My_Function;\n+\n+  Note that the name in the header is preceded by a single space,\n+  not two spaces as for other comments. These headers are used on\n+  nested subprograms as well as outer level subprograms. They may\n+  also be used as headers for sections of comments, or collections\n+  of declarations that are related.\n+\n+* Every subprogram body must have a preceding subprogram_declaration,\n+  which includes proper client documentation so that you do not need to\n+  read the subprogram body in order to understand what the subprogram does and\n+  how to call it. All subprograms should be documented, without exceptions.\n+\n+  .. index:: Blank lines (in subprogram bodies)\n+\n+* A sequence of declarations may optionally be separated from the following\n+  begin by a blank line.  Just as we optionally allow blank lines in general\n+  between declarations, this blank line should be present only if it improves\n+  readability. Generally we avoid this blank line if the declarative part is\n+  small (one or two lines) and the body has no blank lines, and we include it\n+  if the declarative part is long or if the body has blank lines.\n+\n+* If the declarations in a subprogram contain at least one nested\n+  subprogram body, then just before the ``begin`` of the enclosing\n+  subprogram, there is a comment line and a blank line:\n+\n+  .. code-block:: ada\n+\n+        --  Start of processing for Enclosing_Subprogram\n+\n+        begin\n+          ...\n+        end Enclosing_Subprogram;\n+\n+* When nested subprograms are present, variables that are referenced by any\n+  nested subprogram should precede the nested subprogram specs. For variables\n+  that are not referenced by nested procedures, the declarations can either also\n+  be before any of the nested subprogram specs (this is the old style, more\n+  generally used). Or then can come just before the begin, with a header. The\n+  following example shows the two possible styles:\n+\n+  .. code-block:: ada\n+\n+        procedure Style1 is\n+           Var_Referenced_In_Nested      : Integer;\n+           Var_Referenced_Only_In_Style1 : Integer;\n+\n+           proc Nested;\n+           --  Comments ...\n+\n+           ------------\n+           -- Nested --\n+           ------------\n+\n+           procedure Nested is\n+           begin\n+              ...\n+           end Nested;\n+\n+        --  Start of processing for Style1\n+\n+        begin\n+           ...\n+        end Style1;\n+\n+        procedure Style2 is\n+           Var_Referenced_In_Nested : Integer;\n+\n+           proc Nested;\n+           --  Comments ...\n+\n+           ------------\n+           -- Nested --\n+           ------------\n+\n+           procedure Nested is\n+           begin\n+              ...\n+           end Nested;\n+\n+           --  Local variables\n+\n+           Var_Referenced_Only_In_Style2 : Integer;\n+\n+        --  Start of processing for Style2\n+\n+        begin\n+           ...\n+        end Style2;\n+\n+  For new code, we generally prefer Style2, but we do not insist on\n+  modifying all legacy occurrences of Style1, which is still much\n+  more common in the sources.\n+\n+Packages and Visibility Rules\n+-----------------------------\n+\n+* All program units and subprograms have their name at the end:\n+\n+  .. code-block:: ada\n+\n+          package P is\n+             ...\n+          end P;\n+\n+* We will use the style of ``use`` -ing ``with`` -ed packages, with\n+  the context clauses looking like:\n+\n+  .. index:: use clauses\n+\n+  .. code-block:: ada\n+\n+          with A; use A;\n+          with B; use B;\n+\n+* Names declared in the visible part of packages should be\n+  unique, to prevent name clashes when the packages are ``use`` d.\n+\n+  .. index:: Name clash avoidance\n+\n+  .. code-block:: ada\n+\n+          package Entity is\n+             type Entity_Kind is ...;\n+             ...\n+          end Entity;\n+\n+* After the file header comment, the context clause and unit specification\n+  should be the first thing in a program_unit.\n+\n+* Preelaborate, Pure and Elaborate_Body pragmas should be added right after the\n+  package name, indented an extra level and using the parameterless form:\n+\n+  .. code-block:: ada\n+\n+          package Preelaborate_Package is\n+             pragma Preelaborate;\n+             ...\n+          end Preelaborate_Package;\n+\n+Program Structure and Compilation Issues\n+----------------------------------------\n+\n+* Every GNAT source file must be compiled with the ``-gnatg``\n+  switch to check the coding style.\n+  (Note that you should look at\n+  style.adb to see the lexical rules enforced by ``-gnatg`` ).\n+\n+  .. index:: -gnatg option (to gcc)\n+  .. index:: style.adb file\n+\n+* Each source file should contain only one compilation unit.\n+\n+* Filenames should be 8 or fewer characters, followed by the ``.adb``\n+  extension for a body or ``.ads`` for a spec.\n+\n+  .. index:: File name length\n+\n+* Unit names should be distinct when 'krunch'ed to 8 characters\n+  (see krunch.ads) and the filenames should match the unit name,\n+  except that they are all lower case.\n+\n+  .. index:: krunch.ads file\n+\n+.. toctree::\n+   share/gnu_free_documentation_license"}, {"sha": "e7649b093873baad019f7f40f5dd7dc312da88b6", "filename": "gcc/ada/doc/gnat_rm/implementation_advice.rst", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_advice.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -799,6 +799,22 @@ flushed before the ``Get_Immediate`` call. A special unit\n ``Interfaces.Vxworks.IO`` is provided that contains routines to enable\n this functionality.\n \n+.. index:: Containers\n+\n+RM A.18: ``Containers``\n+================================\n+\n+All implementation advice pertaining to Ada.Containers and its\n+child units (that is, all implementation advice occurring within\n+section A.18 and its subsections) is followed except for A.18.24(17):\n+\n+   \"Bounded ordered set objects should be implemented without implicit pointers or dynamic allocation. \"\n+\n+The implementations of the two Reference_Preserving_Key functions of\n+the generic package Ada.Containers.Bounded_Ordered_Sets each currently make\n+use of dynamic allocation; other operations on bounded ordered set objects\n+follow the implementation advice.\n+\n .. index:: Export\n \n RM B.1(39-41): Pragma ``Export``"}, {"sha": "b09a4bb07960244dabef7dab8f34fed9e9f79e72", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_aspects.rst", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_aspects.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -397,6 +397,19 @@ This aspect is equivalent to :ref:`pragma No_Tagged_Streams<Pragma-No_Tagged_Str\n argument specifying a root tagged type (thus this aspect can only be\n applied to such a type).\n \n+Aspect No_Task_Parts\n+========================\n+.. index:: No_Task_Parts\n+\n+Applies to a type. If True, requires that the type and any descendants\n+do not have any task parts. The rules for this aspect are the same as\n+for the language-defined No_Controlled_Parts aspect (see RM-H.4.1),\n+replacing \"controlled\" with \"task\".\n+\n+If No_Task_Parts is True for a type T, then the compiler can optimize\n+away certain tasking-related code that would otherwise be needed\n+for T'Class, because descendants of T might contain tasks.\n+\n Aspect Object_Size\n ==================\n .. index:: Object_Size\n@@ -548,12 +561,6 @@ Aspect Universal_Aliasing\n \n This boolean aspect is equivalent to :ref:`pragma Universal_Aliasing<Pragma-Universal_Aliasing>`.\n \n-Aspect Universal_Data\n-=====================\n-.. index:: Universal_Data\n-\n-This aspect is equivalent to :ref:`pragma Universal_Data<Pragma-Universal_Data>`.\n-\n Aspect Unmodified\n =================\n .. index:: Unmodified\n@@ -566,7 +573,7 @@ Aspect Unreferenced\n \n This boolean aspect is equivalent to :ref:`pragma Unreferenced<Pragma-Unreferenced>`.\n \n-When using the ``-gnat2020`` switch, this aspect is also supported on formal\n+When using the ``-gnat2022`` switch, this aspect is also supported on formal\n parameters, which is in particular the only form possible for expression\n functions.\n "}, {"sha": "665170c4c7e9e664b259fedd169a0b8b9a330b34", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_attributes.rst", "status": "modified", "additions": 59, "deletions": 10, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_attributes.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_attributes.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_attributes.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -196,7 +196,7 @@ Attribute Default_Bit_Order\n .. index:: Default_Bit_Order\n \n ``Standard'Default_Bit_Order`` (``Standard`` is the only\n-permissible prefix), provides the value ``System.Default_Bit_Order``\n+allowed prefix), provides the value ``System.Default_Bit_Order``\n as a ``Pos`` value (0 for ``High_Order_First``, 1 for\n ``Low_Order_First``).  This is used to construct the definition of\n ``Default_Bit_Order`` in package ``System``.\n@@ -210,7 +210,7 @@ Attribute Default_Scalar_Storage_Order\n .. index:: Default_Scalar_Storage_Order\n \n ``Standard'Default_Scalar_Storage_Order`` (``Standard`` is the only\n-permissible prefix), provides the current value of the default scalar storage\n+allowed prefix), provides the current value of the default scalar storage\n order (as specified using pragma ``Default_Scalar_Storage_Order``, or\n equal to ``Default_Bit_Order`` if unspecified) as a\n ``System.Bit_Order`` value. This is a static attribute.\n@@ -665,7 +665,7 @@ Attribute Maximum_Alignment\n .. index:: Maximum_Alignment\n \n ``Standard'Maximum_Alignment`` (``Standard`` is the only\n-permissible prefix) provides the maximum useful alignment value for the\n+allowed prefix) provides the maximum useful alignment value for the\n target.  This is a static value that can be used to specify the alignment\n for an object, guaranteeing that it is properly aligned in all\n cases.\n@@ -674,7 +674,7 @@ Attribute Max_Integer_Size\n ==========================\n .. index:: Max_Integer_Size\n \n-``Standard'Max_Integer_Size`` (``Standard`` is the only permissible\n+``Standard'Max_Integer_Size`` (``Standard`` is the only allowed\n prefix) provides the size of the largest supported integer type for\n the target. The result is a static constant.\n \n@@ -1057,6 +1057,46 @@ If a component of ``T`` is itself of a record or array type, the specfied\n attribute definition clause must be provided for the component type as well\n if desired.\n \n+Representation changes that explicitly or implicitly toggle the scalar storage\n+order are not supported and may result in erroneous execution of the program,\n+except when performed by means of an instance of ``Ada.Unchecked_Conversion``.\n+\n+In particular, overlays are not supported and a warning is given for them:\n+\n+.. code-block:: ada\n+\n+     type Rec_LE is record\n+        I : Integer;\n+     end record;\n+\n+     for Rec_LE use record\n+        I at 0 range 0 .. 31;\n+     end record;\n+\n+     for Rec_LE'Bit_Order use System.Low_Order_First;\n+     for Rec_LE'Scalar_Storage_Order use System.Low_Order_First;\n+\n+     type Rec_BE is record\n+        I : Integer;\n+     end record;\n+\n+     for Rec_BE use record\n+        I at 0 range 0 .. 31;\n+     end record;\n+\n+     for Rec_BE'Bit_Order use System.High_Order_First;\n+     for Rec_BE'Scalar_Storage_Order use System.High_Order_First;\n+\n+     R_LE : Rec_LE;\n+\n+     R_BE : Rec_BE;\n+     for R_BE'Address use R_LE'Address;\n+\n+``warning: overlay changes scalar storage order [enabled by default]``\n+\n+In most cases, such representation changes ought to be replaced by an\n+instantiation of a function or procedure provided by ``GNAT.Byte_Swapping``.\n+\n Note that the scalar storage order only affects the in-memory data\n representation. It has no effect on the representation used by stream\n attributes.\n@@ -1164,7 +1204,7 @@ Attribute Storage_Unit\n ======================\n .. index:: Storage_Unit\n \n-``Standard'Storage_Unit`` (``Standard`` is the only permissible\n+``Standard'Storage_Unit`` (``Standard`` is the only allowed\n prefix) provides the same value as ``System.Storage_Unit``.\n \n Attribute Stub_Type\n@@ -1195,7 +1235,7 @@ Attribute System_Allocator_Alignment\n .. index:: System_Allocator_Alignment\n \n ``Standard'System_Allocator_Alignment`` (``Standard`` is the only\n-permissible prefix) provides the observable guaranted to be honored by\n+allowed prefix) provides the observable guaranted to be honored by\n the system allocator (malloc). This is a static value that can be used\n in user storage pools based on malloc either to reject allocation\n with alignment too large or to enable a realignment circuitry if the\n@@ -1205,7 +1245,7 @@ Attribute Target_Name\n =====================\n .. index:: Target_Name\n \n-``Standard'Target_Name`` (``Standard`` is the only permissible\n+``Standard'Target_Name`` (``Standard`` is the only allowed\n prefix) provides a static string value that identifies the target\n for the current compilation. For GCC implementations, this is the\n standard gcc target name without the terminating slash (for\n@@ -1216,7 +1256,7 @@ Attribute To_Address\n .. index:: To_Address\n \n The ``System'To_Address``\n-(``System`` is the only permissible prefix)\n+(``System`` is the only allowed prefix)\n denotes a function identical to\n ``System.Storage_Elements.To_Address`` except that\n it is a static attribute.  This means that if its argument is\n@@ -1587,6 +1627,15 @@ Multi-dimensional arrays can be modified, as shown by this example:\n \n which changes element (1,2) to 20 and (3,4) to 30.\n \n+Attribute Valid_Image\n+=======================\n+.. index:: Valid_Image\n+\n+The ``'Valid_Image`` attribute is defined for enumeration types other than\n+those in package Standard. This attribute is a function that takes\n+a String, and returns Boolean. ``T'Valid_Image (S)`` returns True\n+if and only if ``T'Value (S)`` would not raise Constraint_Error.\n+\n Attribute Valid_Scalars\n =======================\n .. index:: Valid_Scalars\n@@ -1650,7 +1699,7 @@ Attribute Wchar_T_Size\n ======================\n .. index:: Wchar_T_Size\n \n-``Standard'Wchar_T_Size`` (``Standard`` is the only permissible\n+``Standard'Wchar_T_Size`` (``Standard`` is the only allowed\n prefix) provides the size in bits of the C ``wchar_t`` type\n primarily for constructing the definition of this type in\n package ``Interfaces.C``. The result is a static constant.\n@@ -1659,6 +1708,6 @@ Attribute Word_Size\n ===================\n .. index:: Word_Size\n \n-``Standard'Word_Size`` (``Standard`` is the only permissible\n+``Standard'Word_Size`` (``Standard`` is the only allowed\n prefix) provides the value ``System.Word_Size``. The result is\n a static constant."}, {"sha": "8d0be38d9aafd3498dbb191917ea7d44d781d8a7", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_characteristics.rst", "status": "modified", "additions": 17, "deletions": 8, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_characteristics.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_characteristics.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_characteristics.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -129,20 +129,29 @@ There are no nonstandard real types.\n   \"What combinations of requested decimal precision and range\n   are supported for floating point types.  See 3.5.7(7).\"\n \n-The precision and range is as defined by the IEEE standard.\n+The precision and range are defined by the IEEE Standard for Floating-Point\n+Arithmetic (IEEE 754-2019).\n \n *\n   \"The predefined floating point types declared in\n   ``Standard``.  See 3.5.7(16).\"\n \n-====================== ====================================================\n+====================== ===============================================\n Type                   Representation\n-====================== ====================================================\n-*Short_Float*          32 bit IEEE short\n-*Float*                (Short) 32 bit IEEE short\n-*Long_Float*           64 bit IEEE long\n-*Long_Long_Float*      64 bit IEEE long (80 bit IEEE long on x86 processors)\n-====================== ====================================================\n+====================== ===============================================\n+*Short_Float*          IEEE Binary32 (Single)\n+*Float*                IEEE Binary32 (Single)\n+*Long_Float*           IEEE Binary64 (Double)\n+*Long_Long_Float*      IEEE Binary64 (Double) on non-x86 architectures\n+                       IEEE 80-bit Extended on x86 architecture\n+====================== ===============================================\n+\n+The default rounding mode specified by the IEEE 754 Standard is assumed for\n+static computations, i.e. round to nearest, ties to even. The input routines\n+yield correctly rounded values for Short_Float, Float and Long_Float at least.\n+The output routines can compute up to twice as many exact digits as the value\n+of ``T'Digits`` for any type, for example 30 digits for Long_Float; if more\n+digits are requested, zeros are printed.\n \n *\n   \"The small of an ordinary fixed point type.  See 3.5.9(8).\""}, {"sha": "6c81ca7db6160e65b339d8d7a1437186a23b4755", "filename": "gcc/ada/doc/gnat_rm/implementation_defined_pragmas.rst", "status": "modified", "additions": 165, "deletions": 55, "changes": 220, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_defined_pragmas.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -2062,27 +2062,6 @@ string or a static string expressions that evaluates to the null\n string. In this case, no external name is generated. This form\n still allows the specification of parameter mechanisms.\n \n-Pragma Export_Value\n-===================\n-\n-Syntax:\n-\n-\n-::\n-\n-  pragma Export_Value (\n-    [Value     =>] static_integer_EXPRESSION,\n-    [Link_Name =>] static_string_EXPRESSION);\n-\n-\n-This pragma serves to export a static integer value for external use.\n-The first argument specifies the value to be exported. The Link_Name\n-argument specifies the symbolic name to be associated with the integer\n-value. This pragma is useful for defining a named static value in Ada\n-that can be referenced in assembly language units to be linked with\n-the application. This pragma is currently supported only for the\n-AAMP target and is ignored for other targets.\n-\n Pragma Export_Valued_Procedure\n ==============================\n \n@@ -2210,7 +2189,7 @@ extension mode (the use of Off as a parameter cancels the effect\n of the *-gnatX* command switch).\n \n In extension mode, the latest version of the Ada language is\n-implemented (currently Ada 202x), and in addition a small number\n+implemented (currently Ada 2022), and in addition a number\n of GNAT specific extensions are recognized as follows:\n \n * Constrained attribute for generic objects\n@@ -2235,6 +2214,169 @@ of GNAT specific extensions are recognized as follows:\n   This new aggregate syntax for arrays and containers is provided under -gnatX\n   to experiment and confirm this new language syntax.\n \n+* Additional ``when`` constructs\n+\n+  In addition to the ``exit when CONDITION`` control structure, several\n+  additional constructs are allowed following this format. Including\n+  ``return when CONDITION``, ``goto when CONDITION``, and\n+  ``raise [with EXCEPTION_MESSAGE] when CONDITION.``\n+\n+  Some examples:\n+\n+  .. code-block:: ada\n+\n+      return Result when Variable > 10;\n+\n+      raise Program_Error with \"Element is null\" when Element = null;\n+\n+      goto End_Of_Subprogram when Variable = -1;\n+\n+* Casing on composite values (aka pattern matching)\n+\n+  The selector for a case statement may be of a composite type, subject to\n+  some restrictions (described below). Aggregate syntax is used for choices\n+  of such a case statement; however, in cases where a \"normal\" aggregate would\n+  require a discrete value, a discrete subtype may be used instead; box\n+  notation can also be used to match all values.\n+\n+  Consider this example:\n+\n+  .. code-block:: ada\n+\n+      type Rec is record\n+         F1, F2 : Integer;\n+      end record;\n+\n+      procedure Caser_1 (X : Rec) is\n+      begin\n+         case X is\n+            when (F1 => Positive, F2 => Positive) =>\n+               Do_This;\n+            when (F1 => Natural, F2 => <>) | (F1 => <>, F2 => Natural) =>\n+               Do_That;\n+            when others =>\n+                Do_The_Other_Thing;\n+         end case;\n+      end Caser_1;\n+\n+  If Caser_1 is called and both components of X are positive, then\n+  Do_This will be called; otherwise, if either component is nonnegative\n+  then Do_That will be called; otherwise, Do_The_Other_Thing will be called.\n+\n+  If the set of values that match the choice(s) of an earlier alternative\n+  overlaps the corresponding set of a later alternative, then the first\n+  set shall be a proper subset of the second (and the later alternative\n+  will not be executed if the earlier alternative \"matches\"). All possible\n+  values of the composite type shall be covered. The composite type of the\n+  selector shall be a nonlimited untagged (but possibly discriminated)\n+  record type, all of whose subcomponent subtypes are either static discrete\n+  subtypes or record types that meet the same restrictions. Support for arrays\n+  is planned, but not yet implemented.\n+\n+  In addition, pattern bindings are supported. This is a mechanism\n+  for binding a name to a component of a matching value for use within\n+  an alternative of a case statement. For a component association\n+  that occurs within a case choice, the expression may be followed by\n+  \"is <identifier>\". In the special case of a \"box\" component association,\n+  the identifier may instead be provided within the box. Either of these\n+  indicates that the given identifer denotes (a constant view of) the matching\n+  subcomponent of the case selector.\n+\n+  Consider this example (which uses type Rec from the previous example):\n+\n+  .. code-block:: ada\n+\n+      procedure Caser_2 (X : Rec) is\n+      begin\n+         case X is\n+            when (F1 => Positive is Abc, F2 => Positive) =>\n+               Do_This (Abc)\n+            when (F1 => Natural is N1, F2 => <N2>) |\n+                 (F1 => <N2>, F2 => Natural is N1) =>\n+               Do_That (Param_1 => N1, Param_2 => N2);\n+            when others =>\n+               Do_The_Other_Thing;\n+         end case;\n+      end Caser_2;\n+\n+  This example is the same as the previous one with respect to\n+  determining whether Do_This, Do_That, or Do_The_Other_Thing will\n+  be called. But for this version, Do_This takes a parameter and Do_That\n+  takes two parameters. If Do_This is called, the actual parameter in the\n+  call will be X.F1.\n+\n+  If Do_That is called, the situation is more complex because there are two\n+  choices for that alternative. If Do_That is called because the first choice\n+  matched (i.e., because X.F1 is nonnegative and either X.F1 or X.F2 is zero\n+  or negative), then the actual parameters of the call will be (in order)\n+  X.F1 and X.F2. If Do_That is called because the second choice matched (and\n+  the first one did not), then the actual parameters will be reversed.\n+\n+  Within the choice list for single alternative, each choice must\n+  define the same set of bindings and the component subtypes for\n+  for a given identifer must all statically match. Currently, the case\n+  of a binding for a nondiscrete component is not implemented.\n+\n+* Fixed lower bounds for array types and subtypes\n+\n+  Unconstrained array types and subtypes can be specified with a lower bound\n+  that is fixed to a certain value, by writing an index range that uses the\n+  syntax \"<lower-bound-expression> .. <>\". This guarantees that all objects\n+  of the type or subtype will have the specified lower bound.\n+\n+  For example, a matrix type with fixed lower bounds of zero for each\n+  dimension can be declared by the following:\n+\n+  .. code-block:: ada\n+\n+      type Matrix is\n+        array (Natural range 0 .. <>, Natural range 0 .. <>) of Integer;\n+\n+  Objects of type Matrix declared with an index constraint must have index\n+  ranges starting at zero:\n+\n+  .. code-block:: ada\n+\n+      M1 : Matrix (0 .. 9, 0 .. 19);\n+      M2 : Matrix (2 .. 11, 3 .. 22);  -- Warning about bounds; will raise CE\n+\n+  Similarly, a subtype of String can be declared that specifies the lower\n+  bound of objects of that subtype to be 1:\n+\n+   .. code-block:: ada\n+\n+      subtype String_1 is String (1 .. <>);\n+\n+  If a string slice is passed to a formal of subtype String_1 in a call to\n+  a subprogram S, the slice's bounds will \"slide\" so that the lower bound\n+  is 1. Within S, the lower bound of the formal is known to be 1, so, unlike\n+  a normal unconstrained String formal, there is no need to worry about\n+  accounting for other possible lower-bound values. Sliding of bounds also\n+  occurs in other contexts, such as for object declarations with an\n+  unconstrained subtype with fixed lower bound, as well as in subtype\n+  conversions.\n+\n+  Use of this feature increases safety by simplifying code, and can also\n+  improve the efficiency of indexing operations, since the compiler statically\n+  knows the lower bound of unconstrained array formals when the formal's\n+  subtype has index ranges with static fixed lower bounds.\n+\n+* Prefixed-view notation for calls to primitive subprograms of untagged types\n+\n+  Since Ada 2005, calls to primitive subprograms of a tagged type that\n+  have a \"prefixed view\" (see RM 4.1.3(9.2)) have been allowed to be\n+  written using the form of a selected_component, with the first actual\n+  parameter given as the prefix and the name of the subprogram as a\n+  selector. This prefixed-view notation for calls is extended so as to\n+  also allow such syntax for calls to primitive subprograms of untagged\n+  types. The primitives of an untagged type T that have a prefixed view\n+  are those where the first formal parameter of the subprogram either\n+  is of type T or is an anonymous access parameter whose designated type\n+  is T. For a type that has a component that happens to have the same\n+  simple name as one of the type's primitive subprograms, where the\n+  component is visible at the point of a selected_component using that\n+  name, preference is given to the component in a selected_component\n+  (as is currently the case for tagged types with such component names).\n \n .. _Pragma-Extensions_Visible:\n \n@@ -3114,13 +3256,7 @@ Syntax:\n \n \n This program unit pragma is supported for parameterless protected procedures\n-as described in Annex C of the Ada Reference Manual. On the AAMP target\n-the pragma can also be specified for nonprotected parameterless procedures\n-that are declared at the library level (which includes procedures\n-declared at the top level of a library package). In the case of AAMP,\n-when this pragma is applied to a nonprotected procedure, the instruction\n-``IERET`` is generated for returns from the procedure, enabling\n-maskable interrupts, in place of the normal return instruction.\n+as described in Annex C of the Ada Reference Manual.\n \n Pragma Interrupt_State\n ======================\n@@ -6914,32 +7050,6 @@ For a detailed description of the strict aliasing optimization, and the\n situations in which it must be suppressed, see the section on\n ``Optimization and Strict Aliasing`` in the :title:`GNAT User's Guide`.\n \n-.. _Pragma-Universal_Data:\n-\n-Pragma Universal_Data\n-=====================\n-\n-Syntax:\n-\n-\n-::\n-\n-  pragma Universal_Data [(library_unit_Name)];\n-\n-\n-This pragma is supported only for the AAMP target and is ignored for\n-other targets. The pragma specifies that all library-level objects\n-(Counter 0 data) associated with the library unit are to be accessed\n-and updated using universal addressing (24-bit addresses for AAMP5)\n-rather than the default of 16-bit Data Environment (DENV) addressing.\n-Use of this pragma will generally result in less efficient code for\n-references to global data associated with the library unit, but\n-allows such data to be located anywhere in memory. This pragma is\n-a library unit pragma, but can also be used as a configuration pragma\n-(including use in the :file:`gnat.adc` file). The functionality\n-of this pragma is also available by applying the -univ switch on the\n-compilations of units where universal addressing of the data is desired.\n-\n .. _Pragma-Unmodified:\n \n Pragma Unmodified"}, {"sha": "9f419a7688cd5c24ae27510518ac174ad36086fe", "filename": "gcc/ada/doc/gnat_rm/implementation_of_specific_ada_features.rst", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_of_specific_ada_features.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_of_specific_ada_features.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fimplementation_of_specific_ada_features.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -672,6 +672,26 @@ aliasing all views of the object (which may be manipulated by different tasks,\n say) must be consistent, so it is imperative that the object, once created,\n remain invariant.\n \n+.. _Image_Values_For_Nonscalar_Types:\n+\n+Image Values For Nonscalar Types\n+================================\n+\n+Ada 2022 defines the Image, Wide_Image, and Wide_Wide image attributes\n+for nonscalar types; earlier Ada versions defined these attributes only\n+for scalar types. Ada RM 4.10 provides some general guidance regarding\n+the default implementation of these attributes and the GNAT compiler\n+follows that guidance. However, beyond that the precise details of the\n+image text generated in these cases are deliberately not documented and are\n+subject to change. In particular, users should not rely on formatting details\n+(such as spaces or line breaking), record field order, image values for access\n+types, image values for types that have ancestor or subcomponent types\n+declared in non-Ada2022 code, image values for predefined types, or the\n+compiler's choices regarding the implementation permissions described in\n+Ada RM 4.10. This list is not intended to be exhaustive. If more precise\n+control of image text is required for some type T, then T'Put_Image should be\n+explicitly specified.\n+\n .. _Strict_Conformance_to_the_Ada_Reference_Manual:\n \n Strict Conformance to the Ada Reference Manual"}, {"sha": "355b1399b2f831cfb85a4a6928d82e2496520bf4", "filename": "gcc/ada/doc/gnat_rm/intrinsic_subprograms.rst", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fintrinsic_subprograms.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fintrinsic_subprograms.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fintrinsic_subprograms.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -203,7 +203,8 @@ type (signed or modular), as in this example:\n \n      function Shift_Left\n        (Value  : T;\n-        Amount : Natural) return T;\n+        Amount : Natural) return T\n+     with Import, Convention => Intrinsic;\n \n \n The function name must be one of\n@@ -215,11 +216,12 @@ The result type must be the same as the type of ``Value``.\n The shift amount must be Natural.\n The formal parameter names can be anything.\n \n-A more convenient way of providing these shift operators is to use\n-the Provide_Shift_Operators pragma, which provides the function declarations\n-and corresponding pragma Import's for all five shift functions. Note that in\n-using these provided shift operations, shifts performed on negative numbers\n-will result in modification of the sign bit.\n+A more convenient way of providing these shift operators is to use the\n+Provide_Shift_Operators pragma, which provides the function declarations and\n+corresponding pragma Import's for all five shift functions. For signed types\n+the semantics of these operators is to interpret the bitwise result of the\n+corresponding operator for modular type. In particular, shifting a negative\n+number may change its sign bit to positive.\n \n .. _Source_Location:\n "}, {"sha": "f755fc1cf52ba0f6b08e5bb5abf11a96ab1dfcc7", "filename": "gcc/ada/doc/gnat_rm/representation_clauses_and_pragmas.rst", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Frepresentation_clauses_and_pragmas.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_rm%2Frepresentation_clauses_and_pragmas.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Frepresentation_clauses_and_pragmas.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1738,7 +1738,7 @@ of the use of this pragma. This may cause an overlay to have this\n unintended clobbering effect. The compiler avoids this for scalar\n types, but not for composite objects (where in general the effect\n of ``Initialize_Scalars`` is part of the initialization routine\n-for the composite object:\n+for the composite object):\n \n ::\n "}, {"sha": "5a69967615ff38a0a653e940a998ccf6e46046d7", "filename": "gcc/ada/doc/gnat_ugn/building_executable_programs_with_gnat.rst", "status": "modified", "additions": 57, "deletions": 22, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1233,6 +1233,13 @@ Alphabetical List of All Switches\n   marker is specified, the callgraph is decorated with information about\n   dynamically allocated objects.\n \n+.. index:: -fdiagnostics-format   (gcc)\n+\n+:switch:`-fdiagnostics-format=json`\n+  Makes GNAT emit warning and error messages as JSON. Inhibits printing of\n+  text warning and errors messages except if :switch:`-gnatv` or\n+  :switch:`-gnatl` are present.\n+\n \n .. index:: -fdump-scos  (gcc)\n \n@@ -1380,6 +1387,12 @@ Alphabetical List of All Switches\n   Allow full Ada 2012 features (same as :switch:`-gnat12`)\n \n \n+.. index:: -gnat2022  (gcc)\n+\n+:switch:`-gnat2022`\n+  Allow full Ada 2022 features\n+\n+\n :switch:`-gnat83`\n   Enforce Ada 83 restrictions.\n \n@@ -1463,9 +1476,9 @@ Alphabetical List of All Switches\n \n :switch:`-gnatd`\n   Specify debug options for the compiler. The string of characters after\n-  the :switch:`-gnatd` specify the specific debug options. The possible\n-  characters are 0-9, a-z, A-Z, optionally preceded by a dot. See\n-  compiler source file :file:`debug.adb` for details of the implemented\n+  the :switch:`-gnatd` specifies the specific debug options. The possible\n+  characters are 0-9, a-z, A-Z, optionally preceded by a dot or underscore.\n+  See compiler source file :file:`debug.adb` for details of the implemented\n   debug options. Certain debug options are relevant to applications\n   programmers, and these are documented at appropriate points in this\n   users guide.\n@@ -1735,8 +1748,7 @@ Alphabetical List of All Switches\n   in bits.`\n \n   ``Max_Unaligned_Field`` is the maximum size for unaligned bit field, which is\n-  64 for the majority of GCC targets (but can be different on some targets like\n-  AAMP).\n+  64 for the majority of GCC targets (but can be different on some targets).\n \n   ``Strict_Alignment`` is the equivalent of GCC macro ``STRICT_ALIGNMENT``\n   documented as follows: `Define this macro to be the value 1 if instructions\n@@ -1775,8 +1787,9 @@ Alphabetical List of All Switches\n   where ``name`` is the string name of the type (which can have\n   single spaces embedded in the name (e.g. long double), ``digs`` is\n   the number of digits for the floating-point type, ``float_rep`` is\n-  the float representation (I/V/A for IEEE-754-Binary, Vax_Native,\n-  AAMP), ``size`` is the size in bits, ``alignment`` is the\n+  the float representation (I for IEEE-754-Binary, which is\n+  the only one supported at this time),\n+  ``size`` is the size in bits, ``alignment`` is the\n   alignment in bits. The name is followed by at least two blanks, fields\n   are separated by at least one blank, and a LF character immediately\n   follows the alignment field.\n@@ -1896,7 +1909,7 @@ Alphabetical List of All Switches\n .. index:: -gnati  (gcc)\n \n :switch:`-gnati{c}`\n-  Identifier character set (``c`` = 1/2/3/4/8/9/p/f/n/w).\n+  Identifier character set (``c`` = 1/2/3/4/5/9/p/8/f/n/w).\n   For details of the possible selections for ``c``,\n   see :ref:`Character_Set_Control`.\n \n@@ -1997,8 +2010,7 @@ Alphabetical List of All Switches\n   by the front end and will be visible in the\n   :switch:`-gnatG` output.\n \n-  When using a gcc-based back end (in practice this means using any version\n-  of GNAT other than the JGNAT, .NET or GNAAMP versions), then the use of\n+  When using a gcc-based back end, then the use of\n   :switch:`-gnatN` is deprecated, and the use of :switch:`-gnatn` is preferred.\n   Historically front end inlining was more extensive than the gcc back end\n   inlining, but that is no longer the case.\n@@ -3247,7 +3259,7 @@ of the pragma in the :title:`GNAT_Reference_manual`).\n :switch:`-gnatw.I`\n   *Disable warnings on overlapping actuals.*\n \n-  This switch disables warnings on overlapping actuals in a call..\n+  This switch disables warnings on overlapping actuals in a call.\n \n \n .. index:: -gnatwj  (gcc)\n@@ -3424,7 +3436,10 @@ of the pragma in the :title:`GNAT_Reference_manual`).\n   with no size clause. The guess in both cases is that 2**x was intended\n   rather than x. In addition expressions of the form 2*x for small x\n   generate a warning (the almost certainly accurate guess being that\n-  2**x was intended). The default is that these warnings are given.\n+  2**x was intended). This switch also activates warnings for negative\n+  literal values of a modular type, which are interpreted as large positive\n+  integers after wrap-around. The default is that these warnings are given.\n+\n \n \n .. index:: -gnatw.M  (gcc)\n@@ -4142,16 +4157,16 @@ of the pragma in the :title:`GNAT_Reference_manual`).\n   This switch enables most warnings from the GCC back end.\n   The code generator detects a number of warning situations that are missed\n   by the GNAT front end, and this switch can be used to activate them.\n-  The use of this switch also sets the default front end warning mode to\n-  :switch:`-gnatwa`, that is, most front end warnings activated as well.\n+  The use of this switch also sets the default front-end warning mode to\n+  :switch:`-gnatwa`, that is, most front-end warnings are activated as well.\n \n \n .. index:: -w (gcc)\n \n :switch:`-w`\n   Conversely, this switch suppresses warnings from the GCC back end.\n-  The use of this switch also sets the default front end warning mode to\n-  :switch:`-gnatws`, that is, front end warnings suppressed as well.\n+  The use of this switch also sets the default front-end warning mode to\n+  :switch:`-gnatws`, that is, front-end warnings are suppressed as well.\n \n \n .. index:: -Werror (gcc)\n@@ -4160,6 +4175,9 @@ of the pragma in the :title:`GNAT_Reference_manual`).\n   This switch causes warnings from the GCC back end to be treated as\n   errors.  The warning string still appears, but the warning messages are\n   counted as errors, and prevent the generation of an object file.\n+  The use of this switch also sets the default front-end warning mode to\n+  :switch:`-gnatwe`, that is, front-end warning messages and style check\n+  messages are treated as errors as well.\n \n \n A string of warning parameters can be used in the same parameter. For example::\n@@ -4620,8 +4638,18 @@ checks to be performed. The following checks are defined:\n   in the string after :switch:`-gnaty`\n   then proper indentation is checked, with the digit indicating the\n   indentation level required. A value of zero turns off this style check.\n-  The general style of required indentation is as specified by\n-  the examples in the Ada Reference Manual. Full line comments must be\n+  The rule checks that the following constructs start on a column that is\n+  a multiple of the alignment level:\n+\n+  * beginnings of declarations (except record component declarations)\n+    and statements;\n+\n+  * beginnings of the structural components of compound statements;\n+\n+  * ``end`` keyword that completes the declaration of a program unit declaration\n+    or body or that completes a compound statement.\n+\n+  Full line comments must be\n   aligned with the ``--`` starting on a column that is a multiple of\n   the alignment level, or they may be aligned the same way as the following\n   non-blank line (this is useful when full line comments appear in the middle\n@@ -5499,15 +5527,23 @@ indicate Ada 83 compatibility mode.\n   for further information).\n \n \n+.. index:: -gnat2022  (gcc)\n+.. index:: Ada 2022 mode\n+\n+:switch:`-gnat2022` (Ada 2022 mode)\n+  This switch directs the compiler to implement the Ada 2022 version of the\n+  language.\n+\n+\n .. index:: -gnatX  (gcc)\n .. index:: Ada language extensions\n .. index:: GNAT extensions\n \n :switch:`-gnatX` (Enable GNAT Extensions)\n   This switch directs the compiler to implement the latest version of the\n-  language (currently Ada 2012) and also to enable certain GNAT implementation\n+  language (currently Ada 2022) and also to enable certain GNAT implementation\n   extensions that are not part of any Ada standard. For a full list of these\n-  extensions, see the GNAT reference manual.\n+  extensions, see the GNAT reference manual, ``Pragma Extensions_Allowed``.\n \n \n .. _Character_Set_Control:\n@@ -5660,8 +5696,7 @@ Subprogram Inlining Control\n   This switch activates front-end inlining which also\n   generates additional dependencies.\n \n-  When using a gcc-based back end (in practice this means using any version\n-  of GNAT other than the JGNAT, .NET or GNAAMP versions), then the use of\n+  When using a gcc-based back end, then the use of\n   :switch:`-gnatN` is deprecated, and the use of :switch:`-gnatn` is preferred.\n   Historically front end inlining was more extensive than the gcc back end\n   inlining, but that is no longer the case."}, {"sha": "39b9ca1cb09405439766152a06893a40e61948aa", "filename": "gcc/ada/doc/gnat_ugn/the_gnat_compilation_model.rst", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fthe_gnat_compilation_model.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fthe_gnat_compilation_model.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fthe_gnat_compilation_model.rst?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -1672,8 +1672,7 @@ additional source files as follows:\n   not require that the code generation be optimized. Like :switch:`-gnatn`,\n   the use of this switch generates additional dependencies.\n \n-  When using a gcc-based back end (in practice this means using any version\n-  of GNAT other than for the JVM, .NET or GNAAMP platforms), then the use of\n+  When using a gcc-based back end, then the use of\n   :switch:`-gnatN` is deprecated, and the use of :switch:`-gnatn` is preferred.\n   Historically front end inlining was more extensive than the gcc back end\n   inlining, but that is no longer the case."}, {"sha": "0f7f963d3c72a2948b9baec4aa59ef56d12eef92", "filename": "gcc/ada/doc/share/conf.py", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fshare%2Fconf.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fshare%2Fconf.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fshare%2Fconf.py?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -18,41 +18,43 @@\n \n DOCS = {\n     'gnat_rm': {\n-        'title': u'GNAT Reference Manual'},\n+        'title': 'GNAT Reference Manual'},\n     'gnat_ugn': {\n-        'title': u'GNAT User\\'s Guide for Native Platforms'}}\n+        'title': 'GNAT User\\'s Guide for Native Platforms'},\n+    'gnat-style': {\n+        'title': 'GNAT Coding Style: A Guide for GNAT Developers'}}\n \n # Then retrieve the source directory\n root_source_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n gnatvsn_spec = os.path.join(root_source_dir, '..', 'gnatvsn.ads')\n basever = os.path.join(root_source_dir, '..', '..', 'BASE-VER')\n texi_fsf = True  # Set to False when FSF doc is switched to sphinx by default\n \n-with open(gnatvsn_spec, 'rb') as fd:\n+with open(gnatvsn_spec, 'r') as fd:\n     gnatvsn_content = fd.read()\n \n \n def get_copyright():\n-    return u'2008-%s, Free Software Foundation' % time.strftime('%Y')\n+    return '2008-%s, Free Software Foundation' % time.strftime('%Y')\n \n \n def get_gnat_version():\n     m = re.search(r'Gnat_Static_Version_String : ' +\n                   r'constant String := \"([^\\(\\)]+)\\(.*\\)?\";',\n                   gnatvsn_content)\n     if m:\n-        return m.group(1).strip()\n+        return m.group(1).strip().decode()\n     else:\n         if texi_fsf and os.path.exists(basever):\n             return ''\n \n         try:\n-            with open(basever, 'rb') as fd:\n+            with open(basever) as fd:\n                 return fd.read()\n-        except:\n+        except Exception:\n             pass\n \n-    print 'cannot find GNAT version in gnatvsn.ads or in ' + basever\n+    print('cannot find GNAT version in gnatvsn.ads or in ' + basever)\n     sys.exit(1)\n \n \n@@ -64,18 +66,18 @@ def get_gnat_build_type():\n                 'FSF': 'FSF',\n                 'GPL': 'GPL'}[m.group(1).strip()]\n     else:\n-        print 'cannot compute GNAT build type'\n+        print('cannot compute GNAT build type')\n         sys.exit(1)\n \n \n # First retrieve the name of the documentation we are building\n doc_name = os.environ.get('DOC_NAME', None)\n if doc_name is None:\n-    print 'DOC_NAME environment variable should be set'\n+    print('DOC_NAME environment variable should be set')\n     sys.exit(1)\n \n if doc_name not in DOCS:\n-    print '%s is not a valid documentation name' % doc_name\n+    print('%s is not a valid documentation name' % doc_name)\n     sys.exit(1)\n \n \n@@ -84,11 +86,11 @@ def get_gnat_build_type():\n for d in os.listdir(root_source_dir):\n     if d not in ('share', doc_name, doc_name + '.rst'):\n         exclude_patterns.append(d)\n-        print 'ignoring %s' % d\n+        print('ignoring %s' % d)\n \n if doc_name == 'gnat_rm':\n     exclude_patterns.append('share/gnat_project_manager.rst')\n-    print 'ignoring share/gnat_project_manager.rst'\n+    print('ignoring share/gnat_project_manager.rst')\n \n extensions = []\n templates_path = ['_templates']\n@@ -103,7 +105,7 @@ def get_gnat_build_type():\n version = get_gnat_version()\n release = get_gnat_version()\n \n-pygments_style = 'sphinx'\n+pygments_style = None\n tags.add(get_gnat_build_type())\n html_theme = 'sphinxdoc'\n if os.path.isfile('adacore_transparent.png'):\n@@ -119,8 +121,8 @@ def get_gnat_build_type():\n     'date': time.strftime(\"%b %d, %Y\"),\n     'edition': 'GNAT %s Edition' % 'Pro' if get_gnat_build_type() == 'PRO'\n                else 'GPL',\n-    'name': u'GNU Ada',\n-    'tool': u'GNAT',\n+    'name': 'GNU Ada',\n+    'tool': 'GNAT',\n     'version': version}\n \n latex_elements = {\n@@ -134,13 +136,13 @@ def get_gnat_build_type():\n     'tableofcontents': latex_elements.TOC % copyright_macros}\n \n latex_documents = [\n-    (master_doc, '%s.tex' % doc_name, project, u'AdaCore', 'manual')]\n+    (master_doc, '%s.tex' % doc_name, project, 'AdaCore', 'manual')]\n \n texinfo_documents = [\n     (master_doc, doc_name, project,\n-     u'AdaCore', doc_name, doc_name, '')]\n+     'AdaCore', doc_name, doc_name, '')]\n \n \n def setup(app):\n-    app.add_lexer('ada', ada_pygments.AdaLexer())\n-    app.add_lexer('gpr', ada_pygments.GNATProjectLexer())\n+    app.add_lexer('ada', ada_pygments.AdaLexer)\n+    app.add_lexer('gpr', ada_pygments.GNATProjectLexer)"}, {"sha": "1a152fb2e0aeddbb53488fb5bcc79c8e880c5a79", "filename": "gcc/ada/doc/share/gnat.sty", "status": "added", "additions": 72, "deletions": 0, "changes": 72, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fshare%2Fgnat.sty", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fdoc%2Fshare%2Fgnat.sty", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fshare%2Fgnat.sty?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -0,0 +1,72 @@\n+% Needed to generate footers with total number of pages\n+\\RequirePackage{lastpage}\n+\n+% AdaCore specific maketitle\n+\\renewcommand{\\maketitle}{%\n+  \\begin{titlepage}%\n+    \\let\\footnotesize\\small\n+    \\let\\footnoterule\\relax\n+    \\rule{\\textwidth}{1pt}%\n+    \\ifsphinxpdfoutput\n+      \\begingroup\n+      % These \\defs are required to deal with multi-line authors; it\n+      % changes \\\\ to ', ' (comma-space), making it pass muster for\n+      % generating document info in the PDF file.\n+      \\def\\\\{, }\n+      \\def\\and{and }\n+      \\pdfinfo{\n+        /Author (\\@author)\n+        /Title (\\@title)\n+      }\n+      \\endgroup\n+    \\fi\n+    \\begin{flushright}%\n+      \\sphinxlogo%\n+      {\\rm\\Huge \\@title \\par}%\n+      {\\em\\LARGE\\py@HeaderFamily \\py@release\\releaseinfo \\par}\n+      \\vfill\n+      {\\LARGE\\py@HeaderFamily\n+        \\par}\n+      \\vfill\\vfill\n+      {\\large\n+       \\@date \\par\n+       \\vfill\n+       \\py@authoraddress \\par\n+      }%\n+    \\end{flushright}%\\par\n+    \\@thanks\n+  \\end{titlepage}%\n+  \\cleardoublepage%\n+  \\setcounter{footnote}{0}%\n+  \\let\\thanks\\relax\\let\\maketitle\\relax\n+}\n+\n+% AdaCore specific headers/footers\n+% Redefine the 'normal' header/footer style when using \"fancyhdr\" package:\n+\\@ifundefined{fancyhf}{}{\n+  % Use \\pagestyle{normal} as the primary pagestyle for text.\n+  \\fancypagestyle{normal}{\n+    \\fancyhf{}\n+    \\fancyfoot[LE,RO]{{\\py@HeaderFamily\\thepage\\ of \\pageref*{LastPage}}}\n+    \\fancyfoot[LO]{{\\py@HeaderFamily\\nouppercase{\\rightmark}}}\n+    \\fancyfoot[RE]{{\\py@HeaderFamily\\nouppercase{\\leftmark}}}\n+    \\fancyhead[LE,RO]{{\\py@HeaderFamily \\@title, \\py@release}}\n+    \\renewcommand{\\headrulewidth}{0.4pt}\n+    \\renewcommand{\\footrulewidth}{0.4pt}\n+    % define chaptermark with \\@chappos when \\@chappos is available for Japanese\n+    \\ifx\\@chappos\\undefined\\else\n+      \\def\\chaptermark##1{\\markboth{\\@chapapp\\space\\thechapter\\space\\@chappos\\space ##1}{}}\n+    \\fi\n+  }\n+  % Update the plain style so we get the page number & footer line,\n+  % but not a chapter or section title.  This is to keep the first\n+  % page of a chapter and the blank page between chapters `clean.'\n+  \\fancypagestyle{plain}{\n+    \\fancyhf{}\n+    \\fancyfoot[LE,RO]{{\\py@HeaderFamily\\thepage\\ of \\pageref*{LastPage}}}\n+    \\fancyfoot[LO,RE]{{\\py@HeaderFamily \\GNATFullDocumentName}}\n+    \\fancyhead[LE,RO]{{\\py@HeaderFamily \\@title\\ \\GNATVersion}}\n+    \\renewcommand{\\headrulewidth}{0.0pt}\n+    \\renewcommand{\\footrulewidth}{0.4pt}\n+  }\n+}"}, {"sha": "4690c8f349033905cfa1dcd986ebfa5a922af61c", "filename": "gcc/ada/einfo-utils.adb", "status": "added", "additions": 3331, "deletions": 0, "changes": 3331, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo-utils.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo-utils.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo-utils.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a6517b99b88abcdff5be50b09c2770d971d3f44d", "filename": "gcc/ada/einfo-utils.ads", "status": "added", "additions": 713, "deletions": 0, "changes": 713, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo-utils.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo-utils.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo-utils.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -0,0 +1,713 @@\n+------------------------------------------------------------------------------\n+--                                                                          --\n+--                         GNAT COMPILER COMPONENTS                         --\n+--                                                                          --\n+--                           E I N F O . U T I L S                          --\n+--                                                                          --\n+--                                 S p e c                                  --\n+--                                                                          --\n+--           Copyright (C) 2020-2021, Free Software Foundation, Inc.        --\n+--                                                                          --\n+-- GNAT is free software;  you can  redistribute it  and/or modify it under --\n+-- terms of the  GNU General Public License as published  by the Free Soft- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n+-- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n+-- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n+-- or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License --\n+-- for  more details.  You should have  received  a copy of the GNU General --\n+-- Public License  distributed with GNAT; see file COPYING3.  If not, go to --\n+-- http://www.gnu.org/licenses for a complete copy of the license.          --\n+--                                                                          --\n+-- GNAT was originally developed  by the GNAT team at  New York University. --\n+-- Extensive contributions were provided by Ada Core Technologies Inc.      --\n+--                                                                          --\n+------------------------------------------------------------------------------\n+\n+with Einfo.Entities; use Einfo.Entities;\n+\n+package Einfo.Utils is\n+\n+   -----------------------------------\n+   -- Renamings of Renamed_Or_Alias --\n+   -----------------------------------\n+\n+   --  See the comment in einfo.ads, \"Renaming and Aliasing\", which is somewhat\n+   --  incorrect. In fact, the compiler uses Alias, Renamed_Entity, and\n+   --  Renamed_Object more-or-less interchangeably, so we rename them here.\n+   --  Alias isn't really renamed, because we want an assertion in the body.\n+\n+   function Alias (N : Entity_Id) return Node_Id;\n+   procedure Set_Alias (N : Entity_Id; Val : Node_Id);\n+   function Renamed_Entity\n+     (N : Entity_Id) return Node_Id renames Renamed_Or_Alias;\n+   procedure Set_Renamed_Entity\n+     (N : Entity_Id; Val : Node_Id) renames Set_Renamed_Or_Alias;\n+   function Renamed_Object\n+     (N : Entity_Id) return Node_Id renames Renamed_Or_Alias;\n+   procedure Set_Renamed_Object\n+     (N : Entity_Id; Val : Node_Id) renames Set_Renamed_Or_Alias;\n+\n+   pragma Inline (Alias);\n+   pragma Inline (Set_Alias);\n+   pragma Inline (Renamed_Entity);\n+   pragma Inline (Set_Renamed_Entity);\n+   pragma Inline (Renamed_Object);\n+   pragma Inline (Set_Renamed_Object);\n+\n+   -------------------\n+   -- Type Synonyms --\n+   -------------------\n+\n+   --  The following type synonyms are used to tidy up the function and\n+   --  procedure declarations that follow.\n+\n+   subtype B is Boolean;\n+   subtype C is Component_Alignment_Kind;\n+   subtype E is Entity_Id;\n+   subtype F is Float_Rep_Kind;\n+   subtype M is Mechanism_Type;\n+   subtype N is Node_Id;\n+   subtype U is Uint;\n+   subtype R is Ureal;\n+   subtype L is Elist_Id;\n+   subtype S is List_Id;\n+\n+   -------------------------------\n+   -- Classification Attributes --\n+   -------------------------------\n+\n+   --  These functions provide a convenient functional notation for testing\n+   --  whether an Ekind value belongs to a specified kind, for example the\n+   --  function Is_Elementary_Type tests if its argument is in Elementary_Kind.\n+   --  In some cases, the test is of an entity attribute (e.g. in the case of\n+   --  Is_Generic_Type where the Ekind does not provide the needed\n+   --  information).\n+\n+   function Is_Access_Object_Type               (Id : E) return B;\n+   function Is_Access_Type                      (Id : E) return B;\n+   function Is_Access_Protected_Subprogram_Type (Id : E) return B;\n+   function Is_Access_Subprogram_Type           (Id : E) return B;\n+   function Is_Aggregate_Type                   (Id : E) return B;\n+   function Is_Anonymous_Access_Type            (Id : E) return B;\n+   function Is_Array_Type                       (Id : E) return B;\n+   function Is_Assignable                       (Id : E) return B;\n+   function Is_Class_Wide_Type                  (Id : E) return B;\n+   function Is_Composite_Type                   (Id : E) return B;\n+   function Is_Concurrent_Body                  (Id : E) return B;\n+   function Is_Concurrent_Type                  (Id : E) return B;\n+   function Is_Decimal_Fixed_Point_Type         (Id : E) return B;\n+   function Is_Digits_Type                      (Id : E) return B;\n+   function Is_Discrete_Or_Fixed_Point_Type     (Id : E) return B;\n+   function Is_Discrete_Type                    (Id : E) return B;\n+   function Is_Elementary_Type                  (Id : E) return B;\n+   function Is_Entry                            (Id : E) return B;\n+   function Is_Enumeration_Type                 (Id : E) return B;\n+   function Is_Fixed_Point_Type                 (Id : E) return B;\n+   function Is_Floating_Point_Type              (Id : E) return B;\n+   function Is_Formal                           (Id : E) return B;\n+   function Is_Formal_Object                    (Id : E) return B;\n+   function Is_Generic_Subprogram               (Id : E) return B;\n+   function Is_Generic_Unit                     (Id : E) return B;\n+   function Is_Ghost_Entity                     (Id : E) return B;\n+   function Is_Incomplete_Or_Private_Type       (Id : E) return B;\n+   function Is_Incomplete_Type                  (Id : E) return B;\n+   function Is_Integer_Type                     (Id : E) return B;\n+   function Is_Modular_Integer_Type             (Id : E) return B;\n+   function Is_Named_Access_Type                (Id : E) return B;\n+   function Is_Named_Number                     (Id : E) return B;\n+   function Is_Numeric_Type                     (Id : E) return B;\n+   function Is_Object                           (Id : E) return B;\n+   function Is_Ordinary_Fixed_Point_Type        (Id : E) return B;\n+   function Is_Overloadable                     (Id : E) return B;\n+   function Is_Private_Type                     (Id : E) return B;\n+   function Is_Protected_Type                   (Id : E) return B;\n+   function Is_Real_Type                        (Id : E) return B;\n+   function Is_Record_Type                      (Id : E) return B;\n+   function Is_Scalar_Type                      (Id : E) return B;\n+   function Is_Signed_Integer_Type              (Id : E) return B;\n+   function Is_Subprogram                       (Id : E) return B;\n+   function Is_Subprogram_Or_Entry              (Id : E) return B;\n+   function Is_Subprogram_Or_Generic_Subprogram (Id : E) return B;\n+   function Is_Task_Type                        (Id : E) return B;\n+   function Is_Type                             (Id : E) return B;\n+\n+   pragma Inline (Is_Access_Object_Type);\n+   pragma Inline (Is_Access_Type);\n+   pragma Inline (Is_Access_Protected_Subprogram_Type);\n+   pragma Inline (Is_Access_Subprogram_Type);\n+   pragma Inline (Is_Aggregate_Type);\n+   pragma Inline (Is_Anonymous_Access_Type);\n+   pragma Inline (Is_Array_Type);\n+   pragma Inline (Is_Assignable);\n+   pragma Inline (Is_Class_Wide_Type);\n+   pragma Inline (Is_Composite_Type);\n+   pragma Inline (Is_Concurrent_Body);\n+   pragma Inline (Is_Concurrent_Type);\n+   pragma Inline (Is_Decimal_Fixed_Point_Type);\n+   pragma Inline (Is_Digits_Type);\n+   pragma Inline (Is_Discrete_Type);\n+   pragma Inline (Is_Elementary_Type);\n+   pragma Inline (Is_Entry);\n+   pragma Inline (Is_Enumeration_Type);\n+   pragma Inline (Is_Fixed_Point_Type);\n+   pragma Inline (Is_Floating_Point_Type);\n+   pragma Inline (Is_Formal);\n+   pragma Inline (Is_Formal_Object);\n+   pragma Inline (Is_Generic_Subprogram);\n+   pragma Inline (Is_Generic_Unit);\n+   pragma Inline (Is_Ghost_Entity);\n+   pragma Inline (Is_Incomplete_Or_Private_Type);\n+   pragma Inline (Is_Incomplete_Type);\n+   pragma Inline (Is_Integer_Type);\n+   pragma Inline (Is_Modular_Integer_Type);\n+   pragma Inline (Is_Named_Access_Type);\n+   pragma Inline (Is_Named_Number);\n+   pragma Inline (Is_Numeric_Type);\n+   pragma Inline (Is_Object);\n+   pragma Inline (Is_Ordinary_Fixed_Point_Type);\n+   pragma Inline (Is_Overloadable);\n+   pragma Inline (Is_Private_Type);\n+   pragma Inline (Is_Protected_Type);\n+   pragma Inline (Is_Real_Type);\n+   pragma Inline (Is_Record_Type);\n+   pragma Inline (Is_Scalar_Type);\n+   pragma Inline (Is_Signed_Integer_Type);\n+   pragma Inline (Is_Subprogram);\n+   pragma Inline (Is_Subprogram_Or_Entry);\n+   pragma Inline (Is_Subprogram_Or_Generic_Subprogram);\n+   pragma Inline (Is_Task_Type);\n+   pragma Inline (Is_Type);\n+\n+   -------------------------------------\n+   -- Synthesized Attribute Functions --\n+   -------------------------------------\n+\n+   --  The functions in this section synthesize attributes from the tree,\n+   --  so they do not correspond to defined fields in the entity itself.\n+\n+   function Address_Clause                      (Id : E) return N;\n+   function Aft_Value                           (Id : E) return U;\n+   function Alignment_Clause                    (Id : E) return N;\n+   function Base_Type                           (Id : E) return E;\n+   function Declaration_Node                    (Id : E) return N;\n+   function Designated_Type                     (Id : E) return E;\n+   function Entry_Index_Type                    (Id : E) return E;\n+   function First_Component                     (Id : E) return E;\n+   function First_Component_Or_Discriminant     (Id : E) return E;\n+   function First_Formal                        (Id : E) return E;\n+   function First_Formal_With_Extras            (Id : E) return E;\n+\n+   function Float_Rep\n+     (N : Entity_Id) return F with Inline, Pre =>\n+      N in E_Void_Id\n+         | Float_Kind_Id;\n+   procedure Set_Float_Rep\n+     (Ignore_N : Entity_Id; Ignore_Val : F) with Inline, Pre =>\n+      Ignore_N in E_Void_Id\n+         | Float_Kind_Id;\n+\n+   function Has_Attach_Handler                  (Id : E) return B;\n+   function Has_DIC                             (Id : E) return B;\n+   function Has_Entries                         (Id : E) return B;\n+   function Has_Foreign_Convention              (Id : E) return B;\n+   function Has_Interrupt_Handler               (Id : E) return B;\n+   function Has_Invariants                      (Id : E) return B;\n+   function Has_Limited_View                    (Id : E) return B;\n+   function Has_Non_Limited_View                (Id : E) return B;\n+   function Has_Non_Null_Abstract_State         (Id : E) return B;\n+   function Has_Non_Null_Visible_Refinement     (Id : E) return B;\n+   function Has_Null_Abstract_State             (Id : E) return B;\n+   function Has_Null_Visible_Refinement         (Id : E) return B;\n+   function Implementation_Base_Type            (Id : E) return E;\n+   function Is_Base_Type                        (Id : E) return B;\n+   --  Note that Is_Base_Type returns True for nontypes\n+   function Is_Boolean_Type                     (Id : E) return B;\n+   function Is_Constant_Object                  (Id : E) return B;\n+   function Is_Controlled                       (Id : E) return B;\n+   function Is_Discriminal                      (Id : E) return B;\n+   function Is_Dynamic_Scope                    (Id : E) return B;\n+   function Is_Elaboration_Target               (Id : E) return B;\n+   function Is_External_State                   (Id : E) return B;\n+   function Is_Finalizer                        (Id : E) return B;\n+   function Is_Full_Access                      (Id : E) return B;\n+   function Is_Null_State                       (Id : E) return B;\n+   function Is_Package_Or_Generic_Package       (Id : E) return B;\n+   function Is_Packed_Array                     (Id : E) return B;\n+   function Is_Prival                           (Id : E) return B;\n+   function Is_Protected_Component              (Id : E) return B;\n+   function Is_Protected_Interface              (Id : E) return B;\n+   function Is_Protected_Record_Type            (Id : E) return B;\n+   function Is_Relaxed_Initialization_State     (Id : E) return B;\n+   function Is_Standard_Character_Type          (Id : E) return B;\n+   function Is_Standard_String_Type             (Id : E) return B;\n+   function Is_String_Type                      (Id : E) return B;\n+   function Is_Synchronized_Interface           (Id : E) return B;\n+   function Is_Synchronized_State               (Id : E) return B;\n+   function Is_Task_Interface                   (Id : E) return B;\n+   function Is_Task_Record_Type                 (Id : E) return B;\n+   function Is_Wrapper_Package                  (Id : E) return B;\n+   function Last_Formal                         (Id : E) return E;\n+   function Machine_Emax_Value                  (Id : E) return U;\n+   function Machine_Emin_Value                  (Id : E) return U;\n+   function Machine_Mantissa_Value              (Id : E) return U;\n+   function Machine_Radix_Value                 (Id : E) return U;\n+   function Model_Emin_Value                    (Id : E) return U;\n+   function Model_Epsilon_Value                 (Id : E) return R;\n+   function Model_Mantissa_Value                (Id : E) return U;\n+   function Model_Small_Value                   (Id : E) return R;\n+   function Next_Component                      (Id : E) return E;\n+   function Next_Component_Or_Discriminant      (Id : E) return E;\n+   function Next_Discriminant                   (Id : E) return E;\n+   function Next_Formal                         (Id : E) return E;\n+   function Next_Formal_With_Extras             (Id : E) return E;\n+   function Next_Index                          (Id : N) return N;\n+   function Next_Literal                        (Id : E) return E;\n+   function Next_Stored_Discriminant            (Id : E) return E;\n+   function Number_Dimensions                   (Id : E) return Pos;\n+   function Number_Entries                      (Id : E) return Nat;\n+   function Number_Formals                      (Id : E) return Pos;\n+   function Object_Size_Clause                  (Id : E) return N;\n+   function Parameter_Mode                      (Id : E) return Formal_Kind;\n+   function Partial_Refinement_Constituents     (Id : E) return L;\n+   function Primitive_Operations                (Id : E) return L;\n+   function Root_Type                           (Id : E) return E;\n+   function Safe_Emax_Value                     (Id : E) return U;\n+   function Safe_First_Value                    (Id : E) return R;\n+   function Safe_Last_Value                     (Id : E) return R;\n+   function Scope_Depth                         (Id : E) return U;\n+   function Scope_Depth_Set                     (Id : E) return B;\n+   function Size_Clause                         (Id : E) return N;\n+   function Stream_Size_Clause                  (Id : E) return N;\n+   function Type_High_Bound                     (Id : E) return N;\n+   function Type_Low_Bound                      (Id : E) return N;\n+   function Underlying_Type                     (Id : E) return E;\n+\n+   pragma Inline (Address_Clause);\n+   pragma Inline (Alignment_Clause);\n+   pragma Inline (Base_Type);\n+   pragma Inline (Has_Foreign_Convention);\n+   pragma Inline (Has_Non_Limited_View);\n+   pragma Inline (Is_Base_Type);\n+   pragma Inline (Is_Boolean_Type);\n+   pragma Inline (Is_Constant_Object);\n+   pragma Inline (Is_Controlled);\n+   pragma Inline (Is_Discriminal);\n+   pragma Inline (Is_Finalizer);\n+   pragma Inline (Is_Full_Access);\n+   pragma Inline (Is_Null_State);\n+   pragma Inline (Is_Package_Or_Generic_Package);\n+   pragma Inline (Is_Packed_Array);\n+   pragma Inline (Is_Prival);\n+   pragma Inline (Is_Protected_Component);\n+   pragma Inline (Is_Protected_Record_Type);\n+   pragma Inline (Is_String_Type);\n+   pragma Inline (Is_Task_Record_Type);\n+   pragma Inline (Is_Wrapper_Package);\n+   pragma Inline (Scope_Depth);\n+   pragma Inline (Scope_Depth_Set);\n+   pragma Inline (Size_Clause);\n+   pragma Inline (Stream_Size_Clause);\n+   pragma Inline (Type_High_Bound);\n+   pragma Inline (Type_Low_Bound);\n+\n+   ----------------------------------------------\n+   -- Type Representation Attribute Predicates --\n+   ----------------------------------------------\n+\n+   --  These predicates test the setting of the indicated attribute. The\n+   --  Known predicate is True if and only if the value has been set. The\n+   --  Known_Static predicate is True only if the value is set (Known) and is\n+   --  set to a compile time known value. Note that in the case of Alignment\n+   --  and Normalized_First_Bit, dynamic values are not possible, so we do not\n+   --  need a separate Known_Static calls in these cases. The not set (unknown)\n+   --  values are as follows:\n+\n+   --    Alignment               Uint_0 or No_Uint\n+   --    Component_Size          Uint_0 or No_Uint\n+   --    Component_Bit_Offset    No_Uint\n+   --    Digits_Value            Uint_0 or No_Uint\n+   --    Esize                   Uint_0 or No_Uint\n+   --    Normalized_First_Bit    No_Uint\n+   --    Normalized_Position     No_Uint\n+   --    Normalized_Position_Max No_Uint\n+   --    RM_Size                 Uint_0 or No_Uint\n+\n+   --  It would be cleaner to use No_Uint in all these cases, but historically\n+   --  we chose to use Uint_0 at first, and the change over will take time ???\n+   --  This is particularly true for the RM_Size field, where a value of zero\n+   --  is legitimate. We deal with this by a considering that the value is\n+   --  always known static for discrete types (and no other types can have\n+   --  an RM_Size value of zero).\n+\n+   --  In two cases, Known_Static_Esize and Known_Static_RM_Size, there is one\n+   --  more consideration, which is that we always return False for generic\n+   --  types. Within a template, the size can look known, because of the fake\n+   --  size values we put in template types, but they are not really known and\n+   --  anyone testing if they are known within the template should get False as\n+   --  a result to prevent incorrect assumptions.\n+\n+   function Known_Alignment                       (E : Entity_Id) return B;\n+   function Known_Component_Bit_Offset            (E : Entity_Id) return B;\n+   function Known_Component_Size                  (E : Entity_Id) return B;\n+   function Known_Esize                           (E : Entity_Id) return B;\n+   function Known_Normalized_First_Bit            (E : Entity_Id) return B;\n+   function Known_Normalized_Position             (E : Entity_Id) return B;\n+   function Known_Normalized_Position_Max         (E : Entity_Id) return B;\n+   function Known_RM_Size                         (E : Entity_Id) return B;\n+\n+   function Known_Static_Component_Bit_Offset     (E : Entity_Id) return B;\n+   function Known_Static_Component_Size           (E : Entity_Id) return B;\n+   function Known_Static_Esize                    (E : Entity_Id) return B;\n+   function Known_Static_Normalized_First_Bit     (E : Entity_Id) return B;\n+   function Known_Static_Normalized_Position      (E : Entity_Id) return B;\n+   function Known_Static_Normalized_Position_Max  (E : Entity_Id) return B;\n+   function Known_Static_RM_Size                  (E : Entity_Id) return B;\n+\n+   pragma Inline (Known_Alignment);\n+   pragma Inline (Known_Component_Bit_Offset);\n+   pragma Inline (Known_Component_Size);\n+   pragma Inline (Known_Esize);\n+   pragma Inline (Known_Normalized_First_Bit);\n+   pragma Inline (Known_Normalized_Position);\n+   pragma Inline (Known_Normalized_Position_Max);\n+   pragma Inline (Known_RM_Size);\n+\n+   pragma Inline (Known_Static_Component_Bit_Offset);\n+   pragma Inline (Known_Static_Component_Size);\n+   pragma Inline (Known_Static_Esize);\n+   pragma Inline (Known_Static_Normalized_First_Bit);\n+   pragma Inline (Known_Static_Normalized_Position);\n+   pragma Inline (Known_Static_Normalized_Position_Max);\n+   pragma Inline (Known_Static_RM_Size);\n+\n+   ---------------------------------------------------\n+   -- Access to Subprograms in Subprograms_For_Type --\n+   ---------------------------------------------------\n+\n+   --  Now that we have variable-sized nodes, it might be possible to replace\n+   --  the following with regular fields, and get rid of the flags used to mark\n+   --  these kinds of subprograms.\n+\n+   function Is_Partial_DIC_Procedure             (Id : E) return B;\n+\n+   function DIC_Procedure                        (Id : E) return E;\n+   function Partial_DIC_Procedure                (Id : E) return E;\n+   function Invariant_Procedure                  (Id : E) return E;\n+   function Partial_Invariant_Procedure          (Id : E) return E;\n+   function Predicate_Function                   (Id : E) return E;\n+   function Predicate_Function_M                 (Id : E) return E;\n+\n+   procedure Set_DIC_Procedure                   (Id : E; V : E);\n+   procedure Set_Partial_DIC_Procedure           (Id : E; V : E);\n+   procedure Set_Invariant_Procedure             (Id : E; V : E);\n+   procedure Set_Partial_Invariant_Procedure     (Id : E; V : E);\n+   procedure Set_Predicate_Function              (Id : E; V : E);\n+   procedure Set_Predicate_Function_M            (Id : E; V : E);\n+\n+   -----------------------------------\n+   -- Field Initialization Routines --\n+   -----------------------------------\n+\n+   --  These routines are overloadings of some of the above Set procedures\n+   --  where the argument is normally a Uint. The overloadings take an Int\n+   --  parameter instead, and appropriately convert it. There are also\n+   --  versions that implicitly initialize to the appropriate \"not set\"\n+   --  value. The not set (unknown) values are as follows:\n+\n+   --    Alignment                 Uint_0\n+   --    Component_Size            Uint_0\n+   --    Component_Bit_Offset      No_Uint\n+   --    Digits_Value              Uint_0\n+   --    Esize                     Uint_0\n+   --    Normalized_First_Bit      No_Uint\n+   --    Normalized_Position       No_Uint\n+   --    Normalized_Position_Max   No_Uint\n+   --    RM_Size                   Uint_0\n+\n+   --  It would be cleaner to use No_Uint in all these cases, but historically\n+   --  we chose to use Uint_0 at first, and the change over will take time ???\n+   --  This is particularly true for the RM_Size field, where a value of zero\n+   --  is legitimate and causes some special tests around the code.\n+\n+   --  Contrary to the corresponding Set procedures above, these routines\n+   --  do NOT check the entity kind of their argument, instead they set the\n+   --  underlying Uint fields directly (this allows them to be used for\n+   --  entities whose Ekind has not been set yet).\n+\n+   procedure Init_Alignment                (Id : E; V : Int);\n+   procedure Init_Component_Bit_Offset     (Id : E; V : Int);\n+   procedure Init_Component_Size           (Id : E; V : Int);\n+   procedure Init_Digits_Value             (Id : E; V : Int);\n+   procedure Init_Esize                    (Id : E; V : Int);\n+   procedure Init_Normalized_First_Bit     (Id : E; V : Int);\n+   procedure Init_Normalized_Position      (Id : E; V : Int);\n+   procedure Init_Normalized_Position_Max  (Id : E; V : Int);\n+   procedure Init_RM_Size                  (Id : E; V : Int);\n+\n+   procedure Init_Alignment                (Id : E);\n+   procedure Init_Component_Bit_Offset     (Id : E);\n+   procedure Init_Component_Size           (Id : E);\n+   procedure Init_Digits_Value             (Id : E);\n+   procedure Init_Esize                    (Id : E);\n+   procedure Init_Normalized_First_Bit     (Id : E);\n+   procedure Init_Normalized_Position      (Id : E);\n+   procedure Init_Normalized_Position_Max  (Id : E);\n+   procedure Init_RM_Size                  (Id : E);\n+\n+   --  The following Copy_xxx procedures copy the value of xxx from From to\n+   --  To. If xxx is set to its initial invalid (zero-bits) value, then it is\n+   --  reset to invalid in To. We only have Copy_Alignment so far, but more are\n+   --  planned.\n+\n+   procedure Copy_Alignment (To, From : E);\n+\n+   pragma Inline (Init_Alignment);\n+   pragma Inline (Init_Component_Bit_Offset);\n+   pragma Inline (Init_Component_Size);\n+   pragma Inline (Init_Digits_Value);\n+   pragma Inline (Init_Esize);\n+   pragma Inline (Init_Normalized_First_Bit);\n+   pragma Inline (Init_Normalized_Position);\n+   pragma Inline (Init_Normalized_Position_Max);\n+   pragma Inline (Init_RM_Size);\n+\n+   procedure Init_Component_Location (Id : E);\n+   --  Initializes all fields describing the location of a component\n+   --  (Normalized_Position, Component_Bit_Offset, Normalized_First_Bit,\n+   --  Normalized_Position_Max, Esize) to all be Unknown.\n+\n+   procedure Init_Size (Id : E; V : Int);\n+   --  Initialize both the Esize and RM_Size fields of E to V\n+\n+   procedure Init_Size_Align (Id : E);\n+   --  This procedure initializes both size fields and the alignment\n+   --  field to all be Unknown.\n+\n+   procedure Init_Object_Size_Align (Id : E);\n+   --  Same as Init_Size_Align except RM_Size field (which is only for types)\n+   --  is unaffected.\n+\n+   ---------------\n+   -- Iterators --\n+   ---------------\n+\n+   --  The call to Next_xxx (obj) is equivalent to obj := Next_xxx (obj)\n+   --  We define the set of Proc_Next_xxx routines simply for the purposes\n+   --  of inlining them without necessarily inlining the function.\n+\n+   procedure Proc_Next_Component                 (N : in out Node_Id);\n+   procedure Proc_Next_Component_Or_Discriminant (N : in out Node_Id);\n+   procedure Proc_Next_Discriminant              (N : in out Node_Id);\n+   procedure Proc_Next_Formal                    (N : in out Node_Id);\n+   procedure Proc_Next_Formal_With_Extras        (N : in out Node_Id);\n+   procedure Proc_Next_Index                     (N : in out Node_Id);\n+   procedure Proc_Next_Inlined_Subprogram        (N : in out Node_Id);\n+   procedure Proc_Next_Literal                   (N : in out Node_Id);\n+   procedure Proc_Next_Stored_Discriminant       (N : in out Node_Id);\n+\n+   pragma Inline (Proc_Next_Component);\n+   pragma Inline (Proc_Next_Component_Or_Discriminant);\n+   pragma Inline (Proc_Next_Discriminant);\n+   pragma Inline (Proc_Next_Formal);\n+   pragma Inline (Proc_Next_Formal_With_Extras);\n+   pragma Inline (Proc_Next_Index);\n+   pragma Inline (Proc_Next_Inlined_Subprogram);\n+   pragma Inline (Proc_Next_Literal);\n+   pragma Inline (Proc_Next_Stored_Discriminant);\n+\n+   procedure Next_Component                 (N : in out Node_Id)\n+     renames Proc_Next_Component;\n+\n+   procedure Next_Component_Or_Discriminant (N : in out Node_Id)\n+     renames Proc_Next_Component_Or_Discriminant;\n+\n+   procedure Next_Discriminant              (N : in out Node_Id)\n+     renames Proc_Next_Discriminant;\n+\n+   procedure Next_Formal                    (N : in out Node_Id)\n+     renames Proc_Next_Formal;\n+\n+   procedure Next_Formal_With_Extras        (N : in out Node_Id)\n+     renames Proc_Next_Formal_With_Extras;\n+\n+   procedure Next_Index                     (N : in out Node_Id)\n+     renames Proc_Next_Index;\n+\n+   procedure Next_Inlined_Subprogram        (N : in out Node_Id)\n+     renames Proc_Next_Inlined_Subprogram;\n+\n+   procedure Next_Literal                   (N : in out Node_Id)\n+     renames Proc_Next_Literal;\n+\n+   procedure Next_Stored_Discriminant       (N : in out Node_Id)\n+     renames Proc_Next_Stored_Discriminant;\n+\n+   ---------------------------\n+   -- Testing Warning Flags --\n+   ---------------------------\n+\n+   --  These routines are to be used rather than testing flags Warnings_Off,\n+   --  Has_Pragma_Unmodified, Has_Pragma_Unreferenced. They deal with setting\n+   --  the flags Warnings_Off_Used[_Unmodified|Unreferenced] for later access.\n+\n+   function Has_Warnings_Off (E : Entity_Id) return Boolean;\n+   --  If Warnings_Off is set on E, then returns True and also sets the flag\n+   --  Warnings_Off_Used on E. If Warnings_Off is not set on E, returns False\n+   --  and has no side effect.\n+\n+   function Has_Unmodified (E : Entity_Id) return Boolean;\n+   --  If flag Has_Pragma_Unmodified is set on E, returns True with no side\n+   --  effects. Otherwise if Warnings_Off is set on E, returns True and also\n+   --  sets the flag Warnings_Off_Used_Unmodified on E. If neither of the flags\n+   --  Warnings_Off nor Has_Pragma_Unmodified is set, returns False with no\n+   --  side effects.\n+\n+   function Has_Unreferenced (E : Entity_Id) return Boolean;\n+   --  If flag Has_Pragma_Unreferenced is set on E, returns True with no side\n+   --  effects. Otherwise if Warnings_Off is set on E, returns True and also\n+   --  sets the flag Warnings_Off_Used_Unreferenced on E. If neither of the\n+   --  flags Warnings_Off nor Has_Pragma_Unreferenced is set, returns False\n+   --  with no side effects.\n+\n+   ----------------------------------------------\n+   -- Subprograms for Accessing Rep Item Chain --\n+   ----------------------------------------------\n+\n+   --  The First_Rep_Item field of every entity points to a linked list (linked\n+   --  through Next_Rep_Item) of representation pragmas, attribute definition\n+   --  clauses, representation clauses, and aspect specifications that apply to\n+   --  the item. Note that in the case of types, it is assumed that any such\n+   --  rep items for a base type also apply to all subtypes. This is achieved\n+   --  by having the chain for subtypes link onto the chain for the base type,\n+   --  so that new entries for the subtype are added at the start of the chain.\n+   --\n+   --  Note: aspect specification nodes are linked only when evaluation of the\n+   --  expression is deferred to the freeze point. For further details see\n+   --  Sem_Ch13.Analyze_Aspect_Specifications.\n+\n+   function Get_Attribute_Definition_Clause\n+     (E  : Entity_Id;\n+      Id : Attribute_Id) return Node_Id;\n+   --  Searches the Rep_Item chain for a given entity E, for an instance of an\n+   --  attribute definition clause with the given attribute Id. If found, the\n+   --  value returned is the N_Attribute_Definition_Clause node, otherwise\n+   --  Empty is returned.\n+\n+   --  WARNING: There is a matching C declaration of this subprogram in fe.h\n+\n+   function Get_Pragma (E : Entity_Id; Id : Pragma_Id) return Node_Id;\n+   --  Searches the Rep_Item chain of entity E, for an instance of a pragma\n+   --  with the given pragma Id. If found, the value returned is the N_Pragma\n+   --  node, otherwise Empty is returned. The following contract pragmas that\n+   --  appear in N_Contract nodes are also handled by this routine:\n+   --    Abstract_State\n+   --    Async_Readers\n+   --    Async_Writers\n+   --    Attach_Handler\n+   --    Constant_After_Elaboration\n+   --    Contract_Cases\n+   --    Depends\n+   --    Effective_Reads\n+   --    Effective_Writes\n+   --    Global\n+   --    Initial_Condition\n+   --    Initializes\n+   --    Interrupt_Handler\n+   --    No_Caching\n+   --    Part_Of\n+   --    Precondition\n+   --    Postcondition\n+   --    Refined_Depends\n+   --    Refined_Global\n+   --    Refined_Post\n+   --    Refined_State\n+   --    Subprogram_Variant\n+   --    Test_Case\n+   --    Volatile_Function\n+\n+   function Get_Class_Wide_Pragma\n+     (E  : Entity_Id;\n+      Id : Pragma_Id) return Node_Id;\n+   --  Examine Rep_Item chain to locate a classwide pre- or postcondition of a\n+   --  primitive operation. Returns Empty if not present.\n+\n+   function Get_Record_Representation_Clause (E : Entity_Id) return Node_Id;\n+   --  Searches the Rep_Item chain for a given entity E, for a record\n+   --  representation clause, and if found, returns it. Returns Empty\n+   --  if no such clause is found.\n+\n+   function Present_In_Rep_Item (E : Entity_Id; N : Node_Id) return Boolean;\n+   --  Return True if N is present in the Rep_Item chain for a given entity E\n+\n+   procedure Record_Rep_Item (E : Entity_Id; N : Node_Id);\n+   --  N is the node for a representation pragma, representation clause, an\n+   --  attribute definition clause, or an aspect specification that applies to\n+   --  entity E. This procedure links the node N onto the Rep_Item chain for\n+   --  entity E. Note that it is an error to call this procedure with E being\n+   --  overloadable, and N being a pragma that applies to multiple overloadable\n+   --  entities (Convention, Interface, Inline, Inline_Always, Import, Export,\n+   --  External). This is not allowed even in the case where the entity is not\n+   --  overloaded, since we can't rely on it being present in the overloaded\n+   --  case, it is not useful to have it present in the non-overloaded case.\n+\n+   -------------------------------\n+   -- Miscellaneous Subprograms --\n+   -------------------------------\n+\n+   procedure Append_Entity (Id : Entity_Id; Scop : Entity_Id);\n+   --  Add an entity to the list of entities declared in the scope Scop\n+\n+   function Get_Full_View (T : Entity_Id) return Entity_Id;\n+   --  If T is an incomplete type and the full declaration has been seen, or\n+   --  is the name of a class_wide type whose root is incomplete, return the\n+   --  corresponding full declaration, else return T itself.\n+\n+   function Is_Entity_Name (N : Node_Id) return Boolean;\n+   --  Test if the node N is the name of an entity (i.e. is an identifier,\n+   --  expanded name, or an attribute reference that returns an entity).\n+\n+   --  WARNING: There is a matching C declaration of this subprogram in fe.h\n+\n+   procedure Link_Entities (First : Entity_Id; Second : Entity_Id);\n+   --  Link entities First and Second in one entity chain.\n+   --\n+   --  NOTE: No updates are done to the First_Entity and Last_Entity fields\n+   --  of the scope.\n+\n+   procedure Remove_Entity (Id : Entity_Id);\n+   --  Remove entity Id from the entity chain of its scope\n+\n+   function Subtype_Kind (K : Entity_Kind) return Entity_Kind;\n+   --  Given an entity_kind K this function returns the entity_kind\n+   --  corresponding to subtype kind of the type represented by K. For\n+   --  example if K is E_Signed_Integer_Type then E_Signed_Integer_Subtype\n+   --  is returned. If K is already a subtype kind it itself is returned. An\n+   --  internal error is generated if no such correspondence exists for K.\n+\n+   procedure Unlink_Next_Entity (Id : Entity_Id);\n+   --  Unchain entity Id's forward link within the entity chain of its scope\n+\n+   function Is_Volatile (Id : E) return B;\n+   procedure Set_Is_Volatile (Id : E; V : B := True);\n+   --  Call [Set_]Is_Volatile_Type/Is_Volatile_Object as appropriate for the\n+   --  Ekind of Id.\n+\n+   function Convention\n+     (N : Entity_Id) return Convention_Id renames Basic_Convention;\n+   procedure Set_Convention (E : Entity_Id; Val : Convention_Id);\n+   --  Same as Set_Basic_Convention, but with an extra check for access types.\n+   --  In particular, if E is an access-to-subprogram type, and Val is a\n+   --  foreign convention, then we set Can_Use_Internal_Rep to False on E.\n+   --  Also, if the Etype of E is set and is an anonymous access type with\n+   --  no convention set, this anonymous type inherits the convention of E.\n+\n+   pragma Inline (Is_Entity_Name);\n+\n+   ----------------------------------\n+   -- Debugging Output Subprograms --\n+   ----------------------------------\n+\n+   procedure Write_Entity_Info (Id : Entity_Id; Prefix : String);\n+   --  A debugging procedure to write out information about an entity\n+\n+end Einfo.Utils;"}, {"sha": "3202f99b3c25e9ded75d72f66bfc8f738a7f444c", "filename": "gcc/ada/einfo.adb", "status": "modified", "additions": 2, "deletions": 11553, "changes": 11555, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "e87ce4c8ba29ae11d31aa8b0ad825fe05d412bcc", "filename": "gcc/ada/einfo.ads", "status": "modified", "additions": 1760, "deletions": 5151, "changes": 6911, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feinfo.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "165adb0697bf44d75289f010d66e7b8aa26f6323", "filename": "gcc/ada/elists.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Felists.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "2561d296ae985b7b9994ef3d10778ccef12aa6d5", "filename": "gcc/ada/elists.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Felists.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "d7243fcd9405024fbf37cb0cb30f55f29d524ab3", "filename": "gcc/ada/elists.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Felists.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Felists.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                              C Header File                               *\n  *                                                                          *\n- *            Copyright (C) 1992-2020, Free Software Foundation, Inc.       *\n+ *            Copyright (C) 1992-2021, Free Software Foundation, Inc.       *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "f542dcd7bfe8a2623d6e78b5ccb9c8b87a5c458a", "filename": "gcc/ada/env.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fenv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fenv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fenv.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *            Copyright (C) 2005-2020, Free Software Foundation, Inc.       *\n+ *            Copyright (C) 2005-2021, Free Software Foundation, Inc.       *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "b3f476753a0d3c7db8b5dfb6f1d31763dfeb4000", "filename": "gcc/ada/env.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fenv.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fenv.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fenv.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                              C Header File                               *\n  *                                                                          *\n- *          Copyright (C) 2009-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 2009-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "366df629d74d71e25801aa5a37319331f2acf264", "filename": "gcc/ada/err_vars.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferr_vars.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferr_vars.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferr_vars.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -89,7 +89,7 @@ package Err_Vars is\n    --  Source_Reference line, then this is initialized to No_Source_File,\n    --  to force an initial reference to the real source file name.\n \n-   Warning_Doc_Switch : Boolean := False;\n+   Warning_Doc_Switch : Boolean := True;\n    --  If this is set True, then the ??/?x?/?x? sequences in error messages\n    --  are active (see errout.ads for details). If this switch is False, then\n    --  these sequences are ignored (i.e. simply equivalent to a single ?). The"}, {"sha": "303134bd64ee83d15cf2d9da40a67f6211377c42", "filename": "gcc/ada/errno.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrno.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrno.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrno.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *           Copyright (C) 1992-2020, Free Software Foundation, Inc.        *\n+ *           Copyright (C) 1992-2021, Free Software Foundation, Inc.        *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "0122304da6ff5ebfd3bc851653c0f0b271c5aaa3", "filename": "gcc/ada/errout.adb", "status": "modified", "additions": 813, "deletions": 129, "changes": 942, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrout.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrout.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrout.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -29,25 +29,29 @@\n --  environment, and that in particular, no disallowed table expansion is\n --  allowed to occur.\n \n-with Atree;    use Atree;\n-with Casing;   use Casing;\n-with Csets;    use Csets;\n-with Debug;    use Debug;\n-with Einfo;    use Einfo;\n-with Erroutc;  use Erroutc;\n-with Gnatvsn;  use Gnatvsn;\n-with Lib;      use Lib;\n-with Opt;      use Opt;\n-with Nlists;   use Nlists;\n-with Output;   use Output;\n-with Scans;    use Scans;\n-with Sem_Aux;  use Sem_Aux;\n-with Sinput;   use Sinput;\n-with Sinfo;    use Sinfo;\n-with Snames;   use Snames;\n-with Stand;    use Stand;\n-with Stylesw;  use Stylesw;\n-with Uname;    use Uname;\n+with Atree;          use Atree;\n+with Casing;         use Casing;\n+with Csets;          use Csets;\n+with Debug;          use Debug;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Erroutc;        use Erroutc;\n+with Gnatvsn;        use Gnatvsn;\n+with Lib;            use Lib;\n+with Opt;            use Opt;\n+with Nlists;         use Nlists;\n+with Output;         use Output;\n+with Scans;          use Scans;\n+with Sem_Aux;        use Sem_Aux;\n+with Sinput;         use Sinput;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n+with Snames;         use Snames;\n+with Stand;          use Stand;\n+with Stylesw;        use Stylesw;\n+with Uname;          use Uname;\n \n package body Errout is\n \n@@ -98,8 +102,8 @@ package body Errout is\n \n    procedure Error_Msg_Internal\n      (Msg      : String;\n-      Sptr     : Source_Ptr;\n-      Optr     : Source_Ptr;\n+      Span     : Source_Span;\n+      Opan     : Source_Span;\n       Msg_Cont : Boolean;\n       Node     : Node_Id);\n    --  This is the low level routine used to post messages after dealing with\n@@ -126,6 +130,11 @@ package body Errout is\n    --  or if it refers to an Etype that has an error posted on it, or if\n    --  it references an Entity that has an error posted on it.\n \n+   procedure Output_JSON_Message (Error_Id : Error_Msg_Id);\n+   --  Output error message Error_Id and any subsequent continuation message\n+   --  using a JSON format similar to the one GCC uses when passed\n+   --  -fdiagnostics-format=json.\n+\n    procedure Output_Source_Line\n      (L     : Physical_Line_Number;\n       Sfile : Source_File_Index;\n@@ -218,7 +227,7 @@ package body Errout is\n       Err_Id    : Error_Msg_Id := Error_Id;\n \n    begin\n-      Set_Msg_Text (New_Msg, Errors.Table (Error_Id).Sptr);\n+      Set_Msg_Text (New_Msg, Errors.Table (Error_Id).Sptr.Ptr);\n       Errors.Table (Error_Id).Text := new String'(Msg_Buffer (1 .. Msglen));\n \n       --  If in immediate error message mode, output modified error message now\n@@ -300,14 +309,19 @@ package body Errout is\n    ---------------\n \n    --  Error_Msg posts a flag at the given location, except that if the\n-   --  Flag_Location points within a generic template and corresponds to an\n-   --  instantiation of this generic template, then the actual message will be\n-   --  posted on the generic instantiation, along with additional messages\n-   --  referencing the generic declaration.\n+   --  Flag_Location/Flag_Span points within a generic template and corresponds\n+   --  to an instantiation of this generic template, then the actual message\n+   --  will be posted on the generic instantiation, along with additional\n+   --  messages referencing the generic declaration.\n \n    procedure Error_Msg (Msg : String; Flag_Location : Source_Ptr) is\n    begin\n-      Error_Msg (Msg, Flag_Location, Current_Node);\n+      Error_Msg (Msg, To_Span (Flag_Location), Current_Node);\n+   end Error_Msg;\n+\n+   procedure Error_Msg (Msg : String; Flag_Span : Source_Span) is\n+   begin\n+      Error_Msg (Msg, Flag_Span, Current_Node);\n    end Error_Msg;\n \n    procedure Error_Msg\n@@ -318,7 +332,7 @@ package body Errout is\n       Save_Is_Compile_Time_Msg : constant Boolean := Is_Compile_Time_Msg;\n    begin\n       Is_Compile_Time_Msg := Is_Compile_Time_Pragma;\n-      Error_Msg (Msg, Flag_Location, Current_Node);\n+      Error_Msg (Msg, To_Span (Flag_Location), Current_Node);\n       Is_Compile_Time_Msg := Save_Is_Compile_Time_Msg;\n    end Error_Msg;\n \n@@ -327,6 +341,17 @@ package body Errout is\n       Flag_Location : Source_Ptr;\n       N             : Node_Id)\n    is\n+   begin\n+      Error_Msg (Msg, To_Span (Flag_Location), N);\n+   end Error_Msg;\n+\n+   procedure Error_Msg\n+     (Msg       : String;\n+      Flag_Span : Source_Span;\n+      N         : Node_Id)\n+   is\n+      Flag_Location : constant Source_Ptr := Flag_Span.Ptr;\n+\n       Sindex : Source_File_Index;\n       --  Source index for flag location\n \n@@ -429,7 +454,7 @@ package body Errout is\n       --  Error_Msg_Internal to place the message in the requested location.\n \n       if Instantiation (Sindex) = No_Location then\n-         Error_Msg_Internal (Msg, Flag_Location, Flag_Location, False, N);\n+         Error_Msg_Internal (Msg, Flag_Span, Flag_Span, False, N);\n          return;\n       end if;\n \n@@ -525,32 +550,32 @@ package body Errout is\n                   if Is_Info_Msg then\n                      Error_Msg_Internal\n                        (Msg      => \"info: in inlined body #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   elsif Is_Warning_Msg then\n                      Error_Msg_Internal\n                        (Msg      => Warn_Insertion & \"in inlined body #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   elsif Is_Style_Msg then\n                      Error_Msg_Internal\n                        (Msg      => \"style: in inlined body #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   else\n                      Error_Msg_Internal\n                        (Msg      => \"error in inlined body #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n                   end if;\n@@ -561,32 +586,32 @@ package body Errout is\n                   if Is_Info_Msg then\n                      Error_Msg_Internal\n                        (Msg      => \"info: in instantiation #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   elsif Is_Warning_Msg then\n                      Error_Msg_Internal\n                        (Msg      => Warn_Insertion & \"in instantiation #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   elsif Is_Style_Msg then\n                      Error_Msg_Internal\n                        (Msg      => \"style: in instantiation #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n \n                   else\n                      Error_Msg_Internal\n                        (Msg      => \"instantiation error #\",\n-                        Sptr     => Actual_Error_Loc,\n-                        Optr     => Flag_Location,\n+                        Span     => To_Span (Actual_Error_Loc),\n+                        Opan     => Flag_Span,\n                         Msg_Cont => Msg_Cont_Status,\n                         Node     => N);\n                   end if;\n@@ -605,8 +630,8 @@ package body Errout is\n \n          Error_Msg_Internal\n            (Msg      => Msg,\n-            Sptr     => Actual_Error_Loc,\n-            Optr     => Flag_Location,\n+            Span     => To_Span (Actual_Error_Loc),\n+            Opan     => Flag_Span,\n             Msg_Cont => Msg_Cont_Status,\n             Node     => N);\n       end;\n@@ -650,22 +675,22 @@ package body Errout is\n    end Error_Msg_Ada_2012_Feature;\n \n    --------------------------------\n-   -- Error_Msg_Ada_2020_Feature --\n+   -- Error_Msg_Ada_2022_Feature --\n    --------------------------------\n \n-   procedure Error_Msg_Ada_2020_Feature (Feature : String; Loc : Source_Ptr) is\n+   procedure Error_Msg_Ada_2022_Feature (Feature : String; Loc : Source_Ptr) is\n    begin\n-      if Ada_Version < Ada_2020 then\n-         Error_Msg (Feature & \" is an Ada 2020 feature\", Loc);\n+      if Ada_Version < Ada_2022 then\n+         Error_Msg (Feature & \" is an Ada 2022 feature\", Loc);\n \n          if No (Ada_Version_Pragma) then\n-            Error_Msg (\"\\unit must be compiled with -gnat2020 switch\", Loc);\n+            Error_Msg (\"\\unit must be compiled with -gnat2022 switch\", Loc);\n          else\n             Error_Msg_Sloc := Sloc (Ada_Version_Pragma);\n             Error_Msg (\"\\incompatible with Ada version set#\", Loc);\n          end if;\n       end if;\n-   end Error_Msg_Ada_2020_Feature;\n+   end Error_Msg_Ada_2022_Feature;\n \n    ------------------\n    -- Error_Msg_AP --\n@@ -834,8 +859,13 @@ package body Errout is\n    -----------------\n \n    procedure Error_Msg_F (Msg : String; N : Node_Id) is\n+      Fst, Lst : Node_Id;\n    begin\n-      Error_Msg_NEL (Msg, N, N, Sloc (First_Node (N)));\n+      First_And_Last_Nodes (N, Fst, Lst);\n+      Error_Msg_NEL (Msg, N, N,\n+                     To_Span (Ptr   => Sloc (Fst),\n+                              First => First_Sloc (Fst),\n+                              Last  => Last_Sloc (Lst)));\n    end Error_Msg_F;\n \n    ------------------\n@@ -847,21 +877,42 @@ package body Errout is\n       N   : Node_Id;\n       E   : Node_Or_Entity_Id)\n    is\n+      Fst, Lst : Node_Id;\n    begin\n-      Error_Msg_NEL (Msg, N, E, Sloc (First_Node (N)));\n+      First_And_Last_Nodes (N, Fst, Lst);\n+      Error_Msg_NEL (Msg, N, E,\n+                     To_Span (Ptr   => Sloc (Fst),\n+                              First => First_Sloc (Fst),\n+                              Last  => Last_Sloc (Lst)));\n    end Error_Msg_FE;\n \n+   ------------------------------\n+   -- Error_Msg_GNAT_Extension --\n+   ------------------------------\n+\n+   procedure Error_Msg_GNAT_Extension (Extension : String) is\n+      Loc : constant Source_Ptr := Token_Ptr;\n+   begin\n+      if not Extensions_Allowed then\n+         Error_Msg (Extension & \" is a 'G'N'A'T specific extension\", Loc);\n+         Error_Msg (\"\\unit must be compiled with -gnatX switch\", Loc);\n+      end if;\n+   end Error_Msg_GNAT_Extension;\n+\n    ------------------------\n    -- Error_Msg_Internal --\n    ------------------------\n \n    procedure Error_Msg_Internal\n      (Msg      : String;\n-      Sptr     : Source_Ptr;\n-      Optr     : Source_Ptr;\n+      Span     : Source_Span;\n+      Opan     : Source_Span;\n       Msg_Cont : Boolean;\n       Node     : Node_Id)\n    is\n+      Sptr     : constant Source_Ptr := Span.Ptr;\n+      Optr     : constant Source_Ptr := Opan.Ptr;\n+\n       Next_Msg : Error_Msg_Id;\n       --  Pointer to next message at insertion point\n \n@@ -923,6 +974,11 @@ package body Errout is\n    --  Start of processing for Error_Msg_Internal\n \n    begin\n+      --  Detect common mistake of prefixing or suffing the message with a\n+      --  space character.\n+\n+      pragma Assert (Msg (Msg'First) /= ' ' and then Msg (Msg'Last) /= ' ');\n+\n       if Raise_Exception_On_Error /= 0 then\n          raise Error_Msg_Exception;\n       end if;\n@@ -989,7 +1045,7 @@ package body Errout is\n          if In_Extended_Main_Source_Unit (Sptr) then\n             null;\n \n-         --  If the main unit has not been read yet. the warning must be on\n+         --  If the main unit has not been read yet. The warning must be on\n          --  a configuration file: gnat.adc or user-defined. This means we\n          --  are not parsing the main unit yet, so skip following checks.\n \n@@ -1136,7 +1192,7 @@ package body Errout is\n         ((Text                => new String'(Msg_Buffer (1 .. Msglen)),\n           Next                => No_Error_Msg,\n           Prev                => No_Error_Msg,\n-          Sptr                => Sptr,\n+          Sptr                => Span,\n           Optr                => Optr,\n           Insertion_Sloc      => (if Has_Insertion_Line then Error_Msg_Sloc\n                                   else No_Location),\n@@ -1196,9 +1252,9 @@ package body Errout is\n          if Last_Error_Msg /= No_Error_Msg\n            and then Errors.Table (Cur_Msg).Sfile =\n                     Errors.Table (Last_Error_Msg).Sfile\n-           and then (Sptr > Errors.Table (Last_Error_Msg).Sptr\n+           and then (Sptr > Errors.Table (Last_Error_Msg).Sptr.Ptr\n                        or else\n-                          (Sptr = Errors.Table (Last_Error_Msg).Sptr\n+                          (Sptr = Errors.Table (Last_Error_Msg).Sptr.Ptr\n                              and then\n                                Optr > Errors.Table (Last_Error_Msg).Optr))\n          then\n@@ -1216,8 +1272,8 @@ package body Errout is\n \n                if Errors.Table (Cur_Msg).Sfile = Errors.Table (Next_Msg).Sfile\n                then\n-                  exit when Sptr < Errors.Table (Next_Msg).Sptr\n-                    or else (Sptr = Errors.Table (Next_Msg).Sptr\n+                  exit when Sptr < Errors.Table (Next_Msg).Sptr.Ptr\n+                    or else (Sptr = Errors.Table (Next_Msg).Sptr.Ptr\n                               and then Optr < Errors.Table (Next_Msg).Optr);\n                end if;\n \n@@ -1364,8 +1420,13 @@ package body Errout is\n    -----------------\n \n    procedure Error_Msg_N (Msg : String; N : Node_Or_Entity_Id) is\n+      Fst, Lst : Node_Id;\n    begin\n-      Error_Msg_NEL (Msg, N, N, Sloc (N));\n+      First_And_Last_Nodes (N, Fst, Lst);\n+      Error_Msg_NEL (Msg, N, N,\n+                     To_Span (Ptr   => Sloc (N),\n+                              First => First_Sloc (Fst),\n+                              Last  => Last_Sloc (Lst)));\n    end Error_Msg_N;\n \n    ------------------\n@@ -1377,8 +1438,13 @@ package body Errout is\n       N   : Node_Or_Entity_Id;\n       E   : Node_Or_Entity_Id)\n    is\n+      Fst, Lst : Node_Id;\n    begin\n-      Error_Msg_NEL (Msg, N, E, Sloc (N));\n+      First_And_Last_Nodes (N, Fst, Lst);\n+      Error_Msg_NEL (Msg, N, E,\n+                     To_Span (Ptr   => Sloc (N),\n+                              First => First_Sloc (Fst),\n+                              Last  => Last_Sloc (Lst)));\n    end Error_Msg_NE;\n \n    -------------------\n@@ -1390,6 +1456,22 @@ package body Errout is\n       N             : Node_Or_Entity_Id;\n       E             : Node_Or_Entity_Id;\n       Flag_Location : Source_Ptr)\n+   is\n+      Fst, Lst : Node_Id;\n+   begin\n+      First_And_Last_Nodes (N, Fst, Lst);\n+      Error_Msg_NEL\n+        (Msg, N, E,\n+         To_Span (Ptr   => Flag_Location,\n+                  First => Source_Ptr'Min (Flag_Location, First_Sloc (Fst)),\n+                  Last  => Source_Ptr'Max (Flag_Location, Last_Sloc (Lst))));\n+   end Error_Msg_NEL;\n+\n+   procedure Error_Msg_NEL\n+     (Msg       : String;\n+      N         : Node_Or_Entity_Id;\n+      E         : Node_Or_Entity_Id;\n+      Flag_Span : Source_Span)\n    is\n    begin\n       if Special_Msg_Delete (Msg, N, E) then\n@@ -1443,7 +1525,7 @@ package body Errout is\n       then\n          Debug_Output (N);\n          Error_Msg_Node_1 := E;\n-         Error_Msg (Msg, Flag_Location, N);\n+         Error_Msg (Msg, Flag_Span, N);\n \n       else\n          Last_Killed := True;\n@@ -1463,12 +1545,17 @@ package body Errout is\n       Msg   : String;\n       N     : Node_Or_Entity_Id)\n    is\n+      Fst, Lst : Node_Id;\n    begin\n       if Eflag\n         and then In_Extended_Main_Source_Unit (N)\n         and then Comes_From_Source (N)\n       then\n-         Error_Msg_NEL (Msg, N, N, Sloc (N));\n+         First_And_Last_Nodes (N, Fst, Lst);\n+         Error_Msg_NEL (Msg, N, N,\n+                        To_Span (Ptr   => Sloc (N),\n+                                 First => First_Sloc (Fst),\n+                                 Last  => Last_Sloc (Lst)));\n       end if;\n    end Error_Msg_NW;\n \n@@ -1563,7 +1650,7 @@ package body Errout is\n \n          F := Nxt;\n          while F /= No_Error_Msg\n-           and then Errors.Table (F).Sptr = Errors.Table (Cur).Sptr\n+           and then Errors.Table (F).Sptr.Ptr = Errors.Table (Cur).Sptr.Ptr\n          loop\n             Check_Duplicate_Message (Cur, F);\n             F := Errors.Table (F).Next;\n@@ -1583,8 +1670,8 @@ package body Errout is\n          begin\n             if (CE.Warn and not CE.Deleted)\n               and then\n-                   (Warning_Specifically_Suppressed (CE.Sptr, CE.Text, Tag) /=\n-                                                                   No_String\n+                   (Warning_Specifically_Suppressed (CE.Sptr.Ptr, CE.Text, Tag)\n+                                                                /= No_String\n                       or else\n                     Warning_Specifically_Suppressed (CE.Optr, CE.Text, Tag) /=\n                                                                    No_String)\n@@ -1630,23 +1717,40 @@ package body Errout is\n    ----------------\n \n    function First_Node (C : Node_Id) return Node_Id is\n+      Fst, Lst : Node_Id;\n+   begin\n+      First_And_Last_Nodes (C, Fst, Lst);\n+      return Fst;\n+   end First_Node;\n+\n+   --------------------------\n+   -- First_And_Last_Nodes --\n+   --------------------------\n+\n+   procedure First_And_Last_Nodes\n+     (C                     : Node_Id;\n+      First_Node, Last_Node : out Node_Id)\n+   is\n       Orig     : constant Node_Id           := Original_Node (C);\n       Loc      : constant Source_Ptr        := Sloc (Orig);\n       Sfile    : constant Source_File_Index := Get_Source_File_Index (Loc);\n       Earliest : Node_Id;\n+      Latest   : Node_Id;\n       Eloc     : Source_Ptr;\n+      Lloc     : Source_Ptr;\n \n-      function Test_Earlier (N : Node_Id) return Traverse_Result;\n+      function Test_First_And_Last (N : Node_Id) return Traverse_Result;\n       --  Function applied to every node in the construct\n \n-      procedure Search_Tree_First is new Traverse_Proc (Test_Earlier);\n+      procedure Search_Tree_First_And_Last is new\n+        Traverse_Proc (Test_First_And_Last);\n       --  Create traversal procedure\n \n-      ------------------\n-      -- Test_Earlier --\n-      ------------------\n+      -------------------------\n+      -- Test_First_And_Last --\n+      -------------------------\n \n-      function Test_Earlier (N : Node_Id) return Traverse_Result is\n+      function Test_First_And_Last (N : Node_Id) return Traverse_Result is\n          Norig : constant Node_Id    := Original_Node (N);\n          Loc   : constant Source_Ptr := Sloc (Norig);\n \n@@ -1670,22 +1774,63 @@ package body Errout is\n             Eloc     := Loc;\n          end if;\n \n+         --  Check for later\n+\n+         if Loc > Lloc\n+\n+           --  Ignore nodes with no useful location information\n+\n+           and then Loc /= Standard_Location\n+           and then Loc /= No_Location\n+\n+           --  Ignore nodes from a different file. This ensures against cases\n+           --  of strange foreign code somehow being present. We don't want\n+           --  wild placement of messages if that happens.\n+\n+           and then Get_Source_File_Index (Loc) = Sfile\n+         then\n+            Latest := Norig;\n+            Lloc   := Loc;\n+         end if;\n+\n          return OK_Orig;\n-      end Test_Earlier;\n+      end Test_First_And_Last;\n \n-   --  Start of processing for First_Node\n+   --  Start of processing for First_And_Last_Nodes\n \n    begin\n-      if Nkind (Orig) in N_Subexpr then\n+      if Nkind (Orig) in N_Subexpr\n+                       | N_Declaration\n+                       | N_Access_To_Subprogram_Definition\n+                       | N_Generic_Instantiation\n+                       | N_Later_Decl_Item\n+                       | N_Use_Package_Clause\n+                       | N_Array_Type_Definition\n+                       | N_Renaming_Declaration\n+                       | N_Generic_Renaming_Declaration\n+                       | N_Assignment_Statement\n+                       | N_Raise_Statement\n+                       | N_Simple_Return_Statement\n+                       | N_Exit_Statement\n+                       | N_Pragma\n+                       | N_Use_Type_Clause\n+                       | N_With_Clause\n+                       | N_Attribute_Definition_Clause\n+                       | N_Subtype_Indication\n+      then\n          Earliest := Orig;\n          Eloc := Loc;\n-         Search_Tree_First (Orig);\n-         return Earliest;\n+         Latest := Orig;\n+         Lloc := Loc;\n+         Search_Tree_First_And_Last (Orig);\n+         First_Node := Earliest;\n+         Last_Node := Latest;\n \n       else\n-         return Orig;\n+         First_Node := Orig;\n+         Last_Node := Orig;\n       end if;\n-   end First_Node;\n+   end First_And_Last_Nodes;\n \n    ----------------\n    -- First_Sloc --\n@@ -1694,13 +1839,18 @@ package body Errout is\n    function First_Sloc (N : Node_Id) return Source_Ptr is\n       SI : constant Source_File_Index := Source_Index (Get_Source_Unit (N));\n       SF : constant Source_Ptr        := Source_First (SI);\n+      SL : constant Source_Ptr        := Source_Last (SI);\n       F  : Node_Id;\n       S  : Source_Ptr;\n \n    begin\n       F := First_Node (N);\n       S := Sloc (F);\n \n+      if S not in SF .. SL then\n+         return S;\n+      end if;\n+\n       --  The following circuit is a bit subtle. When we have parenthesized\n       --  expressions, then the Sloc will not record the location of the paren,\n       --  but we would like to post the flag on the paren. So what we do is to\n@@ -1786,6 +1936,88 @@ package body Errout is\n       --  True if S starts with Size_For\n    end Is_Size_Too_Small_Message;\n \n+   ---------------\n+   -- Last_Node --\n+   ---------------\n+\n+   function Last_Node (C : Node_Id) return Node_Id is\n+      Fst, Lst : Node_Id;\n+   begin\n+      First_And_Last_Nodes (C, Fst, Lst);\n+      return Lst;\n+   end Last_Node;\n+\n+   ---------------\n+   -- Last_Sloc --\n+   ---------------\n+\n+   function Last_Sloc (N : Node_Id) return Source_Ptr is\n+      SI : constant Source_File_Index := Source_Index (Get_Source_Unit (N));\n+      SF : constant Source_Ptr        := Source_First (SI);\n+      SL : constant Source_Ptr        := Source_Last (SI);\n+      F  : Node_Id;\n+      S  : Source_Ptr;\n+\n+   begin\n+      F := Last_Node (N);\n+      S := Sloc (F);\n+\n+      if S not in SF .. SL then\n+         return S;\n+      end if;\n+\n+      --  Skip past an identifier\n+\n+      while S in SF .. SL - 1\n+        and then Source_Text (SI) (S + 1)\n+          in\n+        '0' .. '9' | 'a' .. 'z' | 'A' .. 'Z' | '.' | '_'\n+      loop\n+         S := S + 1;\n+      end loop;\n+\n+      --  The following circuit attempts at crawling up the tree from the\n+      --  Last_Node, adjusting the Sloc value for any parentheses we know\n+      --  are present, similarly to what is done in First_Sloc.\n+\n+      Node_Loop : loop\n+         Paren_Loop : for J in 1 .. Paren_Count (F) loop\n+\n+            --  We don't look more than 12 characters after the current\n+            --  location\n+\n+            Search_Loop : for K in 1 .. 12 loop\n+               exit Node_Loop when S = SL;\n+\n+               if Source_Text (SI) (S + 1) = ')' then\n+                  S := S + 1;\n+                  exit Search_Loop;\n+\n+               elsif Source_Text (SI) (S + 1) <= ' ' then\n+                  S := S + 1;\n+\n+               else\n+                  exit Search_Loop;\n+               end if;\n+            end loop Search_Loop;\n+         end loop Paren_Loop;\n+\n+         exit Node_Loop when F = N;\n+         F := Parent (F);\n+         exit Node_Loop when Nkind (F) not in N_Subexpr;\n+      end loop Node_Loop;\n+\n+      --  Remove any trailing space\n+\n+      while S in SF + 1 .. SL\n+        and then Source_Text (SI) (S) = ' '\n+      loop\n+         S := S - 1;\n+      end loop;\n+\n+      return S;\n+   end Last_Sloc;\n+\n    -----------------\n    -- No_Warnings --\n    -----------------\n@@ -1841,6 +2073,158 @@ package body Errout is\n       end if;\n    end OK_Node;\n \n+   -------------------------\n+   -- Output_JSON_Message --\n+   -------------------------\n+\n+   procedure Output_JSON_Message (Error_Id : Error_Msg_Id) is\n+\n+      function Is_Continuation (E : Error_Msg_Id) return Boolean;\n+      --  Return True if E is a continuation message.\n+\n+      procedure Write_JSON_Escaped_String (Str : String_Ptr);\n+      --  Write each character of Str, taking care of preceding each quote and\n+      --  backslash with a backslash. Note that this escaping differs from what\n+      --  GCC does.\n+      --\n+      --  Indeed, the JSON specification mandates encoding wide characters\n+      --  either as their direct UTF-8 representation or as their escaped\n+      --  UTF-16 surrogate pairs representation. GCC seems to prefer escaping -\n+      --  we choose to use the UTF-8 representation instead.\n+\n+      procedure Write_JSON_Location (Sptr : Source_Ptr);\n+      --  Write Sptr as a JSON location, an object containing a file attribute,\n+      --  a line number and a column number.\n+\n+      procedure Write_JSON_Span (Span : Source_Span);\n+      --  Write Span as a JSON span, an object containing a \"caret\" attribute\n+      --  whose value is the JSON location of Span.Ptr. If Span.First and\n+      --  Span.Last are different from Span.Ptr, they will be printed as JSON\n+      --  locations under the names \"start\" and \"finish\".\n+\n+      -----------------------\n+      --  Is_Continuation  --\n+      -----------------------\n+\n+      function Is_Continuation (E : Error_Msg_Id) return Boolean is\n+      begin\n+         return E <= Last_Error_Msg and then Errors.Table (E).Msg_Cont;\n+      end Is_Continuation;\n+\n+      -------------------------------\n+      -- Write_JSON_Escaped_String --\n+      -------------------------------\n+\n+      procedure Write_JSON_Escaped_String (Str : String_Ptr) is\n+      begin\n+         for C of Str.all loop\n+            if C = '\"' or else C = '\\' then\n+               Write_Char ('\\');\n+            end if;\n+\n+            Write_Char (C);\n+         end loop;\n+      end Write_JSON_Escaped_String;\n+\n+      -------------------------\n+      -- Write_JSON_Location --\n+      -------------------------\n+\n+      procedure Write_JSON_Location (Sptr : Source_Ptr) is\n+      begin\n+         Write_Str (\"{\"\"file\"\":\"\"\");\n+         Write_Name (Full_Ref_Name (Get_Source_File_Index (Sptr)));\n+         Write_Str (\"\"\",\"\"line\"\":\");\n+         Write_Int (Pos (Get_Physical_Line_Number (Sptr)));\n+         Write_Str (\", \"\"column\"\":\");\n+         Write_Int (Nat (Get_Column_Number (Sptr)));\n+         Write_Str (\"}\");\n+      end Write_JSON_Location;\n+\n+      ---------------------\n+      -- Write_JSON_Span --\n+      ---------------------\n+\n+      procedure Write_JSON_Span (Span : Source_Span) is\n+      begin\n+         Write_Str (\"{\"\"caret\"\":\");\n+         Write_JSON_Location (Span.Ptr);\n+\n+         if Span.Ptr /= Span.First then\n+            Write_Str (\",\"\"start\"\":\");\n+            Write_JSON_Location (Span.First);\n+         end if;\n+\n+         if Span.Ptr /= Span.Last then\n+            Write_Str (\",\"\"finish\"\":\");\n+            Write_JSON_Location (Span.Last);\n+         end if;\n+\n+         Write_Str (\"}\");\n+      end Write_JSON_Span;\n+\n+      --  Local Variables\n+\n+      E : Error_Msg_Id := Error_Id;\n+\n+      Print_Continuations : constant Boolean := not Is_Continuation (E);\n+      --  Do not print continuations messages as children of the current\n+      --  message if the current message is a continuation message.\n+\n+   --  Start of processing for Output_JSON_Message\n+\n+   begin\n+\n+      --  Print message kind\n+\n+      Write_Str (\"{\"\"kind\"\":\");\n+\n+      if Errors.Table (E).Warn and then not Errors.Table (E).Warn_Err then\n+         Write_Str (\"\"\"warning\"\"\");\n+      elsif Errors.Table (E).Info or else Errors.Table (E).Check then\n+         Write_Str (\"\"\"note\"\"\");\n+      else\n+         Write_Str (\"\"\"error\"\"\");\n+      end if;\n+\n+      --  Print message location\n+\n+      Write_Str (\",\"\"locations\"\":[\");\n+      Write_JSON_Span (Errors.Table (E).Sptr);\n+\n+      if Errors.Table (E).Optr /= Errors.Table (E).Sptr.Ptr then\n+         Write_Str (\",{\"\"caret\"\":\");\n+         Write_JSON_Location (Errors.Table (E).Optr);\n+         Write_Str (\"}\");\n+      end if;\n+\n+      --  Print message content\n+\n+      Write_Str (\"],\"\"message\"\":\"\"\");\n+      Write_JSON_Escaped_String (Errors.Table (E).Text);\n+      Write_Str (\"\"\"\");\n+\n+      E := E + 1;\n+\n+      if Print_Continuations and then Is_Continuation (E) then\n+\n+         Write_Str (\",\"\"children\"\": [\");\n+         Output_JSON_Message (E);\n+         E := E + 1;\n+\n+         while Is_Continuation (E) loop\n+            Write_Str (\", \");\n+            Output_JSON_Message (E);\n+            E := E + 1;\n+         end loop;\n+\n+         Write_Str (\"]\");\n+\n+      end if;\n+\n+      Write_Str (\"}\");\n+   end Output_JSON_Message;\n+\n    ---------------------\n    -- Output_Messages --\n    ---------------------\n@@ -1858,13 +2242,35 @@ package body Errout is\n       procedure Write_Max_Errors;\n       --  Write message if max errors reached\n \n-      procedure Write_Source_Code_Line (Loc : Source_Ptr);\n-      --  Write the source code line corresponding to Loc, as follows:\n+      procedure Write_Source_Code_Lines\n+        (Span     : Source_Span;\n+         SGR_Span : String);\n+      --  Write the source code line corresponding to Span, as follows when\n+      --  Span in on one line:\n+      --\n+      --  line |  actual code line here with Span somewhere\n+      --       |                        ~~~~~^~~~\n+      --\n+      --  where the caret on the line points to location Span.Ptr, and the\n+      --  range Span.First..Span.Last is underlined.\n+      --\n+      --  or when the span is over multiple lines:\n+      --\n+      --  line |  beginning of the Span on this line\n+      --   ... |     ...\n+      --  line>|  actual code line here with Span.Ptr somewhere\n+      --   ... |     ...\n+      --  line |  end of the Span on this line\n       --\n-      --  line |  actual code line here with Loc somewhere\n+      --  or when the span is a simple location, as follows:\n+      --\n+      --  line |  actual code line here with Span somewhere\n       --       |                             ^ here\n       --\n-      --  where the carret on the last line points to location Loc.\n+      --  where the caret on the line points to location Span.Ptr\n+      --\n+      --  SGR_Span is the SGR string to start the section of code in the span,\n+      --  that should be closed with SGR_Reset.\n \n       -------------------------\n       -- Write_Error_Summary --\n@@ -2056,17 +2462,89 @@ package body Errout is\n          end if;\n       end Write_Max_Errors;\n \n-      ----------------------------\n-      -- Write_Source_Code_Line --\n-      ----------------------------\n+      -----------------------------\n+      -- Write_Source_Code_Lines --\n+      -----------------------------\n \n-      procedure Write_Source_Code_Line (Loc : Source_Ptr) is\n+      procedure Write_Source_Code_Lines\n+        (Span     : Source_Span;\n+         SGR_Span : String)\n+      is\n+         function Get_Line_End\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr) return Source_Ptr;\n+         --  Get the source location for the end of the line in Buf for Loc\n+\n+         function Get_Line_Start\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr) return Source_Ptr;\n+         --  Get the source location for the start of the line in Buf for Loc\n \n          function Image (X : Positive; Width : Positive) return String;\n          --  Output number X over Width characters, with whitespace padding.\n          --  Only output the low-order Width digits of X, if X is larger than\n          --  Width digits.\n \n+         procedure Write_Buffer\n+           (Buf   : Source_Buffer_Ptr;\n+            First : Source_Ptr;\n+            Last  : Source_Ptr);\n+         --  Output the characters from First to Last position in Buf, using\n+         --  Write_Buffer_Char.\n+\n+         procedure Write_Buffer_Char\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr);\n+         --  Output the characters at position Loc in Buf, translating ASCII.HT\n+         --  in a suitable number of spaces so that the output is not modified\n+         --  by starting in a different column that 1.\n+\n+         procedure Write_Line_Marker\n+           (Num   : Pos;\n+            Mark  : Boolean;\n+            Width : Positive);\n+         --  Output the line number Num over Width characters, with possibly\n+         --  a Mark to denote the line with the main location when reporting\n+         --  a span over multiple lines.\n+\n+         ------------------\n+         -- Get_Line_End --\n+         ------------------\n+\n+         function Get_Line_End\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr) return Source_Ptr\n+         is\n+            Cur_Loc : Source_Ptr := Loc;\n+         begin\n+            while Cur_Loc <= Buf'Last\n+              and then Buf (Cur_Loc) /= ASCII.LF\n+            loop\n+               Cur_Loc := Cur_Loc + 1;\n+            end loop;\n+\n+            return Cur_Loc;\n+         end Get_Line_End;\n+\n+         --------------------\n+         -- Get_Line_Start --\n+         --------------------\n+\n+         function Get_Line_Start\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr) return Source_Ptr\n+         is\n+            Cur_Loc : Source_Ptr := Loc;\n+         begin\n+            while Cur_Loc > Buf'First\n+              and then Buf (Cur_Loc - 1) /= ASCII.LF\n+            loop\n+               Cur_Loc := Cur_Loc - 1;\n+            end loop;\n+\n+            return Cur_Loc;\n+         end Get_Line_Start;\n+\n          -----------\n          -- Image --\n          -----------\n@@ -2087,45 +2565,200 @@ package body Errout is\n             return Str;\n          end Image;\n \n+         ------------------\n+         -- Write_Buffer --\n+         ------------------\n+\n+         procedure Write_Buffer\n+           (Buf   : Source_Buffer_Ptr;\n+            First : Source_Ptr;\n+            Last  : Source_Ptr)\n+         is\n+         begin\n+            for Loc in First .. Last loop\n+               Write_Buffer_Char (Buf, Loc);\n+            end loop;\n+         end Write_Buffer;\n+\n+         -----------------------\n+         -- Write_Buffer_Char --\n+         -----------------------\n+\n+         procedure Write_Buffer_Char\n+           (Buf : Source_Buffer_Ptr;\n+            Loc : Source_Ptr)\n+         is\n+         begin\n+            --  If the character ASCII.HT is not the last one in the file,\n+            --  output as many spaces as the character represents in the\n+            --  original source file.\n+\n+            if Buf (Loc) = ASCII.HT\n+              and then Loc < Buf'Last\n+            then\n+               for X in Get_Column_Number (Loc) ..\n+                        Get_Column_Number (Loc + 1) - 1\n+               loop\n+                  Write_Char (' ');\n+               end loop;\n+\n+            --  Otherwise output the character itself\n+\n+            else\n+               Write_Char (Buf (Loc));\n+            end if;\n+         end Write_Buffer_Char;\n+\n+         -----------------------\n+         -- Write_Line_Marker --\n+         -----------------------\n+\n+         procedure Write_Line_Marker\n+           (Num   : Pos;\n+            Mark  : Boolean;\n+            Width : Positive)\n+         is\n+         begin\n+            Write_Str (Image (Positive (Num), Width => Width));\n+            Write_Str ((if Mark then \">\" else \" \") & \"|\");\n+         end Write_Line_Marker;\n+\n          --  Local variables\n \n-         Line    : constant Pos     := Pos (Get_Physical_Line_Number (Loc));\n-         Col     : constant Natural := Natural (Get_Column_Number (Loc));\n-         Width   : constant         := 5;\n+         Loc     : constant Source_Ptr := Span.Ptr;\n+         Line    : constant Pos        := Pos (Get_Physical_Line_Number (Loc));\n+\n+         Col     : constant Natural    := Natural (Get_Column_Number (Loc));\n \n-         Buf     : Source_Buffer_Ptr;\n-         Cur_Loc : Source_Ptr := Loc;\n+         Fst      : constant Source_Ptr := Span.First;\n+         Line_Fst : constant Pos        :=\n+           Pos (Get_Physical_Line_Number (Fst));\n+         Col_Fst  : constant Natural    :=\n+           Natural (Get_Column_Number (Fst));\n+         Lst      : constant Source_Ptr := Span.Last;\n+         Line_Lst : constant Pos        :=\n+           Pos (Get_Physical_Line_Number (Lst));\n+         Col_Lst  : constant Natural    :=\n+           Natural (Get_Column_Number (Lst));\n \n-      --  Start of processing for Write_Source_Code_Line\n+         Width    : constant := 5;\n+         Buf      : Source_Buffer_Ptr;\n+         Cur_Loc  : Source_Ptr := Fst;\n+         Cur_Line : Pos := Line_Fst;\n+\n+      --  Start of processing for Write_Source_Code_Lines\n \n       begin\n          if Loc >= First_Source_Ptr then\n             Buf := Source_Text (Get_Source_File_Index (Loc));\n \n-            --  First line with the actual source code line\n+            --  First line of the span with actual source code. We retrieve\n+            --  the beginning of the line instead of relying on Col_Fst, as\n+            --  ASCII.HT characters change column numbers by possibly more\n+            --  than one.\n \n-            Write_Str (Image (Positive (Line), Width => Width));\n-            Write_Str (\" |\");\n-            Write_Str (String (Buf (Loc - Source_Ptr (Col) + 1  .. Loc - 1)));\n+            Write_Line_Marker\n+              (Cur_Line,\n+               Line_Fst /= Line_Lst and then Cur_Line = Line,\n+               Width);\n+            Write_Buffer (Buf, Get_Line_Start (Buf, Cur_Loc), Cur_Loc - 1);\n \n-            while Cur_Loc <= Buf'Last\n-              and then Buf (Cur_Loc) /= ASCII.LF\n-            loop\n-               Write_Char (Buf (Cur_Loc));\n-               Cur_Loc := Cur_Loc + 1;\n-            end loop;\n+            --  Output the first/caret/last lines of the span, as well as\n+            --  lines that are directly above/below the caret if they complete\n+            --  the gap with first/last lines, otherwise use ... to denote\n+            --  intermediate lines.\n \n-            Write_Eol;\n+            --  If the span is on one line and not a simple source location,\n+            --  color it appropriately.\n \n-            --  Second line with carret sign pointing to location Loc\n+            if Line_Fst = Line_Lst\n+              and then Col_Fst /= Col_Lst\n+            then\n+               Write_Str (SGR_Span);\n+            end if;\n \n-            Write_Str (String'(1 .. Width => ' '));\n-            Write_Str (\" |\");\n-            Write_Str (String'(1 .. Col - 1 => ' '));\n-            Write_Str (\"^ here\");\n-            Write_Eol;\n+            declare\n+               function Do_Write_Line (Cur_Line : Pos) return Boolean is\n+                  (Cur_Line in Line_Fst | Line | Line_Lst\n+                     or else\n+                   (Cur_Line = Line_Fst + 1 and then Cur_Line = Line - 1)\n+                     or else\n+                   (Cur_Line = Line + 1 and then Cur_Line = Line_Lst - 1));\n+            begin\n+               while Cur_Loc <= Buf'Last\n+                 and then Cur_Loc <= Lst\n+               loop\n+                  if Do_Write_Line (Cur_Line) then\n+                     Write_Buffer_Char (Buf, Cur_Loc);\n+                  end if;\n+\n+                  Cur_Loc := Cur_Loc + 1;\n+\n+                  if Buf (Cur_Loc - 1) = ASCII.LF then\n+                     Cur_Line := Cur_Line + 1;\n+\n+                     --  Output ... for skipped lines\n+\n+                     if (Cur_Line = Line\n+                          and then not Do_Write_Line (Cur_Line - 1))\n+                       or else\n+                        (Cur_Line = Line + 1\n+                          and then not Do_Write_Line (Cur_Line))\n+                     then\n+                        Write_Str ((1 .. Width - 3 => ' ') & \"... | ...\");\n+                        Write_Eol;\n+                     end if;\n+\n+                     --  Display the line marker if the line should be\n+                     --  displayed.\n+\n+                     if Do_Write_Line (Cur_Line) then\n+                        Write_Line_Marker\n+                          (Cur_Line,\n+                           Line_Fst /= Line_Lst and then Cur_Line = Line,\n+                           Width);\n+                     end if;\n+                  end if;\n+               end loop;\n+            end;\n+\n+            if Line_Fst = Line_Lst\n+              and then Col_Fst /= Col_Lst\n+            then\n+               Write_Str (SGR_Reset);\n+            end if;\n+\n+            --  Output the rest of the last line of the span\n+\n+            Write_Buffer (Buf, Cur_Loc, Get_Line_End (Buf, Cur_Loc));\n+\n+            --  If the span is on one line, output a second line with caret\n+            --  sign pointing to location Loc\n+\n+            if Line_Fst = Line_Lst then\n+               Write_Str (String'(1 .. Width => ' '));\n+               Write_Str (\" |\");\n+               Write_Str (String'(1 .. Col_Fst - 1 => ' '));\n+\n+               Write_Str (SGR_Span);\n+\n+               Write_Str (String'(Col_Fst .. Col - 1 => '~'));\n+               Write_Str (\"^\");\n+               Write_Str (String'(Col + 1 .. Col_Lst => '~'));\n+\n+               --  If the span is really just a location, add the word \"here\"\n+               --  to clarify this is the location for the message.\n+\n+               if Col_Fst = Col_Lst then\n+                  Write_Str (\" here\");\n+               end if;\n+\n+               Write_Str (SGR_Reset);\n+\n+               Write_Eol;\n+            end if;\n          end if;\n-      end Write_Source_Code_Line;\n+      end Write_Source_Code_Lines;\n \n       --  Local variables\n \n@@ -2152,9 +2785,46 @@ package body Errout is\n          Current_Error_Source_File := No_Source_File;\n       end if;\n \n+      if Opt.JSON_Output then\n+         Set_Standard_Error;\n+\n+         E := First_Error_Msg;\n+\n+         --  Find first printable message\n+\n+         while E /= No_Error_Msg and then Errors.Table (E).Deleted loop\n+            E := Errors.Table (E).Next;\n+         end loop;\n+\n+         Write_Char ('[');\n+\n+         if E /= No_Error_Msg then\n+\n+            Output_JSON_Message (E);\n+\n+            E := Errors.Table (E).Next;\n+\n+            --  Skip deleted messages.\n+            --  Also skip continuation messages, as they have already been\n+            --  printed along the message they're attached to.\n+\n+            while E /= No_Error_Msg\n+              and then not Errors.Table (E).Deleted\n+              and then not Errors.Table (E).Msg_Cont\n+            loop\n+               Write_Char (',');\n+               Output_JSON_Message (E);\n+               E := Errors.Table (E).Next;\n+            end loop;\n+         end if;\n+\n+         Write_Char (']');\n+\n+         Set_Standard_Output;\n+\n       --  Brief Error mode\n \n-      if Brief_Output or (not Full_List and not Verbose_Mode) then\n+      elsif Brief_Output or (not Full_List and not Verbose_Mode) then\n          Set_Standard_Error;\n \n          E := First_Error_Msg;\n@@ -2180,6 +2850,8 @@ package body Errout is\n                end if;\n \n                if Use_Prefix then\n+                  Write_Str (SGR_Locus);\n+\n                   if Full_Path_Name_For_Brief_Errors then\n                      Write_Name (Full_Ref_Name (Errors.Table (E).Sfile));\n                   else\n@@ -2198,6 +2870,8 @@ package body Errout is\n \n                   Write_Int (Int (Errors.Table (E).Col));\n                   Write_Str (\": \");\n+\n+                  Write_Str (SGR_Reset);\n                end if;\n \n                Output_Msg_Text (E);\n@@ -2217,12 +2891,23 @@ package body Errout is\n                           Errors.Table (E).Insertion_Sloc;\n                      begin\n                         if Loc /= No_Location then\n-                           Write_Source_Code_Line (Loc);\n+                           Write_Source_Code_Lines\n+                             (To_Span (Loc), SGR_Span => SGR_Note);\n                         end if;\n                      end;\n \n                   else\n-                     Write_Source_Code_Line (Errors.Table (E).Sptr);\n+                     declare\n+                        SGR_Span : constant String :=\n+                          (if Errors.Table (E).Info then SGR_Note\n+                           elsif Errors.Table (E).Warn\n+                             and then not Errors.Table (E).Warn_Err\n+                           then SGR_Warning\n+                           else SGR_Error);\n+                     begin\n+                        Write_Source_Code_Lines\n+                          (Errors.Table (E).Sptr, SGR_Span);\n+                     end;\n                   end if;\n                end if;\n             end if;\n@@ -2355,11 +3040,12 @@ package body Errout is\n          --  subunits for a body).\n \n          while E /= No_Error_Msg\n-           and then (not In_Extended_Main_Source_Unit (Errors.Table (E).Sptr)\n+           and then (not In_Extended_Main_Source_Unit\n+                           (Errors.Table (E).Sptr.Ptr)\n                        or else\n                         (Debug_Flag_Dot_M\n                           and then Get_Source_Unit\n-                                     (Errors.Table (E).Sptr) /= Main_Unit))\n+                                     (Errors.Table (E).Sptr.Ptr) /= Main_Unit))\n          loop\n             if Errors.Table (E).Deleted then\n                E := Errors.Table (E).Next;\n@@ -2420,7 +3106,9 @@ package body Errout is\n          Write_Error_Summary;\n       end if;\n \n-      Write_Max_Errors;\n+      if not Opt.JSON_Output then\n+         Write_Max_Errors;\n+      end if;\n \n       --  Even though Warning_Info_Messages are a subclass of warnings, they\n       --  must not be treated as errors when -gnatwe is in effect.\n@@ -2739,7 +3427,7 @@ package body Errout is\n          --  For standard locations, always use mixed case\n \n          if Loc <= No_Location then\n-            Set_Casing (Mixed_Case);\n+            Set_Casing (Buf, Mixed_Case);\n \n          else\n             --  Determine if the reference we are dealing with corresponds to\n@@ -2777,11 +3465,6 @@ package body Errout is\n       end;\n    end Adjust_Name_Case;\n \n-   procedure Adjust_Name_Case (Loc : Source_Ptr) is\n-   begin\n-      Adjust_Name_Case (Global_Name_Buffer, Loc);\n-   end Adjust_Name_Case;\n-\n    ---------------------------\n    -- Set_Identifier_Casing --\n    ---------------------------\n@@ -3535,7 +4218,8 @@ package body Errout is\n          --  other errors. The reason we eliminate unfrozen types is that\n          --  messages issued before the freeze type are for sure OK.\n \n-         elsif Is_Frozen (E)\n+         elsif Nkind (N) in N_Entity\n+           and then Is_Frozen (E)\n            and then Serious_Errors_Detected > 0\n            and then Nkind (N) /= N_Component_Clause\n            and then Nkind (Parent (N)) /= N_Component_Clause"}, {"sha": "9b2e08d65e7c39af32cb9c04cbc65efb929f2a24", "filename": "gcc/ada/errout.ads", "status": "modified", "additions": 45, "deletions": 19, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrout.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrout.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrout.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -279,7 +279,7 @@ package Errout is\n    --      The character ? appearing anywhere in a message makes the message\n    --      warning instead of a normal error message, and the text of the\n    --      message will be preceded by \"warning:\" in the normal case. The\n-   --      handling of warnings if further controlled by the Warning_Mode\n+   --      handling of warnings is further controlled by the Warning_Mode\n    --      option (-w switch), see package Opt for further details, and also by\n    --      the current setting from pragma Warnings. This pragma applies only\n    --      to warnings issued from the semantic phase (not the parser), but\n@@ -519,7 +519,7 @@ package Errout is\n    --  The prefixes error and warning are supplied automatically (depending\n    --  on the use of the ? insertion character), and the call to the error\n    --  message routine supplies the text. The \"error: \" prefix is omitted\n-   --  in brief error message formats.\n+   --  if -gnatd_U is among the options given to gnat.\n \n    --  Reserved Ada keywords in the message are in the default keyword case\n    --  (determined from the given source program), surrounded by quotation\n@@ -702,11 +702,16 @@ package Errout is\n \n    procedure Error_Msg\n      (Msg : String; Flag_Location : Source_Ptr);\n+   procedure Error_Msg\n+     (Msg : String; Flag_Span : Source_Span);\n    procedure Error_Msg\n      (Msg : String; Flag_Location : Source_Ptr; N : Node_Id);\n+   procedure Error_Msg\n+     (Msg : String; Flag_Span : Source_Span; N : Node_Id);\n    --  Output a message at specified location. Can be called from the parser\n    --  or the semantic analyzer. If N is set, points to the relevant node for\n-   --  this message.\n+   --  this message. The version with a span is preferred whenever possible,\n+   --  in other cases the version with a location can still be used.\n \n    procedure Error_Msg\n      (Msg                    : String;\n@@ -782,8 +787,13 @@ package Errout is\n       N             : Node_Or_Entity_Id;\n       E             : Node_Or_Entity_Id;\n       Flag_Location : Source_Ptr);\n+   procedure Error_Msg_NEL\n+     (Msg       : String;\n+      N         : Node_Or_Entity_Id;\n+      E         : Node_Or_Entity_Id;\n+      Flag_Span : Source_Span);\n    --  Exactly the same as Error_Msg_NE, except that the flag is placed at\n-   --  the specified Flag_Location instead of at Sloc (N).\n+   --  the specified Flag_Location/Flag_Span instead of at Sloc (N).\n \n    procedure Error_Msg_NW\n      (Eflag : Boolean;\n@@ -801,12 +811,17 @@ package Errout is\n    --  the given text. This text may contain insertion characters in the\n    --  usual manner, and need not be the same length as the original text.\n \n+   procedure First_And_Last_Nodes\n+     (C                     : Node_Id;\n+      First_Node, Last_Node : out Node_Id);\n+   --  Given a construct C, finds the first and last node in the construct,\n+   --  i.e. the ones with the lowest and highest Sloc value. This is useful in\n+   --  placing error msgs. Note that this procedure uses Original_Node to look\n+   --  at the original source tree, since that's what we want for placing an\n+   --  error message flag in the right place.\n+\n    function First_Node (C : Node_Id) return Node_Id;\n-   --  Given a construct C, finds the first node in the construct, i.e. the one\n-   --  with the lowest Sloc value. This is useful in placing error msgs. Note\n-   --  that this procedure uses Original_Node to look at the original source\n-   --  tree, since that's what we want for placing an error message flag in\n-   --  the right place.\n+   --  Return the first output of First_And_Last_Nodes\n \n    function First_Sloc (N : Node_Id) return Source_Ptr;\n    --  Given the node for an expression, return a source pointer value that\n@@ -817,6 +832,15 @@ package Errout is\n    function Get_Ignore_Errors return Boolean;\n    --  Return True if all error calls are ignored.\n \n+   function Last_Node (C : Node_Id) return Node_Id;\n+   --  Return the last output of First_And_Last_Nodes\n+\n+   function Last_Sloc (N : Node_Id) return Source_Ptr;\n+   --  Given the node for an expression, return a source pointer value that\n+   --  points to the end of the last token in the expression. In the case\n+   --  where the expression is parenthesized, an attempt is made to include\n+   --  the parentheses (i.e. to return the location of the final paren).\n+\n    procedure Purge_Messages (From : Source_Ptr; To : Source_Ptr)\n      renames Erroutc.Purge_Messages;\n    --  All error messages whose location is in the range From .. To (not\n@@ -915,8 +939,13 @@ package Errout is\n    --  contain error message insertion characters in the normal manner, and in\n    --  particular may start with | to flag a non-serious error.\n \n-   procedure Error_Msg_Ada_2020_Feature (Feature : String; Loc : Source_Ptr);\n-   --  Analogous to Error_Msg_Ada_2012_Feature\n+   procedure Error_Msg_Ada_2022_Feature (Feature : String; Loc : Source_Ptr);\n+   --  Analogous to Error_Msg_Ada_2012_Feature, for Ada 2022\n+\n+   procedure Error_Msg_GNAT_Extension (Extension : String);\n+   --  If not operating with extensions allowed, posts errors complaining\n+   --  that Extension is only supported when the -gnatX switch is enabled,\n+   --  with appropriate suggestions to fix it.\n \n    procedure dmsg (Id : Error_Msg_Id) renames Erroutc.dmsg;\n    --  Debugging routine to dump an error message\n@@ -956,13 +985,10 @@ package Errout is\n    --  the name at that source location, we copy the casing from the source,\n    --  otherwise we set appropriate default casing.\n \n-   procedure Adjust_Name_Case (Loc : Source_Ptr);\n-   --  Uses Buf => Global_Name_Buffer. There are no calls to this in the\n-   --  compiler, but it is called in SPARK 2014.\n-\n    procedure Set_Identifier_Casing\n      (Identifier_Name : System.Address;\n       File_Name       : System.Address);\n+   pragma Convention (C, Set_Identifier_Casing);\n    --  This subprogram can be used by the back end for the purposes of\n    --  concocting error messages that are not output via Errout, e.g.\n    --  the messages generated by the gcc back end.\n@@ -982,8 +1008,8 @@ package Errout is\n    Size_Too_Small_Message : constant String :=\n      \"size for& too small, minimum allowed is ^\";\n    --  This message is printed in Freeze and Sem_Ch13. We also test for it in\n-   --  the body of this package (see Special_Msg_Delete) ???which is somewhat\n-   --  questionable. The Is_Size_Too_Small_Message function tests for it by\n-   --  testing a prefix. The function and constant should be kept in synch.\n+   --  the body of this package (see Special_Msg_Delete).\n+   --  Function Is_Size_Too_Small_Message tests for it by testing a prefix.\n+   --  The function and constant should be kept in synch.\n \n end Errout;"}, {"sha": "a2cd3c3c7e02871fdfea40128d2b7e8695c755b8", "filename": "gcc/ada/erroutc.adb", "status": "modified", "additions": 47, "deletions": 21, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferroutc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferroutc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferroutc.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -51,11 +51,6 @@ package body Erroutc is\n    -- Local Subprograms --\n    -----------------------\n \n-   function Matches (S : String; P : String) return Boolean;\n-   --  Returns true if the String S matches the pattern P, which can contain\n-   --  wildcard chars (*). The entire pattern must match the entire string.\n-   --  Case is ignored in the comparison (so X matches x).\n-\n    function Sloc_In_Range (Loc, Start, Stop : Source_Ptr) return Boolean;\n    --  Return whether Loc is in the range Start .. Stop, taking instantiation\n    --  locations of Loc into account. This is useful for suppressing warnings\n@@ -321,7 +316,7 @@ package body Erroutc is\n \n       Write_Str\n         (\"  Sptr     = \");\n-      Write_Location (E.Sptr);\n+      Write_Location (E.Sptr.Ptr);  --  ??? Do not write the full span for now\n       Write_Eol;\n \n       Write_Str\n@@ -350,7 +345,7 @@ package body Erroutc is\n \n    function Get_Location (E : Error_Msg_Id) return Source_Ptr is\n    begin\n-      return Errors.Table (E).Sptr;\n+      return Errors.Table (E).Sptr.Ptr;\n    end Get_Location;\n \n    ----------------\n@@ -477,7 +472,7 @@ package body Erroutc is\n         and then Errors.Table (T).Line = Errors.Table (E).Line\n         and then Errors.Table (T).Sfile = Errors.Table (E).Sfile\n       loop\n-         if Errors.Table (T).Sptr > Errors.Table (E).Sptr then\n+         if Errors.Table (T).Sptr.Ptr > Errors.Table (E).Sptr.Ptr then\n             Mult_Flags := True;\n          end if;\n \n@@ -490,7 +485,7 @@ package body Erroutc is\n \n       if not Debug_Flag_2 then\n          Write_Str (\"        \");\n-         P := Line_Start (Errors.Table (E).Sptr);\n+         P := Line_Start (Errors.Table (E).Sptr.Ptr);\n          Flag_Num := 1;\n \n          --  Loop through error messages for this line to place flags\n@@ -507,7 +502,7 @@ package body Erroutc is\n             begin\n                --  Loop to output blanks till current flag position\n \n-               while P < Errors.Table (T).Sptr loop\n+               while P < Errors.Table (T).Sptr.Ptr loop\n \n                   --  Horizontal tab case, just echo the tab\n \n@@ -536,7 +531,7 @@ package body Erroutc is\n                --  Output flag (unless already output, this happens if more\n                --  than one error message occurs at the same flag position).\n \n-               if P = Errors.Table (T).Sptr then\n+               if P = Errors.Table (T).Sptr.Ptr then\n                   if (Flag_Num = 1 and then not Mult_Flags)\n                     or else Flag_Num > 9\n                   then\n@@ -699,7 +694,7 @@ package body Erroutc is\n       --  For info messages, prefix message with \"info: \"\n \n       elsif E_Msg.Info then\n-         Txt := new String'(\"info: \" & Txt.all);\n+         Txt := new String'(SGR_Note & \"info: \" & SGR_Reset & Txt.all);\n \n       --  Warning treated as error\n \n@@ -709,27 +704,58 @@ package body Erroutc is\n       --  [warning-as-error] at the end.\n \n          Warnings_Treated_As_Errors := Warnings_Treated_As_Errors + 1;\n-         Txt := new String'(\"error: \" & Txt.all & \" [warning-as-error]\");\n+         Txt := new String'(SGR_Error & \"error: \" & SGR_Reset\n+                            & Txt.all & \" [warning-as-error]\");\n \n       --  Normal warning, prefix with \"warning: \"\n \n       elsif E_Msg.Warn then\n-         Txt := new String'(\"warning: \" & Txt.all);\n+         Txt := new String'(SGR_Warning & \"warning: \" & SGR_Reset & Txt.all);\n \n-      --  No prefix needed for style message, \"(style)\" is there already\n+      --  No prefix needed for style message, \"(style)\" is there already,\n+      --  although not necessarily in first position if -gnatdJ is used.\n \n       elsif E_Msg.Style then\n-         null;\n+         if Txt (Txt'First .. Txt'First + 6) = \"(style)\" then\n+            Txt := new String'(SGR_Warning & \"(style)\" & SGR_Reset\n+                               & Txt (Txt'First + 7 .. Txt'Last));\n+         end if;\n \n       --  No prefix needed for check message, severity is there already\n \n       elsif E_Msg.Check then\n-         null;\n+\n+         --  The message format is \"severity: ...\"\n+         --\n+         --  Enclose the severity with an SGR control string if requested\n+\n+         if Use_SGR_Control then\n+            declare\n+               Msg   : String renames Text.all;\n+               Colon : Natural := 0;\n+            begin\n+               --  Find first colon\n+\n+               for J in Msg'Range loop\n+                  if Msg (J) = ':' then\n+                     Colon := J;\n+                     exit;\n+                  end if;\n+               end loop;\n+\n+               pragma Assert (Colon > 0);\n+\n+               Txt := new String'(SGR_Error\n+                                  & Msg (Msg'First .. Colon)\n+                                  & SGR_Reset\n+                                  & Msg (Colon + 1 .. Msg'Last));\n+            end;\n+         end if;\n \n       --  All other cases, add \"error: \" if unique error tag set\n \n       elsif Opt.Unique_Error_Tag then\n-         Txt := new String'(\"error: \" & Txt.all);\n+         Txt := new String'(SGR_Error & \"error: \" & SGR_Reset & Txt.all);\n       end if;\n \n       --  Set error message line length and length of message\n@@ -955,8 +981,8 @@ package body Erroutc is\n       function To_Be_Purged (E : Error_Msg_Id) return Boolean is\n       begin\n          if E /= No_Error_Msg\n-           and then Errors.Table (E).Sptr > From\n-           and then Errors.Table (E).Sptr < To\n+           and then Errors.Table (E).Sptr.Ptr > From\n+           and then Errors.Table (E).Sptr.Ptr < To\n          then\n             if Errors.Table (E).Warn or else Errors.Table (E).Style then\n                Warnings_Detected := Warnings_Detected - 1;"}, {"sha": "891391c5d43522e319cfea8ac47de1f0e4e31c37", "filename": "gcc/ada/erroutc.ads", "status": "modified", "additions": 67, "deletions": 2, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferroutc.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferroutc.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferroutc.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -197,7 +197,7 @@ package Erroutc is\n       --  refers to a template, always references the original template\n       --  not an instantiation copy.\n \n-      Sptr : Source_Ptr;\n+      Sptr : Source_Span;\n       --  Flag pointer. In the case of an error that refers to a template,\n       --  always references the original template, not an instantiation copy.\n       --  This value is the actual place in the source that the error message\n@@ -390,6 +390,66 @@ package Erroutc is\n    --  find such an On entry, we cancel the indication of it being the\n    --  configuration case. This seems to handle all cases we run into ok.\n \n+   -------------------\n+   -- Color Control --\n+   -------------------\n+\n+   Use_SGR_Control : Boolean := False;\n+   --  Set to True for enabling colored output. This should only be done when\n+   --  outputting messages to a terminal that supports it.\n+\n+   --  Colors in messages output to a terminal are controlled using SGR\n+   --  (Select Graphic Rendition).\n+\n+   Color_Separator  : constant String := \";\";\n+   Color_None       : constant String := \"00\";\n+   Color_Bold       : constant String := \"01\";\n+   Color_Underscore : constant String := \"04\";\n+   Color_Blink      : constant String := \"05\";\n+   Color_Reverse    : constant String := \"07\";\n+   Color_Fg_Black   : constant String := \"30\";\n+   Color_Fg_Red     : constant String := \"31\";\n+   Color_Fg_Green   : constant String := \"32\";\n+   Color_Fg_Yellow  : constant String := \"33\";\n+   Color_Fg_Blue    : constant String := \"34\";\n+   Color_Fg_Magenta : constant String := \"35\";\n+   Color_Fg_Cyan    : constant String := \"36\";\n+   Color_Fg_White   : constant String := \"37\";\n+   Color_Bg_Black   : constant String := \"40\";\n+   Color_Bg_Red     : constant String := \"41\";\n+   Color_Bg_Green   : constant String := \"42\";\n+   Color_Bg_Yellow  : constant String := \"43\";\n+   Color_Bg_Blue    : constant String := \"44\";\n+   Color_Bg_Magenta : constant String := \"45\";\n+   Color_Bg_Cyan    : constant String := \"46\";\n+   Color_Bg_White   : constant String := \"47\";\n+\n+   SGR_Start        : constant String := ASCII.ESC & \"[\";\n+   SGR_End          : constant String := \"m\" & ASCII.ESC & \"[K\";\n+\n+   function SGR_Seq (Str : String) return String is\n+     (if Use_SGR_Control then SGR_Start & Str & SGR_End else \"\");\n+   --  Return the SGR control string for the commands in Str. It returns the\n+   --  empty string if Use_SGR_Control is False, so that we can insert this\n+   --  string unconditionally.\n+\n+   function SGR_Reset return String is (SGR_Seq (\"\"));\n+   --  This ends the current section of colored output\n+\n+   --  We're using the same colors as gcc/g++ for errors/warnings/notes/locus.\n+   --  More colors are defined in gcc/g++ for other features of diagnostic\n+   --  messages (e.g. inline types, fixit) and could be used in GNAT in the\n+   --  future. The following functions start a section of colored output.\n+\n+   function SGR_Error return String is\n+     (SGR_Seq (Color_Bold & Color_Separator & Color_Fg_Red));\n+   function SGR_Warning return String is\n+     (SGR_Seq (Color_Bold & Color_Separator & Color_Fg_Magenta));\n+   function SGR_Note return String is\n+     (SGR_Seq (Color_Bold & Color_Separator & Color_Fg_Cyan));\n+   function SGR_Locus return String is\n+     (SGR_Seq (Color_Bold));\n+\n    -----------------\n    -- Subprograms --\n    -----------------\n@@ -436,6 +496,11 @@ package Erroutc is\n    --  Given an error message ID, return tag showing warning message class, or\n    --  the null string if this option is not enabled or this is not a warning.\n \n+   function Matches (S : String; P : String) return Boolean;\n+   --  Returns true if the String S matches the pattern P, which can contain\n+   --  wildcard chars (*). The entire pattern must match the entire string.\n+   --  Case is ignored in the comparison (so X matches x).\n+\n    procedure Output_Error_Msgs (E : in out Error_Msg_Id);\n    --  Output source line, error flag, and text of stored error message and all\n    --  subsequent messages for the same line and unit. On return E is set to be"}, {"sha": "4e398d1efab5fa98ce10c52f0e37aaa210cdf26e", "filename": "gcc/ada/errutil.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrutil.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrutil.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrutil.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1991-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1991-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -207,7 +207,7 @@ package body Errutil is\n             Next                => No_Error_Msg,\n             Prev                => No_Error_Msg,\n             Sfile               => Get_Source_File_Index (Sptr),\n-            Sptr                => Sptr,\n+            Sptr                => To_Span (Sptr),\n             Optr                => Optr,\n             Insertion_Sloc      => No_Location,\n             Line                => Get_Physical_Line_Number (Sptr),\n@@ -234,7 +234,7 @@ package body Errutil is\n            Errors.Table (Cur_Msg).Sfile < Errors.Table (Next_Msg).Sfile;\n \n          if Errors.Table (Cur_Msg).Sfile = Errors.Table (Next_Msg).Sfile then\n-            exit when Sptr < Errors.Table (Next_Msg).Sptr;\n+            exit when Sptr < Errors.Table (Next_Msg).Sptr.Ptr;\n          end if;\n \n          Prev_Msg := Next_Msg;"}, {"sha": "9f7c1c2a811f08bb794fdf031c25149ecfd3048a", "filename": "gcc/ada/errutil.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrutil.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ferrutil.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ferrutil.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2002-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2002-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "68a25d1b46c3d3f944b9dc39667ebfcd30a79d0d", "filename": "gcc/ada/eval_fat.adb", "status": "modified", "additions": 26, "deletions": 15, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feval_fat.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feval_fat.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feval_fat.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,10 +23,11 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Einfo;    use Einfo;\n-with Errout;   use Errout;\n-with Opt;      use Opt;\n-with Sem_Util; use Sem_Util;\n+with Einfo;          use Einfo;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Errout;         use Errout;\n+with Opt;            use Opt;\n+with Sem_Util;       use Sem_Util;\n \n package body Eval_Fat is\n \n@@ -729,30 +730,40 @@ package body Eval_Fat is\n       New_Frac : T;\n \n    begin\n+      --  Treat zero as a regular denormalized number if they are supported,\n+      --  otherwise return the smallest normalized number.\n+\n       if UR_Is_Zero (X) then\n-         Exp := Emin;\n+         if Has_Denormals (RT) then\n+            Exp := Emin;\n+         else\n+            return Scaling (RT, Ureal_Half, Emin);\n+         end if;\n       end if;\n \n-      --  Set exponent such that the radix point will be directly following the\n-      --  mantissa after scaling.\n-\n-      if Has_Denormals (RT) or Exp /= Emin then\n-         Exp := Exp - Mantissa;\n-      else\n-         Exp := Exp - 1;\n-      end if;\n+      --  Multiply the number by 2.0**(Mantissa-Exp) so that the radix point\n+      --  will be directly following the mantissa after scaling.\n \n+      Exp := Exp - Mantissa;\n       Frac := Scaling (RT, X, -Exp);\n+\n+      --  Round to the neareast integer towards +Inf\n+\n       New_Frac := Ceiling (RT, Frac);\n \n+      --  If the rounding was a NOP, add one, except for -2.0**(Mantissa-1)\n+      --  because the exponent is going to be reduced.\n+\n       if New_Frac = Frac then\n          if New_Frac = Scaling (RT, -Ureal_1, Mantissa - 1) then\n-            New_Frac := New_Frac + Scaling (RT, Ureal_1, Uint_Minus_1);\n+            New_Frac := New_Frac + Ureal_Half;\n          else\n             New_Frac := New_Frac + Ureal_1;\n          end if;\n       end if;\n \n+      --  Divide back by 2.0**(Mantissa-Exp) to get the final result\n+\n       return Scaling (RT, New_Frac, Exp);\n    end Succ;\n "}, {"sha": "4947d74b3500eccbc713ff67140df96bd5d25634", "filename": "gcc/ada/eval_fat.ads", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feval_fat.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Feval_fat.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Feval_fat.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -85,8 +85,8 @@ package Eval_Fat is\n \n    type Rounding_Mode is (Floor, Ceiling, Round, Round_Even);\n    for Rounding_Mode use (0, 1, 2, 3);\n+   pragma Convention (C, Rounding_Mode);\n    --  Used to indicate rounding mode for Machine attribute\n-   --  Note that C code in gigi knows that Round_Even is 3\n \n    --  The Machine attribute is special, in that it takes an extra argument\n    --  indicating the rounding mode, and also an argument Enode that is a\n@@ -99,6 +99,8 @@ package Eval_Fat is\n       Mode  : Rounding_Mode;\n       Enode : Node_Id) return T;\n \n+   --  WARNING: There is a matching C declaration of this function in urealp.h\n+\n    procedure Decompose_Int\n      (RT       : R;\n       X        : T;"}, {"sha": "f107b17112ca79864b096a4f06e1c438a3b0f143", "filename": "gcc/ada/exit.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexit.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n  *                                                                          *\n  *                          C Implementation File                           *\n  *                                                                          *\n- *          Copyright (C) 1992-2020, Free Software Foundation, Inc.         *\n+ *          Copyright (C) 1992-2021, Free Software Foundation, Inc.         *\n  *                                                                          *\n  * GNAT is free software;  you can  redistribute it  and/or modify it under *\n  * terms of the  GNU General Public License as published  by the Free Soft- *"}, {"sha": "1b0843666058b87a2da0c7a07a58e0a35f63523c", "filename": "gcc/ada/exp_aggr.adb", "status": "modified", "additions": 564, "deletions": 379, "changes": 943, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_aggr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_aggr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_aggr.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,49 +23,54 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Aspects;  use Aspects;\n-with Atree;    use Atree;\n-with Checks;   use Checks;\n-with Debug;    use Debug;\n-with Einfo;    use Einfo;\n-with Elists;   use Elists;\n-with Errout;   use Errout;\n-with Expander; use Expander;\n-with Exp_Util; use Exp_Util;\n-with Exp_Ch3;  use Exp_Ch3;\n-with Exp_Ch6;  use Exp_Ch6;\n-with Exp_Ch7;  use Exp_Ch7;\n-with Exp_Ch9;  use Exp_Ch9;\n-with Exp_Disp; use Exp_Disp;\n-with Exp_Tss;  use Exp_Tss;\n-with Freeze;   use Freeze;\n-with Itypes;   use Itypes;\n-with Lib;      use Lib;\n-with Namet;    use Namet;\n-with Nmake;    use Nmake;\n-with Nlists;   use Nlists;\n-with Opt;      use Opt;\n-with Restrict; use Restrict;\n-with Rident;   use Rident;\n-with Rtsfind;  use Rtsfind;\n-with Ttypes;   use Ttypes;\n-with Sem;      use Sem;\n-with Sem_Aggr; use Sem_Aggr;\n-with Sem_Aux;  use Sem_Aux;\n-with Sem_Ch3;  use Sem_Ch3;\n-with Sem_Ch8;  use Sem_Ch8;\n-with Sem_Ch13; use Sem_Ch13;\n-with Sem_Eval; use Sem_Eval;\n-with Sem_Mech; use Sem_Mech;\n-with Sem_Res;  use Sem_Res;\n-with Sem_Util; use Sem_Util;\n-with Sinfo;    use Sinfo;\n-with Snames;   use Snames;\n-with Stand;    use Stand;\n-with Stringt;  use Stringt;\n-with Tbuild;   use Tbuild;\n-with Uintp;    use Uintp;\n-with Urealp;   use Urealp;\n+with Aspects;        use Aspects;\n+with Atree;          use Atree;\n+with Checks;         use Checks;\n+with Debug;          use Debug;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Elists;         use Elists;\n+with Errout;         use Errout;\n+with Expander;       use Expander;\n+with Exp_Util;       use Exp_Util;\n+with Exp_Ch3;        use Exp_Ch3;\n+with Exp_Ch6;        use Exp_Ch6;\n+with Exp_Ch7;        use Exp_Ch7;\n+with Exp_Ch9;        use Exp_Ch9;\n+with Exp_Disp;       use Exp_Disp;\n+with Exp_Tss;        use Exp_Tss;\n+with Freeze;         use Freeze;\n+with Itypes;         use Itypes;\n+with Lib;            use Lib;\n+with Namet;          use Namet;\n+with Nmake;          use Nmake;\n+with Nlists;         use Nlists;\n+with Opt;            use Opt;\n+with Restrict;       use Restrict;\n+with Rident;         use Rident;\n+with Rtsfind;        use Rtsfind;\n+with Ttypes;         use Ttypes;\n+with Sem;            use Sem;\n+with Sem_Aggr;       use Sem_Aggr;\n+with Sem_Aux;        use Sem_Aux;\n+with Sem_Case;       use Sem_Case;\n+with Sem_Ch3;        use Sem_Ch3;\n+with Sem_Ch8;        use Sem_Ch8;\n+with Sem_Ch13;       use Sem_Ch13;\n+with Sem_Eval;       use Sem_Eval;\n+with Sem_Mech;       use Sem_Mech;\n+with Sem_Res;        use Sem_Res;\n+with Sem_Util;       use Sem_Util;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sinfo.Utils;    use Sinfo.Utils;\n+with Snames;         use Snames;\n+with Stand;          use Stand;\n+with Stringt;        use Stringt;\n+with Tbuild;         use Tbuild;\n+with Uintp;          use Uintp;\n+with Urealp;         use Urealp;\n \n package body Exp_Aggr is\n \n@@ -78,15 +83,6 @@ package body Exp_Aggr is\n    type Case_Table_Type is array (Nat range <>) of Case_Bounds;\n    --  Table type used by Check_Case_Choices procedure\n \n-   procedure Collect_Initialization_Statements\n-     (Obj        : Entity_Id;\n-      N          : Node_Id;\n-      Node_After : Node_Id);\n-   --  If Obj is not frozen, collect actions inserted after N until, but not\n-   --  including, Node_After, for initialization of Obj, and move them to an\n-   --  expression with actions, which becomes the Initialization_Statements for\n-   --  Obj.\n-\n    procedure Expand_Delta_Array_Aggregate  (N : Node_Id; Deltas : List_Id);\n    procedure Expand_Delta_Record_Aggregate (N : Node_Id; Deltas : List_Id);\n    procedure Expand_Container_Aggregate (N : Node_Id);\n@@ -379,15 +375,6 @@ package body Exp_Aggr is\n    --  specifically optimized for the target.\n \n    function Aggr_Assignment_OK_For_Backend (N : Node_Id) return Boolean is\n-      Csiz      : Uint := No_Uint;\n-      Ctyp      : Entity_Id;\n-      Expr      : Node_Id;\n-      High      : Node_Id;\n-      Index     : Entity_Id;\n-      Low       : Node_Id;\n-      Nunits    : Int;\n-      Remainder : Uint;\n-      Value     : Uint;\n \n       function Is_OK_Aggregate (Aggr : Node_Id) return Boolean;\n       --  Return true if Aggr is suitable for back-end assignment\n@@ -426,6 +413,15 @@ package body Exp_Aggr is\n          return Nkind (First (Assoc)) /= N_Iterated_Component_Association;\n       end Is_OK_Aggregate;\n \n+      Bounds    : Range_Nodes;\n+      Csiz      : Uint := No_Uint;\n+      Ctyp      : Entity_Id;\n+      Expr      : Node_Id;\n+      Index     : Entity_Id;\n+      Nunits    : Int;\n+      Remainder : Uint;\n+      Value     : Uint;\n+\n    --  Start of processing for Aggr_Assignment_OK_For_Backend\n \n    begin\n@@ -448,9 +444,9 @@ package body Exp_Aggr is\n \n          Index := First_Index (Ctyp);\n          while Present (Index) loop\n-            Get_Index_Bounds (Index, Low, High);\n+            Bounds := Get_Index_Bounds (Index);\n \n-            if Is_Null_Range (Low, High) then\n+            if Is_Null_Range (Bounds.First, Bounds.Last) then\n                return False;\n             end if;\n \n@@ -688,9 +684,11 @@ package body Exp_Aggr is\n    begin\n       --  We bump the maximum size unless the aggregate has a single component\n       --  association, which will be more efficient if implemented with a loop.\n+      --  The -gnatd_g switch disables this bumping.\n \n-      if No (Expressions (N))\n-        and then No (Next (First (Component_Associations (N))))\n+      if (No (Expressions (N))\n+            and then No (Next (First (Component_Associations (N)))))\n+        or else Debug_Flag_Underscore_G\n       then\n          Max_Aggr_Size := Max_Aggregate_Size (N);\n       else\n@@ -1922,7 +1920,7 @@ package body Exp_Aggr is\n \n       function Gen_Loop (L, H : Node_Id; Expr : Node_Id) return List_Id is\n          Is_Iterated_Component : constant Boolean :=\n-           Nkind (Parent (Expr)) = N_Iterated_Component_Association;\n+           Parent_Kind (Expr) = N_Iterated_Component_Association;\n \n          L_J : Node_Id;\n \n@@ -2284,10 +2282,12 @@ package body Exp_Aggr is\n       Assoc  : Node_Id;\n       Choice : Node_Id;\n       Expr   : Node_Id;\n-      High   : Node_Id;\n-      Low    : Node_Id;\n       Typ    : Entity_Id;\n \n+      Bounds : Range_Nodes;\n+      Low    : Node_Id renames Bounds.First;\n+      High   : Node_Id renames Bounds.Last;\n+\n       Nb_Choices : Nat := 0;\n       Table      : Case_Table_Type (1 .. Number_Of_Choices (N));\n       --  Used to sort all the different choice values\n@@ -2349,7 +2349,7 @@ package body Exp_Aggr is\n                   exit;\n                end if;\n \n-               Get_Index_Bounds (Choice, Low, High);\n+               Bounds := Get_Index_Bounds (Choice);\n \n                if Low /= High then\n                   Set_Loop_Actions (Assoc, New_List);\n@@ -2438,7 +2438,7 @@ package body Exp_Aggr is\n \n                      Expr := Get_Assoc_Expr (Others_Assoc);\n                      Dup_Expr := New_Copy_Tree (Expr);\n-                     Set_Parent (Dup_Expr, Parent (Expr));\n+                     Copy_Parent (To => Dup_Expr, From => Expr);\n \n                      Set_Loop_Actions (Others_Assoc, New_List);\n                      Append_List\n@@ -2471,7 +2471,7 @@ package body Exp_Aggr is\n             Assoc := Last (Component_Associations (N));\n \n             if Nkind (Assoc) = N_Iterated_Component_Association then\n-               --  Ada 2020: generate a loop to have a proper scope for\n+               --  Ada 2022: generate a loop to have a proper scope for\n                --  the identifier that typically appears in the expression.\n                --  The lower bound of the loop is the position after all\n                --  previous positional components.\n@@ -4210,40 +4210,6 @@ package body Exp_Aggr is\n       return L;\n    end Build_Record_Aggr_Code;\n \n-   ---------------------------------------\n-   -- Collect_Initialization_Statements --\n-   ---------------------------------------\n-\n-   procedure Collect_Initialization_Statements\n-     (Obj        : Entity_Id;\n-      N          : Node_Id;\n-      Node_After : Node_Id)\n-   is\n-      Loc          : constant Source_Ptr := Sloc (N);\n-      Init_Actions : constant List_Id    := New_List;\n-      Init_Node    : Node_Id;\n-      Comp_Stmt    : Node_Id;\n-\n-   begin\n-      --  Nothing to do if Obj is already frozen, as in this case we known we\n-      --  won't need to move the initialization statements about later on.\n-\n-      if Is_Frozen (Obj) then\n-         return;\n-      end if;\n-\n-      Init_Node := N;\n-      while Next (Init_Node) /= Node_After loop\n-         Append_To (Init_Actions, Remove_Next (Init_Node));\n-      end loop;\n-\n-      if not Is_Empty_List (Init_Actions) then\n-         Comp_Stmt := Make_Compound_Statement (Loc, Actions => Init_Actions);\n-         Insert_Action_After (Init_Node, Comp_Stmt);\n-         Set_Initialization_Statements (Obj, Comp_Stmt);\n-      end if;\n-   end Collect_Initialization_Statements;\n-\n    -------------------------------\n    -- Convert_Aggr_In_Allocator --\n    -------------------------------\n@@ -4314,6 +4280,8 @@ package body Exp_Aggr is\n       Typ  : constant Entity_Id  := Etype (Aggr);\n       Occ  : constant Node_Id    := New_Occurrence_Of (Obj, Loc);\n \n+      Has_Transient_Scope : Boolean := False;\n+\n       function Discriminants_Ok return Boolean;\n       --  If the object type is constrained, the discriminants in the\n       --  aggregate must be checked against the discriminants of the subtype.\n@@ -4405,7 +4373,7 @@ package body Exp_Aggr is\n       --  the finalization list of the return must be moved to the caller's\n       --  finalization list to complete the return.\n \n-      --  However, if the aggregate is limited, it is built in place, and the\n+      --  Similarly if the aggregate is limited, it is built in place, and the\n       --  controlled components are not assigned to intermediate temporaries\n       --  so there is no need for a transient scope in this case either.\n \n@@ -4414,16 +4382,72 @@ package body Exp_Aggr is\n         and then not Is_Limited_Type (Typ)\n       then\n          Establish_Transient_Scope (Aggr, Manage_Sec_Stack => False);\n+         Has_Transient_Scope := True;\n       end if;\n \n       declare\n-         Node_After : constant Node_Id := Next (N);\n+         Stmts : constant List_Id := Late_Expansion (Aggr, Typ, Occ);\n+         Stmt  : Node_Id;\n+         Param : Node_Id;\n+\n       begin\n-         Insert_Actions_After (N, Late_Expansion (Aggr, Typ, Occ));\n-         Collect_Initialization_Statements (Obj, N, Node_After);\n+         --  If Obj is already frozen or if N is wrapped in a transient scope,\n+         --  Stmts do not need to be saved in Initialization_Statements since\n+         --  there is no freezing issue.\n+\n+         if Is_Frozen (Obj) or else Has_Transient_Scope then\n+            Insert_Actions_After (N, Stmts);\n+         else\n+            Stmt := Make_Compound_Statement (Sloc (N), Actions => Stmts);\n+            Insert_Action_After (N, Stmt);\n+\n+            --  Insert_Action_After may freeze Obj in which case we should\n+            --  remove the compound statement just created and simply insert\n+            --  Stmts after N.\n+\n+            if Is_Frozen (Obj) then\n+               Remove (Stmt);\n+               Insert_Actions_After (N, Stmts);\n+            else\n+               Set_Initialization_Statements (Obj, Stmt);\n+            end if;\n+         end if;\n+\n+         --  If Typ has controlled components and a call to a Slice_Assign\n+         --  procedure is part of the initialization statements, then we\n+         --  need to initialize the array component since Slice_Assign will\n+         --  need to adjust it.\n+\n+         if Has_Controlled_Component (Typ) then\n+            Stmt := First (Stmts);\n+\n+            while Present (Stmt) loop\n+               if Nkind (Stmt) = N_Procedure_Call_Statement\n+                 and then Get_TSS_Name (Entity (Name (Stmt)))\n+                            = TSS_Slice_Assign\n+               then\n+                  Param := First (Parameter_Associations (Stmt));\n+                  Insert_Actions\n+                    (Stmt,\n+                     Build_Initialization_Call\n+                       (Sloc (N), New_Copy_Tree (Param), Etype (Param)));\n+               end if;\n+\n+               Next (Stmt);\n+            end loop;\n+         end if;\n       end;\n \n       Set_No_Initialization (N);\n+\n+      --  After expansion the expression can be removed from the declaration\n+      --  except if the object is class-wide, in which case the aggregate\n+      --  provides the actual type.\n+\n+      if not Is_Class_Wide_Type (Etype (Obj)) then\n+         Set_Expression (N, Empty);\n+      end if;\n+\n       Initialize_Discriminants (N, Typ);\n    end Convert_Aggr_In_Object_Decl;\n \n@@ -4486,11 +4510,9 @@ package body Exp_Aggr is\n       Is_Array : constant Boolean := Is_Array_Type (Etype (N));\n \n       Aggr_In     : Node_Id;\n-      Aggr_Lo     : Node_Id;\n-      Aggr_Hi     : Node_Id;\n+      Aggr_Bounds : Range_Nodes;\n       Obj_In      : Node_Id;\n-      Obj_Lo      : Node_Id;\n-      Obj_Hi      : Node_Id;\n+      Obj_Bounds  : Range_Nodes;\n       Parent_Kind : Node_Kind;\n       Parent_Node : Node_Id;\n \n@@ -4801,16 +4823,17 @@ package body Exp_Aggr is\n          end if;\n \n          while Present (Aggr_In) loop\n-            Get_Index_Bounds (Aggr_In, Aggr_Lo, Aggr_Hi);\n-            Get_Index_Bounds (Obj_In, Obj_Lo, Obj_Hi);\n+            Aggr_Bounds := Get_Index_Bounds (Aggr_In);\n+            Obj_Bounds := Get_Index_Bounds (Obj_In);\n \n             --  We require static bounds for the target and a static matching\n             --  of low bound for the aggregate.\n \n-            if not Compile_Time_Known_Value (Obj_Lo)\n-              or else not Compile_Time_Known_Value (Obj_Hi)\n-              or else not Compile_Time_Known_Value (Aggr_Lo)\n-              or else Expr_Value (Aggr_Lo) /= Expr_Value (Obj_Lo)\n+            if not Compile_Time_Known_Value (Obj_Bounds.First)\n+              or else not Compile_Time_Known_Value (Obj_Bounds.Last)\n+              or else not Compile_Time_Known_Value (Aggr_Bounds.First)\n+              or else Expr_Value (Aggr_Bounds.First) /=\n+                      Expr_Value (Obj_Bounds.First)\n             then\n                return False;\n \n@@ -4826,8 +4849,9 @@ package body Exp_Aggr is\n             elsif Parent_Kind = N_Assignment_Statement\n               or else Is_Constrained (Etype (Parent_Node))\n             then\n-               if not Compile_Time_Known_Value (Aggr_Hi)\n-                 or else Expr_Value (Aggr_Hi) /= Expr_Value (Obj_Hi)\n+               if not Compile_Time_Known_Value (Aggr_Bounds.Last)\n+                 or else Expr_Value (Aggr_Bounds.Last) /=\n+                         Expr_Value (Obj_Bounds.Last)\n                then\n                   return False;\n                end if;\n@@ -4895,13 +4919,11 @@ package body Exp_Aggr is\n       --  Just set the Delay flag in the cases where the transformation will be\n       --  done top down from above.\n \n-      if False\n-\n+      if\n          --  Internal aggregate (transformed when expanding the parent)\n \n-         or else Parent_Kind = N_Aggregate\n-         or else Parent_Kind = N_Extension_Aggregate\n-         or else Parent_Kind = N_Component_Association\n+         Parent_Kind in\n+           N_Aggregate | N_Extension_Aggregate | N_Component_Association\n \n          --  Allocator (see Convert_Aggr_In_Allocator)\n \n@@ -5670,7 +5692,7 @@ package body Exp_Aggr is\n       --  type using the computable sizes of the aggregate and its sub-\n       --  aggregates.\n \n-      procedure Check_Bounds (Aggr_Bounds : Node_Id; Index_Bounds : Node_Id);\n+      procedure Check_Bounds (Aggr_Bounds_Node, Index_Bounds_Node : Node_Id);\n       --  Checks that the bounds of Aggr_Bounds are within the bounds defined\n       --  by Index_Bounds.\n \n@@ -5694,7 +5716,7 @@ package body Exp_Aggr is\n       function Safe_Left_Hand_Side (N : Node_Id) return Boolean;\n       --  In addition to Maybe_In_Place_OK, in order for an aggregate to be\n       --  built directly into the target of the assignment it must be free\n-      --  of side effects.\n+      --  of side effects. N is the LHS of an assignment.\n \n       ----------------------------\n       -- Build_Constrained_Type --\n@@ -5770,64 +5792,69 @@ package body Exp_Aggr is\n       -- Check_Bounds --\n       ------------------\n \n-      procedure Check_Bounds (Aggr_Bounds : Node_Id; Index_Bounds : Node_Id) is\n-         Aggr_Lo : Node_Id;\n-         Aggr_Hi : Node_Id;\n+      procedure Check_Bounds (Aggr_Bounds_Node, Index_Bounds_Node : Node_Id) is\n+         Aggr_Bounds : constant Range_Nodes :=\n+           Get_Index_Bounds (Aggr_Bounds_Node);\n+         Ind_Bounds  : constant Range_Nodes :=\n+           Get_Index_Bounds (Index_Bounds_Node);\n \n-         Ind_Lo  : Node_Id;\n-         Ind_Hi  : Node_Id;\n-\n-         Cond    : Node_Id := Empty;\n+         Cond : Node_Id := Empty;\n \n       begin\n-         Get_Index_Bounds (Aggr_Bounds, Aggr_Lo, Aggr_Hi);\n-         Get_Index_Bounds (Index_Bounds, Ind_Lo, Ind_Hi);\n-\n          --  Generate the following test:\n \n          --    [constraint_error when\n-         --      Aggr_Lo <= Aggr_Hi and then\n-         --        (Aggr_Lo < Ind_Lo or else Aggr_Hi > Ind_Hi)]\n+         --      Aggr_Bounds.First <= Aggr_Bounds.Last and then\n+         --        (Aggr_Bounds.First < Ind_Bounds.First\n+         --         or else Aggr_Bounds.Last > Ind_Bounds.Last)]\n \n          --  As an optimization try to see if some tests are trivially vacuous\n          --  because we are comparing an expression against itself.\n \n-         if Aggr_Lo = Ind_Lo and then Aggr_Hi = Ind_Hi then\n+         if Aggr_Bounds.First = Ind_Bounds.First\n+           and then Aggr_Bounds.Last = Ind_Bounds.Last\n+         then\n             Cond := Empty;\n \n-         elsif Aggr_Hi = Ind_Hi then\n+         elsif Aggr_Bounds.Last = Ind_Bounds.Last then\n             Cond :=\n               Make_Op_Lt (Loc,\n-                Left_Opnd  => Duplicate_Subexpr_Move_Checks (Aggr_Lo),\n-                Right_Opnd => Duplicate_Subexpr_Move_Checks (Ind_Lo));\n+                Left_Opnd  =>\n+                  Duplicate_Subexpr_Move_Checks (Aggr_Bounds.First),\n+                Right_Opnd =>\n+                  Duplicate_Subexpr_Move_Checks (Ind_Bounds.First));\n \n-         elsif Aggr_Lo = Ind_Lo then\n+         elsif Aggr_Bounds.First = Ind_Bounds.First then\n             Cond :=\n               Make_Op_Gt (Loc,\n-                Left_Opnd  => Duplicate_Subexpr_Move_Checks (Aggr_Hi),\n-                Right_Opnd => Duplicate_Subexpr_Move_Checks (Ind_Hi));\n+                Left_Opnd  => Duplicate_Subexpr_Move_Checks (Aggr_Bounds.Last),\n+                Right_Opnd => Duplicate_Subexpr_Move_Checks (Ind_Bounds.Last));\n \n          else\n             Cond :=\n               Make_Or_Else (Loc,\n                 Left_Opnd =>\n                   Make_Op_Lt (Loc,\n-                    Left_Opnd  => Duplicate_Subexpr_Move_Checks (Aggr_Lo),\n-                    Right_Opnd => Duplicate_Subexpr_Move_Checks (Ind_Lo)),\n+                    Left_Opnd  =>\n+                      Duplicate_Subexpr_Move_Checks (Aggr_Bounds.First),\n+                    Right_Opnd =>\n+                      Duplicate_Subexpr_Move_Checks (Ind_Bounds.First)),\n \n                 Right_Opnd =>\n                   Make_Op_Gt (Loc,\n-                    Left_Opnd  => Duplicate_Subexpr (Aggr_Hi),\n-                    Right_Opnd => Duplicate_Subexpr (Ind_Hi)));\n+                    Left_Opnd  => Duplicate_Subexpr (Aggr_Bounds.Last),\n+                    Right_Opnd => Duplicate_Subexpr (Ind_Bounds.Last)));\n          end if;\n \n          if Present (Cond) then\n             Cond :=\n               Make_And_Then (Loc,\n                 Left_Opnd =>\n                   Make_Op_Le (Loc,\n-                    Left_Opnd  => Duplicate_Subexpr_Move_Checks (Aggr_Lo),\n-                    Right_Opnd => Duplicate_Subexpr_Move_Checks (Aggr_Hi)),\n+                    Left_Opnd  =>\n+                      Duplicate_Subexpr_Move_Checks (Aggr_Bounds.First),\n+                    Right_Opnd =>\n+                      Duplicate_Subexpr_Move_Checks (Aggr_Bounds.Last)),\n \n                 Right_Opnd => Cond);\n \n@@ -5952,6 +5979,21 @@ package body Exp_Aggr is\n \n             if Nkind (First (Choice_List (Assoc))) = N_Others_Choice then\n                Others_Present (Dim) := True;\n+\n+               --  An others_clause may be superfluous if previous components\n+               --  cover the full given range of a constrained array. In such\n+               --  a case an others_clause does not contribute any additional\n+               --  components and has not been analyzed. We analyze it now to\n+               --  detect type errors in the expression, even though no code\n+               --  will be generated for it.\n+\n+               if Dim = Aggr_Dimension\n+                 and then Nkind (Assoc) /= N_Iterated_Component_Association\n+                 and then not Analyzed (Expression (Assoc))\n+                 and then not Box_Present (Assoc)\n+               then\n+                  Preanalyze_And_Resolve (Expression (Assoc), Ctyp);\n+               end if;\n             end if;\n          end if;\n \n@@ -6079,8 +6121,6 @@ package body Exp_Aggr is\n                --  Used to sort all the different choice values\n \n                J    : Pos := 1;\n-               Low  : Node_Id;\n-               High : Node_Id;\n \n             begin\n                Assoc := First (Component_Associations (Sub_Aggr));\n@@ -6091,9 +6131,13 @@ package body Exp_Aggr is\n                         exit;\n                      end if;\n \n-                     Get_Index_Bounds (Choice, Low, High);\n-                     Table (J).Choice_Lo := Low;\n-                     Table (J).Choice_Hi := High;\n+                     declare\n+                        Bounds : constant Range_Nodes :=\n+                          Get_Index_Bounds (Choice);\n+                     begin\n+                        Table (J).Choice_Lo := Bounds.First;\n+                        Table (J).Choice_Hi := Bounds.Last;\n+                     end;\n \n                      J := J + 1;\n                      Next (Choice);\n@@ -6555,8 +6599,8 @@ package body Exp_Aggr is\n       --  For assignments we do the assignment in place if all the component\n       --  associations have compile-time known values, or are default-\n       --  initialized limited components, e.g. tasks. For other cases we\n-      --  create a temporary. The analysis for safety of on-line assignment\n-      --  is delicate, i.e. we don't know how to do it fully yet ???\n+      --  create a temporary. A full analysis for safety of in-place assignment\n+      --  is delicate.\n \n       --  For allocators we assign to the designated object in place if the\n       --  aggregate meets the same conditions as other in-place assignments.\n@@ -6627,7 +6671,7 @@ package body Exp_Aggr is\n          --  aggregate. If the declaration has a subtype mark, use it,\n          --  otherwise use the itype of the aggregate.\n \n-         Set_Ekind (Tmp, E_Variable);\n+         Mutate_Ekind (Tmp, E_Variable);\n \n          if not Is_Constrained (Typ) then\n             Build_Constrained_Type (Positional => False);\n@@ -6655,9 +6699,13 @@ package body Exp_Aggr is\n          Set_Expansion_Delayed (N);\n          return;\n \n-      --  In the remaining cases the aggregate is the RHS of an assignment\n+      --  In the remaining cases the aggregate appears in the RHS of an\n+      --  assignment, which may be part of the expansion of an object\n+      --  delaration. If the aggregate is an actual in a call, itself\n+      --  possibly in a RHS, building it in the target is not possible.\n \n       elsif Maybe_In_Place_OK\n+        and then Nkind (Parent_Node) not in N_Subprogram_Call\n         and then Safe_Left_Hand_Side (Name (Parent_Node))\n       then\n          Tmp := Name (Parent_Node);\n@@ -6793,25 +6841,26 @@ package body Exp_Aggr is\n       --  code must be inserted after it. The defining entity might not come\n       --  from source if this is part of an inlined body, but the declaration\n       --  itself will.\n+      --  The test below looks very specialized and kludgy???\n \n       if Comes_From_Source (Tmp)\n         or else\n           (Nkind (Parent (N)) = N_Object_Declaration\n             and then Comes_From_Source (Parent (N))\n             and then Tmp = Defining_Entity (Parent (N)))\n       then\n-         declare\n-            Node_After : constant Node_Id := Next (Parent_Node);\n-\n-         begin\n+         if Parent_Kind /= N_Object_Declaration or else Is_Frozen (Tmp) then\n             Insert_Actions_After (Parent_Node, Aggr_Code);\n-\n-            if Parent_Kind = N_Object_Declaration then\n-               Collect_Initialization_Statements\n-                 (Obj => Tmp, N => Parent_Node, Node_After => Node_After);\n-            end if;\n-         end;\n-\n+         else\n+            declare\n+               Comp_Stmt : constant Node_Id :=\n+                 Make_Compound_Statement\n+                   (Sloc (Parent_Node), Actions => Aggr_Code);\n+            begin\n+               Insert_Action_After (Parent_Node, Comp_Stmt);\n+               Set_Initialization_Statements (Tmp, Comp_Stmt);\n+            end;\n+         end if;\n       else\n          Insert_Actions (N, Aggr_Code);\n       end if;\n@@ -6971,11 +7020,24 @@ package body Exp_Aggr is\n       Init_Stat : Node_Id;\n       Siz       : Int;\n \n+      --  The following are used when the size of the aggregate is not\n+      --  static and requires a dynamic evaluation.\n+      Siz_Decl   : Node_Id;\n+      Siz_Exp    : Node_Id := Empty;\n+      Count_Type : Entity_Id;\n+\n       function Aggregate_Size return Int;\n       --  Compute number of entries in aggregate, including choices\n-      --  that cover a range, as well as iterated constructs.\n+      --  that cover a range or subtype, as well as iterated constructs.\n       --  Return -1 if the size is not known statically, in which case\n-      --  we allocate a default size for the aggregate.\n+      --  allocate a default size for the aggregate, or build an expression\n+      --  to estimate the size dynamically.\n+\n+      function Build_Siz_Exp (Comp : Node_Id) return Int;\n+      --  When the aggregate contains a single Iterated_Component_Association\n+      --  or Element_Association with non-static bounds, build an expression\n+      --  to be used as the allocated size of the container. This may be an\n+      --  overestimate if a filter is present, but is a safe approximation.\n \n       procedure Expand_Iterated_Component (Comp : Node_Id);\n       --  Handle iterated_component_association and iterated_Element\n@@ -6994,34 +7056,54 @@ package body Exp_Aggr is\n          Siz     : Int := 0;\n \n          procedure Add_Range_Size;\n-         --  Compute size of component association given by\n-         --  range or subtype name.\n+         --  Compute number of components specified by a component association\n+         --  given by a range or subtype name.\n+\n+         --------------------\n+         -- Add_Range_Size --\n+         --------------------\n \n          procedure Add_Range_Size is\n          begin\n+            --  The bounds of the discrete range are integers or enumeration\n+            --  literals\n+\n             if Nkind (Lo) = N_Integer_Literal then\n                Siz := Siz + UI_To_Int (Intval (Hi))\n-                 - UI_To_Int (Intval (Lo)) + 1;\n+                          - UI_To_Int (Intval (Lo)) + 1;\n+            else\n+               Siz := Siz + UI_To_Int (Enumeration_Pos (Hi))\n+                          - UI_To_Int (Enumeration_Pos (Lo)) + 1;\n             end if;\n          end Add_Range_Size;\n \n       begin\n+         --  Aggregate is either all positional or all named.\n+\n          if Present (Expressions (N)) then\n             Siz := List_Length (Expressions (N));\n          end if;\n \n          if Present (Component_Associations (N)) then\n             Comp := First (Component_Associations (N));\n-\n-            --  If the component is an Iterated_Element_Association\n-            --  it includes an iterator or a loop parameter, possibly\n-            --  with a filter, so we do not attempt to compute its\n-            --  size. Room for future optimization ???\n-\n-            if Nkind (Comp) = N_Iterated_Element_Association then\n-               return -1;\n+            --  If there is a single component association it can be\n+            --  an iterated component with dynamic bounds or an element\n+            --  iterator over an iterable object. If it is an array\n+            --  we can use the attribute Length to get its size;\n+            --  for a predefined container the function Length plays\n+            --  the same role. There is no available mechanism for\n+            --  user-defined containers. For now we treat all of these\n+            --  as dynamic.\n+\n+            if List_Length (Component_Associations (N)) = 1\n+              and then Nkind (Comp) in N_Iterated_Component_Association |\n+                                       N_Iterated_Element_Association\n+            then\n+               return Build_Siz_Exp (Comp);\n             end if;\n \n+            --  Otherwise all associations must specify static sizes.\n+\n             while Present (Comp) loop\n                Choice := First (Choice_List (Comp));\n \n@@ -7031,26 +7113,14 @@ package body Exp_Aggr is\n                   if Nkind (Choice) = N_Range then\n                      Lo := Low_Bound (Choice);\n                      Hi := High_Bound (Choice);\n-                     if Nkind (Lo) /= N_Integer_Literal\n-                       or else Nkind (Hi) /= N_Integer_Literal\n-                     then\n-                        return -1;\n-                     else\n-                        Add_Range_Size;\n-                     end if;\n+                     Add_Range_Size;\n \n                   elsif Is_Entity_Name (Choice)\n                     and then Is_Type (Entity (Choice))\n                   then\n                      Lo := Type_Low_Bound (Entity (Choice));\n                      Hi := Type_High_Bound (Entity (Choice));\n-                     if Nkind (Lo) /= N_Integer_Literal\n-                       or else Nkind (Hi) /= N_Integer_Literal\n-                     then\n-                        return -1;\n-                     else\n-                        Add_Range_Size;\n-                     end if;\n+                     Add_Range_Size;\n \n                      Rewrite (Choice,\n                        Make_Range (Loc,\n@@ -7073,6 +7143,55 @@ package body Exp_Aggr is\n          return Siz;\n       end Aggregate_Size;\n \n+      -------------------\n+      -- Build_Siz_Exp --\n+      -------------------\n+\n+      function Build_Siz_Exp (Comp : Node_Id) return Int is\n+         Lo, Hi : Node_Id;\n+      begin\n+         if Nkind (Comp) = N_Range then\n+            Lo := Low_Bound (Comp);\n+            Hi := High_Bound (Comp);\n+            Analyze (Lo);\n+            Analyze (Hi);\n+\n+            --  Compute static size when possible.\n+\n+            if Is_Static_Expression (Lo)\n+              and then Is_Static_Expression (Hi)\n+            then\n+               if Nkind (Lo) = N_Integer_Literal then\n+                  Siz := UI_To_Int (Intval (Hi)) - UI_To_Int (Intval (Lo)) + 1;\n+               else\n+                  Siz := UI_To_Int (Enumeration_Pos (Hi))\n+                       - UI_To_Int (Enumeration_Pos (Lo)) + 1;\n+               end if;\n+               return Siz;\n+\n+            else\n+               Siz_Exp :=\n+                 Make_Op_Add (Sloc (Comp),\n+                   Left_Opnd =>\n+                     Make_Op_Subtract (Sloc (Comp),\n+                       Left_Opnd => New_Copy_Tree (Hi),\n+                       Right_Opnd => New_Copy_Tree (Lo)),\n+                   Right_Opnd =>\n+                     Make_Integer_Literal (Loc, 1));\n+               return -1;\n+            end if;\n+\n+         elsif Nkind (Comp) = N_Iterated_Component_Association then\n+            return Build_Siz_Exp (First (Discrete_Choices (Comp)));\n+\n+         elsif Nkind (Comp) = N_Iterated_Element_Association then\n+            return -1;    --  ??? build expression for size of the domain\n+\n+         else\n+            return -1;\n+         end if;\n+      end Build_Siz_Exp;\n+\n       -------------------------------\n       -- Expand_Iterated_Component --\n       -------------------------------\n@@ -7160,7 +7279,9 @@ package body Exp_Aggr is\n          --  parameter. Otherwise the key is given by the loop parameter\n          --  itself.\n \n-         if Present (Add_Unnamed_Subp) then\n+         if Present (Add_Unnamed_Subp)\n+           and then No (Add_Named_Subp)\n+         then\n             Stats := New_List\n               (Make_Procedure_Call_Statement (Loc,\n                  Name => New_Occurrence_Of (Entity (Add_Unnamed_Subp), Loc),\n@@ -7205,38 +7326,80 @@ package body Exp_Aggr is\n \n       --  The constructor for bounded containers is a function with\n       --  a parameter that sets the size of the container. If the\n-      --  size cannot be determined statically we use a default value.\n+      --  size cannot be determined statically we use a default value\n+      --  or a dynamic expression.\n \n       Siz := Aggregate_Size;\n-      if Siz < 0 then\n-         Siz := 10;\n-      end if;\n \n       if Ekind (Entity (Empty_Subp)) = E_Function\n         and then Present (First_Formal (Entity (Empty_Subp)))\n       then\n          Default := Default_Value (First_Formal (Entity (Empty_Subp)));\n-         --  If aggregate size is not static, use default value of\n-         --  formal parameter for allocation. We assume that this\n+\n+         --  If aggregate size is not static, we can use default value\n+         --  of formal parameter for allocation. We assume that this\n          --  (implementation-dependent) value is static, even though\n-         --   the AI does not require it ???.\n+         --   the AI does not require it.\n \n-         if Siz < 0 then\n-            Siz := UI_To_Int (Intval (Default));\n-         end if;\n+         --  Create declaration for size: a constant literal in the simple\n+         --  case, an expression if iterated component associations may be\n+         --  involved, the default otherwise.\n \n-         Init_Stat :=\n-           Make_Object_Declaration (Loc,\n-             Defining_Identifier => Temp,\n-             Object_Definition   => New_Occurrence_Of (Typ, Loc),\n-             Expression => Make_Function_Call (Loc,\n-               Name => New_Occurrence_Of (Entity (Empty_Subp), Loc),\n-               Parameter_Associations =>\n-                 New_List (Make_Integer_Literal (Loc, Siz))));\n+         Count_Type := Etype (First_Formal (Entity (Empty_Subp)));\n+         if Siz = -1 then\n+            if No (Siz_Exp) then\n+               Siz := UI_To_Int (Intval (Default));\n+               Siz_Exp := Make_Integer_Literal (Loc, Siz);\n+\n+            else\n+               Siz_Exp := Make_Type_Conversion (Loc,\n+                  Subtype_Mark =>\n+                    New_Occurrence_Of (Count_Type, Loc),\n+                  Expression => Siz_Exp);\n+            end if;\n+\n+         else\n+            Siz_Exp := Make_Integer_Literal (Loc, Siz);\n+         end if;\n+\n+         Siz_Decl := Make_Object_Declaration (Loc,\n+            Defining_Identifier => Make_Temporary (Loc, 'S', N),\n+            Object_Definition =>\n+               New_Occurrence_Of (Count_Type, Loc),\n+               Expression => Siz_Exp);\n+         Append (Siz_Decl, Aggr_Code);\n+\n+         if Nkind (Siz_Exp) = N_Integer_Literal then\n+            Init_Stat :=\n+              Make_Object_Declaration (Loc,\n+                Defining_Identifier => Temp,\n+                Object_Definition   => New_Occurrence_Of (Typ, Loc),\n+                Expression => Make_Function_Call (Loc,\n+                  Name => New_Occurrence_Of (Entity (Empty_Subp), Loc),\n+                  Parameter_Associations =>\n+                    New_List\n+                      (New_Occurrence_Of\n+                        (Defining_Identifier (Siz_Decl), Loc))));\n+\n+         else\n+            Init_Stat :=\n+              Make_Object_Declaration (Loc,\n+                Defining_Identifier => Temp,\n+                Object_Definition   => New_Occurrence_Of (Typ, Loc),\n+                Expression => Make_Function_Call (Loc,\n+                  Name =>\n+                    New_Occurrence_Of (Entity (New_Indexed_Subp), Loc),\n+                  Parameter_Associations =>\n+                    New_List (\n+                      Make_Integer_Literal (Loc, 1),\n+                      New_Occurrence_Of\n+                        (Defining_Identifier (Siz_Decl), Loc))));\n+         end if;\n \n          Append (Init_Stat, Aggr_Code);\n \n-         --  Use default value when aggregate size is not static.\n+         --  Size is dynamic: Create declaration for object, and intitialize\n+         --  with a call to the null container, or an assignment to it.\n \n       else\n          Decl :=\n@@ -7245,11 +7408,16 @@ package body Exp_Aggr is\n              Object_Definition   => New_Occurrence_Of (Typ, Loc));\n \n          Insert_Action (N, Decl);\n+\n+         --  The Empty entity is either a parameterless function, or\n+         --  a constant.\n+\n          if Ekind (Entity (Empty_Subp)) = E_Function then\n             Init_Stat := Make_Assignment_Statement (Loc,\n               Name => New_Occurrence_Of (Temp, Loc),\n               Expression => Make_Function_Call (Loc,\n                 Name => New_Occurrence_Of (Entity (Empty_Subp), Loc)));\n+\n          else\n             Init_Stat := Make_Assignment_Statement (Loc,\n               Name => New_Occurrence_Of (Temp, Loc),\n@@ -7266,9 +7434,7 @@ package body Exp_Aggr is\n       --  If the aggregate is positional the aspect must include\n       --  an Add_Unnamed subprogram.\n \n-      if Present (Add_Unnamed_Subp)\n-        and then No (Component_Associations (N))\n-      then\n+      if Present (Add_Unnamed_Subp) then\n          if Present (Expressions (N)) then\n             declare\n                Insert : constant Entity_Id := Entity (Add_Unnamed_Subp);\n@@ -7289,13 +7455,18 @@ package body Exp_Aggr is\n             end;\n          end if;\n \n-         --  Iterated component associations may also be present.\n+         --  Indexed aggregates are handled below. Unnamed aggregates\n+         --  such as sets may include iterated component associations.\n \n-         Comp := First (Component_Associations (N));\n-         while Present (Comp) loop\n-            Expand_Iterated_Component (Comp);\n-            Next (Comp);\n-         end loop;\n+         if No (New_Indexed_Subp) then\n+            Comp := First (Component_Associations (N));\n+            while Present (Comp) loop\n+               if Nkind (Comp) = N_Iterated_Component_Association then\n+                  Expand_Iterated_Component (Comp);\n+               end if;\n+               Next (Comp);\n+            end loop;\n+         end if;\n \n       ---------------------\n       -- Named_Aggregate --\n@@ -7346,6 +7517,8 @@ package body Exp_Aggr is\n       --  subprogram. Note that unlike array aggregates, a container\n       --  aggregate must be fully positional or fully indexed. In the\n       --  first case the expansion has already taken place.\n+      --  TBA: the keys for an indexed aggregate must provide a dense\n+      --  range with no repetitions.\n \n       if Present (Assign_Indexed_Subp)\n         and then Present (Component_Associations (N))\n@@ -8361,6 +8534,11 @@ package body Exp_Aggr is\n \n       elsif Is_Static_Dispatch_Table_Aggregate (N) then\n          return;\n+\n+      --  Case pattern aggregates need to remain as aggregates\n+\n+      elsif Is_Case_Choice_Pattern (N) then\n+         return;\n       end if;\n \n       --  If the pragma Aggregate_Individually_Assign is set, always convert to\n@@ -8612,7 +8790,7 @@ package body Exp_Aggr is\n       --  Aggregates are not supported for nonstandard rep clauses, since they\n       --  may lead to extra padding fields in CCG.\n \n-      if Ekind (Etype (N)) in Record_Kind\n+      if Is_Record_Type (Etype (N))\n         and then Has_Non_Standard_Rep (Etype (N))\n       then\n          return False;\n@@ -8667,30 +8845,25 @@ package body Exp_Aggr is\n    begin\n       return Building_Static_Dispatch_Tables\n         and then Tagged_Type_Expansion\n-        and then RTU_Loaded (Ada_Tags)\n \n          --  Avoid circularity when rebuilding the compiler\n \n-        and then Cunit_Entity (Get_Source_Unit (N)) /= RTU_Entity (Ada_Tags)\n-        and then (Typ = RTE (RE_Dispatch_Table_Wrapper)\n+        and then not Is_RTU (Cunit_Entity (Get_Source_Unit (N)), Ada_Tags)\n+        and then (Is_RTE (Typ, RE_Dispatch_Table_Wrapper)\n                     or else\n-                  Typ = RTE (RE_Address_Array)\n+                  Is_RTE (Typ, RE_Address_Array)\n                     or else\n-                  Typ = RTE (RE_Type_Specific_Data)\n+                  Is_RTE (Typ, RE_Type_Specific_Data)\n                     or else\n-                  Typ = RTE (RE_Tag_Table)\n+                  Is_RTE (Typ, RE_Tag_Table)\n                     or else\n-                  (RTE_Available (RE_Object_Specific_Data)\n-                     and then Typ = RTE (RE_Object_Specific_Data))\n+                  Is_RTE (Typ, RE_Object_Specific_Data)\n                     or else\n-                  (RTE_Available (RE_Interface_Data)\n-                     and then Typ = RTE (RE_Interface_Data))\n+                  Is_RTE (Typ, RE_Interface_Data)\n                     or else\n-                  (RTE_Available (RE_Interfaces_Array)\n-                     and then Typ = RTE (RE_Interfaces_Array))\n+                  Is_RTE (Typ, RE_Interfaces_Array)\n                     or else\n-                  (RTE_Available (RE_Interface_Data_Element)\n-                     and then Typ = RTE (RE_Interface_Data_Element)));\n+                  Is_RTE (Typ, RE_Interface_Data_Element));\n    end Is_Static_Dispatch_Table_Aggregate;\n \n    -----------------------------\n@@ -8794,8 +8967,6 @@ package body Exp_Aggr is\n      (N            : Node_Id;\n       Default_Size : Nat := 5000) return Nat\n    is\n-      Typ : constant Entity_Id := Etype (N);\n-\n       function Use_Small_Size (N : Node_Id) return Boolean;\n       --  True if we should return a very small size, which means large\n       --  aggregates will be implemented as a loop when possible (potentially\n@@ -8805,6 +8976,10 @@ package body Exp_Aggr is\n       --  Return the context in which the aggregate appears, not counting\n       --  qualified expressions and similar.\n \n+      ------------------\n+      -- Aggr_Context --\n+      ------------------\n+\n       function Aggr_Context (N : Node_Id) return Node_Id is\n          Result : Node_Id := Parent (N);\n       begin\n@@ -8822,6 +8997,10 @@ package body Exp_Aggr is\n          return Result;\n       end Aggr_Context;\n \n+      --------------------\n+      -- Use_Small_Size --\n+      --------------------\n+\n       function Use_Small_Size (N : Node_Id) return Boolean is\n          C : constant Node_Id := Aggr_Context (N);\n          --  The decision depends on the context in which the aggregate occurs,\n@@ -8852,11 +9031,15 @@ package body Exp_Aggr is\n          end case;\n       end Use_Small_Size;\n \n+      --  Local variables\n+\n+      Typ : constant Entity_Id := Etype (N);\n+\n    --  Start of processing for Max_Aggregate_Size\n \n    begin\n-      --  We use a small limit in CodePeer mode where we favor loops\n-      --  instead of thousands of single assignments (from large aggregates).\n+      --  We use a small limit in CodePeer mode where we favor loops instead of\n+      --  thousands of single assignments (from large aggregates).\n \n       --  We also increase the limit to 2**24 (about 16 million) if\n       --  Restrictions (No_Elaboration_Code) or Restrictions\n@@ -8968,14 +9151,6 @@ package body Exp_Aggr is\n       declare\n          Csiz  : constant Nat := UI_To_Int (Component_Size (Typ));\n \n-         Lo : Node_Id;\n-         Hi : Node_Id;\n-         --  Bounds of index type\n-\n-         Lob : Uint;\n-         Hib : Uint;\n-         --  Values of bounds if compile time known\n-\n          function Get_Component_Val (N : Node_Id) return Uint;\n          --  Given a expression value N of the component type Ctyp, returns a\n          --  value of Csiz (component size) bits representing this value. If\n@@ -9017,147 +9192,154 @@ package body Exp_Aggr is\n             return Val mod Uint_2 ** Csiz;\n          end Get_Component_Val;\n \n+         Bounds : constant Range_Nodes := Get_Index_Bounds (First_Index (Typ));\n+\n       --  Here we know we have a one dimensional bit packed array\n \n       begin\n-         Get_Index_Bounds (First_Index (Typ), Lo, Hi);\n-\n          --  Cannot do anything if bounds are dynamic\n \n-         if not Compile_Time_Known_Value (Lo)\n-              or else\n-            not Compile_Time_Known_Value (Hi)\n+         if not (Compile_Time_Known_Value (Bounds.First)\n+                   and then\n+                 Compile_Time_Known_Value (Bounds.Last))\n          then\n             return False;\n          end if;\n \n-         --  Or are silly out of range of int bounds\n-\n-         Lob := Expr_Value (Lo);\n-         Hib := Expr_Value (Hi);\n-\n-         if not UI_Is_In_Int_Range (Lob)\n-              or else\n-            not UI_Is_In_Int_Range (Hib)\n-         then\n-            return False;\n-         end if;\n+         declare\n+            Bounds_Vals : Range_Values;\n+            --  Compile-time known values of bounds\n+         begin\n+            --  Or are silly out of range of int bounds\n \n-         --  At this stage we have a suitable aggregate for handling at compile\n-         --  time. The only remaining checks are that the values of expressions\n-         --  in the aggregate are compile-time known (checks are performed by\n-         --  Get_Component_Val), and that any subtypes or ranges are statically\n-         --  known.\n+            Bounds_Vals.First := Expr_Value (Bounds.First);\n+            Bounds_Vals.Last := Expr_Value (Bounds.Last);\n \n-         --  If the aggregate is not fully positional at this stage, then\n-         --  convert it to positional form. Either this will fail, in which\n-         --  case we can do nothing, or it will succeed, in which case we have\n-         --  succeeded in handling the aggregate and transforming it into a\n-         --  modular value, or it will stay an aggregate, in which case we\n-         --  have failed to create a packed value for it.\n+            if not UI_Is_In_Int_Range (Bounds_Vals.First)\n+                 or else\n+               not UI_Is_In_Int_Range (Bounds_Vals.Last)\n+            then\n+               return False;\n+            end if;\n \n-         if Present (Component_Associations (N)) then\n-            Convert_To_Positional (N, Handle_Bit_Packed => True);\n-            return Nkind (N) /= N_Aggregate;\n-         end if;\n+            --  At this stage we have a suitable aggregate for handling at\n+            --  compile time. The only remaining checks are that the values of\n+            --  expressions in the aggregate are compile-time known (checks are\n+            --  performed by Get_Component_Val), and that any subtypes or\n+            --  ranges are statically known.\n \n-         --  Otherwise we are all positional, so convert to proper value\n+            --  If the aggregate is not fully positional at this stage, then\n+            --  convert it to positional form. Either this will fail, in which\n+            --  case we can do nothing, or it will succeed, in which case we\n+            --  have succeeded in handling the aggregate and transforming it\n+            --  into a modular value, or it will stay an aggregate, in which\n+            --  case we have failed to create a packed value for it.\n \n-         declare\n-            Lov : constant Int := UI_To_Int (Lob);\n-            Hiv : constant Int := UI_To_Int (Hib);\n+            if Present (Component_Associations (N)) then\n+               Convert_To_Positional (N, Handle_Bit_Packed => True);\n+               return Nkind (N) /= N_Aggregate;\n+            end if;\n \n-            Len : constant Nat := Int'Max (0, Hiv - Lov + 1);\n-            --  The length of the array (number of elements)\n+            --  Otherwise we are all positional, so convert to proper value\n \n-            Aggregate_Val : Uint;\n-            --  Value of aggregate. The value is set in the low order bits of\n-            --  this value. For the little-endian case, the values are stored\n-            --  from low-order to high-order and for the big-endian case the\n-            --  values are stored from high-order to low-order. Note that gigi\n-            --  will take care of the conversions to left justify the value in\n-            --  the big endian case (because of left justified modular type\n-            --  processing), so we do not have to worry about that here.\n+            declare\n+               Len : constant Nat :=\n+                 Int'Max (0, UI_To_Int (Bounds_Vals.Last) -\n+                             UI_To_Int (Bounds_Vals.First) + 1);\n+               --  The length of the array (number of elements)\n \n-            Lit : Node_Id;\n-            --  Integer literal for resulting constructed value\n+               Aggregate_Val : Uint;\n+               --  Value of aggregate. The value is set in the low order bits\n+               --  of this value. For the little-endian case, the values are\n+               --  stored from low-order to high-order and for the big-endian\n+               --  case the values are stored from high order to low order.\n+               --  Note that gigi will take care of the conversions to left\n+               --  justify the value in the big endian case (because of left\n+               --  justified modular type processing), so we do not have to\n+               --  worry about that here.\n \n-            Shift : Nat;\n-            --  Shift count from low order for next value\n+               Lit : Node_Id;\n+               --  Integer literal for resulting constructed value\n \n-            Incr : Int;\n-            --  Shift increment for loop\n+               Shift : Nat;\n+               --  Shift count from low order for next value\n \n-            Expr : Node_Id;\n-            --  Next expression from positional parameters of aggregate\n+               Incr : Int;\n+               --  Shift increment for loop\n \n-            Left_Justified : Boolean;\n-            --  Set True if we are filling the high order bits of the target\n-            --  value (i.e. the value is left justified).\n+               Expr : Node_Id;\n+               --  Next expression from positional parameters of aggregate\n \n-         begin\n-            --  For little endian, we fill up the low order bits of the target\n-            --  value. For big endian we fill up the high order bits of the\n-            --  target value (which is a left justified modular value).\n+               Left_Justified : Boolean;\n+               --  Set True if we are filling the high order bits of the target\n+               --  value (i.e. the value is left justified).\n \n-            Left_Justified := Bytes_Big_Endian;\n+            begin\n+               --  For little endian, we fill up the low order bits of the\n+               --  target value. For big endian we fill up the high order bits\n+               --  of the target value (which is a left justified modular\n+               --  value).\n \n-            --  Switch justification if using -gnatd8\n+               Left_Justified := Bytes_Big_Endian;\n \n-            if Debug_Flag_8 then\n-               Left_Justified := not Left_Justified;\n-            end if;\n+               --  Switch justification if using -gnatd8\n \n-            --  Switch justfification if reverse storage order\n+               if Debug_Flag_8 then\n+                  Left_Justified := not Left_Justified;\n+               end if;\n \n-            if Reverse_Storage_Order (Base_Type (Typ)) then\n-               Left_Justified := not Left_Justified;\n-            end if;\n+               --  Switch justfification if reverse storage order\n \n-            if Left_Justified then\n-               Shift := Csiz * (Len - 1);\n-               Incr  := -Csiz;\n-            else\n-               Shift := 0;\n-               Incr  := +Csiz;\n-            end if;\n+               if Reverse_Storage_Order (Base_Type (Typ)) then\n+                  Left_Justified := not Left_Justified;\n+               end if;\n \n-            --  Loop to set the values\n+               if Left_Justified then\n+                  Shift := Csiz * (Len - 1);\n+                  Incr  := -Csiz;\n+               else\n+                  Shift := 0;\n+                  Incr  := +Csiz;\n+               end if;\n \n-            if Len = 0 then\n-               Aggregate_Val := Uint_0;\n-            else\n-               Expr := First (Expressions (N));\n-               Aggregate_Val := Get_Component_Val (Expr) * Uint_2 ** Shift;\n+               --  Loop to set the values\n \n-               for J in 2 .. Len loop\n-                  Shift := Shift + Incr;\n-                  Next (Expr);\n-                  Aggregate_Val :=\n-                    Aggregate_Val + Get_Component_Val (Expr) * Uint_2 ** Shift;\n-               end loop;\n-            end if;\n+               if Len = 0 then\n+                  Aggregate_Val := Uint_0;\n+               else\n+                  Expr := First (Expressions (N));\n+                  Aggregate_Val := Get_Component_Val (Expr) * Uint_2 ** Shift;\n+\n+                  for J in 2 .. Len loop\n+                     Shift := Shift + Incr;\n+                     Next (Expr);\n+                     Aggregate_Val :=\n+                       Aggregate_Val +\n+                       Get_Component_Val (Expr) * Uint_2 ** Shift;\n+                  end loop;\n+               end if;\n \n-            --  Now we can rewrite with the proper value\n+               --  Now we can rewrite with the proper value\n \n-            Lit := Make_Integer_Literal (Loc, Intval => Aggregate_Val);\n-            Set_Print_In_Hex (Lit);\n+               Lit := Make_Integer_Literal (Loc, Intval => Aggregate_Val);\n+               Set_Print_In_Hex (Lit);\n \n-            --  Construct the expression using this literal. Note that it is\n-            --  important to qualify the literal with its proper modular type\n-            --  since universal integer does not have the required range and\n-            --  also this is a left justified modular type, which is important\n-            --  in the big-endian case.\n+               --  Construct the expression using this literal. Note that it\n+               --  is important to qualify the literal with its proper modular\n+               --  type since universal integer does not have the required\n+               --  range and also this is a left justified modular type,\n+               --  which is important in the big-endian case.\n \n-            Rewrite (N,\n-              Unchecked_Convert_To (Typ,\n-                Make_Qualified_Expression (Loc,\n-                  Subtype_Mark =>\n-                    New_Occurrence_Of (Packed_Array_Impl_Type (Typ), Loc),\n-                  Expression   => Lit)));\n+               Rewrite (N,\n+                 Unchecked_Convert_To (Typ,\n+                   Make_Qualified_Expression (Loc,\n+                     Subtype_Mark =>\n+                       New_Occurrence_Of (Packed_Array_Impl_Type (Typ), Loc),\n+                     Expression   => Lit)));\n \n-            Analyze_And_Resolve (N, Typ);\n-            return True;\n+               Analyze_And_Resolve (N, Typ);\n+               return True;\n+            end;\n          end;\n       end;\n \n@@ -9232,8 +9414,6 @@ package body Exp_Aggr is\n      (Obj_Type : Entity_Id;\n       Typ      : Entity_Id) return Boolean\n    is\n-      L1, L2, H1, H2 : Node_Id;\n-\n    begin\n       --  No sliding if the type of the object is not established yet, if it is\n       --  an unconstrained type whose actual subtype comes from the aggregate,\n@@ -9251,20 +9431,25 @@ package body Exp_Aggr is\n       else\n          --  Sliding can only occur along the first dimension\n \n-         Get_Index_Bounds (First_Index (Typ), L1, H1);\n-         Get_Index_Bounds (First_Index (Obj_Type), L2, H2);\n+         declare\n+            Bounds1 : constant Range_Nodes :=\n+              Get_Index_Bounds (First_Index (Typ));\n+            Bounds2 : constant Range_Nodes :=\n+              Get_Index_Bounds (First_Index (Obj_Type));\n \n-         if not Is_OK_Static_Expression (L1) or else\n-            not Is_OK_Static_Expression (L2) or else\n-            not Is_OK_Static_Expression (H1) or else\n-            not Is_OK_Static_Expression (H2)\n-         then\n-            return False;\n-         else\n-            return Expr_Value (L1) /= Expr_Value (L2)\n-                     or else\n-                   Expr_Value (H1) /= Expr_Value (H2);\n-         end if;\n+         begin\n+            if not Is_OK_Static_Expression (Bounds1.First) or else\n+               not Is_OK_Static_Expression (Bounds2.First) or else\n+               not Is_OK_Static_Expression (Bounds1.Last) or else\n+               not Is_OK_Static_Expression (Bounds2.Last)\n+            then\n+               return False;\n+            else\n+               return Expr_Value (Bounds1.First) /= Expr_Value (Bounds2.First)\n+                        or else\n+                      Expr_Value (Bounds1.Last) /= Expr_Value (Bounds2.Last);\n+            end if;\n+         end;\n       end if;\n    end Must_Slide;\n \n@@ -9317,7 +9502,7 @@ package body Exp_Aggr is\n       --    type Res_Typ is access all Comp_Typ;\n \n       Res_Typ := Make_Temporary (Loc, 'A');\n-      Set_Ekind (Res_Typ, E_General_Access_Type);\n+      Mutate_Ekind (Res_Typ, E_General_Access_Type);\n       Set_Directly_Designated_Type (Res_Typ, Comp_Typ);\n \n       Add_Item\n@@ -9337,7 +9522,7 @@ package body Exp_Aggr is\n       --  its lifetime is bounded by the current array or record component.\n \n       Res_Id := Make_Temporary (Loc, 'R');\n-      Set_Ekind (Res_Id, E_Constant);\n+      Mutate_Ekind (Res_Id, E_Constant);\n       Set_Etype (Res_Id, Res_Typ);\n \n       --  Mark the transient object as successfully processed to avoid double"}, {"sha": "2e0fde177bb9c7660753265bb6c4d177250e8b25", "filename": "gcc/ada/exp_aggr.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_aggr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_aggr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_aggr.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1992-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "bae98a62d34029b1baecbd94ee64fa321d7270b9", "filename": "gcc/ada/exp_atag.adb", "status": "modified", "additions": 20, "deletions": 17, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_atag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_atag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_atag.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2006-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2006-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -23,22 +23,25 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Atree;    use Atree;\n-with Einfo;    use Einfo;\n-with Elists;   use Elists;\n-with Exp_Disp; use Exp_Disp;\n-with Namet;    use Namet;\n-with Nlists;   use Nlists;\n-with Nmake;    use Nmake;\n-with Opt;      use Opt;\n-with Rtsfind;  use Rtsfind;\n-with Sinfo;    use Sinfo;\n-with Sem_Aux;  use Sem_Aux;\n-with Sem_Disp; use Sem_Disp;\n-with Sem_Util; use Sem_Util;\n-with Stand;    use Stand;\n-with Snames;   use Snames;\n-with Tbuild;   use Tbuild;\n+with Atree;          use Atree;\n+with Einfo;          use Einfo;\n+with Einfo.Entities; use Einfo.Entities;\n+with Einfo.Utils;    use Einfo.Utils;\n+with Elists;         use Elists;\n+with Exp_Disp;       use Exp_Disp;\n+with Namet;          use Namet;\n+with Nlists;         use Nlists;\n+with Nmake;          use Nmake;\n+with Opt;            use Opt;\n+with Rtsfind;        use Rtsfind;\n+with Sinfo;          use Sinfo;\n+with Sinfo.Nodes;    use Sinfo.Nodes;\n+with Sem_Aux;        use Sem_Aux;\n+with Sem_Disp;       use Sem_Disp;\n+with Sem_Util;       use Sem_Util;\n+with Stand;          use Stand;\n+with Snames;         use Snames;\n+with Tbuild;         use Tbuild;\n \n package body Exp_Atag is\n "}, {"sha": "e756080d9137c55cd81ea66134e6397271e0a42c", "filename": "gcc/ada/exp_atag.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_atag.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_atag.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_atag.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2006-2020, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2006-2021, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --"}, {"sha": "fc6b0ef809702dde6dbc5df13621eb1f2de05379", "filename": "gcc/ada/exp_attr.adb", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_attr.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6bbfeff88201f9d8d70712a61a22b6d4e1867790", "filename": "gcc/ada/exp_attr.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_attr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_attr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_attr.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "116dc64c8d3b1fe285fddb08b937d4cb02491823", "filename": "gcc/ada/exp_cg.adb", "status": "modified", "additions": 36, "deletions": 25, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_cg.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_cg.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_cg.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a26bb5e01d3336e112141f81513a91c0531a71da", "filename": "gcc/ada/exp_cg.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_cg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_cg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_cg.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "2193d029a2917723fe32df870fa080d9a5993562", "filename": "gcc/ada/exp_ch10.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch10.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch10.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch10.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "40288e47c966cacf965fa3e083f5d5e22efd30b2", "filename": "gcc/ada/exp_ch11.adb", "status": "modified", "additions": 119, "deletions": 59, "changes": 178, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "057919bbc521c8f93e2796cda00683282175bf68", "filename": "gcc/ada/exp_ch11.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch11.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch11.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "3a73a8e090149e07d5fbcf4eb949463c7364b865", "filename": "gcc/ada/exp_ch12.adb", "status": "modified", "additions": 13, "deletions": 10, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch12.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch12.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch12.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "69fb86e87bb0c382706741b040cb679ef2efafdb", "filename": "gcc/ada/exp_ch12.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch12.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch12.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch12.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "479decae9040fade20deb2cc696e8b9e10028bba", "filename": "gcc/ada/exp_ch13.adb", "status": "modified", "additions": 31, "deletions": 27, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch13.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "1c5301dca1d0767dfcf89e2f208a1390fbe56ea0", "filename": "gcc/ada/exp_ch13.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch13.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch13.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch13.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a8b20aa24e6d4a66e006862b184c8e4b3bbedafe", "filename": "gcc/ada/exp_ch2.adb", "status": "modified", "additions": 26, "deletions": 22, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch2.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "c84ccefba7634e533c5fb088e121f97af208fa3c", "filename": "gcc/ada/exp_ch2.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch2.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "ad82e568609720610de25e538e441a8b7081bb12", "filename": "gcc/ada/exp_ch3.adb", "status": "modified", "additions": 144, "deletions": 162, "changes": 306, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "0c5f9cc303631f0dad0f0d848468846c26a1071c", "filename": "gcc/ada/exp_ch3.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch3.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch3.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch3.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "16f513e32265f77dc400704ea9fc3c01e1af8588", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 331, "deletions": 396, "changes": 727, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "b1df4a01a89e0eae7696d388be5832a70fc0397a", "filename": "gcc/ada/exp_ch4.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch4.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch4.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8ac9662902567293ebf8cbd9b305c326332c3147", "filename": "gcc/ada/exp_ch5.adb", "status": "modified", "additions": 816, "deletions": 175, "changes": 991, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "75dd2cc808e1fb03eefc4cf9e72b73233f94ed36", "filename": "gcc/ada/exp_ch5.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch5.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch5.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "59704a4065c654daec3bdae8aa802ba3747ca877", "filename": "gcc/ada/exp_ch6.adb", "status": "modified", "additions": 279, "deletions": 286, "changes": 565, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "76cec4d4e47b59fa59a19cc3b5f688566d7c162e", "filename": "gcc/ada/exp_ch6.ads", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch6.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch6.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch6.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "f7807acd298610f34fdb7d8c30af86acb2e20972", "filename": "gcc/ada/exp_ch7.adb", "status": "modified", "additions": 448, "deletions": 395, "changes": 843, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch7.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch7.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch7.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "ef1bf675c267e74ef21cf15acad18a57f377301c", "filename": "gcc/ada/exp_ch7.ads", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch7.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch7.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch7.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "dba21edc089a111b8133fa3b79f13bce4d0e9255", "filename": "gcc/ada/exp_ch8.adb", "status": "modified", "additions": 26, "deletions": 22, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch8.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "64ffae1ff0801a2b1d898509417ba4a718a4cb30", "filename": "gcc/ada/exp_ch8.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch8.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch8.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch8.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "427b430151440b1d5d38df0974f2eacb3ffec7c1", "filename": "gcc/ada/exp_ch9.adb", "status": "modified", "additions": 109, "deletions": 120, "changes": 229, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch9.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch9.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch9.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "ae3054d7a0db223ea4a9638e9aebd8dd1a6fc314", "filename": "gcc/ada/exp_ch9.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch9.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_ch9.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch9.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "50d45bcff64dd49fc25bc3cd9473420a7bb4ee45", "filename": "gcc/ada/exp_code.adb", "status": "modified", "additions": 21, "deletions": 17, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_code.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_code.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_code.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "474eafc479ec30a952d70f92d3e50460ced3fc07", "filename": "gcc/ada/exp_code.ads", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_code.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_code.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_code.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "bfc3b3356f11c3fc11b3877345d8ea36f4c22848", "filename": "gcc/ada/exp_dbug.adb", "status": "modified", "additions": 40, "deletions": 31, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dbug.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dbug.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "09921f0e42d0d911fa9a4370b9657a20a6ac90c1", "filename": "gcc/ada/exp_dbug.ads", "status": "modified", "additions": 192, "deletions": 219, "changes": 411, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dbug.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dbug.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dbug.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "e9d6e744d2cfd0e0f28f82c4d430fe28db5eb69d", "filename": "gcc/ada/exp_disp.adb", "status": "modified", "additions": 233, "deletions": 196, "changes": 429, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_disp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_disp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_disp.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "9d9811b8845d5ca0322a6da0d67328bbc1affb99", "filename": "gcc/ada/exp_disp.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_disp.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_disp.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_disp.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "5cb8fb54993eb17d01462a54675130f81040c25c", "filename": "gcc/ada/exp_dist.adb", "status": "modified", "additions": 69, "deletions": 64, "changes": 133, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dist.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dist.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dist.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8b0d6e3f30760c89c804d80e2c832a8d90af2b08", "filename": "gcc/ada/exp_dist.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dist.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_dist.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_dist.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8d7624f853277636599338f5811e657a60645ab8", "filename": "gcc/ada/exp_fixd.adb", "status": "modified", "additions": 23, "deletions": 20, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_fixd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_fixd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_fixd.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "9a3b205515f55404f07e873093a2583306375770", "filename": "gcc/ada/exp_fixd.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_fixd.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_fixd.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_fixd.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "69b9f2df04ef27a706fef144c76090966631f9fd", "filename": "gcc/ada/exp_imgv.adb", "status": "modified", "additions": 853, "deletions": 209, "changes": 1062, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_imgv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_imgv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_imgv.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "f6ce1727bebef16d7925a7f699e0b67a3e3b12ff", "filename": "gcc/ada/exp_imgv.ads", "status": "modified", "additions": 33, "deletions": 25, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_imgv.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_imgv.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_imgv.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "45de0fb4e51c3bd9378126b9638b8e09d262d8fb", "filename": "gcc/ada/exp_intr.adb", "status": "modified", "additions": 37, "deletions": 92, "changes": 129, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_intr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_intr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_intr.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "5fae2c786039098377615b689f7169ec7b434a5e", "filename": "gcc/ada/exp_intr.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_intr.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_intr.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_intr.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "88f86f4b79ab3f60b4609c124a5b4953aa0c8580", "filename": "gcc/ada/exp_pakd.adb", "status": "modified", "additions": 41, "deletions": 36, "changes": 77, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_pakd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_pakd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8c347536adb0fc5b7248d398a0c1e26c39818095", "filename": "gcc/ada/exp_pakd.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_pakd.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_pakd.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_pakd.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "43ecdcdd333a18c4959c72749f408321c72f2406", "filename": "gcc/ada/exp_prag.adb", "status": "modified", "additions": 89, "deletions": 56, "changes": 145, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_prag.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a418192d56a60f257d01f6f3c205dc56d88e5877", "filename": "gcc/ada/exp_prag.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_prag.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_prag.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_prag.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "90a542d5c40150f5c6ad694b341f59bee9de660a", "filename": "gcc/ada/exp_put_image.adb", "status": "modified", "additions": 319, "deletions": 127, "changes": 446, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_put_image.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_put_image.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_put_image.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "4f049f131f391e95de08143fb72301eefa8ac934", "filename": "gcc/ada/exp_put_image.ads", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_put_image.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_put_image.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_put_image.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "7140015ea33b2a9235281f6bc95b0921bd84037a", "filename": "gcc/ada/exp_sel.adb", "status": "modified", "additions": 12, "deletions": 10, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_sel.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_sel.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_sel.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "69c2efab13a873095f5283c7facaa032f213f070", "filename": "gcc/ada/exp_sel.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_sel.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_sel.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_sel.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "45db4870eeaad8be49a20fde95d6ed8eef1af1c0", "filename": "gcc/ada/exp_smem.adb", "status": "modified", "additions": 24, "deletions": 20, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_smem.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_smem.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_smem.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "68eb58e5e8ec06d836534add0ccf3f81d3b5a278", "filename": "gcc/ada/exp_smem.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_smem.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_smem.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_smem.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "bbfee6229690a3562521ee9f0fadd087b0091906", "filename": "gcc/ada/exp_spark.adb", "status": "modified", "additions": 25, "deletions": 21, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_spark.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_spark.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_spark.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "d7d8f7720ec0c660874730a2e6969c6f7212ac33", "filename": "gcc/ada/exp_spark.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_spark.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_spark.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_spark.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "c87b88129b9318a5ca0d339b80a20b6119f83ba2", "filename": "gcc/ada/exp_strm.adb", "status": "modified", "additions": 21, "deletions": 17, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_strm.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_strm.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_strm.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "7243f08fcec36e6a514e4b7afe288df3ce70a29a", "filename": "gcc/ada/exp_strm.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_strm.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_strm.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_strm.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6bb41debecb182ed0427b62cd423111b1d306344", "filename": "gcc/ada/exp_tss.adb", "status": "modified", "additions": 16, "deletions": 13, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_tss.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_tss.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_tss.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "060f33ebd4336dda8715cdaea3b773d5cbd1dc16", "filename": "gcc/ada/exp_tss.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_tss.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_tss.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_tss.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "c071a9c7e35e8d8d8ec7117c82044a8d6497b089", "filename": "gcc/ada/exp_unst.adb", "status": "modified", "additions": 40, "deletions": 32, "changes": 72, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_unst.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_unst.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_unst.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "9355380707b35f57649b2600929e6530e55f1d3d", "filename": "gcc/ada/exp_unst.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_unst.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_unst.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_unst.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "258404132315867e86b7e2ee9907e91e775e8173", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 362, "deletions": 125, "changes": 487, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "5c931c946a947999bfb4c39ae9014279f2538623", "filename": "gcc/ada/exp_util.ads", "status": "modified", "additions": 22, "deletions": 15, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_util.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexp_util.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "e0483b7d029b22f868d4b781754bf951aef82364", "filename": "gcc/ada/expander.adb", "status": "modified", "additions": 36, "deletions": 26, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpander.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpander.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpander.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "12e7398252f09e461b5a44fdef2c1a4ea6698239", "filename": "gcc/ada/expander.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpander.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpander.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpander.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a92c465a473bacc5a33ca4567e728f19724d9547", "filename": "gcc/ada/expect.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpect.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fexpect.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpect.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "4517c5943e3782db5ba3e079e807f79d90b43a27", "filename": "gcc/ada/fe.h", "status": "modified", "additions": 374, "deletions": 19, "changes": 393, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffe.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "58038d593f39e9b938fe4ac885dbf9ecf0ed4558", "filename": "gcc/ada/final.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffinal.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "7a8e082cbb1c8e2fbba05957de488a71aac3df7f", "filename": "gcc/ada/fmap.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffmap.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffmap.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffmap.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "b3294dd42925ff866fdb4755a77d88863f9a89b7", "filename": "gcc/ada/fmap.ads", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffmap.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffmap.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffmap.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8feb150a3de8387a921aaaf28ceeefa451383f2a", "filename": "gcc/ada/fname-sf.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-sf.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-sf.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname-sf.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "dd8e4bf5e6cece63db12bf9a3645da6e229a97db", "filename": "gcc/ada/fname-sf.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-sf.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-sf.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname-sf.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "cfaf7c4c7c076d3aadf38b277d24578d542ac176", "filename": "gcc/ada/fname-uf.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-uf.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-uf.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname-uf.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "465e8ed46903d81a62a907588b354c497ea80d46", "filename": "gcc/ada/fname-uf.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-uf.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname-uf.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname-uf.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "ae121c64aad5c117c824718ea3d8d8c0e34087f0", "filename": "gcc/ada/fname.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6a908a59857044d71e04662935db3dfad1f2a910", "filename": "gcc/ada/fname.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffname.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffname.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "84502d879e7f8ac2de9d5ee44ad11f24c4cc8ea8", "filename": "gcc/ada/freeze.adb", "status": "modified", "additions": 615, "deletions": 120, "changes": 735, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffreeze.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffreeze.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6f4fecaea7266e14482d0cfe75ea3a82cf1f4671", "filename": "gcc/ada/freeze.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffreeze.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffreeze.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a65b3e1b4109cab7f6580802ee59273829729011", "filename": "gcc/ada/frontend.adb", "status": "modified", "additions": 25, "deletions": 23, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffrontend.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffrontend.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffrontend.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "9dcd30de1f5aa7a82bd7753f1bb1b9f60e9830b6", "filename": "gcc/ada/frontend.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffrontend.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Ffrontend.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffrontend.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "765654fc36bf0eede77b82bd21da0548b5a39591", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 240, "deletions": 158, "changes": 398, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "4ab71977e0b9800a33c5ad3d075aacb55b241a32", "filename": "gcc/ada/gcc-interface/Makefile.in", "status": "modified", "additions": 16, "deletions": 9, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMakefile.in?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "429b14b5177f3e6c3e04a0208e54fba7999fb72a", "filename": "gcc/ada/gcc-interface/a-assert.adb", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fa-assert.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fa-assert.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fa-assert.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "55ed806a0f4ce210912ec1e9808cf906dac2aa79", "filename": "gcc/ada/gcc-interface/a-assert.ads", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fa-assert.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fa-assert.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fa-assert.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "9fe52cf61d2644252b0f858fd27f4238bd5539ff", "filename": "gcc/ada/gcc-interface/ada-tree.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fada-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fada-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fada-tree.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "242a14eeb32b43f068943e1cfdad3d7a54eead0b", "filename": "gcc/ada/gcc-interface/ada.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fada.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fada.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fada.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6ac82d7f97bb48636b32a649e853c767c50be5e4", "filename": "gcc/ada/gcc-interface/cuintp.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fcuintp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fcuintp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fcuintp.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "0120b213a77d6c1d073e61409095fe6ac9158aa2", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 299, "deletions": 253, "changes": 552, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "89b9a11b63c1f66b0a67a021b869baf650620804", "filename": "gcc/ada/gcc-interface/gadaint.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fgadaint.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fgadaint.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fgadaint.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "49b85a4b161f35bb47c6cab665bee17d2c02ee3f", "filename": "gcc/ada/gcc-interface/gigi.h", "status": "modified", "additions": 20, "deletions": 19, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fgigi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fgigi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fgigi.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "d26cc8d0534831d7204b52985243ff23c79c3965", "filename": "gcc/ada/gcc-interface/lang-specs.h", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Flang-specs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Flang-specs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Flang-specs.h?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "96199bd4b63e3dced59e01ebc6dfb5507ac3ddfa", "filename": "gcc/ada/gcc-interface/misc.c", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fmisc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fmisc.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "cfd9bb9e871df9040d8581458f7875bad09a38b1", "filename": "gcc/ada/gcc-interface/system.ads", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fsystem.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Fsystem.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fsystem.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "704172dde89b35ac40155e57274cb4d5e61c7678", "filename": "gcc/ada/gcc-interface/targtyps.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftargtyps.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "3df56aa0560e152b6df29d5959d3111f2072b56a", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 306, "deletions": 183, "changes": 489, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "be3f107926d7c812c0241b8fe83ee2cf3f3af0be", "filename": "gcc/ada/gcc-interface/utils.c", "status": "modified", "additions": 89, "deletions": 31, "changes": 120, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Futils.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "e8ed4b292a59e97b651986ec89f7490832ab2153", "filename": "gcc/ada/gcc-interface/utils2.c", "status": "modified", "additions": 47, "deletions": 21, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Futils2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgcc-interface%2Futils2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Futils2.c?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "0a3046eb52032048a73729a2770978d78f43ddd7", "filename": "gcc/ada/gen_il-fields.ads", "status": "added", "additions": 948, "deletions": 0, "changes": 948, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-fields.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-fields.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-fields.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "41dd2327332a7fab80dbd19287f2a8d57ba22aaa", "filename": "gcc/ada/gen_il-gen-gen_entities.adb", "status": "added", "additions": 1412, "deletions": 0, "changes": 1412, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen-gen_entities.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen-gen_entities.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen-gen_entities.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "55ba71d7efb13e2a20a5ed927d39675926795eeb", "filename": "gcc/ada/gen_il-gen-gen_nodes.adb", "status": "added", "additions": 1652, "deletions": 0, "changes": 1652, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen-gen_nodes.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "a9c7bd7cfff9de062a41ae387b35cca1836fbf87", "filename": "gcc/ada/gen_il-gen.adb", "status": "added", "additions": 3278, "deletions": 0, "changes": 3278, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "1d24ebf10928c4d909a700aadb16268af632203a", "filename": "gcc/ada/gen_il-gen.ads", "status": "added", "additions": 256, "deletions": 0, "changes": 256, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-gen.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-gen.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "d77fe7a6e2d7f6bac11ce2e0f2fab62d9ec9892c", "filename": "gcc/ada/gen_il-internals.adb", "status": "added", "additions": 480, "deletions": 0, "changes": 480, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-internals.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-internals.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-internals.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "ae448de0e7c6a17fc6ed456fba0509a97cdb1129", "filename": "gcc/ada/gen_il-internals.ads", "status": "added", "additions": 282, "deletions": 0, "changes": 282, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-internals.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-internals.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-internals.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "d62440616528f2ffb15e4596a2ee68d44ac74856", "filename": "gcc/ada/gen_il-main.adb", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-main.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-main.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-main.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "321eec6504c635394f5f2fc90a407237fc731bf0", "filename": "gcc/ada/gen_il-types.ads", "status": "added", "additions": 582, "deletions": 0, "changes": 582, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-types.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il-types.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il-types.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "23619b63ebbd89d4a82343500667e17d9c75dc01", "filename": "gcc/ada/gen_il.adb", "status": "added", "additions": 148, "deletions": 0, "changes": 148, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "5f307fe7c5019d58bc410b2049603857f1e2d80b", "filename": "gcc/ada/gen_il.ads", "status": "added", "additions": 96, "deletions": 0, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgen_il.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgen_il.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "eb9efaa7ebb64758b8eed65dbc270ec2786d8019", "filename": "gcc/ada/get_scos.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_scos.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_scos.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fget_scos.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "1388c52a80975bf5d4ab6e5590a7851b1b182aab", "filename": "gcc/ada/get_scos.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_scos.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_scos.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fget_scos.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "cd2aed28675f2b1f2662db2e70739f536c2addb8", "filename": "gcc/ada/get_targ.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_targ.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_targ.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fget_targ.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "1928273a707c602a6aae3364cb7bf6a1c96801fd", "filename": "gcc/ada/get_targ.ads", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_targ.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fget_targ.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fget_targ.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "42ea0f52cf33964713afc8b52715043ab46654d5", "filename": "gcc/ada/ghost.adb", "status": "modified", "additions": 86, "deletions": 22, "changes": 108, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fghost.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fghost.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fghost.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "2b241f4c6faa783f36a2e9d657d446d735e533f2", "filename": "gcc/ada/ghost.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fghost.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fghost.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fghost.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "37ce6909d23b45cb6f071b0b2979d2d69b0bb418", "filename": "gcc/ada/gnat-style.texi", "status": "modified", "additions": 1088, "deletions": 603, "changes": 1691, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat-style.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat-style.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat-style.texi?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "6f65d7480f2df06a098776b9d0ae059cde31e42c", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 53, "deletions": 77, "changes": 130, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "94432b4576aba87cdd6c5b77ff9fc1ff91fc7d5e", "filename": "gcc/ada/gnat1drv.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat1drv.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat1drv.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "b7ce953e7855e1c05507a3af5cfada74f0241a32", "filename": "gcc/ada/gnat_cuda.adb", "status": "modified", "additions": 35, "deletions": 36, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_cuda.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_cuda.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_cuda.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "200aeeb3b4e8b157be4d24daeedcfd2ac4dd692c", "filename": "gcc/ada/gnat_cuda.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_cuda.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_cuda.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_cuda.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "349586edeadb7320b121005e9953b861c38d7ab7", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 1888, "deletions": 1655, "changes": 3543, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "713a66212ad6643b74303455e8675c929ce3d0fd", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 525, "deletions": 474, "changes": 999, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "5cb2df0e1bf64beee008ce40882c2ba8d21b70c0", "filename": "gcc/ada/gnatbind.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatbind.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatbind.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatbind.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "e38f13dd5567f60d3d70f9070cc699f10b94273d", "filename": "gcc/ada/gnatbind.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatbind.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatbind.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatbind.ads?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "8f3048c93a23af0c526175a4b50e55b568b165ff", "filename": "gcc/ada/gnatchop.adb", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatchop.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatchop.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatchop.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "83b7afbe6a961ef9808195f486a7a39a7b7632da", "filename": "gcc/ada/gnatclean.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatclean.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatclean.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatclean.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}, {"sha": "94da878ad85bfff767d5f27dcf2a1fac5a22b83e", "filename": "gcc/ada/gnatcmd.adb", "status": "modified", "additions": 18, "deletions": 15, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatcmd.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28f527c9598339cf834a30b5ee1f14258b8ecbb2/gcc%2Fada%2Fgnatcmd.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnatcmd.adb?ref=28f527c9598339cf834a30b5ee1f14258b8ecbb2"}]}