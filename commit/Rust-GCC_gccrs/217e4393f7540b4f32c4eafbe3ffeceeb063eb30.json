{"sha": "217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE3ZTQzOTNmNzU0MGI0ZjMyYzRlYWZiZTNmZmVjZWViMDYzZWIzMA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-11-22T20:48:38Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-11-22T20:48:38Z"}, "message": "simplify-rtx.c (simplify_binary_operation_1): Handle the case where both arguments are using gen_const_vec_series.\n\n\t* simplify-rtx.c (simplify_binary_operation_1) <case VEC_SERIES>:\n\tHandle the case where both arguments are using gen_const_vec_series.\n\nFrom-SVN: r255079", "tree": {"sha": "264eddb370dec5ee4c22fdabee17192ddb563af4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/264eddb370dec5ee4c22fdabee17192ddb563af4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/217e4393f7540b4f32c4eafbe3ffeceeb063eb30/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a97ae55991e4849f162a61bbf980009d549107e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a97ae55991e4849f162a61bbf980009d549107e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a97ae55991e4849f162a61bbf980009d549107e7"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "2bb7a540f73718a7d6a09bff6f1631b23c2b8dbe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/217e4393f7540b4f32c4eafbe3ffeceeb063eb30/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/217e4393f7540b4f32c4eafbe3ffeceeb063eb30/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "patch": "@@ -1,3 +1,8 @@\n+2017-11-22  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* simplify-rtx.c (simplify_binary_operation_1) <case VEC_SERIES>:\n+\tHandle the case where both arguments are using gen_const_vec_series.\n+\n 2017-11-22  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR c++/62170"}, {"sha": "806c3099923bc9acd00a55b24711293a1b9ec101", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/217e4393f7540b4f32c4eafbe3ffeceeb063eb30/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/217e4393f7540b4f32c4eafbe3ffeceeb063eb30/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=217e4393f7540b4f32c4eafbe3ffeceeb063eb30", "patch": "@@ -3566,6 +3566,8 @@ simplify_binary_operation_1 (enum rtx_code code, machine_mode mode,\n     case VEC_SERIES:\n       if (op1 == CONST0_RTX (GET_MODE_INNER (mode)))\n \treturn gen_vec_duplicate (mode, op0);\n+      if (CONSTANT_P (op0) && CONSTANT_P (op1))\n+\treturn gen_const_vec_series (mode, op0, op1);\n       return 0;\n \n     case VEC_SELECT:\n@@ -6652,6 +6654,9 @@ test_vector_ops_series (machine_mode mode, rtx scalar_reg)\n   ASSERT_RTX_EQ (series_r_1,\n \t\t simplify_binary_operation (MINUS, mode, duplicate,\n \t\t\t\t\t    series_0_m1));\n+  ASSERT_RTX_EQ (series_0_m1,\n+\t\t simplify_binary_operation (VEC_SERIES, mode, const0_rtx,\n+\t\t\t\t\t    constm1_rtx));\n }\n \n /* Verify some simplifications involving vectors.  */"}]}