{"sha": "5826770c628d6e527ac774243d3632ad44ed49ce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTgyNjc3MGM2MjhkNmU1MjdhYzc3NDI0M2QzNjMyYWQ0NGVkNDljZQ==", "commit": {"author": {"name": "Devang Patel", "email": "dpatel@apple.com", "date": "2004-09-08T18:56:22Z"}, "committer": {"name": "Devang Patel", "email": "dpatel@gcc.gnu.org", "date": "2004-09-08T18:56:22Z"}, "message": "darwin.h (TARGET_OPTION_TRANSLATE_TABLE): Add -segaddr, -segs_read_only_addr and -segs_read_write_addr.\n\n       * config/darwin.h  (TARGET_OPTION_TRANSLATE_TABLE): Add -segaddr,\n       -segs_read_only_addr and -segs_read_write_addr.\n       (WORD_SWITCH_TAKES_ARG): Same.\n      (LINK_SPEC): Same.\n       * doc/invoke.texi: Document -segaddr, -segs_read_only_addr and\n       -segs_read_write_addr.\n\n       * gcc.dg/darwin-ld-20040828-1.c: New test.\n       * gcc.dg/darwin-ld-20040828-2.c: New test.\n       * gcc.dg/darwin-ld-20040828-3.c: New test.\n\nFrom-SVN: r87197", "tree": {"sha": "0a80e50ba0234fa1e492d7db91dd41839f9d763a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a80e50ba0234fa1e492d7db91dd41839f9d763a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5826770c628d6e527ac774243d3632ad44ed49ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5826770c628d6e527ac774243d3632ad44ed49ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5826770c628d6e527ac774243d3632ad44ed49ce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5826770c628d6e527ac774243d3632ad44ed49ce/comments", "author": null, "committer": null, "parents": [{"sha": "c509784d64f2f711d1fb9d69958ecaa63b37ef33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c509784d64f2f711d1fb9d69958ecaa63b37ef33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c509784d64f2f711d1fb9d69958ecaa63b37ef33"}], "stats": {"total": 77, "additions": 75, "deletions": 2}, "files": [{"sha": "ce2df35771cf8a7d66839d53f0dba61593890376", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -1,3 +1,13 @@\n+2004-09-08  Devang Patel  <dpatel@apple.com>\n+\n+\t* config/darwin.h  (TARGET_OPTION_TRANSLATE_TABLE): Add -segaddr,\n+\t-segs_read_only_addr and -segs_read_write_addr.\n+\t(WORD_SWITCH_TAKES_ARG): Same.\n+\t(LINK_SPEC): Same.\n+\t* doc/invoke.texi: Document -segaddr, -segs_read_only_addr and\n+\t-segs_read_write_addr.\n+\n+\n 2004-09-08  Richard Henderson  <rth@redhat.com>\n \n \t* function.c (reference_callee_copied): New."}, {"sha": "a89976e14e90a48d315261fee24ba28cf5bbecd7", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -116,6 +116,10 @@ Boston, MA 02111-1307, USA.  */\n   { \"-dynamic\", \"-Zdynamic\" },  \\\n   { \"-dynamiclib\", \"-Zdynamiclib\" },  \\\n   { \"-exported_symbols_list\", \"-Zexported_symbols_list\" },  \\\n+  { \"-segaddr\", \"-Zsegaddr\" }, \\\n+  { \"-segs_read_only_addr\", \"-Zsegs_read_only_addr\" }, \\\n+  { \"-segs_read_write_addr\", \"-Zsegs_read_write_addr\" }, \\\n+  { \"-seg_addr_table\", \"-Zseg_addr_table\" }, \\\n   { \"-seg_addr_table_filename\", \"-Zseg_addr_table_filename\" }, \\\n   { \"-filelist\", \"-Xlinker -filelist -Xlinker\" },  \\\n   { \"-framework\", \"-Xlinker -framework -Xlinker\" },  \\\n@@ -174,10 +178,13 @@ extern const char *darwin_fix_and_continue_switch;\n    !strcmp (STR, \"read_only_relocs\") ? 1 :      \\\n    !strcmp (STR, \"sectcreate\") ? 3 :            \\\n    !strcmp (STR, \"sectorder\") ? 3 :             \\\n+   !strcmp (STR, \"Zsegaddr\") ? 2 :              \\\n+   !strcmp (STR, \"Zsegs_read_only_addr\") ? 1 :  \\\n+   !strcmp (STR, \"Zsegs_read_write_addr\") ? 1 : \\\n+   !strcmp (STR, \"Zseg_addr_table\") ? 1 :       \\\n    !strcmp (STR, \"Zseg_addr_table_filename\") ?1 :\\\n    !strcmp (STR, \"seg1addr\") ? 1 :              \\\n    !strcmp (STR, \"segprot\") ? 3 :               \\\n-   !strcmp (STR, \"seg_addr_table\") ? 1 :        \\\n    !strcmp (STR, \"sub_library\") ? 1 :           \\\n    !strcmp (STR, \"sub_umbrella\") ? 1 :          \\\n    !strcmp (STR, \"umbrella\") ? 1 :              \\\n@@ -275,7 +282,11 @@ extern const char *darwin_fix_and_continue_switch;\n    %{Zmultiplydefinedunused*:-multiply_defined_unused %*} \\\n    %{prebind} %{noprebind} %{nofixprebinding} %{prebind_all_twolevel_modules} \\\n    %{read_only_relocs} \\\n-   %{sectcreate*} %{sectorder*} %{seg1addr*} %{segprot*} %{seg_addr_table*} \\\n+   %{sectcreate*} %{sectorder*} %{seg1addr*} %{segprot*} \\\n+   %{Zsegaddr*:-segaddr %*} \\\n+   %{Zsegs_read_only_addr*:-segs_read_only_addr %*} \\\n+   %{Zsegs_read_write_addr*:-segs_read_write_addr %*} \\\n+   %{Zseg_addr_table*: -seg_addr_table %*} \\\n    %{Zseg_addr_table_filename*:-seg_addr_table_filename %*} \\\n    %{sub_library*} %{sub_umbrella*} \\\n    %{twolevel_namespace} %{twolevel_namespace_hints} \\"}, {"sha": "17b11540477819b3fca6b4942540925faffad14b", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -422,6 +422,7 @@ Objective-C and Objective-C++ Dialects}.\n -private_bundle  -read_only_relocs  -sectalign @gol\n -sectobjectsymbols  -whyload  -seg1addr @gol\n -sectcreate  -sectobjectsymbols  -sectorder @gol\n+-segaddr -segs_read_only_addr -segs_read_write_addr @gol\n -seg_addr_table  -seg_addr_table_filename  -seglinkedit @gol\n -segprot  -segs_read_only_addr  -segs_read_write_addr @gol\n -single_module  -static  -sub_library  -sub_umbrella @gol\n@@ -7275,6 +7276,9 @@ output file being linked. See man ld(1) for more information.\n @itemx -sectcreate\n @itemx -sectobjectsymbols\n @itemx -sectorder\n+@itemx -segaddr\n+@itemx -segs_read_only_addr\n+@itemx -segs_read_write_addr\n @itemx -seg_addr_table\n @itemx -seg_addr_table_filename\n @itemx -seglinkedit\n@@ -7334,6 +7338,9 @@ output file being linked. See man ld(1) for more information.\n @opindex sectcreate\n @opindex sectobjectsymbols\n @opindex sectorder\n+@opindex segaddr\n+@opindex segs_read_only_addr\n+@opindex segs_read_write_addr\n @opindex seg_addr_table\n @opindex seg_addr_table_filename\n @opindex seglinkedit"}, {"sha": "23cd6ff72f9d22e37e7007317316ae877c2e6a0d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -1,3 +1,9 @@\n+2004-09-08  Devang Patel  <dpatel@apple.com>\n+\n+\t* gcc.dg/darwin-ld-20040828-1.c: New test.\n+\t* gcc.dg/darwin-ld-20040828-2.c: New test.\n+\t* gcc.dg/darwin-ld-20040828-3.c: New test.\n+\t\n 2004-09-08  Ziemowit Laski  <zlaski@apple.com>\n \n \t* objc.dg/bitfield-2.m: Make 'id' definition a typedef."}, {"sha": "b90328be9de40b0c67bbf06956d11e35f0e19ffb", "filename": "gcc/testsuite/gcc.dg/darwin-ld-20040828-1.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-1.c?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -0,0 +1,13 @@\n+/* Test -segaddr.  */\n+/* Contributed by Devang Patel  <dpatel@apple.com>  */\n+\n+/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-options \"-segaddr __DATA 4000\" } */\n+\n+\n+int\n+main ()\n+{\n+  return 0;\n+}\n+"}, {"sha": "51f5ae83086dac1534882c25cdf1af7869e0610d", "filename": "gcc/testsuite/gcc.dg/darwin-ld-20040828-2.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-2.c?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -0,0 +1,13 @@\n+/* Test -segs_read_only_addr.  */\n+/* Contributed by Devang Patel  <dpatel@apple.com>  */\n+\n+/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-options \"-segs_read_only_addr 4000 -dynamiclib\" } */\n+\n+\n+int\n+main ()\n+{\n+  return 0;\n+}\n+"}, {"sha": "ca8928bd86a309d5cee813cd992dde372c62b30b", "filename": "gcc/testsuite/gcc.dg/darwin-ld-20040828-3.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5826770c628d6e527ac774243d3632ad44ed49ce/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdarwin-ld-20040828-3.c?ref=5826770c628d6e527ac774243d3632ad44ed49ce", "patch": "@@ -0,0 +1,13 @@\n+/* Test -segs_read_write_addr.  */\n+/* Contributed by Devang Patel  <dpatel@apple.com>  */\n+\n+/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-options \"-segs_read_only_addr 4000 -segs_read_write_addr 8000 -dynamiclib\" } */\n+\n+\n+int\n+main ()\n+{\n+  return 0;\n+}\n+"}]}