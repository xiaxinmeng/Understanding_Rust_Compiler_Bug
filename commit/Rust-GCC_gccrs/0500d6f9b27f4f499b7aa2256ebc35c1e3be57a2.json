{"sha": "0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDUwMGQ2ZjliMjdmNGY0OTliN2FhMjI1NmViYzM1YzFlM2JlNTdhMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-16T21:32:49Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-04-16T21:32:49Z"}, "message": "(clear_limbo_values): New function.\n\n(pushdecl): Call it for function body blocks.\n\nFrom-SVN: r11828", "tree": {"sha": "02234c302e45f52f4777735f7717eef9166f8926", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02234c302e45f52f4777735f7717eef9166f8926"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2/comments", "author": null, "committer": null, "parents": [{"sha": "f12d26af47d21dff9112b8c241080b6331534c80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f12d26af47d21dff9112b8c241080b6331534c80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f12d26af47d21dff9112b8c241080b6331534c80"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "38c25eba6af27e3884f7d04c782357e1be789aaf", "filename": "gcc/c-decl.c", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=0500d6f9b27f4f499b7aa2256ebc35c1e3be57a2", "patch": "@@ -902,6 +902,22 @@ pushlevel (tag_transparent)\n   keep_next_if_subblocks = 0;\n }\n \n+/* Clear the limbo values of all identifiers defined in BLOCK or a subblock. */\n+\n+static void\n+clear_limbo_values (block)\n+     tree block;\n+{\n+  tree tem;\n+\n+  for (tem = BLOCK_VARS (block); tem; tem = TREE_CHAIN (tem))\n+    if (DECL_NAME (tem) != 0)\n+      IDENTIFIER_LIMBO_VALUE (DECL_NAME (tem)) = 0;\n+\n+  for (tem = BLOCK_SUBBLOCKS (block); tem; tem = TREE_CHAIN (tem))\n+    clear_limbo_values (tem);\n+}\n+    \n /* Exit a binding level.\n    Pop the level off, and restore the state of the identifier-decl mappings\n    that were in effect when this level was entered.\n@@ -1055,6 +1071,8 @@ poplevel (keep, reverse, functionbody)\n \n   if (functionbody)\n     {\n+      clear_limbo_values (block);\n+\n       /* If this is the top level block of a function,\n \t the vars are the function's parameters.\n \t Don't leave them in the BLOCK because they are"}]}