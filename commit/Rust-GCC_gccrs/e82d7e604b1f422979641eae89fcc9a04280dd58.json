{"sha": "e82d7e604b1f422979641eae89fcc9a04280dd58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgyZDdlNjA0YjFmNDIyOTc5NjQxZWFlODlmY2M5YTA0MjgwZGQ1OA==", "commit": {"author": {"name": "Diego Novillo", "email": "dnovillo@redhat.com", "date": "2005-10-01T14:00:09Z"}, "committer": {"name": "Diego Novillo", "email": "dnovillo@gcc.gnu.org", "date": "2005-10-01T14:00:09Z"}, "message": "re PR tree-optimization/24141 (VRP ICE in compare_name_with_value, at tree-vrp.c:2965)\n\n\n\tPR 24141\n\t* tree-vrp.c (vrp_meet): Clear VR0->EQUIV when building a\n\tnon-null range as a last resort.\n\ntestsuite/\n\n\tPR 24141\n\t* gcc.c-torture/execute/pr24141.c: New test.\n\nFrom-SVN: r104859", "tree": {"sha": "ba9321a7c633c51156a2da0b2b0d781d14821c27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba9321a7c633c51156a2da0b2b0d781d14821c27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e82d7e604b1f422979641eae89fcc9a04280dd58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e82d7e604b1f422979641eae89fcc9a04280dd58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e82d7e604b1f422979641eae89fcc9a04280dd58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e82d7e604b1f422979641eae89fcc9a04280dd58/comments", "author": null, "committer": null, "parents": [{"sha": "fde5c44c5c8c5ea33da3cef11ad742309733dfb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fde5c44c5c8c5ea33da3cef11ad742309733dfb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fde5c44c5c8c5ea33da3cef11ad742309733dfb8"}], "stats": {"total": 53, "additions": 52, "deletions": 1}, "files": [{"sha": "2971178cb4aa57c9ebaf18da9db27ae1feda1396", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e82d7e604b1f422979641eae89fcc9a04280dd58", "patch": "@@ -1,3 +1,9 @@\n+2005-10-01  Diego Novillo  <dnovillo@redhat.com>\n+\n+\tPR 24141\n+\t* tree-vrp.c (vrp_meet): Clear VR0->EQUIV when building a\n+\tnon-null range as a last resort.\n+\n 2005-10-01  James A. Morrison  <phython@gcc.gnu.org>\n \t    Diego Novillo  <dnovillo@redhat.com>\n "}, {"sha": "d90b90b069de4ee5e21f00bb84bb58b3b4cc7280", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e82d7e604b1f422979641eae89fcc9a04280dd58", "patch": "@@ -1,3 +1,8 @@\n+2005-10-01  Diego Novillo  <dnovillo@redhat.com>\n+\n+\tPR 24141\n+\t* gcc.c-torture/execute/pr24141.c: New test.\n+\n 2005-10-01  James A. Morrison  <phython@gcc.gnu.org>\n \t    Diego Novillo  <dnovillo@redhat.com>\n "}, {"sha": "301296206cb5e5b7babb41be75b7684d332e6c03", "filename": "gcc/testsuite/gcc.c-torture/execute/pr24141.c", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr24141.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr24141.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr24141.c?ref=e82d7e604b1f422979641eae89fcc9a04280dd58", "patch": "@@ -0,0 +1,33 @@\n+// reduced testcase, compile with -O2. Also, with --disable-checking\n+// gcc produces wrong code.\n+\n+void abort (void);\n+int i;\n+\n+void g (void)\n+{\n+  i = 1;\n+}\n+\n+void f (int a, int b)\n+{\n+  int c = 0;\n+  if (a == 0)\n+    c = 1;\n+  if (c)\n+    return;\n+  if (c == 1)\n+    c = 0;\n+  if (b == 0)\n+    c = 1;\n+  if (c)\n+    g ();\n+}\n+\n+int main (void)\n+{\n+  f (1, 0);\n+  if (i != 1)\n+    abort ();\n+  return 0;\n+}"}, {"sha": "0e5ea09b5d58034e9c1fb409ec0879a72edaebb2", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e82d7e604b1f422979641eae89fcc9a04280dd58/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=e82d7e604b1f422979641eae89fcc9a04280dd58", "patch": "@@ -3439,7 +3439,14 @@ vrp_meet (value_range_t *vr0, value_range_t *vr1)\n       && !range_includes_zero_p (vr0)\n       && !symbolic_range_p (vr1)\n       && !range_includes_zero_p (vr1))\n-    set_value_range_to_nonnull (vr0, TREE_TYPE (vr0->min));\n+    {\n+      set_value_range_to_nonnull (vr0, TREE_TYPE (vr0->min));\n+\n+      /* Since this meet operation did not result from the meeting of\n+\t two equivalent names, VR0 cannot have any equivalences.  */\n+      if (vr0->equiv)\n+\tbitmap_clear (vr0->equiv);\n+    }\n   else\n     set_value_range_to_varying (vr0);\n }"}]}