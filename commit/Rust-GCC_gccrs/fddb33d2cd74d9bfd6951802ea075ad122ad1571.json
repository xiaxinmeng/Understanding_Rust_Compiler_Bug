{"sha": "fddb33d2cd74d9bfd6951802ea075ad122ad1571", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmRkYjMzZDJjZDc0ZDliZmQ2OTUxODAyZWEwNzVhZDEyMmFkMTU3MQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "bryce@mckinlay.net.nz", "date": "2003-10-02T07:10:34Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2003-10-02T07:10:34Z"}, "message": "re PR libgcj/12475 (Stack traces leak memory)\n\n\tFix PR libgcj/12475\n\t* gnu/gcj/runtime/StackTrace.java (finalize): Declare.\n\t* gnu/gcj/runtime/natStackTrace.cc (finalize): New. Free \"addrs\".\n\nFrom-SVN: r72012", "tree": {"sha": "1ceb18e3ff3e3946ca3f2212f72ef14293c258cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ceb18e3ff3e3946ca3f2212f72ef14293c258cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fddb33d2cd74d9bfd6951802ea075ad122ad1571", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fddb33d2cd74d9bfd6951802ea075ad122ad1571", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fddb33d2cd74d9bfd6951802ea075ad122ad1571", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fddb33d2cd74d9bfd6951802ea075ad122ad1571/comments", "author": null, "committer": null, "parents": [{"sha": "f4b2bde73f84ff3936cba8c8a3773c4c29a038fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4b2bde73f84ff3936cba8c8a3773c4c29a038fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4b2bde73f84ff3936cba8c8a3773c4c29a038fe"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "2ab3393a77a0a8045eccde2eb2287d0e5b622b31", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=fddb33d2cd74d9bfd6951802ea075ad122ad1571", "patch": "@@ -1,3 +1,9 @@\n+2003-10-01  Bryce McKinlay  <bryce@mckinlay.net.nz>\n+\n+\tFix PR libgcj/12475\n+\t* gnu/gcj/runtime/StackTrace.java (finalize): Declare.\n+\t* gnu/gcj/runtime/natStackTrace.cc (finalize): New. Free \"addrs\".\n+\n 2003-10-01  Tom Tromey  <tromey@redhat.com>\n \n \t* gnu/gcj/runtime/FirstThread.java (getMain): Fixed indentation."}, {"sha": "c9f5a1a26e80439a94cf2900d9fe3c166290cb04", "filename": "libjava/gnu/gcj/runtime/StackTrace.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2Fgnu%2Fgcj%2Fruntime%2FStackTrace.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2Fgnu%2Fgcj%2Fruntime%2FStackTrace.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fruntime%2FStackTrace.java?ref=fddb33d2cd74d9bfd6951802ea075ad122ad1571", "patch": "@@ -157,6 +157,7 @@ gnu.gcj.RawData stackTraceAddrs()\n   }\n   \n   private native void fillInStackTrace(int n, int offset);\n+  protected native void finalize();\n \n   private static native MethodRef getCompiledMethodRef(RawData addr);\n   private static IdentityHashMap map = new IdentityHashMap();"}, {"sha": "5e5aed87e5cc1d0ab52168ae0c291e843910920e", "filename": "libjava/gnu/gcj/runtime/natStackTrace.cc", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatStackTrace.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fddb33d2cd74d9bfd6951802ea075ad122ad1571/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatStackTrace.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fgcj%2Fruntime%2FnatStackTrace.cc?ref=fddb33d2cd74d9bfd6951802ea075ad122ad1571", "patch": "@@ -200,4 +200,9 @@ gnu::gcj::runtime::StackTrace::update(void)\n     }\n }\n \n-\n+void\n+gnu::gcj::runtime::StackTrace::finalize(void)\n+{\n+  if (addrs != NULL)\n+    _Jv_Free (addrs);\n+}"}]}