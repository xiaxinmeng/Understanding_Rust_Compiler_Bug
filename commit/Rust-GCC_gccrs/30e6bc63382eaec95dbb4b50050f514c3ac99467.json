{"sha": "30e6bc63382eaec95dbb4b50050f514c3ac99467", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBlNmJjNjMzODJlYWVjOTVkYmI0YjUwMDUwZjUxNGMzYWM5OTQ2Nw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-02-19T02:05:45Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-02-19T02:05:45Z"}, "message": "(TARGET_68060): New macro.\n\n(TARGET_SWITCHES): Add -m68060.\n\nFrom-SVN: r11295", "tree": {"sha": "703a608c73d4210a85cb62b1eed2bf0ab7d80708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/703a608c73d4210a85cb62b1eed2bf0ab7d80708"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30e6bc63382eaec95dbb4b50050f514c3ac99467", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30e6bc63382eaec95dbb4b50050f514c3ac99467", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30e6bc63382eaec95dbb4b50050f514c3ac99467", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30e6bc63382eaec95dbb4b50050f514c3ac99467/comments", "author": null, "committer": null, "parents": [{"sha": "935531caec8a8821018dfb96fd46fcd205e3f4ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/935531caec8a8821018dfb96fd46fcd205e3f4ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/935531caec8a8821018dfb96fd46fcd205e3f4ca"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "578b4bfedcd1859416992d4bfee9aa216ff7906f", "filename": "gcc/config/m68k/m68k.h", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30e6bc63382eaec95dbb4b50050f514c3ac99467/gcc%2Fconfig%2Fm68k%2Fm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30e6bc63382eaec95dbb4b50050f514c3ac99467/gcc%2Fconfig%2Fm68k%2Fm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.h?ref=30e6bc63382eaec95dbb4b50050f514c3ac99467", "patch": "@@ -90,25 +90,33 @@ extern int target_flags;\n    run on a 68030 and 68881/2. */\n #define TARGET_68040 (target_flags & 01400)\n \n-/* Use the 68040-only fp instructions (-m68040).  */\n+/* Use the 68040-only fp instructions (-m68040 or -m68060).  */\n #define TARGET_68040_ONLY (target_flags & 01000)\n \n+/* Optimize for 68060, but still allow execution on 68020\n+   (-m68060).\n+   The 68060 will execute all 68030 and 68881/2 instructions, but some\n+   of them must be emulated in software by the OS.  When TARGET_68060 is\n+   turned on, these instructions won't be used.  This code will still\n+   run on a 68030 and 68881/2. */\n+#define TARGET_68060 (target_flags & 02000)\n+\n /* Macro to define tables used to set the flags.\n    This is a list in braces of pairs in braces,\n    each pair being { \"NAME\", VALUE }\n    where VALUE is the bits to set or minus the bits to clear.\n    An empty string NAME is used to identify the default VALUE.  */\n \n #define TARGET_SWITCHES  \\\n-  { { \"68020\", -01400},\t\t\t\t\\\n-    { \"c68020\", -01400},\t\t\t\\\n+  { { \"68020\", -03400},\t\t\t\t\\\n+    { \"c68020\", -03400},\t\t\t\\\n     { \"68020\", 5},\t\t\t\t\\\n     { \"c68020\", 5},\t\t\t\t\\\n     { \"68881\", 2},\t\t\t\t\\\n     { \"bitfield\", 4},\t\t\t\t\\\n-    { \"68000\", -01405},\t\t\t\t\\\n-    { \"c68000\", -01405},\t\t\t\\\n-    { \"soft-float\", -01102},\t\t\t\\\n+    { \"68000\", -03405},\t\t\t\t\\\n+    { \"c68000\", -03405},\t\t\t\\\n+    { \"soft-float\", -03102},\t\t\t\\\n     { \"nobitfield\", -4},\t\t\t\\\n     { \"rtd\", 8},\t\t\t\t\\\n     { \"nortd\", -8},\t\t\t\t\\\n@@ -119,9 +127,10 @@ extern int target_flags;\n     { \"sky\", 0200},\t\t\t\t\\\n     { \"nosky\", -0200},\t\t\t\t\\\n     { \"68020-40\", 0407},\t\t\t\\\n-    { \"68030\", -01400},\t\t\t\t\\\n+    { \"68030\", -03400},\t\t\t\t\\\n     { \"68030\", 5},\t\t\t\t\\\n     { \"68040\", 01007},\t\t\t\t\\\n+    { \"68060\", 03007},\t\t\t\t\\\n     { \"68851\", 0},\t/* Affects *_SPEC and/or GAS.  */\t\\\n     { \"no-68851\", 0},\t/* Affects *_SPEC and/or GAS.  */\t\\\n     { \"68302\", 0},\t/* Affects *_SPEC and/or GAS.  */\t\\"}]}