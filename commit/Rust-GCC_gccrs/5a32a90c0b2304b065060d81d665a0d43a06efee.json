{"sha": "5a32a90c0b2304b065060d81d665a0d43a06efee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWEzMmE5MGMwYjIzMDRiMDY1MDYwZDgxZDY2NWEwZDQzYTA2ZWZlZQ==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1998-03-06T10:41:22Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-03-06T10:41:22Z"}, "message": "final.c (shorten_branches): Restore accidentally removed code.\n\n8\n        * final.c (shorten_branches): Restore accidentally removed code.\n\nFrom-SVN: r18430", "tree": {"sha": "b14a8e84ab9ce1c04d846469f4b20ca43c0e3dde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b14a8e84ab9ce1c04d846469f4b20ca43c0e3dde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a32a90c0b2304b065060d81d665a0d43a06efee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a32a90c0b2304b065060d81d665a0d43a06efee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a32a90c0b2304b065060d81d665a0d43a06efee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a32a90c0b2304b065060d81d665a0d43a06efee/comments", "author": null, "committer": null, "parents": [{"sha": "19cbe68d2752db127111a146e08d2110f2b27e59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19cbe68d2752db127111a146e08d2110f2b27e59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19cbe68d2752db127111a146e08d2110f2b27e59"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "5952b1060f74f61b9069a2d72530c22be3ae21e8", "filename": "gcc/final.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a32a90c0b2304b065060d81d665a0d43a06efee/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a32a90c0b2304b065060d81d665a0d43a06efee/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=5a32a90c0b2304b065060d81d665a0d43a06efee", "patch": "@@ -1140,7 +1140,15 @@ shorten_branches (first)\n \n       body = PATTERN (insn);\n       if (GET_CODE (body) == ADDR_VEC || GET_CODE (body) == ADDR_DIFF_VEC)\n-\t; /* This should be handled by LABEL_ALIGN.  */\n+\t{\n+\t  /* This only takes room if read-only data goes into the text\n+\t     section.  */\n+#if !defined(READONLY_DATA_SECTION) || defined(JUMP_TABLES_IN_TEXT_SECTION)\n+\t  insn_lengths[uid] = (XVECLEN (body, GET_CODE (body) == ADDR_DIFF_VEC)\n+\t\t\t       * GET_MODE_SIZE (GET_MODE (body)));\n+\t  /* Alignment is handled by ADDR_VEC_ALIGN.  */\n+#endif\n+\t}\n       else if (asm_noperands (body) >= 0)\n \tinsn_lengths[uid] = asm_insn_count (body) * insn_default_length (insn);\n       else if (GET_CODE (body) == SEQUENCE)"}]}