{"sha": "301616f7ffc12a419c7fd12f79d058847f49ecd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAxNjE2ZjdmZmMxMmE0MTljN2ZkMTJmNzlkMDU4ODQ3ZjQ5ZWNkMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-10-11T00:46:57Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-10-11T00:46:57Z"}, "message": "runtime: Report len out of range for large len when making slice.\n\nFrom-SVN: r203401", "tree": {"sha": "e54b7194c6bd8478217bdf25c5762764974bae77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e54b7194c6bd8478217bdf25c5762764974bae77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/301616f7ffc12a419c7fd12f79d058847f49ecd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/301616f7ffc12a419c7fd12f79d058847f49ecd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/301616f7ffc12a419c7fd12f79d058847f49ecd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/301616f7ffc12a419c7fd12f79d058847f49ecd0/comments", "author": null, "committer": null, "parents": [{"sha": "15381741467d0803cf90873d8f193dc2d0040419", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15381741467d0803cf90873d8f193dc2d0040419", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15381741467d0803cf90873d8f193dc2d0040419"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "f08cb012dc83a125d0e582386dd30834e32fd3fb", "filename": "libgo/runtime/go-make-slice.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/301616f7ffc12a419c7fd12f79d058847f49ecd0/libgo%2Fruntime%2Fgo-make-slice.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/301616f7ffc12a419c7fd12f79d058847f49ecd0/libgo%2Fruntime%2Fgo-make-slice.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-make-slice.c?ref=301616f7ffc12a419c7fd12f79d058847f49ecd0", "patch": "@@ -34,7 +34,10 @@ __go_make_slice2 (const struct __go_type_descriptor *td, uintptr_t len,\n   std = (const struct __go_slice_type *) td;\n \n   ilen = (intgo) len;\n-  if (ilen < 0 || (uintptr_t) ilen != len)\n+  if (ilen < 0\n+      || (uintptr_t) ilen != len\n+      || (std->__element_type->__size > 0\n+\t  && len > MaxMem / std->__element_type->__size))\n     runtime_panicstring (\"makeslice: len out of range\");\n \n   icap = (intgo) cap;"}]}