{"sha": "020226e5f2f8468d5f2bf701f8123571501112db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIwMjI2ZTVmMmY4NDY4ZDVmMmJmNzAxZjgxMjM1NzE1MDExMTJkYg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@purist.soma.redhat.com", "date": "2000-07-24T20:47:37Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-07-24T20:47:37Z"}, "message": "istream.tcc (getline): Tweaks.\n\n\n2000-07-24  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n\n\t* bits/istream.tcc (getline): Tweaks.\n\nFrom-SVN: r35235", "tree": {"sha": "a526a1b85ce7234d05d0b65dc897f207bbdbc3b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a526a1b85ce7234d05d0b65dc897f207bbdbc3b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/020226e5f2f8468d5f2bf701f8123571501112db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/020226e5f2f8468d5f2bf701f8123571501112db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/020226e5f2f8468d5f2bf701f8123571501112db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/020226e5f2f8468d5f2bf701f8123571501112db/comments", "author": null, "committer": null, "parents": [{"sha": "9fed97f1bd7cef4729a1c68b111bb6b0dd6f965b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fed97f1bd7cef4729a1c68b111bb6b0dd6f965b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fed97f1bd7cef4729a1c68b111bb6b0dd6f965b"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "bf6d8f1147102270827c4bdccbda28b0f1ddcede", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=020226e5f2f8468d5f2bf701f8123571501112db", "patch": "@@ -1,10 +1,14 @@\n+2000-07-24  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n+\n+\t* bits/istream.tcc (getline): Tweaks.\n+\n 2000-07-23  Brent Verner <brent@rcfile.org>\n \n         * bits/istream.tcc: istream::getline(char_type*, streamsize,\n \tchar_type) make compliant\n         * testsuite/27_io/istream_unformatted.cc: test for compliant behavior\n \n-2000-07-23  Benjamin Kosnik  <bkoz@haight.constant.com>\n+2000-07-23  Benjamin Kosnik  <bkoz@purist.soma.redhat.com>\n \n \t* acinclude.m4 (enable_cshadow_headers): Fix problems with blddir\n \tand srcdir used to define CSHADOW_INCLUDES.."}, {"sha": "527cbf358a7e8b132fcc2ae82b9ef6c87c5afd28", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=020226e5f2f8468d5f2bf701f8123571501112db", "patch": "@@ -1520,7 +1520,7 @@ dnl Then, if any (well almost any) other make is called, and GNU make also\n dnl exists, then the other make wraps the GNU make.\n dnl\n dnl @author John Darrington <j.darrington@elvis.murdoch.edu.au>\n-dnl @version $Id: acinclude.m4,v 1.45 2000/07/21 20:59:23 gdr Exp $\n+dnl @version $Id: acinclude.m4,v 1.46 2000/07/24 16:33:55 bkoz Exp $\n dnl\n dnl #### Changes for libstdc++-v3:  reformatting and linewrapping; prepending\n dnl #### GLIBCPP_ to the macro name; adding the :-make fallback in the"}, {"sha": "f0af22bdfc9c4af817df878a713d48e7f8156d11", "filename": "libstdc++-v3/bits/istream.tcc", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2Fbits%2Fistream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/020226e5f2f8468d5f2bf701f8123571501112db/libstdc%2B%2B-v3%2Fbits%2Fistream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fbits%2Fistream.tcc?ref=020226e5f2f8468d5f2bf701f8123571501112db", "patch": "@@ -626,21 +626,26 @@ namespace std {\n           try {\n \t    __streambuf_type* __sb = this->rdbuf();\n \t    int_type __c = __sb->sbumpc();\n+\t    ++_M_gcount;\n             const int_type __idelim = traits_type::to_int_type(__delim);\n             const int_type __eof = traits_type::eof();\n \t    bool __testdelim = __c == __idelim;\n \t    bool __testeof =  __c == __eof;\n \t    \n-\t    while (++_M_gcount < __n && !__testeof && !__testdelim)\n+\t    while (_M_gcount < __n && !__testeof && !__testdelim)\n \t      {\n \t\t*__s++ = traits_type::to_char_type(__c);\n \t\t__c = __sb->sbumpc();\n+\t\t++_M_gcount;\n \t\t__testeof = __c == __eof;\n \t\t__testdelim = __c == __idelim;\n \t      }\n \t    \n \t    if (__testeof)\n-\t      this->setstate(ios_base::eofbit);\n+\t      {\n+\t\t--_M_gcount;\n+\t\tthis->setstate(ios_base::eofbit);\n+\t      }\n \t    else if (!__testdelim)\n \t      {\n \t\t--_M_gcount;"}]}