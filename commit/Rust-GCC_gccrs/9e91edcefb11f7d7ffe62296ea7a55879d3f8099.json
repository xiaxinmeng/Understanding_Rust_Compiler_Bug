{"sha": "9e91edcefb11f7d7ffe62296ea7a55879d3f8099", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU5MWVkY2VmYjExZjdkN2ZmZTYyMjk2ZWE3YTU1ODc5ZDNmODA5OQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-09T22:19:58Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-09T22:19:58Z"}, "message": "Make var/stdargs compatible with apogee's acc.\n\n(__gnuc_va_list): Replace __va_f and __va_r with __va_reg.\n(__va_list, _SYS_INT_STDARG_H): New defines.\n(va_arg): Corresponding changes.\n\nFrom-SVN: r4894", "tree": {"sha": "5123abefbbc020c286203a3fb65aa54de09e1c70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5123abefbbc020c286203a3fb65aa54de09e1c70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e91edcefb11f7d7ffe62296ea7a55879d3f8099", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e91edcefb11f7d7ffe62296ea7a55879d3f8099", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e91edcefb11f7d7ffe62296ea7a55879d3f8099", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e91edcefb11f7d7ffe62296ea7a55879d3f8099/comments", "author": null, "committer": null, "parents": [{"sha": "d412ec4c7187577b741c5e634c2d2c682aa93d3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d412ec4c7187577b741c5e634c2d2c682aa93d3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d412ec4c7187577b741c5e634c2d2c682aa93d3a"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "e3a4b8f6e536585bca3cfa04d612776902b356d2", "filename": "gcc/ginclude/va-clipper.h", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e91edcefb11f7d7ffe62296ea7a55879d3f8099/gcc%2Fginclude%2Fva-clipper.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e91edcefb11f7d7ffe62296ea7a55879d3f8099/gcc%2Fginclude%2Fva-clipper.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-clipper.h?ref=9e91edcefb11f7d7ffe62296ea7a55879d3f8099", "patch": "@@ -7,18 +7,20 @@\n \n typedef struct\n {\n-  double __va_f[2];\t\t\t/* saved floating regs f0,f1 */\n-  int __va_r[2];\t\t\t/* saved general regs r0,r1 */\n   int __va_ap;\t\t\t\t/* pointer to stack args */\n+  void *__va_reg[4];\t\t\t/* pointer to r0,f0,r1,f1 */\n   int __va_num;\t\t\t\t/* number of args processed */\n } __gnuc_va_list;\n #endif /* not __GNUC_VA_LIST */\n \n \n #if defined (_STDARG_H) || defined (_VARARGS_H)\n #define va_list __gnuc_va_list\n+#define __va_list __gnuc_va_list\t/* acc compatibility */\n+\n #define _VA_LIST\n #define _VA_LIST_\n+#define _SYS_INT_STDARG_H\t\t/* acc compatibility */\n \n #ifdef _STDARG_H\n #define va_start(AP,LASTARG)\t\t\t\\\n@@ -43,9 +45,9 @@ typedef struct\n \n #define va_arg(AP, TYPE) \\\n   ((AP).__va_num < 2 && __builtin_classify_type (* (TYPE *)0) < 12\t\\\n-   ? (__builtin_classify_type (* (TYPE *)0) == 8\t\t\\\n-      ? (*(TYPE *)&(AP).__va_f[(AP).__va_num++])\t\t\\\n-      : ((TYPE)((AP).__va_r[(AP).__va_num++])))\t\t\t\\\n+   ? (__builtin_classify_type (* (TYPE *)0) == 8\t\t\t\\\n+      ? (*(TYPE *)(AP).__va_reg[2 * (AP).__va_num++ + 1])\t\t\\\n+      : (*(TYPE *)(AP).__va_reg[2 * (AP).__va_num++ ]))\t\t\t\\\n    : ((AP).__va_num++, __va_round (AP,TYPE), *((TYPE *)((AP).__va_ap))++))\n \n #define va_end(AP)"}]}