{"sha": "8768c6551188708c6b3c6d8d7372b46565cbaf9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc2OGM2NTUxMTg4NzA4YzZiM2M2ZDhkNzM3MmI0NjU2NWNiYWY5Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-08-13T20:15:33Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-08-13T20:15:33Z"}, "message": "dbxout.c (NO_DBX_FUNCTION_END): Default to zero.\n\n        * dbxout.c (NO_DBX_FUNCTION_END): Default to zero.\n        (dbxout_function_end): Remove ifdefs for it.\n        (dbxout_begin_prologue): Protect N_BNSYM with it, and gdb extensions.\n\nFrom-SVN: r85955", "tree": {"sha": "4d0cfb18b4a532bcf85fc89957692a55a6243665", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4d0cfb18b4a532bcf85fc89957692a55a6243665"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8768c6551188708c6b3c6d8d7372b46565cbaf9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8768c6551188708c6b3c6d8d7372b46565cbaf9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8768c6551188708c6b3c6d8d7372b46565cbaf9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8768c6551188708c6b3c6d8d7372b46565cbaf9c/comments", "author": null, "committer": null, "parents": [{"sha": "201312c254f778e19ac9407874217ddbe83d2aa5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/201312c254f778e19ac9407874217ddbe83d2aa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/201312c254f778e19ac9407874217ddbe83d2aa5"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "dc116926994faf5f81b2c22b97a3b1a3fde2d4b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8768c6551188708c6b3c6d8d7372b46565cbaf9c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8768c6551188708c6b3c6d8d7372b46565cbaf9c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8768c6551188708c6b3c6d8d7372b46565cbaf9c", "patch": "@@ -1,3 +1,9 @@\n+2004-08-13  Richard Henderson  <rth@redhat.com>\n+\n+\t* dbxout.c (NO_DBX_FUNCTION_END): Default to zero.\n+\t(dbxout_function_end): Remove ifdefs for it.\n+\t(dbxout_begin_prologue): Protect N_BNSYM with it, and gdb extensions.\n+\n 2004-08-13  Richard Henderson  <rth@redhat.com>\n \n \t* Makefile.in (insn-preds.o): Depend on TREE_H."}, {"sha": "f6948a0bd72e1d18cb49a633caeab96785fc6504", "filename": "gcc/dbxout.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8768c6551188708c6b3c6d8d7372b46565cbaf9c/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8768c6551188708c6b3c6d8d7372b46565cbaf9c/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=8768c6551188708c6b3c6d8d7372b46565cbaf9c", "patch": "@@ -146,6 +146,10 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n #define STABS_GCC_MARKER \"gcc2_compiled.\"\n #endif\n \n+#ifndef NO_DBX_FUNCTION_END\n+#define NO_DBX_FUNCTION_END 0\n+#endif\n+\n enum typestatus {TYPE_UNSEEN, TYPE_XREF, TYPE_DEFINED};\n \n /* Structure recording information about a C data type.\n@@ -464,9 +468,7 @@ dbxout_function_end (void)\n      which may be undesirable, and is unnecessary if we do not have\n      named sections.  */\n   if (!use_gnu_debug_info_extensions\n-#if defined(NO_DBX_FUNCTION_END)\n       || NO_DBX_FUNCTION_END\n-#endif\n       || !targetm.have_named_sections)\n     return;\n \n@@ -761,7 +763,9 @@ dbxout_source_file (FILE *file, const char *filename)\n static void\n dbxout_begin_prologue (unsigned int lineno, const char *filename)\n {\n-  if (!flag_debug_only_used_symbols)\n+  if (use_gnu_debug_info_extensions\n+      && !NO_DBX_FUNCTION_END\n+      && !flag_debug_only_used_symbols)\n     fprintf (asmfile, \"%s%d,0,0\\n\", ASM_STABD_OP, N_BNSYM);\n \n   dbxout_source_line (lineno, filename);"}]}