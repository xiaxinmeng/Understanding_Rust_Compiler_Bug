{"sha": "6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjY5MGQyNGMyY2Q1ZmUxZjM3ZDVkMDQwZDlmYjA3MWI2ZmU3YmQ5Nw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-06-21T20:20:26Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-06-21T20:20:26Z"}, "message": "collect2.c (main): Log frame table count.\n\n        * collect2.c (main): Log frame table count.\n        (GCC_OK_SYMBOL) [ECOFF]: Accept stGlobal.\n        (scan_prog_file) [COFF]: Handle frame tables.\n        * alpha/alpha.h (UNALIGNED_SHORT_ASM_OP): Define.\n        (UNALIGNED_INT_ASM_OP, UNALIGNED_DOUBLE_INT_ASM_OP): Define.\n        * alpha/elf.h: Undef them again.\n        * alpha/vms.h: Remove their definitions.\n\nFrom-SVN: r27680", "tree": {"sha": "f5bafb66893ae7d11e0267842705289d6f59b6a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5bafb66893ae7d11e0267842705289d6f59b6a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/comments", "author": null, "committer": null, "parents": [{"sha": "b8794099b71a90b1a2d336b30fac802aba82345b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8794099b71a90b1a2d336b30fac802aba82345b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8794099b71a90b1a2d336b30fac802aba82345b"}], "stats": {"total": 35, "additions": 30, "deletions": 5}, "files": [{"sha": "b61cd3c54e222e13d33fef9a07a1edba5d4bdbb2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "patch": "@@ -1,3 +1,14 @@\n+Mon Jun 21 20:10:42 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* collect2.c (main): Log frame table count.\n+\t(GCC_OK_SYMBOL) [ECOFF]: Accept stGlobal.\n+\t(scan_prog_file) [COFF]: Handle frame tables.\n+\n+\t* alpha/alpha.h (UNALIGNED_SHORT_ASM_OP): Define.\n+\t(UNALIGNED_INT_ASM_OP, UNALIGNED_DOUBLE_INT_ASM_OP): Define.\n+\t* alpha/elf.h: Undef them again.\n+\t* alpha/vms.h: Remove their definitions.\n+\n Tue Jun 22 03:17:53 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* sh.c (machine_dependent_reorg): When fixing up fp pcloads,"}, {"sha": "62a79d39e3080233625e8290692f77f912b83295", "filename": "gcc/collect2.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "patch": "@@ -1567,6 +1567,7 @@ main (argc, argv)\n     {\n       notice (\"%d constructor(s) found\\n\", constructors.number);\n       notice (\"%d destructor(s)  found\\n\", destructors.number);\n+      notice (\"%d frame table(s) found\\n\", frame_tables.number);\n     }\n \n   if (constructors.number == 0 && destructors.number == 0\n@@ -2389,6 +2390,7 @@ scan_prog_file (prog_name, which_pass)\n \tcase 5:\n \t  if (which_pass != PASS_LIB)\n \t    add_to_list (&frame_tables, name);\n+\t  break;\n \n \tdefault:\t\t/* not a constructor or destructor */\n \t  continue;\n@@ -2833,7 +2835,7 @@ scan_libraries (prog_name)\n #if defined(EXTENDED_COFF)\n #   define GCC_SYMBOLS(X)\t(SYMHEADER(X).isymMax + SYMHEADER(X).iextMax)\n #   define GCC_SYMENT\t\tSYMR\n-#   define GCC_OK_SYMBOL(X)\t((X).st == stProc && (X).sc == scText)\n+#   define GCC_OK_SYMBOL(X)\t((X).st == stProc || (X).st == stGlobal)\n #   define GCC_SYMINC(X)\t(1)\n #   define GCC_SYMZERO(X)\t(SYMHEADER(X).isymMax)\n #   define GCC_CHECK_HDR(X)\t(PSYMTAB(X) != 0)\n@@ -2974,6 +2976,11 @@ scan_prog_file (prog_name, which_pass)\n \t\t\t  break;\n #endif\n \n+\t\t\tcase 5:\n+\t\t\t  if (! is_shared)\n+\t\t\t    add_to_list (&frame_tables, name);\n+\t\t\t  break;\n+\n \t\t\tdefault:\t/* not a constructor or destructor */\n #ifdef COLLECT_EXPORT_LIST\n \t\t\t  /* If we are building a shared object on AIX we need"}, {"sha": "42599f91acaae82e0bfcec2d1d5a0680a4e0a9a9", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "patch": "@@ -2145,6 +2145,11 @@ literal_section ()\t\t\t\t\t\t\\\n   }\t\t\t\t\t\t\t\t\t      \\\n   while (0)\n \n+/* To get unaligned data, we have to turn off auto alignment.  */\n+#define UNALIGNED_SHORT_ASM_OP\t\t\".align 0\\n\\t.word\"\n+#define UNALIGNED_INT_ASM_OP\t\t\".align 0\\n\\t.long\"\n+#define UNALIGNED_DOUBLE_INT_ASM_OP\t\".align 0\\n\\t.quad\"\n+\n /* This is how to output an insn to push a register on the stack.\n    It need not be very fast code.  */\n "}, {"sha": "6cea3da5d5b45d8d32d2f716dfb2a2320f62c7fe", "filename": "gcc/config/alpha/elf.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Felf.h?ref=6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "patch": "@@ -526,3 +526,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n \n /* We support #pragma.  */\n #define HANDLE_SYSV_PRAGMA\n+\n+/* Undo the auto-alignment stuff from alpha.h.  ELF has unaligned data\n+   pseudos natively.  */\n+#undef UNALIGNED_SHORT_ASM_OP\n+#undef UNALIGNED_INT_ASM_OP\n+#undef UNALIGNED_DOUBLE_INT_ASM_OP"}, {"sha": "44388b2cf33df4e1d4413eb58ec87d79c39c50ae", "filename": "gcc/config/alpha/vms.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Fvms.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97/gcc%2Fconfig%2Falpha%2Fvms.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fvms.h?ref=6690d24c2cd5fe1f37d5d040d9fb071b6fe7bd97", "patch": "@@ -439,10 +439,6 @@ extern int vms_valid_decl_attribute_p ();\n #define ASM_OUTPUT_ALIGN(FILE,LOG)\t\\\n     fprintf (FILE, \"\\t.align %d\\n\", LOG);\n \n-#define UNALIGNED_SHORT_ASM_OP\t\".word\"\n-#define UNALIGNED_INT_ASM_OP\t\".long\"\n-#define UNALIGNED_DOUBLE_INT_ASM_OP\t\".quad\"\n-\n #define ASM_OUTPUT_SECTION(FILE,SECTION)\t\t\t\\\n    (strcmp (SECTION, \".text\") == 0)\t\t\t\t\\\n      ? text_section ()\t\t\t\t\t\t\\"}]}