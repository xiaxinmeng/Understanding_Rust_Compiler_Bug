{"sha": "2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJkMjFhMDIxZWQ3ZDc2M2E3YmU5MmNmYTEwNDhmM2U5NWU5YTNhNg==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@issan.cs.uni-dortmund.de", "date": "1999-05-27T02:33:58Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-05-27T02:33:58Z"}, "message": "fold-const.c (fold_truthop): Make the field reference unsigned when converting a single bit compare.\n\nh\n        * fold-const.c (fold_truthop): Make the field reference unsigned\n        when converting a single bit compare.\n\nFrom-SVN: r27202", "tree": {"sha": "cd3b72efd1a1522b9b9fe7ddbb5cd35b511242e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd3b72efd1a1522b9b9fe7ddbb5cd35b511242e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6/comments", "author": null, "committer": null, "parents": [{"sha": "8eba681fa548a27e42fa7a97a6ae06cff81824f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8eba681fa548a27e42fa7a97a6ae06cff81824f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8eba681fa548a27e42fa7a97a6ae06cff81824f6"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "7d63ea84842246ba97f4c889d6acca74124abcd1", "filename": "gcc/fold-const.c", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=2bd21a021ed7d763a7be92cfa1048f3e95e9a3a6", "patch": "@@ -3806,11 +3806,10 @@ fold_truthop (code, truth_type, lhs, rhs)\n     {\n       if (l_const && integer_zerop (l_const) && integer_pow2p (ll_mask))\n \t{\n-\t  /* Do not sign extend the constant here.  The left operand\n-\t     is either always unsigned or there is a BIT_AND_EXPR that\n-\t     masks out the extension bits.  */\n-\t  if (!\t(ll_unsignedp || ll_and_mask != 0))\n-\t    abort ();\n+\t  /* Make the left operand unsigned, since we are only interested\n+\t     in the value of one bit.  Otherwise we are doing the wrong\n+\t     thing below.  */\n+\t  ll_unsignedp = 1;\n \t  l_const = ll_mask;\n \t}\n       else\n@@ -3822,8 +3821,7 @@ fold_truthop (code, truth_type, lhs, rhs)\n     {\n       if (r_const && integer_zerop (r_const) && integer_pow2p (rl_mask))\n \t{\n-\t  if (!\t(rl_unsignedp || rl_and_mask != 0))\n-\t    abort ();\n+\t  rl_unsignedp = 1;\n \t  r_const = rl_mask;\n \t}\n       else"}]}