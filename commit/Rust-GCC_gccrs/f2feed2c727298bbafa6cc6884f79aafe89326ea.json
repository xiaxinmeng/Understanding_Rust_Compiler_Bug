{"sha": "f2feed2c727298bbafa6cc6884f79aafe89326ea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjJmZWVkMmM3MjcyOThiYmFmYTZjYzY4ODRmNzlhYWZlODkzMjZlYQ==", "commit": {"author": {"name": "Graeme Peterson", "email": "gp@qnx.com", "date": "2003-08-06T17:04:39Z"}, "committer": {"name": "Graeme Peterson", "email": "gp@gcc.gnu.org", "date": "2003-08-06T17:04:39Z"}, "message": "Preliminary i386-pc-nto-qnx6 support.\n\n* config/i386/nto.h: New.\n* config/i386/t-nto: New.\n* config.gcc (i[34567]86-*-nto-qnx*): New.\n\nFrom-SVN: r70203", "tree": {"sha": "e57b37f2a340413c6dbe53859978be1a18f04dfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e57b37f2a340413c6dbe53859978be1a18f04dfc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f2feed2c727298bbafa6cc6884f79aafe89326ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2feed2c727298bbafa6cc6884f79aafe89326ea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f2feed2c727298bbafa6cc6884f79aafe89326ea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f2feed2c727298bbafa6cc6884f79aafe89326ea/comments", "author": null, "committer": null, "parents": [{"sha": "1cba0a4eccfb154f3c67c13eab0fc2d04d9d9b90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cba0a4eccfb154f3c67c13eab0fc2d04d9d9b90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cba0a4eccfb154f3c67c13eab0fc2d04d9d9b90"}], "stats": {"total": 120, "additions": 120, "deletions": 0}, "files": [{"sha": "410a4dbf897635c0aca3d6abcaed9995af7dc2bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f2feed2c727298bbafa6cc6884f79aafe89326ea", "patch": "@@ -1,3 +1,9 @@\n+2003-08-06  Graeme Peterson <gp@qnx.com>\n+\n+\t* config/i386/nto.h: New.\n+\t* config/i386/t-nto: New.\n+\t* config.gcc (i[34567]86-*-nto-qnx*): New.\n+\n 2003-08-06  Phil Edwards  <pme@gcc.gnu.org>\n \n \t* doc/install.texi (*-*-solaris2*):  Refine configure instructions."}, {"sha": "15ff2ce6923e0358a9b90643bdced4548d0da18f", "filename": "gcc/config.gcc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=f2feed2c727298bbafa6cc6884f79aafe89326ea", "patch": "@@ -1066,6 +1066,12 @@ i[34567]86-*-mach*)\n #\ttmake_file=t-libc-ok\n \tuse_collect2=yes\n \t;;\n+i[34567]86-*-nto-qnx*)\n+\ttm_file=\"${tm_file} i386/att.h dbxelf.h tm-dwarf2.h elfos.h svr4.h i386/nto.h\"\n+\ttmake_file=i386/t-nto\n+\tgnu_ld=yes\n+\tgas=yes\n+\t;;\n i[34567]86-*-rtems*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h i386/i386elf.h i386/rtemself.h rtems.h\"\n \textra_parts=\"crtbegin.o crtend.o crti.o crtn.o\""}, {"sha": "76fa8e7946bf4d422c8c1311d1de76e711ef6622", "filename": "gcc/config/i386/nto.h", "status": "added", "additions": 101, "deletions": 0, "changes": 101, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig%2Fi386%2Fnto.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig%2Fi386%2Fnto.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fnto.h?ref=f2feed2c727298bbafa6cc6884f79aafe89326ea", "patch": "@@ -0,0 +1,101 @@\n+/* Definitions for Intel 386 running QNX/Neutrino.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"i386/unix.h\"\n+\n+#undef  DEFAULT_PCC_STRUCT_RETURN\n+#define DEFAULT_PCC_STRUCT_RETURN 1\n+\n+#undef TARGET_VERSION\n+#define TARGET_VERSION\tfprintf (stderr, \" (QNX/Neutrino/i386 ELF)\");\n+\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+        builtin_define_std (\"__X86__\");\t\t\\\n+        builtin_define_std (\"__QNXNTO__\");\t\\\n+        builtin_define_std (\"__QNX__\");\t\t\\\n+        builtin_define_std (\"__ELF__\");\t\t\\\n+        builtin_define_std (\"__LITTLEENDIAN__\");\\\n+        builtin_assert (\"system=qnx\");\t\t\\\n+        builtin_assert (\"system=qnxnto\");\t\\\n+        builtin_assert (\"system=nto\");\t\t\\\n+        builtin_assert (\"system=unix\");\t\t\\\n+        if (flag_pic)\t\t\t\t\\\n+          {\t\t\t\t\t\\\n+            builtin_define (\"__PIC__\");\t\t\\\n+            builtin_define (\"__pic__\");\t\t\\\n+          }\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+#undef THREAD_MODEL_SPEC\n+#define THREAD_MODEL_SPEC \"posix\"\n+\n+#ifdef CROSS_COMPILE\n+#define SYSROOT_SUFFIX_SPEC \"x86\"\n+#endif\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \\\n+\"%{!shared: \\\n+  %{!symbolic: \\\n+    %{pg:mcrt1.o%s} \\\n+    %{!pg:%{p:mcrt1.o%s} \\\n+    %{!p:crt1.o%s}}}} \\\n+crti.o%s \\\n+%{fexceptions: crtbegin.o%s} \\\n+%{!fexceptions: %R/lib/crtbegin.o}\"\n+\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \\\n+  \"crtend.o%s crtn.o%s\"\n+\n+#undef LINK_SPEC\n+#define LINK_SPEC \\\n+  \"%{h*} %{v:-V} \\\n+   %{b} \\\n+   %{static:-dn -Bstatic} \\\n+   %{shared:-G -dy -z text} \\\n+   %{symbolic:-Bsymbolic -G -dy -z text} \\\n+   %{G:-G} \\\n+   %{YP,*} \\\n+   %{!YP,*:%{p:-Y P,%R/lib} \\\n+    %{!p:-Y P,%R/lib}} \\\n+   %{Qy:} %{!Qn:-Qy} \\\n+   -m i386nto \\\n+   %{!shared: --dynamic-linker /usr/lib/ldqnx.so.2}\"\n+\n+\n+#undef SIZE_TYPE\n+#define SIZE_TYPE \"unsigned int\"\n+\n+#undef PTRDIFF_TYPE\n+#define PTRDIFF_TYPE \"int\"\n+\n+#undef WCHAR_TYPE\n+#define WCHAR_TYPE \"long unsigned int\"\n+\n+#undef WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE BITS_PER_WORD\n+\n+#define NO_IMPLICIT_EXTERN_C 1\n+"}, {"sha": "314c2609f8b7c1645909dc76a109eeab77975ba9", "filename": "gcc/config/i386/t-nto", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig%2Fi386%2Ft-nto", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f2feed2c727298bbafa6cc6884f79aafe89326ea/gcc%2Fconfig%2Fi386%2Ft-nto", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-nto?ref=f2feed2c727298bbafa6cc6884f79aafe89326ea", "patch": "@@ -0,0 +1,7 @@\n+# Don't run fixproto\n+STMP_FIXPROTO =\n+\n+CRTSTUFF_T_CFLAGS = -fno-omit-frame-pointer -fPIC\n+TARGET_LIBGCC2_CFLAGS = -fPIC -fexceptions\n+\n+EXTRA_PARTS = crtbegin.o"}]}