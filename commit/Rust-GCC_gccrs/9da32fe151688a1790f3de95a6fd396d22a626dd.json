{"sha": "9da32fe151688a1790f3de95a6fd396d22a626dd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRhMzJmZTE1MTY4OGExNzkwZjNkZTk1YTZmZDM5NmQyMmE2MjZkZA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2003-06-17T23:00:16Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2003-06-17T23:00:16Z"}, "message": "re PR c++/10929 (-Winline warns about functions for which no definition is visible)\n\n        PR c++/10929\n        * tree-inline.c (expand_call_inline): Don't warn about failing to\n        inline a function which was made inline by -finline-functions.\n        * cp/decl.c (grokfndecl): Don't mark a function inline for\n        -finline-functions if it isn't defined.\n\nFrom-SVN: r68122", "tree": {"sha": "ca8ddf6fa96e986b0118487b5e953bd63dcb87d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca8ddf6fa96e986b0118487b5e953bd63dcb87d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9da32fe151688a1790f3de95a6fd396d22a626dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9da32fe151688a1790f3de95a6fd396d22a626dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9da32fe151688a1790f3de95a6fd396d22a626dd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9da32fe151688a1790f3de95a6fd396d22a626dd/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cb713a8d52e60134d85df14670a07feac505c86c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb713a8d52e60134d85df14670a07feac505c86c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb713a8d52e60134d85df14670a07feac505c86c"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "48c7c7c5e2caf96646f4b481e6748bdca32584fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9da32fe151688a1790f3de95a6fd396d22a626dd", "patch": "@@ -1,3 +1,9 @@\n+2003-06-17  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/10929\n+\t* tree-inline.c (expand_call_inline): Don't warn about failing to\n+\tinline a function which was made inline by -finline-functions.\n+\n 2003-06-17  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300-protos.h: Update to ISO C."}, {"sha": "8c333fe8b45519deffe40908da90e795dd6a845f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9da32fe151688a1790f3de95a6fd396d22a626dd", "patch": "@@ -1,3 +1,9 @@\n+2003-06-17  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/10929\n+\t* decl.c (grokfndecl): Don't mark a function inline for\n+\t-finline-functions if it isn't defined.\n+\n 2003-06-17  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/10712"}, {"sha": "4ec5c3176ce2415e6a013482c627647409ba8688", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=9da32fe151688a1790f3de95a6fd396d22a626dd", "patch": "@@ -8883,7 +8883,7 @@ grokfndecl (tree ctype,\n      the user explicitly asks us to, all functions.  */\n   if (DECL_DECLARED_INLINE_P (decl))\n     DECL_INLINE (decl) = 1;\n-  if (flag_inline_trees == 2 && !DECL_INLINE (decl))\n+  if (flag_inline_trees == 2 && !DECL_INLINE (decl) && funcdef_flag)\n     {\n       DID_INLINE_FUNC (decl) = 1;\n       DECL_INLINE (decl) = 1;"}, {"sha": "69af3435119f300d0dfc96b638638fca30c2e391", "filename": "gcc/testsuite/g++.dg/warn/Winline-2.C", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWinline-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWinline-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2FWinline-2.C?ref=9da32fe151688a1790f3de95a6fd396d22a626dd", "patch": "@@ -0,0 +1,5 @@\n+// PR c++/10929\n+// { dg-options \"-Winline -O3\" }\n+\n+int foo ();\n+int bar () { return foo (); }"}, {"sha": "c0d36106cf1d80283f7223cea1e5af4cbc282978", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9da32fe151688a1790f3de95a6fd396d22a626dd/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=9da32fe151688a1790f3de95a6fd396d22a626dd", "patch": "@@ -1201,7 +1201,7 @@ expand_call_inline (tp, walk_subtrees, data)\n        || !cgraph_global_info (fn)->inline_once)\n       && !inlinable_function_p (fn, id, 0))\n     {\n-      if (warn_inline && DECL_INLINE (fn))\n+      if (warn_inline && DECL_INLINE (fn) && !DID_INLINE_FUNC (fn))\n \t{\n \t  warning_with_decl (fn, \"inlining failed in call to `%s'\");\n \t  warning (\"called from here\");"}]}