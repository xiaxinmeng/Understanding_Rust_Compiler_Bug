{"sha": "9e3c694afacf965293fe8b3b7b9a5022415e03c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWUzYzY5NGFmYWNmOTY1MjkzZmU4YjNiN2I5YTUwMjI0MTVlMDNjOQ==", "commit": {"author": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2020-11-02T20:47:45Z"}, "committer": {"name": "Martin Sebor", "email": "msebor@redhat.com", "date": "2020-11-02T20:50:35Z"}, "message": "Correct -Wstringop-overflow and -Wstringop-overread.\n\ngcc/ChangeLog:\n\t* doc/invoke.texi (-Wstringop-overflow): Correct default setting.\n\t(-Wstringop-overread): Move past -Wstringop-overflow.", "tree": {"sha": "bf79e47774351c47504272c095ff439fc72be25b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf79e47774351c47504272c095ff439fc72be25b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e3c694afacf965293fe8b3b7b9a5022415e03c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3c694afacf965293fe8b3b7b9a5022415e03c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e3c694afacf965293fe8b3b7b9a5022415e03c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3c694afacf965293fe8b3b7b9a5022415e03c9/comments", "author": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msebor", "id": 381149, "node_id": "MDQ6VXNlcjM4MTE0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/381149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msebor", "html_url": "https://github.com/msebor", "followers_url": "https://api.github.com/users/msebor/followers", "following_url": "https://api.github.com/users/msebor/following{/other_user}", "gists_url": "https://api.github.com/users/msebor/gists{/gist_id}", "starred_url": "https://api.github.com/users/msebor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msebor/subscriptions", "organizations_url": "https://api.github.com/users/msebor/orgs", "repos_url": "https://api.github.com/users/msebor/repos", "events_url": "https://api.github.com/users/msebor/events{/privacy}", "received_events_url": "https://api.github.com/users/msebor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "034db20e2ea8301b5dc251bf10a97ce1cf90655f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/034db20e2ea8301b5dc251bf10a97ce1cf90655f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/034db20e2ea8301b5dc251bf10a97ce1cf90655f"}], "stats": {"total": 38, "additions": 19, "deletions": 19}, "files": [{"sha": "89168be1d2fa0fb8fa09d7a6b0ad97babfca4603", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3c694afacf965293fe8b3b7b9a5022415e03c9/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3c694afacf965293fe8b3b7b9a5022415e03c9/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=9e3c694afacf965293fe8b3b7b9a5022415e03c9", "patch": "@@ -6899,37 +6899,28 @@ const char* f (enum Color clr)\n \n Option @option{-Wstringop-overflow=2} is enabled by default.\n \n-@item -Wno-stringop-overread\n-@opindex Wstringop-overread\n-@opindex Wno-stringop-overread\n-Warn for calls to string manipulation functions such as @code{memchr},\n-@code{strcpy} that are determined to read past the end of the source\n-sequence. \n-\n-Option @option{-Wstringop-overread} is enabled by default.\n-\n @table @gcctabopt\n @item -Wstringop-overflow\n @itemx -Wstringop-overflow=1\n @opindex Wstringop-overflow\n @opindex Wno-stringop-overflow\n The @option{-Wstringop-overflow=1} option uses type-zero Object Size Checking\n-to determine the sizes of destination objects.  This is the default setting\n-of the option.  At this setting the option does not warn for writes past\n-the end of subobjects of larger objects accessed by pointers unless the\n-size of the largest surrounding object is known.  When the destination may\n-be one of several objects it is assumed to be the largest one of them.  On\n-Linux systems, when optimization is enabled at this setting the option warns\n-for the same code as when the @code{_FORTIFY_SOURCE} macro is defined to\n-a non-zero value.\n+to determine the sizes of destination objects.  At this setting the option\n+does not warn for writes past the end of subobjects of larger objects accessed\n+by pointers unless the size of the largest surrounding object is known.  When\n+the destination may be one of several objects it is assumed to be the largest\n+one of them.  On Linux systems, when optimization is enabled at this setting\n+the option warns for the same code as when the @code{_FORTIFY_SOURCE} macro\n+is defined to a non-zero value.\n \n @item -Wstringop-overflow=2\n The @option{-Wstringop-overflow=2} option uses type-one Object Size Checking\n to determine the sizes of destination objects.  At this setting the option\n-warna about overflows when writing to members of the largest complete\n+warns about overflows when writing to members of the largest complete\n objects whose exact size is known.  However, it does not warn for excessive\n writes to the same members of unknown objects referenced by pointers since\n-they may point to arrays containing unknown numbers of elements.\n+they may point to arrays containing unknown numbers of elements.  This is\n+the default setting of the option.\n \n @item -Wstringop-overflow=3\n The @option{-Wstringop-overflow=3} option uses type-two Object Size Checking\n@@ -6947,6 +6938,15 @@ whether to issue a warning.  Similarly to @option{-Wstringop-overflow=3} this\n setting of the option may result in warnings for benign code.\n @end table\n \n+@item -Wno-stringop-overread\n+@opindex Wstringop-overread\n+@opindex Wno-stringop-overread\n+Warn for calls to string manipulation functions such as @code{memchr}, or\n+@code{strcpy} that are determined to read past the end of the source\n+sequence.\n+\n+Option @option{-Wstringop-overread} is enabled by default.\n+\n @item -Wno-stringop-truncation\n @opindex Wstringop-truncation\n @opindex Wno-stringop-truncation"}]}