{"sha": "dfcf0b12d158836cc29b0c373584a73dd7b68de8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGZjZjBiMTJkMTU4ODM2Y2MyOWIwYzM3MzU4NGE3M2RkN2I2OGRlOA==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2007-09-17T10:03:12Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2007-09-17T10:03:12Z"}, "message": "trans-types.c (gfc_get_desc_dim_type): Do not to try emit debug info.\n\n\t* trans-types.c (gfc_get_desc_dim_type): Do not to try\n\temit debug info.\n\t(gfc_get_array_descriptor_base): Likewise.\n\t(gfc_get_mixed_entry_union): Likewise\n\t(gfc_get_derived_type): Set decl location for fields and\n\tderived type itself.\n\nFrom-SVN: r128540", "tree": {"sha": "1240b84b2bd7df4c7d14bd5e25babb63287c7bd8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1240b84b2bd7df4c7d14bd5e25babb63287c7bd8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dfcf0b12d158836cc29b0c373584a73dd7b68de8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfcf0b12d158836cc29b0c373584a73dd7b68de8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfcf0b12d158836cc29b0c373584a73dd7b68de8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfcf0b12d158836cc29b0c373584a73dd7b68de8/comments", "author": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42cbdeac683d395849c9fee5e3e07b6a00093c5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42cbdeac683d395849c9fee5e3e07b6a00093c5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42cbdeac683d395849c9fee5e3e07b6a00093c5a"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "9137da53870850c9a836c6678e165be6a6d311e1", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfcf0b12d158836cc29b0c373584a73dd7b68de8/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfcf0b12d158836cc29b0c373584a73dd7b68de8/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=dfcf0b12d158836cc29b0c373584a73dd7b68de8", "patch": "@@ -1,3 +1,12 @@\n+2007-09-17  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n+\n+\t* trans-types.c (gfc_get_desc_dim_type): Do not to try\n+\temit debug info.\n+\t(gfc_get_array_descriptor_base): Likewise.\n+\t(gfc_get_mixed_entry_union): Likewise\n+\t(gfc_get_derived_type): Set decl location for fields and\n+\tderived type itself.\n+\n 2007-09-16  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/29396"}, {"sha": "cfdd39991f53a69e3e586d4972111fd3802b0d90", "filename": "gcc/fortran/trans-types.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfcf0b12d158836cc29b0c373584a73dd7b68de8/gcc%2Ffortran%2Ftrans-types.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfcf0b12d158836cc29b0c373584a73dd7b68de8/gcc%2Ffortran%2Ftrans-types.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-types.c?ref=dfcf0b12d158836cc29b0c373584a73dd7b68de8", "patch": "@@ -1104,6 +1104,7 @@ gfc_get_desc_dim_type (void)\n   TYPE_FIELDS (type) = fieldlist;\n \n   gfc_finish_type (type);\n+  TYPE_DECL_SUPPRESS_DEBUG (TYPE_STUB_DECL (type)) = 1;\n \n   gfc_desc_dim_type = type;\n   return type;\n@@ -1411,6 +1412,7 @@ gfc_get_array_descriptor_base (int dimen)\n   TYPE_FIELDS (fat_type) = fieldlist;\n \n   gfc_finish_type (fat_type);\n+  TYPE_DECL_SUPPRESS_DEBUG (TYPE_STUB_DECL (fat_type)) = 1;\n \n   gfc_array_descriptor_base[dimen - 1] = fat_type;\n   return fat_type;\n@@ -1807,6 +1809,10 @@ gfc_get_derived_type (gfc_symbol * derived)\n       field = gfc_add_field_to_struct (&fieldlist, typenode,\n \t\t\t\t       get_identifier (c->name),\n \t\t\t\t       field_type);\n+      if (c->loc.lb)\n+\tgfc_set_decl_location (field, &c->loc);\n+      else if (derived->declared_at.lb)\n+\tgfc_set_decl_location (field, &derived->declared_at);\n \n       DECL_PACKED (field) |= TYPE_PACKED (typenode);\n \n@@ -1820,6 +1826,7 @@ gfc_get_derived_type (gfc_symbol * derived)\n   TYPE_FIELDS (typenode) = fieldlist;\n \n   gfc_finish_type (typenode);\n+  gfc_set_decl_location (TYPE_STUB_DECL (typenode), &derived->declared_at);\n \n   derived->backend_decl = typenode;\n \n@@ -1897,6 +1904,7 @@ gfc_get_mixed_entry_union (gfc_namespace *ns)\n   TYPE_FIELDS (type) = fieldlist;\n \n   gfc_finish_type (type);\n+  TYPE_DECL_SUPPRESS_DEBUG (TYPE_STUB_DECL (type)) = 1;\n   return type;\n }\n \f"}]}