{"sha": "0c3a2ea0935bf21815de61ee079304a046b360b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGMzYTJlYTA5MzViZjIxODE1ZGU2MWVlMDc5MzA0YTA0NmIzNjBiNg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2002-07-08T17:53:24Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2002-07-08T17:53:24Z"}, "message": "c-pragma.h (add_to_renaming_pragma_list): New function.\n\n\t* gcc/c-pragma.h (add_to_renaming_pragma_list): New function.\n\t* gcc/c-pragma.c (add_to_renaming_pragma_list): New function.\n\t(handle_pragma_redefine_extname): Change to use new function.\n\nFrom-SVN: r55330", "tree": {"sha": "ca764f4d6b14743555243564b01c8d9193c54247", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca764f4d6b14743555243564b01c8d9193c54247"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c3a2ea0935bf21815de61ee079304a046b360b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c3a2ea0935bf21815de61ee079304a046b360b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c3a2ea0935bf21815de61ee079304a046b360b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c3a2ea0935bf21815de61ee079304a046b360b6/comments", "author": null, "committer": null, "parents": [{"sha": "26c347808e62259bf9d5b5c729b68c001dc31272", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26c347808e62259bf9d5b5c729b68c001dc31272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26c347808e62259bf9d5b5c729b68c001dc31272"}], "stats": {"total": 19, "additions": 15, "deletions": 4}, "files": [{"sha": "a4e818ee0d7d736dc35384ba8f3d2ffd76cd20d6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c3a2ea0935bf21815de61ee079304a046b360b6", "patch": "@@ -1,3 +1,8 @@\n+2002-07-08  Steve Ellcey  <sje@cup.hp.com>\n+\t* gcc/c-pragma.h (add_to_renaming_pragma_list): New function.\n+\t* gcc/c-pragma.c (add_to_renaming_pragma_list): New function.\n+\t(handle_pragma_redefine_extname): Change to use new function.\n+\n 2002-07-08  Roger Sayle  <roger@eyesopen.com>\n \n \t* combine.c (combine_simplify_rtx): Add an explicit cast"}, {"sha": "4c43baa9b0d8c7f0c116863df2bdf9534f50a1d7", "filename": "gcc/c-pragma.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2Fc-pragma.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2Fc-pragma.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-pragma.c?ref=0c3a2ea0935bf21815de61ee079304a046b360b6", "patch": "@@ -383,11 +383,18 @@ handle_pragma_redefine_extname (dummy)\n       SET_DECL_ASSEMBLER_NAME (decl, newname);\n     }\n   else\n-    pending_redefine_extname\n-      = tree_cons (oldname, newname, pending_redefine_extname);\n+    add_to_renaming_pragma_list(oldname, newname);\n }\n #endif\n \n+void\n+add_to_renaming_pragma_list (oldname, newname)\n+\ttree oldname, newname;\n+{\n+  pending_redefine_extname\n+    = tree_cons (oldname, newname, pending_redefine_extname);\n+}\n+\n static GTY(()) tree pragma_extern_prefix;\n \n #ifdef HANDLE_PRAGMA_EXTERN_PREFIX\n@@ -444,7 +451,6 @@ maybe_apply_renaming_pragma (decl, asmname)\n       asmname = build_string (strlen (oldasmname), oldasmname);\n     }\n \n-#ifdef HANDLE_PRAGMA_REDEFINE_EXTNAME\n   {\n     tree *p, t;\n \n@@ -460,7 +466,6 @@ maybe_apply_renaming_pragma (decl, asmname)\n \t  return build_string (strlen (newname), newname);\n \t}\n   }\n-#endif\n \n #ifdef HANDLE_PRAGMA_EXTERN_PREFIX\n   if (pragma_extern_prefix && !asmname)"}, {"sha": "7911c5a65028fc5dad94a9acfe17bab388012857", "filename": "gcc/c-pragma.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2Fc-pragma.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c3a2ea0935bf21815de61ee079304a046b360b6/gcc%2Fc-pragma.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-pragma.h?ref=0c3a2ea0935bf21815de61ee079304a046b360b6", "patch": "@@ -62,6 +62,7 @@ extern void cpp_register_pragma PARAMS ((cpp_reader *,\n \n extern void maybe_apply_pragma_weak PARAMS ((tree));\n extern tree maybe_apply_renaming_pragma PARAMS ((tree, tree));\n+extern void add_to_renaming_pragma_list PARAMS ((tree, tree));\n \n extern int c_lex PARAMS ((tree *));\n "}]}