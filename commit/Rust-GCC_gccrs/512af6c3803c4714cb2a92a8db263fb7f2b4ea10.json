{"sha": "512af6c3803c4714cb2a92a8db263fb7f2b4ea10", "node_id": "C_kwDOANBUbNoAKDUxMmFmNmMzODAzYzQ3MTRjYjJhOTJhOGRiMjYzZmI3ZjJiNGVhMTA", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2022-12-29T17:33:06Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2022-12-29T17:39:47Z"}, "message": "parloops: don't request insert that won't be completed\n\nIn take_address_of, we may refrain from completing a decl_address\nINSERT if gsi is NULL, so dnn't even ask for an INSERT in this case.\n\n\nfor  gcc/ChangeLog\n\n\t* tree-parloops.cc (take_address_of): Skip INSERT if !gsi.", "tree": {"sha": "c6a09b10e1779b017b703a97e5d906a3dd5f6dd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6a09b10e1779b017b703a97e5d906a3dd5f6dd7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/512af6c3803c4714cb2a92a8db263fb7f2b4ea10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/512af6c3803c4714cb2a92a8db263fb7f2b4ea10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/512af6c3803c4714cb2a92a8db263fb7f2b4ea10", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/512af6c3803c4714cb2a92a8db263fb7f2b4ea10/comments", "author": null, "committer": null, "parents": [{"sha": "8d48107702aa8027f5e8b35ade919c5c0d50ef1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d48107702aa8027f5e8b35ade919c5c0d50ef1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d48107702aa8027f5e8b35ade919c5c0d50ef1e"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "b829ba7b873b6bd6cfcfb8bd934a168fe4b8a9bc", "filename": "gcc/tree-parloops.cc", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/512af6c3803c4714cb2a92a8db263fb7f2b4ea10/gcc%2Ftree-parloops.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/512af6c3803c4714cb2a92a8db263fb7f2b4ea10/gcc%2Ftree-parloops.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-parloops.cc?ref=512af6c3803c4714cb2a92a8db263fb7f2b4ea10", "patch": "@@ -1221,8 +1221,11 @@ take_address_of (tree obj, tree type, edge entry,\n   uid = DECL_UID (TREE_OPERAND (TREE_OPERAND (*var_p, 0), 0));\n   int_tree_map elt;\n   elt.uid = uid;\n-  int_tree_map *slot = decl_address->find_slot (elt, INSERT);\n-  if (!slot->to)\n+  int_tree_map *slot = decl_address->find_slot (elt,\n+\t\t\t\t\t\tgsi == NULL\n+\t\t\t\t\t\t? NO_INSERT\n+\t\t\t\t\t\t: INSERT);\n+  if (!slot || !slot->to)\n     {\n       if (gsi == NULL)\n \treturn NULL;"}]}