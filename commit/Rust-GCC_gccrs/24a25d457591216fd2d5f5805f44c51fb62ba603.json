{"sha": "24a25d457591216fd2d5f5805f44c51fb62ba603", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRhMjVkNDU3NTkxMjE2ZmQyZDVmNTgwNWY0NGM1MWZiNjJiYTYwMw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-12-01T01:02:34Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-12-01T01:02:34Z"}, "message": "(from_compare): Get mode from operands instead of using SImode.\n\nFrom-SVN: r10659", "tree": {"sha": "e1cda53bf225a16f032733f13eff1b622d8a9d2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1cda53bf225a16f032733f13eff1b622d8a9d2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24a25d457591216fd2d5f5805f44c51fb62ba603", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24a25d457591216fd2d5f5805f44c51fb62ba603", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24a25d457591216fd2d5f5805f44c51fb62ba603", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24a25d457591216fd2d5f5805f44c51fb62ba603/comments", "author": null, "committer": null, "parents": [{"sha": "5a4638841f72e959242e4ce57cb77bbb9335f86b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a4638841f72e959242e4ce57cb77bbb9335f86b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a4638841f72e959242e4ce57cb77bbb9335f86b"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "5f072d80221edc996a9790a5f584c6935149cd71", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24a25d457591216fd2d5f5805f44c51fb62ba603/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24a25d457591216fd2d5f5805f44c51fb62ba603/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=24a25d457591216fd2d5f5805f44c51fb62ba603", "patch": "@@ -382,11 +382,15 @@ from_compare (operands, code)\n {\n   if (code != EQ && code != NE)\n     {\n+      enum machine_mode mode = GET_MODE (sh_compare_op0);\n+      if (mode == VOIDmode)\n+\tmode = GET_MODE (sh_compare_op1);\n+\n       /* Force args into regs, since we can't use constants here.  */\n-      sh_compare_op0 = force_reg (SImode, sh_compare_op0);\n+      sh_compare_op0 = force_reg (mode, sh_compare_op0);\n       if (sh_compare_op1 != const0_rtx\n \t  || code == GTU  || code == GEU || code == LTU || code == LEU)\n-\tsh_compare_op1 = force_reg (SImode, sh_compare_op1);\n+\tsh_compare_op1 = force_reg (mode, sh_compare_op1);\n     }\n   operands[1] = sh_compare_op0;\n   operands[2] = sh_compare_op1;"}]}