{"sha": "595c8dfa0bc38bda6e4b652b047bc47be851da19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk1YzhkZmEwYmMzOGJkYTZlNGI2NTJiMDQ3YmM0N2JlODUxZGExOQ==", "commit": {"author": {"name": "Andi Kleen", "email": "ak@linux.intel.com", "date": "2010-12-19T19:36:25Z"}, "committer": {"name": "Andi Kleen", "email": "ak@gcc.gnu.org", "date": "2010-12-19T19:36:25Z"}, "message": "Fix -fno-lto (PR lto/46905)\n\ngcc/\n\n2010-12-19  Andi Kleen\t<ak@linux.intel.com>\n\n\tPR lto/46905\n\t* collect2.c (main): Handle -fno-lto.\n\t* opts.c (common_handle_option): Handle -fno-lto.\n\nFrom-SVN: r168071", "tree": {"sha": "6655ab7912104ec1b20fdb522bca9fcb57e8c63d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6655ab7912104ec1b20fdb522bca9fcb57e8c63d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/595c8dfa0bc38bda6e4b652b047bc47be851da19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/595c8dfa0bc38bda6e4b652b047bc47be851da19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/595c8dfa0bc38bda6e4b652b047bc47be851da19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/595c8dfa0bc38bda6e4b652b047bc47be851da19/comments", "author": null, "committer": null, "parents": [{"sha": "ef7ed5df72fb2cfb6a1dab38e335eb65e02b6204", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef7ed5df72fb2cfb6a1dab38e335eb65e02b6204", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef7ed5df72fb2cfb6a1dab38e335eb65e02b6204"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "9bc1d9316ed45066ad1393f30f5454dd55dd05a4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=595c8dfa0bc38bda6e4b652b047bc47be851da19", "patch": "@@ -1,3 +1,9 @@\n+2010-12-19  Andi Kleen\t<ak@linux.intel.com>\n+\n+\tPR lto/46905\n+\t* collect2.c (main): Handle -fno-lto.\n+\t* opts.c (common_handle_option): Handle -fno-lto.\n+\n 2010-12-19  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR target/46729"}, {"sha": "77f794ff49ca1d3f8182e7fda160be03ebcd8562", "filename": "gcc/collect2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=595c8dfa0bc38bda6e4b652b047bc47be851da19", "patch": "@@ -1211,6 +1211,8 @@ main (int argc, char **argv)\n         else if ((! strncmp (argv[i], \"-flto=\", 6)\n \t\t  || ! strcmp (argv[i], \"-flto\")) && ! use_plugin)\n \t  lto_mode = LTO_MODE_WHOPR;\n+\telse if (!strncmp (argv[i], \"-fno-lto\", 8))\n+\t  lto_mode = LTO_MODE_NONE;\n         else if (! strcmp (argv[i], \"-plugin\"))\n \t  {\n \t    use_plugin = true;"}, {"sha": "cc4181ea03f74d5335176f30b2e4ae2fd51ce0b6", "filename": "gcc/opts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/595c8dfa0bc38bda6e4b652b047bc47be851da19/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=595c8dfa0bc38bda6e4b652b047bc47be851da19", "patch": "@@ -1670,7 +1670,7 @@ common_handle_option (struct gcc_options *opts,\n       break;\n \n     case OPT_flto:\n-      opts->x_flag_lto = \"\";\n+      opts->x_flag_lto = value ? \"\" : NULL;\n       break;\n \n     case OPT_w:"}]}