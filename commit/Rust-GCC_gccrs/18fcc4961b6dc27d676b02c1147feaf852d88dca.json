{"sha": "18fcc4961b6dc27d676b02c1147feaf852d88dca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThmY2M0OTYxYjZkYzI3ZDY3NmIwMmMxMTQ3ZmVhZjg1MmQ4OGRjYQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-04-20T22:24:33Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-04-20T22:24:33Z"}, "message": "re GNATS libgcj/212 (build is broken on Linux/Alpha)\n\n\tFix for PR libgcj/212:\n\t* gcj/javaprims.h (_Jv_word, _Jv_word2): Removed definitions.\n\t* include/jvm.h (_Jv_word, _Jv_word2): Define.\n\t* java/lang/Class.h (_Jv_word): Declare.\n\nFrom-SVN: r33292", "tree": {"sha": "bf01d84615ecaa704bfb1be6fcee5c450d365a49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf01d84615ecaa704bfb1be6fcee5c450d365a49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18fcc4961b6dc27d676b02c1147feaf852d88dca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18fcc4961b6dc27d676b02c1147feaf852d88dca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18fcc4961b6dc27d676b02c1147feaf852d88dca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18fcc4961b6dc27d676b02c1147feaf852d88dca/comments", "author": null, "committer": null, "parents": [{"sha": "dea4b2db61b4c3da88ca546997d1dff589c2ac5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dea4b2db61b4c3da88ca546997d1dff589c2ac5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dea4b2db61b4c3da88ca546997d1dff589c2ac5e"}], "stats": {"total": 67, "additions": 36, "deletions": 31}, "files": [{"sha": "212e9aa2aacc984c1401e0d7b91daedb5c33eada", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=18fcc4961b6dc27d676b02c1147feaf852d88dca", "patch": "@@ -1,5 +1,10 @@\n 2000-04-20  Tom Tromey  <tromey@cygnus.com>\n \n+\tFix for PR libgcj/212:\n+\t* gcj/javaprims.h (_Jv_word, _Jv_word2): Removed definitions.\n+\t* include/jvm.h (_Jv_word, _Jv_word2): Define.\n+\t* java/lang/Class.h (_Jv_word): Declare.\n+\n \t* jni.cc (_Jv_JNI_PopSystemFrame): Clear `env->ex'.\n \n 2000-04-19  Tom Tromey  <tromey@cygnus.com>"}, {"sha": "3e7d2e2f0b73b5446f9367555b7f43e874c51b22", "filename": "libjava/gcj/javaprims.h", "status": "modified", "additions": 1, "deletions": 31, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Fgcj%2Fjavaprims.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Fgcj%2Fjavaprims.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2Fjavaprims.h?ref=18fcc4961b6dc27d676b02c1147feaf852d88dca", "patch": "@@ -1,6 +1,6 @@\n // javaprims.h - Main external header file for libgcj.  -*- c++ -*-\n \n-/* Copyright (C) 1998, 1999  Free Software Foundation\n+/* Copyright (C) 1998, 1999, 2000  Free Software Foundation\n \n    This file is part of libgcj.\n \n@@ -278,36 +278,6 @@ extern \"C\" void _Jv_Free (void*);\n typedef unsigned short _Jv_ushort __attribute__((__mode__(__HI__)));\n typedef unsigned int _Jv_uint __attribute__((__mode__(__SI__)));\n \n-typedef union {\n-  jobject o;\n-  jint i;\t\t\t// Also stores smaller integral types.\n-  jfloat f;\n-  jint ia[1];\t\t\t// Half of _Jv_word2.\n-  void* p;\n-\n-  // We use __LP64__ and not SIZEOF_VOID_P here because we want\n-  // something that will be predefined by the compiler.  FIXME -- this\n-  // definition probably shouldn't appear here anyway.\n-#ifdef __LP64__\n-  // We can safely put a long or a double in here without increasing\n-  // the size of _Jv_Word; we take advantage of this in the interpreter.\n-  jlong l;\n-  jdouble d;\n-#endif\n-\n-  jclass                     clazz;\n-  jstring                    string;\n-  struct _Jv_Field          *field;\n-  struct _Jv_Utf8Const      *utf8;\n-  struct _Jv_ResolvedMethod *rmethod;\n-} _Jv_word;\n-\n-typedef union {\n-  jint ia[2];\n-  jlong l;\n-  jdouble d;\n-} _Jv_word2;                              \n-\n struct _Jv_Utf8Const\n {\n   _Jv_ushort hash;"}, {"sha": "c9cae936932c9e8a18b86cac26f3dbcf12756d95", "filename": "libjava/include/jvm.h", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Finclude%2Fjvm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Finclude%2Fjvm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fjvm.h?ref=18fcc4961b6dc27d676b02c1147feaf852d88dca", "patch": "@@ -31,6 +31,35 @@ struct _Jv_VTable\n   void *method[1];\n };\n \n+union _Jv_word\n+{\n+  jobject o;\n+  jint i;\t\t\t// Also stores smaller integral types.\n+  jfloat f;\n+  jint ia[1];\t\t\t// Half of _Jv_word2.\n+  void* p;\n+\n+#if SIZEOF_VOID_P == 8\n+  // We can safely put a long or a double in here without increasing\n+  // the size of _Jv_Word; we take advantage of this in the interpreter.\n+  jlong l;\n+  jdouble d;\n+#endif\n+\n+  jclass                     clazz;\n+  jstring                    string;\n+  struct _Jv_Field          *field;\n+  struct _Jv_Utf8Const      *utf8;\n+  struct _Jv_ResolvedMethod *rmethod;\n+};\n+\n+union _Jv_word2\n+{\n+  jint ia[2];\n+  jlong l;\n+  jdouble d;\n+};                              \n+\n /* Extract a character from a Java-style Utf8 string.\n  * PTR points to the current character.\n  * LIMIT points to the end of the Utf8 string."}, {"sha": "c25398cbb237e913e42398107429fd24184440b0", "filename": "libjava/java/lang/Class.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Fjava%2Flang%2FClass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18fcc4961b6dc27d676b02c1147feaf852d88dca/libjava%2Fjava%2Flang%2FClass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FClass.h?ref=18fcc4961b6dc27d676b02c1147feaf852d88dca", "patch": "@@ -50,6 +50,7 @@ enum\n \n struct _Jv_Field;\n struct _Jv_VTable;\n+union _Jv_word;\n \n struct _Jv_Constants\n {"}]}