{"sha": "18d311d8d8d85acc1062a5699079464ca79af978", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MThkMzExZDhkOGQ4NWFjYzEwNjJhNTY5OTA3OTQ2NGNhNzlhZjk3OA==", "commit": {"author": {"name": "Ziemowit Laski", "email": "zlaski@apple.com", "date": "2005-05-24T22:20:10Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2005-05-24T22:20:10Z"}, "message": "objcp-decl.c (objcp_start_struct, [...]): Adjust call to xref_tag().\n\n        * objcp-decl.c (objcp_start_struct, objcp_xref_tag): Adjust\n        call to xref_tag().\n        (objcp_build_component_ref): Remove function.\n        * objcp-decl.h (objcp_build_component_ref): Remove prototype.\n        (build_component_ref): Remove macro.\n        * objcp-lang.c (LANG_HOOKS_TYPES_COMPATIBLE_P): Remove.\n\nFrom-SVN: r100122", "tree": {"sha": "d49a13947647d120bddca76319593a364215c075", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d49a13947647d120bddca76319593a364215c075"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18d311d8d8d85acc1062a5699079464ca79af978", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18d311d8d8d85acc1062a5699079464ca79af978", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18d311d8d8d85acc1062a5699079464ca79af978", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18d311d8d8d85acc1062a5699079464ca79af978/comments", "author": null, "committer": null, "parents": [{"sha": "d1e270fe6ed923709f94aef6ed758009293a2df7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1e270fe6ed923709f94aef6ed758009293a2df7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1e270fe6ed923709f94aef6ed758009293a2df7"}], "stats": {"total": 29, "additions": 13, "deletions": 16}, "files": [{"sha": "f80405f6f0d27477f1983630870d46bbff7d048d", "filename": "gcc/objcp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2FChangeLog?ref=18d311d8d8d85acc1062a5699079464ca79af978", "patch": "@@ -1,3 +1,12 @@\n+2005-05-24  Ziemowit Laski  <zlaski@apple.com>\n+\n+\t* objcp-decl.c (objcp_start_struct, objcp_xref_tag): Adjust\n+\tcall to xref_tag().\n+\t(objcp_build_component_ref): Remove function.\n+\t* objcp-decl.h (objcp_build_component_ref): Remove prototype.\n+\t(build_component_ref): Remove macro.\n+\t* objcp-lang.c (LANG_HOOKS_TYPES_COMPATIBLE_P): Remove.\n+\n 2005-05-18  Geoffrey Keating  <geoffk@apple.com>\n \n \t* Make-lang.in (cc1objplus-dummy): New."}, {"sha": "68bcb0f25ea825b6a78c159c009022dbd05a0b14", "filename": "gcc/objcp/objcp-decl.c", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fobjcp-decl.c?ref=18d311d8d8d85acc1062a5699079464ca79af978", "patch": "@@ -51,9 +51,11 @@ objcp_start_struct (enum tree_code code ATTRIBUTE_UNUSED, tree name)\n   /* The idea here is to mimic the actions that the C++ parser takes when\n      constructing 'extern \"C\" struct NAME {'.  */\n   push_lang_context (lang_name_c);\n+\n   if (!name)\n     name = make_anon_name ();\n-  s = xref_tag (record_type, name, ts_current, 0);\n+\n+  s = xref_tag (record_type, name, ts_global, 0);\n   CLASSTYPE_DECLARED_CLASS (s) = 0;  /* this is a 'struct', not a 'class'.  */\n   xref_basetypes (s, NULL_TREE);     /* no base classes here!  */\n \n@@ -94,16 +96,7 @@ objcp_lookup_name (tree name)\n tree\n objcp_xref_tag (enum tree_code code ATTRIBUTE_UNUSED, tree name)\n {\n-  return xref_tag (record_type, name, true, false);\n-}\n-\n-tree\n-objcp_build_component_ref (tree datum, tree component)\n-{\n-  /* The 'build_component_ref' routine has been removed from the C++\n-     front-end, but 'finish_class_member_access_expr' seems to be\n-     a worthy substitute.  */\n-  return finish_class_member_access_expr (datum, component);\n+  return xref_tag (record_type, name, ts_global, false);\n }\n \n int"}, {"sha": "a6b14b76741bbe5ec5b6b23d800f0241cfe74012", "filename": "gcc/objcp/objcp-decl.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-decl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-decl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fobjcp-decl.h?ref=18d311d8d8d85acc1062a5699079464ca79af978", "patch": "@@ -29,7 +29,6 @@ extern void objcp_finish_function (void);\n extern tree objcp_lookup_name (tree);\n extern tree objcp_build_function_call (tree, tree);\n extern tree objcp_xref_tag (enum tree_code, tree);\n-extern tree objcp_build_component_ref (tree, tree);\n extern int objcp_comptypes (tree, tree);\n extern tree objcp_builtin_function (const char *, tree, int, \n \t\t\t\t    enum built_in_class, const char *, tree);\n@@ -51,8 +50,6 @@ extern tree objcp_end_compound_stmt (tree, int);\n \tobjcp_lookup_name (name)\n #define xref_tag(code, name) \\\n \tobjcp_xref_tag (code, name)\n-#define build_component_ref(datum, component) \\\n-        objcp_build_component_ref (datum, component)\n #define comptypes(type1, type2) \\\n \tobjcp_comptypes (type1, type2)\n #define c_begin_compound_stmt(flags) \\"}, {"sha": "7f2b6e107c7b0adca3d15b2ea2efeff9e43493dc", "filename": "gcc/objcp/objcp-lang.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18d311d8d8d85acc1062a5699079464ca79af978/gcc%2Fobjcp%2Fobjcp-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjcp%2Fobjcp-lang.c?ref=18d311d8d8d85acc1062a5699079464ca79af978", "patch": "@@ -46,8 +46,6 @@ enum c_language_kind c_language = clk_objcxx;\n #define LANG_HOOKS_INIT objc_init\n #undef LANG_HOOKS_DECL_PRINTABLE_NAME\n #define LANG_HOOKS_DECL_PRINTABLE_NAME\tobjc_printable_name\n-#undef LANG_HOOKS_TYPES_COMPATIBLE_P\n-#define LANG_HOOKS_TYPES_COMPATIBLE_P objc_types_compatible_p\n #undef LANG_HOOKS_GIMPLIFY_EXPR \n #define LANG_HOOKS_GIMPLIFY_EXPR objc_gimplify_expr\n #undef LANG_HOOKS_GET_CALLEE_FNDECL"}]}