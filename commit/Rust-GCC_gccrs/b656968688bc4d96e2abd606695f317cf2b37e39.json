{"sha": "b656968688bc4d96e2abd606695f317cf2b37e39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY1Njk2ODY4OGJjNGQ5NmUyYWJkNjA2Njk1ZjMxN2NmMmIzN2UzOQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2010-04-27T16:35:06Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2010-04-27T16:35:06Z"}, "message": "IppResponse.java (parseAttributes): Handle IppValueTag.UNKNOWN.\n\n2010-04-27  Andrew Haley  <aph@redhat.com>\n\n        * gnu/javax/print/ipp/IppResponse.java (parseAttributes): Handle\n        IppValueTag.UNKNOWN.  \n        * gnu/javax/print/ipp/IppRequest.java (writeOperationAttributes):\n        Handle RequestedAttributes.\n        * gnu/javax/print/ipp/IppPrintService.java (processResponse): Add\n        DocFlavor.SERVICE_FORMATTED.PAGEABLE and\n        DocFlavor.SERVICE_FORMATTED.PRINTABLE.\n\nFrom-SVN: r158789", "tree": {"sha": "1589bc1df1a30f6a9b9a05e1e36d09ebe406d8b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1589bc1df1a30f6a9b9a05e1e36d09ebe406d8b5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b656968688bc4d96e2abd606695f317cf2b37e39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b656968688bc4d96e2abd606695f317cf2b37e39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b656968688bc4d96e2abd606695f317cf2b37e39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b656968688bc4d96e2abd606695f317cf2b37e39/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e65bb9be499d2cea82fdfad49d7cf901167f9562", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e65bb9be499d2cea82fdfad49d7cf901167f9562", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e65bb9be499d2cea82fdfad49d7cf901167f9562"}], "stats": {"total": 40, "additions": 35, "deletions": 5}, "files": [{"sha": "f98d1c95b1e85ca0c3bb7d1c318361d1c050c392", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=b656968688bc4d96e2abd606695f317cf2b37e39", "patch": "@@ -1,3 +1,13 @@\n+2010-04-27  Andrew Haley  <aph@redhat.com>\n+\n+\t* gnu/javax/print/ipp/IppResponse.java (parseAttributes): Handle\n+\tIppValueTag.UNKNOWN.  \n+\t* gnu/javax/print/ipp/IppRequest.java (writeOperationAttributes):\n+\tHandle RequestedAttributes.\n+\t* gnu/javax/print/ipp/IppPrintService.java (processResponse): Add\n+\tDocFlavor.SERVICE_FORMATTED.PAGEABLE and\n+\tDocFlavor.SERVICE_FORMATTED.PRINTABLE.\n+\n 2010-04-02  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* HACKING: Update required Automake version."}, {"sha": "56a41381fb65c05f2b9353dd5ec834611ca11ee1", "filename": "libjava/classpath/gnu/javax/print/ipp/IppPrintService.java", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.java?ref=b656968688bc4d96e2abd606695f317cf2b37e39", "patch": "@@ -356,8 +356,17 @@ else if (mimeType.equals(\"text/html\"))\n                 // should not happen, all fields are public\n               }\n           }\n+\n+\tif (this.getClass()\n+\t    .isAssignableFrom(gnu.javax.print.CupsPrintService.class))\n+\t  {\n+// \t    CUPS always provides filters to convert from Postscript.\n+//  \t    This logic looks odd, but it's what OpenJDK does.\n+\t    flavors.add(DocFlavor.SERVICE_FORMATTED.PAGEABLE);\n+\t    flavors.add(DocFlavor.SERVICE_FORMATTED.PRINTABLE);\n+\t  }\n       }\n-    \n+\n     // printer uris\n     Set uris = getPrinterAttributeSet(PrinterUriSupported.class);\n     printerUris = new ArrayList(uris.size());"}, {"sha": "869f8224be9f77c68d3d94c892fb69f9f891dc64", "filename": "libjava/classpath/gnu/javax/print/ipp/IppRequest.java", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.java?ref=b656968688bc4d96e2abd606695f317cf2b37e39", "patch": "@@ -434,6 +434,8 @@ public void writeOperationAttributes(AttributeSet attributes)\n       PrinterURI printerUri = (PrinterURI) attributes.get(PrinterURI.class);\n       JobUri jobUri = (JobUri) attributes.get(JobUri.class);\n       JobId jobId = (JobId) attributes.get(JobId.class);\n+      RequestedAttributes reqAttrs \n+\t= (RequestedAttributes)attributes.get(RequestedAttributes.class);\n       if (printerUri != null && jobId == null && jobUri == null)\n         {\n           write(printerUri);\n@@ -467,6 +469,12 @@ else if (jobUri != null && jobId != null)\n           logger.log(Component.IPP, \"Attribute: Name: <\" + jobUri.getCategory()\n             .getName() + \"> Value: <\" + jobUri.toString() + \">\");\n         }\n+      else if (reqAttrs != null)\n+\t{\n+\t  write(reqAttrs);\n+\t  attributes.remove(RequestedAttributes.class);\n+\t  logger.log(Component.IPP, \"RequestedAttributes: <\" + reqAttrs + \">\");\n+\t}\n       else\n         {\n           throw new IppException(\"Unknown target operation attribute combination.\");"}, {"sha": "81a1eb47b0309a556ca8193358eb29997096c7f0", "filename": "libjava/classpath/gnu/javax/print/ipp/IppResponse.java", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.java?ref=b656968688bc4d96e2abd606695f317cf2b37e39", "patch": "@@ -302,11 +302,14 @@ private byte parseAttributes(Map attributes, DataInputStream stream)\n             // out-of-band values\n             case IppValueTag.UNSUPPORTED:\n             case IppValueTag.UNKNOWN:\n-            case IppValueTag.NO_VALUE:\n               // TODO implement out-of-band handling\n-              // We currently throw an exception to see when it occurs - not yet :-)              \n-              throw new IppException(\n-                    \"Unexpected name value for out-of-band value tag\");\n+              // We currently throw an exception to see when it occurs - not yet :-)\n+\t      throw new IppException(\n+                    \"Unexpected name value for out-of-band value tag \" + tag);\n+            case IppValueTag.NO_VALUE:\n+\t      attribute = null;\n+\n+\t      break;\n             case IppValueTag.INTEGER:\n               int intValue = IppUtilities.convertToInt(value);\n               attribute = IppUtilities.getIntegerAttribute(name, intValue);"}, {"sha": "7ec693ef159c1e0b0c181039742b3a780ada1838", "filename": "libjava/classpath/lib/gnu/javax/print/ipp/IppPrintService.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppPrintService.class?ref=b656968688bc4d96e2abd606695f317cf2b37e39"}, {"sha": "a7697f9415a210e041dd0f1d8f00683fefd5fb72", "filename": "libjava/classpath/lib/gnu/javax/print/ipp/IppRequest$RequestWriter.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest%24RequestWriter.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest%24RequestWriter.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest%24RequestWriter.class?ref=b656968688bc4d96e2abd606695f317cf2b37e39"}, {"sha": "039067c89a4649593976f9034ec723967824a6df", "filename": "libjava/classpath/lib/gnu/javax/print/ipp/IppRequest.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppRequest.class?ref=b656968688bc4d96e2abd606695f317cf2b37e39"}, {"sha": "89113302b6839d6ffe8c910a80d8a57f67983e1c", "filename": "libjava/classpath/lib/gnu/javax/print/ipp/IppResponse$ResponseReader.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse%24ResponseReader.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse%24ResponseReader.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse%24ResponseReader.class?ref=b656968688bc4d96e2abd606695f317cf2b37e39"}, {"sha": "995c0e1441fb500f6b06adf7219cfde0cc433693", "filename": "libjava/classpath/lib/gnu/javax/print/ipp/IppResponse.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b656968688bc4d96e2abd606695f317cf2b37e39/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fgnu%2Fjavax%2Fprint%2Fipp%2FIppResponse.class?ref=b656968688bc4d96e2abd606695f317cf2b37e39"}]}