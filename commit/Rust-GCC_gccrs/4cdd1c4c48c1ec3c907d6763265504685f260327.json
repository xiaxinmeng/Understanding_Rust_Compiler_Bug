{"sha": "4cdd1c4c48c1ec3c907d6763265504685f260327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGNkZDFjNGM0OGMxZWMzYzkwN2Q2NzYzMjY1NTA0Njg1ZjI2MDMyNw==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2017-06-07T15:04:46Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2017-06-07T15:04:46Z"}, "message": "rs6000: Remove -mfloat-gprs\n\nThis deletes -mfloat-gprs and the variables that go with it.\n\n\n\t* config/rs6000/rs6000.c: Remove everything related to -mfloat-gprs.\n\t* config/rs6000/rs6000.opt: Ditto.\n\t* config/rs6000/t-rtems: Ditto.\n\nFrom-SVN: r248976", "tree": {"sha": "39b71276e11b0261b9f42572c706f611c1cc7231", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39b71276e11b0261b9f42572c706f611c1cc7231"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4cdd1c4c48c1ec3c907d6763265504685f260327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cdd1c4c48c1ec3c907d6763265504685f260327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cdd1c4c48c1ec3c907d6763265504685f260327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cdd1c4c48c1ec3c907d6763265504685f260327/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f7c12ec44d2380c17e50bff0195c4678899d338a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7c12ec44d2380c17e50bff0195c4678899d338a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7c12ec44d2380c17e50bff0195c4678899d338a"}], "stats": {"total": 47, "additions": 9, "deletions": 38}, "files": [{"sha": "01c5e4c774afc16eb41e87baeba347d75c3db7ab", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4cdd1c4c48c1ec3c907d6763265504685f260327", "patch": "@@ -1,3 +1,9 @@\n+2017-06-07  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* config/rs6000/rs6000.c: Remove everything related to -mfloat-gprs.\n+\t* config/rs6000/rs6000.opt: Ditto.\n+\t* config/rs6000/t-rtems: Ditto.\n+\n 2017-06-07  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/predicates.md: Replace TARGET_E500_DOUBLE and"}, {"sha": "587ec18998a409546d5b78bb20155ceef2ff7ff7", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=4cdd1c4c48c1ec3c907d6763265504685f260327", "patch": "@@ -2841,9 +2841,6 @@ rs6000_debug_reg_global (void)\n   if (rs6000_darwin64_abi)\n     fprintf (stderr, DEBUG_FMT_S, \"darwin64_abi\", \"true\");\n \n-  if (rs6000_float_gprs)\n-    fprintf (stderr, DEBUG_FMT_S, \"float_gprs\", \"true\");\n-\n   fprintf (stderr, DEBUG_FMT_S, \"single_float\",\n \t   (TARGET_SINGLE_FLOAT ? \"true\" : \"false\"));\n \n@@ -4242,12 +4239,6 @@ rs6000_option_override_internal (bool global_init_p)\n \n     if (!global_options_set.x_rs6000_spe)\n       rs6000_spe = spe_capable_cpu;\n-\n-    if (!global_options_set.x_rs6000_float_gprs)\n-      rs6000_float_gprs =\n-        (rs6000_cpu == PROCESSOR_PPC8540 ? 1\n-         : rs6000_cpu == PROCESSOR_PPC8548 ? 2\n-         : 0);\n   }\n \n   if (global_options_set.x_rs6000_spe_abi\n@@ -4262,8 +4253,7 @@ rs6000_option_override_internal (bool global_init_p)\n \n   if (main_target_opt != NULL\n       && ((main_target_opt->x_rs6000_spe_abi != rs6000_spe_abi)\n-          || (main_target_opt->x_rs6000_spe != rs6000_spe)\n-          || (main_target_opt->x_rs6000_float_gprs != rs6000_float_gprs)))\n+          || (main_target_opt->x_rs6000_spe != rs6000_spe)))\n     error (\"target attribute or pragma changes SPE ABI\");\n \n   if (rs6000_cpu == PROCESSOR_PPCE300C2 || rs6000_cpu == PROCESSOR_PPCE300C3"}, {"sha": "c5c11c53593c7960b14715ed44217f1935b806c5", "filename": "gcc/config/rs6000/rs6000.opt", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Frs6000.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.opt?ref=4cdd1c4c48c1ec3c907d6763265504685f260327", "patch": "@@ -449,26 +449,6 @@ mwarn-altivec-long\n Target Var(rs6000_warn_altivec_long) Init(1) Save\n Warn about deprecated 'vector long ...' AltiVec type usage.\n \n-mfloat-gprs=\n-Target RejectNegative Joined Enum(rs6000_float_gprs) Var(rs6000_float_gprs) Save\n--mfloat-gprs=\tSelect GPR floating point method.\n-\n-Enum\n-Name(rs6000_float_gprs) Type(unsigned char)\n-Valid arguments to -mfloat-gprs=:\n-\n-EnumValue\n-Enum(rs6000_float_gprs) String(yes) Value(1)\n-\n-EnumValue\n-Enum(rs6000_float_gprs) String(single) Value(1)\n-\n-EnumValue\n-Enum(rs6000_float_gprs) String(double) Value(2)\n-\n-EnumValue\n-Enum(rs6000_float_gprs) String(no) Value(0)\n-\n mlong-double-\n Target RejectNegative Joined UInteger Var(rs6000_long_double_type_size) Save\n -mlong-double-<n>\tSpecify size of long double (64 or 128 bits)."}, {"sha": "723c6a37aaa5862f905d795c24618157d82db37e", "filename": "gcc/config/rs6000/t-rtems", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Ft-rtems", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4cdd1c4c48c1ec3c907d6763265504685f260327/gcc%2Fconfig%2Frs6000%2Ft-rtems", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-rtems?ref=4cdd1c4c48c1ec3c907d6763265504685f260327", "patch": "@@ -30,8 +30,8 @@ MULTILIB_DIRNAMES += m403 m505 m603e m604 m860 m7400 m8540 me6500\n MULTILIB_OPTIONS += m32\n MULTILIB_DIRNAMES += m32\n \n-MULTILIB_OPTIONS += msoft-float/mfloat-gprs=double\n-MULTILIB_DIRNAMES += nof gprsdouble\n+MULTILIB_OPTIONS += msoft-float\n+MULTILIB_DIRNAMES += nof\n \n MULTILIB_OPTIONS += mno-spe/mno-altivec\n MULTILIB_DIRNAMES += nospe noaltivec\n@@ -56,10 +56,6 @@ MULTILIB_MATCHES\t+= mcpu?750=\n # Map 8548 to 8540\n MULTILIB_MATCHES\t+= mcpu?8540=mcpu?8548\n \n-# Map -mcpu=8540 -mfloat-gprs=single to -mcpu=8540\n-# (mfloat-gprs=single is implicit default)\n-MULTILIB_MATCHES\t+= mcpu?8540=mcpu?8540/mfloat-gprs?single\n-\n # Enumeration of multilibs\n \n MULTILIB_REQUIRED += msoft-float\n@@ -73,7 +69,6 @@ MULTILIB_REQUIRED += mcpu=7400\n MULTILIB_REQUIRED += mcpu=7400/msoft-float\n MULTILIB_REQUIRED += mcpu=8540\n MULTILIB_REQUIRED += mcpu=8540/msoft-float/mno-spe\n-MULTILIB_REQUIRED += mcpu=8540/mfloat-gprs=double\n MULTILIB_REQUIRED += mcpu=860\n MULTILIB_REQUIRED += mcpu=e6500/m32\n MULTILIB_REQUIRED += mcpu=e6500/m32/msoft-float/mno-altivec"}]}