{"sha": "83d865c57c34520403cdd160c289b3c5e6287805", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNkODY1YzU3YzM0NTIwNDAzY2RkMTYwYzI4OWIzYzVlNjI4NzgwNQ==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2003-10-06T13:50:41Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2003-10-06T13:50:41Z"}, "message": "tree.c (get_callee_fndecl): Call lang_hooks.lang_get_callee_fndecl.\n\n2003-10-06  Andrew Haley  <aph@redhat.com>\n\n\t* tree.c (get_callee_fndecl): Call\n\tlang_hooks.lang_get_callee_fndecl.\n\t* langhooks-def.h (LANG_HOOKS_GET_CALLEE_FNDECL): New.\n\t(lhd_get_callee_fndecl): New.\n\nFrom-SVN: r72150", "tree": {"sha": "1648237777c5c056de49de22c4c8ee760de29466", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1648237777c5c056de49de22c4c8ee760de29466"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83d865c57c34520403cdd160c289b3c5e6287805", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83d865c57c34520403cdd160c289b3c5e6287805", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83d865c57c34520403cdd160c289b3c5e6287805", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83d865c57c34520403cdd160c289b3c5e6287805/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "75f604438c2fec75b9cca6e4917679d5250babb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75f604438c2fec75b9cca6e4917679d5250babb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75f604438c2fec75b9cca6e4917679d5250babb1"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "d36ae3aa8fa6c3c57848e63b02af2774005d13d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=83d865c57c34520403cdd160c289b3c5e6287805", "patch": "@@ -1,3 +1,10 @@\n+2003-10-06  Andrew Haley  <aph@redhat.com>\n+\n+\t* tree.c (get_callee_fndecl): Call\n+\tlang_hooks.lang_get_callee_fndecl.\n+\t* langhooks-def.h (LANG_HOOKS_GET_CALLEE_FNDECL): New.\n+\t(lhd_get_callee_fndecl): New.\n+\n 2003-10-06  Andrew Pinski  <apinski@apple.com>\n \n \t* config/darwin.c (machopic_non_lazy_ptr_name): Fix off by one"}, {"sha": "cf241602f440cab6212bfbc476e604680c531c2a", "filename": "gcc/langhooks-def.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Flanghooks-def.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Flanghooks-def.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks-def.h?ref=83d865c57c34520403cdd160c289b3c5e6287805", "patch": "@@ -67,6 +67,7 @@ extern void lhd_register_builtin_type (tree, const char *);\n extern bool lhd_decl_ok_for_sibcall (tree);\n extern tree lhd_expr_size (tree);\n extern bool lhd_decl_uninit (tree);\n+extern tree lhd_get_callee_fndecl (tree);\n extern size_t lhd_tree_size (enum tree_code);\n \n /* Declarations of default tree inlining hooks.  */\n@@ -119,6 +120,7 @@ extern tree lhd_callgraph_analyze_expr (tree *, int *, tree);\n #define LANG_HOOKS_PRINT_IDENTIFIER\tlhd_print_tree_nothing\n #define LANG_HOOKS_PRINT_ERROR_FUNCTION lhd_print_error_function\n #define LANG_HOOKS_DECL_PRINTABLE_NAME\tlhd_decl_printable_name\n+#define LANG_HOOKS_GET_CALLEE_FNDECL\tlhd_return_null_tree\n #define LANG_HOOKS_EXPR_SIZE\t\tlhd_expr_size\n #define LANG_HOOKS_DECL_UNINIT\t\tlhd_decl_uninit\n #define LANG_HOOKS_TREE_SIZE\t\tlhd_tree_size\n@@ -297,6 +299,7 @@ extern int lhd_tree_dump_type_quals (tree);\n   LANG_HOOKS_PRINT_TYPE, \\\n   LANG_HOOKS_PRINT_IDENTIFIER, \\\n   LANG_HOOKS_DECL_PRINTABLE_NAME, \\\n+  LANG_HOOKS_GET_CALLEE_FNDECL, \\\n   LANG_HOOKS_PRINT_ERROR_FUNCTION, \\\n   LANG_HOOKS_EXPR_SIZE, \\\n   LANG_HOOKS_DECL_UNINIT, \\"}, {"sha": "cb5941ff3eb37766e6a2fa3f2cd10762b8c6bcb3", "filename": "gcc/langhooks.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Flanghooks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Flanghooks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flanghooks.h?ref=83d865c57c34520403cdd160c289b3c5e6287805", "patch": "@@ -378,6 +378,9 @@ struct lang_hooks\n      types in C++.  */\n   const char *(*decl_printable_name) (tree decl, int verbosity);\n \n+  /* Given a CALL_EXPR, return a function decl that is its target.  */\n+  tree (*lang_get_callee_fndecl) (tree);\n+\n   /* Called by report_error_function to print out function name.  */\n   void (*print_error_function) (struct diagnostic_context *, const char *);\n "}, {"sha": "dcbf74d790fecc0f893f3c73c399fb75e996cf36", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83d865c57c34520403cdd160c289b3c5e6287805/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=83d865c57c34520403cdd160c289b3c5e6287805", "patch": "@@ -4449,9 +4449,10 @@ get_callee_fndecl (tree call)\n   if (TREE_CODE (addr) == ADDR_EXPR\n       && TREE_CODE (TREE_OPERAND (addr, 0)) == FUNCTION_DECL)\n     return TREE_OPERAND (addr, 0);\n-\n-  /* We couldn't figure out what was being called.  */\n-  return NULL_TREE;\n+  \n+  /* We couldn't figure out what was being called.  Maybe the front\n+     end has some idea.  */\n+  return (*lang_hooks.lang_get_callee_fndecl) (call);\n }\n \n /* Print debugging information about tree nodes generated during the compile,"}]}