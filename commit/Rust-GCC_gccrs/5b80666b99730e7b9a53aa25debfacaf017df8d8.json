{"sha": "5b80666b99730e7b9a53aa25debfacaf017df8d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI4MDY2NmI5OTczMGU3YjlhNTNhYTI1ZGViZmFjYWYwMTdkZjhkOA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@milou.soma.redhat.com", "date": "2000-05-25T13:09:01Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-05-25T13:09:01Z"}, "message": "inclosure: Change to...\n\n\n2000-05-25  Benjamin Kosnik  <bkoz@milou.soma.redhat.com>\n\n\t* inclosure: Change to...\n\t* mkinclosure: This.\n\tFix paths to bash.\n\t* mkcshadow: Fix paths to bash.\n\n\t* src/Makefile.am: Tweaks. Do cshadow header trickery at build time.\n\t* src/Makefile.in: Regnerate.\n\t* acinclude.m4 (GLIBCPP_COMPILER_VERSION): Fix typo.\n\t(GLIBCPP_ENABLE_SHADOW): Do a less gross hack.\n\t* aclocal.m4: Regenerate.\n\n\t* configure.in: Enable long long by default.\n\t* configure: Regenerate.\n\n\t* mkcheck.in (LIB_PATH): Revert.\n\nFrom-SVN: r34166", "tree": {"sha": "a6bf87609593596f83cf2fbe6f6b5271e487a9c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6bf87609593596f83cf2fbe6f6b5271e487a9c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b80666b99730e7b9a53aa25debfacaf017df8d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b80666b99730e7b9a53aa25debfacaf017df8d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b80666b99730e7b9a53aa25debfacaf017df8d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b80666b99730e7b9a53aa25debfacaf017df8d8/comments", "author": null, "committer": null, "parents": [{"sha": "e65d7eac576c15943aac86658f5e3524056385d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e65d7eac576c15943aac86658f5e3524056385d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e65d7eac576c15943aac86658f5e3524056385d1"}], "stats": {"total": 492, "additions": 296, "deletions": 196}, "files": [{"sha": "14160ed114b2ce772b7137d23e2e917f2290094c", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -1,3 +1,21 @@\n+2000-05-25  Benjamin Kosnik  <bkoz@milou.soma.redhat.com>\n+\n+\t* inclosure: Change to...\n+\t* mkinclosure: This.\n+\tFix paths to bash.\t\n+\t* mkcshadow: Fix paths to bash.\n+\t\n+\t* src/Makefile.am: Tweaks. Do cshadow header trickery at build time.\n+\t* src/Makefile.in: Regnerate.\n+\t* acinclude.m4 (GLIBCPP_COMPILER_VERSION): Fix typo.\n+\t(GLIBCPP_ENABLE_SHADOW): Do a less gross hack.\n+\t* aclocal.m4: Regenerate.\n+\t\n+\t* configure.in: Enable long long by default.\n+\t* configure: Regenerate.\n+\t\n+\t* mkcheck.in (LIB_PATH): Revert.\n+\n 2000-05-24   Nathan \"I don't write ChangeLog Entries\" Myers  <ncm@cantrip.org>\n \n \t* config/cpu/i486: New directory."}, {"sha": "79b81bf24fb932f9cd50c5dbcb190a0edcfbf0a6", "filename": "libstdc++-v3/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FMakefile.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -69,6 +69,8 @@ BUILD_LIBIO_INCLUDE = @BUILD_LIBIO_INCLUDE@\n CC = @CC@\n CPP = @CPP@\n CPUFLAGS = @CPUFLAGS@\n+CSHADOWFLAGS = @CSHADOWFLAGS@\n+CSHADOW_INCLUDES = @CSHADOW_INCLUDES@\n CSTDIO_CC = @CSTDIO_CC@\n CSTDIO_H = @CSTDIO_H@\n CXX = @CXX@\n@@ -90,7 +92,6 @@ MAKEINFO = @MAKEINFO@\n OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n-SHADOW_INCLUDES = @SHADOW_INCLUDES@\n THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@"}, {"sha": "b2c7a5f1c6c0b437cbe8143c65400275e0549a19", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -178,7 +178,7 @@ AC_DEFUN(GLIBCPP_CHECK_COMPILER_VERSION, [\n   WERROR='-Werror'\n \n   # Sanity check that g++ is capable of dealing with v-3.\n-  AC_MSG_CHECKING([for g++ that will successfullly compile this code])\n+  AC_MSG_CHECKING([for g++ that will successfully compile this code])\n   AC_EGREP_CPP([ok], [\n   #if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 95) \n     ok\n@@ -998,15 +998,18 @@ AC_MSG_RESULT($enable_cshadow_headers)\n dnl Option parsed, now set things appropriately\n case \"$enable_cshadow_headers\" in\n     yes) \n-\tSHADOW_INCLUDES=\"-I$srcdir/shadow -I$blddir/cshadow\"\n-        $srcdir/inclosure \"-I $blddir/../../gcc/include/ -I /usr/include/ -G machine/ansi.h\" | $srcdir/mkcshadow\n+\tCSHADOWFLAGS=\"-D_ISOC9X_SOURCE\"\n+\tCSHADOW_INCLUDES=\" -I$srcdir/shadow -I$blddir/cshadow\"\n \t;;\n     no)   \n-\tSHADOW_INCLUDES=''\n+\tCSHADOWFLAGS=\"\"\n+\tCSHADOW_INCLUDES=\"\"\n         ;;\n esac\n-# SHADOW_INCLUDES is currently not used anywhere in the source\n-AC_SUBST(SHADOW_INCLUDES)\n+\n+AC_SUBST(CSHADOWFLAGS)\n+AC_SUBST(CSHADOW_INCLUDES)\n+AM_CONDITIONAL(GLIBCPP_USE_CSHADOW, test \"$enable_cshadow_headers\" = yes)\n ])\n \n "}, {"sha": "922b99c6739c4945224639ca550105bf9895e562", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -190,7 +190,7 @@ AC_DEFUN(GLIBCPP_CHECK_COMPILER_VERSION, [\n   WERROR='-Werror'\n \n   # Sanity check that g++ is capable of dealing with v-3.\n-  AC_MSG_CHECKING([for g++ that will successfullly compile this code])\n+  AC_MSG_CHECKING([for g++ that will successfully compile this code])\n   AC_EGREP_CPP([ok], [\n   #if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 95) \n     ok\n@@ -1010,15 +1010,18 @@ AC_MSG_RESULT($enable_cshadow_headers)\n dnl Option parsed, now set things appropriately\n case \"$enable_cshadow_headers\" in\n     yes) \n-\tSHADOW_INCLUDES=\"-I$srcdir/shadow -I$blddir/cshadow\"\n-        $srcdir/inclosure \"-I $blddir/../../gcc/include/ -I /usr/include/ -G machine/ansi.h\" | $srcdir/mkcshadow\n+\tCSHADOWFLAGS=\"-D_ISOC9X_SOURCE\"\n+\tCSHADOW_INCLUDES=\" -I$srcdir/shadow -I$blddir/cshadow\"\n \t;;\n     no)   \n-\tSHADOW_INCLUDES=''\n+\tCSHADOWFLAGS=\"\"\n+\tCSHADOW_INCLUDES=\"\"\n         ;;\n esac\n-# SHADOW_INCLUDES is currently not used anywhere in the source\n-AC_SUBST(SHADOW_INCLUDES)\n+\n+AC_SUBST(CSHADOWFLAGS)\n+AC_SUBST(CSHADOW_INCLUDES)\n+AM_CONDITIONAL(GLIBCPP_USE_CSHADOW, test \"$enable_cshadow_headers\" = yes)\n ])\n \n "}, {"sha": "7f353b354db2a0aa2c50e03e6e46adbfb335ed52", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 124, "deletions": 110, "changes": 234, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -37,7 +37,7 @@ ac_help=\"$ac_help\n   --enable-cstdio         enable GNU libio for target io package. (default)\n   --enable-cstdio=LIB     use LIB target-speific io package.\"\n ac_help=\"$ac_help\n-  --enable-long-long      turns on 'long long' [default=no]\"\n+  --enable-long-long      turns on 'long long' [default=yes]\"\n ac_help=\"$ac_help\n   --enable-cshadow-headers construct \"shadowed\" C header files for\n                            g++ [default=no]\"\n@@ -2054,8 +2054,8 @@ cross_compiling=$ac_cv_prog_cxx_cross\n   WERROR='-Werror'\n \n   # Sanity check that g++ is capable of dealing with v-3.\n-  echo $ac_n \"checking for g++ that will successfullly compile this code\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking for g++ that will successfullly compile this code\" >&5\n+  echo $ac_n \"checking for g++ that will successfully compile this code\"\"... $ac_c\" 1>&6\n+echo \"configure:2059: checking for g++ that will successfully compile this code\" >&5\n   cat > conftest.$ac_ext <<EOF\n #line 2061 \"configure\"\n #include \"confdefs.h\"\n@@ -2443,7 +2443,7 @@ if test \"${enable_long_long+set}\" = set; then\n    *)   { echo \"configure: error: Unknown argument to enable/disable long long\" 1>&2; exit 1; } ;;\n    esac\n else\n-  enable_long_long=no\n+  enable_long_long=yes\n fi\n   echo \"$ac_t\"\"$enable_long_long\" 1>&6\n     case \"$enable_long_long\" in\n@@ -2473,19 +2473,30 @@ fi\n echo \"$ac_t\"\"$enable_cshadow_headers\" 1>&6\n case \"$enable_cshadow_headers\" in\n     yes) \n-\tSHADOW_INCLUDES=\"-I$srcdir/shadow -I$blddir/cshadow\"\n-        $srcdir/inclosure \"-I $blddir/../../gcc/include/ -I /usr/include/ -G machine/ansi.h\" | $srcdir/mkcshadow\n+\tCSHADOWFLAGS=\"-D_ISOC9X_SOURCE\"\n+\tCSHADOW_INCLUDES=\" -I$srcdir/shadow -I$blddir/cshadow\"\n \t;;\n     no)   \n-\tSHADOW_INCLUDES=''\n+\tCSHADOWFLAGS=\"\"\n+\tCSHADOW_INCLUDES=\"\"\n         ;;\n esac\n-# SHADOW_INCLUDES is currently not used anywhere in the source\n \n \n \n+\n+\n+if test \"$enable_cshadow_headers\" = yes; then\n+  GLIBCPP_USE_CSHADOW_TRUE=\n+  GLIBCPP_USE_CSHADOW_FALSE='#'\n+else\n+  GLIBCPP_USE_CSHADOW_TRUE='#'\n+  GLIBCPP_USE_CSHADOW_FALSE=\n+fi\n+\n+\n       echo $ac_n \"checking for threads package to use\"\"... $ac_c\" 1>&6\n-echo \"configure:2489: checking for threads package to use\" >&5\n+echo \"configure:2500: checking for threads package to use\" >&5\n   # Check whether --enable-threads or --disable-threads was given.\n if test \"${enable_threads+set}\" = set; then\n   enableval=\"$enable_threads\"\n@@ -2548,17 +2559,17 @@ fi\n     posix)\n       ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2552: checking for pthread.h\" >&5\n+echo \"configure:2563: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2557 \"configure\"\n+#line 2568 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2562: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2573: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2747,17 +2758,17 @@ else\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:2751: checking for $ac_hdr\" >&5\n+echo \"configure:2762: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2756 \"configure\"\n+#line 2767 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2761: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2772: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2787,7 +2798,7 @@ done\n   \n   \n   echo $ac_n \"checking for GNU C++ __complex__ support\"\"... $ac_c\" 1>&6\n-echo \"configure:2791: checking for GNU C++ __complex__ support\" >&5\n+echo \"configure:2802: checking for GNU C++ __complex__ support\" >&5\n   if eval \"test \\\"`echo '$''{'glibcpp_cv_complex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2801,7 +2812,7 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n     cat > conftest.$ac_ext <<EOF\n-#line 2805 \"configure\"\n+#line 2816 \"configure\"\n #include \"confdefs.h\"\n struct dcomplex { __complex__ double x; }; \\\n \t\t    dcomplex f(const dcomplex& x) { return dcomplex(x); }\n@@ -2810,7 +2821,7 @@ int main() {\n \t\t     dcomplex x; f(x); \n ; return 0; }\n EOF\n-if { (eval echo configure:2814: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2825: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcpp_cv_complex=ok\n else\n@@ -2842,7 +2853,7 @@ EOF\n   \n   \n   echo $ac_n \"checking for GNU C++ __complex__ float support\"\"... $ac_c\" 1>&6\n-echo \"configure:2846: checking for GNU C++ __complex__ float support\" >&5\n+echo \"configure:2857: checking for GNU C++ __complex__ float support\" >&5\n   if eval \"test \\\"`echo '$''{'glibcpp_cv_float_complex'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2875,14 +2886,14 @@ cross_compiling=$ac_cv_prog_cxx_cross\n       };\n EOB\n     cat > conftest.$ac_ext <<EOF\n-#line 2879 \"configure\"\n+#line 2890 \"configure\"\n #include \"confdefs.h\"\n #include \"conftest.h\"\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2886: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2897: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcpp_cv_float_complex=ok\n else\n@@ -2913,16 +2924,16 @@ EOF\n \n   \n     echo $ac_n \"checking for __builtin_sinf\"\"... $ac_c\" 1>&6\n-echo \"configure:2917: checking for __builtin_sinf\" >&5\n+echo \"configure:2928: checking for __builtin_sinf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 2919 \"configure\"\n+#line 2930 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_sinf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:2926: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2937: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_sinf=yes\n else\n@@ -2941,16 +2952,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_cosf\"\"... $ac_c\" 1>&6\n-echo \"configure:2945: checking for __builtin_cosf\" >&5\n+echo \"configure:2956: checking for __builtin_cosf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 2947 \"configure\"\n+#line 2958 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_cosf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:2954: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2965: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_cosf=yes\n else\n@@ -2969,16 +2980,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_fabsf\"\"... $ac_c\" 1>&6\n-echo \"configure:2973: checking for __builtin_fabsf\" >&5\n+echo \"configure:2984: checking for __builtin_fabsf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 2975 \"configure\"\n+#line 2986 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_fabsf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:2982: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2993: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_fabsf=yes\n else\n@@ -2997,16 +3008,16 @@ EOF\n   fi\n \n   echo $ac_n \"checking for __builtin_sqrtf\"\"... $ac_c\" 1>&6\n-echo \"configure:3001: checking for __builtin_sqrtf\" >&5\n+echo \"configure:3012: checking for __builtin_sqrtf\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3003 \"configure\"\n+#line 3014 \"configure\"\n #include \"confdefs.h\"\n #include <math.h>\n int main() {\n float foo(void) { __builtin_sqrtf(0.0); }\n ; return 0; }\n EOF\n-if { (eval echo configure:3010: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3021: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_builtin_sqrtf=yes\n else\n@@ -3026,15 +3037,15 @@ EOF\n \n   \n   echo $ac_n \"checking for sin in -lm\"\"... $ac_c\" 1>&6\n-echo \"configure:3030: checking for sin in -lm\" >&5\n+echo \"configure:3041: checking for sin in -lm\" >&5\n ac_lib_var=`echo m'_'sin | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lm  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 3038 \"configure\"\n+#line 3049 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -3045,7 +3056,7 @@ int main() {\n sin()\n ; return 0; }\n EOF\n-if { (eval echo configure:3049: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3060: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -3072,17 +3083,17 @@ fi\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3076: checking for $ac_hdr\" >&5\n+echo \"configure:3087: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3081 \"configure\"\n+#line 3092 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3086: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3097: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3114,12 +3125,12 @@ done\n   carg cargf nan hypot hypotf atan2f expf copysignf\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3118: checking for $ac_func\" >&5\n+echo \"configure:3129: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3123 \"configure\"\n+#line 3134 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3142,7 +3153,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3146: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3157: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3171,12 +3182,12 @@ done\n \n       USE_LONG_DOUBLE=no\n   echo $ac_n \"checking for copysignl\"\"... $ac_c\" 1>&6\n-echo \"configure:3175: checking for copysignl\" >&5\n+echo \"configure:3186: checking for copysignl\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_copysignl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3180 \"configure\"\n+#line 3191 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char copysignl(); below.  */\n@@ -3199,7 +3210,7 @@ copysignl();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3203: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3214: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_copysignl=yes\"\n else\n@@ -3218,12 +3229,12 @@ if eval \"test \\\"`echo '$ac_cv_func_'copysignl`\\\" = yes\"; then\n   csqrtl ctanhl ctanl cargl hypotl signbitl c_logl clog10l\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3222: checking for $ac_func\" >&5\n+echo \"configure:3233: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3227 \"configure\"\n+#line 3238 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3246,7 +3257,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3250: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3261: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3284,12 +3295,12 @@ fi\n   fpclass qfpclass\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3288: checking for $ac_func\" >&5\n+echo \"configure:3299: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3293 \"configure\"\n+#line 3304 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3312,7 +3323,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3316: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3327: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3347,12 +3358,12 @@ _strtof _strtold _fabsf _sincos _sincosf _sincosl _finite _finitef _qfinite \\\n _fpclass _qfpclass\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3351: checking for $ac_func\" >&5\n+echo \"configure:3362: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3356 \"configure\"\n+#line 3367 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3375,7 +3386,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3379: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3390: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3405,17 +3416,17 @@ LIBS=\"$save_LIBS\"\n   \n   ac_safe=`echo \"wchar.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for wchar.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3409: checking for wchar.h\" >&5\n+echo \"configure:3420: checking for wchar.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3414 \"configure\"\n+#line 3425 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3419: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3430: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3433,16 +3444,16 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n     echo $ac_n \"checking for native mbstate_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3437: checking for native mbstate_t\" >&5\n+echo \"configure:3448: checking for native mbstate_t\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3439 \"configure\"\n+#line 3450 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n int main() {\n mbstate_t teststate;\n ; return 0; }\n EOF\n-if { (eval echo configure:3446: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3457: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   use_native_mbstatet=yes\n else\n@@ -3461,16 +3472,16 @@ EOF\n   fi\n   \n       echo $ac_n \"checking for WCHAR_MIN and WCHAR_MAX\"\"... $ac_c\" 1>&6\n-echo \"configure:3465: checking for WCHAR_MIN and WCHAR_MAX\" >&5\n+echo \"configure:3476: checking for WCHAR_MIN and WCHAR_MAX\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3467 \"configure\"\n+#line 3478 \"configure\"\n #include \"confdefs.h\"\n #include <wchar.h>\n int main() {\n int i = WCHAR_MIN; int j = WCHAR_MAX;\n ; return 0; }\n EOF\n-if { (eval echo configure:3474: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3485: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   has_wchar_minmax=yes\n else\n@@ -3491,9 +3502,9 @@ EOF\n   # Test wchar.h for WEOF, which is what we use to determine whether\n   # to specialize for wchar_t or not.\n   echo $ac_n \"checking for WEOF\"\"... $ac_c\" 1>&6\n-echo \"configure:3495: checking for WEOF\" >&5\n+echo \"configure:3506: checking for WEOF\" >&5\n   cat > conftest.$ac_ext <<EOF\n-#line 3497 \"configure\"\n+#line 3508 \"configure\"\n #include \"confdefs.h\"\n \n     #include <wchar.h>\n@@ -3502,7 +3513,7 @@ int main() {\n wint_t i = WEOF;\n ; return 0; }\n EOF\n-if { (eval echo configure:3506: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3517: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   has_weof=yes\n else\n@@ -3517,12 +3528,12 @@ rm -f conftest*\n     for ac_func in wcslen wmemchr wmemcmp wmemcpy wmemmove wmemset\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3521: checking for $ac_func\" >&5\n+echo \"configure:3532: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3526 \"configure\"\n+#line 3537 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3545,7 +3556,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3549: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3560: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3574,7 +3585,7 @@ done\n   \n \n   echo $ac_n \"checking for wide character support\"\"... $ac_c\" 1>&6\n-echo \"configure:3578: checking for wide character support\" >&5\n+echo \"configure:3589: checking for wide character support\" >&5\n   if test $has_weof = \"yes\" && test $has_wchar_minmax = \"yes\"; then\n     libinst_wstring_la=\"libinst-wstring.la\"\n     cat >> confdefs.h <<\\EOF\n@@ -3602,17 +3613,17 @@ fi\n   \n   ac_safe=`echo \"ctype.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for ctype.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3606: checking for ctype.h\" >&5\n+echo \"configure:3617: checking for ctype.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3611 \"configure\"\n+#line 3622 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3616: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3627: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3633,9 +3644,9 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n         ctype_default=yes\n \n         echo $ac_n \"checking <ctype> for gnu-linux \"\"... $ac_c\" 1>&6\n-echo \"configure:3637: checking <ctype> for gnu-linux \" >&5\n+echo \"configure:3648: checking <ctype> for gnu-linux \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3639 \"configure\"\n+#line 3650 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3646,7 +3657,7 @@ int\n \t+ __ctype_tolower[a] + __ctype_toupper[a] + __ctype_b[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3650: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3661: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_linux=yes\n@@ -3665,9 +3676,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for freebsd 4.0 \"\"... $ac_c\" 1>&6\n-echo \"configure:3669: checking <ctype> for freebsd 4.0 \" >&5\n+echo \"configure:3680: checking <ctype> for freebsd 4.0 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3671 \"configure\"\n+#line 3682 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3677,7 +3688,7 @@ int\n \t+ _CTYPE_D + _CTYPE_P + _CTYPE_X + _CTYPE_G ;}\n ; return 0; }\n EOF\n-if { (eval echo configure:3681: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3692: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_bsd=yes\n@@ -3697,9 +3708,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for freebsd 3.4 \"\"... $ac_c\" 1>&6\n-echo \"configure:3701: checking <ctype> for freebsd 3.4 \" >&5\n+echo \"configure:3712: checking <ctype> for freebsd 3.4 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3703 \"configure\"\n+#line 3714 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3709,7 +3720,7 @@ int\n       + _D + _P + _X + _G + __istype (a, 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:3713: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3724: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_freebsd34=yes\n@@ -3729,9 +3740,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.6,7,8 \"\"... $ac_c\" 1>&6\n-echo \"configure:3733: checking <ctype> for solaris 2.6,7,8 \" >&5\n+echo \"configure:3744: checking <ctype> for solaris 2.6,7,8 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3735 \"configure\"\n+#line 3746 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3742,7 +3753,7 @@ int\n \t+ __trans_lower[a] + __trans_upper[a] + __ctype_mask[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3746: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3757: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris=yes\n@@ -3757,7 +3768,7 @@ rm -f conftest*\n \n     if test $ctype_solaris = \"yes\"; then\n       echo $ac_n \"checking   for version\"\"... $ac_c\" 1>&6\n-echo \"configure:3761: checking   for version\" >&5\n+echo \"configure:3772: checking   for version\" >&5\n       ac_ext=C\n # CXXFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n ac_cpp='$CXXCPP $CPPFLAGS'\n@@ -3766,14 +3777,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n  \n       cat > conftest.$ac_ext <<EOF\n-#line 3770 \"configure\"\n+#line 3781 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n typedef long* __to_type; __to_type const& _M_toupper = __trans_upper;\n ; return 0; }\n EOF\n-if { (eval echo configure:3777: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3788: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n       ctype_solaris26=yes\n@@ -3805,9 +3816,9 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for solaris 2.5.1 \"\"... $ac_c\" 1>&6\n-echo \"configure:3809: checking <ctype> for solaris 2.5.1 \" >&5\n+echo \"configure:3820: checking <ctype> for solaris 2.5.1 \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3811 \"configure\"\n+#line 3822 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3817,7 +3828,7 @@ int\n \t+ __ctype[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3821: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3832: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_solaris25=yes\n@@ -3837,9 +3848,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for aix \"\"... $ac_c\" 1>&6\n-echo \"configure:3841: checking <ctype> for aix \" >&5\n+echo \"configure:3852: checking <ctype> for aix \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3843 \"configure\"\n+#line 3854 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3850,7 +3861,7 @@ int\n \t+ _VALC('a') + _IS('c', 0);}\n ; return 0; }\n EOF\n-if { (eval echo configure:3854: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3865: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_aix=yes\n@@ -3870,9 +3881,9 @@ rm -f conftest*\n \n         if test $ctype_default = \"yes\"; then\n     echo $ac_n \"checking <ctype> for newlib \"\"... $ac_c\" 1>&6\n-echo \"configure:3874: checking <ctype> for newlib \" >&5\n+echo \"configure:3885: checking <ctype> for newlib \" >&5\n     cat > conftest.$ac_ext <<EOF\n-#line 3876 \"configure\"\n+#line 3887 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n int main() {\n@@ -3882,7 +3893,7 @@ int\n \t+ _ctype_[a];}\n ; return 0; }\n EOF\n-if { (eval echo configure:3886: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3897: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   \\\n     ctype_newlib=yes\n@@ -3916,17 +3927,17 @@ fi\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:3920: checking for $ac_hdr\" >&5\n+echo \"configure:3931: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3925 \"configure\"\n+#line 3936 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3930: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3941: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3955,12 +3966,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3959: checking for $ac_func\" >&5\n+echo \"configure:3970: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3964 \"configure\"\n+#line 3975 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3983,7 +3994,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3987: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3998: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4008,15 +4019,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:4012: checking for working mmap\" >&5\n+echo \"configure:4023: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4020 \"configure\"\n+#line 4031 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -4156,7 +4167,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:4160: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4171: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -4219,19 +4230,19 @@ fi\n \n if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:4223: checking for LC_MESSAGES\" >&5\n+echo \"configure:4234: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4228 \"configure\"\n+#line 4239 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:4235: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4246: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_val_LC_MESSAGES=yes\n else\n@@ -4470,7 +4481,10 @@ s%@CSTDIO_H@%$CSTDIO_H%g\n s%@CSTDIO_CC@%$CSTDIO_CC%g\n s%@GLIBCPP_NEED_LIBIO_TRUE@%$GLIBCPP_NEED_LIBIO_TRUE%g\n s%@GLIBCPP_NEED_LIBIO_FALSE@%$GLIBCPP_NEED_LIBIO_FALSE%g\n-s%@SHADOW_INCLUDES@%$SHADOW_INCLUDES%g\n+s%@CSHADOWFLAGS@%$CSHADOWFLAGS%g\n+s%@CSHADOW_INCLUDES@%$CSHADOW_INCLUDES%g\n+s%@GLIBCPP_USE_CSHADOW_TRUE@%$GLIBCPP_USE_CSHADOW_TRUE%g\n+s%@GLIBCPP_USE_CSHADOW_FALSE@%$GLIBCPP_USE_CSHADOW_FALSE%g\n s%@THREADLIBS@%$THREADLIBS%g\n s%@THREADINCS@%$THREADINCS%g\n s%@THREADDEPS@%$THREADDEPS%g"}, {"sha": "b5d9b2d3c0735c915f8bada3327f7ceb48e3a0f9", "filename": "libstdc++-v3/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -27,7 +27,7 @@ GLIBCPP_CHECK_CPU\n # Enable all the crazy c++ stuff.\n GLIBCPP_ENABLE_DEBUG\n GLIBCPP_ENABLE_CSTDIO\n-GLIBCPP_ENABLE_LONG_LONG\n+GLIBCPP_ENABLE_LONG_LONG(yes)\n GLIBCPP_ENABLE_SHADOW(no)\n GLIBCPP_ENABLE_THREADS\n #GLIBCPP_ENABLE_RELIBGCC([../..])"}, {"sha": "797f5e243fe720a225a0ef39e868a087741ff9b4", "filename": "libstdc++-v3/libio/Makefile.am", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Flibio%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Flibio%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2FMakefile.am?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -1,4 +1,4 @@\n-## Makefile for the math subdirectory of the GNU C++ Standard library.\n+## Makefile for the libio subdirectory of the GNU C++ Standard library.\n ##\n ## Copyright (C) 1999, 2000 Cygnus Solutions\n ##\n@@ -25,11 +25,7 @@ AUTOMAKE_OPTIONS = 1.3 cygnus\n \n noinst_LTLIBRARIES = libio.la\n \n-if GLIBCPP_NEED_LIBIO_CONFIG_H\n-LIBIO_CONFIG_H = _G_config.h\n-else\n-LIBIO_CONFIG_H = \n-endif\n+LINK = $(LIBTOOL) --mode=link \"$(CCLD)\" $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n \n includes = \n \n@@ -43,17 +39,20 @@ else\n LIBIO_SRCS =\n endif\n \n-\n EXTRA_DIST = iostreamP.h\n \n libio_la_LIBADD = $(LIBIO_SRCS) \n libio_la_DEPENDENCIES = $(libio_la_LIBADD)\n libio_la_SOURCES = $(LIBIO_SRCS)\n \n-# Specifying that *.o depend on this one header\n-$(libio_la_OBJECTS): $(LIBIO_CONFIG_H)\n+if GLIBCPP_NEED_LIBIO_CONFIG_H\n+LIBIO_CONFIG_H = _G_config.h\n+else\n+LIBIO_CONFIG_H = \n+endif\n \n-LINK = $(LIBTOOL) --mode=link \"$(CCLD)\" $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n+# Specify that *.o depend on this one header\n+$(libio_la_OBJECTS): $(LIBIO_CONFIG_H)\n \n # Generate this file.\n _G_config.h: $(srcdir)/gen-params\n@@ -67,3 +66,8 @@ _G_config.h: $(srcdir)/gen-params\n \n \n \n+\n+\n+\n+\n+"}, {"sha": "1f524f97584ef6b8e3081e3a1ef5eefbff623d61", "filename": "libstdc++-v3/libio/Makefile.in", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Flibio%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibio%2FMakefile.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -69,6 +69,8 @@ BUILD_LIBIO_INCLUDE = @BUILD_LIBIO_INCLUDE@\n CC = @CC@\n CPP = @CPP@\n CPUFLAGS = @CPUFLAGS@\n+CSHADOWFLAGS = @CSHADOWFLAGS@\n+CSHADOW_INCLUDES = @CSHADOW_INCLUDES@\n CSTDIO_CC = @CSTDIO_CC@\n CSTDIO_H = @CSTDIO_H@\n CXX = @CXX@\n@@ -90,7 +92,6 @@ MAKEINFO = @MAKEINFO@\n OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n-SHADOW_INCLUDES = @SHADOW_INCLUDES@\n THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n@@ -107,9 +108,8 @@ libinst_wstring_la = @libinst_wstring_la@\n AUTOMAKE_OPTIONS = 1.3 cygnus\n \n noinst_LTLIBRARIES = libio.la\n-@GLIBCPP_NEED_LIBIO_CONFIG_H_TRUE@LIBIO_CONFIG_H = \\\n-@GLIBCPP_NEED_LIBIO_CONFIG_H_TRUE@_G_config.h\n-@GLIBCPP_NEED_LIBIO_CONFIG_H_FALSE@LIBIO_CONFIG_H = \\\n+\n+LINK = $(LIBTOOL) --mode=link \"$(CCLD)\" $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n \n includes = \n \n@@ -126,8 +126,9 @@ EXTRA_DIST = iostreamP.h\n libio_la_LIBADD = $(LIBIO_SRCS) \n libio_la_DEPENDENCIES = $(libio_la_LIBADD)\n libio_la_SOURCES = $(LIBIO_SRCS)\n-\n-LINK = $(LIBTOOL) --mode=link \"$(CCLD)\" $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@\n+@GLIBCPP_NEED_LIBIO_CONFIG_H_TRUE@LIBIO_CONFIG_H = \\\n+@GLIBCPP_NEED_LIBIO_CONFIG_H_TRUE@_G_config.h\n+@GLIBCPP_NEED_LIBIO_CONFIG_H_FALSE@LIBIO_CONFIG_H = \\\n mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs\n CONFIG_HEADER = ../config.h\n CONFIG_CLEAN_FILES = \n@@ -338,7 +339,7 @@ installdirs mostlyclean-generic distclean-generic clean-generic \\\n maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n \n \n-# Specifying that *.o depend on this one header\n+# Specify that *.o depend on this one header\n $(libio_la_OBJECTS): $(LIBIO_CONFIG_H)\n \n # Generate this file."}, {"sha": "a93ca899a35b00b06abb1ac68a0408e40d2ccbf9", "filename": "libstdc++-v3/math/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmath%2FMakefile.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -69,6 +69,8 @@ BUILD_LIBIO_INCLUDE = @BUILD_LIBIO_INCLUDE@\n CC = @CC@\n CPP = @CPP@\n CPUFLAGS = @CPUFLAGS@\n+CSHADOWFLAGS = @CSHADOWFLAGS@\n+CSHADOW_INCLUDES = @CSHADOW_INCLUDES@\n CSTDIO_CC = @CSTDIO_CC@\n CSTDIO_H = @CSTDIO_H@\n CXX = @CXX@\n@@ -90,7 +92,6 @@ MAKEINFO = @MAKEINFO@\n OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n-SHADOW_INCLUDES = @SHADOW_INCLUDES@\n THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@"}, {"sha": "5dacf278a73792c9924f09afcb81411044653906", "filename": "libstdc++-v3/mkcheck.in", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkcheck.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkcheck.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmkcheck.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -61,10 +61,14 @@ fi\n \n #LIB_PATH == where to find the build library binaries.\n if [ $WHICH != \"1\" ]; then\n-  LIB_PATH=\"-L$BUILD_DIR/src/.libs -R$BUILD_DIR/src/.libs\"\n+  LIB_PATH=\"-L$BUILD_DIR/src/.libs\"\n+# BSD seems to want this\n+#  LIB_PATH=\"-L$BUILD_DIR/src/.libs -R$BUILD_DIR/src/.libs\"\n   CXX=\"../../gcc/g++ -B../../gcc/\"\n elif [ $WHICH -eq 1 ]; then\n-  LIB_PATH=\"-L$PREFIX_DIR/lib -R$PREFIX_DIR/lib\"\n+  LIB_PATH=\"-L$PREFIX_DIR/lib\"\n+# BSD seems to want this\n+#  LIB_PATH=\"-L$PREFIX_DIR/lib -R$PREFIX_DIR/lib\"\n   CXX=\"$PREFIX_DIR/bin/g++\"\n fi\n "}, {"sha": "b3cc40eee8b63e46cac777b3f0ff8cd7234f12b0", "filename": "libstdc++-v3/mkcshadow", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkcshadow", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkcshadow", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmkcshadow?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -1,4 +1,4 @@\n-#!/bin/bash\n+#!/usr/bin/env bash\n \n # mkcshadow: reads header names (like \"features.h\" or \"sys/types.h\")\n #   from stdin, and creates shadow headers under cshadow/, except where\n@@ -8,7 +8,7 @@ SCRIPTDIR=${0%/*}\n \n if [ ! -d cshadow ]; then\n   echo \"Creating cshadow.\"\n-  mkdir cshadow\n+  mkdir ../cshadow\n fi\n \n echo \"Creating...\"\n@@ -19,7 +19,7 @@ while read header; do\n     # strip off directory names while making \n     #   any necessary directories\n \n-    dir=cshadow\n+    dir=../cshadow\n     case \"$header\" in */*)\n       right=\"$header\"\n       while [ \"$right\" != \"${right##*/}\" ] ; do\n@@ -30,9 +30,9 @@ while read header; do\n       ;;\n     esac\n \n-    echo \"  cshadow/$header\"\n+    echo \"  ../cshadow/$header\"\n     UPNAME=`echo $header | tr 'a-z./-' 'A-Z___'`\n-    cat >\"cshadow/$header\" <<EOF\n+    cat >\"../cshadow/$header\" <<EOF\n // -*- C++ -*- header wrapper.\n \n // Copyright (C) 1997, 1998, 1999, 2000 Free Software Foundation, Inc.\n@@ -86,3 +86,9 @@ EOF\n #################### end ####################\n   fi\n done\n+\n+\n+\n+\n+\n+"}, {"sha": "a493eb94811fa6c8e546a45b4dbd59a83633de46", "filename": "libstdc++-v3/mkinclosure", "status": "renamed", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkinclosure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fmkinclosure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fmkinclosure?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -1,4 +1,4 @@\n-#!/bin/bash\n+#!/usr/bin/env bash\n #\n # usage: inclosure [ -I dir ] ... [ -G header-name ] ... header-name ...\n #\n@@ -98,3 +98,5 @@ until cmp -s $OLDH $HDRS; do #  (until no new headers found)\n done\n cat $HDRS\n \n+\n+", "previous_filename": "libstdc++-v3/inclosure"}, {"sha": "672965411155bf37dcbaedbad186ce13bbda20bd", "filename": "libstdc++-v3/src/Makefile.am", "status": "modified", "additions": 46, "deletions": 21, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -46,7 +46,8 @@ EXTRA_LTLIBRARIES = libinst-string.la libinst-wstring.la\n # These bits are all figured out from configure. Look in acinclude.m4\n # or configure.in to see how they are set.\n AC_CXXFLAGS = \\\n-\t@WERROR@ @FMTFLAGS@ @CPUFLAGS@ @EXTRA_CXX_FLAGS@ @DEBUGFLAGS@ \n+\t@WERROR@ @FMTFLAGS@ @CSHADOWFLAGS@ @CPUFLAGS@ \\\n+\t@EXTRA_CXX_FLAGS@ @DEBUGFLAGS@ \n \n # Need to manually set this option because AC_CXXFLAGS has to be at\n # the end of the compile line so that -O2 can be over-riden as the\n@@ -58,6 +59,23 @@ AM_CXXFLAGS = \\\n \t$(OPTIMIZE_CXXFLAGS) $(AC_CXXFLAGS) \n \n \n+# Passed down for cross compilers, canadian crosses.\n+TOPLEVEL_INCLUDES = -I$(includedir)\n+\n+LIBIO_INCLUDES = @BUILD_LIBIO_INCLUDE@ -I$(top_srcdir)/libio \n+\n+CSHADOW_INCLUDES = @CSHADOWFLAGS@ @CSHADOW_INCLUDES@\n+\n+CONFIG_INCLUDES = \\\n+\t-I$(top_srcdir)/@cpu_include_dir@ \\\n+\t-I$(top_srcdir)/@ctype_include_dir@\n+\n+INCLUDES = \\\n+\t-nostdinc++ -I$(top_srcdir) \\\n+\t$(LIBIO_INCLUDES) $(CONFIG_INCLUDES) $(CSHADOW_INCLUDES) \\\n+\t$(TOPLEVEL_INCLUDES)\t\n+\n+\n # Need to explicitly set this so that AM_CXXFLAGS is last. (That way,\n # things like -O2 passed down from the toplevel can be overridden by\n # --enable-debug.)\n@@ -74,18 +92,6 @@ LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) $(INCLUDES) \\\n CXXLINK = $(LIBTOOL) --mode=link \"$(CC)\" $(AM_CXXFLAGS) $(LDFLAGS) -o $@\n \n \n-TOPLEVEL_INCLUDES = -I$(includedir)\n-\n-LIBIO_INCLUDES = @BUILD_LIBIO_INCLUDE@ -I$(top_srcdir)/libio \n-\n-CONFIG_INCLUDES = \\\n-\t-I$(top_srcdir)/@cpu_include_dir@ \\\n-\t-I$(top_srcdir)/@ctype_include_dir@\n-\n-INCLUDES = \\\n-\t-nostdinc++ -I$(top_srcdir) \\\n-\t$(LIBIO_INCLUDES) $(CONFIG_INCLUDES) $(TOPLEVEL_INCLUDES)\t\n-\n headers = \\\n \tbits/cpp_type_traits.h \\\n \tbits/std_cctype.h bits/ctype_base.h bits/ctype_specializations.h \\\n@@ -182,6 +188,15 @@ generated_headers = \\\n cpu_headers = \\\n \t $(top_srcdir)/@cpu_include_dir@/bits/atomicity.h \n \n+\n+sources = \\\n+\tlimitsMEMBERS.cc c++io.cc \\\n+\tcmath.cc \\\n+\tcomplex.cc complexf.cc complexl.cc complex_io.cc \\\n+\tstdexcept.cc ios.cc stdstreams.cc strstream.cc \\\n+\tlocale.cc localename.cc  \\\n+\tlocale-inst.cc stl-inst.cc misc-inst.cc valarray-inst.cc \n+\n string_sources = \\\n \tstringMAIN.cc stringCTORNC.cc stringCTORAL.cc \\\n \tstringCTORCPR.cc stringCTORCPRAL.cc stringCTORPRAL.cc \\\n@@ -221,14 +236,6 @@ wstring_sources = \\\n \twstringADDCS.cc wstringEXTRACT.cc wstringINSERT.cc wstringGETLINE.cc \\\n \twstringSCOPY.cc wstringEQ.cc\n \n-sources = \\\n-\tlimitsMEMBERS.cc c++io.cc \\\n-\tcmath.cc \\\n-\tcomplex.cc complexf.cc complexl.cc complex_io.cc \\\n-\tstdexcept.cc ios.cc stdstreams.cc strstream.cc \\\n-\tlocale.cc localename.cc  \\\n-\tlocale-inst.cc stl-inst.cc misc-inst.cc valarray-inst.cc \n-\n VPATH += $(top_srcdir) $(top_srcdir)/std $(top_srcdir)/src\n VPATH += $(top_srcdir)/@ctype_include_dir@\n \n@@ -251,6 +258,24 @@ libstdc___la_LDFLAGS = -version-info 3:0:0 -lm\n libstdc___la_DEPENDENCIES = $(libstdc___la_LIBADD)\n \n \n+# Make sure cshadow headers are built first.\n+if GLIBCPP_USE_CSHADOW\n+CSHADOW_H = $(top_builddir)/stamp-cshadow\n+else\n+CSHADOW_H =\n+endif\n+\n+# Specify that all *.o's depend on this.\n+$(libstdc___la_OBJECTS): $(CSHADOW_H)\n+\n+$(top_builddir)/stamp-cshadow: $(top_srcdir)/mkinclosure \\\n+                               $(top_srcdir)/mkcshadow\n+\t$(top_srcdir)/mkinclosure \\\n+\t\"-I $(top_builddir)/../../gcc/include -I /usr/include -G machine/ansi.h\" | $(top_srcdir)/mkcshadow;\n+\trm -f  $(top_builddir)/stamp-cshadow \n+\techo \"done\" > $(top_builddir)/stamp-cshadow \n+\n+\n # We cannot use the default rules to install headers since we cannot\n # statically decide which headers to install.  So we have our own special\n # installation routine here."}, {"sha": "929a153094d86f2c23f808f662ba32708b020277", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 43, "deletions": 25, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b80666b99730e7b9a53aa25debfacaf017df8d8/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=5b80666b99730e7b9a53aa25debfacaf017df8d8", "patch": "@@ -68,6 +68,7 @@ BUILD_LIBIO_INCLUDE = @BUILD_LIBIO_INCLUDE@\n CC = @CC@\n CPP = @CPP@\n CPUFLAGS = @CPUFLAGS@\n+CSHADOWFLAGS = @CSHADOWFLAGS@\n CSTDIO_CC = @CSTDIO_CC@\n CSTDIO_H = @CSTDIO_H@\n CXX = @CXX@\n@@ -89,7 +90,6 @@ MAKEINFO = @MAKEINFO@\n OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n-SHADOW_INCLUDES = @SHADOW_INCLUDES@\n THREADDEPS = @THREADDEPS@\n THREADINCS = @THREADINCS@\n THREADLIBS = @THREADLIBS@\n@@ -124,7 +124,8 @@ EXTRA_LTLIBRARIES = libinst-string.la libinst-wstring.la\n # These bits are all figured out from configure. Look in acinclude.m4\n # or configure.in to see how they are set.\n AC_CXXFLAGS = \\\n-\t@WERROR@ @FMTFLAGS@ @CPUFLAGS@ @EXTRA_CXX_FLAGS@ @DEBUGFLAGS@ \n+\t@WERROR@ @FMTFLAGS@ @CSHADOWFLAGS@ @CPUFLAGS@ \\\n+\t@EXTRA_CXX_FLAGS@ @DEBUGFLAGS@ \n \n \n # Need to manually set this option because AC_CXXFLAGS has to be at\n@@ -137,6 +138,24 @@ AM_CXXFLAGS = \\\n \t$(OPTIMIZE_CXXFLAGS) $(AC_CXXFLAGS) \n \n \n+# Passed down for cross compilers, canadian crosses.\n+TOPLEVEL_INCLUDES = -I$(includedir)\n+\n+LIBIO_INCLUDES = @BUILD_LIBIO_INCLUDE@ -I$(top_srcdir)/libio \n+\n+CSHADOW_INCLUDES = @CSHADOWFLAGS@ @CSHADOW_INCLUDES@\n+\n+CONFIG_INCLUDES = \\\n+\t-I$(top_srcdir)/@cpu_include_dir@ \\\n+\t-I$(top_srcdir)/@ctype_include_dir@\n+\n+\n+INCLUDES = \\\n+\t-nostdinc++ -I$(top_srcdir) \\\n+\t$(LIBIO_INCLUDES) $(CONFIG_INCLUDES) $(CSHADOW_INCLUDES) \\\n+\t$(TOPLEVEL_INCLUDES)\t\n+\n+\n # Need to explicitly set this so that AM_CXXFLAGS is last. (That way,\n # things like -O2 passed down from the toplevel can be overridden by\n # --enable-debug.)\n@@ -154,20 +173,6 @@ LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) $(INCLUDES) \\\n # course is impossible.\n CXXLINK = $(LIBTOOL) --mode=link \"$(CC)\" $(AM_CXXFLAGS) $(LDFLAGS) -o $@\n \n-TOPLEVEL_INCLUDES = -I$(includedir)\n-\n-LIBIO_INCLUDES = @BUILD_LIBIO_INCLUDE@ -I$(top_srcdir)/libio \n-\n-CONFIG_INCLUDES = \\\n-\t-I$(top_srcdir)/@cpu_include_dir@ \\\n-\t-I$(top_srcdir)/@ctype_include_dir@\n-\n-\n-INCLUDES = \\\n-\t-nostdinc++ -I$(top_srcdir) \\\n-\t$(LIBIO_INCLUDES) $(CONFIG_INCLUDES) $(TOPLEVEL_INCLUDES)\t\n-\n-\n headers = \\\n \tbits/cpp_type_traits.h \\\n \tbits/std_cctype.h bits/ctype_base.h bits/ctype_specializations.h \\\n@@ -265,6 +270,15 @@ cpu_headers = \\\n \t $(top_srcdir)/@cpu_include_dir@/bits/atomicity.h \n \n \n+sources = \\\n+\tlimitsMEMBERS.cc c++io.cc \\\n+\tcmath.cc \\\n+\tcomplex.cc complexf.cc complexl.cc complex_io.cc \\\n+\tstdexcept.cc ios.cc stdstreams.cc strstream.cc \\\n+\tlocale.cc localename.cc  \\\n+\tlocale-inst.cc stl-inst.cc misc-inst.cc valarray-inst.cc \n+\n+\n string_sources = \\\n \tstringMAIN.cc stringCTORNC.cc stringCTORAL.cc \\\n \tstringCTORCPR.cc stringCTORCPRAL.cc stringCTORPRAL.cc \\\n@@ -305,15 +319,6 @@ wstring_sources = \\\n \twstringADDCS.cc wstringEXTRACT.cc wstringINSERT.cc wstringGETLINE.cc \\\n \twstringSCOPY.cc wstringEQ.cc\n \n-\n-sources = \\\n-\tlimitsMEMBERS.cc c++io.cc \\\n-\tcmath.cc \\\n-\tcomplex.cc complexf.cc complexl.cc complex_io.cc \\\n-\tstdexcept.cc ios.cc stdstreams.cc strstream.cc \\\n-\tlocale.cc localename.cc  \\\n-\tlocale-inst.cc stl-inst.cc misc-inst.cc valarray-inst.cc \n-\n VPATH =  $(top_srcdir) $(top_srcdir)/std $(top_srcdir)/src $(top_srcdir)/@ctype_include_dir@\n \n # Actual sources for the distro, but don't build these.\n@@ -333,6 +338,9 @@ libstdc___la_LIBADD = \\\n libstdc___la_LDFLAGS = -version-info 3:0:0 -lm\n \n libstdc___la_DEPENDENCIES = $(libstdc___la_LIBADD)\n+@GLIBCPP_USE_CSHADOW_TRUE@CSHADOW_H = \\\n+@GLIBCPP_USE_CSHADOW_TRUE@$(top_builddir)/stamp-cshadow\n+@GLIBCPP_USE_CSHADOW_FALSE@CSHADOW_H = \\\n \n # We cannot use the default rules to install headers since we cannot\n # statically decide which headers to install.  So we have our own special\n@@ -598,6 +606,16 @@ installdirs mostlyclean-generic distclean-generic clean-generic \\\n maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n \n \n+# Specify that all *.o's depend on this.\n+$(libstdc___la_OBJECTS): $(CSHADOW_H)\n+\n+$(top_builddir)/stamp-cshadow: $(top_srcdir)/mkinclosure \\\n+                               $(top_srcdir)/mkcshadow\n+\t$(top_srcdir)/mkinclosure \\\n+\t\"-I $(top_builddir)/../../gcc/include -I /usr/include -G machine/ansi.h\" | $(top_srcdir)/mkcshadow;\n+\trm -f  $(top_builddir)/stamp-cshadow \n+\techo \"done\" > $(top_builddir)/stamp-cshadow \n+\n install: myinstallheaders\n \n # NB: As libio_headers may be empty, need this to make sure bash doesn't"}]}