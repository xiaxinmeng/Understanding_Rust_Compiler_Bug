{"sha": "611021e16c0a63e45a4f7024320cada712a93834", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjExMDIxZTE2YzBhNjNlNDVhNGY3MDI0MzIwY2FkYTcxMmE5MzgzNA==", "commit": {"author": {"name": "Robert Kennedy", "email": "jimbob@google.com", "date": "2007-01-04T01:20:08Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-01-04T01:20:08Z"}, "message": "tree-cfg.c (tree_merge_blocks): Release SSA_NAME phi results whose definitions are deleted due to basic block...\n\n\t* tree-cfg.c (tree_merge_blocks): Release SSA_NAME phi results\n\twhose definitions are deleted due to basic block merging.\n\nFrom-SVN: r120423", "tree": {"sha": "a137d66b8c77198e687f67e212348bdacf799edf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a137d66b8c77198e687f67e212348bdacf799edf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/611021e16c0a63e45a4f7024320cada712a93834", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/611021e16c0a63e45a4f7024320cada712a93834", "html_url": "https://github.com/Rust-GCC/gccrs/commit/611021e16c0a63e45a4f7024320cada712a93834", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/611021e16c0a63e45a4f7024320cada712a93834/comments", "author": null, "committer": null, "parents": [{"sha": "11de78ffd10f606ee8b88a7234644bb82f63561e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11de78ffd10f606ee8b88a7234644bb82f63561e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11de78ffd10f606ee8b88a7234644bb82f63561e"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "b59cc9a56c2e773846e7df13f78b3b14af21c3f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/611021e16c0a63e45a4f7024320cada712a93834/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/611021e16c0a63e45a4f7024320cada712a93834/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=611021e16c0a63e45a4f7024320cada712a93834", "patch": "@@ -1,3 +1,8 @@\n+2007-01-03  Robert Kennedy <jimbob@google.com>\n+\n+\t* tree-cfg.c (tree_merge_blocks): Release SSA_NAME phi results\n+\twhose definitions are deleted due to basic block merging.\n+\n 2007-01-03  Paul Brook  <paul@codesourcery.com>\n \n \tPR target/16634"}, {"sha": "4358c7e7b3e76b859bea9697f203f7f18c01e1e4", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/611021e16c0a63e45a4f7024320cada712a93834/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/611021e16c0a63e45a4f7024320cada712a93834/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=611021e16c0a63e45a4f7024320cada712a93834", "patch": "@@ -1,5 +1,5 @@\n /* Control flow functions for trees.\n-   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006\n+   Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007\n    Free Software Foundation, Inc.\n    Contributed by Diego Novillo <dnovillo@redhat.com>\n \n@@ -1329,11 +1329,13 @@ tree_merge_blocks (basic_block a, basic_block b)\n \t  copy = build2_gimple (GIMPLE_MODIFY_STMT, def, use);\n \t  bsi_insert_after (&bsi, copy, BSI_NEW_STMT);\n \t  SSA_NAME_DEF_STMT (def) = copy;\n+          remove_phi_node (phi, NULL, false);\n \t}\n       else\n-\treplace_uses_by (def, use);\n-\n-      remove_phi_node (phi, NULL, false);\n+        {\n+          replace_uses_by (def, use);\n+          remove_phi_node (phi, NULL, true);\n+        }\n     }\n \n   /* Ensure that B follows A.  */"}]}