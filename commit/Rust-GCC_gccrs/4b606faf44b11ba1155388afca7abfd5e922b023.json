{"sha": "4b606faf44b11ba1155388afca7abfd5e922b023", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGI2MDZmYWY0NGIxMWJhMTE1NTM4OGFmY2E3YWJmZDVlOTIyYjAyMw==", "commit": {"author": {"name": "Will Cohen", "email": "wcohen@redhat.com", "date": "2000-10-04T18:03:33Z"}, "committer": {"name": "William Cohen", "email": "wcohen@gcc.gnu.org", "date": "2000-10-04T18:03:33Z"}, "message": "Patched code to generate warning when trying to perform static\ninitialization of zero-length arrays.\n\nFrom-SVN: r36714", "tree": {"sha": "50adc28a80efb5aff96a5d508de8bc7cc9824c02", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/50adc28a80efb5aff96a5d508de8bc7cc9824c02"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b606faf44b11ba1155388afca7abfd5e922b023", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b606faf44b11ba1155388afca7abfd5e922b023", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b606faf44b11ba1155388afca7abfd5e922b023", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b606faf44b11ba1155388afca7abfd5e922b023/comments", "author": {"login": "wcohen", "id": 1050609, "node_id": "MDQ6VXNlcjEwNTA2MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1050609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcohen", "html_url": "https://github.com/wcohen", "followers_url": "https://api.github.com/users/wcohen/followers", "following_url": "https://api.github.com/users/wcohen/following{/other_user}", "gists_url": "https://api.github.com/users/wcohen/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcohen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcohen/subscriptions", "organizations_url": "https://api.github.com/users/wcohen/orgs", "repos_url": "https://api.github.com/users/wcohen/repos", "events_url": "https://api.github.com/users/wcohen/events{/privacy}", "received_events_url": "https://api.github.com/users/wcohen/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3a4fee6674b8b7a3ece873a3ac19fa2fea41bf8e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a4fee6674b8b7a3ece873a3ac19fa2fea41bf8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a4fee6674b8b7a3ece873a3ac19fa2fea41bf8e"}], "stats": {"total": 26, "additions": 14, "deletions": 12}, "files": [{"sha": "eede1ca8496e45ddf0f557e224969b6488628c2c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4b606faf44b11ba1155388afca7abfd5e922b023", "patch": "@@ -1,3 +1,11 @@\n+2000-10-04  Will Cohen  <wcohen@redhat.com>\n+\n+\t* c-typeck.c (process_init_element): Added warning for zero-length\n+\tarray.\n+\n+\t* extend.texi (Zero Length): State that static initializers for\n+\tzero-length arrays are not allowed.\n+\n Mon Oct  2 14:50:14 MET DST 2000  Jan Hubicka  <jh@suse.cz>\n \n \t* rtlanal.c (single_set_1): Do not require USE and CLOBBERs\n@@ -1139,17 +1147,6 @@ Mon 18-Sep-2000 19:21:35 BST  Neil Booth  <NeilB@earthling.net>\n \t* config/sh/sh.md (sym_label2reg, symPLT_label2reg): Protect\n \tLABEL_REFs with a PIC-safe unspec.\n \n-2000-09-18  Will Cohen  <wcohen@redhat.com>\n-\n-\t* extend.texi (Zero Length): State that static initializers for\n-\tzero-length arrays are not allowed.\n-\n-\t* c-typeck.c (process_init_element): Flag initializers for zero\n-\tlength arrays.\n-\n-\t* tree.c (integer_all_onesp): Ignore TREE_INT_CST_HIGH if prec is\n-\texactly HOST_BITS_PERWIDE_INT.\n-\n 2000-09-18  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* c-common.c (check_format_info): Properly save the argument"}, {"sha": "9f2ec8d1e78235ffdd682cb3243caad919d45201", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=4b606faf44b11ba1155388afca7abfd5e922b023", "patch": "@@ -6460,7 +6460,8 @@ process_init_element (value)\n \t    }\n \n \t  if (constructor_max_index != 0\n-\t      && tree_int_cst_lt (constructor_max_index, constructor_index))\n+\t      && (tree_int_cst_lt (constructor_max_index, constructor_index)\n+\t\t  || integer_all_onesp (constructor_max_index)))\n \t    {\n \t      pedwarn_init (\"excess elements in array initializer\");\n \t      break;"}, {"sha": "2c6b4d1d6704bde30a71b11a172b4e0d06d38e6e", "filename": "gcc/extend.texi", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b606faf44b11ba1155388afca7abfd5e922b023/gcc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fextend.texi?ref=4b606faf44b11ba1155388afca7abfd5e922b023", "patch": "@@ -889,6 +889,10 @@ struct line @{\n In standard C, you would have to give @code{contents} a length of 1, which\n means either you waste space or complicate the argument to @code{malloc}.\n \n+Static initialization of the zero-length array is not allowed.  A\n+warning will be generated for each initializer attempting to initialize\n+the zero-length array.\n+\n @node Variable Length\n @section Arrays of Variable Length\n @cindex variable-length arrays"}]}