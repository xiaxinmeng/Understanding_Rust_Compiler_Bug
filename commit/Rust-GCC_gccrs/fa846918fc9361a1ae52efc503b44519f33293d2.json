{"sha": "fa846918fc9361a1ae52efc503b44519f33293d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmE4NDY5MThmYzkzNjFhMWFlNTJlZmM1MDNiNDQ1MTlmMzMyOTNkMg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-05-12T01:09:42Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-05-12T01:09:42Z"}, "message": "mksigtab.sh: recurse once when adding signals to SIGLIST\n    \n    On MIPS, SIGABRT is defined like this:\n     #define SIGIOT   6\n     #define SIGABRT  SIGIOT\n    \n    This breaks addsig which tries to append __SIGIOT_ to SIGLIST. Signal\n    number 6 is later added to the output and go complains about a\n    duplicate signal number.\n    \n    Fix by recursing once when obtaining the signal number from\n    gen-sysinfo.go if the signal is defined as an alias of another signal.\n    Also modify the sed expression to 's/.* = //' which is equivalent to\n    the original expression but is less misleading given that it might not\n    match a number.\n    \n    Reviewed-on: https://go-review.googlesource.com/43252\n\nFrom-SVN: r247948", "tree": {"sha": "8c2214235d0949cc54279d882d6f359adf340680", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c2214235d0949cc54279d882d6f359adf340680"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fa846918fc9361a1ae52efc503b44519f33293d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa846918fc9361a1ae52efc503b44519f33293d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa846918fc9361a1ae52efc503b44519f33293d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa846918fc9361a1ae52efc503b44519f33293d2/comments", "author": null, "committer": null, "parents": [{"sha": "b3a7fdc3eadb551659dedf47c2a6faf0d569a278", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3a7fdc3eadb551659dedf47c2a6faf0d569a278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3a7fdc3eadb551659dedf47c2a6faf0d569a278"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "557e270527c317be2011e07338aa538ccf86a297", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa846918fc9361a1ae52efc503b44519f33293d2/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa846918fc9361a1ae52efc503b44519f33293d2/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=fa846918fc9361a1ae52efc503b44519f33293d2", "patch": "@@ -1,4 +1,4 @@\n-fc3d6af694c518d73a126bcbd90d79982524f9f6\n+3c1258156a2ae483c5cc523cb7a3c3374cbe7c2c\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "c3319705b81180405a701aa5b1f50b14603f29c1", "filename": "libgo/mksigtab.sh", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fa846918fc9361a1ae52efc503b44519f33293d2/libgo%2Fmksigtab.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fa846918fc9361a1ae52efc503b44519f33293d2/libgo%2Fmksigtab.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksigtab.sh?ref=fa846918fc9361a1ae52efc503b44519f33293d2", "patch": "@@ -28,7 +28,12 @@ SIGLIST=\"\"\n addsig() {\n     echo \"\t$1: $2,\"\n     # Get the signal number and add it to SIGLIST\n-    signum=`grep \"const $1 = \" gen-sysinfo.go | sed -e 's/.* = \\([0-9]*\\)/\\1/'`\n+    signum=`grep \"const $1 = \" gen-sysinfo.go | sed -e 's/.* = //'`\n+    if echo \"$signum\" | grep -q '^_SIG[A-Z0-9_]*$'; then\n+        # Recurse once to obtain signal number\n+        # This is needed for some MIPS signals defined as aliases of other signals\n+        signum=`grep \"const $signum = \" gen-sysinfo.go | sed -e 's/.* = //'`\n+    fi\n     SIGLIST=$SIGLIST\"_${signum}_\"\n }\n "}]}