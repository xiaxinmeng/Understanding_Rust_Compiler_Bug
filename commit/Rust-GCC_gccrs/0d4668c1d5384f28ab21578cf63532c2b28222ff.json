{"sha": "0d4668c1d5384f28ab21578cf63532c2b28222ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ0NjY4YzFkNTM4NGYyOGFiMjE1NzhjZjYzNTMyYzJiMjgyMjJmZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-26T00:13:34Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-01-26T00:13:34Z"}, "message": "libgo: Add --enable-werror configure option.\n\nFrom-SVN: r195482", "tree": {"sha": "d885e85303c8aa6ef588f55eb39597847cb68227", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d885e85303c8aa6ef588f55eb39597847cb68227"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d4668c1d5384f28ab21578cf63532c2b28222ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d4668c1d5384f28ab21578cf63532c2b28222ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d4668c1d5384f28ab21578cf63532c2b28222ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d4668c1d5384f28ab21578cf63532c2b28222ff/comments", "author": null, "committer": null, "parents": [{"sha": "acc6151f4a91aff299533fb260ef0a67478e09cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acc6151f4a91aff299533fb260ef0a67478e09cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acc6151f4a91aff299533fb260ef0a67478e09cc"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "49cc4a9a292607f8bd4a25f89d79743beeb37feb", "filename": "libgo/configure", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d4668c1d5384f28ab21578cf63532c2b28222ff/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d4668c1d5384f28ab21578cf63532c2b28222ff/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=0d4668c1d5384f28ab21578cf63532c2b28222ff", "patch": "@@ -809,6 +809,7 @@ enable_static\n with_pic\n enable_fast_install\n enable_libtool_lock\n+enable_werror\n enable_version_specific_runtime_libs\n with_libffi\n with_system_libunwind\n@@ -1449,6 +1450,7 @@ Optional Features:\n   --enable-fast-install[=PKGS]\n                           optimize for fast installation [default=yes]\n   --disable-libtool-lock  avoid locking (might break parallel builds)\n+  --enable-werror         turns on -Werror [default=yes]\n   --enable-version-specific-runtime-libs\n                           Specify that runtime libraries should be installed\n                           in a compiler-specific directory\n@@ -11102,7 +11104,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11105 \"configure\"\n+#line 11107 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11208,7 +11210,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11211 \"configure\"\n+#line 11213 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -13386,7 +13388,14 @@ done\n WARN_FLAGS='-Wall -Wextra -Wwrite-strings -Wcast-qual'\n \n \n-WERROR=\"-Werror\"\n+# Check whether --enable-werror was given.\n+if test \"${enable_werror+set}\" = set; then :\n+  enableval=$enable_werror;\n+fi\n+\n+if test \"x$enable_werror\" != \"xno\"; then\n+  WERROR=\"-Werror\"\n+fi\n \n \n glibgo_toolexecdir=no"}, {"sha": "63d8cbc955b4192c3c3f54c16cf4048aeda4cd43", "filename": "libgo/configure.ac", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d4668c1d5384f28ab21578cf63532c2b28222ff/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d4668c1d5384f28ab21578cf63532c2b28222ff/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=0d4668c1d5384f28ab21578cf63532c2b28222ff", "patch": "@@ -50,8 +50,11 @@ AC_PROG_AWK\n WARN_FLAGS='-Wall -Wextra -Wwrite-strings -Wcast-qual'\n AC_SUBST(WARN_FLAGS)\n \n-dnl FIXME: This should be controlled by --enable-maintainer-mode.\n-WERROR=\"-Werror\"\n+AC_ARG_ENABLE(werror, [AS_HELP_STRING([--enable-werror],\n+                                      [turns on -Werror @<:@default=yes@:>@])])\n+if test \"x$enable_werror\" != \"xno\"; then\n+  WERROR=\"-Werror\"\n+fi\n AC_SUBST(WERROR)\n \n glibgo_toolexecdir=no"}]}