{"sha": "474eff885594b2e22a52fc103ef020d1c929df1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc0ZWZmODg1NTk0YjJlMjJhNTJmYzEwM2VmMDIwZDFjOTI5ZGYxZg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1997-11-05T01:15:04Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-11-05T01:15:04Z"}, "message": "Fix c++ problem resulting from ADDRESSOF support.\n\n\t* integrate.c (save_for_inline_copying): Copy parm_reg_stack_loc.\n\nFrom-SVN: r16330", "tree": {"sha": "62924499c9bb4337d205a980eb09a81bb33c3ba6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62924499c9bb4337d205a980eb09a81bb33c3ba6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/474eff885594b2e22a52fc103ef020d1c929df1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/474eff885594b2e22a52fc103ef020d1c929df1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/474eff885594b2e22a52fc103ef020d1c929df1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/474eff885594b2e22a52fc103ef020d1c929df1f/comments", "author": null, "committer": null, "parents": [{"sha": "3feffdfe8e13977741530c96d77ede2ceea83290", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3feffdfe8e13977741530c96d77ede2ceea83290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3feffdfe8e13977741530c96d77ede2ceea83290"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "d95844d19a192ab74d5ef21f685f56e748fb0473", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474eff885594b2e22a52fc103ef020d1c929df1f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474eff885594b2e22a52fc103ef020d1c929df1f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=474eff885594b2e22a52fc103ef020d1c929df1f", "patch": "@@ -1,5 +1,7 @@\n Tue Nov  4 16:55:11 1997  Jim Wilson  <wilson@cygnus.com>\n \n+\t* integrate.c (save_for_inline_copying): Copy parm_reg_stack_loc.\n+\n \t* reload.c (find_reloads, case 'm' and 'o'): Reject HIGH constants.\n \n \t* mips.c (mips_expand_epilogue): Emit blockage insn before call to"}, {"sha": "4c887fbcf762207274b2addb8c1dd4f752ea20bb", "filename": "gcc/integrate.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/474eff885594b2e22a52fc103ef020d1c929df1f/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/474eff885594b2e22a52fc103ef020d1c929df1f/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=474eff885594b2e22a52fc103ef020d1c929df1f", "patch": "@@ -415,6 +415,7 @@ save_for_inline_copying (fndecl)\n   int max_uid;\n   rtx first_nonparm_insn;\n   char *new, *new1;\n+  rtx *new2;\n \n   /* Make and emit a return-label if we have not already done so. \n      Do this before recording the bounds on label numbers.  */\n@@ -539,6 +540,16 @@ save_for_inline_copying (fndecl)\n       XEXP (regno_reg_rtx[i], 0)\n \t= copy_for_inline (XEXP (regno_reg_rtx[i], 0));\n \n+  /* Copy the parm_reg_stack_loc array, and substitute for all of the rtx\n+     contained in it.  */\n+  new2 = savealloc (max_parm_reg * sizeof (rtx));\n+  bcopy ((char *) parm_reg_stack_loc, (char *) new2,\n+\t max_parm_reg * sizeof (rtx));\n+  parm_reg_stack_loc = new2;\n+  for (i = LAST_VIRTUAL_REGISTER + 1; i < max_parm_reg; ++i)\n+    if (parm_reg_stack_loc[i])\n+      parm_reg_stack_loc[i] = copy_for_inline (parm_reg_stack_loc[i]);\n+\n   /* Copy the tree of subblocks of the function, and the decls in them.\n      We will use the copy for compiling this function, then restore the original\n      subblocks and decls for use when inlining this function."}]}