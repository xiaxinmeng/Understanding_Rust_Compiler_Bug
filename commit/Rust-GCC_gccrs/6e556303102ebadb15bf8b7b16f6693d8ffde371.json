{"sha": "6e556303102ebadb15bf8b7b16f6693d8ffde371", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU1NTYzMDMxMDJlYmFkYjE1YmY4YjdiMTZmNjY5M2Q4ZmZkZTM3MQ==", "commit": {"author": {"name": "Fran\u00e7ois Dumont", "email": "fdumont@gcc.gnu.org", "date": "2019-10-06T15:10:40Z"}, "committer": {"name": "Fran\u00e7ois Dumont", "email": "fdumont@gcc.gnu.org", "date": "2019-10-06T15:10:40Z"}, "message": "Add C++11 __iterator_category_t template alias.\n\n\t* include/bits/stl_iterator_base_types.h (__iterator_category_t): Define\n\tfor C++11.\n\t(_RequireInputIte): Likewise and use __enable_if_t.\n\t* include/std/numeric\n\t(__is_random_access_iter): Use __iterator_category_t.\n\nFrom-SVN: r276637", "tree": {"sha": "2411ba180e2539b93d66c25b78b157f6a882921c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2411ba180e2539b93d66c25b78b157f6a882921c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e556303102ebadb15bf8b7b16f6693d8ffde371", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e556303102ebadb15bf8b7b16f6693d8ffde371", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e556303102ebadb15bf8b7b16f6693d8ffde371", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e556303102ebadb15bf8b7b16f6693d8ffde371/comments", "author": null, "committer": null, "parents": [{"sha": "2c6374228bc0aef10b89e5dd9131dbf99477f753", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c6374228bc0aef10b89e5dd9131dbf99477f753", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c6374228bc0aef10b89e5dd9131dbf99477f753"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "40d9081a3c80810ffae72db2514ac8f4dfaaac31", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=6e556303102ebadb15bf8b7b16f6693d8ffde371", "patch": "@@ -1,5 +1,11 @@\n 2019-10-06  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n \n+\t* include/bits/stl_iterator_base_types.h (__iterator_category_t): Define\n+\tfor C++11.\n+\t(_RequireInputIte): Likewise and use __enable_if_t.\n+\t* include/std/numeric\n+\t(__is_random_access_iter): Use __iterator_category_t.\n+\n \t* include/bits/stl_algo.h (copy_n): Add __glibcxx_requires_can_increment\n \tdebug checks.\n \t* testsuite/25_algorithms/copy_n/debug/1_neg.cc: New."}, {"sha": "951e704e468bba5214ff61e28109275b5e85dd0a", "filename": "libstdc++-v3/include/bits/stl_iterator_base_types.h", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_types.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_types.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_types.h?ref=6e556303102ebadb15bf8b7b16f6693d8ffde371", "patch": "@@ -208,11 +208,14 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n   //@}\n \n #if __cplusplus >= 201103L\n+  template<typename _Iter>\n+    using __iterator_category_t\n+      = typename iterator_traits<_Iter>::iterator_category;\n+\n   template<typename _InIter>\n-    using _RequireInputIter = typename\n-      enable_if<is_convertible<typename\n-\t\titerator_traits<_InIter>::iterator_category,\n-\t\t\t       input_iterator_tag>::value>::type;\n+    using _RequireInputIter =\n+      __enable_if_t<is_convertible<__iterator_category_t<_InIter>,\n+\t\t\t\t   input_iterator_tag>::value>;\n #endif\n \n _GLIBCXX_END_NAMESPACE_VERSION"}, {"sha": "a164a9e6430faf571f1af51cc1e21db5e1b93a20", "filename": "libstdc++-v3/include/std/numeric", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e556303102ebadb15bf8b7b16f6693d8ffde371/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fnumeric?ref=6e556303102ebadb15bf8b7b16f6693d8ffde371", "patch": "@@ -230,8 +230,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n   /// @{\n \n   /// @cond undocumented\n-  template<typename _It, typename _Traits = iterator_traits<_It>,\n-\t   typename _Cat = typename _Traits::iterator_category>\n+  template<typename _It, typename _Cat = __iterator_category_t<_It>>\n     using __is_random_access_iter\n       = is_base_of<random_access_iterator_tag, _Cat>;\n   /// @endcond"}]}