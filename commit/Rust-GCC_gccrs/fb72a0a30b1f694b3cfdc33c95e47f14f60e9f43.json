{"sha": "fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmI3MmEwYTMwYjFmNjk0YjNjZmRjMzNjOTVlNDdmMTRmNjBlOWY0Mw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2005-04-06T22:42:28Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2005-04-06T22:42:28Z"}, "message": "re PR other/20792 (target.opt messages missing from gcc.pot)\n\ngcc/\n\tPR other/20792\n\t* Makefile.in (gcc.pot): Remove options.c dependency.\n\t* optc-gen.awk: Don't quote help strings with N_().\n\ngcc/po/\n\tPR other/20792\n\t* exgettext: Don't scan options.c.  Scan .opt files for help strings.\n\t* gcc.pot: Regenerate.\n\nFrom-SVN: r97759", "tree": {"sha": "a4029a76419863ddf4fb54daa0a4f19418273c12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4029a76419863ddf4fb54daa0a4f19418273c12"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/comments", "author": null, "committer": null, "parents": [{"sha": "58bf803e6c5f7e16989cf8b50b07e9c27264e92a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58bf803e6c5f7e16989cf8b50b07e9c27264e92a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58bf803e6c5f7e16989cf8b50b07e9c27264e92a"}], "stats": {"total": 17952, "additions": 8995, "deletions": 8957}, "files": [{"sha": "dd10e852b24ec2a2d8036de1f9bcc6cd65beea58", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "patch": "@@ -1,3 +1,9 @@\n+2004-04-06  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR other/20792\n+\t* Makefile.in (gcc.pot): Remove options.c dependency.\n+\t* optc-gen.awk: Don't quote help strings with N_().\n+\n 2005-04-06  James A. Morrison  <phython@gcc.gnu.org>\n \n \t* c-common.c (handle_malloc_atttribute): Only set DECL_IS_MALLOC if"}, {"sha": "2576739aa1776d12d7f63696993369464201df4d", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "patch": "@@ -4285,7 +4285,7 @@ install-po:\n # fairly modern (POSIX-compliant) awk.\n # The .pot file is left in the build directory.\n gcc.pot: po/gcc.pot\n-po/gcc.pot: force options.c\n+po/gcc.pot: force\n \t-test -d po || mkdir po\n \t$(MAKE) srcextra\n \tAWK=$(AWK) $(SHELL) $(srcdir)/po/exgettext \\"}, {"sha": "85038bc5eacb18fe972ef37385e85c7320fb474b", "filename": "gcc/optc-gen.awk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Foptc-gen.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Foptc-gen.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptc-gen.awk?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "patch": "@@ -126,7 +126,7 @@ for (i = 0; i < n_opts; i++)\n \t\tif (help[i] == \"\")\n \t\t\thlp = \"0\"\n \t\telse\n-\t\t\thlp = \"N_(\" quote help[i] quote \")\";\n+\t\t\thlp = quote help[i] quote;\n \n \t\tprintf(\"  { %c-%s%c,\\n    %s,\\n    %s, %u, %s, %s, %s }%s\\n\",\n \t\t\tquote, opts[i], quote, hlp, back_chain[i], len,"}, {"sha": "b39ff25ef785c7d35e70673cdae42156f24e66ad", "filename": "gcc/po/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2FChangeLog?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "patch": "@@ -1,3 +1,9 @@\n+2004-04-06  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR other/20792\n+\t* exgettext: Don't scan options.c.  Scan .opt files for help strings.\n+\t* gcc.pot: Regenerate.\n+\n 2005-04-06  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* rw.po: New file."}, {"sha": "3408cb79066cf71505b36a268c7dc450e7ea9e55", "filename": "gcc/po/exgettext", "status": "modified", "additions": 23, "deletions": 4, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2Fexgettext", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2Fexgettext", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2Fexgettext?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43", "patch": "@@ -58,9 +58,6 @@ kopt=$pwd/$T/keyword-options\n emsg=$pwd/$T/emsgids.c\n posr=$pwd/$T/po-sources\n \n-# Extra files to scan\n-extra_files=$pwd/options.c\n-\n # Locate files to scan, and generate the list.  All .c, .h, and .def files\n # in $srcdir are examined, likewise $srcdir/config and $srcdir/config/*\n # (directories).  Also, all subdirectories of $srcdir that contain a\n@@ -83,7 +80,6 @@ echo \"scanning for keywords and %e strings...\" >&2\n         do  eval echo $dir$glob\n         done\n     done;\n-    echo $extra_files;\n   } | tr ' ' \"$nl\" | grep -v '\\*' |\n   $AWK -v excl=po/EXCLUDES -v posr=$posr -v kopt=$kopt -v emsg=$emsg '\n function keyword_option(line) {\n@@ -161,6 +157,29 @@ END {\n }'\n )\n \n+echo \"scanning option files...\" >&2\n+\n+( cd $srcdir; find . -name '*.opt' -print |\n+  $AWK '{\n+    file = $1\n+    lineno = 1\n+    field = 0\n+    while (getline < file) {\n+\tif (/^[ \\t]*(;|$)/ || !/^[^ \\t]/) {\n+\t    field = 0\n+\t} else {\n+\t    if (field == 2) {\n+\t\tline = $0\n+\t\tgsub(\".*\\t\", \"\", line)\n+\t\tprintf(\"#line %d \\\"%s\\\"\\n\", lineno, file)\n+\t\tprintf(\"_(\\\"%s\\\")\\n\", line)\n+\t    }\n+\t    field++;\n+\t}\n+\tlineno++;\n+    }\n+  }') >> $emsg\n+\n # Run the xgettext command, with temporary added as a file to scan.\n echo \"running xgettext...\" >&2\n $xgettext --default-domain=$package --directory=$srcdir \\"}, {"sha": "397e6640ebdd41ac62abcc930265a4f46151a6a7", "filename": "gcc/po/gcc.pot", "status": "modified", "additions": 8958, "deletions": 8951, "changes": 17909, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2Fgcc.pot", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43/gcc%2Fpo%2Fgcc.pot", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpo%2Fgcc.pot?ref=fb72a0a30b1f694b3cfdc33c95e47f14f60e9f43"}]}