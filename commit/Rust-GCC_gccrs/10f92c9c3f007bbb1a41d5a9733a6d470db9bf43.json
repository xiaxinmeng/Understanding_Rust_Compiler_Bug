{"sha": "10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBmOTJjOWMzZjAwN2JiYjFhNDFkNWE5NzMzYTZkNDcwZGI5YmY0Mw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-02-02T15:40:14Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-02-02T15:40:14Z"}, "message": "re PR go/56171 (syscall FAILs on Solaris)\n\n\tPR go/56171\nsyscall: Only run creds_test on GNU/Linux.\n\nFrom-SVN: r195686", "tree": {"sha": "0dc61810c5e7770c6081ce424c1d4adcad0421df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dc61810c5e7770c6081ce424c1d4adcad0421df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/comments", "author": null, "committer": null, "parents": [{"sha": "7ebe663e98c59128f4d94944bf91b55f514fbc4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ebe663e98c59128f4d94944bf91b55f514fbc4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ebe663e98c59128f4d94944bf91b55f514fbc4b"}], "stats": {"total": 36, "additions": 32, "deletions": 4}, "files": [{"sha": "f68443cb5a2d9b0c266302968979eb0a4595b1ab", "filename": "libgo/Makefile.am", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "patch": "@@ -1696,6 +1696,13 @@ else\n syscall_utimesnano_file = go/syscall/libcall_posix_utimesnano.go\n endif\n \n+# Test files.\n+if LIBGO_IS_LINUX\n+syscall_creds_test_file = go/syscall/creds_test.go\n+else\n+syscall_creds_test_file =\n+endif\n+\n go_base_syscall_files = \\\n \tgo/syscall/env_unix.go \\\n \tgo/syscall/syscall_errno.go \\\n@@ -1734,6 +1741,10 @@ go_syscall_c_files = \\\n \tgo/syscall/signame.c \\\n \t$(syscall_wait_c_file)\n \n+go_syscall_test_files = \\\n+\t$(syscall_creds_test_file) \\\n+\tgo/syscall/passfd_test.go\n+\n libcalls.go: s-libcalls; @true\n s-libcalls: Makefile go/syscall/mksyscall.awk $(go_base_syscall_files)\n \trm -f libcalls.go.tmp\n@@ -2005,9 +2016,9 @@ CHECK = \\\n \t$(MKDIR_P) $(@D); \\\n \trm -f $@-testsum $@-testlog; \\\n \tif test \"$(use_dejagnu)\" = \"yes\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telse \\\n-\t  if $(SHELL) $(srcdir)/testsuite/gotest --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) >>$@-testlog 2>&1; then \\\n+\t  if $(SHELL) $(srcdir)/testsuite/gotest --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n \t    echo \"PASS: $(@D)\" >> $@-testlog; \\\n \t    echo \"PASS: $(@D)\"; \\\n \t    echo \"PASS: $(@D)\" > $@-testsum; \\"}, {"sha": "0f92aca73090588f688d9666e048040e84eb8757", "filename": "libgo/Makefile.in", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "patch": "@@ -1870,6 +1870,10 @@ go_unicode_utf8_files = \\\n \n # GNU/Linux specific utimesnano support.\n @LIBGO_IS_LINUX_TRUE@syscall_utimesnano_file = go/syscall/libcall_linux_utimesnano.go\n+@LIBGO_IS_LINUX_FALSE@syscall_creds_test_file = \n+\n+# Test files.\n+@LIBGO_IS_LINUX_TRUE@syscall_creds_test_file = go/syscall/creds_test.go\n go_base_syscall_files = \\\n \tgo/syscall/env_unix.go \\\n \tgo/syscall/syscall_errno.go \\\n@@ -1909,6 +1913,10 @@ go_syscall_c_files = \\\n \tgo/syscall/signame.c \\\n \t$(syscall_wait_c_file)\n \n+go_syscall_test_files = \\\n+\t$(syscall_creds_test_file) \\\n+\tgo/syscall/passfd_test.go\n+\n @LIBGO_IS_LINUX_FALSE@os_lib_inotify_lo = \n \n # os_lib_inotify_lo = os/inotify.lo\n@@ -2120,9 +2128,9 @@ CHECK = \\\n \t$(MKDIR_P) $(@D); \\\n \trm -f $@-testsum $@-testlog; \\\n \tif test \"$(use_dejagnu)\" = \"yes\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telse \\\n-\t  if $(SHELL) $(srcdir)/testsuite/gotest --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) >>$@-testlog 2>&1; then \\\n+\t  if $(SHELL) $(srcdir)/testsuite/gotest --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n \t    echo \"PASS: $(@D)\" >> $@-testlog; \\\n \t    echo \"PASS: $(@D)\"; \\\n \t    echo \"PASS: $(@D)\" > $@-testsum; \\"}, {"sha": "4015ed1e81e4173286ceff4b6a6c99fa298ebf54", "filename": "libgo/testsuite/gotest", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2Ftestsuite%2Fgotest", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10f92c9c3f007bbb1a41d5a9733a6d470db9bf43/libgo%2Ftestsuite%2Fgotest", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Ftestsuite%2Fgotest?ref=10f92c9c3f007bbb1a41d5a9733a6d470db9bf43", "patch": "@@ -259,12 +259,20 @@ mkdir _test\n case \"x$gofiles\" in\n x)\n \tgofiles=`ls *_test.go 2>/dev/null`\n+\t;;\n+*)\n+\txgofiles=$gofiles\n+\tgofiles=\n+\tfor f in $xgofiles; do\n+\t    gofiles=\"$gofiles `basename $f`\"\n+\tdone\n esac\n \n case \"x$gofiles\" in\n x)\n \techo 'no test files found' 1>&2\n \texit 1\n+\t;;\n esac\n \n # Run any commands given in sources, like\n@@ -295,6 +303,7 @@ esac\n \n # Split $gofiles into external gofiles (those in *_test packages)\n # and internal ones (those in the main package).\n+xgofiles=\n for f in $gofiles; do\n     package=`grep '^package[ \t]' $f | sed 1q`\n     case \"$package\" in"}]}