{"sha": "c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzVjMWFlYjJmMjU2NmQwYTUzZGNhN2NkMDRjOTdkZDdiYjhjNWEyMg==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-12-09T15:29:32Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-12-09T15:29:32Z"}, "message": "trans-array.c (gfc_deallocate_scalar_with_status): Use NULL_TREE in the call to gfc_deallocate_scalar_with_status.\n\n2012-12-09  Tobias Burnus  <burnus@net-b.de>\n\n        * trans-array.c (gfc_deallocate_scalar_with_status): Use\n        NULL_TREE in the call to gfc_deallocate_scalar_with_status.\n        * trans-decl.c (gfc_trans_deferred_vars): Pass symbol.\n        * trans-stmt.c (gfc_trans_deallocate): Pass polymorphic\n        * variable.\n\nFrom-SVN: r194332", "tree": {"sha": "196252a6163454f49b6577ceb876e04ba0f32d45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/196252a6163454f49b6577ceb876e04ba0f32d45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/comments", "author": null, "committer": null, "parents": [{"sha": "2608ca66e1059ea74c34e54a7cfc78264638f068", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2608ca66e1059ea74c34e54a7cfc78264638f068", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2608ca66e1059ea74c34e54a7cfc78264638f068"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "aa9eb9f6de78a97a37945e48837032f546ae095c", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "patch": "@@ -1,7 +1,16 @@\n+2012-12-09  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* trans-array.c (gfc_deallocate_scalar_with_status): Use\n+\tNULL_TREE in the call to gfc_deallocate_scalar_with_status.\n+\t* trans-decl.c (gfc_trans_deferred_vars): Pass symbol.\n+\t* trans-stmt.c (gfc_trans_deallocate): Pass polymorphic variable.\n+\n 2012-12-09  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/55593\n-\t* gfortran.dg/do_check_8.f90:  New test.\n+\t* frontend-passes.c (doloop_code):  Use resolved_sym\n+\tinstead of n.sym->formal for formal argument list\n+\tto get the correct version for all generic subroutines. \n \n 2012-12-05  Tobias Burnus  <burnus@net-b.de>\n "}, {"sha": "068989203690a1f73dc4a6fd91843661cd085f41", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "patch": "@@ -7589,7 +7589,7 @@ structure_alloc_comps (gfc_symbol * der_type, tree decl,\n \t\t\t\t\tCLASS_DATA (c)->attr.codimension);\n \t      else\n \t\t{\n-\t\t  tmp = gfc_deallocate_scalar_with_status (comp, NULL, true, NULL,\n+\t\t  tmp = gfc_deallocate_scalar_with_status (comp, NULL_TREE, true, NULL,\n \t\t\t\t\t\t\t   CLASS_DATA (c)->ts);\n \t\t  gfc_add_expr_to_block (&tmpblock, tmp);\n \t\t  called_dealloc_with_status = true;"}, {"sha": "b23605058d0f5fb5a9966007bc93b75c46c66a64", "filename": "gcc/fortran/trans-decl.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-decl.c?ref=c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "patch": "@@ -3780,9 +3780,10 @@ gfc_trans_deferred_vars (gfc_symbol * proc_sym, gfc_wrapped_block * block)\n \t\t\t\t\t\t      NULL_TREE, true, NULL,\n \t\t\t\t\t\t      true);\n \t\t  else\n-\t\t    tmp = gfc_deallocate_scalar_with_status (se.expr, NULL,\n-\t\t\t\t\t\t\t     true, NULL,\n-\t\t\t\t\t\t\t     sym->ts);\n+\t\t    tmp = gfc_deallocate_scalar_with_status (se.expr, NULL_TREE,\n+\t\t\t\t\t\t   true,\n+\t\t\t\t\t\t   gfc_lval_expr_from_sym (sym),\n+\t\t\t\t\t\t   sym->ts);\n \t\t}\n \t      if (sym->ts.type == BT_CLASS)\n \t\t{"}, {"sha": "6fe8b778e65d0290c0cbddcdf1b77e31678bc75d", "filename": "gcc/fortran/trans-stmt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-stmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22/gcc%2Ffortran%2Ftrans-stmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-stmt.c?ref=c5c1aeb2f2566d0a53dca7cd04c97dd7bb8c5a22", "patch": "@@ -5380,7 +5380,7 @@ gfc_trans_deallocate (gfc_code *code)\n       else\n \t{\n \t  tmp = gfc_deallocate_scalar_with_status (se.expr, pstat, false,\n-\t\t\t\t\t\t   expr, expr->ts);\n+\t\t\t\t\t\t   al->expr, al->expr->ts);\n \t  gfc_add_expr_to_block (&se.pre, tmp);\n \n \t  /* Set to zero after deallocation.  */"}]}