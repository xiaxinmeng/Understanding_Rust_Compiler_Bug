{"sha": "3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VlZTEwMmVkYTljZjg4Y2E3YThlMWMwMDdjNDg4OTJhZWRiNGQ5Yg==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-11-22T13:41:33Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-11-22T13:41:33Z"}, "message": "Makefile.in: Rebuilt.\n\n2003-11-22  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* Makefile.in: Rebuilt.\n\t* configure: Likewise.\n\t* testsuite/libffi.special/unwindtest.cc: Convert the mmap to\n\tthe right type.\n\nFrom-SVN: r73837", "tree": {"sha": "d4dc46fcce2719adce2b7ac597593115f94c4ed9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4dc46fcce2719adce2b7ac597593115f94c4ed9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/comments", "author": null, "committer": null, "parents": [{"sha": "a3b1b8044761afa5bccef6302a1959f442e8ec6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3b1b8044761afa5bccef6302a1959f442e8ec6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3b1b8044761afa5bccef6302a1959f442e8ec6c"}], "stats": {"total": 361, "additions": 248, "deletions": 113}, "files": [{"sha": "17ed220f8dc93512d0bb529950f16d1c8514adfe", "filename": "libffi/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "patch": "@@ -1,3 +1,10 @@\n+2003-11-22  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* Makefile.in: Rebuilt.\n+\t* configure: Likewise.\n+\t* testsuite/libffi.special/unwindtest.cc: Convert the mmap to\n+\tthe right type.\n+\n 2003-11-21  Andreas Jaeger  <aj@suse.de>\n \t    Andreas Tobler  <a.tobler@schweiz.ch>\n "}, {"sha": "adb3772488d097fa8ba75fef9f172fdc18b5ef04", "filename": "libffi/Makefile.in", "status": "modified", "additions": 59, "deletions": 59, "changes": 118, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.in?ref=3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "patch": "@@ -246,112 +246,112 @@ libffi_convenience_la_LIBADD =\n @X86_64_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @X86_64_TRUE@src/java_raw_api.lo src/x86/ffi64.lo src/x86/unix64.lo \\\n @X86_64_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n-@POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n-@POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo \\\n-@POWERPC_TRUE@src/powerpc/linux64.lo src/powerpc/linux64_closure.lo\n-@SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n-@SH_TRUE@src/sh/ffi.lo\n+@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n @POWERPC_DARWIN_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_DARWIN_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_DARWIN_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@M68K_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-@SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n-@SPARC_TRUE@src/sparc/v9.lo\n-@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n-@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n @ALPHA_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @ALPHA_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @ALPHA_TRUE@src/java_raw_api.lo src/alpha/ffi.lo src/alpha/osf.lo\n-@S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n+@ARM_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@ARM_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@ARM_TRUE@src/arm/sysv.lo src/arm/ffi.lo\n @POWERPC_AIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @POWERPC_AIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @POWERPC_AIX_TRUE@src/java_raw_api.lo src/powerpc/ffi_darwin.lo \\\n @POWERPC_AIX_TRUE@src/powerpc/aix.lo src/powerpc/aix_closure.lo\n-@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@POWERPC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@POWERPC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@POWERPC_TRUE@src/java_raw_api.lo src/powerpc/ffi.lo \\\n+@POWERPC_TRUE@src/powerpc/sysv.lo src/powerpc/ppc_closure.lo \\\n+@POWERPC_TRUE@src/powerpc/linux64.lo src/powerpc/linux64_closure.lo\n+@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n+@SH_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@SH_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n+@SH_TRUE@src/sh/ffi.lo\n+@X86_WIN32_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@X86_WIN32_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@X86_WIN32_TRUE@src/java_raw_api.lo src/x86/ffi.lo src/x86/win32.lo\n+@SPARC_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n+@SPARC_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n+@SPARC_TRUE@src/java_raw_api.lo src/sparc/ffi.lo src/sparc/v8.lo \\\n+@SPARC_TRUE@src/sparc/v9.lo\n @SH64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n+@S390_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n @MIPS_IRIX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n @MIPS_IRIX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n @MIPS_IRIX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo \\\n @MIPS_IRIX_TRUE@src/mips/n32.lo\n-@MIPS_LINUX_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo \\\n-@MIPS_LINUX_TRUE@src/prep_cif.lo src/types.lo src/raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/java_raw_api.lo src/mips/ffi.lo src/mips/o32.lo\n @X86_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @X86_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @X86_TRUE@src/x86/ffi.lo src/x86/sysv.lo\n+@IA64_TRUE@libffi_convenience_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n libffi_la_LIBADD = \n @X86_64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @X86_64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @X86_64_TRUE@src/x86/ffi64.lo src/x86/unix64.lo src/x86/ffi.lo \\\n @X86_64_TRUE@src/x86/sysv.lo\n-@POWERPC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@POWERPC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@POWERPC_TRUE@src/powerpc/ffi.lo src/powerpc/sysv.lo \\\n-@POWERPC_TRUE@src/powerpc/ppc_closure.lo src/powerpc/linux64.lo \\\n-@POWERPC_TRUE@src/powerpc/linux64_closure.lo\n-@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n-@SH_TRUE@src/sh/ffi.lo\n+@M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n @POWERPC_DARWIN_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_DARWIN_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/darwin.lo \\\n @POWERPC_DARWIN_TRUE@src/powerpc/darwin_closure.lo\n-@M68K_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@M68K_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@M68K_TRUE@src/m68k/ffi.lo src/m68k/sysv.lo\n-@SPARC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@SPARC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@SPARC_TRUE@src/sparc/ffi.lo src/sparc/v8.lo src/sparc/v9.lo\n-@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n-@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n-@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n-@ARM_TRUE@src/arm/ffi.lo\n @ALPHA_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @ALPHA_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @ALPHA_TRUE@src/alpha/ffi.lo src/alpha/osf.lo\n-@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n+@ARM_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@ARM_TRUE@src/raw_api.lo src/java_raw_api.lo src/arm/sysv.lo \\\n+@ARM_TRUE@src/arm/ffi.lo\n @POWERPC_AIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @POWERPC_AIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @POWERPC_AIX_TRUE@src/powerpc/ffi_darwin.lo src/powerpc/aix.lo \\\n @POWERPC_AIX_TRUE@src/powerpc/aix_closure.lo\n-@IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n+@POWERPC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@POWERPC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@POWERPC_TRUE@src/powerpc/ffi.lo src/powerpc/sysv.lo \\\n+@POWERPC_TRUE@src/powerpc/ppc_closure.lo src/powerpc/linux64.lo \\\n+@POWERPC_TRUE@src/powerpc/linux64_closure.lo\n+@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n+@SH_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n+@SH_TRUE@src/raw_api.lo src/java_raw_api.lo src/sh/sysv.lo \\\n+@SH_TRUE@src/sh/ffi.lo\n+@X86_WIN32_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@X86_WIN32_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@X86_WIN32_TRUE@src/x86/ffi.lo src/x86/win32.lo\n+@SPARC_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@SPARC_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@SPARC_TRUE@src/sparc/ffi.lo src/sparc/v8.lo src/sparc/v9.lo\n @SH64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @SH64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @SH64_TRUE@src/sh64/sysv.lo src/sh64/ffi.lo\n+@S390_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@S390_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@S390_TRUE@src/s390/sysv.lo src/s390/ffi.lo\n @MIPS_IRIX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n @MIPS_IRIX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n @MIPS_IRIX_TRUE@src/mips/ffi.lo src/mips/o32.lo src/mips/n32.lo\n-@MIPS_LINUX_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n-@MIPS_LINUX_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n-@MIPS_LINUX_TRUE@src/mips/ffi.lo src/mips/o32.lo\n @X86_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo src/types.lo \\\n @X86_TRUE@src/raw_api.lo src/java_raw_api.lo src/x86/ffi.lo \\\n @X86_TRUE@src/x86/sysv.lo\n+@IA64_TRUE@libffi_la_OBJECTS =  src/debug.lo src/prep_cif.lo \\\n+@IA64_TRUE@src/types.lo src/raw_api.lo src/java_raw_api.lo \\\n+@IA64_TRUE@src/ia64/ffi.lo src/ia64/unix.lo\n CFLAGS = @CFLAGS@\n COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)"}, {"sha": "bd94f7dd5354cf009cf603b9eed355305f9bafa7", "filename": "libffi/configure", "status": "modified", "additions": 181, "deletions": 53, "changes": 234, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fconfigure?ref=3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "patch": "@@ -2497,7 +2497,135 @@ fi\n \t \n \t \n \n-AC_FUNC_MMAP_BLACKLIST\n+if test $ac_cv_header_sys_mman_h != yes \\\n+ || test $ac_cv_func_mmap != yes; then\n+   ac_cv_func_mmap_file=no\n+   ac_cv_func_mmap_dev_zero=no\n+   ac_cv_func_mmap_anon=no\n+else\n+   echo $ac_n \"checking whether read-only mmap of a plain file works\"\"... $ac_c\" 1>&6\n+echo \"configure:2508: checking whether read-only mmap of a plain file works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if\n+   # mmap(0, stat_size, PROT_READ, MAP_PRIVATE, fd, 0) doesn't return a\n+   # memory area containing the same data that you'd get if you applied\n+   # read() to the same fd.  The only system known to have a problem here\n+   # is VMS, where text files have record structure.\n+   case \"$host_os\" in\n+     vms* | ultrix*)\n+\tac_cv_func_mmap_file=no ;;\n+     *)\n+\tac_cv_func_mmap_file=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_func_mmap_file\" 1>&6\n+   echo $ac_n \"checking whether mmap from /dev/zero works\"\"... $ac_c\" 1>&6\n+echo \"configure:2527: checking whether mmap from /dev/zero works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if it has mmap() but /dev/zero\n+   # does not exist, or if mmapping /dev/zero does not give anonymous\n+   # zeroed pages with both the following properties:\n+   # 1. If you map N consecutive pages in with one call, and then\n+   #    unmap any subset of those pages, the pages that were not\n+   #    explicitly unmapped remain accessible.\n+   # 2. If you map two adjacent blocks of memory and then unmap them\n+   #    both at once, they must both go away.\n+   # Systems known to be in this category are Windows (all variants),\n+   # VMS, and Darwin.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | darwin* | ultrix* | hpux10* | hpux11.00)\n+\tac_cv_func_mmap_dev_zero=no ;;\n+     *)\n+\tac_cv_func_mmap_dev_zero=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_func_mmap_dev_zero\" 1>&6\n+\n+   # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.\n+   echo $ac_n \"checking for MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n+echo \"configure:2553: checking for MAP_ANON(YMOUS)\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_decl_map_anon'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2558 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/types.h>\n+#include <sys/mman.h>\n+#include <unistd.h>\n+\n+#ifndef MAP_ANONYMOUS\n+#define MAP_ANONYMOUS MAP_ANON\n+#endif\n+\n+int main() {\n+int n = MAP_ANONYMOUS;\n+; return 0; }\n+EOF\n+if { (eval echo configure:2572: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_decl_map_anon=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_decl_map_anon=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_decl_map_anon\" 1>&6\n+\n+   if test $ac_cv_decl_map_anon = no; then\n+     ac_cv_func_mmap_anon=no\n+   else\n+     echo $ac_n \"checking whether mmap with MAP_ANON(YMOUS) works\"\"... $ac_c\" 1>&6\n+echo \"configure:2590: checking whether mmap with MAP_ANON(YMOUS) works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if it has mmap() and MAP_ANON or\n+   # MAP_ANONYMOUS, but using mmap(..., MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)\n+   # doesn't give anonymous zeroed pages with the same properties listed\n+   # above for use of /dev/zero.\n+   # Systems known to be in this category are Windows, VMS, and SCO Unix.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | sco* | udk* )\n+\tac_cv_func_mmap_anon=no ;;\n+     *)\n+\tac_cv_func_mmap_anon=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_func_mmap_anon\" 1>&6\n+   fi\n+fi\n+\n+if test $ac_cv_func_mmap_file = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_FILE 1\n+EOF\n+\n+fi\n+if test $ac_cv_func_mmap_dev_zero = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_DEV_ZERO 1\n+EOF\n+\n+fi\n+if test $ac_cv_func_mmap_anon = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_ANON 1\n+EOF\n+\n+fi\n+\n \n \n \n@@ -2701,7 +2829,7 @@ case x$TARGET in\n esac\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:2705: checking how to run the C preprocessor\" >&5\n+echo \"configure:2833: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -2716,13 +2844,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 2720 \"configure\"\n+#line 2848 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2726: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2854: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2733,13 +2861,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2737 \"configure\"\n+#line 2865 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2743: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2871: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2750,13 +2878,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2754 \"configure\"\n+#line 2882 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2760: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2888: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -2781,20 +2909,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2785: checking for ANSI C header files\" >&5\n+echo \"configure:2913: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2790 \"configure\"\n+#line 2918 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2798: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2926: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2811,7 +2939,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2815 \"configure\"\n+#line 2943 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2829,7 +2957,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2833 \"configure\"\n+#line 2961 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2850,7 +2978,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2854 \"configure\"\n+#line 2982 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2861,7 +2989,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2865: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2993: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2887,12 +3015,12 @@ fi\n for ac_func in memcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2891: checking for $ac_func\" >&5\n+echo \"configure:3019: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2896 \"configure\"\n+#line 3024 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2915,7 +3043,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2919: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3047: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2942,19 +3070,19 @@ done\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2946: checking for working alloca.h\" >&5\n+echo \"configure:3074: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2951 \"configure\"\n+#line 3079 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:2958: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3086: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -2975,12 +3103,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:2979: checking for alloca\" >&5\n+echo \"configure:3107: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2984 \"configure\"\n+#line 3112 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -3008,7 +3136,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:3012: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3140: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -3040,12 +3168,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:3044: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:3172: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3049 \"configure\"\n+#line 3177 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -3070,12 +3198,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3074: checking for $ac_func\" >&5\n+echo \"configure:3202: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3079 \"configure\"\n+#line 3207 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3098,7 +3226,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3102: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3230: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3125,15 +3253,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:3129: checking stack direction for C alloca\" >&5\n+echo \"configure:3257: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3137 \"configure\"\n+#line 3265 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -3152,7 +3280,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:3156: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3284: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -3175,13 +3303,13 @@ fi\n \n \n echo $ac_n \"checking size of double\"\"... $ac_c\" 1>&6\n-echo \"configure:3179: checking size of double\" >&5\n+echo \"configure:3307: checking size of double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3185 \"configure\"\n+#line 3313 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3191,7 +3319,7 @@ int main() {\n switch (0) case 0: case (sizeof (double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3195: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3323: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_double=$ac_size\n else\n@@ -3214,13 +3342,13 @@ EOF\n \n \n echo $ac_n \"checking size of long double\"\"... $ac_c\" 1>&6\n-echo \"configure:3218: checking size of long double\" >&5\n+echo \"configure:3346: checking size of long double\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_sizeof_long_double'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   for ac_size in 4 8 1 2 16 12  ; do # List sizes in rough order of prevalence.\n   cat > conftest.$ac_ext <<EOF\n-#line 3224 \"configure\"\n+#line 3352 \"configure\"\n #include \"confdefs.h\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n@@ -3230,7 +3358,7 @@ int main() {\n switch (0) case 0: case (sizeof (long double) == $ac_size):;\n ; return 0; }\n EOF\n-if { (eval echo configure:3234: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3362: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_sizeof_long_double=$ac_size\n else\n@@ -3267,14 +3395,14 @@ fi\n \n \n echo $ac_n \"checking whether byte ordering is bigendian\"\"... $ac_c\" 1>&6\n-echo \"configure:3271: checking whether byte ordering is bigendian\" >&5\n+echo \"configure:3399: checking whether byte ordering is bigendian\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_bigendian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_bigendian=unknown\n # See if sys/param.h defines the BYTE_ORDER macro.\n cat > conftest.$ac_ext <<EOF\n-#line 3278 \"configure\"\n+#line 3406 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3285,11 +3413,11 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3289: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3417: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   # It does; now see whether it defined to BIG_ENDIAN or not.\n cat > conftest.$ac_ext <<EOF\n-#line 3293 \"configure\"\n+#line 3421 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/param.h>\n@@ -3300,7 +3428,7 @@ int main() {\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3304: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3432: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_bigendian=yes\n else\n@@ -3320,7 +3448,7 @@ if test \"$cross_compiling\" = yes; then\n    echo $ac_n \"cross-compiling... \" 2>&6 \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3324 \"configure\"\n+#line 3452 \"configure\"\n #include \"confdefs.h\"\n main () {\n   /* Are we little or big endian?  From Harbison&Steele.  */\n@@ -3333,7 +3461,7 @@ main () {\n   exit (u.c[sizeof (long) - 1] == 1);\n }\n EOF\n-if { (eval echo configure:3337: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3465: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_bigendian=no\n else\n@@ -3351,7 +3479,7 @@ fi\n echo \"$ac_t\"\"$ac_cv_c_bigendian\" 1>&6\n if test $ac_cv_c_bigendian = unknown; then\n echo $ac_n \"checking to probe for byte ordering\"\"... $ac_c\" 1>&6\n-echo \"configure:3355: checking to probe for byte ordering\" >&5\n+echo \"configure:3483: checking to probe for byte ordering\" >&5\n \n cat >conftest.c <<EOF\n short ascii_mm[] = { 0x4249, 0x4765, 0x6E44, 0x6961, 0x6E53, 0x7953, 0 };\n@@ -3405,7 +3533,7 @@ fi\n \n if test x$TARGET = xSPARC; then\n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:3409: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:3537: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3415,14 +3543,14 @@ else\n \tCFLAGS=\"$CFLAGS -fpic\"\n \tLDFLAGS=\"$LDFLAGS -shared\"\n \tcat > conftest.$ac_ext <<EOF\n-#line 3419 \"configure\"\n+#line 3547 \"configure\"\n #include \"confdefs.h\"\n asm (\".text; foo: nop; .data; .align 4; .byte 0; .uaword %r_disp32(foo); .text\");\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3426: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3554: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   libffi_cv_as_sparc_ua_pcrel=yes\n else\n@@ -3445,22 +3573,22 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:3449: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:3577: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n        libffi_cv_as_register_pseudo_op=unknown\n        # Check if we have .register\n        cat > conftest.$ac_ext <<EOF\n-#line 3457 \"configure\"\n+#line 3585 \"configure\"\n #include \"confdefs.h\"\n asm (\".register %g2, #scratch\");\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3464: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3592: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   libffi_cv_as_register_pseudo_op=yes\n else\n@@ -3483,7 +3611,7 @@ EOF\n fi\n \n echo $ac_n \"checking whether .eh_frame section should be read-only\"\"... $ac_c\" 1>&6\n-echo \"configure:3487: checking whether .eh_frame section should be read-only\" >&5\n+echo \"configure:3615: checking whether .eh_frame section should be read-only\" >&5\n if eval \"test \\\"`echo '$''{'libffi_cv_ro_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else"}, {"sha": "36fd78d40231f38e0720dde565b182c8f9004485", "filename": "libffi/testsuite/libffi.special/unwindtest.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2Ftestsuite%2Flibffi.special%2Funwindtest.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eee102eda9cf88ca7a8e1c007c48892aedb4d9b/libffi%2Ftestsuite%2Flibffi.special%2Funwindtest.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flibffi.special%2Funwindtest.cc?ref=3eee102eda9cf88ca7a8e1c007c48892aedb4d9b", "patch": "@@ -56,7 +56,7 @@ int main (void)\n   ffi_type * cl_arg_types[17];\n   int res;\n #ifdef USING_MMAP\n-  pcl = allocate_mmap (sizeof(ffi_closure));\n+  pcl = (ffi_closure*) allocate_mmap (sizeof(ffi_closure));\n #else\n   pcl = &cl;\n #endif"}]}