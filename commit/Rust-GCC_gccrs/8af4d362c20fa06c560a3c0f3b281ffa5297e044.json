{"sha": "8af4d362c20fa06c560a3c0f3b281ffa5297e044", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGFmNGQzNjJjMjBmYTA2YzU2MGEzYzBmM2IyODFmZmE1Mjk3ZTA0NA==", "commit": {"author": {"name": "Per Bothner", "email": "per@bothner.com", "date": "2004-11-28T06:06:26Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "2004-11-28T06:06:26Z"}, "message": "re PR bootstrap/18142 (\"Unknown pseudo-op: .machine\" compiling darwin-crt2.c)\n\n\n\tPR bootstrap/18142\n\tRe-applied following, with two modifications: add a URL for the\n\tfixed cctools; only exit if $build = $target.\n\n\t2004-10-18  Kelley Cook  <kcook@gcc.gnu.org>\n\t* configure.ac (powerpc-*-darwin*): Require assembler to support\n\t.machine directive.\n\t* configure: Regenerate.\n\nFrom-SVN: r91406", "tree": {"sha": "84dbcc893bc8416dd120ae69e69403e7722bff33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84dbcc893bc8416dd120ae69e69403e7722bff33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8af4d362c20fa06c560a3c0f3b281ffa5297e044", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af4d362c20fa06c560a3c0f3b281ffa5297e044", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8af4d362c20fa06c560a3c0f3b281ffa5297e044", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af4d362c20fa06c560a3c0f3b281ffa5297e044/comments", "author": {"login": "PerBothner", "id": 10293361, "node_id": "MDQ6VXNlcjEwMjkzMzYx", "avatar_url": "https://avatars.githubusercontent.com/u/10293361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PerBothner", "html_url": "https://github.com/PerBothner", "followers_url": "https://api.github.com/users/PerBothner/followers", "following_url": "https://api.github.com/users/PerBothner/following{/other_user}", "gists_url": "https://api.github.com/users/PerBothner/gists{/gist_id}", "starred_url": "https://api.github.com/users/PerBothner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PerBothner/subscriptions", "organizations_url": "https://api.github.com/users/PerBothner/orgs", "repos_url": "https://api.github.com/users/PerBothner/repos", "events_url": "https://api.github.com/users/PerBothner/events{/privacy}", "received_events_url": "https://api.github.com/users/PerBothner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c48cb4399477d53ff3af7c5809aa1e8a0dc05be9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c48cb4399477d53ff3af7c5809aa1e8a0dc05be9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c48cb4399477d53ff3af7c5809aa1e8a0dc05be9"}], "stats": {"total": 56, "additions": 54, "deletions": 2}, "files": [{"sha": "6d4ab677e63dd3a00750ae640875f5e79aecab84", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8af4d362c20fa06c560a3c0f3b281ffa5297e044", "patch": "@@ -1,3 +1,14 @@\n+2004-11-27  Per Bothner  <per@bothner.com>\n+\n+\tPR bootstrap/18142\n+\tRe-applied following, with two modifications: add a URL for the\n+\tfixed cctools; only exit if $build = $target.\n+\n+\t2004-10-18  Kelley Cook  <kcook@gcc.gnu.org>\n+\t* configure.ac (powerpc-*-darwin*): Require assembler to support\n+\t.machine directive.\n+\t* configure: Regenerate.\n+\n 2004-11-28  David Edelsohn  <edelsohn@gnu.org>\n \n \tPR target/16800"}, {"sha": "ad3bd8db7a67e97650a99af19e55f6b9b59dd46c", "filename": "gcc/configure", "status": "modified", "additions": 33, "deletions": 1, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=8af4d362c20fa06c560a3c0f3b281ffa5297e044", "patch": "@@ -14444,7 +14444,39 @@ fi\n     case $target in\n       *-*-aix*) conftest_s='\t.csect .text[PR]\n \tmfcr 3,128';;\n-      *-*-darwin*) conftest_s='\t.text\n+      *-*-darwin*)\n+\techo \"$as_me:$LINENO: checking assembler for .machine directive support\" >&5\n+echo $ECHO_N \"checking assembler for .machine directive support... $ECHO_C\" >&6\n+if test \"${gcc_cv_as_machine_directive+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  gcc_cv_as_machine_directive=no\n+  if test x$gcc_cv_as != x; then\n+    echo '\t.machine ppc7400' > conftest.s\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }\n+    then\n+\tgcc_cv_as_machine_directive=yes\n+    else\n+      echo \"configure: failed program was\" >&5\n+      cat conftest.s >&5\n+    fi\n+    rm -f conftest.o conftest.s\n+  fi\n+fi\n+echo \"$as_me:$LINENO: result: $gcc_cv_as_machine_directive\" >&5\n+echo \"${ECHO_T}$gcc_cv_as_machine_directive\" >&6\n+\n+\tif test x$gcc_cv_as_machine_directive != xyes; then\n+\t  echo \"*** This target requires an assembler supporting \\\".machine\\\"\" >&2\n+\t  echo you can get it from: ftp://gcc.gnu.org/pub/gcc/infrastructure/cctools-528.5.dmg >&2\n+\t  test x$build = x$target && exit 1\n+\tfi\n+\tconftest_s='\t.text\n \tmfcr r3,128';;\n       *) conftest_s='\t.machine power4\n \t.text"}, {"sha": "7edb522d9dadd559e4bb250d9a1db3eab7854dc5", "filename": "gcc/configure.ac", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af4d362c20fa06c560a3c0f3b281ffa5297e044/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=8af4d362c20fa06c560a3c0f3b281ffa5297e044", "patch": "@@ -2706,7 +2706,16 @@ foo:\tnop\n     case $target in\n       *-*-aix*) conftest_s='\t.csect .text[[PR]]\n \tmfcr 3,128';;\n-      *-*-darwin*) conftest_s='\t.text\n+      *-*-darwin*)\n+\tgcc_GAS_CHECK_FEATURE([.machine directive support],\n+\t  gcc_cv_as_machine_directive,,,\n+\t  [\t.machine ppc7400])\n+\tif test x$gcc_cv_as_machine_directive != xyes; then\n+\t  echo \"*** This target requires an assembler supporting \\\".machine\\\"\" >&2\n+\t  echo you can get it from: ftp://gcc.gnu.org/pub/gcc/infrastructure/cctools-528.5.dmg >&2\n+\t  test x$build = x$target && exit 1\n+\tfi\n+\tconftest_s='\t.text\n \tmfcr r3,128';;\n       *) conftest_s='\t.machine power4\n \t.text"}]}