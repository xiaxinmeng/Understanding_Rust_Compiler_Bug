{"sha": "5050d266eaf5c63b62a22579c3f25c598de83417", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA1MGQyNjZlYWY1YzYzYjYyYTIyNTc5YzNmMjVjNTk4ZGU4MzQxNw==", "commit": {"author": {"name": "Peter Barada", "email": "peter@the-baradas.com", "date": "2004-06-01T13:22:04Z"}, "committer": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2004-06-01T13:22:04Z"}, "message": "m68k.c (m68k_output_mi_thunk): For ColdFire, use %d0 as a scratch to perform an add to memory.\n\n\t* config/m68k/m68k.c(m68k_output_mi_thunk):  For ColdFire, use %d0 as\n\ta scratch to perform an add to memory.\n\nFrom-SVN: r82547", "tree": {"sha": "dfac44a5e08525b91e08bfda1477e101a4c47b40", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfac44a5e08525b91e08bfda1477e101a4c47b40"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5050d266eaf5c63b62a22579c3f25c598de83417", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5050d266eaf5c63b62a22579c3f25c598de83417", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5050d266eaf5c63b62a22579c3f25c598de83417", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5050d266eaf5c63b62a22579c3f25c598de83417/comments", "author": null, "committer": null, "parents": [{"sha": "225d221a9d82172d403aa068217dc67ca0a3f249", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/225d221a9d82172d403aa068217dc67ca0a3f249", "html_url": "https://github.com/Rust-GCC/gccrs/commit/225d221a9d82172d403aa068217dc67ca0a3f249"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "ebe0dc21bcf8761b6cfb1359f59bf5d881d19121", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5050d266eaf5c63b62a22579c3f25c598de83417/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5050d266eaf5c63b62a22579c3f25c598de83417/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5050d266eaf5c63b62a22579c3f25c598de83417", "patch": "@@ -1,3 +1,8 @@\n+2004-06-01  Peter Barada  <peter@the-baradas.com>\n+\n+\t* config/m68k/m68k.c(m68k_output_mi_thunk):  For ColdFire, use %d0 as\n+\ta scratch to perform an add to memory.\n+\n 2004-06-01  Bernardo Innocenti  <bernie@develer.com>\n \n \tPR target/14018"}, {"sha": "da17f65f9cd34547f9fd1a092c1deffad2b48ea4", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5050d266eaf5c63b62a22579c3f25c598de83417/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5050d266eaf5c63b62a22579c3f25c598de83417/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=5050d266eaf5c63b62a22579c3f25c598de83417", "patch": "@@ -3334,6 +3334,23 @@ m68k_output_mi_thunk (FILE *file, tree thunk ATTRIBUTE_UNUSED,\n \t\t\t \"\\tsubq.l %I%d,4(%Rsp)\\n\" :\n \t\t\t \"\\tsubql %I%d,%Rsp@(4)\\n\",\n \t\t (int) -delta);\n+  else if (TARGET_COLDFIRE)\n+    {\n+      /* ColdFire can't add/sub a constant to memory unless it is in\n+\t the range of addq/subq.  So load the value into %d0 and\n+\t then add it to 4(%sp). */\n+      if (delta >= -128 && delta <= 127)\n+\tasm_fprintf (file, MOTOROLA ?\n+\t\t     \"\\tmoveq.l %I%wd,%Rd0\\n\" :\n+\t\t     \"\\tmoveql %I%wd,%Rd0\\n\", delta);\n+      else\n+\tasm_fprintf (file, MOTOROLA ?\n+\t\t     \"\\tmove.l %I%wd,%Rd0\\n\" :\n+\t\t     \"\\tmovel %I%wd,%Rd0\\n\", delta);\n+      asm_fprintf (file, MOTOROLA ?\n+\t\t   \"\\tadd.l %Rd0,4(%Rsp)\\n\" :\n+\t\t   \"\\taddl %Rd0,%Rsp@(4)\\n\");\n+    }\n   else\n     asm_fprintf (file, MOTOROLA ?\n \t\t\t \"\\tadd.l %I%wd,4(%Rsp)\\n\" :"}]}