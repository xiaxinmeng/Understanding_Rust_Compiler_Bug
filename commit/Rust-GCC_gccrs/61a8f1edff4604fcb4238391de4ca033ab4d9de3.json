{"sha": "61a8f1edff4604fcb4238391de4ca033ab4d9de3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFhOGYxZWRmZjQ2MDRmY2I0MjM4MzkxZGU0Y2EwMzNhYjRkOWRlMw==", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@redhat.com", "date": "2003-12-15T19:15:23Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@gcc.gnu.org", "date": "2003-12-15T19:15:23Z"}, "message": "gdkfont.h: New file.\n\n2003-12-15  Graydon Hoare  <graydon@redhat.com>\n\n\t* jni/gtk-peer/gdkfont.h: New file.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Remove\n\tinclude of cairo-xlib.h, add extra gdk_flush().\n\nFrom-SVN: r74644", "tree": {"sha": "94efec1e7cafc6e083c6eeae08b53c0f6c85365a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94efec1e7cafc6e083c6eeae08b53c0f6c85365a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61a8f1edff4604fcb4238391de4ca033ab4d9de3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a8f1edff4604fcb4238391de4ca033ab4d9de3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61a8f1edff4604fcb4238391de4ca033ab4d9de3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a8f1edff4604fcb4238391de4ca033ab4d9de3/comments", "author": null, "committer": null, "parents": [{"sha": "fa972243f6657d4558a11eb459292d0f6bc03d4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa972243f6657d4558a11eb459292d0f6bc03d4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa972243f6657d4558a11eb459292d0f6bc03d4b"}], "stats": {"total": 101, "additions": 100, "deletions": 1}, "files": [{"sha": "cb66ec5628cf544b838b31e0ca6a03bf26fcc5b6", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=61a8f1edff4604fcb4238391de4ca033ab4d9de3", "patch": "@@ -1,3 +1,9 @@\n+2003-12-15  Graydon Hoare  <graydon@redhat.com>\n+\n+\t* jni/gtk-peer/gdkfont.h: New file.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c: Remove\n+\tinclude of cairo-xlib.h, add extra gdk_flush().\n+\n 2003-12-12  Fernando Nasser  <fnasser@redhat.com>\n \n \t* jni/gtk-peer/gtkpeer.h: Extend NSA set of macros to handle a second"}, {"sha": "efc5d2d8eef00de79197796750ba9a1b0b385fd8", "filename": "libjava/jni/gtk-peer/gdkfont.h", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2Fjni%2Fgtk-peer%2Fgdkfont.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2Fjni%2Fgtk-peer%2Fgdkfont.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgdkfont.h?ref=61a8f1edff4604fcb4238391de4ca033ab4d9de3", "patch": "@@ -0,0 +1,93 @@\n+#ifndef __GDKFONT_H__\n+#define __GDKFONT_H__\n+\n+/* gdkfont.h -- Some global stuff related to fonts and glyphs \n+   Copyright (C) 2003 Free Software Foundation, Inc.\n+   \n+   This file is part of GNU Classpath.\n+   \n+   GNU Classpath is free software; you can redistribute it and/or modify\n+   it under the terms of the GNU General Public License as published by\n+   the Free Software Foundation; either version 2, or (at your option)\n+   any later version.\n+   \n+   GNU Classpath is distributed in the hope that it will be useful, but\n+   WITHOUT ANY WARRANTY; without even the implied warranty of\n+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+   General Public License for more details.\n+   \n+   You should have received a copy of the GNU General Public License\n+   along with GNU Classpath; see the file COPYING.  If not, write to the\n+   Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA\n+   02111-1307 USA.\n+   \n+   Linking this library statically or dynamically with other modules is\n+   making a combined work based on this library.  Thus, the terms and\n+   conditions of the GNU General Public License cover the whole\n+   combination.\n+   \n+   As a special exception, the copyright holders of this library give you\n+   permission to link this library with independent modules to produce an\n+   executable, regardless of the license terms of these independent\n+   modules, and to copy and distribute the resulting executable under\n+   terms of your choice, provided that you also meet, for each linked\n+   independent module, the terms and conditions of the license of that\n+   module.  An independent module is a module which is not derived from\n+   or based on this library.  If you modify this library, you may extend\n+   this exception to your version of the library, but you are not\n+   obligated to do so.  If you do not wish to do so, delete this\n+   exception statement from your version. */\n+\n+#include \"gtkpeer.h\"\n+\n+#include <pango/pango.h>\n+#include <pango/pango-context.h>\n+#include <pango/pango-fontmap.h>\n+#include <pango/pangoft2.h>\n+\n+extern struct state_table *native_font_state_table;\n+extern struct state_table *native_glyphvector_state_table;\n+\n+#define NSA_FONT_INIT(env, clazz) \\\n+  native_font_state_table = init_state_table (env, clazz)\n+\n+#define NSA_GET_FONT_PTR(env, obj) \\\n+  get_state (env, obj, native_font_state_table)\n+\n+#define NSA_SET_FONT_PTR(env, obj, ptr) \\\n+  set_state (env, obj, native_font_state_table, (void *)ptr)\n+\n+#define NSA_DEL_FONT_PTR(env, obj) \\\n+  remove_state_slot (env, obj, native_font_state_table)\n+\n+\n+#define NSA_GV_INIT(env, clazz) \\\n+  native_glyphvector_state_table = init_state_table (env, clazz)\n+\n+#define NSA_GET_GV_PTR(env, obj) \\\n+  get_state (env, obj, native_glyphvector_state_table)\n+\n+#define NSA_SET_GV_PTR(env, obj, ptr) \\\n+  set_state (env, obj, native_glyphvector_state_table, (void *)ptr)\n+\n+#define NSA_DEL_GV_PTR(env, obj) \\\n+  remove_state_slot (env, obj, native_glyphvector_state_table)\n+\n+struct peerfont\n+{\n+  PangoFont *font;\n+  PangoFontDescription *desc;\n+  PangoContext *ctx;\n+};\n+\n+struct glyphvec \n+{\n+  /* the GList is list of PangoGlyphItems, each of which is a pair of 1\n+     PangoItem and 1 PangoGlyphString. */\n+  GList *glyphitems;\n+  PangoFontDescription *desc;\n+  PangoFont *font;\n+  PangoContext *ctx;\n+};\n+\n+#endif /* __GDKFONT_H__ */"}, {"sha": "3bc93af8143deb4f09bd17a61dacc4b07563e38c", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GdkGraphics2D.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GdkGraphics2D.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61a8f1edff4604fcb4238391de4ca033ab4d9de3/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GdkGraphics2D.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GdkGraphics2D.c?ref=61a8f1edff4604fcb4238391de4ca033ab4d9de3", "patch": "@@ -46,7 +46,6 @@\n #include <gdk-pixbuf/gdk-pixdata.h>\n \n #include <cairo.h>\n-#include <cairo-xlib.h>\n \n #include <stdio.h>\n #include <stdlib.h>\n@@ -385,6 +384,7 @@ JNIEXPORT void JNICALL Java_gnu_java_awt_peer_gtk_GdkGraphics2D_gdkDrawDrawable\n \n   gdk_draw_drawable(dst->drawable, gc, src->drawable, \n  \t\t    0, 0, x, y, width, height); \n+  gdk_flush ();\n \n   g_object_unref (gc);\n "}]}