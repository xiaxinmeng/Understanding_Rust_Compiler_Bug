{"sha": "622adc7e1d0dd764163518b15256f3ac381e407f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjIyYWRjN2UxZDBkZDc2NDE2MzUxOGIxNTI1NmYzYWMzODFlNDA3Zg==", "commit": {"author": {"name": "Matt Kraai", "email": "kraai@alumni.cmu.edu", "date": "2003-08-19T01:36:29Z"}, "committer": {"name": "Matt Kraai", "email": "kraai@gcc.gnu.org", "date": "2003-08-19T01:36:29Z"}, "message": "re PR c/11207 (ICE with negative index in array element designator)\n\n\tPR c/11207\n\t* c-typeck.c (set_init_index): Check for negative index.\n\n(testsuite/)\n\t* gcc.dg/noncompile/20030818-1.c: New.\n\nFrom-SVN: r70553", "tree": {"sha": "50a577fb9ed3e7bcd37c9eda48702887e18167ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/50a577fb9ed3e7bcd37c9eda48702887e18167ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/622adc7e1d0dd764163518b15256f3ac381e407f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/622adc7e1d0dd764163518b15256f3ac381e407f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/622adc7e1d0dd764163518b15256f3ac381e407f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/622adc7e1d0dd764163518b15256f3ac381e407f/comments", "author": null, "committer": null, "parents": [{"sha": "dfccfad9bba8dbc71157e1ece97e785e895b9799", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfccfad9bba8dbc71157e1ece97e785e895b9799", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfccfad9bba8dbc71157e1ece97e785e895b9799"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "b62d2c98a2ee17eb8b302eaab1269597379fc5b7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=622adc7e1d0dd764163518b15256f3ac381e407f", "patch": "@@ -1,3 +1,8 @@\n+2003-08-18  Matt Kraai  <kraai@alumni.cmu.edu>\n+\n+\tPR c/11207\n+\t* c-typeck.c (set_init_index): Check for negative index.\n+\n 2003-08-18  Bob Wilson  <bob.wilson@acm.org>\n \n \t* config/xtensa/crti.asm (_init, _fini): Add alternate code for new"}, {"sha": "423d6bdca12cc105eeb6b47f35008368b9302bc6", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=622adc7e1d0dd764163518b15256f3ac381e407f", "patch": "@@ -4956,6 +4956,8 @@ set_init_index (tree first, tree last)\n     error_init (\"nonconstant array index in initializer\");\n   else if (TREE_CODE (constructor_type) != ARRAY_TYPE)\n     error_init (\"array index in non-array initializer\");\n+  else if (tree_int_cst_sgn (first) == -1)\n+    error_init (\"array index in initializer exceeds array bounds\");\n   else if (constructor_max_index\n \t   && tree_int_cst_lt (constructor_max_index, first))\n     error_init (\"array index in initializer exceeds array bounds\");"}, {"sha": "29553cd3603f2b55ebefdb9e5a099b0f0864b0bd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=622adc7e1d0dd764163518b15256f3ac381e407f", "patch": "@@ -1,3 +1,7 @@\n+2003-08-18  Matt Kraai  <kraai@alumni.cmu.edu>\n+\n+\t* gcc.dg/noncompile/20030818-1.c: New.\n+\n 2003-08-18  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.dg/template/scope2.C: New test."}, {"sha": "6e626290329c8f37b60b38cc1c72261ea04659e1", "filename": "gcc/testsuite/gcc.dg/noncompile/20030818-1.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20030818-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/622adc7e1d0dd764163518b15256f3ac381e407f/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20030818-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2F20030818-1.c?ref=622adc7e1d0dd764163518b15256f3ac381e407f", "patch": "@@ -0,0 +1,3 @@\n+/* PR 11207.  */\n+\n+char font8x8[256][8] = { [-1] = { 0 } }; /* { dg-error \"array index in initializer exceeds array bounds\" } */"}]}