{"sha": "7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2YyMmI5ZmNhNGZlYTcwYjNkODM3ZTdjNmFiY2IxNGJkMTUwOWIxOA==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2006-08-28T00:58:47Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2006-08-28T00:58:47Z"}, "message": "ifcvt.c (cheap_bb_rtx_cost_p): Don't speculatively execute x87 instructions.\n\n\n\t* ifcvt.c (cheap_bb_rtx_cost_p): Don't speculatively execute\n\tx87 instructions.\n\nFrom-SVN: r116501", "tree": {"sha": "6902ad2ae6e9fab267f6a4b7f65ead0c472b62f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6902ad2ae6e9fab267f6a4b7f65ead0c472b62f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18/comments", "author": null, "committer": null, "parents": [{"sha": "b27788aa43dc259a5aa321c8e0719f4982fe7c89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b27788aa43dc259a5aa321c8e0719f4982fe7c89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b27788aa43dc259a5aa321c8e0719f4982fe7c89"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "3acd226d174e90f7d5437083256cb00441bb4a6e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "patch": "@@ -1,3 +1,8 @@\n+2006-08-27  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* ifcvt.c (cheap_bb_rtx_cost_p): Don't speculatively execute\n+\tx87 instructions.\n+\n 2006-08-27  Kazu Hirata  <kazu@codesourcery.com>\n \n \t* config/i386/crtfastmath.c: Fix a comment typo."}, {"sha": "987a2fbe0bdc6842acdc0a604f2bcadf31bb286a", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f22b9fca4fea70b3d837e7c6abcb14bd1509b18/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=7f22b9fca4fea70b3d837e7c6abcb14bd1509b18", "patch": "@@ -1,5 +1,5 @@\n /* If-conversion support.\n-   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005\n+   Copyright (C) 2000, 2001, 2002, 2003, 2004, 2005, 2006\n    Free Software Foundation, Inc.\n \n    This file is part of GCC.\n@@ -153,14 +153,16 @@ cheap_bb_rtx_cost_p (basic_block bb, int max_cost)\n \n \t  /* If this instruction is the load or set of a \"stack\" register,\n \t     such as a floating point register on x87, then the cost of\n-\t     speculatively executing this instruction needs to include\n-\t     the additional cost of popping this register off of the\n-\t     register stack.  */\n+\t     speculatively executing this insn may need to include\n+\t     the additional cost of popping its result off of the\n+\t     register stack.  Unfortunately, correctly recognizing and\n+\t     accounting for this additional overhead is tricky, so for\n+\t     now we simply prohibit such speculative execution.  */\n #ifdef STACK_REGS\n \t  {\n \t    rtx set = single_set (insn);\n \t    if (set && STACK_REG_P (SET_DEST (set)))\n-\t      cost += COSTS_N_INSNS (1);\n+\t      return false;\n \t  }\n #endif\n "}]}