{"sha": "d8448c583ef6ce71f2ee46749ee24d0218df6907", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg0NDhjNTgzZWY2Y2U3MWYyZWU0Njc0OWVlMjRkMDIxOGRmNjkwNw==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2017-07-05T15:32:37Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2017-07-05T15:32:37Z"}, "message": "Use SET_DECL_MODE in libcc1\n\n2017-07-05  Richard Sandiford  <richard.sandiford@linaro.org>\n\nlibcc1/\n\t* libcp1plugin.cc (plugin_build_field): Use SET_DECL_MODE.\n\nFrom-SVN: r250004", "tree": {"sha": "04962826b15319a275c121837c4ad5590c6f71da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04962826b15319a275c121837c4ad5590c6f71da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8448c583ef6ce71f2ee46749ee24d0218df6907", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8448c583ef6ce71f2ee46749ee24d0218df6907", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8448c583ef6ce71f2ee46749ee24d0218df6907", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8448c583ef6ce71f2ee46749ee24d0218df6907/comments", "author": null, "committer": null, "parents": [{"sha": "b8506a8ac0a98ad8d3ece50a6e585e9c72d226d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8506a8ac0a98ad8d3ece50a6e585e9c72d226d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8506a8ac0a98ad8d3ece50a6e585e9c72d226d3"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "dc1073410c510bf932b8cd5e92d3b6f2ef095140", "filename": "libcc1/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8448c583ef6ce71f2ee46749ee24d0218df6907/libcc1%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8448c583ef6ce71f2ee46749ee24d0218df6907/libcc1%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2FChangeLog?ref=d8448c583ef6ce71f2ee46749ee24d0218df6907", "patch": "@@ -1,3 +1,7 @@\n+2017-07-05  Richard Sandiford  <richard.sandiford@linaro.org>\n+\n+\t* libcp1plugin.cc (plugin_build_field): Use SET_DECL_MODE.\n+\n 2017-06-30  Nathan Sidwell  <nathan@acm.org>\n \n \t* libcp1plugin.cc (plugin_build_decl): Use make_conv_op_name."}, {"sha": "ad33d7a780704002509452ff5861aa8fbe7fa9da", "filename": "libcc1/libcp1plugin.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8448c583ef6ce71f2ee46749ee24d0218df6907/libcc1%2Flibcp1plugin.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8448c583ef6ce71f2ee46749ee24d0218df6907/libcc1%2Flibcp1plugin.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Flibcp1plugin.cc?ref=d8448c583ef6ce71f2ee46749ee24d0218df6907", "patch": "@@ -1887,7 +1887,7 @@ plugin_build_field (cc1_plugin::connection *,\n \t= c_build_bitfield_integer_type (bitsize, TYPE_UNSIGNED (field_type));\n     }\n \n-  DECL_MODE (decl) = TYPE_MODE (TREE_TYPE (decl));\n+  SET_DECL_MODE (decl, TYPE_MODE (TREE_TYPE (decl)));\n \n   // There's no way to recover this from DWARF.\n   SET_DECL_OFFSET_ALIGN (decl, TYPE_PRECISION (pointer_sized_int_node));"}]}