{"sha": "9c0e838fa0e2cdbe96f40b4d209ed83540040148", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWMwZTgzOGZhMGUyY2RiZTk2ZjQwYjRkMjA5ZWQ4MzU0MDA0MDE0OA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1996-06-27T15:05:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1996-06-27T15:05:07Z"}, "message": "Don't call ADJUST_INSN_LENGTH on an insn inside a sequence\n\nFrom-SVN: r12336", "tree": {"sha": "da22cc402e32f580d764602cf0b8d8c08a145e7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/da22cc402e32f580d764602cf0b8d8c08a145e7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c0e838fa0e2cdbe96f40b4d209ed83540040148", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c0e838fa0e2cdbe96f40b4d209ed83540040148", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c0e838fa0e2cdbe96f40b4d209ed83540040148", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c0e838fa0e2cdbe96f40b4d209ed83540040148/comments", "author": null, "committer": null, "parents": [{"sha": "458c16f71e1ba5e22baee6038f0042e97856c419", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/458c16f71e1ba5e22baee6038f0042e97856c419", "html_url": "https://github.com/Rust-GCC/gccrs/commit/458c16f71e1ba5e22baee6038f0042e97856c419"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "7e0d8cc8f96e8c86c5668522cefa28611fbec50e", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c0e838fa0e2cdbe96f40b4d209ed83540040148/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c0e838fa0e2cdbe96f40b4d209ed83540040148/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=9c0e838fa0e2cdbe96f40b4d209ed83540040148", "patch": "@@ -556,10 +556,16 @@ output_branch (logic, insn, operands)\n   int adjusted_length;\n \n   /* Undo the effects of ADJUST_INSN_LENGTH, so that we get the real\n-     length.  */\n-  adjusted_length = length;\n-  ADJUST_INSN_LENGTH (insn, adjusted_length);\n-  length -= (adjusted_length - length);\n+     length.  If NEXT_INSN (PREV_INSN (insn)) != insn, then the insn\n+     is inside a sequence, and ADJUST_INSN_LENGTH was not called on\n+     it.  */\n+  if (PREV_INSN (insn) == NULL\n+      || NEXT_INSN (PREV_INSN (insn)) == insn)\n+    {\n+      adjusted_length = length;\n+      ADJUST_INSN_LENGTH (insn, adjusted_length);\n+      length -= (adjusted_length - length);\n+    }\n \n   switch (length)\n     {"}]}