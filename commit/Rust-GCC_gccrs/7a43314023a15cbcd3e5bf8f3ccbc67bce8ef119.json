{"sha": "7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2E0MzMxNDAyM2ExNWNiY2QzZTViZjhmM2NjYmM2N2JjZThlZjExOQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2018-10-23T10:19:15Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2018-10-23T10:19:15Z"}, "message": "[arm]  Update default CPUs during configure\n\nThere are a couple of places in config.gcc where the default CPU is\nstill arm6, but that was removed as a supported CPU earlier this year.\nThis patch fixes those entries.\n\nThe default CPU for configurations that do not explicitly set a\ndefault is now arm7tdmi (so assumes thumb is available).  Given that\nStrongArm is on the deprecated list, this is a better default than we\nhad previously.\n\nFor NetBSD the default is StrongArm; this is the only remaining port\nthat uses the old ABI and really still carries support for non-thumb\nbased targets.\n\n\tPR target/86383\n\t* config.gcc (arm*-*-netbsdelf*): Default to StrongARM if no CPU\n\tspecified to configure.\n\t(arm*-*-*): Use ARM7TDMI as the target CPU if no default provided.\n\nFrom-SVN: r265420", "tree": {"sha": "80df45d1b739de974adbb98a3eb3b3287019850a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80df45d1b739de974adbb98a3eb3b3287019850a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119/comments", "author": null, "committer": null, "parents": [{"sha": "b1a5c719518cffabfcd81a87518d0c82ee40a3da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1a5c719518cffabfcd81a87518d0c82ee40a3da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1a5c719518cffabfcd81a87518d0c82ee40a3da"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "3314b50f8a4a251c0d4b1aba1ec965f21f768388", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "patch": "@@ -1,3 +1,10 @@\n+2018-10-23  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tPR target/86383\n+\t* config.gcc (arm*-*-netbsdelf*): Default to StrongARM if no CPU\n+\tspecified to configure.\n+\t(arm*-*-*): Use ARM7TDMI as the target CPU if no default provided.\n+\n 2018-10-23  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/87700"}, {"sha": "a2e89e23706aee0a3f9f326576c53b2cececd258", "filename": "gcc/config.gcc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=7a43314023a15cbcd3e5bf8f3ccbc67bce8ef119", "patch": "@@ -1134,7 +1134,7 @@ arm*-*-netbsdelf*)\n \ttm_file=\"dbxelf.h elfos.h ${nbsd_tm_file} arm/elf.h arm/aout.h ${tm_file} arm/netbsd-elf.h\"\n \textra_options=\"${extra_options} netbsd.opt netbsd-elf.opt\"\n \ttmake_file=\"${tmake_file} arm/t-arm\"\n-\ttarget_cpu_cname=\"arm6\"\n+\ttarget_cpu_cname=\"strongarm\"\n \t;;\n arm*-*-linux-*)\t\t\t# ARM GNU/Linux with ELF\n \ttm_file=\"dbxelf.h elfos.h gnu-user.h linux.h linux-android.h glibc-stdint.h arm/elf.h arm/linux-gas.h arm/linux-elf.h\"\n@@ -3987,7 +3987,7 @@ case \"${target}\" in\n \t\t\t\tTM_MULTILIB_CONFIG=\"$with_multilib_list\"\n \t\t\tfi\n \t\tfi\n-\t\ttarget_cpu_cname=${target_cpu_cname:-arm6}\n+\t\ttarget_cpu_cname=${target_cpu_cname:-arm7tdmi}\n \t\twith_cpu=${with_cpu:-$target_cpu_cname}\n \t\t;;\n "}]}