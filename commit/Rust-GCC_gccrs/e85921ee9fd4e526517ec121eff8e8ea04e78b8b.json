{"sha": "e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg1OTIxZWU5ZmQ0ZTUyNjUxN2VjMTIxZWZmOGU4ZWEwNGU3OGI4Yg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-09-04T18:43:40Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-09-04T18:43:40Z"}, "message": "re PR fortran/77460 (ICE when summing an overflowing array)\n\n2016-09-04  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/77460\n\t* simplify.c (simplify_transformation_to_scalar):  On error, result\n\tmay be NULL, simply return.\n\n2016-09-04  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/77460\n\t* gfortran.dg/pr77460.f90: New test.\n\nFrom-SVN: r239979", "tree": {"sha": "905ba230bea234f8d6d035397fc7433ae69d5798", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/905ba230bea234f8d6d035397fc7433ae69d5798"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/comments", "author": null, "committer": null, "parents": [{"sha": "5961d13d279329211e2a2d2c294395d17e4c7fcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5961d13d279329211e2a2d2c294395d17e4c7fcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5961d13d279329211e2a2d2c294395d17e4c7fcb"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "0b452f4664e66f0d43cc2bf8d01dca5287218788", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "patch": "@@ -1,3 +1,9 @@\n+2016-09-04  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/77460\n+\t* simplify.c (simplify_transformation_to_scalar):  On error, result\n+\tmay be NULL, simply return.\n+\n 2016-08-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/77352"}, {"sha": "c396653fa1c63baf49d2f1412d65cae0f7b080b9", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "patch": "@@ -489,6 +489,8 @@ simplify_transformation_to_scalar (gfc_expr *result, gfc_expr *array, gfc_expr *\n \t}\n \n       result = op (result, gfc_copy_expr (a));\n+      if (!result)\n+\treturn result;\n     }\n \n   return result;"}, {"sha": "6f5c7878bd6f6ddf5e667cd95bc1e3e9b9c2d18c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "patch": "@@ -1,3 +1,8 @@\n+2016-09-04  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/77460\n+\t* gfortran.dg/pr77460.f90: New test.\n+\n 2016-09-03  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c/65467"}, {"sha": "5e28a99c17632cf724d04c1e653f4061d9da56d2", "filename": "gcc/testsuite/gfortran.dg/pr77460.f90", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77460.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e85921ee9fd4e526517ec121eff8e8ea04e78b8b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77460.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr77460.f90?ref=e85921ee9fd4e526517ec121eff8e8ea04e78b8b", "patch": "@@ -0,0 +1,7 @@\n+! { dg-do compile }\n+  double precision, parameter :: x = huge(1d0)\n+  print*, sum((/x,-x/))\n+  print*, sum((/x,x,-x,-x/))  ! { dg-error \"overflow\" }\n+  print*, sum((/x,-x,1d0/))\n+  print*, sum((/1d0,x,-x/))\n+end"}]}