{"sha": "c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdhMzVmZTlmMzRhZmQ5YzdjODY2NWZjZWUzODVhYzc3MzJkM2U3OA==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@suse.de", "date": "2004-11-05T12:50:53Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2004-11-05T12:50:53Z"}, "message": "configure.ac: Use AC_PROG_FC, FC and FCFLAGS instead of AC_PROG_F77, F77 and FFLAGS.\n\n\t* configure.ac: Use AC_PROG_FC, FC and FCFLAGS instead of\n\tAC_PROG_F77, F77 and FFLAGS.\n\t* Makefile.am (selected_int_kind.inc, selected_real_kind.inc): Use\n\tFCCOMPILE instead of F77COMPILE.\n\t* configure, Makefile.in: Regenerate.\n\nFrom-SVN: r90122", "tree": {"sha": "3a99e564fdb7759f0dda73abc108328dab4b8187", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a99e564fdb7759f0dda73abc108328dab4b8187"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/comments", "author": {"login": "andreas-schwab", "id": 2175493, "node_id": "MDQ6VXNlcjIxNzU0OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/2175493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreas-schwab", "html_url": "https://github.com/andreas-schwab", "followers_url": "https://api.github.com/users/andreas-schwab/followers", "following_url": "https://api.github.com/users/andreas-schwab/following{/other_user}", "gists_url": "https://api.github.com/users/andreas-schwab/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreas-schwab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreas-schwab/subscriptions", "organizations_url": "https://api.github.com/users/andreas-schwab/orgs", "repos_url": "https://api.github.com/users/andreas-schwab/repos", "events_url": "https://api.github.com/users/andreas-schwab/events{/privacy}", "received_events_url": "https://api.github.com/users/andreas-schwab/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "88c4f655e76260eaaa5ca5573c85eb736eb51034", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88c4f655e76260eaaa5ca5573c85eb736eb51034", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88c4f655e76260eaaa5ca5573c85eb736eb51034"}], "stats": {"total": 176, "additions": 92, "deletions": 84}, "files": [{"sha": "3028e07d98be106a7e4893f948eb9e9a359b3a0b", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "patch": "@@ -1,3 +1,11 @@\n+2004-11-05  Andreas Schwab  <schwab@suse.de>\n+\n+\t* configure.ac: Use AC_PROG_FC, FC and FCFLAGS instead of\n+\tAC_PROG_F77, F77 and FFLAGS.\n+\t* Makefile.am (selected_int_kind.inc, selected_real_kind.inc): Use\n+\tFCCOMPILE instead of F77COMPILE.\n+\t* configure, Makefile.in: Regenerate.\n+\n 2004-11-05  Kelley Cook  <kcook@gcc.gnu.org>\n \n \t* acinclude.m4: Properly quote AC_CACHE_CHECK."}, {"sha": "df6335e10ea694efa7565417d42c70c33f8239e7", "filename": "libgfortran/Makefile.am", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.am?ref=c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "patch": "@@ -390,10 +390,10 @@ I_M4_DEPS0=$(I_M4_DEPS) m4/iforeach.m4\n I_M4_DEPS1=$(I_M4_DEPS) m4/ifunction.m4\n \n selected_int_kind.inc: $(srcdir)/mk-sik-inc.sh\n-\t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(F77COMPILE)' > $@\n+\t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(FCCOMPILE)' > $@\n \n selected_real_kind.inc: $(srcdir)/mk-srk-inc.sh\n-\t$(SHELL) $(srcdir)/mk-srk-inc.sh '$(F77COMPILE)' > $@\n+\t$(SHELL) $(srcdir)/mk-srk-inc.sh '$(FCCOMPILE)' > $@\n \n ## A 'normal' build shouldn't need to regenerate these\n ## so we only include them in maintainer mode"}, {"sha": "01003e6b6a63c263b0c66f63d0e19479098a3cd8", "filename": "libgfortran/Makefile.in", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FMakefile.in?ref=c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "patch": "@@ -214,8 +214,9 @@ ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n EGREP = @EGREP@\n EXEEXT = @EXEEXT@\n-F77 = @F77@\n-FFLAGS = @FFLAGS@\n+FC = @FC@\n+FCFLAGS = @FCFLAGS@\n+GREP = @GREP@\n INSTALL_DATA = @INSTALL_DATA@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n@@ -247,7 +248,7 @@ VERSION = @VERSION@\n ac_ct_AR = @ac_ct_AR@\n ac_ct_AS = @ac_ct_AS@\n ac_ct_CC = @ac_ct_CC@\n-ac_ct_F77 = @ac_ct_F77@\n+ac_ct_FC = @ac_ct_FC@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__leading_dot = @am__leading_dot@\n@@ -1804,10 +1805,10 @@ uninstall-am: uninstall-info-am uninstall-toolexeclibLTLIBRARIES\n \n \n selected_int_kind.inc: $(srcdir)/mk-sik-inc.sh\n-\t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(F77COMPILE)' > $@\n+\t$(SHELL) $(srcdir)/mk-sik-inc.sh '$(FCCOMPILE)' > $@\n \n selected_real_kind.inc: $(srcdir)/mk-srk-inc.sh\n-\t$(SHELL) $(srcdir)/mk-srk-inc.sh '$(F77COMPILE)' > $@\n+\t$(SHELL) $(srcdir)/mk-srk-inc.sh '$(FCCOMPILE)' > $@\n \n @MAINTAINER_MODE_TRUE@$(i_all_c): m4/all.m4 $(I_M4_DEPS1)\n @MAINTAINER_MODE_TRUE@\tm4 -Dfile=$@ -I$(srcdir)/m4 all.m4 > $@"}, {"sha": "3cf4dbee2be9786b10b117cd2340c092e6285050", "filename": "libgfortran/configure", "status": "modified", "additions": 71, "deletions": 72, "changes": 143, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "patch": "@@ -308,7 +308,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir gcc_version toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static F77 FFLAGS LDFLAGS ac_ct_F77 CPP CPPFLAGS EGREP MATH_OBJ LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT multi_basedir gcc_version toolexecdir toolexeclibdir CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB LN_S LIBTOOL enable_shared enable_static FC FCFLAGS LDFLAGS ac_ct_FC CPP CPPFLAGS EGREP MATH_OBJ LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -749,14 +749,14 @@ ac_env_target_alias_set=${target_alias+set}\n ac_env_target_alias_value=$target_alias\n ac_cv_env_target_alias_set=${target_alias+set}\n ac_cv_env_target_alias_value=$target_alias\n-ac_env_F77_set=${F77+set}\n-ac_env_F77_value=$F77\n-ac_cv_env_F77_set=${F77+set}\n-ac_cv_env_F77_value=$F77\n-ac_env_FFLAGS_set=${FFLAGS+set}\n-ac_env_FFLAGS_value=$FFLAGS\n-ac_cv_env_FFLAGS_set=${FFLAGS+set}\n-ac_cv_env_FFLAGS_value=$FFLAGS\n+ac_env_FC_set=${FC+set}\n+ac_env_FC_value=$FC\n+ac_cv_env_FC_set=${FC+set}\n+ac_cv_env_FC_value=$FC\n+ac_env_FCFLAGS_set=${FCFLAGS+set}\n+ac_env_FCFLAGS_value=$FCFLAGS\n+ac_cv_env_FCFLAGS_set=${FCFLAGS+set}\n+ac_cv_env_FCFLAGS_value=$FCFLAGS\n ac_env_LDFLAGS_set=${LDFLAGS+set}\n ac_env_LDFLAGS_value=$LDFLAGS\n ac_cv_env_LDFLAGS_set=${LDFLAGS+set}\n@@ -875,8 +875,8 @@ Some influential environment variables:\n               nonstandard directory <lib dir>\n   CPPFLAGS    C/C++ preprocessor flags, e.g. -I<include dir> if you have\n               headers in a nonstandard directory <include dir>\n-  F77         Fortran 77 compiler command\n-  FFLAGS      Fortran 77 compiler flags\n+  FC          Fortran compiler command\n+  FCFLAGS     Fortran compiler flags\n   CPP         C preprocessor\n \n Use these variables to override the choices made by `configure' or to help\n@@ -4368,25 +4368,25 @@ exec 5>>./config.log\n #AC_MSG_NOTICE([====== Finished libtool configuration]) ; sleep 10\n \n # We need gfortran to compile parts of the library\n-# We can't use AC_PROG_F77 because it expects a fully working gfortran.\n-#AC_PROG_F77(gfortran)\n-F77=\"$GFORTRAN\"\n-ac_ext=f\n-ac_compile='$F77 -c $FFLAGS conftest.$ac_ext >&5'\n-ac_link='$F77 -o conftest$ac_exeext $FFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_f77_compiler_gnu\n+# We can't use AC_PROG_FC because it expects a fully working gfortran.\n+#AC_PROG_FC(gfortran)\n+FC=\"$GFORTRAN\"\n+ac_ext=${FC_SRCEXT-f}\n+ac_compile='$FC -c $FCFLAGS $FCFLAGS_SRCEXT conftest.$ac_ext >&5'\n+ac_link='$FC -o conftest$ac_exeext $FCFLAGS $LDFLAGS $FCFLAGS_SRCEXT conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_fc_compiler_gnu\n if test -n \"$ac_tool_prefix\"; then\n   for ac_prog in gfortran\n   do\n     # Extract the first word of \"$ac_tool_prefix$ac_prog\", so it can be a program name with args.\n set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_F77+set}\" = set; then\n+if test \"${ac_cv_prog_FC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -n \"$F77\"; then\n-  ac_cv_prog_F77=\"$F77\" # Let the user override the test.\n+  if test -n \"$FC\"; then\n+  ac_cv_prog_FC=\"$FC\" # Let the user override the test.\n else\n as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n for as_dir in $PATH\n@@ -4395,7 +4395,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_F77=\"$ac_tool_prefix$ac_prog\"\n+    ac_cv_prog_FC=\"$ac_tool_prefix$ac_prog\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -4404,31 +4404,31 @@ done\n \n fi\n fi\n-F77=$ac_cv_prog_F77\n-if test -n \"$F77\"; then\n-  echo \"$as_me:$LINENO: result: $F77\" >&5\n-echo \"${ECHO_T}$F77\" >&6\n+FC=$ac_cv_prog_FC\n+if test -n \"$FC\"; then\n+  echo \"$as_me:$LINENO: result: $FC\" >&5\n+echo \"${ECHO_T}$FC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n-    test -n \"$F77\" && break\n+    test -n \"$FC\" && break\n   done\n fi\n-if test -z \"$F77\"; then\n-  ac_ct_F77=$F77\n+if test -z \"$FC\"; then\n+  ac_ct_FC=$FC\n   for ac_prog in gfortran\n do\n   # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_ac_ct_F77+set}\" = set; then\n+if test \"${ac_cv_prog_ac_ct_FC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -n \"$ac_ct_F77\"; then\n-  ac_cv_prog_ac_ct_F77=\"$ac_ct_F77\" # Let the user override the test.\n+  if test -n \"$ac_ct_FC\"; then\n+  ac_cv_prog_ac_ct_FC=\"$ac_ct_FC\" # Let the user override the test.\n else\n as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n for as_dir in $PATH\n@@ -4437,7 +4437,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_prog_ac_ct_F77=\"$ac_prog\"\n+    ac_cv_prog_ac_ct_FC=\"$ac_prog\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -4446,25 +4446,25 @@ done\n \n fi\n fi\n-ac_ct_F77=$ac_cv_prog_ac_ct_F77\n-if test -n \"$ac_ct_F77\"; then\n-  echo \"$as_me:$LINENO: result: $ac_ct_F77\" >&5\n-echo \"${ECHO_T}$ac_ct_F77\" >&6\n+ac_ct_FC=$ac_cv_prog_ac_ct_FC\n+if test -n \"$ac_ct_FC\"; then\n+  echo \"$as_me:$LINENO: result: $ac_ct_FC\" >&5\n+echo \"${ECHO_T}$ac_ct_FC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n-  test -n \"$ac_ct_F77\" && break\n+  test -n \"$ac_ct_FC\" && break\n done\n \n-  F77=$ac_ct_F77\n+  FC=$ac_ct_FC\n fi\n \n \n # Provide some information about the compiler.\n echo \"$as_me:4466:\" \\\n-     \"checking for Fortran 77 compiler version\" >&5\n+     \"checking for Fortran compiler version\" >&5\n ac_compiler=`set X $ac_compile; echo $2`\n { (eval echo \"$as_me:$LINENO: \\\"$ac_compiler --version </dev/null >&5\\\"\") >&5\n   (eval $ac_compiler --version </dev/null >&5) 2>&5\n@@ -4487,9 +4487,9 @@ rm -f a.out\n # input file.  (Note that this only needs to work for GNU compilers.)\n ac_save_ext=$ac_ext\n ac_ext=F\n-echo \"$as_me:$LINENO: checking whether we are using the GNU Fortran 77 compiler\" >&5\n-echo $ECHO_N \"checking whether we are using the GNU Fortran 77 compiler... $ECHO_C\" >&6\n-if test \"${ac_cv_f77_compiler_gnu+set}\" = set; then\n+echo \"$as_me:$LINENO: checking whether we are using the GNU Fortran compiler\" >&5\n+echo $ECHO_N \"checking whether we are using the GNU Fortran compiler... $ECHO_C\" >&6\n+if test \"${ac_cv_fc_compiler_gnu+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -4509,7 +4509,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_f77_werror_flag\"\n+\t { ac_try='test -z \"$ac_fc_werror_flag\"\n \t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n@@ -4530,21 +4530,21 @@ sed 's/^/| /' conftest.$ac_ext >&5\n ac_compiler_gnu=no\n fi\n rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n-ac_cv_f77_compiler_gnu=$ac_compiler_gnu\n+ac_cv_fc_compiler_gnu=$ac_compiler_gnu\n \n fi\n-echo \"$as_me:$LINENO: result: $ac_cv_f77_compiler_gnu\" >&5\n-echo \"${ECHO_T}$ac_cv_f77_compiler_gnu\" >&6\n+echo \"$as_me:$LINENO: result: $ac_cv_fc_compiler_gnu\" >&5\n+echo \"${ECHO_T}$ac_cv_fc_compiler_gnu\" >&6\n ac_ext=$ac_save_ext\n-ac_test_FFLAGS=${FFLAGS+set}\n-ac_save_FFLAGS=$FFLAGS\n-FFLAGS=\n-echo \"$as_me:$LINENO: checking whether $F77 accepts -g\" >&5\n-echo $ECHO_N \"checking whether $F77 accepts -g... $ECHO_C\" >&6\n-if test \"${ac_cv_prog_f77_g+set}\" = set; then\n+ac_test_FFLAGS=${FCFLAGS+set}\n+ac_save_FFLAGS=$FCFLAGS\n+FCFLAGS=\n+echo \"$as_me:$LINENO: checking whether $FC accepts -g\" >&5\n+echo $ECHO_N \"checking whether $FC accepts -g... $ECHO_C\" >&6\n+if test \"${ac_cv_prog_fc_g+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  FFLAGS=-g\n+  FCFLAGS=-g\n cat >conftest.$ac_ext <<_ACEOF\n       program main\n \n@@ -4559,7 +4559,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_f77_werror_flag\"\n+\t { ac_try='test -z \"$ac_fc_werror_flag\"\n \t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n@@ -4572,42 +4572,41 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-  ac_cv_prog_f77_g=yes\n+  ac_cv_prog_fc_g=yes\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n-ac_cv_prog_f77_g=no\n+ac_cv_prog_fc_g=no\n fi\n rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n \n fi\n-echo \"$as_me:$LINENO: result: $ac_cv_prog_f77_g\" >&5\n-echo \"${ECHO_T}$ac_cv_prog_f77_g\" >&6\n+echo \"$as_me:$LINENO: result: $ac_cv_prog_fc_g\" >&5\n+echo \"${ECHO_T}$ac_cv_prog_fc_g\" >&6\n if test \"$ac_test_FFLAGS\" = set; then\n-  FFLAGS=$ac_save_FFLAGS\n-elif test $ac_cv_prog_f77_g = yes; then\n-  if test \"x$ac_cv_f77_compiler_gnu\" = xyes; then\n-    FFLAGS=\"-g -O2\"\n+  FCFLAGS=$ac_save_FFLAGS\n+elif test $ac_cv_prog_fc_g = yes; then\n+  if test \"x$ac_cv_fc_compiler_gnu\" = xyes; then\n+    FCFLAGS=\"-g -O2\"\n   else\n-    FFLAGS=\"-g\"\n+    FCFLAGS=\"-g\"\n   fi\n else\n-  if test \"x$ac_cv_f77_compiler_gnu\" = xyes; then\n-    FFLAGS=\"-O2\"\n+  if test \"x$ac_cv_fc_compiler_gnu\" = xyes; then\n+    FCFLAGS=\"-O2\"\n   else\n-    FFLAGS=\n+    FCFLAGS=\n   fi\n fi\n \n-G77=`test $ac_compiler_gnu = yes && echo yes`\n ac_ext=c\n ac_cpp='$CPP $CPPFLAGS'\n ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n-FFLAGS=\"$FFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n+FCFLAGS=\"$FCFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n \n # Check whether --enable-largefile or --disable-largefile was given.\n if test \"${enable_largefile+set}\" = set; then\n@@ -11476,10 +11475,10 @@ s,@LN_S@,$LN_S,;t t\n s,@LIBTOOL@,$LIBTOOL,;t t\n s,@enable_shared@,$enable_shared,;t t\n s,@enable_static@,$enable_static,;t t\n-s,@F77@,$F77,;t t\n-s,@FFLAGS@,$FFLAGS,;t t\n+s,@FC@,$FC,;t t\n+s,@FCFLAGS@,$FCFLAGS,;t t\n s,@LDFLAGS@,$LDFLAGS,;t t\n-s,@ac_ct_F77@,$ac_ct_F77,;t t\n+s,@ac_ct_FC@,$ac_ct_FC,;t t\n s,@CPP@,$CPP,;t t\n s,@CPPFLAGS@,$CPPFLAGS,;t t\n s,@EGREP@,$EGREP,;t t"}, {"sha": "d99eded4428b61db4067d4fde9c20b1a23f6a5e8", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7a35fe9f34afd9c7c8665fcee385ac7732d3e78/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=c7a35fe9f34afd9c7c8665fcee385ac7732d3e78", "patch": "@@ -138,11 +138,11 @@ AC_SUBST(enable_static)\n #AC_MSG_NOTICE([====== Finished libtool configuration]) ; sleep 10\n \n # We need gfortran to compile parts of the library\n-# We can't use AC_PROG_F77 because it expects a fully working gfortran.\n-#AC_PROG_F77(gfortran)\n-F77=\"$GFORTRAN\"\n-AC_PROG_F77(gfortran)\n-FFLAGS=\"$FFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n+# We can't use AC_PROG_FC because it expects a fully working gfortran.\n+#AC_PROG_FC(gfortran)\n+FC=\"$GFORTRAN\"\n+AC_PROG_FC(gfortran)\n+FCFLAGS=\"$FCFLAGS -Wall -fno-repack-arrays -fno-underscoring\"\n \n AC_SYS_LARGEFILE\n AC_FUNC_MMAP"}]}