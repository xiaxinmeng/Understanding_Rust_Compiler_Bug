{"sha": "e013f3c710053365bf37129b6eaf13a3b63e3211", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTAxM2YzYzcxMDA1MzM2NWJmMzcxMjliNmVhZjEzYTNiNjNlMzIxMQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-02-26T22:41:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-02-26T22:41:48Z"}, "message": "ia64.c (nop_cycles_until): Do init_insn_group_barriers if we emitted a stop bit.\n\n        * config/ia64/ia64.c (nop_cycles_until): Do init_insn_group_barriers\n        if we emitted a stop bit.\n\nFrom-SVN: r50065", "tree": {"sha": "e08c1ab77a966deca60c7178b7001352a4b71f56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e08c1ab77a966deca60c7178b7001352a4b71f56"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e013f3c710053365bf37129b6eaf13a3b63e3211", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e013f3c710053365bf37129b6eaf13a3b63e3211", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e013f3c710053365bf37129b6eaf13a3b63e3211", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e013f3c710053365bf37129b6eaf13a3b63e3211/comments", "author": null, "committer": null, "parents": [{"sha": "9e944a165da7e84b70f4b136a7e9992f4638c8ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e944a165da7e84b70f4b136a7e9992f4638c8ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e944a165da7e84b70f4b136a7e9992f4638c8ad"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "6bf8b86251203d430f45a0f9c9fcaabafb11b155", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e013f3c710053365bf37129b6eaf13a3b63e3211/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e013f3c710053365bf37129b6eaf13a3b63e3211/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e013f3c710053365bf37129b6eaf13a3b63e3211", "patch": "@@ -1,3 +1,8 @@\n+2002-02-26  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/ia64/ia64.c (nop_cycles_until): Do init_insn_group_barriers\n+\tif we emitted a stop bit.\n+\n 2002-02-26  Jakub Jelinek  <jakub@redhat.com>\n \n \t* configure.in (libgcc_visibility): Substitute."}, {"sha": "8e975e0cb02e8d5671b79dda6fd66c1870059f16", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e013f3c710053365bf37129b6eaf13a3b63e3211/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e013f3c710053365bf37129b6eaf13a3b63e3211/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=e013f3c710053365bf37129b6eaf13a3b63e3211", "patch": "@@ -6090,12 +6090,14 @@ nop_cycles_until (clock_var, dump)\n {\n   int prev_clock = prev_cycle;\n   int cycles_left = clock_var - prev_clock;\n+  bool did_stop = false;\n \n   /* Finish the previous cycle; pad it out with NOPs.  */\n   if (sched_data.cur == 3)\n     {\n       rtx t = gen_insn_group_barrier (GEN_INT (3));\n       last_issued = emit_insn_after (t, last_issued);\n+      did_stop = true;\n       maybe_rotate (dump);\n     }\n   else if (sched_data.cur > 0)\n@@ -6148,6 +6150,7 @@ nop_cycles_until (clock_var, dump)\n \t{\n \t  rtx t = gen_insn_group_barrier (GEN_INT (3));\n \t  last_issued = emit_insn_after (t, last_issued);\n+\t  did_stop = true;\n \t}\n       maybe_rotate (dump);\n     }\n@@ -6171,8 +6174,12 @@ nop_cycles_until (clock_var, dump)\n       last_issued = emit_insn_after (t, last_issued);\n       t = gen_insn_group_barrier (GEN_INT (3));\n       last_issued = emit_insn_after (t, last_issued);\n+      did_stop = true;\n       cycles_left--;\n     }\n+\n+  if (did_stop)\n+    init_insn_group_barriers ();\n }\n \n /* We are about to being issuing insns for this clock cycle."}]}