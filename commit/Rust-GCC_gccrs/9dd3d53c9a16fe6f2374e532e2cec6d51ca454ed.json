{"sha": "9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRkM2Q1M2M5YTE2ZmU2ZjIzNzRlNTMyZTJjZWM2ZDUxY2E0NTRlZA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2001-02-27T23:00:35Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2001-02-27T23:00:35Z"}, "message": "std_stdexcept.h (runtime_error): Make string member non-const.\n\n\n2001-02-27  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/bits/std_stdexcept.h (runtime_error): Make string\n\tmember non-const.\n\t(logic_error): Same.\n\t* testsuite/19_diagnostics/stdexceptions.cc (test04): Add test.\n\t(test03): Fix.\n\nFrom-SVN: r40098", "tree": {"sha": "95b81a4256de6c7baa4cf98802ce7578bdd5bfc3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95b81a4256de6c7baa4cf98802ce7578bdd5bfc3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/comments", "author": null, "committer": null, "parents": [{"sha": "788f238c59f903daf994eae6fe70a0470f382632", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/788f238c59f903daf994eae6fe70a0470f382632", "html_url": "https://github.com/Rust-GCC/gccrs/commit/788f238c59f903daf994eae6fe70a0470f382632"}], "stats": {"total": 48, "additions": 44, "deletions": 4}, "files": [{"sha": "557cb7d911f99c75ce914767f027844c1c74be09", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "patch": "@@ -1,6 +1,10 @@\n 2001-02-27  Benjamin Kosnik  <bkoz@redhat.com>\n \n-\t* testsuite/19_diagnostics/stdexceptions.cc (test03): Fix.\n+\t* include/bits/std_stdexcept.h (runtime_error): Make string\n+\tmember non-const.\n+\t(logic_error): Same.\n+\t* testsuite/19_diagnostics/stdexceptions.cc (test04): Add test.\n+\t(test03): Fix.\n \n 2001-02-26  Benjamin Kosnik  <bkoz@redhat.com>\n "}, {"sha": "ee9ebf19449dfdd66c29a65fbf0cf87118ddf3f2", "filename": "libstdc++-v3/include/bits/std_stdexcept.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_stdexcept.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_stdexcept.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_stdexcept.h?ref=9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "patch": "@@ -43,7 +43,7 @@ namespace std\n {\n   class logic_error : public exception \n   {\n-    const string _M_msg;\n+    string _M_msg;\n \n   public:\n     explicit \n@@ -82,7 +82,7 @@ namespace std\n \n   class runtime_error : public exception \n   {\n-    const string _M_msg;\n+    string _M_msg;\n \n   public:\n     explicit "}, {"sha": "d5a205839770a34962de4cb7e5e7d6a615b5a896", "filename": "libstdc++-v3/testsuite/19_diagnostics/stdexceptions.cc", "status": "modified", "additions": 37, "deletions": 1, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fstdexceptions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fstdexceptions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F19_diagnostics%2Fstdexceptions.cc?ref=9dd3d53c9a16fe6f2374e532e2cec6d51ca454ed", "patch": "@@ -69,12 +69,48 @@ void test03()\n     { VERIFY( false ); }\n }\n \n+// test copy ctors and assignment operators\n+// libstdc++/1972\n+// via Greg Bumgardner <bumgard@roguewave.com>\n+void allocate_on_stack(void) \n+{\n+  const size_t num = 512;\n+  __extension__ char array[num];\n+  for (size_t i = 0; i < num; i++) \n+    array[i]=0;\n+}\n+void test04()\n+{\n+  const std::string s(\"CA ISO emergency once again:immediate power down\");\n+  const char* strlit1 = \"wish I lived in Palo Alto\";\n+  const char* strlit2 = \"...or Santa Barbara\";\n+  std::runtime_error obj1(s);\n+  \n+  // block 01\n+  {\n+    const std::string s2(strlit1);\n+    std::runtime_error obj2(s2);\n+    obj1 = obj2;\n+  }\n+  allocate_on_stack();\n+  VERIFY( strcmp(strlit1, obj1.what()) == 0 ); \n+\n+  // block 02\n+  {\n+    const std::string s3(strlit2);\n+    std::runtime_error obj3 = std::runtime_error(s3);\n+    obj1 = obj3;\n+  }\n+  allocate_on_stack();     \n+  VERIFY( strcmp(strlit2, obj1.what()) == 0 ); \n+}\n \n int main(void)\n {\n   test01();\n   test02();\n   test03();\n-  \n+  test04();\n+\n   return 0;\n }"}]}