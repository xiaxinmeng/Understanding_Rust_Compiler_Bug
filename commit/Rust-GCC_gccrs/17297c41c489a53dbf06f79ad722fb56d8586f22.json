{"sha": "17297c41c489a53dbf06f79ad722fb56d8586f22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTcyOTdjNDFjNDg5YTUzZGJmMDZmNzlhZDcyMmZiNTZkODU4NmYyMg==", "commit": {"author": {"name": "Philipp Thomas", "email": "pthomas@suse.de", "date": "2000-06-25T02:45:23Z"}, "committer": {"name": "Philipp Thomas", "email": "pthomas@gcc.gnu.org", "date": "2000-06-25T02:45:23Z"}, "message": "aclocal.m4 (AM_WITH_NLS): Set create_catalogs=no if no catalog compiler found.\n\n\t* aclocal.m4 (AM_WITH_NLS): Set create_catalogs=no if no catalog\n\tcompiler found.\n\tAM_GNU_GETTEXT: Don't set CATALOGS if create_catalogs=no.\n\t* configure: Rebuilt.\n\nFrom-SVN: r34692", "tree": {"sha": "79d00c40bf9b3009a7bac21ddba9b73bfb6db227", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/79d00c40bf9b3009a7bac21ddba9b73bfb6db227"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17297c41c489a53dbf06f79ad722fb56d8586f22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17297c41c489a53dbf06f79ad722fb56d8586f22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17297c41c489a53dbf06f79ad722fb56d8586f22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17297c41c489a53dbf06f79ad722fb56d8586f22/comments", "author": null, "committer": null, "parents": [{"sha": "865e0471d91ee3fcb515a365ecf63a6316a9b3c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/865e0471d91ee3fcb515a365ecf63a6316a9b3c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/865e0471d91ee3fcb515a365ecf63a6316a9b3c3"}], "stats": {"total": 89, "additions": 62, "deletions": 27}, "files": [{"sha": "c40b554ff1de62081d88df1eb559dbe2cf655754", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=17297c41c489a53dbf06f79ad722fb56d8586f22", "patch": "@@ -1,3 +1,10 @@\n+2000-06-25  Philipp Thomas  <pthomas@suse.de>\n+\n+\t* aclocal.m4 (AM_WITH_NLS): Set create_catalogs=no if no catalog\n+\tcompiler found.\n+\tAM_GNU_GETTEXT: Don't set CATALOGS if create_catalogs=no.\n+\t* configure: Rebuilt.\n+\t\n 2000-06-25  John David Anglin  <dave.anglin@nrc.ca>\n \n         * config/vax/vax.h (TARGET_SWITCHES): Provide descriptions."}, {"sha": "0a8747ee7753f08bed729c0847fe1c82e21ac1a5", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 18, "deletions": 3, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=17297c41c489a53dbf06f79ad722fb56d8586f22", "patch": "@@ -381,6 +381,10 @@ AC_DEFUN(AM_WITH_NLS,\n \t\t if test \"$GMSGFMT\" = \"no\"; then\n \t\t   AM_PATH_PROG_WITH_TEST(GMSGFMT, msgfmt,\n \t\t    [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)\n+\t\t   if test \"$GMSGFMT\" = \"no\"; then\n+\t\t     AC_MSG_WARN(No program for catalog building found, so disabling building them)\n+\t\t     create_catalogs=\"no\"\n+\t\t   fi\n \t\t fi\n \t\t AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n \t\t   [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n@@ -408,8 +412,17 @@ AC_DEFUN(AM_WITH_NLS,\n         dnl Mark actions used to generate GNU NLS library.\n         INTLOBJS=\"\\$(GETTOBJS)\"\n         AM_PATH_PROG_WITH_TEST(MSGFMT, msgfmt,\n-\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], msgfmt)\n-        AC_PATH_PROG(GMSGFMT, gmsgfmt, $MSGFMT)\n+\t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep 'dv '`\"], no)\n+        AC_PATH_PROG(GMSGFMT, gmsgfmt, no)\n+\n+        dnl If we didn't find either msgfmt or gmsgfmt, don't try to\n+        dnl create a catalog.\n+\tif test \"$MSGFMT\" = \"no\" && test \"$GMSGFMT\" = \"no\"; then\n+\t  AC_MSG_WARN(Neither msgfmt nor gmsgfmt found. No catalogs will be built)\n+\t  create_catalogs=\"no\"\n+\t  MSGFMT=msgfmt\n+\t  GMSGFMT=msgfmt\n+\tfi\n         AM_PATH_PROG_WITH_TEST(XGETTEXT, xgettext,\n \t  [test -z \"`$ac_dir/$ac_word -h 2>&1 | grep '(HELP)'`\"], :)\n         AC_SUBST(MSGFMT)\n@@ -437,6 +450,8 @@ AC_DEFUN(AM_WITH_NLS,\n \tfi\n       fi\n \n+\n+\n       # We need to process the po/ directory.\n       POSUB=po\n     else\n@@ -507,7 +522,7 @@ strdup __argz_count __argz_stringify __argz_next])\n    AM_LC_MESSAGES\n    AM_WITH_NLS\n \n-   if test \"x$CATOBJEXT\" != \"x\"; then\n+   if test \"x$CATOBJEXT\" != \"x\" && test \"x$create_catalogs\" != \"xno\" ; then\n      if test \"x$ALL_LINGUAS\" = \"x\"; then\n        LINGUAS=\n      else"}, {"sha": "a44bc1b0fe3d658f5ecc040bbf352445da0f2c74", "filename": "gcc/configure", "status": "modified", "additions": 37, "deletions": 24, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17297c41c489a53dbf06f79ad722fb56d8586f22/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=17297c41c489a53dbf06f79ad722fb56d8586f22", "patch": "@@ -8134,11 +8134,15 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n+\t\t   if test \"$GMSGFMT\" = \"no\"; then\n+\t\t     echo \"configure: warning: No program for catalog building found\" 1>&2\n+\t\t     create_catalogs=\"no\"\n+\t\t   fi\n \t\t fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8142: checking for $ac_word\" >&5\n+echo \"configure:8146: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8196,7 +8200,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8200: checking for $ac_word\" >&5\n+echo \"configure:8204: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8216,7 +8220,7 @@ else\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_path_MSGFMT\" && ac_cv_path_MSGFMT=\"msgfmt\"\n+  test -z \"$ac_cv_path_MSGFMT\" && ac_cv_path_MSGFMT=\"no\"\n   ;;\n esac\n fi\n@@ -8230,7 +8234,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8234: checking for $ac_word\" >&5\n+echo \"configure:8238: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8252,7 +8256,7 @@ else\n     fi\n   done\n   IFS=\"$ac_save_ifs\"\n-  test -z \"$ac_cv_path_GMSGFMT\" && ac_cv_path_GMSGFMT=\"$MSGFMT\"\n+  test -z \"$ac_cv_path_GMSGFMT\" && ac_cv_path_GMSGFMT=\"no\"\n   ;;\n esac\n fi\n@@ -8263,10 +8267,17 @@ else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n \n+\n+                \tif test \"$MSGFMT\" = \"no\" && test \"$GMSGFMT\" = \"no\"; then\n+\t  echo \"configure: warning: Neither msgfmt nor gmsgfmt found. No catalogs will be built\" 1>&2\n+\t  create_catalogs=\"no\"\n+\t  MSGFMT=msgfmt\n+\t  GMSGFMT=msgfmt\n+\tfi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8270: checking for $ac_word\" >&5\n+echo \"configure:8281: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8318,6 +8329,8 @@ fi\n \tfi\n       fi\n \n+\n+\n       # We need to process the po/ directory.\n       POSUB=po\n     else\n@@ -8354,12 +8367,12 @@ fi\n     \n   \n \n-   if test \"x$CATOBJEXT\" != \"x\"; then\n+   if test \"x$CATOBJEXT\" != \"x\" && test \"x$create_catalogs\" != \"xno\" ; then\n      if test \"x$ALL_LINGUAS\" = \"x\"; then\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8363: checking for catalogs to be installed\" >&5\n+echo \"configure:8376: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -8391,17 +8404,17 @@ echo \"configure:8363: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8395: checking for linux/version.h\" >&5\n+echo \"configure:8408: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8400 \"configure\"\n+#line 8413 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8405: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8418: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8476,7 +8489,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8480: checking whether windows registry support is requested\" >&5\n+echo \"configure:8493: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8505,7 +8518,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8509: checking registry key on windows hosts\" >&5\n+echo \"configure:8522: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8699,7 +8712,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8703: checking assembler alignment features\" >&5\n+echo \"configure:8716: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8820,7 +8833,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8824: checking assembler subsection support\" >&5\n+echo \"configure:8837: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8860,7 +8873,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:8864: checking assembler weak support\" >&5\n+echo \"configure:8877: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -8877,7 +8890,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:8881: checking assembler hidden support\" >&5\n+echo \"configure:8894: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -8897,7 +8910,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8901: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8914: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8925,7 +8938,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:8929: checking assembler supports -relax\" >&5\n+echo \"configure:8942: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8955,7 +8968,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:8959: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:8972: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9000,7 +9013,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:9004: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:9017: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -9039,7 +9052,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:9043: checking assembler instructions\" >&5\n+echo \"configure:9056: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -9169,7 +9182,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:9173: checking for libstdc++ to install\" >&5\n+echo \"configure:9186: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\"\n@@ -9193,7 +9206,7 @@ EOF\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9197: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:9210: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}]}