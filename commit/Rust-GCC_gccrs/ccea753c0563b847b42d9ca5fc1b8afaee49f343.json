{"sha": "ccea753c0563b847b42d9ca5fc1b8afaee49f343", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NlYTc1M2MwNTYzYjg0N2I0MmQ5Y2E1ZmMxYjhhZmFlZTQ5ZjM0Mw==", "commit": {"author": {"name": "Roger Sayle", "email": "roger@eyesopen.com", "date": "2003-09-21T02:22:45Z"}, "committer": {"name": "Roger Sayle", "email": "sayle@gcc.gnu.org", "date": "2003-09-21T02:22:45Z"}, "message": "i386.c (ix86_expand_carry_flag_compare): Fix transformation of a>=0 into (unsigned)a<0x80000000.\n\n\n\t* config/i386/i386.c (ix86_expand_carry_flag_compare): Fix\n\ttransformation of a>=0 into (unsigned)a<0x80000000.\n\n\t* gcc.c-torture/execute/20030920-1.c: New test case.\n\nFrom-SVN: r71618", "tree": {"sha": "acf58ff562afe4d4ab8da62ef0daa92460f43367", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acf58ff562afe4d4ab8da62ef0daa92460f43367"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccea753c0563b847b42d9ca5fc1b8afaee49f343", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccea753c0563b847b42d9ca5fc1b8afaee49f343", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccea753c0563b847b42d9ca5fc1b8afaee49f343", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccea753c0563b847b42d9ca5fc1b8afaee49f343/comments", "author": null, "committer": null, "parents": [{"sha": "86b0a4f337873565e5b2b13c1ff5926aada3f9ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86b0a4f337873565e5b2b13c1ff5926aada3f9ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86b0a4f337873565e5b2b13c1ff5926aada3f9ae"}], "stats": {"total": 30, "additions": 27, "deletions": 3}, "files": [{"sha": "6e8f5a0ab4db70a37a27028f47e870c6342d2813", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ccea753c0563b847b42d9ca5fc1b8afaee49f343", "patch": "@@ -1,3 +1,8 @@\n+2003-09-20  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* config/i386/i386.c (ix86_expand_carry_flag_compare): Fix\n+\ttransformation of a>=0 into (unsigned)a<0x80000000.\n+\n 2003-09-20  Andrew Pinski <apinski@apple.com>\n \n \t* config/darwin.c (machopic_select_rtx_section): Fix check for PIC code."}, {"sha": "c1e8ac6c89483622b9c94411e03f82e98d59feb5", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=ccea753c0563b847b42d9ca5fc1b8afaee49f343", "patch": "@@ -9469,19 +9469,19 @@ ix86_expand_carry_flag_compare (enum rtx_code code, rtx op0, rtx op1, rtx *pop)\n \t}\n       break;\n \n-    /* Convert a>0 into (unsigned)a<0x7fffffff.  */\n+    /* Convert a>=0 into (unsigned)a<0x80000000.  */\n     case LT:\n     case GE:\n       if (mode == DImode || op1 != const0_rtx)\n \treturn false;\n-      op1 = gen_int_mode (~(1 << (GET_MODE_BITSIZE (mode) - 1)), mode);\n+      op1 = gen_int_mode (1 << (GET_MODE_BITSIZE (mode) - 1), mode);\n       code = (code == LT ? GEU : LTU);\n       break;\n     case LE:\n     case GT:\n       if (mode == DImode || op1 != constm1_rtx)\n \treturn false;\n-      op1 = gen_int_mode (~(1 << (GET_MODE_BITSIZE (mode) - 1)), mode);\n+      op1 = gen_int_mode (1 << (GET_MODE_BITSIZE (mode) - 1), mode);\n       code = (code == LE ? GEU : LTU);\n       break;\n "}, {"sha": "1ba55f62ebb29668bc83d842c7c96b909db8a7d7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ccea753c0563b847b42d9ca5fc1b8afaee49f343", "patch": "@@ -1,3 +1,7 @@\n+2003-09-20  Roger Sayle  <roger@eyesopen.com>\n+\n+\t* gcc.c-torture/execute/20030920-1.c: New test case.\n+\n 2003-09-20  Kriang Lerdsuwanakij  <lerdsuwa@users.sourceforge.net>\n \n \t* g++.dg/rtti/typeid3.C: Correct expected error message."}, {"sha": "2d22115c9fd92141744202e32863b961267a4aff", "filename": "gcc/testsuite/gcc.c-torture/execute/20030920-1.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030920-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccea753c0563b847b42d9ca5fc1b8afaee49f343/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030920-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030920-1.c?ref=ccea753c0563b847b42d9ca5fc1b8afaee49f343", "patch": "@@ -0,0 +1,15 @@\n+extern void abort (void);\n+\n+int main()\n+{\n+  int hicount = 0;\n+  unsigned char *c;\n+  char *str = \"\\x7f\\xff\";\n+  for (c = (unsigned char *)str; *c ; c++) {\n+    if (!(((unsigned int)(*c)) < 0x80)) hicount++;\n+  }\n+  if (hicount != 1)\n+    abort ();\n+  return 0;\n+}\n+"}]}