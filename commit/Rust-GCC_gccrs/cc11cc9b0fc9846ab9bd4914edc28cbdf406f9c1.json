{"sha": "cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2MxMWNjOWIwZmM5ODQ2YWI5YmQ0OTE0ZWRjMjhjYmRmNDA2ZjljMQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2006-02-20T08:29:17Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2006-02-20T08:29:17Z"}, "message": "re PR bootstrap/25670 (build fail with 'make all-gcc')\n\n2006-02-20  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/25670\n\n\t* Makefile.tpl ([+compare-target+]): Print explanation messages.\n\n\t* Makefile.def (ADAFLAGS, BOOT_ADAFLAGS, LANGUAGES): New flags_to_pass.\n\t* Makefile.tpl (BASE_FLAGS_TO_PASS): Support optional flags_to_pass.\n\t(EXTRA_GCC_FLAGS): Remove ADAFLAGS, BOOT_ADAFLAGS, LANGUAGES,\n\tBUILD_PREFIX, BUILD_PREFIX_1.\n\t* configure.in: (BUILD_PREFIX, BUILD_PREFIX_1): Don't substitute.\n\n\t* Makefile.def (bootstrap stage 1): Pass LIBCFLAGS too.\n\t* Makefile.tpl (POSTSTAGE1_FLAGS_TO_PASS): Override LIBCFLAGS too.\n\n\t* Makefile.tpl (configure-stage[+id+]-[+prefix+][+module+],\n\tall-stage[+id+]-[+prefix+][+module+], : Use $(current_stage) instead\n\tof `cat stage_current`.  Always provide the `r' and `s' variables.\n\t(clean-stage[+id+]-[+prefix+][+module+]): Likewise, and make it into\n\ta single shell execution.\n\t(configure-[+prefix+][+module+], all-[+prefix+][+module+]): For\n\tbootstrapped modules, make the stage1 module if the build was not\n\tstarted yet, else build the current stage.\n\t(all-host, all-target): Omit bootstrapped modules (if bootstrapping).\n\t(all-build, all-host, all-target, [+make_target+]-host,\n\t[+make_target+]-target): Do not use \\-continued lines.\n\t(target modules): Depend on stage_last, not all-gcc, if bootstrapping.\n\t(current_stage, restrap, stage_last): New.\n\n\t* Makefile.in: Regenerate.\n\t* configure: Regenerate.\n\ngcc:\n2006-02-20  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/25476\n\n\t* Makefile.in (LDFLAGS): Define from autoconf substitution.\n\n\t* Makefile.in (BOOTSTRAPPING): New.\n\t(quickstrap): New definition if BOOTSTRAPPING=yes.\n\n\t* Makefile.in (CONFIG_LANGUAGES): Substitute all_selected_languages.\n\t* configure.ac: Substitute all_selected_languages with the languages\n\tthat were configured.  For all the other variables except\n\tlang_specs_files, include all the languages in the tree.\n\t* configure: Regenerate.\n\t\n\t* Makefile.in (stmp-fixinc): Copy includes from the prev-gcc directory,\n\tif there is one.  Run the commands to run fixincludes in the same\n\tsubshell.\n\n\t* doc/makefile.texi: Document new makefile targets from toplevel bootstrap.\n\t* doc/install.texi: Document exact conventions for searching target tools.\n\tDocument --with-build-time-tools.  Document toplevel bootstrap.  Document\n\tsomething more about building an Ada cross-compiler.  Don't list GNU Make\n\trequirements which affect all platforms.\n\nFrom-SVN: r111295", "tree": {"sha": "32516ae534595def108f102ceb8b0fc162136769", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32516ae534595def108f102ceb8b0fc162136769"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6a34c78895f891207fa2314abe4bd103523f90d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a34c78895f891207fa2314abe4bd103523f90d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a34c78895f891207fa2314abe4bd103523f90d1"}], "stats": {"total": 4720, "additions": 2566, "deletions": 2154}, "files": [{"sha": "7b17b2b2fd8e1250f13a02252f06c7966e917409", "filename": "ChangeLog", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -1,3 +1,35 @@\n+2006-02-20  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/25670\n+\n+\t* Makefile.tpl ([+compare-target+]): Print explanation messages.\n+\n+\t* Makefile.def (ADAFLAGS, BOOT_ADAFLAGS, LANGUAGES): New flags_to_pass.\n+\t* Makefile.tpl (BASE_FLAGS_TO_PASS): Support optional flags_to_pass.\n+\t(EXTRA_GCC_FLAGS): Remove ADAFLAGS, BOOT_ADAFLAGS, LANGUAGES,\n+\tBUILD_PREFIX, BUILD_PREFIX_1.\n+\t* configure.in: (BUILD_PREFIX, BUILD_PREFIX_1): Don't substitute.\n+\n+\t* Makefile.def (bootstrap stage 1): Pass LIBCFLAGS too.\n+\t* Makefile.tpl (POSTSTAGE1_FLAGS_TO_PASS): Override LIBCFLAGS too.\n+\n+\t* Makefile.tpl (configure-stage[+id+]-[+prefix+][+module+],\n+\tall-stage[+id+]-[+prefix+][+module+], : Use $(current_stage) instead\n+\tof `cat stage_current`.  Always provide the `r' and `s' variables.\n+\t(clean-stage[+id+]-[+prefix+][+module+]): Likewise, and make it into\n+\ta single shell execution.\n+\t(configure-[+prefix+][+module+], all-[+prefix+][+module+]): For\n+\tbootstrapped modules, make the stage1 module if the build was not\n+\tstarted yet, else build the current stage.\n+\t(all-host, all-target): Omit bootstrapped modules (if bootstrapping).\n+\t(all-build, all-host, all-target, [+make_target+]-host,\n+\t[+make_target+]-target): Do not use \\-continued lines.\n+\t(target modules): Depend on stage_last, not all-gcc, if bootstrapping.\n+\t(current_stage, restrap, stage_last): New.\n+\n+\t* Makefile.in: Regenerate.\n+\t* configure: Regenerate.\n+\n 2006-02-19  Bud Davis  <jmdavis@link.com>\n \n \t* MAINTAINERS (Write After Approval):  Remove myself."}, {"sha": "3227a44560208039b031b4fbdbed856d413ad385", "filename": "Makefile.def", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -207,7 +207,9 @@ flags_to_pass = { flag= SHELL ; };\n flags_to_pass = { flag= YACC ; };\n \n // Host tools\n+flags_to_pass = { flag= ADAFLAGS ; optional=true ; };\n flags_to_pass = { flag= AR_FLAGS ; };\n+flags_to_pass = { flag= BOOT_ADAFLAGS ; optional=true ; };\n flags_to_pass = { flag= BOOT_CFLAGS ; };\n flags_to_pass = { flag= BOOT_LDFLAGS ; };\n flags_to_pass = { flag= CFLAGS ; };\n@@ -241,6 +243,7 @@ flags_to_pass = { flag= STRIP_FOR_TARGET ; };\n flags_to_pass = { flag= WINDRES_FOR_TARGET ; };\n \n // Miscellaneous\n+flags_to_pass = { flag= LANGUAGES ; optional=true ; };\n flags_to_pass = { flag= LEAN ; };\n \n // Inter-module dependencies\n@@ -461,7 +464,7 @@ bootstrap_stage = {\n \tid=1 ;\n \tstage_configure_flags='--disable-intermodule \\\n \t  --disable-coverage --enable-languages=\"$(STAGE1_LANGUAGES)\"' ;\n-\tstage_make_flags='CFLAGS=\"$(STAGE1_CFLAGS)\"' ; };\n+\tstage_make_flags='CFLAGS=\"$(STAGE1_CFLAGS)\" LIBCFLAGS=\"$(STAGE1_CFLAGS)\"' ; };\n bootstrap_stage = {\n \tid=2 ; prev=1 ;\n \tbootstrap_target=bootstrap2 ;"}, {"sha": "37d5510053bfc8e596967fc8568ed52a43e3d2a6", "filename": "Makefile.in", "status": "modified", "additions": 1905, "deletions": 1683, "changes": 3588, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1"}, {"sha": "41c50c4d494f3655de21e4ceee99897cb2cf1c16", "filename": "Makefile.tpl", "status": "modified", "additions": 79, "deletions": 56, "changes": 135, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -389,8 +389,9 @@ HOST_LIB_PATH_[+module+] = \\\n [+ ENDIF lib_path +][+ ENDFOR host_modules +]\n \n # Flags to pass down to all sub-makes.\n-BASE_FLAGS_TO_PASS = [+ FOR flags_to_pass +]\\\n-\t\"[+flag+]=$([+flag+])\" [+ ENDFOR flags_to_pass +]\\\n+BASE_FLAGS_TO_PASS =[+ FOR flags_to_pass +][+ IF optional +] \\\n+\t\"`echo '[+flag+]=$([+flag+])' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\"[+ ELSE optional +] \\\n+\t\"[+flag+]=$([+flag+])\"[+ ENDIF optional+][+ ENDFOR flags_to_pass +] \\\n \t\"CONFIG_SHELL=$(SHELL)\" \\\n \t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \n \n@@ -457,16 +458,12 @@ TARGET_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_TARGET_FLAGS)\n # The BUILD_* variables are a special case, which are used for the gcc\n # cross-building scheme.\n EXTRA_GCC_FLAGS = \\\n-\t'BUILD_PREFIX=$(BUILD_PREFIX)' \\\n-\t'BUILD_PREFIX_1=$(BUILD_PREFIX_1)' \\\n \t\"GCC_FOR_TARGET=$(GCC_FOR_TARGET)\" \\\n-\t\"`echo 'LANGUAGES=$(LANGUAGES)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n \t\"`echo 'STMP_FIXPROTO=$(STMP_FIXPROTO)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n \t\"`echo 'LIMITS_H_TEST=$(LIMITS_H_TEST)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n \t\"`echo 'LIBGCC2_CFLAGS=$(LIBGCC2_CFLAGS)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n \t\"`echo 'LIBGCC2_DEBUG_CFLAGS=$(LIBGCC2_DEBUG_CFLAGS)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n-\t\"`echo 'LIBGCC2_INCLUDES=$(LIBGCC2_INCLUDES)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\" \\\n-\t\"`echo 'BOOT_ADAFLAGS=$(BOOT_ADAFLAGS)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\"\n+\t\"`echo 'LIBGCC2_INCLUDES=$(LIBGCC2_INCLUDES)' | sed -e s'/[^=][^=]*=$$/XFOO=/'`\"\n \n GCC_FLAGS_TO_PASS = $(BASE_FLAGS_TO_PASS) $(EXTRA_HOST_FLAGS) $(EXTRA_GCC_FLAGS)\n \n@@ -500,20 +497,20 @@ all:\n \tfi\n \n .PHONY: all-build\n-all-build: [+\n-  FOR build_modules +] \\\n-    maybe-all-build-[+module+][+\n-  ENDFOR build_modules +]\n+[+ FOR build_modules +]\n+all-build: maybe-all-build-[+module+][+ ENDFOR build_modules +]\n+\n .PHONY: all-host\n-all-host: [+\n-  FOR host_modules +] \\\n-    maybe-all-[+module+][+\n-  ENDFOR host_modules +]\n+[+ FOR host_modules +][+ IF bootstrap +]\n+@if [+module+]-no-bootstrap[+ ENDIF bootstrap +]\n+all-host: maybe-all-[+module+][+ IF bootstrap +]\n+@endif [+module+]-no-bootstrap[+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n+\n .PHONY: all-target\n-all-target: [+\n-  FOR target_modules +] \\\n-    maybe-all-target-[+module+][+\n-  ENDFOR target_modules +]\n+[+ FOR target_modules +][+ IF bootstrap +]\n+@if [+module+]-no-bootstrap[+ ENDIF bootstrap +]\n+all-target: maybe-all-target-[+module+][+ IF bootstrap +]\n+@endif [+module+]-no-bootstrap[+ ENDIF bootstrap +][+ ENDFOR target_modules +]\n \n # Do a target for all the subdirectories.  A ``make do-X'' will do a\n # ``make X'' in all subdirectories (because, in general, there is a\n@@ -530,16 +527,12 @@ do-[+make_target+]:\n \n \n .PHONY: [+make_target+]-host\n-[+make_target+]-host: [+\n-  FOR host_modules +] \\\n-    maybe-[+make_target+]-[+module+][+\n-  ENDFOR host_modules +]\n+[+ FOR host_modules +]\n+[+make_target+]-host: maybe-[+make_target+]-[+module+][+ ENDFOR host_modules +]\n \n .PHONY: [+make_target+]-target\n-[+make_target+]-target: [+\n-  FOR target_modules +] \\\n-    maybe-[+make_target+]-target-[+module+][+\n-  ENDFOR target_modules +]\n+[+ FOR target_modules +]\n+[+make_target+]-target: maybe-[+make_target+]-target-[+module+][+ ENDFOR target_modules +]\n [+ ENDFOR recursive_targets +]\n \n # Here are the targets which correspond to the do-X targets.\n@@ -729,13 +722,17 @@ TAGS: do-TAGS\n maybe-configure-[+prefix+][+module+]:\n @if [+prefix+][+module+]\n maybe-configure-[+prefix+][+module+]: configure-[+prefix+][+module+]\n-configure-[+prefix+][+module+]:\n-\t@[+ IF bootstrap +]test -f stage_last && exit 0; \\\n-\t[+ ELSE bootstrap +]: $(MAKE); $(unstage)\n-\t@[+ ENDIF bootstrap +][+ IF check_multilibs\n-\t+]r=`${PWD_COMMAND}`; export r; \\\n+configure-[+prefix+][+module+]: [+ IF bootstrap +]\n+@endif [+prefix+][+module+]\n+@if [+prefix+][+module+]-bootstrap\n+\t@if test -f stage_last; then $(unstage); else $(MAKE) stage1-start; fi\n+@endif [+prefix+][+module+]-bootstrap\n+@if [+prefix+][+module+][+ ELSE bootstrap +]\n+\t@: $(MAKE); $(unstage)[+ ENDIF bootstrap +]\n+\t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\techo \"Checking multilib configuration for [+module+]...\"; \\\n+\t[+ IF check_multilibs\n+\t+]echo \"Checking multilib configuration for [+module+]...\"; \\\n \t$(SHELL) $(srcdir)/mkinstalldirs [+subdir+]/[+module+] ; \\\n \t$(CC_FOR_TARGET) --print-multi-lib > [+subdir+]/[+module+]/multilib.tmp 2> /dev/null ; \\\n \tif test -r [+subdir+]/[+module+]/multilib.out; then \\\n@@ -747,11 +744,9 @@ configure-[+prefix+][+module+]:\n \t  fi; \\\n \telse \\\n \t  mv [+subdir+]/[+module+]/multilib.tmp [+subdir+]/[+module+]/multilib.out; \\\n-\tfi\n-\t@[+ ENDIF check_multilibs +]test ! -f [+subdir+]/[+module+]/Makefile || exit 0; \\\n+\tfi; \\\n+\t[+ ENDIF check_multilibs +]test ! -f [+subdir+]/[+module+]/Makefile || exit 0; \\\n \t$(SHELL) $(srcdir)/mkinstalldirs [+subdir+]/[+module+] ; \\\n-\tr=`${PWD_COMMAND}`; export r; \\\n-\ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t[+exports+] \\\n \techo Configuring in [+subdir+]/[+module+]; \\\n \tcd \"[+subdir+]/[+module+]\" || exit 1; \\\n@@ -775,12 +770,12 @@ maybe-configure-stage[+id+]-[+prefix+][+module+]:\n @if [+prefix+][+module+]-bootstrap\n maybe-configure-stage[+id+]-[+prefix+][+module+]: configure-stage[+id+]-[+prefix+][+module+]\n configure-stage[+id+]-[+prefix+][+module+]:\n-\t@[ `cat stage_current` = stage[+id+] ] || $(MAKE) stage[+id+]-start\n+\t@[ $(current_stage) = stage[+id+] ] || $(MAKE) stage[+id+]-start\n \t@$(SHELL) $(srcdir)/mkinstalldirs [+subdir+]/[+module+]\n-\t[+ IF check_multilibs\n-\t+]@r=`${PWD_COMMAND}`; export r; \\\n+\t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n-\techo \"Checking multilib configuration for [+module+]...\"; \\\n+\t[+ IF check_multilibs\n+\t+]echo \"Checking multilib configuration for [+module+]...\"; \\\n \t$(CC_FOR_TARGET) --print-multi-lib > [+subdir+]/[+module+]/multilib.tmp 2> /dev/null ; \\\n \tif test -r [+subdir+]/[+module+]/multilib.out; then \\\n \t  if cmp -s [+subdir+]/[+module+]/multilib.tmp [+subdir+]/[+module+]/multilib.out; then \\\n@@ -791,8 +786,8 @@ configure-stage[+id+]-[+prefix+][+module+]:\n \t  fi; \\\n \telse \\\n \t  mv [+subdir+]/[+module+]/multilib.tmp [+subdir+]/[+module+]/multilib.out; \\\n-\tfi\n-\t@[+ ENDIF check_multilibs +]test ! -f [+subdir+]/[+module+]/Makefile || exit 0; \\\n+\tfi; \\\n+\t[+ ENDIF check_multilibs +]test ! -f [+subdir+]/[+module+]/Makefile || exit 0; \\\n \t[+exports+][+ IF prev +] \\\n \t[+poststage1_exports+][+ ENDIF prev +] \\\n \techo Configuring stage [+id+] in [+subdir+]/[+module+] ; \\\n@@ -820,10 +815,14 @@ maybe-all-[+prefix+][+module+]:\n TARGET-[+prefix+][+module+]=[+\n   IF target +][+target+][+ ELSE +]all[+ ENDIF target +]\n maybe-all-[+prefix+][+module+]: all-[+prefix+][+module+]\n-all-[+prefix+][+module+]: configure-[+prefix+][+module+]\n-\t@[+ IF bootstrap +]test -f stage_last && exit 0; \\\n-\t[+ ELSE bootstrap +]: $(MAKE); $(unstage)\n-\t@[+ ENDIF bootstrap +]r=`${PWD_COMMAND}`; export r; \\\n+all-[+prefix+][+module+]: configure-[+prefix+][+module+][+ IF bootstrap +]\n+@endif [+prefix+][+module+]\n+@if [+prefix+][+module+]-bootstrap\n+\t@if test -f stage_last; then $(unstage); else $(MAKE) stage1-start; fi\n+@endif [+prefix+][+module+]-bootstrap\n+@if [+prefix+][+module+][+ ELSE bootstrap +]\n+\t@: $(MAKE); $(unstage)[+ ENDIF bootstrap +]\n+\t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t[+exports+] \\\n \t(cd [+subdir+]/[+module+] && \\\n@@ -841,7 +840,7 @@ maybe-all-stage[+id+]-[+prefix+][+module+]: all-stage[+id+]-[+prefix+][+module+]\n all-stage[+id+]: all-stage[+id+]-[+prefix+][+module+]\n TARGET-stage[+id+]-[+prefix+][+module+] = $(TARGET-[+prefix+][+module+])\n all-stage[+id+]-[+prefix+][+module+]: configure-stage[+id+]-[+prefix+][+module+]\n-\t@[ `cat stage_current` = stage[+id+] ] || $(MAKE) stage[+id+]-start\n+\t@[ $(current_stage) = stage[+id+] ] || $(MAKE) stage[+id+]-start\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t[+exports+][+ IF prev +] \\\n@@ -857,7 +856,7 @@ clean-stage[+id+]: clean-stage[+id+]-[+prefix+][+module+]\n clean-stage[+id+]-[+prefix+][+module+]:\n \t@[ -f [+subdir+]/[+module+]/Makefile ] || [ -f [+subdir+]/stage[+id+]-[+module+]/Makefile ] \\\n \t  || exit 0 ; \\\n-\t[ `cat stage_current` = stage[+id+] ] || $(MAKE) stage[+id+]-start\n+\t[ $(current_stage) = stage[+id+] ] || $(MAKE) stage[+id+]-start; \\\n \tcd [+subdir+]/[+module+] && \\\n \t$(MAKE) [+args+] [+ IF prev +] \\\n \t\t[+poststage1_args+] [+ ENDIF prev +] \\\n@@ -1210,10 +1209,12 @@ gcc-no-fixedincludes:\n \n unstage = :\n stage = :\n+current_stage = \"\"\n \n @if gcc-bootstrap\n unstage = [ -f stage_current ] || $(MAKE) `cat stage_last`-start\n stage = if [ -f stage_current ]; then $(MAKE) `cat stage_current`-end || exit 1; else :; fi\n+current_stage = \"`cat stage_current 2> /dev/null`\"\n @endif gcc-bootstrap\n \n .PHONY: unstage stage\n@@ -1256,6 +1257,7 @@ POSTSTAGE1_FLAGS_TO_PASS = \\\n \tCC=\"$${CC}\" CC_FOR_BUILD=\"$${CC_FOR_BUILD}\" \\\n \tSTAGE_PREFIX=$$r/prev-gcc/ \\\n \tCFLAGS=\"$(BOOT_CFLAGS)\" \\\n+\tLIBCFLAGS=\"$(BOOT_CFLAGS)\" \\\n \tLDFLAGS=\"$(BOOT_LDFLAGS)\" \\\n \tADAC=\"\\$$(CC)\"\n \n@@ -1337,6 +1339,7 @@ do-clean: clean-stage[+id+]\n \tfi; \\\n \t: $(MAKE); $(stage); \\\n \trm -f .bad_compare ; \\\n+\techo Comparing stages [+prev+] and [+id+] ; \\\n \tcd stage[+id+]-gcc; \\\n \tfiles=`find . -name \"*$(objext)\" -print` ; \\\n \tcd .. ; \\\n@@ -1357,7 +1360,7 @@ do-clean: clean-stage[+id+]\n \t  cat .bad_compare; \\\n \t  exit 1; \\\n \telse \\\n-\t  true; \\\n+\t  echo Comparison successful.; \\\n \tfi ; \\\n \t$(STAMP) [+compare-target+][+ IF prev +]\n \tif $(LEAN); then \\\n@@ -1420,19 +1423,39 @@ stagefeedback-start::\n \n @if gcc-bootstrap\n do-distclean: distclean-stage1\n+\n+# Provide a GCC build when we're building target libraries.  This does\n+# not work as a dependency, just as the minimum necessary to avoid errors.\n+stage_last:\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) stage1-bubble\n @endif gcc-bootstrap\n \n+.PHONY: restrap\n+restrap:\n+\t@: $(MAKE); $(stage)\n+\trm -rf stage1-$(TARGET_SUBDIR) [+ FOR bootstrap-stage +][+ IF prev\n+\t  +]stage[+id+] [+ ENDIF prev +][+ ENDFOR bootstrap-stage +]\n+\t$(MAKE) $(RECURSE_FLAGS_TO_PASS) all\n+\n # --------------------------------------\n # Dependencies between different modules\n # --------------------------------------\n \n # Generic dependencies for target modules on host stuff, especially gcc\n-[+ FOR target_modules +][+ IF bootstrap +]\n-@if gcc-bootstrap[+ FOR bootstrap_stage +]\n-configure-stage[+id+]-target-[+module+]: maybe-all-stage[+id+]-gcc[+ ENDFOR +]\n-@endif gcc-bootstrap[+ ENDIF bootstrap +]\n-configure-target-[+module+]: maybe-all-gcc\n-[+ ENDFOR target_modules +]\n+@if gcc-bootstrap[+ FOR target_modules +][+ IF bootstrap\n+  +][+ FOR bootstrap_stage +]\n+configure-stage[+id+]-target-[+module+]: maybe-all-stage[+id+]-gcc[+\n+  ENDFOR +][+ ELSE bootstrap +]\n+configure-target-[+module+]: stage_last[+\n+  ENDIF bootstrap +][+ ENDFOR target_modules +]\n+@endif gcc-bootstrap\n+\n+@if gcc-no-bootstrap[+ FOR target_modules +][+ IF bootstrap\n+  +][+ ELSE +]\n+configure-target-[+module+]: maybe-all-gcc[+\n+  ENDIF bootstrap +][+ ENDFOR target_modules +]\n+@endif gcc-no-bootstrap\n+\n \n [+ FOR lang_env_dependencies +]\n configure-target-[+module+]: maybe-all-target-newlib maybe-all-target-libgloss"}, {"sha": "d74e6116d6a928368f5c8fb2507f5ad6985ad053", "filename": "configure", "status": "modified", "additions": 132, "deletions": 141, "changes": 273, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -1862,8 +1862,6 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX=${CXX-${host_alias}-c++}\n   CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n   CC_FOR_BUILD=${CC_FOR_BUILD-gcc}\n-  BUILD_PREFIX=${build_alias}-\n-  BUILD_PREFIX_1=${build_alias}-\n \n else\n   # Set reasonable default values for some tools even if not Canadian.\n@@ -1875,13 +1873,10 @@ else\n   # This is all going to change when we autoconfiscate...\n \n   CC_FOR_BUILD=\"\\$(CC)\"\n-  BUILD_PREFIX=\n-  BUILD_PREFIX_1=loser-\n-\n   # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1885: checking for $ac_word\" >&5\n+echo \"configure:1880: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1911,7 +1906,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1915: checking for $ac_word\" >&5\n+echo \"configure:1910: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1962,7 +1957,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1966: checking for $ac_word\" >&5\n+echo \"configure:1961: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1994,7 +1989,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1998: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1993: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -2005,12 +2000,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 2009 \"configure\"\n+#line 2004 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:2014: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2009: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -2036,12 +2031,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:2040: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:2035: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:2045: checking whether we are using GNU C\" >&5\n+echo \"configure:2040: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2050,7 +2045,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2054: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:2049: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -2069,7 +2064,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:2073: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:2068: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2136,7 +2131,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}gnatbind\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2140: checking for $ac_word\" >&5\n+echo \"configure:2135: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2168,7 +2163,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2172: checking for $ac_word\" >&5\n+echo \"configure:2167: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2201,7 +2196,7 @@ fi\n fi\n \n echo $ac_n \"checking whether compiler driver understands Ada\"\"... $ac_c\" 1>&6\n-echo \"configure:2205: checking whether compiler driver understands Ada\" >&5\n+echo \"configure:2200: checking whether compiler driver understands Ada\" >&5\n if eval \"test \\\"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2233,7 +2228,7 @@ else\n fi\n \n echo $ac_n \"checking how to compare bootstrapped objects\"\"... $ac_c\" 1>&6\n-echo \"configure:2237: checking how to compare bootstrapped objects\" >&5\n+echo \"configure:2232: checking how to compare bootstrapped objects\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2331,9 +2326,9 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS $gmpinc\"\n # Check GMP actually works\n echo $ac_n \"checking for correct version of gmp.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2335: checking for correct version of gmp.h\" >&5\n+echo \"configure:2330: checking for correct version of gmp.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2337 \"configure\"\n+#line 2332 \"configure\"\n #include \"confdefs.h\"\n #include \"gmp.h\"\n int main() {\n@@ -2344,7 +2339,7 @@ choke me\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2348: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2343: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2357,20 +2352,20 @@ rm -f conftest*\n \n if test x\"$have_gmp\" = xyes; then\n   echo $ac_n \"checking for MPFR\"\"... $ac_c\" 1>&6\n-echo \"configure:2361: checking for MPFR\" >&5\n+echo \"configure:2356: checking for MPFR\" >&5\n \n   saved_LIBS=\"$LIBS\"\n   LIBS=\"$LIBS $gmplibs\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2366 \"configure\"\n+#line 2361 \"configure\"\n #include \"confdefs.h\"\n #include <gmp.h>\n #include <mpfr.h>\n int main() {\n mpfr_t n; mpfr_init(n);\n ; return 0; }\n EOF\n-if { (eval echo configure:2374: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2369: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -3387,8 +3382,6 @@ done\n \n \n \n-\n-\n # Build module lists & subconfigure args.\n \n \n@@ -3415,7 +3408,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3419: checking for $ac_word\" >&5\n+echo \"configure:3412: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3455,7 +3448,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3459: checking for $ac_word\" >&5\n+echo \"configure:3452: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_BISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3494,7 +3487,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3498: checking for $ac_word\" >&5\n+echo \"configure:3491: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_M4'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3533,7 +3526,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3537: checking for $ac_word\" >&5\n+echo \"configure:3530: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3573,7 +3566,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3577: checking for $ac_word\" >&5\n+echo \"configure:3570: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3612,7 +3605,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3616: checking for $ac_word\" >&5\n+echo \"configure:3609: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3665,7 +3658,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3669: checking for $ac_word\" >&5\n+echo \"configure:3662: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_EXPECT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3706,7 +3699,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3710: checking for $ac_word\" >&5\n+echo \"configure:3703: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RUNTEST'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3754,7 +3747,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3758: checking for $ac_word\" >&5\n+echo \"configure:3751: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3785,7 +3778,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3789: checking for $ac_word\" >&5\n+echo \"configure:3782: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3829,7 +3822,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3833: checking for $ac_word\" >&5\n+echo \"configure:3826: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3860,7 +3853,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3864: checking for $ac_word\" >&5\n+echo \"configure:3857: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3904,7 +3897,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3908: checking for $ac_word\" >&5\n+echo \"configure:3901: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3935,7 +3928,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3939: checking for $ac_word\" >&5\n+echo \"configure:3932: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3979,7 +3972,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3983: checking for $ac_word\" >&5\n+echo \"configure:3976: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4010,7 +4003,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4014: checking for $ac_word\" >&5\n+echo \"configure:4007: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4054,7 +4047,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4058: checking for $ac_word\" >&5\n+echo \"configure:4051: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LIPO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4085,7 +4078,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4089: checking for $ac_word\" >&5\n+echo \"configure:4082: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LIPO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4129,7 +4122,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4133: checking for $ac_word\" >&5\n+echo \"configure:4126: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4160,7 +4153,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4164: checking for $ac_word\" >&5\n+echo \"configure:4157: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4204,7 +4197,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4208: checking for $ac_word\" >&5\n+echo \"configure:4201: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4235,7 +4228,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4239: checking for $ac_word\" >&5\n+echo \"configure:4232: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4274,7 +4267,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4278: checking for $ac_word\" >&5\n+echo \"configure:4271: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4305,7 +4298,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4309: checking for $ac_word\" >&5\n+echo \"configure:4302: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4344,7 +4337,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4348: checking for $ac_word\" >&5\n+echo \"configure:4341: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4375,7 +4368,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4379: checking for $ac_word\" >&5\n+echo \"configure:4372: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4419,7 +4412,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4423: checking for $ac_word\" >&5\n+echo \"configure:4416: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4450,7 +4443,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4454: checking for $ac_word\" >&5\n+echo \"configure:4447: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4494,7 +4487,7 @@ fi\n     # Extract the first word of \"${ncn_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4498: checking for $ac_word\" >&5\n+echo \"configure:4491: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4525,7 +4518,7 @@ fi\n     # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4529: checking for $ac_word\" >&5\n+echo \"configure:4522: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4589,7 +4582,7 @@ fi\n  if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in cc gcc; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:4593: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:4586: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_CC_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -4606,7 +4599,7 @@ if test -z \"$ac_cv_prog_CC_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4610: checking for $ac_word\" >&5\n+echo \"configure:4603: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4637,7 +4630,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4641: checking for $ac_word\" >&5\n+echo \"configure:4634: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4680,7 +4673,7 @@ fi\n  if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in c++ g++ cxx gxx; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:4684: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:4677: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_CXX_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -4697,7 +4690,7 @@ if test -z \"$ac_cv_prog_CXX_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4701: checking for $ac_word\" >&5\n+echo \"configure:4694: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4728,7 +4721,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4732: checking for $ac_word\" >&5\n+echo \"configure:4725: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CXX_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4771,7 +4764,7 @@ fi\n  if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in gcc; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:4775: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:4768: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_GCC_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -4788,7 +4781,7 @@ if test -z \"$ac_cv_prog_GCC_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4792: checking for $ac_word\" >&5\n+echo \"configure:4785: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4819,7 +4812,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4823: checking for $ac_word\" >&5\n+echo \"configure:4816: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCC_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4857,7 +4850,7 @@ fi\n  if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in gcj; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:4861: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:4854: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_GCJ_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -4874,7 +4867,7 @@ if test -z \"$ac_cv_prog_GCJ_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4878: checking for $ac_word\" >&5\n+echo \"configure:4871: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4905,7 +4898,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4909: checking for $ac_word\" >&5\n+echo \"configure:4902: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GCJ_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4948,7 +4941,7 @@ fi\n  if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in gfortran; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:4952: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:4945: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_GFORTRAN_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -4965,7 +4958,7 @@ if test -z \"$ac_cv_prog_GFORTRAN_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4969: checking for $ac_word\" >&5\n+echo \"configure:4962: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4996,7 +4989,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5000: checking for $ac_word\" >&5\n+echo \"configure:4993: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GFORTRAN_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5103,7 +5096,7 @@ rm conftest.c\n if test -z \"$ac_cv_path_AR_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for ar in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5107: checking for ar in $with_build_time_tools\" >&5\n+echo \"configure:5100: checking for ar in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/ar; then\n       AR_FOR_TARGET=`cd $with_build_time_tools && pwd`/ar\n       ac_cv_path_AR_FOR_TARGET=$AR_FOR_TARGET\n@@ -5121,7 +5114,7 @@ if test -z \"$ac_cv_path_AR_FOR_TARGET\" ; then\n   # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5125: checking for $ac_word\" >&5\n+echo \"configure:5118: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5158,7 +5151,7 @@ if test -z \"$ac_cv_path_AR_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in ar; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5162: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5155: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_AR_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5175,7 +5168,7 @@ if test -z \"$ac_cv_prog_AR_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5179: checking for $ac_word\" >&5\n+echo \"configure:5172: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5206,7 +5199,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5210: checking for $ac_word\" >&5\n+echo \"configure:5203: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5256,7 +5249,7 @@ fi\n if test -z \"$ac_cv_path_AS_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for as in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5260: checking for as in $with_build_time_tools\" >&5\n+echo \"configure:5253: checking for as in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/as; then\n       AS_FOR_TARGET=`cd $with_build_time_tools && pwd`/as\n       ac_cv_path_AS_FOR_TARGET=$AS_FOR_TARGET\n@@ -5274,7 +5267,7 @@ if test -z \"$ac_cv_path_AS_FOR_TARGET\" ; then\n   # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5278: checking for $ac_word\" >&5\n+echo \"configure:5271: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5311,7 +5304,7 @@ if test -z \"$ac_cv_path_AS_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in as; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5315: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5308: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_AS_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5328,7 +5321,7 @@ if test -z \"$ac_cv_prog_AS_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5332: checking for $ac_word\" >&5\n+echo \"configure:5325: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5359,7 +5352,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5363: checking for $ac_word\" >&5\n+echo \"configure:5356: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5409,7 +5402,7 @@ fi\n if test -z \"$ac_cv_path_DLLTOOL_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for dlltool in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5413: checking for dlltool in $with_build_time_tools\" >&5\n+echo \"configure:5406: checking for dlltool in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/dlltool; then\n       DLLTOOL_FOR_TARGET=`cd $with_build_time_tools && pwd`/dlltool\n       ac_cv_path_DLLTOOL_FOR_TARGET=$DLLTOOL_FOR_TARGET\n@@ -5427,7 +5420,7 @@ if test -z \"$ac_cv_path_DLLTOOL_FOR_TARGET\" ; then\n   # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5431: checking for $ac_word\" >&5\n+echo \"configure:5424: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5464,7 +5457,7 @@ if test -z \"$ac_cv_path_DLLTOOL_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in dlltool; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5468: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5461: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_DLLTOOL_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5481,7 +5474,7 @@ if test -z \"$ac_cv_prog_DLLTOOL_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5485: checking for $ac_word\" >&5\n+echo \"configure:5478: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5512,7 +5505,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5516: checking for $ac_word\" >&5\n+echo \"configure:5509: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5562,7 +5555,7 @@ fi\n if test -z \"$ac_cv_path_LD_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for ld in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5566: checking for ld in $with_build_time_tools\" >&5\n+echo \"configure:5559: checking for ld in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/ld; then\n       LD_FOR_TARGET=`cd $with_build_time_tools && pwd`/ld\n       ac_cv_path_LD_FOR_TARGET=$LD_FOR_TARGET\n@@ -5580,7 +5573,7 @@ if test -z \"$ac_cv_path_LD_FOR_TARGET\" ; then\n   # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5584: checking for $ac_word\" >&5\n+echo \"configure:5577: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5617,7 +5610,7 @@ if test -z \"$ac_cv_path_LD_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in ld; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5621: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5614: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_LD_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5634,7 +5627,7 @@ if test -z \"$ac_cv_prog_LD_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5638: checking for $ac_word\" >&5\n+echo \"configure:5631: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5665,7 +5658,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5669: checking for $ac_word\" >&5\n+echo \"configure:5662: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5715,7 +5708,7 @@ fi\n if test -z \"$ac_cv_path_LIPO_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for lipo in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5719: checking for lipo in $with_build_time_tools\" >&5\n+echo \"configure:5712: checking for lipo in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/lipo; then\n       LIPO_FOR_TARGET=`cd $with_build_time_tools && pwd`/lipo\n       ac_cv_path_LIPO_FOR_TARGET=$LIPO_FOR_TARGET\n@@ -5733,7 +5726,7 @@ if test -z \"$ac_cv_path_LIPO_FOR_TARGET\" ; then\n   # Extract the first word of \"lipo\", so it can be a program name with args.\n set dummy lipo; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5737: checking for $ac_word\" >&5\n+echo \"configure:5730: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_LIPO_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5770,7 +5763,7 @@ if test -z \"$ac_cv_path_LIPO_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in lipo; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5774: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5767: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_LIPO_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5787,7 +5780,7 @@ if test -z \"$ac_cv_prog_LIPO_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5791: checking for $ac_word\" >&5\n+echo \"configure:5784: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5818,7 +5811,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5822: checking for $ac_word\" >&5\n+echo \"configure:5815: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LIPO_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5868,7 +5861,7 @@ fi\n if test -z \"$ac_cv_path_NM_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for nm in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5872: checking for nm in $with_build_time_tools\" >&5\n+echo \"configure:5865: checking for nm in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/nm; then\n       NM_FOR_TARGET=`cd $with_build_time_tools && pwd`/nm\n       ac_cv_path_NM_FOR_TARGET=$NM_FOR_TARGET\n@@ -5886,7 +5879,7 @@ if test -z \"$ac_cv_path_NM_FOR_TARGET\" ; then\n   # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5890: checking for $ac_word\" >&5\n+echo \"configure:5883: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5923,7 +5916,7 @@ if test -z \"$ac_cv_path_NM_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in nm; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:5927: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:5920: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_NM_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -5940,7 +5933,7 @@ if test -z \"$ac_cv_prog_NM_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5944: checking for $ac_word\" >&5\n+echo \"configure:5937: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5971,7 +5964,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5975: checking for $ac_word\" >&5\n+echo \"configure:5968: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6021,7 +6014,7 @@ fi\n if test -z \"$ac_cv_path_OBJDUMP_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for objdump in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6025: checking for objdump in $with_build_time_tools\" >&5\n+echo \"configure:6018: checking for objdump in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/objdump; then\n       OBJDUMP_FOR_TARGET=`cd $with_build_time_tools && pwd`/objdump\n       ac_cv_path_OBJDUMP_FOR_TARGET=$OBJDUMP_FOR_TARGET\n@@ -6039,7 +6032,7 @@ if test -z \"$ac_cv_path_OBJDUMP_FOR_TARGET\" ; then\n   # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6043: checking for $ac_word\" >&5\n+echo \"configure:6036: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_OBJDUMP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6076,7 +6069,7 @@ if test -z \"$ac_cv_path_OBJDUMP_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in objdump; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6080: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:6073: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_OBJDUMP_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -6093,7 +6086,7 @@ if test -z \"$ac_cv_prog_OBJDUMP_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6097: checking for $ac_word\" >&5\n+echo \"configure:6090: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6124,7 +6117,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6128: checking for $ac_word\" >&5\n+echo \"configure:6121: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6174,7 +6167,7 @@ fi\n if test -z \"$ac_cv_path_RANLIB_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for ranlib in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6178: checking for ranlib in $with_build_time_tools\" >&5\n+echo \"configure:6171: checking for ranlib in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/ranlib; then\n       RANLIB_FOR_TARGET=`cd $with_build_time_tools && pwd`/ranlib\n       ac_cv_path_RANLIB_FOR_TARGET=$RANLIB_FOR_TARGET\n@@ -6192,7 +6185,7 @@ if test -z \"$ac_cv_path_RANLIB_FOR_TARGET\" ; then\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6196: checking for $ac_word\" >&5\n+echo \"configure:6189: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6229,7 +6222,7 @@ if test -z \"$ac_cv_path_RANLIB_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in ranlib; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6233: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:6226: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_RANLIB_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -6246,7 +6239,7 @@ if test -z \"$ac_cv_prog_RANLIB_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6250: checking for $ac_word\" >&5\n+echo \"configure:6243: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6277,7 +6270,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6281: checking for $ac_word\" >&5\n+echo \"configure:6274: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6327,7 +6320,7 @@ fi\n if test -z \"$ac_cv_path_STRIP_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for strip in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6331: checking for strip in $with_build_time_tools\" >&5\n+echo \"configure:6324: checking for strip in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/strip; then\n       STRIP_FOR_TARGET=`cd $with_build_time_tools && pwd`/strip\n       ac_cv_path_STRIP_FOR_TARGET=$STRIP_FOR_TARGET\n@@ -6345,7 +6338,7 @@ if test -z \"$ac_cv_path_STRIP_FOR_TARGET\" ; then\n   # Extract the first word of \"strip\", so it can be a program name with args.\n set dummy strip; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6349: checking for $ac_word\" >&5\n+echo \"configure:6342: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_STRIP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6382,7 +6375,7 @@ if test -z \"$ac_cv_path_STRIP_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in strip; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6386: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:6379: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_STRIP_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -6399,7 +6392,7 @@ if test -z \"$ac_cv_prog_STRIP_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6403: checking for $ac_word\" >&5\n+echo \"configure:6396: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6430,7 +6423,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6434: checking for $ac_word\" >&5\n+echo \"configure:6427: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6480,7 +6473,7 @@ fi\n if test -z \"$ac_cv_path_WINDRES_FOR_TARGET\" ; then\n   if test -n \"$with_build_time_tools\"; then\n     echo $ac_n \"checking for windres in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6484: checking for windres in $with_build_time_tools\" >&5\n+echo \"configure:6477: checking for windres in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/windres; then\n       WINDRES_FOR_TARGET=`cd $with_build_time_tools && pwd`/windres\n       ac_cv_path_WINDRES_FOR_TARGET=$WINDRES_FOR_TARGET\n@@ -6498,7 +6491,7 @@ if test -z \"$ac_cv_path_WINDRES_FOR_TARGET\" ; then\n   # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6502: checking for $ac_word\" >&5\n+echo \"configure:6495: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6535,7 +6528,7 @@ if test -z \"$ac_cv_path_WINDRES_FOR_TARGET\" ; then\n    if test -n \"$with_build_time_tools\"; then\n   for ncn_progname in windres; do\n     echo $ac_n \"checking for ${ncn_progname} in $with_build_time_tools\"\"... $ac_c\" 1>&6\n-echo \"configure:6539: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n+echo \"configure:6532: checking for ${ncn_progname} in $with_build_time_tools\" >&5\n     if test -x $with_build_time_tools/${ncn_progname}; then\n       ac_cv_prog_WINDRES_FOR_TARGET=$with_build_time_tools/${ncn_progname}\n       echo \"$ac_t\"\"yes\" 1>&6\n@@ -6552,7 +6545,7 @@ if test -z \"$ac_cv_prog_WINDRES_FOR_TARGET\"; then\n       # Extract the first word of \"${ncn_target_tool_prefix}${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6556: checking for $ac_word\" >&5\n+echo \"configure:6549: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6583,7 +6576,7 @@ fi\n       # Extract the first word of \"${ncn_progname}\", so it can be a program name with args.\n set dummy ${ncn_progname}; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6587: checking for $ac_word\" >&5\n+echo \"configure:6580: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6631,7 +6624,7 @@ fi\n RAW_CXX_FOR_TARGET=\"$CXX_FOR_TARGET\"\n \n echo $ac_n \"checking where to find the target ar\"\"... $ac_c\" 1>&6\n-echo \"configure:6635: checking where to find the target ar\" >&5\n+echo \"configure:6628: checking where to find the target ar\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$AR_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6664,7 +6657,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target as\"\"... $ac_c\" 1>&6\n-echo \"configure:6668: checking where to find the target as\" >&5\n+echo \"configure:6661: checking where to find the target as\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$AS_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6697,7 +6690,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target cc\"\"... $ac_c\" 1>&6\n-echo \"configure:6701: checking where to find the target cc\" >&5\n+echo \"configure:6694: checking where to find the target cc\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$CC_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6730,7 +6723,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target c++\"\"... $ac_c\" 1>&6\n-echo \"configure:6734: checking where to find the target c++\" >&5\n+echo \"configure:6727: checking where to find the target c++\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$CXX_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6766,7 +6759,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target c++ for libstdc++\"\"... $ac_c\" 1>&6\n-echo \"configure:6770: checking where to find the target c++ for libstdc++\" >&5\n+echo \"configure:6763: checking where to find the target c++ for libstdc++\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$RAW_CXX_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6802,7 +6795,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target dlltool\"\"... $ac_c\" 1>&6\n-echo \"configure:6806: checking where to find the target dlltool\" >&5\n+echo \"configure:6799: checking where to find the target dlltool\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$DLLTOOL_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6835,7 +6828,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target gcc\"\"... $ac_c\" 1>&6\n-echo \"configure:6839: checking where to find the target gcc\" >&5\n+echo \"configure:6832: checking where to find the target gcc\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$GCC_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6868,7 +6861,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target gcj\"\"... $ac_c\" 1>&6\n-echo \"configure:6872: checking where to find the target gcj\" >&5\n+echo \"configure:6865: checking where to find the target gcj\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$GCJ_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6904,7 +6897,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target gfortran\"\"... $ac_c\" 1>&6\n-echo \"configure:6908: checking where to find the target gfortran\" >&5\n+echo \"configure:6901: checking where to find the target gfortran\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$GFORTRAN_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6940,7 +6933,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target ld\"\"... $ac_c\" 1>&6\n-echo \"configure:6944: checking where to find the target ld\" >&5\n+echo \"configure:6937: checking where to find the target ld\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$LD_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6973,7 +6966,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target lipo\"\"... $ac_c\" 1>&6\n-echo \"configure:6977: checking where to find the target lipo\" >&5\n+echo \"configure:6970: checking where to find the target lipo\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$LIPO_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -6996,7 +6989,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target nm\"\"... $ac_c\" 1>&6\n-echo \"configure:7000: checking where to find the target nm\" >&5\n+echo \"configure:6993: checking where to find the target nm\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$NM_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -7029,7 +7022,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target objdump\"\"... $ac_c\" 1>&6\n-echo \"configure:7033: checking where to find the target objdump\" >&5\n+echo \"configure:7026: checking where to find the target objdump\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$OBJDUMP_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -7062,7 +7055,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target ranlib\"\"... $ac_c\" 1>&6\n-echo \"configure:7066: checking where to find the target ranlib\" >&5\n+echo \"configure:7059: checking where to find the target ranlib\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$RANLIB_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -7095,7 +7088,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target strip\"\"... $ac_c\" 1>&6\n-echo \"configure:7099: checking where to find the target strip\" >&5\n+echo \"configure:7092: checking where to find the target strip\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$STRIP_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -7128,7 +7121,7 @@ else\n   fi\n fi\n echo $ac_n \"checking where to find the target windres\"\"... $ac_c\" 1>&6\n-echo \"configure:7132: checking where to find the target windres\" >&5\n+echo \"configure:7125: checking where to find the target windres\" >&5\n if test \"x${build}\" != \"x${host}\" ; then\n   if expr \"x$WINDRES_FOR_TARGET\" : \"x/\" > /dev/null; then\n     # We already found the complete path\n@@ -7189,7 +7182,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7193: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7186: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -7435,8 +7428,6 @@ s%@alphaieee_frag@%%g\n /@ospace_frag@/r $ospace_frag\n s%@ospace_frag@%%g\n s%@RPATH_ENVVAR@%$RPATH_ENVVAR%g\n-s%@BUILD_PREFIX@%$BUILD_PREFIX%g\n-s%@BUILD_PREFIX_1@%$BUILD_PREFIX_1%g\n s%@tooldir@%$tooldir%g\n s%@build_tooldir@%$build_tooldir%g\n s%@CONFIGURE_GDB_TK@%$CONFIGURE_GDB_TK%g"}, {"sha": "adb53b9468ea0fb7b0e4fd3b208de0cff7adb130", "filename": "configure.in", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -1060,8 +1060,6 @@ if test \"${build}\" != \"${host}\" ; then\n   CXX=${CXX-${host_alias}-c++}\n   CXXFLAGS=${CXXFLAGS-\"-g -O2\"}\n   CC_FOR_BUILD=${CC_FOR_BUILD-gcc}\n-  BUILD_PREFIX=${build_alias}-\n-  BUILD_PREFIX_1=${build_alias}-\n \n else\n   # Set reasonable default values for some tools even if not Canadian.\n@@ -1073,9 +1071,6 @@ else\n   # This is all going to change when we autoconfiscate...\n \n   CC_FOR_BUILD=\"\\$(CC)\"\n-  BUILD_PREFIX=\n-  BUILD_PREFIX_1=loser-\n-\n   AC_PROG_CC\n \n   # We must set the default linker to the linker used by gcc for the correct\n@@ -2160,8 +2155,6 @@ AC_SUBST_FILE(ospace_frag)\n \n # Miscellanea: directories, flags, etc.\n AC_SUBST(RPATH_ENVVAR)\n-AC_SUBST(BUILD_PREFIX)\n-AC_SUBST(BUILD_PREFIX_1)\n AC_SUBST(tooldir)\n AC_SUBST(build_tooldir)\n AC_SUBST(CONFIGURE_GDB_TK)"}, {"sha": "51a06358b89803cac659fbf9aaaf6d6b75812f09", "filename": "gcc/ChangeLog", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -1,3 +1,28 @@\n+2006-02-20  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/25476\n+\n+\t* Makefile.in (LDFLAGS): Define from autoconf substitution.\n+\n+\t* Makefile.in (BOOTSTRAPPING): New.\n+\t(quickstrap): New definition if BOOTSTRAPPING=yes.\n+\n+\t* Makefile.in (CONFIG_LANGUAGES): Substitute all_selected_languages.\n+\t* configure.ac: Substitute all_selected_languages with the languages\n+\tthat were configured.  For all the other variables except\n+\tlang_specs_files, include all the languages in the tree.\n+\t* configure: Regenerate.\n+\t\n+\t* Makefile.in (stmp-fixinc): Copy includes from the prev-gcc directory,\n+\tif there is one.  Run the commands to run fixincludes in the same\n+\tsubshell.\n+\n+\t* doc/makefile.texi: Document new makefile targets from toplevel bootstrap.\n+\t* doc/install.texi: Document exact conventions for searching target tools.\n+\tDocument --with-build-time-tools.  Document toplevel bootstrap.  Document\n+\tsomething more about building an Ada cross-compiler.  Don't list GNU Make\n+\trequirements which affect all platforms.\n+\n 2006-02-19  Roger Sayle  <roger@eyesopen.com>\n \n \tPR middle-end/19543"}, {"sha": "ae941265196c5ba31ff98f0c688020ac0f3d9cee", "filename": "gcc/Makefile.in", "status": "modified", "additions": 25, "deletions": 11, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -130,7 +130,7 @@ T_ADAFLAGS =\n SUBDIRS =@subdirs@ build\n \n # Selection of languages to be made.\n-CONFIG_LANGUAGES = @all_languages@\n+CONFIG_LANGUAGES = @all_selected_languages@\n LANGUAGES = c gcov$(exeext) gcov-dump$(exeext) $(CONFIG_LANGUAGES)\n \n # Selection of languages to be made during stage1 build.\n@@ -150,6 +150,7 @@ BOOT_LANGUAGES = c @all_boot_languages@\n XCFLAGS =\n TCFLAGS =\n CFLAGS = -g\n+LDFLAGS = @LDFLAGS@\n STAGE1_CFLAGS = -g @stage1_cflags@\n STAGE1_CHECKING = -DENABLE_CHECKING -DENABLE_ASSERT_CHECKING\n BOOT_CFLAGS = -g -O2\n@@ -3193,17 +3194,23 @@ stmp-fixinc: gsyslimits.h macro_list \\\n \tfi\n \trm -rf include; mkdir include\n \t-chmod a+rx include\n-\t(TARGET_MACHINE='$(target)'; srcdir=`cd $(srcdir); ${PWD_COMMAND}`; \\\n-\t  SHELL='$(SHELL)'; MACRO_LIST=`${PWD_COMMAND}`/macro_list ; \\\n-\t  export TARGET_MACHINE srcdir SHELL MACRO_LIST && \\\n-\t  cd $(build_objdir)/fixincludes && \\\n-\t  $(SHELL) ./fixinc.sh ../../gcc/include \\\n-\t    $(SYSTEM_HEADER_DIR) $(OTHER_FIXINCLUDES_DIRS) )\n-\trm -f include/syslimits.h\n-\tif [ -f include/limits.h ]; then \\\n-\t  mv include/limits.h include/syslimits.h; \\\n+\tif [ -d ../prev-gcc ]; then \\\n+\t  cd ../prev-gcc && \\\n+\t  $(MAKE) $(INSTALL_HEADERS_DIR) DESTDIR=`pwd`/../gcc/ \\\n+\t    libsubdir=. ; \\\n \telse \\\n-\t  cp $(srcdir)/gsyslimits.h include/syslimits.h; \\\n+\t  (TARGET_MACHINE='$(target)'; srcdir=`cd $(srcdir); ${PWD_COMMAND}`; \\\n+\t    SHELL='$(SHELL)'; MACRO_LIST=`${PWD_COMMAND}`/macro_list ; \\\n+\t    export TARGET_MACHINE srcdir SHELL MACRO_LIST && \\\n+\t    cd $(build_objdir)/fixincludes && \\\n+\t    $(SHELL) ./fixinc.sh ../../gcc/include \\\n+\t      $(SYSTEM_HEADER_DIR) $(OTHER_FIXINCLUDES_DIRS) ); \\\n+\t  rm -f include/syslimits.h; \\\n+\t  if [ -f include/limits.h ]; then \\\n+\t    mv include/limits.h include/syslimits.h; \\\n+\t  else \\\n+\t    cp $(srcdir)/gsyslimits.h include/syslimits.h; \\\n+\t  fi; \\\n \tfi\n \tchmod a+r include/syslimits.h\n \t$(STAMP) stmp-fixinc\n@@ -4239,12 +4246,19 @@ bubblestrap:\n \t  $(MAKE) $(REMAKEFLAGS) stage4_build || exit 1; \\\n \tfi\n \n+BOOTSTRAPPING := $(shell if test -f ../stage_last; then echo yes; else echo no; fi)\n+ifeq ($(BOOTSTRAPPING),yes)\n+# Provide quickstrap as a target that people can type into the gcc directory,\n+# and that fails if you're not into it.\n+quickstrap: all\n+else\n quickstrap:\n \tif test -f stage_last ; then \\\n \t  LAST=`cat stage_last`; rm $$LAST; $(MAKE) $(REMAKEFLAGS) $$LAST; \\\n \telse \\\n \t  $(MAKE) $(REMAKEFLAGS) stage1_build; \\\n \tfi\n+endif\n \n cleanstrap:\n \t-$(MAKE) clean"}, {"sha": "e1b1a79621a78eecb3645ff0ba737958e22bbb01", "filename": "gcc/configure", "status": "modified", "additions": 80, "deletions": 75, "changes": 155, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn cxx_compat_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical build_subdir host_subdir target_subdir GENINSRC CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT NO_MINUS_C_MINUS_O OUTPUT_OPTION CPP EGREP strict1_warn cxx_compat_warn warn_cflags WERROR nocommon_flag TREEBROWSER valgrind_path valgrind_path_defines valgrind_command coverage_flags enable_multilib enable_decimal_float enable_shared TARGET_SYSTEM_ROOT TARGET_SYSTEM_ROOT_DEFINE CROSS_SYSTEM_HEADER_DIR onestep SET_MAKE AWK LN_S LN RANLIB ac_ct_RANLIB ranlib_flags INSTALL INSTALL_PROGRAM INSTALL_DATA make_compare_target have_mktemp_command MAKEINFO BUILD_INFO GENERATED_MANPAGES FLEX BISON NM AR stage1_cflags COLLECT2_LIBS GNAT_LIBEXC LDEXP_LIB TARGET_GETGROUPS_T LIBICONV LTLIBICONV LIBICONV_DEP manext objext gthread_flags extra_modes_file extra_opt_files USE_NLS LIBINTL LIBINTL_DEP INCINTL XGETTEXT GMSGFMT POSUB CATALOGS host_cc_for_libada CROSS ALL SYSTEM_HEADER_DIR inhibit_libc CC_FOR_BUILD BUILD_CFLAGS STMP_FIXINC STMP_FIXPROTO collect2 gcc_cv_as ORIGINAL_AS_FOR_TARGET gcc_cv_ld ORIGINAL_LD_FOR_TARGET gcc_cv_nm ORIGINAL_NM_FOR_TARGET gcc_cv_objdump libgcc_visibility GGC zlibdir zlibinc MAINT gcc_tooldir dollar slibdir objdir subdirs srcdir all_boot_languages all_compilers all_gtfiles all_gtfiles_files_langs all_gtfiles_files_files all_lang_makefrags all_lang_makefiles all_languages all_selected_languages all_stagestuff build_exeext build_install_headers_dir build_xm_file_list build_xm_include_list build_xm_defines check_languages cc_set_by_configure quoted_cc_set_by_configure cpp_install_dir xmake_file tmake_file extra_gcc_objs extra_headers_list extra_objs extra_parts extra_passes extra_programs float_h_file gcc_config_arguments gcc_gxx_include_dir libstdcxx_incdir host_exeext host_xm_file_list host_xm_include_list host_xm_defines out_host_hook_obj install lang_opt_files lang_specs_files lang_tree_files local_prefix md_file objc_boehm_gc out_file out_object_file stage_prefix_set_by_configure quoted_stage_prefix_set_by_configure thread_file tm_file_list tm_include_list tm_defines tm_p_file_list tm_p_include_list xm_file_list xm_include_list xm_defines c_target_objs cxx_target_objs target_cpu_default GMPLIBS GMPINC LIBOBJS LTLIBOBJS'\n ac_subst_files='language_hooks'\n \n # Initialize some variables set by options.\n@@ -7184,28 +7184,6 @@ else\n   enable_languages=c\n fi;\n \n-subdirs=\n-for lang in ${srcdir}/*/config-lang.in\n-do\n-\tcase $lang in\n-\t# The odd quoting in the next line works around\n-\t# an apparent bug in bash 1.12 on linux.\n-\t${srcdir}/[*]/config-lang.in) ;;\n-\t*)\n-\t  lang_alias=`sed -n -e 's,^language=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^language=\\([^   ]*\\).*$,\\1,p' $lang`\n-\t  if test \"x$lang_alias\" = x\n-\t  then\n-\t        echo \"$lang doesn't set \\$language.\" 1>&2\n-\t        exit 1\n-\t  fi\n-\t  case \",$enable_languages,\" in\n-\t  *,$lang_alias,*)\n-\t    subdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\" ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-done\n-\n \n # -------------------------\n # Checks for other programs\n@@ -7634,7 +7612,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:7637: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:7615: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[4-9]*)\n@@ -15767,22 +15745,10 @@ fi\n # Make empty files to contain the specs and options for each language.\n # Then add #include lines to for a compiler that has specs and/or options.\n \n+subdirs=\n lang_opt_files=\n lang_specs_files=\n lang_tree_files=\n-for subdir in . $subdirs\n-do\n-\tif test -f $srcdir/$subdir/lang.opt; then\n-\t    lang_opt_files=\"$lang_opt_files $srcdir/$subdir/lang.opt\"\n-\tfi\n-\tif test -f $srcdir/$subdir/lang-specs.h; then\n-\t    lang_specs_files=\"$lang_specs_files $srcdir/$subdir/lang-specs.h\"\n-\tfi\n-\tif test -f $srcdir/$subdir/$subdir-tree.def; then\n-\t    lang_tree_files=\"$lang_tree_files $srcdir/$subdir/$subdir-tree.def\"\n-\tfi\n-done\n-\n # These (without \"all_\") are set in each config-lang.in.\n # `language' must be a single word so is spelled singularly.\n all_languages=\n@@ -15800,6 +15766,10 @@ all_gtfiles=\"$target_gtfiles\"\n all_gtfiles_files_langs=\n all_gtfiles_files_files=\n \n+# These are the languages that are set in --enable-languages,\n+# and are available in the GCC tree.\n+all_selected_languages=\n+\n # Add the language fragments.\n # Languages are added via two mechanisms.  Some information must be\n # recorded in makefile variables, these are defined in config-lang.in.\n@@ -15809,59 +15779,91 @@ all_gtfiles_files_files=\n \n language_hooks=\"Make-hooks\"\n \n-for s in $subdirs\n+for lang in ${srcdir}/*/config-lang.in\n do\n-\t\tlanguage=\n-\t\tboot_language=\n-\t\tcompilers=\n-\t\tstagestuff=\n-\t\toutputs=\n-\t\tgtfiles=\n-\t\t. ${srcdir}/$s/config-lang.in\n-\t\tif test \"x$language\" = x\n-\t\tthen\n-\t\t\techo \"${srcdir}/$s/config-lang.in doesn't set \\$language.\" 1>&2\n-\t\t\texit 1\n-\t\tfi\n-\t\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$s/Make-lang.in\"\n-\t\tif test -f ${srcdir}/$s/Makefile.in\n-\t\tthen all_lang_makefiles=\"$s/Makefile\"\n-\t\tfi\n-\t\tall_languages=\"$all_languages $language\"\n-\t\tif test \"x$boot_language\" = xyes\n-\t\tthen\n-\t\t\tall_boot_languages=\"$all_boot_languages $language\"\n-\t\tfi\n-\t\tall_compilers=\"$all_compilers $compilers\"\n-\t\tall_stagestuff=\"$all_stagestuff $stagestuff\"\n-\t\tall_outputs=\"$all_outputs $outputs\"\n-\t\tall_gtfiles=\"$all_gtfiles $gtfiles\"\n-                for f in $gtfiles\n-                do\n-                         all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${s} \"\n-                         all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n-                done\n+    case $lang in\n+    # The odd quoting in the next line works around\n+    # an apparent bug in bash 1.12 on linux.\n+    ${srcdir}/[*]/config-lang.in)\n+        continue ;;\n+    *)\n+        lang_alias=`sed -n -e 's,^language=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^language=\\([^   ]*\\).*$,\\1,p' $lang`\n+        if test \"x$lang_alias\" = x\n+        then\n+              echo \"$lang doesn't set \\$language.\" 1>&2\n+              exit 1\n+        fi\n+        subdir=\"`echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\"\n+        subdirs=\"$subdirs $subdir\"\n+        case \",$enable_languages,\" in\n+        *,$lang_alias,*)\n+            all_selected_languages=\"$all_selected_languages $lang_alias\"\n+\t    if test -f $srcdir/$subdir/lang-specs.h; then\n+\t        lang_specs_files=\"$lang_specs_files $srcdir/$subdir/lang-specs.h\"\n+\t    fi\n+\t    ;;\n+        esac\n+\n+\tif test -f $srcdir/$subdir/lang.opt; then\n+\t    lang_opt_files=\"$lang_opt_files $srcdir/$subdir/lang.opt\"\n+\tfi\n+\tif test -f $srcdir/$subdir/$subdir-tree.def; then\n+\t    lang_tree_files=\"$lang_tree_files $srcdir/$subdir/$subdir-tree.def\"\n+\tfi\n+\n+\tlanguage=\n+\tboot_language=\n+\tcompilers=\n+\tstagestuff=\n+\toutputs=\n+\tgtfiles=\n+\t. ${srcdir}/$subdir/config-lang.in\n+\tif test \"x$language\" = x\n+\tthen\n+\t\techo \"${srcdir}/$subdir/config-lang.in doesn't set \\$language.\" 1>&2\n+\t\texit 1\n+\tfi\n+\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$subdir/Make-lang.in\"\n+\tif test -f ${srcdir}/$subdir/Makefile.in\n+\t\tthen all_lang_makefiles=\"$subdir/Makefile\"\n+\tfi\n+\tall_languages=\"$all_languages $language\"\n+\tif test \"x$boot_language\" = xyes\n+\tthen\n+\t\tall_boot_languages=\"$all_boot_languages $language\"\n+\tfi\n+\tall_compilers=\"$all_compilers $compilers\"\n+\tall_stagestuff=\"$all_stagestuff $stagestuff\"\n+\tall_outputs=\"$all_outputs $outputs\"\n+\tall_gtfiles=\"$all_gtfiles $gtfiles\"\n+        for f in $gtfiles\n+        do\n+                 all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${subdir} \"\n+                 all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n+        done\n+\t;;\n+    esac\n done\n \n # Pick up gtfiles for c\n gtfiles=\n-s=\"c\"\n+subdir=\"c\"\n . ${srcdir}/c-config-lang.in\n all_gtfiles=\"$all_gtfiles $gtfiles\"\n for f in $gtfiles\n do\n-        all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${s} \"\n+        all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${subdir} \"\n         all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n done\n \n check_languages=\n-for language in $all_languages\n+for language in $all_selected_languages\n do\n-\t\tcheck_languages=\"$check_languages check-$language\"\n+\tcheck_languages=\"$check_languages check-$language\"\n done\n \n # We link each language in with a set of hooks, reached indirectly via\n-# lang.${target}.\n+# lang.${target}.  Only do so for selected languages.\n \n rm -f Make-hooks\n touch Make-hooks\n@@ -15870,12 +15872,13 @@ target_list=\"all.cross start.encap rest.encap tags \\\n \tuninstall info man srcextra srcman srcinfo \\\n \tmostlyclean clean distclean maintainer-clean \\\n \tstage1 stage2 stage3 stage4 stageprofile stagefeedback\"\n+\n for t in $target_list\n do\n \tx=\n-\tfor lang in $all_languages\n+\tfor lang in $all_selected_languages\n \tdo\n-\t\t\tx=\"$x $lang.$t\"\n+\t\tx=\"$x $lang.$t\"\n \tdone\n \techo \"lang.$t: $x\" >> Make-hooks\n done\n@@ -16026,6 +16029,7 @@ objdir=`${PWDCMD-pwd}`\n \n \n \n+\n \n \n # Echo link setup.\n@@ -16802,6 +16806,7 @@ s,@all_gtfiles_files_files@,$all_gtfiles_files_files,;t t\n s,@all_lang_makefrags@,$all_lang_makefrags,;t t\n s,@all_lang_makefiles@,$all_lang_makefiles,;t t\n s,@all_languages@,$all_languages,;t t\n+s,@all_selected_languages@,$all_selected_languages,;t t\n s,@all_stagestuff@,$all_stagestuff,;t t\n s,@build_exeext@,$build_exeext,;t t\n s,@build_install_headers_dir@,$build_install_headers_dir,;t t"}, {"sha": "e3d13fc8c0918a247aa62c72b60aa0769889ef5c", "filename": "gcc/configure.ac", "status": "modified", "additions": 79, "deletions": 75, "changes": 154, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -817,30 +817,6 @@ AC_ARG_ENABLE(languages,\n esac],\n [enable_languages=c])\n \n-subdirs=\n-for lang in ${srcdir}/*/config-lang.in\n-do\n-\tcase $lang in\n-\t# The odd quoting in the next line works around\n-\t# an apparent bug in bash 1.12 on linux.\n-changequote(,)dnl\n-\t${srcdir}/[*]/config-lang.in) ;;\n-\t*)\n-\t  lang_alias=`sed -n -e 's,^language=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^language=\\([^   ]*\\).*$,\\1,p' $lang`\n-\t  if test \"x$lang_alias\" = x\n-\t  then\n-\t        echo \"$lang doesn't set \\$language.\" 1>&2\n-\t        exit 1\n-\t  fi\n-\t  case \",$enable_languages,\" in\n-\t  *,$lang_alias,*)\n-\t    subdirs=\"$subdirs `echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\" ;;\n-\t  esac\n-\t  ;;\n-changequote([,])dnl\n-\tesac\n-done\n-\n \n # -------------------------\n # Checks for other programs\n@@ -3258,22 +3234,10 @@ AC_SUBST(MAINT)dnl\n # Make empty files to contain the specs and options for each language.\n # Then add #include lines to for a compiler that has specs and/or options.\n \n+subdirs=\n lang_opt_files=\n lang_specs_files=\n lang_tree_files=\n-for subdir in . $subdirs\n-do\n-\tif test -f $srcdir/$subdir/lang.opt; then\n-\t    lang_opt_files=\"$lang_opt_files $srcdir/$subdir/lang.opt\"\n-\tfi\n-\tif test -f $srcdir/$subdir/lang-specs.h; then\n-\t    lang_specs_files=\"$lang_specs_files $srcdir/$subdir/lang-specs.h\"\n-\tfi\n-\tif test -f $srcdir/$subdir/$subdir-tree.def; then\n-\t    lang_tree_files=\"$lang_tree_files $srcdir/$subdir/$subdir-tree.def\"\n-\tfi\n-done\n-\n # These (without \"all_\") are set in each config-lang.in.\n # `language' must be a single word so is spelled singularly.\n all_languages=\n@@ -3291,6 +3255,10 @@ all_gtfiles=\"$target_gtfiles\"\n all_gtfiles_files_langs=\n all_gtfiles_files_files=\n \n+# These are the languages that are set in --enable-languages,\n+# and are available in the GCC tree.\n+all_selected_languages=\n+\n # Add the language fragments.\n # Languages are added via two mechanisms.  Some information must be\n # recorded in makefile variables, these are defined in config-lang.in.\n@@ -3300,59 +3268,93 @@ all_gtfiles_files_files=\n \n language_hooks=\"Make-hooks\"\n \n-for s in $subdirs\n+for lang in ${srcdir}/*/config-lang.in\n do\n-\t\tlanguage=\n-\t\tboot_language=\n-\t\tcompilers=\n-\t\tstagestuff=\n-\t\toutputs=\n-\t\tgtfiles=\n-\t\t. ${srcdir}/$s/config-lang.in\n-\t\tif test \"x$language\" = x\n-\t\tthen\n-\t\t\techo \"${srcdir}/$s/config-lang.in doesn't set \\$language.\" 1>&2\n-\t\t\texit 1\n-\t\tfi\n-\t\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$s/Make-lang.in\"\n-\t\tif test -f ${srcdir}/$s/Makefile.in\n-\t\tthen all_lang_makefiles=\"$s/Makefile\"\n-\t\tfi\n-\t\tall_languages=\"$all_languages $language\"\n-\t\tif test \"x$boot_language\" = xyes\n-\t\tthen\n-\t\t\tall_boot_languages=\"$all_boot_languages $language\"\n-\t\tfi\n-\t\tall_compilers=\"$all_compilers $compilers\"\n-\t\tall_stagestuff=\"$all_stagestuff $stagestuff\"\n-\t\tall_outputs=\"$all_outputs $outputs\"\n-\t\tall_gtfiles=\"$all_gtfiles $gtfiles\"\n-                for f in $gtfiles\n-                do\n-                         all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${s} \"\n-                         all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n-                done\n+    case $lang in\n+    # The odd quoting in the next line works around\n+    # an apparent bug in bash 1.12 on linux.\n+changequote(,)dnl\n+    ${srcdir}/[*]/config-lang.in)\n+        continue ;;\n+    *)\n+        lang_alias=`sed -n -e 's,^language=['\"'\"'\"'\"]\\(.*\\)[\"'\"'\"'\"'].*$,\\1,p' -e 's,^language=\\([^   ]*\\).*$,\\1,p' $lang`\n+        if test \"x$lang_alias\" = x\n+        then\n+              echo \"$lang doesn't set \\$language.\" 1>&2\n+              exit 1\n+        fi\n+        subdir=\"`echo $lang | sed -e 's,^.*/\\([^/]*\\)/config-lang.in$,\\1,'`\"\n+        subdirs=\"$subdirs $subdir\"\n+        case \",$enable_languages,\" in\n+        *,$lang_alias,*)\n+            all_selected_languages=\"$all_selected_languages $lang_alias\"\n+\t    if test -f $srcdir/$subdir/lang-specs.h; then\n+\t        lang_specs_files=\"$lang_specs_files $srcdir/$subdir/lang-specs.h\"\n+\t    fi\n+\t    ;;\n+        esac\n+changequote([,])dnl\n+\n+\tif test -f $srcdir/$subdir/lang.opt; then\n+\t    lang_opt_files=\"$lang_opt_files $srcdir/$subdir/lang.opt\"\n+\tfi\n+\tif test -f $srcdir/$subdir/$subdir-tree.def; then\n+\t    lang_tree_files=\"$lang_tree_files $srcdir/$subdir/$subdir-tree.def\"\n+\tfi\n+\n+\tlanguage=\n+\tboot_language=\n+\tcompilers=\n+\tstagestuff=\n+\toutputs=\n+\tgtfiles=\n+\t. ${srcdir}/$subdir/config-lang.in\n+\tif test \"x$language\" = x\n+\tthen\n+\t\techo \"${srcdir}/$subdir/config-lang.in doesn't set \\$language.\" 1>&2\n+\t\texit 1\n+\tfi\n+\tall_lang_makefrags=\"$all_lang_makefrags \\$(srcdir)/$subdir/Make-lang.in\"\n+\tif test -f ${srcdir}/$subdir/Makefile.in\n+\t\tthen all_lang_makefiles=\"$subdir/Makefile\"\n+\tfi\n+\tall_languages=\"$all_languages $language\"\n+\tif test \"x$boot_language\" = xyes\n+\tthen\n+\t\tall_boot_languages=\"$all_boot_languages $language\"\n+\tfi\n+\tall_compilers=\"$all_compilers $compilers\"\n+\tall_stagestuff=\"$all_stagestuff $stagestuff\"\n+\tall_outputs=\"$all_outputs $outputs\"\n+\tall_gtfiles=\"$all_gtfiles $gtfiles\"\n+        for f in $gtfiles\n+        do\n+                 all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${subdir} \"\n+                 all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n+        done\n+\t;;\n+    esac\n done\n \n # Pick up gtfiles for c\n gtfiles=\n-s=\"c\"\n+subdir=\"c\"\n . ${srcdir}/c-config-lang.in\n all_gtfiles=\"$all_gtfiles $gtfiles\"\n for f in $gtfiles\n do\n-        all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${s} \"\n+        all_gtfiles_files_langs=\"$all_gtfiles_files_langs ${subdir} \"\n         all_gtfiles_files_files=\"$all_gtfiles_files_files ${f} \"\n done\n \n check_languages=\n-for language in $all_languages\n+for language in $all_selected_languages\n do\n-\t\tcheck_languages=\"$check_languages check-$language\"\n+\tcheck_languages=\"$check_languages check-$language\"\n done\n \n # We link each language in with a set of hooks, reached indirectly via\n-# lang.${target}.\n+# lang.${target}.  Only do so for selected languages.\n \n rm -f Make-hooks\n touch Make-hooks\n@@ -3361,12 +3363,13 @@ target_list=\"all.cross start.encap rest.encap tags \\\n \tuninstall info man srcextra srcman srcinfo \\\n \tmostlyclean clean distclean maintainer-clean \\\n \tstage1 stage2 stage3 stage4 stageprofile stagefeedback\"\n+\n for t in $target_list\n do\n \tx=\n-\tfor lang in $all_languages\n+\tfor lang in $all_selected_languages\n \tdo\n-\t\t\tx=\"$x $lang.$t\"\n+\t\tx=\"$x $lang.$t\"\n \tdone\n \techo \"lang.$t: $x\" >> Make-hooks\n done\n@@ -3463,6 +3466,7 @@ AC_SUBST(all_gtfiles_files_files)\n AC_SUBST(all_lang_makefrags)\n AC_SUBST(all_lang_makefiles)\n AC_SUBST(all_languages)\n+AC_SUBST(all_selected_languages)\n AC_SUBST(all_stagestuff)\n AC_SUBST(build_exeext)\n AC_SUBST(build_install_headers_dir)"}, {"sha": "846323fce34d991fcba0abc77367cf43f030fff4", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 111, "deletions": 69, "changes": 180, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -527,6 +527,7 @@ Second, when configuring a native system, either @command{cc} or\n your environment before running configure.  Otherwise the configuration\n scripts may fail.\n \n+@ignore\n Note that the bootstrap compiler and the resulting GCC must be link\n compatible, else the bootstrap will fail with linker errors about\n incompatible object file formats.  Several multilibed targets are\n@@ -537,6 +538,7 @@ affected by this requirement, see\n @ifhtml\n @uref{specific.html,,host/target specific installation notes}.\n @end ifhtml\n+@end ignore\n \n To configure GCC:\n \n@@ -777,7 +779,8 @@ assembler found is not actually the GNU assembler.  (Confusion may also\n result if the compiler finds the GNU assembler but has not been\n configured with @option{--with-gnu-as}.)  If you have more than one\n assembler installed on your system, you may want to use this option in\n-connection with @option{--with-as=@var{pathname}}.\n+connection with @option{--with-as=@var{pathname}} or\n+@option{--with-build-time-tools=@var{pathname}}.\n \n The following systems are the only ones where it makes a difference\n whether you use the GNU assembler.  On any other system,\n@@ -800,28 +803,40 @@ the 386, if you use the GNU assembler, you should also use the GNU linker\n (and specify @option{--with-gnu-ld}).\n \n @item @anchor{with-as}--with-as=@var{pathname}\n-Specify that the\n-compiler should use the assembler pointed to by @var{pathname}, rather\n-than the one found by the standard rules to find an assembler, which\n-are:\n+Specify that the compiler should use the assembler pointed to by\n+@var{pathname}, rather than the one found by the standard rules to find\n+an assembler, which are:\n @itemize @bullet\n @item\n-Check the @file{@var{libexec}/gcc/@var{target}/@var{version}}\n-directory, where @var{libexec} defaults to\n-@file{@var{exec-prefix}/libexec} and @var{exec-prefix} defaults to\n-@var{prefix} which defaults to @file{/usr/local} unless overridden by\n-the @option{--prefix=@var{pathname}} switch described\n-above.  @var{target} is the target system triple, such as\n-@samp{sparc-sun-solaris2.7}, and @var{version} denotes the GCC\n-version, such as 3.0.\n+Unless GCC is being built with a cross compiler, check the\n+@file{@var{libexec}/gcc/@var{target}/@var{version}} directory.\n+@var{libexec} defaults to @file{@var{exec-prefix}/libexec};\n+@var{exec-prefix} defaults to @var{prefix}, which\n+defaults to @file{/usr/local} unless overridden by the\n+@option{--prefix=@var{pathname}} switch described above.  @var{target}\n+is the target system triple, such as @samp{sparc-sun-solaris2.7}, and\n+@var{version} denotes the GCC version, such as 3.0.\n+\n @item\n-Check operating system specific directories (e.g.@: @file{/usr/ccs/bin} on\n+If the target system is the same that you are building on, check\n+operating system specific directories (e.g.@: @file{/usr/ccs/bin} on\n Sun Solaris 2).\n+\n+@item\n+Check in the @env{PATH} for a tool whose name is prefixed by the\n+target system triple.\n+\n+@item\n+Check in the @env{PATH} for a tool whose name is not prefixed by the\n+target system triple, if the host and target system triple are\n+the same (in other words, we use a host tool if it can be used for\n+the target as well).\n @end itemize\n-Note that these rules do not check for the value of @env{PATH}.  You may\n-want to use @option{--with-as} if no assembler is installed in the\n-directories listed above, or if you have multiple assemblers installed\n-and want to choose one that is not found by the above rules.\n+\n+You may want to use @option{--with-as} if no assembler\n+is installed in the directories listed above, or if you have multiple\n+assemblers installed and want to choose one that is not found by the\n+above rules.\n \n @item @anchor{with-gnu-ld}--with-gnu-ld\n Same as @uref{#with-gnu-as,,@option{--with-gnu-as}}\n@@ -1072,9 +1087,9 @@ Building the Ada compiler has special requirements, see below.\n If you do not pass this flag, or specify the option @code{all}, then all\n default languages available in the @file{gcc} sub-tree will be configured.\n Ada, Objective-C++, and treelang are not default languages; the rest are.\n-Re-defining @code{LANGUAGES} when calling @samp{make bootstrap}\n-@strong{does not} work anymore, as those language sub-directories might\n-not have been configured!\n+Re-defining @code{LANGUAGES} when calling @samp{make} @strong{does not}\n+work anymore, as those language sub-directories might not have been\n+configured!\n \n @item --disable-libada\n Specify that the run-time libraries and tools used by GNAT should not\n@@ -1294,11 +1309,29 @@ Specifies a list of directories which contain the target runtime\n libraries.  These libraries will be copied into the @file{gcc} install\n directory.  If the directory list is omitted, this option has no\n effect.\n+\n @item --with-newlib\n Specifies that @samp{newlib} is\n being used as the target C library.  This causes @code{__eprintf} to be\n omitted from @file{libgcc.a} on the assumption that it will be provided by\n @samp{newlib}.\n+\n+@item --with-build-time-tools=@var{dir}\n+Specifies where to find the set of target tools (assembler, linker, etc.)\n+that will be used while building GCC itself.  This option can be useful\n+if the directory layouts are different between the system you are building\n+GCC on, and the system where you will deploy it.\n+\n+For example, on a @option{ia64-hp-hpux} system, you may have the GNU\n+assembler and linker in @file{/usr/bin}, and the native tools in a\n+different path, and build a toolchain that expects to find the\n+native tools in @file{/usr/bin}.\n+\n+When you use this option, you should ensure that @var{dir} includes\n+@command{ar}, @command{as}, @command{ld}, @command{nm},\n+@command{ranlib} and @command{strip} if necessary, and possibly\n+@command{objdump}.  Otherwise, GCC may use an inconsistent set of\n+tools.\n @end table\n \n @subheading Fortran-Specific Options\n@@ -1521,22 +1554,22 @@ documentation pre-built for the unmodified documentation in the release.\n \n @section Building a native compiler\n \n-For a native build issue the command @samp{make bootstrap}.  This\n-will build the entire GCC system, which includes the following steps:\n+For a native build, the command @samp{make} will trigger a 3-stage\n+bootstrap of the compiler.  This will build the entire GCC system\n+and ensure that it compiles itself correctly, by doing the\n+following steps:\n \n @itemize @bullet\n @item\n-Build host tools necessary to build the compiler such as texinfo, bison,\n+Build tools necessary to build the compiler such as texinfo, bison,\n gperf.\n \n @item\n-Build target tools for use by the compiler such as binutils (bfd,\n-binutils, gas, gprof, ld, and opcodes)\n-if they have been individually linked\n-or moved into the top level GCC source tree before configuring.\n-\n-@item\n-Perform a 3-stage bootstrap of the compiler.\n+Perform a 3-stage bootstrap of the compiler.  This includes building\n+three times the target tools for use by the compiler such as binutils\n+(bfd, binutils, gas, gprof, ld, and opcodes) if they have been\n+individually linked or moved into the top level GCC source tree before\n+configuring.\n \n @item\n Perform a comparison test of the stage2 and stage3 compilers.\n@@ -1547,8 +1580,8 @@ Build runtime libraries using the stage3 compiler from the previous step.\n @end itemize\n \n If you are short on disk space you might consider @samp{make\n-bootstrap-lean} instead.  This is identical to @samp{make\n-bootstrap} except that object files from the stage1 and\n+bootstrap-lean} instead.  The sequence of compilation is the\n+same described above, but object files from the stage1 and\n stage2 of the 3-stage bootstrap of the compiler are deleted as\n soon as they are no longer needed.\n \n@@ -1565,7 +1598,7 @@ roughly 40% of disk space both for the bootstrap and the final installation.\n \n If you wish to use non-default GCC flags when compiling the stage2 and\n stage3 compilers, set @code{BOOT_CFLAGS} on the command line when doing\n-@samp{make bootstrap}.  Non-default optimization flags are less well\n+@samp{make}.  Non-default optimization flags are less well\n tested here than the default of @samp{-g -O2}, but should still work.\n In a few cases, you may find that you need to specify special flags such\n as @option{-msoft-float} here to complete the bootstrap; or, if the\n@@ -1574,17 +1607,17 @@ around this, by choosing @code{BOOT_CFLAGS} to avoid the parts of the\n stage1 compiler that were miscompiled, or by using @samp{make\n bootstrap4} to increase the number of stages of bootstrap.\n \n-Note that using non-standard @code{CFLAGS} can cause bootstrap to fail in\n-@file{libiberty}, if these trigger a warning with the new compiler.  For\n-example using @samp{-O2 -g -mcpu=i686} on @code{i686-pc-linux-gnu} will\n-cause bootstrap failure as @option{-mcpu=} is deprecated in 3.4.0 and above.\n+Note that using non-standard @code{CFLAGS} can cause bootstrap to fail\n+if these trigger a warning with the new compiler.  For example using\n+@samp{-O2 -g -mcpu=i686} on @code{i686-pc-linux-gnu} will cause bootstrap\n+failure as @option{-mcpu=} is deprecated in 3.4.0 and above.\n \n \n If you used the flag @option{--enable-languages=@dots{}} to restrict\n the compilers to be built, only those you've actually enabled will be\n built.  This will of course only build those runtime libraries, for\n which the particular compiler has been built.  Please note,\n-that re-defining @env{LANGUAGES} when calling @samp{make bootstrap}\n+that re-defining @env{LANGUAGES} when calling @samp{make}\n @strong{does not} work anymore!\n \n If the comparison of stage2 and stage3 fails, this normally indicates\n@@ -1594,6 +1627,15 @@ a few systems, meaningful comparison of object files is impossible; they\n always appear ``different''.  If you encounter this problem, you will\n need to disable comparison in the @file{Makefile}.)\n \n+If you do not want to bootstrap your compiler, you can configure with\n+@option{--disable-bootstrap}.  In particular cases, you may want to\n+bootstrap your compiler even if the target system is not the same as\n+the one you are building on: for example, you could build a\n+@code{powerpc-unknown-linux-gnu} toolchain on a\n+@code{powerpc64-unknown-linux-gnu} host.  In this case, pass\n+@option{--enable-bootstrap} to the configure script.\n+\n+\n @section Building a cross compiler\n \n We recommend reading the\n@@ -1678,21 +1720,25 @@ compilation options.  Check your target's definition of\n \n @section Building in parallel\n \n-You can use @samp{make bootstrap MAKE=\"make -j 2\" -j 2}, or just\n-@samp{make -j 2 bootstrap} for GNU Make 3.79 and above, instead of\n-@samp{make bootstrap} to build GCC in parallel.\n-You can also specify a bigger number, and in most cases using a value\n-greater than the number of processors in your machine will result in\n-fewer and shorter I/O latency hits, thus improving overall throughput;\n-this is especially true for slow drives and network filesystems.\n+You can use @samp{make -j 2}@footnote{Only supported by GNU Make 3.79\n+  and above, which is anyway necessary to build GCC.}, instead of @samp{make},\n+to build GCC in parallel.  You can also specify a bigger number, and\n+in most cases using a value greater than the number of processors in\n+your machine will result in fewer and shorter I/O latency hits, thus\n+improving overall throughput; this is especially true for slow drives\n+and network filesystems.\n \n @section Building the Ada compiler\n \n In order to build GNAT, the Ada compiler, you need a working GNAT\n-compiler (GNAT version 3.14 or later, or GCC version 3.1 or later),\n-including GNAT tools such as @command{gnatmake} and @command{gnatlink},\n-since the Ada front end is written in Ada (with some\n-GNAT-specific extensions), and GNU make.\n+compiler (GNAT version 3.14 or later, or GCC version 3.1 or later).\n+This includes GNAT tools such as @command{gnatmake} and\n+@command{gnatlink}, since the Ada front end is written in Ada and\n+uses some GNAT-specific extensions.\n+\n+In order to build a cross compiler, it is suggested to install\n+the new compiler as native first, and then use it to build the cross\n+compiler.\n \n @command{configure} does not test whether the GNAT installation works\n and has a sufficiently recent version; if too old a GNAT version is\n@@ -1704,15 +1750,15 @@ used to disable building the Ada front end.\n It is possible to use profile feedback to optimize the compiler itself.  This\n should result in a faster compiler binary.  Experiments done on x86 using gcc\n 3.3 showed approximately 7 percent speedup on compiling C programs.  To\n-bootstrap compiler with profile feedback, use @code{make profiledbootstrap}.\n+bootstrap the compiler with profile feedback, use @code{make profiledbootstrap}.\n \n When @samp{make profiledbootstrap} is run, it will first build a @code{stage1}\n compiler.  This compiler is used to build a @code{stageprofile} compiler\n instrumented to collect execution counts of instruction and branch\n probabilities.  Then runtime libraries are compiled with profile collected.\n Finally a @code{stagefeedback} compiler is built using the information collected.\n \n-Unlike @samp{make bootstrap} several additional restrictions apply.  The\n+Unlike standard bootstrap, several additional restrictions apply.  The\n compiler used to build @code{stage1} needs to support a 64-bit integral type.\n It is recommended to only use GCC for this.  Also parallel make is currently\n not supported since collisions in profile collecting may occur.\n@@ -2018,7 +2064,7 @@ it will not be created otherwise.  This is regarded as a feature,\n not as a bug, because it gives slightly more control to the packagers\n using the @code{DESTDIR} feature.\n \n-If you built a released version of GCC using @samp{make bootstrap} then please\n+If you are bootstrapping a released version of GCC then please\n quickly review the build status page for your release, available from\n @uref{http://gcc.gnu.org/buildstat.html}.\n If your system is not listed for the version of GCC that you built,\n@@ -2476,17 +2522,16 @@ and it is not possible to build parallel applications.  Cray modules are not\n supported; in particular, Craylibs are assumed to be in\n @file{/opt/ctl/craylibs/craylibs}.\n \n-You absolutely @strong{must} use GNU make on this platform.  Also, you\n-need to tell GCC where to find the assembler and the linker.  The\n-simplest way to do so is by providing @option{--with-as} and\n-@option{--with-ld} to @file{configure}, e.g.@:\n+On this platform, you need to tell GCC where to find the assembler and\n+the linker.  The simplest way to do so is by providing @option{--with-as}\n+and @option{--with-ld} to @file{configure}, e.g.@:\n \n @smallexample\n     configure --with-as=/opt/ctl/bin/cam --with-ld=/opt/ctl/bin/cld \\\n       --enable-languages=c\n @end smallexample\n \n-The comparison test during @samp{make bootstrap} fails on Unicos/Mk\n+The comparison test at the end of the bootstrapping process fails on Unicos/Mk\n because the assembler inserts timestamps into object files.  You should\n be able to work around this by doing @samp{make all} after getting this\n failure.\n@@ -2824,9 +2869,9 @@ and Latin-America.\n \n The HP assembler on these systems has some problems.  Most notably the\n assembler inserts timestamps into each object file it creates, causing\n-the 3-stage comparison test to fail during a @samp{make bootstrap}.\n-You should be able to continue by saying @samp{make all} after getting\n-the failure from @samp{make bootstrap}.\n+the 3-stage comparison test to fail during a bootstrap.\n+You should be able to continue by saying @samp{make all-host all-target}\n+after getting the failure from @samp{make}.\n \n GCC 4.0 requires CVS binutils as of April 28, 2004 or later.  Earlier\n versions require binutils 2.8 or later.\n@@ -2912,10 +2957,10 @@ many limitations.  For example, it does not support weak symbols or alias\n definitions.  As a result, explicit template instantiations are required\n when using C++.  This makes it difficult if not impossible to build many\n C++ applications.  You can't generate debugging information when using\n-the HP assembler.  Finally, @samp{make bootstrap} fails in the final\n+the HP assembler.  Finally, bootstrapping fails in the final\n comparison of object modules due to the time stamps that it inserts into\n the modules.  The bootstrap can be continued from this point with\n-@samp{make all}.\n+@samp{make all-host all-target}.\n \n A recent linker patch must be installed for the correct operation of\n GCC 3.3 and later.  @code{PHSS_26559} and @code{PHSS_24304} are the\n@@ -3080,7 +3125,7 @@ command like this:\n @emph{You should substitute @samp{i686} in the above command with the appropriate\n processor for your host.}\n \n-After the usual @samp{make bootstrap} and\n+After the usual @samp{make} and\n @samp{make install}, you can then access the UDK-targeted GCC\n tools by adding @command{udk-} before the commonly known name.  For\n example, to invoke the C compiler, you would use @command{udk-gcc}.\n@@ -3129,9 +3174,6 @@ removed and the system libunwind library will always be used.\n @heading @anchor{x-ibm-aix}*-ibm-aix*\n Support for AIX version 3 and older was discontinued in GCC 3.4.\n \n-AIX Make frequently has problems with GCC makefiles.  GNU Make 3.79.1 or\n-newer is recommended to build on this platform.\n-\n ``out of memory'' bootstrap failures may indicate a problem with\n process resource limits (ulimit).  Hard limits are configured in the\n @file{/etc/security/limits} system configuration file.\n@@ -3144,8 +3186,8 @@ one may use GNU Bash instead of AIX @command{/bin/sh}, e.g.,\n    % export CONFIG_SHELL\n @end smallexample\n \n-and then proceed as described in @uref{build.html,,the build instructions},\n-where we strongly recommend using GNU make and specifying an absolute path\n+and then proceed as described in @uref{build.html,,the build\n+instructions}, where we strongly recommend specifying an absolute path\n to invoke @var{srcdir}/configure.\n \n Errors involving @code{alloca} when building GCC generally are due"}, {"sha": "8dcf4969ae0708e0d890e0f274fc0af475033adc", "filename": "gcc/doc/makefile.texi", "status": "modified", "additions": 94, "deletions": 36, "changes": 130, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fdoc%2Fmakefile.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1/gcc%2Fdoc%2Fmakefile.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fmakefile.texi?ref=cc11cc9b0fc9846ab9bd4914edc28cbdf406f9c1", "patch": "@@ -7,6 +7,8 @@\n @cindex makefile targets\n @cindex targets, makefile\n \n+These targets are available from the @samp{gcc} directory:\n+\n @table @code\n @item all\n This is the default target.  Depending on what your build/host/target\n@@ -72,49 +74,59 @@ make check-gcc RUNTESTFLAGS=\"execute.exp=19980413-*\"\n \n Note that running the testsuite may require additional tools be\n installed, such as TCL or dejagnu.\n+@end table\n \n-@item bootstrap\n-Builds GCC three times---once with the native compiler, once with the\n-native-built compiler it just built, and once with the compiler it built\n-the second time.  In theory, the last two should produce the same\n-results, which @samp{make compare} can check.  Each step of this process\n-is called a ``stage'', and the results of each stage @var{N}\n-(@var{N} = 1@dots{}3) are copied to a subdirectory @file{stage@var{N}/}.\n+The toplevel tree from which you start GCC compilation is not\n+the GCC directory, but rather a complex Makefile that coordinates\n+the various steps of the build, including bootstrapping the compiler\n+and using the new compiler to build target libraries.\n+\n+When GCC is configured for a native configuration, the default action\n+for @command{make} is to do a full three-stage bootstrap.  This means\n+that GCC is built three times---once with the native compiler, once with\n+the native-built compiler it just built, and once with the compiler it\n+built the second time.  In theory, the last two should produce the same\n+results, which @samp{make compare} can check.  Each stage is configured\n+separately and compiled into a separate directory, to minimize problems\n+due to ABI incompatibilities between the native compiler and GCC.\n+\n+If you do a change, rebuilding will also start from the first stage\n+and ``bubble'' up the change through the three stages.  Each stage\n+is taken from its build directory (if it had been built previously),\n+rebuilt, and copied to its subdirectory.  This will allow you to, for\n+example, continue a bootstrap after fixing a bug which causes the\n+stage2 build to crash.  It does not provide as good coverage of the\n+compiler as bootstrapping from scratch, but it ensures that the new\n+code is syntactically correct (e.g. that you did not use GCC extensions\n+by mistake), and avoids spurious bootstrap comparison\n+failures@footnote{Except if the compiler was buggy and miscompiled\n+  some of the files that were not modified.  In this case, it's best\n+  to use @command{make restrap}.}.\n+\n+Other targets available from the top level include:\n \n+@table @code\n @item bootstrap-lean\n Like @code{bootstrap}, except that the various stages are removed once\n they're no longer needed.  This saves disk space.\n \n-@item bubblestrap\n-This incrementally rebuilds each of the three stages, one at a time.\n-It does this by ``bubbling'' the stages up from their subdirectories\n-(if they had been built previously), rebuilding them, and copying them\n-back to their subdirectories.  This will allow you to, for example,\n-continue a bootstrap after fixing a bug which causes the stage2 build\n-to crash.\n+@item bootstrap2\n+@itemx bootstrap2-lean\n+Performs only the first two stages of bootstrap.  Unlike a three-stage\n+bootstrap, this does not perform a comparison to test that the compiler\n+is running properly.  Note that the disk space required by a ``lean''\n+bootstrap is approximately independent of the number of stages.\n \n-@item quickstrap\n-Rebuilds the most recently built stage.  Since each stage requires\n-special invocation, using this target means you don't have to keep\n-track of which stage you're on or what invocation that stage needs.\n+@item stage@var{N}-bubble (@var{N} = 1@dots{}4)\n+Rebuild all the stages up to @var{N}, with the appropriate flags,\n+``bubbling'' the changes as described above.\n \n-@item cleanstrap\n-Removed everything (@samp{make clean}) and rebuilds (@samp{make bootstrap}).\n+@item all-stage@var{N} (@var{N} = 1@dots{}4)\n+Assuming that stage @var{N} has already been built, rebuild it with the\n+appropriate flags.  This is rarely needed.\n \n-@item restrap\n-Like @code{cleanstrap}, except that the process starts from the first\n-stage build, not from scratch.\n-\n-@item stage@var{N} (@var{N} = 1@dots{}4)\n-For each stage, moves the appropriate files to the @file{stage@var{N}}\n-subdirectory.\n-\n-@item unstage@var{N} (@var{N} = 1@dots{}4)\n-Undoes the corresponding @code{stage@var{N}}.\n-\n-@item restage@var{N} (@var{N} = 1@dots{}4)\n-Undoes the corresponding @code{stage@var{N}} and rebuilds it with the\n-appropriate flags.\n+@item cleanstrap\n+Remove everything (@samp{make clean}) and rebuilds (@samp{make bootstrap}).\n \n @item compare\n Compares the results of stages 2 and 3.  This ensures that the compiler\n@@ -125,7 +137,53 @@ regardless of how it itself was compiled.\n Builds a compiler with profiling feedback information.  For more\n information, see\n @ref{Building,,Building with profile feedback,gccinstall,Installing GCC}.\n-This is actually a target in the top-level directory, which then\n-recurses into the @file{gcc} subdirectory multiple times.\n+\n+@item restrap\n+Restart a bootstrap, so that everything that was not built with\n+the system compiler is rebuilt.\n+\n+@item stage@var{N}-start (@var{N} = 1@dots{}4)\n+For each package that is bootstrapped, rename directories so that,\n+for example, @file{gcc} points to the stage@var{N} GCC, compiled\n+with the stage@var{N-1} GCC@footnote{Customarily, the system compiler\n+  is also termed the @file{stage0} GCC.}.\n+\n+You will invoke this target if you need to test or debug the\n+stage@var{N} GCC.  If you only need to execute GCC (but you need\n+not run @samp{make} either to rebuild it or to run test suites),\n+you should be able to work directly in the @file{stage@var{N}-gcc}\n+directory.  This makes it easier to debug multiple stages in\n+parallel.\n+\n+@item stage\n+For each package that is bootstrapped, relocate its build directory\n+to indicate its stage.  For example, if the @file{gcc} directory\n+points to the stage2 GCC, after invoking this target it will be\n+renamed to @file{stage2-gcc}.\n \n @end table\n+\n+If you wish to use non-default GCC flags when compiling the stage2 and\n+stage3 compilers, set @code{BOOT_CFLAGS} on the command line when doing\n+@samp{make}.\n+\n+Usually, the first stage only builds the languages that the compiler\n+is written in: typically, C and maybe Ada.  If you are debugging a\n+miscompilation of a different stage2 front-end (for example, of the\n+Fortran front-end), you may want to have front-ends for other languages\n+in the first stage as well.  To do so, set @code{STAGE1_LANGUAGES}\n+on the command line when doing @samp{make}.\n+\n+For example, in the aforementioned scenario of debugging a Fortran\n+front-end miscompilation caused by the stage1 compiler, you may need a\n+command like\n+\n+@example\n+make stage2-bubble STAGE1_LANGUAGES=c,fortran\n+@end example\n+\n+Alternatively, you can use per-language targets to build and test\n+languages that are not enabled by default in stage1.  For example,\n+@command{make f951} will build a Fortran compiler even in the stage1\n+build directory.\n+"}]}