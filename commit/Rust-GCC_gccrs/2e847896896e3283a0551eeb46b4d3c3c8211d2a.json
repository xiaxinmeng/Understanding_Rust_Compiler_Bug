{"sha": "2e847896896e3283a0551eeb46b4d3c3c8211d2a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmU4NDc4OTY4OTZlMzI4M2EwNTUxZWViNDZiNGQzYzNjODIxMWQyYQ==", "commit": {"author": {"name": "Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-08-03T21:42:18Z"}, "committer": {"name": "R. Kelley Cook", "email": "kcook@gcc.gnu.org", "date": "2004-08-03T21:42:18Z"}, "message": "maintainer-scripts (snapshot_print): New function.\n\n2004-08-03 Kelley Cook  <kcook@gcc.gnu.org>\n\n\t* maintainer-scripts (snapshot_print): New function.\n\t(announce_snapshot): Generate announcment on the fly.\n\tUse a directory link for LATEST.\n\t* snapshot-README: Delete.\n\t* snapshot-index.html: Delete.\n\nFrom-SVN: r85508", "tree": {"sha": "480a24f193aeb977cf9e8f9c262a0c5923a5a77f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/480a24f193aeb977cf9e8f9c262a0c5923a5a77f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e847896896e3283a0551eeb46b4d3c3c8211d2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e847896896e3283a0551eeb46b4d3c3c8211d2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e847896896e3283a0551eeb46b4d3c3c8211d2a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e847896896e3283a0551eeb46b4d3c3c8211d2a/comments", "author": null, "committer": null, "parents": [{"sha": "3e558e8064098d41b3047591e41fed68b018888e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e558e8064098d41b3047591e41fed68b018888e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e558e8064098d41b3047591e41fed68b018888e"}], "stats": {"total": 227, "additions": 102, "deletions": 125}, "files": [{"sha": "9902f1b06dbb323b6020225cb6678c98ff48f1e0", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e847896896e3283a0551eeb46b4d3c3c8211d2a/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e847896896e3283a0551eeb46b4d3c3c8211d2a/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=2e847896896e3283a0551eeb46b4d3c3c8211d2a", "patch": "@@ -1,3 +1,11 @@\n+2004-08-03 Kelley Cook  <kcook@gcc.gnu.org>\n+\n+\t* maintainer-scripts (snapshot_print): New function.\n+\t(announce_snapshot): Generate announcment on the fly.\n+\tUse a directory link for LATEST.\n+\t* snapshot-README: Delete.\n+\t* snapshot-index.html: Delete.\n+\n 2004-06-09  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* gcc_release (build_sources): Move the libcpp gmo files"}, {"sha": "8d49ce9c967523b66f0b377e940bb227e2606a35", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 94, "deletions": 20, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e847896896e3283a0551eeb46b4d3c3c8211d2a/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e847896896e3283a0551eeb46b4d3c3c8211d2a/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=2e847896896e3283a0551eeb46b4d3c3c8211d2a", "patch": "@@ -407,36 +407,110 @@ upload_files() {\n   done\n }\n \n+#Print description if snapshot exists\n+snapshot_print() {\n+  if [ -e ${RELEASE}/${SNAP_FILE} ]; then\n+     printf \"%-38s%s\\n\\n\" \"${SNAP_FILE}\" \"${SNAP_DESCRIPTION}\" >> ${SNAPSHOT_README}\n+     echo -e \"  <tr><td><a href=\\\"${SNAP_FILE}\\\">${SNAP_FILE}</a></td>\\n\" \\\n+             \"      <td>${SNAP_DESCRIPTION}</td></tr>\" >> ${SNAPSHOT_INDEX}\n+  fi\n+}\n+\n # Announce a snapshot, both on the web and via mail.\n announce_snapshot() {\n   inform \"Updating links and READMEs on the FTP server\"\n   \n   TEXT_DATE=`date --date=$DATE +%B\\ %d,\\ %Y`\n+  SNAPSHOT_README=${RELEASE}/README\n+  SNAPSHOT_INDEX=${RELEASE}/index.html\n+\n   changedir \"${SNAPSHOTS_DIR}\"\n-  sed -e \"s%@DATE@%$DATE%g\" \\\n-    -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" \\\n-    -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n-    -e \"s%@BRANCH@%${BRANCH}%g\" \\\n-    -e \"s%@RELEASE@%${RELEASE}%g\" \\\n-    -e \"s%@EXPORT@%${EXPORTTAG} ${EXPORTDATE}%g\" \\\n-    ~/scripts/snapshot-README > $$\n-  mv $$ ${RELEASE}/README\n-  sed -e \"s%@DATE@%$DATE%g\" \\\n-    -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" \\\n-    -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n-    -e \"s%@BRANCH@%${BRANCH}%g\" \\\n-    -e \"s%@RELEASE@%${RELEASE}%g\" \\\n-    -e \"s%@EXPORT@%${EXPORTTAG} ${EXPORTDATE}%g\" \\\n-    ~/scripts/snapshot-index.html > $$\n-  mv $$ ${RELEASE}/index.html\n-\n-  touch LATEST-IS-${BRANCH}-${DATE}\n-  rm -f LATEST-IS-${BRANCH}-${LAST_DATE}\n+  echo -e \"Snapshot gcc-\"${RELEASE}\" is now available on\" \\\n+          \"\\n  ftp://gcc.gnu.org/pub/gcc/snapshots/\"${RELEASE}\"/\" \\\n+          \"\\nand on various mirrors, see http://gcc.gnu.org/mirrors.html for details.\" \\\n+          \"\\n\\nThis snapshot has been generated from the GCC \"${BRANCH}\" CVS branch\" \\\n+          \"\\nwith the following options: \"${EXPORTTAG} ${EXPORTDATE} \\\n+          \"\\n\\nYou'll find:\\n\" > ${SNAPSHOT_README}\n+\n+  echo -e \"<html>\" \\\n+          \"\\n\\n<head>\" \\\n+          \"\\n<title>GCC \"${RELEASE}\" Snapshot</title>\" \\\n+          \"\\n</head>\" \\\n+          \"\\n\\n<body>\" \\\n+          \"\\n<h1>GCC \"${RELEASE}\" Snapshot</h1>\" \\\n+          \"\\n\\n<p>The <a href =\\\"http://gcc.gnu.org/\\\">GCC Project</a> makes\" \\\n+          \"\\nperiodic snapshots of the GCC source tree available to the public\" \\\n+          \"\\nfor testing purposes.</p>\" \\\n+          \"\\n\\n<p>If you are planning to download and use one of our snapshots, then\" \\\n+          \"\\nwe highly recommend you join the GCC developers list.  Details for\" \\\n+          \"\\nhow to sign up can be found on the GCC project home page.</p>\" \\\n+          \"\\n\\n<p>This snapshot has been generated from the GCC \"${BRANCH}\" CVS branch\" \\\n+          \"\\nwith the following options: <code>\"${EXPORTTAG} ${EXPORTDATE}\"</code></p>\" \\\n+          \"\\n\\n<table>\" > ${SNAPSHOT_INDEX}\n+       \n+  SNAP_FILE=gcc-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Complete GCC (includes all of below)\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-core-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"C front end and core compiler\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-ada-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Ada front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-fortran-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Fortran front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-g++-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"C++ front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-g77-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Fortran 77 front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-java-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Objective-C front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-objc-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"Java front end and runtime\"\n+  snapshot_print\n+\n+  SNAP_FILE=gcc-testsuite-${RELEASE}.tar.bz2\n+  SNAP_DESCRIPTION=\"The GCC testsuite\"\n+  snapshot_print\n+\n+  echo -e \"\\nDiffs from \"${BRANCH}\"-\"${LAST_DATE}\" are available in the diffs/ subdirectory.\" \\\n+          \"\\n\\nWhen a particular snapshot is ready for public consumption the LATEST-\"${BRANCH} \\\n+          \"\\nlink is updated and a message is sent to the gcc list.  Please do not use\" \\\n+          \"\\na snapshot before it has been announced that way.\" >> ${SNAPSHOT_README}\n+\n+  echo -e \"</table>\" \\\n+          \"\\n<p>Diffs from \"${BRANCH}\"-\"${LAST_DATE}\" are available in the\" \\\n+          \"\\n<a href=\\\"diffs/\\\">diffs/ subdirectory</a>.</p>\" \\\n+          \"\\n\\n<p>When a particular snapshot is ready for public consumption the LATEST-\"${BRANCH} \\\n+          \"\\nlink is updated and a message is sent to the gcc list.  Please do not use\" \\\n+          \"\\na snapshot before it has been announced that way.</p>\" \\\n+          \"\\n\\n<hr />\" \\\n+          \"\\n\\n<address>\" \\\n+          \"\\n<a href=\\\"mailto:gcc@gcc.gnu.org\\\">gcc@gcc.gnu.org</a>\" \\\n+          \"\\n<br />\" \\\n+          \"\\nLast modified \"${TEXT_DATE} \\\n+          \"\\n</address>\" \\\n+          \"\\n</body>\" \\\n+          \"\\n\\n</html>\" >> ${SNAPSHOT_INDEX}\n+\n+  rm -f LATEST-${BRANCH}\n+  ln -s ${RELEASE} LATEST-${BRANCH}\n \n   inform \"Sending mail\"\n \n   export QMAILHOST=gcc.gnu.org\n-  mail -s \"gcc-ss-${RELEASE} is now available\" gcc@gcc.gnu.org < ${SNAPSHOTS_DIR}/${RELEASE}/README\n+  mail -s \"gcc-${RELEASE} is now available\" gcc@gcc.gnu.org < ${SNAPSHOT_README}\n }\n \n ########################################################################"}, {"sha": "77b49ac7ea764e626d77f6c98ba505c961eca90a", "filename": "maintainer-scripts/snapshot-README", "status": "removed", "additions": 0, "deletions": 34, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e558e8064098d41b3047591e41fed68b018888e/maintainer-scripts%2Fsnapshot-README", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e558e8064098d41b3047591e41fed68b018888e/maintainer-scripts%2Fsnapshot-README", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fsnapshot-README?ref=3e558e8064098d41b3047591e41fed68b018888e", "patch": "@@ -1,34 +0,0 @@\n-gcc-ss-@RELEASE@ is now available on \n-  ftp://gcc.gnu.org/pub/gcc/snapshots/@RELEASE@/\n-and on various mirrors, see http://gcc.gnu.org/mirrors.html for details.\n-\n-This snapshot has been generated from the GCC @BRANCH@ CVS branch\n-with the following options: @EXPORT@\n-\n-You'll find:\n-\n-  gcc-@RELEASE@.tar.bz2              The full GCC snapshot, including all\n-                                        languages and runtime libraries.\n-\n-  gcc-core-@RELEASE@.tar.bz2         Just the C front end and core compiler.\n-\n-  gcc-testsuite-@RELEASE@.tar.bz2    The GCC testsuite.\n-\n-  gcc-ada-@RELEASE@.tar.bz2          The Ada language and runtime.\n-\n-  gcc-g++-@RELEASE@.tar.bz2          The C++ front end and runtime.\n-\n-  gcc-g77-@RELEASE@.tar.bz2          The F77 front end and runtime.\n-\n-  gcc-fortran-@RELEASE@.tar.gz       The Fortran front end and runtime.\n-\n-  gcc-objc-@RELEASE@.tar.bz2         The Objective-C front end and runtime.\n-\n-  gcc-java-@RELEASE@.tar.bz2         The Java front end and runtime.\n-\n-Diffs from @BRANCH@-@LAST_DATE@ are available in the diffs/ subdirectory. \n-\n-\n-When a particular snapshot is ready for public consumption the LATEST-IS-\n-file is updated and a message is sent to the gcc list.  Please do not use\n-a snapshot before it has been announced that way."}, {"sha": "de3859b7ac5aa1740ac2313e431186244721d36f", "filename": "maintainer-scripts/snapshot-index.html", "status": "removed", "additions": 0, "deletions": 71, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e558e8064098d41b3047591e41fed68b018888e/maintainer-scripts%2Fsnapshot-index.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e558e8064098d41b3047591e41fed68b018888e/maintainer-scripts%2Fsnapshot-index.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fsnapshot-index.html?ref=3e558e8064098d41b3047591e41fed68b018888e", "patch": "@@ -1,71 +0,0 @@\n-<html>\n-\n-<head>\n-<title>GCC @RELEASE@ Snapshot</title>\n-</head>\n-\n-<body>\n-<h1>GCC @RELEASE@ Snapshot</h1>\n-\n-<p>The <a href =\"http://gcc.gnu.org/\">GCC Project</a> makes\n-periodic snapshots of the GCC source tree available to the public\n-for testing purposes.</p>\n-\n-<p>If you are planning to download and use one of our snapshots, then\n-we highly recommend you join the GCC developers list.  Details for\n-how to sign up can be found on the GCC project home page.</p>\n-\n-<p>This snapshot has been generated from the GCC @BRANCH@ CVS branch\n-with the following options: @EXPORT@</p>\n-\n-<blockquote>\n-    <p> <a href=\"gcc-@RELEASE@.tar.bz2\">\n-\t gcc</a> @TEXT_DATE@ snapshot, includes all languages.\n-\n-    <p> <a href=\"gcc-core-@RELEASE@.tar.bz2\">\n-\t gcc-core</a> @TEXT_DATE@ snapshot, includes just the C front\n-\t end and core compiler.\n-\n-    <p> <a href=\"gcc-g++-@RELEASE@.tar.bz2\">\n-\t gcc-g++</a> @TEXT_DATE@ snapshot, includes just the C++ front\n-\t end and runtime.\n-\n-    <p> <a href=\"gcc-g77-@RELEASE@.tar.bz2\">\n-\t gcc-g77</a> @TEXT_DATE@ snapshot, includes just the F77 front\n-\t end and runtime.\n-\n-    <p> <a href=\"gcc-fortran-@RELEASE@.tar.bz2\">\n-\t gcc-fortran</a> @TEXT_DATE@ snapshot, includes just the Fortran front\n-\t end and runtime.\n-\n-    <p> <a href=\"gcc-java-@RELEASE@.tar.bz2\">\n-\t gcc-java</a> @TEXT_DATE@ snapshot, includes just the Java\n-\t front end and runtime.\n-\n-    <p> <a href=\"gcc-objc-@RELEASE@.tar.bz2\">\n-\t gcc-objc</a> @TEXT_DATE@ snapshot, includes just the Objective-C\n-\t front end and runtime.\n-\n-    <p> <a href=\"gcc-ada-@RELEASE@.tar.bz2\">\n-\t gcc-ada</a> @TEXT_DATE@ snapshot, includes just the Ada\n-\t front end and runtime.\n-\n-</blockquote>\n-\n-<p>Diffs from @BRANCH@-@LAST_DATE@ are available in the\n-<a href=\"diffs/\">diffs/ subdirectory</a>.</p>\n-\n-</p>When a particular snapshot is ready for public consumption the LATEST-IS-\n-file is updated and a message is sent to the gcc list.  Please do not use\n-a snapshot before it has been announced that way.</p>\n-\n-<hr />\n-\n-<address>\n-<a href=\"mailto:gcc@gcc.gnu.org\">gcc@gcc.gnu.org</a>\n-<br />\n-Last modified @TEXT_DATE@\n-</address>\n-</body>\n-\n-</html>"}]}