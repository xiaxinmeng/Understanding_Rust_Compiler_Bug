{"sha": "22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76", "node_id": "C_kwDOANBUbNoAKDIyY2IwZmVhNzE4ZmQ0ZGFiOGM5N2M4ZjAzMDU0YTJmYjdkYzNkNzY", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-15T15:31:17Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-11-16T20:52:03Z"}, "message": "libstdc++: Disable std::format of _Float128 if std::to_chars is innaccurate\n\nThis restricts std::format support for _Float128 (and __float128) to\ntargets where glibc provides __strfromf128 and so can give correct\noutput.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/format [__FLT128_DIG__] (_GLIBCXX_FORMAT_F128):\n\tOnly support formatting _Float128 when glibc provides the\n\tfunctionality needed for accurate std::to_chars.", "tree": {"sha": "0c616f94853efe0f401de8913535f27b89afd3d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c616f94853efe0f401de8913535f27b89afd3d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96e4244ef3ccf4867ca4e37fbc6800e64ef30af6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96e4244ef3ccf4867ca4e37fbc6800e64ef30af6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96e4244ef3ccf4867ca4e37fbc6800e64ef30af6"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "fb29f7e783566a7a91f92351371a5cecead25429", "filename": "libstdc++-v3/include/std/format", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Fformat?ref=22cb0fea718fd4dab8c97c8f03054a2fb7dc3d76", "patch": "@@ -1235,13 +1235,13 @@ namespace __format\n   using __float128_t = long double;\n # define _GLIBCXX_FORMAT_F128 1\n \n-#elif __FLT128_DIG__ && defined(__GLIBC_PREREQ) // see floating_to_chars.cc\n+#elif __FLT128_DIG__ && defined(_GLIBCXX_HAVE_FLOAT128_MATH)\n \n   // Format 128-bit floating-point types using _Float128.\n   using __float128_t = _Float128;\n # define _GLIBCXX_FORMAT_F128 2\n \n-# if __cplusplus == 202002L || !defined(_GLIBCXX_HAVE_FLOAT128_MATH)\n+# if __cplusplus == 202002L\n   // These overloads exist in the library, but are not declared for C++20.\n   // Make them available as std::__format::to_chars.\n   to_chars_result"}]}