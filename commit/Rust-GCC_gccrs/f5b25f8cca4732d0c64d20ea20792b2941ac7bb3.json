{"sha": "f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjViMjVmOGNjYTQ3MzJkMGM2NGQyMGVhMjA3OTJiMjk0MWFjN2JiMw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2004-12-21T01:03:55Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2004-12-21T01:03:55Z"}, "message": "natClassLoader.cc (_Jv_RegisterClassHookDefault): Re-enable duplicate class registration error.\n\n\t* java/lang/natClassLoader.cc (_Jv_RegisterClassHookDefault):\n\tRe-enable duplicate class registration error.\n\nFrom-SVN: r92447", "tree": {"sha": "f664d7ea6181375360d44408a5d02c7efa5763aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f664d7ea6181375360d44408a5d02c7efa5763aa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3/comments", "author": null, "committer": null, "parents": [{"sha": "d2b55bc5592e79c375a73647d8031c4af403aec2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2b55bc5592e79c375a73647d8031c4af403aec2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2b55bc5592e79c375a73647d8031c4af403aec2"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "626cc6e3c0f93b0514eb7f2a036b3a48dedd0b1d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "patch": "@@ -1,5 +1,8 @@\n 2004-12-20  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/lang/natClassLoader.cc (_Jv_RegisterClassHookDefault):\n+\tRe-enable duplicate class registration error.\n+\n \t* testsuite/libjava.jar/jar.exp (gcj_jar_interpret): Updated.\n \t* testsuite/libjava.verify/verify.exp (gcj_verify_run): Updated.\n \t* testsuite/libjava.jni/jni.exp (gcj_jni_test_one): Updated."}, {"sha": "f6571bd66bacc463d7d8344aed8d4200dc2d3743", "filename": "libjava/java/lang/natClassLoader.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b25f8cca4732d0c64d20ea20792b2941ac7bb3/libjava%2Fjava%2Flang%2FnatClassLoader.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClassLoader.cc?ref=f5b25f8cca4732d0c64d20ea20792b2941ac7bb3", "patch": "@@ -201,8 +201,8 @@ _Jv_RegisterClassHookDefault (jclass klass)\n   // The BC ABI makes this check unnecessary: we always resolve all\n   // data references via the appropriate class loader, so the kludge\n   // that required this check has gone.\n-#if 0\n   // If the class is already registered, don't re-register it.\n+  jclass check_class = klass->next;\n   while (check_class != NULL)\n     {\n       if (check_class == klass)\n@@ -227,7 +227,6 @@ _Jv_RegisterClassHookDefault (jclass klass)\n \n       check_class = check_class->next;\n     }\n-#endif\n \n   // FIXME: this is really bogus!\n   if (! klass->engine)"}]}