{"sha": "01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFjM2NmNGQ1MWNmZTNjMzBjYjZlMDRjODk1ZjFjMWJlMGZjZDgzNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-09-24T11:52:05Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-09-24T11:52:05Z"}, "message": "* gnat.dg/nested_proc.adb: New test.\n\nFrom-SVN: r152115", "tree": {"sha": "6405d241a026c62dda06cd8642a9a574d9557a77", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6405d241a026c62dda06cd8642a9a574d9557a77"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837/comments", "author": null, "committer": null, "parents": [{"sha": "9f62cb922fdb83cd32244f3dd7b537d369557a3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f62cb922fdb83cd32244f3dd7b537d369557a3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f62cb922fdb83cd32244f3dd7b537d369557a3e"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "fbce64ff707016de89ddf622c29fcfd96112bf01", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "patch": "@@ -1,3 +1,7 @@\n+2009-09-24  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/nested_proc.adb: New test.\n+\n 2009-09-24  Jakub Jelinek  <jakub@redhat.com>\n \n \t* testsuite/gcc.target/i386/pr12329.c: Adjust."}, {"sha": "144533c283234d5027fd39b0751f446b69ecb1cf", "filename": "gcc/testsuite/gnat.dg/nested_proc.adb", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837/gcc%2Ftestsuite%2Fgnat.dg%2Fnested_proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837/gcc%2Ftestsuite%2Fgnat.dg%2Fnested_proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fnested_proc.adb?ref=01c3cf4d51cfe3c30cb6e04c895f1c1be0fcd837", "patch": "@@ -0,0 +1,33 @@\n+-- { dg-do run }\n+-- Test that a static link is correctly passed to a subprogram which is\n+-- indirectly called through an aggregate.\n+\n+procedure Nested_Proc is\n+\n+  I : Integer := 0;\n+\n+  procedure P1 (X : Integer) is\n+  begin\n+    I := X;\n+  end;\n+\n+  type Func_Ptr is access procedure (X : Integer);\n+\n+  type Arr is array (1..64) of Integer;\n+\n+  type Rec is record\n+    F : Func_Ptr;\n+    A : Arr;\n+  end record;\n+\n+  procedure P2 (R : Rec) is\n+  begin\n+     R.F (1);\n+  end;\n+\n+begin\n+  P2 ((F => P1'Access, A => (others => 0)));\n+  if I /= 1 then\n+    raise Program_Error;\n+  end if;\n+end;"}]}