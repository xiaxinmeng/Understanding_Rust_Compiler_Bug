{"sha": "d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDhmOGEwYjQxZThjYjM0ZjIwNWI1OGJlYTYwODBkYTRlNmNmYjMzNw==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2012-08-22T05:54:24Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-08-22T05:54:24Z"}, "message": "trans-expr.c (gfc_copy_class_to_class, [...]): Free loop and ss data.\n\n2012-08-22  Tobias Burnus  <burnus@net-b.de>\n\n        * trans-expr.c (gfc_copy_class_to_class,\n        gfc_trans_arrayfunc_assign): Free loop and ss data.\n        * trans-intrinsic.c (gfc_trans_arrayfunc_assign): Free ss data.\n\nFrom-SVN: r190586", "tree": {"sha": "2c9a5fca75ff9a0d341d093a678cc1ba2b7389db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c9a5fca75ff9a0d341d093a678cc1ba2b7389db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "03dd17b12e13b5c1cef36c4b52fa3acc7b7640f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03dd17b12e13b5c1cef36c4b52fa3acc7b7640f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03dd17b12e13b5c1cef36c4b52fa3acc7b7640f2"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "9fd77d7016e962947a4caf26719eaa7191b664b9", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "patch": "@@ -1,3 +1,9 @@\n+2012-08-22  Tobias Burnus  <burnus@net-b.de>\n+\n+\t* trans-expr.c (gfc_copy_class_to_class,\n+\tgfc_trans_arrayfunc_assign): Free loop and ss data.\n+\t* trans-intrinsic.c (gfc_trans_arrayfunc_assign): Free ss data.\n+\n 2012-08-21  Tobias Burnus  <burnus@net-b.de>\n \n \t* parse.c (parse_contained): Include EXEC_END_PROCEDURE"}, {"sha": "cfb08621219628060f4489b26b9bb6cfa4a1c052", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "patch": "@@ -533,6 +533,7 @@ gfc_copy_class_to_class (tree from, tree to, tree nelems)\n       loop.to[0] = nelems;\n       gfc_trans_scalarizing_loops (&loop, &loopbody);\n       gfc_add_block_to_block (&body, &loop.pre);\n+      gfc_cleanup_loop (&loop);\n       tmp = gfc_finish_block (&body);\n     }\n   else\n@@ -6770,6 +6771,7 @@ gfc_trans_arrayfunc_assign (gfc_expr * expr1, gfc_expr * expr2)\n       if (!expr2->value.function.isym)\n \t{\n \t  realloc_lhs_loop_for_fcn_call (&se, &expr1->where, &ss, &loop);\n+\t  gfc_cleanup_loop (&loop);\n \t  ss->is_alloc_lhs = 1;\n \t}\n       else\n@@ -6778,6 +6780,7 @@ gfc_trans_arrayfunc_assign (gfc_expr * expr1, gfc_expr * expr2)\n \n   gfc_conv_function_expr (&se, expr2);\n   gfc_add_block_to_block (&se.pre, &se.post);\n+  gfc_free_ss (se.ss);\n \n   return gfc_finish_block (&se.pre);\n }"}, {"sha": "d0aebe94774b0ff98a59de7aed604d9b746c5835", "filename": "gcc/fortran/trans-intrinsic.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2Ftrans-intrinsic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8f8a0b41e8cb34f205b58bea6080da4e6cfb337/gcc%2Ffortran%2Ftrans-intrinsic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-intrinsic.c?ref=d8f8a0b41e8cb34f205b58bea6080da4e6cfb337", "patch": "@@ -1328,6 +1328,7 @@ gfc_conv_intrinsic_rank (gfc_se *se, gfc_expr *expr)\n   argse.descriptor_only = 1;\n \n   gfc_conv_expr_descriptor (&argse, expr->value.function.actual->expr, ss);\n+  gfc_free_ss (ss);\n   gfc_add_block_to_block (&se->pre, &argse.pre);\n   gfc_add_block_to_block (&se->post, &argse.post);\n "}]}