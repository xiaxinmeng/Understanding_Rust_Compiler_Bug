{"sha": "e1a96a5729b45f77160029277379c72276cf94e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTFhOTZhNTcyOWI0NWY3NzE2MDAyOTI3NzM3OWM3MjI3NmNmOTRlOQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-10-31T01:54:35Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-10-31T01:54:35Z"}, "message": "sizeof2.C: incorrect specialization of base template is selected\n\n\t* g++.old-deja/g++.pt/sizeof2.C: incorrect specialization of base\n\ttemplate is selected\n\nFrom-SVN: r23468", "tree": {"sha": "85ea53afbd6abdc02ea81296b1fc495287c1a1a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85ea53afbd6abdc02ea81296b1fc495287c1a1a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1a96a5729b45f77160029277379c72276cf94e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1a96a5729b45f77160029277379c72276cf94e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1a96a5729b45f77160029277379c72276cf94e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1a96a5729b45f77160029277379c72276cf94e9/comments", "author": null, "committer": null, "parents": [{"sha": "7e0a7fc28e2142db6e3946bf2e32453ed468b6dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e0a7fc28e2142db6e3946bf2e32453ed468b6dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e0a7fc28e2142db6e3946bf2e32453ed468b6dc"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "5ea28f511c26d3d31f52c9c2122a1b991504f727", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1a96a5729b45f77160029277379c72276cf94e9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1a96a5729b45f77160029277379c72276cf94e9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e1a96a5729b45f77160029277379c72276cf94e9", "patch": "@@ -1,5 +1,8 @@\n 1998-10-31  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \n+\t* g++.old-deja/g++.pt/sizeof2.C: incorrect specialization of base\n+\ttemplate is selected\n+\n \t* g++.old-deja/g++.ext/arrnew2.C: if new T[n](i) is accepted for\n \tclasses, it should be accepted for all types.\n "}, {"sha": "fba3ed67b4b1ecf2a8ba40b68fdfa79cb5dd8001", "filename": "gcc/testsuite/g++.old-deja/g++.pt/sizeof2.C", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1a96a5729b45f77160029277379c72276cf94e9/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fsizeof2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1a96a5729b45f77160029277379c72276cf94e9/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fsizeof2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fsizeof2.C?ref=e1a96a5729b45f77160029277379c72276cf94e9", "patch": "@@ -0,0 +1,22 @@\n+// Although template class B is not used at all, it causes the\n+// incorrect specialization of A to be selected\n+\n+// Adapted from testcase by Oskar Enoksson <osken393@student.liu.se>\n+\n+// execution test - XFAIL *-*-*\n+\n+extern \"C\" void abort();\n+\n+template<int N, class T> // Base class\n+class A { public: static int n() { return sizeof(T); } };\n+\n+template<int N> // Derived #1\n+class B: public A<N,char[N]> {};\n+\n+template<int N, int M> // Derived #2 (wrong!)\n+class C: public A<N,char[M]> {};\n+\n+int main() {\n+  if (C<1,2>::n() != 2)\n+    abort();\n+}"}]}