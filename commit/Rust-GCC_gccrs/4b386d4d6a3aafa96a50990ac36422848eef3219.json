{"sha": "4b386d4d6a3aafa96a50990ac36422848eef3219", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGIzODZkNGQ2YTNhYWZhOTZhNTA5OTBhYzM2NDIyODQ4ZWVmMzIxOQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-02-14T18:58:48Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-02-14T18:58:48Z"}, "message": "re PR go/48411 (Bogusly canonicalized $target-gccgo)\n\n\tPR go/48411\n\t* Make-lang.in (gccgo-cross$(exeext)): New target.\n\t(go.all.cross): Depend on gccgo-cross$(exeext) instead of\n\tgccgo$(exeext).\n\t(go.install-common): Only install GCCGO_TARGET_INSTALL_NAME if\n\tgccgo-cross$(exeext) does not exist.\n\nFrom-SVN: r184221", "tree": {"sha": "a3c4704c6271f0c64907c0f0e7f34066d1f62748", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a3c4704c6271f0c64907c0f0e7f34066d1f62748"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b386d4d6a3aafa96a50990ac36422848eef3219", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b386d4d6a3aafa96a50990ac36422848eef3219", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b386d4d6a3aafa96a50990ac36422848eef3219", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b386d4d6a3aafa96a50990ac36422848eef3219/comments", "author": null, "committer": null, "parents": [{"sha": "1f319dbad617f941249fd9bed3f3d05a0f8c1b93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f319dbad617f941249fd9bed3f3d05a0f8c1b93", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f319dbad617f941249fd9bed3f3d05a0f8c1b93"}], "stats": {"total": 32, "additions": 25, "deletions": 7}, "files": [{"sha": "255b3f55424f4c2cd41977ce474822fdae4ecbf6", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b386d4d6a3aafa96a50990ac36422848eef3219/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b386d4d6a3aafa96a50990ac36422848eef3219/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=4b386d4d6a3aafa96a50990ac36422848eef3219", "patch": "@@ -1,3 +1,12 @@\n+2012-02-14  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR go/48411\n+\t* Make-lang.in (gccgo-cross$(exeext)): New target.\n+\t(go.all.cross): Depend on gccgo-cross$(exeext) instead of\n+\tgccgo$(exeext).\n+\t(go.install-common): Only install GCCGO_TARGET_INSTALL_NAME if\n+\tgccgo-cross$(exeext) does not exist.\n+\n 2012-02-07  Ian Lance Taylor  <iant@google.com>\n \n \t* gccgo.texi (Function Names): Document //extern instead of"}, {"sha": "2994fe185aeb2b64fd254a0b2f300f702e37079b", "filename": "gcc/go/Make-lang.in", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b386d4d6a3aafa96a50990ac36422848eef3219/gcc%2Fgo%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b386d4d6a3aafa96a50990ac36422848eef3219/gcc%2Fgo%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FMake-lang.in?ref=4b386d4d6a3aafa96a50990ac36422848eef3219", "patch": "@@ -42,6 +42,13 @@ gccgo$(exeext): $(GCCGO_OBJS) $(EXTRA_GCC_OBJS) libcommon-target.a $(LIBDEPS)\n \t  $(GCCGO_OBJS) $(EXTRA_GCC_OBJS) libcommon-target.a \\\n \t  $(EXTRA_GCC_LIBS) $(LIBS)\n \n+# The cross-compiler version.  This is built mainly as a signal to the\n+# go.install-common target.  If this executable exists, it means that\n+# go.all.cross was run.\n+gccgo-cross$(exeext): gccgo$(exeext)\n+\t-rm -f gccgo-cross$(exeext)\n+\tcp gccgo$(exeext) gccgo-cross$(exeext)\n+\n # Use strict warnings.\n go-warn = $(STRICT_WARN)\n \n@@ -107,7 +114,7 @@ gccgo.pod: go/gccgo.texi\n \n # Build hooks.\n \n-go.all.cross: gccgo$(exeext)\n+go.all.cross: gccgo-cross$(exeext)\n go.start.encap: gccgo$(exeext)\n go.rest.encap:\n go.info: doc/gccgo.info\n@@ -136,13 +143,15 @@ check_go_parallelize = go-test.exp=*/test/\\[0-57-9a-bd-hj-zA-Z\\]* \\\n \n go.install-common: installdirs\n \t-rm -f $(DESTDIR)$(bindir)/$(GCCGO_INSTALL_NAME)$(exeext)\n-\t-rm -f $(DESTDIR)$(bindir)/$(GCCGO_TARGET_INSTALL_NAME)$(exeext)\n \t$(INSTALL_PROGRAM) gccgo$(exeext) $(DESTDIR)$(bindir)/$(GCCGO_INSTALL_NAME)$(exeext)\n-\tif test -f $(DESTDIR)$(bindir)$(GCCGO_TARGET_INSTALL_NAME)$(exeext); then \\\n-\t  :; \\\n-\telse \\\n-\t  cd $(DESTDIR)$(bindir) && \\\n-\t   $(LN) $(GCCGO_INSTALL_NAME)$(exeext) $(GCCGO_TARGET_INSTALL_NAME)$(exeext); \\\n+\t-if test -f go1$(exeext); then \\\n+\t  if test -f gccgo-cross$(exeext); then \\\n+\t    :; \\\n+\t  else \\\n+\t    rm -f $(DESTDIR)$(bindir)/$(GCCGO_TARGET_INSTALL_NAME)$(exeext); \\\n+\t    ( cd $(DESTDIR)$(bindir) && \\\n+\t      $(LN) $(GCCGO_INSTALL_NAME)$(exeext) $(GCCGO_TARGET_INSTALL_NAME)$(exeext) ); \\\n+\t  fi; \\\n \tfi\n \n go.install-plugin:"}]}