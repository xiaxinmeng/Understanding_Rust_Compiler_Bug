{"sha": "07a6816e61d35c8b1a9e89e2699d47807f72e668", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdhNjgxNmU2MWQzNWM4YjFhOWU4OWUyNjk5ZDQ3ODA3ZjcyZTY2OA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2018-02-07T09:35:10Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2018-02-07T09:35:10Z"}, "message": "re PR c++/71662 ([DR 1485] ICE on invalid C++11 code with unqualified name look up: in tsubst_copy, at cp/pt.c:14010)\n\n2018-02-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/71662\n\t* g++.dg/cpp0x/scoped_enum7.C: New.\n\nFrom-SVN: r257439", "tree": {"sha": "4af23d09be78911673c53ebd98b9eeca2b5fc0d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4af23d09be78911673c53ebd98b9eeca2b5fc0d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07a6816e61d35c8b1a9e89e2699d47807f72e668", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07a6816e61d35c8b1a9e89e2699d47807f72e668", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07a6816e61d35c8b1a9e89e2699d47807f72e668", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07a6816e61d35c8b1a9e89e2699d47807f72e668/comments", "author": null, "committer": null, "parents": [{"sha": "f8e54f64262dc5a3dc03f094091eda4fe7886537", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8e54f64262dc5a3dc03f094091eda4fe7886537", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8e54f64262dc5a3dc03f094091eda4fe7886537"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "8a0dc3c370cb58337207ef0a56103663eb77146d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07a6816e61d35c8b1a9e89e2699d47807f72e668/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07a6816e61d35c8b1a9e89e2699d47807f72e668/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=07a6816e61d35c8b1a9e89e2699d47807f72e668", "patch": "@@ -1,3 +1,8 @@\n+2018-02-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/71662\n+\t* g++.dg/cpp0x/scoped_enum7.C: New.\n+\n 2018-02-07  Christophe Lyon <christophe.lyon@linaro.org>\n \n \tPR tree-optimization/83008"}, {"sha": "1ba34b6e9873b6d6042783a5bdde69dde0dc3023", "filename": "gcc/testsuite/g++.dg/cpp0x/scoped_enum7.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07a6816e61d35c8b1a9e89e2699d47807f72e668/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fscoped_enum7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07a6816e61d35c8b1a9e89e2699d47807f72e668/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fscoped_enum7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fscoped_enum7.C?ref=07a6816e61d35c8b1a9e89e2699d47807f72e668", "patch": "@@ -0,0 +1,19 @@\n+// PR c++/71662\n+// { dg-do compile { target c++11 } }\n+// { dg-additional-options \"-Wno-return-type\" }\n+\n+template < typename T > struct A\n+{\n+  enum E : T;\n+  E h ();\n+};\n+\n+A < int > a;\n+A < int >::E b = a.h ();\n+\n+template < typename T > enum A < T >::E : T { e };  // { dg-message \"enumeration\" }\n+\n+template < typename T > typename A < T >::E A < T >::h ()\n+{\n+  return e;  // { dg-error \"declared\" }\n+}"}]}