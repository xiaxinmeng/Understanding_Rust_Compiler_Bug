{"sha": "d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg3NzFiNTliNzdjOGU0NjlhMTlmNjQ5NmIxMDI1YThhZDc1ZDRmMw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-07-23T00:58:46Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-07-23T00:58:46Z"}, "message": "re PR libfortran/32784 ([win32] Using 'CONOUT$', 'CONIN$', or 'CONERR$' as assigned file generates Fortran runtime error: Bad file descriptor)\n\n2009-07-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/32784\n\t* unix.c (regular_file): Check for CONIN$ CONOUT$, and CONERR$ and open\n\tthe respective /dev/conin or /dev/conout devices.  This is Cygwin\n\tspecific.\n\nFrom-SVN: r149970", "tree": {"sha": "7d06a4c6da999ce63065afecdfe7cade74ff43f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d06a4c6da999ce63065afecdfe7cade74ff43f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8771b59b77c8e469a19f6496b1025a8ad75d4f3/comments", "author": null, "committer": null, "parents": [{"sha": "1f8260a03924e19733d76fed622bf619cd39bf18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f8260a03924e19733d76fed622bf619cd39bf18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f8260a03924e19733d76fed622bf619cd39bf18"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "5bb68ce291a0ea42b2f93970bb7cac908fd45d2a", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8771b59b77c8e469a19f6496b1025a8ad75d4f3/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8771b59b77c8e469a19f6496b1025a8ad75d4f3/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "patch": "@@ -1,3 +1,10 @@\n+2009-07-22  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/32784\n+\t* unix.c (regular_file): Check for CONIN$ CONOUT$, and CONERR$ and open\n+\tthe respective /dev/conin or /dev/conout devices.  This is Cygwin\n+\tspecific.\n+\n 2009-07-19  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR libfortran/34670"}, {"sha": "8c7bf86c2bd9d43cf94394a5eca33707dfc5cf81", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d8771b59b77c8e469a19f6496b1025a8ad75d4f3/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d8771b59b77c8e469a19f6496b1025a8ad75d4f3/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=d8771b59b77c8e469a19f6496b1025a8ad75d4f3", "patch": "@@ -897,6 +897,26 @@ regular_file (st_parameter_open *opp, unit_flags *flags)\n       return -1;\n     }\n \n+#ifdef __CYGWIN__\n+  if (opp->file_len == 7)\n+    {\n+      if (strncmp (path, \"CONOUT$\", 7) == 0\n+\t  || strncmp (path, \"CONERR$\", 7) == 0)\n+\t{\n+\t  fd = open (\"/dev/conout\", O_WRONLY);\n+\t  flags->action = ACTION_WRITE;\n+\t  return fd;\n+\t}\n+    }\n+\n+  if (opp->file_len == 6 && strncmp (path, \"CONIN$\", 6) == 0)\n+    {\n+      fd = open (\"/dev/conin\", O_RDONLY);\n+      flags->action = ACTION_READ;\n+      return fd;\n+    }\n+#endif\n+\n   rwflag = 0;\n \n   switch (flags->action)"}]}