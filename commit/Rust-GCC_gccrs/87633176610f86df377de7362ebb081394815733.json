{"sha": "87633176610f86df377de7362ebb081394815733", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc2MzMxNzY2MTBmODZkZjM3N2RlNzM2MmViYjA4MTM5NDgxNTczMw==", "commit": {"author": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2012-01-11T07:34:16Z"}, "committer": {"name": "Janne Blomqvist", "email": "jb@gcc.gnu.org", "date": "2012-01-11T07:34:16Z"}, "message": "PR 51803 Handle getcwd failure and lack of the function better.\n\n2012-01-11  Janne Blomqvist  <jb@gcc.gnu.org>\n            Mike Stump  <mikestump@comcast.net>\n\tPR libfortran/51803\n\t* runtime/main.c (store_exe_path): Handle getcwd failure and lack\n\tof the function better.\n\nCo-Authored-By: Mike Stump <mikestump@comcast.net>\n\nFrom-SVN: r183090", "tree": {"sha": "b5f05dd66b706344b7b79599c6f1030525dab0c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5f05dd66b706344b7b79599c6f1030525dab0c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87633176610f86df377de7362ebb081394815733", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87633176610f86df377de7362ebb081394815733", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87633176610f86df377de7362ebb081394815733", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87633176610f86df377de7362ebb081394815733/comments", "author": null, "committer": null, "parents": [{"sha": "ef1ed13d9ab2e2c9dacdb5ae06afb86ca6ad7193", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef1ed13d9ab2e2c9dacdb5ae06afb86ca6ad7193", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef1ed13d9ab2e2c9dacdb5ae06afb86ca6ad7193"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "3e27ed952c05275171dc56c7af503f70029b5150", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87633176610f86df377de7362ebb081394815733/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87633176610f86df377de7362ebb081394815733/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=87633176610f86df377de7362ebb081394815733", "patch": "@@ -1,3 +1,9 @@\n+2012-01-11  Janne Blomqvist  <jb@gcc.gnu.org>\n+            Mike Stump  <mikestump@comcast.net>\n+\tPR libfortran/51803\n+\t* runtime/main.c (store_exe_path): Handle getcwd failure and lack\n+\tof the function better.\n+\n 2012-01-10  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/51197"}, {"sha": "1cad5eff7257145f0c89fd2e5bd45e4f0cfe8172", "filename": "libgfortran/runtime/main.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87633176610f86df377de7362ebb081394815733/libgfortran%2Fruntime%2Fmain.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87633176610f86df377de7362ebb081394815733/libgfortran%2Fruntime%2Fmain.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fruntime%2Fmain.c?ref=87633176610f86df377de7362ebb081394815733", "patch": "@@ -116,8 +116,10 @@ store_exe_path (const char * argv0)\n   memset (buf, 0, sizeof (buf));\n #ifdef HAVE_GETCWD\n   cwd = getcwd (buf, sizeof (buf));\n+  if (!cwd)\n+    cwd = \".\";\n #else\n-  cwd = \"\";\n+  cwd = \".\";\n #endif\n \n   /* exe_path will be cwd + \"/\" + argv[0] + \"\\0\".  This will not work"}]}