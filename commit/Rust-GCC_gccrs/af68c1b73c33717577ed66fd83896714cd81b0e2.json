{"sha": "af68c1b73c33717577ed66fd83896714cd81b0e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWY2OGMxYjczYzMzNzE3NTc3ZWQ2NmZkODM4OTY3MTRjZDgxYjBlMg==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2015-03-07T16:12:41Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2015-03-07T16:12:41Z"}, "message": "re PR target/65249 (unable to find a register to spill in class 'R0_REGS' when compiling protobuf on sh4)\n\ngcc/testsuite/\n\tPR target/65249\n\t* g++.dg/torture/pr65249.C: New.\n\nFrom-SVN: r221256", "tree": {"sha": "60b91c1fbb564184384d284f984cc8e0d7a20a65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/60b91c1fbb564184384d284f984cc8e0d7a20a65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af68c1b73c33717577ed66fd83896714cd81b0e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af68c1b73c33717577ed66fd83896714cd81b0e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af68c1b73c33717577ed66fd83896714cd81b0e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af68c1b73c33717577ed66fd83896714cd81b0e2/comments", "author": null, "committer": null, "parents": [{"sha": "0d797e0f6f3fedc1eda63adc2d8ccc9b20efc371", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d797e0f6f3fedc1eda63adc2d8ccc9b20efc371", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d797e0f6f3fedc1eda63adc2d8ccc9b20efc371"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "baa485aa681bd7af34a6492025b2bc50e52e7a94", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af68c1b73c33717577ed66fd83896714cd81b0e2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af68c1b73c33717577ed66fd83896714cd81b0e2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=af68c1b73c33717577ed66fd83896714cd81b0e2", "patch": "@@ -1,3 +1,8 @@\n+2015-03-07  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\tPR target/65249\n+\t* g++.dg/torture/pr65249.C: New.\n+\n 2015-03-07  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* gcc.target/i386/pr45685.c (uint64_t): Replace long with long"}, {"sha": "980d506bee6d74aad7b434d9b98038132c125f3f", "filename": "gcc/testsuite/g++.dg/torture/pr65249.C", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af68c1b73c33717577ed66fd83896714cd81b0e2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr65249.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af68c1b73c33717577ed66fd83896714cd81b0e2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr65249.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr65249.C?ref=af68c1b73c33717577ed66fd83896714cd81b0e2", "patch": "@@ -0,0 +1,54 @@\n+// { dg-do compile }\n+// { dg-additional-options \"-fPIC -fstack-protector-strong\" { target fpic } }\n+// { dg-require-effective-target fstack_protector }\n+\n+struct struct0\n+{\n+  struct0 (void(*)());\n+};\n+\n+int func5 (int* ptr);\n+void func3 (int*, struct0*);\n+\n+inline void\n+func4 (int* a, void (*b)())\n+{\n+  if (func5 (a) != 2)\n+  {\n+    struct0 f (b);\n+    func3(a, &f);\n+  }\n+}\n+\n+struct struct1\n+{\n+  const void* val0;\n+  const void* val1;\n+};\n+\n+void* func3 (const void*);\n+\n+static const void* gvar1 = 0;\n+static const void* gvar2 = 0;\n+static int gvar0 = 0;\n+\n+void\n+func0 (void)\n+{\n+  gvar2 = func3 (gvar1);\n+}\n+\n+inline void\n+func1 (void)\n+{\n+  func4 (&gvar0, &func0);\n+}\n+\n+struct1 func2 (void)\n+{\n+  func1 ();\n+  struct1 s;\n+  s.val0 = gvar1;\n+  s.val1 = gvar2;\n+  return s;\n+}"}]}