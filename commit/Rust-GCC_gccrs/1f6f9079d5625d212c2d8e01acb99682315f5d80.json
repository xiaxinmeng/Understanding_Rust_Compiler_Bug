{"sha": "1f6f9079d5625d212c2d8e01acb99682315f5d80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY2ZjkwNzlkNTYyNWQyMTJjMmQ4ZTAxYWNiOTk2ODIzMTVmNWQ4MA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2016-05-16T09:56:19Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2016-05-16T09:56:19Z"}, "message": "ipa-inline.c (report_inline_failed_reason): Look into thunks, too\n\n\n\t* ipa-inline.c (report_inline_failed_reason): Look into thunks, too\n\t(inline_small_functions): Do not look for function symbol when resetting\n\tcaches.\n\nFrom-SVN: r236271", "tree": {"sha": "a049e16461f23a25870b086a17cb11737215a24e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a049e16461f23a25870b086a17cb11737215a24e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f6f9079d5625d212c2d8e01acb99682315f5d80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f6f9079d5625d212c2d8e01acb99682315f5d80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f6f9079d5625d212c2d8e01acb99682315f5d80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f6f9079d5625d212c2d8e01acb99682315f5d80/comments", "author": null, "committer": null, "parents": [{"sha": "479f99c9679096f14f8d9d8bbb0ada049dbdead1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/479f99c9679096f14f8d9d8bbb0ada049dbdead1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/479f99c9679096f14f8d9d8bbb0ada049dbdead1"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "8b09e24b552c7439993c781a8006c79a777d7a8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f6f9079d5625d212c2d8e01acb99682315f5d80/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f6f9079d5625d212c2d8e01acb99682315f5d80/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f6f9079d5625d212c2d8e01acb99682315f5d80", "patch": "@@ -1,3 +1,9 @@\n+2016-05-16  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-inline.c (report_inline_failed_reason): Look into thunks, too\n+\t(inline_small_functions): Do not look for function symbol when resetting\n+\tcaches.\n+\n 2016-05-16  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* lto-cgraph.c (compute_ltrans_boundary, output_symtab): Fix handling"}, {"sha": "7f0761607b5d9f6538dbbb60a632e5a606241c74", "filename": "gcc/ipa-inline.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f6f9079d5625d212c2d8e01acb99682315f5d80/gcc%2Fipa-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f6f9079d5625d212c2d8e01acb99682315f5d80/gcc%2Fipa-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline.c?ref=1f6f9079d5625d212c2d8e01acb99682315f5d80", "patch": "@@ -233,11 +233,11 @@ report_inline_failed_reason (struct cgraph_edge *e)\n       if ((e->inline_failed == CIF_TARGET_OPTION_MISMATCH\n \t   || e->inline_failed == CIF_OPTIMIZATION_MISMATCH)\n \t  && e->caller->lto_file_data\n-\t  && e->callee->function_symbol ()->lto_file_data)\n+\t  && e->callee->ultimate_alias_target ()->lto_file_data)\n \t{\n \t  fprintf (dump_file, \"  LTO objects: %s, %s\\n\",\n \t\t   e->caller->lto_file_data->file_name,\n-\t\t   e->callee->function_symbol ()->lto_file_data->file_name);\n+\t\t   e->callee->ultimate_alias_target ()->lto_file_data->file_name);\n \t}\n       if (e->inline_failed == CIF_TARGET_OPTION_MISMATCH)\n \tcl_target_option_print_diff\n@@ -2027,7 +2027,7 @@ inline_small_functions (void)\n \t  inline_call (edge, true, &new_indirect_edges, &overall_size, true);\n \t  add_new_edges_to_heap (&edge_heap, new_indirect_edges);\n \n-\t  reset_edge_caches (edge->callee->function_symbol ());\n+\t  reset_edge_caches (edge->callee);\n \n \t  update_callee_keys (&edge_heap, where, updated_nodes);\n \t}"}]}