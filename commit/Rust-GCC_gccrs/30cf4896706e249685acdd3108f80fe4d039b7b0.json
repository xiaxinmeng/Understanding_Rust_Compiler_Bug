{"sha": "30cf4896706e249685acdd3108f80fe4d039b7b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBjZjQ4OTY3MDZlMjQ5Njg1YWNkZDMxMDhmODBmZTRkMDM5YjdiMA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2001-10-22T19:36:24Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2001-10-22T19:36:24Z"}, "message": "arm.h (HOST_INT, HOST_UINT): Delete.\n\n\t* arm.h (HOST_INT, HOST_UINT): Delete.  Remove all uses.\n\t* arm.c (HOST_INT, HOST_UINT): Likewise.\n\nFrom-SVN: r46413", "tree": {"sha": "7282de6b74e5a9504839f8a35d3f37c11d1fe2e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7282de6b74e5a9504839f8a35d3f37c11d1fe2e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30cf4896706e249685acdd3108f80fe4d039b7b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30cf4896706e249685acdd3108f80fe4d039b7b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30cf4896706e249685acdd3108f80fe4d039b7b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30cf4896706e249685acdd3108f80fe4d039b7b0/comments", "author": null, "committer": null, "parents": [{"sha": "3be131bee83594cac9769e48ec908291e0e8c95e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be131bee83594cac9769e48ec908291e0e8c95e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3be131bee83594cac9769e48ec908291e0e8c95e"}], "stats": {"total": 100, "additions": 47, "deletions": 53}, "files": [{"sha": "377c0a0747a1012c56db3bc027bc74f34877a386", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30cf4896706e249685acdd3108f80fe4d039b7b0", "patch": "@@ -1,3 +1,8 @@\n+2001-10-22  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* arm.h (HOST_INT, HOST_UINT): Delete.  Remove all uses.\n+\t* arm.c (HOST_INT, HOST_UINT): Likewise.\n+\n 2001-10-22  Stan Shebs  <shebs@apple.com>\n \n \t* config/darwin-protos.h (darwin_exception_section): Declare."}, {"sha": "0c505bcc6e9baf99deecee9febc8e253b8b8cbf1", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 35, "deletions": 36, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=30cf4896706e249685acdd3108f80fe4d039b7b0", "patch": "@@ -933,14 +933,14 @@ int\n const_ok_for_arm (i)\n      HOST_WIDE_INT i;\n {\n-  unsigned HOST_WIDE_INT mask = ~HOST_UINT (0xFF);\n+  unsigned HOST_WIDE_INT mask = ~(unsigned HOST_WIDE_INT)0xFF;\n \n   /* For machines with >32 bit HOST_WIDE_INT, the bits above bit 31 must \n      be all zero, or all one.  */\n-  if ((i & ~HOST_UINT (0xffffffff)) != 0\n-      && ((i & ~HOST_UINT (0xffffffff)) \n-\t  != ((~HOST_UINT (0))\n-\t      & ~HOST_UINT (0xffffffff))))\n+  if ((i & ~(unsigned HOST_WIDE_INT) 0xffffffff) != 0\n+      && ((i & ~(unsigned HOST_WIDE_INT) 0xffffffff)\n+\t  != ((~(unsigned HOST_WIDE_INT) 0)\n+\t      & ~(unsigned HOST_WIDE_INT) 0xffffffff)))\n     return FALSE;\n   \n   /* Fast return for 0 and powers of 2 */\n@@ -949,12 +949,12 @@ const_ok_for_arm (i)\n \n   do\n     {\n-      if ((i & mask & HOST_UINT (0xffffffff)) == 0)\n+      if ((i & mask & (unsigned HOST_WIDE_INT) 0xffffffff) == 0)\n         return TRUE;\n       mask =\n-\t  (mask << 2) | ((mask & HOST_UINT (0xffffffff))\n-\t\t\t >> (32 - 2)) | ~(HOST_UINT (0xffffffff));\n-    } while (mask != ~HOST_UINT (0xFF));\n+\t  (mask << 2) | ((mask & (unsigned HOST_WIDE_INT) 0xffffffff)\n+\t\t\t  >> (32 - 2)) | ~(unsigned HOST_WIDE_INT) 0xffffffff;\n+    } while (mask != ~(unsigned HOST_WIDE_INT) 0xFF);\n \n   return FALSE;\n }\n@@ -1101,7 +1101,7 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n   int set_zero_bit_copies = 0;\n   int insns = 0;\n   unsigned HOST_WIDE_INT temp1, temp2;\n-  unsigned HOST_WIDE_INT remainder = val & HOST_UINT (0xffffffff);\n+  unsigned HOST_WIDE_INT remainder = val & 0xffffffff;\n \n   /* Find out which operations are safe for a given CODE.  Also do a quick\n      check for degenerate cases; these can occur when DImode operations\n@@ -1120,7 +1120,7 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n       break;\n \n     case IOR:\n-      if (remainder == HOST_UINT (0xffffffff))\n+      if (remainder == 0xffffffff)\n \t{\n \t  if (generate)\n \t    emit_insn (gen_rtx_SET (VOIDmode, target,\n@@ -1144,7 +1144,7 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n \t    emit_insn (gen_rtx_SET (VOIDmode, target, const0_rtx));\n \t  return 1;\n \t}\n-      if (remainder == HOST_UINT (0xffffffff))\n+      if (remainder == 0xffffffff)\n \t{\n \t  if (reload_completed && rtx_equal_p (target, source))\n \t    return 0;\n@@ -1164,7 +1164,7 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n \t    emit_insn (gen_rtx_SET (VOIDmode, target, source));\n \t  return 1;\n \t}\n-      if (remainder == HOST_UINT (0xffffffff))\n+      if (remainder == 0xffffffff)\n \t{\n \t  if (generate)\n \t    emit_insn (gen_rtx_SET (VOIDmode, target,\n@@ -1292,16 +1292,15 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n \t word.  We only look for the simplest cases, to do more would cost\n \t too much.  Be careful, however, not to generate this when the\n \t alternative would take fewer insns.  */\n-      if (val & HOST_UINT (0xffff0000))\n+      if (val & 0xffff0000)\n \t{\n-\t  temp1 = remainder & HOST_UINT (0xffff0000);\n+\t  temp1 = remainder & 0xffff0000;\n \t  temp2 = remainder & 0x0000ffff;\n \n \t  /* Overlaps outside this range are best done using other methods.  */\n \t  for (i = 9; i < 24; i++)\n \t    {\n-\t      if ((((temp2 | (temp2 << i))\n-\t\t    & HOST_UINT (0xffffffff)) == remainder)\n+\t      if ((((temp2 | (temp2 << i)) & 0xffffffff) == remainder)\n \t\t  && !const_ok_for_arm (temp2))\n \t\t{\n \t\t  rtx new_src = (subtargets\n@@ -1439,11 +1438,11 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n       /* See if two shifts will do 2 or more insn's worth of work.  */\n       if (clear_sign_bit_copies >= 16 && clear_sign_bit_copies < 24)\n \t{\n-\t  HOST_WIDE_INT shift_mask = (((HOST_UINT (0xffffffff))\n+\t  HOST_WIDE_INT shift_mask = ((0xffffffff\n \t\t\t\t       << (32 - clear_sign_bit_copies))\n-\t\t\t\t      & HOST_UINT (0xffffffff));\n+\t\t\t\t      & 0xffffffff);\n \n-\t  if ((remainder | shift_mask) != HOST_UINT (0xffffffff))\n+\t  if ((remainder | shift_mask) != 0xffffffff)\n \t    {\n \t      if (generate)\n \t\t{\n@@ -1476,7 +1475,7 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n \t{\n \t  HOST_WIDE_INT shift_mask = (1 << clear_zero_bit_copies) - 1;\n \t  \n-\t  if ((remainder | shift_mask) != HOST_UINT (0xffffffff))\n+\t  if ((remainder | shift_mask) != 0xffffffff)\n \t    {\n \t      if (generate)\n \t\t{\n@@ -1518,9 +1517,9 @@ arm_gen_constant (code, mode, val, target, source, subtargets, generate)\n       num_bits_set++;\n \n   if (code == AND || (can_invert && num_bits_set > 16))\n-    remainder = (~remainder) & HOST_UINT (0xffffffff);\n+    remainder = (~remainder) & 0xffffffff;\n   else if (code == PLUS && num_bits_set > 16)\n-    remainder = (-remainder) & HOST_UINT (0xffffffff);\n+    remainder = (-remainder) & 0xffffffff;\n   else\n     {\n       can_invert = 0;\n@@ -1671,7 +1670,7 @@ arm_canonicalize_comparison (code, op1)\n \n     case GT:\n     case LE:\n-      if (i != (((HOST_UINT (1)) << (HOST_BITS_PER_WIDE_INT - 1)) - 1)\n+      if (i != ((((unsigned HOST_WIDE_INT) 1) << (HOST_BITS_PER_WIDE_INT - 1)) - 1)\n \t  && (const_ok_for_arm (i + 1) || const_ok_for_arm (-(i + 1))))\n \t{\n \t  *op1 = GEN_INT (i + 1);\n@@ -1681,7 +1680,7 @@ arm_canonicalize_comparison (code, op1)\n \n     case GE:\n     case LT:\n-      if (i != ((HOST_UINT (1)) << (HOST_BITS_PER_WIDE_INT - 1))\n+      if (i != (((unsigned HOST_WIDE_INT) 1) << (HOST_BITS_PER_WIDE_INT - 1))\n \t  && (const_ok_for_arm (i - 1) || const_ok_for_arm (-(i - 1))))\n \t{\n \t  *op1 = GEN_INT (i - 1);\n@@ -1691,7 +1690,7 @@ arm_canonicalize_comparison (code, op1)\n \n     case GTU:\n     case LEU:\n-      if (i != ~(HOST_UINT (0))\n+      if (i != ~((unsigned HOST_WIDE_INT) 0)\n \t  && (const_ok_for_arm (i + 1) || const_ok_for_arm (-(i + 1))))\n \t{\n \t  *op1 = GEN_INT (i + 1);\n@@ -2714,7 +2713,7 @@ arm_rtx_costs (x, code, outer)\n       if (GET_CODE (XEXP (x, 1)) == CONST_INT)\n \t{\n \t  unsigned HOST_WIDE_INT i = (INTVAL (XEXP (x, 1))\n-\t\t\t\t      & HOST_UINT (0xffffffff));\n+\t\t\t\t      & (unsigned HOST_WIDE_INT) 0xffffffff);\n \t  int add_cost = const_ok_for_arm (i) ? 4 : 8;\n \t  int j;\n \t  \n@@ -4885,9 +4884,9 @@ arm_reload_in_hi (operands)\n       if (lo == 4095)\n \tlo &= 0x7ff;\n \n-      hi = ((((offset - lo) & HOST_INT (0xffffffff))\n-\t     ^ HOST_INT (0x80000000))\n-\t    -  HOST_INT (0x80000000));\n+      hi = ((((offset - lo) & (HOST_WIDE_INT) 0xffffffff)\n+\t     ^ (HOST_WIDE_INT) 0x80000000)\n+\t    - (HOST_WIDE_INT) 0x80000000);\n \n       if (hi + lo != offset)\n \tabort ();\n@@ -5027,9 +5026,9 @@ arm_reload_out_hi (operands)\n       if (lo == 4095)\n \tlo &= 0x7ff;\n \n-      hi = ((((offset - lo) & HOST_INT (0xffffffff))\n-\t     ^ HOST_INT (0x80000000))\n-\t    - HOST_INT (0x80000000));\n+      hi = ((((offset - lo) & (HOST_WIDE_INT) 0xffffffff)\n+\t     ^ (HOST_WIDE_INT) 0x80000000)\n+\t    - (HOST_WIDE_INT) 0x80000000);\n \n       if (hi + lo != offset)\n \tabort ();\n@@ -6748,7 +6747,7 @@ output_multi_immediate (operands, instr1, instr2, immed_op, n)\n      HOST_WIDE_INT n;\n {\n #if HOST_BITS_PER_WIDE_INT > 32\n-  n &= HOST_UINT (0xffffffff);\n+  n &= 0xffffffff;\n #endif\n \n   if (n == 0)\n@@ -6897,7 +6896,7 @@ int_log2 (power)\n {\n   HOST_WIDE_INT shift = 0;\n \n-  while ((((HOST_INT (1)) << shift) & power) == 0)\n+  while ((((HOST_WIDE_INT) 1 << shift) & power) == 0)\n     {\n       if (shift > 31)\n \tabort ();\n@@ -7325,7 +7324,7 @@ arm_poke_function_name (stream, name)\n   \n   ASM_OUTPUT_ASCII (stream, name, length);\n   ASM_OUTPUT_ALIGN (stream, 2);\n-  x = GEN_INT (HOST_UINT(0xff000000) + alignlength);\n+  x = GEN_INT ((unsigned HOST_WIDE_INT) 0xff000000 + alignlength);\n   ASM_OUTPUT_INT (stream, x);\n }\n "}, {"sha": "4c076ff238063fd1e4203dc3ab6d6023f1f800c0", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 7, "deletions": 17, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30cf4896706e249685acdd3108f80fe4d039b7b0/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=30cf4896706e249685acdd3108f80fe4d039b7b0", "patch": "@@ -1253,9 +1253,9 @@ enum reg_class\n \t  else\t\t\t\t\t\t\t\t   \\\n \t    break;\t\t\t\t\t\t\t   \\\n \t\t\t\t\t\t\t\t\t   \\\n-\t  high = ((((val - low) & HOST_UINT (0xffffffff))\t\t   \\\n-\t\t   ^ HOST_UINT (0x80000000))\t\t\t\t   \\\n-\t\t  - HOST_UINT (0x80000000));\t\t\t\t   \\\n+\t  high = ((((val - low) & (unsigned HOST_WIDE_INT) 0xffffffff)\t   \\\n+\t\t   ^ (unsigned HOST_WIDE_INT) 0x80000000)\t\t   \\\n+\t\t  - (unsigned HOST_WIDE_INT) 0x80000000);\t\t   \\\n \t  /* Check for overflow or zero */\t\t\t\t   \\\n \t  if (low == 0 || high == 0 || (high + low != val))\t\t   \\\n \t    break;\t\t\t\t\t\t\t   \\\n@@ -2661,22 +2661,12 @@ extern int making_const_table;\n #define PRINT_OPERAND(STREAM, X, CODE)  \\\n   arm_print_operand (STREAM, X, CODE)\n \n-/* Create an [unsigned] host sized integer declaration that\n-   avoids compiler warnings.  */\n-#ifdef __STDC__\n-#define HOST_INT(x)  ((signed HOST_WIDE_INT) x##UL)\n-#define HOST_UINT(x) ((unsigned HOST_WIDE_INT) x##UL)\n-#else\n-#define HOST_INT(x)  ((HOST_WIDE_INT) x)\n-#define HOST_UINT(x) ((unsigned HOST_WIDE_INT) x)\n-#endif\n-\n #define ARM_SIGN_EXTEND(x)  ((HOST_WIDE_INT)\t\t\t\\\n   (HOST_BITS_PER_WIDE_INT <= 32 ? (unsigned HOST_WIDE_INT) (x)\t\\\n-   : ((((unsigned HOST_WIDE_INT)(x)) & HOST_UINT (0xffffffff)) |\\\n-      ((((unsigned HOST_WIDE_INT)(x)) & HOST_UINT (0x80000000))\t\\\n-       ? ((~ HOST_UINT (0))\t\t\t\t\t\\\n-\t  & ~ HOST_UINT(0xffffffff))\t\t\t\t\\\n+   : ((((unsigned HOST_WIDE_INT)(x)) & (unsigned HOST_WIDE_INT) 0xffffffff) |\\\n+      ((((unsigned HOST_WIDE_INT)(x)) & (unsigned HOST_WIDE_INT) 0x80000000) \\\n+       ? ((~ (unsigned HOST_WIDE_INT) 0)\t\t\t\\\n+\t  & ~ (unsigned HOST_WIDE_INT) 0xffffffff)\t\t\\\n        : 0))))\n \n /* Output the address of an operand.  */"}]}