{"sha": "63fd825549e253fd6708714bd38ddac929409c62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjNmZDgyNTU0OWUyNTNmZDY3MDg3MTRiZDM4ZGRhYzkyOTQwOWM2Mg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-03-30T03:25:04Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-03-30T03:25:04Z"}, "message": "re PR fortran/43265 (No EOF condition if reading with '(x)' from an empty file)\n\n2010-03-29  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/43265\n\t* gfortran.dg/read_eof_8.f90: New test.\n\nFrom-SVN: r157811", "tree": {"sha": "472542ec9eb429cd24c8042ec3b44bc848a0a8f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/472542ec9eb429cd24c8042ec3b44bc848a0a8f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/63fd825549e253fd6708714bd38ddac929409c62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63fd825549e253fd6708714bd38ddac929409c62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/63fd825549e253fd6708714bd38ddac929409c62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/63fd825549e253fd6708714bd38ddac929409c62/comments", "author": null, "committer": null, "parents": [{"sha": "6c1400dd58f277badc66633f5d26b7c9ba589a11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c1400dd58f277badc66633f5d26b7c9ba589a11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c1400dd58f277badc66633f5d26b7c9ba589a11"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "34fc037701f19023f69274ee997b1a2e8a3ac2e4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63fd825549e253fd6708714bd38ddac929409c62/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63fd825549e253fd6708714bd38ddac929409c62/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=63fd825549e253fd6708714bd38ddac929409c62", "patch": "@@ -1,3 +1,8 @@\n+2010-03-29  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/43265\n+\t* gfortran.dg/read_eof_8.f90: New test.\n+\n 2010-03-29  Jason Merrill  <jason@redhat.com>\n \n \t* gcc.dg/cpp/include6.c: Change [] to ()."}, {"sha": "7436a2b1b6d9ea6ea4638f0c80be72d71ead3552", "filename": "gcc/testsuite/gfortran.dg/read_eof_8.f90", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/63fd825549e253fd6708714bd38ddac929409c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_8.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/63fd825549e253fd6708714bd38ddac929409c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_8.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fread_eof_8.f90?ref=63fd825549e253fd6708714bd38ddac929409c62", "patch": "@@ -0,0 +1,26 @@\n+! { dg-do run }\n+! PR43265: See comment #26 in the PR.  Before patch,\n+! the test case would fail to read the last line of the file.\n+! Thanks to Jean-Baptiste Faure for providing the initial test case.\n+program test\n+  character (len=6) :: line\n+  integer :: n, k=0\n+  open(unit=25,file=\"test.dat\",status=\"replace\", &\n+       & form=\"unformatted\", access=\"stream\")\n+  write(25) \"Line 1\" // char(10)\n+  write(25) \"Line 2\" // char(10)\n+  write(25) \"Line 3\" // char(10)\n+  write(25) \"Line 4\" // char(10)\n+  write(25) \"Line 5\" ! No EOR marker on the last line.\n+  close(25, status=\"keep\")\n+  open(25, file=\"test.dat\", status=\"old\")\n+  do n=1,10\n+   read(25,'(a)',end=100,err=101) line\n+   k = k+1\n+  enddo\n+  call abort\n+100 if (k /= 5) call abort\n+  stop\n+101 call abort\n+end program test\n+"}]}