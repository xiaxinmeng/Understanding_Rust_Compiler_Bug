{"sha": "1fcc57f1958ac52239279de6d3a6b1979e32700b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZjYzU3ZjE5NThhYzUyMjM5Mjc5ZGU2ZDNhNmIxOTc5ZTMyNzAwYg==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2003-12-03T11:09:55Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2003-12-03T11:09:55Z"}, "message": "re PR target/11229 (pure-1.c fails on powerpc64-linux with -O1)\n\n\tPR target/11229\n\t* cse.c (cse_insn): Set classp using src_const_elt if\n\tsrc_eqv_elt is NULL.\n\nFrom-SVN: r74225", "tree": {"sha": "d81a6525397ab505d39610eaf941b61b75e1676a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d81a6525397ab505d39610eaf941b61b75e1676a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1fcc57f1958ac52239279de6d3a6b1979e32700b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fcc57f1958ac52239279de6d3a6b1979e32700b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fcc57f1958ac52239279de6d3a6b1979e32700b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fcc57f1958ac52239279de6d3a6b1979e32700b/comments", "author": null, "committer": null, "parents": [{"sha": "01c43039cf554b3943f4746651cbd8d757227a79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c43039cf554b3943f4746651cbd8d757227a79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01c43039cf554b3943f4746651cbd8d757227a79"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "6c03f952283b92ffc3461253823145f468860fc6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fcc57f1958ac52239279de6d3a6b1979e32700b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fcc57f1958ac52239279de6d3a6b1979e32700b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1fcc57f1958ac52239279de6d3a6b1979e32700b", "patch": "@@ -1,3 +1,9 @@\n+2003-12-03  Alan Modra  <amodra@bigpond.net.au>\n+\n+\tPR target/11229\n+\t* cse.c (cse_insn): Set classp using src_const_elt if\n+\tsrc_eqv_elt is NULL.\n+\n 2003-12-03  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* gcse.c (reg_clear_last_set): New function."}, {"sha": "4b0f1eced4cd76bfebbc6b47d390e9eb72b5bcd4", "filename": "gcc/cse.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fcc57f1958ac52239279de6d3a6b1979e32700b/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fcc57f1958ac52239279de6d3a6b1979e32700b/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=1fcc57f1958ac52239279de6d3a6b1979e32700b", "patch": "@@ -5827,6 +5827,16 @@ cse_insn (rtx insn, rtx libcall_insn)\n \t    enum machine_mode mode\n \t      = GET_MODE (src) == VOIDmode ? GET_MODE (dest) : GET_MODE (src);\n \n+\t    /* It's possible that we have a source value known to be\n+\t       constant but don't have a REG_EQUAL note on the insn.\n+\t       Lack of a note will mean src_eqv_elt will be NULL.  This\n+\t       can happen where we've generated a SUBREG to access a\n+\t       CONST_INT that is already in a register in a wider mode.\n+\t       Ensure that the source expression is put in the proper\n+\t       constant class.  */\n+\t    if (!classp)\n+\t      classp = sets[i].src_const_elt;\n+\n \t    if (sets[i].src_elt == 0)\n \t      {\n \t\t/* Don't put a hard register source into the table if this is"}]}