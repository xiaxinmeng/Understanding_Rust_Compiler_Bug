{"sha": "d5019ba399334c5064315c9d25d1e4e7bed83b77", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDUwMTliYTM5OTMzNGM1MDY0MzE1YzlkMjVkMWU0ZTdiZWQ4M2I3Nw==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "joern.rennecke@superh.com", "date": "2003-04-07T11:55:27Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2003-04-07T11:55:27Z"}, "message": "c-typeck.c (output_init_element): Check for type == error_mark_node.\n\ngcc:\n\t* c-typeck.c (output_init_element): Check for type == error_mark_node.\ngcc/testsuite:\n\t* gcc.dg/noncompile/init-4.c.c: New test.\n\nFrom-SVN: r65328", "tree": {"sha": "10aaf97d6ce9ba874932860395936e67b76f4874", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10aaf97d6ce9ba874932860395936e67b76f4874"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d5019ba399334c5064315c9d25d1e4e7bed83b77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5019ba399334c5064315c9d25d1e4e7bed83b77", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5019ba399334c5064315c9d25d1e4e7bed83b77", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5019ba399334c5064315c9d25d1e4e7bed83b77/comments", "author": null, "committer": null, "parents": [{"sha": "093b05b68f7b6c8bd35bf2dc50acfea95a418f39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/093b05b68f7b6c8bd35bf2dc50acfea95a418f39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/093b05b68f7b6c8bd35bf2dc50acfea95a418f39"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "38ed2cbfccac3e73d16a198b30edba2077247949", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d5019ba399334c5064315c9d25d1e4e7bed83b77", "patch": "@@ -1,3 +1,7 @@\n+2003-04-07  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* c-typeck.c (output_init_element): Check for type == error_mark_node.\n+\n 2003-04-07  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300.md (*zero_extendqisi2_h8300hs): Always"}, {"sha": "e63865e27a3bf256fc422ed3faddbcb8a00c2bc0", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=d5019ba399334c5064315c9d25d1e4e7bed83b77", "patch": "@@ -6227,6 +6227,11 @@ output_init_element (value, type, field, pending)\n      tree value, type, field;\n      int pending;\n {\n+  if (type == error_mark_node)\n+    {\n+      constructor_erroneous = 1;\n+      return;\n+    }\n   if (TREE_CODE (TREE_TYPE (value)) == FUNCTION_TYPE\n       || (TREE_CODE (TREE_TYPE (value)) == ARRAY_TYPE\n \t  && !(TREE_CODE (value) == STRING_CST"}, {"sha": "256bfc544a1cfb9e67ebc41e1a4736715283299c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d5019ba399334c5064315c9d25d1e4e7bed83b77", "patch": "@@ -1,3 +1,7 @@\n+2003-04-07  J\"orn Rennecke <joern.rennecke@superh.com>\n+\n+\t* gcc.dg/noncompile/init-4.c.c: New test.\n+\n 2003-04-06  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* gcc.misc-test/gcov-9.c: New test."}, {"sha": "906c115b8cc6ea768b5c1a0eeebda13d6505098b", "filename": "gcc/testsuite/gcc.dg/noncompile/init-4.c", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2Finit-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d5019ba399334c5064315c9d25d1e4e7bed83b77/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2Finit-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnoncompile%2Finit-4.c?ref=d5019ba399334c5064315c9d25d1e4e7bed83b77", "patch": "@@ -0,0 +1,3 @@\n+struct a { char *b; } c[D] /* { dg-error \"undeclared\" } */\n+  =                        /* { dg-error \"storage size\" } */\n+    { { \"\" } } ;  /* { dg-warning \"braces around scalar initializer|near\" } */"}]}