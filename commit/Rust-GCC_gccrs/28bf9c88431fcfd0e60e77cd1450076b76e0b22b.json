{"sha": "28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjhiZjljODg0MzFmY2ZkMGU2MGU3N2NkMTQ1MDA3NmI3NmUwYjIyYg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-06-07T20:17:28Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-06-07T20:17:28Z"}, "message": "global.c (build_insn_chain): Allow ADDR_VEC or ADDR_DIF_VEC after end of last block if...\n\n\t* global.c (build_insn_chain): Allow ADDR_VEC or ADDR_DIF_VEC after\n\tend of last block if last real insn is a JUMP_INSN.\n\nFrom-SVN: r42977", "tree": {"sha": "22ad5015296068755fad1f65e11de68239bb7465", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/22ad5015296068755fad1f65e11de68239bb7465"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28bf9c88431fcfd0e60e77cd1450076b76e0b22b/comments", "author": null, "committer": null, "parents": [{"sha": "47c2a318dd7d75b6a44dc12c2d1f9cbf01069159", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47c2a318dd7d75b6a44dc12c2d1f9cbf01069159", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47c2a318dd7d75b6a44dc12c2d1f9cbf01069159"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "266904d44ee2b2a8048f4298b647d436ee537399", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28bf9c88431fcfd0e60e77cd1450076b76e0b22b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28bf9c88431fcfd0e60e77cd1450076b76e0b22b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "patch": "@@ -1,3 +1,8 @@\n+Thu Jun  7 16:17:40 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* global.c (build_insn_chain): Allow ADDR_VEC or ADDR_DIF_VEC after\n+\tend of last block if last real insn is a JUMP_INSN.\n+\n 2001-06-07  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* NEWS: Regenerate."}, {"sha": "4460836c7ed1d9ee0232469a579334397596b607", "filename": "gcc/global.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28bf9c88431fcfd0e60e77cd1450076b76e0b22b/gcc%2Fglobal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28bf9c88431fcfd0e60e77cd1450076b76e0b22b/gcc%2Fglobal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fglobal.c?ref=28bf9c88431fcfd0e60e77cd1450076b76e0b22b", "patch": "@@ -1851,11 +1851,17 @@ build_insn_chain (first)\n \t no real insns are after the end of the last basic block.\n \n \t We may want to reorganize the loop somewhat since this test should\n-\t always be the right exit test.  */\n+\t always be the right exit test.  Allow an ADDR_VEC or ADDR_DIF_VEC if\n+\t the previous real insn is a JUMP_INSN.  */\n       if (b == n_basic_blocks)\n \t{\n \t  for (first = NEXT_INSN (first) ; first; first = NEXT_INSN (first))\n-\t    if (INSN_P (first) && GET_CODE (PATTERN (first)) != USE)\n+\t    if (INSN_P (first)\n+\t\t&& GET_CODE (PATTERN (first)) != USE\n+\t\t&& ! ((GET_CODE (PATTERN (first)) == ADDR_VEC\n+\t\t       || GET_CODE (PATTERN (first)) == ADDR_DIFF_VEC)\n+\t\t      && prev_real_insn (first) != 0\n+\t\t      && GET_CODE (prev_real_insn (first)) == JUMP_INSN))\n \t      abort ();\n \t  break;\n \t}"}]}