{"sha": "c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhlY2ZlY2ZkNGZjZjZhMmE0YzcwYzkyNzAxZmE1ODg0ODdjMTMwMQ==", "commit": {"author": {"name": "Johannes Singler", "email": "singler@ira.uka.de", "date": "2009-05-06T11:20:35Z"}, "committer": {"name": "Johannes Singler", "email": "singler@gcc.gnu.org", "date": "2009-05-06T11:20:35Z"}, "message": "re PR libstdc++/39546 (parallel mode doesn't support implicit string conversion)\n\n2009-05-06  Johannes Singler  <singler@ira.uka.de>\n\n        PR libstdc++/39546\n        * include/parallel/algo.h (find_switch):\n        Parametrize binder2nd with const T& instead of T.\n        * testsuite/25_algorithms/find/39546.cc: new test case\n\nFrom-SVN: r147169", "tree": {"sha": "fe7e8c21cb02ec30b726c46ce52faaa15e0f83fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe7e8c21cb02ec30b726c46ce52faaa15e0f83fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/comments", "author": null, "committer": null, "parents": [{"sha": "b92625409b2db508eba00753a4f257c1fcad7a73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b92625409b2db508eba00753a4f257c1fcad7a73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b92625409b2db508eba00753a4f257c1fcad7a73"}], "stats": {"total": 54, "additions": 52, "deletions": 2}, "files": [{"sha": "5b6e4e2a71fafd2f2c5095bc5c30e1f0fe21b618", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "patch": "@@ -1,3 +1,10 @@\n+2009-05-06  Johannes Singler  <singler@ira.uka.de>\n+\n+        PR libstdc++/39546\n+        * include/parallel/algo.h (find_switch):\n+        Parametrize binder2nd with const T& instead of T.\n+        * testsuite/25_algorithms/find/39546.cc: new test case\n+\n 2009-05-06  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tRevert:"}, {"sha": "a0fbd8d91d65a27ff766aef127d1c4166dad7e42", "filename": "libstdc++-v3/include/parallel/algo.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Falgo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Falgo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fparallel%2Falgo.h?ref=c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "patch": "@@ -149,8 +149,8 @@ namespace __parallel\n \n       if (_GLIBCXX_PARALLEL_CONDITION(true))\n         {\n-          binder2nd<__gnu_parallel::equal_to<value_type, T> >\n-            comp(__gnu_parallel::equal_to<value_type, T>(), val);\n+          binder2nd<__gnu_parallel::equal_to<value_type, const T&> >\n+            comp(__gnu_parallel::equal_to<value_type, const T&>(), val);\n           return __gnu_parallel::find_template(begin, end, begin, comp,\n                                                __gnu_parallel::\n                                                find_if_selector()).first;"}, {"sha": "b83a8553436760c900f224df8bf35775c9d50a94", "filename": "libstdc++-v3/testsuite/25_algorithms/find/39546.cc", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2Ftestsuite%2F25_algorithms%2Ffind%2F39546.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8ecfecfd4fcf6a2a4c70c92701fa588487c1301/libstdc%2B%2B-v3%2Ftestsuite%2F25_algorithms%2Ffind%2F39546.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F25_algorithms%2Ffind%2F39546.cc?ref=c8ecfecfd4fcf6a2a4c70c92701fa588487c1301", "patch": "@@ -0,0 +1,43 @@\n+// Copyright (C) 2009 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+// 25.3.1 algorithms, find()\n+\n+#include <vector>\n+#include <string>\n+#include <algorithm>\n+#include <testsuite_hooks.h>\n+\n+// libstdc++/39546\n+void\n+test01()\n+{\n+  bool test __attribute__((unused)) = true;\n+\n+  std::vector<std::string> dict;\n+  dict.push_back(\"one\");\n+  dict.push_back(\"two\");\n+  dict.push_back(\"three\");\n+\n+  VERIFY( std::find(dict.begin(), dict.end(), \"two\") == dict.begin() + 1 );\n+}\n+\n+int\n+main()\n+{\n+  test01();\n+}"}]}