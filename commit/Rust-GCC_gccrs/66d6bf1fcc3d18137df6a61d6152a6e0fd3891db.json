{"sha": "66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZkNmJmMWZjYzNkMTgxMzdkZjZhNjFkNjE1MmE2ZTBmZDM4OTFkYg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@redhat.com", "date": "2003-04-09T15:14:23Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2003-04-09T15:14:23Z"}, "message": "install.texi: Note that ARM toolchains need binutils 2.13 or newer.\n\n* doc/install.texi: Note that ARM toolchains need binutils 2.13 or newer.\n* config/arm/elf.h (SUBTARGET_ASM_FLOAT_SPEC): Pass -mfpu=softfpa instead of -mno-fpu.\n* config/arm/semi.h (ASM_SPEC): Likewise.\n* config/arm/xscale-elf.h (SUBTARGET_EXTRA_ASM_SPEC): Likewise,\n  but only if -msoft-float is specified pass.  Otherwise pass -mfpu=softvfp.\n\nFrom-SVN: r65398", "tree": {"sha": "2e5a2326a5e9b0709de6d5974928e80cb8b88d94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e5a2326a5e9b0709de6d5974928e80cb8b88d94"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/comments", "author": {"login": "nickclifton", "id": 31441682, "node_id": "MDQ6VXNlcjMxNDQxNjgy", "avatar_url": "https://avatars.githubusercontent.com/u/31441682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nickclifton", "html_url": "https://github.com/nickclifton", "followers_url": "https://api.github.com/users/nickclifton/followers", "following_url": "https://api.github.com/users/nickclifton/following{/other_user}", "gists_url": "https://api.github.com/users/nickclifton/gists{/gist_id}", "starred_url": "https://api.github.com/users/nickclifton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nickclifton/subscriptions", "organizations_url": "https://api.github.com/users/nickclifton/orgs", "repos_url": "https://api.github.com/users/nickclifton/repos", "events_url": "https://api.github.com/users/nickclifton/events{/privacy}", "received_events_url": "https://api.github.com/users/nickclifton/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "988bb94bb5e6f7c323bb7a40ee79bb11d9afd29e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/988bb94bb5e6f7c323bb7a40ee79bb11d9afd29e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/988bb94bb5e6f7c323bb7a40ee79bb11d9afd29e"}], "stats": {"total": 48, "additions": 44, "deletions": 4}, "files": [{"sha": "8ab168ce101aeeb99ea548cd42b43a8a648567ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "patch": "@@ -1,3 +1,14 @@\n+2003-04-09  Nick Clifton  <nickc@redhat.com>\n+\n+\t* doc/install.texi: Note that ARM toolchains need binutils 2.13 or\n+\tnewer.\n+\t* config/arm/elf.h (SUBTARGET_ASM_FLOAT_SPEC): Pass -mfpu=softfpa\n+\tinstead of -mno-fpu.\n+\t* config/arm/semi.h (ASM_SPEC): Likewise.\n+\t* config/arm/xscale-elf.h (SUBTARGET_EXTRA_ASM_SPEC): Likewise,\n+\tbut only if -msoft-float is specified pass.  Otherwise pass\n+\t-mfpu=softvfp.\n+\t\n 2003-04-09  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n \t* function.c (purge_addressof): Use free_INSN_LIST_node instead of"}, {"sha": "c8fd84213507b23a7268893f981a8a02264668b9", "filename": "gcc/config/arm/elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Felf.h?ref=66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "patch": "@@ -46,7 +46,7 @@\n \n #ifndef SUBTARGET_ASM_FLOAT_SPEC\n #define SUBTARGET_ASM_FLOAT_SPEC \"\\\n-%{mapcs-float:-mfloat} %{msoft-float:-mno-fpu}\"\n+%{mapcs-float:-mfloat} %{msoft-float:-mfpu=softfpa}\"\n #endif\n \n #ifndef ASM_SPEC"}, {"sha": "a7addee574ee1030293ee8470c89bf40c73e033e", "filename": "gcc/config/arm/semi.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Fsemi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Fsemi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fsemi.h?ref=66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "patch": "@@ -64,7 +64,7 @@\n %{mcpu=*:-mcpu=%*} \\\n %{march=*:-march=%*} \\\n %{mapcs-float:-mfloat} \\\n-%{msoft-float:-mno-fpu} \\\n+%{msoft-float:-mfpu=softfpa} \\\n %{mthumb-interwork:-mthumb-interwork} \\\n %(subtarget_extra_asm_spec)\"\n #endif"}, {"sha": "ffa29e22043c22081bf06f653a0096fbb4a26371", "filename": "gcc/config/arm/xscale-elf.h", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Fxscale-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fconfig%2Farm%2Fxscale-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fxscale-elf.h?ref=66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "patch": "@@ -28,7 +28,30 @@\n #define SUBTARGET_CPU_DEFAULT \t\tTARGET_CPU_xscale\n #endif\n \n-#define SUBTARGET_EXTRA_ASM_SPEC \"%{!mcpu=*:-mcpu=xscale} %{!mhard-float:-mno-fpu}\"\n+/* Note - there are three possible -mfpu= arguments that can be passed to\n+   the assembler:\n+   \n+     -mfpu=softvfp   This is the default.  It indicates thats doubles are\n+                     stored in a format compatable with the VFP\n+\t\t     specification.  This is the newer double format, whereby\n+\t\t     the endian-ness of the doubles matches the endian-ness\n+\t\t     of the memory architecture.\n+     \n+     -mfpu=fpa       This is when -mhard-float is specified.\n+                     [It is not known if any XScale's have been made with\n+\t\t     hardware floating point support, but nevertheless this\n+\t\t     is what happens].\n+\t\t     \n+     -mfpu=softfpa   This is when -msoft-float is specified.\n+                     This is the normal beahviour of other arm configurations,\n+\t\t     which for backwards compatability purposes default to\n+\t\t     supporting the old FPA format which was always big\n+\t\t     endian, regardless of the endian-ness of the memory\n+\t\t     system.  */\n+\t\t     \n+#define SUBTARGET_EXTRA_ASM_SPEC \"%{!mcpu=*:-mcpu=xscale} \\\n+  %{mhard-float:-mfpu=fpa} \\\n+  %{!mhard-float: %{msoft-float:-mfpu=softfpa;:-mfpu=softvfp}}\"\n \n #ifndef MULTILIB_DEFAULTS\n #define MULTILIB_DEFAULTS \\"}, {"sha": "e78979baa0cdbf0ced9cef481db5ee8cd0ba8b75", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66d6bf1fcc3d18137df6a61d6152a6e0fd3891db/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=66d6bf1fcc3d18137df6a61d6152a6e0fd3891db", "patch": "@@ -1918,13 +1918,19 @@ configuration.\n @end html\n @heading @anchor{arm-*-elf}arm-*-elf\n This configuration is intended for embedded systems.\n+We require GNU binutils 2.13 or newer.\n \n @html\n <hr />\n @end html\n @heading @anchor{arm*-*-linux-gnu}arm*-*-linux-gnu\n+We require GNU binutils 2.13 or newer.\n \n-We require GNU binutils 2.10 or newer.\n+@html\n+<hr />\n+@end html\n+@heading @anchor{xscale-*-elf}xscale-*-elf\n+We require GNU binutils 2.13 or newer.\n \n @html\n <hr />"}]}