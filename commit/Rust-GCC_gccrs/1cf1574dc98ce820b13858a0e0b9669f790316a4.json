{"sha": "1cf1574dc98ce820b13858a0e0b9669f790316a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNmMTU3NGRjOThjZTgyMGIxMzg1OGEwZTBiOTY2OWY3OTAzMTZhNA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2014-06-11T21:06:31Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2014-06-11T21:06:31Z"}, "message": "rx.h (FUNCTION_BOUNDARY): Adjust for RX100/200 4-byte cache lines.\n\n* config/rx/rx.h (FUNCTION_BOUNDARY): Adjust for RX100/200 4-byte\ncache lines.\n* config/rx/rx.c (rx_option_override): Likewise.\n(rx_align_for_label): Likewise.\n\nFrom-SVN: r211481", "tree": {"sha": "63775b4471191de52df4c1fbbaa227e74b4f57c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63775b4471191de52df4c1fbbaa227e74b4f57c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cf1574dc98ce820b13858a0e0b9669f790316a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cf1574dc98ce820b13858a0e0b9669f790316a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cf1574dc98ce820b13858a0e0b9669f790316a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cf1574dc98ce820b13858a0e0b9669f790316a4/comments", "author": null, "committer": null, "parents": [{"sha": "1704a72b46c0cccc9e257781a826d57c1cf37db9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1704a72b46c0cccc9e257781a826d57c1cf37db9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1704a72b46c0cccc9e257781a826d57c1cf37db9"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "f394ca46798b35531177d90bb6ff838d815c83a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1cf1574dc98ce820b13858a0e0b9669f790316a4", "patch": "@@ -1,5 +1,10 @@\n 2014-06-11  DJ Delorie  <dj@redhat.com>\n \n+\t* config/rx/rx.h (FUNCTION_BOUNDARY): Adjust for RX100/200 4-byte\n+\tcache lines.\n+\t* config/rx/rx.c (rx_option_override): Likewise.\n+\t(rx_align_for_label): Likewise.\n+\n \t* config/rx/rx.c (rx_max_skip_for_label): Don't skip anything if -Os.\n \n 2014-06-11  Maciej W. Rozycki  <macro@codesourcery.com>"}, {"sha": "2a525f33580482fff7a98f9afc3178a86456719e", "filename": "gcc/config/rx/rx.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2Fconfig%2Frx%2Frx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2Fconfig%2Frx%2Frx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frx%2Frx.c?ref=1cf1574dc98ce820b13858a0e0b9669f790316a4", "patch": "@@ -2792,11 +2792,11 @@ rx_option_override (void)\n   rx_override_options_after_change ();\n \n   if (align_jumps == 0 && ! optimize_size)\n-    align_jumps = 3;\n+    align_jumps = ((rx_cpu_type == RX100 || rx_cpu_type == RX200) ? 2 : 3);\n   if (align_loops == 0 && ! optimize_size)\n-    align_loops = 3;\n+    align_loops = ((rx_cpu_type == RX100 || rx_cpu_type == RX200) ? 2 : 3);\n   if (align_labels == 0 && ! optimize_size)\n-    align_labels = 3;\n+    align_labels = ((rx_cpu_type == RX100 || rx_cpu_type == RX200) ? 2 : 3);\n }\n \n \f\n@@ -3201,7 +3201,11 @@ rx_align_for_label (rtx lab, int uses_threshold)\n   if (LABEL_P (lab) && LABEL_NUSES (lab) < uses_threshold)\n     return 0;\n \n-  return optimize_size ? 1 : 3;\n+  if (optimize_size)\n+    return 0;\n+  if (rx_cpu_type == RX100 || rx_cpu_type == RX200)\n+    return 2;\n+  return 2;\n }\n \n static int"}, {"sha": "209518c6d3808ed941721b67c7591f3817472969", "filename": "gcc/config/rx/rx.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2Fconfig%2Frx%2Frx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cf1574dc98ce820b13858a0e0b9669f790316a4/gcc%2Fconfig%2Frx%2Frx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frx%2Frx.h?ref=1cf1574dc98ce820b13858a0e0b9669f790316a4", "patch": "@@ -142,7 +142,7 @@\n \n /* RX load/store instructions can handle unaligned addresses.  */\n #define STRICT_ALIGNMENT \t\t0\n-#define FUNCTION_BOUNDARY \t\t8\n+#define FUNCTION_BOUNDARY \t\t((rx_cpu_type == RX100 || rx_cpu_type == RX200) ? 4 : 8)\n #define BIGGEST_ALIGNMENT \t\t32\n #define STACK_BOUNDARY \t\t\t32\n #define PARM_BOUNDARY \t\t\t8"}]}