{"sha": "269e82d49e2d5bf26ab847fa0f29fba0ad6f326a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY5ZTgyZDQ5ZTJkNWJmMjZhYjg0N2ZhMGYyOWZiYTBhZDZmMzI2YQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T17:38:53Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2020-12-16T17:41:05Z"}, "message": "C++: Fix solaris header use (mk 2)\n\nThere is another path to get to a poisoned bcopy.  Fixed thusly.\n\n\tgcc/cp/\n\t* mapper-resolver.cc: #include sys/socket before system.h\n\tdue to poisoned bcopy use.", "tree": {"sha": "2758962715a783859dc72908270274e7be9a508b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2758962715a783859dc72908270274e7be9a508b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "652702b0c93644a44ad5bdfd4ff260d0f69a084b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/652702b0c93644a44ad5bdfd4ff260d0f69a084b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/652702b0c93644a44ad5bdfd4ff260d0f69a084b"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "8e968c5255613af159035d2b3ded522dd74d19ae", "filename": "gcc/cp/mapper-resolver.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a/gcc%2Fcp%2Fmapper-resolver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269e82d49e2d5bf26ab847fa0f29fba0ad6f326a/gcc%2Fcp%2Fmapper-resolver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmapper-resolver.cc?ref=269e82d49e2d5bf26ab847fa0f29fba0ad6f326a", "patch": "@@ -21,6 +21,12 @@ along with GCC; see the file COPYING3.  If not see\n /* Forward to the resolver in c++tools.  */\n \n #include \"config.h\"\n+#if defined (__unix__)\n+// Solaris11's socket header used bcopy, which we poison.  cody.hh\n+// will include it later under the above check\n+#include <sys/socket.h>\n+#endif\n+\n #define INCLUDE_ALGORITHM\n #include \"system.h\"\n "}]}