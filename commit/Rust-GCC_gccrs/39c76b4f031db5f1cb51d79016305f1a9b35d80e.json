{"sha": "39c76b4f031db5f1cb51d79016305f1a9b35d80e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzljNzZiNGYwMzFkYjVmMWNiNTFkNzkwMTYzMDVmMWE5YjM1ZDgwZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-10-04T09:33:31Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-10-04T09:33:31Z"}, "message": "cp-tree.h (struct language_function): Remove static_labelno.\n\n\t* cp-tree.h (struct language_function): Remove static_labelno.\n\t(static_labelno): Remove macro.\n\t* method.c (build_overload_nested_name): Make static_labelno\n\tstatic here.\n\n\t* pt.c (instantiate_decl): Use DECL_SAVED_TREE, not DECL_INITIAL,\n\tto decide whether or not a function is defined.\n\nFrom-SVN: r29801", "tree": {"sha": "0f7221485b712643cb9f33f7ed00ed8a39541a30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f7221485b712643cb9f33f7ed00ed8a39541a30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39c76b4f031db5f1cb51d79016305f1a9b35d80e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39c76b4f031db5f1cb51d79016305f1a9b35d80e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39c76b4f031db5f1cb51d79016305f1a9b35d80e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39c76b4f031db5f1cb51d79016305f1a9b35d80e/comments", "author": null, "committer": null, "parents": [{"sha": "b3a798924e62d98a2a177db14c8cceb8e09781f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3a798924e62d98a2a177db14c8cceb8e09781f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3a798924e62d98a2a177db14c8cceb8e09781f9"}], "stats": {"total": 69, "additions": 65, "deletions": 4}, "files": [{"sha": "ff9137b5de5fa7f033c54b25d480d92c2c57467c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -1,5 +1,13 @@\n 1999-10-04  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* cp-tree.h (struct language_function): Remove static_labelno.\n+\t(static_labelno): Remove macro.\n+\t* method.c (build_overload_nested_name): Make static_labelno\n+\tstatic here.\n+\t\n+\t* pt.c (instantiate_decl): Use DECL_SAVED_TREE, not DECL_INITIAL,\n+\tto decide whether or not a function is defined.\n+\n \t* call.c (build_over_call): Don't set TREE_SIDE_EFFECTS for\n \tsituations where make_node will do it automatically.\n \t* decl.c (grok_reference_init): Likewise."}, {"sha": "5d65abfcf6461f41bbe4ed6f108562052e73df3d", "filename": "gcc/cp/cp-tree.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fcp-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fcp-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-tree.h?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -674,7 +674,6 @@ struct language_function\n   int returns_null;\n   int parms_stored;\n   int temp_name_counter;\n-  int static_labelno;\n   int in_function_try_handler;\n   int x_expanding_p;\n   int name_declared;\n@@ -794,8 +793,6 @@ struct language_function\n \n #define temp_name_counter cp_function_chain->temp_name_counter\n \n-#define static_labelno cp_function_chain->static_labelno\n-\n /* Non-zero if we should generate RTL for functions that we process.\n    When this is zero, we just accumulate tree structure, without\n    interacting with the back end.  */"}, {"sha": "4ddcf7d7589ee10e5144072684c66038437bfd43", "filename": "gcc/cp/method.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -501,6 +501,8 @@ build_overload_nested_name (decl)\n \n   if (TREE_CODE (decl) == FUNCTION_DECL)\n     {\n+      static int static_labelno;\n+\n       tree name = DECL_ASSEMBLER_NAME (decl);\n       char *label;\n "}, {"sha": "b4b9ba9b5306333981dc797876d77fdd8c43452c", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -9555,7 +9555,7 @@ instantiate_decl (d)\n   code_pattern = DECL_TEMPLATE_RESULT (td);\n \n   if (TREE_CODE (d) == FUNCTION_DECL)\n-    pattern_defined = (DECL_INITIAL (code_pattern) != NULL_TREE);\n+    pattern_defined = (DECL_SAVED_TREE (code_pattern) != NULL_TREE);\n   else\n     pattern_defined = ! DECL_IN_AGGR_P (code_pattern);\n "}, {"sha": "faee1a9cd129b444f781e8197df7dee14b8451a0", "filename": "gcc/testsuite/g++.old-deja/g++.pt/local7.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Flocal7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Flocal7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Flocal7.C?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -0,0 +1,24 @@\n+// Build don't link:\n+// Special g++ Options: -fsquangle\n+\n+template <class STRUCT, class MEMBER> inline STRUCT *\n+setback(MEMBER *bp, MEMBER STRUCT::*offset)\n+{\n+        if(!bp) return 0;\n+        union { int i; MEMBER STRUCT::*of; } u;\n+        u.of = offset;\n+        return (STRUCT *) ((int) bp - u.i);\n+}\n+ \n+\n+struct S\n+{\n+  int i;\n+};\n+\n+int main()\n+{\n+  S s;\n+\n+  S* sp = setback (&s.i, &S::i);\n+}"}, {"sha": "899e7f399f39afdb3122bc67722214d686606536", "filename": "gcc/testsuite/g++.old-deja/g++.pt/memtemp92.C", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp92.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39c76b4f031db5f1cb51d79016305f1a9b35d80e/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp92.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp92.C?ref=39c76b4f031db5f1cb51d79016305f1a9b35d80e", "patch": "@@ -0,0 +1,30 @@\n+// Build don't link:\n+// Origin: \"Adam J. Richter\" <adam@yggdrasil.com>\n+\n+template <class Style, class Base>\n+class theme_map {\n+};\n+\n+class QWidget {\n+protected:\n+  virtual void *harmony_get_list_for_signal(const char *) const;\n+\n+public:\n+  static theme_map<int, QWidget> ContentsThemes;\n+\n+protected:\n+  virtual void updateDrawingObjects (void)\n+    {\n+      update_dro (QWidget::ContentsThemes);\n+    }\n+\n+  template <class S, class B>\n+  void update_dro (theme_map<S, B>& themes)\n+    {\n+    }\n+};\n+\n+void *QWidget::harmony_get_list_for_signal(const char *sig) const\n+{\n+  \treturn 0;\n+}"}]}