{"sha": "3af0187c28292970aeed9617981cc342f0b671f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FmMDE4N2MyODI5Mjk3MGFlZWQ5NjE3OTgxY2MzNDJmMGI2NzFmOQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2003-06-13T14:08:36Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2003-06-13T14:08:36Z"}, "message": "c-format.c (format_types_orig): Disallow '*' width/precision in asm_fprintf format checks.\n\ngcc:\n\t* c-format.c (format_types_orig): Disallow '*' width/precision in\n\tasm_fprintf format checks.\n\ntestsuite:\n\t* gcc.dg/format/asm_fprintf-1.c: Update width/precision checks.\n\nFrom-SVN: r67897", "tree": {"sha": "640849fd53a0a0c26a543df3120bbbbda7ce5532", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/640849fd53a0a0c26a543df3120bbbbda7ce5532"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3af0187c28292970aeed9617981cc342f0b671f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af0187c28292970aeed9617981cc342f0b671f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3af0187c28292970aeed9617981cc342f0b671f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3af0187c28292970aeed9617981cc342f0b671f9/comments", "author": null, "committer": null, "parents": [{"sha": "281b1732009a40b65dc8d9934cdebe61fe75f727", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/281b1732009a40b65dc8d9934cdebe61fe75f727", "html_url": "https://github.com/Rust-GCC/gccrs/commit/281b1732009a40b65dc8d9934cdebe61fe75f727"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "6e67d2959bc3b49f749e182242d95cc2ad2c1374", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3af0187c28292970aeed9617981cc342f0b671f9", "patch": "@@ -1,3 +1,8 @@\n+2003-06-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* c-format.c (format_types_orig): Disallow '*' width/precision in\n+\tasm_fprintf format checks.\n+\n 2003-06-13  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.c (s390_va_arg): Fix alignment when retrieving "}, {"sha": "01814e1546739e19d5c9a820742705877c963408", "filename": "gcc/c-format.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Fc-format.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Fc-format.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-format.c?ref=3af0187c28292970aeed9617981cc342f0b671f9", "patch": "@@ -831,7 +831,7 @@ static const format_kind_info format_types_orig[] =\n     asm_fprintf_flag_specs, asm_fprintf_flag_pairs,\n     FMT_FLAG_ARG_CONVERT|FMT_FLAG_EMPTY_PREC_OK,\n     'w', 0, 'p', 0, 'L',\n-    &integer_type_node, &integer_type_node\n+    NULL, NULL\n   },\n   { \"scanf\",    scanf_length_specs,   scan_char_table,  \"*'I\", NULL, \n     scanf_flag_specs, scanf_flag_pairs,"}, {"sha": "5c2b747b71969b23be11ca6d6a4e673598eb1d9d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3af0187c28292970aeed9617981cc342f0b671f9", "patch": "@@ -1,3 +1,7 @@\n+2003-06-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.dg/format/asm_fprintf-1.c: Update width/precision checks.\n+\n 2003-06-12  Mark Mitchell  <mark@codesourcery.com>\n \n \t* lib/gcc-dg.exp (dg-require-dll): New function."}, {"sha": "22173df30427a55640599ba1e24b7f7251e42c65", "filename": "gcc/testsuite/gcc.dg/format/asm_fprintf-1.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fasm_fprintf-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3af0187c28292970aeed9617981cc342f0b671f9/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fasm_fprintf-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fasm_fprintf-1.c?ref=3af0187c28292970aeed9617981cc342f0b671f9", "patch": "@@ -34,9 +34,6 @@ foo (int i, int i1, int i2, unsigned int u, double d, char *s, void *p,\n   asm_fprintf (\"%.7d\\n\", i);\n   asm_fprintf (\"%+9.4d\\n\", i);\n   asm_fprintf (\"%.3ld\\n\", l);\n-  asm_fprintf (\"%*d\\n\", i1, i);\n-  asm_fprintf (\"%.*d\\n\", i2, i);\n-  asm_fprintf (\"%*.*ld\\n\", i1, i2, l);\n   asm_fprintf (\"%d %lu\\n\", i, ul);\n \n   /* Extensions provided in asm_fprintf.  */\n@@ -58,8 +55,9 @@ foo (int i, int i1, int i2, unsigned int u, double d, char *s, void *p,\n   asm_fprintf (\"%d\", l); /* { dg-warning \"format\" \"bad argument types\" } */\n   asm_fprintf (\"%wd\", l); /* { dg-warning \"format\" \"bad argument types\" } */\n   asm_fprintf (\"%d\", ll); /* { dg-warning \"format\" \"bad argument types\" } */\n-  asm_fprintf (\"%*.*d\", l, i2, i); /* { dg-warning \"field\" \"bad * argument types\" } */\n-  asm_fprintf (\"%*.*d\", i1, l, i); /* { dg-warning \"field\" \"bad * argument types\" } */\n+  asm_fprintf (\"%*d\\n\", i1, i); /* { dg-warning \"format\" \"bad * argument types\" } */\n+  asm_fprintf (\"%.*d\\n\", i2, i); /* { dg-warning \"format\" \"bad * argument types\" } */\n+  asm_fprintf (\"%*.*ld\\n\", i1, i2, l); /* { dg-warning \"format\" \"bad * argument types\" } */\n   asm_fprintf (\"%ld\", i); /* { dg-warning \"format\" \"bad argument types\" } */\n   asm_fprintf (\"%s\", n); /* { dg-warning \"format\" \"bad argument types\" } */\n "}]}