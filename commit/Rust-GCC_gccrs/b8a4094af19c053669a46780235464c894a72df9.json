{"sha": "b8a4094af19c053669a46780235464c894a72df9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhhNDA5NGFmMTljMDUzNjY5YTQ2NzgwMjM1NDY0Yzg5NGE3MmRmOQ==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2015-07-01T20:18:59Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2015-07-01T20:18:59Z"}, "message": "tpf.h (LIBSTDCXX): Change to CPP1.\n\n* config/s390/tpf.h (LIBSTDCXX): Change to CPP1.\n(LIB_SPEC): Add.\n(SUPPORTS_DISCRIMINATOR): Define.\n\nFrom-SVN: r225278", "tree": {"sha": "d5f647e91d203d2937ed88e2659ae329034ebbba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5f647e91d203d2937ed88e2659ae329034ebbba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8a4094af19c053669a46780235464c894a72df9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8a4094af19c053669a46780235464c894a72df9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8a4094af19c053669a46780235464c894a72df9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8a4094af19c053669a46780235464c894a72df9/comments", "author": null, "committer": null, "parents": [{"sha": "36a85135b746a41cebcd738193c3e238f5d0399e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a85135b746a41cebcd738193c3e238f5d0399e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36a85135b746a41cebcd738193c3e238f5d0399e"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "690c2cb3d3cb316953539435ffa14572f7e340e7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8a4094af19c053669a46780235464c894a72df9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8a4094af19c053669a46780235464c894a72df9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b8a4094af19c053669a46780235464c894a72df9", "patch": "@@ -1,3 +1,9 @@\n+2015-07-01  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/s390/tpf.h (LIBSTDCXX): Change to CPP1.\n+\t(LIB_SPEC): Add.\n+\t(SUPPORTS_DISCRIMINATOR): Define.\n+\n 2015-07-01  Richard Sandiford  <richard.sandiford@arm.com>\n \n \tPR bootstrap/66685"}, {"sha": "b1ec9bdeab3dec1e7c15959293c5090362a7f69c", "filename": "gcc/config/s390/tpf.h", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8a4094af19c053669a46780235464c894a72df9/gcc%2Fconfig%2Fs390%2Ftpf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8a4094af19c053669a46780235464c894a72df9/gcc%2Fconfig%2Fs390%2Ftpf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Ftpf.h?ref=b8a4094af19c053669a46780235464c894a72df9", "patch": "@@ -94,6 +94,10 @@ along with GCC; see the file COPYING3.  If not see\n #define ASM_SPEC \"%{m31&m64}%{mesa&mzarch}%{march=*} \\\n                   -alshd=%b.lst\"\n \n+#undef LIB_SPEC\n+#define LIB_SPEC \"-lCTIS -lCISO -lCLBM -lCTAL -lCFVS -lCTBX -lCTXO \\\n+                  -lCJ00 -lCTDF -lCOMX -lCOMS -lCTHD -lCTAD -lTPFSTUB\"\n+\n #define ENTRY_SPEC \"%{mmain:-entry=_start} \\\n                     %{!mmain:-entry=0}\"\n \n@@ -110,9 +114,12 @@ along with GCC; see the file COPYING3.  If not see\n \n /* IBM copies these libraries over with these names.  */\n #define MATH_LIBRARY \"CLBM\"\n-#define LIBSTDCXX \"CPP2\"\n+#define LIBSTDCXX \"CPP1\"\n \n #undef TARGET_LIBC_HAS_FUNCTION\n #define TARGET_LIBC_HAS_FUNCTION gnu_libc_has_function\n \n+/* GAS supports it, but the debuggers don't, so avoid it.  */\n+#define SUPPORTS_DISCRIMINATOR 0\n+\n #endif /* ! _TPF_H */"}]}