{"sha": "480222b54ff30c46a67ac53bddf4fa8be7571f7e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDgwMjIyYjU0ZmYzMGM0NmE2N2FjNTNiZGRmNGZhOGJlNzU3MWY3ZQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-10-20T21:21:37Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-10-20T21:21:37Z"}, "message": "Makefile.in: Rebuilt.\n\n\t* Makefile.in: Rebuilt.\n\t* Makefile.am: Include deps.mk.\n\t(GCJCOMPILE): Added -MD, -MT, and -MF.\n\t($(javao_files)): Don't depend on libgcj.zip.\n\t(all-recursive): New target.\n\t(%.lo:%.cc): Do dependency tracking.\n\t($(nat_headers)): Don't depend on libgcj.zip.\n\t* configure: Rebuilt.\n\t* configure.in: Make .d files and deps.mk.\n\nFrom-SVN: r36982", "tree": {"sha": "d697abb67f0a5c9da5f1d5091614a0613269ca80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d697abb67f0a5c9da5f1d5091614a0613269ca80"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/480222b54ff30c46a67ac53bddf4fa8be7571f7e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/480222b54ff30c46a67ac53bddf4fa8be7571f7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/480222b54ff30c46a67ac53bddf4fa8be7571f7e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/480222b54ff30c46a67ac53bddf4fa8be7571f7e/comments", "author": null, "committer": null, "parents": [{"sha": "316a06a103ac4064f94377b8a4a4c1b91f6a5afe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/316a06a103ac4064f94377b8a4a4c1b91f6a5afe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/316a06a103ac4064f94377b8a4a4c1b91f6a5afe"}], "stats": {"total": 220, "additions": 171, "deletions": 49}, "files": [{"sha": "d4b6bad6c5151da51dead4a5ac624a371cc21892", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=480222b54ff30c46a67ac53bddf4fa8be7571f7e", "patch": "@@ -1,3 +1,15 @@\n+2000-10-20  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* Makefile.in: Rebuilt.\n+\t* Makefile.am: Include deps.mk.\n+\t(GCJCOMPILE): Added -MD, -MT, and -MF.\n+\t($(javao_files)): Don't depend on libgcj.zip.\n+\t(all-recursive): New target.\n+\t(%.lo:%.cc): Do dependency tracking.\n+\t($(nat_headers)): Don't depend on libgcj.zip.\n+\t* configure: Rebuilt.\n+\t* configure.in: Make .d files and deps.mk.\n+\n 2000-10-13  Bryce McKinlay  <bryce@albatross.co.nz>\n \n \t* exception.cc: Don't #include \"exception\"."}, {"sha": "cf045fe6a63313c1cf47016a95cfa2b9d9bd2588", "filename": "libjava/Makefile.am", "status": "modified", "additions": 29, "deletions": 12, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=480222b54ff30c46a67ac53bddf4fa8be7571f7e", "patch": "@@ -65,7 +65,7 @@ GCJH = $(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n ZIP = $(MULTIBUILDTOP)../$(COMPPATH)/zip/zip$(EXEEXT)\n endif # CANADIAN\n \n-GCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) -fassume-compiled -fclasspath=$(here) -L$(here) $(JC1FLAGS) -c\n+GCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) -fassume-compiled -fclasspath=$(here) -L$(here) $(JC1FLAGS) -MD -MT $@ -MF $(@:.lo=.d) -c\n GCJLINK = $(LIBTOOL) --mode=link $(GCJ) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n LIBLINK = $(LIBTOOL) --mode=link $(CC) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n \n@@ -117,12 +117,13 @@ javao_files = $(java_source_files:.java=.lo) \\\n libffi_files = `$(AR) t ../libffi/.libs/libffi.a 2>/dev/null | sed 's/\\.o/\\.lo/g' | sed 's/^/..\\/libffi\\//g'`\n \n libgcj_la_SOURCES = prims.cc posix.cc jni.cc exception.cc \\\n-\tresolve.cc defineclass.cc interpret.cc name-finder.cc\n+\tresolve.cc defineclass.cc interpret.cc name-finder.cc \\\n+\t$(nat_source_files)\n EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \\\n \t$(c_source_files) $(java_source_files) $(built_java_source_files)\n-libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) $(nat_files) \\\n+libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) \\\n \t$(c_files) $(GCOBJS) $(THREADOBJS) $(LIBLTDL)\n-libgcj_la_LIBADD = $(javao_files) $(nat_files) $(c_files) $(GCOBJS) \\\n+libgcj_la_LIBADD = $(javao_files) $(c_files) $(GCOBJS) \\\n \t$(THREADOBJS) $(libffi_files) $(LIBLTDL)\n libgcj_la_LDFLAGS = -lsupc++ -rpath $(toolexeclibdir) \\\n ## The mysterious backslash is consumed by make.\n@@ -192,10 +193,14 @@ SUFFIXES = .class .java .h\n ## is a bug in automake), and it also won't put the .o files into\n ## subdirs.  FIXME.\n $(nat_files): %.lo: %.cc\n-\t$(LTCXXCOMPILE) -c -o $@ $<\n-\n-$(nat_files) $(GCOBJS) $(THREADOBJS) $(libgcj_la_OBJECTS) $(gij_OBJECTS): \\\n-\t\tinclude/config.h include/java-signal.h $(nat_headers)\n+\t@echo '$(LTCXXCOMPILE) -c -o $@ $<'; \\\n+\t$(LTCXXCOMPILE) -Wp,-MD,.deps/$(*F).pp -c -o $@ $<\n+\t@-sed -e 's/^\\([^:]*\\)\\.o[ \t]*:/\\1.lo \\1.o :/' \\\n+\t  < .deps/$(*F).pp > .deps/$(*F).P; \\\n+\ttr ' ' '\\012' < .deps/$(*F).pp \\\n+\t  | sed -e 's/^\\\\$$//' -e '/^$$/ d' -e '/:$$/ d' -e 's/$$/ :/' \\\n+\t    >> .deps/$(*F).P; \\\n+\trm -f .deps/$(*F).pp\n \n ## FIXME: GNU make.\n $(c_files): %.lo: %.c\n@@ -207,8 +212,6 @@ $(c_files): java/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h\n $(javao_files): %.lo: %.java\n \t$(GCJCOMPILE) -o $@ $<\n \n-$(javao_files): libgcj.zip\n-\n ## ################################################################\n \n ##\n@@ -225,8 +228,6 @@ nat_headers = $(ordinary_java_source_files:.java=.h) \\\n \tjava/io/ObjectOutputStream$$PutField.h \\\n \tjava/io/ObjectInputStream$$GetField.h\n \n-$(nat_headers): libgcj.zip\n-\n java/lang/ClassLoader.h: java/lang/ClassLoader.class libgcj.zip\n \t$(GCJH) -classpath $(top_builddir) \\\n \t\t-friend 'jclass _Jv_FindClass (_Jv_Utf8Const *name, java::lang::ClassLoader *loader);' \\\n@@ -1169,6 +1170,22 @@ java/util/zip/natInflater.cc\n \n ## ################################################################\n \n+##\n+## Dependency tracking madness.\n+##\n+\n+## FIXME: depends on GNU make.\n+-include deps.mk\n+\n+## This is an evil hack to work around an automake limitation.  We\n+## need to ensure that the built headers are built before we try to\n+## compile the C++ sources, but we can't make the .o files depend on\n+## the headers, because in that case we'll force a complete rebuild of\n+## the C++ code whenever any .java file is touched.\n+all-recursive: $(nat_headers)\n+\n+## ################################################################\n+\n ##\n ## This section is for make and multilib madness.\n ##"}, {"sha": "f5df4428d6f24358de9f65fe57462cbb7d2a66f1", "filename": "libjava/Makefile.in", "status": "modified", "additions": 87, "deletions": 36, "changes": 123, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=480222b54ff30c46a67ac53bddf4fa8be7571f7e", "patch": "@@ -154,7 +154,7 @@ bin_SCRIPTS = addr2name.awk\n @CANADIAN_FALSE@GCJH = \\\n @CANADIAN_FALSE@$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh$(EXEEXT)\n \n-GCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) -fassume-compiled -fclasspath=$(here) -L$(here) $(JC1FLAGS) -c\n+GCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) -fassume-compiled -fclasspath=$(here) -L$(here) $(JC1FLAGS) -MD -MT $@ -MF $(@:.lo=.d) -c\n GCJLINK = $(LIBTOOL) --mode=link $(GCJ) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n LIBLINK = $(LIBTOOL) --mode=link $(CC) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n \n@@ -191,15 +191,16 @@ javao_files = $(java_source_files:.java=.lo) \\\n libffi_files = `$(AR) t ../libffi/.libs/libffi.a 2>/dev/null | sed 's/\\.o/\\.lo/g' | sed 's/^/..\\/libffi\\//g'`\n \n libgcj_la_SOURCES = prims.cc posix.cc jni.cc exception.cc \\\n-\tresolve.cc defineclass.cc interpret.cc name-finder.cc\n+\tresolve.cc defineclass.cc interpret.cc name-finder.cc \\\n+\t$(nat_source_files)\n \n EXTRA_libgcj_la_SOURCES = boehm.cc nogc.cc posix-threads.cc no-threads.cc \\\n \t$(c_source_files) $(java_source_files) $(built_java_source_files)\n \n-libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) $(nat_files) \\\n+libgcj_la_DEPENDENCIES = libgcj.zip $(javao_files) \\\n \t$(c_files) $(GCOBJS) $(THREADOBJS) $(LIBLTDL)\n \n-libgcj_la_LIBADD = $(javao_files) $(nat_files) $(c_files) $(GCOBJS) \\\n+libgcj_la_LIBADD = $(javao_files) $(c_files) $(GCOBJS) \\\n \t$(THREADOBJS) $(libffi_files) $(LIBLTDL)\n \n libgcj_la_LDFLAGS = -lsupc++ -rpath $(toolexeclibdir) \\\n@@ -1018,7 +1019,27 @@ libgcjdata_a_LIBADD =\n LTLIBRARIES =  $(toolexeclib_LTLIBRARIES)\n \n libgcj_la_OBJECTS =  prims.lo posix.lo jni.lo exception.lo resolve.lo \\\n-defineclass.lo interpret.lo name-finder.lo\n+defineclass.lo interpret.lo name-finder.lo \\\n+gnu/gcj/convert/JIS0208_to_Unicode.lo \\\n+gnu/gcj/convert/JIS0212_to_Unicode.lo gnu/gcj/convert/Unicode_to_JIS.lo \\\n+gnu/gcj/convert/natIconv.lo gnu/gcj/convert/natInput_EUCJIS.lo \\\n+gnu/gcj/convert/natInput_SJIS.lo gnu/gcj/convert/natOutput_EUCJIS.lo \\\n+gnu/gcj/convert/natOutput_SJIS.lo gnu/gcj/io/natSimpleSHSStream.lo \\\n+gnu/gcj/io/shs.lo gnu/gcj/jni/natNativeThread.lo \\\n+gnu/gcj/runtime/natFirstThread.lo java/io/natFile.lo \\\n+java/io/natFileDescriptor.lo java/io/natObjectInputStream.lo \\\n+java/io/natObjectOutputStream.lo java/lang/natCharacter.lo \\\n+java/lang/natClass.lo java/lang/natClassLoader.lo \\\n+java/lang/natConcreteProcess.lo java/lang/natDouble.lo \\\n+java/lang/natFloat.lo java/lang/natMath.lo java/lang/natObject.lo \\\n+java/lang/natRuntime.lo java/lang/natString.lo java/lang/natSystem.lo \\\n+java/lang/natThread.lo java/lang/natThrowable.lo \\\n+java/lang/reflect/natArray.lo java/lang/reflect/natConstructor.lo \\\n+java/lang/reflect/natField.lo java/lang/reflect/natMethod.lo \\\n+java/net/natInetAddress.lo java/net/natPlainDatagramSocketImpl.lo \\\n+java/net/natPlainSocketImpl.lo java/text/natCollator.lo \\\n+java/util/natGregorianCalendar.lo java/util/zip/natDeflater.lo \\\n+java/util/zip/natInflater.lo\n @NATIVE_TRUE@bin_PROGRAMS =  jv-convert$(EXEEXT) gij$(EXEEXT)\n @NATIVE_TRUE@@MAINTAINER_MODE_TRUE@noinst_PROGRAMS =  \\\n @NATIVE_TRUE@@MAINTAINER_MODE_TRUE@gen-from-JIS$(EXEEXT)\n@@ -1065,14 +1086,23 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/gnu/gcj/convert/Input_JavaSrc.P \\\n .deps/gnu/gcj/convert/Input_SJIS.P .deps/gnu/gcj/convert/Input_UTF8.P \\\n .deps/gnu/gcj/convert/Input_iconv.P \\\n+.deps/gnu/gcj/convert/JIS0208_to_Unicode.P \\\n+.deps/gnu/gcj/convert/JIS0212_to_Unicode.P \\\n .deps/gnu/gcj/convert/Output_8859_1.P \\\n .deps/gnu/gcj/convert/Output_EUCJIS.P \\\n .deps/gnu/gcj/convert/Output_JavaSrc.P \\\n .deps/gnu/gcj/convert/Output_SJIS.P .deps/gnu/gcj/convert/Output_UTF8.P \\\n .deps/gnu/gcj/convert/Output_iconv.P \\\n .deps/gnu/gcj/convert/UnicodeToBytes.P \\\n+.deps/gnu/gcj/convert/Unicode_to_JIS.P .deps/gnu/gcj/convert/natIconv.P \\\n+.deps/gnu/gcj/convert/natInput_EUCJIS.P \\\n+.deps/gnu/gcj/convert/natInput_SJIS.P \\\n+.deps/gnu/gcj/convert/natOutput_EUCJIS.P \\\n+.deps/gnu/gcj/convert/natOutput_SJIS.P \\\n .deps/gnu/gcj/io/DefaultMimeTypes.P .deps/gnu/gcj/io/MimeTypes.P \\\n-.deps/gnu/gcj/io/SimpleSHSStream.P .deps/gnu/gcj/jni/NativeThread.P \\\n+.deps/gnu/gcj/io/SimpleSHSStream.P \\\n+.deps/gnu/gcj/io/natSimpleSHSStream.P .deps/gnu/gcj/io/shs.P \\\n+.deps/gnu/gcj/jni/NativeThread.P .deps/gnu/gcj/jni/natNativeThread.P \\\n .deps/gnu/gcj/math/MPN.P .deps/gnu/gcj/protocol/file/Connection.P \\\n .deps/gnu/gcj/protocol/file/Handler.P \\\n .deps/gnu/gcj/protocol/http/Connection.P \\\n@@ -1081,6 +1111,7 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/gnu/gcj/protocol/jar/Handler.P \\\n .deps/gnu/gcj/runtime/FileDeleter.P .deps/gnu/gcj/runtime/FirstThread.P \\\n .deps/gnu/gcj/runtime/VMClassLoader.P \\\n+.deps/gnu/gcj/runtime/natFirstThread.P \\\n .deps/gnu/gcj/text/BaseBreakIterator.P \\\n .deps/gnu/gcj/text/CharacterBreakIterator.P \\\n .deps/gnu/gcj/text/LineBreakIterator.P \\\n@@ -1290,6 +1321,9 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/io/UTFDataFormatException.P \\\n .deps/java/io/UnsupportedEncodingException.P \\\n .deps/java/io/WriteAbortedException.P .deps/java/io/Writer.P \\\n+.deps/java/io/natFile.P .deps/java/io/natFileDescriptor.P \\\n+.deps/java/io/natObjectInputStream.P \\\n+.deps/java/io/natObjectOutputStream.P \\\n .deps/java/lang/AbstractMethodError.P \\\n .deps/java/lang/ArithmeticException.P \\\n .deps/java/lang/ArrayIndexOutOfBoundsException.P \\\n@@ -1346,29 +1380,38 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/lang/e_scalb.P .deps/java/lang/e_sqrt.P \\\n .deps/java/lang/k_cos.P .deps/java/lang/k_rem_pio2.P \\\n .deps/java/lang/k_sin.P .deps/java/lang/k_tan.P .deps/java/lang/mprec.P \\\n+.deps/java/lang/natCharacter.P .deps/java/lang/natClass.P \\\n+.deps/java/lang/natClassLoader.P .deps/java/lang/natConcreteProcess.P \\\n+.deps/java/lang/natDouble.P .deps/java/lang/natFloat.P \\\n+.deps/java/lang/natMath.P .deps/java/lang/natObject.P \\\n+.deps/java/lang/natRuntime.P .deps/java/lang/natString.P \\\n+.deps/java/lang/natSystem.P .deps/java/lang/natThread.P \\\n+.deps/java/lang/natThrowable.P \\\n .deps/java/lang/reflect/AccessibleObject.P \\\n .deps/java/lang/reflect/Array.P .deps/java/lang/reflect/Constructor.P \\\n .deps/java/lang/reflect/Field.P \\\n .deps/java/lang/reflect/InvocationTargetException.P \\\n .deps/java/lang/reflect/Member.P .deps/java/lang/reflect/Method.P \\\n-.deps/java/lang/reflect/Modifier.P .deps/java/lang/s_atan.P \\\n-.deps/java/lang/s_ceil.P .deps/java/lang/s_copysign.P \\\n-.deps/java/lang/s_cos.P .deps/java/lang/s_fabs.P \\\n-.deps/java/lang/s_floor.P .deps/java/lang/s_rint.P \\\n-.deps/java/lang/s_scalbn.P .deps/java/lang/s_sin.P \\\n-.deps/java/lang/s_tan.P .deps/java/lang/sf_rint.P \\\n-.deps/java/lang/strtod.P .deps/java/lang/w_acos.P \\\n-.deps/java/lang/w_asin.P .deps/java/lang/w_atan2.P \\\n-.deps/java/lang/w_exp.P .deps/java/lang/w_fmod.P \\\n-.deps/java/lang/w_log.P .deps/java/lang/w_pow.P \\\n-.deps/java/lang/w_remainder.P .deps/java/lang/w_sqrt.P \\\n-.deps/java/math/BigDecimal.P .deps/java/math/BigInteger.P \\\n-.deps/java/net/BindException.P .deps/java/net/ConnectException.P \\\n-.deps/java/net/ContentHandler.P .deps/java/net/ContentHandlerFactory.P \\\n-.deps/java/net/DatagramPacket.P .deps/java/net/DatagramSocket.P \\\n-.deps/java/net/DatagramSocketImpl.P .deps/java/net/FileNameMap.P \\\n-.deps/java/net/HttpURLConnection.P .deps/java/net/InetAddress.P \\\n-.deps/java/net/JarURLConnection.P \\\n+.deps/java/lang/reflect/Modifier.P .deps/java/lang/reflect/natArray.P \\\n+.deps/java/lang/reflect/natConstructor.P \\\n+.deps/java/lang/reflect/natField.P .deps/java/lang/reflect/natMethod.P \\\n+.deps/java/lang/s_atan.P .deps/java/lang/s_ceil.P \\\n+.deps/java/lang/s_copysign.P .deps/java/lang/s_cos.P \\\n+.deps/java/lang/s_fabs.P .deps/java/lang/s_floor.P \\\n+.deps/java/lang/s_rint.P .deps/java/lang/s_scalbn.P \\\n+.deps/java/lang/s_sin.P .deps/java/lang/s_tan.P \\\n+.deps/java/lang/sf_rint.P .deps/java/lang/strtod.P \\\n+.deps/java/lang/w_acos.P .deps/java/lang/w_asin.P \\\n+.deps/java/lang/w_atan2.P .deps/java/lang/w_exp.P \\\n+.deps/java/lang/w_fmod.P .deps/java/lang/w_log.P \\\n+.deps/java/lang/w_pow.P .deps/java/lang/w_remainder.P \\\n+.deps/java/lang/w_sqrt.P .deps/java/math/BigDecimal.P \\\n+.deps/java/math/BigInteger.P .deps/java/net/BindException.P \\\n+.deps/java/net/ConnectException.P .deps/java/net/ContentHandler.P \\\n+.deps/java/net/ContentHandlerFactory.P .deps/java/net/DatagramPacket.P \\\n+.deps/java/net/DatagramSocket.P .deps/java/net/DatagramSocketImpl.P \\\n+.deps/java/net/FileNameMap.P .deps/java/net/HttpURLConnection.P \\\n+.deps/java/net/InetAddress.P .deps/java/net/JarURLConnection.P \\\n .deps/java/net/MalformedURLException.P .deps/java/net/MulticastSocket.P \\\n .deps/java/net/NoRouteToHostException.P \\\n .deps/java/net/PlainDatagramSocketImpl.P \\\n@@ -1382,6 +1425,9 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/net/URLStreamHandlerFactory.P \\\n .deps/java/net/UnknownHostException.P \\\n .deps/java/net/UnknownServiceException.P \\\n+.deps/java/net/natInetAddress.P \\\n+.deps/java/net/natPlainDatagramSocketImpl.P \\\n+.deps/java/net/natPlainSocketImpl.P \\\n .deps/java/security/AlgorithmParameterGeneratorSpi.P \\\n .deps/java/security/BasicPermission.P \\\n .deps/java/security/DigestException.P \\\n@@ -1450,7 +1496,7 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/text/MessageFormat.P .deps/java/text/NumberFormat.P \\\n .deps/java/text/ParseException.P .deps/java/text/ParsePosition.P \\\n .deps/java/text/RuleBasedCollator.P .deps/java/text/SimpleDateFormat.P \\\n-.deps/java/text/StringCharacterIterator.P \\\n+.deps/java/text/StringCharacterIterator.P .deps/java/text/natCollator.P \\\n .deps/java/util/AbstractCollection.P .deps/java/util/AbstractList.P \\\n .deps/java/util/AbstractMap.P .deps/java/util/AbstractSequentialList.P \\\n .deps/java/util/AbstractSet.P .deps/java/util/ArrayList.P \\\n@@ -1481,8 +1527,8 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/util/jar/JarException.P .deps/java/util/jar/JarFile.P \\\n .deps/java/util/jar/JarInputStream.P \\\n .deps/java/util/jar/JarOutputStream.P .deps/java/util/jar/Manifest.P \\\n-.deps/java/util/zip/Adler32.P .deps/java/util/zip/CRC32.P \\\n-.deps/java/util/zip/CheckedInputStream.P \\\n+.deps/java/util/natGregorianCalendar.P .deps/java/util/zip/Adler32.P \\\n+.deps/java/util/zip/CRC32.P .deps/java/util/zip/CheckedInputStream.P \\\n .deps/java/util/zip/CheckedOutputStream.P \\\n .deps/java/util/zip/Checksum.P \\\n .deps/java/util/zip/DataFormatException.P \\\n@@ -1494,7 +1540,8 @@ DEP_FILES =  .deps/$(srcdir)/$(CONVERT_DIR)/gen-from-JIS.P \\\n .deps/java/util/zip/ZipConstants.P .deps/java/util/zip/ZipEntry.P \\\n .deps/java/util/zip/ZipException.P .deps/java/util/zip/ZipFile.P \\\n .deps/java/util/zip/ZipInputStream.P \\\n-.deps/java/util/zip/ZipOutputStream.P .deps/jni.P .deps/libgcjdata.P \\\n+.deps/java/util/zip/ZipOutputStream.P .deps/java/util/zip/natDeflater.P \\\n+.deps/java/util/zip/natInflater.P .deps/jni.P .deps/libgcjdata.P \\\n .deps/name-finder.P .deps/no-threads.P .deps/nogc.P \\\n .deps/posix-threads.P .deps/posix.P .deps/prims.P .deps/resolve.P\n SOURCES = $(libgcjdata_a_SOURCES) $(libgcj_la_SOURCES) $(EXTRA_libgcj_la_SOURCES) $(jv_convert_SOURCES) $(EXTRA_jv_convert_SOURCES) $(gij_SOURCES) $(gen_from_JIS_SOURCES) $(EXTRA_gen_from_JIS_SOURCES)\n@@ -2086,10 +2133,14 @@ clean-local:\n \t$(GCJCOMPILE) -o $@ $<\n \n $(nat_files): %.lo: %.cc\n-\t$(LTCXXCOMPILE) -c -o $@ $<\n-\n-$(nat_files) $(GCOBJS) $(THREADOBJS) $(libgcj_la_OBJECTS) $(gij_OBJECTS): \\\n-\t\tinclude/config.h include/java-signal.h $(nat_headers)\n+\t@echo '$(LTCXXCOMPILE) -c -o $@ $<'; \\\n+\t$(LTCXXCOMPILE) -Wp,-MD,.deps/$(*F).pp -c -o $@ $<\n+\t@-sed -e 's/^\\([^:]*\\)\\.o[ \t]*:/\\1.lo \\1.o :/' \\\n+\t  < .deps/$(*F).pp > .deps/$(*F).P; \\\n+\ttr ' ' '\\012' < .deps/$(*F).pp \\\n+\t  | sed -e 's/^\\\\$$//' -e '/^$$/ d' -e '/:$$/ d' -e 's/$$/ :/' \\\n+\t    >> .deps/$(*F).P; \\\n+\trm -f .deps/$(*F).pp\n \n $(c_files): %.lo: %.c\n \t$(LTCOMPILE) -c -o $@ $<\n@@ -2099,13 +2150,9 @@ $(c_files): java/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h\n $(javao_files): %.lo: %.java\n \t$(GCJCOMPILE) -o $@ $<\n \n-$(javao_files): libgcj.zip\n-\n .class.h:\n \t$(GCJH) -classpath $(top_builddir) $(basename $<)\n \n-$(nat_headers): libgcj.zip\n-\n java/lang/ClassLoader.h: java/lang/ClassLoader.class libgcj.zip\n \t$(GCJH) -classpath $(top_builddir) \\\n \t\t-friend 'jclass _Jv_FindClass (_Jv_Utf8Const *name, java::lang::ClassLoader *loader);' \\\n@@ -2246,6 +2293,10 @@ $(CONVERT_DIR)/make-trie.o: $(srcdir)/$(CONVERT_DIR)/make-trie.c\n @NATIVE_TRUE@@MAINTAINER_MODE_TRUE@$(srcdir)/$(CONVERT_DIR)/Unicode_to_JIS.cc: ./gen-from-JIS$(EXEEXT)\n @NATIVE_TRUE@@MAINTAINER_MODE_TRUE@\t ./gen-from-JIS toJIS>$(srcdir)/$(CONVERT_DIR)/Unicode_to_JIS.cc\n \n+-include deps.mk\n+\n+all-recursive: $(nat_headers)\n+\n # Multilib support.\n .PHONY: all-multi mostlyclean-multi clean-multi distclean-multi \\\n \tmaintainer-clean-multi"}, {"sha": "d2f0f7a78ab93e04adf8080f04b6d27da2cd4ae1", "filename": "libjava/configure", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=480222b54ff30c46a67ac53bddf4fa8be7571f7e", "patch": "@@ -5848,6 +5848,7 @@ fi\n here=`pwd`\n \n \n+\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure\n@@ -6347,6 +6348,26 @@ test -z \"$CONFIG_HEADERS\" || echo timestamp > include/stamp-h\n if test -n \"$CONFIG_FILES\"; then\n   ac_file=Makefile . ${libgcj_basedir}/../config-ml.in\n fi\n+\n+# Make subdirectories and `.d' files.  Look in both srcdir and\n+# builddir for the .java files.\n+h=`pwd`\n+: > deps.mk\n+( (cd $srcdir && find . -name '*.java' -print) ;\n+  find . -name '*.java' -print) | \\\n+   fgrep -v testsuite | \\\n+   sed -e 's/\\.java/.d/' | \\\n+   while read f; do\n+      echo \"include $f\" >> deps.mk\n+      test -f $f || {\n+\n+\t d=`echo $f | sed -e 's,/[^/]*$,,'`\n+\n+\t $srcdir/../mkinstalldirs $d\n+\t : > $f\n+      }\n+   done\n+\n exit 0\n EOF\n chmod +x $CONFIG_STATUS"}, {"sha": "f29e73d756a27460e8c80478cf108be4bd06326f", "filename": "libjava/configure.in", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/480222b54ff30c46a67ac53bddf4fa8be7571f7e/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=480222b54ff30c46a67ac53bddf4fa8be7571f7e", "patch": "@@ -765,10 +765,31 @@ fi\n here=`pwd`\n AC_SUBST(here)\n \n+\n AC_OUTPUT(Makefile libgcj.spec libgcj-test.spec gcj/Makefile include/Makefile testsuite/Makefile,\n [if test -n \"$CONFIG_FILES\"; then\n   ac_file=Makefile . ${libgcj_basedir}/../config-ml.in\n-fi],\n+fi\n+\n+# Make subdirectories and `.d' files.  Look in both srcdir and\n+# builddir for the .java files.\n+h=`pwd`\n+: > deps.mk\n+( (cd $srcdir && find . -name '*.java' -print) ;\n+  find . -name '*.java' -print) | \\\n+   fgrep -v testsuite | \\\n+   sed -e 's/\\.java/.d/' | \\\n+   while read f; do\n+      echo \"include $f\" >> deps.mk\n+      test -f $f || {\n+changequote(<<,>>)\n+\t d=`echo $f | sed -e 's,/[^/]*$,,'`\n+changequote([,])\n+\t $srcdir/../mkinstalldirs $d\n+\t : > $f\n+      }\n+   done\n+],\n srcdir=${srcdir}\n host=${host}\n target=${target}"}]}