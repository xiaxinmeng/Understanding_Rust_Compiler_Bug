{"sha": "42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDJhYzVlZTEyODdiNmM5OTMxYTdlNjdjOTZmMDVmZmZiOWI1YjAyMg==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:53:43Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2011-10-18T14:53:43Z"}, "message": "trans-array.h (gfc_walk_array_ref): New prototype.\n\n\t* trans-array.h (gfc_walk_array_ref): New prototype.\n\t* trans-array.c (gfc_walk_array_ref): New function, containing\n\tall but the beginning of gfc_walk_variable_expr's code.\n\t(gfc_walk_variable_expr): Use gfc_walk_array_ref.\n\nFrom-SVN: r180144", "tree": {"sha": "63da9138eec8d04646f6c4ec911e766cde100919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63da9138eec8d04646f6c4ec911e766cde100919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/comments", "author": null, "committer": null, "parents": [{"sha": "700535b75f0df9aa1cabe95da1fcf3df82ad1c01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/700535b75f0df9aa1cabe95da1fcf3df82ad1c01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/700535b75f0df9aa1cabe95da1fcf3df82ad1c01"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "67e2bcf3dfb184f30d0ebb25cd3e662375765a23", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "patch": "@@ -1,3 +1,10 @@\n+2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* trans-array.h (gfc_walk_array_ref): New prototype.\n+\t* trans-array.c (gfc_walk_array_ref): New function, containing\n+\tall but the beginning of gfc_walk_variable_expr's code.\n+\t(gfc_walk_variable_expr): Use gfc_walk_array_ref.\n+\n 2011-10-18  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/50420"}, {"sha": "89528b472394d18898330bb37fdc377cdf76ba25", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "patch": "@@ -7603,14 +7603,22 @@ static gfc_ss *\n gfc_walk_variable_expr (gfc_ss * ss, gfc_expr * expr)\n {\n   gfc_ref *ref;\n-  gfc_array_ref *ar;\n-  gfc_ss *newss;\n-  int n;\n \n   for (ref = expr->ref; ref; ref = ref->next)\n     if (ref->type == REF_ARRAY && ref->u.ar.type != AR_ELEMENT)\n       break;\n \n+  return gfc_walk_array_ref (ss, expr, ref);\n+}\n+\n+\n+gfc_ss *\n+gfc_walk_array_ref (gfc_ss * ss, gfc_expr * expr, gfc_ref * ref)\n+{\n+  gfc_array_ref *ar;\n+  gfc_ss *newss;\n+  int n;\n+\n   for (; ref; ref = ref->next)\n     {\n       if (ref->type == REF_SUBSTRING)"}, {"sha": "4d737bde94f8ba9b46ff939fe1190ffa22ed7f2e", "filename": "gcc/fortran/trans-array.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2Ftrans-array.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42ac5ee1287b6c9931a7e67c96f05fffb9b5b022/gcc%2Ffortran%2Ftrans-array.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.h?ref=42ac5ee1287b6c9931a7e67c96f05fffb9b5b022", "patch": "@@ -70,6 +70,8 @@ void gfc_trans_static_array_pointer (gfc_symbol *);\n gfc_ss *gfc_walk_expr (gfc_expr *);\n /* Workhorse for gfc_walk_expr.  */\n gfc_ss *gfc_walk_subexpr (gfc_ss *, gfc_expr *);\n+/* Workhorse for gfc_walk_variable_expr.  */\n+gfc_ss *gfc_walk_array_ref (gfc_ss *, gfc_expr *, gfc_ref * ref);\n /* Walk the arguments of an elemental function.  */\n gfc_ss *gfc_walk_elemental_function_args (gfc_ss *, gfc_actual_arglist *,\n \t\t\t\t\t  gfc_ss_type);"}]}