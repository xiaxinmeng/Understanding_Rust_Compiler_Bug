{"sha": "02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDJlZjQwZDk3Y2Q2ZTk0Zjk1ZWZkNGUyMzE5MDQ0YmRmNmViMGExZA==", "commit": {"author": {"name": "Tim Josling", "email": "tej@melbpc.org.au", "date": "2002-06-09T23:33:49Z"}, "committer": {"name": "Tim Josling", "email": "timjosling@gcc.gnu.org", "date": "2002-06-09T23:33:49Z"}, "message": "Make configure.in check that languages specified were found.\n\nFrom-SVN: r54418", "tree": {"sha": "12d9ee16fb6e73a3035502e975b7e43759c01afc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12d9ee16fb6e73a3035502e975b7e43759c01afc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/comments", "author": null, "committer": null, "parents": [{"sha": "37a4aa311ba8f5067a8779af9d1a79be655f7e9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37a4aa311ba8f5067a8779af9d1a79be655f7e9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37a4aa311ba8f5067a8779af9d1a79be655f7e9d"}], "stats": {"total": 35, "additions": 30, "deletions": 5}, "files": [{"sha": "1d7f5b0613ab90437d9b974925ae48f0cb43e4c6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "patch": "@@ -7,6 +7,13 @@\n \t* doc/invoke.texi (Target Options): Restore -V option,\n \tupdate docs for -b option.\n \n+2002-06-10  Tim Josling  <tej@melbpc.org.au>\n+\n+\t* configure.in (remaining_languages_check): \n+\tAdded check that all languages specified were found. \n+\tExit if not found. Previous behaviour was silent failure.\n+\t* configure: Regenerated.\n+\n 2002-06-10  Tim Josling  <tej@melbpc.org.au>\n  \n          First steps to making treelang documentation compliant, based on"}, {"sha": "2d18e737ac296b3635853499436a31b90a15edb6", "filename": "gcc/configure", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "patch": "@@ -7913,8 +7913,7 @@ if test x\"${enable_languages+set}\" != xset; then\n \t\tenable_languages=all\n \tfi\n else\n-\tif test x\"${enable_languages}\" = x ||\n-\t   test x\"${enable_languages}\" = xyes;\n+\tif test x\"${enable_languages}\" = x;\n \tthen\n \t\t{ echo \"configure: error: --enable-languages needs at least one language argument\" 1>&2; exit 1; }\n \tfi\n@@ -7952,6 +7951,7 @@ do\n    esac\n done\n \n+remaining_languages=${enable_languages}\n subdirs=\n for lang in ${srcdir}/*/config-lang.in ..\n do\n@@ -7976,6 +7976,7 @@ do\n \t  *) add_this_lang=no ;;\n \t  esac\n \t  if test x\"${add_this_lang}\" = xyes; then\n+                remaining_languages=`echo $remaining_languages | sed -e s/${lang_alias}//g`\n \t\tcase $lang in\n \t\t    ${srcdir}/ada/config-lang.in)\n \t\t\tif test x$have_gnat = xyes ; then\n@@ -7991,6 +7992,14 @@ do\n \tesac\n done\n \n+remaining_languages_check=`echo $remaining_languages | sed -e 's/,//g' -e 's/^c$//'g`\n+if test \"xxx$remaining_languages_check\" != \"xxx\" -a \"xxx$remaining_languages_check\" != \"xxxall\" ; then\n+    remaining_languages_clean=`echo $remaining_languages | sed -e 's/^c,//' -e 's/,c,/,/' -e 's/,c$//'  -e 's/^c$//' -e 's/,,*/,/g' -e 's/^,//g' -e 's/,$//g' `\n+    echo \"Language alias(es) not found: $remaining_languages_clean\" \n+    echo \"Refer to the configure instructions in the doc directory\"\n+    exit 1\n+fi\n+\n # Make gthr-default.h if we have a thread file.\n gthread_flags=\n if test $thread_file != single; then\n@@ -8035,7 +8044,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:8039: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:8048: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "c75b39e394ecae7281884396528d9700bb385ba6", "filename": "gcc/configure.in", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=02ef40d97cd6e94f95efd4e2319044bdf6eb0a1d", "patch": "@@ -2169,8 +2169,7 @@ if test x\"${enable_languages+set}\" != xset; then\n \t\tenable_languages=all\n \tfi\n else\n-\tif test x\"${enable_languages}\" = x ||\n-\t   test x\"${enable_languages}\" = xyes;\n+\tif test x\"${enable_languages}\" = x;\n \tthen\n \t\tAC_MSG_ERROR([--enable-languages needs at least one language argument])\n \tfi\n@@ -2210,6 +2209,7 @@ changequote([,])dnl\n    esac\n done\n \n+remaining_languages=${enable_languages}\n subdirs=\n for lang in ${srcdir}/*/config-lang.in ..\n do\n@@ -2235,6 +2235,7 @@ changequote(,)dnl\n \t  *) add_this_lang=no ;;\n \t  esac\n \t  if test x\"${add_this_lang}\" = xyes; then\n+                remaining_languages=`echo $remaining_languages | sed -e s/${lang_alias}//g`\n \t\tcase $lang in\n \t\t    ${srcdir}/ada/config-lang.in)\n \t\t\tif test x$have_gnat = xyes ; then\n@@ -2251,6 +2252,14 @@ changequote([,])dnl\n \tesac\n done\n \n+remaining_languages_check=`echo $remaining_languages | sed -e 's/,//g' -e 's/^c$//'g`\n+if test \"xxx$remaining_languages_check\" != \"xxx\" -a \"xxx$remaining_languages_check\" != \"xxxall\" ; then\n+    remaining_languages_clean=`echo $remaining_languages | sed -e 's/^c,//' -e 's/,c,/,/' -e 's/,c$//'  -e 's/^c$//' -e 's/,,*/,/g' -e 's/^,//g' -e 's/,$//g' `\n+    echo \"Language alias(es) not found: $remaining_languages_clean\" \n+    echo \"Refer to the configure instructions in the doc directory\"\n+    exit 1\n+fi\n+\n # Make gthr-default.h if we have a thread file.\n gthread_flags=\n if test $thread_file != single; then"}]}