{"sha": "14817bebf07bdf22f132100ae6f2f99f9522b0e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ4MTdiZWJmMDdiZGYyMmYxMzIxMDBhZTZmMmY5OWY5NTIyYjBlNw==", "commit": {"author": {"name": "Dominique d'Humieres", "email": "dominiq@lps.ens.fr", "date": "2014-01-11T21:30:43Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2014-01-11T21:30:43Z"}, "message": "re PR libfortran/59419 (Failing OPEN with FILE='xxx' and IOSTAT creates the file 'xxx' after revision 196783)\n\n2014-01-11  Dominique d'Humieres  <dominiq@lps.ens.fr>\n\n\t* gfortran.dg/binding_label_tests_10_main.f03: Cleanup mod file.\n\t* gfortran.dg/use_only_3.f90: Likewise.\n\t* gfortran.dg/inquire_10.f90: Delete opened file.\n\t* gfortran.dg/inquire_15.f90: Likewise.\n\t* gfortran.dg/pr16597.f90: Likewise.\n\t* gfortran.dg/open_negative_unit_1.f90: Likewise + test\n\tfor PR59419.\n\nFrom-SVN: r206557", "tree": {"sha": "0c83152aaa8dcbbc387e786423ab0410e4fb6075", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c83152aaa8dcbbc387e786423ab0410e4fb6075"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14817bebf07bdf22f132100ae6f2f99f9522b0e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14817bebf07bdf22f132100ae6f2f99f9522b0e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14817bebf07bdf22f132100ae6f2f99f9522b0e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14817bebf07bdf22f132100ae6f2f99f9522b0e7/comments", "author": {"login": "DominiquedHumieres", "id": 18394944, "node_id": "MDQ6VXNlcjE4Mzk0OTQ0", "avatar_url": "https://avatars.githubusercontent.com/u/18394944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DominiquedHumieres", "html_url": "https://github.com/DominiquedHumieres", "followers_url": "https://api.github.com/users/DominiquedHumieres/followers", "following_url": "https://api.github.com/users/DominiquedHumieres/following{/other_user}", "gists_url": "https://api.github.com/users/DominiquedHumieres/gists{/gist_id}", "starred_url": "https://api.github.com/users/DominiquedHumieres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DominiquedHumieres/subscriptions", "organizations_url": "https://api.github.com/users/DominiquedHumieres/orgs", "repos_url": "https://api.github.com/users/DominiquedHumieres/repos", "events_url": "https://api.github.com/users/DominiquedHumieres/events{/privacy}", "received_events_url": "https://api.github.com/users/DominiquedHumieres/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9c11136838677767ce43591c5a2f27b35c4154cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c11136838677767ce43591c5a2f27b35c4154cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c11136838677767ce43591c5a2f27b35c4154cb"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "c95790fd828c3cbb308760c1fa004854b4fea268", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -1,3 +1,13 @@\n+2014-01-11  Dominique d'Humieres  <dominiq@lps.ens.fr>\n+\n+\t* gfortran.dg/binding_label_tests_10_main.f03: Cleanup mod file.\n+\t* gfortran.dg/use_only_3.f90: Likewise.\n+\t* gfortran.dg/inquire_10.f90: Delete opened file.\n+\t* gfortran.dg/inquire_15.f90: Likewise.\n+\t* gfortran.dg/pr16597.f90: Likewise.\n+\t* gfortran.dg/open_negative_unit_1.f90: Likewise + test\n+\tfor PR59419.\n+\n 2014-01-10  Jeff Law  <law@redhat.com>\n \n \tPR middle-end/59743"}, {"sha": "5216fbedf6ae68a5e9e089d14d301d29188e0b91", "filename": "gcc/testsuite/gfortran.dg/binding_label_tests_10_main.f03", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fbinding_label_tests_10_main.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fbinding_label_tests_10_main.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fbinding_label_tests_10_main.f03?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -11,3 +11,4 @@ program main\n   use binding_label_tests_10 ! { dg-error \"Variable one from module binding_label_tests_10 with binding label c_one at .1. uses the same global identifier as entity at .2. from module binding_label_tests_10_main\" }\n   use binding_label_tests_10_main\n end program main\n+! { dg-final { cleanup-modules \"binding_label_tests_10\" } }"}, {"sha": "bc7d6e36b387d2ecebb48b6a65c616d46e3cd0ec", "filename": "gcc/testsuite/gfortran.dg/inquire_10.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_10.f90?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -10,6 +10,8 @@\n   inquire(file=trim(cwd) // '/cseq',number=unit)\n   if (unit /= 23) call abort\n \n+  close(unit=23, status = 'delete')\n+\n   inquire(file='foo/../cseq2',number=unit)\n   if (unit >= 0) call abort\n   inquire(file='cseq2',number=unit)"}, {"sha": "ae94270ca8faaa5513049e16a0dd73efa48cc3b4", "filename": "gcc/testsuite/gfortran.dg/inquire_15.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_15.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_15.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finquire_15.f90?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -22,6 +22,7 @@\n inquire(99, stream=str)\n !print *, \"str=\",str\n if (str /= \"NO\") goto 10\n+close(99, status=\"delete\")\n stop\n 10 close(99, status=\"delete\")\n call abort"}, {"sha": "bbcf46b72a6ad59af77e8086fb80a2e6fb5d46bd", "filename": "gcc/testsuite/gfortran.dg/open_negative_unit_1.f90", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_negative_unit_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_negative_unit_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fopen_negative_unit_1.f90?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -6,6 +6,7 @@\n \n program nutest\n     implicit none\n+    logical l\n     integer id, ios\n \n     open(newunit=id, file=\"foo.txt\", iostat=ios)\n@@ -16,6 +17,14 @@ program nutest\n \n     close(id, status=\"delete\")\n \n+    open(unit=10, file=\"foo.txt\", status=\"old\", iostat=ios)\n+    if (ios /= 0) call abort\n+\n+    close(10, status=\"delete\")\n+\n     open(-10, file=\"foo.txt\", iostat=ios)\n     if (ios == 0) call abort\n+\n+    inquire(file=\"foo.txt\", exist=l)\n+    if (l) call abort\n end program nutest"}, {"sha": "fc191efef7c7e46a9040824f6f78e042fcb472ad", "filename": "gcc/testsuite/gfortran.dg/pr16597.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr16597.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14817bebf07bdf22f132100ae6f2f99f9522b0e7/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr16597.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr16597.f90?ref=14817bebf07bdf22f132100ae6f2f99f9522b0e7", "patch": "@@ -19,7 +19,7 @@ program gfbug4\n       open (UNIT=iunit,FORM='unformatted',ACCESS='direct',RECL=strlen)\n       write (iunit, rec=1) 'ABCD'\n       read (iunit, rec=1) string\n-      close (iunit)\n+      close (iunit, status = 'delete')\n       if (string.ne.'ABCD') call abort\n \n       open (UNIT=iunit,FORM='unformatted',ACCESS='direct',STATUS='scratch',RECL=strlen)"}]}