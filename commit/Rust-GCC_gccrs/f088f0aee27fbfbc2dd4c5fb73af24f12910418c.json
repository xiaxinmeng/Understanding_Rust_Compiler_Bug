{"sha": "f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjA4OGYwYWVlMjdmYmZiYzJkZDRjNWZiNzNhZjI0ZjEyOTEwNDE4Yw==", "commit": {"author": {"name": "Kai Tietz", "email": "kai.tietz@onevision.com", "date": "2010-05-11T15:06:38Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2010-05-11T15:06:38Z"}, "message": "collect2.c (maybe_lto_object_file): Add x64-coff magic and check.\n\n2010-05-11  Kai Tietz  <kai.tietz@onevision.com>\n\n        * collect2.c (maybe_lto_object_file): Add x64-coff magic and check.\n\nFrom-SVN: r159272", "tree": {"sha": "82ac4fa3b32ebbc68a1b41b809948b3db5f3b871", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82ac4fa3b32ebbc68a1b41b809948b3db5f3b871"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f088f0aee27fbfbc2dd4c5fb73af24f12910418c/comments", "author": null, "committer": null, "parents": [{"sha": "94f6424987ff7c94cc07425d1cce11922ef0ce73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f6424987ff7c94cc07425d1cce11922ef0ce73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94f6424987ff7c94cc07425d1cce11922ef0ce73"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "92220ec72e012f859a9c9de8b5b476ba4a8d3898", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f088f0aee27fbfbc2dd4c5fb73af24f12910418c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f088f0aee27fbfbc2dd4c5fb73af24f12910418c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "patch": "@@ -1,3 +1,7 @@\n+2010-05-11  Kai Tietz  <kai.tietz@onevision.com>\n+\n+\t* collect2.c (maybe_lto_object_file): Add x64-coff magic and check.\n+\n 2010-05-11  Jan Hubicka  <jh@suse.cz>\n \n \t* lto-cgraph.c (output_cgraph): Remove loop adding all varpool nodes"}, {"sha": "5322e10bee2aee67312f6ec4aee707f70b7cabb5", "filename": "gcc/collect2.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f088f0aee27fbfbc2dd4c5fb73af24f12910418c/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f088f0aee27fbfbc2dd4c5fb73af24f12910418c/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=f088f0aee27fbfbc2dd4c5fb73af24f12910418c", "patch": "@@ -2574,6 +2574,7 @@ maybe_lto_object_file (const char *prog_name)\n \n   static unsigned char elfmagic[4] = { 0x7f, 'E', 'L', 'F' };\n   static unsigned char coffmagic[2] = { 0x4c, 0x01 };\n+  static unsigned char coffmagic_x64[2] = { 0x64, 0x86 };\n   static unsigned char machomagic[4][4] = {\n     { 0xcf, 0xfa, 0xed, 0xfe },\n     { 0xce, 0xfa, 0xed, 0xfe },\n@@ -2589,7 +2590,8 @@ maybe_lto_object_file (const char *prog_name)\n   fclose (f);\n \n   if (memcmp (buf, elfmagic, sizeof (elfmagic)) == 0\n-      || memcmp (buf, coffmagic, sizeof (coffmagic)) == 0)\n+      || memcmp (buf, coffmagic, sizeof (coffmagic)) == 0\n+      || memcmp (buf, coffmagic_x64, sizeof (coffmagic_x64)) == 0)\n     return true;\n   for (i = 0; i < 4; i++)\n     if (memcmp (buf, machomagic[i], sizeof (machomagic[i])) == 0)"}]}