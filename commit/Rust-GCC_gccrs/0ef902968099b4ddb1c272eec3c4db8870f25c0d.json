{"sha": "0ef902968099b4ddb1c272eec3c4db8870f25c0d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGVmOTAyOTY4MDk5YjRkZGIxYzI3MmVlYzNjNGRiODg3MGYyNWMwZA==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2006-06-22T17:54:45Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2006-06-22T17:54:45Z"}, "message": "re PR rtl-optimization/28121 (verify_flow_info failed (wrong amount of branch edges after unconditional jump 2))\n\n\tPR rtl-optimization/28121\n\t* cfgexpand.c (tree_expand_cfg): Clean EDGE_EXECUTABLE flag from\n\tthe entry edge.\n\n\t* gcc.dg/pr28121.c: New test.\n\nFrom-SVN: r114898", "tree": {"sha": "e2a239d938daea1acc289a43961031d9d0933e6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2a239d938daea1acc289a43961031d9d0933e6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0ef902968099b4ddb1c272eec3c4db8870f25c0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef902968099b4ddb1c272eec3c4db8870f25c0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ef902968099b4ddb1c272eec3c4db8870f25c0d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ef902968099b4ddb1c272eec3c4db8870f25c0d/comments", "author": null, "committer": null, "parents": [{"sha": "a8fe5a30f21979b1c444c31668bf3aef157aefa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8fe5a30f21979b1c444c31668bf3aef157aefa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8fe5a30f21979b1c444c31668bf3aef157aefa3"}], "stats": {"total": 46, "additions": 45, "deletions": 1}, "files": [{"sha": "0ab503814846e2e5aa17eb577ae759f50154e2ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0ef902968099b4ddb1c272eec3c4db8870f25c0d", "patch": "@@ -1,3 +1,9 @@\n+2006-06-22  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR rtl-optimization/28121\n+\t* cfgexpand.c (tree_expand_cfg): Clean EDGE_EXECUTABLE flag from\n+\tthe entry edge.\n+\n 2006-06-21  DJ Delorie  <dj@redhat.com>\n \n \t* config/m32c/muldiv.md (mulhisi3_i): Only use registers for dest"}, {"sha": "1f43a32d77e9811d52f47c2c228612d61fffdd9f", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=0ef902968099b4ddb1c272eec3c4db8870f25c0d", "patch": "@@ -1580,6 +1580,8 @@ tree_expand_cfg (void)\n {\n   basic_block bb, init_block;\n   sbitmap blocks;\n+  edge_iterator ei;\n+  edge e;\n \n   /* Some backends want to know that we are expanding to RTL.  */\n   currently_expanding_to_rtl = 1;\n@@ -1623,6 +1625,11 @@ tree_expand_cfg (void)\n \n   init_block = construct_init_block ();\n \n+  /* Clear EDGE_EXECUTABLE on the entry edge(s).  It is cleaned from the\n+     remainining edges in expand_gimple_basic_block.  */\n+  FOR_EACH_EDGE (e, ei, ENTRY_BLOCK_PTR->succs)\n+    e->flags &= ~EDGE_EXECUTABLE;\n+\n   FOR_BB_BETWEEN (bb, init_block->next_bb, EXIT_BLOCK_PTR, next_bb)\n     bb = expand_gimple_basic_block (bb);\n "}, {"sha": "9fd22ded9224e6feb9a499a0785eb4483ed4f57e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0ef902968099b4ddb1c272eec3c4db8870f25c0d", "patch": "@@ -1,3 +1,8 @@\n+2006-06-22  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR rtl-optimization/28121\n+\t* gcc.dg/pr28121.c: New test.\n+\n 2006-06-22  Lee Millward  <lee.millward@gmail.com>\n \n \tPR c++/27805\n@@ -34,7 +39,6 @@\n 2006-06-20  Steven G. Kargl  <kargls@comcast.net>\n \n \t* gfortran.dg/rrspacing_1.f90: New test.\n- \n \n 2006-06-20  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n "}, {"sha": "5cbf8f89e943773946c57a75a8c60ca684c32836", "filename": "gcc/testsuite/gcc.dg/pr28121.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28121.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0ef902968099b4ddb1c272eec3c4db8870f25c0d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28121.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr28121.c?ref=0ef902968099b4ddb1c272eec3c4db8870f25c0d", "patch": "@@ -0,0 +1,27 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+short\n+GetCmd ()\n+{\n+  int c, c1;\n+  for (c = 255; c == 255;)\n+    {\n+      c = GetMouseButton ();\n+      if (c >= 0)\n+\t{\n+\t  c = ParsePos (c, -1, 0);\n+\t  c1 = ParsePos (c1, c, 1);\n+\t  if (c == c1 && (c >= 0 || c == -10))\n+\t    {\n+\t      return c;\n+\t    }\n+\t  if (c >= 0 && c1 == -12)\n+\t    {\n+\t      return ((((((10) + 1) + 1)) + 1) << 7) | c;\n+\t    }\n+\t  c = 255;\n+\t}\n+    }\n+}\n+"}]}