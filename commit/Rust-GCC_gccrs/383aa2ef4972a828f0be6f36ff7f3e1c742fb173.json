{"sha": "383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzgzYWEyZWY0OTcyYTgyOGYwYmU2ZjM2ZmY3ZjNlMWM3NDJmYjE3Mw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-02-07T02:27:10Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-02-07T02:27:10Z"}, "message": "verify.cc (require_array_type): If argument is a null array of references, return null as the element type.\n\n\t* verify.cc (require_array_type): If argument is a null array of\n\treferences, return null as the element type.\n\nFrom-SVN: r49561", "tree": {"sha": "6c48c98f3752277d3f96825e9e3cbe7f9a40595a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c48c98f3752277d3f96825e9e3cbe7f9a40595a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "html_url": "https://github.com/Rust-GCC/gccrs/commit/383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/383aa2ef4972a828f0be6f36ff7f3e1c742fb173/comments", "author": null, "committer": null, "parents": [{"sha": "edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edd1967d0c957ab48836fe0cc0128d012c6b6c6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edd1967d0c957ab48836fe0cc0128d012c6b6c6c"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "bbf6942467ff2aab7b7f10749777d28761df6736", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/383aa2ef4972a828f0be6f36ff7f3e1c742fb173/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/383aa2ef4972a828f0be6f36ff7f3e1c742fb173/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "patch": "@@ -1,3 +1,8 @@\n+2002-02-06  Tom Tromey  <tromey@redhat.com>\n+\n+\t* verify.cc (require_array_type): If argument is a null array of\n+\treferences, return null as the element type.\n+\n 2002-02-06  Mark Wielaard  <mark@klomp.org>\n \n \t* verify.cc (verify_instructions_0) [op_dup2]: Actually push the"}, {"sha": "562cfaf5bc3d7bb2c9b1f0b11baa999a0abf6e10", "filename": "libjava/verify.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/383aa2ef4972a828f0be6f36ff7f3e1c742fb173/libjava%2Fverify.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/383aa2ef4972a828f0be6f36ff7f3e1c742fb173/libjava%2Fverify.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fverify.cc?ref=383aa2ef4972a828f0be6f36ff7f3e1c742fb173", "patch": "@@ -1166,9 +1166,11 @@ class _Jv_BytecodeVerifier\n   // compatible with type ELEMENT.  Returns the actual element type.\n   type require_array_type (type array, type element)\n   {\n-    // An odd case.  Here we just pretend that everything went ok.\n+    // An odd case.  Here we just pretend that everything went ok.  If\n+    // the requested element type is some kind of reference, return\n+    // the null type instead.\n     if (array.isnull ())\n-      return element;\n+      return element.isreference () ? type (null_type) : element;\n \n     if (! array.isarray ())\n       verify_fail (\"array required\");"}]}