{"sha": "3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzk0OGY5ZDA4ZjE2MTE1ZTQ5MWQ1ZGM4ZDA4ZmE3ZDZmYjBmMDkxNw==", "commit": {"author": {"name": "Jeff Sturm", "email": "jsturm@sigma6.com", "date": "1999-11-05T17:34:32Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-11-05T17:34:32Z"}, "message": "boehm.cc (_Jv_GCSetInitialHeapSize): Swapped size & current.\n\n1999-11-05  Jeff Sturm  <jsturm@sigma6.com>\n\n\t* boehm.cc (_Jv_GCSetInitialHeapSize): Swapped size & current.\n\t* prims.cc (parse_heap_size): Use end, not spec.  Use 1024\n\tmultipler for `k'.\n\nFrom-SVN: r30418", "tree": {"sha": "ebda040f8b4643c80197d33f51c2bab7223b79b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ebda040f8b4643c80197d33f51c2bab7223b79b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/comments", "author": null, "committer": null, "parents": [{"sha": "ea638d6c94c1c5accf258a2a6c2358ceeef475f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea638d6c94c1c5accf258a2a6c2358ceeef475f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea638d6c94c1c5accf258a2a6c2358ceeef475f7"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "fc8b4a67c5d6df3984f716eedc367e3b5cae114b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "patch": "@@ -1,3 +1,9 @@\n+1999-11-05  Jeff Sturm  <jsturm@sigma6.com>\n+\n+\t* boehm.cc (_Jv_GCSetInitialHeapSize): Swapped size & current.\n+\t* prims.cc (parse_heap_size): Use end, not spec.  Use 1024\n+\tmultipler for `k'.\n+\n 1999-11-05  Tom Tromey  <tromey@cygnus.com>\n \n \t* java/lang/natThread.cc (stop): Removed argument name."}, {"sha": "2ecad740d9341245156f6c54d7e0bda454f227b2", "filename": "libjava/boehm.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2Fboehm.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2Fboehm.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fboehm.cc?ref=3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "patch": "@@ -375,7 +375,7 @@ _Jv_GCSetInitialHeapSize (size_t size)\n {\n   size_t current = GC_get_heap_size ();\n   if (size > current)\n-    GC_expand_hp (current - size);\n+    GC_expand_hp (size - current);\n }\n \n void"}, {"sha": "6b37d55eb90d1002dab15e743295eed6697a45c0", "filename": "libjava/prims.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2Fprims.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3948f9d08f16115e491d5dc8d08fa7d6fb0f0917/libjava%2Fprims.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fprims.cc?ref=3948f9d08f16115e491d5dc8d08fa7d6fb0f0917", "patch": "@@ -822,10 +822,10 @@ parse_heap_size (const char *spec)\n {\n   char *end;\n   unsigned long val = strtoul (spec, &end, 10);\n-  if (*spec == 'k' || *spec == 'K')\n-    val *= 1000;\n-  else if (*spec == 'm' || *spec == 'M')\n-    val *= 1000000;\n+  if (*end == 'k' || *end == 'K')\n+    val *= 1024;\n+  else if (*end == 'm' || *end == 'M')\n+    val *= 1048576;\n   return (size_t) val;\n }\n "}]}