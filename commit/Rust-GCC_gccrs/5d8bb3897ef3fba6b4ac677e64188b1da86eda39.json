{"sha": "5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ4YmIzODk3ZWYzZmJhNmI0YWM2NzdlNjQxODhiMWRhODZlZGEzOQ==", "commit": {"author": {"name": "Aaron Sawdey", "email": "acsawdey@linux.ibm.com", "date": "2019-10-03T22:19:14Z"}, "committer": {"name": "Aaron Sawdey", "email": "acsawdey@gcc.gnu.org", "date": "2019-10-03T22:19:14Z"}, "message": "expr.c (emit_block_move_hints): Slightly cleaner fix to can_move_by_pieces issue.\n\n2019-10-03  Aaron Sawdey <acsawdey@linux.ibm.com>\n\n\t* expr.c (emit_block_move_hints): Slightly cleaner fix to\n\tcan_move_by_pieces issue.\n\nFrom-SVN: r276542", "tree": {"sha": "ea87672a061ac30a2c681e1b2f85bd376eae93e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea87672a061ac30a2c681e1b2f85bd376eae93e3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d8bb3897ef3fba6b4ac677e64188b1da86eda39/comments", "author": {"login": "acsawdey", "id": 41373646, "node_id": "MDQ6VXNlcjQxMzczNjQ2", "avatar_url": "https://avatars.githubusercontent.com/u/41373646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acsawdey", "html_url": "https://github.com/acsawdey", "followers_url": "https://api.github.com/users/acsawdey/followers", "following_url": "https://api.github.com/users/acsawdey/following{/other_user}", "gists_url": "https://api.github.com/users/acsawdey/gists{/gist_id}", "starred_url": "https://api.github.com/users/acsawdey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acsawdey/subscriptions", "organizations_url": "https://api.github.com/users/acsawdey/orgs", "repos_url": "https://api.github.com/users/acsawdey/repos", "events_url": "https://api.github.com/users/acsawdey/events{/privacy}", "received_events_url": "https://api.github.com/users/acsawdey/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e1cb00db670e4eb277f8315ecc1da65a5477298d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1cb00db670e4eb277f8315ecc1da65a5477298d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1cb00db670e4eb277f8315ecc1da65a5477298d"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "73c45b340f4d0515207951383ffc392623a7cdb9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d8bb3897ef3fba6b4ac677e64188b1da86eda39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d8bb3897ef3fba6b4ac677e64188b1da86eda39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "patch": "@@ -1,3 +1,8 @@\n+2019-10-03  Aaron Sawdey <acsawdey@linux.ibm.com>\n+\n+\t* expr.c (emit_block_move_hints): Slightly cleaner fix to\n+\tcan_move_by_pieces issue.\n+\n 2019-10-03  Iain Sandoe  <iain@sandoe.co.uk>\n \n \tPR target/87243"}, {"sha": "2ee2906b7948b7a94f4920a2e59a09e0e8b9bc2d", "filename": "gcc/expr.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d8bb3897ef3fba6b4ac677e64188b1da86eda39/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d8bb3897ef3fba6b4ac677e64188b1da86eda39/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=5d8bb3897ef3fba6b4ac677e64188b1da86eda39", "patch": "@@ -1624,9 +1624,8 @@ emit_block_move_hints (rtx x, rtx y, rtx size, enum block_op_methods method,\n       set_mem_size (y, const_size);\n     }\n \n-  bool pieces_ok = false;\n-  if (CONST_INT_P (size))\n-    pieces_ok = can_move_by_pieces (INTVAL (size), align);\n+  bool pieces_ok = CONST_INT_P (size)\n+    && can_move_by_pieces (INTVAL (size), align);\n   bool pattern_ok = false;\n \n   if (!pieces_ok || might_overlap)"}]}