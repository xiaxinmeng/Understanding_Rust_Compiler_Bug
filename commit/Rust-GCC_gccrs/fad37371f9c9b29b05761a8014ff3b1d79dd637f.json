{"sha": "fad37371f9c9b29b05761a8014ff3b1d79dd637f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFkMzczNzFmOWM5YjI5YjA1NzYxYTgwMTRmZjNiMWQ3OWRkNjM3Zg==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2003-07-02T20:48:04Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2003-07-02T20:48:04Z"}, "message": "h8300.c (compute_mov_length): Fix the length of loading CONST0_RTX (SFmode).\n\n\t* config/h8300/h8300.c (compute_mov_length): Fix the length of\n\tloading CONST0_RTX (SFmode).\n\t* config/h8300/h8300.h (CONST_DOUBLE_OK_FOR_LETTER_P): Change\n\t'G' to CONST0_RTX (SFmode).\n\t* config/h8300/h8300.md (movsf_h8300): Change the first\n\tconstraint to 'G'.\n\t(movsf_h8300h): Likewise.\n\nFrom-SVN: r68854", "tree": {"sha": "e7fb60ac901a9b7f428eb6c9b8c3a0344b18f7cd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7fb60ac901a9b7f428eb6c9b8c3a0344b18f7cd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fad37371f9c9b29b05761a8014ff3b1d79dd637f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fad37371f9c9b29b05761a8014ff3b1d79dd637f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fad37371f9c9b29b05761a8014ff3b1d79dd637f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fad37371f9c9b29b05761a8014ff3b1d79dd637f/comments", "author": null, "committer": null, "parents": [{"sha": "836d77a9f4d32c9806e6b2e4feae639eb45aa9a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/836d77a9f4d32c9806e6b2e4feae639eb45aa9a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/836d77a9f4d32c9806e6b2e4feae639eb45aa9a9"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "02d673110eb597dc26d66f7f2b15fba1009dc1a9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fad37371f9c9b29b05761a8014ff3b1d79dd637f", "patch": "@@ -1,3 +1,13 @@\n+2003-07-02  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* config/h8300/h8300.c (compute_mov_length): Fix the length of\n+\tloading CONST0_RTX (SFmode).\n+\t* config/h8300/h8300.h (CONST_DOUBLE_OK_FOR_LETTER_P): Change\n+\t'G' to CONST0_RTX (SFmode).\n+\t* config/h8300/h8300.md (movsf_h8300): Change the first\n+\tconstraint to 'G'.\n+\t(movsf_h8300h): Likewise.\n+\n 2003-07-02  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* c-common.h (c_common_init_options): New prototype."}, {"sha": "da0cd3f5b5e2ff734b47acc76e2b6dccbf7cfa14", "filename": "gcc/config/h8300/h8300.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.c?ref=fad37371f9c9b29b05761a8014ff3b1d79dd637f", "patch": "@@ -2010,7 +2010,7 @@ compute_mov_length (rtx *operands)\n \t      if (REG_P (src))\n \t\treturn 2;\n \n-\t      if (src == const0_rtx)\n+\t      if (CONST_DOUBLE_OK_FOR_LETTER_P (src, 'G'))\n \t\treturn 2;\n \t      return 6;\n \t    }"}, {"sha": "ba8dcffdeb191ffcc8b735b9bce3124dd15cb80d", "filename": "gcc/config/h8300/h8300.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.h?ref=fad37371f9c9b29b05761a8014ff3b1d79dd637f", "patch": "@@ -484,7 +484,7 @@ enum reg_class {\n   `G' is a floating-point zero.  */\n \n #define CONST_DOUBLE_OK_FOR_LETTER_P(VALUE, C)\t\\\n-  ((C) == 'G' ? (VALUE) == CONST0_RTX (DFmode)\t\\\n+  ((C) == 'G' ? (VALUE) == CONST0_RTX (SFmode)\t\\\n    : 0)\n \n /* Given an rtx X being reloaded into a reg required to be"}, {"sha": "9a579ec3e2bec0d44a2a44ad303df81f5a5b3916", "filename": "gcc/config/h8300/h8300.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fad37371f9c9b29b05761a8014ff3b1d79dd637f/gcc%2Fconfig%2Fh8300%2Fh8300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.md?ref=fad37371f9c9b29b05761a8014ff3b1d79dd637f", "patch": "@@ -420,7 +420,7 @@\n \n (define_insn \"*movsf_h8300\"\n   [(set (match_operand:SF 0 \"general_operand_dst\" \"=r,r,r,o,<,r\")\n-\t(match_operand:SF 1 \"general_operand_src\" \"I,r,io,r,r,>\"))]\n+\t(match_operand:SF 1 \"general_operand_src\" \"G,r,io,r,r,>\"))]\n   \"TARGET_H8300\n    && (register_operand (operands[0], SFmode)\n        || register_operand (operands[1], SFmode))\"\n@@ -553,7 +553,7 @@\n \n (define_insn \"*movsf_h8300h\"\n   [(set (match_operand:SF 0 \"general_operand_dst\" \"=r,r,r,m,<,r\")\n-\t(match_operand:SF 1 \"general_operand_src\" \"I,r,im,r,r,>\"))]\n+\t(match_operand:SF 1 \"general_operand_src\" \"G,r,im,r,r,>\"))]\n   \"(TARGET_H8300H || TARGET_H8300S)\n    && (register_operand (operands[0], SFmode)\n        || register_operand (operands[1], SFmode))\""}]}