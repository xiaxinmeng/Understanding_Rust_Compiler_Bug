{"sha": "1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYxYjY5ZTU2ZjZiYmM4MmNiZDEzNGRiYmZlMTc0M2M5MmZiMTdkNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-05-26T10:23:23Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-05-26T10:23:23Z"}, "message": "decl.c: (gnat_to_gnu_entity): In ASIS mode, do not check that access types have a set size.\n\n\t* gcc-interface/decl.c: (gnat_to_gnu_entity): In ASIS mode, do not\n\tcheck that access types have a set size.\n\nFrom-SVN: r199343", "tree": {"sha": "ce2e7bd0d880effbe4b021a95660ce50180d3b6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce2e7bd0d880effbe4b021a95660ce50180d3b6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7/comments", "author": null, "committer": null, "parents": [{"sha": "9580628d89a0e31314fcd893297ce550dd2ca0f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9580628d89a0e31314fcd893297ce550dd2ca0f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9580628d89a0e31314fcd893297ce550dd2ca0f8"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "b9d47e2fa1b2ab0c83f13017a50d81654bea7959", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "patch": "@@ -1,3 +1,8 @@\n+2013-05-26  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c: (gnat_to_gnu_entity): In ASIS mode, do not\n+\tcheck that access types have a set size.\n+\n 2013-05-26  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (vinfo_t): New type and associated vector."}, {"sha": "31bdf5b13f8c7838e8681bb0b2695933adeb855b", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=1f1b69e56f6bbc82cbd134dbbfe1743c92fb17d7", "patch": "@@ -311,16 +311,19 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n       return gnu_decl;\n     }\n \n-  /* If this is a numeric or enumeral type, or an access type, a nonzero\n-     Esize must be specified unless it was specified by the programmer.  */\n+  /* If this is a numeric or enumeral type, or an access type, a nonzero Esize\n+     must be specified unless it was specified by the programmer.  Exceptions\n+     are for access-to-protected-subprogram types and all access subtypes, as\n+     another GNAT type is used to lay out the GCC type for them.  */\n   gcc_assert (!Unknown_Esize (gnat_entity)\n \t      || Has_Size_Clause (gnat_entity)\n \t      || (!IN (kind, Numeric_Kind)\n \t\t  && !IN (kind, Enumeration_Kind)\n \t\t  && (!IN (kind, Access_Kind)\n \t\t      || kind == E_Access_Protected_Subprogram_Type\n \t\t      || kind == E_Anonymous_Access_Protected_Subprogram_Type\n-\t\t      || kind == E_Access_Subtype)));\n+\t\t      || kind == E_Access_Subtype\n+\t\t      || type_annotate_only)));\n \n   /* The RM size must be specified for all discrete and fixed-point types.  */\n   gcc_assert (!(IN (kind, Discrete_Or_Fixed_Point_Kind)"}]}