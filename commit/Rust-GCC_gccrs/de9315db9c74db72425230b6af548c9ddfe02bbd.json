{"sha": "de9315db9c74db72425230b6af548c9ddfe02bbd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU5MzE1ZGI5Yzc0ZGI3MjQyNTIzMGI2YWY1NDhjOWRkZmUwMmJiZA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2003-12-08T11:05:59Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-12-08T11:05:59Z"}, "message": "arm.md: New split to transform ((X << y) - 1) into ~(~(X-1) << y) for constant X.\n\n* arm.md: New split to transform ((X << y) - 1) into ~(~(X-1) << y)\nfor constant X.\n\nFrom-SVN: r74417", "tree": {"sha": "99605b68624a6000639c31447dbf9ca1c0184b97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99605b68624a6000639c31447dbf9ca1c0184b97"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de9315db9c74db72425230b6af548c9ddfe02bbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de9315db9c74db72425230b6af548c9ddfe02bbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de9315db9c74db72425230b6af548c9ddfe02bbd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de9315db9c74db72425230b6af548c9ddfe02bbd/comments", "author": null, "committer": null, "parents": [{"sha": "c41affc725d86d77eed0983fa25e5d0984dfaf39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c41affc725d86d77eed0983fa25e5d0984dfaf39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c41affc725d86d77eed0983fa25e5d0984dfaf39"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "a6c33ac22fb1c6d59a13ffd7442e858ab7f65b28", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de9315db9c74db72425230b6af548c9ddfe02bbd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de9315db9c74db72425230b6af548c9ddfe02bbd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de9315db9c74db72425230b6af548c9ddfe02bbd", "patch": "@@ -1,3 +1,8 @@\n+2003-12-08  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.md: New split to transform ((X << y) - 1) into ~(~(X-1) << y)\n+\tfor constant X.\n+\n 2003-12-08  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* calls.c (expand_call): Don't try using tail or recursive calls"}, {"sha": "d5d42589bb6e81a690947c66a71c7e89c01ac4c3", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de9315db9c74db72425230b6af548c9ddfe02bbd/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de9315db9c74db72425230b6af548c9ddfe02bbd/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=de9315db9c74db72425230b6af548c9ddfe02bbd", "patch": "@@ -847,6 +847,20 @@\n    (set_attr \"length\" \"4,8\")]\n )\n \n+; transform ((x << y) - 1) to ~(~(x-1) << y)  Where X is a constant.\n+(define_split\n+  [(set (match_operand:SI 0 \"s_register_operand\" \"\")\n+\t(plus:SI (ashift:SI (match_operand:SI 1 \"const_int_operand\" \"\")\n+\t\t\t    (match_operand:SI 2 \"s_register_operand\" \"\"))\n+\t\t (const_int -1)))\n+   (clobber (match_operand:SI 3 \"s_register_operand\" \"\"))]\n+  \"TARGET_ARM\"\n+  [(set (match_dup 3) (match_dup 1))\n+   (set (match_dup 0) (not:SI (ashift:SI (match_dup 3) (match_dup 2))))]\n+  \"\n+  operands[1] = GEN_INT (~(INTVAL (operands[1]) - 1));\n+\")\n+\n (define_expand \"addsf3\"\n   [(set (match_operand:SF          0 \"s_register_operand\" \"\")\n \t(plus:SF (match_operand:SF 1 \"s_register_operand\" \"\")"}]}