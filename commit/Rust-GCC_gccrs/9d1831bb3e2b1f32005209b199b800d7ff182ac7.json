{"sha": "9d1831bb3e2b1f32005209b199b800d7ff182ac7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQxODMxYmIzZTJiMWYzMjAwNTIwOWIxOTliODAwZDdmZjE4MmFjNw==", "commit": {"author": {"name": "Tristan Gingold", "email": "gingold@adacore.com", "date": "2011-04-21T13:01:26Z"}, "committer": {"name": "Tristan Gingold", "email": "gingold@gcc.gnu.org", "date": "2011-04-21T13:01:26Z"}, "message": "vmsdbgout.c (write_srccorr): Compute file length from the string.\n\n2011-04-21  Tristan Gingold  <gingold@adacore.com>\n\n\t* vmsdbgout.c (write_srccorr): Compute file length from the string.\n\t(dst_file_info_struct): Remove flen field.\n\t(lookup_filename): Remove code that set flen field.\n\nFrom-SVN: r172824", "tree": {"sha": "3a9e1475caf241c79073ac1c39ba8e5c4ac6a3ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a9e1475caf241c79073ac1c39ba8e5c4ac6a3ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d1831bb3e2b1f32005209b199b800d7ff182ac7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d1831bb3e2b1f32005209b199b800d7ff182ac7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d1831bb3e2b1f32005209b199b800d7ff182ac7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d1831bb3e2b1f32005209b199b800d7ff182ac7/comments", "author": {"login": "gingold-adacore", "id": 16334725, "node_id": "MDQ6VXNlcjE2MzM0NzI1", "avatar_url": "https://avatars.githubusercontent.com/u/16334725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gingold-adacore", "html_url": "https://github.com/gingold-adacore", "followers_url": "https://api.github.com/users/gingold-adacore/followers", "following_url": "https://api.github.com/users/gingold-adacore/following{/other_user}", "gists_url": "https://api.github.com/users/gingold-adacore/gists{/gist_id}", "starred_url": "https://api.github.com/users/gingold-adacore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gingold-adacore/subscriptions", "organizations_url": "https://api.github.com/users/gingold-adacore/orgs", "repos_url": "https://api.github.com/users/gingold-adacore/repos", "events_url": "https://api.github.com/users/gingold-adacore/events{/privacy}", "received_events_url": "https://api.github.com/users/gingold-adacore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f199c02942b2353f3fbc16a7dd1d0a79c2f5e3d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f199c02942b2353f3fbc16a7dd1d0a79c2f5e3d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f199c02942b2353f3fbc16a7dd1d0a79c2f5e3d4"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "0484f02c1fa2f99afd5df589d4a875a8d8365c57", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d1831bb3e2b1f32005209b199b800d7ff182ac7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d1831bb3e2b1f32005209b199b800d7ff182ac7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9d1831bb3e2b1f32005209b199b800d7ff182ac7", "patch": "@@ -1,3 +1,9 @@\n+2011-04-21  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* vmsdbgout.c (write_srccorr): Compute file length from the string.\n+\t(dst_file_info_struct): Remove flen field.\n+\t(lookup_filename): Remove code that set flen field.\n+\n 2011-04-21  Tristan Gingold  <gingold@adacore.com>\n \n \t* config/ia64/ia64.c (ia64_start_function): Add a guard."}, {"sha": "1d58d690705adfe8dd12ee86dc6d3c86d0687d8b", "filename": "gcc/vmsdbgout.c", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d1831bb3e2b1f32005209b199b800d7ff182ac7/gcc%2Fvmsdbgout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d1831bb3e2b1f32005209b199b800d7ff182ac7/gcc%2Fvmsdbgout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvmsdbgout.c?ref=9d1831bb3e2b1f32005209b199b800d7ff182ac7", "patch": "@@ -71,7 +71,6 @@ typedef struct dst_file_info_struct\n   long ebk;\n   short ffb;\n   char rfo;\n-  char flen;\n }\n dst_file_info_entry;\n \n@@ -932,7 +931,7 @@ write_srccorr (int fileid, dst_file_info_entry file_info_entry,\n   int src_command_size;\n   int linesleft = file_info_entry.max_line;\n   int linestart = file_info_entry.listing_line_start;\n-  int flen = file_info_entry.flen;\n+  int flen = strlen (file_info_entry.file_name);\n   int linestodo = 0;\n   DST_SOURCE_CORR src_header;\n   DST_SRC_COMMAND src_command;\n@@ -977,7 +976,7 @@ write_srccorr (int fileid, dst_file_info_entry file_info_entry,\n   src_command.dst_a_src_cmd_fields.dst_a_src_decl_src.dst_b_src_df_rms_rfo\n     = file_info_entry.rfo;\n   src_command.dst_a_src_cmd_fields.dst_a_src_decl_src.dst_b_src_df_filename\n-    = file_info_entry.flen;\n+    = flen;\n \n   src_header.dst_a_source_corr_header.dst__header_length.dst_w_length\n     = DST_K_SOURCE_CORR_HEADER_SIZE + src_command_size - 1;\n@@ -1332,7 +1331,6 @@ lookup_filename (const char *file_name)\n   register char *fn;\n   register unsigned i;\n   const char *fnam;\n-  char flen;\n   long long cdt = 0;\n   long ebk = 0;\n   short ffb = 0;\n@@ -1341,7 +1339,6 @@ lookup_filename (const char *file_name)\n   int ver = 0;\n \n   fnam = full_name (file_name);\n-  flen = strlen (fnam);\n \n   /* Check to see if the file name that was searched on the previous call\n      matches this file name. If so, return the index.  */\n@@ -1386,7 +1383,6 @@ lookup_filename (const char *file_name)\n   file_info_table[file_info_table_in_use].ebk = ebk;\n   file_info_table[file_info_table_in_use].ffb = ffb;\n   file_info_table[file_info_table_in_use].rfo = rfo;\n-  file_info_table[file_info_table_in_use].flen = flen;\n \n   last_file_lookup_index = file_info_table_in_use++;\n   return last_file_lookup_index;"}]}