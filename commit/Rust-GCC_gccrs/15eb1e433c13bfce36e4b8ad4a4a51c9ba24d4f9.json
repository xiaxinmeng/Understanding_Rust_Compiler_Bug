{"sha": "15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVlYjFlNDMzYzEzYmZjZTM2ZTRiOGFkNGE0YTUxYzliYTI0ZDRmOQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-01-07T20:52:32Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-01-07T20:52:32Z"}, "message": "decl2.c (coerce_new_type): Downgrade error for size_t mismatch to pedwarn.\n\n        * decl2.c (coerce_new_type): Downgrade error for size_t mismatch\n        to pedwarn.\n\n        * method.c (make_thunk): If !flag_weak, give the thunk the\n        function's linkage.\n        (use_thunk): Here, too.\n\nFrom-SVN: r48613", "tree": {"sha": "6b5ef1607266707a0d0f6ed2997d354976be74da", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b5ef1607266707a0d0f6ed2997d354976be74da"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/comments", "author": null, "committer": null, "parents": [{"sha": "20e267130303233419490f5e849367e7cf6a5974", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20e267130303233419490f5e849367e7cf6a5974", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20e267130303233419490f5e849367e7cf6a5974"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "035408e0177c08152c0dc71f1d3382510f2ff50e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "patch": "@@ -1,3 +1,12 @@\n+2002-01-07  Jason Merrill  <jason@redhat.com>\n+\n+\t* decl2.c (coerce_new_type): Downgrade error for size_t mismatch\n+\tto pedwarn.\n+\n+\t* method.c (make_thunk): If !flag_weak, give the thunk the\n+\tfunction's linkage.\n+\t(use_thunk): Here, too.\n+\n 2002-01-07  Graham Stott  <grahams@redhat.com>\n \n         * error.c: Update copyright date.\n@@ -221,7 +230,7 @@\n \n 2002-01-05  Richard Henderson  <rth@redhat.com>\n \n-        * semantics.c (expand_body): Revert last change.\n+\t* semantics.c (expand_body): Revert last change.\n \n 2002-01-04  Jason Merrill  <jason@redhat.com>\n "}, {"sha": "efc1abd2be488056769a13861deb061cefb5b14a", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "patch": "@@ -2064,7 +2064,7 @@ coerce_new_type (type)\n       e = 2;\n       if (args && args != void_list_node)\n         args = TREE_CHAIN (args);\n-      error (\"`operator new' takes type `size_t' (`%T') as first parameter\", c_size_type_node);\n+      pedwarn (\"`operator new' takes type `size_t' (`%T') as first parameter\", c_size_type_node);\n     }\n   switch (e)\n   {"}, {"sha": "288b897c4b71ae17f4e8cd9f18899dcf1fb25ed7", "filename": "gcc/cp/method.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=15eb1e433c13bfce36e4b8ad4a4a51c9ba24d4f9", "patch": "@@ -338,7 +338,9 @@ make_thunk (function, delta, vcall_index)\n       DECL_CONTEXT (thunk) = DECL_CONTEXT (func_decl);\n       TREE_READONLY (thunk) = TREE_READONLY (func_decl);\n       TREE_THIS_VOLATILE (thunk) = TREE_THIS_VOLATILE (func_decl);\n-      comdat_linkage (thunk);\n+      TREE_PUBLIC (thunk) = TREE_PUBLIC (func_decl);\n+      if (flag_weak)\n+\tcomdat_linkage (thunk);\n       SET_DECL_THUNK_P (thunk);\n       DECL_INITIAL (thunk) = function;\n       THUNK_DELTA (thunk) = d;\n@@ -409,6 +411,9 @@ use_thunk (thunk_fndecl, emit_p)\n   mark_used (thunk_fndecl);\n   /* This thunk is actually defined.  */\n   DECL_EXTERNAL (thunk_fndecl) = 0;\n+  /* The linkage of the function may have changed.  FIXME in linkage\n+     rewrite.  */\n+  TREE_PUBLIC (thunk_fndecl) = TREE_PUBLIC (function);\n \n   if (flag_syntax_only)\n     {"}]}