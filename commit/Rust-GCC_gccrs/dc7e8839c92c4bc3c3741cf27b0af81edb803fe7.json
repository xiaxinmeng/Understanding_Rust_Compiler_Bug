{"sha": "dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGM3ZTg4MzljOTJjNGJjM2MzNzQxY2YyN2IwYWY4MWVkYjgwM2ZlNw==", "commit": {"author": {"name": "Cui,Lili", "email": "lili.cui@intel.com", "date": "2020-11-04T06:20:31Z"}, "committer": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2020-11-09T09:26:06Z"}, "message": "Enable MOVDIRI, MOVDIR64B, CLDEMOTE and WAITPKG for march=tremont\n\n1. Enable MOVDIRI, MOVDIR64B, CLDEMOTE and WAITPKG for march=tremont\n2. Move PREFETCHW from march=broadwell to march=silvermont.\n3. Add PREFETCHWT1 to march=knl\n\ngcc/ChangeLog:\n\n2020-11-09  Lili Cui  <lili.cui@intel.com>\n\n\tPR target/97685\n\t* config/i386/i386.h:\n\t(PTA_BROADWELL): Delete PTA_PRFCHW.\n\t(PTA_SILVERMONT): Add PTA_PRFCHW.\n\t(PTA_KNL): Add PTA_PREFETCHWT1.\n\t(PTA_TREMONT): Add PTA_MOVDIRI, PTA_MOVDIR64B, PTA_CLDEMOTE and PTA_WAITPKG.\n\t* doc/invoke.texi: Delete PREFETCHW for broadwell, skylake, knl, knm,\n\tskylake-avx512, cannonlake, icelake-client, icelake-server, cascadelake,\n\tcooperlake, tigerlake and sapphirerapids.\n\tAdd PREFETCHW for silvermont, goldmont, goldmont-plus and tremont.\n\tAdd XSAVEC and XSAVES for goldmont, goldmont-plus and tremont.\n\tAdd MOVDIRI, MOVDIR64B, CLDEMOTE and WAITPKG for tremont.\n\tAdd KEYLOCKER and HREST for alderlake.\n\tAdd AMX-BF16, AMX-TILE, AMX-INT8 and UINTR for sapphirerapids.\n\tAdd KEYLOCKER for tigerlake.", "tree": {"sha": "a700e491347b5c54e5b592983a002a3e83498e45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a700e491347b5c54e5b592983a002a3e83498e45"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7/comments", "author": {"login": "cuilili8868", "id": 54013017, "node_id": "MDQ6VXNlcjU0MDEzMDE3", "avatar_url": "https://avatars.githubusercontent.com/u/54013017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuilili8868", "html_url": "https://github.com/cuilili8868", "followers_url": "https://api.github.com/users/cuilili8868/followers", "following_url": "https://api.github.com/users/cuilili8868/following{/other_user}", "gists_url": "https://api.github.com/users/cuilili8868/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuilili8868/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuilili8868/subscriptions", "organizations_url": "https://api.github.com/users/cuilili8868/orgs", "repos_url": "https://api.github.com/users/cuilili8868/repos", "events_url": "https://api.github.com/users/cuilili8868/events{/privacy}", "received_events_url": "https://api.github.com/users/cuilili8868/received_events", "type": "User", "site_admin": false}, "committer": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "946b73c1132a7b6e0fb05ac9ef79f0a72858ce65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/946b73c1132a7b6e0fb05ac9ef79f0a72858ce65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/946b73c1132a7b6e0fb05ac9ef79f0a72858ce65"}], "stats": {"total": 69, "additions": 35, "deletions": 34}, "files": [{"sha": "5e01fe6b84192bb1589de92a2fe048fae4d47eeb", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "patch": "@@ -2515,8 +2515,7 @@ const wide_int_bitmask PTA_IVYBRIDGE = PTA_SANDYBRIDGE | PTA_FSGSBASE\n   | PTA_RDRND | PTA_F16C;\n const wide_int_bitmask PTA_HASWELL = PTA_IVYBRIDGE | PTA_AVX2 | PTA_BMI\n   | PTA_BMI2 | PTA_LZCNT | PTA_FMA | PTA_MOVBE | PTA_HLE;\n-const wide_int_bitmask PTA_BROADWELL = PTA_HASWELL | PTA_ADX | PTA_PRFCHW\n-  | PTA_RDSEED;\n+const wide_int_bitmask PTA_BROADWELL = PTA_HASWELL | PTA_ADX | PTA_RDSEED;\n const wide_int_bitmask PTA_SKYLAKE = PTA_BROADWELL | PTA_AES | PTA_CLFLUSHOPT\n   | PTA_XSAVEC | PTA_XSAVES | PTA_SGX;\n const wide_int_bitmask PTA_SKYLAKE_AVX512 = PTA_SKYLAKE | PTA_AVX512F\n@@ -2541,16 +2540,17 @@ const wide_int_bitmask PTA_SAPPHIRERAPIDS = PTA_COOPERLAKE | PTA_MOVDIRI\n const wide_int_bitmask PTA_ALDERLAKE = PTA_SKYLAKE | PTA_CLDEMOTE | PTA_PTWRITE\n   | PTA_WAITPKG | PTA_SERIALIZE | PTA_HRESET | PTA_KL | PTA_WIDEKL;\n const wide_int_bitmask PTA_KNL = PTA_BROADWELL | PTA_AVX512PF | PTA_AVX512ER\n-  | PTA_AVX512F | PTA_AVX512CD;\n+  | PTA_AVX512F | PTA_AVX512CD | PTA_PREFETCHWT1;\n const wide_int_bitmask PTA_BONNELL = PTA_CORE2 | PTA_MOVBE;\n-const wide_int_bitmask PTA_SILVERMONT = PTA_WESTMERE | PTA_MOVBE | PTA_RDRND;\n+const wide_int_bitmask PTA_SILVERMONT = PTA_WESTMERE | PTA_MOVBE | PTA_RDRND\n+  | PTA_PRFCHW;\n const wide_int_bitmask PTA_GOLDMONT = PTA_SILVERMONT | PTA_AES | PTA_SHA | PTA_XSAVE\n   | PTA_RDSEED | PTA_XSAVEC | PTA_XSAVES | PTA_CLFLUSHOPT | PTA_XSAVEOPT\n   | PTA_FSGSBASE;\n const wide_int_bitmask PTA_GOLDMONT_PLUS = PTA_GOLDMONT | PTA_RDPID\n   | PTA_SGX | PTA_PTWRITE;\n const wide_int_bitmask PTA_TREMONT = PTA_GOLDMONT_PLUS | PTA_CLWB\n-  | PTA_GFNI;\n+  | PTA_GFNI | PTA_MOVDIRI | PTA_MOVDIR64B | PTA_CLDEMOTE | PTA_WAITPKG;\n const wide_int_bitmask PTA_KNM = PTA_KNL | PTA_AVX5124VNNIW\n   | PTA_AVX5124FMAPS | PTA_AVX512VPOPCNTDQ;\n "}, {"sha": "d01beb248e1ca75b1e5c2ae1e1c8eae50ccdfa4e", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 30, "deletions": 29, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc7e8839c92c4bc3c3741cf27b0af81edb803fe7/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=dc7e8839c92c4bc3c3741cf27b0af81edb803fe7", "patch": "@@ -29528,75 +29528,76 @@ BMI, BMI2 and F16C instruction set support.\n \n @item broadwell\n Intel Broadwell CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n-SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA,\n-BMI, BMI2, F16C, RDSEED, ADCX and PREFETCHW instruction set support.\n+SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, BMI, BMI2,\n+F16C, RDSEED and ADCX instruction set support.\n \n @item skylake\n Intel Skylake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA,\n-BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC and\n-XSAVES instruction set support.\n+BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC and XSAVES instruction set\n+support.\n \n @item bonnell\n Intel Bonnell CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3 and SSSE3\n instruction set support.\n \n @item silvermont\n Intel Silvermont CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n-SSE4.1, SSE4.2, POPCNT, AES, PCLMUL and RDRND instruction set support.\n+SSE4.1, SSE4.2, POPCNT, AES, PREFETCHW, PCLMUL and RDRND instruction set support.\n \n @item goldmont\n Intel Goldmont CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n-SSE4.1, SSE4.2, POPCNT, AES, PCLMUL, RDRND, XSAVE, XSAVEOPT and FSGSBASE\n-instruction set support.\n+SSE4.1, SSE4.2, POPCNT, AES, PREFETCHW, PCLMUL, RDRND, XSAVE, XSAVEC, XSAVES,\n+XSAVEOPT and FSGSBASE instruction set support.\n \n @item goldmont-plus\n Intel Goldmont Plus CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n-SSSE3, SSE4.1, SSE4.2, POPCNT, AES, PCLMUL, RDRND, XSAVE, XSAVEOPT, FSGSBASE,\n-PTWRITE, RDPID, SGX and UMIP instruction set support.\n+SSSE3, SSE4.1, SSE4.2, POPCNT, AES, PREFETCHW, PCLMUL, RDRND, XSAVE, XSAVEC,\n+XSAVES, XSAVEOPT, FSGSBASE, PTWRITE, RDPID, SGX and UMIP instruction set support.\n \n @item tremont\n Intel Tremont CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n-SSE4.1, SSE4.2, POPCNT, AES, PCLMUL, RDRND, XSAVE, XSAVEOPT, FSGSBASE, PTWRITE,\n-RDPID, SGX, UMIP, GFNI-SSE, CLWB and ENCLV instruction set support.\n+SSE4.1, SSE4.2, POPCNT, AES, PREFETCHW, PCLMUL, RDRND, XSAVE, XSAVEC, XSAVES,\n+XSAVEOPT, FSGSBASE, PTWRITE, RDPID, SGX, UMIP, GFNI-SSE, CLWB, MOVDIRI,\n+MOVDIR64B, CLDEMOTE and WAITPKG instruction set support.\n \n @item knl\n Intel Knight's Landing CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n SSSE3, SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA,\n-BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, AVX512F, AVX512PF, AVX512ER and\n+BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHWT1, AVX512F, AVX512PF, AVX512ER and\n AVX512CD instruction set support.\n \n @item knm\n Intel Knights Mill CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n SSSE3, SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA,\n-BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, AVX512F, AVX512PF, AVX512ER, AVX512CD,\n+BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHWT1, AVX512F, AVX512PF, AVX512ER, AVX512CD,\n AVX5124VNNIW, AVX5124FMAPS and AVX512VPOPCNTDQ instruction set support.\n \n @item skylake-avx512\n Intel Skylake Server CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n SSSE3, SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA,\n-BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F,\n+BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F,\n CLWB, AVX512VL, AVX512BW, AVX512DQ and AVX512CD instruction set support.\n \n @item cannonlake\n Intel Cannonlake Server CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2,\n SSE3, SSSE3, SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE,\n-RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC,\n+RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC,\n XSAVES, AVX512F, AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VBMI,\n AVX512IFMA, SHA and UMIP instruction set support.\n \n @item icelake-client\n Intel Icelake Client CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2,\n SSE3, SSSE3, SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE,\n-RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC,\n+RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC,\n XSAVES, AVX512F, AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VBMI,\n AVX512IFMA, SHA, CLWB, UMIP, RDPID, GFNI, AVX512VBMI2, AVX512VPOPCNTDQ,\n AVX512BITALG, AVX512VNNI, VPCLMULQDQ, VAES instruction set support.\n \n @item icelake-server\n Intel Icelake Server CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2,\n SSE3, SSSE3, SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE,\n-RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC,\n+RDRND, FMA, BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC,\n XSAVES, AVX512F, AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VBMI,\n AVX512IFMA, SHA, CLWB, UMIP, RDPID, GFNI, AVX512VBMI2, AVX512VPOPCNTDQ,\n AVX512BITALG, AVX512VNNI, VPCLMULQDQ, VAES, PCONFIG and WBNOINVD instruction\n@@ -29605,37 +29606,37 @@ set support.\n @item cascadelake\n Intel Cascadelake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, BMI,\n-BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, CLWB,\n+BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, CLWB,\n AVX512VL, AVX512BW, AVX512DQ, AVX512CD and AVX512VNNI instruction set support.\n \n @item cooperlake\n Intel cooperlake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, BMI,\n-BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, CLWB,\n+BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, CLWB,\n AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VNNI and AVX512BF16 instruction\n set support.\n \n @item tigerlake\n Intel Tigerlake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, BMI,\n-BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F,\n-AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VBMI, AVX512IFMA, SHA, CLWB, UMIP,\n-RDPID, GFNI, AVX512VBMI2, AVX512VPOPCNTDQ, AVX512BITALG, AVX512VNNI, VPCLMULQDQ,\n-VAES, PCONFIG, WBNOINVD, MOVDIRI, MOVDIR64B and  AVX512VP2INTERSECT instruction\n-set support.\n+BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, AVX512VL,\n+AVX512BW, AVX512DQ, AVX512CD, AVX512VBMI, AVX512IFMA, SHA, CLWB, UMIP, RDPID,\n+GFNI, AVX512VBMI2, AVX512VPOPCNTDQ, AVX512BITALG, AVX512VNNI, VPCLMULQDQ, VAES,\n+PCONFIG, WBNOINVD, MOVDIRI, MOVDIR64B, AVX512VP2INTERSECT and KEYLOCKER\n+instruction set support.\n \n @item sapphirerapids\n Intel sapphirerapids CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3,\n SSSE3, SSE4.1, SSE4.2, POPCNT, PKU, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND,\n-FMA, BMI, BMI2, F16C, RDSEED, ADCX, PREFETCHW, CLFLUSHOPT, XSAVEC, XSAVES,\n-AVX512F, CLWB, AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VNNI, AVX512BF16,\n-MOVDIRI, MOVDIR64B, AVX512VP2INTERSECT, ENQCMD, CLDEMOTE, PTWRITE, WAITPKG,\n-SERIALIZE and TSXLDTRK instruction set support.\n+FMA, BMI, BMI2, F16C, RDSEED, ADCX, CLFLUSHOPT, XSAVEC, XSAVES, AVX512F, CLWB,\n+AVX512VL, AVX512BW, AVX512DQ, AVX512CD, AVX512VNNI, AVX512BF16, MOVDIRI,\n+MOVDIR64B, AVX512VP2INTERSECT, ENQCMD, CLDEMOTE, PTWRITE, WAITPKG, SERIALIZE,\n+TSXLDTRK, UINTR, AMX-BF16, AMX-TILE and AMX-INT8 instruction set support.\n \n @item alderlake\n Intel Alderlake CPU with 64-bit extensions, MOVBE, MMX, SSE, SSE2, SSE3, SSSE3,\n SSE4.1, SSE4.2, POPCNT, AVX, AVX2, AES, PCLMUL, FSGSBASE, RDRND, FMA, CLDEMOTE,\n-PTWRITE, WAITPKG and SERIALIZE instruction set support.\n+PTWRITE, WAITPKG, SERIALIZE, KEYLOCKER and HRESET instruction set support.\n \n @item k6\n AMD K6 CPU with MMX instruction set support."}]}