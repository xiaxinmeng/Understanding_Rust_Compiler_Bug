{"sha": "58a644cfdee53275e3d07eff0c2126dc88b87aef", "node_id": "C_kwDOANBUbNoAKDU4YTY0NGNmZGVlNTMyNzVlM2QwN2VmZjBjMjEyNmRjODhiODdhZWY", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-08-05T14:17:20Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2022-08-05T14:17:57Z"}, "message": "libstdc++: Add feature test macro for <experimental/scope>\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/experimental/scope (__cpp_lib_experimental_scope):\n\tDefine.\n\t* testsuite/experimental/scopeguard/uniqueres.cc: Check macro.", "tree": {"sha": "febdbcad251ba580c2f63b20dc894d7868e2af4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/febdbcad251ba580c2f63b20dc894d7868e2af4f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58a644cfdee53275e3d07eff0c2126dc88b87aef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58a644cfdee53275e3d07eff0c2126dc88b87aef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58a644cfdee53275e3d07eff0c2126dc88b87aef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58a644cfdee53275e3d07eff0c2126dc88b87aef/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "29fc5075d7e1dd018599fc391eea4259ef5e4b6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29fc5075d7e1dd018599fc391eea4259ef5e4b6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29fc5075d7e1dd018599fc391eea4259ef5e4b6c"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "208fadc513e4e381024ff664e2d0be675071ae08", "filename": "libstdc++-v3/include/experimental/scope", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58a644cfdee53275e3d07eff0c2126dc88b87aef/libstdc%2B%2B-v3%2Finclude%2Fexperimental%2Fscope", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58a644cfdee53275e3d07eff0c2126dc88b87aef/libstdc%2B%2B-v3%2Finclude%2Fexperimental%2Fscope", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fexperimental%2Fscope?ref=58a644cfdee53275e3d07eff0c2126dc88b87aef", "patch": "@@ -43,6 +43,8 @@ namespace std _GLIBCXX_VISIBILITY(default)\n _GLIBCXX_BEGIN_NAMESPACE_VERSION\n namespace experimental::inline fundamentals_v3\n {\n+#define __cpp_lib_experimental_scope 201902\n+\n   template<typename _Tp, typename _Up>\n     concept __not_same_as = !same_as<_Tp, _Up>;\n "}, {"sha": "fe9d6ee7cfc6062e0da03a4971d744a277421ced", "filename": "libstdc++-v3/testsuite/experimental/scopeguard/uniqueres.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58a644cfdee53275e3d07eff0c2126dc88b87aef/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fscopeguard%2Funiqueres.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58a644cfdee53275e3d07eff0c2126dc88b87aef/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fscopeguard%2Funiqueres.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fexperimental%2Fscopeguard%2Funiqueres.cc?ref=58a644cfdee53275e3d07eff0c2126dc88b87aef", "patch": "@@ -4,6 +4,12 @@\n #include <experimental/scope>\n #include <testsuite_hooks.h>\n \n+#ifndef __cpp_lib_experimental_scope\n+# error Feature-test macro is not defined.\n+#elif __cpp_lib_experimental_scope < 201902\n+# error Feature-test macro has bad value.\n+#endif\n+\n using std::experimental::unique_resource;\n \n void"}]}