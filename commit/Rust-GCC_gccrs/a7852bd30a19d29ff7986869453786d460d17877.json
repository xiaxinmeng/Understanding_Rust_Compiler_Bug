{"sha": "a7852bd30a19d29ff7986869453786d460d17877", "node_id": "C_kwDOANBUbNoAKGE3ODUyYmQzMGExOWQyOWZmNzk4Njg2OTQ1Mzc4NmQ0NjBkMTc4Nzc", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-09-08T10:29:32Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-09-08T10:44:52Z"}, "message": "d: Include tm.h in all D target platform sources, remove memmodel.h\n\nThe tm.h header would pull in config/elfos.h, which defines\nTARGET_D_MINFO_SECTION needed for the D module support in the front-end\nto emit data to the correct section for the run-time library to pick up.\n\nThe removal of it in r13-2385 caused a stage2 bootstrap failure on all\nSolaris targets.\n\nThe memmodel header has also been removed as it is no longer required\nnow tm_p.h is no longer used by these sources.\n\ngcc/ChangeLog:\n\n\t* config/darwin-d.cc: Include tm.h.\n\t* config/dragonfly-d.cc: Likewise.\n\t* config/freebsd-d.cc: Remove memmodel.h.\n\t* config/glibc-d.cc: Likewise.\n\t* config/netbsd-d.cc: Include tm.h.\n\t* config/openbsd-d.cc: Likewise.\n\t* config/sol2-d.cc: Likewise.", "tree": {"sha": "ad6f454d79856b40ab2b676b77d9a12f375b9c49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad6f454d79856b40ab2b676b77d9a12f375b9c49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7852bd30a19d29ff7986869453786d460d17877", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7852bd30a19d29ff7986869453786d460d17877", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7852bd30a19d29ff7986869453786d460d17877", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7852bd30a19d29ff7986869453786d460d17877/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c3fb6658c7670e446f2fd00984404d971e416b3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3fb6658c7670e446f2fd00984404d971e416b3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3fb6658c7670e446f2fd00984404d971e416b3c"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "2ceebc49851467433897cdade397295f44b66c61", "filename": "gcc/config/darwin-d.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fdarwin-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fdarwin-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -18,6 +18,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}, {"sha": "881c5e60b9a1a3ec756114166cf45dace97b4356", "filename": "gcc/config/dragonfly-d.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fdragonfly-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fdragonfly-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdragonfly-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -18,6 +18,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}, {"sha": "c795ca2978cbf3be8ac63ac0a74c34119271570f", "filename": "gcc/config/freebsd-d.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Ffreebsd-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Ffreebsd-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffreebsd-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -18,7 +18,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n-#include \"memmodel.h\"\n #include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\""}, {"sha": "1411f1973e548045fc7da898cf5a1ed2626f68db", "filename": "gcc/config/glibc-d.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fglibc-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fglibc-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fglibc-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -19,7 +19,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"system.h\"\n #include \"coretypes.h\"\n #include \"tm.h\"\n-#include \"memmodel.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}, {"sha": "dbabae7ab71f5bd99c7fb97976e7cdd04ad7c9c7", "filename": "gcc/config/netbsd-d.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fnetbsd-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fnetbsd-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -20,6 +20,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}, {"sha": "bb3a3f28f6d9d1aa5d07b7b5a670257df868548b", "filename": "gcc/config/openbsd-d.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fopenbsd-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fopenbsd-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fopenbsd-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -20,6 +20,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}, {"sha": "cecb49cc8269f7d14204ebcb72d5a8b2cd3a5bc6", "filename": "gcc/config/sol2-d.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fsol2-d.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7852bd30a19d29ff7986869453786d460d17877/gcc%2Fconfig%2Fsol2-d.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsol2-d.cc?ref=a7852bd30a19d29ff7986869453786d460d17877", "patch": "@@ -18,6 +18,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"config.h\"\n #include \"system.h\"\n #include \"coretypes.h\"\n+#include \"tm.h\"\n #include \"tm_d.h\"\n #include \"d/d-target.h\"\n #include \"d/d-target-def.h\""}]}