{"sha": "07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdiNzBkZmM0ZWFiNzg2OWU3YTQzYjNmZjViOGI1MTJkYmEwYmI2ZQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-02T22:55:18Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-03T14:30:17Z"}, "message": "libstdc++: Add testsuite proc for testing deprecated features\n\nThis change adds options to tests that explicitly use deprecated\nfeatures, so that -D_GLIBCXX_USE_DEPRECATED=0 can be used to run the\nrest of the testsuite. The tests that explicitly/intentionally use\ndeprecated features will still be able to use them, but they can be\ndisabled for the majority of tests.\n\nSigned-off-by: Jonathan Wakely <jwakely@redhat.com>\n\nlibstdc++-v3/ChangeLog:\n\n\t* testsuite/23_containers/forward_list/operations/3.cc:\n\tUse lambda instead of std::bind2nd.\n\t* testsuite/20_util/function_objects/binders/3113.cc: Add\n\toptions for testing deprecated features.\n\t* testsuite/20_util/pair/cons/99957.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/assign/auto_ptr.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/assign/auto_ptr_neg.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/assign/auto_ptr_rvalue.cc:\n\tLikewise.\n\t* testsuite/20_util/shared_ptr/cons/43820_neg.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/cons/auto_ptr.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/cons/auto_ptr_neg.cc: Likewise.\n\t* testsuite/20_util/shared_ptr/creation/dr925.cc: Likewise.\n\t* testsuite/20_util/unique_ptr/cons/auto_ptr.cc: Likewise.\n\t* testsuite/20_util/unique_ptr/cons/auto_ptr_neg.cc: Likewise.\n\t* testsuite/ext/pb_ds/example/priority_queue_erase_if.cc:\n\tLikewise.\n\t* testsuite/ext/pb_ds/example/priority_queue_split_join.cc:\n\tLikewise.\n\t* testsuite/lib/dg-options.exp (dg_add_options_using-deprecated):\n\tNew proc.", "tree": {"sha": "d5e6e0f4c4e04458173ad6ff42c87fd4370dc202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5e6e0f4c4e04458173ad6ff42c87fd4370dc202"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e9f64fff64d83f5fcaa9ff17f1688490f75bdcb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9f64fff64d83f5fcaa9ff17f1688490f75bdcb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9f64fff64d83f5fcaa9ff17f1688490f75bdcb7"}], "stats": {"total": 29, "additions": 24, "deletions": 5}, "files": [{"sha": "0b671ae4a0ea3ae4f726b40a1f308c243418db41", "filename": "libstdc++-v3/testsuite/20_util/function_objects/binders/3113.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction_objects%2Fbinders%2F3113.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction_objects%2Fbinders%2F3113.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction_objects%2Fbinders%2F3113.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -17,6 +17,8 @@\n // with this library; see the file COPYING3.  If not see\n // <http://www.gnu.org/licenses/>.\n \n+// { dg-add-options using-deprecated }\n+\n // 20.3.6 Binders\n \n #include <vector>"}, {"sha": "82ec54ca1d819fa096e9b5077e3a71ed3cbe1a3f", "filename": "libstdc++-v3/testsuite/20_util/pair/cons/99957.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fcons%2F99957.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fcons%2F99957.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fpair%2Fcons%2F99957.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wdeprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target { c++11 && { ! c++20 } } } }\n \n #include <utility>"}, {"sha": "82750dca9a967d0cce7fd28b4893f522b4264b5b", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/assign/auto_ptr.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do run { target c++11 } }\n \n // Copyright (C) 2005-2021 Free Software Foundation, Inc."}, {"sha": "32af6001366f98de7c303c2733e877df90382c34", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/assign/auto_ptr_neg.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_neg.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target c++11 } }\n \n // Copyright (C) 2005-2021 Free Software Foundation, Inc."}, {"sha": "2f6e4db18d9840e2e3c470c00eddcde1b1ba8611", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/assign/auto_ptr_rvalue.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_rvalue.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_rvalue.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fassign%2Fauto_ptr_rvalue.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target c++11 } }\n \n // Copyright (C) 2008-2021 Free Software Foundation, Inc."}, {"sha": "3131dd3710cbb935d18d8cda77f244d806034dfe", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/cons/43820_neg.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2F43820_neg.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target c++11 } }\n \n // Copyright (C) 2010-2021 Free Software Foundation, Inc."}, {"sha": "130861394a9066df4796e9b5db64da1da2bb71d3", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/cons/auto_ptr.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do run { target c++11 } }\n \n // Copyright (C) 2005-2021 Free Software Foundation, Inc."}, {"sha": "67d64c674436b33a69120dc8f38aff42f6f3f513", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/cons/auto_ptr_neg.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcons%2Fauto_ptr_neg.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target c++11 } }\n \n // Copyright (C) 2005-2021 Free Software Foundation, Inc."}, {"sha": "87e89375d28aa73e83a18b313ca57ff87147403e", "filename": "libstdc++-v3/testsuite/20_util/shared_ptr/creation/dr925.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcreation%2Fdr925.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcreation%2Fdr925.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fshared_ptr%2Fcreation%2Fdr925.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do run { target c++11 } }\n \n // Copyright (C) 2010-2021 Free Software Foundation, Inc."}, {"sha": "8c25b56d88928668c6989236d545b4b40f841312", "filename": "libstdc++-v3/testsuite/20_util/unique_ptr/cons/auto_ptr.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do run { target c++11 } }\n \n // Copyright (C) 2010-2021 Free Software Foundation, Inc.\n@@ -25,7 +26,7 @@\n \n struct A { };\n \n-// 20.9.10.2.1 unique_ptr constructors [unique.ptr.single.ctor] \n+// 20.9.10.2.1 unique_ptr constructors [unique.ptr.single.ctor]\n \n // Construction from auto_ptr\n void"}, {"sha": "b9eb0b20d582d045b5eddbaf681ce710b80ae1df", "filename": "libstdc++-v3/testsuite/20_util/unique_ptr/cons/auto_ptr_neg.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Funique_ptr%2Fcons%2Fauto_ptr_neg.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -1,4 +1,5 @@\n // { dg-options \"-Wno-deprecated\" }\n+// { dg-add-options using-deprecated }\n // { dg-do compile { target c++11 } }\n \n // Copyright (C) 2010-2021 Free Software Foundation, Inc.\n@@ -24,7 +25,7 @@\n \n struct A { };\n \n-// 20.9.10.2.1 unique_ptr constructors [unique.ptr.single.ctor] \n+// 20.9.10.2.1 unique_ptr constructors [unique.ptr.single.ctor]\n \n // Construction from const auto_ptr\n void"}, {"sha": "37733122d71798f863932b53ce3edcc550c0ef0a", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/operations/3.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Foperations%2F3.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Foperations%2F3.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Foperations%2F3.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -22,16 +22,14 @@\n #include <forward_list>\n #include <testsuite_hooks.h>\n \n-#include <algorithm>\n-\n // This test verifies the following:\n //   remove_if\n void\n test01()\n {\n   std::forward_list<int> fl ={0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n \n-  fl.remove_if(std::bind2nd(std::less<int>(),5));\n+  fl.remove_if([](int i) { return i < 5; });\n \n   std::forward_list<int>::const_iterator pos = fl.cbegin();\n   VERIFY(*pos == 5);"}, {"sha": "d72526e0078469e760b0944967ab06e6a9d1a4b5", "filename": "libstdc++-v3/testsuite/ext/pb_ds/example/priority_queue_erase_if.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_erase_if.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_erase_if.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_erase_if.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -29,6 +29,8 @@\n // purpose. It is provided \"as is\" without express or implied\n // warranty.\n \n+// { dg-add-options using-deprecated }\n+\n /**\n  * @file priority_queue_erase_if.cpp\n  * Example showing how to conditionally erase values from a priority queue."}, {"sha": "986f032c8ab13723aa498baacff3c7be7aa353c6", "filename": "libstdc++-v3/testsuite/ext/pb_ds/example/priority_queue_split_join.cc", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_split_join.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_split_join.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fext%2Fpb_ds%2Fexample%2Fpriority_queue_split_join.cc?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -29,6 +29,8 @@\n // purpose. It is provided \"as is\" without express or implied\n // warranty.\n \n+// { dg-add-options using-deprecated }\n+\n /**\n  * @file priority_queue_split_join_example.cpp\n  * A basic example showing how to split and join priority queues."}, {"sha": "79fa23aba9a106870d13a4bedd8e708b409fd364", "filename": "libstdc++-v3/testsuite/lib/dg-options.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Fdg-options.exp?ref=07b70dfc4eab7869e7a43b3ff5b8b512dba0bb6e", "patch": "@@ -316,6 +316,11 @@ proc add_options_for_libatomic { flags } {\n     return $flags\n }\n \n+# Add options to enable use of deprecated features.\n+proc add_options_for_using-deprecated { flags } {\n+    return \"$flags -U_GLIBCXX_USE_DEPRECATED -D_GLIBCXX_USE_DEPRECATED=1\"\n+}\n+\n # Like dg-options, but adds to the default options rather than replacing them.\n \n proc dg-additional-options { args } {"}]}