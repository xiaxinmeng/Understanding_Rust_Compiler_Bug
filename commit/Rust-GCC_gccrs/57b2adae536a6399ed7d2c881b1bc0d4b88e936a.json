{"sha": "57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "node_id": "C_kwDOANBUbNoAKDU3YjJhZGFlNTM2YTYzOTllZDdkMmM4ODFiMWJjMGQ0Yjg4ZTkzNmE", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-06-15T11:20:15Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2022-06-15T11:42:28Z"}, "message": "d: Set TYPE_ARTIFICIAL on internal TypeInfo types\n\nPrevents them from triggering warnings when compiling with `-Wpadded'.\n\ngcc/d/ChangeLog:\n\n\t* typeinfo.cc (make_internal_typeinfo): Set TYPE_ARTIFICIAL.\n\ngcc/testsuite/ChangeLog:\n\n\t* gdc.dg/Wpadded.d: New test.", "tree": {"sha": "a48a77532561a8f53174c7090c71f519cd231fd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a48a77532561a8f53174c7090c71f519cd231fd7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57b2adae536a6399ed7d2c881b1bc0d4b88e936a/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8c2733e16ec1c0cdda3db4cdc5ad158a96a658e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c2733e16ec1c0cdda3db4cdc5ad158a96a658e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c2733e16ec1c0cdda3db4cdc5ad158a96a658e8"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "1f8afdd2c747fc23fd51bd1001a4abc5ed76ef0a", "filename": "gcc/d/typeinfo.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57b2adae536a6399ed7d2c881b1bc0d4b88e936a/gcc%2Fd%2Ftypeinfo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57b2adae536a6399ed7d2c881b1bc0d4b88e936a/gcc%2Fd%2Ftypeinfo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Ftypeinfo.cc?ref=57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "patch": "@@ -180,6 +180,7 @@ make_internal_typeinfo (tinfo_kind tk, Identifier *ident, ...)\n \n   /* Create the TypeInfo type.  */\n   tree type = make_node (RECORD_TYPE);\n+  TYPE_ARTIFICIAL (type) = 1;\n   finish_builtin_struct (type, ident->toChars (), fields, NULL_TREE);\n \n   tinfo_types[tk] = type;"}, {"sha": "8a9cca7e225e592a3dae3918fae0eb66cb4075fa", "filename": "gcc/testsuite/gdc.dg/Wpadded.d", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57b2adae536a6399ed7d2c881b1bc0d4b88e936a/gcc%2Ftestsuite%2Fgdc.dg%2FWpadded.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57b2adae536a6399ed7d2c881b1bc0d4b88e936a/gcc%2Ftestsuite%2Fgdc.dg%2FWpadded.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.dg%2FWpadded.d?ref=57b2adae536a6399ed7d2c881b1bc0d4b88e936a", "patch": "@@ -0,0 +1,4 @@\n+// { dg-do compile }\n+// { dg-options \"-Wpadded\" }\n+\n+class EmptyClass { }"}]}