{"sha": "6b78729186060cf96c0b4e0f3eacf155f4e90376", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI3ODcyOTE4NjA2MGNmOTZjMGI0ZTBmM2VhY2YxNTVmNGU5MDM3Ng==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2021-03-10T17:00:34Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2021-03-10T17:00:34Z"}, "message": "committed: analyzer: remove duplicated vfuncs\n\nImplement dyn_cast_callgraph_superedge once in callgraph_superedge,\nrather than twice in the two subclasses.\n\nSpotted whilst working on a patch for call summaries.\n\ngcc/analyzer/ChangeLog:\n\t* supergraph.h\n\t(callgraph_superedge::dyn_cast_callgraph_superedge): New.\n\t(call_superedge::dyn_cast_callgraph_superedge): Delete.\n\t(return_superedge::dyn_cast_callgraph_superedge): Delete.", "tree": {"sha": "d31b56ded229a284bae4d6835846301abf9b2663", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d31b56ded229a284bae4d6835846301abf9b2663"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b78729186060cf96c0b4e0f3eacf155f4e90376", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b78729186060cf96c0b4e0f3eacf155f4e90376", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b78729186060cf96c0b4e0f3eacf155f4e90376", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b78729186060cf96c0b4e0f3eacf155f4e90376/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5bf998275aff311b9804c1de944a88c219f35db6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bf998275aff311b9804c1de944a88c219f35db6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bf998275aff311b9804c1de944a88c219f35db6"}], "stats": {"total": 28, "additions": 10, "deletions": 18}, "files": [{"sha": "5d1268e555f034f226b9e092a7a6c7be626040ad", "filename": "gcc/analyzer/supergraph.h", "status": "modified", "additions": 10, "deletions": 18, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b78729186060cf96c0b4e0f3eacf155f4e90376/gcc%2Fanalyzer%2Fsupergraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b78729186060cf96c0b4e0f3eacf155f4e90376/gcc%2Fanalyzer%2Fsupergraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fsupergraph.h?ref=6b78729186060cf96c0b4e0f3eacf155f4e90376", "patch": "@@ -371,6 +371,16 @@ class callgraph_superedge : public superedge\n   void dump_label_to_pp (pretty_printer *pp, bool user_facing) const\n     FINAL OVERRIDE;\n \n+  callgraph_superedge *dyn_cast_callgraph_superedge () FINAL OVERRIDE\n+  {\n+    return this;\n+  }\n+  const callgraph_superedge *dyn_cast_callgraph_superedge () const\n+    FINAL OVERRIDE\n+  {\n+    return this;\n+  }\n+\n   function *get_callee_function () const;\n   function *get_caller_function () const;\n   tree get_callee_decl () const;\n@@ -409,16 +419,6 @@ class call_superedge : public callgraph_superedge\n   : callgraph_superedge (src, dst, SUPEREDGE_CALL, cedge)\n   {}\n \n-  callgraph_superedge *dyn_cast_callgraph_superedge () FINAL OVERRIDE\n-  {\n-    return this;\n-  }\n-  const callgraph_superedge *dyn_cast_callgraph_superedge () const\n-    FINAL OVERRIDE\n-  {\n-    return this;\n-  }\n-\n   call_superedge *dyn_cast_call_superedge () FINAL OVERRIDE\n   {\n     return this;\n@@ -455,14 +455,6 @@ class return_superedge : public callgraph_superedge\n   : callgraph_superedge (src, dst, SUPEREDGE_RETURN, cedge)\n   {}\n \n-  callgraph_superedge *dyn_cast_callgraph_superedge () FINAL OVERRIDE\n-  {\n-    return this;\n-  }\n-  const callgraph_superedge *dyn_cast_callgraph_superedge () const\n-    FINAL OVERRIDE\n-  { return this; }\n-\n   return_superedge *dyn_cast_return_superedge () FINAL OVERRIDE { return this; }\n   const return_superedge *dyn_cast_return_superedge () const FINAL OVERRIDE\n   {"}]}