{"sha": "14562eb9c47f3be8257f674e8196ac6ac5a967c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ1NjJlYjljNDdmM2JlODI1N2Y2NzRlODE5NmFjNmFjNWE5NjdjNw==", "commit": {"author": {"name": "Yvan Roux", "email": "yvan.roux@linaro.org", "date": "2014-08-27T12:35:28Z"}, "committer": {"name": "Yvan Roux", "email": "yroux@gcc.gnu.org", "date": "2014-08-27T12:35:28Z"}, "message": "re PR other/62248 (Configure error with --with-fpu=fp-armv8)\n\n2014-08-27  Yvan Roux  <yvan.roux@linaro.org>\n\n        PR other/62248\n        * config.gcc (arm*-*-*): Check --with-fpu against arm-fpus.def.\n\nFrom-SVN: r214573", "tree": {"sha": "99b66fcc9947a79e039eeda6bda146b5884c2ed4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99b66fcc9947a79e039eeda6bda146b5884c2ed4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14562eb9c47f3be8257f674e8196ac6ac5a967c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14562eb9c47f3be8257f674e8196ac6ac5a967c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14562eb9c47f3be8257f674e8196ac6ac5a967c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14562eb9c47f3be8257f674e8196ac6ac5a967c7/comments", "author": {"login": "yroux", "id": 2749479, "node_id": "MDQ6VXNlcjI3NDk0Nzk=", "avatar_url": "https://avatars.githubusercontent.com/u/2749479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yroux", "html_url": "https://github.com/yroux", "followers_url": "https://api.github.com/users/yroux/followers", "following_url": "https://api.github.com/users/yroux/following{/other_user}", "gists_url": "https://api.github.com/users/yroux/gists{/gist_id}", "starred_url": "https://api.github.com/users/yroux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yroux/subscriptions", "organizations_url": "https://api.github.com/users/yroux/orgs", "repos_url": "https://api.github.com/users/yroux/repos", "events_url": "https://api.github.com/users/yroux/events{/privacy}", "received_events_url": "https://api.github.com/users/yroux/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4854de0d69db23f9217635e3d681d92f4be6c7be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4854de0d69db23f9217635e3d681d92f4be6c7be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4854de0d69db23f9217635e3d681d92f4be6c7be"}], "stats": {"total": 30, "additions": 16, "deletions": 14}, "files": [{"sha": "e4d098891853be162c22cfb1a3eeb4dd0837f5e2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14562eb9c47f3be8257f674e8196ac6ac5a967c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14562eb9c47f3be8257f674e8196ac6ac5a967c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14562eb9c47f3be8257f674e8196ac6ac5a967c7", "patch": "@@ -1,3 +1,8 @@\n+2014-08-27  Yvan Roux  <yvan.roux@linaro.org>\n+\n+\tPR other/62248\n+\t* config.gcc (arm*-*-*): Check --with-fpu against arm-fpus.def.\n+\n 2014-08-27  Alexander Ivchenko  <alexander.ivchenko@intel.com>\n \t    Maxim Kuznetsov  <maxim.kuznetsov@intel.com>\n \t    Anna Tikhonova  <anna.tikhonova@intel.com>"}, {"sha": "7434a0863562f52e77e79c4be9bad11b7a711720", "filename": "gcc/config.gcc", "status": "modified", "additions": 11, "deletions": 14, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14562eb9c47f3be8257f674e8196ac6ac5a967c7/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14562eb9c47f3be8257f674e8196ac6ac5a967c7/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=14562eb9c47f3be8257f674e8196ac6ac5a967c7", "patch": "@@ -3523,20 +3523,17 @@ case \"${target}\" in\n \t\t\t;;\n \t\tesac\n \n-\t\tcase \"$with_fpu\" in\n-\t\t\"\" \\\n-\t\t| vfp | vfp3 | vfpv3 \\\n-\t\t| vfpv3-fp16 | vfpv3-d16 | vfpv3-d16-fp16 | vfpv3xd \\\n-\t\t| vfpv3xd-fp16 | neon | neon-fp16 | vfpv4 | vfpv4-d16 \\\n-\t\t| fpv4-sp-d16 | neon-vfpv4 | fp-arm-v8 | neon-fp-armv8 \\\n-                | crypto-neon-fp-armv8)\n-\t\t\t# OK\n-\t\t\t;;\n-\t\t*)\n-\t\t\techo \"Unknown fpu used in --with-fpu=$with_fpu\" 2>&1\n-\t\t\texit 1\n-\t\t\t;;\n-\t\tesac\n+\t\t# see if it matches any of the entries in arm-fpus.def\n+\t\tif [ x\"$with_fpu\" = x ] \\\n+\t\t    || grep \"^ARM_FPU(\\\"$with_fpu\\\",\" \\\n+\t\t\t    ${srcdir}/config/arm/arm-fpus.def \\\n+\t\t\t    > /dev/null; then\n+\t\t  # OK\n+\t\t  true\n+\t\telse\n+\t\t  echo \"Unknown fpu used in --with-fpu=$with_fpu\" 1>&2\n+\t\t  exit 1\n+\t\tfi\n \n \t\tcase \"$with_abi\" in\n \t\t\"\" \\"}]}