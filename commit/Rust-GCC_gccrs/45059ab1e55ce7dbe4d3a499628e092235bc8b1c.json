{"sha": "45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUwNTlhYjFlNTVjZTdkYmU0ZDNhNDk5NjI4ZTA5MjIzNWJjOGIxYw==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2007-08-01T16:26:49Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2007-08-01T16:26:49Z"}, "message": "mips16.S (__mips16_unordsf2, [...]): New.\n\n2007-08-01  Sandra Loosemore  <sandra@codesourcery.com>\n\t    David Ung  <davidu@mips.com>\n\n\tgcc/\n\t* config/mips/mips16.S (__mips16_unordsf2, __mips16_floatunsisf): New.\n\t(__mips16_unorddf2, __mips16_floatunsidf): New.\n\t* config/mips/mips.c (mips_init_libfuncs): Add optab entries for\n\tabove functions.\n\t* config/mips/t-libgcc-mips16 (LIB1ASMFUNCS): Add new functions.\n\nCo-Authored-By: David Ung <davidu@mips.com>\n\nFrom-SVN: r127128", "tree": {"sha": "e840ba072bd1d98fb25a707a666a84a2e895b391", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e840ba072bd1d98fb25a707a666a84a2e895b391"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cd976c16a3f88dbb24268d3523ac09643e863ce5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd976c16a3f88dbb24268d3523ac09643e863ce5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd976c16a3f88dbb24268d3523ac09643e863ce5"}], "stats": {"total": 55, "additions": 52, "deletions": 3}, "files": [{"sha": "12d7e6782040d9d8e7c2db85492b6a326c3fadf1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "patch": "@@ -1,3 +1,13 @@\n+2007-08-01  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    David Ung  <davidu@mips.com>\n+\n+\tgcc/\n+\t* config/mips/mips16.S (__mips16_unordsf2, __mips16_floatunsisf): New.\n+\t(__mips16_unorddf2, __mips16_floatunsidf): New.\n+\t* config/mips/mips.c (mips_init_libfuncs): Add optab entries for\n+\tabove functions.\n+\t* config/mips/t-libgcc-mips16 (LIB1ASMFUNCS): Add new functions.\n+\n 2007-08-01  Zdenek Dvorak  <ook@ucw.cz>\n \n \t* tree-pretty-print.c (dump_generic_node): Dump OMP_SECTIONS_SWITCH."}, {"sha": "22a2add8fff67ff012213d9aa012bd53b7b14bac", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "patch": "@@ -10115,9 +10115,11 @@ mips_init_libfuncs (void)\n       set_optab_libfunc (ge_optab, SFmode, \"__mips16_gesf2\");\n       set_optab_libfunc (lt_optab, SFmode, \"__mips16_ltsf2\");\n       set_optab_libfunc (le_optab, SFmode, \"__mips16_lesf2\");\n+      set_optab_libfunc (unord_optab, SFmode, \"__mips16_unordsf2\");\n \n       set_conv_libfunc (sfix_optab, SImode, SFmode, \"__mips16_fix_truncsfsi\");\n       set_conv_libfunc (sfloat_optab, SFmode, SImode, \"__mips16_floatsisf\");\n+      set_conv_libfunc (ufloat_optab, SFmode, SImode, \"__mips16_floatunsisf\");\n \n       if (TARGET_DOUBLE_FLOAT)\n \t{\n@@ -10132,12 +10134,14 @@ mips_init_libfuncs (void)\n \t  set_optab_libfunc (ge_optab, DFmode, \"__mips16_gedf2\");\n \t  set_optab_libfunc (lt_optab, DFmode, \"__mips16_ltdf2\");\n \t  set_optab_libfunc (le_optab, DFmode, \"__mips16_ledf2\");\n+\t  set_optab_libfunc (unord_optab, DFmode, \"__mips16_unorddf2\");\n \n \t  set_conv_libfunc (sext_optab, DFmode, SFmode, \"__mips16_extendsfdf2\");\n \t  set_conv_libfunc (trunc_optab, SFmode, DFmode, \"__mips16_truncdfsf2\");\n \n \t  set_conv_libfunc (sfix_optab, SImode, DFmode, \"__mips16_fix_truncdfsi\");\n \t  set_conv_libfunc (sfloat_optab, DFmode, SImode, \"__mips16_floatsidf\");\n+\t  set_conv_libfunc (ufloat_optab, DFmode, SImode, \"__mips16_floatunsidf\");\n \t}\n     }\n   else"}, {"sha": "90651b196b3442998f1b962e1f44d150f2e4a56b", "filename": "gcc/config/mips/mips16.S", "status": "modified", "additions": 34, "deletions": 1, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Fmips16.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Fmips16.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips16.S?ref=45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "patch": "@@ -286,6 +286,10 @@ CMPSF (__mips16_lesf2, c.le.s, 0, 1)\n #ifdef L_m16ltsf2\n CMPSF (__mips16_ltsf2, c.lt.s, -1, 0)\n #endif\n+#ifdef L_m16unordsf2\n+CMPSF(__mips16_unordsf2, c.un.s, 1, 0)\n+#endif\n+\n \n /* Single-precision conversions.  */\n \n@@ -297,6 +301,21 @@ STARTFN (__mips16_floatsisf)\n \tENDFN (__mips16_floatsisf)\n #endif\n \n+#ifdef L_m16fltunsisf\n+STARTFN (__mips16_floatunsisf)\n+\tbltz\t$4,1f\n+\tj\t__mips16_floatsisf\n+1:\t\t\n+\tand\t$2,$4,1\n+\tsrl\t$3,$4,1\n+\tor\t$2,$2,$3\n+\tmtc1\t$2,RET\n+\tcvt.s.w\tRET,RET\n+\tadd.s\tRET,RET,RET\n+\tMOVE_SF_RET (f, $31)\n+\tENDFN (__mips16_floatunsisf)\n+#endif\n+\t\n #ifdef L_m16fix_truncsfsi\n STARTFN (__mips16_fix_truncsfsi)\n \tMOVE_SF_BYTE0 (t)\n@@ -420,6 +439,9 @@ CMPDF (__mips16_ledf2, c.le.d, 0, 1)\n #ifdef L_m16ltdf2\n CMPDF (__mips16_ltdf2, c.lt.d, -1, 0)\n #endif\n+#ifdef L_m16unorddf2\n+CMPDF(__mips16_unorddf2, c.un.d, 1, 0)\n+#endif\n \n /* Double-precision conversions.  */\n \n@@ -430,7 +452,18 @@ STARTFN (__mips16_floatsidf)\n \tMOVE_DF_RET (f, $31)\n \tENDFN (__mips16_floatsidf)\n #endif\n-\n+\t\n+#ifdef L_m16fltunsidf\n+STARTFN (__mips16_floatunsidf)\n+\tMOVE_SI_BYTE0 (t)\n+\tcvt.d.w RET,ARG1\n+\tbgez\t$4,1f\n+\tli.d\tARG1, 4.294967296e+9\n+\tadd.d\tRET, RET, ARG1\n+1:\tMOVE_DF_RET (f, $31)\n+\tENDFN (__mips16_floatunsidf)\n+#endif\n+\t\n #ifdef L_m16fix_truncdfsi\n STARTFN (__mips16_fix_truncdfsi)\n \tMOVE_DF_BYTE0 (t)"}, {"sha": "819f5c6fc21feb9a1210ad98873e87f2f9cb4dec", "filename": "gcc/config/mips/t-libgcc-mips16", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Ft-libgcc-mips16", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45059ab1e55ce7dbe4d3a499628e092235bc8b1c/gcc%2Fconfig%2Fmips%2Ft-libgcc-mips16", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-libgcc-mips16?ref=45059ab1e55ce7dbe4d3a499628e092235bc8b1c", "patch": "@@ -1,11 +1,13 @@\n LIB1ASMSRC = mips/mips16.S\n LIB1ASMFUNCS = _m16addsf3 _m16subsf3 _m16mulsf3 _m16divsf3 \\\n \t_m16eqsf2 _m16nesf2 _m16gtsf2 _m16gesf2 _m16lesf2 _m16ltsf2 \\\n-\t_m16fltsisf _m16fix_truncsfsi \\\n+\t_m16unordsf2 \\\n+\t_m16fltsisf _m16fix_truncsfsi _m16fltunsisf \\\n \t_m16adddf3 _m16subdf3 _m16muldf3 _m16divdf3 \\\n \t_m16extsfdf2 _m16trdfsf2 \\\n \t_m16eqdf2 _m16nedf2 _m16gtdf2 _m16gedf2 _m16ledf2 _m16ltdf2 \\\n-\t_m16fltsidf _m16fix_truncdfsi \\\n+\t_m16unorddf2 \\\n+\t_m16fltsidf _m16fix_truncdfsi _m16fltunsidf \\\n \t_m16retsf _m16retdf \\\n \t_m16retsc _m16retdc \\\n \t_m16stub1 _m16stub2 _m16stub5 _m16stub6 _m16stub9 _m16stub10 \\"}]}