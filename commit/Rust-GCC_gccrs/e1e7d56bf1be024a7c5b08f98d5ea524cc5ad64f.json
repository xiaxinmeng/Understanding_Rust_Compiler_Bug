{"sha": "e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTFlN2Q1NmJmMWJlMDI0YTdjNWIwOGY5OGQ1ZWE1MjRjYzVhZDY0Zg==", "commit": {"author": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2001-11-23T10:01:16Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2001-11-23T10:01:16Z"}, "message": "cpplex.c (cpp_interpret_charconst): Use HOST_WIDE_INT for sign extension.\n\n\t* cpplex.c (cpp_interpret_charconst): Use HOST_WIDE_INT for sign\n\textension.\n\n\t* gcc.dg/cpp/charconst-2.c: New test.\n\nFrom-SVN: r47286", "tree": {"sha": "e30331aeeafe31dbc96305e0796708b4684534c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e30331aeeafe31dbc96305e0796708b4684534c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/comments", "author": null, "committer": null, "parents": [{"sha": "56101178c86f22b17a462d8bc50429fbb0c850b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56101178c86f22b17a462d8bc50429fbb0c850b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56101178c86f22b17a462d8bc50429fbb0c850b5"}], "stats": {"total": 51, "additions": 39, "deletions": 12}, "files": [{"sha": "945a57db0a5a590c9ac8be0616ec9ed0372b1d6b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "patch": "@@ -1,3 +1,8 @@\n+2001-11-23  Andreas Jaeger  <aj@suse.de>\n+\n+\t* cpplex.c (cpp_interpret_charconst): Use HOST_WIDE_INT for sign\n+\textension.\n+\n 2001-11-23  Nick Clifton  <nickc@cambridge.redhat.com>\n \n \t* config/arm/xscale-coff.h (SUBTARGET_CPU_DEFAULT): Override\n@@ -67,9 +72,9 @@ Thu Nov 22 06:49:14 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* tree-dump.c: Rename from c-dump.c. Include c-tree.h, not c-common.h.\n \t(lang_type_quals): Declare.\n-\t(dequeue_and_dump): Use lang_hooks.tree_dump.type_quals function to \n-\tretrieve language-specific qualifiers for a type node, instead of \n-\tC_TYPE_QUALS. Likewise for lang_hooks.tree_dump.dump_tree instead of \n+\t(dequeue_and_dump): Use lang_hooks.tree_dump.type_quals function to\n+\tretrieve language-specific qualifiers for a type node, instead of\n+\tC_TYPE_QUALS. Likewise for lang_hooks.tree_dump.dump_tree instead of\n \tlang_dump_tree.\n \t* tree-dump.h: Rename from c-dump.h.\n \t* c-common.h (C_TYPE_QUALS): Removed.\n@@ -120,7 +125,7 @@ Thu Nov 22 06:49:14 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \t* v850.h (DBX_REGISTER_NUMBER): Likewise.\n \t* vax.h (DBX_REGISTER_NUMBER): Likewise.\n \t* we32k.h (DBX_REGISTER_NUMBER): Likewise.\n-\t\n+\n \t* defaults.h (DBX_REGISTER_NUMBER): Provide a default.\n \t* doc/tm.texi (DBX_REGISTER_NUMBER): Update.\n "}, {"sha": "35411e615c1c3f6d81115fa94f412be5bb5b1ef1", "filename": "gcc/cpplex.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Fcpplex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Fcpplex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplex.c?ref=e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "patch": "@@ -1,5 +1,5 @@\n /* CPP Library - lexical analysis.\n-   Copyright (C) 2000 Free Software Foundation, Inc.\n+   Copyright (C) 2000, 2001 Free Software Foundation, Inc.\n    Contributed by Per Bothner, 1994-95.\n    Based on CCCP program by Paul Rubin, June 1986\n    Adapted to ANSI C, Richard Stallman, Jan 1987\n@@ -1922,8 +1922,8 @@ cpp_interpret_charconst (pfile, token, warn_multi, traditional, pchars_seen)\n   if (token->type == CPP_CHAR && chars_seen)\n     {\n       unsigned int nbits = chars_seen * width;\n-      unsigned int mask = (unsigned int) ~0 >> (HOST_BITS_PER_INT - nbits);\n \n+      mask = (unsigned HOST_WIDE_INT) ~0 >> (HOST_BITS_PER_WIDE_INT - nbits);\n       if (pfile->spec_nodes.n__CHAR_UNSIGNED__->type == NT_MACRO\n \t  || ((result >> (nbits - 1)) & 1) == 0)\n \tresult &= mask;"}, {"sha": "5105842bcbc039e2ca499bad54c75b0c97191eec", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "patch": "@@ -1,3 +1,7 @@\n+2001-11-23  Andreas Jaeger  <aj@suse.de>\n+\n+\t* gcc.dg/cpp/charconst-2.c: New test.\n+\n 2001-11-22  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* lib/old-dejagnu.exp (old-dejagnu): Copy extra source files\n@@ -340,7 +344,7 @@ Mon Oct 29 21:19:53 2001  Nicola Pero  <n.pero@mi.flashnet.it>\n 2001-09-27  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* gcc.c-torture/execute/loop-2e.x: This is a manifestation of a\n-\tlong-standing bug on i686, apparently.  \n+\tlong-standing bug on i686, apparently.\n \t* gcc.c-torture/execute/loop-2c.x: New file.\n \t* gcc.c-torture/execute/loop-2d.x: New file.\n \t* gcc.c-torture/execute/loop-3c.x: New file.\n@@ -360,7 +364,7 @@ Mon Oct 29 21:19:53 2001  Nicola Pero  <n.pero@mi.flashnet.it>\n 2001-09-24  DJ Delorie  <dj@redhat.com>\n \n \t* gcc.c-torture/execute/20010924-1.c: New test.\n-\t\n+\n 2001-09-24  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* testsuite/objc/execute/paste.m: Remove.\n@@ -408,7 +412,7 @@ Mon Oct 29 21:19:53 2001  Nicola Pero  <n.pero@mi.flashnet.it>\n \n 2001-09-15  Aldy Hernandez  <aldyh@redhat.com>\n \n-        * gcc.c-torture/execute/980223.c: Change type of addr from long \n+        * gcc.c-torture/execute/980223.c: Change type of addr from long\n \tto char *.\n \n 2001-09-15  Hans-Peter Nilsson  <hp@axis.com>\n@@ -474,7 +478,7 @@ Mon Oct 29 21:19:53 2001  Nicola Pero  <n.pero@mi.flashnet.it>\n 2001-09-05  Ziemowit Laski  <zlaski@apple.com>\n \n \t* objc.dg/method-2.m: New.\n-\t\n+\n 2001-09-04  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/4203\n@@ -566,8 +570,8 @@ Mon Oct 29 21:19:53 2001  Nicola Pero  <n.pero@mi.flashnet.it>\n 2001-08-14  David Billinghurst  <David.Billinghurst@riotinto.com>\n \n \t* lib/g77-dg.exp:  Use prune.exp for common procedures\n-\t(g77-dg-prune): Replace prune_g77_output with prune_gcc_output \n-\t* lib/g77.exp: (g77-dg-prune) Remove \n+\t(g77-dg-prune): Replace prune_g77_output with prune_gcc_output\n+\t* lib/g77.exp: (g77-dg-prune) Remove\n \n 2001-08-13  Jason Merrill  <jason_merrill@redhat.com>\n "}, {"sha": "7ee0cfb65ca6332b8e929781f771676ef2438c07", "filename": "gcc/testsuite/gcc.dg/cpp/charconst-2.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcharconst-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcharconst-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcharconst-2.c?ref=e1e7d56bf1be024a7c5b08f98d5ea524cc5ad64f", "patch": "@@ -0,0 +1,18 @@\n+/* Copyright (C) 2001 Free Software Foundation, Inc.  */\n+\n+/* { dg-do compile } */\n+\n+/* Crosscompiling from i686-linux (32-bit) to x86_64-linux (64-bit)\n+   gave extra warnings on the two assignments:\n+   warning: large integer implicitly truncated to unsigned type\n+   warning: overflow in implicit constant conversion\n+   This test has been added as a regression test after fixing the bug\n+   by Andreas Jaeger, 23 Nov 2001.  */\n+int\n+main (void)\n+{\n+  signed char c = '\\xff';\n+  unsigned char d = '\\xff';\n+  \n+  return 0;\n+}"}]}