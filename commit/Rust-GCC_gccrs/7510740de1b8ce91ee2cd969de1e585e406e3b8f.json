{"sha": "7510740de1b8ce91ee2cd969de1e585e406e3b8f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzUxMDc0MGRlMWI4Y2U5MWVlMmNkOTY5ZGUxZTU4NWU0MDZlM2I4Zg==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-11-26T17:02:49Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-11-26T17:02:49Z"}, "message": "* tree-cfg.c (tree_split_edge): Speed up by using find_edge.\n\nFrom-SVN: r91341", "tree": {"sha": "43fa5c6cd4e8b162c9cb6bef15323fe4d39b7682", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43fa5c6cd4e8b162c9cb6bef15323fe4d39b7682"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7510740de1b8ce91ee2cd969de1e585e406e3b8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7510740de1b8ce91ee2cd969de1e585e406e3b8f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7510740de1b8ce91ee2cd969de1e585e406e3b8f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7510740de1b8ce91ee2cd969de1e585e406e3b8f/comments", "author": null, "committer": null, "parents": [{"sha": "276318a57f61baf531633700b9678f92273f5573", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/276318a57f61baf531633700b9678f92273f5573", "html_url": "https://github.com/Rust-GCC/gccrs/commit/276318a57f61baf531633700b9678f92273f5573"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "5f6d899f5465f8afe959ea2d35979a0f5102cc5b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7510740de1b8ce91ee2cd969de1e585e406e3b8f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7510740de1b8ce91ee2cd969de1e585e406e3b8f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7510740de1b8ce91ee2cd969de1e585e406e3b8f", "patch": "@@ -2,6 +2,8 @@\n \n \t* cse.c, tree-ssa-operands.c: Fix comment typos.\n \n+\t* tree-cfg.c (tree_split_edge): Speed up by using find_edge.\n+\n 2004-11-26  James A. Morrison  <phython@gcc.gnu.org>\n \n \tPR target/18510"}, {"sha": "ee0bce2140b9db613e488e8890443e0a6c2476c1", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7510740de1b8ce91ee2cd969de1e585e406e3b8f/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7510740de1b8ce91ee2cd969de1e585e406e3b8f/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=7510740de1b8ce91ee2cd969de1e585e406e3b8f", "patch": "@@ -3144,7 +3144,6 @@ tree_split_edge (edge edge_in)\n {\n   basic_block new_bb, after_bb, dest, src;\n   edge new_edge, e;\n-  edge_iterator ei;\n \n   /* Abnormal edges cannot be split.  */\n   gcc_assert (!(edge_in->flags & EDGE_ABNORMAL));\n@@ -3155,13 +3154,10 @@ tree_split_edge (edge edge_in)\n   /* Place the new block in the block list.  Try to keep the new block\n      near its \"logical\" location.  This is of most help to humans looking\n      at debugging dumps.  */\n-  FOR_EACH_EDGE (e, ei, dest->preds)\n-    if (e->src->next_bb == dest)\n-      break;\n-  if (!e)\n-    after_bb = dest->prev_bb;\n-  else\n+  if (dest->prev_bb && find_edge (dest->prev_bb, dest))\n     after_bb = edge_in->src;\n+  else\n+    after_bb = dest->prev_bb;\n \n   new_bb = create_empty_bb (after_bb);\n   new_bb->frequency = EDGE_FREQUENCY (edge_in);"}]}