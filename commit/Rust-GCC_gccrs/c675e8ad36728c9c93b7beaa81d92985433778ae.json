{"sha": "c675e8ad36728c9c93b7beaa81d92985433778ae", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY3NWU4YWQzNjcyOGM5YzkzYjdiZWFhODFkOTI5ODU0MzM3NzhhZQ==", "commit": {"author": {"name": "Maxim Kuvyrkov", "email": "maxim@codesourcery.com", "date": "2007-08-15T13:42:55Z"}, "committer": {"name": "Maxim Kuvyrkov", "email": "mkuvyrkov@gcc.gnu.org", "date": "2007-08-15T13:42:55Z"}, "message": "mips.c (vr4130_swap_insns_p): Use new interface to scheduler dependencies.\n\n\t* config/mips/mips.c (vr4130_swap_insns_p): Use new interface to\n\tscheduler dependencies.\n\nFrom-SVN: r127516", "tree": {"sha": "49d274c0e4398f40e104ae5f0e9d327e5b6c5ed6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49d274c0e4398f40e104ae5f0e9d327e5b6c5ed6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c675e8ad36728c9c93b7beaa81d92985433778ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c675e8ad36728c9c93b7beaa81d92985433778ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c675e8ad36728c9c93b7beaa81d92985433778ae", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c675e8ad36728c9c93b7beaa81d92985433778ae/comments", "author": null, "committer": null, "parents": [{"sha": "a6783d12406f39457233f7ed022d8c62d19000ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6783d12406f39457233f7ed022d8c62d19000ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6783d12406f39457233f7ed022d8c62d19000ae"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "2926b8de8c652fe519698b8e10d936403361090a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c675e8ad36728c9c93b7beaa81d92985433778ae/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c675e8ad36728c9c93b7beaa81d92985433778ae/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c675e8ad36728c9c93b7beaa81d92985433778ae", "patch": "@@ -1,3 +1,8 @@\n+2007-08-15  Maxim Kuvyrkov  <maxim@codesourcery.com>\n+\n+\t* config/mips/mips.c (vr4130_swap_insns_p): Use new interface to\n+\tscheduler dependencies.\n+\n 2007-08-15  Rask Ingemann Lambertsen  <rask@sygehus.dk>\n \n \t* config/i386/i386.md (subsi3_carry_zext): Remove \"m\" constraint for"}, {"sha": "6f7f2308a62bc673d5913b5d559587823e04be31", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c675e8ad36728c9c93b7beaa81d92985433778ae/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c675e8ad36728c9c93b7beaa81d92985433778ae/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=c675e8ad36728c9c93b7beaa81d92985433778ae", "patch": "@@ -10930,7 +10930,8 @@ vr4130_true_reg_dependence_p (rtx insn)\n static bool\n vr4130_swap_insns_p (rtx insn1, rtx insn2)\n {\n-  dep_link_t dep;\n+  sd_iterator_def sd_it;\n+  dep_t dep;\n \n   /* Check for the following case:\n \n@@ -10940,11 +10941,11 @@ vr4130_swap_insns_p (rtx insn1, rtx insn2)\n \n      If INSN1 is the last instruction blocking X, it would better to\n      choose (INSN1, X) over (INSN2, INSN1).  */\n-  FOR_EACH_DEP_LINK (dep, INSN_FORW_DEPS (insn1))\n-    if (DEP_LINK_KIND (dep) == REG_DEP_ANTI\n-\t&& INSN_PRIORITY (DEP_LINK_CON (dep)) > INSN_PRIORITY (insn2)\n-\t&& recog_memoized (DEP_LINK_CON (dep)) >= 0\n-\t&& get_attr_vr4130_class (DEP_LINK_CON (dep)) == VR4130_CLASS_ALU)\n+  FOR_EACH_DEP (insn1, SD_LIST_FORW, sd_it, dep)\n+    if (DEP_TYPE (dep) == REG_DEP_ANTI\n+\t&& INSN_PRIORITY (DEP_CON (dep)) > INSN_PRIORITY (insn2)\n+\t&& recog_memoized (DEP_CON (dep)) >= 0\n+\t&& get_attr_vr4130_class (DEP_CON (dep)) == VR4130_CLASS_ALU)\n       return false;\n \n   if (vr4130_last_insn != 0"}]}