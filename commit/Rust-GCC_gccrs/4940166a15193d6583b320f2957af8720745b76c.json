{"sha": "4940166a15193d6583b320f2957af8720745b76c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDk0MDE2NmExNTE5M2Q2NTgzYjMyMGYyOTU3YWY4NzIwNzQ1Yjc2Yw==", "commit": {"author": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2021-07-14T18:00:59Z"}, "committer": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2021-07-14T18:00:59Z"}, "message": "Vect: correct rebase issue\n\nThe lines being removed have been updated and merged into a new\ncondition.  But when resolving some conflicts I accidentally\nreintroduced them causing some test failes.\n\nThis removes them.\n\nCommitted as the changes were previously approved in\nhttps://gcc.gnu.org/pipermail/gcc-patches/2021-July/574977.html\nbut the hunk was misapplied during a rebase.\n\ngcc/ChangeLog:\n\n\t* tree-vect-patterns.c (vect_recog_dot_prod_pattern):\n\tRemove erroneous line.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/vect/vect-reduc-dot-11.c: Expect pass.\n\t* gcc.dg/vect/vect-reduc-dot-15.c: Likewise.\n\t* gcc.dg/vect/vect-reduc-dot-19.c: Likewise.\n\t* gcc.dg/vect/vect-reduc-dot-21.c: Likewise.", "tree": {"sha": "9019a215c14629546ebc3d4daf610baeda407287", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9019a215c14629546ebc3d4daf610baeda407287"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4940166a15193d6583b320f2957af8720745b76c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4940166a15193d6583b320f2957af8720745b76c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4940166a15193d6583b320f2957af8720745b76c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4940166a15193d6583b320f2957af8720745b76c/comments", "author": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "398572c1544d8b7541862401b985ae7e855cb8fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/398572c1544d8b7541862401b985ae7e855cb8fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/398572c1544d8b7541862401b985ae7e855cb8fb"}], "stats": {"total": 14, "additions": 4, "deletions": 10}, "files": [{"sha": "0f7cbbb87ef028f166366aea55bc4ef49d2f8e9b", "filename": "gcc/testsuite/gcc.dg/vect/vect-reduc-dot-11.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-11.c?ref=4940166a15193d6583b320f2957af8720745b76c", "patch": "@@ -9,5 +9,5 @@\n \n #include \"vect-reduc-dot-9.c\"\n \n-/* { dg-final { scan-tree-dump-not \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n+/* { dg-final { scan-tree-dump \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n /* { dg-final { scan-tree-dump-times \"vectorized 1 loop\" 1 \"vect\" { target vect_usdot_qi } } } */"}, {"sha": "dc48f95a32bf76c54a906ee81ddee99b16aea84a", "filename": "gcc/testsuite/gcc.dg/vect/vect-reduc-dot-15.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-15.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-15.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-15.c?ref=4940166a15193d6583b320f2957af8720745b76c", "patch": "@@ -9,5 +9,5 @@\n \n #include \"vect-reduc-dot-9.c\"\n \n-/* { dg-final { scan-tree-dump-not \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n+/* { dg-final { scan-tree-dump \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n /* { dg-final { scan-tree-dump-times \"vectorized 1 loop\" 1 \"vect\" { target vect_usdot_qi } } } */"}, {"sha": "dbeaaec24a1095b7730d9e1262f5a951fd2312fc", "filename": "gcc/testsuite/gcc.dg/vect/vect-reduc-dot-19.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-19.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-19.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-19.c?ref=4940166a15193d6583b320f2957af8720745b76c", "patch": "@@ -49,4 +49,4 @@ main (void)\n     __builtin_abort ();\n }\n \n-/* { dg-final { scan-tree-dump-not \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n+/* { dg-final { scan-tree-dump \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */"}, {"sha": "6d08bf4478be83de86b0975524687a75d025123e", "filename": "gcc/testsuite/gcc.dg/vect/vect-reduc-dot-21.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-21.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-21.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-reduc-dot-21.c?ref=4940166a15193d6583b320f2957af8720745b76c", "patch": "@@ -49,4 +49,4 @@ main (void)\n     __builtin_abort ();\n }\n \n-/* { dg-final { scan-tree-dump-not \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */\n+/* { dg-final { scan-tree-dump \"vect_recog_dot_prod_pattern: detected\" \"vect\" } } */"}, {"sha": "53ced5d08fbf52094eb375d5d4cde179fd741a17", "filename": "gcc/tree-vect-patterns.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftree-vect-patterns.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4940166a15193d6583b320f2957af8720745b76c/gcc%2Ftree-vect-patterns.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-patterns.c?ref=4940166a15193d6583b320f2957af8720745b76c", "patch": "@@ -1039,12 +1039,6 @@ vect_recog_dot_prod_pattern (vec_info *vinfo,\n \t: TYPE_SIGN (unprom_mult.type) != TYPE_SIGN (half_type)))\n     return NULL;\n \n-  /* If there are two widening operations, make sure they agree on\n-     the sign of the extension.  */\n-  if (TYPE_PRECISION (unprom_mult.type) != TYPE_PRECISION (type)\n-      && TYPE_SIGN (unprom_mult.type) != TYPE_SIGN (half_type))\n-    return NULL;\n-\n   vect_pattern_detected (\"vect_recog_dot_prod_pattern\", last_stmt);\n \n   tree half_vectype;"}]}