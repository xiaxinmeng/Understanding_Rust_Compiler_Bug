{"sha": "c92c2a28c90fd62b031cbcee994038458afe7f90", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzkyYzJhMjhjOTBmZDYyYjAzMWNiY2VlOTk0MDM4NDU4YWZlN2Y5MA==", "commit": {"author": {"name": "Ziemowit Laski", "email": "zlaski@apple.com", "date": "2003-10-14T00:38:48Z"}, "committer": {"name": "Ziemowit Laski", "email": "zlaski@gcc.gnu.org", "date": "2003-10-14T00:38:48Z"}, "message": "_cmd.m: Fix typo.\n\n2003-10-13  Ziemowit Laski  <zlaski@apple.com>\n\n        * objc/execute/_cmd.m: Fix typo.\n        * objc.dg/image-info.m, objc.dg/symtab-1.m:\n        Relax 'scan-assembler' regexp.\n        * objc.dg/try-catch-1.m, objc.dg/try-catch-3.m,\n        objc.dg/try-catch-4.m: Run on non-Darwin targets.\n        * objc.dg/zero-link-2.m: Remove blank line.\n        * objc.dg/zero-link-3.m: New test case.\n\nFrom-SVN: r72455", "tree": {"sha": "adea4edb04375d6fd7021fb0e505cba04b99c68c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/adea4edb04375d6fd7021fb0e505cba04b99c68c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c92c2a28c90fd62b031cbcee994038458afe7f90", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c92c2a28c90fd62b031cbcee994038458afe7f90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c92c2a28c90fd62b031cbcee994038458afe7f90", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c92c2a28c90fd62b031cbcee994038458afe7f90/comments", "author": null, "committer": null, "parents": [{"sha": "2be3f9e51fe0d7c2101ab47304e121247b08fca0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2be3f9e51fe0d7c2101ab47304e121247b08fca0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2be3f9e51fe0d7c2101ab47304e121247b08fca0"}], "stats": {"total": 58, "additions": 45, "deletions": 13}, "files": [{"sha": "5cdd008b57fc5e6702ba7640adf14a8ae553c915", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -1,3 +1,13 @@\n+2003-10-13  Ziemowit Laski  <zlaski@apple.com>\n+\n+\t* objc/execute/_cmd.m: Fix typo.\n+\t* objc.dg/image-info.m, objc.dg/symtab-1.m:\n+\tRelax 'scan-assembler' regexp.\n+\t* objc.dg/try-catch-1.m, objc.dg/try-catch-3.m,\n+\tobjc.dg/try-catch-4.m: Run on non-Darwin targets.\n+\t* objc.dg/zero-link-2.m: Remove blank line.\n+\t* objc.dg/zero-link-3.m: New test case.\n+\t\n 2003-10-13  Geoffrey Keating  <geoffk@apple.com>\n \n \t* g77.f-torture/execute/980520-1.x: XFAIL at -O0."}, {"sha": "5ba3fa4f904bd0c918095b310702bafc04f31024", "filename": "gcc/testsuite/objc.dg/image-info.m", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fimage-info.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fimage-info.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fimage-info.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -35,4 +35,4 @@ @implementation Base\n }\n @end\n \n-/* { dg-final { scan-assembler \"\\n.data\\n.section __OBJC, __image_info\\n\\t.align.*\\nL_OBJC_IMAGE_INFO:\\n\\t.long\\t0\\n\\t.long\\t1\\n.data\\n.objc_module_info\\n\" } } */\n+/* { dg-final { scan-assembler \"\\n.data\\n.section __OBJC, __image_info\\n\\t.align.*\\nL_OBJC_IMAGE_INFO.*:\\n\\t.long\\t0\\n\\t.long\\t1\\n.data\\n.objc_module_info\\n\" } } */"}, {"sha": "d031cb46d06fa3547ebf8f84bf0ca606907dc286", "filename": "gcc/testsuite/objc.dg/symtab-1.m", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fsymtab-1.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fsymtab-1.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fsymtab-1.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -21,4 +21,4 @@ @implementation Derived\n -(void)checkValues { }\n @end\n \n-/* { dg-final { scan-assembler \"L_OBJC_SYMBOLS:\\n\\t.long\\t0\\n\\t.long\\t0\\n\\t.short\\t2\\n\\t.short\\t0\\n\\t.long\\tL_OBJC_CLASS_Derived\\n\\t.long\\tL_OBJC_CLASS_Base\\n\" } } */\n+/* { dg-final { scan-assembler \"L_OBJC_SYMBOLS.*:\\n\\t.long\\t0\\n\\t.long\\t0\\n\\t.short\\t2\\n\\t.short\\t0\\n\\t.long\\tL_OBJC_CLASS_Derived.*\\n\\t.long\\tL_OBJC_CLASS_Base.*\\n\" } } */"}, {"sha": "4ba86207bd9b550167edcd0fcf668e70e964e2c0", "filename": "gcc/testsuite/objc.dg/try-catch-1.m", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-1.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-1.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-1.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -1,11 +1,10 @@\n /* Test if the compiler accepts @throw / @try..@catch..@finally \n-   syntax.  This will only be usable on MacOS X 10.3 and later.  */\n+   syntax.  This will only be usable on MacOS X 10.3 and later,\n+   but may be compiled on all targets.  */\n /* Developed by Ziemowit Laski <zlaski@apple.com>.  */\n-/* { dg-options \"-fobjc-exceptions\" } */\n-/* { dg-do compile { target *-*-darwin* } } */\n+/* { dg-options \"-fnext-runtime -fobjc-exceptions\" } */\n+/* { dg-do compile } */\n \n-#include <objc/objc.h>\n-#include <objc/objc-runtime.h>\n #include <objc/Object.h>\n #include <stdio.h>\n #include <setjmp.h>"}, {"sha": "b79b494d18228738e6b6ee4fa891ff30331ab372", "filename": "gcc/testsuite/objc.dg/try-catch-3.m", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-3.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-3.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-3.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -2,8 +2,8 @@\n    @catch block.  (Yes, I managed to break this.)  */\n /* Author: Ziemowit Laski <zlaski@apple.com> */\n \n-/* { dg-do compile { target *-*-darwin* } } */\n-/* { dg-options \"-fobjc-exceptions\" } */\n+/* { dg-do compile } */\n+/* { dg-options \"-fnext-runtime -fobjc-exceptions\" } */\n \n #include <objc/Object.h>\n "}, {"sha": "b9c28daeb18d89a5f28b108a87d1b342c1b67ae1", "filename": "gcc/testsuite/objc.dg/try-catch-4.m", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-4.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-4.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Ftry-catch-4.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -2,8 +2,8 @@\n    exceptions being caught by previous @catch blocks.  */\n /* Author: Ziemowit Laski <zlaski@apple.com> */\n \n-/* { dg-do compile { target *-*-darwin* } } */\n-/* { dg-options \"-Wall -fobjc-exceptions\" } */\n+/* { dg-do compile } */\n+/* { dg-options \"-Wall -fnext-runtime -fobjc-exceptions\" } */\n \n @interface Exception\n @end"}, {"sha": "8fba04230b61d48a009e1644c788bdf5e589bf06", "filename": "gcc/testsuite/objc.dg/zero-link-2.m", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-2.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-2.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-2.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -25,4 +25,3 @@ int main(void) {\n \n /* { dg-final { scan-assembler \"_OBJC_CLASS_REFERENCES_0\" } } */\n /* { dg-final { scan-assembler-not \"objc_getClass\" } } */\n-"}, {"sha": "af624abf0962933d9accfd2e32fe68ed4b127560", "filename": "gcc/testsuite/objc.dg/zero-link-3.m", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-3.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-3.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fzero-link-3.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -0,0 +1,24 @@\n+/* Check that the '-fzero-link' flag doesn't prevent messaging from working. */\n+/* Contributed by Ziemowit Laski <zlaski@apple.com>.  */\n+/* { dg-options \"-fnext-runtime -fzero-link -lobjc\" } */\n+/* { dg-do run { target *-*-darwin* } } */\n+\n+#import <objc/objc.h>\n+#import <objc/Object.h>\n+\n+extern void abort(void);\n+#define CHECK_IF(expr) if(!(expr)) abort();\n+\n+@interface Base: Object\n++ (int) getValue;\n+@end\n+\n+@implementation Base\n++ (int) getValue { return 1593; }\n+@end\n+\n+int main(void) {\n+  int val = [Base getValue];\n+  CHECK_IF(val == 1593);\n+  return 0;\n+}"}, {"sha": "72c555e6d429586033bc674ecd61a507fd7c1d0b", "filename": "gcc/testsuite/objc/execute/_cmd.m", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc%2Fexecute%2F_cmd.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c92c2a28c90fd62b031cbcee994038458afe7f90/gcc%2Ftestsuite%2Fobjc%2Fexecute%2F_cmd.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc%2Fexecute%2F_cmd.m?ref=c92c2a28c90fd62b031cbcee994038458afe7f90", "patch": "@@ -14,7 +14,7 @@ + (const char*) method;\n @end\n \n @implementation TestClass\n-+ (const char*) method;\n++ (const char*) method\n {\n   return sel_get_name (_cmd);\n }"}]}