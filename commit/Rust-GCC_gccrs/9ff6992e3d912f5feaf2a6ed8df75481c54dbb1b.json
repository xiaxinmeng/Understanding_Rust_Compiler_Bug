{"sha": "9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZmNjk5MmUzZDkxMmY1ZmVhZjJhNmVkOGRmNzU0ODFjNTRkYmIxYg==", "commit": {"author": {"name": "James E Wilson", "email": "wilson@specifixinc.com", "date": "2004-08-18T23:45:32Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "2004-08-18T23:45:32Z"}, "message": "Add support for scheduling recip.fmt instructions.\n\n* config/mips/mips.md (type): Add frdiv.\n(divsf3+1, divsf3+2): Change type to frdiv.\n* config/mips/sb1.md (ir_sb1_recipsf_2pipes, ir_sb1_recipsf_1pipe,\nir_sb1_recipdf_2pipes, ir_sb1_recipdf_1pipe): New.\n* config/mips/3000.md (r3k_fdiv_single, r3k_fdiv_double): Add frdiv.\n* config/mips/4300.md (r4300_fdiv_single, r4300_fdiv_double): Likewise.\n* config/mips/4600.md (r4600_fdiv_single, f4600_fdiv_double): Likewise.\n* config/mips/5000.md (r5k_fdiv_single): Likewise.\n* config/mips/5400.md (ir_vr54_fdiv_sf, ir_vr54_fdiv_df): Likewise.\n* config/mips/5500.md (ir_vr55_fdiv_sf, ir_vr55_fdiv_df): Likewise.\n* config/mips/6000.md (r6k_fdiv_single, r6k_fdiv_double): Likewise.\n* config/mips/7000.md (rm7_fp_divsqrt_df, rm7_fp_divsqrt_sf): Likewise.\n* config/mips/9000.md (rm8k_fdivs, rm9k_fdivd): Likewise.\n* config/mips/generic.md (generic_fdiv_single, generic_fdiv_double):\nLikewise.\n* config/mips/sr71k.md (ir_sr70_fdiv_sf, ir_sr70_fdiv_df): Likewise.\n\nFrom-SVN: r86216", "tree": {"sha": "1f6566489105d66d92f705b13e99bb8e83be78ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f6566489105d66d92f705b13e99bb8e83be78ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/comments", "author": null, "committer": null, "parents": [{"sha": "c16eb90063b5d6e1a74bcf2a1572741183d20871", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c16eb90063b5d6e1a74bcf2a1572741183d20871", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c16eb90063b5d6e1a74bcf2a1572741183d20871"}], "stats": {"total": 103, "additions": 79, "deletions": 24}, "files": [{"sha": "2cde6ad724443b23fd4595c769fb0709f3fcfbee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -1,3 +1,23 @@\n+2004-08-18  James E Wilson  <wilson@specifixinc.com>\n+\n+\t* config/mips/mips.md (type): Add frdiv.\n+\t(divsf3+1, divsf3+2): Change type to frdiv.\n+\t* config/mips/sb1.md (ir_sb1_recipsf_2pipes, ir_sb1_recipsf_1pipe,\n+\tir_sb1_recipdf_2pipes, ir_sb1_recipdf_1pipe): New.\n+\t\n+\t* config/mips/3000.md (r3k_fdiv_single, r3k_fdiv_double): Add frdiv.\n+\t* config/mips/4300.md (r4300_fdiv_single, r4300_fdiv_double): Likewise.\n+\t* config/mips/4600.md (r4600_fdiv_single, f4600_fdiv_double): Likewise.\n+\t* config/mips/5000.md (r5k_fdiv_single): Likewise.\n+\t* config/mips/5400.md (ir_vr54_fdiv_sf, ir_vr54_fdiv_df): Likewise.\n+\t* config/mips/5500.md (ir_vr55_fdiv_sf, ir_vr55_fdiv_df): Likewise.\n+\t* config/mips/6000.md (r6k_fdiv_single, r6k_fdiv_double): Likewise.\n+\t* config/mips/7000.md (rm7_fp_divsqrt_df, rm7_fp_divsqrt_sf): Likewise.\n+\t* config/mips/9000.md (rm8k_fdivs, rm9k_fdivd): Likewise.\n+\t* config/mips/generic.md (generic_fdiv_single, generic_fdiv_double):\n+\tLikewise.\n+\t* config/mips/sr71k.md (ir_sr70_fdiv_sf, ir_sr70_fdiv_df): Likewise.\n+\n 2004-08-18  Robert Bowdidge <bowdidge@apple.com>\n \n \t* config/rs6000/x-darwin: Remove XCFLAGS -mdynamic-no-pic to"}, {"sha": "f9a829175d4bea7f52fd25746a71d1678e2607e0", "filename": "gcc/config/mips/3000.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F3000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F3000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F3000.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -61,12 +61,12 @@\n \n (define_insn_reservation \"r3k_fdiv_single\" 12\n   (and (eq_attr \"cpu\" \"r3000,r3900\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"alu\")\n \n (define_insn_reservation \"r3k_fdiv_double\" 19\n   (and (eq_attr \"cpu\" \"r3000,r3900\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"DF\")))\n   \"alu\")"}, {"sha": "d663f16d6fbf4c1a905e2dc045812a4a7ce54ab8", "filename": "gcc/config/mips/4300.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F4300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F4300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F4300.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -75,12 +75,12 @@\n \n (define_insn_reservation \"r4300_fdiv_single\" 29\n   (and (eq_attr \"cpu\" \"r4300\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"imuldiv*29\")\n \n (define_insn_reservation \"r4300_fdiv_double\" 58\n   (and (eq_attr \"cpu\" \"r4300\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"DF\")))\n   \"imuldiv*58\")"}, {"sha": "58b309959d705805ba7122a3556add9699f5bcc8", "filename": "gcc/config/mips/4600.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F4600.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F4600.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F4600.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -65,13 +65,13 @@\n \n (define_insn_reservation \"r4600_fdiv_single\" 32\n   (and (eq_attr \"cpu\" \"r4600,r4650\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"alu\")\n \n (define_insn_reservation \"r4600_fdiv_double\" 61\n   (and (eq_attr \"cpu\" \"r4600,r4650\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"DF\")))\n   \"alu\")\n "}, {"sha": "9b02ac32942c367d631aceaffc7bf02488f5223e", "filename": "gcc/config/mips/5000.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F5000.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -70,7 +70,7 @@\n \n (define_insn_reservation \"r5k_fdiv_single\" 21\n   (and (eq_attr \"cpu\" \"r5000\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"alu\")\n "}, {"sha": "f39dc884d04a23de21679fe46fbcde07684f1c81", "filename": "gcc/config/mips/5400.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5400.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5400.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F5400.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -123,13 +123,13 @@\n \n (define_insn_reservation \"ir_vr54_fdiv_sf\" 42\n   (and (eq_attr \"cpu\" \"r5400\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n             (eq_attr \"mode\" \"SF\")))\n   \"vr54_dp0|vr54_dp1\")\n \n (define_insn_reservation \"ir_vr54_fdiv_df\" 72\n   (and (eq_attr \"cpu\" \"r5400\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n             (eq_attr \"mode\" \"DF\")))\n   \"vr54_dp0|vr54_dp1\")\n "}, {"sha": "fbcc6f62d6e5638e63379215c8b3aa1f7411253b", "filename": "gcc/config/mips/5500.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5500.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F5500.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F5500.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -159,13 +159,13 @@\n \n (define_insn_reservation \"ir_vr55_fdiv_sf\" 30\n   (and (eq_attr \"cpu\" \"r5500\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n             (eq_attr \"mode\" \"SF\")))\n   \"vr55_mac\")\n \n (define_insn_reservation \"ir_vr55_fdiv_df\" 59\n   (and (eq_attr \"cpu\" \"r5500\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n             (eq_attr \"mode\" \"DF\")))\n   \"vr55_mac\")\n "}, {"sha": "92089caab521c22f48ff1be53a24dc80317fa472", "filename": "gcc/config/mips/6000.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F6000.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -46,12 +46,12 @@\n \n (define_insn_reservation \"r6k_fdiv_single\" 15\n   (and (eq_attr \"cpu\" \"r6000\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"alu\")\n \n (define_insn_reservation \"r6k_fdiv_double\" 16\n   (and (eq_attr \"cpu\" \"r6000\")\n-       (and (eq_attr \"type\" \"fdiv\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv\")\n \t    (eq_attr \"mode\" \"DF\")))\n   \"alu\")"}, {"sha": "ec75ffc96f800e85343d295d710d9d50649fe340", "filename": "gcc/config/mips/7000.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F7000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F7000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F7000.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -169,13 +169,13 @@\n \n (define_insn_reservation \"rm7_fp_divsqrt_df\" 36\n \t\t\t (and (eq_attr \"cpu\" \"r7000\")\n-\t\t\t      (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+\t\t\t      (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n \t\t\t\t   (eq_attr \"mode\" \"DF\")))\n \t\t\t \"rm7_fpdivsqr+(rm7_fpdivsqr_iter*36)\")\n \n (define_insn_reservation \"rm7_fp_divsqrt_sf\" 21\n \t\t\t (and (eq_attr \"cpu\" \"r7000\")\n-\t\t\t      (and (eq_attr \"type\" \"fdiv,fsqrt\")\n+\t\t\t      (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt\")\n \t\t\t\t   (eq_attr \"mode\" \"SF\")))\n \t\t\t \"rm7_fpdivsqr+(rm7_fpdivsqr_iter*21)\")\n "}, {"sha": "b5501c3d696c7eb8a5e399028b34bebc809e09a5", "filename": "gcc/config/mips/9000.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F9000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2F9000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2F9000.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -131,13 +131,13 @@\n \n (define_insn_reservation \"rm9k_fdivs\" 22\n   (and (eq_attr \"cpu\" \"r9000\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"SF\")))\n   \"rm9k_f_float + rm9k_fdiv * 22\")\n \n (define_insn_reservation \"rm9k_fdivd\" 37\n   (and (eq_attr \"cpu\" \"r9000\")\n-       (and (eq_attr \"type\" \"fdiv,fsqrt,frsqrt\")\n+       (and (eq_attr \"type\" \"fdiv,frdiv,fsqrt,frsqrt\")\n \t    (eq_attr \"mode\" \"DF\")))\n   \"rm9k_f_float + rm9k_fdiv * 37\")\n "}, {"sha": "6ae56490965c117bac6f1e13f63400da1b12e1bb", "filename": "gcc/config/mips/generic.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fgeneric.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fgeneric.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fgeneric.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -82,12 +82,12 @@\n   \"alu\")\n \n (define_insn_reservation \"generic_fdiv_single\" 23\n-  (and (eq_attr \"type\" \"fdiv\")\n+  (and (eq_attr \"type\" \"fdiv,frdiv\")\n        (eq_attr \"mode\" \"SF\"))\n   \"alu\")\n \n (define_insn_reservation \"generic_fdiv_double\" 36\n-  (and (eq_attr \"type\" \"fdiv\")\n+  (and (eq_attr \"type\" \"fdiv,frdiv\")\n        (eq_attr \"mode\" \"DF\"))\n   \"alu\")\n "}, {"sha": "603a6b9d18c02388d67220e646c416816cea9b6a", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -113,6 +113,7 @@\n ;; fmul\t\tfloating point multiply\n ;; fmadd\tfloating point multiply-add\n ;; fdiv\t\tfloating point divide\n+;; frdiv\tfloating point reciprocal divide\n ;; fabs\t\tfloating point absolute value\n ;; fneg\t\tfloating point negation\n ;; fcmp\t\tfloating point compare\n@@ -122,7 +123,7 @@\n ;; multi\tmultiword sequence (or user asm statements)\n ;; nop\t\tno operation\n (define_attr \"type\"\n-  \"unknown,branch,jump,call,load,fpload,fpidxload,store,fpstore,fpidxstore,prefetch,prefetchx,condmove,xfer,mthilo,mfhilo,const,arith,shift,slt,clz,trap,imul,imadd,idiv,fmove,fadd,fmul,fmadd,fdiv,fabs,fneg,fcmp,fcvt,fsqrt,frsqrt,multi,nop\"\n+  \"unknown,branch,jump,call,load,fpload,fpidxload,store,fpstore,fpidxstore,prefetch,prefetchx,condmove,xfer,mthilo,mfhilo,const,arith,shift,slt,clz,trap,imul,imadd,idiv,fmove,fadd,fmul,fmadd,fdiv,frdiv,fabs,fneg,fcmp,fcvt,fsqrt,frsqrt,multi,nop\"\n   (cond [(eq_attr \"jal\" \"!unset\") (const_string \"call\")\n \t (eq_attr \"got\" \"load\") (const_string \"load\")]\n \t(const_string \"unknown\")))\n@@ -2092,7 +2093,7 @@\n   else\n     return \"recip.d\\t%0,%2\";\n }\n-  [(set_attr \"type\"\t\"fdiv\")\n+  [(set_attr \"type\"\t\"frdiv\")\n    (set_attr \"mode\"\t\"DF\")\n    (set (attr \"length\")\n         (if_then_else (ne (symbol_ref \"TARGET_FIX_SB1\") (const_int 0))\n@@ -2112,7 +2113,7 @@\n   else\n     return \"recip.s\\t%0,%2\";\n }\n-  [(set_attr \"type\"\t\"fdiv\")\n+  [(set_attr \"type\"\t\"frdiv\")\n    (set_attr \"mode\"\t\"SF\")\n    (set (attr \"length\")\n         (if_then_else (ne (symbol_ref \"TARGET_FIX_SB1\") (const_int 0))"}, {"sha": "c831a47cbdf66ef1cb12e840c40e4981521c4f72", "filename": "gcc/config/mips/sb1.md", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fsb1.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fsb1.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fsb1.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -435,6 +435,40 @@\n \t\t (eq_attr \"sb1_fp_pipes\" \"one\"))))\n   \"sb1_fp1\")\n \n+;; ??? Can deliver at most 1 result per every 3 cycles because of issue\n+;; restrictions.\n+\n+(define_insn_reservation \"ir_sb1_recipsf_2pipes\" 12\n+  (and (eq_attr \"cpu\" \"sb1\")\n+       (and (eq_attr \"type\" \"frdiv\")\n+\t    (and (eq_attr \"mode\" \"SF\")\n+\t\t (eq_attr \"sb1_fp_pipes\" \"two\"))))\n+  \"sb1_fp1 | sb1_fp0\")\n+\n+(define_insn_reservation \"ir_sb1_recipsf_1pipe\" 12\n+  (and (eq_attr \"cpu\" \"sb1\")\n+       (and (eq_attr \"type\" \"frdiv\")\n+\t    (and (eq_attr \"mode\" \"SF\")\n+\t\t (eq_attr \"sb1_fp_pipes\" \"one\"))))\n+  \"sb1_fp1\")\n+\n+;; ??? Can deliver at most 1 result per every 5 cycles because of issue\n+;; restrictions.\n+\n+(define_insn_reservation \"ir_sb1_recipdf_2pipes\" 20\n+  (and (eq_attr \"cpu\" \"sb1\")\n+       (and (eq_attr \"type\" \"frdiv\")\n+\t    (and (eq_attr \"mode\" \"DF\")\n+\t\t (eq_attr \"sb1_fp_pipes\" \"two\"))))\n+  \"sb1_fp1 | sb1_fp0\")\n+\n+(define_insn_reservation \"ir_sb1_recipdf_1pipe\" 20\n+  (and (eq_attr \"cpu\" \"sb1\")\n+       (and (eq_attr \"type\" \"frdiv\")\n+\t    (and (eq_attr \"mode\" \"DF\")\n+\t\t (eq_attr \"sb1_fp_pipes\" \"one\"))))\n+  \"sb1_fp1\")\n+\n ;; ??? Can deliver at most 1 result per every 7 cycles because of issue\n ;; restrictions.\n "}, {"sha": "d40e27e8cda6a71b571c47e5f1f770e13ac79873", "filename": "gcc/config/mips/sr71k.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fsr71k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b/gcc%2Fconfig%2Fmips%2Fsr71k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fsr71k.md?ref=9ff6992e3d912f5feaf2a6ed8df75481c54dbb1b", "patch": "@@ -278,14 +278,14 @@\n (define_insn_reservation \"ir_sr70_fdiv_sf\"\n                                 60\n                           (and (eq_attr \"cpu\" \"sr71000\")\n-                               (and (eq_attr \"type\" \"fdiv\")\n+                               (and (eq_attr \"type\" \"fdiv,frdiv\")\n                                     (eq_attr \"mode\" \"SF\")))\n                          \"rf_multi1+(fpu_iter*51)\")\n \n (define_insn_reservation \"ir_sr70_fdiv_df\"\n                                 120\n                           (and (eq_attr \"cpu\" \"sr71000\")\n-                               (and (eq_attr \"type\" \"fdiv\")\n+                               (and (eq_attr \"type\" \"fdiv,frdiv\")\n                                     (eq_attr \"mode\" \"DF\")))\n                          \"rf_multi1+(fpu_iter*109)\")\n "}]}