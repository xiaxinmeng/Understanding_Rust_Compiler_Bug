{"sha": "87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdmOWUyM2RhZmQ0MmEzYWQ4ZGY2ZmViNmNjNDEzZTNhYTZmMTEwYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2011-03-14T18:01:10Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2011-03-14T18:01:10Z"}, "message": "c-parser.c (c_parser_asm_string_literal): Clear warn_overlength_strings.\n\ngcc\n\t* c-parser.c (c_parser_asm_string_literal): Clear\n\twarn_overlength_strings.\ngcc/testsuite\n\t* gcc.dg/Woverlength-strings-pedantic-c90-asm.c: New file.\n\t* gcc.dg/Woverlength-strings-pedantic-c89-asm.c: New file.\n\t* gcc.dg/Woverlength-strings-pedantic-c99-asm.c: New file.\n\nFrom-SVN: r170948", "tree": {"sha": "f289bb5ce64b337811d0290881f63709853bfe93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f289bb5ce64b337811d0290881f63709853bfe93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/comments", "author": null, "committer": null, "parents": [{"sha": "b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3ab9ea2979fd0fcc2a3eff1f0c417c5e6f27f35"}], "stats": {"total": 157, "additions": 157, "deletions": 0}, "files": [{"sha": "07aa11916bb09bf30a4567337ae5e7f70287639a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -1,3 +1,8 @@\n+2011-03-14  Tom Tromey  <tromey@redhat.com>\n+\n+\t* c-parser.c (c_parser_asm_string_literal): Clear\n+\twarn_overlength_strings.\n+\n 2011-03-14  Tom Tromey  <tromey@redhat.com>\n \n \t* c-parser.c (disable_extension_diagnostics): Save"}, {"sha": "33e7362baa00b35f2be8190776d1fef7dc52944d", "filename": "gcc/c-parser.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -3264,6 +3264,8 @@ static tree\n c_parser_asm_string_literal (c_parser *parser)\n {\n   tree str;\n+  int save_flag = warn_overlength_strings;\n+  warn_overlength_strings = 0;\n   if (c_parser_next_token_is (parser, CPP_STRING))\n     {\n       str = c_parser_peek_token (parser)->value;\n@@ -3281,6 +3283,7 @@ c_parser_asm_string_literal (c_parser *parser)\n       c_parser_error (parser, \"expected string literal\");\n       str = NULL_TREE;\n     }\n+  warn_overlength_strings = save_flag;\n   return str;\n }\n "}, {"sha": "be3157c222749b84dbdbe2656ff1b335da84ef74", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -1,3 +1,9 @@\n+2011-03-14  Tom Tromey  <tromey@redhat.com>\n+\n+\t* gcc.dg/Woverlength-strings-pedantic-c90-asm.c: New file.\n+\t* gcc.dg/Woverlength-strings-pedantic-c89-asm.c: New file.\n+\t* gcc.dg/Woverlength-strings-pedantic-c99-asm.c: New file.\n+\n 2011-03-14  Tom Tromey  <tromey@redhat.com>\n \n \t* gcc.dg/Woverlength-strings-pedantic-c89-ext.c: New file."}, {"sha": "45373bc1a984e7ca9002fcab716cc6921df6f75a", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c89-asm.c", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-asm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-asm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c89-asm.c?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -0,0 +1,47 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c89 -pedantic\" } */\n+\n+#define TEN \"          \"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+__asm__ (HUN HUN HUN HUN HUN TEN);\n+\n+/* C99's minimum-maximum is 4095.  */\n+__asm__ (\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\");\n+\n+void\n+f (void)\n+{\n+  /* C89's minimum-maximum is 509. */\n+  __asm__ (HUN HUN HUN HUN HUN TEN);\n+  __asm__ (HUN HUN HUN HUN HUN TEN : : );\n+  __asm__ goto (HUN HUN HUN HUN HUN TEN : : : : label);\n+\n+  /* C99's minimum-maximum is 4095.  */\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\");\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\" : : );\n+  __asm__ goto (\n+\t\tTHO THO THO THO     /* 4000 */\n+\t\tTEN TEN TEN TEN TEN /* 4050 */\n+\t\tTEN TEN TEN TEN     /* 4090 */\n+\t\t\"123456\" : : : : label);\n+\n+ label: ;\n+}"}, {"sha": "b5523bc8906e18b08b37dcf63d156ef50ebcd9c9", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c90-asm.c", "status": "added", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-asm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-asm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c90-asm.c?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -0,0 +1,48 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c90 -pedantic\" } */\n+\n+#define TEN \"          \"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+__asm__ (HUN HUN HUN HUN HUN TEN);\n+\n+/* C99's minimum-maximum is 4095.  */\n+__asm__ (\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\");\n+\n+void\n+f (void)\n+{\n+  /* C89's minimum-maximum is 509. */\n+  __asm__ (HUN HUN HUN HUN HUN TEN);\n+  __asm__ (HUN HUN HUN HUN HUN TEN : :);\n+  __asm__ goto (HUN HUN HUN HUN HUN TEN : : : : label);\n+\n+  /* C99's minimum-maximum is 4095.  */\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\");\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\" : :);\n+  __asm__ goto (\n+\t\tTHO THO THO THO     /* 4000 */\n+\t\tTEN TEN TEN TEN TEN /* 4050 */\n+\t\tTEN TEN TEN TEN     /* 4090 */\n+\t\t\"123456\" : : : : label);\n+\n+ label: ;\n+}\n+"}, {"sha": "8840e38bdc46a2795346b62991cf5e2dfe9b07aa", "filename": "gcc/testsuite/gcc.dg/Woverlength-strings-pedantic-c99-asm.c", "status": "added", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-asm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-asm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2FWoverlength-strings-pedantic-c99-asm.c?ref=87f9e23dafd42a3ad8df6feb6cc413e3aa6f110b", "patch": "@@ -0,0 +1,48 @@\n+/* -Woverlength-strings complains about string constants which are too long\n+   for the C standard's \"minimum maximum\" limits.  It is off by default,\n+   but implied by -pedantic.  */\n+\n+/* { dg-options \"-std=c99 -pedantic\" } */\n+\n+#define TEN \"          \"\n+#define HUN TEN TEN TEN TEN TEN  TEN TEN TEN TEN TEN\n+#define THO HUN HUN HUN HUN HUN  HUN HUN HUN HUN HUN\n+\n+/* C89's minimum-maximum is 509. */\n+__asm__ (HUN HUN HUN HUN HUN TEN);\n+\n+/* C99's minimum-maximum is 4095.  */\n+__asm__ (\n+  THO THO THO THO     /* 4000 */\n+  TEN TEN TEN TEN TEN /* 4050 */\n+  TEN TEN TEN TEN     /* 4090 */\n+  \"123456\");\n+\n+void\n+f (void)\n+{\n+  /* C89's minimum-maximum is 509. */\n+  __asm__ (HUN HUN HUN HUN HUN TEN);\n+  __asm__ (HUN HUN HUN HUN HUN TEN : :);\n+  __asm__ goto (HUN HUN HUN HUN HUN TEN : : : : label);\n+\n+  /* C99's minimum-maximum is 4095.  */\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\");\n+  __asm__ (\n+\t   THO THO THO THO     /* 4000 */\n+\t   TEN TEN TEN TEN TEN /* 4050 */\n+\t   TEN TEN TEN TEN     /* 4090 */\n+\t   \"123456\" : :);\n+  __asm__ goto (\n+\t\tTHO THO THO THO     /* 4000 */\n+\t\tTEN TEN TEN TEN TEN /* 4050 */\n+\t\tTEN TEN TEN TEN     /* 4090 */\n+\t\t\"123456\" : : : : label);\n+\n+ label: ;\n+}\n+"}]}