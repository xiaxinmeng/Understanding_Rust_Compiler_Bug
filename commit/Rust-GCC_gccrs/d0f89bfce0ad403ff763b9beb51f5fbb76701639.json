{"sha": "d0f89bfce0ad403ff763b9beb51f5fbb76701639", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDBmODliZmNlMGFkNDAzZmY3NjNiOWJlYjUxZjVmYmI3NjcwMTYzOQ==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@cygnus.co.uk", "date": "1999-11-29T18:11:35Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1999-11-29T18:11:35Z"}, "message": "Fix for gcc.c-torture/noncompile/920824-1.c on SH (and mips?)\n\nFix for gcc.c-torture/noncompile/920824-1.c on SH (and mips?)\n\t* dwarfout.c (field_byte_offset): Size can be zero if there was\n\tan error.\n\nFrom-SVN: r30708", "tree": {"sha": "eda08ea25cd7c8200a55835fd185e2d8e8c50de0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eda08ea25cd7c8200a55835fd185e2d8e8c50de0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d0f89bfce0ad403ff763b9beb51f5fbb76701639", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0f89bfce0ad403ff763b9beb51f5fbb76701639", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0f89bfce0ad403ff763b9beb51f5fbb76701639", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0f89bfce0ad403ff763b9beb51f5fbb76701639/comments", "author": null, "committer": null, "parents": [{"sha": "37feda7d7656a82a99f0492b4a52b14fe3db10ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37feda7d7656a82a99f0492b4a52b14fe3db10ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37feda7d7656a82a99f0492b4a52b14fe3db10ec"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "afd4fc99beefad9f37778dc77355e626b7da1c08", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0f89bfce0ad403ff763b9beb51f5fbb76701639/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0f89bfce0ad403ff763b9beb51f5fbb76701639/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d0f89bfce0ad403ff763b9beb51f5fbb76701639", "patch": "@@ -1,3 +1,8 @@\n+Mon Nov 29 18:09:39 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n+\n+\t* dwarfout.c (field_byte_offset): Size can be zero if there was\n+\tan error.\n+\n 1999-11-29  Bernd Schmidt  <bernds@cygnus.co.uk>\n \n \t* fold-const.c (split_tree): Delete unused vars ORIG_IN and TYPE."}, {"sha": "1df09c60ee1e772c5d80b9268cd393d7720a5d2a", "filename": "gcc/dwarfout.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0f89bfce0ad403ff763b9beb51f5fbb76701639/gcc%2Fdwarfout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0f89bfce0ad403ff763b9beb51f5fbb76701639/gcc%2Fdwarfout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarfout.c?ref=d0f89bfce0ad403ff763b9beb51f5fbb76701639", "patch": "@@ -2024,6 +2024,15 @@ field_byte_offset (decl)\n   bitpos_tree = DECL_FIELD_BITPOS (decl);\n   field_size_tree = DECL_SIZE (decl);\n \n+  /* If there was an error, the size could be zero.  */\n+  if (! field_size_tree)\n+    {\n+      if (errorcount)\n+\treturn 0;\n+      abort ();\n+    }\n+    \n+\n   /* We cannot yet cope with fields whose positions or sizes are variable,\n      so for now, when we see such things, we simply return 0.  Someday,\n      we may be able to handle such cases, but it will be damn difficult.  */"}]}