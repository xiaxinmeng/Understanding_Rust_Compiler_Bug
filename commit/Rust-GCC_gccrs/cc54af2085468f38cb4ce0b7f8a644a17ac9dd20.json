{"sha": "cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2M1NGFmMjA4NTQ2OGYzOGNiNGNlMGI3ZjhhNjQ0YTE3YWM5ZGQyMA==", "commit": {"author": {"name": "Dorit Nuzman", "email": "dorit@il.ibm.com", "date": "2008-09-07T08:54:00Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2008-09-07T08:54:00Z"}, "message": "re PR tree-optimization/35642 (short * short multiplication not vectorized on Power)\n\n\n\tPR tree-optimization/35642\n\t* config/rs6000/altivec.md (mulv8hi3): Implement.\n\n\nCo-Authored-By: Ira Rosen <irar@il.ibm.com>\n\nFrom-SVN: r140083", "tree": {"sha": "f05693dc559cf15edd83dca04f265331b78e174e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f05693dc559cf15edd83dca04f265331b78e174e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/comments", "author": null, "committer": null, "parents": [{"sha": "c0cf64a28761cb9014cc03f064159af02c5b12aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0cf64a28761cb9014cc03f064159af02c5b12aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0cf64a28761cb9014cc03f064159af02c5b12aa"}], "stats": {"total": 38, "additions": 37, "deletions": 1}, "files": [{"sha": "552082088f45c36cd35e3019f1ec0d2316f366aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "patch": "@@ -1,3 +1,9 @@\n+2008-09-07  Dorit Nuzman  <dorit@il.ibm.com>\n+            Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/35642\n+\t* config/rs6000/altivec.md (mulv8hi3): Implement.\n+\n 2008-09-06  Jeff Law <law@redhat.com>\n \n \t* h8300.h (IRA_COVER_CLASSES): Define."}, {"sha": "5edd248b72268d5173d13522d864e37b2b11c50e", "filename": "gcc/config/rs6000/altivec.md", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Fconfig%2Frs6000%2Faltivec.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Fconfig%2Frs6000%2Faltivec.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faltivec.md?ref=cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "patch": "@@ -647,6 +647,28 @@\n    DONE;\n  }\")\n  \n+(define_expand \"mulv8hi3\"\n+  [(use (match_operand:V8HI 0 \"register_operand\" \"\"))\n+   (use (match_operand:V8HI 1 \"register_operand\" \"\"))\n+   (use (match_operand:V8HI 2 \"register_operand\" \"\"))]\n+   \"TARGET_ALTIVEC\"\n+   \"\n+{\n+   rtx odd = gen_reg_rtx (V4SImode);\n+   rtx even = gen_reg_rtx (V4SImode);\n+   rtx high = gen_reg_rtx (V4SImode);\n+   rtx low = gen_reg_rtx (V4SImode);\n+\n+   emit_insn (gen_altivec_vmulesh (even, operands[1], operands[2]));\n+   emit_insn (gen_altivec_vmulosh (odd, operands[1], operands[2]));\n+\n+   emit_insn (gen_altivec_vmrghw (high, even, odd));\n+   emit_insn (gen_altivec_vmrglw (low, even, odd));\n+\n+   emit_insn (gen_altivec_vpkuwum (operands[0], high, low));\n+\n+   DONE;\n+}\")\n \n ;; Fused multiply subtract \n (define_insn \"altivec_vnmsubfp\""}, {"sha": "0ba477c31e429c540fc4aa04a4f6e1a82f33ed06", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "patch": "@@ -1,3 +1,10 @@\n+2008-09-07  Dorit Nuzman  <dorit@il.ibm.com>\n+            Ira Rosen  <irar@il.ibm.com>\n+\n+\tPR tree-optimization/35642\n+\t* lib/target-supports.exp (check_effective_target_vect_short_mult):\n+\tAdd powerpc.\n+\n 2008-09-07  Victor Kaplansky  <victork@il.ibm.com>\n \n \tPR testsuite/37334"}, {"sha": "296506484ad40b3058a7db7feccb2daa4c12cee1", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cc54af2085468f38cb4ce0b7f8a644a17ac9dd20/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=cc54af2085468f38cb4ce0b7f8a644a17ac9dd20", "patch": "@@ -2093,7 +2093,8 @@ proc check_effective_target_vect_short_mult { } {\n \tif { [istarget ia64-*-*]\n \t     || [istarget spu-*-*]\n \t     || [istarget i?86-*-*]\n-\t     || [istarget x86_64-*-*] } {\n+\t     || [istarget x86_64-*-*] \n+             || [istarget powerpc*-*-*] } {\n \t   set et_vect_short_mult_saved 1\n \t}\n     }"}]}