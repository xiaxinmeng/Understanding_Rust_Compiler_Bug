{"sha": "3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2M3MGIzY2ExZWY1OGYzMDJiZjhjMTZkOWU3YzdiYjg2MjY0MDhiZg==", "commit": {"author": {"name": "Jim Wilson", "email": "jimw@sifive.com", "date": "2021-06-03T20:50:34Z"}, "committer": {"name": "Jim Wilson", "email": "jimw@sifive.com", "date": "2021-06-03T20:54:12Z"}, "message": "RISC-V: Enable riscv attributes by default for all riscv targets.\n\nThese were only enabled for embedded elf originally because that was\nthe safe option, and linux had no obvious use for them.  But now that\nwe have new extensions coming like V that affect process state and ABIs,\nthe attributes are expected to be useful for linux, and may be required\nby the psABI.  clang already emits them for all riscv targets.\n\n\tgcc/\n\t* config.gcc (riscv*-*-*): If --with-riscv-attribute not used,\n\tturn it on for all riscv targets.", "tree": {"sha": "24b67ce2d202aa8c8331b66e343c3e023f2a0d0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24b67ce2d202aa8c8331b66e343c3e023f2a0d0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf/comments", "author": null, "committer": null, "parents": [{"sha": "5883e567564c5b3caecba0c13e8a360a14cdc846", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5883e567564c5b3caecba0c13e8a360a14cdc846", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5883e567564c5b3caecba0c13e8a360a14cdc846"}], "stats": {"total": 9, "additions": 1, "deletions": 8}, "files": [{"sha": "6833a6c13d945cd39532e48676482054d0b2fa56", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=3c70b3ca1ef58f302bf8c16d9e7c7bb8626408bf", "patch": "@@ -4605,14 +4605,7 @@ case \"${target}\" in\n \t\t\ttm_defines=\"${tm_defines} TARGET_RISCV_ATTRIBUTE=0\"\n \t\t\t;;\n \t\t\"\"|default)\n-\t\t\tcase \"${target}\" in\n-\t\t\triscv*-*-elf*)\n-\t\t\t\ttm_defines=\"${tm_defines} TARGET_RISCV_ATTRIBUTE=1\"\n-\t\t\t\t;;\n-\t\t\t*)\n-\t\t\t\ttm_defines=\"${tm_defines} TARGET_RISCV_ATTRIBUTE=0\"\n-\t\t\t\t;;\n-\t\t\tesac\n+\t\t\ttm_defines=\"${tm_defines} TARGET_RISCV_ATTRIBUTE=1\"\n \t\t\t;;\n \t\t*)\n \t\t\techo \"--with-riscv-attribute=${with_riscv_attribute} is not supported.  The argument must begin with yes, no or default.\" 1>&2"}]}