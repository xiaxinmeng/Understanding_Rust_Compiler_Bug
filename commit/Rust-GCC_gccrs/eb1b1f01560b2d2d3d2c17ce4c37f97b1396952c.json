{"sha": "eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWIxYjFmMDE1NjBiMmQyZDNkMmMxN2NlNGMzN2Y5N2IxMzk2OTUyYw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-01-28T21:01:51Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-01-28T21:01:51Z"}, "message": "re PR middle-end/69542 (-fcompare-debug failure in simplify-rtx.c on i?86 since r232905)\n\n\tPR middle-end/69542\n\t* lra-remat.c (calculate_local_reg_remat_bb_data): Only consider\n\tnon-debug insns.\n\n\t* gcc.dg/torture/pr69542.c: New test.\n\nFrom-SVN: r232946", "tree": {"sha": "0e91493a3696c4bd10d24e0215970c43f5c935fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e91493a3696c4bd10d24e0215970c43f5c935fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d7e2ecf3307766eba4d1a4d6dd714b8100d79b3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7e2ecf3307766eba4d1a4d6dd714b8100d79b3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7e2ecf3307766eba4d1a4d6dd714b8100d79b3f"}], "stats": {"total": 50, "additions": 49, "deletions": 1}, "files": [{"sha": "4df81d56a199f38e22e25db0e9f99c43f412fa2f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "patch": "@@ -1,3 +1,9 @@\n+2016-01-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/69542\n+\t* lra-remat.c (calculate_local_reg_remat_bb_data): Only consider\n+\tnon-debug insns.\n+\n 2016-01-28  Pat Haugen  <pthaugen@us.ibm.com>\n \n \t* config/rs6000/rs6000.c (output_cbranch): Don't statically predict"}, {"sha": "e729ea93298fb8b6d722c780c936ab47f7f4e395", "filename": "gcc/lra-remat.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Flra-remat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Flra-remat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-remat.c?ref=eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "patch": "@@ -694,7 +694,7 @@ calculate_local_reg_remat_bb_data (void)\n \n   FOR_EACH_BB_FN (bb, cfun)\n     FOR_BB_INSNS (bb, insn)\n-      if (INSN_P (insn))\n+      if (NONDEBUG_INSN_P (insn))\n \tset_bb_regs (bb, insn);\n }\n "}, {"sha": "a378dd62ca4b389055287f3db088b7636efe1845", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "patch": "@@ -1,3 +1,8 @@\n+2016-01-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR middle-end/69542\n+\t* gcc.dg/torture/pr69542.c: New test.\n+\n 2016-01-28  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \t* gcc.target/aarch64/ccmp_1.c: Fix test issue."}, {"sha": "ced5c326ac87f2eff44747d43df37117cf463680", "filename": "gcc/testsuite/gcc.dg/torture/pr69542.c", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr69542.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr69542.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr69542.c?ref=eb1b1f01560b2d2d3d2c17ce4c37f97b1396952c", "patch": "@@ -0,0 +1,37 @@\n+/* PR middle-end/69542 */\n+/* { dg-do compile } */\n+/* { dg-additional-options \"-fcompare-debug\" } */\n+\n+typedef struct A *B;\n+extern int *a[];\n+struct C { B b; struct D *d; };\n+struct A { struct { struct C e[1]; long long f[1]; } u; };\n+struct D { int g; B h[100]; };\n+int b, c, e, g;\n+B d, f;\n+void foo (void) __attribute__ ((__noreturn__));\n+int bar (void)\n+{\n+  int i = 0;\n+  do\n+    {\n+      if ('E' && a[e][0] != 'V')\n+        foo ();\n+      struct D *k = d->u.e[0].d;\n+      B x = k->h[i], o = f->u.e[0].b;\n+      if (b)\n+        return 0;\n+      if (a[g][0] != 'E' && a[g][0] != 'V')\n+        foo ();\n+      struct D *n = o->u.e[0].d;\n+      int r = x->u.f[0];\n+      (void) r;\n+      if (c)\n+        foo ();\n+      B y = n->h[x->u.f[0]];\n+      if (i != y->u.f[0])\n+        return 0;\n+      i++;\n+    }\n+  while (1);\n+}"}]}