{"sha": "e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee", "node_id": "C_kwDOANBUbNoAKGU0NzAzYmQwZTE1YjRlZDZlNWVhZTM2NjA0YjI4YmQ0Y2E0ZjhjZWU", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2023-01-21T19:52:58Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2023-01-22T09:32:50Z"}, "message": "Darwin, libffi, testsuite: Ensure we pick up the convenience lib.\n\nFor several Darwin linker versions, the link paths are first traversed\nlooking for shared libraries, and then again looking for archives.\n\nWe want the paths to be searched for both shared and archives in order\nso that we will find the non-shared libffi in the testsuite (otherwise\nthe installed version in the system will be found instead).\n\nSigned-off-by: Iain Sandoe <iain@sandoe.co.uk>\n\nlibffi/ChangeLog:\n\n\t* testsuite/lib/libffi.exp: Search for both shared and archive\n\tin each path in turn.", "tree": {"sha": "7969e8e3fa536115165c06dce6e2937141b631e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7969e8e3fa536115165c06dce6e2937141b631e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5717e7f6fd5a13356ebc46c3b54e081a99dd826", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5717e7f6fd5a13356ebc46c3b54e081a99dd826", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5717e7f6fd5a13356ebc46c3b54e081a99dd826"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "15d3d5ebd7399cdd15a9985a4723b99cbcf02d43", "filename": "libffi/testsuite/lib/libffi.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee/libffi%2Ftestsuite%2Flib%2Flibffi.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee/libffi%2Ftestsuite%2Flib%2Flibffi.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Ftestsuite%2Flib%2Flibffi.exp?ref=e4703bd0e15b4ed6e5eae36604b28bd4ca4f8cee", "patch": "@@ -384,6 +384,7 @@ proc libffi_target_compile { source dest type options } {\n     if { [istarget \"*-*-darwin9*\"] || [istarget \"*-*-darwin1*\"]\n \t || [istarget \"*-*-darwin2*\"] } {\n \tlappend options \"additional_flags=-Wl,-allow_stack_execute\"\n+\tlappend options \"additional_flags=-Wl,-search_paths_first\"\n     }\n \n     # If you're building the compiler with --prefix set to a place"}]}