{"sha": "9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWEyZDA1ZTBiY2M3OTk0ZTYwYjUzM2RjYWIwNzE1Mjc4Y2ZkN2YwNA==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-05-25T11:59:45Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2010-05-25T11:59:45Z"}, "message": "enable multilibs on powerpc64-apple-darwin\n\n\t* config/rs6000/darwin64.h: Update DARWIN_ARCH_SPEC.\n\t* config/rs6000/t-darwin64: New.\n\t* config.gcc (powerpc64-*-darwin*): Use darwin.opts, t-darwin64,\n\tbuild crt2.\n\nFrom-SVN: r159817", "tree": {"sha": "58eb8357708d4002133110e5faed19e89b8c2803", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58eb8357708d4002133110e5faed19e89b8c2803"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8fde8b401da8b351f0ad3ed914e2b9cc9f3e9899", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fde8b401da8b351f0ad3ed914e2b9cc9f3e9899", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fde8b401da8b351f0ad3ed914e2b9cc9f3e9899"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "7d186a6492e4ca9f9be8167f3f7a9b6d17062765", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "patch": "@@ -1,3 +1,10 @@\n+2010-05-25 Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\t* config/rs6000/darwin64.h: Update DARWIN_ARCH_SPEC.\n+\t* config/rs6000/t-darwin64: New.\n+\t* config.gcc (powerpc64-*-darwin*): Use darwin.opts, t-darwin64,\n+\tbuild crt2.\n+\n 2010-05-25  Christian Borntraeger  <borntraeger@de.ibm.com>\n \n \tPR 44203"}, {"sha": "56f84e18c3111a47459606f720732d92ed1846ff", "filename": "gcc/config.gcc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "patch": "@@ -1906,9 +1906,10 @@ powerpc-*-darwin*)\n \textra_headers=altivec.h\n \t;;\n powerpc64-*-darwin*)\n-\ttm_file=\"${tm_file} ${cpu_type}/darwin8.h ${cpu_type}/darwin64.h\"\n \textra_options=\"${extra_options} ${cpu_type}/darwin.opt\"\n-\t# We're omitting t-darwin8 to avoid building any multilibs\n+\textra_parts=\"crt2.o\"\n+\ttmake_file=\"t-darwin ${cpu_type}/t-darwin ${cpu_type}/t-darwin64 t-slibgcc-darwin\"\n+\ttm_file=\"${tm_file} ${cpu_type}/darwin8.h ${cpu_type}/darwin64.h\"\n \tlto_binary_reader=lto-macho\n \textra_headers=altivec.h\n \t;;"}, {"sha": "b8502beaca37be70b4ba212bafe122eea306b1fa", "filename": "gcc/config/rs6000/darwin64.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig%2Frs6000%2Fdarwin64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig%2Frs6000%2Fdarwin64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin64.h?ref=9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "patch": "@@ -26,7 +26,7 @@\n \t\t\t| MASK_MULTIPLE\t| MASK_NEW_MNEMONICS | MASK_PPC_GFXOPT)\n \n #undef DARWIN_ARCH_SPEC\n-#define DARWIN_ARCH_SPEC \"ppc64\"\n+#define DARWIN_ARCH_SPEC \"%{m32:ppc;:ppc64}\"\n \n #undef DARWIN_SUBARCH_SPEC\n #define DARWIN_SUBARCH_SPEC DARWIN_ARCH_SPEC"}, {"sha": "2a24d7f2855078eac514b90e50a7d920905da6dc", "filename": "gcc/config/rs6000/t-darwin64", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig%2Frs6000%2Ft-darwin64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a2d05e0bcc7994e60b533dcab0715278cfd7f04/gcc%2Fconfig%2Frs6000%2Ft-darwin64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-darwin64?ref=9a2d05e0bcc7994e60b533dcab0715278cfd7f04", "patch": "@@ -0,0 +1,12 @@\n+LIB2_SIDITI_CONV_FUNCS=yes\n+\n+LIB2FUNCS_EXTRA = $(srcdir)/config/rs6000/darwin-tramp.asm \\\n+\t$(srcdir)/config/darwin-64.c \\\n+\t$(srcdir)/config/rs6000/darwin-ldouble.c \\\n+\t$(srcdir)/config/rs6000/darwin-world.asm\n+\n+MULTILIB_OPTIONS = m32\n+MULTILIB_DIRNAMES = ppc\n+\n+#LIBGCC = stmp-multilib\n+#INSTALL_LIBGCC = install-multilib"}]}