{"sha": "3273516f2514845cb4b970b6e3951578082ef4f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI3MzUxNmYyNTE0ODQ1Y2I0Yjk3MGI2ZTM5NTE1NzgwODJlZjRmMQ==", "commit": {"author": {"name": "Saurabh Verma", "email": "saurabh.verma@codito.com", "date": "2005-09-06T22:29:45Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-09-06T22:29:45Z"}, "message": "re PR target/8973 ([arc-7-elf] the interupt handler does not return properly, uses j.d insted of j.d.f)\n\n2005-09-06  Saurabh Verma  <saurabh.verma@codito.com>\n\n        PR target/8973\n        * config/arc/arc.c (arc_output_function_epilogue): Update flags while\n        returning from an interrupt handler.\n\nFrom-SVN: r103972", "tree": {"sha": "0797b461233851c9ddc9cf370ada488f2bfaffa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0797b461233851c9ddc9cf370ada488f2bfaffa6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3273516f2514845cb4b970b6e3951578082ef4f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3273516f2514845cb4b970b6e3951578082ef4f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3273516f2514845cb4b970b6e3951578082ef4f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3273516f2514845cb4b970b6e3951578082ef4f1/comments", "author": null, "committer": null, "parents": [{"sha": "006fa7d4282bf2341c1c0e3162cc2cc70d3706e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/006fa7d4282bf2341c1c0e3162cc2cc70d3706e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/006fa7d4282bf2341c1c0e3162cc2cc70d3706e6"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "5fae469ddeb20ed9361bf034353f4089baa86844", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3273516f2514845cb4b970b6e3951578082ef4f1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3273516f2514845cb4b970b6e3951578082ef4f1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3273516f2514845cb4b970b6e3951578082ef4f1", "patch": "@@ -1,3 +1,9 @@\n+2005-09-06  Saurabh Verma  <saurabh.verma@codito.com>\n+\n+\tPR target/8973\n+\t* config/arc/arc.c (arc_output_function_epilogue): Update flags while\n+\treturning from an interrupt handler.\n+\n 2005-09-06  Saurabh Verma  <saurabh.verma@codito.com>\n \n \tPR target/8972"}, {"sha": "78a95f40ce9f4dedff8a92df0d8f85ba9d063104", "filename": "gcc/config/arc/arc.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3273516f2514845cb4b970b6e3951578082ef4f1/gcc%2Fconfig%2Farc%2Farc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3273516f2514845cb4b970b6e3951578082ef4f1/gcc%2Fconfig%2Farc%2Farc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.c?ref=3273516f2514845cb4b970b6e3951578082ef4f1", "patch": "@@ -1362,8 +1362,13 @@ arc_output_function_epilogue (FILE *file, HOST_WIDE_INT size)\n \tstatic const int regs[4] = {\n \t  0, RETURN_ADDR_REGNUM, ILINK1_REGNUM, ILINK2_REGNUM\n \t};\n-\tfprintf (file, \"\\tj.d %s\\n\", reg_names[regs[fn_type]]);\n-      }\n+\n+\t/* Update the flags, if returning from an interrupt handler. */\n+\tif (ARC_INTERRUPT_P (fn_type))\n+\t  fprintf (file, \"\\tj.d.f %s\\n\", reg_names[regs[fn_type]]);\n+\telse\n+\t  fprintf (file, \"\\tj.d %s\\n\", reg_names[regs[fn_type]]);\n+\t}\n \n       /* If the only register saved is the return address, we need a\n \t nop, unless we have an instruction to put into it.  Otherwise"}]}