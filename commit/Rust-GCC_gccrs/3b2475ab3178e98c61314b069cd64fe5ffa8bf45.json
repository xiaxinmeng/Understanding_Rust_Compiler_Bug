{"sha": "3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2IyNDc1YWIzMTc4ZTk4YzYxMzE0YjA2OWNkNjRmZTVmZmE4YmY0NQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2016-09-01T22:28:29Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2016-09-01T22:28:29Z"}, "message": "rs6000: Rename 110 -> VSCR_REGNO\n\n\n\t* config/rs6000/altivec.md: Use VSCR_REGNO instead of 110 throughout.\n\nFrom-SVN: r239948", "tree": {"sha": "349d7eda88c649ea4be3155f91d373c8a11d9422", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/349d7eda88c649ea4be3155f91d373c8a11d9422"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b2475ab3178e98c61314b069cd64fe5ffa8bf45/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "95bde43a92d0a6952b0707bf817524dcf4d612af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95bde43a92d0a6952b0707bf817524dcf4d612af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95bde43a92d0a6952b0707bf817524dcf4d612af"}], "stats": {"total": 41, "additions": 23, "deletions": 18}, "files": [{"sha": "aa5b1e007387209a3685b8cd9df190f149dab1cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b2475ab3178e98c61314b069cd64fe5ffa8bf45/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b2475ab3178e98c61314b069cd64fe5ffa8bf45/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "patch": "@@ -1,3 +1,7 @@\n+2016-09-01  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* config/rs6000/altivec.md: Use VSCR_REGNO instead of 110 throughout.\n+\n 2016-09-01  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \t* config/rs6000/altivec.md: Use VRSAVE_REGNO instead of 109 throughout."}, {"sha": "857f257edda2c2f39b242977f9d4e0fc7a227452", "filename": "gcc/config/rs6000/altivec.md", "status": "modified", "additions": 19, "deletions": 18, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b2475ab3178e98c61314b069cd64fe5ffa8bf45/gcc%2Fconfig%2Frs6000%2Faltivec.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b2475ab3178e98c61314b069cd64fe5ffa8bf45/gcc%2Fconfig%2Frs6000%2Faltivec.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Faltivec.md?ref=3b2475ab3178e98c61314b069cd64fe5ffa8bf45", "patch": "@@ -508,7 +508,7 @@\n         (unspec:VI [(match_operand:VI 1 \"register_operand\" \"v\")\n \t\t    (match_operand:VI 2 \"register_operand\" \"v\")]\n \t\t   UNSPEC_VADDU))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"<VI_unit>\"\n   \"vaddu<VI_char>s %0,%1,%2\"\n   [(set_attr \"type\" \"vecsimple\")])\n@@ -518,7 +518,7 @@\n         (unspec:VI [(match_operand:VI 1 \"register_operand\" \"v\")\n                     (match_operand:VI 2 \"register_operand\" \"v\")]\n \t\t   UNSPEC_VADDS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"VECTOR_UNIT_ALTIVEC_P (<MODE>mode)\"\n   \"vadds<VI_char>s %0,%1,%2\"\n   [(set_attr \"type\" \"vecsimple\")])\n@@ -554,7 +554,7 @@\n         (unspec:VI [(match_operand:VI 1 \"register_operand\" \"v\")\n                     (match_operand:VI 2 \"register_operand\" \"v\")]\n \t\t   UNSPEC_VSUBU))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"VECTOR_UNIT_ALTIVEC_P (<MODE>mode)\"\n   \"vsubu<VI_char>s %0,%1,%2\"\n   [(set_attr \"type\" \"vecsimple\")])\n@@ -564,7 +564,7 @@\n         (unspec:VI [(match_operand:VI 1 \"register_operand\" \"v\")\n                     (match_operand:VI 2 \"register_operand\" \"v\")]\n \t\t   UNSPEC_VSUBS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"VECTOR_UNIT_ALTIVEC_P (<MODE>mode)\"\n   \"vsubs<VI_char>s %0,%1,%2\"\n   [(set_attr \"type\" \"vecsimple\")])\n@@ -830,7 +830,7 @@\n \t\t      (match_operand:V8HI 2 \"register_operand\" \"v\")\n                       (match_operand:V4SI 3 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VMSUMUHS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vmsumuhs %0,%1,%2,%3\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -841,7 +841,7 @@\n \t\t      (match_operand:V8HI 2 \"register_operand\" \"v\")\n                       (match_operand:V4SI 3 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VMSUMSHS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vmsumshs %0,%1,%2,%3\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -902,7 +902,7 @@\n \t\t      (match_operand:V8HI 2 \"register_operand\" \"v\")\n                       (match_operand:V8HI 3 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VMHADDSHS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vmhaddshs %0,%1,%2,%3\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -913,7 +913,7 @@\n \t\t      (match_operand:V8HI 2 \"register_operand\" \"v\")\n                       (match_operand:V8HI 3 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VMHRADDSHS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vmhraddshs %0,%1,%2,%3\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -1699,7 +1699,7 @@\n         (unspec:V4SI [(match_operand:V16QI 1 \"register_operand\" \"v\")\n                       (match_operand:V4SI 2 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VSUM4UBS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vsum4ubs %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -1709,7 +1709,7 @@\n         (unspec:V4SI [(match_operand:VIshort 1 \"register_operand\" \"v\")\n                       (match_operand:V4SI 2 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VSUM4S))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vsum4s<VI_char>s %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -1722,7 +1722,7 @@\n         (unspec:V4SI [(match_operand:V4SI 1 \"register_operand\" \"v\")\n                       (match_operand:V4SI 2 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VSUM2SWS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))\n    (clobber (match_scratch:V4SI 3 \"=v\"))]\n   \"TARGET_ALTIVEC\"\n {\n@@ -1743,7 +1743,7 @@\n         (unspec:V4SI [(match_operand:V4SI 1 \"register_operand\" \"v\")\n                       (match_operand:V4SI 2 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VSUMSWS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))\n    (clobber (match_scratch:V4SI 3 \"=v\"))]\n   \"TARGET_ALTIVEC\"\n {\n@@ -1764,7 +1764,7 @@\n         (unspec:V4SI [(match_operand:V4SI 1 \"register_operand\" \"v\")\n                       (match_operand:V4SI 2 \"register_operand\" \"v\")]\n \t\t     UNSPEC_VSUMSWS_DIRECT))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vsumsws %0,%1,%2\"\n   [(set_attr \"type\" \"veccomplex\")])\n@@ -2124,7 +2124,7 @@\n         (unspec:V4SI [(match_operand:V4SF 1 \"register_operand\" \"v\")\n                       (match_operand:QI 2 \"immediate_operand\" \"i\")]\n \t\t     UNSPEC_VCTUXS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vctuxs %0,%1,%2\"\n   [(set_attr \"type\" \"vecfloat\")])\n@@ -2134,7 +2134,7 @@\n         (unspec:V4SI [(match_operand:V4SF 1 \"register_operand\" \"v\")\n                       (match_operand:QI 2 \"immediate_operand\" \"i\")]\n \t\t     UNSPEC_VCTSXS))\n-   (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n+   (set (reg:SI VSCR_REGNO) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))]\n   \"TARGET_ALTIVEC\"\n   \"vctsxs %0,%1,%2\"\n   [(set_attr \"type\" \"vecfloat\")])\n@@ -2359,7 +2359,7 @@\n   [(set_attr \"type\" \"veccmp\")])\n \n (define_insn \"altivec_mtvscr\"\n-  [(set (reg:SI 110)\n+  [(set (reg:SI VSCR_REGNO)\n \t(unspec_volatile:SI\n \t [(match_operand:V4SI 0 \"register_operand\" \"v\")] UNSPECV_MTVSCR))]\n   \"TARGET_ALTIVEC\"\n@@ -2368,7 +2368,7 @@\n \n (define_insn \"altivec_mfvscr\"\n   [(set (match_operand:V8HI 0 \"register_operand\" \"=v\")\n-\t(unspec_volatile:V8HI [(reg:SI 110)] UNSPECV_MFVSCR))]\n+\t(unspec_volatile:V8HI [(reg:SI VSCR_REGNO)] UNSPECV_MFVSCR))]\n   \"TARGET_ALTIVEC\"\n   \"mfvscr %0\"\n   [(set_attr \"type\" \"vecsimple\")])\n@@ -2757,7 +2757,8 @@\n \t\t   (unspec:VI [(match_dup 2)\n \t\t\t       (match_operand:VI 1 \"register_operand\" \"v\")]\n \t\t\t      UNSPEC_VSUBS))\n-              (set (reg:SI 110) (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))])\n+\t      (set (reg:SI VSCR_REGNO)\n+\t\t   (unspec:SI [(const_int 0)] UNSPEC_SET_VSCR))])\n    (set (match_operand:VI 0 \"register_operand\" \"=v\")\n         (smax:VI (match_dup 1) (match_dup 3)))]\n   \"TARGET_ALTIVEC\""}]}