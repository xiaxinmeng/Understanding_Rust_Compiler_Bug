{"sha": "79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzllM2Y3ZDU0YmM0ZTM0YjA5NjA4MmQzYjkwMDQyZDlmMGZiYWYxYQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-05-27T20:44:36Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2021-05-27T20:44:36Z"}, "message": "libgomp: Add openacc_{cuda,cublas,cudart} effective targets and use them in openacc testsuite\n\nWhen gcc is configured for nvptx offloading with --without-cuda-driver\nand full CUDA isn't installed, many libgomp.oacc-*/* tests fail,\nsome of them because cuda.h header can't be found, others because\nthe tests can't be linked against -lcuda, -lcudart or -lcublas.\nI usually only have akmod-nvidia and xorg-x11-drv-nvidia-cuda rpms\ninstalled, so libcuda.so.1 can be dlopened and the offloading works,\nbut linking against those libraries isn't possible nor are the\nheaders around (for the plugin itself there is the fallback\nlibgomp/plugin/cuda/cuda.h).\n\nThe following patch adds 3 new effective targets and uses them in tests that\nneeds those.\n\n2021-05-27  Jakub Jelinek  <jakub@redhat.com>\n\n\t* testsuite/lib/libgomp.exp (check_effective_target_openacc_cuda,\n\tcheck_effective_target_openacc_cublas,\n\tcheck_effective_target_openacc_cudart): New.\n\t* testsuite/libgomp.oacc-fortran/host_data-4.f90: Require effective\n\ttarget openacc_cublas.\n\t* testsuite/libgomp.oacc-fortran/host_data-2.f90: Likewise.\n\t* testsuite/libgomp.oacc-fortran/host_data-3.f: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-91.c: Require effective\n\ttarget openacc_cuda.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-70.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-90.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-75.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-69.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-74.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-81.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-72.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-85.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/pr87835.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-82.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-73.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-83.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-78.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-76.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-84.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/lib-79.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/host_data-1.c: Require effective\n\ttargets openacc_cublas and openacc_cudart.\n\t* testsuite/libgomp.oacc-c-c++-common/context-1.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/context-2.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/context-3.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/context-4.c: Likewise.\n\t* testsuite/libgomp.oacc-c-c++-common/acc_get_property-nvptx.c:\n\tRequire effective target openacc_cudart.\n\t* testsuite/libgomp.oacc-c-c++-common/asyncwait-1.c: Add -DUSE_CUDA_H\n\tfor effective target openacc_cuda and add && defined USE_CUDA_H to\n\tpreprocessor conditionals.  Guard -lcuda also on openacc_cuda\n\teffective target.", "tree": {"sha": "a212cde21091bcda9eb38591ffbcc50d00d2b770", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a212cde21091bcda9eb38591ffbcc50d00d2b770"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a617e5d516b508dfea411cf3e82e407f7beed170", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a617e5d516b508dfea411cf3e82e407f7beed170", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a617e5d516b508dfea411cf3e82e407f7beed170"}], "stats": {"total": 99, "additions": 92, "deletions": 7}, "files": [{"sha": "0f4eb6fd4ff2df504a3ea510c2fbe77f4c6b8c0d", "filename": "libgomp/testsuite/lib/libgomp.exp", "status": "modified", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -479,3 +479,56 @@ proc check_effective_target_openacc_radeon_accel_selected { } {\n     return 0;\n }\n \n+# Return 1 if cuda.h and -lcuda are available.\n+\n+proc check_effective_target_openacc_cuda { } {\n+    return [check_no_compiler_messages openacc_cuda executable {\n+#include <cuda.h>\n+int main() {\n+    CUdevice dev;\n+    CUresult r = cuDeviceGet (&dev, 0);\n+    if (r != CUDA_SUCCESS)\n+\treturn 1;\n+    return 0;\n+} } \"-lcuda\" ]\n+}\n+\n+# Return 1 if cublas_v2.h and -lcublas are available.\n+\n+proc check_effective_target_openacc_cublas { } {\n+    return [check_no_compiler_messages openacc_cublas executable {\n+#include <cuda.h>\n+#include <cublas_v2.h>\n+int main() {\n+    cublasStatus_t s;\n+    cublasHandle_t h;\n+    CUdevice dev;\n+    CUresult r = cuDeviceGet (&dev, 0);\n+    if (r != CUDA_SUCCESS)\n+\treturn 1;\n+    s = cublasCreate (&h);\n+    if (s != CUBLAS_STATUS_SUCCESS)\n+\treturn 1;\n+    return 0;\n+} } \"-lcuda -lcublas\" ]\n+}\n+\n+# Return 1 if cuda_runtime_api.h and -lcudart are available.\n+\n+proc check_effective_target_openacc_cudart { } {\n+    return [check_no_compiler_messages openacc_cudart executable {\n+#include <cuda.h>\n+#include <cuda_runtime_api.h>\n+int main() {\n+    cudaError_t e;\n+    int devn;\n+    CUdevice dev;\n+    CUresult r = cuDeviceGet (&dev, 0);\n+    if (r != CUDA_SUCCESS)\n+\treturn 1;\n+    e = cudaGetDevice (&devn);\n+    if (e != cudaSuccess)\n+\treturn 1;\n+    return 0;\n+} } \"-lcuda -lcudart\" ]\n+}"}, {"sha": "82239010d0f5e5ed436c7a95bda50ac43f788562", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/acc_get_property-nvptx.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Facc_get_property-nvptx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Facc_get_property-nvptx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Facc_get_property-nvptx.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -4,6 +4,7 @@\n /* { dg-additional-sources acc_get_property-aux.c } */\n /* { dg-additional-options \"-lcuda -lcudart\" } */\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <openacc.h>\n #include <cuda.h>"}, {"sha": "e91642c162e80b6b277da63dbfe2985ad026cc20", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/asyncwait-1.c", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fasyncwait-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fasyncwait-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fasyncwait-1.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,9 +1,10 @@\n /* { dg-do run } */\n-/* { dg-additional-options \"-lcuda\" { target openacc_nvidia_accel_selected } } */\n+/* { dg-additional-options \"-DUSE_CUDA_H\" { target openacc_cuda } } */\n+/* { dg-additional-options \"-lcuda\" { target { openacc_nvidia_accel_selected && openacc_cuda } } } */\n \n #include <openacc.h>\n #include <stdlib.h>\n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n #include \"cuda.h\"\n #endif\n \n@@ -13,7 +14,7 @@\n int\n main (int argc, char **argv)\n {\n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n     CUresult r;\n     CUstream stream1;\n #endif\n@@ -22,7 +23,7 @@ main (int argc, char **argv)\n     int i;\n     int nbytes;\n \n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n     acc_init (acc_device_nvidia);\n #endif\n \n@@ -216,7 +217,7 @@ main (int argc, char **argv)\n     }\n \n \n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n     r = cuStreamCreate (&stream1, CU_STREAM_NON_BLOCKING);\n     if (r != CUDA_SUCCESS)\n     {\n@@ -650,7 +651,7 @@ main (int argc, char **argv)\n     }\n \n \n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n     r = cuStreamCreate (&stream1, CU_STREAM_NON_BLOCKING);\n     if (r != CUDA_SUCCESS)\n     {\n@@ -902,7 +903,7 @@ main (int argc, char **argv)\n             abort ();\n     }\n \n-#if defined ACC_DEVICE_TYPE_nvidia\n+#if defined ACC_DEVICE_TYPE_nvidia && defined USE_CUDA_H\n     acc_shutdown (acc_device_nvidia);\n #endif\n "}, {"sha": "3479fc7e549ac0e764fe9003824ab4f4c37da9a7", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/context-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-1.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda -lcublas -lcudart\" } */\n+/* { dg-require-effective-target openacc_cublas } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "db82b9097f6f1a8f6027e867173a2065cf6f0bfa", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/context-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-2.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda -lcublas -lcudart\" } */\n+/* { dg-require-effective-target openacc_cublas } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "b96f661cb7ca2d638a54eb02a3a872fb7fae2625", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/context-3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-3.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda -lcublas -lcudart\" } */\n+/* { dg-require-effective-target openacc_cublas } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "7bfd216136b6bbe1f6427c570f27faa1bd16523f", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/context-4.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fcontext-4.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda -lcublas -lcudart\" } */\n+/* { dg-require-effective-target openacc_cublas } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "20f7f049dcc426898b04d644be199be27800a0f1", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/host_data-1.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fhost_data-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fhost_data-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fhost_data-1.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lm -lcuda -lcublas -lcudart -Wall -Wextra\" } */\n+/* { dg-require-effective-target openacc_cublas } */\n+/* { dg-require-effective-target openacc_cudart } */\n \n #include <stdlib.h>\n #include <math.h>"}, {"sha": "00e0ca89f173f42e827359024c5025d59801959e", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-69.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-69.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-69.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-69.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <unistd.h>"}, {"sha": "a2918c08a1248db56b7a5acf27ed2c839826ca0f", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-70.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-70.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-70.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-70.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "99b62f1132a1a24e71e90a2d40e99ae8aebf2472", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-72.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-72.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-72.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-72.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <unistd.h>"}, {"sha": "5b4b3fdde31de37a6d07d85657765c46417c969f", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-73.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-73.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-73.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-73.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <unistd.h>"}, {"sha": "939f255f26c35cf2f70fc697acca66742f653a20", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-74.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-74.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-74.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-74.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "804ee3938ac3abdbabb076e503e3c4ee61487a5b", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-75.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-75.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-75.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-75.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <unistd.h>"}, {"sha": "f9045266f1c4c363e03372e950ce6fa660ae3b87", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-76.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-76.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-76.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-76.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "d8cba4db538a05ec592ddf4382924301e5368c51", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-78.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-78.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-78.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-78.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "b805d5f9b810afa4b9d19e870209c38fd2c41902", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-79.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-79.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-79.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-79.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "958672c45e5f3db8d7678b8df20f277bdb4fdb91", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-81.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-81.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-81.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-81.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "a36f8e69a1868afb2228492f1b82a493d8cdb700", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-82.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-82.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-82.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-82.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "44ef1dbdc1760b82aad0b3288f2107c15aa37346", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-83.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-83.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-83.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-83.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdio.h>\n #include <stdlib.h>"}, {"sha": "c1ff76372fcbecb2bdc659f917d72b210c518214", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-84.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-84.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-84.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-84.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "db250657ac5b7e3460ba812fb37759edefad8045", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-85.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-85.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-85.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-85.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "5ca550585e9aff5c078c3dee4d3e188d7ea8e311", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-90.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-90.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-90.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-90.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <pthread.h>\n #include <stdio.h>"}, {"sha": "d14226c026e433d4de8668eb4910d7de455fde89", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/lib-91.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-91.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-91.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Flib-91.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <stdlib.h>\n #include <unistd.h>"}, {"sha": "e48f3074d58f0eac4913e359ce34c5506a0ad2aa", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/pr87835.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr87835.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr87835.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fpr87835.c?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do run { target openacc_nvidia_accel_selected } } */\n /* { dg-additional-options \"-lcuda\" } */\n+/* { dg-require-effective-target openacc_cuda } */\n \n #include <openacc.h>\n #include <stdlib.h>"}, {"sha": "fe1ae8ab50a557cc23b7040a4e06b569122deb87", "filename": "libgomp/testsuite/libgomp.oacc-fortran/host_data-2.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-2.f90?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -3,6 +3,7 @@\n \n ! { dg-do run { target openacc_nvidia_accel_selected } }\n ! { dg-additional-options \"-lcublas -Wall -Wextra\" }\n+! { dg-require-effective-target openacc_cublas }\n \n program test\n   implicit none"}, {"sha": "912bac68de750b0d8bb18d8a108bd620db196c05", "filename": "libgomp/testsuite/libgomp.oacc-fortran/host_data-3.f", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-3.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-3.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-3.f?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -2,6 +2,7 @@\n \n ! { dg-do run { target openacc_nvidia_accel_selected } }\n ! { dg-additional-options \"-lcublas -Wall -Wextra\" }\n+! { dg-require-effective-target openacc_cublas }\n \n       include \"cublas-fixed.h\"\n "}, {"sha": "0daba8bfcdcbf83ed5bbfa384743a59d71253179", "filename": "libgomp/testsuite/libgomp.oacc-fortran/host_data-4.f90", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fhost_data-4.f90?ref=79e3f7d54bc4e34b096082d3b90042d9f0fbaf1a", "patch": "@@ -2,6 +2,7 @@\n \n ! { dg-do run { target openacc_nvidia_accel_selected } }\n ! { dg-additional-options \"-lcublas -Wall -Wextra\" }\n+! { dg-require-effective-target openacc_cublas }\n \n module cublas\n   interface"}]}