{"sha": "a6a0635ec111936464b2529edf809b17fe29d4c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTZhMDYzNWVjMTExOTM2NDY0YjI1MjllZGY4MDliMTdmZTI5ZDRjMw==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2008-04-01T22:23:04Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2008-04-01T22:23:04Z"}, "message": "re PR ada/33857 (Cannot bootstrap Ada with host gnatmake-4.2)\n\n\tPR ada/33857\n\t* env.c: Always include crt_externs.h if __APPLE__ is defined.\n\t(__gnat_setenv): Use setenv instead of putenv if __APPLE__ is defined.\n\nFrom-SVN: r133806", "tree": {"sha": "b382ba84d2ce61564962972bc5eb8444535302d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b382ba84d2ce61564962972bc5eb8444535302d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6a0635ec111936464b2529edf809b17fe29d4c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6a0635ec111936464b2529edf809b17fe29d4c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6a0635ec111936464b2529edf809b17fe29d4c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6a0635ec111936464b2529edf809b17fe29d4c3/comments", "author": null, "committer": null, "parents": [{"sha": "10743280477e38895d983bccb4e5cd80b16306af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10743280477e38895d983bccb4e5cd80b16306af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10743280477e38895d983bccb4e5cd80b16306af"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "00ae0d60ee628d4bb29b566b31129305bdb8dbf8", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6a0635ec111936464b2529edf809b17fe29d4c3/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6a0635ec111936464b2529edf809b17fe29d4c3/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a6a0635ec111936464b2529edf809b17fe29d4c3", "patch": "@@ -1,3 +1,9 @@\n+2008-04-01  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR ada/33857\n+\t* env.c: Always include crt_externs.h if __APPLE__ is defined.\n+\t(__gnat_setenv): Use setenv instead of putenv if __APPLE__ is defined.\n+\n 2008-04-01  Andreas Jaeger  <aj@suse.de>\n \n \t* g-soccon-linux-ppc.ads: Add new constants SO_REUSEPORT and"}, {"sha": "2b708c3179050bd131d82dc03b9b7f1d5f23e214", "filename": "gcc/ada/env.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6a0635ec111936464b2529edf809b17fe29d4c3/gcc%2Fada%2Fenv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6a0635ec111936464b2529edf809b17fe29d4c3/gcc%2Fada%2Fenv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fenv.c?ref=a6a0635ec111936464b2529edf809b17fe29d4c3", "patch": "@@ -41,10 +41,6 @@\n #include <unixio.h>\n #endif\n \n-#if defined (__APPLE__)\n-#include <crt_externs.h>\n-#endif\n-\n #if defined (__MINGW32__)\n #include <stdlib.h>\n #endif\n@@ -61,6 +57,10 @@ extern char** ppGlobalEnviron;\n #include \"system.h\"\n #endif /* IN_RTS */\n \n+#if defined (__APPLE__)\n+#include <crt_externs.h>\n+#endif\n+\n #include \"env.h\"\n \n void\n@@ -166,7 +166,7 @@ __gnat_setenv (char *name, char *value)\n       LIB$SIGNAL (status);\n   }\n \n-#elif defined (__vxworks) && defined (__RTP__)\n+#elif (defined (__vxworks) && defined (__RTP__)) || defined (__APPLE__)\n   setenv (name, value, 1);\n \n #else\n@@ -178,7 +178,7 @@ __gnat_setenv (char *name, char *value)\n   sprintf (expression, \"%s=%s\", name, value);\n   putenv (expression);\n #if (defined (__FreeBSD__) && (__FreeBSD__ < 7)) \\\n-   || defined (__APPLE__) || defined (__MINGW32__) \\\n+   || defined (__MINGW32__) \\\n    ||(defined (__vxworks) && ! defined (__RTP__))\n   /* On some systems like FreeBSD 6.x and earlier, MacOS X and Windows,\n      putenv is making a copy of the expression string so we can free"}]}