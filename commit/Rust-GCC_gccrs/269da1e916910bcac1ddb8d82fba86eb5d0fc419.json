{"sha": "269da1e916910bcac1ddb8d82fba86eb5d0fc419", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY5ZGExZTkxNjkxMGJjYWMxZGRiOGQ4MmZiYTg2ZWI1ZDBmYzQxOQ==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-10-28T02:56:50Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-10-28T02:56:50Z"}, "message": "tree-ssa-dce.c (mark_stmt_if_obviously_necessary): Use EDGE_COUNT instead of GOTO_DESTINATION.\n\n\t* tree-ssa-dce.c (mark_stmt_if_obviously_necessary)\n\t<COND_EXPR>: Use EDGE_COUNT instead of GOTO_DESTINATION.\n\nFrom-SVN: r89729", "tree": {"sha": "1074891cf9cb826c113cc1053ac87841b2391ec8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1074891cf9cb826c113cc1053ac87841b2391ec8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/269da1e916910bcac1ddb8d82fba86eb5d0fc419", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269da1e916910bcac1ddb8d82fba86eb5d0fc419", "html_url": "https://github.com/Rust-GCC/gccrs/commit/269da1e916910bcac1ddb8d82fba86eb5d0fc419", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269da1e916910bcac1ddb8d82fba86eb5d0fc419/comments", "author": null, "committer": null, "parents": [{"sha": "425834072ea3ccf0da56e91e31260c1e240dd050", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/425834072ea3ccf0da56e91e31260c1e240dd050", "html_url": "https://github.com/Rust-GCC/gccrs/commit/425834072ea3ccf0da56e91e31260c1e240dd050"}], "stats": {"total": 17, "additions": 6, "deletions": 11}, "files": [{"sha": "dd448d1c1dc240561b7690f3e38c469f067e8030", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269da1e916910bcac1ddb8d82fba86eb5d0fc419/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269da1e916910bcac1ddb8d82fba86eb5d0fc419/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=269da1e916910bcac1ddb8d82fba86eb5d0fc419", "patch": "@@ -1,3 +1,8 @@\n+2004-10-28  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* tree-ssa-dce.c (mark_stmt_if_obviously_necessary)\n+\t<COND_EXPR>: Use EDGE_COUNT instead of GOTO_DESTINATION.\n+\n 2004-10-28  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* doc/contrib.texi, doc/cpp.texi, doc/cppopts.texi,"}, {"sha": "47038ad315206fe58198d2b90b2076d1196f8a67", "filename": "gcc/tree-ssa-dce.c", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269da1e916910bcac1ddb8d82fba86eb5d0fc419/gcc%2Ftree-ssa-dce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269da1e916910bcac1ddb8d82fba86eb5d0fc419/gcc%2Ftree-ssa-dce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dce.c?ref=269da1e916910bcac1ddb8d82fba86eb5d0fc419", "patch": "@@ -330,17 +330,7 @@ mark_stmt_if_obviously_necessary (tree stmt, bool aggressive)\n       return;\n \n     case COND_EXPR:\n-      if (GOTO_DESTINATION (COND_EXPR_THEN (stmt))\n-\t  == GOTO_DESTINATION (COND_EXPR_ELSE (stmt)))\n-\t{\n-\t  /* A COND_EXPR is obviously dead if the target labels are the same.\n-\t     We cannot kill the statement at this point, so to prevent the\n-\t     statement from being marked necessary, we replace the condition\n-\t     with a constant.  The stmt is killed later on in cfg_cleanup.  */\n-\t  COND_EXPR_COND (stmt) = integer_zero_node;\n-\t  modify_stmt (stmt);\n-\t  return;\n-\t}\n+      gcc_assert (EDGE_COUNT (bb_for_stmt (stmt)->succs) == 2);\n       /* Fall through.  */\n \n     case SWITCH_EXPR:"}]}