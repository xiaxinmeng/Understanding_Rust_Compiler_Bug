{"sha": "d3a02ae53b0aa546faa12956efe12ec7cb23db32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNhMDJhZTUzYjBhYTU0NmZhYTEyOTU2ZWZlMTJlYzdjYjIzZGIzMg==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2019-02-25T20:38:42Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2019-02-25T20:38:42Z"}, "message": "c.opt (Wmissing-attributes): Clean up doc string.\n\n2019-02-25  Sandra Loosemore  <sandra@codesourcery.com>\n\t    Martin Sebor  <msebor@gmail.com>\n\n\tgcc/\n\t* c-family/c.opt (Wmissing-attributes): Clean up doc string.\n\t* common.opt (Wattribute-alias): Likewise.\n\t* doc/invoke.texi (Option Summary): List general form of\n\t-Wattribute-alias=.  List positive form of -Wmissing-attributes.\n\t(-Wmissing-attributes): Invert entry, rewrite and correct default.\n\tAdd cross-references.\n\t(-Wattribute-alias): Rewrite and correct default.  Mention\n\tconsidered attributes (same as for -Wmissing-attributes).\n\nCo-Authored-By: Martin Sebor <msebor@gmail.com>\n\nFrom-SVN: r269196", "tree": {"sha": "ce6e6b66821c2de30155ac3e8356c73245b008db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce6e6b66821c2de30155ac3e8356c73245b008db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3a02ae53b0aa546faa12956efe12ec7cb23db32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3a02ae53b0aa546faa12956efe12ec7cb23db32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3a02ae53b0aa546faa12956efe12ec7cb23db32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3a02ae53b0aa546faa12956efe12ec7cb23db32/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "db739d3ca381fc1c149611677f7fbabbcca3318d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db739d3ca381fc1c149611677f7fbabbcca3318d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db739d3ca381fc1c149611677f7fbabbcca3318d"}], "stats": {"total": 63, "additions": 47, "deletions": 16}, "files": [{"sha": "b146480f84dc74452a37e5fd4c8262a8917a9372", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3a02ae53b0aa546faa12956efe12ec7cb23db32", "patch": "@@ -1,3 +1,15 @@\n+2019-02-25  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    Martin Sebor  <msebor@gmail.com>\n+\n+\t* c-family/c.opt (Wmissing-attributes): Clean up doc string.\n+\t* common.opt (Wattribute-alias): Likewise.\n+\t* doc/invoke.texi (Option Summary): List general form of\n+\t-Wattribute-alias=.  List positive form of -Wmissing-attributes.\n+\t(-Wmissing-attributes): Invert entry, rewrite and correct default.\n+\tAdd cross-references.\n+\t(-Wattribute-alias): Rewrite and correct default.  Mention\n+\tconsidered attributes (same as for -Wmissing-attributes).\n+\n 2019-02-25  Paul A. Clarke  <pc@us.ibm.com>\n \n [gcc]"}, {"sha": "962973ae6043875a3aa12b20123e676e8dcda6d2", "filename": "gcc/c-family/c.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fc-family%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fc-family%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc.opt?ref=d3a02ae53b0aa546faa12956efe12ec7cb23db32", "patch": "@@ -818,7 +818,7 @@ Warn on primary template declaration.\n Wmissing-attributes\n C ObjC C++ ObjC++ Var(warn_missing_attributes) Warning LangEnabledBy(C ObjC C++ ObjC++,Wall)\n Warn about declarations of entities that may be missing attributes\n-that related entities have been declared with it.\n+that related entities have been declared with.\n \n Wmissing-format-attribute\n C ObjC C++ ObjC++ Warning Alias(Wsuggest-attribute=format)"}, {"sha": "fb42e18cfdf3234cc90c4e2641e66954d1e71b99", "filename": "gcc/common.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=d3a02ae53b0aa546faa12956efe12ec7cb23db32", "patch": "@@ -552,11 +552,11 @@ Warn about inappropriate attribute usage.\n \n Wattribute-alias\n Common Alias(Wattribute_alias=, 1, 0) Warning\n-Warn about type safety and similar errors and mismatches in attribute alias and related.\n+Warn about type safety and similar errors and mismatches in declarations with alias attributes.\n \n Wattribute-alias=\n Common Joined RejectNegative UInteger Var(warn_attribute_alias) Init(1) Warning IntegerRange(0, 2)\n-Warn about type safety and similar errors and mismatches in attribute alias and related.\n+Warn about type safety and similar errors and mismatches in declarations with alias attributes.\n \n Wcannot-profile\n Common Var(warn_cannot_profile) Init(1) Warning"}, {"sha": "dedf3c4d912888a0e7e4cf2a9c0ae478fe097531", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 32, "deletions": 13, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a02ae53b0aa546faa12956efe12ec7cb23db32/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=d3a02ae53b0aa546faa12956efe12ec7cb23db32", "patch": "@@ -288,7 +288,7 @@ Objective-C and Objective-C++ Dialects}.\n -Walloc-zero  -Walloc-size-larger-than=@var{byte-size} @gol\n -Walloca  -Walloca-larger-than=@var{byte-size} @gol\n -Wno-aggressive-loop-optimizations  -Warray-bounds  -Warray-bounds=@var{n} @gol\n--Wno-attributes  -Wno-attribute-alias @gol\n+-Wno-attributes  -Wattribute-alias=@var{n}  @gol\n -Wbool-compare  -Wbool-operation @gol\n -Wno-builtin-declaration-mismatch @gol\n -Wno-builtin-macro-redefined  -Wc90-c99-compat  -Wc99-c11-compat @gol\n@@ -322,7 +322,7 @@ Objective-C and Objective-C++ Dialects}.\n -Winvalid-pch  -Wlarger-than=@var{byte-size} @gol\n -Wlogical-op  -Wlogical-not-parentheses  -Wlong-long @gol\n -Wmain  -Wmaybe-uninitialized  -Wmemset-elt-size  -Wmemset-transposed-args @gol\n--Wmisleading-indentation  -Wno-missing-attributes  -Wmissing-braces @gol\n+-Wmisleading-indentation  -Wmissing-attributes  -Wmissing-braces @gol\n -Wmissing-field-initializers  -Wmissing-format-attribute @gol\n -Wmissing-include-dirs  -Wmissing-noreturn  -Wmissing-profile @gol\n -Wno-multichar  -Wmultistatement-macros  -Wnonnull  -Wnonnull-compare @gol\n@@ -5056,18 +5056,18 @@ about the layout of the file that the directive references.\n \n This warning is enabled by @option{-Wall} in C and C++.\n \n-@item -Wno-missing-attributes\n+@item -Wmissing-attributes\n @opindex Wmissing-attributes\n @opindex Wno-missing-attributes\n Warn when a declaration of a function is missing one or more attributes\n that a related function is declared with and whose absence may adversely\n affect the correctness or efficiency of generated code.  For example,\n the warning is issued for declarations of aliases that use attributes\n to specify less restrictive requirements than those of their targets.\n-This typically represents a potential optimization oportunity rather\n-than a hidden bug.  The @option{-Wattribute-alias} option controls warnings\n-issued for mismatches between declarations of aliases and their targets\n-that might be indicative of code generation bugs.\n+This typically represents a potential optimization opportunity.\n+By contrast, the @option{-Wattribute-alias=2} option controls warnings\n+issued when the alias is more restrictive than the target, which could\n+lead to incorrect code generation.\n Attributes considered include @code{alloc_align}, @code{alloc_size},\n @code{cold}, @code{const}, @code{hot}, @code{leaf}, @code{malloc},\n @code{nonnull}, @code{noreturn}, @code{nothrow}, @code{pure},\n@@ -5080,6 +5080,13 @@ or @code{nonnull} is declared without it.  Attributes @code{deprecated},\n @code{error}, and @code{warning} suppress the warning.\n (@pxref{Function Attributes}).\n \n+You can use the @code{copy} attribute to apply the same\n+set of attributes to a declaration as that on another declaration without\n+explicitly enumerating the attributes. This attribute can be applied\n+to declarations of functions (@pxref{Common Function Attributes}),\n+variables (@pxref{Common Variable Attributes}), or types\n+(@pxref{Common Type Attributes}).\n+\n @option{-Wmissing-attributes} is enabled by @option{-Wall}.\n \n For example, since the declaration of the primary function template\n@@ -6107,7 +6114,6 @@ false positives and is deactivated by default.\n Warn about declarations using the @code{alias} and similar attributes whose\n target is incompatible with the type of the alias.\n @xref{Function Attributes,,Declaring Attributes of Functions}.\n-The @option{-Wattribute-alias=1} is  enabled by @option{-Wall}.\n \n @table @gcctabopt\n @item -Wattribute-alias=1\n@@ -6116,13 +6122,26 @@ incompatibilities between the type of the alias declaration and that of its\n target.  Such incompatibilities are typically indicative of bugs.\n \n @item -Wattribute-alias=2\n-At this level @option{-Wattribute-alias} also diagnoses mismatches between\n-the set of attributes of the alias declaration and the attributes applied\n-to its target.  Although in some cases such mismatches may indicate bugs,\n-in other cases they may be benign and could be resolved simply by adding\n-the missing attribute to the target.\n+\n+At this level @option{-Wattribute-alias} also diagnoses cases where\n+the attributes of the alias declaration are more restrictive than the\n+attributes applied to its target.  These mismatches can potentially\n+result in incorrect code generation.  In other cases they may be\n+benign and could be resolved simply by adding the missing attribute to\n+the target.  For comparison, see the @option{-Wmissing-attributes}\n+option, which controls diagnostics when the alias declaration is less\n+restrictive than the target, rather than more restrictive.\n+\n+Attributes considered include @code{alloc_align}, @code{alloc_size},\n+@code{cold}, @code{const}, @code{hot}, @code{leaf}, @code{malloc},\n+@code{nonnull}, @code{noreturn}, @code{nothrow}, @code{pure},\n+@code{returns_nonnull}, and @code{returns_twice}.\n @end table\n \n+@option{-Wattribute-alias} is equivalent to @option{-Wattribute-alias=1}.\n+This is the default.  You can disable these warnings with either\n+@option{-Wno-attribute-alias} or @option{-Wattribute-alias=0}.\n+\n @item -Wbool-compare\n @opindex Wno-bool-compare\n @opindex Wbool-compare"}]}