{"sha": "14b5d8ec2b97b2872e17a78fd9be745e0781560c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRiNWQ4ZWMyYjk3YjI4NzJlMTdhNzhmZDliZTc0NWUwNzgxNTYwYw==", "commit": {"author": {"name": "Matthew Gretton-Dann", "email": "matthew.gretton-dann@arm.com", "date": "2017-12-05T19:16:52Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2017-12-05T19:16:52Z"}, "message": "dump-noaddr.x: Generate dump files in tmpdir.\n\n2017-12-05  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>\n\n\t* gcc.c-torture/unsorted/dump-noaddr.x: Generate dump files in\n\ttmpdir.\n\nFrom-SVN: r255432", "tree": {"sha": "83d9b68e3aa1c670d8842f7ef874c12d39c5e7e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/83d9b68e3aa1c670d8842f7ef874c12d39c5e7e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14b5d8ec2b97b2872e17a78fd9be745e0781560c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14b5d8ec2b97b2872e17a78fd9be745e0781560c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14b5d8ec2b97b2872e17a78fd9be745e0781560c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14b5d8ec2b97b2872e17a78fd9be745e0781560c/comments", "author": {"login": "matt-gretton-dann", "id": 53790742, "node_id": "MDQ6VXNlcjUzNzkwNzQy", "avatar_url": "https://avatars.githubusercontent.com/u/53790742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matt-gretton-dann", "html_url": "https://github.com/matt-gretton-dann", "followers_url": "https://api.github.com/users/matt-gretton-dann/followers", "following_url": "https://api.github.com/users/matt-gretton-dann/following{/other_user}", "gists_url": "https://api.github.com/users/matt-gretton-dann/gists{/gist_id}", "starred_url": "https://api.github.com/users/matt-gretton-dann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matt-gretton-dann/subscriptions", "organizations_url": "https://api.github.com/users/matt-gretton-dann/orgs", "repos_url": "https://api.github.com/users/matt-gretton-dann/repos", "events_url": "https://api.github.com/users/matt-gretton-dann/events{/privacy}", "received_events_url": "https://api.github.com/users/matt-gretton-dann/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6981f098df43865ad183293c0c7c3d2f9374460e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6981f098df43865ad183293c0c7c3d2f9374460e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6981f098df43865ad183293c0c7c3d2f9374460e"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "983bcd86b866202c8673c0cc91e8ef034ae5dcf2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14b5d8ec2b97b2872e17a78fd9be745e0781560c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14b5d8ec2b97b2872e17a78fd9be745e0781560c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=14b5d8ec2b97b2872e17a78fd9be745e0781560c", "patch": "@@ -1,3 +1,8 @@\n+2017-12-05  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>\n+\n+\t* gcc.c-torture/unsorted/dump-noaddr.x: Generate dump files in\n+\ttmpdir.\n+\n 2017-12-05  Nathan Sidwell  <nathan@acm.org>\n \n \tPR c++/83287"}, {"sha": "c70741d5f3741ef6e4da0a507e46850f13a6c43a", "filename": "gcc/testsuite/gcc.c-torture/unsorted/dump-noaddr.x", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14b5d8ec2b97b2872e17a78fd9be745e0781560c/gcc%2Ftestsuite%2Fgcc.c-torture%2Funsorted%2Fdump-noaddr.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14b5d8ec2b97b2872e17a78fd9be745e0781560c/gcc%2Ftestsuite%2Fgcc.c-torture%2Funsorted%2Fdump-noaddr.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Funsorted%2Fdump-noaddr.x?ref=14b5d8ec2b97b2872e17a78fd9be745e0781560c", "patch": "@@ -9,14 +9,14 @@ proc dump_compare { src options } {\n \n     # loop through all the options\n     foreach option $option_list {\n-\tfile delete -force dump1\n-\tfile mkdir dump1\n-\tc-torture-compile $src \"$option $options -dumpbase dump1/$dumpbase -DMASK=1 -x c --param ggc-min-heapsize=1 -fdump-ipa-all -fdump-rtl-all -fdump-tree-all -fdump-noaddr\"\n-\tfile delete -force dump2\n-\tfile mkdir dump2\n-\tc-torture-compile $src \"$option $options -dumpbase dump2/$dumpbase -DMASK=2 -x c -fdump-ipa-all -fdump-rtl-all -fdump-tree-all -fdump-noaddr\"\n-\tforeach dump1 [lsort [glob -nocomplain dump1/*]] {\n-\t    regsub dump1/ $dump1 dump2/ dump2\n+\tfile delete -force $tmpdir/dump1\n+\tfile mkdir $tmpdir/dump1\n+\tc-torture-compile $src \"$option $options -dumpbase $tmpdir/dump1/$dumpbase -DMASK=1 -x c --param ggc-min-heapsize=1 -fdump-ipa-all -fdump-rtl-all -fdump-tree-all -fdump-noaddr\"\n+\tfile delete -force $tmpdir/dump2\n+\tfile mkdir $tmpdir/dump2\n+\tc-torture-compile $src \"$option $options -dumpbase $tmpdir/dump2/$dumpbase -DMASK=2 -x c -fdump-ipa-all -fdump-rtl-all -fdump-tree-all -fdump-noaddr\"\n+\tforeach dump1 [lsort [glob -nocomplain $tmpdir/dump1/*]] {\n+\t    set dump2 \"$tmpdir/dump2/[file tail $dump1]\"\n \t    set dumptail \"gcc.c-torture/unsorted/[file tail $dump1]\"\n \t    regsub {\\.\\d+((t|r|i)\\.[^.]+)$} $dumptail {.*\\1} dumptail\n \t    set tmp [ diff \"$dump1\" \"$dump2\" ]\n@@ -29,8 +29,8 @@ proc dump_compare { src options } {\n \t    }\n \t}\n     }\n-    file delete -force dump1\n-    file delete -force dump2\n+    file delete -force $tmpdir/dump1\n+    file delete -force $tmpdir/dump2\n }\n \n dump_compare $src $options"}]}