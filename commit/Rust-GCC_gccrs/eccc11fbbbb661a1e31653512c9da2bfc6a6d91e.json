{"sha": "eccc11fbbbb661a1e31653512c9da2bfc6a6d91e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWNjYzExZmJiYmI2NjFhMWUzMTY1MzUxMmM5ZGEyYmZjNmE2ZDkxZQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-05-20T01:12:04Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-05-20T01:12:04Z"}, "message": "(scc0_di, scc_di, seq, sne, sgt, sgtu, slt, sltu, sge, sgeu,\n\nsle, sleu): Add coldfire support.\n\nFrom-SVN: r14106", "tree": {"sha": "12c9ad25b8604688a409e23d5b49c7a3c2fa6888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12c9ad25b8604688a409e23d5b49c7a3c2fa6888"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e/comments", "author": null, "committer": null, "parents": [{"sha": "102701ff6c2024dd297fed5c28f2397945a90148", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/102701ff6c2024dd297fed5c28f2397945a90148", "html_url": "https://github.com/Rust-GCC/gccrs/commit/102701ff6c2024dd297fed5c28f2397945a90148"}], "stats": {"total": 155, "additions": 139, "deletions": 16}, "files": [{"sha": "3dc3dabf576a44cc7023807a4304c64342ad4d2c", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 139, "deletions": 16, "changes": 155, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eccc11fbbbb661a1e31653512c9da2bfc6a6d91e/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=eccc11fbbbb661a1e31653512c9da2bfc6a6d91e", "patch": "@@ -5249,7 +5249,17 @@\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n     (match_operator 1 \"valid_dbcc_comparison_p\"\n       [(match_operand:DI 2 \"general_operand\" \"ro\") (const_int 0)]))]\n-  \"\"\n+  \"! TARGET_5200\"\n+  \"*\n+{\n+  return output_scc_di (operands[1], operands[2], const0_rtx, operands[0]);\n+} \")\n+\n+(define_insn \"scc0_di_5200\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+    (match_operator 1 \"valid_dbcc_comparison_p\"\n+      [(match_operand:DI 2 \"general_operand\" \"ro\") (const_int 0)]))]\n+  \"TARGET_5200\"\n   \"*\n {\n   return output_scc_di (operands[1], operands[2], const0_rtx, operands[0]);\n@@ -5260,7 +5270,18 @@\n     (match_operator 1 \"valid_dbcc_comparison_p\"\n       [(match_operand:DI 2 \"general_operand\" \"ro,r\")\n        (match_operand:DI 3 \"general_operand\" \"r,ro\")]))]\n-  \"\"\n+  \"! TARGET_5200\"\n+  \"*\n+{\n+  return output_scc_di (operands[1], operands[2], operands[3], operands[0]);\n+} \")\n+\n+(define_insn \"scc_di_5200\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d,d\")\n+    (match_operator 1 \"valid_dbcc_comparison_p\"\n+      [(match_operand:DI 2 \"general_operand\" \"ro,r\")\n+       (match_operand:DI 3 \"general_operand\" \"r,ro\")]))]\n+  \"TARGET_5200\"\n   \"*\n {\n   return output_scc_di (operands[1], operands[2], operands[3], operands[0]);\n@@ -5282,7 +5303,16 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(eq:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n+  \"*\n+  cc_status = cc_prev_status;\n+  OUTPUT_JUMP (\\\"seq %0\\\", \\\"fseq %0\\\", \\\"seq %0\\\");\n+\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(eq:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"*\n   cc_status = cc_prev_status;\n   OUTPUT_JUMP (\\\"seq %0\\\", \\\"fseq %0\\\", \\\"seq %0\\\");\n@@ -5304,7 +5334,16 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(ne:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n+  \"*\n+  cc_status = cc_prev_status;\n+  OUTPUT_JUMP (\\\"sne %0\\\", \\\"fsne %0\\\", \\\"sne %0\\\");\n+\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(ne:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"*\n   cc_status = cc_prev_status;\n   OUTPUT_JUMP (\\\"sne %0\\\", \\\"fsne %0\\\", \\\"sne %0\\\");\n@@ -5326,16 +5365,38 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(gt:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n   \"*\n   cc_status = cc_prev_status;\n   OUTPUT_JUMP (\\\"sgt %0\\\", \\\"fsgt %0\\\", 0);\n \")\n \n-(define_insn \"sgtu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(gt:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n+  \"*\n+  cc_status = cc_prev_status;\n+  OUTPUT_JUMP (\\\"sgt %0\\\", \\\"fsgt %0\\\", 0);\n+\")\n+\n+(define_expand \"sgtu\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"\")\n \t(gtu:QI (cc0) (const_int 0)))]\n   \"\"\n+  \"\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+\t(gtu:QI (cc0) (const_int 0)))]\n+  \"! TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     return \\\"shi %0\\\"; \")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(gtu:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      return \\\"shi %0\\\"; \")\n \n@@ -5355,14 +5416,34 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(lt:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      OUTPUT_JUMP (\\\"slt %0\\\", \\\"fslt %0\\\", \\\"smi %0\\\"); \")\n \n-(define_insn \"sltu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(lt:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     OUTPUT_JUMP (\\\"slt %0\\\", \\\"fslt %0\\\", \\\"smi %0\\\"); \")\n+\n+(define_expand \"sltu\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"\")\n \t(ltu:QI (cc0) (const_int 0)))]\n   \"\"\n+  \"\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+\t(ltu:QI (cc0) (const_int 0)))]\n+  \"! TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     return \\\"scs %0\\\"; \")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(ltu:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      return \\\"scs %0\\\"; \")\n \n@@ -5382,14 +5463,34 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(ge:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      OUTPUT_JUMP (\\\"sge %0\\\", \\\"fsge %0\\\", \\\"spl %0\\\"); \")\n \n-(define_insn \"sgeu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(ge:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     OUTPUT_JUMP (\\\"sge %0\\\", \\\"fsge %0\\\", \\\"spl %0\\\"); \")\n+\n+(define_expand \"sgeu\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"\")\n \t(geu:QI (cc0) (const_int 0)))]\n   \"\"\n+  \"\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+\t(geu:QI (cc0) (const_int 0)))]\n+  \"! TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     return \\\"scc %0\\\"; \")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(geu:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      return \\\"scc %0\\\"; \")\n \n@@ -5409,16 +5510,38 @@\n (define_insn \"\"\n   [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n \t(le:QI (cc0) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_5200\"\n   \"*\n   cc_status = cc_prev_status;\n   OUTPUT_JUMP (\\\"sle %0\\\", \\\"fsle %0\\\", 0);\n \")\n \n-(define_insn \"sleu\"\n-  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(le:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n+  \"*\n+  cc_status = cc_prev_status;\n+  OUTPUT_JUMP (\\\"sle %0\\\", \\\"fsle %0\\\", 0);\n+\")\n+\n+(define_expand \"sleu\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"\")\n \t(leu:QI (cc0) (const_int 0)))]\n   \"\"\n+  \"\")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=dm\")\n+\t(leu:QI (cc0) (const_int 0)))]\n+  \"! TARGET_5200\"\n+  \"* cc_status = cc_prev_status;\n+     return \\\"sls %0\\\"; \")\n+\n+(define_insn \"\"\n+  [(set (match_operand:QI 0 \"general_operand\" \"=d\")\n+\t(leu:QI (cc0) (const_int 0)))]\n+  \"TARGET_5200\"\n   \"* cc_status = cc_prev_status;\n      return \\\"sls %0\\\"; \")\n \f"}]}