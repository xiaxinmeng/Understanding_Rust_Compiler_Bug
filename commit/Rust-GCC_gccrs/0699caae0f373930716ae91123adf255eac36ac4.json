{"sha": "0699caae0f373930716ae91123adf255eac36ac4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDY5OWNhYWUwZjM3MzkzMDcxNmFlOTExMjNhZGYyNTVlYWMzNmFjNA==", "commit": {"author": {"name": "Renlin Li", "email": "renlin.li@arm.com", "date": "2015-01-26T15:42:15Z"}, "committer": {"name": "Renlin Li", "email": "renlin@gcc.gnu.org", "date": "2015-01-26T15:42:15Z"}, "message": "[AARCH64]Fix TLS local exec model addressing code generation inconsistency.\n\ngcc/\n\n\t* config/aarch64/aarch64.c (aarch64_load_symref_appropriately): Correct\n\tthe comment.\n\t* config/aarch64/aarch64.md * (tlsle_small_<mode>): Add left shift\n\t12-bit for higher part.\n\nFrom-SVN: r220116", "tree": {"sha": "69dc8d1bde2d61578b87121829520c67aa7060d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69dc8d1bde2d61578b87121829520c67aa7060d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0699caae0f373930716ae91123adf255eac36ac4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0699caae0f373930716ae91123adf255eac36ac4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0699caae0f373930716ae91123adf255eac36ac4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0699caae0f373930716ae91123adf255eac36ac4/comments", "author": null, "committer": null, "parents": [{"sha": "ee5f05239f02229f9014853e738cfa5d83f66459", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee5f05239f02229f9014853e738cfa5d83f66459", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee5f05239f02229f9014853e738cfa5d83f66459"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "57fb5f15dc8781a7c8ddb85725bc51c90e6c2937", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0699caae0f373930716ae91123adf255eac36ac4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0699caae0f373930716ae91123adf255eac36ac4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0699caae0f373930716ae91123adf255eac36ac4", "patch": "@@ -1,3 +1,10 @@\n+2015-01-26  Renlin Li  <renlin.li@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_load_symref_appropriately): Correct\n+\tthe comment.\n+\t* config/aarch64/aarch64.md (tlsle_small_<mode>): Add left shift 12-bit\n+\tfor higher part.\n+\n 2015-01-26  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/64764"}, {"sha": "b923fdb08a8e653570e51cf516dc551955961704", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0699caae0f373930716ae91123adf255eac36ac4/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0699caae0f373930716ae91123adf255eac36ac4/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=0699caae0f373930716ae91123adf255eac36ac4", "patch": "@@ -818,8 +818,8 @@ tls_symbolic_operand_type (rtx addr)\n \n    Local Exec:\n    mrs  tp, tpidr_el0\n-   add  t0, tp, #:tprel_hi12:imm\n-   add  t0, #:tprel_lo12_nc:imm\n+   add  t0, tp, #:tprel_hi12:imm, lsl #12\n+   add  t0, t0, #:tprel_lo12_nc:imm\n */\n \n static void"}, {"sha": "b81ecb273ae378004641adb58fe1f6bd884c83f8", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0699caae0f373930716ae91123adf255eac36ac4/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0699caae0f373930716ae91123adf255eac36ac4/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=0699caae0f373930716ae91123adf255eac36ac4", "patch": "@@ -4224,7 +4224,7 @@\n                    (match_operand 2 \"aarch64_tls_le_symref\" \"S\")]\n \t\t   UNSPEC_GOTSMALLTLS))]\n   \"\"\n-  \"add\\\\t%<w>0, %<w>1, #%G2\\;add\\\\t%<w>0, %<w>0, #%L2\"\n+  \"add\\\\t%<w>0, %<w>1, #%G2, lsl #12\\;add\\\\t%<w>0, %<w>0, #%L2\"\n   [(set_attr \"type\" \"alu_sreg\")\n    (set_attr \"length\" \"8\")]\n )"}]}