{"sha": "b6717379621288e10cbb2bb6b440947adcabd9cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY3MTczNzk2MjEyODhlMTBjYmIyYmI2YjQ0MDk0N2FkY2FiZDljYg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-08-30T15:34:50Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-08-30T15:34:50Z"}, "message": "stl_iterator.h (make_move_iterator): Implement DR2061.\n\n2011-08-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/bits/stl_iterator.h (make_move_iterator): Implement DR2061.\n\t* testsuite/24_iterators/move_iterator/dr2061.cc: New.\n\t* testsuite/20_util/weak_ptr/comparison/cmp_neg.cc: Adjust dg-warning\n\tline numbers.\n\nFrom-SVN: r178330", "tree": {"sha": "1a5993d25989ccbd3bee8813af15031c7592ad57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a5993d25989ccbd3bee8813af15031c7592ad57"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6717379621288e10cbb2bb6b440947adcabd9cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6717379621288e10cbb2bb6b440947adcabd9cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6717379621288e10cbb2bb6b440947adcabd9cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6717379621288e10cbb2bb6b440947adcabd9cb/comments", "author": null, "committer": null, "parents": [{"sha": "505920d6b128de2b78279486a2a1a95e38f5f940", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/505920d6b128de2b78279486a2a1a95e38f5f940", "html_url": "https://github.com/Rust-GCC/gccrs/commit/505920d6b128de2b78279486a2a1a95e38f5f940"}], "stats": {"total": 49, "additions": 43, "deletions": 6}, "files": [{"sha": "dac79834adcb359631afe575286d7b18b8ccffb5", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b6717379621288e10cbb2bb6b440947adcabd9cb", "patch": "@@ -1,3 +1,10 @@\n+2011-08-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/bits/stl_iterator.h (make_move_iterator): Implement DR2061.\n+\t* testsuite/24_iterators/move_iterator/dr2061.cc: New.\n+\t* testsuite/20_util/weak_ptr/comparison/cmp_neg.cc: Adjust dg-warning\n+\tline numbers.\n+\n 2011-08-30  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* config/os/mingw32/error_constants.h: Fix commas."}, {"sha": "624ae64c0ced687e1ba113583c1eac7118fdbcc0", "filename": "libstdc++-v3/include/bits/stl_iterator.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator.h?ref=b6717379621288e10cbb2bb6b440947adcabd9cb", "patch": "@@ -1,6 +1,7 @@\n // Iterators -*- C++ -*-\n \n-// Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010\n+// Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,\n+// 2010, 2011\n // Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n@@ -1115,7 +1116,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \n   template<typename _Iterator>\n     inline move_iterator<_Iterator>\n-    make_move_iterator(const _Iterator& __i)\n+    make_move_iterator(_Iterator __i)\n     { return move_iterator<_Iterator>(__i); }\n \n   template<typename _Iterator, typename _ReturnType"}, {"sha": "d007c5a9c3060a9d0d83a97ab26384265c9a73ee", "filename": "libstdc++-v3/testsuite/20_util/weak_ptr/comparison/cmp_neg.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fweak_ptr%2Fcomparison%2Fcmp_neg.cc?ref=b6717379621288e10cbb2bb6b440947adcabd9cb", "patch": "@@ -52,8 +52,8 @@ main()\n // { dg-warning \"note\" \"\" { target *-*-* } 479 }\n // { dg-warning \"note\" \"\" { target *-*-* } 468 }\n // { dg-warning \"note\" \"\" { target *-*-* } 829 }\n-// { dg-warning \"note\" \"\" { target *-*-* } 1055 }\n-// { dg-warning \"note\" \"\" { target *-*-* } 1049 }\n-// { dg-warning \"note\" \"\" { target *-*-* } 341 }\n-// { dg-warning \"note\" \"\" { target *-*-* } 291 }\n+// { dg-warning \"note\" \"\" { target *-*-* } 1056 }\n+// { dg-warning \"note\" \"\" { target *-*-* } 1050 }\n+// { dg-warning \"note\" \"\" { target *-*-* } 342 }\n+// { dg-warning \"note\" \"\" { target *-*-* } 292 }\n // { dg-warning \"note\" \"\" { target *-*-* } 224 }"}, {"sha": "8bec8efd2e11382134982c6b826edb3de535f2a6", "filename": "libstdc++-v3/testsuite/24_iterators/move_iterator/dr2061.cc", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Fmove_iterator%2Fdr2061.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6717379621288e10cbb2bb6b440947adcabd9cb/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Fmove_iterator%2Fdr2061.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Fmove_iterator%2Fdr2061.cc?ref=b6717379621288e10cbb2bb6b440947adcabd9cb", "patch": "@@ -0,0 +1,29 @@\n+// { dg-options \"-std=gnu++0x\" }\n+// { dg-do compile }\n+\n+// Copyright (C) 2011 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+#include <iterator>\n+\n+// DR 2061\n+void test01()\n+{\n+  int a[] = { 1, 2, 3, 4 };\n+  std::make_move_iterator(a + 4);\n+  std::make_move_iterator(a);\n+}"}]}