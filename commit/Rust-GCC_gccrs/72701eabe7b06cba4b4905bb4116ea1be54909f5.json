{"sha": "72701eabe7b06cba4b4905bb4116ea1be54909f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI3MDFlYWJlN2IwNmNiYTRiNDkwNWJiNDExNmVhMWJlNTQ5MDlmNQ==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2003-05-16T23:01:38Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2003-05-16T23:01:38Z"}, "message": "struct-by-value-4_main.c: Split into multiple tests.\n\n2003-05-16  Janis Johnson  <janis187@us.ibm.com>\n\n\t* gcc.dg/compat/struct-by-value-4_main.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-4_x.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-4_y.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-5_main.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-5_x.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-5_y.c: Split into multiple tests.\n\t* gcc.dg/compat/struct-by-value-6_main.c: New file.\n\t* gcc.dg/compat/struct-by-value-6_x.c: New file.\n\t* gcc.dg/compat/struct-by-value-6_y.c: New file.\n\t* gcc.dg/compat/struct-by-value-7_main.c: New file.\n\t* gcc.dg/compat/struct-by-value-7_x.c: New file.\n\t* gcc.dg/compat/struct-by-value-7_y.c: New file.\n\t* gcc.dg/compat/struct-by-value-8_main.c: New file.\n\t* gcc.dg/compat/struct-by-value-8_x.c: New file.\n\t* gcc.dg/compat/struct-by-value-8_y.c: New file.\n\t* gcc.dg/compat/struct-by-value-9_main.c: New file.\n\t* gcc.dg/compat/struct-by-value-9_x.c: New file.\n\t* gcc.dg/compat/struct-by-value-9_y.c: New file.\n\nFrom-SVN: r66893", "tree": {"sha": "d18f4db4c1809ec0fdf2326f56518b0fe33b1195", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d18f4db4c1809ec0fdf2326f56518b0fe33b1195"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72701eabe7b06cba4b4905bb4116ea1be54909f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72701eabe7b06cba4b4905bb4116ea1be54909f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72701eabe7b06cba4b4905bb4116ea1be54909f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72701eabe7b06cba4b4905bb4116ea1be54909f5/comments", "author": null, "committer": null, "parents": [{"sha": "190162de1dc5f100b6e07692af7dedac9027e65a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/190162de1dc5f100b6e07692af7dedac9027e65a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/190162de1dc5f100b6e07692af7dedac9027e65a"}], "stats": {"total": 2129, "additions": 1834, "deletions": 295}, "files": [{"sha": "edca0ddaf416afccfa00e1fd5281cdf1386071e1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -1,3 +1,24 @@\n+2003-05-16  Janis Johnson  <janis187@us.ibm.com>\n+\n+\t* gcc.dg/compat/struct-by-value-4_main.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-4_x.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-4_y.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-5_main.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-5_x.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-5_y.c: Split into multiple tests.\n+\t* gcc.dg/compat/struct-by-value-6_main.c: New file.\n+\t* gcc.dg/compat/struct-by-value-6_x.c: New file.\n+\t* gcc.dg/compat/struct-by-value-6_y.c: New file.\n+\t* gcc.dg/compat/struct-by-value-7_main.c: New file.\n+\t* gcc.dg/compat/struct-by-value-7_x.c: New file.\n+\t* gcc.dg/compat/struct-by-value-7_y.c: New file.\n+\t* gcc.dg/compat/struct-by-value-8_main.c: New file.\n+\t* gcc.dg/compat/struct-by-value-8_x.c: New file.\n+\t* gcc.dg/compat/struct-by-value-8_y.c: New file.\n+\t* gcc.dg/compat/struct-by-value-9_main.c: New file.\n+\t* gcc.dg/compat/struct-by-value-9_x.c: New file.\n+\t* gcc.dg/compat/struct-by-value-9_y.c: New file.\n+\n 2003-05-16  Mark Mitchell  <mark@codesourcery.com>\n \n \t* lib/gcc-dg.exp (gcc-dg-test): Rename to ..."}, {"sha": "03443939849f4012e48335e5c34d42334a7f015f", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_main.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -1,6 +1,6 @@\n /* Test structures passed by value, including to a function with a\n    variable-length argument list.  Each struct contains an array\n-   of small structs:  1, 2, 4, 8, and 12 bytes for LP64.  */ \n+   of small structs with a single member.  */\n \n extern void struct_by_value_4_x (void);\n extern void exit (int);"}, {"sha": "e857ac001e5f436b2e641524d595029650c96b07", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_x.c", "status": "modified", "additions": 0, "deletions": 128, "changes": 128, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -181,70 +181,6 @@ T(12, Si)\n T(13, Si)\n T(14, Si)\n T(15, Si)\n-T(0, Ssc)\n-T(1, Ssc)\n-T(2, Ssc)\n-T(3, Ssc)\n-T(4, Ssc)\n-T(5, Ssc)\n-T(6, Ssc)\n-T(7, Ssc)\n-T(8, Ssc)\n-T(9, Ssc)\n-T(10, Ssc)\n-T(11, Ssc)\n-T(12, Ssc)\n-T(13, Ssc)\n-T(14, Ssc)\n-T(15, Ssc)\n-T(0, Sis)\n-T(1, Sis)\n-T(2, Sis)\n-T(3, Sis)\n-T(4, Sis)\n-T(5, Sis)\n-T(6, Sis)\n-T(7, Sis)\n-T(8, Sis)\n-T(9, Sis)\n-T(10, Sis)\n-T(11, Sis)\n-T(12, Sis)\n-T(13, Sis)\n-T(14, Sis)\n-T(15, Sis)\n-T(0, Scsi)\n-T(1, Scsi)\n-T(2, Scsi)\n-T(3, Scsi)\n-T(4, Scsi)\n-T(5, Scsi)\n-T(6, Scsi)\n-T(7, Scsi)\n-T(8, Scsi)\n-T(9, Scsi)\n-T(10, Scsi)\n-T(11, Scsi)\n-T(12, Scsi)\n-T(13, Scsi)\n-T(14, Scsi)\n-T(15, Scsi)\n-T(0, Scis)\n-T(1, Scis)\n-T(2, Scis)\n-T(3, Scis)\n-T(4, Scis)\n-T(5, Scis)\n-T(6, Scis)\n-T(7, Scis)\n-T(8, Scis)\n-T(9, Scis)\n-T(10, Scis)\n-T(11, Scis)\n-T(12, Scis)\n-T(13, Scis)\n-T(14, Scis)\n-T(15, Scis)\n \n #undef T\n \n@@ -301,70 +237,6 @@ T(12, Si)\n T(13, Si)\n T(14, Si)\n T(15, Si)\n-T(0, Ssc)\n-T(1, Ssc)\n-T(2, Ssc)\n-T(3, Ssc)\n-T(4, Ssc)\n-T(5, Ssc)\n-T(6, Ssc)\n-T(7, Ssc)\n-T(8, Ssc)\n-T(9, Ssc)\n-T(10, Ssc)\n-T(11, Ssc)\n-T(12, Ssc)\n-T(13, Ssc)\n-T(14, Ssc)\n-T(15, Ssc)\n-T(0, Sis)\n-T(1, Sis)\n-T(2, Sis)\n-T(3, Sis)\n-T(4, Sis)\n-T(5, Sis)\n-T(6, Sis)\n-T(7, Sis)\n-T(8, Sis)\n-T(9, Sis)\n-T(10, Sis)\n-T(11, Sis)\n-T(12, Sis)\n-T(13, Sis)\n-T(14, Sis)\n-T(15, Sis)\n-T(0, Scsi)\n-T(1, Scsi)\n-T(2, Scsi)\n-T(3, Scsi)\n-T(4, Scsi)\n-T(5, Scsi)\n-T(6, Scsi)\n-T(7, Scsi)\n-T(8, Scsi)\n-T(9, Scsi)\n-T(10, Scsi)\n-T(11, Scsi)\n-T(12, Scsi)\n-T(13, Scsi)\n-T(14, Scsi)\n-T(15, Scsi)\n-T(0, Scis)\n-T(1, Scis)\n-T(2, Scis)\n-T(3, Scis)\n-T(4, Scis)\n-T(5, Scis)\n-T(6, Scis)\n-T(7, Scis)\n-T(8, Scis)\n-T(9, Scis)\n-T(10, Scis)\n-T(11, Scis)\n-T(12, Scis)\n-T(13, Scis)\n-T(14, Scis)\n-T(15, Scis)\n \n #undef T\n }"}, {"sha": "1e21d8aa1b379f4f77378c85bdb972ddc834969a", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_y.c", "status": "modified", "additions": 0, "deletions": 64, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -181,67 +181,3 @@ T(12, Si)\n T(13, Si)\n T(14, Si)\n T(15, Si)\n-T(0, Ssc)\n-T(1, Ssc)\n-T(2, Ssc)\n-T(3, Ssc)\n-T(4, Ssc)\n-T(5, Ssc)\n-T(6, Ssc)\n-T(7, Ssc)\n-T(8, Ssc)\n-T(9, Ssc)\n-T(10, Ssc)\n-T(11, Ssc)\n-T(12, Ssc)\n-T(13, Ssc)\n-T(14, Ssc)\n-T(15, Ssc)\n-T(0, Sis)\n-T(1, Sis)\n-T(2, Sis)\n-T(3, Sis)\n-T(4, Sis)\n-T(5, Sis)\n-T(6, Sis)\n-T(7, Sis)\n-T(8, Sis)\n-T(9, Sis)\n-T(10, Sis)\n-T(11, Sis)\n-T(12, Sis)\n-T(13, Sis)\n-T(14, Sis)\n-T(15, Sis)\n-T(0, Scsi)\n-T(1, Scsi)\n-T(2, Scsi)\n-T(3, Scsi)\n-T(4, Scsi)\n-T(5, Scsi)\n-T(6, Scsi)\n-T(7, Scsi)\n-T(8, Scsi)\n-T(9, Scsi)\n-T(10, Scsi)\n-T(11, Scsi)\n-T(12, Scsi)\n-T(13, Scsi)\n-T(14, Scsi)\n-T(15, Scsi)\n-T(0, Scis)\n-T(1, Scis)\n-T(2, Scis)\n-T(3, Scis)\n-T(4, Scis)\n-T(5, Scis)\n-T(6, Scis)\n-T(7, Scis)\n-T(8, Scis)\n-T(9, Scis)\n-T(10, Scis)\n-T(11, Scis)\n-T(12, Scis)\n-T(13, Scis)\n-T(14, Scis)\n-T(15, Scis)"}, {"sha": "d4e0da64334627ad295b33f578990555196e5122", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_main.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -1,6 +1,6 @@\n /* Test structures passed by value, including to a function with a\n-   variable-length argument lists.  All struct members are floating\n-   point scalars.  */\n+   variable-length argument lists.  All struct members are float\n+   scalars.  */\n \n extern void struct_by_value_5_x (void);\n extern void exit (int);"}, {"sha": "f1a14c43b2b3fa8f6355787588bc277e99f7a30a", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_x.c", "status": "modified", "additions": 0, "deletions": 66, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -237,8 +237,6 @@ testit##TYPE (void)\t\t\t\t\t\t\\\n extern void abort (void);\n \n X(f, float)\n-X(d, double)\n-X(ld, long double)\n \n T(Sf1, float)\n T(Sf2, float)\n@@ -256,38 +254,6 @@ T(Sf13, float)\n T(Sf14, float)\n T(Sf15, float)\n T(Sf16, float)\n-T(Sd1, double)\n-T(Sd2, double)\n-T(Sd3, double)\n-T(Sd4, double)\n-T(Sd5, double)\n-T(Sd6, double)\n-T(Sd7, double)\n-T(Sd8, double)\n-T(Sd9, double)\n-T(Sd10, double)\n-T(Sd11, double)\n-T(Sd12, double)\n-T(Sd13, double)\n-T(Sd14, double)\n-T(Sd15, double)\n-T(Sd16, double)\n-T(Sld1, long double)\n-T(Sld2, long double)\n-T(Sld3, long double)\n-T(Sld4, long double)\n-T(Sld5, long double)\n-T(Sld6, long double)\n-T(Sld7, long double)\n-T(Sld8, long double)\n-T(Sld9, long double)\n-T(Sld10, long double)\n-T(Sld11, long double)\n-T(Sld12, long double)\n-T(Sld13, long double)\n-T(Sld14, long double)\n-T(Sld15, long double)\n-T(Sld16, long double)\n \n #undef T\n \n@@ -312,38 +278,6 @@ T(Sf13, float)\n T(Sf14, float)\n T(Sf15, float)\n T(Sf16, float)\n-T(Sd1, double)\n-T(Sd2, double)\n-T(Sd3, double)\n-T(Sd4, double)\n-T(Sd5, double)\n-T(Sd6, double)\n-T(Sd7, double)\n-T(Sd8, double)\n-T(Sd9, double)\n-T(Sd10, double)\n-T(Sd11, double)\n-T(Sd12, double)\n-T(Sd13, double)\n-T(Sd14, double)\n-T(Sd15, double)\n-T(Sd16, double)\n-T(Sld1, long double)\n-T(Sld2, long double)\n-T(Sld3, long double)\n-T(Sld4, long double)\n-T(Sld5, long double)\n-T(Sld6, long double)\n-T(Sld7, long double)\n-T(Sld8, long double)\n-T(Sld9, long double)\n-T(Sld10, long double)\n-T(Sld11, long double)\n-T(Sld12, long double)\n-T(Sld13, long double)\n-T(Sld14, long double)\n-T(Sld15, long double)\n-T(Sld16, long double)\n \n #undef T\n }"}, {"sha": "b82bfc305c036683669fcf1c69e80f3c44b8fc55", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_y.c", "status": "modified", "additions": 0, "deletions": 34, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -200,8 +200,6 @@ testva##TYPE (int n, ...)\t\t\t\t\t\\\n }\n \n X(f, float)\n-X(d, double)\n-X(ld, long double)\n \n T(Sf1, float)\n T(Sf2, float)\n@@ -219,35 +217,3 @@ T(Sf13, float)\n T(Sf14, float)\n T(Sf15, float)\n T(Sf16, float)\n-T(Sd1, double)\n-T(Sd2, double)\n-T(Sd3, double)\n-T(Sd4, double)\n-T(Sd5, double)\n-T(Sd6, double)\n-T(Sd7, double)\n-T(Sd8, double)\n-T(Sd9, double)\n-T(Sd10, double)\n-T(Sd11, double)\n-T(Sd12, double)\n-T(Sd13, double)\n-T(Sd14, double)\n-T(Sd15, double)\n-T(Sd16, double)\n-T(Sld1, long double)\n-T(Sld2, long double)\n-T(Sld3, long double)\n-T(Sld4, long double)\n-T(Sld5, long double)\n-T(Sld6, long double)\n-T(Sld7, long double)\n-T(Sld8, long double)\n-T(Sld9, long double)\n-T(Sld10, long double)\n-T(Sld11, long double)\n-T(Sld12, long double)\n-T(Sld13, long double)\n-T(Sld14, long double)\n-T(Sld15, long double)\n-T(Sld16, long double)"}, {"sha": "4e7308fbf3b731019281c3ae0b671b7184cb5b2d", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-6_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument lists.  All struct members are double\n+   scalars.  */\n+\n+extern void struct_by_value_6_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_6_x ();\n+  exit (0);\n+}"}, {"sha": "a83b8280e2f29a3c7f8d4034ba92a9300c51ccaa", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-6_x.c", "status": "added", "additions": 283, "deletions": 0, "changes": 283, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,283 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void checkS##NAME##1 (S##NAME##1 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y) { DEBUG_NL; DEBUG_NL; abort (); } }\t\t\\\n+void checkS##NAME##2 (S##NAME##2 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 ) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##3 (S##NAME##3 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 )\t\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##4 (S##NAME##4 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3)\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##5 (S##NAME##5 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##6 (S##NAME##6 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##7 (S##NAME##7 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##8 (S##NAME##8 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##9 (S##NAME##9 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##10 (S##NAME##10 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9)\t\t\\\n+   { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##11 (S##NAME##11 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##12 (S##NAME##12 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##13 (S##NAME##13 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##14 (S##NAME##14 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##15 (S##NAME##15 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##16 (S##NAME##16 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14 || x.p != y+15)\t\t\\\n+    { DEBUG_NL; abort (); } }\n+\n+#define T(TYPE,MTYPE)\t\t\t\t\t\t\\\n+TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\t\\\n+TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, MTYPE x);\t\t\t\\\n+extern void checkg##TYPE (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16);\t\t\\\n+extern void testva##TYPE (int n, ...);\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\\\n+\t      TYPE s5, TYPE s6, TYPE s7, TYPE s8)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE (s1, g2s##TYPE, s2, g4s##TYPE,\t\t\t\\\n+\t      s3, g6s##TYPE, s4, g8s##TYPE,\t\t\t\\\n+\t      s5, g10s##TYPE, s6, g12s##TYPE,\t\t\t\\\n+\t      s7, g14s##TYPE, s8, g16s##TYPE);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE);\t\t\t\t\t\t\\\n+  init##TYPE  ( &g1s##TYPE,  (MTYPE)1);\t\t\t\t\\\n+  init##TYPE  ( &g2s##TYPE,  (MTYPE)2);\t\t\t\t\\\n+  init##TYPE  ( &g3s##TYPE,  (MTYPE)3);\t\t\t\t\\\n+  init##TYPE  ( &g4s##TYPE,  (MTYPE)4);\t\t\t\t\\\n+  init##TYPE  ( &g5s##TYPE,  (MTYPE)5);\t\t\t\t\\\n+  init##TYPE  ( &g6s##TYPE,  (MTYPE)6);\t\t\t\t\\\n+  init##TYPE  ( &g7s##TYPE,  (MTYPE)7);\t\t\t\t\\\n+  init##TYPE  ( &g8s##TYPE,  (MTYPE)8);\t\t\t\t\\\n+  init##TYPE  ( &g9s##TYPE,  (MTYPE)9);\t\t\t\t\\\n+  init##TYPE  (&g10s##TYPE, (MTYPE)10);\t\t\t\t\\\n+  init##TYPE  (&g11s##TYPE, (MTYPE)11);\t\t\t\t\\\n+  init##TYPE  (&g12s##TYPE, (MTYPE)12);\t\t\t\t\\\n+  init##TYPE  (&g13s##TYPE, (MTYPE)13);\t\t\t\t\\\n+  init##TYPE  (&g14s##TYPE, (MTYPE)14);\t\t\t\t\\\n+  init##TYPE  (&g15s##TYPE, (MTYPE)15);\t\t\t\t\\\n+  init##TYPE  (&g16s##TYPE, (MTYPE)16);\t\t\t\t\\\n+  checkg##TYPE ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE (g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t      g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t      g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t      g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE);\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE (1,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (2,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE);\t\t\t\t\\\n+  testva##TYPE (3,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE);\t\t\\\n+  testva##TYPE (4,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE);\t\\\n+  testva##TYPE (5,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (6,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE);\t\t\t\t\\\n+  testva##TYPE (7,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE);\t\t\\\n+  testva##TYPE (8,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE);\t\\\n+  testva##TYPE (9,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (10,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE);\t\t\t\t\\\n+  testva##TYPE (11,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE);\t\t\\\n+  testva##TYPE (12,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE);\t\\\n+  testva##TYPE (13,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (14,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE);\t\t\t\\\n+  testva##TYPE (15,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE);\t\t\\\n+  testva##TYPE (16,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE); \\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE (g1s##TYPE, g3s##TYPE, g5s##TYPE, g7s##TYPE,\t\\\n+\t\tg9s##TYPE, g11s##TYPE, g13s##TYPE, g15s##TYPE);\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+extern void abort (void);\n+\n+X(d, double)\n+\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)\n+\n+#undef T\n+\n+void\n+struct_by_value_6_x ()\n+{\n+#define T(TYPE, MTYPE) testit##TYPE ();\n+\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)\n+\n+#undef T\n+}"}, {"sha": "5a8295e78d84f1f6138a0b3ff41c759867f04d7e", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-6_y.c", "status": "added", "additions": 219, "deletions": 0, "changes": 219, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-6_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,219 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void initS##NAME##1 (S##NAME##1 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; }\t\t\t\t\t\t\t\\\n+void initS##NAME##2 (S##NAME##2 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; }\t\t\t\t\t\\\n+void initS##NAME##3 (S##NAME##3 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; }\t\t\t\t\\\n+void initS##NAME##4 (S##NAME##4 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; }\t\t\\\n+void initS##NAME##5 (S##NAME##5 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4; }\t\\\n+void initS##NAME##6 (S##NAME##6 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; }\t\t\t\t\t\t\t\\\n+void initS##NAME##7 (S##NAME##7 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; }\t\t\t\t\t\\\n+void initS##NAME##8 (S##NAME##8 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; }\t\t\t\t\\\n+void initS##NAME##9 (S##NAME##9 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; }\t\t\\\n+void initS##NAME##10 (S##NAME##10 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9; }\t\\\n+void initS##NAME##11 (S##NAME##11 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; }\t\t\t\t\t\t\\\n+void initS##NAME##12 (S##NAME##12 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; }\t\t\t\t\t\\\n+void initS##NAME##13 (S##NAME##13 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; }\t\t\t\\\n+void initS##NAME##14 (S##NAME##14 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13; }\t\t\\\n+void initS##NAME##15 (S##NAME##15 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; }\t\t\t\t\t\t\\\n+void initS##NAME##16 (S##NAME##16 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; p->p = y+15; }\n+\n+#define T(TYPE,TYPE2)\t\t\t\t\t\t\\\n+extern TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+extern TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+extern TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\\\n+extern TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, TYPE2 y);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE (  g1s##TYPE,  (TYPE2)1);\t\t\t\t\\\n+  check##TYPE (  g2s##TYPE,  (TYPE2)2);\t\t\t\t\\\n+  check##TYPE (  g3s##TYPE,  (TYPE2)3);\t\t\t\t\\\n+  check##TYPE (  g4s##TYPE,  (TYPE2)4);\t\t\t\t\\\n+  check##TYPE (  g5s##TYPE,  (TYPE2)5);\t\t\t\t\\\n+  check##TYPE (  g6s##TYPE,  (TYPE2)6);\t\t\t\t\\\n+  check##TYPE (  g7s##TYPE,  (TYPE2)7);\t\t\t\t\\\n+  check##TYPE (  g8s##TYPE,  (TYPE2)8);\t\t\t\t\\\n+  check##TYPE (  g9s##TYPE,  (TYPE2)9);\t\t\t\t\\\n+  check##TYPE ( g10s##TYPE, (TYPE2)10);\t\t\t\t\\\n+  check##TYPE ( g11s##TYPE, (TYPE2)11);\t\t\t\t\\\n+  check##TYPE ( g12s##TYPE, (TYPE2)12);\t\t\t\t\\\n+  check##TYPE ( g13s##TYPE, (TYPE2)13);\t\t\t\t\\\n+  check##TYPE ( g14s##TYPE, (TYPE2)14);\t\t\t\t\\\n+  check##TYPE ( g15s##TYPE, (TYPE2)15);\t\t\t\t\\\n+  check##TYPE ( g16s##TYPE, (TYPE2)16);\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s1, (TYPE2)1);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s2, (TYPE2)2);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s3, (TYPE2)3);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s4, (TYPE2)4);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s5, (TYPE2)5);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s6, (TYPE2)6);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s7, (TYPE2)7);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s8, (TYPE2)8);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s9, (TYPE2)9);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s10, (TYPE2)10);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s11, (TYPE2)11);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s12, (TYPE2)12);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s13, (TYPE2)13);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s14, (TYPE2)14);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s15, (TYPE2)15);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s16, (TYPE2)16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  TYPE t = va_arg (ap, TYPE);\t\t\t\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE (t, (TYPE2)i+1);\t\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+X(d, double)\n+\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)"}, {"sha": "7f0264c0f4beb782bb7ad8f17c0a4dd16e7cefa6", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-7_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument lists.  All struct members are long double\n+   scalars.  */\n+\n+extern void struct_by_value_7_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_7_x ();\n+  exit (0);\n+}"}, {"sha": "6ca562261fafed7e9420f2027454c9a3564ab10d", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-7_x.c", "status": "added", "additions": 283, "deletions": 0, "changes": 283, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,283 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void checkS##NAME##1 (S##NAME##1 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y) { DEBUG_NL; DEBUG_NL; abort (); } }\t\t\\\n+void checkS##NAME##2 (S##NAME##2 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 ) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##3 (S##NAME##3 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 )\t\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##4 (S##NAME##4 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3)\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##5 (S##NAME##5 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##6 (S##NAME##6 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##7 (S##NAME##7 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##8 (S##NAME##8 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##9 (S##NAME##9 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##10 (S##NAME##10 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9)\t\t\\\n+   { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##11 (S##NAME##11 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##12 (S##NAME##12 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##13 (S##NAME##13 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##14 (S##NAME##14 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##15 (S##NAME##15 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##16 (S##NAME##16 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14 || x.p != y+15)\t\t\\\n+    { DEBUG_NL; abort (); } }\n+\n+#define T(TYPE,MTYPE)\t\t\t\t\t\t\\\n+TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\t\\\n+TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, MTYPE x);\t\t\t\\\n+extern void checkg##TYPE (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16);\t\t\\\n+extern void testva##TYPE (int n, ...);\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\\\n+\t      TYPE s5, TYPE s6, TYPE s7, TYPE s8)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE (s1, g2s##TYPE, s2, g4s##TYPE,\t\t\t\\\n+\t      s3, g6s##TYPE, s4, g8s##TYPE,\t\t\t\\\n+\t      s5, g10s##TYPE, s6, g12s##TYPE,\t\t\t\\\n+\t      s7, g14s##TYPE, s8, g16s##TYPE);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE);\t\t\t\t\t\t\\\n+  init##TYPE  ( &g1s##TYPE,  (MTYPE)1);\t\t\t\t\\\n+  init##TYPE  ( &g2s##TYPE,  (MTYPE)2);\t\t\t\t\\\n+  init##TYPE  ( &g3s##TYPE,  (MTYPE)3);\t\t\t\t\\\n+  init##TYPE  ( &g4s##TYPE,  (MTYPE)4);\t\t\t\t\\\n+  init##TYPE  ( &g5s##TYPE,  (MTYPE)5);\t\t\t\t\\\n+  init##TYPE  ( &g6s##TYPE,  (MTYPE)6);\t\t\t\t\\\n+  init##TYPE  ( &g7s##TYPE,  (MTYPE)7);\t\t\t\t\\\n+  init##TYPE  ( &g8s##TYPE,  (MTYPE)8);\t\t\t\t\\\n+  init##TYPE  ( &g9s##TYPE,  (MTYPE)9);\t\t\t\t\\\n+  init##TYPE  (&g10s##TYPE, (MTYPE)10);\t\t\t\t\\\n+  init##TYPE  (&g11s##TYPE, (MTYPE)11);\t\t\t\t\\\n+  init##TYPE  (&g12s##TYPE, (MTYPE)12);\t\t\t\t\\\n+  init##TYPE  (&g13s##TYPE, (MTYPE)13);\t\t\t\t\\\n+  init##TYPE  (&g14s##TYPE, (MTYPE)14);\t\t\t\t\\\n+  init##TYPE  (&g15s##TYPE, (MTYPE)15);\t\t\t\t\\\n+  init##TYPE  (&g16s##TYPE, (MTYPE)16);\t\t\t\t\\\n+  checkg##TYPE ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE (g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t      g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t      g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t      g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE);\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE (1,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (2,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE);\t\t\t\t\\\n+  testva##TYPE (3,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE);\t\t\\\n+  testva##TYPE (4,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE);\t\\\n+  testva##TYPE (5,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (6,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE);\t\t\t\t\\\n+  testva##TYPE (7,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE);\t\t\\\n+  testva##TYPE (8,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE);\t\\\n+  testva##TYPE (9,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (10,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE);\t\t\t\t\\\n+  testva##TYPE (11,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE);\t\t\\\n+  testva##TYPE (12,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE);\t\\\n+  testva##TYPE (13,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (14,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE);\t\t\t\\\n+  testva##TYPE (15,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE);\t\t\\\n+  testva##TYPE (16,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE); \\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE (g1s##TYPE, g3s##TYPE, g5s##TYPE, g7s##TYPE,\t\\\n+\t\tg9s##TYPE, g11s##TYPE, g13s##TYPE, g15s##TYPE);\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+extern void abort (void);\n+\n+X(ld, long double)\n+\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)\n+\n+#undef T\n+\n+void\n+struct_by_value_7_x ()\n+{\n+#define T(TYPE, MTYPE) testit##TYPE ();\n+\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)\n+\n+#undef T\n+}"}, {"sha": "8f4122564a96ef9eeab1b10dd2b6eed6231b1dee", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-7_y.c", "status": "added", "additions": 219, "deletions": 0, "changes": 219, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-7_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,219 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void initS##NAME##1 (S##NAME##1 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; }\t\t\t\t\t\t\t\\\n+void initS##NAME##2 (S##NAME##2 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; }\t\t\t\t\t\\\n+void initS##NAME##3 (S##NAME##3 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; }\t\t\t\t\\\n+void initS##NAME##4 (S##NAME##4 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; }\t\t\\\n+void initS##NAME##5 (S##NAME##5 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4; }\t\\\n+void initS##NAME##6 (S##NAME##6 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; }\t\t\t\t\t\t\t\\\n+void initS##NAME##7 (S##NAME##7 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; }\t\t\t\t\t\\\n+void initS##NAME##8 (S##NAME##8 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; }\t\t\t\t\\\n+void initS##NAME##9 (S##NAME##9 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; }\t\t\\\n+void initS##NAME##10 (S##NAME##10 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9; }\t\\\n+void initS##NAME##11 (S##NAME##11 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; }\t\t\t\t\t\t\\\n+void initS##NAME##12 (S##NAME##12 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; }\t\t\t\t\t\\\n+void initS##NAME##13 (S##NAME##13 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; }\t\t\t\\\n+void initS##NAME##14 (S##NAME##14 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13; }\t\t\\\n+void initS##NAME##15 (S##NAME##15 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; }\t\t\t\t\t\t\\\n+void initS##NAME##16 (S##NAME##16 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; p->p = y+15; }\n+\n+#define T(TYPE,TYPE2)\t\t\t\t\t\t\\\n+extern TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+extern TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+extern TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\\\n+extern TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, TYPE2 y);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE (  g1s##TYPE,  (TYPE2)1);\t\t\t\t\\\n+  check##TYPE (  g2s##TYPE,  (TYPE2)2);\t\t\t\t\\\n+  check##TYPE (  g3s##TYPE,  (TYPE2)3);\t\t\t\t\\\n+  check##TYPE (  g4s##TYPE,  (TYPE2)4);\t\t\t\t\\\n+  check##TYPE (  g5s##TYPE,  (TYPE2)5);\t\t\t\t\\\n+  check##TYPE (  g6s##TYPE,  (TYPE2)6);\t\t\t\t\\\n+  check##TYPE (  g7s##TYPE,  (TYPE2)7);\t\t\t\t\\\n+  check##TYPE (  g8s##TYPE,  (TYPE2)8);\t\t\t\t\\\n+  check##TYPE (  g9s##TYPE,  (TYPE2)9);\t\t\t\t\\\n+  check##TYPE ( g10s##TYPE, (TYPE2)10);\t\t\t\t\\\n+  check##TYPE ( g11s##TYPE, (TYPE2)11);\t\t\t\t\\\n+  check##TYPE ( g12s##TYPE, (TYPE2)12);\t\t\t\t\\\n+  check##TYPE ( g13s##TYPE, (TYPE2)13);\t\t\t\t\\\n+  check##TYPE ( g14s##TYPE, (TYPE2)14);\t\t\t\t\\\n+  check##TYPE ( g15s##TYPE, (TYPE2)15);\t\t\t\t\\\n+  check##TYPE ( g16s##TYPE, (TYPE2)16);\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s1, (TYPE2)1);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s2, (TYPE2)2);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s3, (TYPE2)3);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s4, (TYPE2)4);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s5, (TYPE2)5);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s6, (TYPE2)6);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s7, (TYPE2)7);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s8, (TYPE2)8);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s9, (TYPE2)9);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s10, (TYPE2)10);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s11, (TYPE2)11);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s12, (TYPE2)12);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s13, (TYPE2)13);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s14, (TYPE2)14);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s15, (TYPE2)15);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s16, (TYPE2)16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  TYPE t = va_arg (ap, TYPE);\t\t\t\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE (t, (TYPE2)i+1);\t\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+X(ld, long double)\n+\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)"}, {"sha": "6ede893d4fe3137660ab6c4b7aaed6911d6ab7d9", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-8_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument list.  Each struct contains an array\n+   of small structs with two scalar members.  */\n+\n+extern void struct_by_value_8_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_8_x ();\n+  exit (0);\n+}"}, {"sha": "8695e895c3a5e60a2f5b67906199a47278edb6e6", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-8_x.c", "status": "added", "additions": 210, "deletions": 0, "changes": 210, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,210 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, int i);\t\t\t\\\n+extern void checkg##TYPE##N (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16);\t\\\n+extern void testva##TYPE##N (int n, ...);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+init##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    init##TYPE(&p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    check##TYPE(p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t\t struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t\t struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t\t struct S##TYPE##N s7, struct S##TYPE##N s8)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE##N (s1, g2s##TYPE##N, s2, g4s##TYPE##N,\t\t\\\n+\t\t s3, g6s##TYPE##N, s4, g8s##TYPE##N,\t\t\\\n+\t\t s5, g10s##TYPE##N, s6, g12s##TYPE##N,\t\t\\\n+\t\t s7, g14s##TYPE##N, s8, g16s##TYPE##N);\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE \"[\" #N \"]\");\t\t\t\t\\\n+  init##TYPE##N  ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  init##TYPE##N  ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  init##TYPE##N  ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  init##TYPE##N  ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  init##TYPE##N  ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  init##TYPE##N  ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  init##TYPE##N  ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  init##TYPE##N  ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  init##TYPE##N  ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  init##TYPE##N  (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  init##TYPE##N  (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  init##TYPE##N  (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  init##TYPE##N  (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  init##TYPE##N  (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  init##TYPE##N  (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  init##TYPE##N  (&g16s##TYPE##N, 16*16);\t\t\t\\\n+  checkg##TYPE##N ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE##N (g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t g11s##TYPE##N, g12s##TYPE##N,\t\t\t\\\n+\t\t g13s##TYPE##N, g14s##TYPE##N,\t\t\t\\\n+\t\t g15s##TYPE##N, g16s##TYPE##N);\t\t\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE##N (16,\t\t\t\t\t\t\\\n+\t\t   g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t   g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t   g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t   g11s##TYPE##N, g12s##TYPE##N,\t\t\\\n+\t\t   g13s##TYPE##N, g14s##TYPE##N,\t\t\\\n+\t\t   g15s##TYPE##N, g16s##TYPE##N);\t\t\\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE##N (g1s##TYPE##N, g3s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g7s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g11s##TYPE##N,\t\t\t\\\n+\t\t   g13s##TYPE##N, g15s##TYPE##N);\t\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+extern void abort (void);\n+\n+void checkSc (Sc x, int i) { if (x.c != i/16) { DEBUG_NL; abort (); } }\n+void checkSs (Ss x, int i) { if (x.s != i) { DEBUG_NL; abort (); } }\n+void checkSi (Si x, int i) { if (x.i != i) { DEBUG_NL; abort (); } }\n+void checkSsc (Ssc x, int i)\n+{ if (x.s != i || x.c != (i/16)+1) { DEBUG_NL; abort (); } }\n+void checkSis (Sis x, int i)\n+{ if (x.i != i || x.s != i+1) { DEBUG_NL; abort (); } }\n+void checkScsi (Scsi x, int i)\n+{ if (x.c != i/16 || x.s != i+1 || x.i != i+2) { DEBUG_NL; abort (); } }\n+void checkScis (Scis x, int i)\n+{ if (x.c != i/16 || x.i != i+1 || x.s != i+2) { DEBUG_NL; abort (); } }\n+\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)\n+\n+#undef T\n+\n+void\n+struct_by_value_8_x ()\n+{\n+#define T(N, TYPE) testit##TYPE##N ();\n+\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)\n+\n+#undef T\n+}"}, {"sha": "e776fc3e39863f3382a9ba985d7b3c66328318e1", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-8_y.c", "status": "added", "additions": 167, "deletions": 0, "changes": 167, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-8_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,167 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+void initSc (Sc *p, int i) { p->c = i/16; }\n+void initSs (Ss *p, int i) { p->s = i; }\n+void initSi (Si *p, int i) { p->i = i; }\n+void initSsc (Ssc *p, int i) { p->s = i; p->c = (i/16)+1; }\n+void initSis (Sis *p, int i) { p->i = i; p->s = i+1; }\n+void initScsi (Scsi *p, int i) { p->c = i/16; p->s = i+1; p->i = i+2; }\n+void initScis (Scis *p, int i) { p->c = i/16; p->i = i+1; p->s = i+2; }\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, int i);\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE##N ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  check##TYPE##N ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  check##TYPE##N ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  check##TYPE##N ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  check##TYPE##N ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  check##TYPE##N ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  check##TYPE##N ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  check##TYPE##N ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  check##TYPE##N ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  check##TYPE##N (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  check##TYPE##N (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  check##TYPE##N (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  check##TYPE##N (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  check##TYPE##N (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  check##TYPE##N (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  check##TYPE##N (&g16s##TYPE##N, 16*16);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s1, 1*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s2, 2*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s3, 3*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s4, 4*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s5, 5*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s6, 6*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s7, 7*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s8, 8*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s9, 9*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s10, 10*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s11, 11*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s12, 12*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s13, 13*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s14, 14*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s15, 15*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s16, 16*16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE##N (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  struct S##TYPE##N t = va_arg (ap, struct S##TYPE##N);\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE##N (&t, (i+1)*16);\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)"}, {"sha": "676ab027656a5d6ed9de4a80235062b9b934ea9c", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-9_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_main.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument list.  Each struct contains an array\n+   of small structs, each with three scalar members.  */\n+\n+extern void struct_by_value_9_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_9_x ();\n+  exit (0);\n+}"}, {"sha": "ff8f057ecb6ed8136b8923cab9b511f527ad7474", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-9_x.c", "status": "added", "additions": 210, "deletions": 0, "changes": 210, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_x.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,210 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, int i);\t\t\t\\\n+extern void checkg##TYPE##N (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16);\t\\\n+extern void testva##TYPE##N (int n, ...);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+init##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    init##TYPE(&p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    check##TYPE(p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t\t struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t\t struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t\t struct S##TYPE##N s7, struct S##TYPE##N s8)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE##N (s1, g2s##TYPE##N, s2, g4s##TYPE##N,\t\t\\\n+\t\t s3, g6s##TYPE##N, s4, g8s##TYPE##N,\t\t\\\n+\t\t s5, g10s##TYPE##N, s6, g12s##TYPE##N,\t\t\\\n+\t\t s7, g14s##TYPE##N, s8, g16s##TYPE##N);\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE \"[\" #N \"]\");\t\t\t\t\\\n+  init##TYPE##N  ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  init##TYPE##N  ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  init##TYPE##N  ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  init##TYPE##N  ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  init##TYPE##N  ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  init##TYPE##N  ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  init##TYPE##N  ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  init##TYPE##N  ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  init##TYPE##N  ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  init##TYPE##N  (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  init##TYPE##N  (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  init##TYPE##N  (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  init##TYPE##N  (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  init##TYPE##N  (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  init##TYPE##N  (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  init##TYPE##N  (&g16s##TYPE##N, 16*16);\t\t\t\\\n+  checkg##TYPE##N ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE##N (g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t g11s##TYPE##N, g12s##TYPE##N,\t\t\t\\\n+\t\t g13s##TYPE##N, g14s##TYPE##N,\t\t\t\\\n+\t\t g15s##TYPE##N, g16s##TYPE##N);\t\t\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE##N (16,\t\t\t\t\t\t\\\n+\t\t   g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t   g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t   g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t   g11s##TYPE##N, g12s##TYPE##N,\t\t\\\n+\t\t   g13s##TYPE##N, g14s##TYPE##N,\t\t\\\n+\t\t   g15s##TYPE##N, g16s##TYPE##N);\t\t\\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE##N (g1s##TYPE##N, g3s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g7s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g11s##TYPE##N,\t\t\t\\\n+\t\t   g13s##TYPE##N, g15s##TYPE##N);\t\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+extern void abort (void);\n+\n+void checkSc (Sc x, int i) { if (x.c != i/16) { DEBUG_NL; abort (); } }\n+void checkSs (Ss x, int i) { if (x.s != i) { DEBUG_NL; abort (); } }\n+void checkSi (Si x, int i) { if (x.i != i) { DEBUG_NL; abort (); } }\n+void checkSsc (Ssc x, int i)\n+{ if (x.s != i || x.c != (i/16)+1) { DEBUG_NL; abort (); } }\n+void checkSis (Sis x, int i)\n+{ if (x.i != i || x.s != i+1) { DEBUG_NL; abort (); } }\n+void checkScsi (Scsi x, int i)\n+{ if (x.c != i/16 || x.s != i+1 || x.i != i+2) { DEBUG_NL; abort (); } }\n+void checkScis (Scis x, int i)\n+{ if (x.c != i/16 || x.i != i+1 || x.s != i+2) { DEBUG_NL; abort (); } }\n+\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)\n+\n+#undef T\n+\n+void\n+struct_by_value_9_x ()\n+{\n+#define T(N, TYPE) testit##TYPE##N ();\n+\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)\n+\n+#undef T\n+}"}, {"sha": "a98e5c95eb631c8d9af926acd2fdae747d718fc6", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-9_y.c", "status": "added", "additions": 167, "deletions": 0, "changes": 167, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72701eabe7b06cba4b4905bb4116ea1be54909f5/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-9_y.c?ref=72701eabe7b06cba4b4905bb4116ea1be54909f5", "patch": "@@ -0,0 +1,167 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+void initSc (Sc *p, int i) { p->c = i/16; }\n+void initSs (Ss *p, int i) { p->s = i; }\n+void initSi (Si *p, int i) { p->i = i; }\n+void initSsc (Ssc *p, int i) { p->s = i; p->c = (i/16)+1; }\n+void initSis (Sis *p, int i) { p->i = i; p->s = i+1; }\n+void initScsi (Scsi *p, int i) { p->c = i/16; p->s = i+1; p->i = i+2; }\n+void initScis (Scis *p, int i) { p->c = i/16; p->i = i+1; p->s = i+2; }\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, int i);\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE##N ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  check##TYPE##N ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  check##TYPE##N ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  check##TYPE##N ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  check##TYPE##N ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  check##TYPE##N ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  check##TYPE##N ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  check##TYPE##N ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  check##TYPE##N ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  check##TYPE##N (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  check##TYPE##N (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  check##TYPE##N (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  check##TYPE##N (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  check##TYPE##N (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  check##TYPE##N (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  check##TYPE##N (&g16s##TYPE##N, 16*16);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s1, 1*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s2, 2*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s3, 3*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s4, 4*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s5, 5*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s6, 6*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s7, 7*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s8, 8*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s9, 9*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s10, 10*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s11, 11*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s12, 12*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s13, 13*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s14, 14*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s15, 15*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s16, 16*16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE##N (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  struct S##TYPE##N t = va_arg (ap, struct S##TYPE##N);\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE##N (&t, (i+1)*16);\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)"}]}