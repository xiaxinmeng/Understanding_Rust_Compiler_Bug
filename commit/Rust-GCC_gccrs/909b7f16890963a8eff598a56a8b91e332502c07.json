{"sha": "909b7f16890963a8eff598a56a8b91e332502c07", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTA5YjdmMTY4OTA5NjNhOGVmZjU5OGE1NmE4YjkxZTMzMjUwMmMwNw==", "commit": {"author": {"name": "Roman Zippel", "email": "zippel@linux-m68k.org", "date": "2004-06-29T23:19:20Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-06-29T23:19:20Z"}, "message": "web.c (union_defs): use all defs of an instruction to create a union with a read/write use\n\n        * web.c (union_defs): use all defs of an instruction to create a\n        union with a read/write use\n\nFrom-SVN: r83882", "tree": {"sha": "d268724f9483c34206dd2e23612cf389eb44c1bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d268724f9483c34206dd2e23612cf389eb44c1bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/909b7f16890963a8eff598a56a8b91e332502c07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/909b7f16890963a8eff598a56a8b91e332502c07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/909b7f16890963a8eff598a56a8b91e332502c07", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/909b7f16890963a8eff598a56a8b91e332502c07/comments", "author": null, "committer": null, "parents": [{"sha": "97bb4af77a4b0cd8b706ab24ad5ae61e2f0f90f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97bb4af77a4b0cd8b706ab24ad5ae61e2f0f90f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97bb4af77a4b0cd8b706ab24ad5ae61e2f0f90f5"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "2851a5d929f710921d60a222700bdbae1726fef3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/909b7f16890963a8eff598a56a8b91e332502c07/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/909b7f16890963a8eff598a56a8b91e332502c07/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=909b7f16890963a8eff598a56a8b91e332502c07", "patch": "@@ -1,3 +1,8 @@\n+2004-06-29  Roman Zippel <zippel@linux-m68k.org>\n+\n+\t* web.c (union_defs): use all defs of an instruction to create a\n+\tunion with a read/write use\n+\n 2004-06-29  Richard Henderson  <rth@redhat.com>\n \n \tPR middle-end/16216"}, {"sha": "91dbb90e3c386b0a37e9f142cb90b832c07ba060", "filename": "gcc/web.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/909b7f16890963a8eff598a56a8b91e332502c07/gcc%2Fweb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/909b7f16890963a8eff598a56a8b91e332502c07/gcc%2Fweb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fweb.c?ref=909b7f16890963a8eff598a56a8b91e332502c07", "patch": "@@ -160,11 +160,13 @@ union_defs (struct df *df, struct ref *use, struct web_entry *def_entry,\n     {\n       struct df_link *link = DF_INSN_DEFS (df, DF_REF_INSN (use));\n \n-      while (DF_REF_REAL_REG (link->ref) != DF_REF_REAL_REG (use))\n-\tlink = link->next;\n-\n-      unionfind_union (use_entry + DF_REF_ID (use),\n-\t\t       def_entry + DF_REF_ID (link->ref));\n+      while (link)\n+\t{\n+\t  if (DF_REF_REAL_REG (link->ref) == DF_REF_REAL_REG (use))\n+\t    unionfind_union (use_entry + DF_REF_ID (use),\n+\t\t\t     def_entry + DF_REF_ID (link->ref));\n+\t  link = link->next;\n+\t}\n     }\n }\n "}]}