{"sha": "72cc0e580391b320b96f9fbdaf1c26f905a4058f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzJjYzBlNTgwMzkxYjMyMGI5NmY5ZmJkYWYxYzI2ZjkwNWE0MDU4Zg==", "commit": {"author": {"name": "Cesar Philippidis", "email": "cesar@codesourcery.com", "date": "2015-12-04T00:17:48Z"}, "committer": {"name": "Cesar Philippidis", "email": "cesar@gcc.gnu.org", "date": "2015-12-04T00:17:48Z"}, "message": "parser.c (cp_ensure_no_oacc_routine): Update error message.\n\n\tgcc/cp/\n\t* parser.c (cp_ensure_no_oacc_routine): Update error message.\n\t(cp_parser_oacc_routine): Likewise.\n\t(cp_parser_late_parsing_oacc_routine): Likewise.  Update comment\n\tdescribing this function.\n\t(cp_finalize_oacc_routine): Update error message.\n\nFrom-SVN: r231243", "tree": {"sha": "90161f87f5d14c378cf97e159ce74135c604b9f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/90161f87f5d14c378cf97e159ce74135c604b9f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72cc0e580391b320b96f9fbdaf1c26f905a4058f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72cc0e580391b320b96f9fbdaf1c26f905a4058f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72cc0e580391b320b96f9fbdaf1c26f905a4058f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72cc0e580391b320b96f9fbdaf1c26f905a4058f/comments", "author": {"login": "cesarjp", "id": 4576177, "node_id": "MDQ6VXNlcjQ1NzYxNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/4576177?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cesarjp", "html_url": "https://github.com/cesarjp", "followers_url": "https://api.github.com/users/cesarjp/followers", "following_url": "https://api.github.com/users/cesarjp/following{/other_user}", "gists_url": "https://api.github.com/users/cesarjp/gists{/gist_id}", "starred_url": "https://api.github.com/users/cesarjp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cesarjp/subscriptions", "organizations_url": "https://api.github.com/users/cesarjp/orgs", "repos_url": "https://api.github.com/users/cesarjp/repos", "events_url": "https://api.github.com/users/cesarjp/events{/privacy}", "received_events_url": "https://api.github.com/users/cesarjp/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3b90d51eee957daca4a63e8449da2b84f09ed5a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b90d51eee957daca4a63e8449da2b84f09ed5a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b90d51eee957daca4a63e8449da2b84f09ed5a1"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "711169e8f02592a9671f32cefdc50c88712a1f5a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72cc0e580391b320b96f9fbdaf1c26f905a4058f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72cc0e580391b320b96f9fbdaf1c26f905a4058f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=72cc0e580391b320b96f9fbdaf1c26f905a4058f", "patch": "@@ -1,3 +1,11 @@\n+2015-12-03  Cesar Philippidis  <cesar@codesourcery.com>\n+\n+\t* parser.c (cp_ensure_no_oacc_routine): Update error message.\n+\t(cp_parser_oacc_routine): Likewise.\n+\t(cp_parser_late_parsing_oacc_routine): Likewise.  Update comment\n+\tdescribing this function.\n+\t(cp_finalize_oacc_routine): Update error message.\n+\n 2015-12-02  Jason Merrill  <jason@redhat.com>\n \n \t* Make-lang.in (check-c++1z, check-c++-all): New."}, {"sha": "1c14354104518666908b1c95eef4fc91d7c344f6", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72cc0e580391b320b96f9fbdaf1c26f905a4058f/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72cc0e580391b320b96f9fbdaf1c26f905a4058f/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=72cc0e580391b320b96f9fbdaf1c26f905a4058f", "patch": "@@ -1329,7 +1329,7 @@ cp_ensure_no_oacc_routine (cp_parser *parser)\n       tree clauses = parser->oacc_routine->clauses;\n       location_t loc = OMP_CLAUSE_LOCATION (TREE_PURPOSE (clauses));\n \n-      error_at (loc, \"%<#pragma oacc routine%> not followed by function \"\n+      error_at (loc, \"%<#pragma acc routine%> not followed by a function \"\n \t\t\"declaration or definition\");\n       parser->oacc_routine = NULL;\n     }\n@@ -35857,7 +35857,7 @@ cp_parser_oacc_routine (cp_parser *parser, cp_token *pragma_tok,\n \t  cp_parser_require_pragma_eol (parser, pragma_tok);\n \n \t  error_at (OMP_CLAUSE_LOCATION (parser->oacc_routine->clauses),\n-\t\t    \"%<#pragma oacc routine%> not followed by a single \"\n+\t\t    \"%<#pragma acc routine%> not followed by a \"\n \t\t    \"function declaration or definition\");\n \n \t  parser->oacc_routine->error_seen = true;\n@@ -35962,7 +35962,7 @@ cp_parser_oacc_routine (cp_parser *parser, cp_token *pragma_tok,\n \t  if (parser->oacc_routine\n \t      && !parser->oacc_routine->error_seen\n \t      && !parser->oacc_routine->fndecl_seen)\n-\t    error_at (loc, \"%<#pragma acc routine%> not followed by \"\n+\t    error_at (loc, \"%<#pragma acc routine%> not followed by a \"\n \t\t      \"function declaration or definition\");\n \n \t  data.tokens.release ();\n@@ -35972,7 +35972,7 @@ cp_parser_oacc_routine (cp_parser *parser, cp_token *pragma_tok,\n }\n \n /* Finalize #pragma acc routine clauses after direct declarator has\n-   been parsed, and put that into \"oacc routine\" attribute.  */\n+   been parsed, and put that into \"oacc function\" attribute.  */\n \n static tree\n cp_parser_late_parsing_oacc_routine (cp_parser *parser, tree attrs)\n@@ -35987,7 +35987,7 @@ cp_parser_late_parsing_oacc_routine (cp_parser *parser, tree attrs)\n   if ((!data->error_seen && data->fndecl_seen)\n       || data->tokens.length () != 1)\n     {\n-      error_at (loc, \"%<#pragma oacc routine%> not followed by a single \"\n+      error_at (loc, \"%<#pragma acc routine%> not followed by a \"\n \t\t\"function declaration or definition\");\n       data->error_seen = true;\n       return attrs;\n@@ -36003,7 +36003,7 @@ cp_parser_late_parsing_oacc_routine (cp_parser *parser, tree attrs)\n \n   cp_token *pragma_tok = cp_lexer_consume_token (parser->lexer);\n   cl = cp_parser_oacc_all_clauses (parser, OACC_ROUTINE_CLAUSE_MASK,\n-\t\t\t\t  \"#pragma oacc routine\", pragma_tok);\n+\t\t\t\t  \"#pragma acc routine\", pragma_tok);\n   cp_parser_pop_lexer (parser);\n \n   tree c_head = build_omp_clause (loc, OMP_CLAUSE_SEQ);\n@@ -36044,7 +36044,8 @@ cp_finalize_oacc_routine (cp_parser *parser, tree fndecl, bool is_defn)\n       if (!fndecl || TREE_CODE (fndecl) != FUNCTION_DECL)\n \t{\n \t  error_at (loc,\n-\t\t    \"%<#pragma acc routine%> not followed by single function\");\n+\t\t    \"%<#pragma acc routine%> not followed by a function \"\n+\t\t    \"declaration or definition\");\n \t  parser->oacc_routine = NULL;\n \t}\n \t  "}]}