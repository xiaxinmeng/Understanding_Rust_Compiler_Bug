{"sha": "69d02b6734161afc16afa8663f538894774f48c6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjlkMDJiNjczNDE2MWFmYzE2YWZhODY2M2Y1Mzg4OTQ3NzRmNDhjNg==", "commit": {"author": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1997-06-18T19:58:18Z"}, "committer": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1997-06-18T19:58:18Z"}, "message": "(\\onepageout): Leave space for the footline if present.\n\n(\\oddfootingxxx),\n(\\onepageout): Leave space for the footline if present.\n(\\everyfootingxxx, \\everyheadingxxx): Call \\oddfootingxxx and\n\\evenfootingxxx instead of repeating their code.\nFrom: Stephen Gildea <gildea@intouchsys.com>.\n\n(\\setfilename): Read texinfo.cnf if present.\n\n(\\indexdummies, \\indexnofonts): No-op additional commands @result @equiv\n@expansion @print @error @point.\nFrom: Dave Bodenstab <imdave@ais.net> (for texi2www doc).\n\nFrom-SVN: r14254", "tree": {"sha": "415766d85b4931e3035d9b32405f1720c8a1a869", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/415766d85b4931e3035d9b32405f1720c8a1a869"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69d02b6734161afc16afa8663f538894774f48c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69d02b6734161afc16afa8663f538894774f48c6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69d02b6734161afc16afa8663f538894774f48c6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69d02b6734161afc16afa8663f538894774f48c6/comments", "author": null, "committer": null, "parents": [{"sha": "6633d6367f902b576a96132ba6a9a53368db66ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6633d6367f902b576a96132ba6a9a53368db66ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6633d6367f902b576a96132ba6a9a53368db66ba"}], "stats": {"total": 53, "additions": 40, "deletions": 13}, "files": [{"sha": "e024e635664537edd6b31a98fd87a90026a9cca2", "filename": "gcc/texinfo.tex", "status": "modified", "additions": 40, "deletions": 13, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69d02b6734161afc16afa8663f538894774f48c6/gcc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69d02b6734161afc16afa8663f538894774f48c6/gcc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftexinfo.tex?ref=69d02b6734161afc16afa8663f538894774f48c6", "patch": "@@ -1,5 +1,5 @@\n %% TeX macros to handle Texinfo files.\n-%% $Id: texinfo.tex,v 2.203 1997/06/05 22:04:25 karl Exp karl $\n+%% $Id: texinfo.tex,v 2.204 1997/06/06 14:31:32 karl Exp $\n \n %  Copyright (C) 1985, 86, 88, 90, 91, 92, 93,\n %                94, 95, 96, 97 Free Software Foundation, Inc.\n@@ -36,7 +36,7 @@\n \n % This automatically updates the version number based on RCS.\n \\def\\deftexinfoversion$#1: #2 ${\\def\\texinfoversion{#2}}\n-\\deftexinfoversion$Revision: 2.203 $\n+\\deftexinfoversion$Revision: 2.204 $\n \\message{Loading texinfo package [Version \\texinfoversion]:}\n \n % If in a .fmt file, print the version number\n@@ -185,7 +185,13 @@\n       %\n       \\unvbox\\headlinebox\n       \\pagebody{#1}%\n-      \\unvbox\\footlinebox\n+      \\ifdim\\ht\\footlinebox > 0pt\n+        % Only leave this space if the footline is nonempty.\n+        % (We lessened \\vsize for it in \\oddfootingxxx.)\n+        % The \\baselineskip=24pt in plain's \\makefootline has no effect.\n+        \\vskip 2\\baselineskip\n+        \\unvbox\\footlinebox\n+      \\fi\n       %\n       \\ifcropmarks\n           \\egroup % end of \\vbox\\bgroup\n@@ -1006,6 +1012,15 @@\n    \\openindices\n    \\fixbackslash  % Turn off hack to swallow `\\input texinfo'.\n    \\global\\let\\setfilename=\\comment % Ignore extra @setfilename cmds.\n+   %\n+   % If texinfo.cnf is present on the system, read it.\n+   % Useful for site-wide @afourpaper, etc.\n+   % Just to be on the safe side, close the input stream before the \\input.\n+   \\openin 1 texinfo.cnf\n+   \\ifeof1 \\let\\temp=\\relax \\else \\def\\temp{\\input texinfo.cnf }\\fi\n+   \\closein1\n+   \\temp\n+   %\n    \\comment % Ignore the actual filename.\n }\n \n@@ -1504,23 +1519,23 @@\n \\gdef\\oddheadingyyy #1@|#2@|#3@|#4\\finish{%\n \\global\\oddheadline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}}\n \n-\\gdef\\everyheadingxxx #1{\\everyheadingyyy #1@|@|@|@|\\finish}\n-\\gdef\\everyheadingyyy #1@|#2@|#3@|#4\\finish{%\n-\\global\\evenheadline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}\n-\\global\\oddheadline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}}\n+\\gdef\\everyheadingxxx#1{\\oddheadingxxx{#1}\\evenheadingxxx{#1}}%\n \n \\gdef\\evenfootingxxx #1{\\evenfootingyyy #1@|@|@|@|\\finish}\n \\gdef\\evenfootingyyy #1@|#2@|#3@|#4\\finish{%\n \\global\\evenfootline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}}\n \n \\gdef\\oddfootingxxx #1{\\oddfootingyyy #1@|@|@|@|\\finish}\n \\gdef\\oddfootingyyy #1@|#2@|#3@|#4\\finish{%\n-\\global\\oddfootline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}}\n+  \\global\\oddfootline = {\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}%\n+  %\n+  % Leave some space for the footline.  Hopefully ok to assume\n+  % @evenfooting will not be used by itself.\n+  \\global\\advance\\pageheight by -3\\baselineskip\n+  \\global\\advance\\vsize by -3\\baselineskip\n+}\n \n-\\gdef\\everyfootingxxx #1{\\everyfootingyyy #1@|@|@|@|\\finish}\n-\\gdef\\everyfootingyyy #1@|#2@|#3@|#4\\finish{%\n-\\global\\evenfootline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}\n-\\global\\oddfootline={\\rlap{\\centerline{#2}}\\line{#1\\hfil#3}}}\n+\\gdef\\everyfootingxxx#1{\\oddfootingxxx{#1}\\evenfootingxxx{#1}}\n %\n }% unbind the catcode of @.\n \n@@ -2244,7 +2259,13 @@\n %\\def\\char{\\realbackslash char}%\n \\def\\TeX{\\realbackslash TeX}%\n \\def\\dots{\\realbackslash dots }%\n-\\def\\copyright{\\realbackslash copyright }%\n+\\def\\result{\\realbackslash result}%\n+\\def\\equiv{\\realbackslash equiv}%\n+\\def\\expansion{\\realbackslash expansion}%\n+\\def\\print{\\realbackslash print}%\n+\\def\\error{\\realbackslash error}%\n+\\def\\point{\\realbackslash point}%\n+\\def\\copyright{\\realbackslash copyright}%\n \\def\\tclose##1{\\realbackslash tclose {##1}}%\n \\def\\code##1{\\realbackslash code {##1}}%\n \\def\\dotless##1{\\realbackslash dotless {##1}}%\n@@ -2696,6 +2717,12 @@\n   \\def\\print{\\realbackslash print}%\n   \\def\\TeX{\\realbackslash TeX}%\n   \\def\\dots{\\realbackslash dots}%\n+  \\def\\result{\\realbackslash result}%\n+  \\def\\equiv{\\realbackslash equiv}%\n+  \\def\\expansion{\\realbackslash expansion}%\n+  \\def\\print{\\realbackslash print}%\n+  \\def\\error{\\realbackslash error}%\n+  \\def\\point{\\realbackslash point}%\n   \\def\\copyright{\\realbackslash copyright}%\n   \\def\\tt{\\realbackslash tt}%\n   \\def\\bf{\\realbackslash bf}%"}]}