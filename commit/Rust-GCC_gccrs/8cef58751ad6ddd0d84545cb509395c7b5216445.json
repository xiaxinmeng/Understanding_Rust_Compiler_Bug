{"sha": "8cef58751ad6ddd0d84545cb509395c7b5216445", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGNlZjU4NzUxYWQ2ZGRkMGQ4NDU0NWNiNTA5Mzk1YzdiNTIxNjQ0NQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2017-01-10T22:33:09Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2017-01-10T22:33:09Z"}, "message": "re PR c++/77598 (constexpr compilation failure on reference type casting)\n\n\tPR c++/77598\n\n\t* g++.dg/cpp0x/constexpr-ref11.C: New.\n\nFrom-SVN: r244296", "tree": {"sha": "eb9d323a72d57ec46a21ea6a7584816b88eed760", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb9d323a72d57ec46a21ea6a7584816b88eed760"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8cef58751ad6ddd0d84545cb509395c7b5216445", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cef58751ad6ddd0d84545cb509395c7b5216445", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8cef58751ad6ddd0d84545cb509395c7b5216445", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8cef58751ad6ddd0d84545cb509395c7b5216445/comments", "author": null, "committer": null, "parents": [{"sha": "5a50f6bbedd904cd2d913f4d39646b3d99ed7ca4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a50f6bbedd904cd2d913f4d39646b3d99ed7ca4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a50f6bbedd904cd2d913f4d39646b3d99ed7ca4"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "78ea77e81d245269391d726b163d6980ab28110e", "filename": "gcc/testsuite/g++.dg/cpp0x/constexpr-ref11.C", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8cef58751ad6ddd0d84545cb509395c7b5216445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-ref11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8cef58751ad6ddd0d84545cb509395c7b5216445/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-ref11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-ref11.C?ref=8cef58751ad6ddd0d84545cb509395c7b5216445", "patch": "@@ -0,0 +1,26 @@\n+// PR c++/77598\n+// { dg-do compile { target c++11 } }\n+\n+template <typename T>\n+struct A { static constexpr T a = T (); };\n+template <typename T>\n+constexpr T A<T>::a;\n+struct B\n+{\n+  int b;\n+  constexpr int foo () const { return b; }\n+  constexpr B (const int &x) : b(x) {};\n+};\n+struct C : public B\n+{\n+  constexpr C () : B(50) {};\n+};\n+struct D : public C\n+{\n+};\n+struct E\n+{\n+  static constexpr const auto &e = A<D>::a;\n+};\n+constexpr const B &f = E::e;\n+constexpr const int g = f.foo ();"}]}