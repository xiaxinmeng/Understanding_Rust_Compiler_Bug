{"sha": "75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVmZTFjYjVkZDczNGY4N2ViMTYzYjY3MWNkNjliMmUzZTRmZDhlZA==", "commit": {"author": {"name": "Greta Yorsh", "email": "greta.yorsh@arm.com", "date": "2013-04-05T17:12:37Z"}, "committer": {"name": "Greta Yorsh", "email": "gretay@gcc.gnu.org", "date": "2013-04-05T17:12:37Z"}, "message": "arm.md (arm_smax_insn): Convert define_insn into define_insn_and_split.\n\n2013-04-05  Greta Yorsh  <Greta.Yorsh@arm.com>\n\n\t* config/arm/arm.md (arm_smax_insn): Convert define_insn into\n\tdefine_insn_and_split.\n\t(arm_smin_insn,arm_umaxsi3,arm_uminsi3): Likewise.\n\nFrom-SVN: r197528", "tree": {"sha": "f6c91ba21e37341e7effde75c58f1da9baf0df65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6c91ba21e37341e7effde75c58f1da9baf0df65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed/comments", "author": null, "committer": null, "parents": [{"sha": "dd660e8e0aa0083754b060dfab0c2487fb8b7382", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd660e8e0aa0083754b060dfab0c2487fb8b7382", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd660e8e0aa0083754b060dfab0c2487fb8b7382"}], "stats": {"total": 74, "additions": 56, "deletions": 18}, "files": [{"sha": "2bd27c3bf3a94752cce066a08ef7fb638abd77bc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "patch": "@@ -1,3 +1,9 @@\n+2013-04-05  Greta Yorsh  <Greta.Yorsh@arm.com>\n+\n+\t* config/arm/arm.md (arm_smax_insn): Convert define_insn into\n+\tdefine_insn_and_split.\n+\t(arm_smin_insn,arm_umaxsi3,arm_uminsi3): Likewise.\n+\n 2013-04-05  Greta Yorsh  <Greta.Yorsh@arm.com>\n \n \t* config/arm/arm.md (arm_ashldi3_1bit): Convert define_insn into"}, {"sha": "68519f42711298fb001b05343e3a60b67ac84aa7", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 50, "deletions": 18, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=75fe1cb5dd734f87eb163b671cd69b2e3e4fd8ed", "patch": "@@ -3376,15 +3376,23 @@\n   [(set_attr \"predicable\" \"yes\")]\n )\n \n-(define_insn \"*arm_smax_insn\"\n+(define_insn_and_split \"*arm_smax_insn\"\n   [(set (match_operand:SI          0 \"s_register_operand\" \"=r,r\")\n \t(smax:SI (match_operand:SI 1 \"s_register_operand\"  \"%0,?r\")\n \t\t (match_operand:SI 2 \"arm_rhs_operand\"    \"rI,rI\")))\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_ARM\"\n-  \"@\n-   cmp\\\\t%1, %2\\;movlt\\\\t%0, %2\n-   cmp\\\\t%1, %2\\;movge\\\\t%0, %1\\;movlt\\\\t%0, %2\"\n+  \"#\"\n+   ; cmp\\\\t%1, %2\\;movlt\\\\t%0, %2\n+   ; cmp\\\\t%1, %2\\;movge\\\\t%0, %1\\;movlt\\\\t%0, %2\"\n+  \"TARGET_ARM\"\n+  [(set (reg:CC CC_REGNUM)\n+        (compare:CC (match_dup 1) (match_dup 2)))\n+   (set (match_dup 0)\n+        (if_then_else:SI (ge:SI (reg:CC CC_REGNUM) (const_int 0))\n+                         (match_dup 1)\n+                         (match_dup 2)))]\n+  \"\"\n   [(set_attr \"conds\" \"clob\")\n    (set_attr \"length\" \"8,12\")]\n )\n@@ -3416,15 +3424,23 @@\n   [(set_attr \"predicable\" \"yes\")]\n )\n \n-(define_insn \"*arm_smin_insn\"\n+(define_insn_and_split \"*arm_smin_insn\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"=r,r\")\n \t(smin:SI (match_operand:SI 1 \"s_register_operand\" \"%0,?r\")\n \t\t (match_operand:SI 2 \"arm_rhs_operand\" \"rI,rI\")))\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_ARM\"\n-  \"@\n-   cmp\\\\t%1, %2\\;movge\\\\t%0, %2\n-   cmp\\\\t%1, %2\\;movlt\\\\t%0, %1\\;movge\\\\t%0, %2\"\n+  \"#\"\n+    ; cmp\\\\t%1, %2\\;movge\\\\t%0, %2\n+    ; cmp\\\\t%1, %2\\;movlt\\\\t%0, %1\\;movge\\\\t%0, %2\"\n+  \"TARGET_ARM\"\n+  [(set (reg:CC CC_REGNUM)\n+        (compare:CC (match_dup 1) (match_dup 2)))\n+   (set (match_dup 0)\n+        (if_then_else:SI (lt:SI (reg:CC CC_REGNUM) (const_int 0))\n+                         (match_dup 1)\n+                         (match_dup 2)))]\n+  \"\"\n   [(set_attr \"conds\" \"clob\")\n    (set_attr \"length\" \"8,12\")]\n )\n@@ -3439,16 +3455,24 @@\n   \"\"\n )\n \n-(define_insn \"*arm_umaxsi3\"\n+(define_insn_and_split \"*arm_umaxsi3\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"=r,r,r\")\n \t(umax:SI (match_operand:SI 1 \"s_register_operand\" \"0,r,?r\")\n \t\t (match_operand:SI 2 \"arm_rhs_operand\" \"rI,0,rI\")))\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_ARM\"\n-  \"@\n-   cmp\\\\t%1, %2\\;movcc\\\\t%0, %2\n-   cmp\\\\t%1, %2\\;movcs\\\\t%0, %1\n-   cmp\\\\t%1, %2\\;movcs\\\\t%0, %1\\;movcc\\\\t%0, %2\"\n+  \"#\"\n+    ; cmp\\\\t%1, %2\\;movcc\\\\t%0, %2\n+    ; cmp\\\\t%1, %2\\;movcs\\\\t%0, %1\n+    ; cmp\\\\t%1, %2\\;movcs\\\\t%0, %1\\;movcc\\\\t%0, %2\"\n+  \"TARGET_ARM\"\n+  [(set (reg:CC CC_REGNUM)\n+        (compare:CC (match_dup 1) (match_dup 2)))\n+   (set (match_dup 0)\n+        (if_then_else:SI (geu:SI (reg:CC CC_REGNUM) (const_int 0))\n+                         (match_dup 1)\n+                         (match_dup 2)))]\n+  \"\"\n   [(set_attr \"conds\" \"clob\")\n    (set_attr \"length\" \"8,8,12\")]\n )\n@@ -3463,16 +3487,24 @@\n   \"\"\n )\n \n-(define_insn \"*arm_uminsi3\"\n+(define_insn_and_split \"*arm_uminsi3\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"=r,r,r\")\n \t(umin:SI (match_operand:SI 1 \"s_register_operand\" \"0,r,?r\")\n \t\t (match_operand:SI 2 \"arm_rhs_operand\" \"rI,0,rI\")))\n    (clobber (reg:CC CC_REGNUM))]\n   \"TARGET_ARM\"\n-  \"@\n-   cmp\\\\t%1, %2\\;movcs\\\\t%0, %2\n-   cmp\\\\t%1, %2\\;movcc\\\\t%0, %1\n-   cmp\\\\t%1, %2\\;movcc\\\\t%0, %1\\;movcs\\\\t%0, %2\"\n+  \"#\"\n+   ; cmp\\\\t%1, %2\\;movcs\\\\t%0, %2\n+   ; cmp\\\\t%1, %2\\;movcc\\\\t%0, %1\n+   ; cmp\\\\t%1, %2\\;movcc\\\\t%0, %1\\;movcs\\\\t%0, %2\"\n+  \"TARGET_ARM\"\n+  [(set (reg:CC CC_REGNUM)\n+        (compare:CC (match_dup 1) (match_dup 2)))\n+   (set (match_dup 0)\n+        (if_then_else:SI (ltu:SI (reg:CC CC_REGNUM) (const_int 0))\n+                         (match_dup 1)\n+                         (match_dup 2)))]\n+  \"\"\n   [(set_attr \"conds\" \"clob\")\n    (set_attr \"length\" \"8,8,12\")]\n )"}]}