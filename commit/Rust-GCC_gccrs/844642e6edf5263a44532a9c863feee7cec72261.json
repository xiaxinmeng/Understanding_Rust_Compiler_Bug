{"sha": "844642e6edf5263a44532a9c863feee7cec72261", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQ0NjQyZTZlZGY1MjYzYTQ0NTMyYTljODYzZmVlZTdjZWM3MjI2MQ==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1998-10-27T13:26:51Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1998-10-27T13:26:51Z"}, "message": "Ignore empty target specific options...\n\nIgnore empty target specific options, and if -W is also specified on the\ncommand line then display undocumented options.\n\nFrom-SVN: r23366", "tree": {"sha": "c8cad1ef016ba9b981950df693c16a7f48ee531a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c8cad1ef016ba9b981950df693c16a7f48ee531a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/844642e6edf5263a44532a9c863feee7cec72261", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844642e6edf5263a44532a9c863feee7cec72261", "html_url": "https://github.com/Rust-GCC/gccrs/commit/844642e6edf5263a44532a9c863feee7cec72261", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844642e6edf5263a44532a9c863feee7cec72261/comments", "author": null, "committer": null, "parents": [{"sha": "f5e04914fb476f5ea40a72b0cb675571347c953d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5e04914fb476f5ea40a72b0cb675571347c953d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5e04914fb476f5ea40a72b0cb675571347c953d"}], "stats": {"total": 44, "additions": 37, "deletions": 7}, "files": [{"sha": "21a25cc259df586996a9909a398450012bf033ae", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844642e6edf5263a44532a9c863feee7cec72261/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844642e6edf5263a44532a9c863feee7cec72261/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=844642e6edf5263a44532a9c863feee7cec72261", "patch": "@@ -1,5 +1,11 @@\n+Tue Oct 27 13:15:02 1998  Nick Clifton  <nickc@cygnus.com>\n+\t\n+\t* toplev.c (display_help): Ignore empty target specific\n+\toptions, and if -W is also specified on the command line then\n+\tdisplay undocumented options.\n+\t\n Tue Oct 27 16:11:43 1998  David Edelsohn  <edelsohn@mhpcc.edu>\n-\n+\t\n \t* collect2.c (aix64_flag): New variable.\n \t(main, case 'b'): Parse it.\n \t(GCC_CHECK_HDR): object magic number must match mode."}, {"sha": "162a1e69a4fb2412f1688d70bbbfebb9696ad62d", "filename": "gcc/invoke.texi", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844642e6edf5263a44532a9c863feee7cec72261/gcc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844642e6edf5263a44532a9c863feee7cec72261/gcc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finvoke.texi?ref=844642e6edf5263a44532a9c863feee7cec72261", "patch": "@@ -87,7 +87,7 @@ in the following sections.\n @item Overall Options\n @xref{Overall Options,,Options Controlling the Kind of Output}.\n @smallexample\n--c  -S  -E  -o @var{file}  -pipe  -v  -x @var{language}\n+-c  -S  -E  -o @var{file}  -pipe  -v  --help  -x @var{language}\n @end smallexample\n \n @item C Language Options\n@@ -558,6 +558,15 @@ Use pipes rather than temporary files for communication between the\n various stages of compilation.  This fails to work on some systems where\n the assembler is unable to read from a pipe; but the GNU assembler has\n no trouble.\n+\n+@item --help\n+Print (on the standard output) a description of the command line options\n+understood by @code{gcc}.  If the @code{-v} option is also specified\n+then @code{--help} will also be passed on to the various processes\n+invoked by @code{gcc}, so that they can display the command line options\n+they accept.  If the @code{-W} option is also specified then command\n+line options which have no documentation associated with them will also\n+be displayed.\n @end table\n \n @node Invoking G++"}, {"sha": "64ef43e4301d561788b63203db8cc0d6a2496eeb", "filename": "gcc/toplev.c", "status": "modified", "additions": 20, "deletions": 5, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/844642e6edf5263a44532a9c863feee7cec72261/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/844642e6edf5263a44532a9c863feee7cec72261/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=844642e6edf5263a44532a9c863feee7cec72261", "patch": "@@ -4079,7 +4079,12 @@ display_help ()\n \t  char * option      = documented_lang_options[i].option;\n \n \t  if (description == NULL)\n-\t    undoc = 1;\n+\t    {\n+\t      undoc = 1;\n+\n+\t      if (extra_warnings)\n+\t\tprintf (\"  %-23.23s [undocumented]\\n\", option);\n+\t    }\n \t  else if (* description == 0)\n \t    continue;\n \t  else if (option == NULL)\n@@ -4119,10 +4124,15 @@ display_help ()\n \t  char * option      = target_switches[i].name;\n \t  char * description = target_switches[i].description;\n \n-\t  if (option == NULL)\n+\t  if (option == NULL || * option == 0)\n \t    continue;\n \t  else if (description == NULL)\n-\t    undoc = 1;\n+\t    {\n+\t      undoc = 1;\n+\t      \n+\t      if (extra_warnings)\n+\t\tprintf (\"  -m%-21.21s [undocumented]\\n\", option);\n+\t    }\n \t  else if (* description != 0)\n \t    doc += printf (\"  -m%-21.21s %s\\n\", option, description);\n \t}\n@@ -4133,10 +4143,15 @@ display_help ()\n \t  char * option      = target_options[i].prefix;\n \t  char * description = target_options[i].description;\n \n-\t  if (option == NULL)\n+\t  if (option == NULL || * option == 0)\n \t    continue;\n \t  else if (description == NULL)\n-\t    undoc = 1;\n+\t    {\n+\t      undoc = 1;\n+\t      \n+\t      if (extra_warnings)\n+\t\tprintf (\"  -m%-21.21s [undocumented]\\n\", option);\n+\t    }\n \t  else if (* description != 0)\n \t    doc += printf (\"  -m%-21.21s %s\\n\", option, description);\n \t}"}]}