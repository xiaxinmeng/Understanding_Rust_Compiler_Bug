{"sha": "7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzM3MmRmZTRiYjBhYzdjMmQ1YTVjOTgwZTAwODQ0MzdmMTRjZWY4Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-03T15:07:47Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-03T15:07:47Z"}, "message": "mksysinfo.sh: Make sure that CLONE_NEWUSER is defined.\n\n    \n    Reviewed-on: https://go-review.googlesource.com/16588\n\nFrom-SVN: r229711", "tree": {"sha": "5c3df45845766d9a54859597c9b9d3fcd67f98ac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c3df45845766d9a54859597c9b9d3fcd67f98ac"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b/comments", "author": null, "committer": null, "parents": [{"sha": "32fec2c8a21d3e0c6b13113a8d7d6d59c2fb9f42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32fec2c8a21d3e0c6b13113a8d7d6d59c2fb9f42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32fec2c8a21d3e0c6b13113a8d7d6d59c2fb9f42"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "23b53bead866bcc4ce649e5345d6a9f8d4e72abe", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "patch": "@@ -1,4 +1,4 @@\n-28fbc7f42702ce081ef5f3ce9a1dbc1ed3f3c89e\n+10e0f935ac369f8403c198b05c909e42e565c1e5\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "6d39df96e95fdfb06fc2a84bf6dca8b528a625bf", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=7372dfe4bb0ac7c2d5a5c980e0084437f14cef8b", "patch": "@@ -1444,6 +1444,11 @@ grep '^type _inotify_event ' gen-sysinfo.go | \\\n # The GNU/Linux CLONE flags.\n grep '^const _CLONE_' gen-sysinfo.go | \\\n   sed -e 's/^\\(const \\)_\\(CLONE_[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+# We need some CLONE constants that are not defined in older versions\n+# of glibc.\n+if ! grep '^const CLONE_NEWUSER ' ${OUT} > /dev/null 2>&1; then\n+  echo \"const CLONE_NEWUSER = 0x10000000\" >> ${OUT}\n+fi\n \n # Struct sizes.\n set cmsghdr Cmsghdr ip_mreq IPMreq ip_mreqn IPMreqn ipv6_mreq IPv6Mreq \\"}]}