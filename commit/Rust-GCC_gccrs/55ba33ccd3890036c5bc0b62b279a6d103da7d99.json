{"sha": "55ba33ccd3890036c5bc0b62b279a6d103da7d99", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTViYTMzY2NkMzg5MDAzNmM1YmMwYjYyYjI3OWE2ZDEwM2RhN2Q5OQ==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-04-22T13:53:29Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-04-22T13:56:51Z"}, "message": "testsuite: [arm/mve] Include arm_mve.h in arm_v8_1m_mve_ok\n\nSince arm_mve.h includes stdint.h, its use requires the presence of\nthe right gnu/stub-*.h, so make sure to include it when checking the\narm_v8_1m_mve_ok_nocache effective target, otherwise we can decide MVE\nis supported while it's not really. This makes several tests\nunsupported rather than fail.\n\n2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tgcc/testsuite/\n\t* lib/target-supports.exp\n\t(check_effective_target_arm_v8_1m_mve_ok_nocache): Include\n\tarm_mve.h.", "tree": {"sha": "793c11fd3db6069eccca8b10b9dab155465a9533", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/793c11fd3db6069eccca8b10b9dab155465a9533"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/55ba33ccd3890036c5bc0b62b279a6d103da7d99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55ba33ccd3890036c5bc0b62b279a6d103da7d99", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55ba33ccd3890036c5bc0b62b279a6d103da7d99", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55ba33ccd3890036c5bc0b62b279a6d103da7d99/comments", "author": null, "committer": null, "parents": [{"sha": "90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90d6f07c0157d90dd2b5eaeff08f7a4706cac83a"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "d172ec30b0c6a9b1726308f3b4543cfb8d0a99d0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55ba33ccd3890036c5bc0b62b279a6d103da7d99/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55ba33ccd3890036c5bc0b62b279a6d103da7d99/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=55ba33ccd3890036c5bc0b62b279a6d103da7d99", "patch": "@@ -1,3 +1,9 @@\n+2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+        * lib/target-supports.exp\n+        (check_effective_target_arm_v8_1m_mve_ok_nocache): Include\n+        arm_mve.h.\n+\n 2020-04-22  Christophe Lyon  <christophe.lyon@linaro.org>\n \n         * gcc.target/arm/mve/intrinsics/mve_vector_float.c: Use"}, {"sha": "9b30bd2427f15b41ab02254ee29a88b6cf3cf54f", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/55ba33ccd3890036c5bc0b62b279a6d103da7d99/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/55ba33ccd3890036c5bc0b62b279a6d103da7d99/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=55ba33ccd3890036c5bc0b62b279a6d103da7d99", "patch": "@@ -4965,6 +4965,7 @@ proc check_effective_target_arm_v8_1m_mve_ok_nocache { } {\n \t    #if __ARM_BIG_ENDIAN\n \t    #error \"MVE intrinsics are not supported in Big-Endian mode.\"\n \t    #endif\n+\t    #include <arm_mve.h>\n         } \"$flags -mthumb\"] } {\n             set et_arm_v8_1m_mve_flags \"$flags -mthumb --save-temps\"\n             return 1"}]}