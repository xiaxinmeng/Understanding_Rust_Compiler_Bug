{"sha": "514d0fc530d487c2f3819f59e5f2ca508f419a5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE0ZDBmYzUzMGQ0ODdjMmYzODE5ZjU5ZTVmMmNhNTA4ZjQxOWE1ZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-10T09:36:00Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-07-10T09:36:00Z"}, "message": "[multiple changes]\n\n2009-07-10  Arnaud Charlet  <charlet@adacore.com>\n\n\t* i-cexten.ads (bool): New type.\n\n2009-07-10  Robert Dewar  <dewar@adacore.com>\n\n\t* sinfo.ads (N_Short_Circuit): New definition\n\t\n\t* sem_ch13.adb, sem_ch6.adb, sem_eval.adb, sem_res.adb,\n\ttreepr.adb: Minor code reorganization (use N_Short_Circuit)\n\nFrom-SVN: r149467", "tree": {"sha": "2e90045d7a29dd6aff6b7a5001210cf52503c6d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e90045d7a29dd6aff6b7a5001210cf52503c6d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/514d0fc530d487c2f3819f59e5f2ca508f419a5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/514d0fc530d487c2f3819f59e5f2ca508f419a5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/514d0fc530d487c2f3819f59e5f2ca508f419a5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/514d0fc530d487c2f3819f59e5f2ca508f419a5d/comments", "author": null, "committer": null, "parents": [{"sha": "7b4db06ceeb85373d9bd52fb68eec77600455f12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b4db06ceeb85373d9bd52fb68eec77600455f12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b4db06ceeb85373d9bd52fb68eec77600455f12"}], "stats": {"total": 46, "additions": 32, "deletions": 14}, "files": [{"sha": "fa118449c0150966f787a41bb3d3f501ffc93bbe", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -1,3 +1,14 @@\n+2009-07-10  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* i-cexten.ads (bool): New type.\n+\n+2009-07-10  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sinfo.ads (N_Short_Circuit): New definition\n+\t\n+\t* sem_ch13.adb, sem_ch6.adb, sem_eval.adb, sem_res.adb,\n+\ttreepr.adb: Minor code reorganization (use N_Short_Circuit)\n+\n 2009-07-10  Javier Miranda  <miranda@adacore.com>\n \n \t* exp_ch3.adb (Expand_Freeze_Record_Type): Handle constructors of"}, {"sha": "93f8dc68b515394f8859aa43b835eb573620c074", "filename": "gcc/ada/i-cexten.ads", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fi-cexten.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fi-cexten.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fi-cexten.ads?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -36,6 +36,8 @@ with System;\n \n package Interfaces.C.Extensions is\n \n+   --  Following 7 declarations need comments ???\n+\n    subtype void     is System.Address;\n    subtype void_ptr is System.Address;\n \n@@ -45,16 +47,14 @@ package Interfaces.C.Extensions is\n    subtype incomplete_class_def is System.Address;\n    type incomplete_class_def_ptr is access incomplete_class_def;\n \n-   --\n+   subtype bool is plain_char;\n+\n    --  64bit integer types\n-   --\n \n    subtype long_long is Long_Long_Integer;\n    type unsigned_long_long is mod 2 ** 64;\n \n-   --\n    --  Types for bitfields\n-   --\n \n    type Unsigned_1 is mod 2 ** 1;\n    for Unsigned_1'Size use 1;"}, {"sha": "8f4d6eeb1ec024d45b1a4921bf291c98d5e90f97", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -3225,7 +3225,7 @@ package body Sem_Ch13 is\n             when N_Null =>\n                return;\n \n-            when N_Binary_Op | N_And_Then | N_Or_Else | N_Membership_Test =>\n+            when N_Binary_Op | N_Short_Circuit | N_Membership_Test =>\n                Check_Expr_Constants (Left_Opnd (Nod));\n                Check_Expr_Constants (Right_Opnd (Nod));\n "}, {"sha": "29dd6e5ed6d10ae32bb2e5c41874743b2ff0533a", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -6083,7 +6083,7 @@ package body Sem_Ch6 is\n                    and then FCE (Left_Opnd  (E1), Left_Opnd  (E2))\n                    and then FCE (Right_Opnd (E1), Right_Opnd (E2));\n \n-            when N_And_Then | N_Or_Else | N_Membership_Test =>\n+            when N_Short_Circuit | N_Membership_Test =>\n                return\n                  FCE (Left_Opnd  (E1), Left_Opnd  (E2))\n                    and then"}, {"sha": "d06d1d081fcb6f230876f61fd0db055c8e60ae6d", "filename": "gcc/ada/sem_eval.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_eval.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_eval.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_eval.adb?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -2905,7 +2905,8 @@ package body Sem_Eval is\n       Left_Int := Expr_Value (Left);\n \n       if (Kind = N_And_Then and then Is_False (Left_Int))\n-        or else (Kind = N_Or_Else and Is_True (Left_Int))\n+            or else\n+         (Kind = N_Or_Else  and then Is_True (Left_Int))\n       then\n          Fold_Uint (N, Left_Int, Rstat);\n          return;\n@@ -4955,7 +4956,7 @@ package body Sem_Eval is\n                   \"(RM 4.9(5))!\", N, E);\n             end if;\n \n-         when N_Binary_Op | N_And_Then | N_Or_Else | N_Membership_Test =>\n+         when N_Binary_Op | N_Short_Circuit | N_Membership_Test =>\n             if Nkind (N) in N_Op_Shift then\n                Error_Msg_N\n                 (\"shift functions are never static (RM 4.9(6,18))!\", N);"}, {"sha": "7c3eff5a9ac76d1ea79af1d6d5b63858c68aee09", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -2492,7 +2492,7 @@ package body Sem_Res is\n \n             when N_Allocator => Resolve_Allocator                (N, Ctx_Type);\n \n-            when N_And_Then | N_Or_Else\n+            when N_Short_Circuit\n                              => Resolve_Short_Circuit            (N, Ctx_Type);\n \n             when N_Attribute_Reference"}, {"sha": "4aafa5959d404543a096599a495b2a708bcc82a9", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -7044,16 +7044,19 @@ package Sinfo is\n       N_In,\n       N_Not_In,\n \n-      --  N_Subexpr, N_Has_Etype\n+      --  N_Subexpr, N_Has_Etype, N_Short_Circuit\n \n       N_And_Then,\n+      N_Or_Else,\n+\n+      --  N_Subexpr, N_Has_Etype\n+\n       N_Conditional_Expression,\n       N_Explicit_Dereference,\n       N_Function_Call,\n       N_Indexed_Component,\n       N_Integer_Literal,\n       N_Null,\n-      N_Or_Else,\n       N_Procedure_Call_Statement,\n       N_Qualified_Expression,\n \n@@ -7438,6 +7441,10 @@ package Sinfo is\n      N_At_Clause ..\n      N_Attribute_Definition_Clause;\n \n+   subtype N_Short_Circuit is Node_Kind range\n+      N_And_Then ..\n+      N_Or_Else;\n+\n    subtype N_Statement_Other_Than_Procedure_Call is Node_Kind range\n      N_Abort_Statement ..\n      N_If_Statement;"}, {"sha": "c2f0770f29e5bf5667b7daf2dea78bf6a6ba29a6", "filename": "gcc/ada/treepr.adb", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Ftreepr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/514d0fc530d487c2f3819f59e5f2ca508f419a5d/gcc%2Fada%2Ftreepr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftreepr.adb?ref=514d0fc530d487c2f3819f59e5f2ca508f419a5d", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1992-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1992-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -949,8 +949,7 @@ package body Treepr is\n          --  Deal with Left_Opnd and Right_Opnd fields\n \n          if Nkind (N) in N_Op\n-           or else Nkind (N) = N_And_Then\n-           or else Nkind (N) = N_Or_Else\n+           or else Nkind (N) in N_Short_Circuit\n            or else Nkind (N) in N_Membership_Test\n          then\n             --  Print Left_Opnd if present"}]}