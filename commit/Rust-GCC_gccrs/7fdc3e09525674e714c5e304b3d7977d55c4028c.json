{"sha": "7fdc3e09525674e714c5e304b3d7977d55c4028c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZkYzNlMDk1MjU2NzRlNzE0YzVlMzA0YjNkNzk3N2Q1NWM0MDI4Yw==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm@polyomino.org.uk", "date": "2004-10-05T19:58:39Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2004-10-05T19:58:39Z"}, "message": "c-decl.c (declspecs_add_type): Don't pedwarn for _Complex in system headers.\n\n\t* c-decl.c (declspecs_add_type): Don't pedwarn for _Complex in\n\tsystem headers.\n\ntestsuite:\n\t* gcc.dg/complex-2.c, gcc.dg/complex-2.h: New test.\n\nFrom-SVN: r88571", "tree": {"sha": "3d54f3fac62131960b9bc0fcfd664e54c7bfe590", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d54f3fac62131960b9bc0fcfd664e54c7bfe590"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7fdc3e09525674e714c5e304b3d7977d55c4028c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fdc3e09525674e714c5e304b3d7977d55c4028c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fdc3e09525674e714c5e304b3d7977d55c4028c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fdc3e09525674e714c5e304b3d7977d55c4028c/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b36c8183586b92176cd67dc2250623632120a4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b36c8183586b92176cd67dc2250623632120a4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b36c8183586b92176cd67dc2250623632120a4c"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "f3b9b84c2eb0f78c7391e02418072458689dc9aa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7fdc3e09525674e714c5e304b3d7977d55c4028c", "patch": "@@ -1,3 +1,8 @@\n+2004-10-05  Joseph S. Myers  <jsm@polyomino.org.uk>\n+\n+\t* c-decl.c (declspecs_add_type): Don't pedwarn for _Complex in\n+\tsystem headers.\n+\n 2004-10-05  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* c-decl.c (pushdecl): When an extern declaration at block scope"}, {"sha": "a723c258d61692719dcbbdb4a6b37171d8a0f980", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=7fdc3e09525674e714c5e304b3d7977d55c4028c", "patch": "@@ -6816,7 +6816,7 @@ declspecs_add_type (struct c_declspecs *specs, tree type)\n \t      break;\n \t    case RID_COMPLEX:\n \t      dupe = specs->complex_p;\n-\t      if (pedantic && !flag_isoc99)\n+\t      if (pedantic && !flag_isoc99 && !in_system_header)\n \t\tpedwarn (\"ISO C90 does not support complex types\");\n \t      if (specs->typespec_word == cts_void)\n \t\terror (\"both %<complex%> and %<void%> in \""}, {"sha": "2ade3dd839b0fd959e9f96fca816e2b1f30a00ef", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7fdc3e09525674e714c5e304b3d7977d55c4028c", "patch": "@@ -1,3 +1,7 @@\n+2004-10-05  Joseph S. Myers  <jsm@polyomino.org.uk>\n+\n+\t* gcc.dg/complex-2.c, gcc.dg/complex-2.h: New test.\n+\n 2004-10-05  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* gcc.c-torture/compile/20041005-1.c: New test."}, {"sha": "85adcde2a78e94f6d2cb917b8b5cee51269c856e", "filename": "gcc/testsuite/gcc.dg/complex-2.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.c?ref=7fdc3e09525674e714c5e304b3d7977d55c4028c", "patch": "@@ -0,0 +1,7 @@\n+/* Allow complex types in system headers even with -std=iso9899:1990\n+   -pedantic-errors.  */\n+/* Origin: Joseph Myers <jsm@polyomino.org.uk> */\n+/* { dg-do compile } */\n+/* { dg-options \"-std=iso9899:1990 -pedantic-errors\" } */\n+\n+#include \"complex-2.h\""}, {"sha": "752d7f26d6108c05475392e433f98aa0df200773", "filename": "gcc/testsuite/gcc.dg/complex-2.h", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fdc3e09525674e714c5e304b3d7977d55c4028c/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcomplex-2.h?ref=7fdc3e09525674e714c5e304b3d7977d55c4028c", "patch": "@@ -0,0 +1,6 @@\n+/* Allow complex types in system headers even with -std=iso9899:1990\n+   -pedantic-errors.  Header file.  */\n+\n+#pragma GCC system_header\n+\n+_Complex double x;"}]}