{"sha": "d39985fabf60fc4c42acf88a039a9b0bca027cc2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM5OTg1ZmFiZjYwZmM0YzQyYWNmODhhMDM5YTliMGJjYTAyN2NjMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-21T11:33:55Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-10-21T11:33:55Z"}, "message": "(do_store_flag): Ensure we don't get confused when emit_store_flag\nfails and an operand has a QUEUED.\n\nFrom-SVN: r2540", "tree": {"sha": "4015cf9b7ddfccfc47d280b564695eb5c970cf85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4015cf9b7ddfccfc47d280b564695eb5c970cf85"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d39985fabf60fc4c42acf88a039a9b0bca027cc2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d39985fabf60fc4c42acf88a039a9b0bca027cc2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d39985fabf60fc4c42acf88a039a9b0bca027cc2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d39985fabf60fc4c42acf88a039a9b0bca027cc2/comments", "author": null, "committer": null, "parents": [{"sha": "1a94ca492005af7ed9a8ee6fd542c35d2aa28705", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a94ca492005af7ed9a8ee6fd542c35d2aa28705", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a94ca492005af7ed9a8ee6fd542c35d2aa28705"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "1641a9c30455235f71122b247850f8bcc7600346", "filename": "gcc/expr.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d39985fabf60fc4c42acf88a039a9b0bca027cc2/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d39985fabf60fc4c42acf88a039a9b0bca027cc2/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=d39985fabf60fc4c42acf88a039a9b0bca027cc2", "patch": "@@ -7160,8 +7160,14 @@ do_store_flag (exp, target, mode, only_cheap)\n   if (target == 0)\n     target = gen_reg_rtx (mode);\n \n-  result = emit_store_flag (target, code, op0, op1, operand_mode,\n-\t\t\t    unsignedp, 1);\n+  /* Pass copies of OP0 and OP1 in case they contain a QUEUED.  This is safe\n+     because, if the emit_store_flag does anything it will succeed and\n+     OP0 and OP1 will not be used subsequently.  */\n+\n+  result = emit_store_flag (target, code,\n+\t\t\t    queued_subexp_p (op0) ? copy_rtx (op0) : op0,\n+\t\t\t    queued_subexp_p (op1) ? copy_rtx (op1) : op1,\n+\t\t\t    operand_mode, unsignedp, 1);\n \n   if (result)\n     {"}]}