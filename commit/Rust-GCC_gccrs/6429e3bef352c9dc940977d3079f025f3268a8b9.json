{"sha": "6429e3bef352c9dc940977d3079f025f3268a8b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjQyOWUzYmVmMzUyYzlkYzk0MDk3N2QzMDc5ZjAyNWYzMjY4YThiOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-07-02T04:53:37Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-07-02T04:53:37Z"}, "message": "gimple-low.c (lower_function_body): Don't reset_block_changes here.\n\n        * gimple-low.c (lower_function_body): Don't reset_block_changes here.\n        * cfgexpand.c (tree_expand_cfg): Do it here.\n        * config/alpha/alpha.c (alpha_output_mi_thunk_osf): And here.\n        * config/ia64/ia64.c (ia64_output_mi_thunk): And here.\n        * config/mips/mips.c (mips_output_mi_thunk): And here.\n        * config/rs6000/rs6000.c (rs6000_output_mi_thunk): And here.\n        * config/sh/sh.c (sh_output_mi_thunk): And here.\n        * config/sparc/sparc.c (sparc_output_mi_thunk): And here.\n\nFrom-SVN: r84012", "tree": {"sha": "747c99ba0b92f8eea6dff90b5b9f8179903a0e49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/747c99ba0b92f8eea6dff90b5b9f8179903a0e49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6429e3bef352c9dc940977d3079f025f3268a8b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6429e3bef352c9dc940977d3079f025f3268a8b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6429e3bef352c9dc940977d3079f025f3268a8b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6429e3bef352c9dc940977d3079f025f3268a8b9/comments", "author": null, "committer": null, "parents": [{"sha": "4dfa034295629327f8b823cb1c6dfa1585ac86ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dfa034295629327f8b823cb1c6dfa1585ac86ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4dfa034295629327f8b823cb1c6dfa1585ac86ee"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "6e8e002d540b2be05c851850aba851647ac674cf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -1,3 +1,14 @@\n+2004-07-01  Richard Henderson  <rth@redhat.com>\n+\n+        * gimple-low.c (lower_function_body): Don't reset_block_changes here.\n+        * cfgexpand.c (tree_expand_cfg): Do it here.\n+        * config/alpha/alpha.c (alpha_output_mi_thunk_osf): And here.\n+        * config/ia64/ia64.c (ia64_output_mi_thunk): And here.\n+        * config/mips/mips.c (mips_output_mi_thunk): And here.\n+        * config/rs6000/rs6000.c (rs6000_output_mi_thunk): And here.\n+        * config/sh/sh.c (sh_output_mi_thunk): And here.\n+        * config/sparc/sparc.c (sparc_output_mi_thunk): And here.\n+\n 2004-07-01  Richard Henderson  <rth@redhat.com>\n \n \t* tree.def (RTL_EXPR): Remove."}, {"sha": "05b3bc803a3c22d58e4e1cf75c5ad726ecf9e727", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -412,6 +412,9 @@ tree_expand_cfg (void)\n     walk_tree (&TREE_TYPE (current_function_decl), set_save_expr_context,\n \t       current_function_decl, NULL);\n \n+  /* Prepare the rtl middle end to start recording block changes.  */\n+  reset_block_changes ();\n+\n   /* Expand the variables recorded during gimple lowering.  This must\n      occur before the call to expand_function_start to ensure that\n      all used variables are expanded before we expand anything on the"}, {"sha": "91aaae78fa9efd838a17c5a6f6a5a596fe325056", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -7899,6 +7899,8 @@ alpha_output_mi_thunk_osf (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n   HOST_WIDE_INT hi, lo;\n   rtx this, insn, funexp;\n \n+  reset_block_changes ();\n+\n   /* We always require a valid GP.  */\n   emit_insn (gen_prologue_ldgp ());\n   emit_note (NOTE_INSN_PROLOGUE_END);"}, {"sha": "783ebf747f56918e85ea4d0b68348e55640fb4ce", "filename": "gcc/config/ia64/ia64.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fia64%2Fia64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fia64%2Fia64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Fia64.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -8926,6 +8926,7 @@ ia64_output_mi_thunk (FILE *file, tree thunk ATTRIBUTE_UNUSED,\n   reload_completed = 1;\n   epilogue_completed = 1;\n   no_new_pseudos = 1;\n+  reset_block_changes ();\n \n   /* Set things up as ia64_expand_prologue might.  */\n   last_scratch_gr_reg = 15;"}, {"sha": "c2f7ce97f2f7456b128015b3a8135dca39a39870", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -7070,6 +7070,7 @@ mips_output_mi_thunk (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n   /* Pretend to be a post-reload pass while generating rtl.  */\n   no_new_pseudos = 1;\n   reload_completed = 1;\n+  reset_block_changes ();\n \n   /* Pick a global pointer for -mabicalls.  Use $15 rather than $28\n      for TARGET_NEWABI since the latter is a call-saved register.  */"}, {"sha": "5fce266db4da35ac82e634449d85ff363ffd2c92", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -13382,6 +13382,7 @@ rs6000_output_mi_thunk (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n   reload_completed = 1;\n   epilogue_completed = 1;\n   no_new_pseudos = 1;\n+  reset_block_changes ();\n \n   /* Mark the end of the (empty) prologue.  */\n   emit_note (NOTE_INSN_PROLOGUE_END);"}, {"sha": "6587e75145d9022bbbad8c47f55faff1693339c6", "filename": "gcc/config/sh/sh.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fsh%2Fsh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fsh%2Fsh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -9494,6 +9494,7 @@ sh_output_mi_thunk (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n   epilogue_completed = 1;\n   no_new_pseudos = 1;\n   current_function_uses_only_leaf_regs = 1;\n+  reset_block_changes ();\n \n   emit_note (NOTE_INSN_PROLOGUE_END);\n "}, {"sha": "1f335a33e11d72c17641956b7394659b1d5cb952", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -8361,6 +8361,7 @@ sparc_output_mi_thunk (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n   epilogue_completed = 1;\n   no_new_pseudos = 1;\n   current_function_uses_only_leaf_regs = 1;\n+  reset_block_changes ();\n \n   emit_note (NOTE_INSN_PROLOGUE_END);\n "}, {"sha": "c29f591fe54f266ffe6cb773d6a1f6fac458d711", "filename": "gcc/gimple-low.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fgimple-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6429e3bef352c9dc940977d3079f025f3268a8b9/gcc%2Fgimple-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-low.c?ref=6429e3bef352c9dc940977d3079f025f3268a8b9", "patch": "@@ -123,8 +123,6 @@ lower_function_body (void)\n     = blocks_nreverse (BLOCK_SUBBLOCKS (data.block));\n \n   clear_block_marks (data.block);\n-\n-  reset_block_changes ();\n }\n \n struct tree_opt_pass pass_lower_cf = "}]}