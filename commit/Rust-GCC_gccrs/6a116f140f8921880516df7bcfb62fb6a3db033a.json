{"sha": "6a116f140f8921880516df7bcfb62fb6a3db033a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmExMTZmMTQwZjg5MjE4ODA1MTZkZjdiY2ZiNjJmYjZhM2RiMDMzYQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2015-06-10T16:51:49Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2015-06-10T16:51:49Z"}, "message": "re PR target/66474 (Document the use of %x in powerpc asm statements)\n\n2015-06-10  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\tPR target/66474\n\t* doc/md.texi (Machine Constraints): Document that on the PowerPC\n\tif you use a constraint that targets a VSX register, you must use\n\t%x<n> in the template.\n\nFrom-SVN: r224332", "tree": {"sha": "c636c3c7f0f97644fe66dee85da8565a5bdfc8b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c636c3c7f0f97644fe66dee85da8565a5bdfc8b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a116f140f8921880516df7bcfb62fb6a3db033a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a116f140f8921880516df7bcfb62fb6a3db033a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a116f140f8921880516df7bcfb62fb6a3db033a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a116f140f8921880516df7bcfb62fb6a3db033a/comments", "author": null, "committer": null, "parents": [{"sha": "1a4cd2cd7e7266b07e28fe4d127cfd6e6bac0916", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a4cd2cd7e7266b07e28fe4d127cfd6e6bac0916", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a4cd2cd7e7266b07e28fe4d127cfd6e6bac0916"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "e4dfe3856ec77a1cf647676d327a1bdc7844f6fc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a116f140f8921880516df7bcfb62fb6a3db033a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a116f140f8921880516df7bcfb62fb6a3db033a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6a116f140f8921880516df7bcfb62fb6a3db033a", "patch": "@@ -1,3 +1,10 @@\n+2015-06-10  Michael Meissner  <meissner@linux.vnet.ibm.com>\n+\n+\tPR target/66474\n+\t* doc/md.texi (Machine Constraints): Document that on the PowerPC\n+\tif you use a constraint that targets a VSX register, you must use\n+\t%x<n> in the template.\n+\n 2015-06-10  Max Filippov  <jcmvbkbc@gmail.com>\n \n \t* config/xtensa/xtensa.h (TARGET_DEBUG): New definition."}, {"sha": "e991286afcc6e8d464815800e002cf18b7ab2896", "filename": "gcc/doc/md.texi", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a116f140f8921880516df7bcfb62fb6a3db033a/gcc%2Fdoc%2Fmd.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a116f140f8921880516df7bcfb62fb6a3db033a/gcc%2Fdoc%2Fmd.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fmd.texi?ref=6a116f140f8921880516df7bcfb62fb6a3db033a", "patch": "@@ -3070,6 +3070,27 @@ Altivec vector register\n @item wa\n Any VSX register if the -mvsx option was used or NO_REGS.\n \n+When using any of the register constraints (@code{wa}, @code{wd},\n+@code{wf}, @code{wg}, @code{wh}, @code{wi}, @code{wj}, @code{wk},\n+@code{wl}, @code{wm}, @code{ws}, @code{wt}, @code{wu}, @code{wv},\n+@code{ww}, or @code{wy}) that take VSX registers, you must use\n+@code{%x<n>} in the template so that the correct register is used.\n+Otherwise the register number output in the assembly file will be\n+incorrect if an Altivec register is an operand of a VSX instruction\n+that expects VSX register numbering.\n+\n+@smallexample\n+asm (\"xvadddp %x0,%x1,%x2\" : \"=wa\" (v1) : \"wa\" (v2), \"wa\" (v3));\n+@end smallexample\n+\n+is correct, but:\n+\n+@smallexample\n+asm (\"xvadddp %0,%1,%2\" : \"=wa\" (v1) : \"wa\" (v2), \"wa\" (v3));\n+@end smallexample\n+\n+is not correct.\n+\n @item wd\n VSX vector register to hold vector double data or NO_REGS.\n "}]}