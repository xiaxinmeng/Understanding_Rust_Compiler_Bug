{"sha": "e0a35f9be5e08b33465999c90a0a3f09d4676da6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTBhMzVmOWJlNWUwOGIzMzQ2NTk5OWM5MGEwYTNmMDlkNDY3NmRhNg==", "commit": {"author": {"name": "Sandra Loosemore", "email": "sandra@codesourcery.com", "date": "2018-11-23T05:18:19Z"}, "committer": {"name": "Sandra Loosemore", "email": "sandra@gcc.gnu.org", "date": "2018-11-23T05:18:19Z"}, "message": "re PR c/53608 (Documentation could be clearer about designated initializers of unions)\n\n2018-11-22  Sandra Loosemore  <sandra@codesourcery.com>\n\t    Alan Coopersmith  <alan.coopersmith@oracle.com>\n\n\tPR c/53608\n\n\tgcc/\n\t* doc/extend.texi (Designated Inits): Clarify handling of multiple\n\tinitializers for unions.\n\nCo-Authored-By: Alan Coopersmith <alan.coopersmith@oracle.com>\n\nFrom-SVN: r266402", "tree": {"sha": "0a8ebda030ad5bbabbf69df69f7911e8f611f079", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a8ebda030ad5bbabbf69df69f7911e8f611f079"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e0a35f9be5e08b33465999c90a0a3f09d4676da6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0a35f9be5e08b33465999c90a0a3f09d4676da6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0a35f9be5e08b33465999c90a0a3f09d4676da6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0a35f9be5e08b33465999c90a0a3f09d4676da6/comments", "author": {"login": "SandraLoosemore", "id": 104087111, "node_id": "U_kgDOBjQ-Rw", "avatar_url": "https://avatars.githubusercontent.com/u/104087111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SandraLoosemore", "html_url": "https://github.com/SandraLoosemore", "followers_url": "https://api.github.com/users/SandraLoosemore/followers", "following_url": "https://api.github.com/users/SandraLoosemore/following{/other_user}", "gists_url": "https://api.github.com/users/SandraLoosemore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SandraLoosemore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SandraLoosemore/subscriptions", "organizations_url": "https://api.github.com/users/SandraLoosemore/orgs", "repos_url": "https://api.github.com/users/SandraLoosemore/repos", "events_url": "https://api.github.com/users/SandraLoosemore/events{/privacy}", "received_events_url": "https://api.github.com/users/SandraLoosemore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3f317614decc726ef4f7a07d511395cd231caca0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f317614decc726ef4f7a07d511395cd231caca0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f317614decc726ef4f7a07d511395cd231caca0"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "508682f86eb2b72bdc4e2d9925e105a16d626fda", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0a35f9be5e08b33465999c90a0a3f09d4676da6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0a35f9be5e08b33465999c90a0a3f09d4676da6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e0a35f9be5e08b33465999c90a0a3f09d4676da6", "patch": "@@ -1,3 +1,10 @@\n+2018-11-22  Sandra Loosemore  <sandra@codesourcery.com>\n+\t    Alan Coopersmith  <alan.coopersmith@oracle.com>\n+\n+\tPR c/53608\n+\t* doc/extend.texi (Designated Inits): Clarify handling of multiple\n+\tinitializers for unions.\n+\n 2018-11-22  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/88142"}, {"sha": "91baec3c886fefefc5433bb3872309309185ea17", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e0a35f9be5e08b33465999c90a0a3f09d4676da6/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e0a35f9be5e08b33465999c90a0a3f09d4676da6/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=e0a35f9be5e08b33465999c90a0a3f09d4676da6", "patch": "@@ -2104,7 +2104,7 @@ Another syntax that has the same meaning, obsolete since GCC 2.5, is\n struct point p = @{ y: yvalue, x: xvalue @};\n @end smallexample\n \n-Omitted field members are implicitly initialized the same as objects\n+Omitted fields are implicitly initialized the same as for objects\n that have static storage duration.\n \n @cindex designators\n@@ -2162,11 +2162,13 @@ example, with the @samp{struct point} declaration above:\n struct point ptarray[10] = @{ [2].y = yv2, [2].x = xv2, [0].x = xv0 @};\n @end smallexample\n \n-@noindent\n-If the same field is initialized multiple times, it has the value from\n-the last initialization.  If any such overridden initialization has\n-side effect, it is unspecified whether the side effect happens or not.\n-Currently, GCC discards them and issues a warning.\n+If the same field is initialized multiple times, or overlapping\n+fields of a union are initialized, the value from the last\n+initialization is used.  When a field of a union is itself a structure, \n+the entire structure from the last field initialized is used.  If any previous\n+initializer has side effect, it is unspecified whether the side effect\n+happens or not.  Currently, GCC discards the side-effecting\n+initializer expressions and issues a warning.\n \n @node Case Ranges\n @section Case Ranges"}]}