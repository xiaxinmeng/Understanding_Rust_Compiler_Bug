{"sha": "22dfc3e89d23070a7f46dd8a12b2fde201585353", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjJkZmMzZTg5ZDIzMDcwYTdmNDZkZDhhMTJiMmZkZTIwMTU4NTM1Mw==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2019-07-03T08:29:48Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2019-07-03T08:29:48Z"}, "message": "Fix use-after-scope in host-mingw32.c (PR target/88056).\n\n2019-07-03  Martin Liska  <mliska@suse.cz>\n\n\tPR target/88056\n\t* config/i386/host-mingw32.c (mingw32_gt_pch_use_address):\n\tDefine local_object_name in outer scope in order to handle\n\tuse-after-scope issue.\n\nFrom-SVN: r272991", "tree": {"sha": "57dd11e7e3041e6f9272bad99ad367d4bc2006ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57dd11e7e3041e6f9272bad99ad367d4bc2006ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22dfc3e89d23070a7f46dd8a12b2fde201585353", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22dfc3e89d23070a7f46dd8a12b2fde201585353", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22dfc3e89d23070a7f46dd8a12b2fde201585353", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22dfc3e89d23070a7f46dd8a12b2fde201585353/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8e37c995c69b40b3cc3ec015e6bbfe0567a020a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e37c995c69b40b3cc3ec015e6bbfe0567a020a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e37c995c69b40b3cc3ec015e6bbfe0567a020a0"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "3d1a07acb4010b195a36131e936b6cd7c623b415", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22dfc3e89d23070a7f46dd8a12b2fde201585353/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22dfc3e89d23070a7f46dd8a12b2fde201585353/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=22dfc3e89d23070a7f46dd8a12b2fde201585353", "patch": "@@ -1,3 +1,10 @@\n+2019-07-03  Martin Liska  <mliska@suse.cz>\n+\n+\tPR target/88056\n+\t* config/i386/host-mingw32.c (mingw32_gt_pch_use_address):\n+\tDefine local_object_name in outer scope in order to handle\n+\tuse-after-scope issue.\n+\n 2019-07-03  Martin Liska  <mliska@suse.cz>\n \n \t* common.opt: Add fprofile-note."}, {"sha": "3254d0283131ea08be3af6df8f9cad45e19de401", "filename": "gcc/config/i386/host-mingw32.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22dfc3e89d23070a7f46dd8a12b2fde201585353/gcc%2Fconfig%2Fi386%2Fhost-mingw32.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22dfc3e89d23070a7f46dd8a12b2fde201585353/gcc%2Fconfig%2Fi386%2Fhost-mingw32.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fhost-mingw32.c?ref=22dfc3e89d23070a7f46dd8a12b2fde201585353", "patch": "@@ -157,10 +157,10 @@ mingw32_gt_pch_use_address (void *addr, size_t size, int fd,\n   /* Determine the version of Windows we are running on and use a\n      uniquely-named local object if running > 4.  */\n   GetVersionEx (&version_info);\n+\n+  char local_object_name[sizeof (OBJECT_NAME_FMT) + sizeof (DWORD) * 2];\n   if (version_info.dwMajorVersion > 4)\n     {\n-      char local_object_name [sizeof (OBJECT_NAME_FMT)\n-\t\t\t      + sizeof (DWORD) * 2];\n       snprintf (local_object_name, sizeof (local_object_name),\n \t\tOBJECT_NAME_FMT \"%lx\", GetCurrentProcessId());\n       object_name = local_object_name;"}]}