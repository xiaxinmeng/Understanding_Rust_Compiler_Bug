{"sha": "06c00c701b476927b2e3af24c283a8551e71129e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZjMDBjNzAxYjQ3NjkyN2IyZTNhZjI0YzI4M2E4NTUxZTcxMTI5ZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-10-11T16:59:23Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-10-11T16:59:23Z"}, "message": "re PR c++/17929 (ICE with qualified name in template specialization)\n\n\tPR c++/17929\n\t* decl2.c (finish_anon_union): Robustify.\n\nFrom-SVN: r88886", "tree": {"sha": "1631690ebdc453570ed58a91c22ebf55fd190f08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1631690ebdc453570ed58a91c22ebf55fd190f08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06c00c701b476927b2e3af24c283a8551e71129e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06c00c701b476927b2e3af24c283a8551e71129e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06c00c701b476927b2e3af24c283a8551e71129e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06c00c701b476927b2e3af24c283a8551e71129e/comments", "author": null, "committer": null, "parents": [{"sha": "6936e493b56b4a67e9b1bfbafedfc79987eb4943", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6936e493b56b4a67e9b1bfbafedfc79987eb4943", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6936e493b56b4a67e9b1bfbafedfc79987eb4943"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "5196df9db4fd02c5c6482a3ef1dd2dd4d0735c32", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06c00c701b476927b2e3af24c283a8551e71129e/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06c00c701b476927b2e3af24c283a8551e71129e/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=06c00c701b476927b2e3af24c283a8551e71129e", "patch": "@@ -1,3 +1,8 @@\n+2004-10-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/17929\n+\t* decl2.c (finish_anon_union): Robustify.\n+\n 2004-10-11  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* cp-tree.h (get_dynamic_cast_base_type): Rename to ..."}, {"sha": "7a55907ab6e63a055bb5f9cf9fbeb02fcff4739a", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06c00c701b476927b2e3af24c283a8551e71129e/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06c00c701b476927b2e3af24c283a8551e71129e/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=06c00c701b476927b2e3af24c283a8551e71129e", "patch": "@@ -1182,9 +1182,15 @@ build_anon_union_vars (tree object)\n void\n finish_anon_union (tree anon_union_decl)\n {\n-  tree type = TREE_TYPE (anon_union_decl);\n+  tree type;\n   tree main_decl;\n-  bool public_p = TREE_PUBLIC (anon_union_decl);\n+  bool public_p;\n+\n+  if (anon_union_decl == error_mark_node)\n+    return;\n+\n+  type = TREE_TYPE (anon_union_decl);\n+  public_p = TREE_PUBLIC (anon_union_decl);\n \n   /* The VAR_DECL's context is the same as the TYPE's context.  */\n   DECL_CONTEXT (anon_union_decl) = DECL_CONTEXT (TYPE_NAME (type));"}]}