{"sha": "a9ab5e000d251d62b9b48062750a651e64af3360", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTlhYjVlMDAwZDI1MWQ2MmI5YjQ4MDYyNzUwYTY1MWU2NGFmMzM2MA==", "commit": {"author": {"name": "Timothy Moore", "email": "moore@gnu.org", "date": "1992-09-13T15:11:55Z"}, "committer": {"name": "Timothy Moore", "email": "moore@gnu.org", "date": "1992-09-13T15:11:55Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r2112", "tree": {"sha": "19d2bc8cf12e18c242222c2d89c047cf0b5aa847", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19d2bc8cf12e18c242222c2d89c047cf0b5aa847"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a9ab5e000d251d62b9b48062750a651e64af3360", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9ab5e000d251d62b9b48062750a651e64af3360", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9ab5e000d251d62b9b48062750a651e64af3360", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9ab5e000d251d62b9b48062750a651e64af3360/comments", "author": null, "committer": null, "parents": [{"sha": "a120b7889de5c2127f5dca2559ff0d9999611957", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a120b7889de5c2127f5dca2559ff0d9999611957", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a120b7889de5c2127f5dca2559ff0d9999611957"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "69259dde251a052b25ec3b9a36e5b04a5d8ad6aa", "filename": "gcc/genattrtab.c", "status": "modified", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a9ab5e000d251d62b9b48062750a651e64af3360/gcc%2Fgenattrtab.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a9ab5e000d251d62b9b48062750a651e64af3360/gcc%2Fgenattrtab.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenattrtab.c?ref=a9ab5e000d251d62b9b48062750a651e64af3360", "patch": "@@ -5407,6 +5407,38 @@ fancy_abort ()\n {\n   fatal (\"Internal gcc abort.\");\n }\n+\n+/* Determine if an insn has a constant number of delay slots. */\n+void\n+write_const_num_delay_slots ()\n+{\n+  struct attr_desc *attr = find_attr (\"*num_delay_slots\", 0);\n+  struct attr_value *av;\n+  struct insn_ent *ie;\n+  int i;\n+\n+  if (attr)\n+    {\n+      printf (\"int\\nconst_num_delay_slots (insn)\\n\");\n+      printf (\"     rtx *insn;\\n\");\n+      printf (\"{\\n\");\n+      printf (\"  switch (recog_memoized (insn))\\n\");\n+      printf (\"    {\\n\");\n+\n+      for (av = attr->first_value; av; av = av->next)\n+\tif (GET_CODE (av->value) == COND && av->num_insns)\n+\t  {\n+\t    for (ie = av->first_insn; ie; ie = ie->next)\n+\t      if (ie->insn_code != -1)\n+\t\tprintf (\"    case %d:\\n\", ie->insn_code);\n+\t    printf (\"      return 0;\\n\");\n+\t  }\n+      printf (\"    default:\\n\");\n+      printf (\"      return 1;\\n\");\n+      printf (\"    }\\n}\\n\");\n+    }\n+}\n+\n \f\n int\n main (argc, argv)\n@@ -5574,6 +5606,9 @@ from the machine description file `md'.  */\\n\\n\");\n   if (num_units)\n     write_function_unit_info ();\n \n+  /* Write out constant delay slot info */\n+  write_const_num_delay_slots ();\n+\n   fflush (stdout);\n   exit (ferror (stdout) != 0 ? FATAL_EXIT_CODE : SUCCESS_EXIT_CODE);\n   /* NOTREACHED */"}]}