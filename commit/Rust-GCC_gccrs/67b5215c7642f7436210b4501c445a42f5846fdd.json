{"sha": "67b5215c7642f7436210b4501c445a42f5846fdd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdiNTIxNWM3NjQyZjc0MzYyMTBiNDUwMWM0NDVhNDJmNTg0NmZkZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2013-10-21T18:32:23Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2013-10-21T18:32:23Z"}, "message": "system.h: Move hwint.h include further down.\n\ngcc/\n\t* system.h: Move hwint.h include further down.\n\t* hwint.h (sext_hwi, zext_hwi): Define unconditionally.  Add\n\tgcc_checking_asserts.\n\t* hwint.c (sext_hwi, zext_hwi): Delete ENABLE_CHECKING versions.\n\nFrom-SVN: r203906", "tree": {"sha": "c428c7e73d5606ac395dd73b9723b83e18d58202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c428c7e73d5606ac395dd73b9723b83e18d58202"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67b5215c7642f7436210b4501c445a42f5846fdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67b5215c7642f7436210b4501c445a42f5846fdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67b5215c7642f7436210b4501c445a42f5846fdd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67b5215c7642f7436210b4501c445a42f5846fdd/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0a873daac0eb17d86b867a1e7e679bd5385b7bc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a873daac0eb17d86b867a1e7e679bd5385b7bc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a873daac0eb17d86b867a1e7e679bd5385b7bc9"}], "stats": {"total": 59, "additions": 15, "deletions": 44}, "files": [{"sha": "e34ff7bd92f1f9c1fd449727098b428f3ae9f366", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=67b5215c7642f7436210b4501c445a42f5846fdd", "patch": "@@ -1,3 +1,10 @@\n+2013-10-21  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* system.h: Move hwint.h include further down.\n+\t* hwint.h (sext_hwi, zext_hwi): Define unconditionally.  Add\n+\tgcc_checking_asserts.\n+\t* hwint.c (sext_hwi, zext_hwi): Delete ENABLE_CHECKING versions.\n+\n 2013-10-21  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n \n \tFix volatile issues in optimize_bit_field_compare."}, {"sha": "f47be4ac5f5e03487b9561c6db6ca96cbd73602d", "filename": "gcc/hwint.c", "status": "modified", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fhwint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fhwint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhwint.c?ref=67b5215c7642f7436210b4501c445a42f5846fdd", "patch": "@@ -204,35 +204,3 @@ least_common_multiple (HOST_WIDE_INT a, HOST_WIDE_INT b)\n {\n   return mul_hwi (abs_hwi (a) / gcd (a, b), abs_hwi (b));\n }\n-\n-#ifdef ENABLE_CHECKING\n-/* Sign extend SRC starting from PREC.  */\n-\n-HOST_WIDE_INT\n-sext_hwi (HOST_WIDE_INT src, unsigned int prec)\n-{\n-  gcc_checking_assert (prec <= HOST_BITS_PER_WIDE_INT);\n-\n-  if (prec == HOST_BITS_PER_WIDE_INT)\n-    return src;\n-  else\n-    {\n-      int shift = HOST_BITS_PER_WIDE_INT - prec;\n-      return (src << shift) >> shift;\n-    }\n-}\n-\n-/* Zero extend SRC starting from PREC.  */\n-\n-unsigned HOST_WIDE_INT\n-zext_hwi (unsigned HOST_WIDE_INT src, unsigned int prec)\n-{\n-  gcc_checking_assert (prec <= HOST_BITS_PER_WIDE_INT);\n-\n-  if (prec == HOST_BITS_PER_WIDE_INT)\n-    return src;\n-  else\n-    return src & (((HOST_WIDE_INT)1 << prec) - 1);\n-}\n-\n-#endif"}, {"sha": "77ae64224f793ae6e173a3c61ef59a5bca3ef95e", "filename": "gcc/hwint.h", "status": "modified", "additions": 5, "deletions": 9, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fhwint.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fhwint.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhwint.h?ref=67b5215c7642f7436210b4501c445a42f5846fdd", "patch": "@@ -322,34 +322,30 @@ extern HOST_WIDE_INT least_common_multiple (HOST_WIDE_INT, HOST_WIDE_INT);\n \n /* Sign extend SRC starting from PREC.  */\n \n-#ifdef ENABLE_CHECKING\n-extern HOST_WIDE_INT sext_hwi (HOST_WIDE_INT, unsigned int);\n-#else\n static inline HOST_WIDE_INT\n sext_hwi (HOST_WIDE_INT src, unsigned int prec)\n {\n   if (prec == HOST_BITS_PER_WIDE_INT)\n     return src;\n   else\n     {\n+      gcc_checking_assert (prec < HOST_BITS_PER_WIDE_INT);\n       int shift = HOST_BITS_PER_WIDE_INT - prec;\n       return (src << shift) >> shift;\n     }\n }\n-#endif\n \n /* Zero extend SRC starting from PREC.  */\n-#ifdef ENABLE_CHECKING\n-extern unsigned HOST_WIDE_INT zext_hwi (unsigned HOST_WIDE_INT, unsigned int);\n-#else\n static inline unsigned HOST_WIDE_INT\n zext_hwi (unsigned HOST_WIDE_INT src, unsigned int prec)\n {\n   if (prec == HOST_BITS_PER_WIDE_INT)\n     return src;\n   else\n-    return src & (((HOST_WIDE_INT)1 << prec) - 1);\n+    {\n+      gcc_checking_assert (prec < HOST_BITS_PER_WIDE_INT);\n+      return src & (((HOST_WIDE_INT) 1 << prec) - 1);\n+    }\n }\n-#endif\n \n #endif /* ! GCC_HWINT_H */"}, {"sha": "a1fc6de5db5e3cb4ac5abdc77cec7bfff7c770da", "filename": "gcc/system.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67b5215c7642f7436210b4501c445a42f5846fdd/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=67b5215c7642f7436210b4501c445a42f5846fdd", "patch": "@@ -273,9 +273,6 @@ extern int errno;\n # include <limits.h>\n #endif\n \n-/* Get definitions of HOST_WIDE_INT and HOST_WIDEST_INT.  */\n-#include \"hwint.h\"\n-\n /* A macro to determine whether a VALUE lies inclusively within a\n    certain range without evaluating the VALUE more than once.  This\n    macro won't warn if the VALUE is unsigned and the LOWER bound is\n@@ -1063,4 +1060,7 @@ helper_const_non_const_cast (const char *p)\n #define DEBUG_VARIABLE\n #endif\n \n+/* Get definitions of HOST_WIDE_INT and HOST_WIDEST_INT.  */\n+#include \"hwint.h\"\n+\n #endif /* ! GCC_SYSTEM_H */"}]}