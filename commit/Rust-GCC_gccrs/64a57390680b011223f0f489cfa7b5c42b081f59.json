{"sha": "64a57390680b011223f0f489cfa7b5c42b081f59", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRhNTczOTA2ODBiMDExMjIzZjBmNDg5Y2ZhN2I1YzQyYjA4MWY1OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-10-02T23:50:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-10-02T23:50:23Z"}, "message": "compiler: Fix a couple of type reflection strings.\n\nFrom-SVN: r192014", "tree": {"sha": "a92ae57e783518fc65dba6ca3e6248f49c8536c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a92ae57e783518fc65dba6ca3e6248f49c8536c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64a57390680b011223f0f489cfa7b5c42b081f59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64a57390680b011223f0f489cfa7b5c42b081f59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64a57390680b011223f0f489cfa7b5c42b081f59", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64a57390680b011223f0f489cfa7b5c42b081f59/comments", "author": null, "committer": null, "parents": [{"sha": "e395eacb4e15d30cf9862b6e73dd05c2dab58364", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e395eacb4e15d30cf9862b6e73dd05c2dab58364", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e395eacb4e15d30cf9862b6e73dd05c2dab58364"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "1736a32654d657acdf821e5c9e5c34993eff2a25", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64a57390680b011223f0f489cfa7b5c42b081f59/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64a57390680b011223f0f489cfa7b5c42b081f59/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=64a57390680b011223f0f489cfa7b5c42b081f59", "patch": "@@ -4919,14 +4919,15 @@ Struct_type::write_equal_function(Gogo* gogo, Named_type* name)\n void\n Struct_type::do_reflection(Gogo* gogo, std::string* ret) const\n {\n-  ret->append(\"struct { \");\n+  ret->append(\"struct {\");\n \n   for (Struct_field_list::const_iterator p = this->fields_->begin();\n        p != this->fields_->end();\n        ++p)\n     {\n       if (p != this->fields_->begin())\n-\tret->append(\"; \");\n+\tret->push_back(';');\n+      ret->push_back(' ');\n       if (p->is_anonymous())\n \tret->push_back('?');\n       else\n@@ -4959,7 +4960,10 @@ Struct_type::do_reflection(Gogo* gogo, std::string* ret) const\n \t}\n     }\n \n-  ret->append(\" }\");\n+  if (!this->fields_->empty())\n+    ret->push_back(' ');\n+\n+  ret->push_back('}');\n }\n \n // Mangled name.\n@@ -8390,6 +8394,7 @@ Named_type::do_reflection(Gogo* gogo, std::string* ret) const\n     }\n   if (this->in_function_ != NULL)\n     {\n+      ret->push_back('\\t');\n       ret->append(Gogo::unpack_hidden_name(this->in_function_->name()));\n       ret->push_back('$');\n       if (this->in_function_index_ > 0)\n@@ -8399,6 +8404,7 @@ Named_type::do_reflection(Gogo* gogo, std::string* ret) const\n \t  ret->append(buf);\n \t  ret->push_back('$');\n \t}\n+      ret->push_back('\\t');\n     }\n   ret->append(Gogo::unpack_hidden_name(this->named_object_->name()));\n }"}]}