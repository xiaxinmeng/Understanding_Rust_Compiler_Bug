{"sha": "3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FiN2IzZGVmMmMwNGM2NWVjNDA1NGJiNGU1NDBmYjcwYjEwMTJiMA==", "commit": {"author": {"name": "Brooks Moses", "email": "brooks.moses@codesourcery.com", "date": "2007-01-04T17:30:37Z"}, "committer": {"name": "Brooks Moses", "email": "brooks@gcc.gnu.org", "date": "2007-01-04T17:30:37Z"}, "message": "re PR fortran/30235 ([4.1 only] missing alternate return argument with explicit interface causes segfault)\n\nfortran/\n\tPR 30235\n\t* interface.c (compare_actual_formal): check for\n\talternate returns when iterating over non-present\n\targuments.\n\ntestsuite/\n\tPR 30235\n\t* gfortran.dg/altreturn_2.f90: new test.\n\nFrom-SVN: r120447", "tree": {"sha": "548e3afae25e554953647125e37c14825130cb42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/548e3afae25e554953647125e37c14825130cb42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/comments", "author": null, "committer": null, "parents": [{"sha": "5f9a37a64894dc717cf96c228454f510bc92efe5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9a37a64894dc717cf96c228454f510bc92efe5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9a37a64894dc717cf96c228454f510bc92efe5"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "2333b821c3f450ab8146f156eafb7570ac1a52a6", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "patch": "@@ -1,3 +1,10 @@\n+2007-01-04  Brooks Moses  <brooks.moses@codesourcery.com>\n+\n+\tPR 30235\n+\t* interface.c (compare_actual_formal): check for\n+\talternate returns when iterating over non-present\n+\targuments.\n+\n 2007-01-04  Brooks Moses  <brooks.moses@codesourcery.com>\n \n \t* invoke.texi: Update manpage copyright to include 2007."}, {"sha": "7b0c4231b0e1d718e6811c6ea666c79c03374f85", "filename": "gcc/fortran/interface.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ffortran%2Finterface.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ffortran%2Finterface.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finterface.c?ref=3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "patch": "@@ -1455,6 +1455,13 @@ compare_actual_formal (gfc_actual_arglist ** ap,\n     {\n       if (new[i] != NULL)\n \tcontinue;\n+      if (f->sym == NULL)\n+\t{\n+\t  if (where)\n+\t    gfc_error (\"Missing alternate return spec in subroutine call at %L\",\n+\t\t       where);\n+\t  return 0;\n+\t}\n       if (!f->sym->attr.optional)\n \t{\n \t  if (where)"}, {"sha": "0309fad98f507319c37a718f558d3c4016b83cf6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "patch": "@@ -1,3 +1,8 @@\n+2006-01-04  Brooks Moses  <brooks.moses@codesourcery.com>\n+\n+\tPR 30235\n+\t* gfortran.dg/altreturn_2.f90: new test.\n+\n 2007-01-04  Tom Tromey  <tromey@redhat.com>\n \n \tPR preprocessor/28165:"}, {"sha": "d0556d0370d894be22586802b51b8ab151fe14e4", "filename": "gcc/testsuite/gfortran.dg/altreturn_2.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ab7b3def2c04c65ec4054bb4e540fb70b1012b0/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_2.f90?ref=3ab7b3def2c04c65ec4054bb4e540fb70b1012b0", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+       program altreturn_2\n+         call foo()  ! { dg-error \"Missing alternate return\" }\n+       contains\n+         subroutine foo(*)\n+           return\n+         end subroutine\n+       end program"}]}