{"sha": "6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njc1MWI2ZjY1OGRlMWY5NjkyM2I1ZjY3MWNmOGYxYmNlZGY5MGM3ZA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2009-09-04T18:55:45Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2009-09-04T18:55:45Z"}, "message": "toplev.c (process_options): Move setter of flag_var_tracking before other tests that depend on it.\n\n* toplev.c (process_options): Move setter of flag_var_tracking\nbefore other tests that depend on it.  Move down setter of\nflag_rename_registers.  Don't enable var-tracking-assignments\nby default if selective scheduling is enabled.  Warn if both\nare enabled.\n\nFrom-SVN: r151433", "tree": {"sha": "c1c231b2d242caf3900b052944d562c37f52fc2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1c231b2d242caf3900b052944d562c37f52fc2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6751b6f658de1f96923b5f671cf8f1bcedf90c7d/comments", "author": null, "committer": null, "parents": [{"sha": "24277d3405286341523ae1eb3b5bd4e2156dea7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24277d3405286341523ae1eb3b5bd4e2156dea7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24277d3405286341523ae1eb3b5bd4e2156dea7b"}], "stats": {"total": 33, "additions": 23, "deletions": 10}, "files": [{"sha": "e88346b8476b1b7baffb933d54e06820337dabbb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6751b6f658de1f96923b5f671cf8f1bcedf90c7d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6751b6f658de1f96923b5f671cf8f1bcedf90c7d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "patch": "@@ -1,3 +1,11 @@\n+2009-09-04  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* toplev.c (process_options): Move setter of flag_var_tracking\n+\tbefore other tests that depend on it.  Move down setter of\n+\tflag_rename_registers.  Don't enable var-tracking-assignments\n+\tby default if selective scheduling is enabled.  Warn if both\n+\tare enabled.\n+\n 2009-09-04  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* var-tracking.c (dv_is_decl_p): Adjust NULL behavior to match"}, {"sha": "c18965a3c6e383c93ee8959dfbfccbbb51c31452", "filename": "gcc/toplev.c", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6751b6f658de1f96923b5f671cf8f1bcedf90c7d/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6751b6f658de1f96923b5f671cf8f1bcedf90c7d/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=6751b6f658de1f96923b5f671cf8f1bcedf90c7d", "patch": "@@ -1982,35 +1982,40 @@ process_options (void)\n       flag_var_tracking_uninit = 0;\n     }\n \n-  if (flag_rename_registers == AUTODETECT_VALUE)\n-    flag_rename_registers = default_debug_hooks->var_location\n-\t    \t\t    != do_nothing_debug_hooks.var_location;\n+  /* If the user specifically requested variable tracking with tagging\n+     uninitialized variables, we need to turn on variable tracking.\n+     (We already determined above that variable tracking is feasible.)  */\n+  if (flag_var_tracking_uninit)\n+    flag_var_tracking = 1;\n \n   if (flag_var_tracking == AUTODETECT_VALUE)\n     flag_var_tracking = optimize >= 1;\n \n   if (flag_var_tracking_assignments == AUTODETECT_VALUE)\n-    flag_var_tracking_assignments = flag_var_tracking;\n+    flag_var_tracking_assignments = flag_var_tracking\n+      && !(flag_selective_scheduling || flag_selective_scheduling2);\n \n   if (flag_var_tracking_assignments_toggle)\n     flag_var_tracking_assignments = !flag_var_tracking_assignments;\n \n   if (flag_var_tracking_assignments && !flag_var_tracking)\n     flag_var_tracking = flag_var_tracking_assignments = -1;\n \n+  if (flag_var_tracking_assignments\n+      && (flag_selective_scheduling || flag_selective_scheduling2))\n+    warning (0, \"var-tracking-assignments changes selective scheduling\");\n+\n+  if (flag_rename_registers == AUTODETECT_VALUE)\n+    flag_rename_registers = default_debug_hooks->var_location\n+\t    \t\t    != do_nothing_debug_hooks.var_location;\n+\n   if (flag_tree_cselim == AUTODETECT_VALUE)\n #ifdef HAVE_conditional_move\n     flag_tree_cselim = 1;\n #else\n     flag_tree_cselim = 0;\n #endif\n \n-  /* If the user specifically requested variable tracking with tagging\n-     uninitialized variables, we need to turn on variable tracking.\n-     (We already determined above that variable tracking is feasible.)  */\n-  if (flag_var_tracking_uninit)\n-    flag_var_tracking = 1;\n-\n   /* If auxiliary info generation is desired, open the output file.\n      This goes in the same directory as the source file--unlike\n      all the other output files.  */"}]}