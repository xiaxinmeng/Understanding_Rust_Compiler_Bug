{"sha": "d05360a6128c8ba1e2c616bc94d23a5c686b92db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDA1MzYwYTYxMjhjOGJhMWUyYzYxNmJjOTRkMjNhNWM2ODZiOTJkYg==", "commit": {"author": {"name": "Daniel Franke", "email": "franke.daniel@gmail.com", "date": "2007-08-01T12:52:48Z"}, "committer": {"name": "Daniel Franke", "email": "dfranke@gcc.gnu.org", "date": "2007-08-01T12:52:48Z"}, "message": "re PR fortran/32945 (ICE with initialization expressions)\n\ngcc/fortran:\n2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n\n\tPR fortran/32945\n\t* expr.c (check_specification_function): Skip check if no symtree \n\tis available.\n\ngcc/testsuite:\n2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n\n\tPR fortran/32945\n\t* gfortran.dg/initialization_12.f90: New test.\n\nFrom-SVN: r127124", "tree": {"sha": "179f02146059e9ae5f92b9364d6e2eff3d13d366", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/179f02146059e9ae5f92b9364d6e2eff3d13d366"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d05360a6128c8ba1e2c616bc94d23a5c686b92db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d05360a6128c8ba1e2c616bc94d23a5c686b92db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d05360a6128c8ba1e2c616bc94d23a5c686b92db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d05360a6128c8ba1e2c616bc94d23a5c686b92db/comments", "author": {"login": "dfranke76", "id": 15729164, "node_id": "MDQ6VXNlcjE1NzI5MTY0", "avatar_url": "https://avatars.githubusercontent.com/u/15729164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dfranke76", "html_url": "https://github.com/dfranke76", "followers_url": "https://api.github.com/users/dfranke76/followers", "following_url": "https://api.github.com/users/dfranke76/following{/other_user}", "gists_url": "https://api.github.com/users/dfranke76/gists{/gist_id}", "starred_url": "https://api.github.com/users/dfranke76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dfranke76/subscriptions", "organizations_url": "https://api.github.com/users/dfranke76/orgs", "repos_url": "https://api.github.com/users/dfranke76/repos", "events_url": "https://api.github.com/users/dfranke76/events{/privacy}", "received_events_url": "https://api.github.com/users/dfranke76/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e5c95afe1e18581b060601f70b1a6888835028ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5c95afe1e18581b060601f70b1a6888835028ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5c95afe1e18581b060601f70b1a6888835028ce"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "81ba111c86308c0e6a21b45ebdb14344b5f152a6", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=d05360a6128c8ba1e2c616bc94d23a5c686b92db", "patch": "@@ -1,3 +1,9 @@\n+2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\tPR fortran/32945\n+\t* expr.c (check_specification_function): Skip check if no symtree \n+\tis available.\n+\n 2007-08-01  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/31609"}, {"sha": "10489208073123246a4c787349f8b356212dd04d", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=d05360a6128c8ba1e2c616bc94d23a5c686b92db", "patch": "@@ -693,6 +693,10 @@ static match\n check_specification_function (gfc_expr *e)\n {\n   gfc_symbol *sym;\n+\n+  if (!e->symtree)\n+    return MATCH_NO;\n+\n   sym = e->symtree->n.sym;\n \n   /* F95, 7.1.6.2; F2003, 7.1.7  */"}, {"sha": "81e92962e07bbc3c3549b964e7c388231b15dcfe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d05360a6128c8ba1e2c616bc94d23a5c686b92db", "patch": "@@ -1,3 +1,8 @@\n+2007-08-01  Daniel Franke  <franke.daniel@gmail.com>\n+\n+\tPR fortran/32945\n+\t* gfortran.dg/initialization_12.f90: New test.\n+\n 2007-08-01  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/31609"}, {"sha": "deef2077a553f9bd4c2fa17b8c9d2202aee2de3c", "filename": "gcc/testsuite/gfortran.dg/initialization_12.f90", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_12.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d05360a6128c8ba1e2c616bc94d23a5c686b92db/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_12.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finitialization_12.f90?ref=d05360a6128c8ba1e2c616bc94d23a5c686b92db", "patch": "@@ -0,0 +1,29 @@\n+! { dg-do compile }\n+! PR fortran/32945 - ICE in init expressions\n+!\n+! Contributed by Florian Ladstaedter <flad AT gmx DOT at>\n+!\n+\n+MODULE EGOPS_Utilities\n+CONTAINS\n+  FUNCTION dirname(fullfilename)\n+    Character(LEN=*),  Intent(In)    :: fullfilename\n+    Character(LEN=LEN(fullfilename)) :: dirname\n+    dirname = ''\n+  END FUNCTION\n+END MODULE EGOPS_Utilities\n+\n+MODULE AtmoIono\n+  CHARACTER(LEN=10), PARAMETER :: ComputeDryAtmModel = 'Dry Atm. \ufffd'\n+\n+  type AtmModel\n+    character (len=len(ComputeDryAtmModel)) :: moistDryStr\n+  end type AtmModel\n+END MODULE AtmoIono\n+\n+module AtmoIonoSphere\n+  use EGOPS_Utilities\n+  use AtmoIono\n+end module AtmoIonoSphere\n+\n+! { dg-final { cleanup-modules \"EGOPS_Utilities AtmoIono AtmoIonoSphere\" } }"}]}