{"sha": "f6a35e8954606007940045101284fbd7c251ed76", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjZhMzVlODk1NDYwNjAwNzk0MDA0NTEwMTI4NGZiZDdjMjUxZWQ3Ng==", "commit": {"author": {"name": "Henry Linjam\u00e4ki", "email": "henry.linjamaki@parmance.com", "date": "2017-10-31T13:00:53Z"}, "committer": {"name": "Pekka J\u00e4\u00e4skel\u00e4inen", "email": "visit0r@gcc.gnu.org", "date": "2017-10-31T13:00:53Z"}, "message": "[BRIGFE] Fix PR 82771.\n\nFrom-SVN: r254265", "tree": {"sha": "c5ec6e13c840f64388b9eea87d2b136775512a86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5ec6e13c840f64388b9eea87d2b136775512a86"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6a35e8954606007940045101284fbd7c251ed76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a35e8954606007940045101284fbd7c251ed76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6a35e8954606007940045101284fbd7c251ed76", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6a35e8954606007940045101284fbd7c251ed76/comments", "author": null, "committer": null, "parents": [{"sha": "12e9c8ce6cdd8b01d1eb937a45fa037ec49eb0d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12e9c8ce6cdd8b01d1eb937a45fa037ec49eb0d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12e9c8ce6cdd8b01d1eb937a45fa037ec49eb0d0"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "dede3f405f5f1cfd0830338217aa6f4d9c9b99d8", "filename": "gcc/brig/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a35e8954606007940045101284fbd7c251ed76/gcc%2Fbrig%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a35e8954606007940045101284fbd7c251ed76/gcc%2Fbrig%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2FChangeLog?ref=f6a35e8954606007940045101284fbd7c251ed76", "patch": "@@ -1,3 +1,7 @@\n+2017-10-31  Henry Linjam\u00e4ki  <henry.linjamaki@parmance.com>\n+\n+\t* brig-lang.c (brig_langhook_type_for_mode): Fix PR 82771.\n+\n 2017-10-23  Richard Sandiford  <richard.sandiford@linaro.org>\n \n \t* brig-lang.c (brig_langhook_type_for_mode): Use scalar_int_mode"}, {"sha": "f34d958763272b5ac18dd7a693232049f216337f", "filename": "gcc/brig/brig-lang.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6a35e8954606007940045101284fbd7c251ed76/gcc%2Fbrig%2Fbrig-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6a35e8954606007940045101284fbd7c251ed76/gcc%2Fbrig%2Fbrig-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbrig%2Fbrig-lang.c?ref=f6a35e8954606007940045101284fbd7c251ed76", "patch": "@@ -280,9 +280,9 @@ brig_langhook_type_for_mode (machine_mode mode, int unsignedp)\n \n   scalar_int_mode imode;\n   scalar_float_mode fmode;\n-  if (is_int_mode (mode, &imode))\n+  if (is_float_mode (mode, &fmode))\n     {\n-      switch (GET_MODE_BITSIZE (imode))\n+      switch (GET_MODE_BITSIZE (fmode))\n \t{\n \tcase 32:\n \t  return float_type_node;\n@@ -291,15 +291,15 @@ brig_langhook_type_for_mode (machine_mode mode, int unsignedp)\n \tdefault:\n \t  /* We have to check for long double in order to support\n \t     i386 excess precision.  */\n-\t  if (imode == TYPE_MODE (long_double_type_node))\n+\t  if (fmode == TYPE_MODE (long_double_type_node))\n \t    return long_double_type_node;\n \n \t  gcc_unreachable ();\n \t  return NULL_TREE;\n \t}\n     }\n-  else if (is_float_mode (mode, &fmode))\n-    return brig_langhook_type_for_size (GET_MODE_BITSIZE (fmode), unsignedp);\n+  else if (is_int_mode (mode, &imode))\n+    return brig_langhook_type_for_size (GET_MODE_BITSIZE (imode), unsignedp);\n   else\n     {\n       /* E.g., build_common_builtin_nodes () asks for modes/builtins"}]}