{"sha": "c71aed477a177675e0887142a4a045c527860d51", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzcxYWVkNDc3YTE3NzY3NWUwODg3MTQyYTRhMDQ1YzUyNzg2MGQ1MQ==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2013-10-16T22:55:34Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2013-10-16T22:55:34Z"}, "message": "rl78.c (rl78_alloc_address_registers_macax): Verify op is a REG before checking REGNO.\n\n* config/rl78/rl78.c (rl78_alloc_address_registers_macax): Verify\nop is a REG before checking REGNO.\n(rl78_alloc_physical_registers): Verify pattern is a SET before\nchecking SET_SRC.\n\nFrom-SVN: r203733", "tree": {"sha": "e90cd61c0ac966941bd65ee7e68d43a0af66c6c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e90cd61c0ac966941bd65ee7e68d43a0af66c6c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c71aed477a177675e0887142a4a045c527860d51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c71aed477a177675e0887142a4a045c527860d51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c71aed477a177675e0887142a4a045c527860d51", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c71aed477a177675e0887142a4a045c527860d51/comments", "author": null, "committer": null, "parents": [{"sha": "703344ca91aeb9ffce1070f3e713211248c83e94", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/703344ca91aeb9ffce1070f3e713211248c83e94", "html_url": "https://github.com/Rust-GCC/gccrs/commit/703344ca91aeb9ffce1070f3e713211248c83e94"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "83541b2ce8026d5e4030881b5af3b7462722b475", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c71aed477a177675e0887142a4a045c527860d51/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c71aed477a177675e0887142a4a045c527860d51/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c71aed477a177675e0887142a4a045c527860d51", "patch": "@@ -1,3 +1,10 @@\n+2013-10-16  DJ Delorie  <dj@redhat.com>\n+\n+\t* config/rl78/rl78.c (rl78_alloc_address_registers_macax): Verify\n+\top is a REG before checking REGNO.\n+\t(rl78_alloc_physical_registers): Verify pattern is a SET before\n+\tchecking SET_SRC.\n+\n 2013-10-16  Bill Schmidt  <wschmidt@linux.vnet.ibm.com>\n \n \t* gcc/config/rs6000/vector.md (vec_unpacks_hi_v4sf): Correct for"}, {"sha": "995f3b1754da6c2e3635e4f34f32591105811328", "filename": "gcc/config/rl78/rl78.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c71aed477a177675e0887142a4a045c527860d51/gcc%2Fconfig%2Frl78%2Frl78.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c71aed477a177675e0887142a4a045c527860d51/gcc%2Fconfig%2Frl78%2Frl78.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frl78%2Frl78.c?ref=c71aed477a177675e0887142a4a045c527860d51", "patch": "@@ -3050,7 +3050,8 @@ rl78_alloc_address_registers_macax (rtx insn)\n \t      OP (op) = transcode_memory_rtx (OP (op), HL, insn);\n \t      if (op == 2\n \t\t  && MEM_P (OP (op))\n-\t\t  && (REGNO (XEXP (OP (op), 0)) == SP_REG\n+\t\t  && ((GET_CODE (XEXP (OP (op), 0)) == REG\n+\t\t       && REGNO (XEXP (OP (op), 0)) == SP_REG)\n \t\t      || (GET_CODE (XEXP (OP (op), 0)) == PLUS\n \t\t\t  && REGNO (XEXP (XEXP (OP (op), 0), 0)) == SP_REG)))\n \t\t{\n@@ -3140,7 +3141,8 @@ rl78_alloc_physical_registers (void)\n       if (GET_CODE (pattern) != SET\n \t  && GET_CODE (pattern) != CALL)\n \tcontinue;\n-      if (GET_CODE (SET_SRC (pattern)) == ASM_OPERANDS)\n+      if (GET_CODE (pattern) == SET\n+\t  && GET_CODE (SET_SRC (pattern)) == ASM_OPERANDS)\n \tcontinue;\n \n       valloc_method = get_attr_valloc (insn);"}]}