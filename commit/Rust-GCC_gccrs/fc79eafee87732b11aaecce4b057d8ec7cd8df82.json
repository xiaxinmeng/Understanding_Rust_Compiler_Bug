{"sha": "fc79eafee87732b11aaecce4b057d8ec7cd8df82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmM3OWVhZmVlODc3MzJiMTFhYWVjY2U0YjA1N2Q4ZWM3Y2Q4ZGY4Mg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1997-08-27T00:49:59Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-08-27T00:49:59Z"}, "message": "reload.c (find_reloads, case '0'): Reject matching a non-offsettable address where an offsettable address is required.\n\n        * reload.c (find_reloads, case '0'): Reject matching a non-offsettable\n        address where an offsettable address is required.\nFixes 68k bootstrap problem.\n\nFrom-SVN: r14948", "tree": {"sha": "c1a55d5fe940646959452d8b4f78e982f92386d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1a55d5fe940646959452d8b4f78e982f92386d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fc79eafee87732b11aaecce4b057d8ec7cd8df82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc79eafee87732b11aaecce4b057d8ec7cd8df82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fc79eafee87732b11aaecce4b057d8ec7cd8df82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fc79eafee87732b11aaecce4b057d8ec7cd8df82/comments", "author": null, "committer": null, "parents": [{"sha": "c5da853fcd93707cd7ef1543bcbace7d12c72f30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5da853fcd93707cd7ef1543bcbace7d12c72f30", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5da853fcd93707cd7ef1543bcbace7d12c72f30"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "9f556ba15e4eba93b3d72bf2849591ebd80b4615", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc79eafee87732b11aaecce4b057d8ec7cd8df82/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc79eafee87732b11aaecce4b057d8ec7cd8df82/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fc79eafee87732b11aaecce4b057d8ec7cd8df82", "patch": "@@ -1,3 +1,8 @@\n+Tue Aug 26 18:50:32 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* reload.c (find_reloads, case '0'): Reject matching a non-offsettable\n+\taddress where an offsettable address is required.\n+\n Tue Aug 26 17:54:56 1997  Michael P. Hayes  (michaelh@ongaonga.chch.cri.nz>\n \n \t* loop.c (check_final_value): Don't miss a biv increment in a"}, {"sha": "c3100c562fcfb001afd9db23da4cece19830b404", "filename": "gcc/reload.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fc79eafee87732b11aaecce4b057d8ec7cd8df82/gcc%2Freload.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fc79eafee87732b11aaecce4b057d8ec7cd8df82/gcc%2Freload.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload.c?ref=fc79eafee87732b11aaecce4b057d8ec7cd8df82", "patch": "@@ -2865,7 +2865,18 @@ find_reloads (insn, replace, ind_levels, live_known, reload_reg_p)\n \t\t        [(i == commutative || i == commutative + 1)\n \t\t\t ? 2*commutative + 1 - i : i])\n \t\t    : operands_match[c][i])\n-\t\t  win = this_alternative_win[c];\n+\t\t  {\n+\t\t    /* If we are matching a non-offsettable address where an\n+\t\t       offsettable address was expected, then we must reject\n+\t\t       this combination, because we can't reload it.  */\n+\t\t    if (this_alternative_offmemok[c]\n+\t\t\t&& GET_CODE (recog_operand[c]) == MEM\n+\t\t\t&& this_alternative[c] == (int) NO_REGS\n+\t\t\t&& ! this_alternative_win[c])\n+\t\t      bad = 1;\n+\n+\t\t    win = this_alternative_win[c];\n+\t\t  }\n \t\telse\n \t\t  {\n \t\t    /* Operands don't match.  */"}]}