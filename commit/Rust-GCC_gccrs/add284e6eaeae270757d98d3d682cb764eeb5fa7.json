{"sha": "add284e6eaeae270757d98d3d682cb764eeb5fa7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRkMjg0ZTZlYWVhZTI3MDc1N2Q5OGQzZDY4MmNiNzY0ZWViNWZhNw==", "commit": {"author": {"name": "J. David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2000-06-30T18:14:05Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-06-30T18:14:05Z"}, "message": "som.h (ASM_WEAKEN_LABEL): Export weak data symbols so that they have global scope.\n\n        * pa/som.h (ASM_WEAKEN_LABEL): Export weak data symbols so that they\n        have global scope.\n\nFrom-SVN: r34814", "tree": {"sha": "ae9613334e625f9e530dd62b0cae6fd18aad8c6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae9613334e625f9e530dd62b0cae6fd18aad8c6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/add284e6eaeae270757d98d3d682cb764eeb5fa7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/add284e6eaeae270757d98d3d682cb764eeb5fa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/add284e6eaeae270757d98d3d682cb764eeb5fa7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/add284e6eaeae270757d98d3d682cb764eeb5fa7/comments", "author": null, "committer": null, "parents": [{"sha": "32c4c36c297d245b255c54aff2da9027df6093ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32c4c36c297d245b255c54aff2da9027df6093ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32c4c36c297d245b255c54aff2da9027df6093ed"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "033b7d2989ee4ad8c105160680dcd421ccbca085", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/add284e6eaeae270757d98d3d682cb764eeb5fa7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/add284e6eaeae270757d98d3d682cb764eeb5fa7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=add284e6eaeae270757d98d3d682cb764eeb5fa7", "patch": "@@ -1,3 +1,8 @@\n+2000-06-30  J. David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* pa/som.h (ASM_WEAKEN_LABEL): Export weak data symbols so that they\n+\thave global scope.\n+\n 2000-06-30  Martin von Loewis  <loewis@informatik.hu-berlin.de>\n \n \t* invoke.texi (-Wreturn-type): In C++, a missing return type is"}, {"sha": "073f79816de98e86007c0db184a092f5ba19537b", "filename": "gcc/config/pa/som.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/add284e6eaeae270757d98d3d682cb764eeb5fa7/gcc%2Fconfig%2Fpa%2Fsom.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/add284e6eaeae270757d98d3d682cb764eeb5fa7/gcc%2Fconfig%2Fpa%2Fsom.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fsom.h?ref=add284e6eaeae270757d98d3d682cb764eeb5fa7", "patch": "@@ -384,6 +384,14 @@ do {\t\t\t\t\t\t\\\n /* This is how we tell the assembler that a symbol is weak.  */\n \n #define ASM_WEAKEN_LABEL(FILE,NAME) \\\n-  do { fputs (\"\\t.weak\\t\", FILE); assemble_name (FILE, NAME); \\\n-       fputc ('\\n', FILE); } while (0)\n+  do { fputs (\"\\t.weak\\t\", FILE); \\\n+       assemble_name (FILE, NAME); \\\n+       fputc ('\\n', FILE); \\\n+       if (! FUNCTION_NAME_P (NAME)) \\\n+         { \\\n+           fputs (\"\\t.EXPORT \", FILE); \\\n+           assemble_name (FILE, NAME); \\\n+           fputs (\",DATA\\n\", FILE); \\\n+         } \\\n+  } while (0)\n #endif"}]}