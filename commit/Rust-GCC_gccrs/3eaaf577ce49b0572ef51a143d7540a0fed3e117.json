{"sha": "3eaaf577ce49b0572ef51a143d7540a0fed3e117", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VhYWY1NzdjZTQ5YjA1NzJlZjUxYTE0M2Q3NTQwYTBmZWQzZTExNw==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2001-11-04T07:43:50Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2001-11-04T07:43:50Z"}, "message": "stormy16.h (LIB_SPEC): Don't supply any libgloss library at all if -T is used.\n\n\t* config/stormy16/stormy16.h (LIB_SPEC): Don't supply any libgloss\n\tlibrary at all if -T is used.\n\nFrom-SVN: r46768", "tree": {"sha": "39cf4732ad7e1eb1b43898ca4e41cbb870960a61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/39cf4732ad7e1eb1b43898ca4e41cbb870960a61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3eaaf577ce49b0572ef51a143d7540a0fed3e117", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eaaf577ce49b0572ef51a143d7540a0fed3e117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3eaaf577ce49b0572ef51a143d7540a0fed3e117", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eaaf577ce49b0572ef51a143d7540a0fed3e117/comments", "author": null, "committer": null, "parents": [{"sha": "f749bd83cb80e61bb524d2e7841ccc559a350914", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f749bd83cb80e61bb524d2e7841ccc559a350914", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f749bd83cb80e61bb524d2e7841ccc559a350914"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "3d875ee3e4b14003034030edd2d3b4a23e0d6ce8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eaaf577ce49b0572ef51a143d7540a0fed3e117/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eaaf577ce49b0572ef51a143d7540a0fed3e117/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3eaaf577ce49b0572ef51a143d7540a0fed3e117", "patch": "@@ -1,5 +1,8 @@\n 2001-11-03  Geoffrey Keating  <geoffk@redhat.com>\n \n+\t* config/stormy16/stormy16.h (LIB_SPEC): Don't supply any libgloss\n+\tlibrary at all if -T is used.\n+\n \t* config/stormy16/stormy16.c (stormy16_print_operand): Avoid\n \tsome uses of uninitialized variables in error cases.\n "}, {"sha": "e57d056d4a3f48218bb6f6d2e268dbe0eb41bacd", "filename": "gcc/config/stormy16/stormy16.h", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3eaaf577ce49b0572ef51a143d7540a0fed3e117/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3eaaf577ce49b0572ef51a143d7540a0fed3e117/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.h?ref=3eaaf577ce49b0572ef51a143d7540a0fed3e117", "patch": "@@ -138,15 +138,16 @@ Boston, MA 02111-1307, USA.  */\n    between the two is that `LIB_SPEC' is used at the end of the command given\n    to the linker.\n \n-   If this macro is not defined, a default is provided that loads the standard\n-   C library from the usual place.  See `gcc.c'.\n+   For stormy16:\n+   - If -msim is specified, everything is built and linked as for the sim.\n+   - If -T is specified, that linker script is used, and it should provide\n+     appropriate libraries.\n+   - If neither is specified, everything is built as for the sim, but no\n+     I/O support is assumed.\n \n-   Defined in svr4.h.  */\n+*/\n #undef LIB_SPEC\n-#if 0\n-#define LIB_SPEC \"-( -lc %{msim:-lsim}%{!msim:-leva_app -lnosys} -)\"\n-#endif\n-#define LIB_SPEC \"-( -lc %{msim:-lsim} -)\"\n+#define LIB_SPEC \"-( -lc %{msim:-lsim}%{!msim:%{!T*:-lnosys}} -)\"\n \n /* Another C string constant that tells the GNU CC driver program how and when\n    to place a reference to `libgcc.a' into the linker command line.  This"}]}