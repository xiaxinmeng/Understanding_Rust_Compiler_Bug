{"sha": "ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU4MDQ1ZTU3NzQ3NmE0ZTdkMTM0MmQ4NTM4ZTI5Y2RmNGZmNmQxZA==", "commit": {"author": {"name": "Tamar Christina", "email": "tamar.christina@arm.com", "date": "2019-01-16T11:25:10Z"}, "committer": {"name": "Tamar Christina", "email": "tnfchris@gcc.gnu.org", "date": "2019-01-16T11:25:10Z"}, "message": "Fix Arm big-endian regressions.\n\ngcc/ChangeLog:\n\n\t* config/arm/arm-protos.h (neon_vcmla_lane_prepare_operands): Remove patternmode.\n\t* config/arm/arm.c (neon_vcmla_lane_prepare_operands): Likewise.\n\t* config/arm/neon.md (neon_vcmla_lane<rot><mode>, neon_vcmla_laneq<rot><mode>,\n\tneon_vcmlaq_lane<rot><mode>): Remove endianness conversion.\n\nFrom-SVN: r267969", "tree": {"sha": "174e9ce413beae62cc7d16e982424d53461faed2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/174e9ce413beae62cc7d16e982424d53461faed2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/comments", "author": {"login": "TamarChristinaArm", "id": 48126768, "node_id": "MDQ6VXNlcjQ4MTI2NzY4", "avatar_url": "https://avatars.githubusercontent.com/u/48126768?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TamarChristinaArm", "html_url": "https://github.com/TamarChristinaArm", "followers_url": "https://api.github.com/users/TamarChristinaArm/followers", "following_url": "https://api.github.com/users/TamarChristinaArm/following{/other_user}", "gists_url": "https://api.github.com/users/TamarChristinaArm/gists{/gist_id}", "starred_url": "https://api.github.com/users/TamarChristinaArm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TamarChristinaArm/subscriptions", "organizations_url": "https://api.github.com/users/TamarChristinaArm/orgs", "repos_url": "https://api.github.com/users/TamarChristinaArm/repos", "events_url": "https://api.github.com/users/TamarChristinaArm/events{/privacy}", "received_events_url": "https://api.github.com/users/TamarChristinaArm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "99b1b1fac08f2e62b6ef5486180a449396599ca9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99b1b1fac08f2e62b6ef5486180a449396599ca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99b1b1fac08f2e62b6ef5486180a449396599ca9"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "bfe5b628958994ba8e240207e415b6e22a4a8f6a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "patch": "@@ -1,3 +1,10 @@\n+2019-01-16  Tamar Christina  <tamar.christina@arm.com>\n+\n+\t* config/arm/arm-protos.h (neon_vcmla_lane_prepare_operands): Remove patternmode.\n+\t* config/arm/arm.c (neon_vcmla_lane_prepare_operands): Likewise.\n+\t* config/arm/neon.md (neon_vcmla_lane<rot><mode>, neon_vcmla_laneq<rot><mode>,\n+\tneon_vcmlaq_lane<rot><mode>): Remove endianness conversion.\n+\n 2019-01-16  Martin Liska  <mliska@suse.cz>\n \n \t* Makefile.in: Set TOOL_INCLUDE_DIR and NATIVE_SYSTEM_HEADER_DIR"}, {"sha": "79ede0db174fcce87abe8b4d18893550d4c7e2f6", "filename": "gcc/config/arm/arm-protos.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Farm-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Farm-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-protos.h?ref=ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "patch": "@@ -109,7 +109,7 @@ extern int arm_coproc_mem_operand (rtx, bool);\n extern int neon_vector_mem_operand (rtx, int, bool);\n extern int neon_struct_mem_operand (rtx);\n \n-extern rtx *neon_vcmla_lane_prepare_operands (machine_mode, rtx *);\n+extern rtx *neon_vcmla_lane_prepare_operands (rtx *);\n \n extern int tls_mentioned_p (rtx);\n extern int symbol_mentioned_p (rtx);"}, {"sha": "73cb8df9af1ec9d680091bb8691bcd925a1be1d3", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "patch": "@@ -12725,8 +12725,7 @@ neon_struct_mem_operand (rtx op)\n /* Prepares the operands for the VCMLA by lane instruction such that the right\n    register number is selected.  This instruction is special in that it always\n    requires a D register, however there is a choice to be made between Dn[0],\n-   Dn[1], D(n+1)[0], and D(n+1)[1] depending on the mode of the registers and\n-   the PATTERNMODE of the insn.\n+   Dn[1], D(n+1)[0], and D(n+1)[1] depending on the mode of the registers.\n \n    The VCMLA by lane function always selects two values. For instance given D0\n    and a V2SF, the only valid index is 0 as the values in S0 and S1 will be\n@@ -12738,9 +12737,9 @@ neon_struct_mem_operand (rtx op)\n    updated to contain the right index.  */\n \n rtx *\n-neon_vcmla_lane_prepare_operands (machine_mode patternmode, rtx *operands)\n+neon_vcmla_lane_prepare_operands (rtx *operands)\n {\n-  int lane = NEON_ENDIAN_LANE_N (patternmode, INTVAL (operands[4]));\n+  int lane = INTVAL (operands[4]);\n   machine_mode constmode = SImode;\n   machine_mode mode = GET_MODE (operands[3]);\n   int regno = REGNO (operands[3]);"}, {"sha": "f9d7ba35b137fed383f84eecbe81dd942943d216", "filename": "gcc/config/arm/neon.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Fneon.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee8045e577476a4e7d1342d8538e29cdf4ff6d1d/gcc%2Fconfig%2Farm%2Fneon.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fneon.md?ref=ee8045e577476a4e7d1342d8538e29cdf4ff6d1d", "patch": "@@ -3494,7 +3494,7 @@\n \t\t\t     VCMLA)))]\n   \"TARGET_COMPLEX\"\n   {\n-    operands = neon_vcmla_lane_prepare_operands (<MODE>mode, operands);\n+    operands = neon_vcmla_lane_prepare_operands (operands);\n     return \"vcmla.<V_s_elem>\\t%<V_reg>0, %<V_reg>2, d%c3[%c4], #<rot>\";\n   }\n   [(set_attr \"type\" \"neon_fcmla\")]\n@@ -3509,7 +3509,7 @@\n \t\t\t      VCMLA)))]\n   \"TARGET_COMPLEX\"\n   {\n-    operands = neon_vcmla_lane_prepare_operands (<MODE>mode, operands);\n+    operands = neon_vcmla_lane_prepare_operands (operands);\n     return \"vcmla.<V_s_elem>\\t%<V_reg>0, %<V_reg>2, d%c3[%c4], #<rot>\";\n   }\n   [(set_attr \"type\" \"neon_fcmla\")]\n@@ -3524,7 +3524,7 @@\n \t\t\t\t VCMLA)))]\n   \"TARGET_COMPLEX\"\n   {\n-    operands = neon_vcmla_lane_prepare_operands (<MODE>mode, operands);\n+    operands = neon_vcmla_lane_prepare_operands (operands);\n     return \"vcmla.<V_s_elem>\\t%<V_reg>0, %<V_reg>2, d%c3[%c4], #<rot>\";\n   }\n   [(set_attr \"type\" \"neon_fcmla\")]"}]}