{"sha": "ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWJmODVlNTBjMDBjN2MwZjFmYTQxOGM1M2NjYWVmZjhlYzk4MmRiOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2006-04-11T07:15:00Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2006-04-11T07:15:00Z"}, "message": "io.h (st_parameter_dt): Revert 2005-12-10 change to u.pad, fix comment.\n\n\t* io/io.h (st_parameter_dt): Revert 2005-12-10 change to\n\tu.pad, fix comment.\n\t(check_st_parameter_dt): New compile time assert.\n\nFrom-SVN: r112850", "tree": {"sha": "a0cd60416dab643f320b8a0a0c5061507bc382c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a0cd60416dab643f320b8a0a0c5061507bc382c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cf282d0a4a9174888fd9add60d26acfac1601a0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf282d0a4a9174888fd9add60d26acfac1601a0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf282d0a4a9174888fd9add60d26acfac1601a0e"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "867645d240395a69092ce39b3d0fd8762e0b6414", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "patch": "@@ -1,3 +1,9 @@\n+2006-04-11  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* io/io.h (st_parameter_dt): Revert 2005-12-10 change to\n+\tu.pad, fix comment.\n+\t(check_st_parameter_dt): New compile time assert.\n+\n 2006-04-10  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR libgfortran/24685"}, {"sha": "cfb9401963305ffe6bf2eda272873a2eb6390120", "filename": "libgfortran/io/io.h", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9/libgfortran%2Fio%2Fio.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9/libgfortran%2Fio%2Fio.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fio.h?ref=ebf85e50c00c7c0f1fa418c53ccaeff8ec982db9", "patch": "@@ -436,13 +436,19 @@ typedef struct st_parameter_dt\n \t  char value[32];\n \t  gfc_offset size_used;\n \t} p;\n-      /* This pad size must be greater than or equal to the pad_size declared in\n-\t trans-io.c (gfc_build_io_library_fndecls)  */\n-      char pad[16 * sizeof (char *) + 34 * sizeof (int)];\n+      /* This pad size must be equal to the pad_size declared in\n+\t trans-io.c (gfc_build_io_library_fndecls).  The above structure\n+\t must be smaller or equal to this array.  */\n+      char pad[16 * sizeof (char *) + 32 * sizeof (int)];\n     } u;\n }\n st_parameter_dt;\n \n+/* Ensure st_parameter_dt's u.pad is bigger or equal to u.p.  */\n+extern char check_st_parameter_dt[sizeof (((st_parameter_dt *) 0)->u.pad)\n+\t\t\t\t  >= sizeof (((st_parameter_dt *) 0)->u.p)\n+\t\t\t\t  ? 1 : -1];\n+\n #undef CHARACTER1\n #undef CHARACTER2\n "}]}