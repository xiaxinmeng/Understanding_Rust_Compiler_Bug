{"sha": "afe9c53918d14a5ef8807ea4284512dd94e4c15d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZlOWM1MzkxOGQxNGE1ZWY4ODA3ZWE0Mjg0NTEyZGQ5NGU0YzE1ZA==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2018-07-16T14:12:13Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-07-16T14:12:13Z"}, "message": "[Ada] Deep copy operands of membership operations for unnesting\n\n2018-07-16  Ed Schonberg  <schonberg@adacore.com>\n\ngcc/ada/\n\n\t* exp_ch4.adb (Expand_Set_Membership): Use New_Copy_Tree to perform a\n\tdeep copy of the left operand when building each conjuct of the\n\texpanded membership operation, to avoid sharing nodes between them.\n\tThis sharing interferes with the unnesting machinery and is generally\n\tundesirable.\n\nFrom-SVN: r262727", "tree": {"sha": "68e9262e2bd4131165245008976986e2eb5dab70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/68e9262e2bd4131165245008976986e2eb5dab70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afe9c53918d14a5ef8807ea4284512dd94e4c15d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afe9c53918d14a5ef8807ea4284512dd94e4c15d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afe9c53918d14a5ef8807ea4284512dd94e4c15d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afe9c53918d14a5ef8807ea4284512dd94e4c15d/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4dd2ed1495378681b58c2e7ff5c1cc5511882a2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4dd2ed1495378681b58c2e7ff5c1cc5511882a2d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4dd2ed1495378681b58c2e7ff5c1cc5511882a2d"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "22fc57b87520e64d8428862e468d34c63e76606f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afe9c53918d14a5ef8807ea4284512dd94e4c15d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afe9c53918d14a5ef8807ea4284512dd94e4c15d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=afe9c53918d14a5ef8807ea4284512dd94e4c15d", "patch": "@@ -1,3 +1,11 @@\n+2018-07-16  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* exp_ch4.adb (Expand_Set_Membership): Use New_Copy_Tree to perform a\n+\tdeep copy of the left operand when building each conjuct of the\n+\texpanded membership operation, to avoid sharing nodes between them.\n+\tThis sharing interferes with the unnesting machinery and is generally\n+\tundesirable.\n+\n 2018-07-16  Ed Schonberg  <schonberg@adacore.com>\n \n \t* exp_unst.adb (Visit_Node): Handle 'Address references that are"}, {"sha": "8dad953025bb33bb92cc388df5400b335bc36db4", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afe9c53918d14a5ef8807ea4284512dd94e4c15d/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afe9c53918d14a5ef8807ea4284512dd94e4c15d/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=afe9c53918d14a5ef8807ea4284512dd94e4c15d", "patch": "@@ -12248,7 +12248,7 @@ package body Exp_Ch4 is\n \n       function Make_Cond (Alt : Node_Id) return Node_Id is\n          Cond : Node_Id;\n-         L    : constant Node_Id := New_Copy (Lop);\n+         L    : constant Node_Id := New_Copy_Tree (Lop);\n          R    : constant Node_Id := Relocate_Node (Alt);\n \n       begin"}]}