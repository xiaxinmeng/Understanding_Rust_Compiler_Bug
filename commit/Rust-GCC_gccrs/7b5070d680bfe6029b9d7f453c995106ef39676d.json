{"sha": "7b5070d680bfe6029b9d7f453c995106ef39676d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I1MDcwZDY4MGJmZTYwMjliOWQ3ZjQ1M2M5OTUxMDZlZjM5Njc2ZA==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "1998-09-02T20:12:35Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-09-02T20:12:35Z"}, "message": "Makefile.in (RELINSTALLDIR): New.\n\n        * Makefile.in (RELINSTALLDIR): New. Use it to make symlinks.\n        * configure.in: Fix INSTALLDIR replacement for cross-compile.\n\nFrom-SVN: r22197", "tree": {"sha": "55778e8cc2d80e3e6f82d2af2f4b16a019e08731", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55778e8cc2d80e3e6f82d2af2f4b16a019e08731"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b5070d680bfe6029b9d7f453c995106ef39676d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b5070d680bfe6029b9d7f453c995106ef39676d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b5070d680bfe6029b9d7f453c995106ef39676d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b5070d680bfe6029b9d7f453c995106ef39676d/comments", "author": null, "committer": null, "parents": [{"sha": "72ae5d03a104c2852acfd21a39737953e6f45070", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72ae5d03a104c2852acfd21a39737953e6f45070", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72ae5d03a104c2852acfd21a39737953e6f45070"}], "stats": {"total": 32, "additions": 27, "deletions": 5}, "files": [{"sha": "c430be555693aecd21027e8526b36eb4c43aaf5d", "filename": "libstdc++/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FChangeLog?ref=7b5070d680bfe6029b9d7f453c995106ef39676d", "patch": "@@ -1,3 +1,9 @@\n+Wed Sep  2 21:11:15 1998  H.J. Lu  (hjl@gnu.org)\n+\n+\t* Makefile.in (RELINSTALLDIR): New. Use it to make symlinks.\n+\n+\t* configure.in: Fix INSTALLDIR replacement for cross-compile.\n+\n Sun Aug 30 22:17:41 1998  H.J. Lu  (hjl@gnu.org)\n \n \t* Makefile.in (INTERFACE): New, set to 2."}, {"sha": "3696501b9d603ed69c1d3ce84c182d7f85c76d74", "filename": "libstdc++/Makefile.in", "status": "modified", "additions": 20, "deletions": 4, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2FMakefile.in?ref=7b5070d680bfe6029b9d7f453c995106ef39676d", "patch": "@@ -285,21 +285,37 @@ install:\n \t  INSTALLDIR=$(libsubdir); \\\n \tfi; \\\n \tINSTALLLINKDIR=$(libsubdir); \\\n+\tif [ $${INSTALLLINKDIR}$(MULTISUBDIR) = $${INSTALLDIR} ]; \\\n+\tthen \\\n+\t  RELINSTALLDIR=; \\\n+\telif [ x$(MULTISUBDIR) = x ]; then \\\n+\t  RELINSTALLDIR=../../../; \\\n+\telif [ \"x`echo $(MULTISUBDIR) | sed s,[a-z],,g`\" = \"x/\" ]; then \\\n+\t  RELINSTALLDIR=../../../../; \\\n+\telse \\\n+\t  RELINSTALLDIR=$${INSTALLDIR}/; \\\n+\tfi; \\\n+\tif [ $(build_alias) != $(target_alias) ]; then \\\n+\t  case $$RELINSTALLDIR in \\\n+\t  ../../../|../../../../) \\\n+\t    RELINSTALLDIR=../$${RELINSTALLDIR}$(target_alias)/lib/;; \\\n+\t  esac; \\\n+\tfi; \\\n \trm -f $${INSTALLLINKDIR}$(MULTISUBDIR)/$(SHLINK) ; \\\n \trm -f $${INSTALLLINKDIR}$(MULTISUBDIR)/$(ARLINK) ; \\\n \tfor FILE in $(LIBS) ; do \\\n \t  rm -f $${INSTALLDIR}$(MULTISUBDIR)/$$FILE ; \\\n \t  if [ $$FILE = $(SHLINK) ] ; then \\\n \t    if [ -f $${INSTALLDIR}/$(MSHLINK) ]; then \\\n-\t      ln -f -s $${INSTALLDIR}/$(MSHLINK) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n+\t      ln -f -s $${RELINSTALLDIR}$(MSHLINK) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n \t    else \\\n-\t      ln -f -s $${INSTALLDIR}/$(SHLIB) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n+\t      ln -f -s $${RELINSTALLDIR}$(SHLIB) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n \t    fi; \\\n \t  elif [ $$FILE = $(ARLINK) ] ; then \\\n \t    if [ -f $${INSTALLDIR}/$(MARLINK) ]; then \\\n-\t      ln -f -s $${INSTALLDIR}/$(MARLINK) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n+\t      ln -f -s $${RELINSTALLDIR}$(MARLINK) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n \t    else \\\n-\t      ln -f -s $${INSTALLDIR}/$(ARLIB) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n+\t      ln -f -s $${RELINSTALLDIR}$(ARLIB) $${INSTALLLINKDIR}$(MULTISUBDIR)/$$FILE ; \\\n \t    fi; \\\n \t  elif [ $$FILE = mshlink ]; then \\\n \t    for FILE in $(MSHLINK) ; do \\"}, {"sha": "09f645fd170730e12935bc4eb1e3e33c0a55d7c0", "filename": "libstdc++/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b5070d680bfe6029b9d7f453c995106ef39676d/libstdc%2B%2B%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B%2Fconfigure.in?ref=7b5070d680bfe6029b9d7f453c995106ef39676d", "patch": "@@ -107,7 +107,7 @@ LIBC_INTERFACE=${libc_interface}\n if [ -n \"${with_cross_host}\" ] ; then\n     rm -f Makefile.tem\n     sed \\\n-        -e 's|\\(INSTALLDIR[ \t]*=[ \t]*\\)[^ \t;]*|\\1$(tooldir)/lib|' \\\n+\t-e 's|\\(^[ \t]*INSTALLDIR[ \t]*=[ \t]*\\)[^ \t;]*|\\1$(tooldir)/lib|' \\\n         Makefile >Makefile.tem\n     mv -f Makefile.tem Makefile\n fi"}]}