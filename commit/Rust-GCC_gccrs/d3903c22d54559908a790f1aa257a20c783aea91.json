{"sha": "d3903c22d54559908a790f1aa257a20c783aea91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM5MDNjMjJkNTQ1NTk5MDhhNzkwZjFhYTI1N2EyMGM3ODNhZWE5MQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-05-29T00:50:16Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-05-29T00:50:16Z"}, "message": "gcse.c (pre_delete): Fix code to determine the mode of the reaching pseudo register.\n\n        * gcse.c (pre_delete): Fix code to determine the mode of\n        the reaching pseudo register.\n\nFrom-SVN: r20134", "tree": {"sha": "2b4baed9c1988440f8c4b3cd91c6a5e0413e63d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b4baed9c1988440f8c4b3cd91c6a5e0413e63d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3903c22d54559908a790f1aa257a20c783aea91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3903c22d54559908a790f1aa257a20c783aea91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3903c22d54559908a790f1aa257a20c783aea91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3903c22d54559908a790f1aa257a20c783aea91/comments", "author": null, "committer": null, "parents": [{"sha": "1541dfa56c7e44b8d2f817c2ceb76bfef5a68054", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1541dfa56c7e44b8d2f817c2ceb76bfef5a68054", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1541dfa56c7e44b8d2f817c2ceb76bfef5a68054"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "85dad03ca407a0ba18844be9c0b8737063a95b15", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3903c22d54559908a790f1aa257a20c783aea91/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3903c22d54559908a790f1aa257a20c783aea91/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3903c22d54559908a790f1aa257a20c783aea91", "patch": "@@ -1,3 +1,8 @@\n+Fri May 29 01:48:25 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* gcse.c (pre_delete): Fix code to determine the mode of\n+\tthe reaching pseudo register.\n+\n Fri May 29 01:07:28 1998  Bernd Schmidt <crux@Pool.Informatik.RWTH-Aachen.DE>\n \n \t* Makefile.in (GEN): Add gencheck"}, {"sha": "2c6a9d1d99e8c77f1fe2e99bea4adf3ef3074ee3", "filename": "gcc/gcse.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3903c22d54559908a790f1aa257a20c783aea91/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3903c22d54559908a790f1aa257a20c783aea91/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=d3903c22d54559908a790f1aa257a20c783aea91", "patch": "@@ -4548,15 +4548,17 @@ pre_delete ()\n \n \t      if (TEST_BIT (ppin, indx))\n \t\t{\n-\t\t  /* Create a pseudo-reg to store the result of reaching\n-\t\t     expressions into.  */\n-\t\t  if (expr->reaching_reg == NULL)\n-\t\t    expr->reaching_reg = gen_reg_rtx (GET_MODE (expr->expr));\n-\n \t\t  set = single_set (insn);\n \t\t  if (! set)\n \t\t    abort ();\n \n+\t\t  /* Create a pseudo-reg to store the result of reaching\n+\t\t     expressions into.  Get the mode for the new pseudo\n+\t\t     from the mode of the original destination pseudo.  */\n+\t\t  if (expr->reaching_reg == NULL)\n+\t\t    expr->reaching_reg\n+\t\t      = gen_reg_rtx (GET_MODE (SET_DEST (set)));\n+\n \t\t  /* In theory this should never fail since we're creating\n \t\t     a reg->reg copy.\n "}]}