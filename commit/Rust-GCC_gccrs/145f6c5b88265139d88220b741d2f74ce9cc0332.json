{"sha": "145f6c5b88265139d88220b741d2f74ce9cc0332", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ1ZjZjNWI4ODI2NTEzOWQ4ODIyMGI3NDFkMmY3NGNlOWNjMDMzMg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-05-22T20:10:54Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-05-22T20:10:54Z"}, "message": "sparc.c (sparc_delegitimize_address): Handle UNSPEC_MOVE_PIC pattern.\n\n\t* config/sparc/sparc.c (sparc_delegitimize_address): Handle\n\tUNSPEC_MOVE_PIC pattern.\n\nFrom-SVN: r174043", "tree": {"sha": "4257d25188bc2940553d1baa4e79cf6807343bc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4257d25188bc2940553d1baa4e79cf6807343bc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/145f6c5b88265139d88220b741d2f74ce9cc0332", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/145f6c5b88265139d88220b741d2f74ce9cc0332", "html_url": "https://github.com/Rust-GCC/gccrs/commit/145f6c5b88265139d88220b741d2f74ce9cc0332", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/145f6c5b88265139d88220b741d2f74ce9cc0332/comments", "author": null, "committer": null, "parents": [{"sha": "8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ac798357ff48a4d68f04e1bff98aef4bb73a5b0"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "ef29e49d9674787629e22adc4686fbf857e6e60e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/145f6c5b88265139d88220b741d2f74ce9cc0332/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/145f6c5b88265139d88220b741d2f74ce9cc0332/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=145f6c5b88265139d88220b741d2f74ce9cc0332", "patch": "@@ -1,3 +1,8 @@\n+2011-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config/sparc/sparc.c (sparc_delegitimize_address): Handle\n+\tUNSPEC_MOVE_PIC pattern.\n+\n 2011-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* config.gcc (sparc-*-elf*): Add sparc/t-crtin."}, {"sha": "bd7d12a65535e3c5d7eeb46e0438b0b1497f4278", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/145f6c5b88265139d88220b741d2f74ce9cc0332/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/145f6c5b88265139d88220b741d2f74ce9cc0332/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=145f6c5b88265139d88220b741d2f74ce9cc0332", "patch": "@@ -3615,13 +3615,17 @@ sparc_delegitimize_address (rtx x)\n {\n   x = delegitimize_mem_from_attrs (x);\n \n-  if (GET_CODE (x) == LO_SUM\n-      && GET_CODE (XEXP (x, 1)) == UNSPEC\n-      && XINT (XEXP (x, 1), 1) == UNSPEC_TLSLE)\n-    {\n-      x = XVECEXP (XEXP (x, 1), 0, 0);\n-      gcc_assert (GET_CODE (x) == SYMBOL_REF);\n-    }\n+  if (GET_CODE (x) == LO_SUM && GET_CODE (XEXP (x, 1)) == UNSPEC)\n+    switch (XINT (XEXP (x, 1), 1))\n+      {\n+      case UNSPEC_MOVE_PIC:\n+      case UNSPEC_TLSLE:\n+\tx = XVECEXP (XEXP (x, 1), 0, 0);\n+\tgcc_assert (GET_CODE (x) == SYMBOL_REF);\n+\tbreak;\n+      default:\n+\tbreak;\n+      }\n \n   /* This is generated by mov{si,di}_pic_label_ref in PIC mode.  */\n   if (GET_CODE (x) == MINUS"}]}