{"sha": "d743728f903ea03b0114feb594e038ca8ca799d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc0MzcyOGY5MDNlYTAzYjAxMTRmZWI1OTRlMDM4Y2E4Y2E3OTlkOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2017-01-16T08:46:20Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-01-16T08:46:20Z"}, "message": "opt62.adb: New test.\n\n\t* gnat.dg/opt62.adb: New test.\n\t* gnat.dg/opt62_pkg.ads: New helper.\n\nFrom-SVN: r244485", "tree": {"sha": "5ce883331fd401e7bcdea228e3a9ff446c0d5db3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ce883331fd401e7bcdea228e3a9ff446c0d5db3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d743728f903ea03b0114feb594e038ca8ca799d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d743728f903ea03b0114feb594e038ca8ca799d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d743728f903ea03b0114feb594e038ca8ca799d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d743728f903ea03b0114feb594e038ca8ca799d9/comments", "author": null, "committer": null, "parents": [{"sha": "a2a7ea4834a229da57242c8bc0e14a3fa9fa5a58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2a7ea4834a229da57242c8bc0e14a3fa9fa5a58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2a7ea4834a229da57242c8bc0e14a3fa9fa5a58"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "7e5731e510d864904a9a7084f6fa16a956bb978f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d743728f903ea03b0114feb594e038ca8ca799d9", "patch": "@@ -1,3 +1,8 @@\n+2017-01-16  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/opt62.adb: New test.\n+\t* gnat.dg/opt62_pkg.ads: New helper.\n+\n 2017-01-14  Bernd Schmidt  <bschmidt@redhat.com>\n \n         PR rtl-optimization/78626"}, {"sha": "eb7a806d228f5c60202a7c4b80bb799b971dc115", "filename": "gcc/testsuite/gnat.dg/opt62.adb", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62.adb?ref=d743728f903ea03b0114feb594e038ca8ca799d9", "patch": "@@ -0,0 +1,15 @@\n+-- { dg-do run }\n+-- { dg-options \"-O\" }\n+\n+with Opt62_Pkg; use Opt62_Pkg;\n+\n+procedure Opt62 is\n+\n+   String5  : String(1..5)  := \"12345\";\n+   D: Der := (Unconstrained_Der with D2 => 5, S2 => String5);\n+\n+begin\n+   if D.Str1 /= \"abcde\" then\n+      raise Program_Error;\n+   end if;\n+end;"}, {"sha": "348ee0b3c48b666e804e589f6daa7639c66b1b31", "filename": "gcc/testsuite/gnat.dg/opt62_pkg.ads", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d743728f903ea03b0114feb594e038ca8ca799d9/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt62_pkg.ads?ref=d743728f903ea03b0114feb594e038ca8ca799d9", "patch": "@@ -0,0 +1,19 @@\n+package Opt62_Pkg is\n+\n+   Default_String : constant String := \"This is a default string\";\n+\n+   subtype Length is Natural range 0..255;\n+\n+   type Root (D1 : Length) is tagged  record\n+      S1  : String(1..D1) := Default_String(1..D1);\n+   end record;\n+\n+   type Unconstrained_Der is new Root with  record\n+      Str1 : String(1..5) := \"abcde\";\n+   end record;\n+\n+   type Der (D2 : Length) is new Unconstrained_Der (D1 => 10) with record\n+      S2 : String(1..D2);\n+   end record;\n+\n+end Opt62_Pkg;"}]}