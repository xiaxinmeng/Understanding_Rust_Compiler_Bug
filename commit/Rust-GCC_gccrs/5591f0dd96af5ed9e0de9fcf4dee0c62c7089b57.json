{"sha": "5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU5MWYwZGQ5NmFmNWVkOWUwZGU5ZmNmNGRlZTBjNjJjNzA4OWI1Nw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-06-08T16:41:35Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-06-08T16:41:35Z"}, "message": "predict.c (unlikely_executed_edge_p): Move ahead.\n\n\t* predict.c (unlikely_executed_edge_p): Move ahead.\n\t(probably_never_executed_edge_p): Use it.\n\nFrom-SVN: r249025", "tree": {"sha": "4f4e0ed99df2f770afb81bcb929bc650a2c841cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f4e0ed99df2f770afb81bcb929bc650a2c841cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57/comments", "author": null, "committer": null, "parents": [{"sha": "dadcc51c88b86487f0145e8db7ff751463be1aff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dadcc51c88b86487f0145e8db7ff751463be1aff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dadcc51c88b86487f0145e8db7ff751463be1aff"}], "stats": {"total": 25, "additions": 16, "deletions": 9}, "files": [{"sha": "697ed16728c76f6b38f2e19f288d519c4ef4c929", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "patch": "@@ -1,3 +1,8 @@\n+2017-06-08  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* predict.c (unlikely_executed_edge_p): Move ahead.\n+\t(probably_never_executed_edge_p): Use it.\n+\n 2017-06-08  Alexander Ivchenko  <alexander.ivchenko@intel.com>\n \n \tPR middle-end/79988"}, {"sha": "bf932305cc9ea9d9eb478af4aa49c3d8c4b6009c", "filename": "gcc/predict.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57/gcc%2Fpredict.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57/gcc%2Fpredict.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpredict.c?ref=5591f0dd96af5ed9e0de9fcf4dee0c62c7089b57", "patch": "@@ -238,11 +238,22 @@ probably_never_executed_bb_p (struct function *fun, const_basic_block bb)\n }\n \n \n+/* Return true if E is unlikely executed for obvious reasons.  */\n+\n+static bool\n+unlikely_executed_edge_p (edge e)\n+{\n+  return e->count == profile_count::zero ()\n+\t || (e->flags & (EDGE_EH | EDGE_FAKE));\n+}\n+\n /* Return true in case edge E is probably never executed.  */\n \n bool\n probably_never_executed_edge_p (struct function *fun, edge e)\n {\n+  if (e->count.initialized_p ())\n+    unlikely_executed_edge_p (e);\n   return probably_never_executed (fun, e->count, EDGE_FREQUENCY (e));\n }\n \n@@ -761,15 +772,6 @@ dump_prediction (FILE *file, enum br_predictor predictor, int probability,\n   fprintf (file, \"\\n\");\n }\n \n-/* Return true if E is unlikely executed.  */\n-\n-static bool\n-unlikely_executed_edge_p (edge e)\n-{\n-  return e->count == profile_count::zero ()\n-\t || (e->flags & (EDGE_EH | EDGE_FAKE));\n-}\n-\n /* Return true if STMT is known to be unlikely executed.  */\n \n static bool"}]}