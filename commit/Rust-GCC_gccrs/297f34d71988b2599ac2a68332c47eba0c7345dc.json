{"sha": "297f34d71988b2599ac2a68332c47eba0c7345dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk3ZjM0ZDcxOTg4YjI1OTlhYzJhNjgzMzJjNDdlYmEwYzczNDVkYw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-10-30T13:12:08Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-10-30T13:12:08Z"}, "message": "type_traits (__is_convertible_simple): Remove.\n\n2009-10-30  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/std/type_traits (__is_convertible_simple): Remove.\n\t(__is_convertible_helper): Adjust.\n\t* testsuite/20_util/make_signed/requirements/typedefs_neg.cc: Adjust\n\tdg-error line numbers.\n\t* testsuite/20_util/make_unsigned/requirements/typedefs_neg.cc:\n\tLikewise.\n\nFrom-SVN: r153743", "tree": {"sha": "fc57e9f22e2bb3fe2f716585bc3f8e5899c3af26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc57e9f22e2bb3fe2f716585bc3f8e5899c3af26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/297f34d71988b2599ac2a68332c47eba0c7345dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297f34d71988b2599ac2a68332c47eba0c7345dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/297f34d71988b2599ac2a68332c47eba0c7345dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/297f34d71988b2599ac2a68332c47eba0c7345dc/comments", "author": null, "committer": null, "parents": [{"sha": "2ea9fa8a9bb64ef759de6302376e6efba03aa3fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ea9fa8a9bb64ef759de6302376e6efba03aa3fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ea9fa8a9bb64ef759de6302376e6efba03aa3fe"}], "stats": {"total": 45, "additions": 23, "deletions": 22}, "files": [{"sha": "05e2c3360bef144c605e4c9ab9128adfc835f892", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=297f34d71988b2599ac2a68332c47eba0c7345dc", "patch": "@@ -1,3 +1,12 @@\n+2009-10-30  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/std/type_traits (__is_convertible_simple): Remove.\n+\t(__is_convertible_helper): Adjust.\n+\t* testsuite/20_util/make_signed/requirements/typedefs_neg.cc: Adjust\n+\tdg-error line numbers.\n+\t* testsuite/20_util/make_unsigned/requirements/typedefs_neg.cc:\n+\tLikewise.\n+\n 2009-10-30  Jerry Quinn  <jlquinn@optonline.net>\n \n \t* libsupc++/tinfo.cc (operator=(const type_info&)): Revert 153734."}, {"sha": "2824638354a087e281e0fe61efb4b540f138b328", "filename": "libstdc++-v3/include/std/type_traits", "status": "modified", "additions": 10, "deletions": 18, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ftype_traits?ref=297f34d71988b2599ac2a68332c47eba0c7345dc", "patch": "@@ -240,34 +240,26 @@ namespace std\n     { };\n \n   // Relationships between types.\n+  template<typename _From, typename _To,\n+\t   bool = (is_void<_From>::value || is_void<_To>::value\n+\t\t   || is_function<_To>::value || is_array<_To>::value)>\n+    struct __is_convertible_helper\n+    { static const bool __value = (is_void<_From>::value\n+\t\t\t\t   && is_void<_To>::value); };\n+\n   template<typename _From, typename _To>\n-    struct __is_convertible_simple\n+    struct __is_convertible_helper<_From, _To, false>\n     : public __sfinae_types\n     {\n     private:\n       static __one __test(_To);\n       static __two __test(...);\n-      static _From __makeFrom();\n-    \n+      static typename add_rvalue_reference<_From>::type __makeFrom();\n+\n     public:\n       static const bool __value = sizeof(__test(__makeFrom())) == 1;\n     };\n \n-  template<typename _From, typename _To,\n-\t   bool = (is_void<_From>::value || is_void<_To>::value\n-\t\t   || is_function<_To>::value || is_array<_To>::value)>\n-    struct __is_convertible_helper\n-    {\n-      static const bool __value = (__is_convertible_simple<typename\n-\t\t\t\t   add_rvalue_reference<_From>::type,\n-\t\t\t\t   _To>::__value);\n-    };\n-\n-  template<typename _From, typename _To>\n-    struct __is_convertible_helper<_From, _To, true>\n-    { static const bool __value = (is_void<_From>::value\n-\t\t\t\t   && is_void<_To>::value); };\n-\n   // XXX FIXME\n   // The C++0x specifications require front-end support, see N2255.\n   /// is_convertible"}, {"sha": "9319a481146fb6e3ce2afaac8b571a5b8f0202e2", "filename": "libstdc++-v3/testsuite/20_util/make_signed/requirements/typedefs_neg.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_signed%2Frequirements%2Ftypedefs_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_signed%2Frequirements%2Ftypedefs_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_signed%2Frequirements%2Ftypedefs_neg.cc?ref=297f34d71988b2599ac2a68332c47eba0c7345dc", "patch": "@@ -48,8 +48,8 @@ void test01()\n // { dg-error \"instantiated from here\" \"\" { target *-*-* } 40 }\n // { dg-error \"instantiated from here\" \"\" { target *-*-* } 42 }\n \n-// { dg-error \"invalid use of incomplete type\" \"\" { target *-*-* } 554 }\n-// { dg-error \"declaration of\" \"\" { target *-*-* } 516 }\n+// { dg-error \"invalid use of incomplete type\" \"\" { target *-*-* } 546 }\n+// { dg-error \"declaration of\" \"\" { target *-*-* } 508 }\n \n // { dg-excess-errors \"At global scope\" }\n // { dg-excess-errors \"In instantiation of\" }"}, {"sha": "7497767b165434247593b8aa0abbe461a4e4911f", "filename": "libstdc++-v3/testsuite/20_util/make_unsigned/requirements/typedefs_neg.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_unsigned%2Frequirements%2Ftypedefs_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/297f34d71988b2599ac2a68332c47eba0c7345dc/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_unsigned%2Frequirements%2Ftypedefs_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fmake_unsigned%2Frequirements%2Ftypedefs_neg.cc?ref=297f34d71988b2599ac2a68332c47eba0c7345dc", "patch": "@@ -48,8 +48,8 @@ void test01()\n // { dg-error \"instantiated from here\" \"\" { target *-*-* } 40 }\n // { dg-error \"instantiated from here\" \"\" { target *-*-* } 42 }\n \n-// { dg-error \"invalid use of incomplete type\" \"\" { target *-*-* } 475 }\n-// { dg-error \"declaration of\" \"\" { target *-*-* } 437 }\n+// { dg-error \"invalid use of incomplete type\" \"\" { target *-*-* } 467 }\n+// { dg-error \"declaration of\" \"\" { target *-*-* } 429 }\n \n // { dg-excess-errors \"At global scope\" }\n // { dg-excess-errors \"In instantiation of\" }"}]}