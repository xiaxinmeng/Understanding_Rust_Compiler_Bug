{"sha": "7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzY4MmVmODMzYTdhYWRhYzkxZjJmZDIxZDJjNjFiNzRmNGQ0Yzk1Nw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2004-07-05T21:37:40Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2004-07-05T21:37:40Z"}, "message": "expr.c (expand_assignment): Disable the bitfield += optimizations.\n\n\t* expr.c (expand_assignment): Disable the bitfield += optimizations.\n\n\t* gcc.c-torture/execute/20040629-1.c (FIELDS1, FIELDS2): Define to\n\tnothing if not yet defined.  Use it in b, c and d type definitions.\n\t* gcc.c-torture/execute/20040705-1.c: New test.\n\t* gcc.c-torture/execute/20040705-2.c: New test.\n\nFrom-SVN: r84133", "tree": {"sha": "4f531dccb304dcf5e79a0af65d35fba1caaf1761", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f531dccb304dcf5e79a0af65d35fba1caaf1761"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7b61653a60e028d88529c935633d8592aa74607d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b61653a60e028d88529c935633d8592aa74607d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b61653a60e028d88529c935633d8592aa74607d"}], "stats": {"total": 32, "additions": 28, "deletions": 4}, "files": [{"sha": "7e4ae9b2e2dd6b8fe2052dfc45877d6cf6350a9f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -1,3 +1,7 @@\n+2004-07-05  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* expr.c (expand_assignment): Disable the bitfield += optimizations.\n+\n 2004-07-05  Joseph S. Myers  <jsm@polyomino.org.uk>\n \n \t* doc/sourcebuild.texi: Revert previous patch."}, {"sha": "b5feed7a19f120c4326cd06155de94fec59377d4", "filename": "gcc/expr.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -3802,7 +3802,9 @@ expand_assignment (tree to, tree from, int want_value)\n \t  MEM_KEEP_ALIAS_SET_P (to_rtx) = 1;\n \t}\n \n-      while (mode1 == VOIDmode && !want_value\n+      /* Disabled temporarily.  GET_MODE (to_rtx) is often not the right\n+\t mode.  */\n+      while (0 && mode1 == VOIDmode && !want_value\n \t     && bitpos + bitsize <= BITS_PER_WORD\n \t     && bitsize < BITS_PER_WORD\n \t     && GET_MODE_BITSIZE (GET_MODE (to_rtx)) <= BITS_PER_WORD"}, {"sha": "2a29944a62a8f2f2708078f10fe77556f4114472", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -1,3 +1,10 @@\n+2004-07-05  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gcc.c-torture/execute/20040629-1.c (FIELDS1, FIELDS2): Define to\n+\tnothing if not yet defined.  Use it in b, c and d type definitions.\n+\t* gcc.c-torture/execute/20040705-1.c: New test.\n+\t* gcc.c-torture/execute/20040705-2.c: New test.\n+\n 2004-07-05  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n \tPR c++/2518"}, {"sha": "6b3e9069240639cf7010b2364976d063862b69bb", "filename": "gcc/testsuite/gcc.c-torture/execute/20040629-1.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040629-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040629-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040629-1.c?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -4,9 +4,16 @@\n extern void abort (void);\n extern void exit (int);\n \n-struct { unsigned int i : 6, j : 11, k : 15; } b;\n-struct { unsigned int i : 5, j : 1, k : 26; } c;\n-struct { unsigned int i : 16, j : 8, k : 8; } d;\n+#ifndef FIELDS1\n+#define FIELDS1\n+#endif\n+#ifndef FIELDS2\n+#define FIELDS2\n+#endif\n+\n+struct { FIELDS1 unsigned int i : 6, j : 11, k : 15; FIELDS2 } b;\n+struct { FIELDS1 unsigned int i : 5, j : 1, k : 26; FIELDS2 } c;\n+struct { FIELDS1 unsigned int i : 16, j : 8, k : 8; FIELDS2 } d;\n \n unsigned int ret1 (void) { return b.i; }\n unsigned int ret2 (void) { return b.j; }"}, {"sha": "a9ba88ec2e9174b58bd55eb20add54fc64d03c21", "filename": "gcc/testsuite/gcc.c-torture/execute/20040705-1.c", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-1.c?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -0,0 +1,2 @@\n+#define FIELDS1 long long l;\n+#include \"20040629-1.c\""}, {"sha": "a36fb6a681e351547be60a16b00e3f11c9603fe5", "filename": "gcc/testsuite/gcc.c-torture/execute/20040705-2.c", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7682ef833a7aadac91f2fd21d2c61b74f4d4c957/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040705-2.c?ref=7682ef833a7aadac91f2fd21d2c61b74f4d4c957", "patch": "@@ -0,0 +1,2 @@\n+#define FIELDS2 long long l;\n+#include \"20040629-1.c\""}]}