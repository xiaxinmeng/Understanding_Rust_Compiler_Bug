{"sha": "77bbd421e074811ff98af9fcd2efa7ceba21ca89", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdiYmQ0MjFlMDc0ODExZmY5OGFmOWZjZDJlZmE3Y2ViYTIxY2E4OQ==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.co.uk", "date": "2002-07-25T18:57:31Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-07-25T18:57:31Z"}, "message": "collect2.c (SYMBOL__MAIN): Remove.\n\n\t* collect2.c (SYMBOL__MAIN): Remove.\n\t* gcse.c (obstack_chunk_alloc): Remove.\n\t(gcse_alloc): Fix to count allocated bytes.\n\nFrom-SVN: r55755", "tree": {"sha": "c83f5ab5772ba18212fb37d7295dab9472fab541", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c83f5ab5772ba18212fb37d7295dab9472fab541"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77bbd421e074811ff98af9fcd2efa7ceba21ca89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77bbd421e074811ff98af9fcd2efa7ceba21ca89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77bbd421e074811ff98af9fcd2efa7ceba21ca89", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77bbd421e074811ff98af9fcd2efa7ceba21ca89/comments", "author": {"login": "neilb-xx", "id": 160762, "node_id": "MDQ6VXNlcjE2MDc2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/160762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neilb-xx", "html_url": "https://github.com/neilb-xx", "followers_url": "https://api.github.com/users/neilb-xx/followers", "following_url": "https://api.github.com/users/neilb-xx/following{/other_user}", "gists_url": "https://api.github.com/users/neilb-xx/gists{/gist_id}", "starred_url": "https://api.github.com/users/neilb-xx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neilb-xx/subscriptions", "organizations_url": "https://api.github.com/users/neilb-xx/orgs", "repos_url": "https://api.github.com/users/neilb-xx/repos", "events_url": "https://api.github.com/users/neilb-xx/events{/privacy}", "received_events_url": "https://api.github.com/users/neilb-xx/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7bad45b05ce6532a1d3114feb66a9257cf170de2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bad45b05ce6532a1d3114feb66a9257cf170de2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bad45b05ce6532a1d3114feb66a9257cf170de2"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "3665609832dd3b42fb820c8c8e53e7e163675770", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=77bbd421e074811ff98af9fcd2efa7ceba21ca89", "patch": "@@ -1,3 +1,9 @@\n+2002-07-25  Neil Booth  <neil@daikokuya.co.uk>\n+\n+\t* gcse.c (obstack_chunk_alloc): Remove.\n+\t(gcse_alloc): Fix to count allocated bytes.\n+\t* collect2.c (SYMBOL__MAIN): Remove.\n+\n 2002-07-25  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* gcc.c (TARGET_EXECUTABLE_SUFFIX): Only used if"}, {"sha": "0bf1608460bc2ee4a9af9fb11b604f1c85a2a837", "filename": "gcc/collect2.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2Fcollect2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2Fcollect2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcollect2.c?ref=77bbd421e074811ff98af9fcd2efa7ceba21ca89", "patch": "@@ -140,11 +140,9 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n \n /* Some systems use __main in a way incompatible with its use in gcc, in these\n    cases use the macros NAME__MAIN to give a quoted symbol and SYMBOL__MAIN to\n-   give the same symbol without quotes for an alternative entry point.  You\n-   must define both, or neither.  */\n+   give the same symbol without quotes for an alternative entry point.  */\n #ifndef NAME__MAIN\n #define NAME__MAIN \"__main\"\n-#define SYMBOL__MAIN __main\n #endif\n \n /* This must match tree.h.  */"}, {"sha": "8791cb24fcf5b307ef1d192f08a649431877ff1b", "filename": "gcc/gcse.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77bbd421e074811ff98af9fcd2efa7ceba21ca89/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=77bbd421e074811ff98af9fcd2efa7ceba21ca89", "patch": "@@ -166,10 +166,6 @@ Software Foundation, 59 Temple Place - Suite 330, Boston, MA\n \n #include \"obstack.h\"\n \n-/* We don't want to use xmalloc.  */\n-#undef obstack_chunk_alloc\n-#define obstack_chunk_alloc gmalloc\n-\n /* Propagate flow information through back edges and thus enable PRE's\n    moving loop invariant calculations out of loops.\n \n@@ -972,14 +968,13 @@ grealloc (ptr, size)\n   return xrealloc (ptr, size);\n }\n \n-/* Cover function to obstack_alloc.\n-   We don't need to record the bytes allocated here since\n-   obstack_chunk_alloc is set to gmalloc.  */\n+/* Cover function to obstack_alloc.  */\n \n static char *\n gcse_alloc (size)\n      unsigned long size;\n {\n+  bytes_used += size;\n   return (char *) obstack_alloc (&gcse_obstack, size);\n }\n "}]}