{"sha": "aa1ca044b55fdca2b9c38728b512357f7ebc966b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWExY2EwNDRiNTVmZGNhMmI5YzM4NzI4YjUxMjM1N2Y3ZWJjOTY2Yg==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2009-04-02T21:41:58Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2009-04-02T21:41:58Z"}, "message": "config.gcc (powerpc64-*-gnu*): Add rs6000/default64.h to tm_file.\n\n\t* config.gcc (powerpc64-*-gnu*): Add rs6000/default64.h to tm_file.\n\tRemove a number of t-files from tmake_file.\n\t* config/rs6000/sysv4.opt (mprototype): Name variable target_prototype.\n\t* config/rs6000/sysv4.h (TARGET_PROTOTYPE): Define.\n\t* config/rs6000/linux64.h (SUBSUBTARGET_OVERRIDE_OPTIONS): Set\n\ttarget_prototype, not TARGET_PROTOTYPE.\n\t(LINK_OS_GNU_SPEC): Define.\n\t* config/rs6000/t-linux64 (LIB2FUNCS_EXTRA): Delete tramp.S\n\tand darwin-ldoubdle.c.\n\nFrom-SVN: r145477", "tree": {"sha": "65e6b00d6beceae781f901a503476e6fe1a2ddd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65e6b00d6beceae781f901a503476e6fe1a2ddd6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa1ca044b55fdca2b9c38728b512357f7ebc966b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa1ca044b55fdca2b9c38728b512357f7ebc966b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa1ca044b55fdca2b9c38728b512357f7ebc966b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa1ca044b55fdca2b9c38728b512357f7ebc966b/comments", "author": null, "committer": null, "parents": [{"sha": "d5c8be275911317dc85c8441a852775c1192f022", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5c8be275911317dc85c8441a852775c1192f022", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5c8be275911317dc85c8441a852775c1192f022"}], "stats": {"total": 28, "additions": 22, "deletions": 6}, "files": [{"sha": "0c7f96d7e17aee9683b32aaa3e2a5cfb0ae9ba40", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -1,3 +1,15 @@\n+2009-04-03  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* config.gcc (powerpc64-*-gnu*): Add rs6000/default64.h to tm_file.\n+\tRemove a number of t-files from tmake_file.\n+\t* config/rs6000/sysv4.opt (mprototype): Name variable target_prototype.\n+\t* config/rs6000/sysv4.h (TARGET_PROTOTYPE): Define.\n+\t* config/rs6000/linux64.h (SUBSUBTARGET_OVERRIDE_OPTIONS): Set\n+\ttarget_prototype, not TARGET_PROTOTYPE.\n+\t(LINK_OS_GNU_SPEC): Define.\n+\t* config/rs6000/t-linux64 (LIB2FUNCS_EXTRA): Delete tramp.S\n+\tand darwin-ldoubdle.c.\n+\n 2009-04-02  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR driver/39293"}, {"sha": "4d1eb8dfc0ef956af2c2ab722d00773107acab29", "filename": "gcc/config.gcc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -1723,9 +1723,9 @@ powerpc64-*-linux*)\n \ttmake_file=\"t-dfprules rs6000/t-fprules ${tmake_file} rs6000/t-ppccomm rs6000/t-linux64 rs6000/t-fprules-softfp soft-fp/t-softfp\"\n \t;;\n powerpc64-*-gnu*)\n-\ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux64.h rs6000/gnu.h glibc-stdint.h\"\n+\ttm_file=\"${tm_file} elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/default64.h rs6000/linux64.h rs6000/gnu.h glibc-stdint.h\"\n \textra_options=\"${extra_options} rs6000/sysv4.opt rs6000/linux64.opt\"\n-\ttmake_file=\"rs6000/t-fprules t-slibgcc-elf-ver t-gnu rs6000/t-linux64 rs6000/t-fprules-softfp soft-fp/t-softfp\"\n+\ttmake_file=\"t-slibgcc-elf-ver t-gnu\"\n \t;;\n powerpc-*-darwin*)\n \textra_options=\"${extra_options} rs6000/darwin.opt\""}, {"sha": "24c63d35cfbfa84a841529539b63898ba3613ca7", "filename": "gcc/config/rs6000/linux64.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux64.h?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -99,7 +99,7 @@ extern int dot_symbols;\n \t    }\t\t\t\t\t\t\t\\\n \t  if (TARGET_PROTOTYPE)\t\t\t\t\t\\\n \t    {\t\t\t\t\t\t\t\\\n-\t      TARGET_PROTOTYPE = 0;\t\t\t\t\\\n+\t      target_prototype = 0;\t\t\t\t\\\n \t      error (INVALID_64BIT, \"prototype\");\t\t\\\n \t    }\t\t\t\t\t\t\t\\\n \t  if ((target_flags & MASK_POWERPC64) == 0)\t\t\\\n@@ -134,6 +134,10 @@ extern int dot_symbols;\n #undef\tASM_SPEC\n #undef\tLINK_OS_LINUX_SPEC\n \n+/* FIXME: This will quite possibly choose the wrong dynamic linker.  */\n+#undef\tLINK_OS_GNU_SPEC\n+#define\tLINK_OS_GNU_SPEC LINK_OS_LINUX_SPEC\n+\n #ifndef\tRS6000_BI_ARCH\n #define\tASM_DEFAULT_SPEC \"-mppc64\"\n #define\tASM_SPEC\t \"%(asm_spec64) %(asm_spec_common)\""}, {"sha": "31028298c0e10d1f202f6e22a0c7a0bc0111f945", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -54,6 +54,7 @@ extern enum rs6000_sdata_type rs6000_sdata;\n \n #define\tTARGET_BITFIELD_TYPE\t(! TARGET_NO_BITFIELD_TYPE)\n #define\tTARGET_BIG_ENDIAN\t(! TARGET_LITTLE_ENDIAN)\n+#define\tTARGET_PROTOTYPE\ttarget_prototype\n #define\tTARGET_NO_PROTOTYPE\t(! TARGET_PROTOTYPE)\n #define\tTARGET_NO_TOC\t\t(! TARGET_TOC)\n #define\tTARGET_NO_EABI\t\t(! TARGET_EABI)"}, {"sha": "1ead31d4c0155e2057b97a2bbb8c64426458a298", "filename": "gcc/config/rs6000/sysv4.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Fsysv4.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Fsysv4.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.opt?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -74,7 +74,7 @@ Target RejectNegative\n no description yet\n \n mprototype\n-Target Var(TARGET_PROTOTYPE)\n+Target Var(target_prototype)\n Assume all variable arg functions are prototyped\n \n ;; FIXME: Does nothing."}, {"sha": "4c1fae1de83231c1256581ad581700213c505438", "filename": "gcc/config/rs6000/t-linux64", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa1ca044b55fdca2b9c38728b512357f7ebc966b/gcc%2Fconfig%2Frs6000%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-linux64?ref=aa1ca044b55fdca2b9c38728b512357f7ebc966b", "patch": "@@ -1,8 +1,7 @@\n \n #rs6000/t-linux64\n \n-LIB2FUNCS_EXTRA += tramp.S $(srcdir)/config/rs6000/ppc64-fp.c \\\n-\t$(srcdir)/config/rs6000/darwin-ldouble.c\n+LIB2FUNCS_EXTRA += $(srcdir)/config/rs6000/ppc64-fp.c\n LIB2FUNCS_EXTRA := $(sort $(LIB2FUNCS_EXTRA))\n \n TARGET_LIBGCC2_CFLAGS += -mno-minimal-toc"}]}