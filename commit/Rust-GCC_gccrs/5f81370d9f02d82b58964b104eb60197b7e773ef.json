{"sha": "5f81370d9f02d82b58964b104eb60197b7e773ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY4MTM3MGQ5ZjAyZDgyYjU4OTY0YjEwNGViNjAxOTdiN2U3NzNlZg==", "commit": {"author": {"name": "Peter Breitenlohner", "email": "peb@mppmu.mpg.de", "date": "2007-03-01T15:30:27Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2007-03-01T15:30:27Z"}, "message": "re PR other/16513 (Libiberty doesn't honor the multi-os-directory settings)\n\n\tPR other/16513\n\t* Makefile.in: Install library under $(MULTIOSDIR), not $(MULTISUBDIR).\n\tInstall headers in multilib independent location.\n\n\nCo-Authored-By: Eric Botcazou <ebotcazou@libertysurf.fr>\n\nFrom-SVN: r122430", "tree": {"sha": "fa41b2bf8326f1767b3f0544dc467c61f703bc0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fa41b2bf8326f1767b3f0544dc467c61f703bc0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f81370d9f02d82b58964b104eb60197b7e773ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f81370d9f02d82b58964b104eb60197b7e773ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f81370d9f02d82b58964b104eb60197b7e773ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f81370d9f02d82b58964b104eb60197b7e773ef/comments", "author": {"login": "peterbrei", "id": 8874919, "node_id": "MDQ6VXNlcjg4NzQ5MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/8874919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peterbrei", "html_url": "https://github.com/peterbrei", "followers_url": "https://api.github.com/users/peterbrei/followers", "following_url": "https://api.github.com/users/peterbrei/following{/other_user}", "gists_url": "https://api.github.com/users/peterbrei/gists{/gist_id}", "starred_url": "https://api.github.com/users/peterbrei/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peterbrei/subscriptions", "organizations_url": "https://api.github.com/users/peterbrei/orgs", "repos_url": "https://api.github.com/users/peterbrei/repos", "events_url": "https://api.github.com/users/peterbrei/events{/privacy}", "received_events_url": "https://api.github.com/users/peterbrei/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "93de7743bac2adacede483aa17cb1a191e3c9b9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93de7743bac2adacede483aa17cb1a191e3c9b9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93de7743bac2adacede483aa17cb1a191e3c9b9a"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "34e01a8d07a9090fe91b4d9e54e4e3233e7c9a59", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f81370d9f02d82b58964b104eb60197b7e773ef/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f81370d9f02d82b58964b104eb60197b7e773ef/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=5f81370d9f02d82b58964b104eb60197b7e773ef", "patch": "@@ -1,3 +1,10 @@\n+2007-03-01  Peter Breitenlohner  <peb@mppmu.mpg.de>\n+            Eric Botcazou  <ebotcazou@libertysurf.fr>\n+\n+\tPR other/16513\n+\t* Makefile.in: Install library under $(MULTIOSDIR), not $(MULTISUBDIR).\n+\tInstall headers in multilib independent location.\n+\n 2007-02-26  DJ Delorie  <dj@redhat.com>\n \n \t* configure.ac: add djgpp-specific results, so we don't have to"}, {"sha": "570d2e8ba15cd748c3fa5911194e5dc68e77e130", "filename": "libiberty/Makefile.in", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f81370d9f02d82b58964b104eb60197b7e773ef/libiberty%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f81370d9f02d82b58964b104eb60197b7e773ef/libiberty%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FMakefile.in?ref=5f81370d9f02d82b58964b104eb60197b7e773ef", "patch": "@@ -336,15 +336,20 @@ libiberty.html : $(srcdir)/libiberty.texi $(TEXISRC)\n INSTALL_DEST = @INSTALL_DEST@\n install: install_to_$(INSTALL_DEST) install-subdir\n \n+# This is tricky.  Even though CC in the Makefile contains\n+# multilib-specific flags, it's overridden by FLAGS_TO_PASS from the\n+# default multilib, so we have to take LIBCFLAGS into account as well,\n+# since it will be passed the multilib flags.\n+MULTIOSDIR = `$(CC) $(LIBCFLAGS) -print-multi-os-directory`\n install_to_libdir: all\n-\t${mkinstalldirs} $(DESTDIR)$(libdir)$(MULTISUBDIR)\n-\t$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n\n-\t( cd $(DESTDIR)$(libdir)$(MULTISUBDIR) ; chmod 644 $(TARGETLIB)n ;$(RANLIB) $(TARGETLIB)n )\n-\tmv -f $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)n $(DESTDIR)$(libdir)$(MULTISUBDIR)/$(TARGETLIB)\n+\t${mkinstalldirs} $(DESTDIR)$(libdir)/$(MULTIOSDIR)\n+\t$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(libdir)/$(MULTIOSDIR)/$(TARGETLIB)n\n+\t( cd $(DESTDIR)$(libdir)/$(MULTIOSDIR) ; chmod 644 $(TARGETLIB)n ;$(RANLIB) $(TARGETLIB)n )\n+\tmv -f $(DESTDIR)$(libdir)/$(MULTIOSDIR)/$(TARGETLIB)n $(DESTDIR)$(libdir)/$(MULTIOSDIR)/$(TARGETLIB)\n \tif test -n \"${target_header_dir}\"; then \\\n \t  case \"${target_header_dir}\" in \\\n \t    /*)    thd=${target_header_dir};; \\\n-\t    *)     thd=${includedir}${MULTISUBDIR}/${target_header_dir};; \\\n+\t    *)     thd=${includedir}/${target_header_dir};; \\\n \t  esac; \\\n \t  ${mkinstalldirs} $(DESTDIR)$${thd}; \\\n \t  for h in ${INSTALLED_HEADERS}; do \\\n@@ -353,11 +358,6 @@ install_to_libdir: all\n \tfi\n \t@$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=install\n \n-# This is tricky.  Even though CC in the Makefile contains\n-# multilib-specific flags, it's overridden by FLAGS_TO_PASS from the\n-# default multilib, so we have to take LIBCFLAGS into account as well,\n-# since it will be passed the multilib flags.\n-MULTIOSDIR = `$(CC) $(LIBCFLAGS) -print-multi-os-directory`\n install_to_tooldir: all\n \t${mkinstalldirs} $(DESTDIR)$(tooldir)/lib/$(MULTIOSDIR)\n \t$(INSTALL_DATA) $(TARGETLIB) $(DESTDIR)$(tooldir)/lib/$(MULTIOSDIR)/$(TARGETLIB)n"}]}