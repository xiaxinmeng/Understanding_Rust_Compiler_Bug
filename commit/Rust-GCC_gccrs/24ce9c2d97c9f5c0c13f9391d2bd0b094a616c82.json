{"sha": "24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRjZTljMmQ5N2M5ZjVjMGMxM2Y5MzkxZDJiZDBiMDk0YTYxNmM4Mg==", "commit": {"author": {"name": "Michael Koch", "email": "konqueror@gmx.de", "date": "2003-12-31T11:27:09Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2003-12-31T11:27:09Z"}, "message": "2003-12-31  Michael Koch  <konqueror@gmx.de>\n\n\t* gnu/java/net/protocol/http/Connection.java\n\t(sendRequest): Dont encode output in default character encoding,\n\tadd correct version number to HTTP user agent string.\n\nFrom-SVN: r75266", "tree": {"sha": "bb7b78eb99701f2ac3f41f37cf4cf89e261268e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb7b78eb99701f2ac3f41f37cf4cf89e261268e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82/comments", "author": null, "committer": null, "parents": [{"sha": "eb813adf1d3443148dabf8af4b359d8756ba500b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eb813adf1d3443148dabf8af4b359d8756ba500b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eb813adf1d3443148dabf8af4b359d8756ba500b"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "bd1e8d2ee97051eca46f71b00514611beb4b0a2a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "patch": "@@ -1,3 +1,9 @@\n+2003-12-31  Michael Koch  <konqueror@gmx.de>\n+\n+\t* gnu/java/net/protocol/http/Connection.java\n+\t(sendRequest): Dont encode output in default character encoding,\n+\tadd correct version number to HTTP user agent string.\n+\n 2003-12-31  Guilhem Lavaux  <guilhem@kaffe.org>\n \n \t* java/io/ObjectOutputStream.java"}, {"sha": "b785f2334bf37c8a37de7cc3016352fd26c36b37", "filename": "libjava/gnu/java/net/protocol/http/Connection.java", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82/libjava%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82/libjava%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FConnection.java?ref=24ce9c2d97c9f5c0c13f9391d2bd0b094a616c82", "patch": "@@ -45,6 +45,7 @@\n import java.io.InputStream;\n import java.io.IOException;\n import java.io.OutputStream;\n+import java.io.OutputStreamWriter;\n import java.io.PrintWriter;\n import java.net.HttpURLConnection;\n import java.net.ProtocolException;\n@@ -200,7 +201,8 @@ public void disconnect()\n   void sendRequest() throws IOException\n   {\n     // Create PrintWriter for easier sending of headers.\n-    PrintWriter outputWriter = new PrintWriter(outputStream);\n+    PrintWriter outputWriter =\n+      new PrintWriter(new OutputStreamWriter(outputStream, \"8859_1\")); \n     \n     // Send request including any request properties that were set.\n     outputWriter.print (getRequestMethod() + \" \" + url.getFile()\n@@ -215,7 +217,7 @@ void sendRequest() throws IOException\n     \n     if (getRequestProperty (\"user-agent\") == null)\n       setRequestProperty (\"user-agent\", \"gnu-libgcj/\"\n-                          + System.getProperty (\"classpath.version\"));\n+                          + System.getProperty (\"java.vm.version\"));\n     \n     if (getRequestProperty (\"accept\") == null)\n       setRequestProperty (\"accept\", \"*/*\");"}]}