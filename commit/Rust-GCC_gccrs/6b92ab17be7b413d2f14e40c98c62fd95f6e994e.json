{"sha": "6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI5MmFiMTdiZTdiNDEzZDJmMTRlNDBjOThjNjJmZDk1ZjZlOTk0ZQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2017-06-21T09:10:16Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2017-06-21T09:10:16Z"}, "message": "Add dg-add-options feature stack_size\n\n2017-06-21  Tom de Vries  <tom@codesourcery.com>\n\n\t* doc/sourcebuild.texi (Add Options, Features for dg-add-options): Add\n\tstack_size feature.\n\t(Effective-Target Keywords, Other attributes): Suggest using\n\tdg-add-options stack_size feature to get stack limit in stack_size\n\teffective target documentation.\n\n\t* lib/target-supports.exp (add_options_for_stack_size): New proc.\n\t* gcc.c-torture/execute/920501-7.c: Use dg-add-options stack_size.\n\t* gcc.c-torture/compile/20080806-1.c: Same.\n\t* gcc.c-torture/compile/920723-1.c: Same.\n\t* gcc.c-torture/compile/930621-1.c: Same.\n\t* gcc.c-torture/compile/991214-2.c: Same.\n\t* gcc.c-torture/compile/bcopy.c: Same.\n\t* gcc.c-torture/compile/memtst.c: Same.\n\t* gcc.c-torture/compile/msp.c: Same.\n\t* gcc.c-torture/compile/stuct.c: Same.\n\t* gcc.c-torture/execute/20011008-3.c: Same.\n\t* gcc.c-torture/execute/20030209-1.c: Same.\n\t* gcc.c-torture/execute/20031012-1.c: Same.\n\t* gcc.c-torture/execute/20040805-1.c: Same.\n\t* gcc.c-torture/execute/920410-1.c: Same.\n\t* gcc.c-torture/execute/921113-1.c: Same.\n\t* gcc.c-torture/execute/921202-1.c: Same.\n\t* gcc.c-torture/execute/921208-2.c: Same.\n\t* gcc.c-torture/execute/930106-1.c: Same.\n\t* gcc.c-torture/execute/930406-1.c: Same.\n\t* gcc.c-torture/execute/950221-1.c: Same.\n\t* gcc.c-torture/execute/960521-1.c: Same.\n\t* gcc.c-torture/execute/980605-1.c: Same.\n\t* gcc.c-torture/execute/comp-goto-1.c: Same.\n\t* gcc.c-torture/execute/comp-goto-2.c: Same.\n\t* gcc.c-torture/execute/memcpy-1.c: Same.\n\t* gcc.c-torture/execute/multi-ix.c: Same.\n\t* gcc.c-torture/execute/nestfunc-4.c: Same.\n\t* gcc.c-torture/execute/pr20621-1.c: Same.\n\t* gcc.c-torture/execute/pr23135.c: Same.\n\t* gcc.c-torture/execute/pr28982b.c: Same.\n\t* gcc.dg/loop-3.c: Same.\n\t* gcc.dg/struct-ret-3.c: Same.\n\t* gcc.dg/torture/stackalign/comp-goto-1.c: Same.\n\t* gcc.dg/torture/stackalign/non-local-goto-4.c: Same.\n\t* gcc.dg/tree-prof/comp-goto-1.c: Same.\n\t* gcc.dg/tree-prof/pr44777.c: Same.\n\nFrom-SVN: r249440", "tree": {"sha": "4813ffa95d93027e121e697e35b3ad9e756265fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4813ffa95d93027e121e697e35b3ad9e756265fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/comments", "author": null, "committer": null, "parents": [{"sha": "ed39d22d1b3527cf52e025e755a33b992d77e779", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed39d22d1b3527cf52e025e755a33b992d77e779", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed39d22d1b3527cf52e025e755a33b992d77e779"}], "stats": {"total": 146, "additions": 105, "deletions": 41}, "files": [{"sha": "199a01fc6e2e3ece45cd8ddc867e189787f6959d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,3 +1,11 @@\n+2017-06-21  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* doc/sourcebuild.texi (Add Options, Features for dg-add-options): Add\n+\tstack_size feature.\n+\t(Effective-Target Keywords, Other attributes): Suggest using\n+\tdg-add-options stack_size feature to get stack limit in stack_size\n+\teffective target documentation.\n+\n 2017-06-21  Julian Brown  <julian@codesourcery.com>\n \t    Naveen H.S  <Naveen.Hurugalawadi@cavium.com>\n "}, {"sha": "7f5c2cf58c40e7b2369d30c098950f0883fa157a", "filename": "gcc/doc/sourcebuild.texi", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Fdoc%2Fsourcebuild.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Fdoc%2Fsourcebuild.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fsourcebuild.texi?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -2097,11 +2097,10 @@ Target supports section anchors.\n Target defaults to short enums.\n \n @item stack_size\n-Target has limited stack size.  The stack size limit can be obtained using\n-@code{[dg-effective-target-value stack_size]}.  For example:\n-@smallexample\n-/* @{ dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" @{ target @{ stack_size @} @} @} */\n-@end smallexample\n+@anchor{stack_size_et}\n+Target has limited stack size.  The stack size limit can be obtained using the\n+STACK_SIZE macro defined by @ref{stack_size_ao,,@code{dg-add-options} feature\n+@code{stack_size}}.\n \n @item static\n Target supports @option{-static}.\n@@ -2282,6 +2281,12 @@ compliance mode.\n @code{mips16} function attributes.\n Only MIPS targets support this feature, and only then in certain modes.\n \n+@item stack_size\n+@anchor{stack_size_ao}\n+Add the flags needed to define macro STACK_SIZE and set it to the stack size\n+limit associated with the @ref{stack_size_et,,@code{stack_size} effective\n+target}.\n+\n @item tls\n Add the target-specific flags needed to use thread-local storage.\n @end table"}, {"sha": "a7524ac3fe75d35999d80bf0e67a245667177984", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,3 +1,43 @@\n+2017-06-21  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* lib/target-supports.exp (add_options_for_stack_size): New proc.\n+\t* gcc.c-torture/execute/920501-7.c: Use dg-add-options stack_size.\n+\t* gcc.c-torture/compile/20080806-1.c: Same.\n+\t* gcc.c-torture/compile/920723-1.c: Same.\n+\t* gcc.c-torture/compile/930621-1.c: Same.\n+\t* gcc.c-torture/compile/991214-2.c: Same.\n+\t* gcc.c-torture/compile/bcopy.c: Same.\n+\t* gcc.c-torture/compile/memtst.c: Same.\n+\t* gcc.c-torture/compile/msp.c: Same.\n+\t* gcc.c-torture/compile/stuct.c: Same.\n+\t* gcc.c-torture/execute/20011008-3.c: Same.\n+\t* gcc.c-torture/execute/20030209-1.c: Same.\n+\t* gcc.c-torture/execute/20031012-1.c: Same.\n+\t* gcc.c-torture/execute/20040805-1.c: Same.\n+\t* gcc.c-torture/execute/920410-1.c: Same.\n+\t* gcc.c-torture/execute/921113-1.c: Same.\n+\t* gcc.c-torture/execute/921202-1.c: Same.\n+\t* gcc.c-torture/execute/921208-2.c: Same.\n+\t* gcc.c-torture/execute/930106-1.c: Same.\n+\t* gcc.c-torture/execute/930406-1.c: Same.\n+\t* gcc.c-torture/execute/950221-1.c: Same.\n+\t* gcc.c-torture/execute/960521-1.c: Same.\n+\t* gcc.c-torture/execute/980605-1.c: Same.\n+\t* gcc.c-torture/execute/comp-goto-1.c: Same.\n+\t* gcc.c-torture/execute/comp-goto-2.c: Same.\n+\t* gcc.c-torture/execute/memcpy-1.c: Same.\n+\t* gcc.c-torture/execute/multi-ix.c: Same.\n+\t* gcc.c-torture/execute/nestfunc-4.c: Same.\n+\t* gcc.c-torture/execute/pr20621-1.c: Same.\n+\t* gcc.c-torture/execute/pr23135.c: Same.\n+\t* gcc.c-torture/execute/pr28982b.c: Same.\n+\t* gcc.dg/loop-3.c: Same.\n+\t* gcc.dg/struct-ret-3.c: Same.\n+\t* gcc.dg/torture/stackalign/comp-goto-1.c: Same.\n+\t* gcc.dg/torture/stackalign/non-local-goto-4.c: Same.\n+\t* gcc.dg/tree-prof/comp-goto-1.c: Same.\n+\t* gcc.dg/tree-prof/pr44777.c: Same.\n+\n 2017-06-20  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR jit/81144"}, {"sha": "45f29d1cf1146110ea64b178b1e72e2d9561b6a5", "filename": "gcc/testsuite/gcc.c-torture/compile/20080806-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080806-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080806-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20080806-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* This used to ICE on s390x due to a reload bug.  */\n "}, {"sha": "cd8710be7e87ba76d752d791b1102c4d4578107a", "filename": "gcc/testsuite/gcc.c-torture/compile/920723-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F920723-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F920723-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F920723-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if defined(STACK_SIZE) && STACK_SIZE < 65536\n # define GITT_SIZE 75"}, {"sha": "ce0f25b173f5c5a48819326b2e4cbe1b1c2053a8", "filename": "gcc/testsuite/gcc.c-torture/compile/930621-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F930621-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F930621-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F930621-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if defined(STACK_SIZE) && (STACK_SIZE < 65536)\n # define BYTEMEM_SIZE 10000L"}, {"sha": "79df35713fcb15c54ee7a5168a527f3366420965", "filename": "gcc/testsuite/gcc.c-torture/compile/991214-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F991214-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F991214-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F991214-2.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if defined(STACK_SIZE) && (STACK_SIZE < 65536)\n # define HISTO_SIZE 9"}, {"sha": "8108f296600c965974ad67b0569096b038ee26e6", "filename": "gcc/testsuite/gcc.c-torture/compile/bcopy.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fbcopy.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fbcopy.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fbcopy.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n void\n bcopy1 (s, d, c)"}, {"sha": "44cdaf8e83a92ff75240ab077640be5199497ec8", "filename": "gcc/testsuite/gcc.c-torture/compile/memtst.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmemtst.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmemtst.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmemtst.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n #define SIZE STACK_SIZE / 8"}, {"sha": "263a873e26426b3a92440c77d8c56e0e7e214f79", "filename": "gcc/testsuite/gcc.c-torture/compile/msp.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmsp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmsp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fmsp.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n # define A_SIZE (STACK_SIZE/sizeof(int))"}, {"sha": "b70957e9891c0114dad4b2d3aecb13aee6be2854", "filename": "gcc/testsuite/gcc.c-torture/compile/stuct.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fstuct.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fstuct.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fstuct.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n #define SIZE STACK_SIZE / 8"}, {"sha": "0f56302c43de8f51eb3381f5db7dd5b3a22a6095", "filename": "gcc/testsuite/gcc.c-torture/execute/20011008-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n extern void exit (int);\n extern void abort (void);"}, {"sha": "8f076ecb0c70f05178a6a92857821d9b43634c9c", "filename": "gcc/testsuite/gcc.c-torture/execute/20030209-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030209-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030209-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20030209-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n #if STACK_SIZE < 8*100*100"}, {"sha": "e02baf55cbc774e4155f00a8b6fc4f8f5dd782ec", "filename": "gcc/testsuite/gcc.c-torture/execute/20031012-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20031012-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20031012-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20031012-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* PR optimization/8750\n    Used to fail under Cygwin with "}, {"sha": "d3208d69f9d47c414c695d9391b19af6c77467dd", "filename": "gcc/testsuite/gcc.c-torture/execute/20040805-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040805-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040805-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20040805-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if __INT_MAX__ < 32768 || (defined(STACK_SIZE) && STACK_SIZE < 0x12000)\n int main () { exit (0); }"}, {"sha": "44a72bd7bb56a8d5d50dab784382e479d2515dae", "filename": "gcc/testsuite/gcc.c-torture/execute/920410-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920410-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920410-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920410-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #define STACK_REQUIREMENT (40000 * 4 + 256)\n #if defined (STACK_SIZE) && STACK_SIZE < STACK_REQUIREMENT"}, {"sha": "1396eeb64ab29719cc4c20018a2e6580d54d96a3", "filename": "gcc/testsuite/gcc.c-torture/execute/920501-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920501-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920501-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F920501-7.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target label_values } */\n /* { dg-require-effective-target trampolines } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n #define DEPTH ((STACK_SIZE) / 512 + 1)"}, {"sha": "d3e44e358d25fdf1fc064cdf6f3971aa0bb3f8e2", "filename": "gcc/testsuite/gcc.c-torture/execute/921113-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921113-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921113-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921113-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #define STACK_REQUIREMENT (128 * 128 * 4 + 1024)\n #if defined (STACK_SIZE) && STACK_SIZE < STACK_REQUIREMENT"}, {"sha": "8c6b8c79fc548756613a19c49e2ed7bdbe80cd40", "filename": "gcc/testsuite/gcc.c-torture/execute/921202-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921202-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921202-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921202-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,5 +1,5 @@\n /* { dg-require-effective-target untyped_assembly } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifndef STACK_SIZE\n #define\tVLEN\t2055"}, {"sha": "da9ee524924242d79ba8a38eb436fbece1f7622b", "filename": "gcc/testsuite/gcc.c-torture/execute/921208-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921208-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921208-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F921208-2.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,5 +1,5 @@\n /* { dg-require-effective-target untyped_assembly } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #define STACK_REQUIREMENT (100000 * 4 + 1024)\n #if defined (STACK_SIZE) && STACK_SIZE < STACK_REQUIREMENT"}, {"sha": "cae2c544cda57f036740b50ac5d9319661e45f9b", "filename": "gcc/testsuite/gcc.c-torture/execute/930106-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930106-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930106-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930106-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if defined (STACK_SIZE)\n #define DUMMY_SIZE 9"}, {"sha": "f240d1b09ab7190171b999b47f0d27bea6e869e8", "filename": "gcc/testsuite/gcc.c-torture/execute/930406-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n f()\n {"}, {"sha": "8ef83fd5c13cf369c6a0dc7999a5bc498b7bba28", "filename": "gcc/testsuite/gcc.c-torture/execute/950221-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F950221-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F950221-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F950221-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n struct parsefile\n {"}, {"sha": "0174e7be552bf7f0a95ca65ad0e29b122b67b318", "filename": "gcc/testsuite/gcc.c-torture/execute/960521-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F960521-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F960521-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F960521-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #include <stdlib.h>\n "}, {"sha": "7179ba6388109ecd29c97f3f2dc1c310529a680e", "filename": "gcc/testsuite/gcc.c-torture/execute/980605-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F980605-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F980605-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F980605-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #include <stdio.h>\n "}, {"sha": "2a840521487b7920fa57a02e25a0e0063f46c07e", "filename": "gcc/testsuite/gcc.c-torture/execute/comp-goto-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,5 +1,5 @@\n /* { dg-require-effective-target label_values } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #include <stdlib.h>\n "}, {"sha": "95d23a2f9ce2e0e02b8c42e2b77cb1514fc0aeaa", "filename": "gcc/testsuite/gcc.c-torture/execute/comp-goto-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-2.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,6 +1,6 @@\n /* { dg-require-effective-target label_values } */\n /* { dg-require-effective-target trampolines } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* A slight variation of 920501-7.c.  */\n "}, {"sha": "558c9370abb9aae09773381b3d6bafe7661f2daf", "filename": "gcc/testsuite/gcc.c-torture/execute/memcpy-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmemcpy-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmemcpy-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmemcpy-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #include <string.h>\n "}, {"sha": "39567f1f0a78d6a3e00123cf1b5f6ea82254dcd9", "filename": "gcc/testsuite/gcc.c-torture/execute/multi-ix.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fmulti-ix.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* Test for a reload bug:\n    if you have a memory reference using the indexed addressing"}, {"sha": "c7225700709f3112c50c3afaf790ca960bb75c66", "filename": "gcc/testsuite/gcc.c-torture/execute/nestfunc-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fnestfunc-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fnestfunc-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fnestfunc-4.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* Origin: hp@bitrange.com\n    Test that return values come out right from a 1000-level call chain to"}, {"sha": "9d0119b968903ceba2a435132851c7efb34aa1aa", "filename": "gcc/testsuite/gcc.c-torture/execute/pr20621-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr20621-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr20621-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr20621-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* When generating o32 MIPS PIC, main's $gp save slot was out of range\n    of a single load instruction.  */"}, {"sha": "8dd6358e9b4cd9129a263ba8a138db6f78424640", "filename": "gcc/testsuite/gcc.c-torture/execute/pr23135.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr23135.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr23135.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr23135.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* Based on execute/simd-1.c, modified by joern.rennecke@st.com to\n    trigger a reload bug.  Verified for gcc mainline from 20050722 13:00 UTC"}, {"sha": "f28425e8fd7fa5e36be3c589ddc0d2225e1ef173", "filename": "gcc/testsuite/gcc.c-torture/execute/pr28982b.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr28982b.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr28982b.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr28982b.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* Like pr28982a.c, but with the spill slots outside the range of\n    a single sp-based load on ARM.  This test tests for cases where"}, {"sha": "7472ea1dfc6c876319e8757f02f7230f94214178", "filename": "gcc/testsuite/gcc.dg/loop-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Floop-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Floop-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Floop-3.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -4,7 +4,7 @@\n /* { dg-do compile } */\n /* { dg-options \"-O3\" } */\n /* { dg-options \"-O3 -mtune=i386\" { target { { i?86-*-* x86_64-*-* } && ia32 } } } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #if defined(STACK_SIZE) && (STACK_SIZE < 65536)\n # define BYTEMEM_SIZE 10000L"}, {"sha": "4083bb4c75e0f9244849c21eea0276975b23a367", "filename": "gcc/testsuite/gcc.dg/struct-ret-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fstruct-ret-3.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -2,7 +2,7 @@\n /* Origin: Peeter Joot <peeterj@ca.ibm.com> */\n \n /* { dg-do run { target *-*-linux* *-*-gnu* } } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n  \n #include <sys/mman.h>\n #include <string.h>"}, {"sha": "f4ff831b40fb32ddc33a09ba61165de76148a6f7", "filename": "gcc/testsuite/gcc.dg/torture/stackalign/comp-goto-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fcomp-goto-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fcomp-goto-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fcomp-goto-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,7 +1,7 @@\n /* { dg-do run } */\n /* { dg-require-effective-target label_values } */\n /* { dg-require-effective-target trampolines } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #ifdef STACK_SIZE\n #define DEPTH ((STACK_SIZE) / 512 + 1)"}, {"sha": "922c6b396df5246a191f754dca81027a1da92b70", "filename": "gcc/testsuite/gcc.dg/torture/stackalign/non-local-goto-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fnon-local-goto-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fnon-local-goto-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fstackalign%2Fnon-local-goto-4.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -2,7 +2,7 @@\n /* { dg-require-effective-target nonlocal_goto } */\n /* { dg-require-effective-target label_values } */\n /* { dg-require-effective-target trampolines } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n extern void abort (void);\n extern void exit (int);"}, {"sha": "bb1d120c26558367b9f38cf9d2d601438a15bb9b", "filename": "gcc/testsuite/gcc.dg/tree-prof/comp-goto-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fcomp-goto-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fcomp-goto-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fcomp-goto-1.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -1,7 +1,7 @@\n /* { dg-require-effective-target freorder } */\n /* { dg-require-effective-target label_values } */\n /* { dg-options \"-O2 -freorder-blocks-and-partition\" } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n #include <stdlib.h>\n "}, {"sha": "def11646cb8d1e7b0b4f778edac4abea625946ac", "filename": "gcc/testsuite/gcc.dg/tree-prof/pr44777.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fpr44777.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fpr44777.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-prof%2Fpr44777.c?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -2,7 +2,7 @@\n /* { dg-require-effective-target label_values } */\n /* { dg-require-effective-target trampolines } */\n /* { dg-options \"-O0\" } */\n-/* { dg-additional-options \"-DSTACK_SIZE=[dg-effective-target-value stack_size]\" { target { stack_size } } } */\n+/* { dg-add-options stack_size } */\n \n /* A variant of gcc.c-torture/execute/comp-goto-2.c.  */\n "}, {"sha": "502986e71fba8e4f07f338bd67e31bde56fdf809", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b92ab17be7b413d2f14e40c98c62fd95f6e994e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=6b92ab17be7b413d2f14e40c98c62fd95f6e994e", "patch": "@@ -7249,6 +7249,17 @@ proc add_options_for_double_vectors { flags } {\n     return $flags\n }\n \n+# Add to FLAGS the flags needed to define the STACK_SIZE macro.\n+\n+proc add_options_for_stack_size { flags } {\n+    if [is-effective-target stack_size] {\n+\tset stack_size [dg-effective-target-value stack_size]\n+\treturn \"$flags -DSTACK_SIZE=$stack_size\"\n+    }\n+\n+    return $flags\n+}\n+\n # Return 1 if the target provides a full C99 runtime.\n \n proc check_effective_target_c99_runtime { } {"}]}