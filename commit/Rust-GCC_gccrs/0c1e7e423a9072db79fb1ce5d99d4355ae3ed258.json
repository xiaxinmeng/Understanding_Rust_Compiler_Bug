{"sha": "0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGMxZTdlNDIzYTkwNzJkYjc5ZmIxY2U1ZDk5ZDQzNTVhZTNlZDI1OA==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2011-11-25T13:35:13Z"}, "committer": {"name": "Andrew Macleod", "email": "amacleod@gcc.gnu.org", "date": "2011-11-25T13:35:13Z"}, "message": "re PR other/51011 (FAIL: gcc.dg/atomic-generic.c (test for excess errors))\n\n\n2011-11-24  Andrew MacLeod  <amacleod@redhat.com>\n\n\tPR other/51011\n\t* tree.h (is_builtin_name): No longer external.\n\t* builtins.c (is_builtin_name): Make static.\n\t* varasm.c (incorporeal_function_p): __sync and __atomic external calls\n\tare not incorporeal and may need asm label processing.\n\nFrom-SVN: r181721", "tree": {"sha": "b137ccbe21de5a50b1ef9d25894e931b998042b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b137ccbe21de5a50b1ef9d25894e931b998042b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/comments", "author": null, "committer": null, "parents": [{"sha": "b5e3577030b315d4f6adda285c3d01b0b845263e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5e3577030b315d4f6adda285c3d01b0b845263e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5e3577030b315d4f6adda285c3d01b0b845263e"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "a77cf2e3c06e37c7851f94df5f1d6281d59d4488", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "patch": "@@ -1,3 +1,11 @@\n+2011-11-24  Andrew MacLeod  <amacleod@redhat.com>\n+\n+\tPR other/51011\n+\t* tree.h (is_builtin_name): No longer external.\n+\t* builtins.c (is_builtin_name): Make static.\n+\t* varasm.c (incorporeal_function_p): __sync and __atomic external calls\n+\tare not incorporeal and may need asm label processing.\n+\n 2011-11-25  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR target/50566"}, {"sha": "5ad69ceca92e36421f3888b9fd2d98efaa9298d8", "filename": "gcc/builtins.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "patch": "@@ -227,7 +227,7 @@ static void expand_builtin_sync_synchronize (void);\n \n /* Return true if NAME starts with __builtin_ or __sync_.  */\n \n-bool\n+static bool\n is_builtin_name (const char *name)\n {\n   if (strncmp (name, \"__builtin_\", 10) == 0)"}, {"sha": "fa4adac5d80ceda6858a34b919221147fa790566", "filename": "gcc/tree.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "patch": "@@ -5460,7 +5460,6 @@ extern tree build_va_arg_indirect_ref (tree);\n extern tree build_string_literal (int, const char *);\n extern bool validate_arglist (const_tree, ...);\n extern rtx builtin_memset_read_str (void *, HOST_WIDE_INT, enum machine_mode);\n-extern bool is_builtin_name (const char *);\n extern bool is_builtin_fn (tree);\n extern unsigned int get_object_alignment_1 (tree, unsigned HOST_WIDE_INT *);\n extern unsigned int get_object_alignment (tree);"}, {"sha": "a01f49af58fc5671dad456b966d89ec21a084ae3", "filename": "gcc/varasm.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c1e7e423a9072db79fb1ce5d99d4355ae3ed258/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=0c1e7e423a9072db79fb1ce5d99d4355ae3ed258", "patch": "@@ -2109,7 +2109,9 @@ incorporeal_function_p (tree decl)\n \treturn true;\n \n       name = IDENTIFIER_POINTER (DECL_ASSEMBLER_NAME (decl));\n-      if (is_builtin_name (name))\n+      /* Atomic or sync builtins which have survived this far will be\n+\t resolved externally and therefore are not incorporeal.  */\n+      if (strncmp (name, \"__builtin_\", 10) == 0)\n \treturn true;\n     }\n   return false;"}]}