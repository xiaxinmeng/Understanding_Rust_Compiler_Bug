{"sha": "177560b2d073ac3034e451c1af2bb578f47aedea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTc3NTYwYjJkMDczYWMzMDM0ZTQ1MWMxYWYyYmI1NzhmNDdhZWRlYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-09-28T19:09:53Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-09-28T19:09:53Z"}, "message": "stmt.c (expand_asm_operands): Take a location_t, instead of individual file and line.\n\n        * stmt.c (expand_asm_operands): Take a location_t, instead of\n        individual file and line.\n        * c-typeck.c (c_expand_asm_operands): Likewise.\n        * tree.h (expand_asm_operands): Update decl.\n        * c-common.h (c_expand_asm_operands): Likewise.\n        * c-semantics (genrtl_asm_stmt): Update call.\ncp/\n        * typeck.c (c_expand_asm_operands): Take location_t, instead of\n        individual file and line.\nada/\n        * trans.c (tree_transform): Update call to expand_asm_operands.\n\nFrom-SVN: r71884", "tree": {"sha": "b1c014a6e4f66b8d0ee1d4aae161e40cbaf92c60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b1c014a6e4f66b8d0ee1d4aae161e40cbaf92c60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/177560b2d073ac3034e451c1af2bb578f47aedea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/177560b2d073ac3034e451c1af2bb578f47aedea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/177560b2d073ac3034e451c1af2bb578f47aedea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/177560b2d073ac3034e451c1af2bb578f47aedea/comments", "author": null, "committer": null, "parents": [{"sha": "37e2180d7a57f86c0bc2b1463b99463784a8176e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37e2180d7a57f86c0bc2b1463b99463784a8176e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37e2180d7a57f86c0bc2b1463b99463784a8176e"}], "stats": {"total": 42, "additions": 29, "deletions": 13}, "files": [{"sha": "6f6b2b9a7260d5731e2968e86516d12f8cfcb762", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -1,3 +1,12 @@\n+2003-09-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* stmt.c (expand_asm_operands): Take a location_t, instead of\n+\tindividual file and line.\n+\t* c-typeck.c (c_expand_asm_operands): Likewise.\n+\t* tree.h (expand_asm_operands): Update decl.\n+\t* c-common.h (c_expand_asm_operands): Likewise.\n+\t* c-semantics (genrtl_asm_stmt): Update call.\n+\n 2003-09-28  Philip Blundell  <philb@gnu.org>\n \n \t* config/arm/arm.c (legitimize_pic_address): Check"}, {"sha": "46e76fd30574ab20e40c8faef0dba84b5a35e265", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -1,3 +1,7 @@\n+2003-09-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* trans.c (tree_transform): Update call to expand_asm_operands.\n+\n 2003-09-21  Richard Henderson  <rth@redhat.com>\n \n \t* trans.c, utils.c: Revert."}, {"sha": "d666b2f10a645889f2d5cc42dbbf3ac8d8b8822d", "filename": "gcc/ada/trans.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fada%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fada%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftrans.c?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -3773,7 +3773,7 @@ tree_transform (gnat_node)\n \t  gnu_orig_out_list = nreverse (gnu_orig_out_list);\n \t  expand_asm_operands (gnu_template, gnu_output_list, gnu_input_list,\n \t\t\t       gnu_clobber_list, Is_Asm_Volatile (gnat_node),\n-\t\t\t       input_filename, input_line);\n+\t\t\t       input_location);\n \n \t  /* Copy all the intermediate outputs into the specified outputs.  */\n \t  for (; gnu_output_list;"}, {"sha": "ccfc779bee0e4a067d3a2c00fe390d0236302fc8", "filename": "gcc/c-common.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.h?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -1251,7 +1251,7 @@ extern tree build_return_stmt (tree);\n    initializers and cleanups.  */\n #define COMPOUND_STMT_BODY_BLOCK(NODE)\tTREE_LANG_FLAG_3 (NODE)\n \n-extern void c_expand_asm_operands (tree, tree, tree, tree, int, const char *, int);\n+extern void c_expand_asm_operands (tree, tree, tree, tree, int, location_t);\n \n /* These functions must be defined by each front-end which implements\n    a variant of the C language.  They are used in c-common.c.  */"}, {"sha": "a9825c87e68978894e448edad5ddd1c3f2e701e2", "filename": "gcc/c-semantics.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-semantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-semantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-semantics.c?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -749,7 +749,7 @@ genrtl_asm_stmt (tree cv_qualifier, tree string, tree output_operands,\n   else\n     c_expand_asm_operands (string, output_operands, input_operands,\n \t\t\t   clobbers, cv_qualifier != NULL_TREE,\n-\t\t\t   input_filename, input_line);\n+\t\t\t   input_location);\n }\n \n /* Generate the RTL for a CLEANUP_STMT.  */"}, {"sha": "59110c829c529d02faf435e08015de315004a9ca", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -6216,8 +6216,7 @@ build_asm_stmt (tree cv_qualifier, tree string, tree outputs, tree inputs,\n \n void\n c_expand_asm_operands (tree string, tree outputs, tree inputs,\n-\t\t       tree clobbers, int vol, const char *filename,\n-\t\t       int line)\n+\t\t       tree clobbers, int vol, location_t locus)\n {\n   int noutputs = list_length (outputs);\n   int i;\n@@ -6235,7 +6234,7 @@ c_expand_asm_operands (tree string, tree outputs, tree inputs,\n \n   /* Generate the ASM_OPERANDS insn; store into the TREE_VALUEs of\n      OUTPUTS some trees for where the values were actually stored.  */\n-  expand_asm_operands (string, outputs, inputs, clobbers, vol, filename, line);\n+  expand_asm_operands (string, outputs, inputs, clobbers, vol, locus);\n \n   /* Copy all the intermediate outputs into the specified outputs.  */\n   for (i = 0, tail = outputs; tail; tail = TREE_CHAIN (tail), i++)"}, {"sha": "bfb4218d965309b9b8d88cab3e1c86565532af29", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -1,3 +1,8 @@\n+2003-09-28  Richard Henderson  <rth@redhat.com>\n+\n+\t* typeck.c (c_expand_asm_operands): Take location_t, instead of\n+\tindividual file and line.\n+\n 2003-09-28  Andreas Jaeger  <aj@suse.de>\n \n \t* decl.c (cxx_builtin_type_decls): Convert to ISO C90 function"}, {"sha": "5c45976bffe42c66129b55b34241faf19294479a", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -5750,7 +5750,7 @@ convert_for_initialization (tree exp, tree type, tree rhs, int flags,\n \n void\n c_expand_asm_operands (tree string, tree outputs, tree inputs, tree clobbers,\n-\t\t       int vol, const char *filename, int line)\n+\t\t       int vol, location_t locus)\n {\n   int noutputs = list_length (outputs);\n   register int i;\n@@ -5765,7 +5765,7 @@ c_expand_asm_operands (tree string, tree outputs, tree inputs, tree clobbers,\n   /* Generate the ASM_OPERANDS insn;\n      store into the TREE_VALUEs of OUTPUTS some trees for\n      where the values were actually stored.  */\n-  expand_asm_operands (string, outputs, inputs, clobbers, vol, filename, line);\n+  expand_asm_operands (string, outputs, inputs, clobbers, vol, locus);\n \n   /* Copy all the intermediate outputs into the specified outputs.  */\n   for (i = 0, tail = outputs; tail; tail = TREE_CHAIN (tail), i++)"}, {"sha": "72746dfc2b31de0614935d6667eb3a232f241430", "filename": "gcc/stmt.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -1435,7 +1435,7 @@ decl_conflicts_with_clobbers_p (tree decl, const HARD_REG_SET clobbered_regs)\n \n void\n expand_asm_operands (tree string, tree outputs, tree inputs,\n-\t\t     tree clobbers, int vol, const char *filename, int line)\n+\t\t     tree clobbers, int vol, location_t locus)\n {\n   rtvec argvec, constraintvec;\n   rtx body;\n@@ -1656,7 +1656,7 @@ expand_asm_operands (tree string, tree outputs, tree inputs,\n \t\t\t\t: GET_MODE (output_rtx[0])),\n \t\t\t       TREE_STRING_POINTER (string),\n \t\t\t       empty_string, 0, argvec, constraintvec,\n-\t\t\t       filename, line);\n+\t\t\t       locus.file, locus.line);\n \n   MEM_VOLATILE_P (body) = vol;\n \n@@ -1803,7 +1803,7 @@ expand_asm_operands (tree string, tree outputs, tree inputs,\n \t\t\t   (GET_MODE (output_rtx[i]),\n \t\t\t    TREE_STRING_POINTER (string),\n \t\t\t    constraints[i], i, argvec, constraintvec,\n-\t\t\t    filename, line));\n+\t\t\t    locus.file, locus.line));\n \n \t  MEM_VOLATILE_P (SET_SRC (XVECEXP (body, 0, i))) = vol;\n \t}"}, {"sha": "a2a04a7cafc8e7ea144d47505ad7e673aa7036ee", "filename": "gcc/tree.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/177560b2d073ac3034e451c1af2bb578f47aedea/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=177560b2d073ac3034e451c1af2bb578f47aedea", "patch": "@@ -2977,8 +2977,7 @@ extern void emit_nop (void);\n extern void expand_computed_goto (tree);\n extern bool parse_output_constraint (const char **, int, int, int,\n \t\t\t\t     bool *, bool *, bool *);\n-extern void expand_asm_operands (tree, tree, tree, tree, int,\n-\t\t\t\t const char *, int);\n+extern void expand_asm_operands (tree, tree, tree, tree, int, location_t);\n extern tree resolve_asm_operand_names (tree, tree, tree);\n extern int any_pending_cleanups (void);\n extern void init_stmt_for_function (void);"}]}