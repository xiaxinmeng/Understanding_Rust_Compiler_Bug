{"sha": "2203a881041c8ecd559282229f6bc8cd019c4697", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIwM2E4ODEwNDFjOGVjZDU1OTI4MjIyOWY2YmM4Y2QwMTljNDY5Nw==", "commit": {"author": {"name": "Devang Patel", "email": "dpatel@apple.com", "date": "2005-02-28T19:04:19Z"}, "committer": {"name": "Devang Patel", "email": "dpatel@gcc.gnu.org", "date": "2005-02-28T19:04:19Z"}, "message": "directives.c (do_line): Save sysp early before line table is realloc'ed.\n\n       * directives.c (do_line): Save sysp early before line table is\n       realloc'ed.\n\nFrom-SVN: r95691", "tree": {"sha": "0ba8e36d9933835b4bc05df76dc4cbc716b85880", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ba8e36d9933835b4bc05df76dc4cbc716b85880"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2203a881041c8ecd559282229f6bc8cd019c4697", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2203a881041c8ecd559282229f6bc8cd019c4697", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2203a881041c8ecd559282229f6bc8cd019c4697", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2203a881041c8ecd559282229f6bc8cd019c4697/comments", "author": null, "committer": null, "parents": [{"sha": "321cf1f25e3accb866f1a93097677dee6bb05f49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/321cf1f25e3accb866f1a93097677dee6bb05f49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/321cf1f25e3accb866f1a93097677dee6bb05f49"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "1f441b19b9d3f85c4d8da59f11da6a22b8ed208e", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2203a881041c8ecd559282229f6bc8cd019c4697/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2203a881041c8ecd559282229f6bc8cd019c4697/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=2203a881041c8ecd559282229f6bc8cd019c4697", "patch": "@@ -1,3 +1,8 @@\n+2005-02-28  Devang Patel  <dpatel@apple.com>\n+\n+\t* directives.c (do_line): Save sysp early before line table is\n+\trealloc'ed.\n+\t\n 2005-02-20  Zack Weinberg  <zack@codesourcery.com>\n \n \tPR 18785"}, {"sha": "840650526309147cee2d3533c52a7ee826c82483", "filename": "libcpp/directives.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2203a881041c8ecd559282229f6bc8cd019c4697/libcpp%2Fdirectives.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2203a881041c8ecd559282229f6bc8cd019c4697/libcpp%2Fdirectives.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fdirectives.c?ref=2203a881041c8ecd559282229f6bc8cd019c4697", "patch": "@@ -775,6 +775,11 @@ do_line (cpp_reader *pfile)\n {\n   const struct line_maps *line_table = pfile->line_table;\n   const struct line_map *map = &line_table->maps[line_table->used - 1];\n+\n+  /* skip_rest_of_line() may cause line table to be realloc()ed so note down\n+     sysp right now.  */\n+\n+  unsigned char map_sysp = map->sysp;\n   const cpp_token *token;\n   const char *new_file = map->to_file;\n   unsigned long new_lineno;\n@@ -815,7 +820,7 @@ do_line (cpp_reader *pfile)\n \n   skip_rest_of_line (pfile);\n   _cpp_do_file_change (pfile, LC_RENAME, new_file, new_lineno,\n-\t\t       map->sysp);\n+\t\t       map_sysp);\n }\n \n /* Interpret the # 44 \"file\" [flags] notation, which has slightly"}]}