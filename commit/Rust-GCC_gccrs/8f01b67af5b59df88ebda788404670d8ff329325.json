{"sha": "8f01b67af5b59df88ebda788404670d8ff329325", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGYwMWI2N2FmNWI1OWRmODhlYmRhNzg4NDA0NjcwZDhmZjMyOTMyNQ==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2016-09-23T14:40:16Z"}, "committer": {"name": "Marek Polacek", "email": "mpolacek@gcc.gnu.org", "date": "2016-09-23T14:40:16Z"}, "message": "atomic-12.c: Skip for C++1z.\n\n\t* c-c++-common/gomp/atomic-12.c: Skip for C++1z.\n\t* c-c++-common/gomp/atomic-13.c: Likewise.\n\t* c-c++-common/gomp/atomic-14.c: Likewise.\n\t* c-c++-common/pr60439.c: Remove invalid code.\n\t* g++.dg/expr/bitfield4.C: Robustify for C++1z.\n\t* g++.dg/expr/bitfield5.C: Likewise.\n\t* g++.dg/expr/bitfield6.C: Likewise.\n\t* g++.dg/expr/bool1.C: Likewise.\n\t* g++.dg/expr/bool3.C: Likewise.\n\t* g++.dg/expr/lval3.C: Likewise.\n\t* g++.dg/expr/lval4.C: Likewise.\n\t* g++.old-deja/g++.jason/bool5.C: Likewise.\n\nFrom-SVN: r240436", "tree": {"sha": "8c29d71962596226f98fd02eaee05ae5861d0225", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c29d71962596226f98fd02eaee05ae5861d0225"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f01b67af5b59df88ebda788404670d8ff329325", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f01b67af5b59df88ebda788404670d8ff329325", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f01b67af5b59df88ebda788404670d8ff329325", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f01b67af5b59df88ebda788404670d8ff329325/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7be8d6636905b2b446d8bbfc6ebca80b8a1f8c7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7be8d6636905b2b446d8bbfc6ebca80b8a1f8c7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7be8d6636905b2b446d8bbfc6ebca80b8a1f8c7d"}], "stats": {"total": 66, "additions": 43, "deletions": 23}, "files": [{"sha": "48b56b4b2c0467877535863d27d3ddf576b27287", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -1,3 +1,18 @@\n+2016-09-23  Marek Polacek  <polacek@redhat.com>\n+\n+\t* c-c++-common/gomp/atomic-12.c: Skip for C++1z.\n+\t* c-c++-common/gomp/atomic-13.c: Likewise.\n+\t* c-c++-common/gomp/atomic-14.c: Likewise.\n+\t* c-c++-common/pr60439.c: Remove invalid code.\n+\t* g++.dg/expr/bitfield4.C: Robustify for C++1z.\n+\t* g++.dg/expr/bitfield5.C: Likewise.\n+\t* g++.dg/expr/bitfield6.C: Likewise.\n+\t* g++.dg/expr/bool1.C: Likewise.\n+\t* g++.dg/expr/bool3.C: Likewise.\n+\t* g++.dg/expr/lval3.C: Likewise.\n+\t* g++.dg/expr/lval4.C: Likewise.\n+\t* g++.old-deja/g++.jason/bool5.C: Likewise.\n+\n 2016-09-23  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR preprocessor/77672"}, {"sha": "07790d9c4516f168b5ebb5315b8e93d6f1930508", "filename": "gcc/testsuite/c-c++-common/gomp/atomic-12.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-12.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-12.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-12.c?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -4,6 +4,7 @@\n /* atomicvar should never be referenced in between the barrier and\n    following #pragma omp atomic_load.  */\n /* { dg-final { scan-tree-dump-not \"barrier\\[^#\\]*atomicvar\" \"gimple\" } } */\n+/* { dg-skip-if \"invalid in C++1z\" { c++1z } } */\n \n #ifdef __cplusplus\n bool atomicvar, c;"}, {"sha": "83c6560761ae6af3fd94732ce3becf86ff56b7d0", "filename": "gcc/testsuite/c-c++-common/gomp/atomic-13.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-13.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-13.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-13.c?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -4,5 +4,6 @@\n /* atomicvar should never be referenced in between the barrier and\n    following #pragma omp atomic_load.  */\n /* { dg-final { scan-tree-dump-not \"barrier\\[^#\\]*atomicvar\" \"gimple\" } } */\n+/* { dg-skip-if \"invalid in C++1z\" { c++1z } } */\n \n #include \"atomic-12.c\""}, {"sha": "f2dd9fcf89d6e9827f60d68626ebb9fb1d652089", "filename": "gcc/testsuite/c-c++-common/gomp/atomic-14.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgomp%2Fatomic-14.c?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -1,6 +1,7 @@\n /* PR middle-end/45423 */\n /* { dg-do compile } */\n /* { dg-options \"-fopenmp -Wno-deprecated\" } */\n+/* { dg-skip-if \"invalid in C++1z\" { c++1z } } */\n \n #ifdef __cplusplus\n bool *baz ();"}, {"sha": "dc12d1fd272780c3a35bdf8745015db17b3d3da3", "filename": "gcc/testsuite/c-c++-common/pr60439.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr60439.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr60439.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fpr60439.c?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -131,12 +131,6 @@ f6 (bool b)\n     case 3:\n       break;\n     }\n-  switch (b++) /* { dg-warning \"switch condition has\" } */\n-  /* { dg-warning \"is deprecated\" \"\" { target c++ } 134 } */\n-    {\n-    case 3:\n-      break;\n-    }\n }\n \n void"}, {"sha": "97a1fe9bef3bd14ed811e00b72d4af334b8a025b", "filename": "gcc/testsuite/g++.dg/expr/bitfield4.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield4.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -14,6 +14,8 @@ template <>\n void f(bool) {} \n \n int main() {\n-  f(s.x++); // { dg-warning \"deprecated\" }\n-  f(++s.x); // { dg-warning \"deprecated\" }\n+  f(s.x++); // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 17 }\n+  f(++s.x); // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 19 }\n }"}, {"sha": "bba35cbae193ff58b43b370bb76968ee72f42289", "filename": "gcc/testsuite/g++.dg/expr/bitfield5.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield5.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -8,10 +8,12 @@ struct S {\n S s;\n \n int main() {\n-  s.x++; // { dg-warning \"deprecated\" }\n+  s.x++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 11 }\n   if (s.x != 1)\n     return 1;\n-  ++s.x; // { dg-warning \"deprecated\" }\n+  ++s.x; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 15 }\n   if (s.x != 1)\n     return 2;\n }"}, {"sha": "202c24643580697f5309bedf1d799bca3f9e18a7", "filename": "gcc/testsuite/g++.dg/expr/bitfield6.C", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbitfield6.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -7,5 +7,6 @@ struct S {\n S s;\n \n void f() {\n-  ++s.x = false; // { dg-warning \"deprecated\" }\n+  ++s.x = false; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 10 }\n }"}, {"sha": "4ecc6acb088fb7512aa397ebda4997c6ce5b531a", "filename": "gcc/testsuite/g++.dg/expr/bool1.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool1.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -10,8 +10,10 @@ int main()\n   my_bool b = false;\n   int i;\n \n-  b++; // { dg-warning \"deprecated\" }\n-  b++; // { dg-warning \"deprecated\" }\n+  b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 13 }\n+  b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 15 }\n   i = b;\n   if (i != 1)\n     abort ();"}, {"sha": "cfc9da3cc6d7d92e7c4f68a30c6346999775796c", "filename": "gcc/testsuite/g++.dg/expr/bool3.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fbool3.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -10,8 +10,10 @@ int main()\n   my_bool b = false;\n   int i;\n \n-  b++; // { dg-warning \"deprecated\" }\n-  b++; // { dg-warning \"deprecated\" }\n+  b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 13 }\n+  b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 15 }\n   i = b;\n   if (i != 1)\n     abort ();"}, {"sha": "4011441494eafc7f26232d8c310c1c002f329bdb", "filename": "gcc/testsuite/g++.dg/expr/lval3.C", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval3.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -4,7 +4,5 @@ f()\n {\n   bool i = 0;\n   i++ = 3; // { dg-error \"\" }\n-  // { dg-warning \"deprecated\" \"\" { target *-*-* } 6 }\n+  // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } 6 }\n }\n-\n-"}, {"sha": "c012dd3844c6ead85f106eaa8d6cd0b27aeed539", "filename": "gcc/testsuite/g++.dg/expr/lval4.C", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Flval4.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -4,7 +4,6 @@ f()\n {\n   bool i = 0;\n   ++i = 3;\n-  // { dg-warning \"deprecated\" \"\" { target *-*-* } 6 }\n+  // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } 6 }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 6 }\n }\n-\n-"}, {"sha": "49126acdd964a00766bee320efbd6fa8c1be8a0d", "filename": "gcc/testsuite/g++.old-deja/g++.jason/bool5.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fbool5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f01b67af5b59df88ebda788404670d8ff329325/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fbool5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fbool5.C?ref=8f01b67af5b59df88ebda788404670d8ff329325", "patch": "@@ -2,10 +2,12 @@\n int main ()\n {\n   bool b = false;\n-  int i = b++; // { dg-warning \"deprecated\" }\n+  int i = b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 5 }\n   if (i != false || b != true)\n     return 1;\n-  i = b++; // { dg-warning \"deprecated\" }\n+  i = b++; // { dg-warning \"deprecated\" \"\" { target { ! c++1z } } }\n+  // { dg-error \"forbidden\" \"\" { target c++1z } 9 }\n   if (i != true || b != true)\n     return 1;\n }"}]}