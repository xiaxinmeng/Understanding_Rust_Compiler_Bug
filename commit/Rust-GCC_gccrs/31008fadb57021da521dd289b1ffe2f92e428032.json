{"sha": "31008fadb57021da521dd289b1ffe2f92e428032", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzEwMDhmYWRiNTcwMjFkYTUyMWRkMjg5YjFmZmUyZjkyZTQyODAzMg==", "commit": {"author": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1996-08-03T18:59:17Z"}, "committer": {"name": "Karl Berry", "email": "karl@gnu.org", "date": "1996-08-03T18:59:17Z"}, "message": "(\\HEADINGSdouble, \\HEADINGSsingle,\n\nHEADINGSdoubleafter, \\HEADINGSsingleafter, \\CHAPPAGoff,\n\\CHAPPAGon, \\CHAPPAGodd): Set \\contentsalignmacro, analogous to\n\\pagealignmacro.\n(\\startcontents): Call \\contentsalignmacro instead of \\pagealignmacro.\n\nFrom-SVN: r12587", "tree": {"sha": "589cdcded01a3e0be8dcdb88094bbc47644a1757", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/589cdcded01a3e0be8dcdb88094bbc47644a1757"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31008fadb57021da521dd289b1ffe2f92e428032", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31008fadb57021da521dd289b1ffe2f92e428032", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31008fadb57021da521dd289b1ffe2f92e428032", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31008fadb57021da521dd289b1ffe2f92e428032/comments", "author": null, "committer": null, "parents": [{"sha": "07a722f4c54ed3be6a8d4ac8846f1379e8e2e28a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07a722f4c54ed3be6a8d4ac8846f1379e8e2e28a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07a722f4c54ed3be6a8d4ac8846f1379e8e2e28a"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "ee27630497f5348be63191b953b172edfcaceffc", "filename": "gcc/texinfo.tex", "status": "modified", "additions": 19, "deletions": 6, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31008fadb57021da521dd289b1ffe2f92e428032/gcc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31008fadb57021da521dd289b1ffe2f92e428032/gcc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftexinfo.tex?ref=31008fadb57021da521dd289b1ffe2f92e428032", "patch": "@@ -35,7 +35,7 @@\n \n % This automatically updates the version number based on RCS.\n \\def\\deftexinfoversion$#1: #2 ${\\def\\texinfoversion{#2}}\n-\\deftexinfoversion$Revision: 1.3 $\n+\\deftexinfoversion$Revision: 2.176 $\n \\message{Loading texinfo package [Version \\texinfoversion]:}\n \n % If in a .fmt file, print the version number\n@@ -1426,7 +1426,8 @@\n % @headings after\tturns on double-sided headings after this page.\n % @headings doubleafter\tturns on double-sided headings after this page.\n % @headings singleafter turns on single-sided headings after this page.\n-% By default, they are off.\n+% By default, they are off at the start of a document,\n+% and turned `on' after @end titlepage.\n \n \\def\\headings #1 {\\csname HEADINGS#1\\endcsname}\n \n@@ -1440,22 +1441,24 @@\n % title on inside top of left hand pages, and page numbers on outside top\n % edge of all pages.\n \\def\\HEADINGSdouble{\n-%\\pagealignmacro\n \\global\\pageno=1\n \\global\\evenfootline={\\hfil}\n \\global\\oddfootline={\\hfil}\n \\global\\evenheadline={\\line{\\folio\\hfil\\thistitle}}\n \\global\\oddheadline={\\line{\\thischapter\\hfil\\folio}}\n+\\global\\let\\contentsalignmacro = \\chapoddpage\n }\n+\\let\\contentsalignmacro = \\chappager\n+\n % For single-sided printing, chapter title goes across top left of page,\n % page number on top right.\n \\def\\HEADINGSsingle{\n-%\\pagealignmacro\n \\global\\pageno=1\n \\global\\evenfootline={\\hfil}\n \\global\\oddfootline={\\hfil}\n \\global\\evenheadline={\\line{\\thischapter\\hfil\\folio}}\n \\global\\oddheadline={\\line{\\thischapter\\hfil\\folio}}\n+\\global\\let\\contentsalignmacro = \\chappager\n }\n \\def\\HEADINGSon{\\HEADINGSdouble}\n \n@@ -1466,6 +1469,7 @@\n \\global\\oddfootline={\\hfil}\n \\global\\evenheadline={\\line{\\folio\\hfil\\thistitle}}\n \\global\\oddheadline={\\line{\\thischapter\\hfil\\folio}}\n+\\global\\let\\contentsalignmacro = \\chapoddpage\n }\n \n \\def\\HEADINGSsingleafter{\\let\\HEADINGShook=\\HEADINGSsinglex}\n@@ -1474,6 +1478,7 @@\n \\global\\oddfootline={\\hfil}\n \\global\\evenheadline={\\line{\\thischapter\\hfil\\folio}}\n \\global\\oddheadline={\\line{\\thischapter\\hfil\\folio}}\n+\\global\\let\\contentsalignmacro = \\chappager\n }\n \n % Subroutines used in generating headings\n@@ -2908,15 +2913,18 @@\n \\def\\setchapternewpage #1 {\\csname CHAPPAG#1\\endcsname}\n \n \\def\\CHAPPAGoff{\n+\\global\\let\\contentsalignmacro = \\chappager\n \\global\\let\\pchapsepmacro=\\chapbreak\n \\global\\let\\pagealignmacro=\\chappager}\n \n \\def\\CHAPPAGon{\n+\\global\\let\\contentsalignmacro = \\chappager\n \\global\\let\\pchapsepmacro=\\chappager\n \\global\\let\\pagealignmacro=\\chappager\n \\global\\def\\HEADINGSon{\\HEADINGSsingle}}\n \n \\def\\CHAPPAGodd{\n+\\global\\let\\contentsalignmacro = \\chapoddpage\n \\global\\let\\pchapsepmacro=\\chapoddpage\n \\global\\let\\pagealignmacro=\\chapoddpage\n \\global\\def\\HEADINGSon{\\HEADINGSdouble}}\n@@ -3027,7 +3035,11 @@\n \n \\newskip\\contentsrightmargin \\contentsrightmargin=1in\n \\def\\startcontents#1{%\n-   \\pagealignmacro\n+   % If @setchapternewpage on, and @headings double, the contents should\n+   % start on an odd page, unlike chapters.  Thus, we maintain\n+   % \\contentsalignmacro in parallel with \\pagealignmacro.\n+   % From: Torbjorn Granlund <tege@matematik.su.se>\n+   \\contentsalignmacro\n    \\immediate\\closeout \\contentsfile\n    \\ifnum \\pageno>0\n       \\pageno = -1\t\t% Request roman numbered pages.\n@@ -4193,7 +4205,8 @@\n % The trailing space in the following definition for supereject is\n % vital for proper filling; pages come out unaligned when you do a\n % pagealignmacro call if that space before the closing brace is\n-% removed.\n+% removed. (Generally, numeric constants should always be followed by a\n+% space to prevent strange expansion errors.)\n \\def\\supereject{\\par\\penalty -20000\\footnoteno =0 }\n \n % @footnotestyle is meaningful for info output only.."}]}