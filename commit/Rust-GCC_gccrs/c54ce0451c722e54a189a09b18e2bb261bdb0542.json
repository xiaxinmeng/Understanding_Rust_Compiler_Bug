{"sha": "c54ce0451c722e54a189a09b18e2bb261bdb0542", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzU0Y2UwNDUxYzcyMmU1NGExODlhMDliMThlMmJiMjYxYmRiMDU0Mg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-19T22:32:37Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-06-19T22:32:37Z"}, "message": "Add Fred's patch.\n\nFrom-SVN: r20616", "tree": {"sha": "02ff856ddd05b455fbc43879c788392b8afee07a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02ff856ddd05b455fbc43879c788392b8afee07a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c54ce0451c722e54a189a09b18e2bb261bdb0542", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c54ce0451c722e54a189a09b18e2bb261bdb0542", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c54ce0451c722e54a189a09b18e2bb261bdb0542", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c54ce0451c722e54a189a09b18e2bb261bdb0542/comments", "author": null, "committer": null, "parents": [{"sha": "51f8493daad6d3925ee93c033736fdcadfaff055", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51f8493daad6d3925ee93c033736fdcadfaff055", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51f8493daad6d3925ee93c033736fdcadfaff055"}], "stats": {"total": 147, "additions": 147, "deletions": 0}, "files": [{"sha": "596273d6dd05eb868a851c2de3c97b888cd21108", "filename": "gcc/README.gnat", "status": "modified", "additions": 147, "deletions": 0, "changes": 147, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c54ce0451c722e54a189a09b18e2bb261bdb0542/gcc%2FREADME.gnat", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c54ce0451c722e54a189a09b18e2bb261bdb0542/gcc%2FREADME.gnat", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FREADME.gnat?ref=c54ce0451c722e54a189a09b18e2bb261bdb0542", "patch": "@@ -237,3 +237,150 @@ diff -c ada/a-tree.def /home/brolley/comp/egcs/tmp/ada/a-tree.def\n   \n ! DEFTREECODE (GNAT_NOP_EXPR, \"gnat_nop_expr\", '1', 1)\n \n+\n+This patch from Fred Fish to GNAT may make building simpler.  We haven't\n+tested it.\n+\n+> I put a very short blurb in the faq.  GNAT is complicated enough that\n+> we should probably write a whole page on how to build/install it.\n+\n+You may want to use some or all of these patches:\n+\n+\t* Make-lang.in (gnattools): Depends upon GCC_PARTS.\n+\t(ada.start.encap): Depends upon gnattools.\n+\t(ada.rest.encap): Depends upon gnatlib.\n+\t* Makefile.in (../stamp-gnatlib1): Since we are still in the rts\n+\tsubdir when the rule runs, we need to touch ../../stamp-gnatlib1.\n+\t(../stamp-gnatlib1): Don't unconditionally remove the rts directory,\n+\tcreate it if one does not exist.\n+\t(gnatlib): Remove superflous leading blank char at *-*-pe line.\n+\t* a-init.c: Define NULL if not yet defined.\n+\n+Index: Make-lang.in\n+===================================================================\n+RCS file: /cvsroot/gg/egcs/gcc/ada/Make-lang.in,v\n+retrieving revision 1.1.1.1\n+retrieving revision 1.3\n+diff -c -r1.1.1.1 -r1.3\n+*** Make-lang.in\t1997/10/17 06:19:09\t1.1.1.1\n+--- Make-lang.in\t1998/03/17 14:26:14\t1.3\n+***************\n+*** 100,106 ****\n+  \n+  # use host-gcc\n+  # getopt*.o has to be built before CC=../xgcc\n+! gnattools: getopt.o getopt1.o force\n+  \t$(MAKE) $(FLAGS_TO_PASS) $(ADA_FLAGS_TO_PASS)\\\n+  \t   CC=\"../xgcc -B../\" GNATBIND=\"../gnatbind\" \\\n+  \t   gnatf gnatlink gnatkr gnatmake gnatcmd gnatprep \\\n+--- 100,107 ----\n+  \n+  # use host-gcc\n+  # getopt*.o has to be built before CC=../xgcc\n+! # GCC_PARTS has to be built before CC=../xgcc\n+! gnattools: getopt.o getopt1.o $(GCC_PARTS) force\n+  \t$(MAKE) $(FLAGS_TO_PASS) $(ADA_FLAGS_TO_PASS)\\\n+  \t   CC=\"../xgcc -B../\" GNATBIND=\"../gnatbind\" \\\n+  \t   gnatf gnatlink gnatkr gnatmake gnatcmd gnatprep \\\n+***************\n+*** 163,170 ****\n+  \t-if [ -f gnatls$(exeext) ] ; then\\\n+  \t  mv gnatls$(exeext)    gnatls-cross$(exeext); fi\n+  \n+! ada.start.encap:\n+! ada.rest.encap:\n+  ada.info:\n+  ada.dvi:\n+  \f\n+--- 164,171 ----\n+  \t-if [ -f gnatls$(exeext) ] ; then\\\n+  \t  mv gnatls$(exeext)    gnatls-cross$(exeext); fi\n+  \n+! ada.start.encap: gnattools\n+! ada.rest.encap: gnatlib\n+  ada.info:\n+  ada.dvi:\n+  \f\n+Index: Makefile.in\n+===================================================================\n+RCS file: /cvsroot/gg/egcs/gcc/ada/Makefile.in,v\n+retrieving revision 1.1.1.1\n+retrieving revision 1.5\n+diff -c -r1.1.1.1 -r1.5\n+*** Makefile.in\t1997/10/17 06:19:09\t1.1.1.1\n+--- Makefile.in\t1998/02/19 14:16:34\t1.5\n+***************\n+*** 798,806 ****\n+     #  3. copy 3xyyy.ad[sb] -->-- i-yyy.ad[sb] \n+  \n+  ../stamp-gnatlib1: Makefile ../stamp-gnatlib2\n+! \trm -rf rts\n+! \tmkdir rts\n+! \tchmod u+w rts\n+  \t(\\\n+  \t   case $(target) in \\\n+  \t\tsparc-sun-sunos4*) \tletter=u ;;\\\n+--- 800,806 ----\n+     #  3. copy 3xyyy.ad[sb] -->-- i-yyy.ad[sb] \n+  \n+  ../stamp-gnatlib1: Makefile ../stamp-gnatlib2\n+! \tif [ -d rts ]; then true; else mkdir rts; chmod u+w rts; fi\n+  \t(\\\n+  \t   case $(target) in \\\n+  \t\tsparc-sun-sunos4*) \tletter=u ;;\\\n+***************\n+*** 888,894 ****\n+  \t\t   done;; \\\n+  \t   esac ; \\\n+  \t   rm -f ../stamp-gnatlib ;  \\\n+! \t   touch ../stamp-gnatlib1)\n+  \n+  gnatlib-common: ../stamp-gnatlib1\n+  \t(subdir=`cd $(srcdir); pwd`; \\\n+--- 888,894 ----\n+  \t\t   done;; \\\n+  \t   esac ; \\\n+  \t   rm -f ../stamp-gnatlib ;  \\\n+! \t   touch ../../stamp-gnatlib1)\n+  \n+  gnatlib-common: ../stamp-gnatlib1\n+  \t(subdir=`cd $(srcdir); pwd`; \\\n+***************\n+*** 923,929 ****\n+  \t\tmips-sni-*\t       |\\\n+  \t\t*-*-cygwin32*          |\\\n+  \t\t*-*-mingw32*           |\\\n+!  \t\t*-*-pe                 |\\\n+                  *)\t\t       \\\n+                  \\\n+  \t\t $(MAKE)  CC=\"../../xgcc -B../../\" \\\n+--- 923,929 ----\n+  \t\tmips-sni-*\t       |\\\n+  \t\t*-*-cygwin32*          |\\\n+  \t\t*-*-mingw32*           |\\\n+! \t\t*-*-pe                 |\\\n+                  *)\t\t       \\\n+                  \\\n+  \t\t $(MAKE)  CC=\"../../xgcc -B../../\" \\\n+Index: a-init.c\n+===================================================================\n+RCS file: /cvsroot/gg/egcs/gcc/ada/a-init.c,v\n+retrieving revision 1.1.1.1\n+retrieving revision 1.2\n+diff -c -r1.1.1.1 -r1.2\n+*** a-init.c\t1997/10/17 06:19:10\t1.1.1.1\n+--- a-init.c\t1998/01/04 23:11:42\t1.2\n+***************\n+*** 516,521 ****\n+--- 516,525 ----\n+    __gnat_raise (exception);\n+  }\n+  \n++ #ifndef NULL\n++ #define NULL 0\n++ #endif\n++ \n+  static void\n+  __gnat_install_handler ()\n+  {\n+"}]}