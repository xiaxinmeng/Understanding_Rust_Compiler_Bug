{"sha": "5648866613a7d3a348a5a29c6494f1fe8ab0364a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY0ODg2NjYxM2E3ZDNhMzQ4YTVhMjljNjQ5NGYxZmU4YWIwMzY0YQ==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@wolery.cumb.org", "date": "2000-03-14T17:25:24Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-03-14T17:25:24Z"}, "message": "cppfiles.c (find_include_file): Don't assume nshort is a substring of name.\n\n\t* cppfiles.c (find_include_file): Don't assume nshort is a\n\tsubstring of name.\n\nFrom-SVN: r32533", "tree": {"sha": "1dabbfd632cc325b3591c3e04a219eb0ed4826ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1dabbfd632cc325b3591c3e04a219eb0ed4826ab"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5648866613a7d3a348a5a29c6494f1fe8ab0364a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5648866613a7d3a348a5a29c6494f1fe8ab0364a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5648866613a7d3a348a5a29c6494f1fe8ab0364a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5648866613a7d3a348a5a29c6494f1fe8ab0364a/comments", "author": null, "committer": null, "parents": [{"sha": "07fd50eab44f9bcd677655e6ad851e6f866a36b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07fd50eab44f9bcd677655e6ad851e6f866a36b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07fd50eab44f9bcd677655e6ad851e6f866a36b3"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "ac181ce311935cd14c44f2208ca0e98bc41c3a1d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5648866613a7d3a348a5a29c6494f1fe8ab0364a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5648866613a7d3a348a5a29c6494f1fe8ab0364a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5648866613a7d3a348a5a29c6494f1fe8ab0364a", "patch": "@@ -1,3 +1,8 @@\n+2000-03-14  Zack Weinberg  <zack@wolery.cumb.org>\n+\n+\t* cppfiles.c (find_include_file): Don't assume nshort is a\n+\tsubstring of name.\n+\n Tue Mar 14 08:42:21 2000  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in (hppa configurations): Add pa32-regs.h to the"}, {"sha": "98b79af9966d087a5b837cf5d5a8fda767ab29d3", "filename": "gcc/cppfiles.c", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5648866613a7d3a348a5a29c6494f1fe8ab0364a/gcc%2Fcppfiles.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5648866613a7d3a348a5a29c6494f1fe8ab0364a/gcc%2Fcppfiles.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppfiles.c?ref=5648866613a7d3a348a5a29c6494f1fe8ab0364a", "patch": "@@ -257,13 +257,20 @@ find_include_file (pfile, fname, search_start, ihash, before)\n   if (f == -1)\n     return -1;\n \n-  ih = (IHASH *) xmalloc (sizeof (IHASH) + strlen (name));\n-  strcpy ((char *)ih->name, name);\n-  ih->foundhere = path;\n   if (path == ABSOLUTE_PATH)\n-    ih->nshort = ih->name;\n+    {\n+      ih = (IHASH *) xmalloc (sizeof (IHASH) + strlen (name));\n+      ih->nshort = ih->name;\n+    }\n   else\n-    ih->nshort = strstr (ih->name, fname);\n+    {\n+      ih = (IHASH *) xmalloc (sizeof (IHASH) + strlen (name)\n+\t\t\t      + strlen (fname) + 1);\n+      ih->nshort = ih->name + strlen (fname) + 1;\n+      strcpy ((char *)ih->nshort, fname);\n+    }\n+  strcpy ((char *)ih->name, name);\n+  ih->foundhere = path;\n   ih->control_macro = NULL;\n   ih->hash = dummy.hash;\n "}]}