{"sha": "1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFlZTNhYjZmM2VlNzgyODFiNzE0MjliZjJiYzI2MTM5MjJmZDRmYg==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2008-05-06T03:47:29Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2008-05-06T03:47:29Z"}, "message": "re PR middle-end/36141 (Gcc 4.4 failed to boostrap)\n\n2008-05-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/36141\n        * tree-ssa-forwprop.c (forward_propagate_addr_expr_1): Don't create VCE\n        for function decls.\n\n2008-05-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/36141\n        * gcc.c-torture/pr36141.c: New testcase.\n\nFrom-SVN: r134972", "tree": {"sha": "b8d6b52030f07ec8180d51e704904f4c6e2861d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b8d6b52030f07ec8180d51e704904f4c6e2861d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/comments", "author": null, "committer": null, "parents": [{"sha": "ab1cde2399826caa3373eb981bad8b5cdbb57ee5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab1cde2399826caa3373eb981bad8b5cdbb57ee5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab1cde2399826caa3373eb981bad8b5cdbb57ee5"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "aba462fbd8d115938f586d8d5df161f876b20ed1", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "patch": "@@ -1,3 +1,9 @@\n+2008-05-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/36141\n+\t* tree-ssa-forwprop.c (forward_propagate_addr_expr_1): Don't create VCE\n+\tfor function decls.\n+\n 2008-05-05  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/sse.md (sse2_<plusminus_insn><mode>3): Fix a typo."}, {"sha": "ecae39579e6b978f1661a566408065653fb31416", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "patch": "@@ -1,3 +1,8 @@\n+2008-05-05  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/36141\n+\t* gcc.c-torture/pr36141.c: New testcase.\n+\n 2008-05-06  Danny Smith  <dannysmith@users.sourceforge.net>\n \n \t* lib/target_supports.exp (check_effective_target_4byte_wchar_t):"}, {"sha": "82756199b776c69b901691ca9d6686caacc1281a", "filename": "gcc/testsuite/gcc.c-torture/pr36141.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fpr36141.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftestsuite%2Fgcc.c-torture%2Fpr36141.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fpr36141.c?ref=1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "patch": "@@ -0,0 +1,17 @@\n+extern void ffi_closure_unix (void);\n+ffi_prep_closure_loc (void)\n+{\n+  struct ia64_fd\n+  {\n+    unsigned long long code_pointer;\n+    unsigned long long gp;\n+  };\n+  struct ffi_ia64_trampoline_struct\n+  {\n+    unsigned long long code_pointer;\n+  };\n+  struct ffi_ia64_trampoline_struct *tramp;\n+  struct ia64_fd *fd;\n+  fd = (struct ia64_fd *)(void *)ffi_closure_unix;\n+  tramp->code_pointer = fd->code_pointer;\n+}"}, {"sha": "31322b65791872643bd5fef8c4201f2bd1c76bda", "filename": "gcc/tree-ssa-forwprop.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftree-ssa-forwprop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1aee3ab6f3ee78281b71429bf2bc2613922fd4fb/gcc%2Ftree-ssa-forwprop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-forwprop.c?ref=1aee3ab6f3ee78281b71429bf2bc2613922fd4fb", "patch": "@@ -657,6 +657,9 @@ forward_propagate_addr_expr_1 (tree name, tree def_rhs, tree use_stmt,\n       && TREE_OPERAND (rhs, 0) == name\n       && TYPE_SIZE (TREE_TYPE (rhs))\n       && TYPE_SIZE (TREE_TYPE (TREE_OPERAND (def_rhs, 0)))\n+      /* Function decls should not be used for VCE either as it could be\n+         a function descriptor that we want and not the actual function code.  */\n+      && TREE_CODE (TREE_OPERAND (def_rhs, 0)) != FUNCTION_DECL\n       /* We should not convert volatile loads to non volatile loads. */\n       && !TYPE_VOLATILE (TREE_TYPE (rhs))\n       && !TYPE_VOLATILE (TREE_TYPE (TREE_OPERAND (def_rhs, 0)))"}]}