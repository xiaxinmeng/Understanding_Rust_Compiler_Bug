{"sha": "dd452ebae7b3340ed2e076cf26029828b151aadc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ0NTJlYmFlN2IzMzQwZWQyZTA3NmNmMjYwMjk4MjhiMTUxYWFkYw==", "commit": {"author": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-07-03T21:16:00Z"}, "committer": {"name": "Charles Hannum", "email": "mycroft@gnu.org", "date": "1992-07-03T21:16:00Z"}, "message": "entered into RCS\n\nFrom-SVN: r1412", "tree": {"sha": "c948d395e8190d6c0dd2b224befc749cb7151b0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c948d395e8190d6c0dd2b224befc749cb7151b0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd452ebae7b3340ed2e076cf26029828b151aadc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd452ebae7b3340ed2e076cf26029828b151aadc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd452ebae7b3340ed2e076cf26029828b151aadc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd452ebae7b3340ed2e076cf26029828b151aadc/comments", "author": null, "committer": null, "parents": [{"sha": "ed4938723df83b6bd8c0d425f5e6bf626b1e0432", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed4938723df83b6bd8c0d425f5e6bf626b1e0432", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed4938723df83b6bd8c0d425f5e6bf626b1e0432"}], "stats": {"total": 25, "additions": 22, "deletions": 3}, "files": [{"sha": "d7fac7a005f8eb853feefd69f1b8d8e0054ec7a4", "filename": "gcc/config/svr4.h", "status": "modified", "additions": 22, "deletions": 3, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd452ebae7b3340ed2e076cf26029828b151aadc/gcc%2Fconfig%2Fsvr4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd452ebae7b3340ed2e076cf26029828b151aadc/gcc%2Fconfig%2Fsvr4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsvr4.h?ref=dd452ebae7b3340ed2e076cf26029828b151aadc", "patch": "@@ -193,10 +193,12 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.\n    .ident string is patterned after the ones produced by native svr4\n    C compilers.  */\n \n+#define IDENT_ASM_OP \".ident\"\n+\n #define ASM_FILE_END(FILE)\t\t\t\t\t\\\n do {\t\t\t\t \t\t\t\t\\\n-     fprintf ((FILE), \"\\t.ident\\t\\\"GCC: (GNU) %s\\\"\\n\",\t\t\\\n-\t      version_string);\t\t\t\t\t\\\n+     fprintf ((FILE), \"\\t%s\\t\\\"GCC: (GNU) %s\\\"\\n\",\t\t\\\n+\t      IDENT_ASM_OP, version_string);\t\t\t\\\n    } while (0)\n \n /* Allow #sccs in preprocessor.  */\n@@ -206,7 +208,7 @@ do {\t\t\t\t \t\t\t\t\\\n /* Output #ident as a .ident.  */\n \n #define ASM_OUTPUT_IDENT(FILE, NAME) \\\n-  fprintf (FILE, \"\\t.ident \\\"%s\\\"\\n\", NAME);\n+  fprintf (FILE, \"\\t%s\\t\\\"%s\\\"\\n\", IDENT_ASM_OP, NAME);\n \n /* Use periods rather than dollar signs in special g++ assembler names.  */\n \n@@ -315,6 +317,23 @@ do {\t\t\t\t\t\t\t\t\t\\\n   sprintf (LABEL, \"*.%s%d\", PREFIX, NUM);\t\t\t\t\\\n } while (0)\n \n+/* Output the label which preceeds a jumptable.  Note that for all svr4\n+   systems where we actually generate jumptables (which is to say every\n+   svr4 target except i386, where we use casesi instead) we put the jump-\n+   tables into the .rodata section and since other stuff could have been\n+   put into the .rodata section prior to any given jumptable, we have to\n+   make sure that the location counter for the .rodata section gets pro-\n+   perly re-aligned prior to the actual beginning of the jump table.  */\n+\n+#define ALIGN_ASM_OP \".align\"\n+\n+#undef ASM_OUTPUT_CASE_LABEL\n+#define ASM_OUTPUT_CASE_LABEL(FILE,PREFIX,NUM,JUMPTABLE)\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    ASM_OUTPUT_ALIGN ((FILE), 2);\t\t\t\t\t\\\n+    ASM_OUTPUT_INTERNAL_LABEL (FILE, PREFIX, NUM);\t\t\t\\\n+  } while (0)\n+\n /* The standard SVR4 assembler seems to require that certain builtin\n    library routines (e.g. .udiv) be explicitly declared as .globl\n    in each assembly file where they are referenced.  */"}]}