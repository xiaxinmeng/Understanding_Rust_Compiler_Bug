{"sha": "aede122782e489f97b367e786ad56487b790a4ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWVkZTEyMjc4MmU0ODlmOTdiMzY3ZTc4NmFkNTY0ODdiNzkwYTRlZQ==", "commit": {"author": {"name": "Ira Rosen", "email": "ira.rosen@linaro.org", "date": "2011-10-16T13:47:54Z"}, "committer": {"name": "Ira Rosen", "email": "irar@gcc.gnu.org", "date": "2011-10-16T13:47:54Z"}, "message": "re PR tree-optimization/50727 (ICE with segfault in flow_bb_inside_loop_p)\n\n\n        PR tree-optimization/50727\n        * tree-vect-patterns.c (vect_operation_fits_smaller_type): Add\n        DEF_STMT to the list of statements to be replaced by the\n        pattern statements.\n\nFrom-SVN: r180060", "tree": {"sha": "5635dbd93744619092d9488f5d8c454a19342253", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5635dbd93744619092d9488f5d8c454a19342253"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aede122782e489f97b367e786ad56487b790a4ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aede122782e489f97b367e786ad56487b790a4ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aede122782e489f97b367e786ad56487b790a4ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aede122782e489f97b367e786ad56487b790a4ee/comments", "author": null, "committer": null, "parents": [{"sha": "a1f6ecb6d6677ec56c3c7fc8de7c49062bdfa832", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1f6ecb6d6677ec56c3c7fc8de7c49062bdfa832", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1f6ecb6d6677ec56c3c7fc8de7c49062bdfa832"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "cde00698dfc9554c11a2f2bbd6fa50546d72df9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aede122782e489f97b367e786ad56487b790a4ee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aede122782e489f97b367e786ad56487b790a4ee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=aede122782e489f97b367e786ad56487b790a4ee", "patch": "@@ -1,3 +1,10 @@\n+2011-10-16  Ira Rosen  <ira.rosen@linaro.org>\n+\n+\tPR tree-optimization/50727\n+\t* tree-vect-patterns.c (vect_operation_fits_smaller_type): Add\n+\tDEF_STMT to the list of statements to be replaced by the\n+\tpattern statements.\n+\n 2011-10-16  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR rtl-optimization/50615"}, {"sha": "c449d32f91b093f76efc7d5c02e61145238d66ab", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=aede122782e489f97b367e786ad56487b790a4ee", "patch": "@@ -1,3 +1,8 @@\n+2011-10-16  Ira Rosen  <ira.rosen@linaro.org>\n+\n+\tPR tree-optimization/50727\n+\t* gcc.dg/vect/pr50727.c: New test.\n+\n 2011-10-16  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc.dg/vla-23.c: New test."}, {"sha": "896b614b9b839c93148e7d16661e4e8ede4a44f5", "filename": "gcc/testsuite/gcc.dg/vect/pr50727.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr50727.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr50727.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr50727.c?ref=aede122782e489f97b367e786ad56487b790a4ee", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+\n+typedef unsigned char uint8_t;\n+typedef unsigned long uint32_t;\n+void\n+f0a (uint32_t * __restrict__ result, uint32_t * arg2,\n+     uint8_t * __restrict__ arg4)\n+{\n+  int idx;\n+  for (idx = 0; idx < 429; idx += 1)\n+    {\n+      uint32_t temp_9;\n+      uint32_t temp_11;\n+      temp_9 = ((-19 | arg4[idx]) >> arg2[idx]);\n+      temp_11 = (((-19 ^ arg4[idx]) & arg2[idx]) ^ temp_9);\n+      result[idx] = temp_11;\n+    }\n+}\n+\n+/* { dg-final { cleanup-tree-dump \"vect\" } } */\n+"}, {"sha": "da2eb3d9ffe95faa99685a72f3e90800fb0116c5", "filename": "gcc/tree-vect-patterns.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftree-vect-patterns.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aede122782e489f97b367e786ad56487b790a4ee/gcc%2Ftree-vect-patterns.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vect-patterns.c?ref=aede122782e489f97b367e786ad56487b790a4ee", "patch": "@@ -1003,6 +1003,7 @@ vect_operation_fits_smaller_type (gimple stmt, tree def, tree *new_type,\n                   || TREE_TYPE (gimple_assign_lhs (new_stmt)) != interm_type)\n                 return false;\n \n+\t      VEC_safe_push (gimple, heap, *stmts, def_stmt);\n               oprnd = gimple_assign_lhs (new_stmt);\n             }\n           else"}]}