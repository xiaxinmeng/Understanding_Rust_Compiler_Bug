{"sha": "5d14e3d50aa995f8d37c82ace354fe41927e785c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQxNGUzZDUwYWE5OTVmOGQzN2M4MmFjZTM1NGZlNDE5MjdlNzg1Yw==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2009-01-13T07:40:51Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2009-01-13T07:40:51Z"}, "message": "re PR bootstrap/38580 (Bootstrap broken on mingw32)\n\n\tPR bootstrap/38580\n\t* gcc.c (process_command): Replace call to execvp with calls\n\tto pex_one and exit.\n\nFrom-SVN: r143330", "tree": {"sha": "3f7c5ca3e23fdea50a256e973920401af30e8d03", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f7c5ca3e23fdea50a256e973920401af30e8d03"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d14e3d50aa995f8d37c82ace354fe41927e785c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d14e3d50aa995f8d37c82ace354fe41927e785c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d14e3d50aa995f8d37c82ace354fe41927e785c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d14e3d50aa995f8d37c82ace354fe41927e785c/comments", "author": null, "committer": null, "parents": [{"sha": "2e50357552c03e8da8cdf351242d4617cd9efced", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e50357552c03e8da8cdf351242d4617cd9efced", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e50357552c03e8da8cdf351242d4617cd9efced"}], "stats": {"total": 25, "additions": 22, "deletions": 3}, "files": [{"sha": "6e4aa8ed49f0cd9ed595785d42eef165a8f5c446", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d14e3d50aa995f8d37c82ace354fe41927e785c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d14e3d50aa995f8d37c82ace354fe41927e785c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d14e3d50aa995f8d37c82ace354fe41927e785c", "patch": "@@ -1,3 +1,9 @@\n+2009-01-13  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\tPR bootstrap/38580\n+\t* gcc.c (process_command): Replace call to execvp with calls\n+\tto pex_one and exit.\n+\n 2009-01-03  Anatoly Sokolov  <aesok@post.ru>\n \n \tPR target/29141"}, {"sha": "e85d25de708938352ba73ec42c38e232e417dc28", "filename": "gcc/gcc.c", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d14e3d50aa995f8d37c82ace354fe41927e785c/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d14e3d50aa995f8d37c82ace354fe41927e785c/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=5d14e3d50aa995f8d37c82ace354fe41927e785c", "patch": "@@ -1,6 +1,6 @@\n /* Compiler driver program that can handle many languages.\n    Copyright (C) 1987, 1989, 1992, 1993, 1994, 1995, 1996, 1997, 1998,\n-   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008\n+   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -3382,6 +3382,9 @@ process_command (int argc, const char **argv)\n       char **new_argv;\n       char *new_argv0;\n       int baselen;\n+      int status = 0;\n+      int err = 0;\n+      const char *errmsg;\n \n       while (argc > 1 && argv[1][0] == '-'\n \t     && (argv[1][1] == 'V'\n@@ -3424,8 +3427,18 @@ process_command (int argc, const char **argv)\n       new_argv = XDUPVEC (char *, argv, argc + 1);\n       new_argv[0] = new_argv0;\n \n-      execvp (new_argv0, new_argv);\n-      fatal (\"couldn't run '%s': %s\", new_argv0, xstrerror (errno));\n+      errmsg = pex_one (PEX_SEARCH, new_argv0, new_argv, progname, NULL,\n+\t\t\tNULL, &status, &err);\n+\n+      if (errmsg)\n+\t{\n+\t  if (err == 0)\n+\t    fatal (\"couldn't run '%s': %s\", new_argv0, errmsg);\n+\t  else\n+\t    fatal (\"couldn't run '%s': %s: %s\", new_argv0, errmsg,\n+\t\t    xstrerror (err));\n+        }\n+      exit (status);\n     }\n \n   /* Set up the default search paths.  If there is no GCC_EXEC_PREFIX,"}]}