{"sha": "83eb95f9959f82fdda7cc6184413acae7258407d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODNlYjk1Zjk5NTlmODJmZGRhN2NjNjE4NDQxM2FjYWU3MjU4NDA3ZA==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2002-10-03T21:46:59Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2002-10-03T21:46:59Z"}, "message": "config.gcc (hppa*64*-*-hpux11*): Check gnu_ld.\n\n\t* config.gcc (hppa*64*-*-hpux11*): Check gnu_ld.\n\t* config/pa/pa.h (MASK_GNU_LD): New.\n\t(TARGET_GNU_LD): New.\n\t(TARGET_SWITCHES): New gnu-ld & no-gnu-ld flags.\n\t* config/pa/pa64-hpux.h (LINK_SPEC): Set based\n\ton gnu-ld and MASK_GNU_LD.\n\nFrom-SVN: r57792", "tree": {"sha": "924cd4f67b2951627185f8d97a8d40d018970084", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/924cd4f67b2951627185f8d97a8d40d018970084"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/83eb95f9959f82fdda7cc6184413acae7258407d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83eb95f9959f82fdda7cc6184413acae7258407d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83eb95f9959f82fdda7cc6184413acae7258407d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83eb95f9959f82fdda7cc6184413acae7258407d/comments", "author": null, "committer": null, "parents": [{"sha": "b72b1c298b49fad325e93e125b011c8a55780262", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b72b1c298b49fad325e93e125b011c8a55780262", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b72b1c298b49fad325e93e125b011c8a55780262"}], "stats": {"total": 37, "additions": 36, "deletions": 1}, "files": [{"sha": "12697f7a23ce38dc4e549e79065e5a8388a90a9f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=83eb95f9959f82fdda7cc6184413acae7258407d", "patch": "@@ -1,3 +1,12 @@\n+2002-10-03  Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* config.gcc (hppa*64*-*-hpux11*): Check gnu_ld.\n+\t* config/pa/pa.h (MASK_GNU_LD): New.\n+\t(TARGET_GNU_LD): New.\n+\t* config/pa/pa64-hpux.h (LINK_SPEC): Set based \n+\ton gnu-ld and MASK_GNU_LD.\n+\t(SUBTARGET_SWITCHES): New gnu-ld & hp-ld flags.\n+\n Thu Oct  3 23:35:51 CEST 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (athlon_cost): Fix the move costs."}, {"sha": "03958123c1beb78b3d35ac3ebf03e1854e15df77", "filename": "gcc/config.gcc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=83eb95f9959f82fdda7cc6184413acae7258407d", "patch": "@@ -871,6 +871,10 @@ hppa*64*-*-hpux11*)\n \txmake_file=\"pa/x-ada\"\n \ttarget_cpu_default=\"(MASK_PA_11|MASK_PA_20|MASK_GAS)\"\n \n+\tif test x$gnu_ld = xyes\n+\tthen\n+\t\ttarget_cpu_default=\"${target_cpu_default}|MASK_GNU_LD\"\n+\tfi\n #\tif [ x$enable_threads = x ]; then\n #\t    enable_threads=$have_pthread_h\n #\tfi"}, {"sha": "e284210c96d45705229973c21e071a7c26c14fae", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=83eb95f9959f82fdda7cc6184413acae7258407d", "patch": "@@ -146,6 +146,12 @@ extern int target_flags;\n #define MASK_SIO 8192\n #define TARGET_SIO (target_flags & MASK_SIO)\n \n+/* Assume GNU linker by default.  */\n+#define MASK_GNU_LD 16384\n+#ifndef TARGET_GNU_LD\n+#define TARGET_GNU_LD (target_flags & MASK_GNU_LD)\n+#endif\n+\n #ifndef TARGET_PA_10\n #define TARGET_PA_10 (target_flags & (MASK_PA_11 | MASK_PA_20) == 0)\n #endif"}, {"sha": "2c2db6539a9459cf9530e683a399c755dcda1a2b", "filename": "gcc/config/pa/pa64-hpux.h", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/83eb95f9959f82fdda7cc6184413acae7258407d/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa64-hpux.h?ref=83eb95f9959f82fdda7cc6184413acae7258407d", "patch": "@@ -19,11 +19,27 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+#undef SUBTARGET_SWITCHES\n+#define SUBTARGET_SWITCHES\t\t\t\t\\\n+  { \"sio\",\t MASK_SIO,\t\t\t\t\\\n+     N_(\"Generate cpp defines for server IO\") },\t\\\n+  { \"wsio\",\t-MASK_SIO,\t\t\t\t\\\n+     N_(\"Generate cpp defines for workstation IO\") },\t\\\n+  {\"gnu-ld\",\t MASK_GNU_LD,\t\t\t\t\\\n+     N_(\"Assume code will be linked by GNU ld\") },\t\\\n+  {\"hp-ld\",\t-MASK_GNU_LD,\t\t\t\t\\\n+     N_(\"Assume code will be linked by HP ld\") },\n+\n /* We can debug dynamically linked executables on hpux11; we also\n    want dereferencing of a NULL pointer to cause a SEGV.  */\n #undef LINK_SPEC\n+#if ((TARGET_DEFAULT | TARGET_CPU_DEFAULT) & MASK_GNU_LD)\n+#define LINK_SPEC \\\n+  \"-E %{mlinker-opt:-O} %{!shared:-u main} %{static:-a archive} %{shared:%{mhp-ld:-b}%{!mhp-ld:-shared}} %{mhp-ld:+Accept TypeMismatch}\"\n+#else\n #define LINK_SPEC \\\n-  \"-E %{mlinker-opt:-O} %{!shared:-u main} %{static:-a archive} %{shared:-shared}\"\n+  \"-E %{mlinker-opt:-O} %{!shared:-u main} %{static:-a archive} %{shared:%{mgnu-ld:-shared}%{!mgnu-ld:-b}} %{!mgnu-ld:+Accept TypeMismatch}\"\n+#endif\n \n /* Like the default, except no -lg.  */\n #undef LIB_SPEC"}]}