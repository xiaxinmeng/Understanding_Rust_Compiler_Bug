{"sha": "2143168e072391eb097a9382ab8ad2ca70ce1d11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE0MzE2OGUwNzIzOTFlYjA5N2E5MzgyYWI4YWQyY2E3MGNlMWQxMQ==", "commit": {"author": {"name": "Fangrui Song", "email": "maskray@google.com", "date": "2018-07-20T11:24:55Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-07-20T11:24:55Z"}, "message": "Use default visibility to work around clang -fvisibility-inlines-hidden bug\n\nClang (including trunk and many older versions) incorrectly marks static\nlocal variables (__tag) hidden when -fvisibility-inlines-hidden is used.\nThis can lead to multiple instances of __tag when shares objects are used.\n\n2018-07-20  Fangrui Song  <maskray@google.com>\n\n\t* include/bits/shared_ptr_base.h (_Sp_make_shared_tag::_S_ti): Use\n\t_GLIBCXX_VISIBILITY(default).\n\nFrom-SVN: r262903", "tree": {"sha": "d0f29467824c4ced0461b258660966332687c151", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0f29467824c4ced0461b258660966332687c151"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2143168e072391eb097a9382ab8ad2ca70ce1d11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2143168e072391eb097a9382ab8ad2ca70ce1d11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2143168e072391eb097a9382ab8ad2ca70ce1d11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2143168e072391eb097a9382ab8ad2ca70ce1d11/comments", "author": {"login": "MaskRay", "id": 416322, "node_id": "MDQ6VXNlcjQxNjMyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/416322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaskRay", "html_url": "https://github.com/MaskRay", "followers_url": "https://api.github.com/users/MaskRay/followers", "following_url": "https://api.github.com/users/MaskRay/following{/other_user}", "gists_url": "https://api.github.com/users/MaskRay/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaskRay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaskRay/subscriptions", "organizations_url": "https://api.github.com/users/MaskRay/orgs", "repos_url": "https://api.github.com/users/MaskRay/repos", "events_url": "https://api.github.com/users/MaskRay/events{/privacy}", "received_events_url": "https://api.github.com/users/MaskRay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "afa07bdd786dfd67ff9cd1deef3142b9821c26b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa07bdd786dfd67ff9cd1deef3142b9821c26b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afa07bdd786dfd67ff9cd1deef3142b9821c26b5"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "93d847a7fe41b255eef0551ac666e18520afffe5", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2143168e072391eb097a9382ab8ad2ca70ce1d11/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2143168e072391eb097a9382ab8ad2ca70ce1d11/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2143168e072391eb097a9382ab8ad2ca70ce1d11", "patch": "@@ -1,3 +1,8 @@\n+2018-07-20  Fangrui Song  <maskray@google.com>\n+\n+\t* include/bits/shared_ptr_base.h (_Sp_make_shared_tag::_S_ti): Use\n+\t_GLIBCXX_VISIBILITY(default).\n+\n 2018-07-20  Jonathan Wakely  <jwakely@redhat.com>\n \n \tPR libstdc++/86603"}, {"sha": "870aeb9bfdacce07c8ef1e3de149d2465f5ff9dc", "filename": "libstdc++-v3/include/bits/shared_ptr_base.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2143168e072391eb097a9382ab8ad2ca70ce1d11/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2143168e072391eb097a9382ab8ad2ca70ce1d11/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fshared_ptr_base.h?ref=2143168e072391eb097a9382ab8ad2ca70ce1d11", "patch": "@@ -508,7 +508,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       friend class _Sp_counted_ptr_inplace;\n \n     static const type_info&\n-    _S_ti() noexcept\n+    _S_ti() noexcept _GLIBCXX_VISIBILITY(default)\n     {\n       alignas(type_info) static constexpr _Sp_make_shared_tag __tag;\n       return reinterpret_cast<const type_info&>(__tag);"}]}