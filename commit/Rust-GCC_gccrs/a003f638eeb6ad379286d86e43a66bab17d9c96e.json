{"sha": "a003f638eeb6ad379286d86e43a66bab17d9c96e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTAwM2Y2MzhlZWI2YWQzNzkyODZkODZlNDNhNjZiYWIxN2Q5Yzk2ZQ==", "commit": {"author": {"name": "Joerg Brunsmann", "email": "joerg.brunsmann@fernuni-hagen.de", "date": "2000-02-15T22:54:21Z"}, "committer": {"name": "Alexandre Petit-Bianco", "email": "apbianco@gcc.gnu.org", "date": "2000-02-15T22:54:21Z"}, "message": "gjavah.c: Delete ACC_VISIBILITY define.\n\nMon Jan 18 14:30:09 2000  Joerg Brunsmann  <joerg.brunsmann@fernuni-hagen.de>\n\n\t* gjavah.c: Delete ACC_VISIBILITY define.\n\t* jcf.h: Add ACC_VISIBILITY define.\n\t* parse.y: final: rule tagged <value>.\n\t(java_check_regular_methods): Use ACC_VISIBILITY define for\n\tdefault package access check.\n\t(local_variable_declaration_statement): Use final: rule.\n\nFrom-SVN: r31992", "tree": {"sha": "376d7b70ee87d6b80244dcca32c59bec159a17bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/376d7b70ee87d6b80244dcca32c59bec159a17bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a003f638eeb6ad379286d86e43a66bab17d9c96e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a003f638eeb6ad379286d86e43a66bab17d9c96e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a003f638eeb6ad379286d86e43a66bab17d9c96e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a003f638eeb6ad379286d86e43a66bab17d9c96e/comments", "author": null, "committer": null, "parents": [{"sha": "abfb784400c0b14002eb09a26015e71426fc9c8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abfb784400c0b14002eb09a26015e71426fc9c8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abfb784400c0b14002eb09a26015e71426fc9c8a"}], "stats": {"total": 1431, "additions": 725, "deletions": 706}, "files": [{"sha": "4b3a241a60790cc98b57597d6fa22ed8bad1c75a", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=a003f638eeb6ad379286d86e43a66bab17d9c96e", "patch": "@@ -213,7 +213,16 @@\n \t* xref.h: Likewise.\n \t* zextract.c: Likewise.\n \t* zipfile.h: Likewise.\n-\t\n+\n+Mon Jan 18 14:30:09 2000  Joerg Brunsmann  <joerg.brunsmann@fernuni-hagen.de>\n+\n+\t* gjavah.c: Delete ACC_VISIBILITY define.\n+\t* jcf.h: Add ACC_VISIBILITY define.\n+\t* parse.y: final: rule tagged <value>.\n+\t(java_check_regular_methods): Use ACC_VISIBILITY define for\n+\tdefault package access check.\n+\t(local_variable_declaration_statement): Use final: rule.\n+\n Mon Jan 17 11:58:17 2000  Joerg Brunsmann  <joerg.brunsmann@fernuni-hagen.de>\n \n \t* parse.y (format_parameter:): Use final: rule instead of modifiers:."}, {"sha": "595e1da071d24a01e6231d0ec01458399c2c4c56", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=a003f638eeb6ad379286d86e43a66bab17d9c96e", "patch": "@@ -89,8 +89,6 @@ struct JCF *current_jcf;\n    If 0 then we haven't previously examined any field.  */\n static JCF_u2 last_access;\n \n-#define ACC_VISIBILITY (ACC_PUBLIC | ACC_PRIVATE | ACC_PROTECTED)\n-\n /* Pass this macro the flags for a class and for a method.  It will\n    return true if the method should be considered `final'.  */\n #define METHOD_IS_FINAL(Class, Method) \\"}, {"sha": "91fa9f373dd8313c85e062ec78b7d2cb1b6555fa", "filename": "gcc/java/jcf.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fjcf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fjcf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf.h?ref=a003f638eeb6ad379286d86e43a66bab17d9c96e", "patch": "@@ -206,6 +206,8 @@ typedef struct JCF {\n #define ACC_INTERFACE 0x0200\n #define ACC_ABSTRACT 0x0400\n \n+#define ACC_VISIBILITY (ACC_PUBLIC | ACC_PRIVATE | ACC_PROTECTED)\n+\n #define CONSTANT_Class 7\n #define CONSTANT_Fieldref 9\n #define CONSTANT_Methodref 10"}, {"sha": "3341847700f880297f50c4f07fbf0eb5ebcc3d2c", "filename": "gcc/java/parse.c", "status": "modified", "additions": 710, "deletions": 700, "changes": 1410, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=a003f638eeb6ad379286d86e43a66bab17d9c96e"}, {"sha": "843d695e718f841f7de34c301d55c36feaf0ef47", "filename": "gcc/java/parse.y", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a003f638eeb6ad379286d86e43a66bab17d9c96e/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=a003f638eeb6ad379286d86e43a66bab17d9c96e", "patch": "@@ -414,7 +414,7 @@ static tree package_list = NULL_TREE;\n %token   STRING_LIT_TK   CHAR_LIT_TK        INT_LIT_TK        FP_LIT_TK\n %token   TRUE_TK         FALSE_TK           BOOL_LIT_TK       NULL_TK\n \n-%type    <value>\tmodifiers MODIFIER_TK\n+%type    <value>\tmodifiers MODIFIER_TK final\n \n %type    <node>\t\tsuper ID_TK identifier\n %type    <node>\t\tname simple_name qualified_name\n@@ -1280,7 +1280,7 @@ local_variable_declaration_statement:\n local_variable_declaration:\n \ttype variable_declarators\n \t\t{ declare_local_variables (0, $1, $2); }\n-|\tmodifiers type variable_declarators /* Added, JDK1.1 final locals */\n+|\tfinal type variable_declarators /* Added, JDK1.1 final locals */\n \t\t{ declare_local_variables ($1, $2, $3); }\n ;\n \n@@ -4896,7 +4896,7 @@ java_check_regular_methods (class_decl)\n \t one that was found elsewhere. Do not issue this warning when\n \t the match was found in java.lang.Object.  */\n       if (DECL_CONTEXT (found) != object_type_node\n-\t  && ((aflags & 0x7) == 0)\n+\t  && ((aflags & ACC_VISIBILITY) == 0)\n \t  && !class_in_current_package (DECL_CONTEXT (found))\n \t  && DECL_NAME (found) != clinit_identifier_node\n \t  && flag_not_overriding)"}]}