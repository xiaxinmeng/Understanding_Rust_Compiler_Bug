{"sha": "a80e0e831f9a087573c8be2f7fccc7f574c99595", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTgwZTBlODMxZjlhMDg3NTczYzhiZTJmN2ZjY2M3ZjU3NGM5OTU5NQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-06-18T10:54:44Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-06-18T10:54:44Z"}, "message": "2004-06-18  Paolo Carlini  <pcarlini@suse.de>\n\n\t* config/locale/gnu/numeric_members.cc\n\t(numpunct<wchar_t>::_M_initialize_numpunct): Clean up\n\tassignments of _M_decimal_point and _M_thousands_sep.\n\t* config/locale/gnu/time_members.cc\n\t(__timepunct<wchar_t>::_M_initialize_timepunct): Clean up\n\tand reformat assignments of date and time fields.\n\nFrom-SVN: r83346", "tree": {"sha": "97d9091e04e59a2643da59e891c30f5626c431b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/97d9091e04e59a2643da59e891c30f5626c431b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a80e0e831f9a087573c8be2f7fccc7f574c99595", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a80e0e831f9a087573c8be2f7fccc7f574c99595", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a80e0e831f9a087573c8be2f7fccc7f574c99595", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a80e0e831f9a087573c8be2f7fccc7f574c99595/comments", "author": null, "committer": null, "parents": [{"sha": "d627e19f0e7b1b09ef36233199499fc651403f96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d627e19f0e7b1b09ef36233199499fc651403f96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d627e19f0e7b1b09ef36233199499fc651403f96"}], "stats": {"total": 162, "additions": 111, "deletions": 51}, "files": [{"sha": "3af763107d5bdfb0e57a9501d57940dca70a6c22", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a80e0e831f9a087573c8be2f7fccc7f574c99595", "patch": "@@ -1,3 +1,12 @@\n+2004-06-18  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* config/locale/gnu/numeric_members.cc\n+\t(numpunct<wchar_t>::_M_initialize_numpunct): Clean up\n+\tassignments of _M_decimal_point and _M_thousands_sep.\n+\t* config/locale/gnu/time_members.cc\n+\t(__timepunct<wchar_t>::_M_initialize_timepunct): Clean up\n+\tand reformat assignments of date and time fields.\n+\n 2004-06-16  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/ext/rope (rope(_CharT, const allocator_type&)): Fix"}, {"sha": "a68dc3a772be4e3a1e3b2bc3fe4cd7515771d2b1", "filename": "libstdc++-v3/config/locale/gnu/numeric_members.cc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fnumeric_members.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fnumeric_members.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Fnumeric_members.cc?ref=a80e0e831f9a087573c8be2f7fccc7f574c99595", "patch": "@@ -120,12 +120,13 @@ namespace std\n       else\n \t{\n \t  // Named locale.\n-\t  union __s_and_w { const char *__s; unsigned int __w; } __u;\n+\t  // NB: In the GNU model wchar_t is always 32 bit wide.\n+\t  union { char *__s; wchar_t __w; } __u;\n \t  __u.__s = __nl_langinfo_l(_NL_NUMERIC_DECIMAL_POINT_WC, __cloc);\n-\t  _M_data->_M_decimal_point = static_cast<wchar_t>(__u.__w);\n+\t  _M_data->_M_decimal_point = __u.__w;\n \n \t  __u.__s = __nl_langinfo_l(_NL_NUMERIC_THOUSANDS_SEP_WC, __cloc);\n-\t  _M_data->_M_thousands_sep = static_cast<wchar_t>(__u.__w);\n+\t  _M_data->_M_thousands_sep = __u.__w;\n \n \t  if (_M_data->_M_thousands_sep == L'\\0')\n \t    _M_data->_M_grouping = \"\";"}, {"sha": "440f0b7af08d5cd02265543cec1049f447d468c4", "filename": "libstdc++-v3/config/locale/gnu/time_members.cc", "status": "modified", "additions": 98, "deletions": 48, "changes": 146, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Ftime_members.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a80e0e831f9a087573c8be2f7fccc7f574c99595/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Ftime_members.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Flocale%2Fgnu%2Ftime_members.cc?ref=a80e0e831f9a087573c8be2f7fccc7f574c99595", "patch": "@@ -133,7 +133,8 @@ namespace std\n \t  _M_data->_M_time_format = __nl_langinfo_l(T_FMT, __cloc);\n \t  _M_data->_M_time_era_format = __nl_langinfo_l(ERA_T_FMT, __cloc);\n \t  _M_data->_M_date_time_format = __nl_langinfo_l(D_T_FMT, __cloc);\n-\t  _M_data->_M_date_time_era_format = __nl_langinfo_l(ERA_D_T_FMT, __cloc);\n+\t  _M_data->_M_date_time_era_format = __nl_langinfo_l(ERA_D_T_FMT,\n+\t\t\t\t\t\t\t     __cloc);\n \t  _M_data->_M_am = __nl_langinfo_l(AM_STR, __cloc);\n \t  _M_data->_M_pm = __nl_langinfo_l(PM_STR, __cloc);\n \t  _M_data->_M_am_pm_format = __nl_langinfo_l(T_FMT_AMPM, __cloc);\n@@ -276,61 +277,110 @@ namespace std\n \t{\n \t  _M_c_locale_timepunct = _S_clone_c_locale(__cloc); \n \n-\t  _M_data->_M_date_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WD_FMT, __cloc));\n-\t  _M_data->_M_date_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_D_FMT, __cloc));\n-\t  _M_data->_M_time_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WT_FMT, __cloc));\n-\t  _M_data->_M_time_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_T_FMT, __cloc));\n-\t  _M_data->_M_date_time_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WD_T_FMT, __cloc));\n-\t  _M_data->_M_date_time_era_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WERA_D_T_FMT, __cloc));\n-\t  _M_data->_M_am = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WAM_STR, __cloc));\n-\t  _M_data->_M_pm = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WPM_STR, __cloc));\n-\t  _M_data->_M_am_pm_format = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WT_FMT_AMPM, __cloc));\n+\t  union { char *__s; wchar_t *__w; } __u;\n+\n+\t  __u.__s = __nl_langinfo_l(_NL_WD_FMT, __cloc);\n+\t  _M_data->_M_date_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WERA_D_FMT, __cloc);\n+\t  _M_data->_M_date_era_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WT_FMT, __cloc);\n+\t  _M_data->_M_time_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WERA_T_FMT, __cloc);\n+\t  _M_data->_M_time_era_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WD_T_FMT, __cloc);\n+\t  _M_data->_M_date_time_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WERA_D_T_FMT, __cloc);\n+\t  _M_data->_M_date_time_era_format = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WAM_STR, __cloc);\n+\t  _M_data->_M_am = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WPM_STR, __cloc);\n+\t  _M_data->_M_pm = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WT_FMT_AMPM, __cloc);\n+\t  _M_data->_M_am_pm_format = __u.__w;\n \n \t  // Day names, starting with \"C\"'s Sunday.\n-\t  _M_data->_M_day1 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_1, __cloc));\n-\t  _M_data->_M_day2 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_2, __cloc));\n-\t  _M_data->_M_day3 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_3, __cloc));\n-\t  _M_data->_M_day4 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_4, __cloc));\n-\t  _M_data->_M_day5 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_5, __cloc));\n-\t  _M_data->_M_day6 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_6, __cloc));\n-\t  _M_data->_M_day7 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WDAY_7, __cloc));\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_1, __cloc);\n+\t  _M_data->_M_day1 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_2, __cloc);\n+\t  _M_data->_M_day2 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_3, __cloc);\n+\t  _M_data->_M_day3 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_4, __cloc);\n+\t  _M_data->_M_day4 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_5, __cloc);\n+\t  _M_data->_M_day5 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_6, __cloc);\n+\t  _M_data->_M_day6 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WDAY_7, __cloc);\n+\t  _M_data->_M_day7 = __u.__w;\n \n \t  // Abbreviated day names, starting with \"C\"'s Sun.\n-\t  _M_data->_M_aday1 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_1, __cloc));\n-\t  _M_data->_M_aday2 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_2, __cloc));\n-\t  _M_data->_M_aday3 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_3, __cloc));\n-\t  _M_data->_M_aday4 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_4, __cloc));\n-\t  _M_data->_M_aday5 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_5, __cloc));\n-\t  _M_data->_M_aday6 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_6, __cloc));\n-\t  _M_data->_M_aday7 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABDAY_7, __cloc));\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_1, __cloc);\n+\t  _M_data->_M_aday1 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_2, __cloc);\n+\t  _M_data->_M_aday2 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_3, __cloc);\n+\t  _M_data->_M_aday3 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_4, __cloc);\n+\t  _M_data->_M_aday4 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_5, __cloc);\n+\t  _M_data->_M_aday5 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_6, __cloc);\n+\t  _M_data->_M_aday6 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABDAY_7, __cloc);\n+\t  _M_data->_M_aday7 = __u.__w;\n \n \t  // Month names, starting with \"C\"'s January.\n-\t  _M_data->_M_month01 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_1, __cloc));\n-\t  _M_data->_M_month02 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_2, __cloc));\n-\t  _M_data->_M_month03 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_3, __cloc));\n-\t  _M_data->_M_month04 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_4, __cloc));\n-\t  _M_data->_M_month05 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_5, __cloc));\n-\t  _M_data->_M_month06 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_6, __cloc));\n-\t  _M_data->_M_month07 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_7, __cloc));\n-\t  _M_data->_M_month08 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_8, __cloc));\n-\t  _M_data->_M_month09 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_9, __cloc));\n-\t  _M_data->_M_month10 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_10, __cloc));\n-\t  _M_data->_M_month11 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_11, __cloc));\n-\t  _M_data->_M_month12 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WMON_12, __cloc));\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_1, __cloc);\n+\t  _M_data->_M_month01 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_2, __cloc);\n+\t  _M_data->_M_month02 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_3, __cloc);\n+\t  _M_data->_M_month03 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_4, __cloc);\n+\t  _M_data->_M_month04 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_5, __cloc);\n+\t  _M_data->_M_month05 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_6, __cloc);\n+\t  _M_data->_M_month06 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_7, __cloc);\n+\t  _M_data->_M_month07 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_8, __cloc);\n+\t  _M_data->_M_month08 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_9, __cloc);\n+\t  _M_data->_M_month09 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_10, __cloc);\n+\t  _M_data->_M_month10 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_11, __cloc);\n+\t  _M_data->_M_month11 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WMON_12, __cloc);\n+\t  _M_data->_M_month12 = __u.__w;\n \n \t  // Abbreviated month names, starting with \"C\"'s Jan.\n-\t  _M_data->_M_amonth01 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_1, __cloc));\n-\t  _M_data->_M_amonth02 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_2, __cloc));\n-\t  _M_data->_M_amonth03 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_3, __cloc));\n-\t  _M_data->_M_amonth04 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_4, __cloc));\n-\t  _M_data->_M_amonth05 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_5, __cloc));\n-\t  _M_data->_M_amonth06 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_6, __cloc));\n-\t  _M_data->_M_amonth07 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_7, __cloc));\n-\t  _M_data->_M_amonth08 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_8, __cloc));\n-\t  _M_data->_M_amonth09 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_9, __cloc));\n-\t  _M_data->_M_amonth10 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_10, __cloc));\n-\t  _M_data->_M_amonth11 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_11, __cloc));\n-\t  _M_data->_M_amonth12 = reinterpret_cast<wchar_t*>(__nl_langinfo_l(_NL_WABMON_12, __cloc));\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_1, __cloc);\n+\t  _M_data->_M_amonth01 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_2, __cloc);\n+\t  _M_data->_M_amonth02 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_3, __cloc);\n+\t  _M_data->_M_amonth03 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_4, __cloc);\n+\t  _M_data->_M_amonth04 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_5, __cloc);\n+\t  _M_data->_M_amonth05 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_6, __cloc);\n+\t  _M_data->_M_amonth06 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_7, __cloc);\n+\t  _M_data->_M_amonth07 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_8, __cloc);\n+\t  _M_data->_M_amonth08 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_9, __cloc);\n+\t  _M_data->_M_amonth09 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_10, __cloc);\n+\t  _M_data->_M_amonth10 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_11, __cloc);\n+\t  _M_data->_M_amonth11 = __u.__w;\n+\t  __u.__s = __nl_langinfo_l(_NL_WABMON_12, __cloc);\n+\t  _M_data->_M_amonth12 = __u.__w;\n \t}\n     }\n #endif"}]}