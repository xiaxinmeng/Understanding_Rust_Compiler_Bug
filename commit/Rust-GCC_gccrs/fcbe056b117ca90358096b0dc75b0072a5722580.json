{"sha": "fcbe056b117ca90358096b0dc75b0072a5722580", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNiZTA1NmIxMTdjYTkwMzU4MDk2YjBkYzc1YjAwNzJhNTcyMjU4MA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2008-08-29T11:39:04Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2008-08-29T11:39:04Z"}, "message": "invoke.texi (-fipa-cp): Enabled by default at -O2/-Os/-O3\n\n\n\t* doc/invoke.texi (-fipa-cp): Enabled by default at -O2/-Os/-O3\n\t(-fipa-cp-clone): Enabled by default at -O3.\n\t* opts.c (decode_options): Enable ipa-cp at -O2, ipa-cp-clone at -O3;\n\tmake ipa-cp-clone to imply ipa-cp; disable cloning at -Os.\n\nFrom-SVN: r139762", "tree": {"sha": "d76c6ee971e06837b56e7b4c042ff8fa4b153ecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d76c6ee971e06837b56e7b4c042ff8fa4b153ecc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcbe056b117ca90358096b0dc75b0072a5722580", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcbe056b117ca90358096b0dc75b0072a5722580", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcbe056b117ca90358096b0dc75b0072a5722580", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcbe056b117ca90358096b0dc75b0072a5722580/comments", "author": null, "committer": null, "parents": [{"sha": "c6f7cfc15e7480f86aa3e4d407932f38fd635c89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6f7cfc15e7480f86aa3e4d407932f38fd635c89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6f7cfc15e7480f86aa3e4d407932f38fd635c89"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "3b80285fd912693be14167dc4d3dbdee6377e3e5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fcbe056b117ca90358096b0dc75b0072a5722580", "patch": "@@ -1,3 +1,10 @@\n+2008-08-29  Jan Hubicka  <jh@suse.cz>\n+\n+\t* doc/invoke.texi (-fipa-cp): Enabled by default at -O2/-Os/-O3\n+\t(-fipa-cp-clone): Enabled by default at -O3.\n+\t* opts.c (decode_options): Enable ipa-cp at -O2, ipa-cp-clone at -O3;\n+\tmake ipa-cp-clone to imply ipa-cp; disable cloning at -Os.\n+\n 2008-08-29  Jan Hubicka  <jh@suse.cz>\n \n \t* tree.c (build_function_type_skip_args, build_function_decl_skip_args):"}, {"sha": "e36bbb969bcca8a0807174293f41c2fe97b9af11", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=fcbe056b117ca90358096b0dc75b0072a5722580", "patch": "@@ -5902,6 +5902,7 @@ This optimization analyzes the program to determine when values passed\n to functions are constants and then optimizes accordingly.  \n This optimization can substantially increase performance\n if the application has constants passed to functions.\n+This flag is enabled by default at @option{-O2}, @option{-Os} and @option{-O3}.\n \n @item -fipa-cp-clone\n @opindex fipa-cp-clone\n@@ -5911,6 +5912,7 @@ when externally visible function can be called with constant arguments.\n Because this optimization can create multiple copies of functions,\n it may significantly increase code size\n (see @option{--param ipcp-unit-growth=@var{value}}).\n+This flag is enabled by default at @option{-O3}.\n \n @item -fipa-matrix-reorg\n @opindex fipa-matrix-reorg"}, {"sha": "f64d74736b2a03a110ade593c7035df4ee93fb7b", "filename": "gcc/opts.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcbe056b117ca90358096b0dc75b0072a5722580/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=fcbe056b117ca90358096b0dc75b0072a5722580", "patch": "@@ -955,7 +955,8 @@ decode_options (unsigned int argc, const char **argv)\n   flag_tree_vrp = opt2;\n   flag_tree_builtin_call_dce = opt2;\n   flag_tree_pre = opt2;\n-      flag_tree_switch_conversion = 1;\n+  flag_tree_switch_conversion = 1;\n+  flag_ipa_cp = opt2;\n \n       /* Allow more virtual operators to increase alias precision.  */\n \n@@ -973,6 +974,9 @@ decode_options (unsigned int argc, const char **argv)\n   flag_unswitch_loops = opt3;\n   flag_gcse_after_reload = opt3;\n   flag_tree_vectorize = opt3;\n+  flag_ipa_cp_clone = opt3;\n+  if (flag_ipa_cp_clone)\n+    flag_ipa_cp = 1;\n \n   /* Allow even more virtual operators.  Max-aliased-vops was set above for\n      -O2, so don't reset it unless we are at -O3.  */\n@@ -1028,6 +1032,9 @@ decode_options (unsigned int argc, const char **argv)\n \n       /* We want to crossjump as much as possible.  */\n       set_param_value (\"min-crossjump-insns\", 1);\n+\n+      /* Do not perform clonning in ipcp.  */\n+      flag_ipa_cp_clone = 0;\n     }\n   else\n     set_param_value (\"min-crossjump-insns\", initial_min_crossjump_insns);"}]}