{"sha": "b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjg4YjdjZWQ5YjYzZjVmNzdiMDNkY2Q3ZmUxMTRhMTUyYWMxZGJkNQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-11-03T15:06:42Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-11-03T15:06:42Z"}, "message": "re PR c++/24582 (ICE in decl_jump_unsafe)\n\n2005-11-03  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR c++/24582\n        * g++.dg/init/switch1.C: New test.\n\n2005-11-03  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR c++/24582\n        * decl.c (declare_local_label): Return 0 for variables\n        with error_mark_node as their types.\n\nFrom-SVN: r106434", "tree": {"sha": "677adb6581b12a2ebb71ea2b3137935794902c49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/677adb6581b12a2ebb71ea2b3137935794902c49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/comments", "author": null, "committer": null, "parents": [{"sha": "f9c4ee6d100ed11255aa7177c3b8c1a25150b1c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9c4ee6d100ed11255aa7177c3b8c1a25150b1c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9c4ee6d100ed11255aa7177c3b8c1a25150b1c4"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "e1edc45cbb7e8bd2e09a00fc9306a845e03c3a51", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "patch": "@@ -1,3 +1,9 @@\n+2005-11-03  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR c++/24582\n+\t* decl.c (declare_local_label): Return 0 for variables\n+\twith error_mark_node as their types.\n+\n 2005-11-02  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/22434"}, {"sha": "c5fe658599606e07b15843189a8dada1a07dc099", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "patch": "@@ -2147,7 +2147,8 @@ declare_local_label (tree id)\n static int\n decl_jump_unsafe (tree decl)\n {\n-  if (TREE_CODE (decl) != VAR_DECL || TREE_STATIC (decl))\n+  if (TREE_CODE (decl) != VAR_DECL || TREE_STATIC (decl)\n+      || TREE_TYPE (decl) == error_mark_node)\n     return 0;\n \n   if (TYPE_NEEDS_CONSTRUCTING (TREE_TYPE (decl))"}, {"sha": "82124c6a9d1ca23182c5e5354a04b437ba46f39d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "patch": "@@ -1,3 +1,8 @@\n+2005-11-03  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR c++/24582\n+\t* g++.dg/init/switch1.C: New test.\n+\n 2005-11-03  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* gcc.dg/delay-slot-1.c: New test."}, {"sha": "b0b06b748f862dd5adadeec7113911062ef455df", "filename": "gcc/testsuite/g++.dg/init/switch1.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fswitch1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fswitch1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fswitch1.C?ref=b88b7ced9b63f5f77b03dcd7fe114a152ac1dbd5", "patch": "@@ -0,0 +1,8 @@\n+int f(int c)\n+{\n+  switch (c)\n+  {\n+    case d: /* { dg-error \"'d' was not declared\" } */\n+     int optBzip2 = true;\n+  }\n+}"}]}