{"sha": "88e24a5ab99c76c81f32628af49e0a39147c95e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODhlMjRhNWFiOTljNzZjODFmMzI2MjhhZjQ5ZTBhMzkxNDdjOTVlOA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2009-09-10T18:28:11Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2009-09-10T18:28:11Z"}, "message": "tree-cfg.c (split_edge_bb_loc): Don't disallow placement at dest_prev if the edge is complex.\n\n* tree-cfg.c (split_edge_bb_loc): Don't disallow placement at\n        dest_prev if the edge is complex.\n\nFrom-SVN: r151606", "tree": {"sha": "78d508c427e8f7f65d2142d82567fc6d4f13d7f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78d508c427e8f7f65d2142d82567fc6d4f13d7f9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/88e24a5ab99c76c81f32628af49e0a39147c95e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e24a5ab99c76c81f32628af49e0a39147c95e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88e24a5ab99c76c81f32628af49e0a39147c95e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88e24a5ab99c76c81f32628af49e0a39147c95e8/comments", "author": null, "committer": null, "parents": [{"sha": "40a3286202dc309e499c21a1b26176a6460aabf4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40a3286202dc309e499c21a1b26176a6460aabf4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40a3286202dc309e499c21a1b26176a6460aabf4"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "edc610f927611edd5fdf2f8271d217b12de08cef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e24a5ab99c76c81f32628af49e0a39147c95e8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e24a5ab99c76c81f32628af49e0a39147c95e8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=88e24a5ab99c76c81f32628af49e0a39147c95e8", "patch": "@@ -1,5 +1,8 @@\n 2009-09-10  Richard Henderson  <rth@redhat.com>\n \n+\t* tree-cfg.c (split_edge_bb_loc): Don't disallow placement at\n+\tdest_prev if the edge is complex.\n+\n \t* tree-cfg.c (is_ctrl_stmt): Use a switch.\n \n \t* tree-cfg.c (gimple_can_merge_blocks_p): Move label and"}, {"sha": "0718cfed783df885dd06ad7ba2db9c2aee70f8b8", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88e24a5ab99c76c81f32628af49e0a39147c95e8/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88e24a5ab99c76c81f32628af49e0a39147c95e8/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=88e24a5ab99c76c81f32628af49e0a39147c95e8", "patch": "@@ -2981,11 +2981,15 @@ static basic_block\n split_edge_bb_loc (edge edge_in)\n {\n   basic_block dest = edge_in->dest;\n+  basic_block dest_prev = dest->prev_bb;\n \n-  if (dest->prev_bb && find_edge (dest->prev_bb, dest))\n-    return edge_in->src;\n-  else\n-    return dest->prev_bb;\n+  if (dest_prev)\n+    {\n+      edge e = find_edge (dest_prev, dest);\n+      if (e && !(e->flags & EDGE_COMPLEX))\n+\treturn edge_in->src;\n+    }\n+  return dest_prev;\n }\n \n /* Split a (typically critical) edge EDGE_IN.  Return the new block."}]}