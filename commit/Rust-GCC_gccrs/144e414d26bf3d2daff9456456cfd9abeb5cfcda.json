{"sha": "144e414d26bf3d2daff9456456cfd9abeb5cfcda", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ0ZTQxNGQyNmJmM2QyZGFmZjk0NTY0NTZjZmQ5YWJlYjVjZmNkYQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-01-16T18:39:58Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-01-16T18:39:58Z"}, "message": "re PR c++/13178 (Bogus C++ error message referring to operator 1)\n\n\tPR c++/13178\n\t* call.c (name_as_c_string): Print conversion operator names\n\tcorrectly.\n\n\tPR c++/13178\n\t* g++.dg/conversion/op1.C: New test.\n\nFrom-SVN: r75986", "tree": {"sha": "6818ad65c074376c79d89ace6b1b77c0b768d406", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6818ad65c074376c79d89ace6b1b77c0b768d406"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/144e414d26bf3d2daff9456456cfd9abeb5cfcda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/144e414d26bf3d2daff9456456cfd9abeb5cfcda", "html_url": "https://github.com/Rust-GCC/gccrs/commit/144e414d26bf3d2daff9456456cfd9abeb5cfcda", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/144e414d26bf3d2daff9456456cfd9abeb5cfcda/comments", "author": null, "committer": null, "parents": [{"sha": "9e0baa604103abcb676222364f1fa51e1f006203", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e0baa604103abcb676222364f1fa51e1f006203", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e0baa604103abcb676222364f1fa51e1f006203"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "06733cc329dff00ae4ba6105653bf7529e1e28fa", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=144e414d26bf3d2daff9456456cfd9abeb5cfcda", "patch": "@@ -1,5 +1,9 @@\n 2004-01-16  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/13178\n+\t* call.c (name_as_c_string): Print conversion operator names\n+\tcorrectly.\n+\n \tPR c++/13478\n \t* call.c (initialize_reference): Pass -1 for inner parameter to\n \tconvert_like_real."}, {"sha": "7864d08820677d8f2d4055e4c1c0aa3687d4c969", "filename": "gcc/cp/call.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=144e414d26bf3d2daff9456456cfd9abeb5cfcda", "patch": "@@ -4986,6 +4986,15 @@ name_as_c_string (tree name, tree type, bool *free_p)\n \t  *free_p = true;\n \t}\n     }\n+  else if (IDENTIFIER_TYPENAME_P (name))\n+    {\n+      pretty_name = concat (\"operator \",\n+\t\t\t    type_as_string (TREE_TYPE (name),\n+\t\t\t\t\t    TFF_PLAIN_IDENTIFIER),\n+\t\t\t    NULL);\n+      /* Remember that we need to free the memory allocated.  */\n+      *free_p = true;\n+    }\n   else\n     pretty_name = (char *) IDENTIFIER_POINTER (name);\n "}, {"sha": "573156e27017786b8bc93864911c88165462462b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=144e414d26bf3d2daff9456456cfd9abeb5cfcda", "patch": "@@ -1,3 +1,8 @@\n+2004-01-16  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/13178\n+\t* g++.dg/conversion/op1.C: New test.\n+\n 2004-01-16  J\"orn Rennecke <joern.rennecke@superh.com>\n \n \tPR 10392"}, {"sha": "3aa21c7780efdfd6395f9239c80a7abb4aa8687d", "filename": "gcc/testsuite/g++.dg/conversion/op1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fop1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/144e414d26bf3d2daff9456456cfd9abeb5cfcda/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fop1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fconversion%2Fop1.C?ref=144e414d26bf3d2daff9456456cfd9abeb5cfcda", "patch": "@@ -0,0 +1,10 @@\n+class C\n+{\n+  template<typename U> \n+  operator U();\n+};\n+\n+int fn (C c) \n+{ \n+  return C::operator float(c); // { dg-error \"operator U\" }\n+}"}]}