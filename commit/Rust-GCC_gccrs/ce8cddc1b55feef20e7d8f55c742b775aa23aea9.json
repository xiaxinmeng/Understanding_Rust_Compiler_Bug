{"sha": "ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2U4Y2RkYzFiNTVmZWVmMjBlN2Q4ZjU1Yzc0MmI3NzVhYTIzYWVhOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2015-05-31T16:32:46Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2015-05-31T16:32:46Z"}, "message": "* s-oscons-tmplt.c: Add explicit tests for Android alongside Linux.\n\nFrom-SVN: r223900", "tree": {"sha": "ba703b04fd92130ede772e5fba1b5292f5543e2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba703b04fd92130ede772e5fba1b5292f5543e2a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce8cddc1b55feef20e7d8f55c742b775aa23aea9/comments", "author": null, "committer": null, "parents": [{"sha": "fee22a8053fb34a220f6bcc6bec6b016fe248696", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fee22a8053fb34a220f6bcc6bec6b016fe248696", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fee22a8053fb34a220f6bcc6bec6b016fe248696"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "ca8f0f3f0737f50a5dc1de4f16ad9239ba32f92a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce8cddc1b55feef20e7d8f55c742b775aa23aea9/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce8cddc1b55feef20e7d8f55c742b775aa23aea9/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "patch": "@@ -1,3 +1,7 @@\n+2015-05-31  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* s-oscons-tmplt.c: Add explicit tests for Android alongside Linux.\n+\n 2015-05-30  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* adaint.c: Test for __linux__ instead of linux and __sun__ instead"}, {"sha": "e289692a125ac9d05c74930c43dda7f89ce74eb5", "filename": "gcc/ada/s-oscons-tmplt.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ce8cddc1b55feef20e7d8f55c742b775aa23aea9/gcc%2Fada%2Fs-oscons-tmplt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ce8cddc1b55feef20e7d8f55c742b775aa23aea9/gcc%2Fada%2Fs-oscons-tmplt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-oscons-tmplt.c?ref=ce8cddc1b55feef20e7d8f55c742b775aa23aea9", "patch": "@@ -86,7 +86,7 @@ pragma Style_Checks (\"M32766\");\n  ** a number of non-POSIX but useful/required features.\n  **/\n \n-#if defined (__linux__)\n+#if defined (__linux__) || defined (__ANDROID__)\n \n /* Define _XOPEN_SOURCE to get IOV_MAX */\n # if !defined (_XOPEN_SOURCE)\n@@ -157,7 +157,7 @@ pragma Style_Checks (\"M32766\");\n # include <_types.h>\n #endif\n \n-#ifdef __linux__\n+#if defined (__linux__) || defined (__ANDROID__)\n # include <pthread.h>\n # include <signal.h>\n #endif\n@@ -1191,7 +1191,7 @@ CND(MSG_WAITALL, \"Wait for full reception\")\n #endif\n CND(MSG_NOSIGNAL, \"No SIGPIPE on send\")\n \n-#ifdef __linux__\n+#if defined (__linux__) || defined (__ANDROID__)\n # define MSG_Forced_Flags \"MSG_NOSIGNAL\"\n #else\n # define MSG_Forced_Flags \"0\"\n@@ -1356,7 +1356,7 @@ CND(SIZEOF_struct_hostent, \"struct hostent\")\n #define SIZEOF_struct_servent (sizeof (struct servent))\n CND(SIZEOF_struct_servent, \"struct servent\")\n \n-#if defined (__linux__)\n+#if defined (__linux__) || defined (__ANDROID__)\n #define SIZEOF_sigset (sizeof (sigset_t))\n CND(SIZEOF_sigset, \"sigset\")\n #endif\n@@ -1456,7 +1456,8 @@ CND(CLOCK_THREAD_CPUTIME_ID, \"Thread CPU clock\")\n CNS(CLOCK_RT_Ada, \"\")\n #endif\n \n-#if defined (__APPLE__) || defined (__linux__) || defined (DUMMY)\n+#if defined (__APPLE__) || defined (__linux__) || defined (__ANDROID__) \\\n+  || defined (DUMMY)\n /*\n \n    --  Sizes of pthread data types\n@@ -1499,7 +1500,7 @@ CND(PTHREAD_RWLOCKATTR_SIZE, \"pthread_rwlockattr_t\")\n CND(PTHREAD_RWLOCK_SIZE,     \"pthread_rwlock_t\")\n CND(PTHREAD_ONCE_SIZE,       \"pthread_once_t\")\n \n-#endif /* __APPLE__ || __linux__ */\n+#endif /* __APPLE__ || __linux__ || __ANDROID__ */\n \n /*\n "}]}