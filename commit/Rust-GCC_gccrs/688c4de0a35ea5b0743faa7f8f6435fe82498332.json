{"sha": "688c4de0a35ea5b0743faa7f8f6435fe82498332", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg4YzRkZTBhMzVlYTViMDc0M2ZhYTdmOGY2NDM1ZmU4MjQ5ODMzMg==", "commit": {"author": {"name": "Ilya Verbin", "email": "ilya.verbin@intel.com", "date": "2015-11-24T21:04:47Z"}, "committer": {"name": "Ilya Verbin", "email": "iverbin@gcc.gnu.org", "date": "2015-11-24T21:04:47Z"}, "message": "c-parser.c (c_parser_oacc_declare): Replace \"ifdef ENABLE_OFFLOADING\" with \"if (ENABLE_OFFLOADING)\".\n\ngcc/c/\n\t* c-parser.c (c_parser_oacc_declare): Replace \"ifdef ENABLE_OFFLOADING\"\n\twith \"if (ENABLE_OFFLOADING)\".\ngcc/cp/\n\t* parser.c (cp_parser_oacc_declare): replace \"ifdef enable_offloading\"\n\twith \"if (enable_offloading)\".\n\nFrom-SVN: r230842", "tree": {"sha": "d2f070511fae8c8e6b0d48f0ce033b763a40c1e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d2f070511fae8c8e6b0d48f0ce033b763a40c1e7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/688c4de0a35ea5b0743faa7f8f6435fe82498332", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688c4de0a35ea5b0743faa7f8f6435fe82498332", "html_url": "https://github.com/Rust-GCC/gccrs/commit/688c4de0a35ea5b0743faa7f8f6435fe82498332", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688c4de0a35ea5b0743faa7f8f6435fe82498332/comments", "author": null, "committer": null, "parents": [{"sha": "ba6a6a1d44c17f25671162c00dafd9959818667f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba6a6a1d44c17f25671162c00dafd9959818667f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba6a6a1d44c17f25671162c00dafd9959818667f"}], "stats": {"total": 36, "additions": 24, "deletions": 12}, "files": [{"sha": "805cc4f16a51967c4fc8e545a833709f72fedbb7", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=688c4de0a35ea5b0743faa7f8f6435fe82498332", "patch": "@@ -1,3 +1,8 @@\n+2015-11-24  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* c-parser.c (c_parser_oacc_declare): Replace \"ifdef ENABLE_OFFLOADING\"\n+\twith \"if (ENABLE_OFFLOADING)\".\n+\n 2015-11-23  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR objc/68438"}, {"sha": "44a925ba32c6f5e467656a1a5dd001573d7d34c8", "filename": "gcc/c/c-parser.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-parser.c?ref=688c4de0a35ea5b0743faa7f8f6435fe82498332", "patch": "@@ -13484,14 +13484,15 @@ c_parser_oacc_declare (c_parser *parser)\n \t      if (node != NULL)\n \t\t{\n \t\t  node->offloadable = 1;\n-#ifdef ENABLE_OFFLOADING\n-\t\t  g->have_offload = true;\n-\t\t  if (is_a <varpool_node *> (node))\n+\t\t  if (ENABLE_OFFLOADING)\n \t\t    {\n-\t\t      vec_safe_push (offload_vars, decl);\n-\t\t      node->force_output = 1;\n+\t\t      g->have_offload = true;\n+\t\t      if (is_a <varpool_node *> (node))\n+\t\t\t{\n+\t\t\t  vec_safe_push (offload_vars, decl);\n+\t\t\t  node->force_output = 1;\n+\t\t\t}\n \t\t    }\n-#endif\n \t\t}\n \t    }\n \t}"}, {"sha": "a4aa01e3b2ac43830a6ea226f022751d03672afa", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=688c4de0a35ea5b0743faa7f8f6435fe82498332", "patch": "@@ -1,3 +1,8 @@\n+2015-11-24  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* parser.c (cp_parser_oacc_declare): Replace \"ifdef ENABLE_OFFLOADING\"\n+\twith \"if (ENABLE_OFFLOADING)\".\n+\n 2015-11-23  Igor Zamyatin  <igor.zamyatin@intel.com>\n \n \tPR c++/68001"}, {"sha": "a9c0a452d6b2b468c10de2b07822c24affbe1cca", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688c4de0a35ea5b0743faa7f8f6435fe82498332/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=688c4de0a35ea5b0743faa7f8f6435fe82498332", "patch": "@@ -34633,14 +34633,15 @@ cp_parser_oacc_declare (cp_parser *parser, cp_token *pragma_tok)\n \t      if (node != NULL)\n \t\t{\n \t\t  node->offloadable = 1;\n-#ifdef ENABLE_OFFLOADING\n-\t\t  g->have_offload = true;\n-\t\t  if (is_a <varpool_node *> (node))\n+\t\t  if (ENABLE_OFFLOADING)\n \t\t    {\n-\t\t      vec_safe_push (offload_vars, decl);\n-\t\t      node->force_output = 1;\n+\t\t      g->have_offload = true;\n+\t\t      if (is_a <varpool_node *> (node))\n+\t\t\t{\n+\t\t\t  vec_safe_push (offload_vars, decl);\n+\t\t\t  node->force_output = 1;\n+\t\t\t}\n \t\t    }\n-#endif\n \t\t}\n \t    }\n \t}"}]}