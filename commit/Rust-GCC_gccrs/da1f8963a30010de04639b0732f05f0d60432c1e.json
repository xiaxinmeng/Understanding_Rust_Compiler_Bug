{"sha": "da1f8963a30010de04639b0732f05f0d60432c1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGExZjg5NjNhMzAwMTBkZTA0NjM5YjA3MzJmMDVmMGQ2MDQzMmMxZQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-11-02T16:38:18Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-11-02T16:38:18Z"}, "message": "re PR tree-optimization/16808 (verify_ssa failed: Missing definition for SSA_NAME)\n\n2004-11-02  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/16808\n        * gcc.c-torture/compile/pr16808.c: New test.\n\n2004-11-02  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR tree-opt/16808\n        * tree-ssa.c (replace_immediate_uses): If we call fold_stmt, make sure\n        that the vops get marked for renaming.\n\nFrom-SVN: r89990", "tree": {"sha": "3afcfac413057cd1a8ef952730453df5afa33f91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3afcfac413057cd1a8ef952730453df5afa33f91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/da1f8963a30010de04639b0732f05f0d60432c1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da1f8963a30010de04639b0732f05f0d60432c1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/da1f8963a30010de04639b0732f05f0d60432c1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/da1f8963a30010de04639b0732f05f0d60432c1e/comments", "author": null, "committer": null, "parents": [{"sha": "8785609eafcadd1d517b1d9976ff28c5ce73dc7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8785609eafcadd1d517b1d9976ff28c5ce73dc7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8785609eafcadd1d517b1d9976ff28c5ce73dc7d"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "00dc1027ea9dc03d9c98ff02c8a3e03a21a81c47", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=da1f8963a30010de04639b0732f05f0d60432c1e", "patch": "@@ -1,3 +1,9 @@\n+2004-11-02  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/16808\n+\t* tree-ssa.c (replace_immediate_uses): If we call fold_stmt, make sure\n+\tthat the vops get marked for renaming.\n+\n 2004-11-02  Andreas Krebbel  <krebbel1@de.ibm.com>\n \n \t* config/s390/s390.md (\"movcc\"): Set type attribute."}, {"sha": "4fea20658781185d7a705dca78d77c1b4cfa20f6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=da1f8963a30010de04639b0732f05f0d60432c1e", "patch": "@@ -1,3 +1,8 @@\n+2004-11-02  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR tree-opt/16808\n+\t* gcc.c-torture/compile/pr16808.c: New test.\n+\n 2004-11-02  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR rtl-optimization/17104"}, {"sha": "28527de5db13a0e39944cf36a3f243b9cc773ef8", "filename": "gcc/testsuite/gcc.c-torture/compile/pr16808.c", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr16808.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr16808.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr16808.c?ref=da1f8963a30010de04639b0732f05f0d60432c1e", "patch": "@@ -0,0 +1,38 @@\n+/* We used to ICE as we did not mark a Vop for rename as\n+   we changed a function call to a normal modify statement\n+   while folding exp(0.0); */\n+\n+double exp(double);\n+void f0(void);\n+void f(double);\n+typedef struct Parser {\n+    int x;\n+    char *s;\n+} Parser;\n+static double pop(Parser *p) {\n+    if (p->s[0] <= 0) {\n+\tf0();\n+\treturn 0;\n+    }\n+    --p->x;\n+    return 0;\n+}\n+static void evalFactor(Parser *p) {\n+    while (p->x)\n+\tf(exp(pop(p)));\n+}\n+static void evalTerm(Parser *p) {\n+    while (p->s[0])\n+\tevalFactor(p);\n+}\n+static void evalExpression(Parser *p) {\n+    evalTerm(p);\n+    while (p->s[0])\n+\tevalTerm(p);\n+}\n+void evalPrimary(Parser *p) {\n+    if (p->s)\n+\treturn;\n+    evalExpression(p);\n+}\n+"}, {"sha": "8002565d3437d835e368306d106fe1758afeb5f0", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/da1f8963a30010de04639b0732f05f0d60432c1e/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=da1f8963a30010de04639b0732f05f0d60432c1e", "patch": "@@ -1124,6 +1124,7 @@ replace_immediate_uses (tree var, tree repl)\n \t{\n \t  tree tmp = stmt;\n \t  fold_stmt (&tmp);\n+          mark_new_vars = true;\n \t  if (tmp != stmt)\n \t    {\n \t      block_stmt_iterator si = bsi_for_stmt (stmt);"}]}