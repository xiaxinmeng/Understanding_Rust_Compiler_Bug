{"sha": "5ae9a80ae180a326c484c58c6216f0112fa67723", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWFlOWE4MGFlMTgwYTMyNmM0ODRjNThjNjIxNmYwMTEyZmE2NzcyMw==", "commit": {"author": {"name": "Ulrich Drepper", "email": "drepper@cygnus.com", "date": "1997-09-17T00:54:03Z"}, "committer": {"name": "Ulrich Drepper", "email": "drepper@gcc.gnu.org", "date": "1997-09-17T00:54:03Z"}, "message": "Handle __set_errno correctly.\n\nFrom-SVN: r15502", "tree": {"sha": "427034573144dc03909eddca21eeccf83dae292e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/427034573144dc03909eddca21eeccf83dae292e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5ae9a80ae180a326c484c58c6216f0112fa67723", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ae9a80ae180a326c484c58c6216f0112fa67723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ae9a80ae180a326c484c58c6216f0112fa67723", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ae9a80ae180a326c484c58c6216f0112fa67723/comments", "author": null, "committer": null, "parents": [{"sha": "11dbec668601f70b347acaa7824266baec215995", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11dbec668601f70b347acaa7824266baec215995", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11dbec668601f70b347acaa7824266baec215995"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "d85c970ad830ea8281de9d0e89707cc4ea6ea799", "filename": "libio/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5ae9a80ae180a326c484c58c6216f0112fa67723/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5ae9a80ae180a326c484c58c6216f0112fa67723/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=5ae9a80ae180a326c484c58c6216f0112fa67723", "patch": "@@ -1,3 +1,8 @@\n+1997-09-17 02:50  Ulrich Drepper  <drepper@cygnus.com>\n+\n+\t* libioP.h: Define __set_errno if not already defined.\n+\t* fileops.c: Don't try to define __set_errno, it's already defined.\n+\n 1997-09-15 02:37  Ulrich Drepper  <drepper@cygnus.com>\n \n \t* config/linux.mt: Rewrite for use with glibc 2."}, {"sha": "2337071d396ba5886e4ba2f47eb74b9fa1f3afc0", "filename": "libio/libioP.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5ae9a80ae180a326c484c58c6216f0112fa67723/libio%2FlibioP.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5ae9a80ae180a326c484c58c6216f0112fa67723/libio%2FlibioP.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FlibioP.h?ref=5ae9a80ae180a326c484c58c6216f0112fa67723", "patch": "@@ -24,8 +24,9 @@\n    General Public License.  */\n \n #include <errno.h>\n-/* This is a hack until Uli gets me the real fix.  */\n-#define __set_errno(Val) (errno = (Val))\n+#ifndef __set_errno\n+# define __set_errno(Val) errno = (Val)\n+#endif\n #if defined __GLIBC__ && __GLIBC__ >= 2\n # include <bits/libc-lock.h>\n #else"}]}