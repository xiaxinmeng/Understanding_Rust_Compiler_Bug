{"sha": "b697e623a344451a0067735dde0f7ffcdef83b5a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY5N2U2MjNhMzQ0NDUxYTAwNjc3MzVkZGUwZjdmZmNkZWY4M2I1YQ==", "commit": {"author": {"name": "Gary Benson", "email": "gbenson@redhat.com", "date": "2007-02-15T16:40:44Z"}, "committer": {"name": "Gary Benson", "email": "gary@gcc.gnu.org", "date": "2007-02-15T16:40:44Z"}, "message": "AttributeList.java: Updated.\n\n2007-02-15  Gary Benson  <gbenson@redhat.com>\n\n\t* javax/management/AttributeList.java: Updated.\n\t* javax/management/MBeanServerDelegate.java: Likewise.\n\t* javax/management/MBeanServerFactory.java: Likewise.\n\t* javax/management/StandardMBean.java: Likewise.\n\nFrom-SVN: r122004", "tree": {"sha": "bb48908d2ce5cf61ad498bb8a9e605bf2fb2ca47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb48908d2ce5cf61ad498bb8a9e605bf2fb2ca47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b697e623a344451a0067735dde0f7ffcdef83b5a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b697e623a344451a0067735dde0f7ffcdef83b5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b697e623a344451a0067735dde0f7ffcdef83b5a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b697e623a344451a0067735dde0f7ffcdef83b5a/comments", "author": null, "committer": null, "parents": [{"sha": "c47277a61921d796eb8e535c4f410962ae91c2f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c47277a61921d796eb8e535c4f410962ae91c2f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c47277a61921d796eb8e535c4f410962ae91c2f1"}], "stats": {"total": 48, "additions": 30, "deletions": 18}, "files": [{"sha": "e4a71a829a52f2a65743164172cf6d3535e6dc8b", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=b697e623a344451a0067735dde0f7ffcdef83b5a", "patch": "@@ -1,3 +1,10 @@\n+2007-02-15  Gary Benson  <gbenson@redhat.com>\n+\n+\t* javax/management/AttributeList.java: Updated.\n+\t* javax/management/MBeanServerDelegate.java: Likewise.\n+\t* javax/management/MBeanServerFactory.java: Likewise.\n+\t* javax/management/StandardMBean.java: Likewise.\n+\n 2007-02-15  Gary Benson  <gbenson@redhat.com>\n \n \t* gnu/javax/management/Server.java"}, {"sha": "09db9b621baaa4a7d0a61e0b1ff86ab06e86c9d9", "filename": "libjava/classpath/javax/management/AttributeList.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FAttributeList.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FAttributeList.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FAttributeList.java?ref=b697e623a344451a0067735dde0f7ffcdef83b5a", "patch": "@@ -49,7 +49,7 @@\n  * @since 1.5\n  */\n public class AttributeList\n-  extends ArrayList\n+  extends ArrayList<Object>\n {\n \n   /**"}, {"sha": "347e51fc97c62a1f86acf0821feb78191106a504", "filename": "libjava/classpath/javax/management/MBeanServerDelegate.java", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerDelegate.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerDelegate.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerDelegate.java?ref=b697e623a344451a0067735dde0f7ffcdef83b5a", "patch": "@@ -69,7 +69,7 @@\n   /**\n    * The listeners registered with the delegate.\n    */\n-  private List listeners;\n+  private final List listeners = new ArrayList();\n \n   /**\n    * The sequence identifier used by the delegate.\n@@ -120,8 +120,6 @@ public void addNotificationListener(NotificationListener listener,\n   {\n     if (listener == null)\n       throw new IllegalArgumentException(\"A null listener was supplied.\");\n-    if (listeners == null)\n-      listeners = new ArrayList();\n     listeners.add(new ListenerData(listener, filter, passback));\n   }\n "}, {"sha": "54195635bd26d3997458c5c6b8461b06586e2e97", "filename": "libjava/classpath/javax/management/MBeanServerFactory.java", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerFactory.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerFactory.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FMBeanServerFactory.java?ref=b697e623a344451a0067735dde0f7ffcdef83b5a", "patch": "@@ -1,5 +1,5 @@\n /* MBeanServerFactory.java -- Manages server instances.\n-   Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n \n@@ -89,7 +89,7 @@\n   /**\n    * The map of registered servers (identifiers to servers).\n    */\n-  private static Map servers = new HashMap();\n+  private static final Map<Object,MBeanServer> servers = new HashMap();\n \n   /**\n    * Private constructor to prevent instance creation.\n@@ -206,15 +206,15 @@ public static MBeanServer createMBeanServer(String domain)\n    *                           caller's permissions don't imply {@link\n    *                           MBeanServerPermission(String)}(\"findMBeanServer\")\n    */\n-  public static ArrayList findMBeanServer(String id)\n+  public static ArrayList<MBeanServer> findMBeanServer(String id)\n   {\n     SecurityManager sm = System.getSecurityManager();\n     if (sm != null)\n       sm.checkPermission(new MBeanServerPermission(\"findMBeanServer\"));\n     if (id == null)\n       return new ArrayList(servers.values());\n-    ArrayList list = new ArrayList();\n-    MBeanServer server = (MBeanServer) servers.get(id);\n+    ArrayList<MBeanServer> list = new ArrayList<MBeanServer>();\n+    MBeanServer server = servers.get(id);\n     if (server != null)\n       list.add(servers.get(id));\n     return list;\n@@ -334,7 +334,8 @@ private static MBeanServer createServer(String domain)\n \t    builder.getClass() != MBeanServerBuilder.class)\n \t  builder = new MBeanServerBuilder();\n       }\n-    else if (!(builderClass.equals(builder.getClass().getName())))\n+    else if (!(builder != null &&\n+\t       builderClass.equals(builder.getClass().getName())))\n       {\n \tClassLoader cl = Thread.currentThread().getContextClassLoader();\n \tif (cl == null)\n@@ -394,10 +395,10 @@ public static void releaseMBeanServer(MBeanServer server)\n     SecurityManager sm = System.getSecurityManager();\n     if (sm != null)\n       sm.checkPermission(new MBeanServerPermission(\"releaseMBeanServer\"));\n-    Iterator i = servers.values().iterator();\n+    Iterator<MBeanServer> i = servers.values().iterator();\n     while (i.hasNext())\n       {\n-\tMBeanServer s = (MBeanServer) i.next();\n+\tMBeanServer s = i.next();\n \tif (server == s)\n \t  {\n \t    i.remove();"}, {"sha": "0434a40b8cc3169a0ffe73c5230da62e3348ff62", "filename": "libjava/classpath/javax/management/StandardMBean.java", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FStandardMBean.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FStandardMBean.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjavax%2Fmanagement%2FStandardMBean.java?ref=b697e623a344451a0067735dde0f7ffcdef83b5a", "patch": "@@ -107,8 +107,9 @@ protected StandardMBean(Class iface)\n \tcatch (ClassNotFoundException e)\n \t  {\n \t    throw (NotCompliantMBeanException) \n-\t      (new NotCompliantMBeanException(\"An interface for the class \" +\n-\t\t\t\t\t      className + \" was not found.\").initCause(e));\n+\t      (new NotCompliantMBeanException(\"An interface, \" + className +\n+\t\t\t\t\t      \"MBean, for the class \" + className +\n+\t\t\t\t\t      \" was not found.\").initCause(e));\n \t  }\n       }\n     if (!(iface.isInstance(this)))\n@@ -142,13 +143,15 @@ public StandardMBean(Object impl, Class iface)\n \tString className = impl.getClass().getName();\n \ttry\n \t  {\n-\t    iface = Class.forName(className + \"MBean\");\n+\t    iface = Class.forName(className + \"MBean\", true,\n+\t\t\t\t  impl.getClass().getClassLoader());\n \t  }\n \tcatch (ClassNotFoundException e)\n \t  {\n \t    throw (NotCompliantMBeanException) \n-\t      (new NotCompliantMBeanException(\"An interface for the class \" +\n-\t\t\t\t\t      className + \" was not found.\").initCause(e));\n+\t      (new NotCompliantMBeanException(\"An interface, \" + className +\n+\t\t\t\t\t      \"MBean, for the class \" + className +\n+\t\t\t\t\t      \" was not found.\").initCause(e));\n \t  }\n       }\n     if (!(iface.isInstance(impl)))\n@@ -665,7 +668,10 @@ else if (name.startsWith(\"set\") &&\n \t\t\t ainfo, cinfo, oinfo, null);\n     String cname = getClassName(info);\n     String desc = getDescription(info);\n-    info = new MBeanInfo(cname, desc, ainfo, cinfo, oinfo, null);\n+    MBeanNotificationInfo[] ninfo = null;\n+    if (impl instanceof NotificationBroadcaster)\n+      ninfo = ((NotificationBroadcaster) impl).getNotificationInfo();\n+    info = new MBeanInfo(cname, desc, ainfo, cinfo, oinfo, ninfo);\n     cacheMBeanInfo(info);\n     return info;\n   }"}, {"sha": "b2402e989b50576142e96908eee06287a4c51ae6", "filename": "libjava/classpath/lib/javax/management/AttributeList.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FAttributeList.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FAttributeList.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FAttributeList.class?ref=b697e623a344451a0067735dde0f7ffcdef83b5a"}, {"sha": "90130982041fc59a0ff18fa2e93ca0f8b4ba1a5b", "filename": "libjava/classpath/lib/javax/management/MBeanServerDelegate.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerDelegate.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerDelegate.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerDelegate.class?ref=b697e623a344451a0067735dde0f7ffcdef83b5a"}, {"sha": "4b73417d78c721a769d28b8c518625d9635257ff", "filename": "libjava/classpath/lib/javax/management/MBeanServerFactory.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerFactory.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerFactory.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FMBeanServerFactory.class?ref=b697e623a344451a0067735dde0f7ffcdef83b5a"}, {"sha": "29ed9dbc1f39211481727639ebef749ab42ad990", "filename": "libjava/classpath/lib/javax/management/StandardMBean.class", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FStandardMBean.class", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b697e623a344451a0067735dde0f7ffcdef83b5a/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FStandardMBean.class", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Flib%2Fjavax%2Fmanagement%2FStandardMBean.class?ref=b697e623a344451a0067735dde0f7ffcdef83b5a"}]}