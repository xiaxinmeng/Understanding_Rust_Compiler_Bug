{"sha": "cebb191903d3562d848b70dd51060b05e92435b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ViYjE5MTkwM2QzNTYyZDg0OGI3MGRkNTEwNjBiMDVlOTI0MzViOQ==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2017-10-08T12:54:40Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2017-10-08T12:54:40Z"}, "message": "dump_prase_tree (show_symbol): Output list of variables in NAMELIST.\n\n2017-10-08  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\t* dump_prase_tree (show_symbol): Output list of variables in\n\tNAMELIST.\n\t(show_code_node): Add new line for ELSE and END DO for DO\n\tCONCURRENT.\n\t* invoke.texi: Document that the output of\n\t-fdump-fortran-original, -fdump-fortran-optimized and\n\t-fdump-parse-tree is unsable and may lead to ICEs.\n\nFrom-SVN: r253525", "tree": {"sha": "0f7159ef4f29ebbfbadb7ef5c762d9e1f2f9e620", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f7159ef4f29ebbfbadb7ef5c762d9e1f2f9e620"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cebb191903d3562d848b70dd51060b05e92435b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cebb191903d3562d848b70dd51060b05e92435b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cebb191903d3562d848b70dd51060b05e92435b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cebb191903d3562d848b70dd51060b05e92435b9/comments", "author": null, "committer": null, "parents": [{"sha": "08a9e4e734ed74775a014fbe02699c290fbbd5cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08a9e4e734ed74775a014fbe02699c290fbbd5cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08a9e4e734ed74775a014fbe02699c290fbbd5cc"}], "stats": {"total": 46, "additions": 38, "deletions": 8}, "files": [{"sha": "18edd111725de43da53ce2dd276dd7b0ff748ab5", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=cebb191903d3562d848b70dd51060b05e92435b9", "patch": "@@ -1,3 +1,13 @@\n+2017-10-08  Thomas Koenig  <tkoenig@gcc.gnu.org>\n+\n+\t* dump_prase_tree (show_symbol): Output list of variables in\n+\tNAMELIST.\n+\t(show_code_node): Add new line for ELSE and END DO for DO\n+\tCONCURRENT.\n+\t* invoke.texi: Document that the output of\n+\t-fdump-fortran-original, -fdump-fortran-optimized and\n+\t-fdump-parse-tree is unsable and may lead to ICEs.\n+\n 2017-10-07  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/82375"}, {"sha": "5193c29186bf64b1674d3da57344fa29ed7675b4", "filename": "gcc/fortran/dump-parse-tree.c", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2Fdump-parse-tree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2Fdump-parse-tree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdump-parse-tree.c?ref=cebb191903d3562d848b70dd51060b05e92435b9", "patch": "@@ -967,8 +967,17 @@ show_symbol (gfc_symbol *sym)\n       show_indent ();\n       fputs (\"PDT parameters\", dumpfile);\n       show_actual_arglist (sym->param_list);\n+    }\n \n+  if (sym->attr.flavor == FL_NAMELIST)\n+    {\n+      gfc_namelist *nl;\n+      show_indent ();\n+      fputs (\"variables : \", dumpfile);\n+      for (nl = sym->namelist; nl; nl = nl->next)\n+\tfprintf (dumpfile, \" %s\",nl->sym->name);\n     }\n+\n   --show_level;\n }\n \n@@ -1979,8 +1988,8 @@ show_code_node (int level, gfc_code *c)\n       d = d->block;\n       for (; d; d = d->block)\n \t{\n+\t  fputs(\"\\n\", dumpfile);\n \t  code_indent (level, 0);\n-\n \t  if (d->expr1 == NULL)\n \t    fputs (\"ELSE\", dumpfile);\n \t  else\n@@ -2170,9 +2179,12 @@ show_code_node (int level, gfc_code *c)\n             fputc (',', dumpfile);\n         }\n       show_expr (c->expr1);\n+      ++show_level;\n \n       show_code (level + 1, c->block->next);\n+      --show_level;\n       code_indent (level, c->label1);\n+      show_indent ();\n       fputs (\"END DO\", dumpfile);\n       break;\n "}, {"sha": "8892d501d58889c2a22dbf43bba981c827387555", "filename": "gcc/fortran/invoke.texi", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cebb191903d3562d848b70dd51060b05e92435b9/gcc%2Ffortran%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Finvoke.texi?ref=cebb191903d3562d848b70dd51060b05e92435b9", "patch": "@@ -1120,20 +1120,28 @@ either your program or the GNU Fortran compiler.\n @item -fdump-fortran-original\n @opindex @code{fdump-fortran-original}\n Output the internal parse tree after translating the source program\n-into internal representation.  Only really useful for debugging the\n-GNU Fortran compiler itself.\n+into internal representation.  This option is mostly useful for\n+debugging the GNU Fortran compiler itself. The output generated by\n+this option might change between releases. This option may also\n+generate internal compiler errors for features which have only\n+recently been added.\n \n @item -fdump-fortran-optimized\n @opindex @code{fdump-fortran-optimized}\n-Output the parse tree after front-end optimization.  Only really\n-useful for debugging the GNU Fortran compiler itself.\n+Output the parse tree after front-end optimization.  Mostly useful for\n+debugging the GNU Fortran compiler itself. The output generated by\n+this option might change between releases.  This option may also\n+generate internal compiler errors for features which have only\n+recently been added.\n \n @item -fdump-parse-tree\n @opindex @code{fdump-parse-tree}\n Output the internal parse tree after translating the source program\n-into internal representation.  Only really useful for debugging the\n-GNU Fortran compiler itself.  This option is deprecated; use\n-@code{-fdump-fortran-original} instead.\n+into internal representation.  Mostly useful for debugging the GNU\n+Fortran compiler itself. The output generated by this option might\n+change between releases. This option may also generate internal\n+compiler errors for features which have only recently been added. This\n+option is deprecated; use @code{-fdump-fortran-original} instead.\n \n @item -ffpe-trap=@var{list}\n @opindex @code{ffpe-trap=}@var{list}"}]}