{"sha": "f31e826ba314bc910beec6de5bf534f2462a00c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMxZTgyNmJhMzE0YmM5MTBiZWVjNmRlNWJmNTM0ZjI0NjJhMDBjNw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-05-23T17:42:19Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-05-23T17:42:19Z"}, "message": "getopt.h (getopt): Also check HAVE_DECL_* when prototyping.\n\ninclude:\n\t* getopt.h (getopt): Also check HAVE_DECL_* when prototyping.\n\n\t* libiberty.h (basename): Likewise.\n\ngcc:\n\t* aclocal.m4 (gcc_AC_CHECK_DECL, gcc_AC_CHECK_DECLS): New macros\n\trewritten from the internals of gcc_AC_NEED_DECLARATION{S}.\n\n\t* configure.in (gcc_AC_CHECK_DECLS): Call this instead of\n\tgcc_AC_NEED_DECLARATIONS.\n\n\t* dwarfout.c: Don't prototype time().\n\n\t* gcc.c: Check HAVE_DECL_* instead of NEED_DECLARATION_*.\n\n\t* system.h: Likewise.\n\n\t* toplev.c: Likewise.\n\nFrom-SVN: r34108", "tree": {"sha": "2d8c701cdb99568d7922c37d21a7fda0f8ea9913", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2d8c701cdb99568d7922c37d21a7fda0f8ea9913"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f31e826ba314bc910beec6de5bf534f2462a00c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f31e826ba314bc910beec6de5bf534f2462a00c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f31e826ba314bc910beec6de5bf534f2462a00c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f31e826ba314bc910beec6de5bf534f2462a00c7/comments", "author": null, "committer": null, "parents": [{"sha": "04de731462db7abf438903fa71b850ac046f1067", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04de731462db7abf438903fa71b850ac046f1067", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04de731462db7abf438903fa71b850ac046f1067"}], "stats": {"total": 558, "additions": 306, "deletions": 252}, "files": [{"sha": "a38bfebb89e96c9695765c6845dbd7e3bcaba1f6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -1,3 +1,19 @@\n+2000-05-23  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* aclocal.m4 (gcc_AC_CHECK_DECL, gcc_AC_CHECK_DECLS): New macros\n+\trewritten from the internals of gcc_AC_NEED_DECLARATION{S}.\n+\t\n+\t* configure.in (gcc_AC_CHECK_DECLS): Call this instead of\n+\tgcc_AC_NEED_DECLARATIONS.\n+\n+\t* dwarfout.c: Don't prototype time().\n+\n+\t* gcc.c: Check HAVE_DECL_* instead of NEED_DECLARATION_*.\n+\n+\t* system.h: Likewise.\n+\n+\t* toplev.c: Likewise.\n+\n 2000-05-23  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* c-decl.c (pushdecl): Invert sense of test for non-global types."}, {"sha": "7de3d38e4a57cf437f0d553f0dacc9c96faf5ecf", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 23, "deletions": 20, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -13,40 +13,43 @@ dnl See whether we need a declaration for a function.\n dnl The result is highly dependent on the INCLUDES passed in, so make sure\n dnl to use a different cache variable name in this macro if it is invoked\n dnl in a different context somewhere else.\n-dnl gcc_AC_NEED_DECLARATION(FUNCTION, INCLUDES,\n-dnl\t[ACTION-IF-NEEDED [, ACTION-IF-NOT-NEEDED]])\n-AC_DEFUN(gcc_AC_NEED_DECLARATION,\n-[AC_MSG_CHECKING([whether $1 must be declared])\n-AC_CACHE_VAL(gcc_cv_decl_needed_$1,\n-[AC_TRY_COMPILE([$2],\n+dnl gcc_AC_CHECK_DECL(SYMBOL,\n+dnl \t[ACTION-IF-FOUND [, ACTION-IF-NOT-FOUND [, INCLUDES]]])\n+AC_DEFUN(gcc_AC_CHECK_DECL,\n+[AC_MSG_CHECKING([whether $1 is declared])\n+AC_CACHE_VAL(gcc_cv_have_decl_$1,\n+[AC_TRY_COMPILE([$4],\n [#ifndef $1\n char *(*pfn) = (char *(*)) $1 ;\n-#endif], eval \"gcc_cv_decl_needed_$1=no\", eval \"gcc_cv_decl_needed_$1=yes\")])\n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$1`\\\" = yes\"; then\n-  AC_MSG_RESULT(yes) ; ifelse([$3], , :, [$3])\n+#endif], eval \"gcc_cv_have_decl_$1=yes\", eval \"gcc_cv_have_decl_$1=no\")])\n+if eval \"test \\\"`echo '$gcc_cv_have_decl_'$1`\\\" = yes\"; then\n+  AC_MSG_RESULT(yes) ; ifelse([$2], , :, [$2])\n else\n-  AC_MSG_RESULT(no) ; ifelse([$4], , :, [$4])\n+  AC_MSG_RESULT(no) ; ifelse([$3], , :, [$3])\n fi\n ])dnl\n \n dnl Check multiple functions to see whether each needs a declaration.\n-dnl Arrange to define NEED_DECLARATION_<FUNCTION> if appropriate.\n-dnl gcc_AC_NEED_DECLARATIONS(FUNCTION... , INCLUDES,\n-dnl\t[ACTION-IF-NEEDED [, ACTION-IF-NOT-NEEDED]])\n-AC_DEFUN(gcc_AC_NEED_DECLARATIONS,\n+dnl Arrange to define HAVE_DECL_<FUNCTION> to 0 or 1 as appropriate.\n+dnl gcc_AC_CHECK_DECLS(SYMBOLS,\n+dnl \t[ACTION-IF-NEEDED [, ACTION-IF-NOT-NEEDED [, INCLUDES]]])\n+AC_DEFUN(gcc_AC_CHECK_DECLS,\n [for ac_func in $1\n do\n-gcc_AC_NEED_DECLARATION($ac_func, [$2],\n-[changequote(, )dnl\n-  ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+changequote(, )dnl\n+  ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n changequote([, ])dnl\n-  AC_DEFINE_UNQUOTED($ac_tr_decl) $3], $4)\n+gcc_AC_CHECK_DECL($ac_func,\n+  [AC_DEFINE_UNQUOTED($ac_tr_decl, 1) $2],\n+  [AC_DEFINE_UNQUOTED($ac_tr_decl, 0) $3],\n+  $4\n+)\n done\n dnl Automatically generate config.h entries via autoheader.\n if test x = y ; then\n   patsubst(translit([$1], [a-z], [A-Z]), [\\w+],\n-    AC_DEFINE([NEED_DECLARATION_\\&], 1,\n-      [Define if you need to provide a declaration for this function.]))dnl\n+    AC_DEFINE([HAVE_DECL_\\&], 1,\n+      [Define to 1 if we found this declaration otherwise define to 0.]))dnl\n fi\n ])\n "}, {"sha": "6ef6a43ac37fea3ca93598c935b8e3541f4f4710", "filename": "gcc/config.in", "status": "modified", "additions": 54, "deletions": 48, "changes": 102, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -316,77 +316,83 @@\n /* Define if read-only mmap of a plain file works. */\n #undef HAVE_MMAP_FILE\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_BCOPY\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_BCOPY\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_BZERO\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_BZERO\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_BCMP\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_BCMP\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_INDEX\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_INDEX\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_RINDEX\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_RINDEX\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_GETENV\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETENV\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_ATOL\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_ATOL\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_SBRK\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_SBRK\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_ABORT\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_ABORT\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_ATOF\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_ATOF\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_GETCWD\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETCWD\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_GETWD\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETWD\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_STRSIGNAL\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_STRSIGNAL\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_PUTC_UNLOCKED\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_PUTC_UNLOCKED\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_FPUTS_UNLOCKED\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_FPUTS_UNLOCKED\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_STRSTR\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_STRSTR\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_ENVIRON\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_ENVIRON\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_MALLOC\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_MALLOC\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_REALLOC\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_REALLOC\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_CALLOC\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_CALLOC\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_FREE\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_FREE\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_GETRLIMIT\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_BASENAME\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_SETRLIMIT\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETOPT\n \n-/* Define if you need to provide a declaration for this function. */\n-#undef NEED_DECLARATION_GETRUSAGE\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETRLIMIT\n+\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_SETRLIMIT\n+\n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_GETRUSAGE\n \n /* Define if host mkdir takes a single argument. */\n #undef MKDIR_TAKES_ONE_ARG"}, {"sha": "90a8c585786283044f23e82a8f39651b2670db8f", "filename": "gcc/configure", "status": "modified", "additions": 155, "deletions": 143, "changes": 298, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -3140,173 +3140,185 @@ CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n for ac_func in bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof getcwd getwd \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ \\\n-\tmalloc realloc calloc free\n+\tmalloc realloc calloc free basename getopt\n do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3147: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n+echo \"configure:3148: checking whether $ac_func is declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3152 \"configure\"\n+#line 3153 \"configure\"\n #include \"confdefs.h\"\n-\n #include \"gansidecl.h\"\n #include \"system.h\"\n+\n int main() {\n #ifndef $ac_func\n char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3163: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3164: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+  eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+  eval \"gcc_cv_have_decl_$ac_func=no\"\n fi\n rm -f conftest*\n fi\n \n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6 ;   ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  cat >> confdefs.h <<EOF\n+if eval \"test \\\"`echo '$gcc_cv_have_decl_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6 ; cat >> confdefs.h <<EOF\n #define $ac_tr_decl 1\n EOF\n  \n else\n-  echo \"$ac_t\"\"no\" 1>&6 ; :\n+  echo \"$ac_t\"\"no\" 1>&6 ; cat >> confdefs.h <<EOF\n+#define $ac_tr_decl 0\n+EOF\n+ \n fi\n \n done\n if test x = y ; then\n   cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_BCOPY 1\n+#define HAVE_DECL_BCOPY 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_BZERO 1\n+#define HAVE_DECL_BZERO 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_BCMP 1\n+#define HAVE_DECL_BCMP 1\n EOF\n  \\\n \tcat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_INDEX 1\n+#define HAVE_DECL_INDEX 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_RINDEX 1\n+#define HAVE_DECL_RINDEX 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_GETENV 1\n+#define HAVE_DECL_GETENV 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_ATOL 1\n+#define HAVE_DECL_ATOL 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_SBRK 1\n+#define HAVE_DECL_SBRK 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_ABORT 1\n+#define HAVE_DECL_ABORT 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_ATOF 1\n+#define HAVE_DECL_ATOF 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_GETCWD 1\n+#define HAVE_DECL_GETCWD 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_GETWD 1\n+#define HAVE_DECL_GETWD 1\n EOF\n  \\\n \tcat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_STRSIGNAL 1\n+#define HAVE_DECL_STRSIGNAL 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_PUTC_UNLOCKED 1\n+#define HAVE_DECL_PUTC_UNLOCKED 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_FPUTS_UNLOCKED 1\n+#define HAVE_DECL_FPUTS_UNLOCKED 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_STRSTR 1\n+#define HAVE_DECL_STRSTR 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_ENVIRON 1\n+#define HAVE_DECL_ENVIRON 1\n EOF\n  \\\n \tcat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_MALLOC 1\n+#define HAVE_DECL_MALLOC 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define HAVE_DECL_REALLOC 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_REALLOC 1\n+#define HAVE_DECL_CALLOC 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_CALLOC 1\n+#define HAVE_DECL_FREE 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_FREE 1\n+#define HAVE_DECL_BASENAME 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define HAVE_DECL_GETOPT 1\n EOF\n fi\n \n \n for ac_func in getrlimit setrlimit getrusage\n do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3259: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n+  ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n+echo \"configure:3269: checking whether $ac_func is declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3264 \"configure\"\n+#line 3274 \"configure\"\n #include \"confdefs.h\"\n-\n #include \"gansidecl.h\"\n #include \"system.h\"\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n \n+\n int main() {\n #ifndef $ac_func\n char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3279: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3289: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n+  eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n   rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n+  eval \"gcc_cv_have_decl_$ac_func=no\"\n fi\n rm -f conftest*\n fi\n \n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6 ;   ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  cat >> confdefs.h <<EOF\n+if eval \"test \\\"`echo '$gcc_cv_have_decl_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6 ; cat >> confdefs.h <<EOF\n #define $ac_tr_decl 1\n EOF\n  \n else\n-  echo \"$ac_t\"\"no\" 1>&6 ; :\n+  echo \"$ac_t\"\"no\" 1>&6 ; cat >> confdefs.h <<EOF\n+#define $ac_tr_decl 0\n+EOF\n+ \n fi\n \n done\n if test x = y ; then\n   cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_GETRLIMIT 1\n+#define HAVE_DECL_GETRLIMIT 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_SETRLIMIT 1\n+#define HAVE_DECL_SETRLIMIT 1\n EOF\n  cat >> confdefs.h <<EOF\n-#define NEED_DECLARATION_GETRUSAGE 1\n+#define HAVE_DECL_GETRUSAGE 1\n EOF\n fi\n \n@@ -3316,12 +3328,12 @@ CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:3320: checking if mkdir takes one argument\" >&5\n+echo \"configure:3332: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3325 \"configure\"\n+#line 3337 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -3338,7 +3350,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3342: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3354: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -6812,15 +6824,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6816: checking for strerror in -lcposix\" >&5\n+echo \"configure:6828: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6824 \"configure\"\n+#line 6836 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6831,7 +6843,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6835: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6847: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6854,12 +6866,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6858: checking for working const\" >&5\n+echo \"configure:6870: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6863 \"configure\"\n+#line 6875 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6908,7 +6920,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6912: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6924: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6929,21 +6941,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6933: checking for inline\" >&5\n+echo \"configure:6945: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6940 \"configure\"\n+#line 6952 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6947: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6959: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6969,12 +6981,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6973: checking for off_t\" >&5\n+echo \"configure:6985: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6978 \"configure\"\n+#line 6990 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7002,12 +7014,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:7006: checking for size_t\" >&5\n+echo \"configure:7018: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7011 \"configure\"\n+#line 7023 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -7037,19 +7049,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7041: checking for working alloca.h\" >&5\n+echo \"configure:7053: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7046 \"configure\"\n+#line 7058 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:7053: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7065: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -7070,12 +7082,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7074: checking for alloca\" >&5\n+echo \"configure:7086: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7079 \"configure\"\n+#line 7091 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -7103,7 +7115,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:7107: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7119: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7135,12 +7147,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7139: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:7151: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7144 \"configure\"\n+#line 7156 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7165,12 +7177,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7169: checking for $ac_func\" >&5\n+echo \"configure:7181: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7174 \"configure\"\n+#line 7186 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7193,7 +7205,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7197: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7209: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7220,15 +7232,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7224: checking stack direction for C alloca\" >&5\n+echo \"configure:7236: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7232 \"configure\"\n+#line 7244 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7247,7 +7259,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7251: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7263: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7274,17 +7286,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7278: checking for $ac_hdr\" >&5\n+echo \"configure:7290: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7283 \"configure\"\n+#line 7295 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7288: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7300: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7314,12 +7326,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7318: checking for $ac_func\" >&5\n+echo \"configure:7330: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7323 \"configure\"\n+#line 7335 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7342,7 +7354,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7346: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7358: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7371,12 +7383,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7375: checking for $ac_func\" >&5\n+echo \"configure:7387: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7380 \"configure\"\n+#line 7392 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7399,7 +7411,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7403: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7415: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7433,19 +7445,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7437: checking for LC_MESSAGES\" >&5\n+echo \"configure:7449: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7442 \"configure\"\n+#line 7454 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7449: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7461: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7466,7 +7478,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7470: checking whether NLS is requested\" >&5\n+echo \"configure:7482: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7486,7 +7498,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7490: checking whether included gettext is requested\" >&5\n+echo \"configure:7502: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7505,17 +7517,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7509: checking for libintl.h\" >&5\n+echo \"configure:7521: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7514 \"configure\"\n+#line 7526 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7519: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7531: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7532,19 +7544,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7536: checking for gettext in libc\" >&5\n+echo \"configure:7548: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7541 \"configure\"\n+#line 7553 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7548: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7560: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7560,15 +7572,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7564: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7576: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7572 \"configure\"\n+#line 7584 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7579,7 +7591,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7583: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7595: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7595,20 +7607,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7599: checking for gettext in libintl\" >&5\n+echo \"configure:7611: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7604: checking for gettext in -lintl\" >&5\n+echo \"configure:7616: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7612 \"configure\"\n+#line 7624 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7619,7 +7631,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7623: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7635: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7658,7 +7670,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7662: checking for $ac_word\" >&5\n+echo \"configure:7674: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7692,12 +7704,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7696: checking for $ac_func\" >&5\n+echo \"configure:7708: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7701 \"configure\"\n+#line 7713 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7720,7 +7732,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7724: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7736: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7747,7 +7759,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7751: checking for $ac_word\" >&5\n+echo \"configure:7763: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7783,7 +7795,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7787: checking for $ac_word\" >&5\n+echo \"configure:7799: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7815,15 +7827,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7819 \"configure\"\n+#line 7831 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7827: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7839: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7846,7 +7858,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7850: checking whether catgets can be used\" >&5\n+echo \"configure:7862: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7859,22 +7871,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7863: checking for main in -li\" >&5\n+echo \"configure:7875: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7871 \"configure\"\n+#line 7883 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7878: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7890: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7902,12 +7914,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7906: checking for catgets\" >&5\n+echo \"configure:7918: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7911 \"configure\"\n+#line 7923 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7930,7 +7942,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7934: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7946: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7952,7 +7964,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7956: checking for $ac_word\" >&5\n+echo \"configure:7968: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7988,7 +8000,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7992: checking for $ac_word\" >&5\n+echo \"configure:8004: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8025,7 +8037,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8029: checking for $ac_word\" >&5\n+echo \"configure:8041: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8060,7 +8072,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8064: checking for $ac_word\" >&5\n+echo \"configure:8076: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8118,7 +8130,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8122: checking for $ac_word\" >&5\n+echo \"configure:8134: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8152,7 +8164,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8156: checking for $ac_word\" >&5\n+echo \"configure:8168: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8188,7 +8200,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8192: checking for $ac_word\" >&5\n+echo \"configure:8204: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8281,7 +8293,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8285: checking for catalogs to be installed\" >&5\n+echo \"configure:8297: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8309,17 +8321,17 @@ echo \"configure:8285: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8313: checking for linux/version.h\" >&5\n+echo \"configure:8325: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8318 \"configure\"\n+#line 8330 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8323: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8335: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8394,7 +8406,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8398: checking whether windows registry support is requested\" >&5\n+echo \"configure:8410: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8423,7 +8435,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8427: checking registry key on windows hosts\" >&5\n+echo \"configure:8439: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8599,7 +8611,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8603: checking assembler alignment features\" >&5\n+echo \"configure:8615: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8720,7 +8732,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8724: checking assembler subsection support\" >&5\n+echo \"configure:8736: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8760,7 +8772,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:8764: checking assembler weak support\" >&5\n+echo \"configure:8776: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -8777,7 +8789,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:8781: checking assembler hidden support\" >&5\n+echo \"configure:8793: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -8797,7 +8809,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8801: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8813: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8827,7 +8839,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:8831: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:8843: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8872,7 +8884,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8876: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8888: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8911,7 +8923,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8915: checking assembler instructions\" >&5\n+echo \"configure:8927: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -9037,7 +9049,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:9041: checking for libstdc++ to install\" >&5\n+echo \"configure:9053: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\""}, {"sha": "cd76141fba15b1fa0588a898e6aebacef02c5313", "filename": "gcc/configure.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -479,14 +479,14 @@ AC_FUNC_MMAP_FILE\n # We will need to find libiberty.h and ansidecl.h\n saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n-gcc_AC_NEED_DECLARATIONS(bcopy bzero bcmp \\\n+gcc_AC_CHECK_DECLS(bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof getcwd getwd \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ \\\n-\tmalloc realloc calloc free, [\n+\tmalloc realloc calloc free basename getopt, , ,[\n #include \"gansidecl.h\"\n #include \"system.h\"])\n \n-gcc_AC_NEED_DECLARATIONS(getrlimit setrlimit getrusage, [\n+gcc_AC_CHECK_DECLS(getrlimit setrlimit getrusage, , ,[\n #include \"gansidecl.h\"\n #include \"system.h\"\n #ifdef HAVE_SYS_RESOURCE_H"}, {"sha": "aaa3d1e5dcbc06772c5d586bb6e8236d193ac5c8", "filename": "gcc/dwarfout.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fdwarfout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fdwarfout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarfout.c?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -37,12 +37,6 @@ Boston, MA 02111-1307, USA.  */\n #include \"toplev.h\"\n #include \"tm_p.h\"\n \n-#if defined(DWARF_TIMESTAMPS)\n-#if !defined(POSIX)\n-extern time_t time PARAMS ((time_t *)); /* FIXME: use NEED_DECLARATION_TIME */\n-#endif /* !defined(POSIX) */\n-#endif /* defined(DWARF_TIMESTAMPS) */\n-\n /* We cannot use <assert.h> in GCC source, since that would include\n    GCC's assert.h, which may not be compatible with the host compiler.  */\n #undef assert"}, {"sha": "eb7a6c9d20e8db3efe9631847c4427828737a5f4", "filename": "gcc/gcc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -48,7 +48,7 @@ compilation is specified by a string called a \"spec\".  */\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n-#ifdef NEED_DECLARATION_GETRUSAGE\n+#if defined (HAVE_DECL_GETRUSAGE) && !HAVE_DECL_GETRUSAGE\n extern int getrusage PARAMS ((int, struct rusage *));\n #endif\n "}, {"sha": "d5526b274b65f1eb92a67b06921ef4932a211c62", "filename": "gcc/system.h", "status": "modified", "additions": 31, "deletions": 28, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -53,24 +53,24 @@ Boston, MA 02111-1307, USA.  */\n /* The compiler is not a multi-threaded application and therefore we\n    do not have to use the locking functions.\n \n-   NEED_DECLARATION_PUTC_UNLOCKED actually indicates whether or not\n-   the IO code is multi-thread safe by default.  If it is not declared,\n-   then do not worry about using the _unlocked functions.\n+   HAVE_DECL_PUTC_UNLOCKED actually indicates whether or not the IO\n+   code is multi-thread safe by default.  If it is set to 0, then do\n+   not worry about using the _unlocked functions.\n    \n    fputs_unlocked is an extension and needs to be prototyped specially.  */\n \n-#if defined HAVE_PUTC_UNLOCKED && !defined NEED_DECLARATION_PUTC_UNLOCKED\n+#if defined HAVE_PUTC_UNLOCKED && (defined (HAVE_DECL_PUTC_UNLOCKED) && HAVE_DECL_PUTC_UNLOCKED)\n # undef putc\n # define putc(C, Stream) putc_unlocked (C, Stream)\n #endif\n-#if defined HAVE_FPUTC_UNLOCKED && !defined NEED_DECLARATION_PUTC_UNLOCKED\n+#if defined HAVE_FPUTC_UNLOCKED && (defined (HAVE_DECL_PUTC_UNLOCKED) && HAVE_DECL_PUTC_UNLOCKED)\n # undef fputc\n # define fputc(C, Stream) fputc_unlocked (C, Stream)\n #endif\n-#if defined HAVE_FPUTS_UNLOCKED && !defined NEED_DECLARATION_PUTC_UNLOCKED\n+#if defined HAVE_FPUTS_UNLOCKED && (defined (HAVE_DECL_PUTC_UNLOCKED) && HAVE_DECL_PUTC_UNLOCKED)\n # undef fputs\n # define fputs(String, Stream) fputs_unlocked (String, Stream)\n-# ifdef NEED_DECLARATION_FPUTS_UNLOCKED\n+# if defined (HAVE_DECL_FPUTS_UNLOCKED) && !HAVE_DECL_FPUTS_UNLOCKED\n extern int fputs_unlocked PARAMS ((const char *, FILE *));\n # endif\n #endif\n@@ -305,11 +305,14 @@ extern int errno;\n #define WSTOPSIG WEXITSTATUS\n #endif\n \n-\n+/* The HAVE_DECL_* macros are three-state, undefined, 0 or 1.  If they\n+   are defined to 0 then we must provide the relevant declaration\n+   here.  These checks will be in the undefined state while configure\n+   is running so be careful to test \"defined (HAVE_DECL_*)\".  */\n \n #ifndef bcopy\n # ifdef HAVE_BCOPY\n-#  ifdef NEED_DECLARATION_BCOPY\n+#  if defined (HAVE_DECL_BCOPY) && !HAVE_DECL_BCOPY\n extern void bcopy PARAMS ((const PTR, PTR, size_t));\n #  endif\n # else /* ! HAVE_BCOPY */\n@@ -319,7 +322,7 @@ extern void bcopy PARAMS ((const PTR, PTR, size_t));\n \n #ifndef bcmp\n # ifdef HAVE_BCMP\n-#  ifdef NEED_DECLARATION_BCMP\n+#  if defined (HAVE_DECL_BCMP) && !HAVE_DECL_BCMP\n extern int bcmp PARAMS ((const PTR, const PTR, size_t));\n #  endif\n # else /* ! HAVE_BCMP */\n@@ -329,7 +332,7 @@ extern int bcmp PARAMS ((const PTR, const PTR, size_t));\n \n #ifndef bzero\n # ifdef HAVE_BZERO\n-#  ifdef NEED_DECLARATION_BZERO\n+#  if defined (HAVE_DECL_BZERO) && !HAVE_DECL_BZERO\n extern void bzero PARAMS ((PTR, size_t));\n #  endif\n # else /* ! HAVE_BZERO */\n@@ -339,7 +342,7 @@ extern void bzero PARAMS ((PTR, size_t));\n \n #ifndef index\n # ifdef HAVE_INDEX\n-#  ifdef NEED_DECLARATION_INDEX\n+#  if defined (HAVE_DECL_INDEX) && !HAVE_DECL_INDEX\n extern char *index PARAMS ((const char *, int));\n #  endif\n # else /* ! HAVE_INDEX */\n@@ -349,72 +352,72 @@ extern char *index PARAMS ((const char *, int));\n \n #ifndef rindex\n # ifdef HAVE_RINDEX\n-#  ifdef NEED_DECLARATION_RINDEX\n+#  if defined (HAVE_DECL_RINDEX) && !HAVE_DECL_RINDEX\n extern char *rindex PARAMS ((const char *, int));\n #  endif\n # else /* ! HAVE_RINDEX */\n #  define rindex strrchr\n # endif\n #endif\n \n-#ifdef NEED_DECLARATION_ATOF\n+#if defined (HAVE_DECL_ATOF) && !HAVE_DECL_ATOF\n extern double atof PARAMS ((const char *));\n #endif\n \n-#ifdef NEED_DECLARATION_ATOL\n+#if defined (HAVE_DECL_ATOL) && !HAVE_DECL_ATOL\n extern long atol PARAMS ((const char *));\n #endif\n \n-#ifdef NEED_DECLARATION_FREE\n+#if defined (HAVE_DECL_FREE) && !HAVE_DECL_FREE\n extern void free PARAMS ((PTR));\n #endif\n \n-#ifdef NEED_DECLARATION_GETCWD\n+#if defined (HAVE_DECL_GETCWD) && !HAVE_DECL_GETCWD\n extern char *getcwd PARAMS ((char *, size_t));\n #endif\n \n-#ifdef NEED_DECLARATION_GETENV\n+#if defined (HAVE_DECL_GETENV) && !HAVE_DECL_GETENV\n extern char *getenv PARAMS ((const char *));\n #endif\n \n-#ifdef NEED_DECLARATION_GETWD\n+#if defined (HAVE_DECL_GETWD) && !HAVE_DECL_GETWD\n extern char *getwd PARAMS ((char *));\n #endif\n \n-#ifdef NEED_DECLARATION_SBRK\n+#if defined (HAVE_DECL_SBRK) && !HAVE_DECL_SBRK\n extern PTR sbrk PARAMS ((int));\n #endif\n \n-#ifdef NEED_DECLARATION_STRSTR\n+#if defined (HAVE_DECL_STRSTR) && !HAVE_DECL_STRSTR\n extern char *strstr PARAMS ((const char *, const char *));\n #endif\n \n #ifdef HAVE_MALLOC_H\n #include <malloc.h>\n #endif\n \n-#ifdef NEED_DECLARATION_MALLOC\n+#if defined (HAVE_DECL_MALLOC) && !HAVE_DECL_MALLOC\n extern PTR malloc PARAMS ((size_t));\n #endif\n \n-#ifdef NEED_DECLARATION_CALLOC\n+#if defined (HAVE_DECL_CALLOC) && !HAVE_DECL_CALLOC\n extern PTR calloc PARAMS ((size_t, size_t));\n #endif\n \n-#ifdef NEED_DECLARATION_REALLOC\n+#if defined (HAVE_DECL_REALLOC) && !HAVE_DECL_REALLOC\n extern PTR realloc PARAMS ((PTR, size_t));\n #endif\n \n /* If the system doesn't provide strsignal, we get it defined in\n    libiberty but no declaration is supplied. */\n-#ifdef NEED_DECLARATION_STRSIGNAL\n+#if defined (HAVE_DECL_STRSIGNAL) && !HAVE_DECL_STRSIGNAL\n # ifndef strsignal\n extern const char *strsignal PARAMS ((int));\n # endif\n #endif\n \n #ifdef HAVE_GETRLIMIT\n-# ifdef NEED_DECLARATION_GETRLIMIT\n+# if defined (HAVE_DECL_GETRLIMIT) && !HAVE_DECL_GETRLIMIT\n #  ifndef getrlimit\n #   ifdef ANSI_PROTOTYPES\n struct rlimit;\n@@ -425,7 +428,7 @@ extern int getrlimit PARAMS ((int, struct rlimit *));\n #endif\n \n #ifdef HAVE_SETRLIMIT\n-# ifdef NEED_DECLARATION_SETRLIMIT\n+# if defined (HAVE_DECL_SETRLIMIT) && !HAVE_DECL_SETRLIMIT\n #  ifndef setrlimit\n #   ifdef ANSI_PROTOTYPES\n struct rlimit;\n@@ -441,7 +444,7 @@ extern int setrlimit PARAMS ((int, const struct rlimit *));\n #define volatile\n #endif\n \n-#ifdef NEED_DECLARATION_ABORT\n+#if defined (HAVE_DECL_ABORT) && !HAVE_DECL_ABORT\n extern void abort PARAMS ((void));\n #endif\n "}, {"sha": "4b13570623c906542f14afb57593fa821a09d5e7", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -145,7 +145,7 @@ You Lose!  You must define PREFERRED_DEBUGGING_TYPE!\n #define PREFERRED_DEBUGGING_TYPE NO_DEBUG\n #endif\n \n-#ifdef NEED_DECLARATION_ENVIRON\n+#if defined (HAVE_DECL_ENVIRON) && !HAVE_DECL_ENVIRON\n extern char **environ;\n #endif\n "}, {"sha": "5a0ddf5854a4f92a762fc899b000a705f6c4f5fe", "filename": "include/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -1,3 +1,9 @@\n+2000-05-23  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* getopt.h (getopt): Also check HAVE_DECL_* when prototyping.\n+\n+\t* libiberty.h (basename): Likewise.\n+\n 2000-05-06  Zack Weinberg  <zack@wolery.cumb.org>\n \n  \t* ansidecl.h: #define __extension__ to nothing if"}, {"sha": "9620fc70637e6a3566708a8b952b210e242d5805", "filename": "include/getopt.h", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2Fgetopt.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2Fgetopt.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fgetopt.h?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -99,13 +99,20 @@ struct option\n #define optional_argument\t2\n \n #if defined (__STDC__) && __STDC__\n-#ifdef __GNU_LIBRARY__\n+/* HAVE_DECL_* is a three-state macro: undefined, 0 or 1.  If it is\n+   undefined, we haven't run the autoconf check so provide the\n+   declaration without arguments.  If it is 0, we checked and failed\n+   to find the declaration so provide a fully prototyped one.  If it\n+   is 1, we found it so don't provide any declaration at all.  */\n+#if defined (__GNU_LIBRARY__) || (defined (HAVE_DECL_GETOPT) && !HAVE_DECL_GETOPT)\n /* Many other libraries have conflicting prototypes for getopt, with\n    differences in the consts, in stdlib.h.  To avoid compilation\n    errors, only prototype getopt for the GNU C library.  */\n extern int getopt (int argc, char *const *argv, const char *shortopts);\n #else /* not __GNU_LIBRARY__ */\n+# if !defined (HAVE_DECL_GETOPT)\n extern int getopt ();\n+# endif\n #endif /* __GNU_LIBRARY__ */\n extern int getopt_long (int argc, char *const *argv, const char *shortopts,\n \t\t        const struct option *longopts, int *longind);"}, {"sha": "476e0165b3eed5206e7045ee3e1a2b6f5460936b", "filename": "include/libiberty.h", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2Flibiberty.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f31e826ba314bc910beec6de5bf534f2462a00c7/include%2Flibiberty.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Flibiberty.h?ref=f31e826ba314bc910beec6de5bf534f2462a00c7", "patch": "@@ -36,10 +36,17 @@ extern char **dupargv PARAMS ((char **)) ATTRIBUTE_MALLOC;\n    across different systems, sometimes as \"char *\" and sometimes as\n    \"const char *\" */\n \n-#if defined (__GNU_LIBRARY__ ) || defined (__linux__) || defined (__FreeBSD__) || defined (__OpenBSD__) || defined (__CYGWIN__) || defined (__CYGWIN32__)\n+/* HAVE_DECL_* is a three-state macro: undefined, 0 or 1.  If it is\n+   undefined, we haven't run the autoconf check so provide the\n+   declaration without arguments.  If it is 0, we checked and failed\n+   to find the declaration so provide a fully prototyped one.  If it\n+   is 1, we found it so don't provide any declaration at all.  */\n+#if defined (__GNU_LIBRARY__ ) || defined (__linux__) || defined (__FreeBSD__) || defined (__OpenBSD__) || defined (__CYGWIN__) || defined (__CYGWIN32__) || (defined (HAVE_DECL_BASENAME) && !HAVE_DECL_BASENAME)\n extern char *basename PARAMS ((const char *));\n #else\n+# if !defined (HAVE_DECL_BASENAME)\n extern char *basename ();\n+# endif\n #endif\n \n /* Concatenate an arbitrary number of strings, up to (char *) NULL."}]}