{"sha": "1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWJjNmQ0M2NiOGY1ZmIzMzI3YTM1YzYyYzJkMTgxNDEzODJkNGE5Mg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-04-28T21:02:28Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-04-28T21:02:28Z"}, "message": "Add a class hierarchy diagram to gimple.texi\n\n2014-04-28  David Malcolm  <dmalcolm@redhat.com>\n\n\t* doc/gimple.texi: Replace the description of the now-defunct\n\tunion gimple_statement_d with a diagram showing the\n\tgimple_statement_base class hierarchy and its relationships to\n\tthe GSS_ and GIMPLE_ enums.\n\nFrom-SVN: r209879", "tree": {"sha": "116b651ab08464866bafe6830acafb1dd2093125", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/116b651ab08464866bafe6830acafb1dd2093125"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "97e1ad78bcc2a33954e40534ccbee78ba6bdcf7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97e1ad78bcc2a33954e40534ccbee78ba6bdcf7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97e1ad78bcc2a33954e40534ccbee78ba6bdcf7c"}], "stats": {"total": 162, "additions": 135, "deletions": 27}, "files": [{"sha": "41b291e9a55b8c8cd3c9f8251e3555ad89542af7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "patch": "@@ -1,3 +1,10 @@\n+2014-04-28  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* doc/gimple.texi: Replace the description of the now-defunct\n+\tunion gimple_statement_d with a diagram showing the\n+\tgimple_statement_base class hierarchy and its relationships to\n+\tthe GSS_ and GIMPLE_ enums.\n+\n 2014-04-28  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/aarch64/aarch64-protos.h (aarch64_modes_tieable_p): New."}, {"sha": "1e5473d109e1bd7f30de15124b5ed1966044958e", "filename": "gcc/doc/gimple.texi", "status": "modified", "additions": 128, "deletions": 27, "changes": 155, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92/gcc%2Fdoc%2Fgimple.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bc6d43cb8f5fb3327a35c62c2d18141382d4a92/gcc%2Fdoc%2Fgimple.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fgimple.texi?ref=1bc6d43cb8f5fb3327a35c62c2d18141382d4a92", "patch": "@@ -70,6 +70,7 @@ with the flag @option{-fdump-tree-gimple}.\n \n @menu\n * Tuple representation::\n+* Class hierarchy of GIMPLE statements::\n * GIMPLE instruction set::\n * GIMPLE Exception Handling::\n * Temporaries::\n@@ -287,35 +288,135 @@ reduce memory utilization further by removing these sets).\n @end itemize\n \n All the other tuples are defined in terms of these three basic\n-ones. Each tuple will add some fields. The main gimple type\n-is defined to be the union of all these structures (@code{GTY} markers\n-elided for clarity):\n+ones. Each tuple will add some fields.\n+\n+\n+@node Class hierarchy of GIMPLE statements\n+@section Class hierarchy of GIMPLE statements\n+@cindex GIMPLE class hierarchy\n+\n+The following diagram shows the C++ inheritance hierarchy of statement\n+kinds, along with their relationships to @code{GSS_} values (layouts) and\n+@code{GIMPLE_} values (codes):\n \n @smallexample\n-union gimple_statement_d\n-@{\n-  struct gimple_statement_base gsbase;\n-  struct gimple_statement_with_ops gsops;\n-  struct gimple_statement_with_memory_ops gsmem;\n-  struct gimple_statement_omp omp;\n-  struct gimple_statement_bind gimple_bind;\n-  struct gimple_statement_catch gimple_catch;\n-  struct gimple_statement_eh_filter gimple_eh_filter;\n-  struct gimple_statement_phi gimple_phi;\n-  struct gimple_statement_resx gimple_resx;\n-  struct gimple_statement_try gimple_try;\n-  struct gimple_statement_wce gimple_wce;\n-  struct gimple_statement_asm gimple_asm;\n-  struct gimple_statement_omp_critical gimple_omp_critical;\n-  struct gimple_statement_omp_for gimple_omp_for;\n-  struct gimple_statement_omp_parallel gimple_omp_parallel;\n-  struct gimple_statement_omp_task gimple_omp_task;\n-  struct gimple_statement_omp_sections gimple_omp_sections;\n-  struct gimple_statement_omp_single gimple_omp_single;\n-  struct gimple_statement_omp_continue gimple_omp_continue;\n-  struct gimple_statement_omp_atomic_load gimple_omp_atomic_load;\n-  struct gimple_statement_omp_atomic_store gimple_omp_atomic_store;\n-@};\n+   gimple_statement_base\n+     |    layout: GSS_BASE\n+     |    used for 4 codes: GIMPLE_ERROR_MARK\n+     |                      GIMPLE_NOP\n+     |                      GIMPLE_OMP_SECTIONS_SWITCH\n+     |                      GIMPLE_PREDICT\n+     |\n+     + gimple_statement_with_ops_base\n+     |   |    (no GSS layout)\n+     |   |\n+     |   + gimple_statement_with_ops\n+     |   |        layout: GSS_WITH_OPS\n+     |   |        Used for 5 codes: GIMPLE_COND\n+     |   |                          GIMPLE_DEBUG\n+     |   |                          GIMPLE_GOTO\n+     |   |                          GIMPLE_LABEL\n+     |   |                          GIMPLE_SWITCH\n+     |   |\n+     |   + gimple_statement_with_memory_ops_base\n+     |       |    layout: GSS_WITH_MEM_OPS_BASE\n+     |       |\n+     |       + gimple_statement_with_memory_ops\n+     |       |        layout: GSS_WITH_MEM_OPS.\n+     |       |        used for codes GIMPLE_ASSIGN and GIMPLE_RETURN.\n+     |       |\n+     |       + gimple_statement_call\n+     |       |        layout: GSS_CALL, code: GIMPLE_CALL\n+     |       |\n+     |       + gimple_statement_asm\n+     |       |        layout: GSS_ASM, code: GIMPLE_ASM\n+     |       |\n+     |       + gimple_statement_transaction\n+     |                layout: GSS_TRANSACTION, code: GIMPLE_TRANSACTION\n+     |\n+     + gimple_statement_omp\n+     |   |    layout: GSS_OMP.  Used for code GIMPLE_OMP_SECTION\n+     |   |\n+     |   + gimple_statement_omp_critical\n+     |   |        layout: GSS_OMP_CRITICAL, code: GIMPLE_OMP_CRITICAL\n+     |   |\n+     |   + gimple_statement_omp_for\n+     |   |        layout: GSS_OMP_FOR, code: GIMPLE_OMP_FOR\n+     |   |\n+     |   + gimple_statement_omp_parallel_layout\n+     |   |   |    layout: GSS_OMP_PARALLEL_LAYOUT\n+     |   |   |\n+     |   |   + gimple_statement_omp_taskreg\n+     |   |   |   |\n+     |   |   |   + gimple_statement_omp_parallel\n+     |   |   |   |        code: GIMPLE_OMP_PARALLEL\n+     |   |   |   |\n+     |   |   |   + gimple_statement_omp_task\n+     |   |   |            code: GIMPLE_OMP_TASK\n+     |   |   |\n+     |   |   + gimple_statement_omp_target\n+     |   |            code: GIMPLE_OMP_TARGET\n+     |   |\n+     |   + gimple_statement_omp_sections\n+     |   |        layout: GSS_OMP_SECTIONS, code: GIMPLE_OMP_SECTIONS\n+     |   |\n+     |   + gimple_statement_omp_single_layout\n+     |       |    layout: GSS_OMP_SINGLE_LAYOUT\n+     |       |\n+     |       + gimple_statement_omp_single\n+     |       |        code: GIMPLE_OMP_SINGLE\n+     |       |\n+     |       + gimple_statement_omp_teams\n+     |                code: GIMPLE_OMP_TEAMS\n+     |\n+     + gimple_statement_bind\n+     |        layout: GSS_BIND, code: GIMPLE_BIND\n+     |\n+     + gimple_statement_catch\n+     |        layout: GSS_CATCH, code: GIMPLE_CATCH\n+     |\n+     + gimple_statement_eh_filter\n+     |        layout: GSS_EH_FILTER, code: GIMPLE_EH_FILTER\n+     |\n+     + gimple_statement_eh_else\n+     |        layout: GSS_EH_ELSE, code: GIMPLE_EH_ELSE\n+     |\n+     + gimple_statement_eh_mnt\n+     |        layout: GSS_EH_MNT, code: GIMPLE_EH_MUST_NOT_THROW\n+     |\n+     + gimple_statement_phi\n+     |        layout: GSS_PHI, code: GIMPLE_PHI\n+     |\n+     + gimple_statement_eh_ctrl\n+     |   |    layout: GSS_EH_CTRL\n+     |   |\n+     |   + gimple_statement_resx\n+     |   |        code: GIMPLE_RESX\n+     |   |\n+     |   + gimple_statement_eh_dispatch\n+     |            code: GIMPLE_EH_DISPATCH\n+     |\n+     + gimple_statement_try\n+     |        layout: GSS_TRY, code: GIMPLE_TRY\n+     |\n+     + gimple_statement_wce\n+     |        layout: GSS_WCE, code: GIMPLE_WITH_CLEANUP_EXPR\n+     |\n+     + gimple_statement_omp_continue\n+     |        layout: GSS_OMP_CONTINUE, code: GIMPLE_OMP_CONTINUE\n+     |\n+     + gimple_statement_omp_atomic_load\n+     |        layout: GSS_OMP_ATOMIC_LOAD, code: GIMPLE_OMP_ATOMIC_LOAD\n+     |\n+     + gimple_statement_omp_atomic_store_layout\n+         |    layout: GSS_OMP_ATOMIC_STORE_LAYOUT,\n+         |    code: GIMPLE_OMP_ATOMIC_STORE\n+         |\n+         + gimple_statement_omp_atomic_store\n+         |        code: GIMPLE_OMP_ATOMIC_STORE\n+         |\n+         + gimple_statement_omp_return\n+                  code: GIMPLE_OMP_RETURN\n @end smallexample\n \n "}]}