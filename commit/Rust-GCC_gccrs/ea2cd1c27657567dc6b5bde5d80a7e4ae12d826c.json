{"sha": "ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEyY2QxYzI3NjU3NTY3ZGM2YjViZGU1ZDgwYTdlNGFlMTJkODI2Yw==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2018-02-27T08:27:12Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2018-02-27T08:27:12Z"}, "message": "Fix formatting of -ftime-report.\n\n2018-02-27  Martin Liska  <mliska@suse.cz>\n\n\t* timevar.c (timer::print_row): Remove 'usr', 'sys', 'wall' and\n\t'ggc' suffixes.  Change first column width.\n\t(timer::print): Fix formatting of the column.\n\nFrom-SVN: r258029", "tree": {"sha": "dd6c904a867fa91baa6d55b357fde4b7d6f32d9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd6c904a867fa91baa6d55b357fde4b7d6f32d9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9893273d9826229c41075f568f343bfc7c32d9dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9893273d9826229c41075f568f343bfc7c32d9dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9893273d9826229c41075f568f343bfc7c32d9dd"}], "stats": {"total": 27, "additions": 17, "deletions": 10}, "files": [{"sha": "1a8edf3c3442fe4ad46ab106e6bab979e32384ce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "patch": "@@ -1,3 +1,9 @@\n+2018-02-27  Martin Liska  <mliska@suse.cz>\n+\n+\t* timevar.c (timer::print_row): Remove 'usr', 'sys', 'wall' and\n+\t'ggc' suffixes.  Change first column width.\n+\t(timer::print): Fix formatting of the column.\n+\n 2018-02-27  Alexandre Oliva <aoliva@redhat.com>\n \n \t* tree-ssa-live.c (remove_unused_scope_block_p): Do not"}, {"sha": "d209f5be0f50eccebebf800948e9e22386e325c9", "filename": "gcc/timevar.c", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c/gcc%2Ftimevar.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c/gcc%2Ftimevar.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftimevar.c?ref=ea2cd1c27657567dc6b5bde5d80a7e4ae12d826c", "patch": "@@ -637,31 +637,31 @@ timer::print_row (FILE *fp,\n \t\t  const char *name, const timevar_time_def &elapsed)\n {\n   /* The timing variable name.  */\n-  fprintf (fp, \" %-24s:\", name);\n+  fprintf (fp, \" %-35s:\", name);\n \n #ifdef HAVE_USER_TIME\n   /* Print user-mode time for this process.  */\n-  fprintf (fp, \"%7.2f (%2.0f%%) usr\",\n+  fprintf (fp, \"%7.2f (%2.0f%%)\",\n \t   elapsed.user,\n \t   (total->user == 0 ? 0 : elapsed.user / total->user) * 100);\n #endif /* HAVE_USER_TIME */\n \n #ifdef HAVE_SYS_TIME\n   /* Print system-mode time for this process.  */\n-  fprintf (fp, \"%7.2f (%2.0f%%) sys\",\n+  fprintf (fp, \"%7.2f (%2.0f%%)\",\n \t   elapsed.sys,\n \t   (total->sys == 0 ? 0 : elapsed.sys / total->sys) * 100);\n #endif /* HAVE_SYS_TIME */\n \n #ifdef HAVE_WALL_TIME\n   /* Print wall clock time elapsed.  */\n-  fprintf (fp, \"%7.2f (%2.0f%%) wall\",\n+  fprintf (fp, \"%7.2f (%2.0f%%)\",\n \t   elapsed.wall,\n \t   (total->wall == 0 ? 0 : elapsed.wall / total->wall) * 100);\n #endif /* HAVE_WALL_TIME */\n \n   /* Print the amount of ggc memory allocated.  */\n-  fprintf (fp, \"%8u kB (%2.0f%%) ggc\",\n+  fprintf (fp, \"%8u kB (%2.0f%%)\",\n \t   (unsigned) (elapsed.ggc_mem >> 10),\n \t   (total->ggc_mem == 0\n \t    ? 0\n@@ -712,7 +712,8 @@ timer::print (FILE *fp)\n      TIMEVAR.  */\n   m_start_time = now;\n \n-  fputs (\"\\nExecution times (seconds)\\n\", fp);\n+  fprintf (fp, \"\\n%-35s%15s%13s%13s%17s\\n\", \"Time variable\", \"usr\", \"sys\",\n+\t   \"wall\", \"GGC\");\n   if (m_jit_client_items)\n     fputs (\"GCC items:\\n\", fp);\n   for (id = 0; id < (unsigned int) TIMEVAR_LAST; ++id)\n@@ -765,15 +766,15 @@ timer::print (FILE *fp)\n     m_jit_client_items->print (fp, total);\n \n   /* Print total time.  */\n-  fputs (\" TOTAL                 :\", fp);\n+  fprintf (fp, \" %-35s:\", \"TOTAL\");\n #ifdef HAVE_USER_TIME\n-  fprintf (fp, \"%7.2f          \", total->user);\n+  fprintf (fp, \"%7.2f      \", total->user);\n #endif\n #ifdef HAVE_SYS_TIME\n-  fprintf (fp, \"%7.2f          \", total->sys);\n+  fprintf (fp, \"%7.2f      \", total->sys);\n #endif\n #ifdef HAVE_WALL_TIME\n-  fprintf (fp, \"%7.2f           \", total->wall);\n+  fprintf (fp, \"%7.2f      \", total->wall);\n #endif\n   fprintf (fp, \"%8u kB\\n\", (unsigned) (total->ggc_mem >> 10));\n "}]}