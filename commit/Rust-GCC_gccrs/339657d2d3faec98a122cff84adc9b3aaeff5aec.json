{"sha": "339657d2d3faec98a122cff84adc9b3aaeff5aec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzM5NjU3ZDJkM2ZhZWM5OGExMjJjZmY4NGFkYzliM2FhZWZmNWFlYw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-07-05T17:03:14Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-07-05T17:03:14Z"}, "message": "Add xfail-if to some tests that fail with COW strings\n\nThese tests fail when run with -D_GLIBCXX_USE_CXX11_ABI=0\n\n\t* testsuite/21_strings/basic_string/cons/char/deduction.cc: XFAIL for\n\tCOW strings.\n\t* testsuite/21_strings/basic_string/cons/wchar_t/deduction.cc:\n\tLikewise.\n\t* testsuite/21_strings/basic_string/requirements/\n\texplicit_instantiation/debug.cc: Likewise.\n\nFrom-SVN: r262448", "tree": {"sha": "4305f3582ac3a4dff6e1526ee0cd9230f42b06fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4305f3582ac3a4dff6e1526ee0cd9230f42b06fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/339657d2d3faec98a122cff84adc9b3aaeff5aec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/339657d2d3faec98a122cff84adc9b3aaeff5aec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/339657d2d3faec98a122cff84adc9b3aaeff5aec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/339657d2d3faec98a122cff84adc9b3aaeff5aec/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30236791e04a08c3a7edc49f00af4c63c4cb6a9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30236791e04a08c3a7edc49f00af4c63c4cb6a9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30236791e04a08c3a7edc49f00af4c63c4cb6a9d"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "38eb2c5fa06b3aa75d8458526a6262b152d0fc93", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=339657d2d3faec98a122cff84adc9b3aaeff5aec", "patch": "@@ -1,5 +1,12 @@\n 2018-07-05  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* testsuite/21_strings/basic_string/cons/char/deduction.cc: XFAIL for\n+\tCOW strings.\n+\t* testsuite/21_strings/basic_string/cons/wchar_t/deduction.cc:\n+\tLikewise.\n+\t* testsuite/21_strings/basic_string/requirements/\n+\texplicit_instantiation/debug.cc: Likewise.\n+\n \tPR libstdc++/58265\n \t* include/bits/basic_string.h [!_GLIBCXX_USE_CXX11_ABI]\n \t(basic_string::assign(basic_string&&)): Add conditional noexcept"}, {"sha": "4662fbd4b4d48a30de68cd7c4faf3ff4bbe62644", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/cons/char/deduction.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fchar%2Fdeduction.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fchar%2Fdeduction.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fchar%2Fdeduction.cc?ref=339657d2d3faec98a122cff84adc9b3aaeff5aec", "patch": "@@ -17,6 +17,7 @@\n \n // { dg-options \"-std=gnu++17\" }\n // { dg-do compile { target c++17 } }\n+// { dg-xfail-if \"COW string missing deduction guides\" { ! cxx11-abi } }\n \n #include <string>\n #include <testsuite_iterators.h>"}, {"sha": "7740af5112308c155a9f67ea3903813f1e847810", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/cons/wchar_t/deduction.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2Fdeduction.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2Fdeduction.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Fcons%2Fwchar_t%2Fdeduction.cc?ref=339657d2d3faec98a122cff84adc9b3aaeff5aec", "patch": "@@ -17,6 +17,7 @@\n \n // { dg-options \"-std=gnu++17\" }\n // { dg-do compile { target c++17 } }\n+// { dg-xfail-if \"COW string missing deduction guides\" { ! cxx11-abi } }\n \n #include <string>\n #include <testsuite_iterators.h>"}, {"sha": "20b8f59ba3d93803b6c80ea0f1281f3fd4a12605", "filename": "libstdc++-v3/testsuite/21_strings/basic_string/requirements/explicit_instantiation/debug.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Frequirements%2Fexplicit_instantiation%2Fdebug.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/339657d2d3faec98a122cff84adc9b3aaeff5aec/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Frequirements%2Fexplicit_instantiation%2Fdebug.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fbasic_string%2Frequirements%2Fexplicit_instantiation%2Fdebug.cc?ref=339657d2d3faec98a122cff84adc9b3aaeff5aec", "patch": "@@ -20,8 +20,9 @@\n #include <debug/string>\n \n // { dg-do compile }\n+// { dg-xfail-if \"COW string missing some required members\" { ! cxx11-abi } }\n \n // libstdc++/21770\n namespace debug = __gnu_debug;\n-template class debug::basic_string<int, std::char_traits<int>, \n+template class debug::basic_string<int, std::char_traits<int>,\n \t\t\t\t   std::allocator<char> >;"}]}