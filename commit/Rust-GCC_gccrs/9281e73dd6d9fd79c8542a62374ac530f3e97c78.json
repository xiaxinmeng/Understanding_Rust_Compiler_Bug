{"sha": "9281e73dd6d9fd79c8542a62374ac530f3e97c78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTI4MWU3M2RkNmQ5ZmQ3OWM4NTQyYTYyMzc0YWM1MzBmM2U5N2M3OA==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2006-09-22T23:38:42Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2006-09-22T23:38:42Z"}, "message": "darwin.h (LINK_SYSROOT_SPEC): New.\n\n\t* config/darwin.h (LINK_SYSROOT_SPEC): New.\n\t(LINK_SPEC): If TARGET_SYSTEM_ROOT is defined, pass it to\n\tthe linker by default.\n\nFrom-SVN: r117158", "tree": {"sha": "a31dfa65c8e0855063a828f3956c0c8469fc7bb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a31dfa65c8e0855063a828f3956c0c8469fc7bb5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9281e73dd6d9fd79c8542a62374ac530f3e97c78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9281e73dd6d9fd79c8542a62374ac530f3e97c78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9281e73dd6d9fd79c8542a62374ac530f3e97c78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9281e73dd6d9fd79c8542a62374ac530f3e97c78/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "aaf50ff29c2ab02f8224737c56b43470b801f3f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aaf50ff29c2ab02f8224737c56b43470b801f3f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aaf50ff29c2ab02f8224737c56b43470b801f3f3"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "d8683fbd26ee2bca3c93423bce21fb8ee9a18cc9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281e73dd6d9fd79c8542a62374ac530f3e97c78/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281e73dd6d9fd79c8542a62374ac530f3e97c78/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9281e73dd6d9fd79c8542a62374ac530f3e97c78", "patch": "@@ -1,3 +1,9 @@\n+2006-09-22  Geoffrey Keating  <geoffk@apple.com>\n+\n+\t* config/darwin.h (LINK_SYSROOT_SPEC): New.\n+\t(LINK_SPEC): If TARGET_SYSTEM_ROOT is defined, pass it to\n+\tthe linker by default.\n+\n 2006-09-22  Mike Stump  <mrs@apple.com>\n \n \t* config/rs6000/darwin.h (PROFILE_HOOK): Reassociate comment with"}, {"sha": "328754e8aeeffd08b64bd6303fdb64653d7cee81", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9281e73dd6d9fd79c8542a62374ac530f3e97c78/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9281e73dd6d9fd79c8542a62374ac530f3e97c78/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=9281e73dd6d9fd79c8542a62374ac530f3e97c78", "patch": "@@ -214,6 +214,13 @@ extern GTY(()) int darwin_ms_struct;\n     %{!nostdlib:%{!nodefaultlibs:%(link_ssp) %G %L}} \\\n     %{!A:%{!nostdlib:%{!nostartfiles:%E}}} %{T*} %{F*} }}}}}}}}\"\n \n+#ifdef TARGET_SYSTEM_ROOT\n+#define LINK_SYSROOT_SPEC \\\n+  \"%{isysroot*:-syslibroot %*;:-syslibroot \" TARGET_SYSTEM_ROOT \"}\"\n+#else\n+#define LINK_SYSROOT_SPEC \"%{isysroot*:-syslibroot %*}\"\n+#endif\n+\n /* Please keep the random linker options in alphabetical order (modulo\n    'Z' and 'no' prefixes).  Options that can only go to one of libtool\n    or ld must be listed twice, under both !Zdynamiclib and\n@@ -282,7 +289,7 @@ extern GTY(()) int darwin_ms_struct;\n    %{Zseg_addr_table*: -seg_addr_table %*} \\\n    %{Zfn_seg_addr_table_filename*:-seg_addr_table_filename %*} \\\n    %{sub_library*} %{sub_umbrella*} \\\n-   %{isysroot*:-syslibroot %*} \\\n+   \" LINK_SYSROOT_SPEC \" \\\n    %{twolevel_namespace} %{twolevel_namespace_hints} \\\n    %{umbrella*} \\\n    %{undefined*} \\"}]}