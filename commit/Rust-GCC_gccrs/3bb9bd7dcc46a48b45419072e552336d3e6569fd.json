{"sha": "3bb9bd7dcc46a48b45419072e552336d3e6569fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JiOWJkN2RjYzQ2YTQ4YjQ1NDE5MDcyZTU1MjMzNmQzZTY1NjlmZA==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2018-07-31T09:55:21Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-07-31T09:55:21Z"}, "message": "[Ada] Fix resolution of class-wide operations that are generic actuals\n\n2018-07-31  Ed Schonberg  <schonberg@adacore.com>\n\ngcc/ada/\n\n\t* sem_ch4.adb (Traverse_Homonyms): Consider generic actuals that\n\tmay rename a matching class-wide operation only if the renaming\n\tdeclaration for that actual is in an enclosing scope (i.e.\n\twithin the corrresponding instance).\n\nFrom-SVN: r263090", "tree": {"sha": "30d1271beb36d52d579448ddd77c7152a3129b6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/30d1271beb36d52d579448ddd77c7152a3129b6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3bb9bd7dcc46a48b45419072e552336d3e6569fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bb9bd7dcc46a48b45419072e552336d3e6569fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3bb9bd7dcc46a48b45419072e552336d3e6569fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3bb9bd7dcc46a48b45419072e552336d3e6569fd/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "617709748bf6e8c9590ce8a19a20c57de53a08e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/617709748bf6e8c9590ce8a19a20c57de53a08e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/617709748bf6e8c9590ce8a19a20c57de53a08e2"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "ef1128ff2a73ddb4371073e89b4bbc686a75f192", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bb9bd7dcc46a48b45419072e552336d3e6569fd/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bb9bd7dcc46a48b45419072e552336d3e6569fd/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=3bb9bd7dcc46a48b45419072e552336d3e6569fd", "patch": "@@ -1,3 +1,10 @@\n+2018-07-31  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch4.adb (Traverse_Homonyms): Consider generic actuals that\n+\tmay rename a matching class-wide operation only if the renaming\n+\tdeclaration for that actual is in an enclosing scope (i.e.\n+\twithin the corrresponding instance).\n+\n 2018-07-31  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* checks.adb, contracts.adb, exp_aggr.adb, exp_ch5.adb,"}, {"sha": "5176175d434ee0ba4b80bf0d3f38c0845b739537", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3bb9bd7dcc46a48b45419072e552336d3e6569fd/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3bb9bd7dcc46a48b45419072e552336d3e6569fd/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=3bb9bd7dcc46a48b45419072e552336d3e6569fd", "patch": "@@ -8977,12 +8977,16 @@ package body Sem_Ch4 is\n             --  to same. If in an instance, the operation can be considered\n             --  even if hidden (it may be hidden because the instantiation\n             --  is expanded after the containing package has been analyzed).\n+            --  If the subprogram is a generic actual in an enclosing instance,\n+            --  it appears as a renaming that is a candidate interpretation as\n+            --  well.\n \n             Hom := Current_Entity (Subprog);\n             while Present (Hom) loop\n                if Ekind_In (Hom, E_Procedure, E_Function)\n                  and then Present (Renamed_Entity (Hom))\n                  and then Is_Generic_Actual_Subprogram (Hom)\n+                 and then In_Open_Scopes (Scope (Hom))\n                then\n                   Candidate := Renamed_Entity (Hom);\n                else"}]}