{"sha": "6981f098df43865ad183293c0c7c3d2f9374460e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk4MWYwOThkZjQzODY1YWQxODMyOTNjMGM3YzNkMmY5Mzc0NDYwZQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@cavium.com", "date": "2017-12-05T18:47:00Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2017-12-05T18:47:00Z"}, "message": "thunderx2-t99.md (thunderx2t99_branch): Add trap to reservation.\n\n2017-12-05  Steve Ellcey  <sellcey@cavium.com>\n\n\t* config/aarch64/thunderx2-t99.md (thunderx2t99_branch): Add trap\n\tto reservation.\n\t(thunderx2t99_nothing): New insn reservation.\n\t(thunderx2t99_mrs): New insn reservation.\n\t(thunderx2t99_multiple): New insn reservation.\n\t(thunderx2t99_alu_basi): Add bfx to reservation.\n\t(thunderx2t99_fp_cmp): Add fccmps and fccmpd to reservation.\n\nFrom-SVN: r255431", "tree": {"sha": "891d64518fe2a26abbebe5a382ec6ee78bedb150", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/891d64518fe2a26abbebe5a382ec6ee78bedb150"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6981f098df43865ad183293c0c7c3d2f9374460e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6981f098df43865ad183293c0c7c3d2f9374460e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6981f098df43865ad183293c0c7c3d2f9374460e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6981f098df43865ad183293c0c7c3d2f9374460e/comments", "author": {"login": "sellcey", "id": 25938520, "node_id": "MDQ6VXNlcjI1OTM4NTIw", "avatar_url": "https://avatars.githubusercontent.com/u/25938520?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sellcey", "html_url": "https://github.com/sellcey", "followers_url": "https://api.github.com/users/sellcey/followers", "following_url": "https://api.github.com/users/sellcey/following{/other_user}", "gists_url": "https://api.github.com/users/sellcey/gists{/gist_id}", "starred_url": "https://api.github.com/users/sellcey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sellcey/subscriptions", "organizations_url": "https://api.github.com/users/sellcey/orgs", "repos_url": "https://api.github.com/users/sellcey/repos", "events_url": "https://api.github.com/users/sellcey/events{/privacy}", "received_events_url": "https://api.github.com/users/sellcey/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "53943619eb92811e82c3e0917c675ee709fbfe2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53943619eb92811e82c3e0917c675ee709fbfe2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53943619eb92811e82c3e0917c675ee709fbfe2a"}], "stats": {"total": 37, "additions": 34, "deletions": 3}, "files": [{"sha": "603f7f0cf5819f96a600e94e8d766996d5de25b0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6981f098df43865ad183293c0c7c3d2f9374460e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6981f098df43865ad183293c0c7c3d2f9374460e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6981f098df43865ad183293c0c7c3d2f9374460e", "patch": "@@ -1,3 +1,13 @@\n+2017-12-05  Steve Ellcey  <sellcey@cavium.com>\n+\n+\t* config/aarch64/thunderx2-t99.md (thunderx2t99_branch): Add trap\n+\tto reservation.\n+\t(thunderx2t99_nothing): New insn reservation.\n+\t(thunderx2t99_mrs): New insn reservation.\n+\t(thunderx2t99_multiple): New insn reservation.\n+\t(thunderx2t99_alu_basi): Add bfx to reservation.\n+\t(thunderx2t99_fp_cmp): Add fccmps and fccmpd to reservation.\n+\n 2017-12-05  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \n \tPR target/82248"}, {"sha": "6d2785c759b71a8ccd5b4117f19a21f2154e1f42", "filename": "gcc/config/aarch64/thunderx2t99.md", "status": "modified", "additions": 24, "deletions": 3, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6981f098df43865ad183293c0c7c3d2f9374460e/gcc%2Fconfig%2Faarch64%2Fthunderx2t99.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6981f098df43865ad183293c0c7c3d2f9374460e/gcc%2Fconfig%2Faarch64%2Fthunderx2t99.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Fthunderx2t99.md?ref=6981f098df43865ad183293c0c7c3d2f9374460e", "patch": "@@ -69,9 +69,30 @@\n \n (define_insn_reservation \"thunderx2t99_branch\" 1\n   (and (eq_attr \"tune\" \"thunderx2t99\")\n-       (eq_attr \"type\" \"call,branch\"))\n+       (eq_attr \"type\" \"call,branch,trap\"))\n   \"thunderx2t99_i2\")\n \n+;; Misc instructions.\n+\n+(define_insn_reservation \"thunderx2t99_nothing\" 0\n+  (and (eq_attr \"tune\" \"thunderx2t99\")\n+       (eq_attr \"type\" \"no_insn,block\"))\n+  \"nothing\")\n+\n+(define_insn_reservation \"thunderx2t99_mrs\" 0\n+  (and (eq_attr \"tune\" \"thunderx2t99\")\n+       (eq_attr \"type\" \"mrs\"))\n+  \"thunderx2t99_i2\")\n+\n+(define_insn_reservation \"thunderx2t99_multiple\" 1\n+  (and (eq_attr \"tune\" \"thunderx2t99\")\n+       (eq_attr \"type\" \"multiple\"))\n+  \"thunderx2t99_i0+thunderx2t99_i1+thunderx2t99_i2+thunderx2t99_ls0+\\\n+   thunderx2t99_ls1+thunderx2t99_sd+thunderx2t99_i1m1+thunderx2t99_i1m2+\\\n+   thunderx2t99_i1m3+thunderx2t99_ls0d1+thunderx2t99_ls0d2+thunderx2t99_ls0d3+\\\n+   thunderx2t99_ls1d1+thunderx2t99_ls1d2+thunderx2t99_ls1d3+thunderx2t99_f0+\\\n+   thunderx2t99_f1\")\n+\n ;; Integer arithmetic/logic instructions.\n \n ; Plain register moves are handled by renaming, and don't create any uops.\n@@ -87,7 +108,7 @@\n \t\t\tadc_reg,adc_imm,adcs_reg,adcs_imm,\\\n \t\t\tlogic_reg,logic_imm,logics_reg,logics_imm,\\\n \t\t\tcsel,adr,mov_imm,shift_reg,shift_imm,bfm,\\\n-\t\t\trbit,rev,extend,rotate_imm\"))\n+\t\t\tbfx,rbit,rev,extend,rotate_imm\"))\n   \"thunderx2t99_i012\")\n \n (define_insn_reservation \"thunderx2t99_alu_shift\" 2\n@@ -155,7 +176,7 @@\n \n (define_insn_reservation \"thunderx2t99_fp_cmp\" 5\n   (and (eq_attr \"tune\" \"thunderx2t99\")\n-       (eq_attr \"type\" \"fcmps,fcmpd\"))\n+       (eq_attr \"type\" \"fcmps,fcmpd,fccmps,fccmpd\"))\n   \"thunderx2t99_f01\")\n \n (define_insn_reservation \"thunderx2t99_fp_divsqrt_s\" 16"}]}