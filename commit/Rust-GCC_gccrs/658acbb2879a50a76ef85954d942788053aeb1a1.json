{"sha": "658acbb2879a50a76ef85954d942788053aeb1a1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU4YWNiYjI4NzlhNTBhNzZlZjg1OTU0ZDk0Mjc4ODA1M2FlYjFhMQ==", "commit": {"author": {"name": "Ranjit Mathew", "email": "rmathew@hotmail.com", "date": "2005-01-17T14:17:41Z"}, "committer": {"name": "Ranjit Mathew", "email": "rmathew@gcc.gnu.org", "date": "2005-01-17T14:17:41Z"}, "message": "gthr-posix.h (__gthread_active_p): Use pthread_cancel instead of pthread_create to find out if threads are enabled.\n\n\t* gthr-posix.h (__gthread_active_p): Use pthread_cancel instead\n\tof pthread_create to find out if threads are enabled.\n\t* gthr-posix95.h (__gthread_active_p): Likewise.\n\nFrom-SVN: r93762", "tree": {"sha": "6237706efe80abda4c5d24f91ae1f6b303b5345f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6237706efe80abda4c5d24f91ae1f6b303b5345f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/658acbb2879a50a76ef85954d942788053aeb1a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/658acbb2879a50a76ef85954d942788053aeb1a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/658acbb2879a50a76ef85954d942788053aeb1a1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/658acbb2879a50a76ef85954d942788053aeb1a1/comments", "author": null, "committer": null, "parents": [{"sha": "ac317859d409434b0f5ef8ec89a7abcacb10bd3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac317859d409434b0f5ef8ec89a7abcacb10bd3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac317859d409434b0f5ef8ec89a7abcacb10bd3e"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "47d6a63be079da9e9cdd964f7186e59f60e3db8d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=658acbb2879a50a76ef85954d942788053aeb1a1", "patch": "@@ -1,3 +1,9 @@\n+2005-01-17  Ranjit Mathew  <rmathew@hotmail.com>\n+\n+\t* gthr-posix.h (__gthread_active_p): Use pthread_cancel instead\n+\tof pthread_create to find out if threads are enabled.\n+\t* gthr-posix95.h (__gthread_active_p): Likewise.\n+\n 2005-01-17  Ira Rosen  <irar@il.ibm.com>\n \n \t* fortran/f95-lang.c (gfc_init_builtin_functions): Call"}, {"sha": "9b56b5aec51176b2076814f6df5766567b6f3ad5", "filename": "gcc/gthr-posix.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2Fgthr-posix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2Fgthr-posix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-posix.h?ref=658acbb2879a50a76ef85954d942788053aeb1a1", "patch": "@@ -1,6 +1,6 @@\n /* Threads compatibility routines for libgcc2 and libobjc.  */\n /* Compile this one with gcc.  */\n-/* Copyright (C) 1997, 1999, 2000, 2001, 2002, 2003, 2004\n+/* Copyright (C) 1997, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n    Free Software Foundation, Inc.\n \n This file is part of GCC.\n@@ -66,6 +66,7 @@ typedef pthread_mutex_t __gthread_recursive_mutex_t;\n #pragma weak pthread_getspecific\n #pragma weak pthread_setspecific\n #pragma weak pthread_create\n+#pragma weak pthread_cancel\n \n #pragma weak pthread_mutex_lock\n #pragma weak pthread_mutex_trylock\n@@ -106,7 +107,7 @@ static inline int\n __gthread_active_p (void)\n {\n   static void *const __gthread_active_ptr \n-    = __extension__ (void *) &pthread_create;\n+    = __extension__ (void *) &pthread_cancel;\n   return __gthread_active_ptr != 0;\n }\n "}, {"sha": "b0bd1325b813cb9e85b25353ad049d880b8a476a", "filename": "gcc/gthr-posix95.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2Fgthr-posix95.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/658acbb2879a50a76ef85954d942788053aeb1a1/gcc%2Fgthr-posix95.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgthr-posix95.h?ref=658acbb2879a50a76ef85954d942788053aeb1a1", "patch": "@@ -1,6 +1,6 @@\n /* Threads compatibility routines for libgcc2 and libobjc.  */\n /* Compile this one with gcc.  */\n-/* Copyright (C) 2004 Free Software Foundation, Inc.\n+/* Copyright (C) 2004, 2005 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -64,6 +64,7 @@ typedef struct {\n #pragma weak pthread_getspecific\n #pragma weak pthread_setspecific\n #pragma weak pthread_create\n+#pragma weak pthread_cancel\n #pragma weak pthread_self\n \n #pragma weak pthread_mutex_lock\n@@ -105,7 +106,7 @@ static inline int\n __gthread_active_p (void)\n {\n   static void *const __gthread_active_ptr \n-    = __extension__ (void *) &pthread_create;\n+    = __extension__ (void *) &pthread_cancel;\n   return __gthread_active_ptr != 0;\n }\n "}]}