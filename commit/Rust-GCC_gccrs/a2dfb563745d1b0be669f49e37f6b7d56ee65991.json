{"sha": "a2dfb563745d1b0be669f49e37f6b7d56ee65991", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTJkZmI1NjM3NDVkMWIwYmU2NjlmNDllMzdmNmI3ZDU2ZWU2NTk5MQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2015-08-08T22:01:12Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2015-08-08T22:01:12Z"}, "message": "re PR libstdc++/67114 ([MinGW64] build failure with POSIX threads enabled)\n\n\tPR c++/67114\n\t* call.c (joust): Only call more_constrained on decls.\n\nFrom-SVN: r226736", "tree": {"sha": "18a19359cd9649a35ab3c567c59196d14812616c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18a19359cd9649a35ab3c567c59196d14812616c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a2dfb563745d1b0be669f49e37f6b7d56ee65991", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2dfb563745d1b0be669f49e37f6b7d56ee65991", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2dfb563745d1b0be669f49e37f6b7d56ee65991", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2dfb563745d1b0be669f49e37f6b7d56ee65991/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "aab2b071540bff9d433c42d8e1487e2a60be7322", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aab2b071540bff9d433c42d8e1487e2a60be7322", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aab2b071540bff9d433c42d8e1487e2a60be7322"}], "stats": {"total": 40, "additions": 32, "deletions": 8}, "files": [{"sha": "40ed123c961c42f8015b07d00c3ba3e82f7de107", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a2dfb563745d1b0be669f49e37f6b7d56ee65991", "patch": "@@ -1,3 +1,8 @@\n+2015-08-08  Jason Merrill  <jason@redhat.com>\n+\n+\tPR c++/67114\n+\t* call.c (joust): Only call more_constrained on decls.\n+\n 2015-08-06  Andrew Sutton  <andrew.n.sutton@gmail.com>\n \t    Braden Obrzut  <admin@maniacsvault.net>\n \t    Jason Merrill  <jason@redhat.com>"}, {"sha": "19ddb91e08fc53137c0e8a0a1fe7c0bb386574de", "filename": "gcc/cp/call.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=a2dfb563745d1b0be669f49e37f6b7d56ee65991", "patch": "@@ -9157,14 +9157,14 @@ joust (struct z_candidate *cand1, struct z_candidate *cand2, bool warn,\n \treturn winner;\n     }\n \n-    // C++ Concepts\n-    // or, if not that, F1 is more constrained than F2.\n-    if (flag_concepts)\n-      {\n-        winner = more_constrained (cand1->fn, cand2->fn);\n-        if (winner)\n-          return winner;\n-      }\n+  // C++ Concepts\n+  // or, if not that, F1 is more constrained than F2.\n+  if (flag_concepts && DECL_P (cand1->fn) && DECL_P (cand2->fn))\n+    {\n+      winner = more_constrained (cand1->fn, cand2->fn);\n+      if (winner)\n+\treturn winner;\n+    }\n \n   /* Check whether we can discard a builtin candidate, either because we\n      have two identical ones or matching builtin and non-builtin candidates."}, {"sha": "bbcca083ede5d7474a2545cf3fcd415af8b3687f", "filename": "gcc/testsuite/g++.dg/cpp1z/regress1.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fregress1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2dfb563745d1b0be669f49e37f6b7d56ee65991/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fregress1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fregress1.C?ref=a2dfb563745d1b0be669f49e37f6b7d56ee65991", "patch": "@@ -0,0 +1,19 @@\n+// PR c++/67114\n+// { dg-options -std=c++1z }\n+\n+typedef unsigned uint32_t;\n+class A {\n+public:\n+  void operator==(A);\n+  operator uint32_t() const;\n+  operator int() const;\n+};\n+class BluetoothNamedValue {\n+  bool operator==(const BluetoothNamedValue &) const;\n+  A value() const;\n+};\n+auto BluetoothNamedValue::\n+operator==(const BluetoothNamedValue &) const -> bool {\n+  value() == value();\n+  return true;\n+}"}]}