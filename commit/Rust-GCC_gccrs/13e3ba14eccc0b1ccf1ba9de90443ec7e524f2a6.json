{"sha": "13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTNlM2JhMTRlY2NjMGIxY2NmMWJhOWRlOTA0NDNlYzdlNTI0ZjJhNg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2020-03-03T21:45:56Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2020-03-04T15:44:12Z"}, "message": "analyzer: remove unused private fields\n\ngcc/analyzer/ChangeLog:\n\t* engine.cc (worklist::worklist): Remove unused field m_eg.\n\t(class viz_callgraph_edge): Remove unused field m_call_sedge.\n\t(class viz_callgraph): Remove unused field m_sg.\n\t* exploded-graph.h (worklist::::m_eg): Remove unused field.", "tree": {"sha": "81ddd6a03a8df0692482899443b9b9461830a259", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81ddd6a03a8df0692482899443b9b9461830a259"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94f7d7ec6ebef49a50da777fd71db3d03ee03aa0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94f7d7ec6ebef49a50da777fd71db3d03ee03aa0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94f7d7ec6ebef49a50da777fd71db3d03ee03aa0"}], "stats": {"total": 26, "additions": 12, "deletions": 14}, "files": [{"sha": "1ec81000ba24c65cd47c464e418fe7ba2b854dae", "filename": "gcc/analyzer/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2FChangeLog?ref=13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "patch": "@@ -1,3 +1,10 @@\n+2020-03-04  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* engine.cc (worklist::worklist): Remove unused field m_eg.\n+\t(class viz_callgraph_edge): Remove unused field m_call_sedge.\n+\t(class viz_callgraph): Remove unused field m_sg.\n+\t* exploded-graph.h (worklist::::m_eg): Remove unused field.\n+\n 2020-03-02  David Malcolm  <dmalcolm@redhat.com>\n \n \t* analyzer.opt (fanalyzer-show-duplicate-count): New option."}, {"sha": "e411d5b40e7050b38f289937f430b82f1b8a4081", "filename": "gcc/analyzer/engine.cc", "status": "modified", "additions": 5, "deletions": 13, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2Fengine.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2Fengine.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fengine.cc?ref=13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "patch": "@@ -1654,8 +1654,7 @@ strongly_connected_components::strong_connect (unsigned index)\n /* worklist's ctor.  */\n \n worklist::worklist (const exploded_graph &eg, const analysis_plan &plan)\n-: m_eg (eg),\n-  m_scc (eg.get_supergraph (), eg.get_logger ()),\n+: m_scc (eg.get_supergraph (), eg.get_logger ()),\n   m_plan (plan),\n   m_queue (key_t (*this, NULL))\n {\n@@ -3602,10 +3601,8 @@ class viz_callgraph_node : public dnode<viz_callgraph_traits>\n class viz_callgraph_edge : public dedge<viz_callgraph_traits>\n {\n public:\n-  viz_callgraph_edge (viz_callgraph_node *src, viz_callgraph_node *dest,\n-\t\t     const call_superedge *call_sedge)\n-  : dedge<viz_callgraph_traits> (src, dest),\n-    m_call_sedge (call_sedge)\n+  viz_callgraph_edge (viz_callgraph_node *src, viz_callgraph_node *dest)\n+  : dedge<viz_callgraph_traits> (src, dest)\n   {}\n \n   void dump_dot (graphviz_out *gv, const dump_args_t &) const\n@@ -3627,9 +3624,6 @@ class viz_callgraph_edge : public dedge<viz_callgraph_traits>\n \t       style, color, weight, constraint);\n     pp_printf (pp, \"\\\"];\\n\");\n   }\n-\n-private:\n-  const call_superedge * const m_call_sedge;\n };\n \n /* Subclass of digraph representing the callgraph.  */\n@@ -3650,7 +3644,6 @@ class viz_callgraph : public digraph<viz_callgraph_traits>\n   }\n \n private:\n-  const supergraph &m_sg;\n   hash_map<function *, viz_callgraph_node *> m_map;\n };\n \n@@ -3663,7 +3656,6 @@ class viz_callgraph_cluster : public cluster<viz_callgraph_traits>\n /* viz_callgraph's ctor.  */\n \n viz_callgraph::viz_callgraph (const supergraph &sg)\n-: m_sg (sg)\n {\n   cgraph_node *node;\n   FOR_EACH_FUNCTION_WITH_GIMPLE_BODY (node)\n@@ -3682,11 +3674,11 @@ viz_callgraph::viz_callgraph (const supergraph &sg)\n       viz_callgraph_node *vcg_src = get_vcg_node_for_snode (sedge->m_src);\n       if (vcg_src->m_fun)\n \tget_vcg_node_for_function (vcg_src->m_fun)->m_num_superedges++;\n-      if (const call_superedge *call_sedge = sedge->dyn_cast_call_superedge ())\n+      if (sedge->dyn_cast_call_superedge ())\n \t{\n \t  viz_callgraph_node *vcg_dest = get_vcg_node_for_snode (sedge->m_dest);\n \t  viz_callgraph_edge *vcg_edge\n-\t    = new viz_callgraph_edge (vcg_src, vcg_dest, call_sedge);\n+\t    = new viz_callgraph_edge (vcg_src, vcg_dest);\n \t  add_edge (vcg_edge);\n \t}\n     }"}, {"sha": "c0a520a99614e2fef99ea488d9a3410d5fc2e388", "filename": "gcc/analyzer/exploded-graph.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2Fexploded-graph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6/gcc%2Fanalyzer%2Fexploded-graph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fanalyzer%2Fexploded-graph.h?ref=13e3ba14eccc0b1ccf1ba9de90443ec7e524f2a6", "patch": "@@ -710,7 +710,6 @@ class worklist\n   /* The order is important here: m_scc needs to stick around\n      until after m_queue has finished being cleaned up (the dtor\n      calls the ordering fns).  */\n-  const exploded_graph &m_eg;\n   strongly_connected_components m_scc;\n   const analysis_plan &m_plan;\n "}]}