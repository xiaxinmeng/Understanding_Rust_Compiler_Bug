{"sha": "27c35f4b2435bc05271dca75ec26a585e6853f4a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjdjMzVmNGIyNDM1YmMwNTI3MWRjYTc1ZWMyNmE1ODVlNjg1M2Y0YQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2000-10-18T12:49:47Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-10-18T12:49:47Z"}, "message": "tm.texi (Exception Region Output): Document DWARF_CIE_DATA_ALIGNMENT.\n\n\t* tm.texi (Exception Region Output): Document\n\tDWARF_CIE_DATA_ALIGNMENT.\n\t* dwarf2out.c (DWARF_CIE_DATA_ALIGNMENT): Wrap definition in\n\t#ifndef.\n\t[ENABLE_CHECKING] (reg_save): Abort if offset is not a multiple of\n\tDWARF_CIE_DATA_ALIGNMENT.\n\nFrom-SVN: r36935", "tree": {"sha": "d5d06509d24b12adeb8adeeef6a987f7b8e85b26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5d06509d24b12adeb8adeeef6a987f7b8e85b26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/27c35f4b2435bc05271dca75ec26a585e6853f4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27c35f4b2435bc05271dca75ec26a585e6853f4a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27c35f4b2435bc05271dca75ec26a585e6853f4a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27c35f4b2435bc05271dca75ec26a585e6853f4a/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4a7da9b55397ecac9f71f3b4f3020ba242ee385c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a7da9b55397ecac9f71f3b4f3020ba242ee385c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a7da9b55397ecac9f71f3b4f3020ba242ee385c"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "a78abfdea90106bccc16425da38cfab3e72a267e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=27c35f4b2435bc05271dca75ec26a585e6853f4a", "patch": "@@ -1,3 +1,12 @@\n+2000-10-18  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* tm.texi (Exception Region Output): Document\n+\tDWARF_CIE_DATA_ALIGNMENT.\n+\t* dwarf2out.c (DWARF_CIE_DATA_ALIGNMENT): Wrap definition in\n+\t#ifndef.\n+\t[ENABLE_CHECKING] (reg_save): Abort if offset is not a multiple of\n+\tDWARF_CIE_DATA_ALIGNMENT.\n+\n 2000-10-18  Michael Hayes  <mhayes@cygnus.com>\n \n \t* basic-block.h (struct loop): Delete fields pre_header_root"}, {"sha": "b362a1ec7d17a0674a58f38e9d7130342835aeda", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=27c35f4b2435bc05271dca75ec26a585e6853f4a", "patch": "@@ -169,11 +169,13 @@ dw_fde_node;\n   ((((SIZE) + (BOUNDARY) - 1) / (BOUNDARY)) * (BOUNDARY))\n \n /* Offsets recorded in opcodes are a multiple of this alignment factor.  */\n+#ifndef DWARF_CIE_DATA_ALIGNMENT\n #ifdef STACK_GROWS_DOWNWARD\n #define DWARF_CIE_DATA_ALIGNMENT (-((int) UNITS_PER_WORD))\n #else\n #define DWARF_CIE_DATA_ALIGNMENT ((int) UNITS_PER_WORD)\n #endif\n+#endif /* not DWARF_CIE_DATA_ALIGNMENT */\n \n /* A pointer to the base of a table that contains frame description\n    information for each routine.  */\n@@ -940,6 +942,18 @@ reg_save (label, reg, sreg, offset)\n       else\n \tcfi->dw_cfi_opc = DW_CFA_offset;\n \n+#ifdef ENABLE_CHECKING\n+      {\n+\t/* If we get an offset that is not a multiple of\n+\t   DWARF_CIE_DATA_ALIGNMENT, there is either a bug in the\n+\t   definition of DWARF_CIE_DATA_ALIGNMENT, or a bug in the machine\n+\t   description.  */\n+\tlong check_offset = offset / DWARF_CIE_DATA_ALIGNMENT;\n+\n+\tif (check_offset * DWARF_CIE_DATA_ALIGNMENT != offset)\n+\t  abort ();\n+      }\n+#endif\n       offset /= DWARF_CIE_DATA_ALIGNMENT;\n       if (offset < 0)\n \t{"}, {"sha": "fd2403e3039552cedfb60cb6f6d6f8493cae96eb", "filename": "gcc/tm.texi", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27c35f4b2435bc05271dca75ec26a585e6853f4a/gcc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftm.texi?ref=27c35f4b2435bc05271dca75ec26a585e6853f4a", "patch": "@@ -6682,6 +6682,15 @@ default.\n If this macro is defined to anything, the DWARF 2 unwinder will be used\n instead of inline unwinders and __unwind_function in the non-setjmp case.\n \n+@findex DWARF_CIE_DATA_ALIGNMENT\n+@item DWARF_CIE_DATA_ALIGNMENT\n+This macro need only be defined if the target might save registers in the\n+function prologue at an offset to the stack pointer that is not aligned to\n+@code{UNITS_PER_WORD}.  The definition should be the negative minimum\n+alignment if @code{STACK_GROWS_DOWNWARD} is defined, and the positive\n+minimum alignment otherwise.  @xref{SDB and DWARF}.  Only applicable if\n+the target supports DWARF 2 frame unwind information.\n+\n @end table\n \n @node Alignment Output"}]}