{"sha": "34b6bcade4167c229808658e9fd8b59088b55c11", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzRiNmJjYWRlNDE2N2MyMjk4MDg2NThlOWZkOGI1OTA4OGI1NWMxMQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-06-07T08:50:04Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-06-07T08:50:04Z"}, "message": "re PR libstdc++/49293 (22_locale/time_get/get_weekday/char/38081-[12].cc fail with glibc 2.14)\n\n2011-06-07  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/49293\n\t* testsuite/22_locale/time_get/get_weekday/char/38081-1.cc: Tweak\n\tfor glibc 2.14.\n\t* testsuite/22_locale/time_get/get_weekday/char/38081-2.cc: Likewise.\n\nFrom-SVN: r174737", "tree": {"sha": "001ad143b3011647878a6523e42e499ef0779698", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/001ad143b3011647878a6523e42e499ef0779698"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34b6bcade4167c229808658e9fd8b59088b55c11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34b6bcade4167c229808658e9fd8b59088b55c11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34b6bcade4167c229808658e9fd8b59088b55c11", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34b6bcade4167c229808658e9fd8b59088b55c11/comments", "author": null, "committer": null, "parents": [{"sha": "383d9c83756ed27807c0a8e5864ff542e3561905", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/383d9c83756ed27807c0a8e5864ff542e3561905", "html_url": "https://github.com/Rust-GCC/gccrs/commit/383d9c83756ed27807c0a8e5864ff542e3561905"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "0e3d55161dbe5001e22e27d8782955359c14827f", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=34b6bcade4167c229808658e9fd8b59088b55c11", "patch": "@@ -1,3 +1,10 @@\n+2011-06-07  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/49293\n+\t* testsuite/22_locale/time_get/get_weekday/char/38081-1.cc: Tweak\n+\tfor glibc 2.14.\n+\t* testsuite/22_locale/time_get/get_weekday/char/38081-2.cc: Likewise.\n+\n 2011-06-06  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/move.h (move_if_noexcept): Use __and_ and __not_."}, {"sha": "4e039775ab7cd98e5767765382754ce08ba59d48", "filename": "libstdc++-v3/testsuite/22_locale/time_get/get_weekday/char/38081-1.cc", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-1.cc?ref=34b6bcade4167c229808658e9fd8b59088b55c11", "patch": "@@ -1,6 +1,6 @@\n // { dg-require-namedlocale \"ru_RU.ISO-8859-5\" }\n \n-// Copyright (C) 2010 Free Software Foundation\n+// Copyright (C) 2010, 2011 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -49,7 +49,11 @@ void test01()\n   // get_weekday(iter_type, iter_type, ios_base&, \n   //             ios_base::iostate&, tm*) const\n \n+#if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 14)\n+  iss.str(\"\\xbf\\xdd\\x2e\");\n+#else\n   iss.str(\"\\xbf\\xdd\\xd4\");\n+#endif\n   iterator_type is_it01(iss);\n   tm time01;\n   memset(&time01, -1, sizeof(tm));\n@@ -67,7 +71,11 @@ void test01()\n   VERIFY( time02.tm_wday == 1 );\n   VERIFY( errorstate == ios_base::eofbit );\n \n+#if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 14)\n+  iss.str(\"\\xbf\\xdd\\x2e\\xd5\\xd4\\xd5\\xdb\\xec\\xdd\\xd8\\xda\");\n+#else\n   iss.str(\"\\xbf\\xdd\\xd4\\xd5\\xd4\\xd5\\xdb\\xec\\xdd\\xd8\\xda\");\n+#endif\n   iterator_type is_it03(iss);\n   tm time03;\n   memset(&time03, -1, sizeof(tm));"}, {"sha": "ee8d6769db2b50547c0c20e6c9f953f3fcb73036", "filename": "libstdc++-v3/testsuite/22_locale/time_get/get_weekday/char/38081-2.cc", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34b6bcade4167c229808658e9fd8b59088b55c11/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F22_locale%2Ftime_get%2Fget_weekday%2Fchar%2F38081-2.cc?ref=34b6bcade4167c229808658e9fd8b59088b55c11", "patch": "@@ -2,7 +2,7 @@\n \n // 2010-01-05  Paolo Carlini  <paolo.carlini@oracle.com>\n \n-// Copyright (C) 2010 Free Software Foundation\n+// Copyright (C) 2010, 2011 Free Software Foundation\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -50,13 +50,23 @@ void test01()\n   // get_weekday(iter_type, iter_type, ios_base&, \n   //             ios_base::iostate&, tm*) const\n \n+#if __GLIBC__ > 2 || (__GLIBC__ == 2 && __GLIBC_MINOR__ >= 14)\n+  const char* awdays[7] = { \"\\u0412\\u0441\\u002E\",\n+\t\t\t    \"\\u041F\\u043D\\u002E\",\n+\t\t\t    \"\\u0412\\u0442\\u002E\",\n+\t\t\t    \"\\u0421\\u0440\\u002E\",\n+\t\t\t    \"\\u0427\\u0442\\u002E\",\n+\t\t\t    \"\\u041F\\u0442\\u002E\",\n+\t\t\t    \"\\u0421\\u0431\\u002E\" };\n+#else\n   const char* awdays[7] = { \"\\u0412\\u0441\\u043A\",\n \t\t\t    \"\\u041F\\u043D\\u0434\",\n \t\t\t    \"\\u0412\\u0442\\u0440\",\n \t\t\t    \"\\u0421\\u0440\\u0434\",\n \t\t\t    \"\\u0427\\u0442\\u0432\",\n \t\t\t    \"\\u041F\\u0442\\u043D\",\n \t\t\t    \"\\u0421\\u0431\\u0442\" };\n+#endif\n \n   for (int i = 0; i < 7; ++i)\n     {"}]}