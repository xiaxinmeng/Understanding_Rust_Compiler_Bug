{"sha": "b098f56dec14a56da5513752bed60e7b2db2ebdf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA5OGY1NmRlYzE0YTU2ZGE1NTEzNzUyYmVkNjBlN2IyZGIyZWJkZg==", "commit": {"author": {"name": "Joel Sherrill", "email": "joel@OARcorp.com", "date": "1998-07-09T00:37:05Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-07-09T00:37:05Z"}, "message": "rtemself.h: Updated to keep in sync with config/i386/linux.h.\n\n        * config/i386/rtemself.h: Updated to keep in sync with\n        config/i386/linux.h.\n        * configure.in: Added sh-rtemself.\n        * configure: Rebuilt.\n        * config/sh/rtems.h: Removed -D__ELF__ since it is now COFF.\n        * config/sh/rtemself.h: New file.\n        * config/rs6000/rtems.h: Defined STARTFILE_DEFAULT_SPEC.\n\nCo-Authored-By: Ralf Corsepius <corsepiu@faw.uni-ulm.de>\n\nFrom-SVN: r21025", "tree": {"sha": "aaa56589136c96bb41737ad7aebed44a6577bec0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaa56589136c96bb41737ad7aebed44a6577bec0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b098f56dec14a56da5513752bed60e7b2db2ebdf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b098f56dec14a56da5513752bed60e7b2db2ebdf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b098f56dec14a56da5513752bed60e7b2db2ebdf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b098f56dec14a56da5513752bed60e7b2db2ebdf/comments", "author": null, "committer": null, "parents": [{"sha": "2bab5c1915a90517a48f91a0d4416eefc880d1c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bab5c1915a90517a48f91a0d4416eefc880d1c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bab5c1915a90517a48f91a0d4416eefc880d1c4"}], "stats": {"total": 71, "additions": 66, "deletions": 5}, "files": [{"sha": "dff9842aa8f5b9395e998cf1da51cd057f5e5e67", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -1,3 +1,16 @@\n+Thu Jul  9 01:30:37 1998  Joel Sherrill  <joel@OARcorp.com>\n+\t\t\t  Ralf Corsepius <corsepiu@faw.uni-ulm.de>\n+\n+\t* config/i386/rtemself.h: Updated to keep in sync with\n+\tconfig/i386/linux.h.\n+\n+\t* configure.in: Added sh-rtemself.\n+\t* configure: Rebuilt.\n+\t* config/sh/rtems.h: Removed -D__ELF__ since it is now COFF.\n+\t* config/sh/rtemself.h: New file.\n+\n+\t* config/rs6000/rtems.h: Defined STARTFILE_DEFAULT_SPEC.\n+\n Wed Jul  8 21:43:14 1998  Jeffrey A Law  (law@cygnus.com)\n \n \t* configure.in: Check if the assembler supports \".balign\" and"}, {"sha": "d9d97337aa954a7386cbe1adc4c1fbab82bc0345", "filename": "gcc/config/i386/rtemself.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fi386%2Frtemself.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fi386%2Frtemself.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Frtemself.h?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -41,12 +41,12 @@ Boston, MA 02111-1307, USA.  */\n    This is only used for PIC code.  See comments by the `casesi' insn in\n    i386.md for an explanation of the expression this outputs. */\n #undef ASM_OUTPUT_ADDR_DIFF_ELT\n-#define ASM_OUTPUT_ADDR_DIFF_ELT(FILE, VALUE, REL) \\\n+#define ASM_OUTPUT_ADDR_DIFF_ELT(FILE, BODY, VALUE, REL) \\\n   fprintf (FILE, \"\\t.long _GLOBAL_OFFSET_TABLE_+[.-%s%d]\\n\", LPREFIX, VALUE)\n \n /* Indicate that jump tables go in the text section.  This is\n    necessary when compiling PIC code.  */\n-#define JUMP_TABLES_IN_TEXT_SECTION\n+#define JUMP_TABLES_IN_TEXT_SECTION (flag_pic)\n \n /* Copy this from the svr4 specifications... */\n /* Define the register numbers to be used in Dwarf debugging information."}, {"sha": "bf14072f0d3d5802b95cc8428f4e59da4e4a88ad", "filename": "gcc/config/rs6000/rtems.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Frs6000%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Frs6000%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frtems.h?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -32,4 +32,7 @@ Boston, MA 02111-1307, USA.  */\n #define TARGET_MEM_FUNCTIONS\n #endif\n \n+#undef STARTFILE_DEFAULT_SPEC\n+#define STARTFILE_DEFAULT_SPEC \"crt0.o%s\"\n+\n /* end of rs6000/rtems.h */"}, {"sha": "3e3fc7b8ca206ea9dd4060b2e156ec6274b02c54", "filename": "gcc/config/sh/rtems.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fsh%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fsh%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Frtems.h?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -1,4 +1,4 @@\n-/* Definitions for rtems targeting a SH using elf.\n+/* Definitions for rtems targeting a SH using COFF.\n    Copyright (C) 1997 Free Software Foundation, Inc.\n    Contributed by Joel Sherrill (joel@OARcorp.com).\n \n@@ -24,10 +24,12 @@ Boston, MA 02111-1307, USA.  */\n /* Specify predefined symbols in preprocessor.  */\n \n #undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__sh__ -D__ELF__ -Drtems -D__rtems__ \\\n+#define CPP_PREDEFINES \"-D__sh__ -Drtems -D__rtems__ \\\n   -Asystem(rtems) -Acpu(sh) -Amachine(sh)\"\n \n /* Generate calls to memcpy, memcmp and memset.  */\n #ifndef TARGET_MEM_FUNCTIONS\n #define TARGET_MEM_FUNCTIONS\n #endif\n+\n+/* end of sh/rtems.h */"}, {"sha": "8000a3ae76930d6eed778f067436623d73aea4ad", "filename": "gcc/config/sh/rtemself.h", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fsh%2Frtemself.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfig%2Fsh%2Frtemself.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Frtemself.h?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -0,0 +1,33 @@\n+/* Definitions for rtems targeting a SH using elf.\n+   Copyright (C) 1997 Free Software Foundation, Inc.\n+   Contributed by Joel Sherrill (joel@OARcorp.com).\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#include \"sh/elf.h\"\n+\n+/* Specify predefined symbols in preprocessor.  */\n+\n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-D__sh__ -D__ELF__ -Drtems -D__rtems__ \\\n+  -Asystem(rtems) -Acpu(sh) -Amachine(sh)\"\n+\n+/* Generate calls to memcpy, memcmp and memset.  */\n+#ifndef TARGET_MEM_FUNCTIONS\n+#define TARGET_MEM_FUNCTIONS\n+#endif"}, {"sha": "b0e6a246006b3506bbe067b682b0e91ed42f8f9b", "filename": "gcc/configure", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -4427,6 +4427,11 @@ for machine in $build $host $target; do\n \t\ttm_file=sh/elf.h\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-rtemself*)\n+\t\ttmake_file=\"sh/t-sh t-rtems\"\n+\t\ttm_file=sh/rtemself.h\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-rtems*)\n \t\ttmake_file=\"sh/t-sh t-rtems\"\n \t\ttm_file=sh/rtems.h\n@@ -5220,7 +5225,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5224: checking assembler alignment features\" >&5\n+echo \"configure:5229: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n if [ -x as$host_exeext ]; then"}, {"sha": "11a977782fa8c446fafe170f3c28afc60c01e44b", "filename": "gcc/configure.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b098f56dec14a56da5513752bed60e7b2db2ebdf/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=b098f56dec14a56da5513752bed60e7b2db2ebdf", "patch": "@@ -2523,6 +2523,11 @@ for machine in $build $host $target; do\n \t\ttm_file=sh/elf.h\n \t\tfloat_format=sh\n \t\t;;\n+\tsh-*-rtemself*)\n+\t\ttmake_file=\"sh/t-sh t-rtems\"\n+\t\ttm_file=sh/rtemself.h\n+\t\tfloat_format=sh\n+\t\t;;\n \tsh-*-rtems*)\n \t\ttmake_file=\"sh/t-sh t-rtems\"\n \t\ttm_file=sh/rtems.h"}]}