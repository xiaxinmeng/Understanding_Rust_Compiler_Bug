{"sha": "32da620821cb3008eab38080a9292599f1ee3d58", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzJkYTYyMDgyMWNiMzAwOGVhYjM4MDgwYTkyOTI1OTlmMWVlM2Q1OA==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-05-21T17:16:21Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-05-21T17:16:21Z"}, "message": "istream.tcc (ignore): Remove redundant line.\n\n2004-05-21  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/bits/istream.tcc (ignore): Remove redundant line.\n\t(readsome): Tidy, closely following 27.6.1.3, p30.\n\nFrom-SVN: r82103", "tree": {"sha": "55b8072493213a8aa900cb887cb8672c28559d08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55b8072493213a8aa900cb887cb8672c28559d08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/32da620821cb3008eab38080a9292599f1ee3d58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32da620821cb3008eab38080a9292599f1ee3d58", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32da620821cb3008eab38080a9292599f1ee3d58", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32da620821cb3008eab38080a9292599f1ee3d58/comments", "author": null, "committer": null, "parents": [{"sha": "b953ebd647221fbd17b033b90eaa5503e66b0019", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b953ebd647221fbd17b033b90eaa5503e66b0019", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b953ebd647221fbd17b033b90eaa5503e66b0019"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "fe58a1ea241b171102b0f436190d25d37854f690", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32da620821cb3008eab38080a9292599f1ee3d58/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32da620821cb3008eab38080a9292599f1ee3d58/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=32da620821cb3008eab38080a9292599f1ee3d58", "patch": "@@ -1,3 +1,8 @@\n+2004-05-21  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/bits/istream.tcc (ignore): Remove redundant line.\n+\t(readsome): Tidy, closely following 27.6.1.3, p30.\n+\n 2004-05-20  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/bits/istream.tcc (operator>>(basic_istream<>&,"}, {"sha": "b9dd0b1828e99ad9448deee630751b63ca943054", "filename": "libstdc++-v3/include/bits/istream.tcc", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/32da620821cb3008eab38080a9292599f1ee3d58/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/32da620821cb3008eab38080a9292599f1ee3d58/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fistream.tcc?ref=32da620821cb3008eab38080a9292599f1ee3d58", "patch": "@@ -659,7 +659,6 @@ namespace std\n \t      __streambuf_type* __sb = this->rdbuf();\n \t      int_type __c;\n \n-\t      __n = std::min(__n, numeric_limits<streamsize>::max());\n \t      while (_M_gcount < __n\n \t\t     && !traits_type::eq_int_type(__c = __sb->sbumpc(), __eof))\n \t\t{\n@@ -740,14 +739,10 @@ namespace std\n \t  try\n \t    {\n \t      // Cannot compare int_type with streamsize generically.\n-\t      streamsize __num = this->rdbuf()->in_avail();\n-\t      if (__num >= 0)\n-\t\t{\n-\t\t  __num = std::min(__num, __n);\n-\t\t  if (__num)\n-\t\t    _M_gcount = this->rdbuf()->sgetn(__s, __num);\n-\t\t}\n-\t      else\n+\t      const streamsize __num = this->rdbuf()->in_avail();\n+\t      if (__num > 0)\n+\t\t_M_gcount = this->rdbuf()->sgetn(__s, std::min(__num, __n));\n+\t      else if (__num == -1)\n \t\t__err |= ios_base::eofbit;\n \t    }\n \t  catch(...)"}]}