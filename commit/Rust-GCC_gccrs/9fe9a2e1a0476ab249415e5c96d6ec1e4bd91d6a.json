{"sha": "9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZlOWEyZTFhMDQ3NmFiMjQ5NDE1ZTVjOTZkNmVjMWU0YmQ5MWQ2YQ==", "commit": {"author": {"name": "Alexandre Petit-Bianco", "email": "apbianco@sendai.cygnus.com", "date": "1998-04-16T11:49:07Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1998-04-16T11:49:07Z"}, "message": "tree.c (build_expr_wfl): Use NULL_TREE if the file name is NULL.\n\n\ufffd\n        * tree.c (build_expr_wfl): Use NULL_TREE if the file name is NULL.\n        Propagate TREE_SIDE_EFFECTS and TREE_TYPE iff the encapsulated\n        node is non NULL. Cache last file name and file name identifier node.\n\nFrom-SVN: r19234", "tree": {"sha": "a1f872f6051fc2ce643a310b5495e58673d04083", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1f872f6051fc2ce643a310b5495e58673d04083"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a/comments", "author": null, "committer": null, "parents": [{"sha": "a62e870c5b40652e88875dd1bd5de02b7162c4e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a62e870c5b40652e88875dd1bd5de02b7162c4e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a62e870c5b40652e88875dd1bd5de02b7162c4e3"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "20805d5cef39bb6ed7e695b28f070656667f8cbb", "filename": "gcc/tree.c", "status": "modified", "additions": 14, "deletions": 3, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=9fe9a2e1a0476ab249415e5c96d6ec1e4bd91d6a", "patch": "@@ -3232,12 +3232,23 @@ build_expr_wfl (node, file, line, col)\n      char *file;\n      int line, col;\n {\n+  static char *last_file = 0;\n+  static tree  last_filenode = NULL_TREE;\n   register tree wfl = make_node (EXPR_WITH_FILE_LOCATION);\n+\n   EXPR_WFL_NODE (wfl) = node;\n-  EXPR_WFL_FILENAME_NODE (wfl) = get_identifier (file);\n   EXPR_WFL_SET_LINECOL (wfl, line, col);\n-  TREE_SIDE_EFFECTS (wfl) = TREE_SIDE_EFFECTS (node);\n-  TREE_TYPE (wfl) = TREE_TYPE (node);\n+  if (file != last_file)\n+    {\n+      last_file = file;\n+      last_filenode = file ? get_identifier (file) : NULL_TREE;\n+    }\n+  EXPR_WFL_FILENAME_NODE (wfl) = last_filenode;\n+  if (node)\n+    {\n+      TREE_SIDE_EFFECTS (wfl) = TREE_SIDE_EFFECTS (node);\n+      TREE_TYPE (wfl) = TREE_TYPE (node);\n+    }\n   return wfl;\n }\n \f"}]}