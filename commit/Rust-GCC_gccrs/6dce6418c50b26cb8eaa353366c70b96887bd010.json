{"sha": "6dce6418c50b26cb8eaa353366c70b96887bd010", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmRjZTY0MThjNTBiMjZjYjhlYWEzNTMzNjZjNzBiOTY4ODdiZDAxMA==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2016-08-09T21:01:19Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-08-09T21:01:19Z"}, "message": "Remove __gcov_indirect_call_profiler\n\n\t* Makefile.in: Remove __gcov_indirect_call_profiler.\n\t* libgcov-profiler.c (__gcov_indirect_call_profiler): Remove\n\tfunction.\n\t* libgcov.h: And the declaration of the function.\n\nFrom-SVN: r239306", "tree": {"sha": "faae9e1aeec8d36a73488f3184badaa2d622f925", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/faae9e1aeec8d36a73488f3184badaa2d622f925"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6dce6418c50b26cb8eaa353366c70b96887bd010", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6dce6418c50b26cb8eaa353366c70b96887bd010", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6dce6418c50b26cb8eaa353366c70b96887bd010", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6dce6418c50b26cb8eaa353366c70b96887bd010/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ab50a2153e0602a0d4384b0de390fb7322676479", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab50a2153e0602a0d4384b0de390fb7322676479", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab50a2153e0602a0d4384b0de390fb7322676479"}], "stats": {"total": 38, "additions": 8, "deletions": 30}, "files": [{"sha": "aaff313467127897743a060c7b0a312fa4e3fa8e", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=6dce6418c50b26cb8eaa353366c70b96887bd010", "patch": "@@ -1,3 +1,10 @@\n+2016-08-09  Martin Liska  <mliska@suse.cz>\n+\n+\t* Makefile.in: Remove __gcov_indirect_call_profiler.\n+\t* libgcov-profiler.c (__gcov_indirect_call_profiler): Remove\n+\tfunction.\n+\t* libgcov.h: And the declaration of the function.\n+\n 2016-08-09  Martin Liska  <mliska@suse.cz>\n \n \t* libgcov-profiler.c (__gcov_pow2_profiler): Consider 0 as not"}, {"sha": "efaf7f7bf1a260f29628219b9d25421804c2ea42", "filename": "libgcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FMakefile.in?ref=6dce6418c50b26cb8eaa353366c70b96887bd010", "patch": "@@ -859,7 +859,7 @@ include $(iterator)\n LIBGCOV_MERGE = _gcov_merge_add _gcov_merge_single _gcov_merge_delta\t\\\n \t_gcov_merge_ior _gcov_merge_time_profile _gcov_merge_icall_topn\n LIBGCOV_PROFILER = _gcov_interval_profiler _gcov_pow2_profiler\t\t\\\n-\t_gcov_one_value_profiler _gcov_indirect_call_profiler\t\t\\\n+\t_gcov_one_value_profiler\t\t\t\t\t\\\n  \t_gcov_average_profiler _gcov_ior_profiler\t\t\t\\\n \t_gcov_indirect_call_profiler_v2 _gcov_time_profiler\t\t\\\n \t_gcov_indirect_call_topn_profiler"}, {"sha": "a99d93bb412034f031e57cdc3952d240ba5fd702", "filename": "libgcc/libgcov-profiler.c", "status": "modified", "additions": 0, "deletions": 27, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2Flibgcov-profiler.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2Flibgcov-profiler.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov-profiler.c?ref=6dce6418c50b26cb8eaa353366c70b96887bd010", "patch": "@@ -231,33 +231,6 @@ __gcov_indirect_call_topn_profiler (gcov_type value, void* cur_func)\n }\n #endif\n \n-#ifdef L_gcov_indirect_call_profiler\n-/* This function exist only for workaround of binutils bug 14342.\n-   Once this compatibility hack is obsolette, it can be removed.  */\n-\n-/* By default, the C++ compiler will use function addresses in the\n-   vtable entries.  Setting TARGET_VTABLE_USES_DESCRIPTORS to nonzero\n-   tells the compiler to use function descriptors instead.  The value\n-   of this macro says how many words wide the descriptor is (normally 2).\n-\n-   It is assumed that the address of a function descriptor may be treated\n-   as a pointer to a function.  */\n-\n-/* Tries to determine the most common value among its inputs. */\n-void\n-__gcov_indirect_call_profiler (gcov_type* counter, gcov_type value,\n-                               void* cur_func, void* callee_func)\n-{\n-  /* If the C++ virtual tables contain function descriptors then one\n-     function may have multiple descriptors and we need to dereference\n-     the descriptors to see if they point to the same function.  */\n-  if (cur_func == callee_func\n-      || (__LIBGCC_VTABLE_USES_DESCRIPTORS__ && callee_func\n-          && *(void **) cur_func == *(void **) callee_func))\n-    __gcov_one_value_profiler_body (counter, value);\n-}\n-#endif\n-\n #ifdef L_gcov_indirect_call_profiler_v2\n \n /* These two variables are used to actually track caller and callee.  Keep"}, {"sha": "80f13e267774ff630fec9c2ee7b9d48e74fdae1b", "filename": "libgcc/libgcov.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2Flibgcov.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6dce6418c50b26cb8eaa353366c70b96887bd010/libgcc%2Flibgcov.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Flibgcov.h?ref=6dce6418c50b26cb8eaa353366c70b96887bd010", "patch": "@@ -270,8 +270,6 @@ extern void __gcov_merge_icall_topn (gcov_type *, unsigned) ATTRIBUTE_HIDDEN;\n extern void __gcov_interval_profiler (gcov_type *, gcov_type, int, unsigned);\n extern void __gcov_pow2_profiler (gcov_type *, gcov_type);\n extern void __gcov_one_value_profiler (gcov_type *, gcov_type);\n-extern void __gcov_indirect_call_profiler (gcov_type*, gcov_type,\n-                                           void*, void*);\n extern void __gcov_indirect_call_profiler_v2 (gcov_type, void *);\n extern void __gcov_time_profiler (gcov_type *);\n extern void __gcov_average_profiler (gcov_type *, gcov_type);"}]}