{"sha": "690aefeba465a8fc85b779fa56d24ad892f17281", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjkwYWVmZWJhNDY1YThmYzg1Yjc3OWZhNTZkMjRhZDg5MmYxNzI4MQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-06-07T17:40:24Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-06-07T17:40:24Z"}, "message": "re PR libfortran/40334 (changed BACKSPACE behaviour at end of file.)\n\n2009-06-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/40334\n\t* io/list_read.c (list_formatted_read_scalar): Set the end file\n\tconditions after a return from EOF error.\n\nFrom-SVN: r148251", "tree": {"sha": "b08e2d76f68c8f7f9c7cf363e710cd8aab81fb92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b08e2d76f68c8f7f9c7cf363e710cd8aab81fb92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/690aefeba465a8fc85b779fa56d24ad892f17281", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/690aefeba465a8fc85b779fa56d24ad892f17281", "html_url": "https://github.com/Rust-GCC/gccrs/commit/690aefeba465a8fc85b779fa56d24ad892f17281", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/690aefeba465a8fc85b779fa56d24ad892f17281/comments", "author": null, "committer": null, "parents": [{"sha": "c430a6f9f8d4b0c65daa2a300378b31ccfacb9d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c430a6f9f8d4b0c65daa2a300378b31ccfacb9d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c430a6f9f8d4b0c65daa2a300378b31ccfacb9d7"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "6558936b1d026bba0ff0723d140738da09d35104", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/690aefeba465a8fc85b779fa56d24ad892f17281/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/690aefeba465a8fc85b779fa56d24ad892f17281/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=690aefeba465a8fc85b779fa56d24ad892f17281", "patch": "@@ -1,3 +1,9 @@\n+2009-06-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/40334\n+\t* io/list_read.c (list_formatted_read_scalar): Set the end file\n+\tconditions after a return from EOF error.\n+\n 2009-06-04  Janne Blomqvist  <jb@gcc.gnu.org>\n \n \tPR libfortran/40330"}, {"sha": "f6d5687ba8e2c03a9099e0009663e8293c1c51e4", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/690aefeba465a8fc85b779fa56d24ad892f17281/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/690aefeba465a8fc85b779fa56d24ad892f17281/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=690aefeba465a8fc85b779fa56d24ad892f17281", "patch": "@@ -1687,6 +1687,11 @@ list_formatted_read_scalar (st_parameter_dt *dtp, volatile bt type, void *p,\n   if (setjmp (eof_jump))\n     {\n       generate_error (&dtp->common, LIBERROR_END, NULL);\n+      if (!is_internal_unit (dtp))\n+\t{\n+\t  dtp->u.p.current_unit->endfile = AFTER_ENDFILE;\n+\t  dtp->u.p.current_unit->current_record = 0;\n+\t}\n       goto cleanup;\n     }\n "}]}