{"sha": "866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY2ODkwZDk0YTBkMWNiZGI5YjE2Y2YxNGZlNjI1MGFlOTZjNmJjYw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-14T12:06:01Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-14T12:06:01Z"}, "message": "(fndef, nested_function, notype_nested_function): Support attributes\nafter function definition.\n\nFrom-SVN: r9942", "tree": {"sha": "a892cffe96b97f704fd78a03594ad4f1a72643d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a892cffe96b97f704fd78a03594ad4f1a72643d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc/comments", "author": null, "committer": null, "parents": [{"sha": "95f29160389deb5ac6f83591949b6cab8c45f723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95f29160389deb5ac6f83591949b6cab8c45f723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95f29160389deb5ac6f83591949b6cab8c45f723"}], "stats": {"total": 25, "additions": 13, "deletions": 12}, "files": [{"sha": "ad6a343d8250bbf28c8fa5ced00338a38cfe5c3a", "filename": "gcc/c-parse.in", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc/gcc%2Fc-parse.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc/gcc%2Fc-parse.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parse.in?ref=866890d94a0d1cbdb9b16cf14fe6250ae96c6bcc", "patch": "@@ -27,10 +27,10 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n    written by AT&T, but I have never seen it.  */\n \n ifobjc\n-%expect 48\n+%expect 53\n end ifobjc\n ifc\n-%expect 34\n+%expect 39\n \n /* These are the 23 conflicts you should get in parse.output;\n    the state numbers may vary if minor changes in the grammar are made.\n@@ -338,8 +338,8 @@ datadef:\n \t;\n \f\n fndef:\n-\t  typed_declspecs setspecs declarator\n-\t\t{ if (! start_function ($1, $3, prefix_attributes, 0))\n+\t  typed_declspecs setspecs declarator maybe_attribute\n+\t\t{ if (! start_function ($1, $3, prefix_attributes, $4, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); }\n \t  xdecls\n@@ -355,8 +355,8 @@ fndef:\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary ($2); }\n-\t| declmods setspecs notype_declarator\n-\t\t{ if (! start_function ($1, $3, prefix_attributes, 0))\n+\t| declmods setspecs notype_declarator maybe_attribute\n+\t\t{ if (! start_function ($1, $3, prefix_attributes, $4, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); }\n \t  xdecls\n@@ -372,8 +372,9 @@ fndef:\n \t\t  prefix_attributes = TREE_PURPOSE (declspec_stack);\n \t\t  declspec_stack = TREE_CHAIN (declspec_stack);\n \t\t  resume_momentary ($2); }\n-\t| setspecs notype_declarator\n-\t\t{ if (! start_function (NULL_TREE, $2, prefix_attributes, 0))\n+\t| setspecs notype_declarator maybe_attribute\n+\t\t{ if (! start_function (NULL_TREE, $2,\n+\t\t\t\t\tprefix_attributes, $3, 0))\n \t\t    YYERROR1;\n \t\t  reinit_parse_for_function (); }\n \t  xdecls\n@@ -1217,10 +1218,10 @@ end ifc\n \t;\n \f\n nested_function:\n-\t  declarator\n+\t  declarator maybe_attribute\n \t\t{ push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, $1,\n-\t\t\t\t\tprefix_attributes, 1))\n+\t\t\t\t\tprefix_attributes, $2, 1))\n \t\t    {\n \t\t      pop_c_function_context ();\n \t\t      YYERROR1;\n@@ -1240,10 +1241,10 @@ nested_function:\n \t;\n \n notype_nested_function:\n-\t  notype_declarator\n+\t  notype_declarator maybe_attribute\n \t\t{ push_c_function_context ();\n \t\t  if (! start_function (current_declspecs, $1,\n-\t\t\t\t\tprefix_attributes, 1))\n+\t\t\t\t\tprefix_attributes, $2, 1))\n \t\t    {\n \t\t      pop_c_function_context ();\n \t\t      YYERROR1;"}]}