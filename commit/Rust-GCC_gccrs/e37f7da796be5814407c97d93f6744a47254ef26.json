{"sha": "e37f7da796be5814407c97d93f6744a47254ef26", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTM3ZjdkYTc5NmJlNTgxNDQwN2M5N2Q5M2Y2NzQ0YTQ3MjU0ZWYyNg==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-06-30T17:17:58Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-06-30T17:17:58Z"}, "message": "libstdc++-v3-dg.exp: Add comments.\n\n2003-06-30  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* testsuite/lib/libstdc++-v3-dg.exp:  Add comments.\n\t(libstdc++-v3-init):  Also set LD_RUN_PATH.\n\nFrom-SVN: r68713", "tree": {"sha": "41be048c0ad387d52d221be4b97abec376e04387", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/41be048c0ad387d52d221be4b97abec376e04387"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e37f7da796be5814407c97d93f6744a47254ef26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e37f7da796be5814407c97d93f6744a47254ef26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e37f7da796be5814407c97d93f6744a47254ef26", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e37f7da796be5814407c97d93f6744a47254ef26/comments", "author": null, "committer": null, "parents": [{"sha": "5806e0404cd14a22f9575ce24095766c4f8f495f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5806e0404cd14a22f9575ce24095766c4f8f495f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5806e0404cd14a22f9575ce24095766c4f8f495f"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "d86eb4135b1a1898fe424f2aabac2c15add43570", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e37f7da796be5814407c97d93f6744a47254ef26/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e37f7da796be5814407c97d93f6744a47254ef26/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=e37f7da796be5814407c97d93f6744a47254ef26", "patch": "@@ -1,3 +1,8 @@\n+2003-06-30  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* testsuite/lib/libstdc++-v3-dg.exp:  Add comments.\n+\t(libstdc++-v3-init):  Also set LD_RUN_PATH.\n+\n 2003-06-30  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* include/std/std_streambuf.h (_M_mode): Move from here to"}, {"sha": "401c397ae6bafef0d8e08dea013bcfce4af1e3e4", "filename": "libstdc++-v3/testsuite/lib/libstdc++-v3-dg.exp", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e37f7da796be5814407c97d93f6744a47254ef26/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B-v3-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e37f7da796be5814407c97d93f6744a47254ef26/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B-v3-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B-v3-dg.exp?ref=e37f7da796be5814407c97d93f6744a47254ef26", "patch": "@@ -20,6 +20,7 @@ load_lib dg.exp\n load_lib libgloss.exp\n load_lib prune.exp\n \n+# Called once, by libstdc++-v3-init below.  \"Static\" to this file.\n proc libstdc++-v3-copy-files {srcfiles dstdir} {\n     foreach f $srcfiles {\n \tif { [catch { set symlink [file readlink $f] } x] } then {\n@@ -35,6 +36,7 @@ proc libstdc++-v3-copy-files {srcfiles dstdir} {\n     }\n }\n \n+# Called once, from libstdc++-v3.dg/dg.exp.\n proc libstdc++-v3-init { args } {\n     global srcdir\n     global outdir\n@@ -96,6 +98,8 @@ proc libstdc++-v3-init { args } {\n     setenv  SHLIB_PATH          $ld_library_path\n     setenv  LD_LIBRARYN32_PATH  $ld_library_path\n     setenv  LD_LIBRARY64_PATH   $ld_library_path\n+    setenv  LD_RUN_PATH         $ld_library_path\n+    verbose -log \"Set LD_*_PATHs to ${ld_library_path}\"\n \n     # Do a bunch of handstands and backflips for cross compiling and\n     # finding simulators...\n@@ -135,6 +139,7 @@ proc libstdc++-v3-init { args } {\n     }\n }\n \n+# Callback from system dg-test.\n proc libstdc++-v3-dg-test { prog do_what extra_tool_flags } {\n     # Set up the compiler flags, based on what we're going to do.\n \n@@ -181,7 +186,8 @@ proc libstdc++-v3-dg-test { prog do_what extra_tool_flags } {\n     return [list $comp_output $output_file]\n }\n \n-\n+# Called from libstdc++-v3-dg-test above.  Calls back into system's\n+# target_compile to actually do the work.\n proc libstdc++-v3_target_compile { source dest type options } {\n     global gluefile \n     global wrap_flags\n@@ -227,6 +233,8 @@ proc libstdc++-v3_target_compile { source dest type options } {\n #\n # Selecting individual tests can also be done with RUNTESTFLAGS, but\n # that doesn't really do all that we are trying to accomplish here.\n+#\n+# Essentially \"static\" to this file.\n proc v3-compute-tests { } {\n     global srcdir\n     global outdir\n@@ -319,6 +327,7 @@ proc v3-compute-tests { } {\n     close $f\n }\n \n+# Called once, from libstdc++-v3.dg/dg.exp.\n proc v3-list-tests { filename } {\n     global srcdir\n     global outdir"}]}