{"sha": "5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWY5YmZhZjJiY2M0ZjEyZjVlZTZhYzMzYzJiYWIxYTc1MmRiMWY0ZA==", "commit": {"author": {"name": "Thomas Koenig", "email": "Thomas.Koenig@online.de", "date": "2005-04-17T20:26:57Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2005-04-17T20:26:57Z"}, "message": "005-04-17  Thomas Koenig  <Thomas.Koenig@online.de>\n\n        PR libfortran/21075\n        * m4/reshape.m4 (reshape_`'rtype_kind):  Change dimension\n        of auxiliary arrays from GFC_MAX_DIMENSIONS - 1 to\n        GFC_MAX_DIMENSIONS.\n        * intrinsics/reshape_generic.c (reshape_generic):  Likewise.\n        * generated/reshape_i4.c:  Regenerated.\n        * generated/reshape_i8.c:  Regenerated.\n\n2005-04-17  Thomas Koenig  <Thomas.Koenig@online.de>\n\n        PR libfortran/21075\n        * gfortran.dg/reshape_rank7.f90: New test.\n\nFrom-SVN: r98288", "tree": {"sha": "1a445a241116927659a4a5309a238451e2b7d33f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a445a241116927659a4a5309a238451e2b7d33f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/comments", "author": null, "committer": null, "parents": [{"sha": "29dc5138c3af990d84d312ac52954021b0ac8c3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29dc5138c3af990d84d312ac52954021b0ac8c3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29dc5138c3af990d84d312ac52954021b0ac8c3c"}], "stats": {"total": 114, "additions": 78, "deletions": 36}, "files": [{"sha": "b683caf41102fc62f8db418e9423ea32863eefcf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -1,3 +1,8 @@\n+2005-04-17  Thomas Koenig  <Thomas.Koenig@online.de>\n+\n+\tPR libfortran/21075\n+\t* gfortran.dg/reshape_rank7.f90: New test.\n+\n 2005-04-17 Paul Thomas <pault@gcc.gnu.org>\n \n \tPR libfortran/12884 gfortran.dg/pr12884.f: New test"}, {"sha": "d8f84f7b5e817badebf6cf1842f4a406e7019971", "filename": "gcc/testsuite/gfortran.dg/reshape_rank7.f90", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/gcc%2Ftestsuite%2Fgfortran.dg%2Freshape_rank7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/gcc%2Ftestsuite%2Fgfortran.dg%2Freshape_rank7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Freshape_rank7.f90?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -0,0 +1,27 @@\n+! { dg-do run}\n+! PR 21075:  Reshape with rank 7 used to segfault.\n+program main\n+  integer :: a(256), b(2,2,2,2,2,2,2)\n+  do i=1,256\n+     a(i) = i\n+  end do\n+  b = reshape(a(1:256:2), shape(b))\n+  do i1=1,2\n+     do i2=1,2\n+        do i3=1,2\n+           do i4=1,2\n+              do i5=1,2\n+                 do i6=1,2\n+                    do i7=1,2\n+                       if (b(i1,i2,i3,i4,i5,i6,i7) /= &\n+                            2*((i1-1)+(i2-1)*2+(i3-1)*4+(i4-1)*8+&\n+                            (i5-1)*16+(i6-1)*32+(i7-1)*64)+1) &\n+                            call abort\n+              end do\n+            end do\n+          end do\n+        end do\n+      end do\n+    end do\n+  end do\n+end program main"}, {"sha": "045f8ce1e75728e1e0d23f873c49a7060a9b759c", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -1,3 +1,13 @@\n+2005-04-17  Thomas Koenig  <Thomas.Koenig@online.de>\n+\n+\tPR libfortran/21075\n+\t* m4/reshape.m4 (reshape_`'rtype_kind):  Change dimension\n+\tof auxiliary arrays from GFC_MAX_DIMENSIONS - 1 to\n+\tGFC_MAX_DIMENSIONS.\n+\t* intrinsics/reshape_generic.c (reshape_generic):  Likewise.\n+\t* generated/reshape_i4.c:  Regenerated.\n+\t* generated/reshape_i8.c:  Regenerated.\n+\n 2005-04-17 Paul Thomas <pault@gcc.gnu.org>\n \n * io/list_read.c (eat_separator): at_eol = 1 replaced(zapped at some time?)."}, {"sha": "fbe16f293a5beb557bcf3dc4fb5b36df66cdadd7", "filename": "libgfortran/generated/reshape_i4.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fgenerated%2Freshape_i4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fgenerated%2Freshape_i4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_i4.c?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -47,25 +47,25 @@ reshape_4 (gfc_array_i4 * ret, gfc_array_i4 * source, shape_type * shape,\n                       gfc_array_i4 * pad, shape_type * order)\n {\n   /* r.* indicates the return array.  */\n-  index_type rcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type rextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type rstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type rcount[GFC_MAX_DIMENSIONS];\n+  index_type rextent[GFC_MAX_DIMENSIONS];\n+  index_type rstride[GFC_MAX_DIMENSIONS];\n   index_type rstride0;\n   index_type rdim;\n   index_type rsize;\n   GFC_INTEGER_4 *rptr;\n   /* s.* indicates the source array.  */\n-  index_type scount[GFC_MAX_DIMENSIONS - 1];\n-  index_type sextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type sstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type scount[GFC_MAX_DIMENSIONS];\n+  index_type sextent[GFC_MAX_DIMENSIONS];\n+  index_type sstride[GFC_MAX_DIMENSIONS];\n   index_type sstride0;\n   index_type sdim;\n   index_type ssize;\n   const GFC_INTEGER_4 *sptr;\n   /* p.* indicates the pad array.  */\n-  index_type pcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type pextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type pstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type pcount[GFC_MAX_DIMENSIONS];\n+  index_type pextent[GFC_MAX_DIMENSIONS];\n+  index_type pstride[GFC_MAX_DIMENSIONS];\n   index_type pdim;\n   index_type psize;\n   const GFC_INTEGER_4 *pptr;"}, {"sha": "6d835ff580b39ce9ad1dba90f3882ebfa3ea9c41", "filename": "libgfortran/generated/reshape_i8.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fgenerated%2Freshape_i8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fgenerated%2Freshape_i8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fgenerated%2Freshape_i8.c?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -47,25 +47,25 @@ reshape_8 (gfc_array_i8 * ret, gfc_array_i8 * source, shape_type * shape,\n                       gfc_array_i8 * pad, shape_type * order)\n {\n   /* r.* indicates the return array.  */\n-  index_type rcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type rextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type rstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type rcount[GFC_MAX_DIMENSIONS];\n+  index_type rextent[GFC_MAX_DIMENSIONS];\n+  index_type rstride[GFC_MAX_DIMENSIONS];\n   index_type rstride0;\n   index_type rdim;\n   index_type rsize;\n   GFC_INTEGER_8 *rptr;\n   /* s.* indicates the source array.  */\n-  index_type scount[GFC_MAX_DIMENSIONS - 1];\n-  index_type sextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type sstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type scount[GFC_MAX_DIMENSIONS];\n+  index_type sextent[GFC_MAX_DIMENSIONS];\n+  index_type sstride[GFC_MAX_DIMENSIONS];\n   index_type sstride0;\n   index_type sdim;\n   index_type ssize;\n   const GFC_INTEGER_8 *sptr;\n   /* p.* indicates the pad array.  */\n-  index_type pcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type pextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type pstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type pcount[GFC_MAX_DIMENSIONS];\n+  index_type pextent[GFC_MAX_DIMENSIONS];\n+  index_type pstride[GFC_MAX_DIMENSIONS];\n   index_type pdim;\n   index_type psize;\n   const GFC_INTEGER_8 *pptr;"}, {"sha": "c0339cad6338052c32cc1f7e11b1d87e67618a0a", "filename": "libgfortran/intrinsics/reshape_generic.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fintrinsics%2Freshape_generic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fintrinsics%2Freshape_generic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fintrinsics%2Freshape_generic.c?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -48,25 +48,25 @@ reshape (parray *ret, parray *source, shape_type *shape,\n \t parray *pad, shape_type *order)\n {\n   /* r.* indicates the return array.  */\n-  index_type rcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type rextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type rstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type rcount[GFC_MAX_DIMENSIONS];\n+  index_type rextent[GFC_MAX_DIMENSIONS];\n+  index_type rstride[GFC_MAX_DIMENSIONS];\n   index_type rstride0;\n   index_type rdim;\n   index_type rsize;\n   char *rptr;\n   /* s.* indicates the source array.  */\n-  index_type scount[GFC_MAX_DIMENSIONS - 1];\n-  index_type sextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type sstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type scount[GFC_MAX_DIMENSIONS];\n+  index_type sextent[GFC_MAX_DIMENSIONS];\n+  index_type sstride[GFC_MAX_DIMENSIONS];\n   index_type sstride0;\n   index_type sdim;\n   index_type ssize;\n   const char *sptr;\n   /* p.* indicates the pad array.  */\n-  index_type pcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type pextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type pstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type pcount[GFC_MAX_DIMENSIONS];\n+  index_type pextent[GFC_MAX_DIMENSIONS];\n+  index_type pstride[GFC_MAX_DIMENSIONS];\n   index_type pdim;\n   index_type psize;\n   const char *pptr;"}, {"sha": "22e2536ecb7d6be4b6beb24feefbd6ca608224d3", "filename": "libgfortran/m4/reshape.m4", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fm4%2Freshape.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d/libgfortran%2Fm4%2Freshape.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fm4%2Freshape.m4?ref=5f9bfaf2bcc4f12f5ee6ac33c2bab1a752db1f4d", "patch": "@@ -49,25 +49,25 @@ reshape_`'rtype_kind (rtype * ret, rtype * source, shape_type * shape,\n                       rtype * pad, shape_type * order)\n {\n   /* r.* indicates the return array.  */\n-  index_type rcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type rextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type rstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type rcount[GFC_MAX_DIMENSIONS];\n+  index_type rextent[GFC_MAX_DIMENSIONS];\n+  index_type rstride[GFC_MAX_DIMENSIONS];\n   index_type rstride0;\n   index_type rdim;\n   index_type rsize;\n   rtype_name *rptr;\n   /* s.* indicates the source array.  */\n-  index_type scount[GFC_MAX_DIMENSIONS - 1];\n-  index_type sextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type sstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type scount[GFC_MAX_DIMENSIONS];\n+  index_type sextent[GFC_MAX_DIMENSIONS];\n+  index_type sstride[GFC_MAX_DIMENSIONS];\n   index_type sstride0;\n   index_type sdim;\n   index_type ssize;\n   const rtype_name *sptr;\n   /* p.* indicates the pad array.  */\n-  index_type pcount[GFC_MAX_DIMENSIONS - 1];\n-  index_type pextent[GFC_MAX_DIMENSIONS - 1];\n-  index_type pstride[GFC_MAX_DIMENSIONS - 1];\n+  index_type pcount[GFC_MAX_DIMENSIONS];\n+  index_type pextent[GFC_MAX_DIMENSIONS];\n+  index_type pstride[GFC_MAX_DIMENSIONS];\n   index_type pdim;\n   index_type psize;\n   const rtype_name *pptr;"}]}