{"sha": "453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUzODk3YjRkZGUwOTY0YTU1ZDRiM2ViYmRiYjJiZmFhYmVjNzQ4YQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2010-01-14T07:20:31Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2010-01-14T07:20:31Z"}, "message": "re PR testsuite/42414 (arbitrary path modification by a sed statement breaks testsuite if testsuite is in the absolute path)\n\nFix PR testsuite/42414.\n\ngcc/:\n\tPR testsuite/42414\n\t* Makefile.in ($(TESTSUITEDIR)/site.exp, check-%)\n\t(check-parallel-%): Match `testsuite' directory component only\n\tat the end.\n\nFrom-SVN: r155880", "tree": {"sha": "546845ecc4b5a553627cae23e9982c4c07067657", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/546845ecc4b5a553627cae23e9982c4c07067657"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/453897b4dde0964a55d4b3ebbdbb2bfaabec748a/comments", "author": null, "committer": null, "parents": [{"sha": "5bc69b925dfb46c3cc511a4a03c1c70da48d08de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5bc69b925dfb46c3cc511a4a03c1c70da48d08de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5bc69b925dfb46c3cc511a4a03c1c70da48d08de"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "49edf5b9e95a9aea0125b93b22f1d8b2467781af", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/453897b4dde0964a55d4b3ebbdbb2bfaabec748a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/453897b4dde0964a55d4b3ebbdbb2bfaabec748a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "patch": "@@ -1,3 +1,10 @@\n+2010-01-14  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR testsuite/42414\n+\t* Makefile.in ($(TESTSUITEDIR)/site.exp, check-%)\n+\t(check-parallel-%): Match `testsuite' directory component only\n+\tat the end.\n+\n 2010-01-14  Shujing Zhao  <pearly.zhao@oracle.com>\n \n \tPR translation/39521"}, {"sha": "2ff27d549af870145918c1fee508323f0fb808ea", "filename": "gcc/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/453897b4dde0964a55d4b3ebbdbb2bfaabec748a/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/453897b4dde0964a55d4b3ebbdbb2bfaabec748a/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=453897b4dde0964a55d4b3ebbdbb2bfaabec748a", "patch": "@@ -4669,7 +4669,7 @@ TESTSUITEDIR = testsuite\n $(TESTSUITEDIR)/site.exp: site.exp\n \t-test -d $(TESTSUITEDIR) || mkdir $(TESTSUITEDIR)\n \t-rm -f $@\n-\tsed '/set tmpdir/ s|testsuite|$(TESTSUITEDIR)|' < site.exp > $@\n+\tsed '/set tmpdir/ s|testsuite$$|$(TESTSUITEDIR)|' < site.exp > $@\n \n # This is only used for check-% targets that aren't parallelized.\n $(filter-out $(lang_checks_parallelized),$(lang_checks)): check-% : site.exp\n@@ -4679,7 +4679,7 @@ $(filter-out $(lang_checks_parallelized),$(lang_checks)): check-% : site.exp\n \tsrcdir=`cd ${srcdir}; ${PWD_COMMAND}` ; export srcdir ; \\\n \tcd $(TESTSUITEDIR)/$*; \\\n \trm -f tmp-site.exp; \\\n-\tsed '/set tmpdir/ s|testsuite|$(TESTSUITEDIR)/$*|' \\\n+\tsed '/set tmpdir/ s|testsuite$$|$(TESTSUITEDIR)/$*|' \\\n \t\t< ../../site.exp > tmp-site.exp; \\\n \t$(SHELL) $${srcdir}/../move-if-change tmp-site.exp site.exp; \\\n \tEXPECT=${EXPECT} ; export EXPECT ; \\\n@@ -4766,7 +4766,7 @@ check-parallel-% : site.exp\n \tsrcdir=`cd ${srcdir}; ${PWD_COMMAND}` ; export srcdir ; \\\n \tcd $(TESTSUITEDIR)/$(check_p_subdir); \\\n \trm -f tmp-site.exp; \\\n-\tsed '/set tmpdir/ s|testsuite|$(TESTSUITEDIR)/$(check_p_subdir)|' \\\n+\tsed '/set tmpdir/ s|testsuite$$|$(TESTSUITEDIR)/$(check_p_subdir)|' \\\n \t\t< ../../site.exp > tmp-site.exp; \\\n \t$(SHELL) $${srcdir}/../move-if-change tmp-site.exp site.exp; \\\n \tEXPECT=${EXPECT} ; export EXPECT ; \\"}]}