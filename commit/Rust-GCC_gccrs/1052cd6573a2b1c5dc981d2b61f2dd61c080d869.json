{"sha": "1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTA1MmNkNjU3M2EyYjFjNWRjOTgxZDJiNjFmMmRkNjFjMDgwZDg2OQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-09-26T15:42:46Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-09-26T15:42:46Z"}, "message": "search.c (get_matching_virtual): Notice virtual bases when sorrying about covariant returns.\n\n\t* search.c (get_matching_virtual): Notice virtual bases when sorrying\n\tabout covariant returns.\n\nFrom-SVN: r15732", "tree": {"sha": "c866550aed01c76d3e706e7bd88c0902d399af64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c866550aed01c76d3e706e7bd88c0902d399af64"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1052cd6573a2b1c5dc981d2b61f2dd61c080d869/comments", "author": null, "committer": null, "parents": [{"sha": "c2b9a5c49da4e6adc0e6a862bb4c74d4502657e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b9a5c49da4e6adc0e6a862bb4c74d4502657e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b9a5c49da4e6adc0e6a862bb4c74d4502657e3"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "b4e0fc921ad5fa1b4d8bfb1ba1ddc733cb8497c7", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1052cd6573a2b1c5dc981d2b61f2dd61c080d869/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1052cd6573a2b1c5dc981d2b61f2dd61c080d869/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "patch": "@@ -1,5 +1,8 @@\n Fri Sep 26 00:22:56 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* search.c (get_matching_virtual): Notice virtual bases when sorrying\n+\tabout covariant returns.\n+\n \t* parse.y (member_init): Also imply typename here.  Remove ancient\n \textension for initializing base members.\n "}, {"sha": "6da3f81713a8ab3a8a75ab406868d3f126452b62", "filename": "gcc/cp/search.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1052cd6573a2b1c5dc981d2b61f2dd61c080d869/gcc%2Fcp%2Fsearch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1052cd6573a2b1c5dc981d2b61f2dd61c080d869/gcc%2Fcp%2Fsearch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsearch.c?ref=1052cd6573a2b1c5dc981d2b61f2dd61c080d869", "patch": "@@ -2197,7 +2197,8 @@ get_matching_virtual (binfo, fndecl, dtorp)\n \t\t\t{\n \t\t\t  tree binfo = get_binfo (b, d, 1);\n \t\t\t  if (binfo != error_mark_node\n-\t\t\t      && ! BINFO_OFFSET_ZEROP (binfo))\n+\t\t\t      && (! BINFO_OFFSET_ZEROP (binfo)\n+\t\t\t\t  || TREE_VIA_VIRTUAL (binfo)))\n \t\t\t    sorry (\"adjusting pointers for covariant returns\");\n \t\t\t}\n \t\t      if (TYPE_READONLY (d) > TYPE_READONLY (b))"}]}