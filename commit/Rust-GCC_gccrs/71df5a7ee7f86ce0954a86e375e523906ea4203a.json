{"sha": "71df5a7ee7f86ce0954a86e375e523906ea4203a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzFkZjVhN2VlN2Y4NmNlMDk1NGE4NmUzNzVlNTIzOTA2ZWE0MjAzYQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2010-07-07T15:26:48Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2010-07-07T15:26:48Z"}, "message": "re PR rtl-optimization/44404 (auto-inc-dec generates an invalid assembly instruction)\n\n\tPR rtl-optimization/44404\n\t* auto-inc-dec.c (find_inc): Avoid calling count_occurrences if\n\tpossible, use reg_overlap_mentioned_p instead.\n\nFrom-SVN: r161920", "tree": {"sha": "4a834c6c447e50e8b3be17c7fcfb6b4c48cfa21e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a834c6c447e50e8b3be17c7fcfb6b4c48cfa21e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71df5a7ee7f86ce0954a86e375e523906ea4203a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71df5a7ee7f86ce0954a86e375e523906ea4203a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71df5a7ee7f86ce0954a86e375e523906ea4203a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71df5a7ee7f86ce0954a86e375e523906ea4203a/comments", "author": null, "committer": null, "parents": [{"sha": "f625098e0c1b2cbb0abc21b760b3fd4a1fb3d22b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f625098e0c1b2cbb0abc21b760b3fd4a1fb3d22b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f625098e0c1b2cbb0abc21b760b3fd4a1fb3d22b"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "934cacdd755b4eb3e90d825888441a9451acf1fb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71df5a7ee7f86ce0954a86e375e523906ea4203a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71df5a7ee7f86ce0954a86e375e523906ea4203a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=71df5a7ee7f86ce0954a86e375e523906ea4203a", "patch": "@@ -1,3 +1,9 @@\n+2010-07-07  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\tPR rtl-optimization/44404\n+\t* auto-inc-dec.c (find_inc): Avoid calling count_occurrences if\n+\tpossible, use reg_overlap_mentioned_p instead.\n+\n 2010-07-07  Duncan Sands  <baldrick@free.fr>\n \n \tPR middle-end/41355"}, {"sha": "20083ad1f838db493767fed6785565fbccc12959", "filename": "gcc/auto-inc-dec.c", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71df5a7ee7f86ce0954a86e375e523906ea4203a/gcc%2Fauto-inc-dec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71df5a7ee7f86ce0954a86e375e523906ea4203a/gcc%2Fauto-inc-dec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fauto-inc-dec.c?ref=71df5a7ee7f86ce0954a86e375e523906ea4203a", "patch": "@@ -1068,14 +1068,7 @@ find_inc (bool first_try)\n       /* For the post_add to work, the result_reg of the inc must not be\n \t used in the mem insn since this will become the new index\n \t register.  */\n-      if (count_occurrences (PATTERN (mem_insn.insn), inc_insn.reg_res, 1) == 0\n-\t  && reg_overlap_mentioned_p (inc_insn.reg_res, PATTERN (mem_insn.insn)))\n-\t{\n-\t  debug_rtx (mem_insn.insn);\n-\t  debug_rtx (inc_insn.reg_res);\n-\t  gcc_unreachable ();\n-\t}\n-      if (count_occurrences (PATTERN (mem_insn.insn), inc_insn.reg_res, 1) != 0)\n+      if (reg_overlap_mentioned_p (inc_insn.reg_res, PATTERN (mem_insn.insn)))\n \t{\n \t  if (dump_file)\n \t    fprintf (dump_file, \"base reg replacement failure.\\n\");"}]}