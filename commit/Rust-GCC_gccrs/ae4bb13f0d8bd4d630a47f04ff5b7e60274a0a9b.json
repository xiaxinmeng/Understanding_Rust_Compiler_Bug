{"sha": "ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWU0YmIxM2YwZDhiZDRkNjMwYTQ3ZjA0ZmY1YjdlNjAyNzRhMGE5Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-05T02:03:19Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2017-12-05T02:03:19Z"}, "message": "compiler: no nil check needed for closure var dereferences\n    \n    Add the \"no nil check needed\" annotation to the dereference operations\n    created in Parse::enclosing_var_reference (this is safe since the\n    closure object is under control of the compiler, and pointer fields in\n    it will always be non-nil).\n    \n    Reviewed-on: https://go-review.googlesource.com/81795\n\nFrom-SVN: r255400", "tree": {"sha": "ba65137f4135af4de247ed5675b47fd1cac1136a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba65137f4135af4de247ed5675b47fd1cac1136a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b/comments", "author": null, "committer": null, "parents": [{"sha": "141abc6f1e5a6a2de0a1ee97b63d56ee50b85a66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/141abc6f1e5a6a2de0a1ee97b63d56ee50b85a66", "html_url": "https://github.com/Rust-GCC/gccrs/commit/141abc6f1e5a6a2de0a1ee97b63d56ee50b85a66"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "e0d606c7e26b46170d050c35dd3ecde20d14d402", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "patch": "@@ -1,4 +1,4 @@\n-338f7434175bb71f3c8905e9ad7f480aec3afee6\n+297cf346f2400274946650ab9ecd039427fc986b\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "98f30673d67fe0a9dd3e455fb7c9cea75ada14d5", "filename": "gcc/go/gofrontend/parse.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fparse.cc?ref=ae4bb13f0d8bd4d630a47f04ff5b7e60274a0a9b", "patch": "@@ -2747,15 +2747,16 @@ Parse::enclosing_var_reference(Named_object* in_function, Named_object* var,\n \t\t\t\t\t\t\t   location);\n   closure_ref =\n       Expression::make_dereference(closure_ref,\n-                                   Expression::NIL_CHECK_DEFAULT,\n+                                   Expression::NIL_CHECK_NOT_NEEDED,\n                                    location);\n \n   // The closure structure holds pointers to the variables, so we need\n   // to introduce an indirection.\n   Expression* e = Expression::make_field_reference(closure_ref,\n \t\t\t\t\t\t   ins.first->index(),\n \t\t\t\t\t\t   location);\n-  e = Expression::make_dereference(e, Expression::NIL_CHECK_DEFAULT, location);\n+  e = Expression::make_dereference(e, Expression::NIL_CHECK_NOT_NEEDED,\n+                                   location);\n   return Expression::make_enclosing_var_reference(e, var, location);\n }\n "}]}