{"sha": "9fb60a0d1a7af546cce200d38315019b1e026a89", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZiNjBhMGQxYTdhZjU0NmNjZTIwMGQzODMxNTAxOWIxZTAyNmE4OQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-10-25T12:42:15Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-10-25T12:42:15Z"}, "message": "* stmt.c (expand_end_case): Remove orig_minval and use tree_low_cst.\n\nFrom-SVN: r46486", "tree": {"sha": "395b31a239a6be99a697bde664bd5f3b2a7ecec1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/395b31a239a6be99a697bde664bd5f3b2a7ecec1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fb60a0d1a7af546cce200d38315019b1e026a89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fb60a0d1a7af546cce200d38315019b1e026a89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fb60a0d1a7af546cce200d38315019b1e026a89", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fb60a0d1a7af546cce200d38315019b1e026a89/comments", "author": null, "committer": null, "parents": [{"sha": "2ea792c2fbc3d2f3f937d7976c2f0bce10a0320f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ea792c2fbc3d2f3f937d7976c2f0bce10a0320f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ea792c2fbc3d2f3f937d7976c2f0bce10a0320f"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "8c5c931835dda40a75d6196f89e7169426105f8a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fb60a0d1a7af546cce200d38315019b1e026a89/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fb60a0d1a7af546cce200d38315019b1e026a89/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9fb60a0d1a7af546cce200d38315019b1e026a89", "patch": "@@ -1,3 +1,7 @@\n+Thu Oct 25 08:46:06 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* stmt.c (expand_end_case): Remove orig_minval and use tree_low_cst.\n+\n 2001-10-24  Christopher Faylor  <cgf@redhat.com>\n \n \t* config/i386/cygwin.h: Use proper path for mingw crt files when"}, {"sha": "d5c736f1df11cf0138090a6f140051a92fbc6f0c", "filename": "gcc/stmt.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fb60a0d1a7af546cce200d38315019b1e026a89/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fb60a0d1a7af546cce200d38315019b1e026a89/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=9fb60a0d1a7af546cce200d38315019b1e026a89", "patch": "@@ -5317,7 +5317,7 @@ void\n expand_end_case (orig_index)\n      tree orig_index;\n {\n-  tree minval = NULL_TREE, maxval = NULL_TREE, range = NULL_TREE, orig_minval;\n+  tree minval = NULL_TREE, maxval = NULL_TREE, range = NULL_TREE;\n   rtx default_label = 0;\n   struct case_node *n;\n   unsigned int count;\n@@ -5417,8 +5417,6 @@ expand_end_case (orig_index)\n \t    count++;\n \t}\n \n-      orig_minval = minval;\n-\n       /* Compute span of values.  */\n       if (count != 0)\n \trange = fold (build (MINUS_EXPR, index_type, maxval, minval));\n@@ -5559,14 +5557,14 @@ expand_end_case (orig_index)\n \t  for (n = thiscase->data.case_stmt.case_list; n; n = n->right)\n \t    {\n \t      HOST_WIDE_INT i\n-\t\t= TREE_INT_CST_LOW (n->low) - TREE_INT_CST_LOW (orig_minval);\n+\t\t= tree_low_cst (n->low, 0) - tree_low_cst (minval, 0);\n \n \t      while (1)\n \t\t{\n \t\t  labelvec[i]\n \t\t    = gen_rtx_LABEL_REF (Pmode, label_rtx (n->code_label));\n-\t\t  if (i + TREE_INT_CST_LOW (orig_minval)\n-\t\t      == TREE_INT_CST_LOW (n->high))\n+\t\t  if (i + tree_low_cst (minval, 0)\n+\t\t      == tree_low_cst (n->high, 0))\n \t\t    break;\n \t\t  i++;\n \t\t}"}]}