{"sha": "b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM4N2U2NjRjZmE0ZTlkZDAxMGEzZjY0ZDQ0NjMwOGQ2ZDg0YTVkMg==", "commit": {"author": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2021-07-05T09:31:46Z"}, "committer": {"name": "liuhongt", "email": "hongtao.liu@intel.com", "date": "2021-09-02T06:11:59Z"}, "message": "libgcc: Enable hfmode soft-sf/df/xf/tf extensions and truncations.\n\nlibgcc/ChangeLog:\n\n\t* config/i386/32/sfp-machine.h (_FP_NANFRAC_H): New macro.\n\t* config/i386/64/sfp-machine.h (_FP_NANFRAC_H): Ditto.\n\t* config/i386/sfp-machine.h (_FP_NANSIGN_H): Ditto.\n\t* config/i386/t-softfp: Add hf soft-fp.\n\t* config.host: Add i386/64/t-softfp.\n\t* config/i386/64/t-softfp: New file.", "tree": {"sha": "70d356bb6f7c419e7fa031059c630aacfc1809dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70d356bb6f7c419e7fa031059c630aacfc1809dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/comments", "author": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "committer": {"login": "algebra84", "id": 22926165, "node_id": "MDQ6VXNlcjIyOTI2MTY1", "avatar_url": "https://avatars.githubusercontent.com/u/22926165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/algebra84", "html_url": "https://github.com/algebra84", "followers_url": "https://api.github.com/users/algebra84/followers", "following_url": "https://api.github.com/users/algebra84/following{/other_user}", "gists_url": "https://api.github.com/users/algebra84/gists{/gist_id}", "starred_url": "https://api.github.com/users/algebra84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/algebra84/subscriptions", "organizations_url": "https://api.github.com/users/algebra84/orgs", "repos_url": "https://api.github.com/users/algebra84/repos", "events_url": "https://api.github.com/users/algebra84/events{/privacy}", "received_events_url": "https://api.github.com/users/algebra84/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7cbc870c495cebc61f5d0ebb975856c207a42fab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7cbc870c495cebc61f5d0ebb975856c207a42fab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7cbc870c495cebc61f5d0ebb975856c207a42fab"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "e2b4be475203322727eb26f56130d2f49c0a7c84", "filename": "libgcc/config.host", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -1539,10 +1539,7 @@ i[34567]86-*-elfiamcu | i[34567]86-*-rtems*)\n \t;;\n i[34567]86-*-* | x86_64-*-*)\n   \ttmake_file=\"${tmake_file} t-softfp-tf\"\n-\tif test \"${host_address}\" = 32; then\n-\t\ttmake_file=\"${tmake_file} i386/${host_address}/t-softfp\"\n-\tfi\n-\ttmake_file=\"${tmake_file} i386/t-softfp t-softfp\"\n+\ttmake_file=\"${tmake_file} i386/${host_address}/t-softfp i386/t-softfp t-softfp\"\n \t;;\n esac\n "}, {"sha": "e24cbc8d180f220f66a8617c90abfdaf9ec890a7", "filename": "libgcc/config/i386/32/sfp-machine.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F32%2Fsfp-machine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F32%2Fsfp-machine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F32%2Fsfp-machine.h?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -86,6 +86,7 @@\n #define _FP_DIV_MEAT_D(R,X,Y)   _FP_DIV_MEAT_2_udiv(D,R,X,Y)\n #define _FP_DIV_MEAT_Q(R,X,Y)   _FP_DIV_MEAT_4_udiv(Q,R,X,Y)\n \n+#define _FP_NANFRAC_H\t\t_FP_QNANBIT_H\n #define _FP_NANFRAC_S\t\t_FP_QNANBIT_S\n #define _FP_NANFRAC_D\t\t_FP_QNANBIT_D, 0\n /* Even if XFmode is 12byte,  we have to pad it to"}, {"sha": "e1c616699bbd9198d88d155f5e0d5cf984ad3f4c", "filename": "libgcc/config/i386/64/sfp-machine.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -13,6 +13,7 @@ typedef unsigned int UTItype __attribute__ ((mode (TI)));\n \n #define _FP_DIV_MEAT_Q(R,X,Y)   _FP_DIV_MEAT_2_udiv(Q,R,X,Y)\n \n+#define _FP_NANFRAC_H\t\t_FP_QNANBIT_H\n #define _FP_NANFRAC_S\t\t_FP_QNANBIT_S\n #define _FP_NANFRAC_D\t\t_FP_QNANBIT_D\n #define _FP_NANFRAC_E\t\t_FP_QNANBIT_E, 0"}, {"sha": "f9d8b3a945c752357efa1d2cee8c45e842a66c3b", "filename": "libgcc/config/i386/64/t-softfp", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F64%2Ft-softfp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2F64%2Ft-softfp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Ft-softfp?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -0,0 +1 @@\n+softfp_extras := fixhfti fixunshfti floattihf floatuntihf"}, {"sha": "f15d29d37550936c060c4caed4182c58c43ee221", "filename": "libgcc/config/i386/sfp-machine.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2Fsfp-machine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2Fsfp-machine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fsfp-machine.h?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -17,6 +17,7 @@ typedef int __gcc_CMPtype __attribute__ ((mode (__libgcc_cmp_return__)));\n #define _FP_KEEPNANFRACP\t1\n #define _FP_QNANNEGATEDP 0\n \n+#define _FP_NANSIGN_H\t\t1\n #define _FP_NANSIGN_S\t\t1\n #define _FP_NANSIGN_D\t\t1\n #define _FP_NANSIGN_E\t\t1"}, {"sha": "4ac214eb0ce31ed8c0177869cd0bdc8ceba16fb6", "filename": "libgcc/config/i386/t-softfp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2Ft-softfp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b387e664cfa4e9dd010a3f64d446308d6d84a5d2/libgcc%2Fconfig%2Fi386%2Ft-softfp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Ft-softfp?ref=b387e664cfa4e9dd010a3f64d446308d6d84a5d2", "patch": "@@ -1 +1,6 @@\n LIB2ADD += $(srcdir)/config/i386/sfp-exceptions.c\n+\n+softfp_extensions := hfsf hfdf hftf hfxf sfdf sftf dftf xftf\n+softfp_truncations := tfhf xfhf dfhf sfhf tfsf dfsf tfdf tfxf\n+\n+softfp_extras += eqhf2\n\\ No newline at end of file"}]}