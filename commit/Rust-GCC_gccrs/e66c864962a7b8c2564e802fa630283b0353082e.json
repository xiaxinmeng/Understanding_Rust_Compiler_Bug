{"sha": "e66c864962a7b8c2564e802fa630283b0353082e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTY2Yzg2NDk2MmE3YjhjMjU2NGU4MDJmYTYzMDI4M2IwMzUzMDgyZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2002-07-06T17:19:51Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2002-07-06T17:19:51Z"}, "message": "20020706-1.c: New test.\n\n* gcc.c-torture/compile/20020706-1.c: New test.\n* gcc.c-torture/compile/20020706-2.c: New test.\n\nFrom-SVN: r55290", "tree": {"sha": "dee8c6756ad2e58172d765352afd1cd7c6438dce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dee8c6756ad2e58172d765352afd1cd7c6438dce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e66c864962a7b8c2564e802fa630283b0353082e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e66c864962a7b8c2564e802fa630283b0353082e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e66c864962a7b8c2564e802fa630283b0353082e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e66c864962a7b8c2564e802fa630283b0353082e/comments", "author": null, "committer": null, "parents": [{"sha": "71b089f0be9871e2493469f5cb47add3035fa8a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71b089f0be9871e2493469f5cb47add3035fa8a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71b089f0be9871e2493469f5cb47add3035fa8a5"}], "stats": {"total": 81, "additions": 81, "deletions": 0}, "files": [{"sha": "0d8df23b43cc66f9a8de681fc7a335944da9c402", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e66c864962a7b8c2564e802fa630283b0353082e", "patch": "@@ -1,3 +1,8 @@\n+2002-07-06  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* gcc.c-torture/compile/20020706-1.c: New test.\n+\t* gcc.c-torture/compile/20020706-2.c: New test.\n+\n 2002-07-06  Brian R. Gaeke  <brg@dgate.ORG>, Alexandre Oliva  <aoliva@redhat.com>\n \n \t* g++.dg/warn/incomplete1.C: New test."}, {"sha": "c8811bc68ff8772c0d1bf80b5d7064c848774a7e", "filename": "gcc/testsuite/gcc.c-torture/compile/20020706-1.c", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-1.c?ref=e66c864962a7b8c2564e802fa630283b0353082e", "patch": "@@ -0,0 +1,50 @@\n+// Contributed by Alexandre Oliva <aoliva@redhat.com>\n+// From Red Hat case 106165.\n+\n+typedef struct s1\n+{\n+  unsigned short v1;\n+  unsigned char *v2;\n+} S1;\n+\n+extern void bar(const struct s1 *const hdb);\n+extern unsigned char* foo ();\n+\n+unsigned int sn;\n+S1 *hdb;\n+S1 *pb;\n+unsigned short len;\n+\n+unsigned int crashIt()\n+{\n+  unsigned char *p;\n+  unsigned int nsn;\n+  unsigned short cnt;\n+\n+  if (sn != 0) return 1;\n+\n+  if ((len < 12) || ((p = (((pb->v1) >= 8) ? pb->v2 : foo() )) == 0))\n+    return 1;\n+\n+  nsn = (\n+\t (((*(unsigned int*)p) & 0x000000ff) << 24) |\n+\t (((*(unsigned int*)p) & 0x0000ff00) << 8)  |\n+\t (((*(unsigned int*)p) & 0x00ff0000) >> 8)  |\n+\t (((*(unsigned int*)p) & 0xff000000) >> 24)  );\n+  p += 4;\n+\n+  cnt = (unsigned short) ((\n+\t\t\t   (((*(unsigned int*)p) & 0x000000ff) << 24) |\n+\t\t\t   (((*(unsigned int*)p) & 0x0000ff00) << 8)  |\n+\t\t\t   (((*(unsigned int*)p) & 0x00ff0000) >> 8)  |\n+\t\t\t   (((*(unsigned int*)p) & 0xff000000) >> 24)  ) &\n+\t\t\t  0xffff);\n+\n+  if ((len != 12 + (cnt * 56)) || (nsn == 0))\n+    {\n+      bar(hdb);\n+      return 1;\n+    }\n+\n+  return 0;\n+}"}, {"sha": "b84dda60fd31200e915e82ffdf3fa2d2e24b1b6a", "filename": "gcc/testsuite/gcc.c-torture/compile/20020706-2.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e66c864962a7b8c2564e802fa630283b0353082e/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20020706-2.c?ref=e66c864962a7b8c2564e802fa630283b0353082e", "patch": "@@ -0,0 +1,26 @@\n+// Contributed by Alexandre Oliva <aoliva@redhat.com>\n+// From Red Hat case 106165.\n+\n+typedef unsigned short (FUNC_P) (void *, unsigned char *, unsigned short);\n+\n+void crashIt(int id, FUNC_P *func, unsigned char *funcparm)\n+{\n+  unsigned char buff[5], reverse[4];\n+  unsigned char *bp = buff;\n+  unsigned char *rp = reverse;\n+  unsigned short int count = 0;\n+  unsigned short cnt;\n+  while (id > 0)\n+    {\n+      *rp++ = (unsigned char) (id & 0x7F);\n+      id >>= 7;\n+      count++;\n+    }\n+  cnt = count + 1;\n+  while ((count--) > 1)\n+    {\n+      *bp++ = (unsigned char)(*(--rp) | 0x80);\n+    }\n+  *bp++ = *(--rp);\n+  (void)(*func)(funcparm, buff, cnt);\n+}"}]}