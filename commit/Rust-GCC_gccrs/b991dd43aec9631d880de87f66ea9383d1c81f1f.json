{"sha": "b991dd43aec9631d880de87f66ea9383d1c81f1f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk5MWRkNDNhZWM5NjMxZDg4MGRlODdmNjZlYTkzODNkMWM4MWYxZg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-06T09:37:22Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-06T09:37:22Z"}, "message": "[multiple changes]\n\n2011-09-06  Robert Dewar  <dewar@adacore.com>\n\n\t* ali.adb, sem_ch13.adb, lib-xref.adb: Minor reformatting.\n\n2011-09-06  Pascal Obry  <obry@adacore.com>\n\n\t* s-osinte-linux.ads, s-oscons-tmplt.c: Use oscons to define sigset_t\n\ttypes.\n\nFrom-SVN: r178578", "tree": {"sha": "19c21864f4862ca362dd67aae678c03a847a7863", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19c21864f4862ca362dd67aae678c03a847a7863"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b991dd43aec9631d880de87f66ea9383d1c81f1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b991dd43aec9631d880de87f66ea9383d1c81f1f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b991dd43aec9631d880de87f66ea9383d1c81f1f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b991dd43aec9631d880de87f66ea9383d1c81f1f/comments", "author": null, "committer": null, "parents": [{"sha": "516785cc7f25b88b0d32e0b8b0697e599120d0f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516785cc7f25b88b0d32e0b8b0697e599120d0f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/516785cc7f25b88b0d32e0b8b0697e599120d0f0"}], "stats": {"total": 50, "additions": 37, "deletions": 13}, "files": [{"sha": "db97339dda2ff3df4ff0f1761a2700bdf7504a10", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -1,3 +1,12 @@\n+2011-09-06  Robert Dewar  <dewar@adacore.com>\n+\n+\t* ali.adb, sem_ch13.adb, lib-xref.adb: Minor reformatting.\n+\n+2011-09-06  Pascal Obry  <obry@adacore.com>\n+\n+\t* s-osinte-linux.ads, s-oscons-tmplt.c: Use oscons to define sigset_t\n+\ttypes.\n+\n 2011-09-06  Robert Dewar  <dewar@adacore.com>\n \n \t* g-socket.adb: Minor reformatting"}, {"sha": "93dd10956ccc31481f3470b649289b61d4b17146", "filename": "gcc/ada/ali.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fali.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fali.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fali.adb?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -2405,6 +2405,7 @@ package body ALI is\n \n                            pragma Assert (Nextc = '>');\n                            Skipc;\n+\n                         else\n                            XR.Imported_Lang := No_Name;\n                            XR.Imported_Name := No_Name;"}, {"sha": "02107570a6e5f8cc75c7cf73ebbf40e0f30121c9", "filename": "gcc/ada/lib-xref.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Flib-xref.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Flib-xref.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref.adb?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -1163,7 +1163,7 @@ package body Lib.Xref is\n \n       procedure Output_Import_Export_Info (Ent : Entity_Id);\n       --  Output language and external name information for an interfaced\n-      --  entity, using the format <language, external_name>\n+      --  entity, using the format <language, external_name>.\n \n       ------------------------\n       -- Get_Type_Reference --"}, {"sha": "ad3d06520d85e0ebc8f5b214b731311e6ecf07a7", "filename": "gcc/ada/s-oscons-tmplt.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fs-oscons-tmplt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fs-oscons-tmplt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-oscons-tmplt.c?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -165,6 +165,7 @@ pragma Style_Checks (\"M32766\");\n \n #ifdef __linux__\n # include <pthread.h>\n+# include <signal.h>\n #endif\n \n #ifdef NATIVE\n@@ -1267,6 +1268,11 @@ CND(SIZEOF_struct_hostent, \"struct hostent\");\n \n #define SIZEOF_struct_servent (sizeof (struct servent))\n CND(SIZEOF_struct_servent, \"struct servent\");\n+\n+#if defined (__linux__)\n+#define SIZEOF_sigset (sizeof (sigset_t))\n+CND(SIZEOF_sigset, \"sigset\");\n+#endif\n /*\n \n    --  Fields of struct msghdr"}, {"sha": "bd37c119fd1bd704b865e6fa3b960aaa1ecd74ca", "filename": "gcc/ada/s-osinte-linux.ads", "status": "modified", "additions": 19, "deletions": 11, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fs-osinte-linux.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fs-osinte-linux.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osinte-linux.ads?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -534,7 +534,8 @@ package System.OS_Interface is\n \n private\n \n-   type sigset_t is array (0 .. 127) of unsigned_char;\n+   type sigset_t is\n+     array (0 .. OS_Constants.SIZEOF_sigset - 1) of unsigned_char;\n    pragma Convention (C, sigset_t);\n    for sigset_t'Alignment use Interfaces.C.unsigned_long'Alignment;\n \n@@ -561,28 +562,35 @@ private\n    type unsigned_long_long_t is mod 2 ** 64;\n    --  Local type only used to get the alignment of this type below\n \n-   type pthread_attr_t is\n-     array (1 .. OS_Constants.PTHREAD_ATTR_SIZE) of unsigned_char;\n+   subtype char_array is Interfaces.C.char_array;\n+\n+   type pthread_attr_t is record\n+      Data : char_array (1 .. OS_Constants.PTHREAD_ATTR_SIZE);\n+   end record;\n    pragma Convention (C, pthread_attr_t);\n    for pthread_attr_t'Alignment use Interfaces.C.unsigned_long'Alignment;\n \n-   type pthread_condattr_t is\n-     array (1 .. OS_Constants.PTHREAD_CONDATTR_SIZE) of unsigned_char;\n+   type pthread_condattr_t is record\n+      Data : char_array (1 .. OS_Constants.PTHREAD_CONDATTR_SIZE);\n+   end record;\n    pragma Convention (C, pthread_condattr_t);\n    for pthread_condattr_t'Alignment use Interfaces.C.int'Alignment;\n \n-   type pthread_mutexattr_t is\n-     array (1 .. OS_Constants.PTHREAD_MUTEXATTR_SIZE) of unsigned_char;\n+   type pthread_mutexattr_t is record\n+      Data : char_array (1 .. OS_Constants.PTHREAD_MUTEXATTR_SIZE);\n+   end  record;\n    pragma Convention (C, pthread_mutexattr_t);\n    for pthread_mutexattr_t'Alignment use Interfaces.C.int'Alignment;\n \n-   type pthread_mutex_t is\n-     array (1 .. OS_Constants.PTHREAD_MUTEX_SIZE) of unsigned_char;\n+   type pthread_mutex_t is record\n+      Data : char_array (1 .. OS_Constants.PTHREAD_MUTEX_SIZE);\n+   end record;\n    pragma Convention (C, pthread_mutex_t);\n    for pthread_mutex_t'Alignment use Interfaces.C.unsigned_long'Alignment;\n \n-   type pthread_cond_t is\n-     array (1 .. OS_Constants.PTHREAD_COND_SIZE) of unsigned_char;\n+   type pthread_cond_t is record\n+      Data : char_array (1 .. OS_Constants.PTHREAD_COND_SIZE);\n+   end record;\n    pragma Convention (C, pthread_cond_t);\n    for pthread_cond_t'Alignment use unsigned_long_long_t'Alignment;\n "}, {"sha": "fe2b82bdf1a0b6ab1e2bb6b10bf65d1215b0f44f", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b991dd43aec9631d880de87f66ea9383d1c81f1f/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=b991dd43aec9631d880de87f66ea9383d1c81f1f", "patch": "@@ -1295,7 +1295,7 @@ package body Sem_Ch13 is\n                   --  part it applies to a completion.\n \n                   if Nkind_In (N, N_Private_Type_Declaration,\n-                                      N_Private_Extension_Declaration)\n+                                  N_Private_Extension_Declaration)\n                   then\n                      null;\n "}]}