{"sha": "1f65437dad53634e95b8bb77139e0f6f4ad925a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY2NTQzN2RhZDUzNjM0ZTk1YjhiYjc3MTM5ZTBmNmY0YWQ5MjVhOQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2010-02-05T18:21:06Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2010-02-05T18:21:06Z"}, "message": "re PR target/42924 (pex-unix.c:589:1: internal compiler error: output_operand)\n\n2010-02-05  Steve Ellcey  <sje@cup.hp.com>\n\n\tPR target/42924\n\t* config/pa/pa.c (TARGET_DELEGITIMIZE_ADDRESS): Redefine.\n\t(pa_delegitimize_address): New function.\n\nFrom-SVN: r156526", "tree": {"sha": "3509fe429faf587345d051050bf7f836b63e25bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3509fe429faf587345d051050bf7f836b63e25bd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f65437dad53634e95b8bb77139e0f6f4ad925a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f65437dad53634e95b8bb77139e0f6f4ad925a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f65437dad53634e95b8bb77139e0f6f4ad925a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f65437dad53634e95b8bb77139e0f6f4ad925a9/comments", "author": null, "committer": null, "parents": [{"sha": "4e4d27aae5e823e2c443de54871a357fcf760861", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e4d27aae5e823e2c443de54871a357fcf760861", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e4d27aae5e823e2c443de54871a357fcf760861"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "be49d980c1534ce5b232d49cbdfc04650cb43094", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f65437dad53634e95b8bb77139e0f6f4ad925a9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f65437dad53634e95b8bb77139e0f6f4ad925a9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f65437dad53634e95b8bb77139e0f6f4ad925a9", "patch": "@@ -1,3 +1,9 @@\n+2010-02-05  Steve Ellcey  <sje@cup.hp.com>\n+\n+\tPR target/42924\n+\t* config/pa/pa.c (TARGET_DELEGITIMIZE_ADDRESS): Redefine.\n+\t(pa_delegitimize_address): New function.\n+\n 2010-02-05  Ozkan Sezer  <sezeroz@gmail.com>\n \n \t* config/i386/msformat-c.c (ms_printf_length_specs): Set the"}, {"sha": "7054c50b8f3a6d76c117c99f760448dbbaa04942", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f65437dad53634e95b8bb77139e0f6f4ad925a9/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f65437dad53634e95b8bb77139e0f6f4ad925a9/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=1f65437dad53634e95b8bb77139e0f6f4ad925a9", "patch": "@@ -167,6 +167,7 @@ static enum machine_mode pa_promote_function_mode (const_tree,\n static void pa_asm_trampoline_template (FILE *);\n static void pa_trampoline_init (rtx, tree, rtx);\n static rtx pa_trampoline_adjust_address (rtx);\n+static rtx pa_delegitimize_address (rtx);\n \n /* The following extra sections are only used for SOM.  */\n static GTY(()) section *som_readonly_data_section;\n@@ -339,6 +340,8 @@ static size_t n_deferred_plabels = 0;\n #define TARGET_TRAMPOLINE_INIT pa_trampoline_init\n #undef TARGET_TRAMPOLINE_ADJUST_ADDRESS\n #define TARGET_TRAMPOLINE_ADJUST_ADDRESS pa_trampoline_adjust_address\n+#undef TARGET_DELEGITIMIZE_ADDRESS\n+#define TARGET_DELEGITIMIZE_ADDRESS pa_delegitimize_address\n \n struct gcc_target targetm = TARGET_INITIALIZER;\n \f\n@@ -9994,5 +9997,17 @@ pa_trampoline_adjust_address (rtx addr)\n     addr = memory_address (Pmode, plus_constant (addr, 46));\n   return addr;\n }\n+\n+static rtx\n+pa_delegitimize_address (rtx orig_x)\n+{\n+  rtx x = delegitimize_mem_from_attrs (orig_x);\n+\n+  if (GET_CODE (x) == LO_SUM\n+      && GET_CODE (XEXP (x, 1)) == UNSPEC\n+      && XINT (XEXP (x, 1), 1) == UNSPEC_DLTIND14R)\n+    return gen_const_mem (Pmode, XVECEXP (XEXP (x, 1), 0, 0));\n+  return x;\n+}\n \f\n #include \"gt-pa.h\""}]}