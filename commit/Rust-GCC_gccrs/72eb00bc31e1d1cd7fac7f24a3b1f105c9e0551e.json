{"sha": "72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzJlYjAwYmMzMWUxZDFjZDdmYWM3ZjI0YTNiMWYxMDVjOWUwNTUxZQ==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2007-06-30T13:02:48Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2007-06-30T13:02:48Z"}, "message": "re PR testsuite/25241 ([C++] DejaGNU does not distinguish between errors and warnings)\n\n2007-06-30  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\tPR testsuite/25241\ntestsuite/\n\t* gcc.dg/pch/valid-1.c: Match each diagnostic with its own directive.\n\t* gcc.dg/pch/valid-2.c: Likewise.\n\t* gcc.dg/pch/valid-3.c: Likewise.\n\t* gcc.dg/pch/warn-1.c: Likewise.\n\t* gcc.dg/pch/valid-4.c: Match a warning instead of an error.\n\nFrom-SVN: r126145", "tree": {"sha": "f1afd8f1af0653bf38f38f36b9a0c85e0966137c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f1afd8f1af0653bf38f38f36b9a0c85e0966137c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/comments", "author": null, "committer": null, "parents": [{"sha": "ad960f56f2e381290d1a83b0ee2f1d7b0e9d3a97", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad960f56f2e381290d1a83b0ee2f1d7b0e9d3a97", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad960f56f2e381290d1a83b0ee2f1d7b0e9d3a97"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "975939a396f28d7ac8ef13c46d5798de52772289", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -1,3 +1,12 @@\n+2007-06-30  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\tPR testsuite/25241\n+\t* gcc.dg/pch/valid-1.c: Match each diagnostic with its own directive.\n+\t* gcc.dg/pch/valid-2.c: Likewise.\n+\t* gcc.dg/pch/valid-3.c: Likewise.\n+\t* gcc.dg/pch/warn-1.c: Likewise.\n+\t* gcc.dg/pch/valid-4.c: Match a warning instead of an error.\n+\t\n 2007-06-30  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \tPR c/4076"}, {"sha": "256ed8f7ff758870e26460c05f305d63e7e191d9", "filename": "gcc/testsuite/gcc.dg/pch/valid-1.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-1.c?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -1,5 +1,7 @@\n /* { dg-options \"-I. -Winvalid-pch -g\" } */\n \n-#include \"valid-1.h\"/* { dg-error \"created with -gnone, but used with -g|No such file|they were invalid\" } */\n+#include \"valid-1.h\"/* { dg-warning \"created with -gnone, but used with -g\" } */\n+/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n \n int x;"}, {"sha": "3ae181880849c3092346484fcbe63092b3325355", "filename": "gcc/testsuite/gcc.dg/pch/valid-2.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-2.c?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -1,5 +1,6 @@\n /* { dg-options \"-I. -Winvalid-pch -fexceptions\" } */\n \n-#include \"valid-2.h\"/* { dg-error \"settings for -fexceptions do not match|No such file|they were invalid\" } */\n-\n+#include \"valid-2.h\" /* { dg-warning \"settings for -fexceptions do not match\" } */\n+/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n int x;"}, {"sha": "9ee3f7da484721ca567c16ceca9c36d42d6f16cd", "filename": "gcc/testsuite/gcc.dg/pch/valid-3.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-3.c?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -1,5 +1,6 @@\n /* { dg-options \"-I. -Winvalid-pch -fno-unit-at-a-time\" } */\n \n-#include \"valid-3.h\"/* { dg-error \"settings for -funit-at-a-time do not match|No such file|they were invalid\" } */\n-\n+#include \"valid-3.h\"/* { dg-warning \"settings for -funit-at-a-time do not match\" } */\n+/* { dg-error \"No such file\" \"\" { target *-*-* } 3 } */\n+/* { dg-error \"they were invalid\" \"\" { target *-*-* } 3 } */\n int x;"}, {"sha": "e4419b570796e7ada52f856fd505d29a47edbe78", "filename": "gcc/testsuite/gcc.dg/pch/valid-4.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fvalid-4.c?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -2,5 +2,5 @@\n \n #include \"valid-4.h\"\n \n-char * x = \"??/\";  /* { dg-error \"trigraph\" } */\n+char * x = \"??/\";  /* { dg-warning \"trigraph\" } */\n "}, {"sha": "c841bae4950675840dfb1c88a77951915fe73209", "filename": "gcc/testsuite/gcc.dg/pch/warn-1.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpch%2Fwarn-1.c?ref=72eb00bc31e1d1cd7fac7f24a3b1f105c9e0551e", "patch": "@@ -2,7 +2,10 @@\n \n #define DEFINED_VALUE 3\n \n-#include \"warn-1.h\"/* { dg-error \"not used because `DEFINED_VALUE' is defined|No such file|they were invalid\" } */\n+#include \"warn-1.h\"/* { dg-warning \"not used because .DEFINED_VALUE. is defined\" } */\n+/* { dg-error \"No such file\" \"\" { target *-*-* } 5 } */\n+/* { dg-error \"they were invalid\" \"\" { target *-*-* } 5 } */\n+\n \n int main(void) \n {"}]}