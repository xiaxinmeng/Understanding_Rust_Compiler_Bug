{"sha": "d7b0896b2392b803679ac5ca88087b5c3ecede7e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdiMDg5NmIyMzkyYjgwMzY3OWFjNWNhODgwODdiNWMzZWNlZGU3ZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-04-30T12:07:27Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-04-30T12:07:27Z"}, "message": "re PR target/89093 (C++ exception handling clobbers d8 VFP register)\n\n\tPR target/89093\n\t* config/aarch64/aarch64.c (aarch64_process_one_target_attr): Don't skip\n\twhitespace at the start of target attribute string.\n\n\t* gcc.target/aarch64/pr89093.c: New test.\n\t* gcc.target/aarch64/pr63304_1.c: Remove space from target string.\n\nFrom-SVN: r270690", "tree": {"sha": "6d81cf5c634e9c47e62661ddd7c3602b9b244dc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d81cf5c634e9c47e62661ddd7c3602b9b244dc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7b0896b2392b803679ac5ca88087b5c3ecede7e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b0896b2392b803679ac5ca88087b5c3ecede7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7b0896b2392b803679ac5ca88087b5c3ecede7e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7b0896b2392b803679ac5ca88087b5c3ecede7e/comments", "author": null, "committer": null, "parents": [{"sha": "9e3501f765540f08aad0bcc0821908181366f177", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3501f765540f08aad0bcc0821908181366f177", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e3501f765540f08aad0bcc0821908181366f177"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "4ed2fc4dbfcee4676243c100fd48fef4f07b1760", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d7b0896b2392b803679ac5ca88087b5c3ecede7e", "patch": "@@ -1,8 +1,14 @@\n+2019-04-30  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/89093\n+\t* config/aarch64/aarch64.c (aarch64_process_one_target_attr): Don't skip\n+\twhitespace at the start of target attribute string.\n+\n 2019-04-30  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>\n \n \tPR target/86538\n \t* config/aarch64/aarch64-c.c (aarch64_update_cpp_builtins):\n-\tDefine __ARM_FEATURE_ATOMICS\n+\tDefine __ARM_FEATURE_ATOMICS.\n \n 2019-04-30  Martin Liska  <mliska@suse.cz>\n "}, {"sha": "c3c88c80bbe52173f99c30184410a63e81fac61e", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=d7b0896b2392b803679ac5ca88087b5c3ecede7e", "patch": "@@ -12536,10 +12536,6 @@ aarch64_process_one_target_attr (char *arg_str)\n   char *str_to_check = (char *) alloca (len + 1);\n   strcpy (str_to_check, arg_str);\n \n-  /* Skip leading whitespace.  */\n-  while (*str_to_check == ' ' || *str_to_check == '\\t')\n-    str_to_check++;\n-\n   /* We have something like __attribute__ ((target (\"+fp+nosimd\"))).\n      It is easier to detect and handle it explicitly here rather than going\n      through the machinery for the rest of the target attributes in this"}, {"sha": "b3908ea49c9ccebe7f3c390d72486b1590f07d14", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d7b0896b2392b803679ac5ca88087b5c3ecede7e", "patch": "@@ -1,5 +1,9 @@\n 2019-04-30  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR target/89093\n+\t* gcc.target/aarch64/pr89093.c: New test.\n+\t* gcc.target/aarch64/pr63304_1.c: Remove space from target string.\n+\n \tPR tree-optimization/89475\n \t* gcc.dg/tree-ssa/pr89475.c: New test.\n "}, {"sha": "99b155269aa8f5f828295007f72235d96577d0ef", "filename": "gcc/testsuite/gcc.target/aarch64/pr63304_1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr63304_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr63304_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr63304_1.c?ref=d7b0896b2392b803679ac5ca88087b5c3ecede7e", "patch": "@@ -1,7 +1,7 @@\n /* { dg-do assemble } */\n /* { dg-options \"-O1 --save-temps\" } */\n #pragma GCC push_options\n-#pragma GCC target (\"+nothing+simd, cmodel=small\")\n+#pragma GCC target (\"+nothing+simd,cmodel=small\")\n \n int\n cal (double a)"}, {"sha": "08a3f411766dd5dfd27d0bec3e13364adcae43f0", "filename": "gcc/testsuite/gcc.target/aarch64/pr89093.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr89093.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7b0896b2392b803679ac5ca88087b5c3ecede7e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr89093.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fpr89093.c?ref=d7b0896b2392b803679ac5ca88087b5c3ecede7e", "patch": "@@ -0,0 +1,7 @@\n+/* PR target/89093 */\n+/* { dg-do compile } */\n+\n+__attribute__((target (\"  no-strict-align\"))) void f1 (void) {} /* { dg-error \"is not valid\" } */\n+__attribute__((target (\"\tgeneral-regs-only\"))) void f2 (void) {} /* { dg-error \"is not valid\" } */\n+#pragma GCC target (\"    general-regs-only\")\t/* { dg-error \"is not valid\" } */\n+void f3 (void) {}"}]}