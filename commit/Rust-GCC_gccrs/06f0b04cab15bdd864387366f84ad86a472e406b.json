{"sha": "06f0b04cab15bdd864387366f84ad86a472e406b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDZmMGIwNGNhYjE1YmRkODY0Mzg3MzY2Zjg0YWQ4NmE0NzJlNDA2Yg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-11-30T04:43:05Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-11-30T04:43:05Z"}, "message": "Purge cruft now we have build libiberty.\n\n\t* Makefile.in (OBSTACK, VFPRINTF, DOPRINT, STRSTR,\n\tHOST_OBSTACK, HOST_VFPRINTF, HOST_DOPRINT, HOST_STRSTR,\n\tUSE_HOST_OBSTACK, USE_HOST_VFPRINTF, USE_HOST_DOPRINT,\n\tUSE_HOST_STRSTR): Delete variables.\n\t(vfprintf.o, doprint.o, strstr.o, splay-tree.o, obstack.o,\n\thashtab.o, safe-ctype.o, $(HOST_PREFIX_1)obstack.o,\n\t$(HOST_PREFIX_1)vfprintf.o, $(HOST_PREFIX_1)doprint.o,\n\t$(HOST_PREFIX_1)strstr.o), $(HOST_PREFIX_1)): Delete rules.\n\t(LIBIBERTY, BUILD_LIBIBERTY): New variables.\n\t(LIBDEPS): Now just $(INTLDEPS) $(LIBIBERTY).\n\t(LIBS): Now just $(INTLLIBS) @LIBS@ $(LIBIBERTY).\n\t(HOST_LIBDEPS): Now just $(BUILD_LIBIBERTY).\n\t(HOST_LIBS): Ditto.\n\t(HOST_RTL): Remove hashtab.o safe-ctype.o.\n\t(OBJS): Remove splay-tree.o.\n\t(gen-protos): Depend on $(HOST_LIBS), not ../libiberty/libiberty.a.\n\t(distclean): No need to delete splay-tree.c obstack.c\n\thashtab.c safe-ctype.c.\n\t(mostlyclean): Delete build copies of print-rtl.c bitmap.c\n\terrors.c ggc-none.c (all prefixed with $(HOST_PREFIX_1).\n\t* aclocal.m4 (gcc_AC_FUNC_VFPRINTF_DOPRNT, gcc_AC_FUNC_STRSTR):\n\tDelete.\n\t* configure.in: Don't use them.\n\tSet and substitute @FORBUILD@.\n\t* config.in, configure: Regenerate.\n\t* doprint.c: Move to libiberty/_doprnt.c.\n\t* doc/configterms.texi: Document that libiberty is now built\n\tup to three times.  Fix typo.\n\t* f/Make-lang.in (f/fini, f/intdoc): Depend on $(HOST_LIBDEPS)\n\tand link with $(HOST_LIBS), not safe-ctype.o.\n\nFrom-SVN: r47475", "tree": {"sha": "2bb735450d7699f18d71d9f8c5a346f36f7cbfc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bb735450d7699f18d71d9f8c5a346f36f7cbfc9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06f0b04cab15bdd864387366f84ad86a472e406b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06f0b04cab15bdd864387366f84ad86a472e406b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06f0b04cab15bdd864387366f84ad86a472e406b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06f0b04cab15bdd864387366f84ad86a472e406b/comments", "author": null, "committer": null, "parents": [{"sha": "998979e6dc20eb1b72f6f9a1a818ae28d07d8721", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/998979e6dc20eb1b72f6f9a1a818ae28d07d8721", "html_url": "https://github.com/Rust-GCC/gccrs/commit/998979e6dc20eb1b72f6f9a1a818ae28d07d8721"}], "stats": {"total": 1009, "additions": 237, "deletions": 772}, "files": [{"sha": "8eadcd14a1894185d197f27223d56dfbeff64474", "filename": "gcc/ChangeLog", "status": "modified", "additions": 41, "deletions": 8, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -1,3 +1,36 @@\n+2001-11-29  Zack Weinberg  <zack@codesourcery.com>\n+\n+\tPurge cruft now we have build libiberty.\n+\n+\t* Makefile.in (OBSTACK, VFPRINTF, DOPRINT, STRSTR,\n+\tHOST_OBSTACK, HOST_VFPRINTF, HOST_DOPRINT, HOST_STRSTR,\n+\tUSE_HOST_OBSTACK, USE_HOST_VFPRINTF, USE_HOST_DOPRINT,\n+\tUSE_HOST_STRSTR): Delete variables.\n+\t(vfprintf.o, doprint.o, strstr.o, splay-tree.o, obstack.o,\n+\thashtab.o, safe-ctype.o, $(HOST_PREFIX_1)obstack.o,\n+\t$(HOST_PREFIX_1)vfprintf.o, $(HOST_PREFIX_1)doprint.o,\n+\t$(HOST_PREFIX_1)strstr.o), $(HOST_PREFIX_1)): Delete rules.\n+\t(LIBIBERTY, BUILD_LIBIBERTY): New variables.\n+\t(LIBDEPS): Now just $(INTLDEPS) $(LIBIBERTY).\n+\t(LIBS): Now just $(INTLLIBS) @LIBS@ $(LIBIBERTY).\n+\t(HOST_LIBDEPS): Now just $(BUILD_LIBIBERTY).\n+\t(HOST_LIBS): Ditto.\n+\t(HOST_RTL): Remove hashtab.o safe-ctype.o.\n+\t(OBJS): Remove splay-tree.o.\n+\t(gen-protos): Depend on $(HOST_LIBS), not ../libiberty/libiberty.a.\n+\t(distclean): No need to delete splay-tree.c obstack.c\n+\thashtab.c safe-ctype.c.\n+\t(mostlyclean): Delete build copies of print-rtl.c bitmap.c\n+\terrors.c ggc-none.c (all prefixed with $(HOST_PREFIX_1).\n+\t* aclocal.m4 (gcc_AC_FUNC_VFPRINTF_DOPRNT, gcc_AC_FUNC_STRSTR):\n+\tDelete.\n+\t* configure.in: Don't use them.\n+\tSet and substitute @FORBUILD@.\n+\t* config.in, configure: Regenerate.\n+\t* doprint.c: Move to libiberty/_doprnt.c.\n+\t* doc/configterms.texi: Document that libiberty is now built\n+\tup to three times.  Fix typo.\n+\n 2001-11-30  Jason Merrill  <jason@redhat.com>\n \n \t* dwarf2out.c (add_data_member_location_attribute): Do the\n@@ -11,7 +44,7 @@\n \n 2001-11-29  Aldy Hernandez  <aldyh@redhat.com>\n \n-\t* config/rs6000/rs6000.c (function_arg): Unnamed vector arguments \n+\t* config/rs6000/rs6000.c (function_arg): Unnamed vector arguments\n \tgo in memory.\n \tRemove unused attribute for named.\n \n@@ -33,7 +66,7 @@\n \t* config/cris/cris.h (EXTRA_CONSTRAINT_T): Fix spacing and FIXME.\n \tFix typo in comment.\n \t(LINK_SPEC): Remove whitespace at end of line.\n-\t\n+\n 2001-11-29  Jakub Jelinek  <jakub@redhat.com>\n \n \t* c-lex.c (init_c_lex): Canonicalize \"-\" filename to \"\".\n@@ -52,9 +85,9 @@\n \n Thu Nov 29 11:12:59 2001  Geoffrey Keating (geoffk@redhat.com)\n \n-        * emit-rtl.c (gen_lowpart_common): Fix conversion of \n-        REAL_VALUE_TYPEs to an array of target integers.  Fix extraction\n-        of low part of those arrays for 32bit and 64bit hosts.\n+\t* emit-rtl.c (gen_lowpart_common): Fix conversion of\n+\tREAL_VALUE_TYPEs to an array of target integers.  Fix extraction\n+\tof low part of those arrays for 32bit and 64bit hosts.\n \n 2001-11-29  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n@@ -71,8 +104,8 @@ Thu Nov 29 11:12:59 2001  Geoffrey Keating (geoffk@redhat.com)\n 2001-11-29  Nick Clifton  <nickc@cambridge.redhat.com>\n \n \t* config/arm/crti.asm (_init): Add .thumb_func if compiled\n-        with -mthumb.\n-        (_fini): Add .thumb_func if compiled with -mthumb.\n+\twith -mthumb.\n+\t(_fini): Add .thumb_func if compiled with -mthumb.\n \n 2001-11-28  Eric Christopher  <echristo@redhat.com>\n \n@@ -563,7 +596,7 @@ Thu Nov 22 06:49:14 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \ttargets.\n \n \t* config.gcc (xscale-coff): Add necessary header files to\n-        tm_file variable.\n+\ttm_file variable.\n \n 2001-11-20  Zack Weinberg  <zack@codesourcery.com>\n "}, {"sha": "2ef5984a9c2d8f51d17ba4973eda8e9a4d5cf8dc", "filename": "gcc/Makefile.in", "status": "modified", "additions": 17, "deletions": 102, "changes": 119, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -341,21 +341,12 @@ LIBICONV = @LIBICONV@\n # List of internationalization subdirectories.\n INTL_SUBDIRS = intl\n \n-# Change this to a null string if obstacks are installed in the\n-# system library.\n-OBSTACK=obstack.o\n-\n # The GC method to be used on this system.\n GGC=@GGC@.o\n \n # If a supplementary library is being used for the GC.\n GGC_LIB=\n \n-# Configure will set these if you need vfprintf and possibly _doprnt support.\n-VFPRINTF=@vfprintf@\n-DOPRINT=@doprint@\n-STRSTR=@strstr@\n-\n # libgcc.a may be built directly or via stmp-multilib,\n # and installed likewise.  Overridden by t-fragment.\n LIBGCC = libgcc.a\n@@ -478,10 +469,6 @@ HOST_CC=$(CC)\n HOST_CFLAGS=$(ALL_CFLAGS) -DGENERATOR_FILE\n HOST_LDFLAGS=$(LDFLAGS)\n HOST_CPPFLAGS=$(ALL_CPPFLAGS)\n-HOST_OBSTACK=$(OBSTACK)\n-HOST_VFPRINTF=$(VFPRINTF)\n-HOST_DOPRINT=$(DOPRINT)\n-HOST_STRSTR=$(STRSTR)\n \n # Actual name to use when installing a native compiler.\n GCC_INSTALL_NAME = `echo gcc|sed '$(program_transform_name)'`\n@@ -606,34 +593,28 @@ ALL_CFLAGS = $(INTERNAL_CFLAGS) $(X_CFLAGS) $(T_CFLAGS) \\\n # Likewise.\n ALL_CPPFLAGS = $(CPPFLAGS) $(X_CPPFLAGS) $(T_CPPFLAGS)\n \n-USE_HOST_OBSTACK= ` case \"${HOST_OBSTACK}\" in ?*) echo ${HOST_PREFIX}${HOST_OBSTACK} ;; esac `\n-USE_HOST_VFPRINTF= ` case \"${HOST_VFPRINTF}\" in ?*) echo ${HOST_PREFIX}${HOST_VFPRINTF} ;; esac `\n-USE_HOST_DOPRINT= ` case \"${HOST_DOPRINT}\" in ?*) echo ${HOST_PREFIX}${HOST_DOPRINT} ;; esac `\n-USE_HOST_STRSTR= ` case \"${HOST_STRSTR}\" in ?*) echo ${HOST_PREFIX}${HOST_STRSTR} ;; esac `\n+# Build and host support libraries.  FORBUILD is either\n+# .. or ../$(build_alias) depending on whether host != build.\n+LIBIBERTY = ../libiberty/libiberty.a\n+BUILD_LIBIBERTY = @FORBUILD@/libiberty/libiberty.a\n \n-# Dependency on obstack or whatever library facilities\n-# are not installed in the system libraries.\n-# We don't use USE_* because backquote expansion doesn't work in deps.\n-LIBDEPS= $(INTLDEPS) $(OBSTACK) $(VFPRINTF) $(DOPRINT) $(STRSTR)\n+# Dependencies on the intl and portability libraries.\n+LIBDEPS= $(INTLDEPS) $(LIBIBERTY)\n \n # Likewise, for use in the tools that must run on this machine\n # even if we are cross-building GCC.\n-HOST_LIBDEPS= $(HOST_PREFIX)$(HOST_OBSTACK) \\\n-\t$(HOST_PREFIX)$(HOST_VFPRINTF) $(HOST_PREFIX)$(HOST_DOPRINT) \\\n-\t$(HOST_PREFIX)$(HOST_STRSTR)\n+HOST_LIBDEPS= $(BUILD_LIBIBERTY)\n \n # How to link with both our special library facilities\n # and the system's installed libraries.\n-LIBS =\t$(OBSTACK) $(INTLLIBS) @LIBS@ $(VFPRINTF) $(DOPRINT) \\\n-\t$(STRSTR) ../libiberty/libiberty.a\n+LIBS =\t$(INTLLIBS) @LIBS@ $(LIBIBERTY)\n \n # Likewise, for use in the tools that must run on this machine\n # even if we are cross-building GCC.\n-HOST_LIBS = $(USE_HOST_OBSTACK) $(USE_HOST_VFPRINTF) \\\n-\t    $(USE_HOST_DOPRINT) $(USE_HOST_STRSTR)\n+HOST_LIBS = $(BUILD_LIBIBERTY)\n \n HOST_RTL = $(HOST_PREFIX)rtl.o read-rtl.o $(HOST_PREFIX)bitmap.o \\\n-\t\t$(HOST_PREFIX)ggc-none.o gensupport.o hashtab.o safe-ctype.o\n+\t\t$(HOST_PREFIX)ggc-none.o gensupport.o\n \n HOST_PRINT = $(HOST_PREFIX)print-rtl.o\n HOST_ERRORS = $(HOST_PREFIX)errors.o\n@@ -745,7 +726,7 @@ OBJS = alias.o bb-reorder.o bitmap.o builtins.o caller-save.o calls.o\t\\\n  profile.o real.o recog.o reg-stack.o regclass.o regmove.o regrename.o\t\\\n  reload.o reload1.o reorg.o resource.o rtl.o rtlanal.o rtl-error.o\t\\\n  sbitmap.o sched-deps.o sched-ebb.o sched-rgn.o sched-vis.o sdbout.o\t\\\n- sibcall.o simplify-rtx.o splay-tree.o ssa.o ssa-ccp.o ssa-dce.o stmt.o\t\\\n+ sibcall.o simplify-rtx.o ssa.o ssa-ccp.o ssa-dce.o stmt.o\t\\\n  stor-layout.o stringpool.o timevar.o toplev.o tree.o tree-dump.o \t\\\n  tree-inline.o unroll.o varasm.o varray.o version.o xcoffout.o \t\t\\\n  $(GGC) $(out_object_file) $(EXTRA_OBJS)\n@@ -1209,29 +1190,6 @@ tlink.o: tlink.c $(DEMANGLE_H) hash.h $(CONFIG_H) $(SYSTEM_H) collect2.h intl.h\n hash.o: hash.c hash.h $(SYSTEM_H) toplev.h $(GCONFIG_H)\n \t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) $< $(OUTPUT_OPTION)\n \n-vfprintf.o: $(srcdir)/../libiberty/vfprintf.c $(GCONFIG_H) $(SYSTEM_H)\n-\trm -f vfprintf.c\n-\t$(LN_S) $(srcdir)/../libiberty/vfprintf.c vfprintf.c\n-\t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\tvfprintf.c $(OUTPUT_OPTION)\n-\n-doprint.o: $(srcdir)/doprint.c $(GCONFIG_H) $(SYSTEM_H)\n-\t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\t$(srcdir)/doprint.c $(OUTPUT_OPTION)\n-\n-strstr.o: $(srcdir)/../libiberty/strstr.c $(GCONFIG_H) $(SYSTEM_H)\n-\trm -f strstr.c\n-\t$(LN_S) $(srcdir)/../libiberty/strstr.c strstr.c\n-\t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\tstrstr.c $(OUTPUT_OPTION)\n-\n-splay-tree.o: $(srcdir)/../libiberty/splay-tree.c $(GCONFIG_H) \\\n-  $(srcdir)/../include/splay-tree.h $(srcdir)/../include/libiberty.h\n-\trm -f splay-tree.c\n-\t$(LN_S) $(srcdir)/../libiberty/splay-tree.c splay-tree.c\n-\t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\tsplay-tree.c $(OUTPUT_OPTION)\n-\n underscore.c: s-under ; @true\n \n s-under: $(GCC_PASSES)\n@@ -1334,12 +1292,6 @@ line-map.o: line-map.c line-map.h intl.h $(CONFIG_H) $(SYSTEM_H)\n ggc-none.o: ggc-none.c $(GCONFIG_H) $(SYSTEM_H) $(GGC_H)\n \t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) $< $(OUTPUT_OPTION)\n \n-obstack.o: $(srcdir)/../libiberty/obstack.c $(GCONFIG_H)\n-\trm -f obstack.c\n-\t$(LN_S) $(srcdir)/../libiberty/obstack.c obstack.c\n-\t$(CC) -c $(ALL_CFLAGS) -DGENERATOR_FILE $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\tobstack.c $(OUTPUT_OPTION)\n-\n prefix.o: prefix.c $(CONFIG_H) $(SYSTEM_H) Makefile prefix.h\n \t$(CC) $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t-DPREFIX=\\\"$(prefix)\\\" \\\n@@ -1794,16 +1746,6 @@ read-rtl.o: read-rtl.c $(HCONFIG_H) $(SYSTEM_H) $(RTL_H) \\\n gensupport.o: gensupport.c $(RTL_H) $(OBSTACK_H) $(SYSTEM_H) errors.h gensupport.h\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(srcdir)/gensupport.c\n \n-hashtab.o: $(srcdir)/../libiberty/hashtab.c $(GCONFIG_H)\n-\trm -f hashtab.c\n-\t$(LN_S) $(srcdir)/../libiberty/hashtab.c hashtab.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) hashtab.c\n-\n-safe-ctype.o: $(srcdir)/../libiberty/safe-ctype.c $(GCONFIG_H)\n-\trm -f safe-ctype.c\n-\t$(LN_S) $(srcdir)/../libiberty/safe-ctype.c safe-ctype.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) safe-ctype.c\n-\n genconfig$(build_exeext) : genconfig.o $(HOST_RTL) $(HOST_PRINT) $(HOST_ERRORS) $(HOST_LIBDEPS)\n \t$(HOST_CC) $(HOST_CFLAGS) $(HOST_LDFLAGS) -o $@ \\\n \t  genconfig.o $(HOST_RTL) $(HOST_PRINT) $(HOST_ERRORS) $(HOST_LIBS)\n@@ -1913,7 +1855,7 @@ genpreds.o : genpreds.c $(RTL_BASE_H) $(HCONFIG_H) $(SYSTEM_H)\n #\f\n # Compile the libraries to be used by gen*.\n # If we are not cross-building, gen* use the same .o's that cc1 will use,\n-# and HOST_PREFIX_1 is `foobar', just to ensure these rules don't conflict\n+# and HOST_PREFIX_1 is `loser-', just to ensure these rules don't conflict\n # with the rules for rtl.o, etc.\n $(HOST_PREFIX_1)rtl.o: $(srcdir)/rtl.c $(HCONFIG_H) $(SYSTEM_H) $(RTL_H) \\\n   real.h $(GGC_H) errors.h\n@@ -1933,39 +1875,11 @@ $(HOST_PREFIX_1)bitmap.o: $(srcdir)/bitmap.c $(HCONFIG_H) $(SYSTEM_H) $(RTL_H) \\\n \tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/bitmap.c > $(HOST_PREFIX)bitmap.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)bitmap.c\n \n-$(HOST_PREFIX_1)obstack.o: $(srcdir)/../libiberty/obstack.c $(HCONFIG_H)\n-\trm -f $(HOST_PREFIX)obstack.c\n-\tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/../libiberty/obstack.c > $(HOST_PREFIX)obstack.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)obstack.c\n-\n-$(HOST_PREFIX_1)vfprintf.o: $(srcdir)/../libiberty/vfprintf.c $(HCONFIG_H) \\\n-  $(SYSTEM_H)\n-\trm -f $(HOST_PREFIX)vfprintf.c\n-\tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/../libiberty/vfprintf.c > $(HOST_PREFIX)vfprintf.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)vfprintf.c\n-\n-$(HOST_PREFIX_1)doprint.o: doprint.c $(HCONFIG_H) $(SYSTEM_H)\n-\trm -f $(HOST_PREFIX)doprint.c\n-\tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/doprint.c > $(HOST_PREFIX)doprint.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)doprint.c\n-\n-$(HOST_PREFIX_1)strstr.o: $(srcdir)/../libiberty/strstr.c $(HCONFIG_H) \\\n-  $(SYSTEM_H)\n-\trm -f $(HOST_PREFIX)strstr.c\n-\tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/../libiberty/strstr.c > $(HOST_PREFIX)strstr.c\n-\t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)strstr.c\n-\n $(HOST_PREFIX_1)errors.o: errors.c $(HCONFIG_H) $(SYSTEM_H) errors.h\n \trm -f $(HOST_PREFIX)errors.c\n \tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/errors.c > $(HOST_PREFIX)errors.c\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(HOST_PREFIX)errors.c\n \n-\n-# This satisfies the dependency that we get if you cross-compile a compiler\n-# that does not need to compile doprint or whatever.\n-$(HOST_PREFIX_1):\n-\t$(STAMP) $(HOST_PREFIX_1)\n-\n $(HOST_PREFIX_1)ggc-none.o: ggc-none.c $(HCONFIG_H) $(SYSTEM_H) $(GCC_H)\n \trm -f $(HOST_PREFIX)ggc-none.c\n \tsed -e 's/config[.]h/hconfig.h/' $(srcdir)/ggc-none.c > $(HOST_PREFIX)ggc-none.c\n@@ -2244,7 +2158,7 @@ deduced.h: $(GCC_PASSES) $(srcdir)/scan-types.sh stmp-int-hdrs\n GEN_PROTOS_OBJS = gen-protos.o scan.o\n gen-protos$(build_exeext): $(GEN_PROTOS_OBJS)\n \t${HOST_CC} $(HOST_CFLAGS) $(HOST_LDFLAGS) -o $@ \\\n-\t  $(GEN_PROTOS_OBJS) ../libiberty/libiberty.a\n+\t  $(GEN_PROTOS_OBJS) $(HOST_LIBS)\n \n gen-protos.o: gen-protos.c scan.h $(HCONFIG_H) $(SYSTEM_H)\n \t$(HOST_CC) -c $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) $(srcdir)/gen-protos.c\n@@ -2432,8 +2346,9 @@ mostlyclean: $(INTL_MOSTLYCLEAN) lang.mostlyclean\n \t-rm -f $(STAGESTUFF)\n \t-rm -rf libgcc\n # Delete the temporary source copies for cross compilation.\n-\t-rm -f $(HOST_PREFIX_1)rtl.c\n-\t-rm -f $(HOST_PREFIX_1)obstack.c\n+\t-rm -f $(HOST_PREFIX_1)rtl.c $(HOST_PREFIX_1)print-rtl.c\n+\t-rm -f $(HOST_PREFIX_1)bitmap.c $(HOST_PREFIX_1)errors.c\n+\t-rm -f $(HOST_PREFIX_1)ggc-none.c\n # Delete the temp files made in the course of building libgcc.a.\n \t-rm -f xlimits.h\n # Delete other built files.\n@@ -2502,7 +2417,7 @@ distclean: clean $(INTL_DISTCLEAN) lang.distclean\n \t-rm -f site.exp site.bak testsuite/site.exp testsuite/site.bak\n \t-rm -f testsuite/{gcc,g++}.{log,sum}\n \t-rm -f intl/libintl.h libintl.h\n-\t-rm -f cxxmain.c splay-tree.c obstack.c hashtab.c safe-ctype.c\n+\t-rm -f cxxmain.c\n \t-rm -f mklibgcc libgcc.map gccbug .gdbinit configargs.h\n \t-rm -f gcov.pod\n \t-rm -f fixinc/Makefile"}, {"sha": "90fdb691f2132a69e380744b42f1c1efb7f6d351", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -75,27 +75,6 @@ if test x = y ; then\n fi\n ])\n \n-dnl Check if we have vprintf and possibly _doprnt.\n-dnl Note autoconf checks for vprintf even though we care about vfprintf.\n-AC_DEFUN(gcc_AC_FUNC_VFPRINTF_DOPRNT,\n-[AC_FUNC_VPRINTF\n-vfprintf=\n-doprint=\n-if test $ac_cv_func_vprintf != yes ; then\n-  vfprintf=vfprintf.o\n-  if test $ac_cv_func__doprnt != yes ; then\n-    doprint=doprint.o\n-  fi\n-fi\n-AC_SUBST(vfprintf)\n-AC_SUBST(doprint)\n-])    \n-\n-dnl Check if we have strstr.\n-AC_DEFUN([gcc_AC_FUNC_STRSTR],\n-  [AC_CHECK_FUNCS([strstr], [strstr=], [strstr=strstr.o])\n-   AC_SUBST([strstr])])\n-\n dnl See if the printf functions in libc support %p in format strings.\n AC_DEFUN(gcc_AC_FUNC_PRINTF_PTR,\n [AC_CACHE_CHECK(whether the printf functions support %p,"}, {"sha": "bf777b1fa8c30a53a6f51dcdd540a14c885380bf", "filename": "gcc/build-make", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fbuild-make", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fbuild-make", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuild-make?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -12,8 +12,6 @@ HOST_CFLAGS=$(INTERNAL_CFLAGS) $(T_CFLAGS) $(CFLAGS_FOR_BUILD) \\\n \t    $(XCFLAGS) -DGENERATOR_FILE\n HOST_LDFLAGS=$(LDFLAGS)\n HOST_CPPFLAGS=$(ALL_CPPFLAGS)\n-HOST_MALLOC=$(MALLOC)\n-HOST_OBSTACK=$(OBSTACK)\n \n # To build the native compiler with the cross compiler, the headers \n # for the target are already fixed. And /usr/include is for host, not"}, {"sha": "3e2226c2c47ec90baee1fe70a3455ea74cdde5a3", "filename": "gcc/config.in", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -1,4 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define if using alloca.c.  */\n #undef C_ALLOCA\n@@ -23,9 +23,6 @@\n /* Define if you have <alloca.h> and it should be used (not on Ultrix).  */\n #undef HAVE_ALLOCA_H\n \n-/* Define if you don't have vprintf but do have _doprnt.  */\n-#undef HAVE_DOPRNT\n-\n /* Define if you have the ANSI # stringizing operator in cpp. */\n #undef HAVE_STRINGIZE\n \n@@ -35,9 +32,6 @@\n /* Define if you have <vfork.h>.  */\n #undef HAVE_VFORK_H\n \n-/* Define if you have the vprintf function.  */\n-#undef HAVE_VPRINTF\n-\n /* Define as __inline if that's what the C compiler calls it.  */\n #undef inline\n \n@@ -216,9 +210,6 @@\n /* Define if you have the strsignal function.  */\n #undef HAVE_STRSIGNAL\n \n-/* Define if you have the strstr function.  */\n-#undef HAVE_STRSTR\n-\n /* Define if you have the strtoul function.  */\n #undef HAVE_STRTOUL\n "}, {"sha": "aca4adb3db3272cfc627e937b0f9d16c69918046", "filename": "gcc/configure", "status": "modified", "additions": 154, "deletions": 326, "changes": 480, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -3615,189 +3615,16 @@ else\n fi\n \n \n-echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:3620: checking for vprintf\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 3625 \"configure\"\n-#include \"confdefs.h\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char vprintf(); below.  */\n-#include <assert.h>\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-/* We use char because int might match the return type of a gcc2\n-    builtin and then its argument prototype would still apply.  */\n-char vprintf();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_vprintf) || defined (__stub___vprintf)\n-choke me\n-#else\n-vprintf();\n-#endif\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:3648: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  eval \"ac_cv_func_vprintf=yes\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_func_vprintf=no\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$ac_cv_func_'vprintf`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_VPRINTF 1\n-EOF\n-\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-if test \"$ac_cv_func_vprintf\" != yes; then\n-echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:3672: checking for _doprnt\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 3677 \"configure\"\n-#include \"confdefs.h\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char _doprnt(); below.  */\n-#include <assert.h>\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-/* We use char because int might match the return type of a gcc2\n-    builtin and then its argument prototype would still apply.  */\n-char _doprnt();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub__doprnt) || defined (__stub____doprnt)\n-choke me\n-#else\n-_doprnt();\n-#endif\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:3700: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  eval \"ac_cv_func__doprnt=yes\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_func__doprnt=no\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$ac_cv_func_'_doprnt`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_DOPRNT 1\n-EOF\n-\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-\n-fi\n-\n-vfprintf=\n-doprint=\n-if test $ac_cv_func_vprintf != yes ; then\n-  vfprintf=vfprintf.o\n-  if test $ac_cv_func__doprnt != yes ; then\n-    doprint=doprint.o\n-  fi\n-fi\n-\n-\n-\n-for ac_func in strstr\n-do\n-echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3738: checking for $ac_func\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 3743 \"configure\"\n-#include \"confdefs.h\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func(); below.  */\n-#include <assert.h>\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-/* We use char because int might match the return type of a gcc2\n-    builtin and then its argument prototype would still apply.  */\n-char $ac_func();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-$ac_func();\n-#endif\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:3766: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=yes\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=no\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  cat >> confdefs.h <<EOF\n-#define $ac_tr_func 1\n-EOF\n- strstr=\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-strstr=strstr.o\n-fi\n-done\n-\n-   \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:3793: checking whether the printf functions support %p\" >&5\n+echo \"configure:3620: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3801 \"configure\"\n+#line 3628 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -3810,7 +3637,7 @@ int main()\n   return (p != q);\n }\n EOF\n-if { (eval echo configure:3814: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3641: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -3842,12 +3669,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3846: checking for pid_t\" >&5\n+echo \"configure:3673: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3851 \"configure\"\n+#line 3678 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -3876,17 +3703,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3880: checking for vfork.h\" >&5\n+echo \"configure:3707: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3885 \"configure\"\n+#line 3712 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3890: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3717: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3911,18 +3738,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:3915: checking for working vfork\" >&5\n+echo \"configure:3742: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:3921: checking for vfork\" >&5\n+echo \"configure:3748: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3926 \"configure\"\n+#line 3753 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -3945,7 +3772,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3949: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3776: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -3967,7 +3794,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3971 \"configure\"\n+#line 3798 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -4062,7 +3889,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:4066: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3893: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -4087,12 +3914,12 @@ fi\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4091: checking for $ac_func\" >&5\n+echo \"configure:3918: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4096 \"configure\"\n+#line 3923 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4115,7 +3942,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4119: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3946: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4386,7 +4213,7 @@ main ()\n EOF\n \n echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n-echo \"configure:4390: checking for working mmap from /dev/zero\" >&5\n+echo \"configure:4217: checking for working mmap from /dev/zero\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4402,11 +4229,11 @@ else\n   esac\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4406 \"configure\"\n+#line 4233 \"configure\"\n #include \"confdefs.h\"\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4410: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4237: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_dev_zero=yes\n else\n@@ -4433,7 +4260,7 @@ EOF\n fi\n \n echo $ac_n \"checking for working mmap with MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n-echo \"configure:4437: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n+echo \"configure:4264: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4443,12 +4270,12 @@ else\n  ac_cv_func_mmap_anon=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4447 \"configure\"\n+#line 4274 \"configure\"\n #include \"confdefs.h\"\n #define USE_MAP_ANON\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4452: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4279: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_anon=yes\n else\n@@ -4476,7 +4303,7 @@ fi\n rm -f ct-mmap.inc\n \n echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:4480: checking for working mmap of a file\" >&5\n+echo \"configure:4307: checking for working mmap of a file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4491,7 +4318,7 @@ if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_file=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4495 \"configure\"\n+#line 4322 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n@@ -4528,7 +4355,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:4532: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4359: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_file=yes\n else\n@@ -4566,15 +4393,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:4570: checking for iconv\" >&5\n+echo \"configure:4397: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 4578 \"configure\"\n+#line 4405 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4584,7 +4411,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4588: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4415: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -4596,7 +4423,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 4600 \"configure\"\n+#line 4427 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4606,7 +4433,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4610: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4437: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -4627,13 +4454,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:4631: checking for iconv declaration\" >&5\n+echo \"configure:4458: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 4637 \"configure\"\n+#line 4464 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -4652,7 +4479,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4656: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4483: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -4690,12 +4517,12 @@ for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4694: checking whether $ac_func is declared\" >&5\n+echo \"configure:4521: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4699 \"configure\"\n+#line 4526 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4709,7 +4536,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4713: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4540: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4811,12 +4638,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4815: checking whether $ac_func is declared\" >&5\n+echo \"configure:4642: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4820 \"configure\"\n+#line 4647 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4834,7 +4661,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4838: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4665: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4876,12 +4703,12 @@ for ac_func in times\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4880: checking whether $ac_func is declared\" >&5\n+echo \"configure:4707: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4885 \"configure\"\n+#line 4712 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4899,7 +4726,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4903: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4730: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4933,13 +4760,13 @@ fi\n \n # More time-related stuff.\n echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n-echo \"configure:4937: checking for struct tms\" >&5\n+echo \"configure:4764: checking for struct tms\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4943 \"configure\"\n+#line 4770 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4952,7 +4779,7 @@ int main() {\n struct tms tms;\n ; return 0; }\n EOF\n-if { (eval echo configure:4956: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4783: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tms=yes\n else\n@@ -4975,13 +4802,13 @@ fi\n # use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n # revisit after autoconf 2.50.\n echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4979: checking for clock_t\" >&5\n+echo \"configure:4806: checking for clock_t\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4985 \"configure\"\n+#line 4812 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4991,7 +4818,7 @@ int main() {\n clock_t x;\n ; return 0; }\n EOF\n-if { (eval echo configure:4995: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4822: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_type_clock_t=yes\n else\n@@ -5016,12 +4843,12 @@ CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:5020: checking if mkdir takes one argument\" >&5\n+echo \"configure:4847: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5025 \"configure\"\n+#line 4852 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -5038,7 +4865,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5042: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4869: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -5216,6 +5043,7 @@ fi\n if test x$host = x$build\n then\n \tbuild_auto=auto-host.h\n+\tFORBUILD=..\n else\n \t# We create a subdir, then run autoconf in the subdir.\n \t# To prevent recursion we set host and build for the new\n@@ -5241,8 +5069,10 @@ else\n \tcd ..\n \trm -rf $tempdir\n \tbuild_auto=auto-build.h\n+\tFORBUILD=../$build\n fi\n \n+\n tm_file=\"${tm_file} defaults.h\"\n host_xm_file=\"auto-host.h ansidecl.h ${host_xm_file} ${tm_file}\"\n build_xm_file=\"${build_auto} ansidecl.h ${build_xm_file} ${tm_file}\"\n@@ -5311,14 +5141,14 @@ fi\n \n             \n echo $ac_n \"checking for library containing strerror\"\"... $ac_c\" 1>&6\n-echo \"configure:5315: checking for library containing strerror\" >&5\n+echo \"configure:5145: checking for library containing strerror\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_strerror'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_strerror=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5322 \"configure\"\n+#line 5152 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5329,7 +5159,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5333: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5163: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"none required\"\n else\n@@ -5340,7 +5170,7 @@ rm -f conftest*\n test \"$ac_cv_search_strerror\" = \"no\" && for i in cposix; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5344 \"configure\"\n+#line 5174 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5351,7 +5181,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5355: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5185: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"-l$i\"\n break\n@@ -5374,12 +5204,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:5378: checking for working const\" >&5\n+echo \"configure:5208: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5383 \"configure\"\n+#line 5213 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -5428,7 +5258,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5432: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5262: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -5449,12 +5279,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5453: checking for off_t\" >&5\n+echo \"configure:5283: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5458 \"configure\"\n+#line 5288 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5482,12 +5312,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5486: checking for size_t\" >&5\n+echo \"configure:5316: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5491 \"configure\"\n+#line 5321 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5517,19 +5347,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5521: checking for working alloca.h\" >&5\n+echo \"configure:5351: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5526 \"configure\"\n+#line 5356 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:5533: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5363: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -5550,12 +5380,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:5554: checking for alloca\" >&5\n+echo \"configure:5384: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5559 \"configure\"\n+#line 5389 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -5583,7 +5413,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:5587: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -5615,12 +5445,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:5619: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:5449: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5624 \"configure\"\n+#line 5454 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -5645,12 +5475,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5649: checking for $ac_func\" >&5\n+echo \"configure:5479: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5654 \"configure\"\n+#line 5484 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5673,7 +5503,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5677: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5507: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5700,15 +5530,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:5704: checking stack direction for C alloca\" >&5\n+echo \"configure:5534: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5712 \"configure\"\n+#line 5542 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -5727,7 +5557,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:5731: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:5561: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -5750,12 +5580,12 @@ fi\n \n \n     echo $ac_n \"checking whether we are using the GNU C Library 2.1 or newer\"\"... $ac_c\" 1>&6\n-echo \"configure:5754: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n+echo \"configure:5584: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5759 \"configure\"\n+#line 5589 \"configure\"\n #include \"confdefs.h\"\n \n #include <features.h>\n@@ -5791,17 +5621,17 @@ stdlib.h string.h unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:5795: checking for $ac_hdr\" >&5\n+echo \"configure:5625: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5800 \"configure\"\n+#line 5630 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5805: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5635: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -5832,12 +5662,12 @@ getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n strdup strtoul tsearch __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5836: checking for $ac_func\" >&5\n+echo \"configure:5666: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5841 \"configure\"\n+#line 5671 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5860,7 +5690,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5864: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5694: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5900,15 +5730,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:5904: checking for iconv\" >&5\n+echo \"configure:5734: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 5912 \"configure\"\n+#line 5742 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -5918,7 +5748,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:5922: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5752: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -5930,7 +5760,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 5934 \"configure\"\n+#line 5764 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -5940,7 +5770,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:5944: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5774: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -5961,13 +5791,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:5965: checking for iconv declaration\" >&5\n+echo \"configure:5795: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 5971 \"configure\"\n+#line 5801 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -5986,7 +5816,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5990: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5820: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -6015,19 +5845,19 @@ EOF\n \n    \n   echo $ac_n \"checking for nl_langinfo and CODESET\"\"... $ac_c\" 1>&6\n-echo \"configure:6019: checking for nl_langinfo and CODESET\" >&5\n+echo \"configure:5849: checking for nl_langinfo and CODESET\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_langinfo_codeset'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6024 \"configure\"\n+#line 5854 \"configure\"\n #include \"confdefs.h\"\n #include <langinfo.h>\n int main() {\n char* cs = nl_langinfo(CODESET);\n ; return 0; }\n EOF\n-if { (eval echo configure:6031: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5861: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_langinfo_codeset=yes\n else\n@@ -6050,19 +5880,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6054: checking for LC_MESSAGES\" >&5\n+echo \"configure:5884: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6059 \"configure\"\n+#line 5889 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6066: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5896: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6083,7 +5913,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6087: checking whether NLS is requested\" >&5\n+echo \"configure:5917: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6106,7 +5936,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6110: checking whether included gettext is requested\" >&5\n+echo \"configure:5940: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6126,17 +5956,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6130: checking for libintl.h\" >&5\n+echo \"configure:5960: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6135 \"configure\"\n+#line 5965 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6140: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5970: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6157,12 +5987,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6161: checking for GNU gettext in libc\" >&5\n+echo \"configure:5991: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6166 \"configure\"\n+#line 5996 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6171,7 +6001,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6175: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6187,14 +6017,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6191: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6021: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6198 \"configure\"\n+#line 6028 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6203,7 +6033,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6207: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6037: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6236,12 +6066,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6240: checking for $ac_func\" >&5\n+echo \"configure:6070: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6245 \"configure\"\n+#line 6075 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6264,7 +6094,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6268: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6098: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6293,7 +6123,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6297: checking for $ac_word\" >&5\n+echo \"configure:6127: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6327,7 +6157,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6331: checking for $ac_word\" >&5\n+echo \"configure:6161: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6364,7 +6194,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6368: checking for $ac_word\" >&5\n+echo \"configure:6198: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6414,7 +6244,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6418: checking for $ac_word\" >&5\n+echo \"configure:6248: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6448,7 +6278,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6452: checking for $ac_word\" >&5\n+echo \"configure:6282: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6484,7 +6314,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6488: checking for $ac_word\" >&5\n+echo \"configure:6318: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6556,7 +6386,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6560: checking for $ac_word\" >&5\n+echo \"configure:6390: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6589,7 +6419,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:6593: checking version of bison\" >&5\n+echo \"configure:6423: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -6634,7 +6464,7 @@ EOF\n \n          if test \"x$CATOBJEXT\" != x; then\n      echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:6638: checking for catalogs to be installed\" >&5\n+echo \"configure:6468: checking for catalogs to be installed\" >&5\n      # Look for .po and .gmo files in the source directory.\n      CATALOGS=\n      XLINGUAS=\n@@ -6692,7 +6522,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6696: checking whether windows registry support is requested\" >&5\n+echo \"configure:6526: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -6701,14 +6531,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:6705: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:6535: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 6712 \"configure\"\n+#line 6542 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6719,7 +6549,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6723: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6553: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -6730,7 +6560,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6734 \"configure\"\n+#line 6564 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6741,7 +6571,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:6745: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6575: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -6783,7 +6613,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:6787: checking registry key on windows hosts\" >&5\n+echo \"configure:6617: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -6967,7 +6797,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6971: checking what assembler to use\" >&5\n+echo \"configure:6801: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -7053,7 +6883,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7057: checking what nm to use\" >&5\n+echo \"configure:6887: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -7064,7 +6894,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7068: checking what objdump to use\" >&5\n+echo \"configure:6898: checking what objdump to use\" >&5\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n elif test x$host = x$target; then\n@@ -7075,7 +6905,7 @@ echo \"$ac_t\"\"$gcc_cv_objdump\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7079: checking assembler alignment features\" >&5\n+echo \"configure:6909: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -7123,7 +6953,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7127: checking assembler subsection support\" >&5\n+echo \"configure:6957: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7163,7 +6993,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7167: checking assembler weak support\" >&5\n+echo \"configure:6997: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7186,7 +7016,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7190: checking assembler hidden support\" >&5\n+echo \"configure:7020: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7210,7 +7040,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7214: checking assembler leb128 support\" >&5\n+echo \"configure:7044: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7255,7 +7085,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:7259: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7089: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7336,7 +7166,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:7340: checking assembler section merging support\" >&5\n+echo \"configure:7170: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 12 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -7361,7 +7191,7 @@ echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:7365: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:7195: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7389,7 +7219,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:7393: checking assembler supports -relax\" >&5\n+echo \"configure:7223: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7419,7 +7249,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:7423: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:7253: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7464,7 +7294,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:7468: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:7298: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7504,7 +7334,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:7508: checking assembler instructions\" >&5\n+echo \"configure:7338: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -7531,7 +7361,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:7535: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:7365: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x\n     then\n@@ -7561,7 +7391,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7565: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:7395: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -7617,7 +7447,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n echo $ac_n \"checking assembler --gdwarf2 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7621: checking assembler --gdwarf2 support\" >&5\n+echo \"configure:7451: checking assembler --gdwarf2 support\" >&5\n gcc_cv_as_gdwarf2_flag=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x;\n then\n@@ -7646,7 +7476,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gdwarf2_flag\" 1>&6\n \n echo $ac_n \"checking assembler --gstabs support\"\"... $ac_c\" 1>&6\n-echo \"configure:7650: checking assembler --gstabs support\" >&5\n+echo \"configure:7480: checking assembler --gstabs support\" >&5\n gcc_cv_as_gstabs_flag=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x;\n then\n@@ -7816,7 +7646,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7820: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7650: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -8338,12 +8168,10 @@ s%@BISON@%$BISON%g\n s%@COLLECT2_LIBS@%$COLLECT2_LIBS%g\n s%@GNAT_LIBEXC@%$GNAT_LIBEXC%g\n s%@TARGET_GETGROUPS_T@%$TARGET_GETGROUPS_T%g\n-s%@vfprintf@%$vfprintf%g\n-s%@doprint@%$doprint%g\n-s%@strstr@%$strstr%g\n s%@LIBICONV@%$LIBICONV%g\n s%@manext@%$manext%g\n s%@objext@%$objext%g\n+s%@FORBUILD@%$FORBUILD%g\n s%@PACKAGE@%$PACKAGE%g\n s%@VERSION@%$VERSION%g\n s%@ALLOCA@%$ALLOCA%g"}, {"sha": "459de336a326281cfe6ec625c481c256b1cf6d8f", "filename": "gcc/configure.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -606,8 +606,6 @@ else\n fi\n AC_SUBST(TARGET_GETGROUPS_T)\n \n-gcc_AC_FUNC_VFPRINTF_DOPRNT\n-gcc_AC_FUNC_STRSTR\n gcc_AC_FUNC_PRINTF_PTR\n \n case \"${host}\" in\n@@ -838,6 +836,7 @@ fi\n if test x$host = x$build\n then\n \tbuild_auto=auto-host.h\n+\tFORBUILD=..\n else\n \t# We create a subdir, then run autoconf in the subdir.\n \t# To prevent recursion we set host and build for the new\n@@ -863,7 +862,9 @@ else\n \tcd ..\n \trm -rf $tempdir\n \tbuild_auto=auto-build.h\n+\tFORBUILD=../$build\n fi\n+AC_SUBST(FORBUILD)\n \n tm_file=\"${tm_file} defaults.h\"\n host_xm_file=\"auto-host.h ansidecl.h ${host_xm_file} ${tm_file}\""}, {"sha": "25433557510099a597f2b3d39c236f9edba95dd4", "filename": "gcc/doc/configterms.texi", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fdoc%2Fconfigterms.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Fdoc%2Fconfigterms.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fconfigterms.texi?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -37,7 +37,7 @@ different system.  Some people call this a @dfn{host-x-host},\n @dfn{crossed native}, or @dfn{cross-built native}.  If build and target\n are the same, but host is different, you are using a cross compiler to\n build a cross compiler that produces code for the machine you're\n-building on.  This is rare, so there is no common say of describing it\n+building on.  This is rare, so there is no common way of describing it\n (although I propose calling it a @dfn{crossback}).\n \n If build and host are the same, the GCC you are building will also be\n@@ -57,9 +57,8 @@ process will adjust these variables as needed.  It also sets\n @code{$with_cross_host} to the original @option{--host} value in case you\n need it.\n \n-Libiberty, for example, is built twice.  The first time, host comes from\n-@option{--host} and the second time host comes from @option{--target}.\n-Historically, libiberty has not been built for the build machine,\n-though, which causes some interesting issues with programs used to\n-generate sources for the build.  Fixing this, so that libiberty is built\n-three times, has long been on the to-do list.\n+The @code{libiberty} support library is built up to three times: once\n+for the host, once for the target (even if they are the same), and once\n+for the build if build and host are different.  This allows it to be\n+used by all programs which are generated in the course of the build\n+process."}, {"sha": "bc43b0322f0e080e4054104ce6deeba28cb27142", "filename": "gcc/doprint.c", "status": "removed", "additions": 0, "deletions": 284, "changes": 284, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/998979e6dc20eb1b72f6f9a1a818ae28d07d8721/gcc%2Fdoprint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/998979e6dc20eb1b72f6f9a1a818ae28d07d8721/gcc%2Fdoprint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoprint.c?ref=998979e6dc20eb1b72f6f9a1a818ae28d07d8721", "patch": "@@ -1,284 +0,0 @@\n-/* Provide a version _doprnt in terms of fprintf.\n-   Copyright (C) 1998, 1999, 2000, 2001   Free Software Foundation, Inc.\n-   Contributed by Kaveh Ghazi  (ghazi@caip.rutgers.edu)  3/29/98\n-\n-This program is free software; you can redistribute it and/or modify it\n-under the terms of the GNU General Public License as published by the\n-Free Software Foundation; either version 2, or (at your option) any\n-later version.\n-\n-This program is distributed in the hope that it will be useful,\n-but WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-GNU General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with this program; if not, write to the Free Software\n-Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */\n-\n-#include \"config.h\"\n-#include \"system.h\"\n-#undef _doprnt\n-\n-#ifdef TEST /* Make sure to use the internal one.  */\n-#define _doprnt my_doprnt\n-#endif\n-\n-#define COPY_VA_INT \\\n-  do { \\\n-\t const int value = abs (va_arg (ap, int)); \\\n-\t char buf[32]; \\\n-\t ptr++; /* Go past the asterisk.  */ \\\n-\t *sptr = '\\0'; /* NULL terminate sptr.  */ \\\n-\t sprintf(buf, \"%d\", value); \\\n-\t strcat(sptr, buf); \\\n-\t while (*sptr) sptr++; \\\n-     } while (0)\n-\n-#define PRINT_CHAR(CHAR) \\\n-  do { \\\n-\t putc(CHAR, stream); \\\n-\t ptr++; \\\n-\t total_printed++; \\\n-\t continue; \\\n-     } while (0)\n-\n-#define PRINT_TYPE(TYPE) \\\n-  do { \\\n-\tint result; \\\n-\tTYPE value = va_arg (ap, TYPE); \\\n-\t*sptr++ = *ptr++; /* Copy the type specifier.  */ \\\n-\t*sptr = '\\0'; /* NULL terminate sptr.  */ \\\n-\tresult = fprintf(stream, specifier, value); \\\n-\tif (result == -1) \\\n-\t  return -1; \\\n-\telse \\\n-\t  { \\\n-\t    total_printed += result; \\\n-\t    continue; \\\n-\t  } \\\n-      } while (0)\n-\n-int\n-_doprnt (format, ap, stream)\n-  const char * format;\n-  va_list ap;\n-  FILE * stream;\n-{\n-  const char * ptr = format;\n-  char specifier[128];\n-  int total_printed = 0;\n-  \n-  while (*ptr != '\\0')\n-    {\n-      if (*ptr != '%') /* While we have regular characters, print them.  */\n-\tPRINT_CHAR(*ptr);\n-      else /* We got a format specifier! */\n-\t{\n-\t  char * sptr = specifier;\n-\t  int wide_width = 0, short_width = 0;\n-\t  \n-\t  *sptr++ = *ptr++; /* Copy the % and move forward.  */\n-\n-\t  while (strchr (\"-+ #0\", *ptr)) /* Move past flags.  */\n-\t    *sptr++ = *ptr++;\n-\n-\t  if (*ptr == '*')\n-\t    COPY_VA_INT;\n-\t  else\n-\t    while (ISDIGIT(*ptr)) /* Handle explicit numeric value.  */\n-\t      *sptr++ = *ptr++;\n-\t  \n-\t  if (*ptr == '.')\n-\t    {\n-\t      *sptr++ = *ptr++; /* Copy and go past the period.  */\n-\t      if (*ptr == '*')\n-\t\tCOPY_VA_INT;\n-\t      else\n-\t\twhile (ISDIGIT(*ptr)) /* Handle explicit numeric value.  */\n-\t\t  *sptr++ = *ptr++;\n-\t    }\n-\t  while (strchr (\"hlL\", *ptr))\n-\t    {\n-\t      switch (*ptr)\n-\t\t{\n-\t\tcase 'h':\n-\t\t  short_width = 1;\n-\t\t  break;\n-\t\tcase 'l':\n-\t\t  wide_width++;\n-\t\t  break;\n-\t\tcase 'L':\n-\t\t  wide_width = 2;\n-\t\t  break;\n-\t\tdefault:\n-\t\t  abort();\n-\t\t}\n-\t      *sptr++ = *ptr++;\n-\t    }\n-\n-\t  switch (*ptr)\n-\t    {\n-\t    case 'd':\n-\t    case 'i':\n-\t    case 'o':\n-\t    case 'u':\n-\t    case 'x':\n-\t    case 'X':\n-\t    case 'c':\n-\t      {\n-\t\t/* Short values are promoted to int, so just copy it\n-                   as an int and trust the C library printf to cast it\n-                   to the right width.  */\n-\t\tif (short_width)\n-\t\t  PRINT_TYPE(int);\n-\t\telse\n-\t\t  {\n-\t\t    switch (wide_width)\n-\t\t      {\n-\t\t      case 0:\n-\t\t\tPRINT_TYPE(int);\n-\t\t\tbreak;\n-\t\t      case 1:\n-\t\t\tPRINT_TYPE(long);\n-\t\t\tbreak;\n-\t\t      case 2:\n-\t\t      default:\n-#if defined(__GNUC__) || defined(HAVE_LONG_LONG)\n-\t\t\tPRINT_TYPE(long long);\n-#else\n-\t\t\tPRINT_TYPE(long); /* Fake it and hope for the best.  */\n-#endif\n-\t\t\tbreak;\n-\t\t      } /* End of switch (wide_width) */\n-\t\t  } /* End of else statement */\n-\t      } /* End of integer case */\n-\t      break;\n-\t    case 'f':\n-\t    case 'e':\n-\t    case 'E':\n-\t    case 'g':\n-\t    case 'G':\n-\t      {\n-\t\tif (wide_width == 0)\n-\t\t  PRINT_TYPE(double);\n-\t\telse\n-\t\t  {\n-#if defined(__GNUC__) || defined(HAVE_LONG_DOUBLE)\n-\t\t    PRINT_TYPE(long double);\n-#else\n-\t\t    PRINT_TYPE(double); /* Fake it and hope for the best.  */\n-#endif\n-\t\t  }\n-\t      }\n-\t      break;\n-\t    case 's':\n-\t      PRINT_TYPE(char *);\n-\t      break;\n-\t    case 'p':\n-\t      PRINT_TYPE(void *);\n-\t      break;\n-\t    case '%':\n-\t      PRINT_CHAR('%');\n-\t      break;\n-\t    default:\n-\t      abort();\n-\t    } /* End of switch (*ptr) */\n-\t} /* End of else statement */\n-    }\n-\n-  return total_printed;\n-}\n-\n-#ifdef TEST\n-\n-#include <math.h>\n-#ifndef M_PI\n-#define M_PI (3.1415926535897932385)\n-#endif\n-\n-#define RESULT(x) do \\\n-{ \\\n-    int i = (x); \\\n-    printf (\"printed %d characters\\n\", i); \\\n-    fflush(stdin); \\\n-} while (0)\n-\n-static int checkit PARAMS ((const char * format, ...)) ATTRIBUTE_PRINTF_1;\n-\n-static int\n-checkit VPARAMS ((const char* format, ...))\n-{\n-  int result;\n-  VA_OPEN (args, format);\n-  VA_FIXEDARG (args, char *, format);\n-\n-  result = _doprnt (format, args, stdout);\n-  VA_CLOSE (args);\n-\n-  return result;\n-}\n-\n-int\n-main ()\n-{\n-  RESULT(checkit (\"<%d>\\n\", 0x12345678));\n-  RESULT(printf (\"<%d>\\n\", 0x12345678));\n-\n-  RESULT(checkit (\"<%200d>\\n\", 5));\n-  RESULT(printf (\"<%200d>\\n\", 5));\n-\n-  RESULT(checkit (\"<%.300d>\\n\", 6));\n-  RESULT(printf (\"<%.300d>\\n\", 6));\n-\n-  RESULT(checkit (\"<%100.150d>\\n\", 7));\n-  RESULT(printf (\"<%100.150d>\\n\", 7));\n-\n-  RESULT(checkit (\"<%s>\\n\",\n-\t\t  \"jjjjjjjjjiiiiiiiiiiiiiiioooooooooooooooooppppppppppppaa\\n\\\n-777777777777777777333333333333366666666666622222222222777777777777733333\"));\n-  RESULT(printf (\"<%s>\\n\",\n-\t\t \"jjjjjjjjjiiiiiiiiiiiiiiioooooooooooooooooppppppppppppaa\\n\\\n-777777777777777777333333333333366666666666622222222222777777777777733333\"));\n-\n-  RESULT(checkit (\"<%f><%0+#f>%s%d%s>\\n\",\n-\t\t  1.0, 1.0, \"foo\", 77, \"asdjffffffffffffffiiiiiiiiiiixxxxx\"));\n-  RESULT(printf (\"<%f><%0+#f>%s%d%s>\\n\",\n-\t\t 1.0, 1.0, \"foo\", 77, \"asdjffffffffffffffiiiiiiiiiiixxxxx\"));\n-\n-  RESULT(checkit (\"<%4f><%.4f><%%><%4.4f>\\n\", M_PI, M_PI, M_PI));\n-  RESULT(printf (\"<%4f><%.4f><%%><%4.4f>\\n\", M_PI, M_PI, M_PI));\n-\n-  RESULT(checkit (\"<%*f><%.*f><%%><%*.*f>\\n\", 3, M_PI, 3, M_PI, 3, 3, M_PI));\n-  RESULT(printf (\"<%*f><%.*f><%%><%*.*f>\\n\", 3, M_PI, 3, M_PI, 3, 3, M_PI));\n-\n-  RESULT(checkit (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n-\t\t  75, 75, 75, 75, 75, 75, 75));\n-  RESULT(printf (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n-\t\t 75, 75, 75, 75, 75, 75, 75));\n-\n-  RESULT(checkit (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n-\t\t  75, 75, 75, 75, 75, 75, 75));\n-  RESULT(printf (\"<%d><%i><%o><%u><%x><%X><%c>\\n\",\n-\t\t 75, 75, 75, 75, 75, 75, 75));\n-\n-  RESULT(checkit (\"Testing (hd) short: <%d><%ld><%hd><%hd><%d>\\n\", 123, (long)234, 345, 123456789, 456));\n-  RESULT(printf (\"Testing (hd) short: <%d><%ld><%hd><%hd><%d>\\n\", 123, (long)234, 345, 123456789, 456));\n-\n-#if defined(__GNUC__) || defined (HAVE_LONG_LONG)\n-  RESULT(checkit (\"Testing (lld) long long: <%d><%lld><%d>\\n\", 123, 234234234234234234LL, 345));\n-  RESULT(printf (\"Testing (lld) long long: <%d><%lld><%d>\\n\", 123, 234234234234234234LL, 345));\n-  RESULT(checkit (\"Testing (Ld) long long: <%d><%Ld><%d>\\n\", 123, 234234234234234234LL, 345));\n-  RESULT(printf (\"Testing (Ld) long long: <%d><%Ld><%d>\\n\", 123, 234234234234234234LL, 345));\n-#endif\n-\n-#if defined(__GNUC__) || defined (HAVE_LONG_DOUBLE)\n-  RESULT(checkit (\"Testing (Lf) long double: <%.20f><%.20Lf><%0+#.20f>\\n\",\n-\t\t  1.23456, 1.234567890123456789L, 1.23456));\n-  RESULT(printf (\"Testing (Lf) long double: <%.20f><%.20Lf><%0+#.20f>\\n\",\n-\t\t 1.23456, 1.234567890123456789L, 1.23456));\n-#endif\n-\n-  return 0;\n-}\n-#endif /* TEST */"}, {"sha": "ec5f4b0c87f4477f7b0deaac7d2361462e9960f6", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -1,3 +1,8 @@\n+2001-11-29  Zack Weinberg  <zack@codesourcery.com>\n+\n+\t* Make-lang.in (f/fini, f/intdoc): Depend on $(HOST_LIBDEPS)\n+\tand link with $(HOST_LIBS), not safe-ctype.o.\n+\n 2001-11-29  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* Make-lang.in (f77.generated-manpages): New target.\n@@ -103,7 +108,7 @@ Fri Nov  9 07:14:47 2001  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n 2001-11-08  Andreas Franck  <afranck@gmx.de>\n \n-\t* Make-lang.in (G77_INSTALL_NAME, G77_CROSS_NAME): Handle \n+\t* Make-lang.in (G77_INSTALL_NAME, G77_CROSS_NAME): Handle\n \tprogram_transform_name the way suggested by autoconf.\n \n 2001-11-08  Toon Moene  <toon@moene.indiv.nluug.nl>\n@@ -170,7 +175,7 @@ Sun Oct 21 17:28:17 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n 2001-10-21  Craig Prescott  <prescott@phys.ufl.edu>\n \n-\t* target.h (FFETARGET_32bit_longs): Don't define \n+\t* target.h (FFETARGET_32bit_longs): Don't define\n \tfor 64-bit hppa.\n \n 2001-10-17  Richard Henderson  <rth@redhat.com>\n@@ -236,7 +241,7 @@ Thu Sep 20 15:05:20 JST 2001  George Helffrich  <george@geo.titech.ac.jp>\n \tfor character strings, to permit substring expressions like\n \tstring(1:0).\n \t* news.texi: Document this as a new feature.\n- \n+\n Thu Sep 13 10:33:27 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* bad.c (ffebad_finish): Const-ification and/or static-ization.\n@@ -373,7 +378,7 @@ Wed Jun 13 11:22:39 2001  Mark Mitchell  <mark@codesourcery.com>\n \timplic.h info.h intrin.h lab.h lex.h malloc.h name.h\n \tproj.h src.h st.h sta.h stb.h stc.h std.h ste.h\n \tstorag.h stp.h str.h sts.h stt.h stu.h stv.h stw.h\n-\tsymbol.h target.h top.h type.h version.h \n+\tsymbol.h target.h top.h type.h version.h\n \twhere.h: Likewise.\n \n 2001-05-22  Toon Moene  <toon@moene.indiv.nluug.nl>\n@@ -458,7 +463,7 @@ Wed Mar 14 09:29:27 2001  Mark Mitchell  <mark@codesourcery.com>\n \tDECL_RTL_SET_P, etc.\n \t(duplicate_decls): Likewise.\n \t(start_decl): Likewise.\n-\t\n+\n Fri Mar  9 22:52:55 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* fini.c (main): Use really_call_malloc, not malloc.\n@@ -505,7 +510,7 @@ Sun Feb  4 15:52:44 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \t(ffecom_decode_include_option_): Make errors non-fatal.\n \t* lex.c (ffelex_cfelex_, ffelex_get_directive_line_): Likewise.\n \t(ffelex_hash_): Likewise.\n-\t\n+\n Sat Jan 27 20:52:18 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* Make-lang.in: Remove all dependencies on defaults.h."}, {"sha": "f2327da56dbaf7d3a17afe89d02c9f871f7978ee", "filename": "gcc/f/Make-lang.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Ff%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06f0b04cab15bdd864387366f84ad86a472e406b/gcc%2Ff%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FMake-lang.in?ref=06f0b04cab15bdd864387366f84ad86a472e406b", "patch": "@@ -129,9 +129,9 @@ f/str-op.h f/str-op.j: f/fini$(build_exeext) f/str-op.fin\n f/str-ot.h f/str-ot.j: f/fini$(build_exeext) f/str-ot.fin\n \t./f/fini$(build_exeext) $(srcdir)/f/str-ot.fin f/str-ot.j f/str-ot.h\n \n-f/fini$(build_exeext): f/fini.o f/proj-h.o safe-ctype.o\n+f/fini$(build_exeext): f/fini.o f/proj-h.o $(HOST_LIBDEPS)\n \t$(HOST_CC) $(HOST_CFLAGS) $(HOST_LDFLAGS) -o f/fini$(build_exeext) \\\n-\t\tf/fini.o f/proj-h.o safe-ctype.o\n+\t\tf/fini.o f/proj-h.o $(HOST_LIBS)\n \n f/fini.o:\n \t$(HOST_CC) $(HOST_CFLAGS) $(HOST_CPPFLAGS) $(INCLUDES) \\\n@@ -218,9 +218,9 @@ $(srcdir)/f/intdoc.texi: $(INTDOC_DEPS) $(srcdir)/f/intdoc.in\n \tf/intdoc$(build_exeext) > $(srcdir)/f/intdoc.texi\n \n f/intdoc$(build_exeext): $(INTDOC_DEPS) f/intdoc.h0 hconfig.h $(SYSTEM_H) \\\n-\tsafe-ctype.o\n+\t$(HOST_LIBDEPS)\n \t  $(HOST_CC) $(HOST_CFLAGS) $(HOST_LDFLAGS) $(INCLUDES) \\\n-\t\t  $(srcdir)/f/intdoc.c safe-ctype.o -o f/intdoc$(build_exeext)\n+\t\t  $(srcdir)/f/intdoc.c $(HOST_LIBS) -o f/intdoc$(build_exeext)\n \n f/intdoc.h0: f/intdoc.in f/ansify$(build_exeext)\n \tf/ansify$(build_exeext) $(srcdir)/f/intdoc.in \\"}]}