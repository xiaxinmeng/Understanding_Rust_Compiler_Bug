{"sha": "837bac8cb6e58e3665c736c338dfaf64330c1971", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODM3YmFjOGNiNmU1OGUzNjY1YzczNmMzMzhkZmFmNjQzMzBjMTk3MQ==", "commit": {"author": {"name": "Ilya Verbin", "email": "ilya.verbin@intel.com", "date": "2015-01-14T15:15:21Z"}, "committer": {"name": "Ilya Verbin", "email": "iverbin@gcc.gnu.org", "date": "2015-01-14T15:15:21Z"}, "message": "cgraphunit.c (ipa_passes): Remove argument from ipa_write_summaries.\n\ngcc/\n\t* cgraphunit.c (ipa_passes): Remove argument from ipa_write_summaries.\n\t* lto-cgraph.c (select_what_to_stream): Remove argument, use\n\tlto_stream_offload_p instead.\n\t* lto-streamer.h (select_what_to_stream): Remove argument.\n\t* passes.c (ipa_write_summaries): Likewise.\n\t* tree-pass.h (ipa_write_summaries): Likewise.\ngcc/lto/\n\t* lto-partition.c (lto_promote_cross_file_statics): Remove argument\n\tfrom select_what_to_stream.\n\nFrom-SVN: r219605", "tree": {"sha": "5582883ab2dcde11cf2737d6902cf9c574559f70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5582883ab2dcde11cf2737d6902cf9c574559f70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/837bac8cb6e58e3665c736c338dfaf64330c1971", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/837bac8cb6e58e3665c736c338dfaf64330c1971", "html_url": "https://github.com/Rust-GCC/gccrs/commit/837bac8cb6e58e3665c736c338dfaf64330c1971", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/837bac8cb6e58e3665c736c338dfaf64330c1971/comments", "author": null, "committer": null, "parents": [{"sha": "2f6c116d289dd816f3d2594e6ce7bcf78684f0bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f6c116d289dd816f3d2594e6ce7bcf78684f0bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f6c116d289dd816f3d2594e6ce7bcf78684f0bc"}], "stats": {"total": 33, "additions": 24, "deletions": 9}, "files": [{"sha": "2fe870b225681efff7c3d152557b497ec1a610f9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -1,3 +1,12 @@\n+2015-01-14  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* cgraphunit.c (ipa_passes): Remove argument from ipa_write_summaries.\n+\t* lto-cgraph.c (select_what_to_stream): Remove argument, use\n+\tlto_stream_offload_p instead.\n+\t* lto-streamer.h (select_what_to_stream): Remove argument.\n+\t* passes.c (ipa_write_summaries): Likewise.\n+\t* tree-pass.h (ipa_write_summaries): Likewise.\n+\n 2015-01-14  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/59354"}, {"sha": "1ef1b6c648df22181526d717f2a715bfa2e48a09", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -2115,14 +2115,14 @@ ipa_passes (void)\n \t{\n \t  section_name_prefix = OFFLOAD_SECTION_NAME_PREFIX;\n \t  lto_stream_offload_p = true;\n-\t  ipa_write_summaries (true);\n+\t  ipa_write_summaries ();\n \t  lto_stream_offload_p = false;\n \t}\n       if (flag_lto)\n \t{\n \t  section_name_prefix = LTO_SECTION_NAME_PREFIX;\n \t  lto_stream_offload_p = false;\n-\t  ipa_write_summaries (false);\n+\t  ipa_write_summaries ();\n \t}\n     }\n "}, {"sha": "91be53036f3702a25700822c0af137e3050b088c", "filename": "gcc/lto-cgraph.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto-cgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto-cgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-cgraph.c?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -842,11 +842,11 @@ create_references (lto_symtab_encoder_t encoder, symtab_node *node)\n /* Select what needs to be streamed out.  In regular lto mode stream everything.\n    In offload lto mode stream only nodes marked as offloadable.  */\n void\n-select_what_to_stream (bool offload_lto_mode)\n+select_what_to_stream (void)\n {\n   struct symtab_node *snode;\n   FOR_EACH_SYMBOL (snode)\n-    snode->need_lto_streaming = !offload_lto_mode || snode->offloadable;\n+    snode->need_lto_streaming = !lto_stream_offload_p || snode->offloadable;\n }\n \n /* Find all symbols we want to stream into given partition and insert them"}, {"sha": "2d9f30c79c3adb45d2b32bdf43eb766a9813df72", "filename": "gcc/lto-streamer.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto-streamer.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto-streamer.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto-streamer.h?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -837,7 +837,7 @@ bool referenced_from_this_partition_p (symtab_node *,\n bool reachable_from_this_partition_p (struct cgraph_node *,\n \t\t\t\t      lto_symtab_encoder_t);\n lto_symtab_encoder_t compute_ltrans_boundary (lto_symtab_encoder_t encoder);\n-void select_what_to_stream (bool);\n+void select_what_to_stream (void);\n \n /* In options-save.c.  */\n void cl_target_option_stream_out (struct output_block *, struct bitpack_d *,"}, {"sha": "4eafaccc822b551dc2fea6bc20ad93b742362792", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -1,3 +1,8 @@\n+2015-01-14  Ilya Verbin  <ilya.verbin@intel.com>\n+\n+\t* lto-partition.c (lto_promote_cross_file_statics): Remove argument\n+\tfrom select_what_to_stream.\n+\n 2015-01-09  Bernd Schmidt  <bernds@codesourcery.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "c1179cb2eff9d3d73dcf22b97e536ad1ec1a431a", "filename": "gcc/lto/lto-partition.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto%2Flto-partition.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Flto%2Flto-partition.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto-partition.c?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -973,7 +973,8 @@ lto_promote_cross_file_statics (void)\n \n   gcc_assert (flag_wpa);\n \n-  select_what_to_stream (false);\n+  lto_stream_offload_p = false;\n+  select_what_to_stream ();\n \n   /* First compute boundaries.  */\n   n_sets = ltrans_partitions.length ();"}, {"sha": "e78a32546c2775de8656fe2f5547cefcfe061b0e", "filename": "gcc/passes.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -2464,7 +2464,7 @@ ipa_write_summaries_1 (lto_symtab_encoder_t encoder)\n /* Write out summaries for all the nodes in the callgraph.  */\n \n void\n-ipa_write_summaries (bool offload_lto_mode)\n+ipa_write_summaries (void)\n {\n   lto_symtab_encoder_t encoder;\n   int i, order_pos;\n@@ -2475,7 +2475,7 @@ ipa_write_summaries (bool offload_lto_mode)\n   if ((!flag_generate_lto && !flag_generate_offload) || seen_error ())\n     return;\n \n-  select_what_to_stream (offload_lto_mode);\n+  select_what_to_stream ();\n \n   encoder = lto_symtab_encoder_new (false);\n "}, {"sha": "9ff5bdc60ceec34c6da59e32ecb818e84abcb8cd", "filename": "gcc/tree-pass.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Ftree-pass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/837bac8cb6e58e3665c736c338dfaf64330c1971/gcc%2Ftree-pass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pass.h?ref=837bac8cb6e58e3665c736c338dfaf64330c1971", "patch": "@@ -603,7 +603,7 @@ extern void pass_fini_dump_file (opt_pass *);\n extern const char *get_current_pass_name (void);\n extern void print_current_pass (FILE *);\n extern void debug_pass (void);\n-extern void ipa_write_summaries (bool);\n+extern void ipa_write_summaries (void);\n extern void ipa_write_optimization_summaries (struct lto_symtab_encoder_d *);\n extern void ipa_read_summaries (void);\n extern void ipa_read_optimization_summaries (void);"}]}