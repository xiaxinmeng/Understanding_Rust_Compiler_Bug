{"sha": "5742588d23cb1e1409c780e71e2b4b2ac8093190", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTc0MjU4OGQyM2NiMWUxNDA5Yzc4MGU3MWUyYjRiMmFjODA5MzE5MA==", "commit": {"author": {"name": "David O'Brien", "email": "obrien@FreeBSD.org", "date": "2001-12-13T00:27:30Z"}, "committer": {"name": "David O'Brien", "email": "obrien@gcc.gnu.org", "date": "2001-12-13T00:27:30Z"}, "message": "config.gcc (arm-*-freebsd*): Add target.\n\n2001-12-12  David O'Brien  <obrien@FreeBSD.org>\n\t* config.gcc (arm-*-freebsd*): Add target.\n\t* config/arm/freebsd.h: New file.\n\t* config/arm/arm.h (CPP_PREDEFINES): Do not define.\n\t(CPP_SPEC): #undef before defining.\n\t(CPP_CPU_ARCH_SPEC): Add -Acpu=arm -Amachine=arm.\n\t* config/arm/conix-elf.h (CPP_PREDEFINES): Remove -Acpu=arm\n\t-Amachine=arm.\n\t* config/arm/linux-elf.h: Likewise.\n\t* config/arm/netbsd.h: Likewise.\n\t* config/arm/riscix.h: Likewise.\n\t* config/arm/riscix1-1.h: Likewise.\n\t* config/arm/semiaof.h: Likewise.\n\nApproved by:  Richard Earnshaw <rearnsha@arm.com> (in private email)\n              Message-Id: <200112121046.KAA09097@cam-mail2.cambridge.arm.com>\n\nFrom-SVN: r47957", "tree": {"sha": "8f6b73cb9650c96c7ce282f9d9a33c9fd64b9243", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f6b73cb9650c96c7ce282f9d9a33c9fd64b9243"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5742588d23cb1e1409c780e71e2b4b2ac8093190", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5742588d23cb1e1409c780e71e2b4b2ac8093190", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5742588d23cb1e1409c780e71e2b4b2ac8093190", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5742588d23cb1e1409c780e71e2b4b2ac8093190/comments", "author": null, "committer": null, "parents": [{"sha": "e5bd5cb4708e1ef9ddfae138636c309be3e2d929", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5bd5cb4708e1ef9ddfae138636c309be3e2d929", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5bd5cb4708e1ef9ddfae138636c309be3e2d929"}], "stats": {"total": 94, "additions": 84, "deletions": 10}, "files": [{"sha": "a718917e3b1751670da5527ae7afc058e9601211", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -1,3 +1,18 @@\n+2001-12-12  David O'Brien  <obrien@FreeBSD.org>\n+\n+\t* config.gcc (arm-*-freebsd*): Add target.\n+\t* config/arm/freebsd.h: New file.\n+\t* config/arm/arm.h (CPP_PREDEFINES): Do not define.\n+\t(CPP_SPEC): #undef before defining.\n+\t(CPP_CPU_ARCH_SPEC): Add -Acpu=arm -Amachine=arm.\n+\t* config/arm/conix-elf.h (CPP_PREDEFINES): Remove -Acpu=arm\n+\t-Amachine=arm.\n+\t* config/arm/linux-elf.h: Likewise.\n+\t* config/arm/netbsd.h: Likewise.\n+\t* config/arm/riscix.h: Likewise.\n+\t* config/arm/riscix1-1.h: Likewise.\n+\t* config/arm/semiaof.h: Likewise.\n+\n 2001-12-12  Richard Henderson  <rth@redhat.com>\n \n \t* regrename.c (copyprop_hardreg_forward): New optimization."}, {"sha": "0522dde8bcf5cc9f938ef1896122ea00d568dc73", "filename": "gcc/config.gcc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -578,6 +578,10 @@ arm-semi-aof | armel-semi-aof)\n \ttm_file=\"arm/semiaof.h arm/aof.h arm/arm.h\"\n \ttmake_file=arm/t-semi\n \t;;\n+arm*-*-freebsd*|strongarm*-*-freebsd*)\n+\ttm_file=\"dbxelf.h elfos.h ${fbsd_tm_file} arm/elf.h arm/aout.h arm/freebsd.h arm/arm.h\"\n+\ttmake_file=\"${tmake_file} arm/t-strongarm-elf\"\n+\t;;\n arm*-*-netbsd*)\n \ttm_file=\"arm/aout.h arm/arm.h netbsd.h arm/netbsd.h\"\n \ttmake_file=\"t-netbsd arm/t-netbsd\""}, {"sha": "eefa198150dabf69483a7c127e08c0ade81a4a15", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -127,10 +127,7 @@ Unrecognized value in TARGET_CPU_DEFAULT.\n #endif\n #endif\n \n-#ifndef CPP_PREDEFINES\n-#define CPP_PREDEFINES  \"-Acpu=arm -Amachine=arm\"\n-#endif\n-\n+#undef  CPP_SPEC\n #define CPP_SPEC \"\\\n %(cpp_cpu_arch) %(cpp_apcs_pc) %(cpp_float) \\\n %(cpp_endian) %(subtarget_cpp_spec) %(cpp_isa) %(cpp_interwork)\"\n@@ -140,6 +137,7 @@ Unrecognized value in TARGET_CPU_DEFAULT.\n /* Set the architecture define -- if -march= is set, then it overrides\n    the -mcpu= setting.  */\n #define CPP_CPU_ARCH_SPEC \"\\\n+-Acpu=arm -Amachine=arm \\\n %{march=arm2:-D__ARM_ARCH_2__} \\\n %{march=arm250:-D__ARM_ARCH_2__} \\\n %{march=arm3:-D__ARM_ARCH_2__} \\"}, {"sha": "b74afdfc006dda6681b42eeeacddbbf4196b0275", "filename": "gcc/config/arm/conix-elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fconix-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fconix-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fconix-elf.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -41,4 +41,4 @@ the Free Software Foundation, 59 Temple Place - Suite 330,\n      \n #undef  CPP_PREDEFINES\n #define CPP_PREDEFINES \\\n-  \"-D__arm__ -D__CONIX__ -Acpu=arm -Amachine=arm -D__ELF__\"\n+  \"-D__arm__ -D__CONIX__ -D__ELF__\""}, {"sha": "a9b268c0a48e91d65a07c0836692cf6b38125348", "filename": "gcc/config/arm/freebsd.h", "status": "added", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ffreebsd.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -0,0 +1,57 @@\n+/* Definitions for StrongARM running FreeBSD using the ELF format\n+   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Contributed by David E. O'Brien <obrien@FreeBSD.org> and BSDi.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+\n+#undef  SUBTARGET_CPP_SPEC\n+#define SUBTARGET_CPP_SPEC FBSD_CPP_SPEC\n+\n+\n+/************************[  Target stuff  ]***********************************/\n+\n+/* Define the actual types of some ANSI-mandated types.  \n+   Needs to agree with <machine/ansi.h>.  GCC defaults come from c-decl.c,\n+   c-common.c, and config/<arch>/<arch>.h.  */\n+\n+/* arm.h gets this wrong for FreeBSD.  We use the GCC defaults instead.  */\n+\n+#undef  SIZE_TYPE\n+#define SIZE_TYPE\t\"unsigned int\"\n+\n+#undef  PTRDIFF_TYPE\n+#define PTRDIFF_TYPE\t\"int\"\n+\n+/* We use the GCC defaults here.  */\n+#undef WCHAR_TYPE\n+\n+#undef  WCHAR_UNSIGNED\n+#define WCHAR_UNSIGNED 0\n+\n+#undef  WCHAR_TYPE_SIZE\n+#define WCHAR_TYPE_SIZE 32\n+\n+#undef  SUBTARGET_CPU_DEFAULT\n+#define SUBTARGET_CPU_DEFAULT\tTARGET_CPU_strongarm\n+\n+#undef  ARM_OS_NAME\n+#define ARM_OS_NAME \"FreeBSD\"\n+\n+#undef  TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (FreeBSD/StrongARM ELF)\");"}, {"sha": "74f7e7ef99998259f3ed211cf1b317aca57436ed", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -88,7 +88,7 @@ Boston, MA 02111-1307, USA.  */\n #undef  CPP_PREDEFINES\n #define CPP_PREDEFINES \\\n \"-Dunix -Dlinux -D__ELF__ \\\n--Asystem=unix -Asystem=posix -Acpu=arm -Amachine=arm\"\n+-Asystem=unix -Asystem=posix\"\n \n /* Allow #sccs in preprocessor.  */\n #define SCCS_DIRECTIVE"}, {"sha": "9684fdbada3511b971c62af5e5e033ea65a78199", "filename": "gcc/config/arm/netbsd.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fnetbsd.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -47,7 +47,7 @@ Boston, MA 02111-1307, USA.  */\n #undef CPP_PREDEFINES\n #define CPP_PREDEFINES \"\\\n -Dunix -Driscbsd -Darm32 -D__arm32__ -D__arm__ -D__NetBSD__ \\\n--Asystem=unix -Asystem=NetBSD -Acpu=arm -Amachine=arm\"\n+-Asystem=unix -Asystem=NetBSD\"\n \n /* Define _POSIX_SOURCE if necessary.  */\n #undef CPP_SPEC"}, {"sha": "35fc23258d2e33be270ba2aadf9c8d8b8d9a2c93", "filename": "gcc/config/arm/riscix.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Friscix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Friscix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Friscix.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -49,7 +49,7 @@ Boston, MA 02111-1307, USA.  */\n \n #ifndef CPP_PREDEFINES\n #define CPP_PREDEFINES  \\\n-    \"-Darm -Driscix -Dunix -Asystem=unix -Acpu=arm -Amachine=arm\"\n+    \"-Darm -Driscix -Dunix -Asystem=unix\"\n #endif\n \n "}, {"sha": "fd93d40f05ea82a4ec74b57e6cbeacee94c58ade", "filename": "gcc/config/arm/riscix1-1.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Friscix1-1.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Friscix1-1.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Friscix1-1.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -30,7 +30,7 @@ Boston, MA 02111-1307, USA.  */\n   \"%{pg:/usr/lib/gcrt0.o%s}%{!pg:%{p:mcrt0.o%s}%{!p:crt0.o%s}}\"\n \n #ifndef CPP_PREDEFINES\n-#define CPP_PREDEFINES  \"-Darm -Driscix -Dunix -Asystem=unix -Acpu=arm -Amachine=arm\"\n+#define CPP_PREDEFINES  \"-Darm -Driscix -Dunix -Asystem=unix\"\n #endif\n \n /* Riscix 1.1 doesn't have X/OPEN support, so only accept -mbsd (but ignore"}, {"sha": "7ca68bc95c25bceb3a6110db915577a6c294ad2a", "filename": "gcc/config/arm/semiaof.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fsemiaof.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5742588d23cb1e1409c780e71e2b4b2ac8093190/gcc%2Fconfig%2Farm%2Fsemiaof.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fsemiaof.h?ref=5742588d23cb1e1409c780e71e2b4b2ac8093190", "patch": "@@ -21,7 +21,7 @@ the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n #define CPP_PREDEFINES \\\n-    \"-Darm -Dsemi -Acpu=arm -Amachine=arm\"\n+    \"-Darm -Dsemi\"\n \n #define ASM_SPEC \"%{g -g} -arch 4 \\\n -apcs 3%{mapcs-32:/32bit}%{mapcs-26:/26bit}%{!mapcs-26:%{!macps-32:/32bit}}\""}]}