{"sha": "7ec4deda8c738f51d932691a309a1d583a8cf854", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VjNGRlZGE4YzczOGY1MWQ5MzI2OTFhMzA5YTFkNTgzYThjZjg1NA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-01-14T11:34:37Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-01-14T11:34:37Z"}, "message": "re PR c++/12850 (memory consumption for heavy template instantiations tripled since 3.3)\n\n\tPR c++/12850\n\t* pt.c (instantiate_decl):  Do not increase function_depth.\n\nFrom-SVN: r75859", "tree": {"sha": "967fdd80eba25a7f59d1edc4bd60ba35317d1479", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/967fdd80eba25a7f59d1edc4bd60ba35317d1479"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ec4deda8c738f51d932691a309a1d583a8cf854", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ec4deda8c738f51d932691a309a1d583a8cf854", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ec4deda8c738f51d932691a309a1d583a8cf854", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ec4deda8c738f51d932691a309a1d583a8cf854/comments", "author": null, "committer": null, "parents": [{"sha": "4d774ff8d544c14945c611d1f1bde6f8ceafb509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d774ff8d544c14945c611d1f1bde6f8ceafb509", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d774ff8d544c14945c611d1f1bde6f8ceafb509"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "219f316877c2545a09917e23ae2bd4f07f9c5fb8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ec4deda8c738f51d932691a309a1d583a8cf854/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ec4deda8c738f51d932691a309a1d583a8cf854/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7ec4deda8c738f51d932691a309a1d583a8cf854", "patch": "@@ -1,3 +1,8 @@\n+2004-01-14  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR c++/12850\n+\t* pt.c (instantiate_decl):  Do not increase function_depth.\n+\n 2004-01-14  Danny Smith  <dannysmith@users,sourceforge.net>\n \n \tPR c++/9021"}, {"sha": "faaeaa2f24c517c5ee709b1d4c0a52e925fd2f31", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ec4deda8c738f51d932691a309a1d583a8cf854/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ec4deda8c738f51d932691a309a1d583a8cf854/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=7ec4deda8c738f51d932691a309a1d583a8cf854", "patch": "@@ -10881,11 +10881,6 @@ instantiate_decl (tree d, int defer_ok)\n   /* We may be in the middle of deferred access check.  Disable it now.  */\n   push_deferring_access_checks (dk_no_deferred);\n \n-  /* Our caller does not expect collection to happen, which it might if\n-     we decide to compile the function to rtl now.  Arrange for a new\n-     gc context to be created if so.  */\n-  function_depth++;\n-\n   /* Set TD to the template whose DECL_TEMPLATE_RESULT is the pattern\n      for the instantiation.  */\n   td = template_for_substitution (d);\n@@ -11129,7 +11124,6 @@ instantiate_decl (tree d, int defer_ok)\n   input_location = saved_loc;\n   pop_deferring_access_checks ();\n   pop_tinst_level ();\n-  function_depth--;\n \n   timevar_pop (TV_PARSE);\n "}]}