{"sha": "01c65e8a300e1b897a558564c80302b056ea07b0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFjNjVlOGEzMDBlMWI4OTdhNTU4NTY0YzgwMzAyYjA1NmVhMDdiMA==", "commit": {"author": {"name": "David Billinghurst", "email": "David.Billinghurst@riotinto.com", "date": "2005-03-07T04:18:08Z"}, "committer": {"name": "David Billinghurst", "email": "billingd@gcc.gnu.org", "date": "2005-03-07T04:18:08Z"}, "message": "cygwin1.c (mingw_scan): Use xstrdup in calls to putenv.\n\n2005-03-07  David Billinghurst <David.Billinghurst@riotinto.com>\n\n\t* config/i386/cygwin1.c(mingw_scan): Use xstrdup in calls to putenv.\n\nFrom-SVN: r96006", "tree": {"sha": "116c5328df2b698b0829f917063c0b730c1db7ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/116c5328df2b698b0829f917063c0b730c1db7ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01c65e8a300e1b897a558564c80302b056ea07b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c65e8a300e1b897a558564c80302b056ea07b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01c65e8a300e1b897a558564c80302b056ea07b0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c65e8a300e1b897a558564c80302b056ea07b0/comments", "author": null, "committer": null, "parents": [{"sha": "543144ed5d39a106fd0a68b3b3867c3f1859e524", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/543144ed5d39a106fd0a68b3b3867c3f1859e524", "html_url": "https://github.com/Rust-GCC/gccrs/commit/543144ed5d39a106fd0a68b3b3867c3f1859e524"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "d43ce690169c58d649591cb068b1e75271c65e68", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01c65e8a300e1b897a558564c80302b056ea07b0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01c65e8a300e1b897a558564c80302b056ea07b0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=01c65e8a300e1b897a558564c80302b056ea07b0", "patch": "@@ -1,3 +1,7 @@\n+2005-03-07  David Billinghurst <David.Billinghurst@riotinto.com>\n+\n+\t* config/i386/cygwin1.c(mingw_scan): Use xstrdup in calls to putenv.\n+\n 2005-03-07  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* config/ia64/hpux.h (LINK_SPEC): Add -z."}, {"sha": "88c44fc9fbf6f7ee8a07da66bbed7ec8832a74f8", "filename": "gcc/config/i386/cygwin1.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01c65e8a300e1b897a558564c80302b056ea07b0/gcc%2Fconfig%2Fi386%2Fcygwin1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01c65e8a300e1b897a558564c80302b056ea07b0/gcc%2Fconfig%2Fi386%2Fcygwin1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fcygwin1.c?ref=01c65e8a300e1b897a558564c80302b056ea07b0", "patch": "@@ -30,13 +30,13 @@ mingw_scan (int argc ATTRIBUTE_UNUSED,\n             const char *const *argv,\n             char **spec_machine)\n {\n-  putenv (\"GCC_CYGWIN_MINGW=0\");\n+  putenv (xstrdup (\"GCC_CYGWIN_MINGW=0\"));\n  \n   while (*++argv)\n     if (strcmp (*argv, \"-mno-win32\") == 0)\n-      putenv (\"GCC_CYGWIN_WIN32=0\");\n+      putenv (xstrdup (\"GCC_CYGWIN_WIN32=0\"));\n     else if (strcmp (*argv, \"-mwin32\") == 0)\n-      putenv (\"GCC_CYGWIN_WIN32=1\");\n+      putenv (xstrdup (\"GCC_CYGWIN_WIN32=1\"));\n     else if (strcmp (*argv, \"-mno-cygwin\") == 0)\n       {\n \tchar *p = strstr (*spec_machine, \"-cygwin\");\n@@ -48,7 +48,7 @@ mingw_scan (int argc ATTRIBUTE_UNUSED,\n \t    strcpy (s + len, \"-mingw32\");\n \t    *spec_machine = s;\n \t  }\n-\tputenv (\"GCC_CYGWIN_MINGW=1\");\n+\tputenv (xstrdup (\"GCC_CYGWIN_MINGW=1\"));\n       }\n   return;\n }"}]}