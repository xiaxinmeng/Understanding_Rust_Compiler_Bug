{"sha": "8019538ff45b4884ef7a1496b8935560e2b794e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODAxOTUzOGZmNDViNDg4NGVmN2ExNDk2Yjg5MzU1NjBlMmI3OTRlNg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2009-06-17T00:10:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2009-06-17T00:10:23Z"}, "message": "vec.h (VEC_stack_alloc): Define different version if GATHER_STATISTICS is defined...\n\n\t* vec.h (VEC_stack_alloc): Define different version if\n\tGATHER_STATISTICS is defined, to accept and ignore MEM_STAT.\n\t(DEF_VEC_ALLOC_FUNC_P_STACK): Remove MEM_STAT_DECL.\n\t(DEF_VEC_ALLOC_FUNC_O_STACK): Likewise.\n\t(DEF_VEC_ALLOC_FUNC_I_STACK): Likewise.\n\nFrom-SVN: r148562", "tree": {"sha": "ea124466a40489e2edfceb65b3ecc2e8503a6a82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea124466a40489e2edfceb65b3ecc2e8503a6a82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8019538ff45b4884ef7a1496b8935560e2b794e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8019538ff45b4884ef7a1496b8935560e2b794e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8019538ff45b4884ef7a1496b8935560e2b794e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8019538ff45b4884ef7a1496b8935560e2b794e6/comments", "author": null, "committer": null, "parents": [{"sha": "9fdcbf40319a526845c586ac2ca147bb5ee53286", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fdcbf40319a526845c586ac2ca147bb5ee53286", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fdcbf40319a526845c586ac2ca147bb5ee53286"}], "stats": {"total": 26, "additions": 20, "deletions": 6}, "files": [{"sha": "c7d5a934ec5f9bd874b2cc6622d54fbed1da30b6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8019538ff45b4884ef7a1496b8935560e2b794e6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8019538ff45b4884ef7a1496b8935560e2b794e6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8019538ff45b4884ef7a1496b8935560e2b794e6", "patch": "@@ -1,3 +1,11 @@\n+2009-06-16  Ian Lance Taylor  <iant@google.com>\n+\n+\t* vec.h (VEC_stack_alloc): Define different version if\n+\tGATHER_STATISTICS is defined, to accept and ignore MEM_STAT.\n+\t(DEF_VEC_ALLOC_FUNC_P_STACK): Remove MEM_STAT_DECL.\n+\t(DEF_VEC_ALLOC_FUNC_O_STACK): Likewise.\n+\t(DEF_VEC_ALLOC_FUNC_I_STACK): Likewise.\n+\n 2009-06-16  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config.gcc (extra_headers): Add ia32intrin.h for x86."}, {"sha": "d16fdaacbb430cc9f9cbcd9d1467a96c638b7286", "filename": "gcc/vec.h", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8019538ff45b4884ef7a1496b8935560e2b794e6/gcc%2Fvec.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8019538ff45b4884ef7a1496b8935560e2b794e6/gcc%2Fvec.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvec.h?ref=8019538ff45b4884ef7a1496b8935560e2b794e6", "patch": "@@ -1229,9 +1229,15 @@ extern void *vec_stack_o_reserve_exact (void *, int, size_t, size_t\n \t\t\t\t\t MEM_STAT_DECL);\n extern void vec_stack_free (void *);\n \n+#ifdef GATHER_STATISTICS\n+#define VEC_stack_alloc(T,alloc,name,line,function)\t\t\t  \\\n+  (VEC_OP (T,stack,alloc1)\t\t\t\t\t\t  \\\n+   (alloc, XALLOCAVAR (VEC(T,stack), VEC_embedded_size (T, alloc))))\n+#else\n #define VEC_stack_alloc(T,alloc)\t\t\t\t\t  \\\n   (VEC_OP (T,stack,alloc1)\t\t\t\t\t\t  \\\n    (alloc, XALLOCAVAR (VEC(T,stack), VEC_embedded_size (T, alloc))))\n+#endif\n \n #define DEF_VEC_ALLOC_P_STACK(T)\t\t\t\t\t  \\\n VEC_TA(T,base,stack);\t\t\t\t\t\t\t  \\\n@@ -1241,9 +1247,9 @@ struct vec_swallow_trailing_semi\n \n #define DEF_VEC_ALLOC_FUNC_P_STACK(T)\t\t\t\t\t  \\\n static inline VEC(T,stack) *VEC_OP (T,stack,alloc1)\t\t\t  \\\n-     (int alloc_, VEC(T,stack)* space MEM_STAT_DECL)\t\t\t  \\\n+     (int alloc_, VEC(T,stack)* space)\t\t\t\t\t  \\\n {\t\t\t\t\t\t\t\t\t  \\\n-   return (VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space); \\\n+  return (VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space);\t  \\\n }\n \n #define DEF_VEC_ALLOC_O_STACK(T)\t\t\t\t\t  \\\n@@ -1254,9 +1260,9 @@ struct vec_swallow_trailing_semi\n \n #define DEF_VEC_ALLOC_FUNC_O_STACK(T)\t\t\t\t\t  \\\n static inline VEC(T,stack) *VEC_OP (T,stack,alloc1)\t\t\t  \\\n-     (int alloc_, VEC(T,stack)* space MEM_STAT_DECL)\t\t\t  \\\n+     (int alloc_, VEC(T,stack)* space)\t\t\t\t\t  \\\n {\t\t\t\t\t\t\t\t\t  \\\n-  return ((VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space); \\\n+  return ((VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space);\t  \\\n }\n \n #define DEF_VEC_ALLOC_I_STACK(T)\t\t\t\t\t  \\\n@@ -1267,9 +1273,9 @@ struct vec_swallow_trailing_semi\n \n #define DEF_VEC_ALLOC_FUNC_I_STACK(T)\t\t\t\t\t  \\\n static inline VEC(T,stack) *VEC_OP (T,stack,alloc1)\t\t\t  \\\n-     (int alloc_, VEC(T,stack)* space MEM_STAT_DECL)\t\t\t  \\\n+     (int alloc_, VEC(T,stack)* space)\t\t\t\t\t  \\\n {\t\t\t\t\t\t\t\t\t  \\\n-  return ((VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space); \\\n+  return ((VEC(T,stack) *) vec_stack_p_reserve_exact_1 (alloc_, space);   \\\n }\n \n #endif /* GCC_VEC_H */"}]}