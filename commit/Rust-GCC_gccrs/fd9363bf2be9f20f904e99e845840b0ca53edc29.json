{"sha": "fd9363bf2be9f20f904e99e845840b0ca53edc29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmQ5MzYzYmYyYmU5ZjIwZjkwNGU5OWU4NDU4NDBiMGNhNTNlZGMyOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-08-26T10:03:38Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-08-26T10:03:38Z"}, "message": "re PR target/16974 (could not split insn (ice in final_scan_insn, final.c))\n\n        PR target/16974\n        * config/alpha/alpha.md (adddi_fp_hack): Don't rely on splitting\n        if the constant satisfies add_operand.\n\nFrom-SVN: r86613", "tree": {"sha": "9974c19b5618939f8b9c44ef370885d44b500868", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9974c19b5618939f8b9c44ef370885d44b500868"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fd9363bf2be9f20f904e99e845840b0ca53edc29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd9363bf2be9f20f904e99e845840b0ca53edc29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd9363bf2be9f20f904e99e845840b0ca53edc29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd9363bf2be9f20f904e99e845840b0ca53edc29/comments", "author": null, "committer": null, "parents": [{"sha": "8def91dbfa8493f807c40c776d7958a2d0018993", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8def91dbfa8493f807c40c776d7958a2d0018993", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8def91dbfa8493f807c40c776d7958a2d0018993"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "a91c1a8f116d2d534da859721bd86c3bb1dc9696", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9363bf2be9f20f904e99e845840b0ca53edc29/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9363bf2be9f20f904e99e845840b0ca53edc29/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fd9363bf2be9f20f904e99e845840b0ca53edc29", "patch": "@@ -1,3 +1,9 @@\n+2004-08-25  Richard Henderson  <rth@redhat.com>\n+\n+        PR target/16974\n+        * config/alpha/alpha.md (adddi_fp_hack): Don't rely on splitting\n+        if the constant satisfies add_operand.\n+\n 2004-08-25  Richard Henderson  <rth@redhat.com>\n  \n         PR debug/10695"}, {"sha": "1890c951d0c1c39b9b068aa22c35bc94afcc6297", "filename": "gcc/config/alpha/alpha.md", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fd9363bf2be9f20f904e99e845840b0ca53edc29/gcc%2Fconfig%2Falpha%2Falpha.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fd9363bf2be9f20f904e99e845840b0ca53edc29/gcc%2Fconfig%2Falpha%2Falpha.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.md?ref=fd9363bf2be9f20f904e99e845840b0ca53edc29", "patch": "@@ -444,9 +444,9 @@\n ;; and if we split before reload, we will require additional instructions.\n \n (define_insn \"*adddi_fp_hack\"\n-  [(set (match_operand:DI 0 \"register_operand\" \"=r\")\n-        (plus:DI (match_operand:DI 1 \"reg_no_subreg_operand\" \"r\")\n-\t\t (match_operand:DI 2 \"const_int_operand\" \"n\")))]\n+  [(set (match_operand:DI 0 \"register_operand\" \"=r,r,r\")\n+        (plus:DI (match_operand:DI 1 \"reg_no_subreg_operand\" \"r,r,r\")\n+\t\t (match_operand:DI 2 \"const_int_operand\" \"K,L,n\")))]\n   \"NONSTRICT_REG_OK_FP_BASE_P (operands[1])\n    && INTVAL (operands[2]) >= 0\n    /* This is the largest constant an lda+ldah pair can add, minus\n@@ -460,7 +460,10 @@\n \t\t\t   + max_reg_num () * UNITS_PER_WORD\n \t\t\t   + current_function_pretend_args_size)\n \t      - current_function_pretend_args_size))\"\n-  \"#\")\n+  \"@\n+   lda %0,%2(%1)\n+   ldah %0,%h2(%1)\n+   #\")\n \n ;; Don't do this if we are adjusting SP since we don't want to do it\n ;; in two steps.  Don't split FP sources for the reason listed above."}]}