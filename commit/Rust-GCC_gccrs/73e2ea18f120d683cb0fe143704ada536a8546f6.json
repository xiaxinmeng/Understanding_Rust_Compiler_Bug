{"sha": "73e2ea18f120d683cb0fe143704ada536a8546f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNlMmVhMThmMTIwZDY4M2NiMGZlMTQzNzA0YWRhNTM2YTg1NDZmNg==", "commit": {"author": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1992-05-07T06:35:33Z"}, "committer": {"name": "Roland McGrath", "email": "roland@gcc.gnu.org", "date": "1992-05-07T06:35:33Z"}, "message": "entered into RCS\n\nFrom-SVN: r927", "tree": {"sha": "be4da3f759d7743796e5bfaa54b9355329d9fd89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be4da3f759d7743796e5bfaa54b9355329d9fd89"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73e2ea18f120d683cb0fe143704ada536a8546f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e2ea18f120d683cb0fe143704ada536a8546f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73e2ea18f120d683cb0fe143704ada536a8546f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e2ea18f120d683cb0fe143704ada536a8546f6/comments", "author": null, "committer": null, "parents": [{"sha": "c2724863cc19200ed93e9943ac895c5843b243ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2724863cc19200ed93e9943ac895c5843b243ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2724863cc19200ed93e9943ac895c5843b243ee"}], "stats": {"total": 109, "additions": 109, "deletions": 0}, "files": [{"sha": "044353f3a43f5a1a18875c56a4a8761789885f7b", "filename": "gcc/fixcpp", "status": "added", "additions": 109, "deletions": 0, "changes": 109, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73e2ea18f120d683cb0fe143704ada536a8546f6/gcc%2Ffixcpp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73e2ea18f120d683cb0fe143704ada536a8546f6/gcc%2Ffixcpp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixcpp?ref=73e2ea18f120d683cb0fe143704ada536a8546f6", "patch": "@@ -0,0 +1,109 @@\n+#!/bin/sh\n+#\n+# NAME:\n+#\tfixcpp - fix CPP errors\n+#\n+# SYNOPSIS:\n+#\tfixcpp [-c][-p patch_file][-b bak_dir][-n new_dir] files(s)\n+#\n+# DESCRIPTION:\n+#\tFor each named file, use sed(1) to fixup any descriptive\n+#\ttext after #else or #endif or that is not properly\n+#\tcommented as this causes ANSI compilers to generate\n+#\tunnecessary warnings.\n+#\n+#\tNaturally this script is not guaranteed to be bullet\n+#\tproof, use of -n or -b is advisable!\n+#\n+#\t-c causes fixcpp to make sure that only files that\n+#\tneeded changing are affected by returning the original\n+#\tfile to its original location if no changes were needed.\n+#\n+#\t-p causes fixcpp to append to a patch file the context\n+#\tdiffs of the changes wrought.\n+#\n+# SEE ALSO:\n+#\tsed(1)\n+#\n+# AMENDED:\n+#\t90/08/08 22:46:32 (sjg)\n+#\n+# RELEASED:\n+#\t90/08/08 22:46:34 v1.4\n+#\n+# SCCSID:\n+#\t@(#)fixcpp.sh 1.4 90/08/08 22:46:32 (sjg)\n+#\n+#\t@(#)Copyright (c) 1990 Simon J. Gerraty\n+#\n+#       This is free software.  It comes with NO WARRANTY.\n+#       Everyone is granted permission to copy, modify and\n+#       redistribute this source code provided that all\n+#       recipients are given similar rights, and that the above\n+#       copyright notice and this notice are preserved in all\n+#       copies. \n+\n+TMPF=/tmp/fixcpp.$$\n+NEWDIR=\n+BAKDIR=\n+PATCHF=\n+CHECK=\n+\n+set -- `getopt \"cp:b:n:\" $*`\n+if [ $? != 0 ]; then\n+\techo \"$0 [-c][-p patch_file][-b bakup_dir][-n new_dir] file [file ...]\" >&2\n+\texit 1\n+fi\n+for i in $*\n+do\n+\tcase $i in\n+\t-c)\tCHECK=yes; shift;;\n+\t-p)\tPATCHF=$2; shift 2;;\n+\t-b)\tBAKDIR=$2; shift 2;;\n+\t-n)\tNEWDIR=$2; shift 2;;\n+\t--)\tshift; break;;\n+\tesac\n+done\n+NEWDIR=${NEWDIR:-.}\n+if [ $BAKDIR ]; then\n+\tif [ ! -d $BAKDIR ]; then\n+\t\techo \"$0: no such directory -- $BAKDIR\" >&2\n+\t\texit 1\n+\tfi\n+fi\n+\n+\n+\n+for i in $*\n+do\n+\tif [ $BAKDIR ]; then\n+\t\tmv $i $BAKDIR\n+\t\tinfile=$BAKDIR/$i\n+\telse\n+\t\tif [ \"$NEWDIR\" = \".\" ]; then\n+\t\t\tmv $i ${TMPF}\n+\t\t\tinfile=${TMPF}\n+\t\telse\n+\t\t\tinfile=$i\n+\t\tfi\n+\tfi\t\n+\tsed -e 's;^#\\([ \t]*e[nl][^ \t]*[ \t][ \t]*\\)\\([^/ \t][^\\*].*\\);#\\1/* \\2 */;' -e 's;^#\\([ \t]*e[nl][^ \t]*[ \t][ \t]*\\)\\([^/ \t]\\)$;#\\1/* \\2 */;' $infile >${NEWDIR}/$i\n+\tif [ \"${CHECK}\" = \"yes\" -o ${PATCHF} ]; then\n+\t\tif cmp -s $infile ${NEWDIR}/$i ; then\n+\t\t\tif [ \"${CHECK}\" = \"yes\" ]; then\n+\t\t\t\tif [ $BAKDIR ]; then\n+\t\t\t\t\tmv $infile ${NEWDIR}/$i\n+\t\t\t\telse\n+\t\t\t\t\trm ${NEWDIR}/$i\n+\t\t\t\tfi\n+\t\t\tfi\n+\t\telse\n+\t\t\tif [ $PATCHF ]; then\n+\t\t\t\tdiff -c $infile ${NEWDIR}/$i >> ${PATCHF}\n+\t\t\tfi\n+\t\tfi\n+\tfi\n+\n+done\n+\n+rm -f ${TMPF}"}]}