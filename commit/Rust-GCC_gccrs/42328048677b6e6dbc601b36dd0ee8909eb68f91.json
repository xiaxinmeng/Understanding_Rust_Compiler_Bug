{"sha": "42328048677b6e6dbc601b36dd0ee8909eb68f91", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDIzMjgwNDg2NzdiNmU2ZGJjNjAxYjM2ZGQwZWU4OTA5ZWI2OGY5MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2002-10-21T16:47:14Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2002-10-21T16:47:14Z"}, "message": "decl.c (reshape_init): Tweak handling of character arrays.\n\n\t* decl.c (reshape_init): Tweak handling of character arrays.\n\n\t* g++.dg/init/array6.C: Add additional tests.\n\nFrom-SVN: r58363", "tree": {"sha": "4ad6bc1318dc0a2548adea2ddf4867ad5df2031d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ad6bc1318dc0a2548adea2ddf4867ad5df2031d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/42328048677b6e6dbc601b36dd0ee8909eb68f91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42328048677b6e6dbc601b36dd0ee8909eb68f91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42328048677b6e6dbc601b36dd0ee8909eb68f91", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42328048677b6e6dbc601b36dd0ee8909eb68f91/comments", "author": null, "committer": null, "parents": [{"sha": "ecef5e875340b1de7ab7aa208c50eb8f13079286", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecef5e875340b1de7ab7aa208c50eb8f13079286", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecef5e875340b1de7ab7aa208c50eb8f13079286"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "74e5ef3b8a8d2c65a59a3e42bc1db17aaab4bd7f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=42328048677b6e6dbc601b36dd0ee8909eb68f91", "patch": "@@ -1,5 +1,7 @@\n 2002-10-21  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* decl.c (reshape_init): Tweak handling of character arrays.\n+\n \tPR c++/8218\n \t* cp-tree.h (lang_type_class): Add contains_empty_class_p.\n \t(CLASSTYPE_CONTAINS_EMPTY_CLASS_P): New macro."}, {"sha": "b52622a03a8234b9c99d0fb4b9e6393a8f8e42e2", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=42328048677b6e6dbc601b36dd0ee8909eb68f91", "patch": "@@ -7838,7 +7838,7 @@ reshape_init (tree type, tree *initp)\n \n   if (TREE_CODE (old_init_value) == STRING_CST\n       && TREE_CODE (type) == ARRAY_TYPE\n-      && char_type_p (TREE_TYPE (type)))\n+      && char_type_p (TYPE_MAIN_VARIANT (TREE_TYPE (type))))\n     {\n       /* [dcl.init.string]\n "}, {"sha": "f2d02a3433c5e510932d5f1057e201e7c57cfe7d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=42328048677b6e6dbc601b36dd0ee8909eb68f91", "patch": "@@ -1,3 +1,7 @@\n+2002-10-21  Mark Mitchell  <mark@codesourcery.com>\n+\n+ \t* g++.dg/init/array6.C: Add additional tests.\n+\n 2002-10-21  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* gcc.dg/weak/typeof-2.c: Handle s390x targets as well."}, {"sha": "6181d02bfd23dfc56af21c8cbccb10eaa6525395", "filename": "gcc/testsuite/g++.dg/init/array6.C", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Farray6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/42328048677b6e6dbc601b36dd0ee8909eb68f91/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Farray6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Farray6.C?ref=42328048677b6e6dbc601b36dd0ee8909eb68f91", "patch": "@@ -1,3 +1,7 @@\n // { dg-do compile }\n \n char arr [][4] = { \"one\", \"two\" };\n+const char arr2[][4] = { \"one\", \"two\" };\n+signed char arr3[][4] = { \"one\", \"two\" };\n+const unsigned char arr4[][4] = { \"one\", \"two\" };\n+volatile wchar_t arr5[][4] = { L\"one\", L\"two\" };"}]}