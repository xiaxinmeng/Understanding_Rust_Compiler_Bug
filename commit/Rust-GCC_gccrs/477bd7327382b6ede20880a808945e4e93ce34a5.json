{"sha": "477bd7327382b6ede20880a808945e4e93ce34a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc3YmQ3MzI3MzgyYjZlZGUyMDg4MGE4MDg5NDVlNGU5M2NlMzRhNQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-04T13:38:32Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-04T13:38:32Z"}, "message": "[multiple changes]\n\n2010-10-04  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_res.adb, sinput-l.adb: Minor reformatting.\n\n2010-10-04  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* exp_ch5.adb (Expand_N_Assignment_Statement): Do not generate a tag\n\tcheck when the target object is an interface since the expression of\n\tthe right hand side must only cover the interface.\n\nFrom-SVN: r164935", "tree": {"sha": "23c9ed87b7402730b99a9046180d3c16a302e450", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23c9ed87b7402730b99a9046180d3c16a302e450"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/477bd7327382b6ede20880a808945e4e93ce34a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/477bd7327382b6ede20880a808945e4e93ce34a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/477bd7327382b6ede20880a808945e4e93ce34a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/477bd7327382b6ede20880a808945e4e93ce34a5/comments", "author": null, "committer": null, "parents": [{"sha": "ea4ce0f7775af81231269f9c39206db30b7cb775", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea4ce0f7775af81231269f9c39206db30b7cb775", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea4ce0f7775af81231269f9c39206db30b7cb775"}], "stats": {"total": 33, "additions": 25, "deletions": 8}, "files": [{"sha": "226f740b8999e6bc6fdf575690c93f57200b6142", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=477bd7327382b6ede20880a808945e4e93ce34a5", "patch": "@@ -1,3 +1,13 @@\n+2010-10-04  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_res.adb, sinput-l.adb: Minor reformatting.\n+\n+2010-10-04  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* exp_ch5.adb (Expand_N_Assignment_Statement): Do not generate a tag\n+\tcheck when the target object is an interface since the expression of\n+\tthe right hand side must only cover the interface.\n+\n 2010-10-04  Vincent Celier  <celier@adacore.com>\n \n \t* frontend.adb: Set Lib.Parsing_Main_Extended_Source to True before"}, {"sha": "6c7c8ce65fc2d5c9f3e5f938cc9bdf4470eba10a", "filename": "gcc/ada/exp_ch5.adb", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fexp_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fexp_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch5.adb?ref=477bd7327382b6ede20880a808945e4e93ce34a5", "patch": "@@ -1956,6 +1956,12 @@ package body Exp_Ch5 is\n                   if Is_Class_Wide_Type (Typ)\n                     and then Is_Tagged_Type (Typ)\n                     and then Is_Tagged_Type (Underlying_Type (Etype (Rhs)))\n+\n+                    --   Do not generate a tag check when the target object is\n+                    --   an interface since the expression of the right hand\n+                    --   side must only cover the interface.\n+\n+                    and then not Is_Interface (Typ)\n                   then\n                      Append_To (L,\n                        Make_Raise_Constraint_Error (Loc,"}, {"sha": "c019c302250567c9441b49878ab92ffd4debcd7d", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=477bd7327382b6ede20880a808945e4e93ce34a5", "patch": "@@ -8826,9 +8826,9 @@ package body Sem_Res is\n                  (Etype (Entity (Orig_N)) = Orig_T\n                    or else\n                      (Ekind (Entity (Orig_N)) = E_Loop_Parameter\n-                      and then Covers (Orig_T, Etype (Entity (Orig_N))))))\n+                       and then Covers (Orig_T, Etype (Entity (Orig_N))))))\n \n-         --  If not an entity, then type of expression must match\n+           --  If not an entity, then type of expression must match\n \n            or else Etype (Orig_N) = Orig_T\n          then"}, {"sha": "52f3a713bb156bee18e282fbbd22ae0d4d14e494", "filename": "gcc/ada/sinput-l.adb", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fsinput-l.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/477bd7327382b6ede20880a808945e4e93ce34a5/gcc%2Fada%2Fsinput-l.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinput-l.adb?ref=477bd7327382b6ede20880a808945e4e93ce34a5", "patch": "@@ -556,13 +556,14 @@ package body Sinput.L is\n                   --  the source has been modified by the preprocessing. Only\n                   --  do that for the main unit (spec, body and subunits).\n \n-                  if Generate_Processed_File and then\n-                     Modified and then\n+                  if Generate_Processed_File\n+                    and then Modified\n+                    and then\n                      ((Compiler_State = Parsing\n-                       and then Parsing_Main_Extended_Source)\n-                      or else\n-                       (Compiler_State = Analyzing\n-                        and then Analysing_Subunit_Of_Main))\n+                        and then Parsing_Main_Extended_Source)\n+                       or else\n+                        (Compiler_State = Analyzing\n+                          and then Analysing_Subunit_Of_Main))\n                   then\n                      declare\n                         FD     : File_Descriptor;"}]}