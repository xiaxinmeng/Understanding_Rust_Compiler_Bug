{"sha": "efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZkNGMwYmEyMDc0YTU1MjNhZmY0NGU4ZDAzZWQ2ZTUxZTE3ZTk3YQ==", "commit": {"author": {"name": "Manfred Hollstein", "email": "manfred@s-direktnet.de", "date": "1998-01-24T00:58:07Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-24T00:58:07Z"}, "message": "configure (package_makefile_frag): Move inserting the ${package_makefile_frag} to where it should be according to...\n\n        * configure (package_makefile_frag): Move inserting the\n        ${package_makefile_frag} to where it should be according\n        to the comment.\n\nFrom-SVN: r17467", "tree": {"sha": "d3347e655d7c66ed6a39f3928e4f07bbfab2870c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3347e655d7c66ed6a39f3928e4f07bbfab2870c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a/comments", "author": null, "committer": null, "parents": [{"sha": "3a0120cfe23d2916a5b1cc875c9c944243fbb888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a0120cfe23d2916a5b1cc875c9c944243fbb888", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a0120cfe23d2916a5b1cc875c9c944243fbb888"}], "stats": {"total": 55, "additions": 30, "deletions": 25}, "files": [{"sha": "092a764d8dca919fcede1f88516cee242b645f48", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "patch": "@@ -1,3 +1,9 @@\n+Sat Jan 24 01:59:45 1998  Manfred Hollstein  <manfred@s-direktnet.de>\n+\n+\t* configure (package_makefile_frag): Move inserting the\n+\t${package_makefile_frag} to where it should be according\n+\tto the comment.\n+\n Fri Jan 23 00:29:28 1998  Philip Blundell  <pb@nexus.co.uk>\n \n \t* config.guess: Add support for Linux/ARM."}, {"sha": "06af22bb67b1131950a3d36b508e1d452392d637", "filename": "configure", "status": "modified", "additions": 24, "deletions": 25, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efd4c0ba2074a5523aff44e8d03ed6e51e17e97a/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=efd4c0ba2074a5523aff44e8d03ed6e51e17e97a", "patch": "@@ -1045,36 +1045,17 @@ EOF\n \n         if [ -f ${srcdir}/${subdir}/${Makefile_in} ] ; then\n \n-            # Conditionalize the makefile for this package from \"Makefile.in\" (or whatever it's called) into Makefile.tem.\n-            rm -f ${subdir}/${Makefile}.tem\n-            case \"${package_makefile_frag}\" in\n-              \"\") cp ${srcdir}/${subdir}/${Makefile_in} ${subdir}/Makefile.tem ;;\n-              *)\n-                      if [ ! -f ${package_makefile_frag} ] ; then\n-                              package_makefile_frag=${srcdir}/${package_makefile_frag}\n-                      fi\n-                      if [ -f ${package_makefile_frag} ] ; then\n-                              sed -e \"/^####/  r ${package_makefile_frag}\" ${srcdir}/${subdir}/${Makefile_in} > ${Makefile}.tem\n-                      else\n-                              echo '***' Expected package makefile fragment \\\"${package_makefile_frag}\\\" 1>&2\n-                              echo '***' is missing in ${PWD=`pwd`}. 1>&2\n-                              cp ${srcdir}/${subdir}/${Makefile_in} ${subdir}/Makefile.tem\n-                      fi\n-            esac\n-            # working copy now in ${Makefile}.tem\n-\n             # Conditionalize for this site.\n             rm -f ${Makefile}\n-              case \"${site}\" in\n-              \"\") mv ${subdir}/Makefile.tem ${Makefile} ;;\n+            case \"${site}\" in\n+              \"\") cp ${srcdir}/${subdir}/${Makefile_in} ${Makefile} ;;\n               *)\n                       site_makefile_frag=${srcdir}/config/ms-${site}\n \n                       if [ -f ${site_makefile_frag} ] ; then\n-                              sed -e \"/^####/  r ${site_makefile_frag}\" ${subdir}/Makefile.tem \\\n-                                      > ${Makefile}\n+                              sed -e \"/^####/  r ${site_makefile_frag}\" ${srcdir}/${subdir}/${Makefile_in} > ${Makefile}\n                       else\n-                              mv ${subdir}/Makefile.tem ${Makefile}\n+                              cp ${srcdir}/${subdir}/${Makefile_in} ${Makefile}\n                               site_makefile_frag=\n                       fi\n                       ;;\n@@ -1115,9 +1096,27 @@ EOF\n                       fi\n                       ;;\n             esac\n-            # real copy now in ${Makefile}\n+            # working copy now in ${Makefile}\n+\n+            # Conditionalize the makefile for this package from \"Makefile.in\" (or whatever it's called) into Makefile.tem.\n+            rm -f ${subdir}/${Makefile}.tem\n+            case \"${package_makefile_frag}\" in\n+              \"\") mv ${Makefile} ${subdir}/Makefile.tem ;;\n+              *)\n+                      if [ ! -f ${package_makefile_frag} ] ; then\n+                              package_makefile_frag=${srcdir}/${package_makefile_frag}\n+                      fi\n+                      if [ -f ${package_makefile_frag} ] ; then\n+                              sed -e \"/^####/  r ${package_makefile_frag}\" ${Makefile} > ${subdir}/${Makefile}.tem\n+                      else\n+                              echo '***' Expected package makefile fragment \\\"${package_makefile_frag}\\\" 1>&2\n+                              echo '***' is missing in ${PWD=`pwd`}. 1>&2\n+                              mv ${Makefile} ${subdir}/Makefile.tem\n+                      fi\n+            esac\n+            # real copy now in ${subdir}/${Makefile}.tem\n \n-            mv ${Makefile} ${subdir}/Makefile.tem\n+            mv ${subdir}/${Makefile}.tem ${subdir}/Makefile.tem 2>/dev/null\n \n             # real copy now in ${subdir}/Makefile.tem\n "}]}