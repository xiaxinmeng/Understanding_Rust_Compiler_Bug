{"sha": "58fae3f7aee5e36101ccc5818872462a72ba01c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThmYWUzZjdhZWU1ZTM2MTAxY2NjNTgxODg3MjQ2MmE3MmJhMDFjOQ==", "commit": {"author": {"name": "Craig Rodrigues", "email": "rodrigc@gcc.gnu.org", "date": "2002-02-01T21:07:31Z"}, "committer": {"name": "Craig Rodrigues", "email": "rodrigc@gcc.gnu.org", "date": "2002-02-01T21:07:31Z"}, "message": "re PR java/5080 (gcc/java/jcf-parse.c:908: `LC_CTYPE' undeclared (first use in this function))\n\n2002-02-01  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n\n        PR java/5080\n        * jcf-parse.c : Check for HAVE_LOCALE_H before using\n        setlocale() with LC_CTYPE as a parameter.\n        * jv-scan.c: Same.\n\nFrom-SVN: r49410", "tree": {"sha": "9237fa455523e9004465ee3b4cf2af0fadc1ea0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9237fa455523e9004465ee3b4cf2af0fadc1ea0b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58fae3f7aee5e36101ccc5818872462a72ba01c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58fae3f7aee5e36101ccc5818872462a72ba01c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58fae3f7aee5e36101ccc5818872462a72ba01c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58fae3f7aee5e36101ccc5818872462a72ba01c9/comments", "author": null, "committer": null, "parents": [{"sha": "3a441e3884882e1a6565773f56b08b8caf97009c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a441e3884882e1a6565773f56b08b8caf97009c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a441e3884882e1a6565773f56b08b8caf97009c"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "f80ca1ed1447c2fbfde65737c84743593b1e8b8b", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=58fae3f7aee5e36101ccc5818872462a72ba01c9", "patch": "@@ -1,3 +1,10 @@\n+2002-02-01  Craig Rodrigues  <rodrigc@gcc.gnu.org>\n+\n+\tPR java/5080\n+\t* jcf-parse.c : Check for HAVE_LOCALE_H before using\n+\tsetlocale() with LC_CTYPE as a parameter.\n+\t* jv-scan.c: Same.\n+\n 2002-01-31  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gjavah.c (version), jcf-dump.c (version), jv-scan.c (version):"}, {"sha": "3e3bd23650771f3a7f762b755bda80987bf882b7", "filename": "gcc/java/jcf-parse.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2Fjcf-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2Fjcf-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-parse.c?ref=58fae3f7aee5e36101ccc5818872462a72ba01c9", "patch": "@@ -911,13 +911,11 @@ parse_source_file_1 (file, finput)\n   /* There's no point in trying to find the current encoding unless we\n      are going to do something intelligent with it -- hence the test\n      for iconv.  */\n-#ifdef HAVE_ICONV\n-#ifdef HAVE_NL_LANGINFO\n+#if defined (HAVE_LOCALE_H) && defined (HAVE_ICONV) && defined (HAVE_NL_LANGINFO)\n   setlocale (LC_CTYPE, \"\");\n   if (current_encoding == NULL)\n     current_encoding = nl_langinfo (CODESET);\n-#endif /* HAVE_NL_LANGINFO */\n-#endif /* HAVE_ICONV */\n+#endif \n   if (current_encoding == NULL || *current_encoding == '\\0')\n     current_encoding = DEFAULT_ENCODING;\n "}, {"sha": "2f7c3b9a6dbecf78b7955de81b2000536cd7f5e6", "filename": "gcc/java/jv-scan.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2Fjv-scan.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58fae3f7aee5e36101ccc5818872462a72ba01c9/gcc%2Fjava%2Fjv-scan.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjv-scan.c?ref=58fae3f7aee5e36101ccc5818872462a72ba01c9", "patch": "@@ -199,13 +199,11 @@ DEFUN (main, (argc, argv),\n \t    /* There's no point in trying to find the current encoding\n \t       unless we are going to do something intelligent with it\n \t       -- hence the test for iconv.  */\n-#ifdef HAVE_ICONV\n-#ifdef HAVE_NL_LANGINFO\n+#if defined (HAVE_LOCALE_H) && defined (HAVE_ICONV) && defined (HAVE_NL_LANGINFO)\n \t    setlocale (LC_CTYPE, \"\");\n \t    if (encoding == NULL)\n \t      encoding = nl_langinfo (CODESET);\n-#endif /* HAVE_NL_LANGINFO */\n-#endif /* HAVE_ICONV */\n+#endif  \n \t    if (encoding == NULL || *encoding == '\\0')\n \t      encoding = DEFAULT_ENCODING;\n "}]}