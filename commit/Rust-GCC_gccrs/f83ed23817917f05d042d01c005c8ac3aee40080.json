{"sha": "f83ed23817917f05d042d01c005c8ac3aee40080", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgzZWQyMzgxNzkxN2YwNWQwNDJkMDFjMDA1YzhhYzNhZWU0MDA4MA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-05-28T20:01:28Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-05-28T20:01:28Z"}, "message": "* loop.c (instrument_loop_bct): Set JUMP_LABEL on the new insn.\n\nFrom-SVN: r34237", "tree": {"sha": "425d279b395cbe9575b5f833c8c0b6a0e2d754a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/425d279b395cbe9575b5f833c8c0b6a0e2d754a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f83ed23817917f05d042d01c005c8ac3aee40080", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f83ed23817917f05d042d01c005c8ac3aee40080", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f83ed23817917f05d042d01c005c8ac3aee40080", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f83ed23817917f05d042d01c005c8ac3aee40080/comments", "author": null, "committer": null, "parents": [{"sha": "97b0694adc345956610d17437f5ff5f8d17b46fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97b0694adc345956610d17437f5ff5f8d17b46fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97b0694adc345956610d17437f5ff5f8d17b46fb"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "c4e17973b08037ef1f5b669af7d3d4b4a39d971b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f83ed23817917f05d042d01c005c8ac3aee40080/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f83ed23817917f05d042d01c005c8ac3aee40080/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f83ed23817917f05d042d01c005c8ac3aee40080", "patch": "@@ -1,3 +1,7 @@\n+2000-05-28  Richard Henderson  <rth@cygnus.com>\n+\n+\t* loop.c (instrument_loop_bct): Set JUMP_LABEL on the new insn.\n+\n 2000-05-28  Richard Henderson  <rth@cygnus.com>\n \n \t* function.c (diddle_return_value): A pcc-style struct return"}, {"sha": "0e9d56c3822f1dd8aec1cb29bd8e778560f63c57", "filename": "gcc/loop.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f83ed23817917f05d042d01c005c8ac3aee40080/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f83ed23817917f05d042d01c005c8ac3aee40080/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=f83ed23817917f05d042d01c005c8ac3aee40080", "patch": "@@ -9503,12 +9503,15 @@ instrument_loop_bct (loop_start, loop_end, loop_num_iterations)\n       /* Insert new comparison on the count register instead of the\n \t old one, generating the needed BCT pattern (that will be\n \t later recognized by assembly generation phase).  */\n-      emit_jump_insn_before (gen_decrement_and_branch_on_count (counter_reg,\n-\t\t\t\t\t\t\t\tstart_label),\n-\t\t\t     loop_end);\n+      sequence = emit_jump_insn_before (\n+\tgen_decrement_and_branch_on_count (counter_reg, start_label),\n+\tloop_end);\n+\n+      if (GET_CODE (sequence) != JUMP_INSN)\n+\tabort ();\n+      JUMP_LABEL (sequence) = start_label;\n       LABEL_NUSES (start_label)++;\n     }\n-\n }\n #endif /* HAVE_decrement_and_branch_on_count */\n "}]}