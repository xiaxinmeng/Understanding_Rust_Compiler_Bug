{"sha": "9598134a055e9426fa283e51dac178d11af2c668", "node_id": "C_kwDOANBUbNoAKDk1OTgxMzRhMDU1ZTk0MjZmYTI4M2U1MWRhYzE3OGQxMWFmMmM2Njg", "commit": {"author": {"name": "Lucas A. M. Magalhaes", "email": "lamm@linux.ibm.com", "date": "2021-11-10T14:21:26Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2021-11-10T14:32:09Z"}, "message": "rs6000: Remove LINK_OS_EXTRA_SPEC{32,64} from --with-advance-toolchain\n\nHistorically this was added to fill gaps from ld.so.cache on early AT\nreleases. This now are just causing errors and rework. Since AT5.0 the\nAT's ld.so is using a correctly configured ld.so.cache and sets the\nDT_INTERP to AT's ld.so. This two factors are sufficient for an AT\nbuilded program to get the correct libraries.\n\nGCC congured with --with-advance-toolchain has issues building GlibC\nreleases because it adds DT_RUNPATH to ld.so and that's unsupported.\n\n2021-11-10  Lucas A. M. Magalh\u00e3es  <lamm@linux.ibm.com>\n\ngcc/\n\t* config.gcc (powerpc*-*-*): Remove -rpath from\n\t--with-advance-toolchain.", "tree": {"sha": "fb2072846e1fcdd003d4f17f24db9b5e33d2e4a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb2072846e1fcdd003d4f17f24db9b5e33d2e4a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9598134a055e9426fa283e51dac178d11af2c668", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9598134a055e9426fa283e51dac178d11af2c668", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9598134a055e9426fa283e51dac178d11af2c668", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9598134a055e9426fa283e51dac178d11af2c668/comments", "author": null, "committer": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a1ad0d84d7fcbcaa7a697290387b911eb7e1bd46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1ad0d84d7fcbcaa7a697290387b911eb7e1bd46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1ad0d84d7fcbcaa7a697290387b911eb7e1bd46"}], "stats": {"total": 10, "additions": 0, "deletions": 10}, "files": [{"sha": "edd12655c4a1e6feb09aabbee77eacd9f66b4171", "filename": "gcc/config.gcc", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9598134a055e9426fa283e51dac178d11af2c668/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9598134a055e9426fa283e51dac178d11af2c668/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=9598134a055e9426fa283e51dac178d11af2c668", "patch": "@@ -5088,16 +5088,6 @@ case \"${target}\" in\n \t\t\t(at=\"/opt/$with_advance_toolchain\"\n \t\t\t echo \"/* Use Advance Toolchain $at */\"\n \t\t\t echo\n-\t\t\t echo \"#undef  LINK_OS_EXTRA_SPEC32\"\n-\t\t\t echo \"#define LINK_OS_EXTRA_SPEC32\" \\\n-\t\t\t      \"\\\"%(link_os_new_dtags)\" \\\n-\t\t\t      \"-rpath $prefix/lib -rpath $at/lib\\\"\"\n-\t\t\t echo\n-\t\t\t echo \"#undef  LINK_OS_EXTRA_SPEC64\"\n-\t\t\t echo \"#define LINK_OS_EXTRA_SPEC64\" \\\n-\t\t\t      \"\\\"%(link_os_new_dtags)\" \\\n-\t\t\t      \"-rpath $prefix/lib64 -rpath $at/lib64\\\"\"\n-\t\t\t echo\n \t\t\t echo \"#undef  LINK_OS_NEW_DTAGS_SPEC\"\n \t\t\t echo \"#define LINK_OS_NEW_DTAGS_SPEC\" \\\n \t\t\t      \"\\\"--enable-new-dtags\\\"\""}]}