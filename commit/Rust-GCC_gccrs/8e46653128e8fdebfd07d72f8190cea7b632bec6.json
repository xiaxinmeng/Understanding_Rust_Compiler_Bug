{"sha": "8e46653128e8fdebfd07d72f8190cea7b632bec6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU0NjY1MzEyOGU4ZmRlYmZkMDdkNzJmODE5MGNlYTdiNjMyYmVjNg==", "commit": {"author": {"name": "Gavin Romig-Koch", "email": "gavin@cygnus.com", "date": "2000-01-25T22:18:59Z"}, "committer": {"name": "Gavin Romig-Koch", "email": "gavin@gcc.gnu.org", "date": "2000-01-25T22:18:59Z"}, "message": "* config/mips/mips.h (LEGITIMATE_CONSTANT_P): Fix for mips16.\n\nFrom-SVN: r31617", "tree": {"sha": "a418c529e63ca881d420365932b03568cef89c49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a418c529e63ca881d420365932b03568cef89c49"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e46653128e8fdebfd07d72f8190cea7b632bec6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e46653128e8fdebfd07d72f8190cea7b632bec6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e46653128e8fdebfd07d72f8190cea7b632bec6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e46653128e8fdebfd07d72f8190cea7b632bec6/comments", "author": null, "committer": null, "parents": [{"sha": "490cab72484f7b07ba1e3f5305b1a461114ec0d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/490cab72484f7b07ba1e3f5305b1a461114ec0d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/490cab72484f7b07ba1e3f5305b1a461114ec0d3"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "f0c10d9de3757b04a6710de3aa2170719f558c74", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e46653128e8fdebfd07d72f8190cea7b632bec6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e46653128e8fdebfd07d72f8190cea7b632bec6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8e46653128e8fdebfd07d72f8190cea7b632bec6", "patch": "@@ -1,3 +1,7 @@\n+2000-01-25  Gavin Romig-Koch  <gavin@cygnus.com>\n+\n+\t* config/mips/mips.h (LEGITIMATE_CONSTANT_P): Fix for mips16.\n+\n 2000-01-25  Gavin Romig-Koch  <gavin@cygnus.com>\n \n \t* Makefile.in (c-gperf.h) : Change the \"See\" pointer to"}, {"sha": "bc975ef20b452cb263e8e64e136e8389c7060112", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e46653128e8fdebfd07d72f8190cea7b632bec6/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e46653128e8fdebfd07d72f8190cea7b632bec6/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=8e46653128e8fdebfd07d72f8190cea7b632bec6", "patch": "@@ -2942,14 +2942,19 @@ typedef struct mips_args {\n    to be generated at present.  Also, the MIPS assembler does not\n    grok li.d Infinity.  */\n \n-/* ??? SGI Irix 6 assembler fails for CONST address, so reject them.  */\n+/* ??? SGI Irix 6 assembler fails for CONST address, so reject them.  \n+   Note that the Irix 6 assembler problem may already be fixed.\n+   Note also that the GET_CODE (X) == CONST test catches the mips16\n+   gp pseudo reg (see mips16_gp_pseudo_reg) deciding it is not\n+   a LEGITIMATE_CONSTANT.  If we ever want mips16 and ABI_N32 or\n+   ABI_64 to work together, we'll need to fix this.  */\n #define LEGITIMATE_CONSTANT_P(X)\t\t\t\t\t\\\n   ((GET_CODE (X) != CONST_DOUBLE\t\t\t\t\t\\\n     || mips_const_double_ok (X, GET_MODE (X)))\t\t\t\t\\\n-   && ! (GET_CODE (X) == CONST\t\t\t\t\t\t\\\n-\t && mips_abi != ABI_32 \t\t\t\t\t\t\\\n-\t && mips_abi != ABI_O64 \t\t\t\t\t\\\n-         && mips_abi != ABI_EABI)\t\t\t\t\t\\\n+   && ! (GET_CODE (X) == CONST \t\t\t\t\t\t\\\n+\t && ! TARGET_GAS\t\t\t\t\t\t\\\n+\t && (mips_abi == ABI_N32 \t\t\t\t\t\\\n+\t     || mips_abi == ABI_64))\t\t\t\t\t\\\n    && (! TARGET_MIPS16 || mips16_constant (X, GET_MODE (X), 0, 0)))\n \n /* A C compound statement that attempts to replace X with a valid"}]}