{"sha": "8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGY5OGRlZjZiN2Q1YjliZjNiMjNiOTFmZjE4MzNiNzZhZGZmNmNjYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-31T01:58:48Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-31T01:58:48Z"}, "message": "compiler: Check for invalid UTF8 in Go comments.\n\n    \n    Fixes golang/go#11527.\n    \n    Reviewed-on: https://go-review.googlesource.com/13905\n\nFrom-SVN: r227332", "tree": {"sha": "84e020cc8b23de586cd40a7e1d2d0c79cff07c38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84e020cc8b23de586cd40a7e1d2d0c79cff07c38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca/comments", "author": null, "committer": null, "parents": [{"sha": "babb13f5cc83ae685fdea4824a51f6de5345b2aa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/babb13f5cc83ae685fdea4824a51f6de5345b2aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/babb13f5cc83ae685fdea4824a51f6de5345b2aa"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "87ef51844f766ebd69523aadf486e519bb60581b", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "patch": "@@ -1,4 +1,4 @@\n-3aa2ea272e475010da8b480fc3095d0cd7254d12\n+65672c16004c6d6d0247b6691881d282ffca89e3\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "67f780342660755a8bb1016e2af5016620f810dd", "filename": "gcc/go/gofrontend/lex.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca/gcc%2Fgo%2Fgofrontend%2Flex.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8f98def6b7d5b9bf3b23b91ff1833b76adff6cca/gcc%2Fgo%2Fgofrontend%2Flex.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Flex.cc?ref=8f98def6b7d5b9bf3b23b91ff1833b76adff6cca", "patch": "@@ -1689,6 +1689,16 @@ Lex::skip_cpp_comment()\n       && memcmp(p, \"line \", 5) == 0)\n     {\n       p += 5;\n+\n+      // Before finding FILE:LINENO, make sure line has valid characters.\n+      const char* pcheck = p;\n+      while (pcheck < pend)\n+        {\n+          unsigned int c;\n+          bool issued_error;\n+          pcheck = this->advance_one_utf8_char(pcheck, &c, &issued_error);\n+        }\n+\n       while (p < pend && *p == ' ')\n \t++p;\n       const char* pcolon = static_cast<const char*>(memchr(p, ':', pend - p));"}]}