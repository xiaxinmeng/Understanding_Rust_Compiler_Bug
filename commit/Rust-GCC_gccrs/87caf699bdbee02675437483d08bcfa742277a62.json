{"sha": "87caf699bdbee02675437483d08bcfa742277a62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdjYWY2OTliZGJlZTAyNjc1NDM3NDgzZDA4YmNmYTc0MjI3N2E2Mg==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2007-11-25T14:26:10Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2007-11-25T14:26:10Z"}, "message": "tree.h (struct tree_block): Move locus member next to flags.\n\n2007-11-25  Richard Guenther  <rguenther@suse.de>\n\n\t* tree.h (struct tree_block): Move locus member next to\n\tflags.\n\t* c-decl.c (SCOPE_LIST_APPEND): Use BLOCK_CHAIN.\n\t(SCOPE_LIST_CONCAT): Likewise.\n\t(pop_scope): Likewise.\n\t* function.c (instantiate_decls_1): Likewise.\n\t(setjmp_vars_warning): Likewise.\n\t* emit-rtl.c (set_used_decls): Likewise.\n\t* tree-inline.c (add_lexical_block): Likewise.\n\n\tcp/\n\tdecl.c (poplevel): Use BLOCK_CHAIN.\n\n\tada/\n\tutils.c (gnat_pushlevel): Use BLOCK_CHAIN.\n\t(gnat_poplevel): Likewise.\n\nFrom-SVN: r130407", "tree": {"sha": "4f90b0636e3c28f99068596b3f97669cdfe3b1b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f90b0636e3c28f99068596b3f97669cdfe3b1b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87caf699bdbee02675437483d08bcfa742277a62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87caf699bdbee02675437483d08bcfa742277a62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87caf699bdbee02675437483d08bcfa742277a62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87caf699bdbee02675437483d08bcfa742277a62/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f1c8c7eef7349f0aae539bd1b45875ac5bcbaede", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1c8c7eef7349f0aae539bd1b45875ac5bcbaede", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1c8c7eef7349f0aae539bd1b45875ac5bcbaede"}], "stats": {"total": 48, "additions": 35, "deletions": 13}, "files": [{"sha": "c74de4ffe09d7e0de292e202cbc0de29a43a1e3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -1,3 +1,15 @@\n+2007-11-25  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree.h (struct tree_block): Move locus member next to\n+\tflags.\n+\t* c-decl.c (SCOPE_LIST_APPEND): Use BLOCK_CHAIN.\n+\t(SCOPE_LIST_CONCAT): Likewise.\n+\t(pop_scope): Likewise.\n+\t* function.c (instantiate_decls_1): Likewise.\n+\t(setjmp_vars_warning): Likewise.\n+\t* emit-rtl.c (set_used_decls): Likewise.\n+\t* tree-inline.c (add_lexical_block): Likewise.\n+\n 2007-11-24  Hans-Peter Nilsson  <hp@axis.com>\n \n \t* rtlanal.c (label_is_jump_target_p): Return true for a matching"}, {"sha": "cfe27b11937ef9e6cd7aa825b9ef525ac787e37f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -1,3 +1,8 @@\n+2007-11-25  Richard Guenther  <rguenther@suse.de>\n+\n+\tutils.c (gnat_pushlevel): Use BLOCK_CHAIN.\n+\t(gnat_poplevel): Likewise.\n+\n 2007-11-25  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* decl.c (gnat_to_gnu_entity) <E_Record_Type>: If the type has"}, {"sha": "e0c0065a652e35efd03cd3cf3d6505db6d88ec58", "filename": "gcc/ada/utils.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fada%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fada%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Futils.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -298,8 +298,8 @@ gnat_pushlevel ()\n   if (free_block_chain)\n     {\n       newlevel->block = free_block_chain;\n-      free_block_chain = TREE_CHAIN (free_block_chain);\n-      TREE_CHAIN (newlevel->block) = NULL_TREE;\n+      free_block_chain = BLOCK_CHAIN (free_block_chain);\n+      BLOCK_CHAIN (newlevel->block) = NULL_TREE;\n     }\n   else\n     newlevel->block = make_node (BLOCK);\n@@ -365,12 +365,12 @@ gnat_poplevel ()\n       BLOCK_SUBBLOCKS (level->chain->block)\n \t= chainon (BLOCK_SUBBLOCKS (block),\n \t\t   BLOCK_SUBBLOCKS (level->chain->block));\n-      TREE_CHAIN (block) = free_block_chain;\n+      BLOCK_CHAIN (block) = free_block_chain;\n       free_block_chain = block;\n     }\n   else\n     {\n-      TREE_CHAIN (block) = BLOCK_SUBBLOCKS (level->chain->block);\n+      BLOCK_CHAIN (block) = BLOCK_SUBBLOCKS (level->chain->block);\n       BLOCK_SUBBLOCKS (level->chain->block) = block;\n       TREE_USED (block) = 1;\n       set_block_for_group (block);"}, {"sha": "e0eb450ef9b24eb5cc9303de4145b83e52f7c081", "filename": "gcc/c-decl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -375,7 +375,7 @@ static GTY((deletable)) struct c_binding *binding_freelist;\n   struct c_scope *s_ = (scope);\t\t\t\t\\\n   tree d_ = (decl);\t\t\t\t\t\\\n   if (s_->list##_last)\t\t\t\t\t\\\n-    TREE_CHAIN (s_->list##_last) = d_;\t\t\t\\\n+    BLOCK_CHAIN (s_->list##_last) = d_;\t\t\t\\\n   else\t\t\t\t\t\t\t\\\n     s_->list = d_;\t\t\t\t\t\\\n   s_->list##_last = d_;\t\t\t\t\t\\\n@@ -386,7 +386,7 @@ static GTY((deletable)) struct c_binding *binding_freelist;\n   struct c_scope *t_ = (tscope);\t\t\t\t\\\n   struct c_scope *f_ = (fscope);\t\t\t\t\\\n   if (t_->to##_last)\t\t\t\t\t\t\\\n-    TREE_CHAIN (t_->to##_last) = f_->from;\t\t\t\\\n+    BLOCK_CHAIN (t_->to##_last) = f_->from;\t\t\t\\\n   else\t\t\t\t\t\t\t\t\\\n     t_->to = f_->from;\t\t\t\t\t\t\\\n   t_->to##_last = f_->from##_last;\t\t\t\t\\\n@@ -693,7 +693,7 @@ pop_scope (void)\n       TREE_USED (block) = 1;\n \n       /* In each subblock, record that this is its superior.  */\n-      for (p = scope->blocks; p; p = TREE_CHAIN (p))\n+      for (p = scope->blocks; p; p = BLOCK_CHAIN (p))\n \tBLOCK_SUPERCONTEXT (p) = block;\n \n       BLOCK_VARS (block) = 0;"}, {"sha": "cd0ceb37383541f92bd26418b4e731558b8c1807", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -1,3 +1,7 @@\n+2007-11-25  Richard Guenther  <rguenther@suse.de>\n+\n+\tdecl.c (poplevel): Use BLOCK_CHAIN.\n+\n 2007-11-24  Ollie Wild  <aaw@google.com>\n \n \t* typeck.c (delta_from_ptrmemfunc): New function."}, {"sha": "7d1451c1fbe42319743a5b15ce58a3d33f070c0e", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -587,7 +587,7 @@ poplevel (int keep, int reverse, int functionbody)\n \n   /* In each subblock, record that this is its superior.  */\n   if (keep >= 0)\n-    for (link = subblocks; link; link = TREE_CHAIN (link))\n+    for (link = subblocks; link; link = BLOCK_CHAIN (link))\n       BLOCK_SUPERCONTEXT (link) = block;\n \n   /* We still support the old for-scope rules, whereby the variables"}, {"sha": "f9b13470fe5fc791818424058660c705b88891eb", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -2441,7 +2441,7 @@ set_used_decls (tree blk)\n       set_used_flags (DECL_RTL (t));\n \n   /* Now process sub-blocks.  */\n-  for (t = BLOCK_SUBBLOCKS (blk); t; t = TREE_CHAIN (t))\n+  for (t = BLOCK_SUBBLOCKS (blk); t; t = BLOCK_CHAIN (t))\n     set_used_decls (t);\n }\n "}, {"sha": "249d715004b3e0586eb44ac533925cddabd9e3a8", "filename": "gcc/function.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -1635,7 +1635,7 @@ instantiate_decls_1 (tree let)\n     }\n \n   /* Process all subblocks.  */\n-  for (t = BLOCK_SUBBLOCKS (let); t; t = TREE_CHAIN (t))\n+  for (t = BLOCK_SUBBLOCKS (let); t; t = BLOCK_CHAIN (t))\n     instantiate_decls_1 (t);\n }\n \n@@ -3542,7 +3542,7 @@ setjmp_vars_warning (bitmap setjmp_crosses, tree block)\n                  \" %<longjmp%> or %<vfork%>\", decl);\n     }\n \n-  for (sub = BLOCK_SUBBLOCKS (block); sub; sub = TREE_CHAIN (sub))\n+  for (sub = BLOCK_SUBBLOCKS (block); sub; sub = BLOCK_CHAIN (sub))\n     setjmp_vars_warning (setjmp_crosses, sub);\n }\n "}, {"sha": "cb161db8398a5fac41b221732e49771ec9f9d067", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -2474,7 +2474,7 @@ add_lexical_block (tree current_block, tree new_block)\n   /* Walk to the last sub-block.  */\n   for (blk_p = &BLOCK_SUBBLOCKS (current_block);\n        *blk_p;\n-       blk_p = &TREE_CHAIN (*blk_p))\n+       blk_p = &BLOCK_CHAIN (*blk_p))\n     ;\n   *blk_p = new_block;\n   BLOCK_SUPERCONTEXT (new_block) = current_block;"}, {"sha": "0ac57be9c8b542761aaaf506353af42c49399ed8", "filename": "gcc/tree.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ftree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87caf699bdbee02675437483d08bcfa742277a62/gcc%2Ftree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.h?ref=87caf699bdbee02675437483d08bcfa742277a62", "patch": "@@ -2060,13 +2060,14 @@ struct tree_block GTY(())\n   unsigned abstract_flag : 1;\n   unsigned block_num : 30;\n \n+  location_t locus;\n+\n   tree vars;\n   tree subblocks;\n   tree supercontext;\n   tree abstract_origin;\n   tree fragment_origin;\n   tree fragment_chain;\n-  location_t locus;\n };\n \f\n /* Define fields and accessors for nodes representing data types.  */"}]}