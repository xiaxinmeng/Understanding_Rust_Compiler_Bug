{"sha": "ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWNkNGQ4MGNiMmVlNmE3MmQ0NmM1OWVmZjQ3ODYwZDJhMGZhMmRhYQ==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2019-09-17T08:13:11Z"}, "committer": {"name": "Christophe Lyon", "email": "clyon@gcc.gnu.org", "date": "2019-09-17T08:13:11Z"}, "message": "[PR91749][arm] FDPIC: Handle -mflip-thumb\n\n2019-09-16  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tPR target/91749\n\t* config/arm/arm.c (arm_valid_target_attribute_rec): Make sure the\n\tmode attributed is supported by FDPIC.\n\nFrom-SVN: r275799", "tree": {"sha": "5fac2281ce67a8f61c1a8448e6d4384735ab5814", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fac2281ce67a8f61c1a8448e6d4384735ab5814"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa/comments", "author": null, "committer": null, "parents": [{"sha": "8054d17a735e4e1a35e9a24556eea100249345ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8054d17a735e4e1a35e9a24556eea100249345ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8054d17a735e4e1a35e9a24556eea100249345ed"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "144ed9bb861a49595d7eaa217c79bba18a2563fc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "patch": "@@ -1,3 +1,9 @@\n+2019-09-17  Christophe Lyon  <christophe.lyon@linaro.org>\n+\n+\tPR target/91749\n+\t* config/arm/arm.c (arm_valid_target_attribute_rec): Make sure the\n+\tmode attributed is supported by FDPIC.\n+\n 2019-09-17  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/91790"}, {"sha": "b59778cc77b4de16f31915d8c763be748946ffb4", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=ecd4d80cb2ee6a72d46c59eff47860d2a0fa2daa", "patch": "@@ -31179,7 +31179,11 @@ arm_valid_target_attribute_rec (tree args, struct gcc_options *opts)\n     {\n       argstr = NULL;\n       if (!strcmp (q, \"thumb\"))\n-\topts->x_target_flags |= MASK_THUMB;\n+\t{\n+\t  opts->x_target_flags |= MASK_THUMB;\n+\t  if (TARGET_FDPIC && !arm_arch_thumb2)\n+\t    sorry (\"FDPIC mode is not supported in Thumb-1 mode\");\n+\t}\n \n       else if (!strcmp (q, \"arm\"))\n \topts->x_target_flags &= ~MASK_THUMB;"}]}