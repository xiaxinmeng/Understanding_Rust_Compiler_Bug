{"sha": "6030b6afe7e455948a4b0c4c3fef14cd896a8878", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjAzMGI2YWZlN2U0NTU5NDhhNGIwYzRjM2ZlZjE0Y2Q4OTZhODg3OA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1997-09-04T15:54:24Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-04T15:54:24Z"}, "message": "profile.c (output_arc_profiler): Verify next_insert_after is an INSN before and after skipping a stack pop.\n\n        * profile.c (output_arc_profiler): Verify next_insert_after is an\n        INSN before and after skipping a stack pop.\n\nFrom-SVN: r15076", "tree": {"sha": "92df26ce98c35ee9183f6d00a543d937eb685540", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92df26ce98c35ee9183f6d00a543d937eb685540"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6030b6afe7e455948a4b0c4c3fef14cd896a8878", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6030b6afe7e455948a4b0c4c3fef14cd896a8878", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6030b6afe7e455948a4b0c4c3fef14cd896a8878", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6030b6afe7e455948a4b0c4c3fef14cd896a8878/comments", "author": null, "committer": null, "parents": [{"sha": "d30e0541de14f0627a14d5aecd98af81021b7767", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d30e0541de14f0627a14d5aecd98af81021b7767", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d30e0541de14f0627a14d5aecd98af81021b7767"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "81123aace074f09abf7c32fe2f8b63ff17e56fee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6030b6afe7e455948a4b0c4c3fef14cd896a8878/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6030b6afe7e455948a4b0c4c3fef14cd896a8878/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6030b6afe7e455948a4b0c4c3fef14cd896a8878", "patch": "@@ -1,3 +1,8 @@\n+Thu Sep  4 09:53:20 1997  Jim Wilson  (wilson@cygnus.com)\n+\n+\t* profile.c (output_arc_profiler): Verify next_insert_after is an\n+\tINSN before and after skipping a stack pop.\n+\n Thu Sep  4 07:39:19 1997  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* final.c (shorten_branches): Don't count the lengths of deleted"}, {"sha": "5360090ee847b3cc24c4a9f8e6ad0a55a37f080b", "filename": "gcc/profile.c", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6030b6afe7e455948a4b0c4c3fef14cd896a8878/gcc%2Fprofile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6030b6afe7e455948a4b0c4c3fef14cd896a8878/gcc%2Fprofile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprofile.c?ref=6030b6afe7e455948a4b0c4c3fef14cd896a8878", "patch": "@@ -1536,13 +1536,14 @@ output_arc_profiler (arcno, insert_after)\n       rtx return_reg;\n       rtx next_insert_after = next_nonnote_insn (insert_after);\n \n+      /* The first insn after the call may be a stack pop, skip it.  */\n+      if (GET_CODE (next_insert_after) == INSN\n+\t  && GET_CODE (PATTERN (next_insert_after)) == SET\n+\t  && SET_DEST (PATTERN (next_insert_after)) == stack_pointer_rtx)\n+\tnext_insert_after = next_nonnote_insn (next_insert_after);\n+\n       if (GET_CODE (next_insert_after) == INSN)\n \t{\n-\t  /* The first insn after the call may be a stack pop, skip it.  */\n-\t  if (GET_CODE (PATTERN (next_insert_after)) == SET\n-\t      && SET_DEST (PATTERN (next_insert_after)) == stack_pointer_rtx)\n-\t    next_insert_after = next_nonnote_insn (next_insert_after);\n-\n \t  if (GET_CODE (PATTERN (insert_after)) == SET)\n \t    return_reg = SET_DEST (PATTERN (insert_after));\n \t  else"}]}