{"sha": "7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2UxZTA3NjViZDgyYTIzOWMyOWI3MWQxMTJjMzZmZjJjMDVjZWFjNw==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2006-02-08T11:00:55Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2006-02-08T11:00:55Z"}, "message": "re PR c++/26070 (ICE declaring data member virtual and static)\n\n\tPR c++/26070\n\t* decl.c (grokdeclarator): Clear storage_class together with staticp.\n\n\t* g++.dg/other/virtual1.C: New test.\n\nFrom-SVN: r110747", "tree": {"sha": "b95ceb63827f8655b61989c0cc5efb3c5060ecb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b95ceb63827f8655b61989c0cc5efb3c5060ecb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/comments", "author": null, "committer": null, "parents": [{"sha": "053007ce714fab840e44df30a4175cedc51437d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/053007ce714fab840e44df30a4175cedc51437d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/053007ce714fab840e44df30a4175cedc51437d9"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "aa9aebf6062d0cdfc3a763fe97f443854ab7ae66", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "patch": "@@ -1,3 +1,8 @@\n+2006-02-08  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/26070\n+\t* decl.c (grokdeclarator): Clear storage_class together with staticp.\n+\n 2006-02-07  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n \n \t* cp-tree.h (tf_warning_or_error): Renamed from tf_warn_or_error."}, {"sha": "7fdb1743f4ce5f4174e07fc1997d27fb8c49143e", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "patch": "@@ -7128,6 +7128,7 @@ grokdeclarator (const cp_declarator *declarator,\n   if (virtualp && staticp == 2)\n     {\n       error (\"member %qD cannot be declared both virtual and static\", dname);\n+      storage_class = sc_none;\n       staticp = 0;\n     }\n   friendp = !! declspecs->specs[(int)ds_friend];"}, {"sha": "821dc85a5e31ae15a5b0271e0f7e7547da21f52f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "patch": "@@ -1,3 +1,8 @@\n+2006-02-08  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/26070\n+\t* g++.dg/other/virtual1.C: New test.\n+\n 2006-02-08  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* lib/gcc-dg.exp (cleanup-rtl-dump, cleanup-tree-dump,"}, {"sha": "5f44fa78ab2c958d786cc609b20885f326112767", "filename": "gcc/testsuite/g++.dg/other/virtual1.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvirtual1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7e1e0765bd82a239c29b71d112c36ff2c05ceac7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvirtual1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fvirtual1.C?ref=7e1e0765bd82a239c29b71d112c36ff2c05ceac7", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/26070\n+// { dg-do compile }\n+\n+struct A\n+{\n+  virtual static int i;  // { dg-error \"virtual\" }\n+};"}]}