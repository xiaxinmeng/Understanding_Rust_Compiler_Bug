{"sha": "820d395cc80cd6df592cf67bc87cfb5279354fa8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODIwZDM5NWNjODBjZDZkZjU5MmNmNjdiYzg3Y2ZiNTI3OTM1NGZhOA==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-12-29T05:17:42Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-12-29T05:17:42Z"}, "message": "re PR libfortran/68987 (double free or corruption in _gfortran_st_write_done when a write statement to an internal file uses an invalid format and the ERR= specifier appears.)\n\n2015-12-28  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran/68987\n\tio/format.c (format_error): Remove unneeded memory cleanup.\n\nFrom-SVN: r231989", "tree": {"sha": "5af7a40bedc6614a5a825068a35da28f4b5c76d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5af7a40bedc6614a5a825068a35da28f4b5c76d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/820d395cc80cd6df592cf67bc87cfb5279354fa8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/820d395cc80cd6df592cf67bc87cfb5279354fa8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/820d395cc80cd6df592cf67bc87cfb5279354fa8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/820d395cc80cd6df592cf67bc87cfb5279354fa8/comments", "author": null, "committer": null, "parents": [{"sha": "fcc75e0b147323f118394aac7e6badd3ff17cc61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcc75e0b147323f118394aac7e6badd3ff17cc61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcc75e0b147323f118394aac7e6badd3ff17cc61"}], "stats": {"total": 27, "additions": 6, "deletions": 21}, "files": [{"sha": "438537c998e8cf82b80e7f386e0470a6601f37e2", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/820d395cc80cd6df592cf67bc87cfb5279354fa8/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/820d395cc80cd6df592cf67bc87cfb5279354fa8/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=820d395cc80cd6df592cf67bc87cfb5279354fa8", "patch": "@@ -1,6 +1,11 @@\n+2015-12-28  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran/68987\n+\tio/format.c (format_error): Remove unneeded memory cleanup.\n+\n 2015-12-14  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n-\tPR libfortran/pr68867\n+\tPR libfortran/68867\n \t* io/write.c (set_fnode_default): For kind=16, set the decimal precision\n \tdepending on the platform binary precision, 106 or 113.\n "}, {"sha": "fc7785e1eb80a1cfe2f2fe46ee691e5c465a0c27", "filename": "libgfortran/io/format.c", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/820d395cc80cd6df592cf67bc87cfb5279354fa8/libgfortran%2Fio%2Fformat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/820d395cc80cd6df592cf67bc87cfb5279354fa8/libgfortran%2Fio%2Fformat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fformat.c?ref=820d395cc80cd6df592cf67bc87cfb5279354fa8", "patch": "@@ -1180,26 +1180,6 @@ format_error (st_parameter_dt *dtp, const fnode *f, const char *message)\n   *p++ = '^';\n   *p = '\\0';\n \n-  /* Cleanup any left over memory allocations before calling generate\n-     error.  */\n-  if (is_internal_unit (dtp))\n-    {\n-      if (dtp->format != NULL)\n-\t{\n-\t  free (dtp->format);\n-\t  dtp->format = NULL;\n-\t}\n-\n-      /* Leave these alone if IOSTAT was given because execution will\n-\t return from generate error in those cases.  */\n-      if (!(dtp->common.flags & IOPARM_HAS_IOSTAT))\n-\t{\n-\t  free (dtp->u.p.fmt);\n-\t  free_format_hash_table (dtp->u.p.current_unit);\n-\t  free_internal_unit (dtp);\n-\t}\n-    }\n-\n   generate_error (&dtp->common, LIBERROR_FORMAT, buffer);\n }\n "}]}