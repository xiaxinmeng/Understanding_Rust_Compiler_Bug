{"sha": "6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmU4MWQzNGVhMmQxNDRjZjQ4ZWM4OWNjOWRmOGM0YTQ3OWQ2NzVlYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-28T00:16:57Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-28T00:16:57Z"}, "message": "compiler: resolve importing ambiguity for more complex function calls\n    \n    Tweak the exporter for inlinable function bodies to work around a\n    problem with importing of function calls whose function expressions\n    are not simple function names. In the bug in question, the function\n    body exporter was writing out a function call of the form\n    \n           (*(*FuncTyp)(var))(arg)\n    \n    which produced an export data representation of\n    \n           *$convert(<type 5>, var)(x)\n    \n    which is hard to parse unambiguously. Fix: change the export data\n    emitter to introduce parens around the function expression for more\n    complex calls.\n    \n    Testcase for this bug is in CL 197217.\n    \n    Fixes golang/go#34503.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/197122\n\nFrom-SVN: r276228", "tree": {"sha": "2c71cfb349624a0f9729cc90aedcf9dd028b30d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c71cfb349624a0f9729cc90aedcf9dd028b30d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec/comments", "author": null, "committer": null, "parents": [{"sha": "222e8cb6ca0110e4311be640459d4cb790a6b83d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/222e8cb6ca0110e4311be640459d4cb790a6b83d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/222e8cb6ca0110e4311be640459d4cb790a6b83d"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "3f2c3dcdd0e5fec75cad6be7d1207bef65e5a173", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "patch": "@@ -1,4 +1,4 @@\n-9112ea664ed9ee5f108158a913812adaf03edf6e\n+10a1671d94ddc0c39f2f4b039e5ea33358f414c0\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "a72ba243f376ff79d5a6fce0585869a6148a2710", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6e81d34ea2d144cf48ec89cc9df8c4a479d675ec/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=6e81d34ea2d144cf48ec89cc9df8c4a479d675ec", "patch": "@@ -12373,7 +12373,12 @@ Call_expression::do_inlining_cost() const\n void\n Call_expression::do_export(Export_function_body* efb) const\n {\n+  bool simple_call = (this->fn_->func_expression() != NULL);\n+  if (!simple_call)\n+    efb->write_c_string(\"(\");\n   this->fn_->export_expression(efb);\n+  if (!simple_call)\n+    efb->write_c_string(\")\");\n   this->export_arguments(efb);\n }\n "}]}