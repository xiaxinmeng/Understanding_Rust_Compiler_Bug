{"sha": "3cb32058b49f20d6532beabf6bee4f7862a515d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NiMzIwNThiNDlmMjBkNjUzMmJlYWJmNmJlZTRmNzg2MmE1MTVkNQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2021-05-24T11:07:49Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-07-08T13:34:16Z"}, "message": "[Ada] Make tools compatible with No_Dynamic_Accessibility_Checks\n\ngcc/ada/\n\n\t* make.adb, osint.adb: Make code compatible with\n\tNo_Dynamic_Accessibility_Checks restriction.", "tree": {"sha": "63bb0025bd6daa179dbf8bfa967581db20f3d723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63bb0025bd6daa179dbf8bfa967581db20f3d723"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cb32058b49f20d6532beabf6bee4f7862a515d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cb32058b49f20d6532beabf6bee4f7862a515d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cb32058b49f20d6532beabf6bee4f7862a515d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cb32058b49f20d6532beabf6bee4f7862a515d5/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79a8b14237eca20a0e8256f5683d6ca092f38a0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79a8b14237eca20a0e8256f5683d6ca092f38a0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79a8b14237eca20a0e8256f5683d6ca092f38a0b"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "6e74e9038b8e48bd93e5642b7a8400d63deb7ace", "filename": "gcc/ada/make.adb", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cb32058b49f20d6532beabf6bee4f7862a515d5/gcc%2Fada%2Fmake.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cb32058b49f20d6532beabf6bee4f7862a515d5/gcc%2Fada%2Fmake.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmake.adb?ref=3cb32058b49f20d6532beabf6bee4f7862a515d5", "patch": "@@ -2364,7 +2364,7 @@ package body Make is\n             Osint.Full_Source_Name\n               (Source.File,\n                Full_File => Full_Source_File,\n-               Attr      => Source_File_Attr'Access);\n+               Attr      => Source_File_Attr'Unchecked_Access);\n \n             Lib_File := Osint.Lib_File_Name (Source.File, Source.Index);\n \n@@ -2392,7 +2392,7 @@ package body Make is\n                   Get_Name_String (Full_Lib_File);\n                   Name_Buffer (Name_Len + 1) := ASCII.NUL;\n                   Read_Only := not Is_Writable_File\n-                    (Name_Buffer'Address, Lib_File_Attr'Access);\n+                    (Name_Buffer'Address, Lib_File_Attr'Unchecked_Access);\n                else\n                   Read_Only := False;\n                end if;\n@@ -2460,7 +2460,7 @@ package body Make is\n                          The_Args       => Args,\n                          Lib_File       => Lib_File,\n                          Full_Lib_File  => Full_Lib_File,\n-                         Lib_File_Attr  => Lib_File_Attr'Access,\n+                         Lib_File_Attr  => Lib_File_Attr'Unchecked_Access,\n                          Read_Only      => Read_Only,\n                          ALI            => ALI,\n                          O_File         => Obj_File,\n@@ -2630,7 +2630,8 @@ package body Make is\n \n                   Text :=\n                     Read_Library_Info_From_Full\n-                      (Data.Full_Lib_File, Data.Lib_File_Attr'Access);\n+                      (Data.Full_Lib_File,\n+                       Data.Lib_File_Attr'Unchecked_Access);\n \n                   --  Restore Check_Object_Consistency to its initial value\n "}, {"sha": "4ee6aa802edca6a3bf5facb67aebf076b2c6a64e", "filename": "gcc/ada/osint.adb", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cb32058b49f20d6532beabf6bee4f7862a515d5/gcc%2Fada%2Fosint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cb32058b49f20d6532beabf6bee4f7862a515d5/gcc%2Fada%2Fosint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fosint.adb?ref=3cb32058b49f20d6532beabf6bee4f7862a515d5", "patch": "@@ -1915,7 +1915,8 @@ package body Osint is\n       begin\n          if Opt.Look_In_Primary_Dir then\n             Locate_File\n-              (N, Source, Primary_Directory, File_Name, File, Attr'Access);\n+              (N, Source, Primary_Directory, File_Name, File,\n+               Attr'Unchecked_Access);\n \n             if File /= No_File and then T = File_Stamp (N) then\n                return File;\n@@ -1925,7 +1926,7 @@ package body Osint is\n          Last_Dir := Src_Search_Directories.Last;\n \n          for D in Primary_Directory + 1 .. Last_Dir loop\n-            Locate_File (N, Source, D, File_Name, File, Attr'Access);\n+            Locate_File (N, Source, D, File_Name, File, Attr'Unchecked_Access);\n \n             if File /= No_File and then T = File_Stamp (File) then\n                return File;"}]}