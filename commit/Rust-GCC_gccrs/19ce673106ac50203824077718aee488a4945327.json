{"sha": "19ce673106ac50203824077718aee488a4945327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTljZTY3MzEwNmFjNTAyMDM4MjQwNzc3MThhZWU0ODhhNDk0NTMyNw==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2008-11-01T02:22:55Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2008-11-01T02:22:55Z"}, "message": "rs6000.c (no_global_regs_above): Fix precedence problem.\n\n\t* config/rs6000/rs6000.c (no_global_regs_above): Fix precedence\n\tproblem.\n\t(rs6000_emit_prologue): Invert logic.\n\t* config/rs6000/rs6000.md (*save_gpregs_<mode>): Use explicit\n\t(reg:P 11) instead of match_operand.\n\t(*save_fpregs_<mode>): Likewise.\n\t(*restore_gpregs_<mode>): Likewise.\n\t(*return_and_restore_gpregs_<mode>): Likewise.\n\t(*return_and_restore_fpregs_<mode>): Likewise.\n\t* config/rs6000/spe.md (*save_gpregs_spe): Use explicit\n\t(reg:P 11) insted of match_operand.\n\t(*restore_gpregs_spe): Likewise.\n\t(*return_and_restore_gpregs_spe): Likewise.\n\nFrom-SVN: r141508", "tree": {"sha": "27b299e829ea0dc0521c51e5082c2d747e3eb4c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/27b299e829ea0dc0521c51e5082c2d747e3eb4c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19ce673106ac50203824077718aee488a4945327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19ce673106ac50203824077718aee488a4945327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19ce673106ac50203824077718aee488a4945327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19ce673106ac50203824077718aee488a4945327/comments", "author": null, "committer": null, "parents": [{"sha": "24b6353f30c20b909fb5041537d35b891fa26dfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24b6353f30c20b909fb5041537d35b891fa26dfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24b6353f30c20b909fb5041537d35b891fa26dfe"}], "stats": {"total": 69, "additions": 43, "deletions": 26}, "files": [{"sha": "4451a60fe7bff25e1828bc48a646a88140940131", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ce673106ac50203824077718aee488a4945327/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ce673106ac50203824077718aee488a4945327/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19ce673106ac50203824077718aee488a4945327", "patch": "@@ -1,3 +1,19 @@\n+2008-10-31  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\t* config/rs6000/rs6000.c (no_global_regs_above): Fix precedence\n+\tproblem.\n+\t(rs6000_emit_prologue): Invert logic.\n+\t* config/rs6000/rs6000.md (*save_gpregs_<mode>): Use explicit\n+\t(reg:P 11) instead of match_operand.\n+\t(*save_fpregs_<mode>): Likewise.\n+\t(*restore_gpregs_<mode>): Likewise.\n+\t(*return_and_restore_gpregs_<mode>): Likewise.\n+\t(*return_and_restore_fpregs_<mode>): Likewise.\n+\t* config/rs6000/spe.md (*save_gpregs_spe): Use explicit\n+\t(reg:P 11) insted of match_operand.\n+\t(*restore_gpregs_spe): Likewise.\n+\t(*return_and_restore_gpregs_spe): Likewise.\n+\n 2008-10-28  Luis Machado  <luisgpm@br.ibm.com>\n \n \t* gcc.h (DEFAULT_WORD_SWITCH_TAKES_ARG): Add \"dumpbase\" to the"}, {"sha": "a4eeb0e8dba0329b1392142deba4b91086ca1fb5", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=19ce673106ac50203824077718aee488a4945327", "patch": "@@ -15839,7 +15839,8 @@ static bool\n no_global_regs_above (int first, bool gpr)\n {\n   int i;\n-  for (i = first; i < gpr ? 32 : 64 ; i++)\n+  int last = gpr ? 32 : 64;\n+  for (i = first; i < last; i++)\n     if (global_regs[i])\n       return false;\n   return true;\n@@ -16118,7 +16119,7 @@ rs6000_emit_prologue (void)\n   int using_store_multiple;\n   int using_static_chain_p = (cfun->static_chain_decl != NULL_TREE\n                               && df_regs_ever_live_p (STATIC_CHAIN_REGNUM)\n-                              && !call_used_regs[STATIC_CHAIN_REGNUM]);\n+                              && call_used_regs[STATIC_CHAIN_REGNUM]);\n   HOST_WIDE_INT sp_offset = 0;\n \n   if (TARGET_FIX_AND_CONTINUE)"}, {"sha": "46ff6b7a4b3da57a0b08e8b4340e68d3eed91e7d", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=19ce673106ac50203824077718aee488a4945327", "patch": "@@ -14604,9 +14604,9 @@\n   [(match_parallel 0 \"any_parallel_operand\"\n \t\t   [(clobber (reg:P 65))\n \t\t    (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n-                    (use (match_operand:P 2 \"gpc_reg_operand\" \"r\"))\n-\t\t    (set (match_operand:P 3 \"memory_operand\" \"=m\")\n-\t\t\t (match_operand:P 4 \"gpc_reg_operand\" \"r\"))])]\n+                    (use (reg:P 11))\n+\t\t    (set (match_operand:P 2 \"memory_operand\" \"=m\")\n+\t\t\t (match_operand:P 3 \"gpc_reg_operand\" \"r\"))])]\n   \"\"\n   \"bl %z1\"\n   [(set_attr \"type\" \"branch\")\n@@ -14616,9 +14616,9 @@\n   [(match_parallel 0 \"any_parallel_operand\"\n \t\t   [(clobber (reg:P 65))\n \t\t    (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n-                    (use (match_operand:P 2 \"gpc_reg_operand\" \"r\"))\n-\t\t    (set (match_operand:DF 3 \"memory_operand\" \"=m\")\n-\t\t\t (match_operand:DF 4 \"gpc_reg_operand\" \"f\"))])]\n+                    (use (reg:P 11))\n+\t\t    (set (match_operand:DF 2 \"memory_operand\" \"=m\")\n+\t\t\t (match_operand:DF 3 \"gpc_reg_operand\" \"f\"))])]\n   \"\"\n   \"bl %z1\"\n   [(set_attr \"type\" \"branch\")\n@@ -14711,9 +14711,9 @@\n  [(match_parallel 0 \"any_parallel_operand\"\n                   [(clobber (match_operand:P 1 \"register_operand\" \"=l\"))\n                    (use (match_operand:P 2 \"symbol_ref_operand\" \"s\"))\n-                   (use (match_operand:P 3 \"gpc_reg_operand\" \"r\"))\n-\t\t   (set (match_operand:P 4 \"gpc_reg_operand\" \"=r\")\n-\t\t\t(match_operand:P 5 \"memory_operand\" \"m\"))])]\n+                   (use (reg:P 11))\n+\t\t   (set (match_operand:P 3 \"gpc_reg_operand\" \"=r\")\n+\t\t\t(match_operand:P 4 \"memory_operand\" \"m\"))])]\n  \"\"\n  \"bl %z2\"\n  [(set_attr \"type\" \"branch\")\n@@ -14724,9 +14724,9 @@\n                   [(return)\n \t\t   (clobber (match_operand:P 1 \"register_operand\" \"=l\"))\n \t\t   (use (match_operand:P 2 \"symbol_ref_operand\" \"s\"))\n-                   (use (match_operand:P 3 \"gpc_reg_operand\" \"r\"))\n-\t\t   (set (match_operand:P 4 \"gpc_reg_operand\" \"=r\")\n-\t\t\t(match_operand:P 5 \"memory_operand\" \"m\"))])]\n+                   (use (reg:P 11))\n+\t\t   (set (match_operand:P 3 \"gpc_reg_operand\" \"=r\")\n+\t\t\t(match_operand:P 4 \"memory_operand\" \"m\"))])]\n  \"\"\n  \"b %z2\"\n  [(set_attr \"type\" \"branch\")\n@@ -14737,9 +14737,9 @@\n                   [(return)\n \t\t   (clobber (match_operand:P 1 \"register_operand\" \"=l\"))\n \t\t   (use (match_operand:P 2 \"symbol_ref_operand\" \"s\"))\n-                   (use (match_operand:P 3 \"gpc_reg_operand\" \"r\"))\n-\t\t   (set (match_operand:DF 4 \"gpc_reg_operand\" \"=f\")\n-\t\t\t(match_operand:DF 5 \"memory_operand\" \"m\"))])]\n+                   (use (reg:P 11))\n+\t\t   (set (match_operand:DF 3 \"gpc_reg_operand\" \"=f\")\n+\t\t\t(match_operand:DF 4 \"memory_operand\" \"m\"))])]\n  \"\"\n  \"b %z2\"\n  [(set_attr \"type\" \"branch\")"}, {"sha": "c87d67ea47fdfa08171e1ee70e2a5adb6d3f13e8", "filename": "gcc/config/rs6000/spe.md", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Fspe.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19ce673106ac50203824077718aee488a4945327/gcc%2Fconfig%2Frs6000%2Fspe.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fspe.md?ref=19ce673106ac50203824077718aee488a4945327", "patch": "@@ -3144,9 +3144,9 @@\n   [(match_parallel 0 \"any_parallel_operand\"\n \t\t   [(clobber (reg:P 65))\n \t\t    (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n-\t\t    (use (match_operand:P 2 \"gpc_reg_operand\" \"r\"))\n-\t\t    (set (match_operand:V2SI 3 \"memory_operand\" \"=m\")\n-\t\t\t (match_operand:V2SI 4 \"gpc_reg_operand\" \"r\"))])]\n+\t\t    (use (reg:P 11))\n+\t\t    (set (match_operand:V2SI 2 \"memory_operand\" \"=m\")\n+\t\t\t (match_operand:V2SI 3 \"gpc_reg_operand\" \"r\"))])]\n   \"TARGET_SPE_ABI\"\n   \"bl %z1\"\n   [(set_attr \"type\" \"branch\")\n@@ -3156,9 +3156,9 @@\n  [(match_parallel 0 \"any_parallel_operand\"\n \t\t  [(clobber (reg:P 65))\n \t\t   (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n-\t\t   (use (match_operand:P 2 \"gpc_reg_operand\" \"r\"))\n-\t\t   (set (match_operand:V2SI 3 \"gpc_reg_operand\" \"=r\")\n-\t\t\t(match_operand:V2SI 4 \"memory_operand\" \"m\"))])]\n+\t\t   (use (reg:P 11))\n+\t\t   (set (match_operand:V2SI 2 \"gpc_reg_operand\" \"=r\")\n+\t\t\t(match_operand:V2SI 3 \"memory_operand\" \"m\"))])]\n  \"TARGET_SPE_ABI\"\n  \"bl %z1\"\n  [(set_attr \"type\" \"branch\")\n@@ -3169,9 +3169,9 @@\n \t\t  [(return)\n \t\t   (clobber (reg:P 65))\n \t\t   (use (match_operand:P 1 \"symbol_ref_operand\" \"s\"))\n-\t\t   (use (match_operand:P 2 \"gpc_reg_operand\" \"r\"))\n-\t\t   (set (match_operand:V2SI 3 \"gpc_reg_operand\" \"=r\")\n-\t\t\t(match_operand:V2SI 4 \"memory_operand\" \"m\"))])]\n+\t\t   (use (reg:P 11))\n+\t\t   (set (match_operand:V2SI 2 \"gpc_reg_operand\" \"=r\")\n+\t\t\t(match_operand:V2SI 3 \"memory_operand\" \"m\"))])]\n  \"TARGET_SPE_ABI\"\n  \"b %z1\"\n  [(set_attr \"type\" \"branch\")"}]}