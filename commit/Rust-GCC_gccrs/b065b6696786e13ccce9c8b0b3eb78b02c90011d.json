{"sha": "b065b6696786e13ccce9c8b0b3eb78b02c90011d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjA2NWI2Njk2Nzg2ZTEzY2NjZTljOGIwYjNlYjc4YjAyYzkwMDExZA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-11-17T18:53:51Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-11-17T18:53:51Z"}, "message": "cgraphunit.c (analyze_functions): Use opt_for_fn.\n\n\t* cgraphunit.c (analyze_functions): Use opt_for_fn.\n\t* cgraph.h (cgraph_node::optimize_for_size_p): Likewise.\n\nFrom-SVN: r217668", "tree": {"sha": "0c7d5165f53f2139d7f8e440225fff66ef6001fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c7d5165f53f2139d7f8e440225fff66ef6001fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b065b6696786e13ccce9c8b0b3eb78b02c90011d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b065b6696786e13ccce9c8b0b3eb78b02c90011d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b065b6696786e13ccce9c8b0b3eb78b02c90011d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b065b6696786e13ccce9c8b0b3eb78b02c90011d/comments", "author": null, "committer": null, "parents": [{"sha": "a6b1490d35d7acb3dc5fe785fce116a674092c20", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6b1490d35d7acb3dc5fe785fce116a674092c20", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6b1490d35d7acb3dc5fe785fce116a674092c20"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "4bc782694e1fabb7f5853a6eb1c82f93e1e9cd05", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b065b6696786e13ccce9c8b0b3eb78b02c90011d", "patch": "@@ -1,3 +1,8 @@\n+2014-11-17  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* cgraphunit.c (analyze_functions): Use opt_for_fn.\n+\t* cgraph.h (cgraph_node::optimize_for_size_p): Likewise.\n+\n 2014-11-17  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* cgraph.c (symbol_table::create_edge): Use opt_for_fn."}, {"sha": "83181c472cbabd5f69c8d344c299cf68d6eb5a91", "filename": "gcc/cgraph.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2Fcgraph.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2Fcgraph.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.h?ref=b065b6696786e13ccce9c8b0b3eb78b02c90011d", "patch": "@@ -2720,7 +2720,7 @@ cgraph_node::mark_force_output (void)\n inline bool\n cgraph_node::optimize_for_size_p (void)\n {\n-  if (optimize_size)\n+  if (opt_for_fn (decl, optimize_size))\n     return true;\n   if (frequency == NODE_FREQUENCY_UNLIKELY_EXECUTED)\n     return true;"}, {"sha": "6695ae3ed205cca51f146a9daec179a7a0a6a7a5", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b065b6696786e13ccce9c8b0b3eb78b02c90011d/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=b065b6696786e13ccce9c8b0b3eb78b02c90011d", "patch": "@@ -1001,7 +1001,7 @@ analyze_functions (void)\n \t      for (edge = cnode->callees; edge; edge = edge->next_callee)\n \t\tif (edge->callee->definition)\n \t\t   enqueue_node (edge->callee);\n-\t      if (optimize && flag_devirtualize)\n+\t      if (optimize && opt_for_fn (cnode->decl, flag_devirtualize))\n \t\t{\n \t\t  cgraph_edge *next;\n "}]}