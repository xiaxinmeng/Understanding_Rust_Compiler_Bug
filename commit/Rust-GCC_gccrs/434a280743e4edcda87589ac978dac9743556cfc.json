{"sha": "434a280743e4edcda87589ac978dac9743556cfc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDM0YTI4MDc0M2U0ZWRjZGE4NzU4OWFjOTc4ZGFjOTc0MzU1NmNmYw==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2008-08-01T09:02:58Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-01T09:02:58Z"}, "message": "prj-attr.adb: New attribute Compiler'Name_Syntax (<lang>)\n\n2008-08-01  Vincent Celier  <celier@adacore.com>\n\n\t* prj-attr.adb: New attribute Compiler'Name_Syntax (<lang>)\n\t\n\t* prj-nmsc.adb (Process_Compiler): Recognize attribute Name_Syntax\n\t\n\t* prj.adb (Object_Exist_For): Use Object_Generated, not\n\tObjects_Generated that is removed and was never modified anyway.\n\n\t* prj.ads:\n\t(Path_Syntax_Kind): New enumeration type\n\t(Language_Config): New component Path_Syntax, defaulted to Host.\n\tComponents PIC_Option and Objects_Generated removed, as they are not\n\tused.\n\n\t* snames.adb: New standard name Path_Syntax\n\t\n\t* snames.ads: New standard name Path_Syntax\n\nFrom-SVN: r138487", "tree": {"sha": "a411d7cece4ed3786ee9ddf7b071b83244895f26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a411d7cece4ed3786ee9ddf7b071b83244895f26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/434a280743e4edcda87589ac978dac9743556cfc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/434a280743e4edcda87589ac978dac9743556cfc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/434a280743e4edcda87589ac978dac9743556cfc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/434a280743e4edcda87589ac978dac9743556cfc/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "44114dff15f7dd78e05b31920beee7d56a7dc03c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44114dff15f7dd78e05b31920beee7d56a7dc03c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44114dff15f7dd78e05b31920beee7d56a7dc03c"}], "stats": {"total": 110, "additions": 65, "deletions": 45}, "files": [{"sha": "3421ac1cd701bea163b2aae88da057079f0cba2d", "filename": "gcc/ada/prj-attr.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj-attr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj-attr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-attr.adb?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -168,6 +168,7 @@ package body Prj.Attr is\n    \"Sadriver#\" &\n    \"Larequired_switches#\" &\n    \"Lapic_option#\" &\n+   \"Sapath_syntax#\" &\n \n    --  Configuration - Mapping files\n "}, {"sha": "1742caf08abf8d9b24031adfce8ae6861a526f2a", "filename": "gcc/ada/prj-nmsc.adb", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj-nmsc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj-nmsc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-nmsc.adb?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -1509,6 +1509,22 @@ package body Prj.Nmsc is\n                                 From_List => Element.Value.Values,\n                                 In_Tree   => In_Tree);\n \n+                        when Name_Path_Syntax =>\n+                           begin\n+                              In_Tree.Languages_Data.Table\n+                                (Lang_Index).Config.Path_Syntax :=\n+                                Path_Syntax_Kind'Value\n+                                  (Get_Name_String (Element.Value.Value));\n+\n+                           exception\n+                              when Constraint_Error =>\n+                                 Error_Msg\n+                                   (Project,\n+                                    In_Tree,\n+                                    \"invalid value for Path_Syntax\",\n+                                    Element.Value.Location);\n+                           end;\n+\n                         when Name_Pic_Option =>\n \n                            --  Attribute Compiler_Pic_Option (<language>)"}, {"sha": "505e2dad3d14b3425987a528200681e47dbedc1a", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -690,7 +690,7 @@ package body Prj is\n             if In_Tree.Languages_Data.Table (Lang).Name = Language_Id then\n                return\n                  In_Tree.Languages_Data.Table\n-                   (Lang).Config.Objects_Generated;\n+                   (Lang).Config.Object_Generated;\n             end if;\n \n             Lang := In_Tree.Languages_Data.Table (Lang).Next;"}, {"sha": "29da0e7d32272f9aac8e1d8a4bb10b4743fc81aa", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -399,6 +399,10 @@ package Prj is\n \n    No_Source : constant Source_Id := 0;\n \n+   type Path_Syntax_Kind is (Canonical, Host);\n+   --  Canonical = Unix style\n+   --  Host = host specific syntax, for example on VMS (the default)\n+\n    type Language_Config is record\n       Kind : Language_Kind := File_Based;\n       --  Kind of language. All languages are file based, except Ada which is\n@@ -423,6 +427,10 @@ package Prj is\n       --  The list of switches that are required as a minimum to invoke the\n       --  compiler driver.\n \n+      Path_Syntax                  : Path_Syntax_Kind := Host;\n+      --  Value may be Canonical (Unix style) or Host (host syntax, for example\n+      --  on VMS for DEC C).\n+\n       Compilation_PIC_Option : Name_List_Index := No_Name_List;\n       --  The option(s) to compile a source in Position Independent Code for\n       --  shared libraries. Specified in the configuration. When not specified,\n@@ -525,12 +533,6 @@ package Prj is\n       Toolchain_Description      : Name_Id         := No_Name;\n       --  Hold the value of attribute Toolchain_Description for the language\n \n-      PIC_Option                 : Name_Id         := No_Name;\n-      --  Hold the value of attribute Compiler'PIC_Option for the language\n-\n-      Objects_Generated          : Boolean         := True;\n-      --  Indicates if objects are generated for the language\n-\n    end record;\n    --  Record describing the configuration of a language\n \n@@ -541,6 +543,7 @@ package Prj is\n                            Compiler_Driver              => No_File,\n                            Compiler_Driver_Path         => null,\n                            Compiler_Required_Switches   => No_Name_List,\n+                           Path_Syntax                  => Canonical,\n                            Compilation_PIC_Option       => No_Name_List,\n                            Object_Generated             => True,\n                            Objects_Linked               => True,\n@@ -567,9 +570,7 @@ package Prj is\n                            Binder_Required_Switches     => No_Name_List,\n                            Binder_Prefix                => No_Name,\n                            Toolchain_Version            => No_Name,\n-                           Toolchain_Description        => No_Name,\n-                           PIC_Option                   => No_Name,\n-                           Objects_Generated            => True);\n+                           Toolchain_Description        => No_Name);\n \n    type Language_Data is record\n       Name          : Name_Id         := No_Name;"}, {"sha": "ea14cf116df7f4bb9262918e89717c89e1ef0519", "filename": "gcc/ada/snames.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fsnames.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fsnames.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.adb?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -780,6 +780,7 @@ package body Snames is\n      \"objects_path#\" &\n      \"objects_path_file#\" &\n      \"object_dir#\" &\n+     \"path_syntax#\" &\n      \"pic_option#\" &\n      \"pretty_printer#\" &\n      \"prefix#\" &"}, {"sha": "da6c9a5a8009f3ae79989aae796f4b2b6d718522", "filename": "gcc/ada/snames.ads", "status": "modified", "additions": 36, "deletions": 35, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fsnames.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/434a280743e4edcda87589ac978dac9743556cfc/gcc%2Fada%2Fsnames.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.ads?ref=434a280743e4edcda87589ac978dac9743556cfc", "patch": "@@ -1107,53 +1107,54 @@ package Snames is\n    Name_Objects_Path                   : constant Name_Id := N + 719;\n    Name_Objects_Path_File              : constant Name_Id := N + 720;\n    Name_Object_Dir                     : constant Name_Id := N + 721;\n-   Name_Pic_Option                     : constant Name_Id := N + 722;\n-   Name_Pretty_Printer                 : constant Name_Id := N + 723;\n-   Name_Prefix                         : constant Name_Id := N + 724;\n-   Name_Project                        : constant Name_Id := N + 725;\n-   Name_Roots                          : constant Name_Id := N + 726;\n-   Name_Required_Switches              : constant Name_Id := N + 727;\n-   Name_Run_Path_Option                : constant Name_Id := N + 728;\n-   Name_Runtime_Project                : constant Name_Id := N + 729;\n-   Name_Shared_Library_Minimum_Switches : constant Name_Id := N + 730;\n-   Name_Shared_Library_Prefix          : constant Name_Id := N + 731;\n-   Name_Shared_Library_Suffix          : constant Name_Id := N + 732;\n-   Name_Separate_Suffix                : constant Name_Id := N + 733;\n-   Name_Source_Dirs                    : constant Name_Id := N + 734;\n-   Name_Source_Files                   : constant Name_Id := N + 735;\n-   Name_Source_List_File               : constant Name_Id := N + 736;\n-   Name_Spec                           : constant Name_Id := N + 737;\n-   Name_Spec_Suffix                    : constant Name_Id := N + 738;\n-   Name_Specification                  : constant Name_Id := N + 739;\n-   Name_Specification_Exceptions       : constant Name_Id := N + 740;\n-   Name_Specification_Suffix           : constant Name_Id := N + 741;\n-   Name_Stack                          : constant Name_Id := N + 742;\n-   Name_Switches                       : constant Name_Id := N + 743;\n-   Name_Symbolic_Link_Supported        : constant Name_Id := N + 744;\n-   Name_Sync                           : constant Name_Id := N + 745;\n-   Name_Synchronize                    : constant Name_Id := N + 746;\n-   Name_Toolchain_Description          : constant Name_Id := N + 747;\n-   Name_Toolchain_Version              : constant Name_Id := N + 748;\n-   Name_Runtime_Library_Dir            : constant Name_Id := N + 749;\n+   Name_Path_Syntax                    : constant Name_Id := N + 722;\n+   Name_Pic_Option                     : constant Name_Id := N + 723;\n+   Name_Pretty_Printer                 : constant Name_Id := N + 724;\n+   Name_Prefix                         : constant Name_Id := N + 725;\n+   Name_Project                        : constant Name_Id := N + 726;\n+   Name_Roots                          : constant Name_Id := N + 727;\n+   Name_Required_Switches              : constant Name_Id := N + 728;\n+   Name_Run_Path_Option                : constant Name_Id := N + 729;\n+   Name_Runtime_Project                : constant Name_Id := N + 730;\n+   Name_Shared_Library_Minimum_Switches : constant Name_Id := N + 731;\n+   Name_Shared_Library_Prefix          : constant Name_Id := N + 732;\n+   Name_Shared_Library_Suffix          : constant Name_Id := N + 733;\n+   Name_Separate_Suffix                : constant Name_Id := N + 734;\n+   Name_Source_Dirs                    : constant Name_Id := N + 735;\n+   Name_Source_Files                   : constant Name_Id := N + 736;\n+   Name_Source_List_File               : constant Name_Id := N + 737;\n+   Name_Spec                           : constant Name_Id := N + 738;\n+   Name_Spec_Suffix                    : constant Name_Id := N + 739;\n+   Name_Specification                  : constant Name_Id := N + 740;\n+   Name_Specification_Exceptions       : constant Name_Id := N + 741;\n+   Name_Specification_Suffix           : constant Name_Id := N + 742;\n+   Name_Stack                          : constant Name_Id := N + 743;\n+   Name_Switches                       : constant Name_Id := N + 744;\n+   Name_Symbolic_Link_Supported        : constant Name_Id := N + 745;\n+   Name_Sync                           : constant Name_Id := N + 746;\n+   Name_Synchronize                    : constant Name_Id := N + 747;\n+   Name_Toolchain_Description          : constant Name_Id := N + 748;\n+   Name_Toolchain_Version              : constant Name_Id := N + 749;\n+   Name_Runtime_Library_Dir            : constant Name_Id := N + 750;\n \n    --  Other miscellaneous names used in front end\n \n-   Name_Unaligned_Valid                : constant Name_Id := N + 750;\n+   Name_Unaligned_Valid                : constant Name_Id := N + 751;\n \n    --  Ada 2005 reserved words\n \n-   First_2005_Reserved_Word            : constant Name_Id := N + 751;\n-   Name_Interface                      : constant Name_Id := N + 751;\n-   Name_Overriding                     : constant Name_Id := N + 752;\n-   Name_Synchronized                   : constant Name_Id := N + 753;\n-   Last_2005_Reserved_Word             : constant Name_Id := N + 753;\n+   First_2005_Reserved_Word            : constant Name_Id := N + 752;\n+   Name_Interface                      : constant Name_Id := N + 752;\n+   Name_Overriding                     : constant Name_Id := N + 753;\n+   Name_Synchronized                   : constant Name_Id := N + 754;\n+   Last_2005_Reserved_Word             : constant Name_Id := N + 754;\n \n    subtype Ada_2005_Reserved_Words is\n      Name_Id range First_2005_Reserved_Word .. Last_2005_Reserved_Word;\n \n    --  Mark last defined name for consistency check in Snames body\n \n-   Last_Predefined_Name                : constant Name_Id := N + 753;\n+   Last_Predefined_Name                : constant Name_Id := N + 754;\n \n    ---------------------------------------\n    -- Subtypes Defining Name Categories --"}]}