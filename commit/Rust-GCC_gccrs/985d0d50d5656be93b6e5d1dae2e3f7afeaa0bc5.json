{"sha": "985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTg1ZDBkNTBkNTY1NmJlOTNiNmU1ZDFkYWUyZTNmN2FmZWFhMGJjNQ==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2003-02-03T20:23:24Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2003-02-03T20:23:24Z"}, "message": "xtensa.c (order_regs_for_local_alloc): Order the coprocessor registers before floating-point registers.\n\n        * config/xtensa/xtensa.c (order_regs_for_local_alloc): Order the\n        coprocessor registers before floating-point registers.\n        * config/xtensa/xtensa.h (REG_ALLOC_ORDER): Adjust register numbers\n        to account for a previously removed register.\n        (SPEC_REG_FIRST, SPEC_REG_LAST, SPEC_REG_NUM, COUNT_REGISTER_REGNUM):\n        Delete unused macros.\n\nFrom-SVN: r62340", "tree": {"sha": "e569fd5ca529c6e41321e45500edddcf225607fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e569fd5ca529c6e41321e45500edddcf225607fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/comments", "author": null, "committer": null, "parents": [{"sha": "7f0e57bdf7573bec6966af55da910e26a4d16d26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f0e57bdf7573bec6966af55da910e26a4d16d26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f0e57bdf7573bec6966af55da910e26a4d16d26"}], "stats": {"total": 33, "additions": 17, "deletions": 16}, "files": [{"sha": "439a3515f5931aa4b8b3395ef96533fe13bcd4a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "patch": "@@ -1,3 +1,12 @@\n+2003-02-03  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/xtensa.c (order_regs_for_local_alloc): Order the\n+\tcoprocessor registers before floating-point registers.\n+\t* config/xtensa/xtensa.h (REG_ALLOC_ORDER): Adjust register numbers\n+\tto account for a previously removed register.\n+\t(SPEC_REG_FIRST, SPEC_REG_LAST, SPEC_REG_NUM, COUNT_REGISTER_REGNUM):\n+\tDelete unused macros.\n+\n Mon Feb  3 21:19:11 CET 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* i386.c (ix86_expand_store_builtin):  Always force op1 to register."}, {"sha": "cb7d7e5e9cbaeccf60c830b970586a05178400c1", "filename": "gcc/config/xtensa/xtensa.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.c?ref=985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "patch": "@@ -2725,6 +2725,10 @@ order_regs_for_local_alloc ()\n       for (i = 0; i < num_arg_regs; i++)\n \treg_alloc_order[nxt++] = GP_ARG_FIRST + i;\n \n+      /* list the coprocessor registers in order */\n+      for (i = 0; i < BR_REG_NUM; i++)\n+\treg_alloc_order[nxt++] = BR_REG_FIRST + i;\n+\n       /* list the FP registers in order for now */\n       for (i = 0; i < 16; i++)\n \treg_alloc_order[nxt++] = FP_REG_FIRST + i;\n@@ -2735,10 +2739,6 @@ order_regs_for_local_alloc ()\n       reg_alloc_order[nxt++] = 16;\t/* pseudo frame pointer */\n       reg_alloc_order[nxt++] = 17;\t/* pseudo arg pointer */\n \n-      /* list the coprocessor registers in order */\n-      for (i = 0; i < BR_REG_NUM; i++)\n-\treg_alloc_order[nxt++] = BR_REG_FIRST + i;\n-\n       reg_alloc_order[nxt++] = ACC_REG_FIRST;\t/* MAC16 accumulator */\n     }\n }"}, {"sha": "026753285841004882e989c4ef8bf8449ea7ce6c", "filename": "gcc/config/xtensa/xtensa.h", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5/gcc%2Fconfig%2Fxtensa%2Fxtensa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.h?ref=985d0d50d5656be93b6e5d1dae2e3f7afeaa0bc5", "patch": "@@ -345,7 +345,6 @@ extern unsigned xtensa_current_frame_size;\n    0 - 15\tAR[0] - AR[15]\n    16\t\tFRAME_POINTER (fake = initial sp)\n    17\t\tARG_POINTER (fake = initial sp + framesize)\n-   18           LOOP_COUNT (loop count special register)\n    18\t\tBR[0] for floating-point CC\n    19 - 34\tFR[0] - FR[15]\n    35\t\tMAC16 accumulator */\n@@ -394,10 +393,11 @@ extern unsigned xtensa_current_frame_size;\n    have been exhausted.  */\n \n #define REG_ALLOC_ORDER \\\n-{  8,  9, 10, 11, 12, 13, 14, 15,  7,  6,  5,  4,  3,  2, 19, \\\n-  20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, \\\n+{  8,  9, 10, 11, 12, 13, 14, 15,  7,  6,  5,  4,  3,  2, \\\n+  18, \\\n+  19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, \\\n    0,  1, 16, 17, \\\n-  36, \\\n+  35, \\\n }\n \n #define ORDER_REGS_FOR_LOCAL_ALLOC order_regs_for_local_alloc ()\n@@ -424,11 +424,6 @@ extern int leaf_function;\n #define GP_REG_LAST  17\n #define GP_REG_NUM   (GP_REG_LAST - GP_REG_FIRST + 1)\n \n-/* Special registers */\n-#define SPEC_REG_FIRST 18\n-#define SPEC_REG_LAST  18\n-#define SPEC_REG_NUM   (SPEC_REG_LAST - SPEC_REG_FIRST + 1)\n-\n /* Coprocessor registers */\n #define BR_REG_FIRST 18\n #define BR_REG_LAST  18 \n@@ -473,9 +468,6 @@ extern char xtensa_hard_regno_mode_ok[][FIRST_PSEUDO_REGISTER];\n    == (GET_MODE_CLASS (MODE2) == MODE_FLOAT ||\t\t\t\t\\\n        GET_MODE_CLASS (MODE2) == MODE_COMPLEX_FLOAT))\n \n-/* Register to use for LCOUNT special register.  */\n-#define COUNT_REGISTER_REGNUM (SPEC_REG_FIRST + 0)\n-\n /* Register to use for pushing function arguments.  */\n #define STACK_POINTER_REGNUM (GP_REG_FIRST + 1)\n "}]}