{"sha": "61369bb84962b5c4b90374ac73177920d19a2ddb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjEzNjliYjg0OTYyYjVjNGI5MDM3NGFjNzMxNzc5MjBkMTlhMmRkYg==", "commit": {"author": {"name": "Andreas Krebbel", "email": "Andreas.Krebbel@de.ibm.com", "date": "2012-02-21T14:51:44Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2012-02-21T14:51:44Z"}, "message": "s390.c (s390_option_override): Make -mhard-dfp the default if possible and not specified otherwise.\n\n2012-02-21  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n\n\t* config/s390/s390.c (s390_option_override): Make -mhard-dfp the\n\tdefault if possible and not specified otherwise.\n\nFrom-SVN: r184439", "tree": {"sha": "c64b2bbcffb64a73bf97b69f19de30bf32920ef5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c64b2bbcffb64a73bf97b69f19de30bf32920ef5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61369bb84962b5c4b90374ac73177920d19a2ddb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61369bb84962b5c4b90374ac73177920d19a2ddb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61369bb84962b5c4b90374ac73177920d19a2ddb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61369bb84962b5c4b90374ac73177920d19a2ddb/comments", "author": null, "committer": null, "parents": [{"sha": "333f1d8799060805e6e26a9996d3ed5f7aad3202", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333f1d8799060805e6e26a9996d3ed5f7aad3202", "html_url": "https://github.com/Rust-GCC/gccrs/commit/333f1d8799060805e6e26a9996d3ed5f7aad3202"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "0ad9eb23945a2de101284244119ee87651ca9a3c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61369bb84962b5c4b90374ac73177920d19a2ddb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61369bb84962b5c4b90374ac73177920d19a2ddb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=61369bb84962b5c4b90374ac73177920d19a2ddb", "patch": "@@ -1,3 +1,8 @@\n+2012-02-21  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n+\n+\t* config/s390/s390.c (s390_option_override): Make -mhard-dfp the\n+\tdefault if possible and not specified otherwise.\n+\n 2012-02-21  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/52314"}, {"sha": "d6e250fd5a8f332a06eeb15e2b973282e0809d42", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61369bb84962b5c4b90374ac73177920d19a2ddb/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61369bb84962b5c4b90374ac73177920d19a2ddb/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=61369bb84962b5c4b90374ac73177920d19a2ddb", "patch": "@@ -1540,6 +1540,11 @@ s390_option_override (void)\n   if (TARGET_64BIT && !TARGET_ZARCH)\n     error (\"64-bit ABI not supported in ESA/390 mode\");\n \n+  /* Use hardware DFP if available and not explicitly disabled by\n+     user. E.g. with -m31 -march=z10 -mzarch   */\n+  if (!(target_flags_explicit & MASK_HARD_DFP) && TARGET_DFP)\n+    target_flags |= MASK_HARD_DFP;\n+\n   if (TARGET_HARD_DFP && !TARGET_DFP)\n     {\n       if (target_flags_explicit & MASK_HARD_DFP)"}]}