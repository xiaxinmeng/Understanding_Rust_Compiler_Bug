{"sha": "f9b4c1db7dc1e30266f20e75090536be4b31349e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjliNGMxZGI3ZGMxZTMwMjY2ZjIwZTc1MDkwNTM2YmU0YjMxMzQ5ZQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2005-03-30T06:26:20Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2005-03-30T06:26:20Z"}, "message": "options.texi: Document the new MaskExists flag.\n\n\t* doc/options.texi: Document the new MaskExists flag.\n\t* opth-gen.awk: Don't output MASK and TARGET macros for Mask(...)\n\tif the option has the MaskExists flag.\n\nFrom-SVN: r97238", "tree": {"sha": "b152d202dc17656211a9a89321ad98a6b1221dd2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b152d202dc17656211a9a89321ad98a6b1221dd2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f9b4c1db7dc1e30266f20e75090536be4b31349e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9b4c1db7dc1e30266f20e75090536be4b31349e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9b4c1db7dc1e30266f20e75090536be4b31349e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9b4c1db7dc1e30266f20e75090536be4b31349e/comments", "author": null, "committer": null, "parents": [{"sha": "a56a0779225c46f783c80ea3c749587f4b09ec62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a56a0779225c46f783c80ea3c749587f4b09ec62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a56a0779225c46f783c80ea3c749587f4b09ec62"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "bd91133b4c74f3dcc4fc7fb5010b2ea14cbf02ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f9b4c1db7dc1e30266f20e75090536be4b31349e", "patch": "@@ -1,4 +1,10 @@\n-2005-03-20  Richard Sandiford  <rsandifo@redhat.com>\n+2005-03-30  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* doc/options.texi: Document the new MaskExists flag.\n+\t* opth-gen.awk: Don't output MASK and TARGET macros for Mask(...)\n+\tif the option has the MaskExists flag.\n+\n+2005-03-30  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* opt-functions.awk (flag_set_p, test_flag): New functions.\n \t(switch_flags): Use them."}, {"sha": "959f952fc9452177f483754e87ca3a2a0311d54d", "filename": "gcc/doc/options.texi", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2Fdoc%2Foptions.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2Fdoc%2Foptions.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Foptions.texi?ref=f9b4c1db7dc1e30266f20e75090536be4b31349e", "patch": "@@ -144,6 +144,7 @@ The options-processing script will automatically allocate a unique\n bit for the option and set the macro @code{MASK_@var{name}} to the\n appropriate bitmask.  It will also declare a @code{TARGET_@var{name}}\n macro that has the value 1 when the option is active and 0 otherwise.\n+You can disable this behavior using @code{MaskExists}.\n \n @item InverseMask(@var{othername})\n @itemx InverseMask(@var{othername}, @var{thisname})\n@@ -152,6 +153,15 @@ The option is the inverse of another option that has the\n the options-processing script will declare a @code{TARGET_@var{thisname}}\n macro that is 1 when the option is active and 0 otherwise.\n \n+@item MaskExists\n+The mask specified by the @code{Mask} property already exists.\n+No @code{MASK} or @code{TARGET} definitions should be added to\n+@file{options.h} in response to this option record.\n+\n+The main purpose of this property is to support synonymous options.\n+The first option should use @samp{Mask(@var{name})} and the others\n+should use @samp{Mask(@var{name}) MaskExists}.\n+\n @item Report\n The state of the option should be printed by @option{-fverbose-asm}.\n "}, {"sha": "d980b12c28376fced139ca3c9b89b2974330931b", "filename": "gcc/opth-gen.awk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2Fopth-gen.awk", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f9b4c1db7dc1e30266f20e75090536be4b31349e/gcc%2Fopth-gen.awk", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopth-gen.awk?ref=f9b4c1db7dc1e30266f20e75090536be4b31349e", "patch": "@@ -70,7 +70,7 @@ for (i = 0; i < n_opts; i++) {\n masknum = 0\n for (i = 0; i < n_opts; i++) {\n \tname = opt_args(\"Mask\", flags[i])\n-\tif (name != \"\")\n+\tif (name != \"\" && !flag_set_p(\"MaskExists\", flags[i]))\n \t\tprint \"#define MASK_\" name \" (1 << \" masknum++ \")\"\n }\n if (masknum > 31)\n@@ -79,7 +79,7 @@ print \"\"\n \n for (i = 0; i < n_opts; i++) {\n \tname = opt_args(\"Mask\", flags[i])\n-\tif (name != \"\")\n+\tif (name != \"\" && !flag_set_p(\"MaskExists\", flags[i]))\n \t\tprint \"#define TARGET_\" name \\\n \t\t      \" ((target_flags & MASK_\" name \") != 0)\"\n }"}]}