{"sha": "58579a27aa7596fd417d84543949c55507abb456", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg1NzlhMjdhYTc1OTZmZDQxN2Q4NDU0Mzk0OWM1NTUwN2FiYjQ1Ng==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-07-11T04:04:49Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2003-07-11T04:04:49Z"}, "message": "acinclude.m4 (GLIBCC_ENABLE_SYMVERS): Tweak comments.\n\n2003-07-11  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* acinclude.m4 (GLIBCC_ENABLE_SYMVERS):  Tweak comments.  Add\n\twarning messages if the environment cannot support symbol versioning.\n\t(port_specific_symbol_file):  It's plural, add an 's' on the end.\n\t* configure.host:  Likewise.\n\t* src/Makefile.am:  Likewise.\n\t* config/linker-map.gnu:  Remove one semicolon, heh.\n\t* scripts/extract_symvers:  Don't assume useful 'export' syntax.\n\tSet LANG as well as LC_ALL for possibly-broken sort(1)s.\n\t* aclocal.m4, configure, src/Makefile.in:  Regenerated.\n\nFrom-SVN: r69212", "tree": {"sha": "a526278509386a25469c85665d9825bad22b99a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a526278509386a25469c85665d9825bad22b99a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58579a27aa7596fd417d84543949c55507abb456", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58579a27aa7596fd417d84543949c55507abb456", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58579a27aa7596fd417d84543949c55507abb456", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58579a27aa7596fd417d84543949c55507abb456/comments", "author": null, "committer": null, "parents": [{"sha": "1dc9efda9178487c316f04470064772aa59acc1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dc9efda9178487c316f04470064772aa59acc1c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dc9efda9178487c316f04470064772aa59acc1c"}], "stats": {"total": 224, "additions": 104, "deletions": 120}, "files": [{"sha": "19354844a8048062b1b1f76a61847585a1344b85", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -1,3 +1,15 @@\n+2003-07-11  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* acinclude.m4 (GLIBCC_ENABLE_SYMVERS):  Tweak comments.  Add\n+\twarning messages if the environment cannot support symbol versioning.\n+\t(port_specific_symbol_file):  It's plural, add an 's' on the end.\n+\t* configure.host:  Likewise.\n+\t* src/Makefile.am:  Likewise.\n+\t* config/linker-map.gnu:  Remove one semicolon, heh.\n+\t* scripts/extract_symvers:  Don't assume useful 'export' syntax.\n+\tSet LANG as well as LC_ALL for possibly-broken sort(1)s.\n+\t* aclocal.m4, configure, src/Makefile.in:  Regenerated.\n+\n 2003-07-09  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* include/bits/locale_facets.tcc: Use function object for"}, {"sha": "953c46090b44ace96b29ee1ec2b17b51a76dfca5", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -2259,12 +2259,12 @@ if test $enable_symvers != no; then\n   AC_MSG_RESULT($glibcxx_shared_libgcc)\n fi\n \n-# For GNU ld, we need at least this version.  It's 2.14 in the same format\n-# as the tested-for version.  See GLIBCXX_CHECK_LINKER_FEATURES for more.\n+# For GNU ld, we need at least this version.  The format is described in\n+# GLIBCXX_CHECK_LINKER_FEATURES above.\n glibcxx_min_gnu_ld_version=21400\n \n-# Check to see if unspecified \"yes\" value can win, given results\n-# above.\n+# Check to see if unspecified \"yes\" value can win, given results above.\n+# Change \"yes\" into either \"no\" or a style name.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n      test $glibcxx_shared_libgcc = yes ;\n@@ -2273,10 +2273,19 @@ if test $enable_symvers = yes ; then\n       enable_symvers=gnu\n     else\n       # The right tools, the right setup, but too old.  Fallbacks?\n+      AC_MSG_WARN(=== Linker version $glibcxx_gnu_ld_version is too old for)\n+      AC_MSG_WARN(=== full symbol versioning support in this release of GCC.)\n+      AC_MSG_WARN(=== You would need to upgrade your binutils to version)\n+      AC_MSG_WARN(=== $glibcxx_min_gnu_ld_version or later and rebuild GCC.)\n+      AC_MSG_WARN([=== Symbol versioning will be disabled.])\n       enable_symvers=no\n     fi\n   else\n     # just fail for now\n+    AC_MSG_WARN([=== You have requested some kind of symbol versioning, but])\n+    AC_MSG_WARN([=== either you are not using a supported linker, or you are])\n+    AC_MSG_WARN([=== not building a shared libgcc_s (which is required).])\n+    AC_MSG_WARN([=== Symbol versioning will be disabled.])\n     enable_symvers=no\n   fi\n fi\n@@ -2293,7 +2302,7 @@ case $enable_symvers in\n esac\n \n AC_SUBST(SYMVER_MAP)\n-AC_SUBST(port_specific_symbol_file)\n+AC_SUBST(port_specific_symbol_files)\n AM_CONDITIONAL(GLIBCXX_BUILD_VERSIONED_SHLIB, test $enable_symvers != no)\n AC_MSG_CHECKING([versioning on shared library symbols])\n AC_MSG_RESULT($enable_symvers)"}, {"sha": "b0cdfd9eed0e7662e75edc0807430795f6d9ce3f", "filename": "libstdc++-v3/aclocal.m4", "status": "modified", "additions": 14, "deletions": 5, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Faclocal.m4?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -2271,12 +2271,12 @@ if test $enable_symvers != no; then\n   AC_MSG_RESULT($glibcxx_shared_libgcc)\n fi\n \n-# For GNU ld, we need at least this version.  It's 2.14 in the same format\n-# as the tested-for version.  See GLIBCXX_CHECK_LINKER_FEATURES for more.\n+# For GNU ld, we need at least this version.  The format is described in\n+# GLIBCXX_CHECK_LINKER_FEATURES above.\n glibcxx_min_gnu_ld_version=21400\n \n-# Check to see if unspecified \"yes\" value can win, given results\n-# above.\n+# Check to see if unspecified \"yes\" value can win, given results above.\n+# Change \"yes\" into either \"no\" or a style name.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n      test $glibcxx_shared_libgcc = yes ;\n@@ -2285,10 +2285,19 @@ if test $enable_symvers = yes ; then\n       enable_symvers=gnu\n     else\n       # The right tools, the right setup, but too old.  Fallbacks?\n+      AC_MSG_WARN(=== Linker version $glibcxx_gnu_ld_version is too old for)\n+      AC_MSG_WARN(=== full symbol versioning support in this release of GCC.)\n+      AC_MSG_WARN(=== You would need to upgrade your binutils to version)\n+      AC_MSG_WARN(=== $glibcxx_min_gnu_ld_version or later and rebuild GCC.)\n+      AC_MSG_WARN([=== Symbol versioning will be disabled.])\n       enable_symvers=no\n     fi\n   else\n     # just fail for now\n+    AC_MSG_WARN([=== You have requested some kind of symbol versioning, but])\n+    AC_MSG_WARN([=== either you are not using a supported linker, or you are])\n+    AC_MSG_WARN([=== not building a shared libgcc_s (which is required).])\n+    AC_MSG_WARN([=== Symbol versioning will be disabled.])\n     enable_symvers=no\n   fi\n fi\n@@ -2305,7 +2314,7 @@ case $enable_symvers in\n esac\n \n AC_SUBST(SYMVER_MAP)\n-AC_SUBST(port_specific_symbol_file)\n+AC_SUBST(port_specific_symbol_files)\n AM_CONDITIONAL(GLIBCXX_BUILD_VERSIONED_SHLIB, test $enable_symvers != no)\n AC_MSG_CHECKING([versioning on shared library symbols])\n AC_MSG_RESULT($enable_symvers)"}, {"sha": "3e6b5a3040d32bb72d9afd5ee6a6541c73d9fecd", "filename": "libstdc++-v3/config/linker-map.gnu", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfig%2Flinker-map.gnu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfig%2Flinker-map.gnu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Flinker-map.gnu?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -55,7 +55,7 @@ GLIBCXX_3.4 {\n       std::__num_base::_S_format_int*;\n       std::__num_base::_S_atoms_in;\n       std::__num_base::_S_atoms_out;\n-      std::__numpunct_cache*;\n+      std::__numpunct_cache*\n     };\n \n     # Names not in an 'extern' block are mangled names."}, {"sha": "c3444b95ab2ccd57d93be471b08ca9a04386cb99", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 38, "deletions": 29, "changes": 67, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -23231,12 +23231,12 @@ rm -f conftest*\n   echo \"$ac_t\"\"$glibcxx_shared_libgcc\" 1>&6\n fi\n \n-# For GNU ld, we need at least this version.  It's 2.14 in the same format\n-# as the tested-for version.  See GLIBCXX_CHECK_LINKER_FEATURES for more.\n+# For GNU ld, we need at least this version.  The format is described in\n+# GLIBCXX_CHECK_LINKER_FEATURES above.\n glibcxx_min_gnu_ld_version=21400\n \n-# Check to see if unspecified \"yes\" value can win, given results\n-# above.\n+# Check to see if unspecified \"yes\" value can win, given results above.\n+# Change \"yes\" into either \"no\" or a style name.\n if test $enable_symvers = yes ; then\n   if test $with_gnu_ld = yes &&\n      test $glibcxx_shared_libgcc = yes ;\n@@ -23245,10 +23245,19 @@ if test $enable_symvers = yes ; then\n       enable_symvers=gnu\n     else\n       # The right tools, the right setup, but too old.  Fallbacks?\n+      echo \"configure: warning: === Linker version $glibcxx_gnu_ld_version is too old for\" 1>&2\n+      echo \"configure: warning: === full symbol versioning support in this release of GCC.\" 1>&2\n+      echo \"configure: warning: === You would need to upgrade your binutils to version\" 1>&2\n+      echo \"configure: warning: === $glibcxx_min_gnu_ld_version or later and rebuild GCC.\" 1>&2\n+      echo \"configure: warning: === Symbol versioning will be disabled.\" 1>&2\n       enable_symvers=no\n     fi\n   else\n     # just fail for now\n+    echo \"configure: warning: === You have requested some kind of symbol versioning, but\" 1>&2\n+    echo \"configure: warning: === either you are not using a supported linker, or you are\" 1>&2\n+    echo \"configure: warning: === not building a shared libgcc_s (which is required).\" 1>&2\n+    echo \"configure: warning: === Symbol versioning will be disabled.\" 1>&2\n     enable_symvers=no\n   fi\n fi\n@@ -23278,7 +23287,7 @@ else\n   GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE=\n fi\n echo $ac_n \"checking versioning on shared library symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:23282: checking versioning on shared library symbols\" >&5\n+echo \"configure:23291: checking versioning on shared library symbols\" >&5\n echo \"$ac_t\"\"$enable_symvers\" 1>&6\n \n \n@@ -23293,17 +23302,17 @@ echo \"$ac_t\"\"$enable_symvers\" 1>&6\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:23297: checking for $ac_hdr\" >&5\n+echo \"configure:23306: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 23302 \"configure\"\n+#line 23311 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:23307: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:23316: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -23336,7 +23345,7 @@ done\n     # Can't do these in a loop, else the resulting syntax is wrong.\n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23340 \"configure\"\n+#line 23349 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23346,7 +23355,7 @@ int main() {\n  int f = RLIMIT_DATA ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23350: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23359: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23363,7 +23372,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23367 \"configure\"\n+#line 23376 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23373,7 +23382,7 @@ int main() {\n  int f = RLIMIT_RSS ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23377: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23386: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23390,7 +23399,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23394 \"configure\"\n+#line 23403 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23400,7 +23409,7 @@ int main() {\n  int f = RLIMIT_VMEM ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23404: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23413: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23417,7 +23426,7 @@ EOF\n \n     \n   cat > conftest.$ac_ext <<EOF\n-#line 23421 \"configure\"\n+#line 23430 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23427,7 +23436,7 @@ int main() {\n  int f = RLIMIT_AS ; \n ; return 0; }\n EOF\n-if { (eval echo configure:23431: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23440: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_mresult=1\n else\n@@ -23449,7 +23458,7 @@ EOF\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 23453 \"configure\"\n+#line 23462 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n                   #include <sys/time.h>\n@@ -23459,7 +23468,7 @@ int main() {\n  struct rlimit r; setrlimit(0, &r);\n ; return 0; }\n EOF\n-if { (eval echo configure:23463: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23472: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_setrlimit=yes\n else\n@@ -23475,7 +23484,7 @@ fi\n   fi\n \n   echo $ac_n \"checking for testsuite memory limit support\"\"... $ac_c\" 1>&6\n-echo \"configure:23479: checking for testsuite memory limit support\" >&5\n+echo \"configure:23488: checking for testsuite memory limit support\" >&5\n   if test $setrlimit_have_headers = yes && test $ac_setrlimit = yes; then\n     ac_mem_limits=yes\n     cat >> confdefs.h <<\\EOF\n@@ -23491,7 +23500,7 @@ EOF\n     # Look for setenv, so that extended locale tests can be performed.\n     \n   echo $ac_n \"checking for setenv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:23495: checking for setenv declaration\" >&5\n+echo \"configure:23504: checking for setenv declaration\" >&5\n   if test x${glibcxx_cv_func_setenv_use+set} != xset; then\n     if eval \"test \\\"`echo '$''{'glibcxx_cv_func_setenv_use'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -23506,14 +23515,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n       cat > conftest.$ac_ext <<EOF\n-#line 23510 \"configure\"\n+#line 23519 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n int main() {\n  setenv(0, 0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:23517: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:23526: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcxx_cv_func_setenv_use=yes\n else\n@@ -23539,12 +23548,12 @@ fi\n     for ac_func in setenv\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:23543: checking for $ac_func\" >&5\n+echo \"configure:23552: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 23548 \"configure\"\n+#line 23557 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -23567,7 +23576,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:23571: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:23580: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -23727,7 +23736,7 @@ glibcxx_prefixdir=${prefix}\n \n # Process the option --with-gxx-include-dir=<path to include-files directory>\n echo $ac_n \"checking for --with-gxx-include-dir\"\"... $ac_c\" 1>&6\n-echo \"configure:23731: checking for --with-gxx-include-dir\" >&5\n+echo \"configure:23740: checking for --with-gxx-include-dir\" >&5\n # Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n if test \"${with_gxx_include_dir+set}\" = set; then\n   withval=\"$with_gxx_include_dir\"\n@@ -23751,7 +23760,7 @@ echo \"$ac_t\"\"$gxx_include_dir\" 1>&6\n \n # Process the option \"--enable-version-specific-runtime-libs\"\n echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n-echo \"configure:23755: checking for --enable-version-specific-runtime-libs\" >&5\n+echo \"configure:23764: checking for --enable-version-specific-runtime-libs\" >&5\n # Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n   enableval=\"$enable_version_specific_runtime_libs\"\n@@ -23802,7 +23811,7 @@ if test x\"$glibcxx_toolexecdir\" = x\"no\"; then\n fi\n \n echo $ac_n \"checking for install location\"\"... $ac_c\" 1>&6\n-echo \"configure:23806: checking for install location\" >&5\n+echo \"configure:23815: checking for install location\" >&5\n echo \"$ac_t\"\"$gxx_include_dir\" 1>&6\n \n \n@@ -24086,7 +24095,7 @@ s%@OPT_LDFLAGS@%$OPT_LDFLAGS%g\n s%@LIBMATHOBJS@%$LIBMATHOBJS%g\n s%@WERROR@%$WERROR%g\n s%@SYMVER_MAP@%$SYMVER_MAP%g\n-s%@port_specific_symbol_file@%$port_specific_symbol_file%g\n+s%@port_specific_symbol_files@%$port_specific_symbol_files%g\n s%@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@%$GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE%g\n s%@GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@%$GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE%g\n s%@baseline_dir@%$baseline_dir%g"}, {"sha": "13c6fd9982afe16d7be6a2fea393b0f3eeb545fc", "filename": "libstdc++-v3/configure.host", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfigure.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fconfigure.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.host?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -41,7 +41,7 @@\n #                          the form '-Wl,blah'\n #                          (defaults to empty in acinclude.m4)\n #\n-#   port_specific_symbol_file\n+#   port_specific_symbol_files\n #                          whitespace-seperated list of files containing\n #                              additional symbols to export from the shared\n #                              library, when symbol versioning is in use"}, {"sha": "c7798b7e50603ddb3a402fad2ab384c856a27d85", "filename": "libstdc++-v3/scripts/extract_symvers", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fscripts%2Fextract_symvers", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fscripts%2Fextract_symvers", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Fextract_symvers?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -1,6 +1,6 @@\n #!/bin/sh\n \n-# Copyright (C) 2002 Free Software Foundation, Inc.\n+# Copyright (C) 2002, 2003 Free Software Foundation, Inc.\n #\n # This file is part of the GNU ISO C++ Library.  This library is free\n # software; you can redistribute it and/or modify it under the\n@@ -45,7 +45,10 @@ if readelf --help | grep -- --wide > /dev/null; then\n fi\n \n # This avoids weird sorting problems later.\n-export LC_ALL=C\n+LC_ALL=C\n+export LC_ALL\n+LANG=C\n+export LANG\n \n tmp=extract.$$\n "}, {"sha": "b8475e3dd52ec7254bcc27fe922aad6aca484f79", "filename": "libstdc++-v3/src/Makefile.am", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.am?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -37,14 +37,13 @@ toolexeclib_LTLIBRARIES = libstdc++.la\n \n # Symbol versioning for shared libraries.\n if GLIBCXX_BUILD_VERSIONED_SHLIB\n-port_specific_symbol_file = @port_specific_symbol_file@\n version_arg = -Wl,--version-script=libstdc++-symbol.ver\n libstdc++-symbol.ver:  ${glibcxx_srcdir}/@SYMVER_MAP@\n \tcp ${glibcxx_srcdir}/@SYMVER_MAP@ ./libstdc++-symbol.ver\n-\tif test \"x${port_specific_symbol_file}\" != x; then \\\n+\tif test \"x@port_specific_symbol_files@\" != x; then \\\n \t  sed -n '1,/DO NOT DELETE/p' $@ > tmp.top; \\\n \t  sed -n '/DO NOT DELETE/,$$p' $@ > tmp.bottom; \\\n-\t  cat tmp.top $(port_specific_symbol_file) tmp.bottom > $@; \\\n+\t  cat tmp.top @port_specific_symbol_file@ tmp.bottom > $@; \\\n \t  rm tmp.top tmp.bottom; \\\n \tfi\n else"}, {"sha": "fada411052eb63206b3fe4ad6cfbb89ea5bdda8e", "filename": "libstdc++-v3/src/Makefile.in", "status": "modified", "additions": 17, "deletions": 74, "changes": 91, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58579a27aa7596fd417d84543949c55507abb456/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2FMakefile.in?ref=58579a27aa7596fd417d84543949c55507abb456", "patch": "@@ -133,6 +133,7 @@ glibcxx_toolexeclibdir = @glibcxx_toolexeclibdir@\n gxx_include_dir = @gxx_include_dir@\n ifGNUmake = @ifGNUmake@\n libtool_VERSION = @libtool_VERSION@\n+port_specific_symbol_files = @port_specific_symbol_files@\n toplevel_srcdir = @toplevel_srcdir@\n \n AUTOMAKE_OPTIONS = 1.3 cygnus\n@@ -147,10 +148,7 @@ glibcxx_builddir = @glibcxx_builddir@\n toolexecdir = @glibcxx_toolexecdir@\n toolexeclibdir = @glibcxx_toolexeclibdir@\n toolexeclib_LTLIBRARIES = libstdc++.la\n-\n-# Symbol versioning for shared libraries.\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@port_specific_symbol_file = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@@port_specific_symbol_file@\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@version_arg = @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@-Wl,--version-script=libstdc++-symbol.ver\n+@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@version_arg = -Wl,--version-script=libstdc++-symbol.ver\n @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@version_arg = \n \n # Compile flags that should be constant throughout the build, both for\n@@ -159,13 +157,11 @@ OPTIMIZE_CXXFLAGS = @OPTIMIZE_CXXFLAGS@\n \n # These bits are all figured out from configure. Look in acinclude.m4\n # or configure.in to see how they are set. See GLIBCXX_EXPORT_FLAGS\n-CONFIG_CXXFLAGS = \\\n-\t@SECTION_FLAGS@ @EXTRA_CXX_FLAGS@\n+CONFIG_CXXFLAGS =  \t@SECTION_FLAGS@ @EXTRA_CXX_FLAGS@\n \n \n # Warning flags to use.\n-WARN_CXXFLAGS = \\\n-\t@WARN_FLAGS@ $(WERROR) -fdiagnostics-show-location=once\n+WARN_CXXFLAGS =  \t@WARN_FLAGS@ $(WERROR) -fdiagnostics-show-location=once\n \n \n # Use common includes from acinclude.m4/GLIBCXX_EXPORT_INCLUDES\n@@ -174,79 +170,33 @@ LIBMATH_INCLUDES = @LIBMATH_INCLUDES@\n LIBSUPCXX_INCLUDES = @LIBSUPCXX_INCLUDES@\n TOPLEVEL_INCLUDES = @TOPLEVEL_INCLUDES@\n \n-INCLUDES = \\\n-\t-nostdinc++ \\\n-\t$(GLIBCXX_INCLUDES) \\\n-\t$(LIBSUPCXX_INCLUDES) $(LIBMATH_INCLUDES) \\\n-\t$(TOPLEVEL_INCLUDES)\n+INCLUDES =  \t-nostdinc++ \t$(GLIBCXX_INCLUDES) \t$(LIBSUPCXX_INCLUDES) $(LIBMATH_INCLUDES) \t$(TOPLEVEL_INCLUDES)\n \n \n # Source files linked in via configuration/make substitution for a\n # particular host.\n-host_sources = \\\n-\tcodecvt_members.cc \\\n-\tcollate_members.cc \\\n-\tctype_members.cc \\\n-\tmessages_members.cc \\\n-\tmonetary_members.cc \\\n-\tnumeric_members.cc \\\n-\ttime_members.cc\n+host_sources =  \tcodecvt_members.cc \tcollate_members.cc \tctype_members.cc \tmessages_members.cc \tmonetary_members.cc \tnumeric_members.cc \ttime_members.cc\n \n \n # Source files linked in via configuration/make substitution for a\n # particular host, but with ad hoc naming rules.\n-host_sources_extra = \\\n-\tbasic_file.cc \\\n-\tc++locale.cc\n+host_sources_extra =  \tbasic_file.cc \tc++locale.cc\n \n \n # Sources present in the src directory.\n-sources = \\\n-\tallocator-inst.cc \\\n-\tcodecvt.cc \\\n-\tcomplex_io.cc \\\n-\tconcept-inst.cc \\\n-\tctype.cc \\\n-\tdemangle.cc \\\n-\text-inst.cc \\\n-\tfstream-inst.cc \\\n-\tfunctexcept.cc \\\n-\tglobals.cc \\\n-\tio-inst.cc \\\n-\tios.cc \\\n-\tistream-inst.cc \\\n-\tlimits.cc \\\n-\tlocale.cc \\\n-\tlocale-inst.cc \\\n-\tlocalename.cc \\\n-\tmisc-inst.cc \\\n-\tostream-inst.cc \\\n-\tsstream-inst.cc \\\n-\tstdexcept.cc \\\n-\tstl_tree.cc \\\n-\tstreambuf-inst.cc \\\n-\tstring-inst.cc \\\n-\tstrstream.cc \\\n-\tvalarray-inst.cc \\\n-\twstring-inst.cc \\\n-\t${host_sources} \\\n-\t${host_sources_extra}\n+sources =  \tallocator-inst.cc \tcodecvt.cc \tcomplex_io.cc \tconcept-inst.cc \tctype.cc \tdemangle.cc \text-inst.cc \tfstream-inst.cc \tfunctexcept.cc \tglobals.cc \tio-inst.cc \tios.cc \tistream-inst.cc \tlimits.cc \tlocale.cc \tlocale-inst.cc \tlocalename.cc \tmisc-inst.cc \tostream-inst.cc \tsstream-inst.cc \tstdexcept.cc \tstl_tree.cc \tstreambuf-inst.cc \tstring-inst.cc \tstrstream.cc \tvalarray-inst.cc \twstring-inst.cc \t${host_sources} \t${host_sources_extra}\n \n \n VPATH = $(top_srcdir)/src:$(top_srcdir)\n \n libstdc___la_SOURCES = $(sources)\n \n-libstdc___la_LIBADD = \\\n-\t$(top_builddir)/libmath/libmath.la \\\n-\t$(top_builddir)/libsupc++/libsupc++convenience.la\n+libstdc___la_LIBADD =  \t$(top_builddir)/libmath/libmath.la \t$(top_builddir)/libsupc++/libsupc++convenience.la\n \n \n libstdc___la_DEPENDENCIES = libstdc++-symbol.ver $(libstdc___la_LIBADD)\n \n-libstdc___la_LDFLAGS = \\\n-\t-version-info @libtool_VERSION@ ${version_arg} \\\n-\t-lm @LIBUNWIND_FLAG@\n+libstdc___la_LDFLAGS =  \t-version-info @libtool_VERSION@ ${version_arg} \t-lm @LIBUNWIND_FLAG@\n \n \n # Use special rules for the deprecated source files so that they find\n@@ -258,12 +208,7 @@ GLIBCXX_INCLUDE_DIR = @glibcxx_builddir@/include\n # set this option because CONFIG_CXXFLAGS has to be after\n # OPTIMIZE_CXXFLAGS on the compile line so that -O2 can be overridden\n # as the occasion calls for it.\n-AM_CXXFLAGS = \\\n-\t-fno-implicit-templates \\\n-\t$(LIBSUPCXX_CXXFLAGS) \\\n-\t$(WARN_CXXFLAGS) \\\n-\t$(OPTIMIZE_CXXFLAGS) \\\n-\t$(CONFIG_CXXFLAGS)\n+AM_CXXFLAGS =  \t-fno-implicit-templates \t$(LIBSUPCXX_CXXFLAGS) \t$(WARN_CXXFLAGS) \t$(OPTIMIZE_CXXFLAGS) \t$(CONFIG_CXXFLAGS)\n \n \n # libstdc++ libtool notes\n@@ -284,8 +229,7 @@ AM_CXXFLAGS = \\\n # correct solution is to add `--tag CXX' to LTCXXCOMPILE and maybe\n # CXXLINK, just after $(LIBTOOL), so that libtool doesn't have to\n # attempt to infer which configuration to use\n-LTCXXCOMPILE = $(LIBTOOL) --tag CXX --mode=compile $(CXX) $(INCLUDES) \\\n-\t       $(AM_CPPFLAGS) $(CPPFLAGS) $(CXXFLAGS) $(AM_CXXFLAGS)\n+LTCXXCOMPILE = $(LIBTOOL) --tag CXX --mode=compile $(CXX) $(INCLUDES) \t       $(AM_CPPFLAGS) $(CPPFLAGS) $(CXXFLAGS) $(AM_CXXFLAGS)\n \n \n # 3) We'd have a problem when building the shared libstdc++ object if\n@@ -294,8 +238,7 @@ LTCXXCOMPILE = $(LIBTOOL) --tag CXX --mode=compile $(CXX) $(INCLUDES) \\\n # course is problematic at this point.  So, we get the top-level\n # directory to configure libstdc++-v3 to use gcc as the C++\n # compilation driver.\n-CXXLINK = $(LIBTOOL) --tag CXX --mode=link $(CXX) \\\n-\t  @OPT_LDFLAGS@ @SECTION_LDFLAGS@ $(AM_CXXFLAGS) $(LDFLAGS) -o $@\n+CXXLINK = $(LIBTOOL) --tag CXX --mode=link $(CXX) \t  @OPT_LDFLAGS@ @SECTION_LDFLAGS@ $(AM_CXXFLAGS) $(LDFLAGS) -o $@\n \n \n debugdir = debug\n@@ -325,7 +268,7 @@ DIST_COMMON =  Makefile.am Makefile.in\n \n DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)\n \n-TAR = gtar\n+TAR = tar\n GZIP_ENV = --best\n SOURCES = $(libstdc___la_SOURCES)\n OBJECTS = $(libstdc___la_OBJECTS)\n@@ -437,7 +380,7 @@ TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) $(LISP)\n \t  awk '    { files[$$0] = 1; } \\\n \t       END { for (i in files) print i; }'`; \\\n \ttest -z \"$(ETAGS_ARGS)$$unique$(LISP)$$tags\" \\\n-\t  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags  $$unique $(LISP) -o $$here/TAGS)\n+\t  || (cd $(srcdir) && etags -o $$here/TAGS $(ETAGS_ARGS) $$tags  $$unique $(LISP))\n \n mostlyclean-tags:\n \n@@ -545,10 +488,10 @@ mostlyclean distclean maintainer-clean\n \n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@libstdc++-symbol.ver:  ${glibcxx_srcdir}/@SYMVER_MAP@\n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tcp ${glibcxx_srcdir}/@SYMVER_MAP@ ./libstdc++-symbol.ver\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tif test \"x${port_specific_symbol_file}\" != x; then \\\n+@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tif test \"x@port_specific_symbol_files@\" != x; then \\\n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  sed -n '1,/DO NOT DELETE/p' $@ > tmp.top; \\\n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  sed -n '/DO NOT DELETE/,$$p' $@ > tmp.bottom; \\\n-@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  cat tmp.top $(port_specific_symbol_file) tmp.bottom > $@; \\\n+@GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  cat tmp.top @port_specific_symbol_file@ tmp.bottom > $@; \\\n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\t  rm tmp.top tmp.bottom; \\\n @GLIBCXX_BUILD_VERSIONED_SHLIB_TRUE@\tfi\n @GLIBCXX_BUILD_VERSIONED_SHLIB_FALSE@libstdc++-symbol.ver:"}]}