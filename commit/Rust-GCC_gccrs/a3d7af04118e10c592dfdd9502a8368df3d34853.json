{"sha": "a3d7af04118e10c592dfdd9502a8368df3d34853", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTNkN2FmMDQxMThlMTBjNTkyZGZkZDk1MDJhODM2OGRmM2QzNDg1Mw==", "commit": {"author": {"name": "Sharad Singhai", "email": "singhai@google.com", "date": "2013-01-18T18:26:04Z"}, "committer": {"name": "Sharad Singhai", "email": "singhai@gcc.gnu.org", "date": "2013-01-18T18:26:04Z"}, "message": "re PR tree-optimization/55995 (vect increase_alignment notes missing from dump file)\n\n2013-01-18  Sharad Singhai  <singhai@google.com>\n\n\tPR tree-optimization/55995\n\t* dumpfile.c (dump_loc): Print location only if available.\n\t* tree-vectorizer.c (increase_alignment): Intialize vect_location.\n\ntestsuite/ChangeLog\n\tPR tree-optimization/55995\n\t* gcc.dg/vect/vect.exp: Use \"details\" flags for dump info.\n\nFrom-SVN: r195303", "tree": {"sha": "f815f25d8f722ca435ea413125a86500a173f9e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f815f25d8f722ca435ea413125a86500a173f9e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3d7af04118e10c592dfdd9502a8368df3d34853", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3d7af04118e10c592dfdd9502a8368df3d34853", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3d7af04118e10c592dfdd9502a8368df3d34853", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3d7af04118e10c592dfdd9502a8368df3d34853/comments", "author": null, "committer": null, "parents": [{"sha": "66aa7879c87e4ecc9f99509c517afa0b4401f0c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66aa7879c87e4ecc9f99509c517afa0b4401f0c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66aa7879c87e4ecc9f99509c517afa0b4401f0c4"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "31132772e0154fe3ace7272d6632891debbcb50f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a3d7af04118e10c592dfdd9502a8368df3d34853", "patch": "@@ -1,3 +1,9 @@\n+2013-01-18  Sharad Singhai  <singhai@google.com>\n+\n+\tPR tree-optimization/55995\n+\t* dumpfile.c (dump_loc): Print location only if available.\n+\t* tree-vectorizer.c (increase_alignment): Intialize vect_location.\n+\n 2013-01-18  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR target/55433"}, {"sha": "ddd7c962cc2bc10005cb47eb98862db1cff807b6", "filename": "gcc/dumpfile.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Fdumpfile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Fdumpfile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdumpfile.c?ref=a3d7af04118e10c592dfdd9502a8368df3d34853", "patch": "@@ -260,14 +260,13 @@ dump_loc (int dump_kind, FILE *dfile, source_location loc)\n   /* Currently vectorization passes print location information.  */\n   if (dump_kind)\n     {\n-      if (loc == UNKNOWN_LOCATION)\n+      if (loc != UNKNOWN_LOCATION)\n+        fprintf (dfile, \"\\n%s:%d: note: \", LOCATION_FILE (loc),\n+                 LOCATION_LINE (loc));\n+      else if (current_function_decl)\n         fprintf (dfile, \"\\n%s:%d: note: \",\n                  DECL_SOURCE_FILE (current_function_decl),\n                  DECL_SOURCE_LINE (current_function_decl));\n-     else\n-        fprintf (dfile, \"\\n%s:%d: note: \",\n-                 LOCATION_FILE (loc),\n-                 LOCATION_LINE (loc));\n     }\n }\n "}, {"sha": "20ebbbb872af4e011cf31973fdaac415236b4662", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3d7af04118e10c592dfdd9502a8368df3d34853", "patch": "@@ -1,3 +1,8 @@\n+2013-01-18  Sharad Singhai  <singhai@google.com>\n+\n+\tPR tree-optimization/55995\n+\t* gcc.dg/vect/vect.exp: Use \"details\" flags for dump info.\n+\n 2013-01-18  Vladimir Makarov  <vmakarov@redhat.com>\n \n \tPR target/55433"}, {"sha": "bea7ee0064baeb99ea3ff131fd7d6dea3a275f2e", "filename": "gcc/testsuite/gcc.dg/vect/vect.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect.exp?ref=a3d7af04118e10c592dfdd9502a8368df3d34853", "patch": "@@ -156,7 +156,8 @@ dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/section-anchors-*.\\[cS\\]]]\n \n # alignment-sensitive -fsection-anchors tests\n set DEFAULT_VECTCFLAGS $SAVED_DEFAULT_VECTCFLAGS\n-lappend DEFAULT_VECTCFLAGS \"-fsection-anchors\" \"-fdump-ipa-increase_alignment\"\n+lappend DEFAULT_VECTCFLAGS \"-fsection-anchors\" \\\n+\t\"-fdump-ipa-increase_alignment-details\"\n dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/aligned-section-anchors-*.\\[cS\\]]]  \\\n \t\"\" $DEFAULT_VECTCFLAGS\n "}, {"sha": "42ebb8d250f5baefabac07af9a2bcb43907ae43f", "filename": "gcc/tree-vectorizer.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftree-vectorizer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3d7af04118e10c592dfdd9502a8368df3d34853/gcc%2Ftree-vectorizer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vectorizer.c?ref=a3d7af04118e10c592dfdd9502a8368df3d34853", "patch": "@@ -225,6 +225,8 @@ increase_alignment (void)\n {\n   struct varpool_node *vnode;\n \n+  vect_location = UNKNOWN_LOC;\n+\n   /* Increase the alignment of all global arrays for vectorization.  */\n   FOR_EACH_DEFINED_VARIABLE (vnode)\n     {"}]}