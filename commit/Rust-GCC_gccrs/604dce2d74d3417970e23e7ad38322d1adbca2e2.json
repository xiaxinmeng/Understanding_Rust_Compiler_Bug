{"sha": "604dce2d74d3417970e23e7ad38322d1adbca2e2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA0ZGNlMmQ3NGQzNDE3OTcwZTIzZTdhZDM4MzIyZDFhZGJjYTJlMg==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-06-25T19:31:39Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-06-29T18:57:01Z"}, "message": "Allow PHIs to pick up global values.\n\nWe can also apply known global values to PHI nodes in EVRP.\n\n\t* value-query.cc (gimple_range_global): Allow phis.", "tree": {"sha": "c87a1bfb4240e5cc621b88615a0526e937e2d22b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c87a1bfb4240e5cc621b88615a0526e937e2d22b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/604dce2d74d3417970e23e7ad38322d1adbca2e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604dce2d74d3417970e23e7ad38322d1adbca2e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/604dce2d74d3417970e23e7ad38322d1adbca2e2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604dce2d74d3417970e23e7ad38322d1adbca2e2/comments", "author": null, "committer": null, "parents": [{"sha": "a7e655ae4016eaf04e261ff32fc67a14ebb0e329", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7e655ae4016eaf04e261ff32fc67a14ebb0e329", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7e655ae4016eaf04e261ff32fc67a14ebb0e329"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "730a214927533e66e23c89b75d570983fe7be845", "filename": "gcc/value-query.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/604dce2d74d3417970e23e7ad38322d1adbca2e2/gcc%2Fvalue-query.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/604dce2d74d3417970e23e7ad38322d1adbca2e2/gcc%2Fvalue-query.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvalue-query.cc?ref=604dce2d74d3417970e23e7ad38322d1adbca2e2", "patch": "@@ -419,7 +419,8 @@ gimple_range_global (tree name)\n   gcc_checking_assert (gimple_range_ssa_p (name));\n   tree type = TREE_TYPE (name);\n \n-  if (SSA_NAME_IS_DEFAULT_DEF (name) || (cfun && cfun->after_inlining))\n+  if (SSA_NAME_IS_DEFAULT_DEF (name) || (cfun && cfun->after_inlining)\n+      || is_a<gphi *> (SSA_NAME_DEF_STMT (name)))\n     {\n       value_range vr;\n       get_range_global (vr, name);"}]}