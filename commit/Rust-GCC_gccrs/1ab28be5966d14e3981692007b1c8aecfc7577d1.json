{"sha": "1ab28be5966d14e3981692007b1c8aecfc7577d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWFiMjhiZTU5NjZkMTRlMzk4MTY5MjAwN2IxYzhhZWNmYzc1NzdkMQ==", "commit": {"author": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2007-08-31T19:15:26Z"}, "committer": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2007-08-31T19:15:26Z"}, "message": "mangle.c (write_type): Change mangling of rvalue reference from `RR' to `O'.\n\n2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n\n\t* mangle.c (write_type): Change mangling of rvalue reference from\n\t`RR' to `O'. \n\n2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n\t\n\t* demangle.h (enum demangle_component_type): Add\n\tDEMANGLE_COMPONENT_RVALUE_REFERENCE. \n\n2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n\t\n\t* cp-demangle.c (d_dump): Handle\n\tDEMANGLE_COMPONENT_RVALUE_REFERENCE. \n\t(d_make_comp): Ditto.\n\t(cplus_demangle_type): Ditto.\n\t(d_print_comp): Ditto.\n\t(d_print_mod): Ditto.\n\t(d_print_function_type): Ditto.\n\n2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n\n\t* testsuite/abi/demangle/cxx0x/rref.cc: New.\n\nFrom-SVN: r127999", "tree": {"sha": "c76c68427c0ca0171a3ebeaf7bd79a511fff88d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c76c68427c0ca0171a3ebeaf7bd79a511fff88d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ab28be5966d14e3981692007b1c8aecfc7577d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ab28be5966d14e3981692007b1c8aecfc7577d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ab28be5966d14e3981692007b1c8aecfc7577d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ab28be5966d14e3981692007b1c8aecfc7577d1/comments", "author": null, "committer": null, "parents": [{"sha": "5e18375c6ea2513c5a171f817966f11ee0af9b50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e18375c6ea2513c5a171f817966f11ee0af9b50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e18375c6ea2513c5a171f817966f11ee0af9b50"}], "stats": {"total": 83, "additions": 80, "deletions": 3}, "files": [{"sha": "cc5e063d0e878bd254bcf39573ddfd50b0572b7a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -1,3 +1,8 @@\n+2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n+\n+\t* mangle.c (write_type): Change mangling of rvalue reference from\n+\t`RR' to `O'. \n+\n 2007-08-31  Jakub Jelinek  <jakub@redhat.com>\n \n \t* decl.c (duplicate_decls): Remove duplicated line.\n@@ -33,6 +38,7 @@\n \t(get_delta_difference_1): New function.\n \t(get_delta_difference): Refactor to call get_delta_difference_1.\n \n+>>>>>>> .r127998\n 2007-08-28  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR c++/33209"}, {"sha": "cad76e37631c210a09bfbcd7bd51c5c4c27dd898", "filename": "gcc/cp/mangle.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/gcc%2Fcp%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/gcc%2Fcp%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmangle.c?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -1646,8 +1646,9 @@ write_type (tree type)\n \n \t    case REFERENCE_TYPE:\n \t      if (TYPE_REF_IS_RVALUE (type))\n-        \twrite_char('R');\n-\t      write_char ('R');\n+        \twrite_char('O');\n+              else\n+                write_char ('R');\n \t      write_type (TREE_TYPE (type));\n \t      break;\n "}, {"sha": "b29d428bbbfd85d3c76e840de072a57e30a4dfc8", "filename": "include/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/include%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/include%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2FChangeLog?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -1,3 +1,8 @@\n+2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n+\t\n+\t* demangle.h (enum demangle_component_type): Add\n+\tDEMANGLE_COMPONENT_RVALUE_REFERENCE. \n+\n 2007-07-25  Ben Elliston  <bje@au.ibm.com>\n \n \t* ternary.h: Remove."}, {"sha": "b55226d8590a6b1e67102d6562897645f6760f5a", "filename": "include/demangle.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/include%2Fdemangle.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/include%2Fdemangle.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fdemangle.h?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -296,6 +296,9 @@ enum demangle_component_type\n   /* A reference.  The one subtree is the type which is being\n      referenced.  */\n   DEMANGLE_COMPONENT_REFERENCE,\n+  /* C++0x: An rvalue reference.  The one subtree is the type which is\n+     being referenced.  */\n+  DEMANGLE_COMPONENT_RVALUE_REFERENCE,\n   /* A complex type.  The one subtree is the base type.  */\n   DEMANGLE_COMPONENT_COMPLEX,\n   /* An imaginary type.  The one subtree is the base type.  */"}, {"sha": "2e4339064ec6525eb5b85137e5b9eaa56a84fb84", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -1,3 +1,13 @@\n+2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n+\t\n+\t* cp-demangle.c (d_dump): Handle\n+\tDEMANGLE_COMPONENT_RVALUE_REFERENCE. \n+\t(d_make_comp): Ditto.\n+\t(cplus_demangle_type): Ditto.\n+\t(d_print_comp): Ditto.\n+\t(d_print_mod): Ditto.\n+\t(d_print_function_type): Ditto.\n+\n 2007-08-24  Kai Tietz  <kai.tietz@onevision.com>\n \n \t* pex-common.h: (pex_funcs): Retyped wait and exec_child to pid_t."}, {"sha": "3fc6a2197a32fddf31d255e15c0b0f9f7f9e60f0", "filename": "libiberty/cp-demangle.c", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/libiberty%2Fcp-demangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/libiberty%2Fcp-demangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcp-demangle.c?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -596,6 +596,9 @@ d_dump (struct demangle_component *dc, int indent)\n     case DEMANGLE_COMPONENT_REFERENCE:\n       printf (\"reference\\n\");\n       break;\n+    case DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n+      printf (\"rvalue reference\\n\");\n+      break;\n     case DEMANGLE_COMPONENT_COMPLEX:\n       printf (\"complex\\n\");\n       break;\n@@ -785,6 +788,7 @@ d_make_comp (struct d_info *di, enum demangle_component_type type,\n     case DEMANGLE_COMPONENT_HIDDEN_ALIAS:\n     case DEMANGLE_COMPONENT_POINTER:\n     case DEMANGLE_COMPONENT_REFERENCE:\n+    case DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n     case DEMANGLE_COMPONENT_COMPLEX:\n     case DEMANGLE_COMPONENT_IMAGINARY:\n     case DEMANGLE_COMPONENT_VENDOR_TYPE:\n@@ -1726,6 +1730,7 @@ d_ctor_dtor_name (struct d_info *di)\n           ::= <CV-qualifiers> <type>\n           ::= P <type>\n           ::= R <type>\n+          ::= O <type> (C++0x)\n           ::= C <type>\n           ::= G <type>\n           ::= U <source-name> <type>\n@@ -1892,6 +1897,12 @@ cplus_demangle_type (struct d_info *di)\n       }\n       break;\n \n+    case 'O':\n+      d_advance (di, 1);\n+      ret = d_make_comp (di, DEMANGLE_COMPONENT_RVALUE_REFERENCE,\n+                         cplus_demangle_type (di), NULL);\n+      break;\n+\n     case 'P':\n       d_advance (di, 1);\n       ret = d_make_comp (di, DEMANGLE_COMPONENT_POINTER,\n@@ -1901,7 +1912,7 @@ cplus_demangle_type (struct d_info *di)\n     case 'R':\n       d_advance (di, 1);\n       ret = d_make_comp (di, DEMANGLE_COMPONENT_REFERENCE,\n-\t\t\t cplus_demangle_type (di), NULL);\n+                         cplus_demangle_type (di), NULL);\n       break;\n \n     case 'C':\n@@ -3184,6 +3195,7 @@ d_print_comp (struct d_print_info *dpi,\n     case DEMANGLE_COMPONENT_VENDOR_TYPE_QUAL:\n     case DEMANGLE_COMPONENT_POINTER:\n     case DEMANGLE_COMPONENT_REFERENCE:\n+    case DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n     case DEMANGLE_COMPONENT_COMPLEX:\n     case DEMANGLE_COMPONENT_IMAGINARY:\n       {\n@@ -3708,6 +3720,9 @@ d_print_mod (struct d_print_info *dpi,\n     case DEMANGLE_COMPONENT_REFERENCE:\n       d_append_char (dpi, '&');\n       return;\n+    case DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n+      d_append_string (dpi, \"&&\");\n+      return;\n     case DEMANGLE_COMPONENT_COMPLEX:\n       d_append_string (dpi, \"complex \");\n       return;\n@@ -3757,6 +3772,7 @@ d_print_function_type (struct d_print_info *dpi,\n \t{\n \tcase DEMANGLE_COMPONENT_POINTER:\n \tcase DEMANGLE_COMPONENT_REFERENCE:\n+\tcase DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n \t  need_paren = 1;\n \t  break;\n \tcase DEMANGLE_COMPONENT_RESTRICT:"}, {"sha": "55f64a7f61012fb696b30a201569e2c26dd1096e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -1,3 +1,7 @@\n+2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n+\n+\t* testsuite/abi/demangle/cxx0x/rref.cc: New.\n+\n 2007-08-29  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* acinclude.m4 (GLIBCXX_CHECK_SYSTEM_ERROR): Add ENODATA, ENOSR,"}, {"sha": "cb085b48d518433eca29a8595bec38d58e4dbc20", "filename": "libstdc++-v3/testsuite/abi/demangle/cxx0x/rref.cc", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ab28be5966d14e3981692007b1c8aecfc7577d1/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fdemangle%2Fcxx0x%2Frref.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ab28be5966d14e3981692007b1c8aecfc7577d1/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fdemangle%2Fcxx0x%2Frref.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fdemangle%2Fcxx0x%2Frref.cc?ref=1ab28be5966d14e3981692007b1c8aecfc7577d1", "patch": "@@ -0,0 +1,32 @@\n+// 2007-06-28 Douglas Gregor  <doug.gregor@gmail.com>\n+\n+// Copyright (C) 2007 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n+// USA.\n+\n+// IA 64 C++ ABI - 5.1 External Names (a.k.a. Mangling)\n+\n+#include <testsuite_hooks.h>\n+\n+int main()\n+{\n+  using namespace __gnu_test;\n+\n+  verify_demangle(\"_Z1fOi\", \"f(int&&)\");\n+\n+  return 0;\n+}"}]}