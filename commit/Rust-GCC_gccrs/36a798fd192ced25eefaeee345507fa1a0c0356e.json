{"sha": "36a798fd192ced25eefaeee345507fa1a0c0356e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZhNzk4ZmQxOTJjZWQyNWVlZmFlZWUzNDU1MDdmYTFhMGMwMzU2ZQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-02-10T14:02:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2020-02-10T14:02:39Z"}, "message": "i386: Fix strncmp last arguments in x86_64_elf_section_type_flags\n\nClearly I can't count, so we would consider as SECTION_BSS even sections\nlike .lbssfoo or .gnu.linkonce.lbbar, even when linker only considers as\nspecial .lbss or .lbss.baz or .gnu.linkonce.lb.qux.\n\n2020-02-10  Jakub Jelinek  <jakub@redhat.com>\n\n\tPR target/58218\n\tPR other/93641\n\t* config/i386/i386.c (x86_64_elf_section_type_flags): Fix up last\n\targuments of strncmp.", "tree": {"sha": "e5ecacb0b27803e57ee8d3b1e50a0470ee4f16e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5ecacb0b27803e57ee8d3b1e50a0470ee4f16e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36a798fd192ced25eefaeee345507fa1a0c0356e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a798fd192ced25eefaeee345507fa1a0c0356e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36a798fd192ced25eefaeee345507fa1a0c0356e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a798fd192ced25eefaeee345507fa1a0c0356e/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59dbb04df76da41f26192c2c219584fc3d6017cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59dbb04df76da41f26192c2c219584fc3d6017cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59dbb04df76da41f26192c2c219584fc3d6017cc"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "b1c3f1199650408399474ace623110625c6f7262", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36a798fd192ced25eefaeee345507fa1a0c0356e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36a798fd192ced25eefaeee345507fa1a0c0356e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36a798fd192ced25eefaeee345507fa1a0c0356e", "patch": "@@ -1,3 +1,10 @@\n+2020-02-10  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/58218\n+\tPR other/93641\n+\t* config/i386/i386.c (x86_64_elf_section_type_flags): Fix up last\n+\targuments of strncmp.\n+\n 2020-02-10  Feng Xue  <fxue@os.amperecomputing.com>\n \n \tPR ipa/93203"}, {"sha": "44bc0e0176aa7a5d6b656381f311f35735665a40", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36a798fd192ced25eefaeee345507fa1a0c0356e/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36a798fd192ced25eefaeee345507fa1a0c0356e/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=36a798fd192ced25eefaeee345507fa1a0c0356e", "patch": "@@ -751,8 +751,9 @@ x86_64_elf_section_type_flags (tree decl, const char *name, int reloc)\n     flags |= SECTION_RELRO;\n \n   if (strcmp (name, \".lbss\") == 0\n-      || strncmp (name, \".lbss.\", 5) == 0\n-      || strncmp (name, \".gnu.linkonce.lb.\", 16) == 0)\n+      || strncmp (name, \".lbss.\", sizeof (\".lbss.\") - 1) == 0\n+      || strncmp (name, \".gnu.linkonce.lb.\",\n+\t\t  sizeof (\".gnu.linkonce.lb.\") - 1) == 0)\n     flags |= SECTION_BSS;\n \n   return flags;"}]}