{"sha": "14e678a2c4a76433fd4029568d28530c921e11ee", "node_id": "C_kwDOANBUbNoAKDE0ZTY3OGEyYzRhNzY0MzNmZDQwMjk1NjhkMjg1MzBjOTIxZTExZWU", "commit": {"author": {"name": "Paul A. Clarke", "email": "pc@us.ibm.com", "date": "2022-03-08T23:12:41Z"}, "committer": {"name": "Paul A. Clarke", "email": "pc@us.ibm.com", "date": "2022-05-13T21:22:29Z"}, "message": "rs6000: Remove a few needless 'lp64' contraints.\n\nA few tests need not be restricted to 'lp64', so remove the restriction.\n\nA few of those need a simple change to the DejaGnu directives to suppress\n'-mcmodel' flags for '-m32'.\n\n2022-05-13  Paul A. Clarke  <pc@us.ibm.com>\n\ngcc/testsuite\n\t* g++.target/powerpc/pr65240-1.C: Adjust DejaGnu directives.\n\t* g++.target/powerpc/pr65240-2.C: Likewise.\n\t* g++.target/powerpc/pr65240-3.C: Likewise.\n\t* g++.target/powerpc/pr65240-4.C: Likewise.\n\t* g++.target/powerpc/pr65242.C: Likewise.\n\t* g++.target/powerpc/pr67211.C: Likewise.\n\t* g++.target/powerpc/pr69667.C: Likewise.\n\t* g++.target/powerpc/pr71294.C: Likewise.", "tree": {"sha": "c06db01c6469738c607b1956936d37a7c5c2dee3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c06db01c6469738c607b1956936d37a7c5c2dee3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14e678a2c4a76433fd4029568d28530c921e11ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e678a2c4a76433fd4029568d28530c921e11ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14e678a2c4a76433fd4029568d28530c921e11ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14e678a2c4a76433fd4029568d28530c921e11ee/comments", "author": {"login": "ThinkOpenly", "id": 12301795, "node_id": "MDQ6VXNlcjEyMzAxNzk1", "avatar_url": "https://avatars.githubusercontent.com/u/12301795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThinkOpenly", "html_url": "https://github.com/ThinkOpenly", "followers_url": "https://api.github.com/users/ThinkOpenly/followers", "following_url": "https://api.github.com/users/ThinkOpenly/following{/other_user}", "gists_url": "https://api.github.com/users/ThinkOpenly/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThinkOpenly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThinkOpenly/subscriptions", "organizations_url": "https://api.github.com/users/ThinkOpenly/orgs", "repos_url": "https://api.github.com/users/ThinkOpenly/repos", "events_url": "https://api.github.com/users/ThinkOpenly/events{/privacy}", "received_events_url": "https://api.github.com/users/ThinkOpenly/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ThinkOpenly", "id": 12301795, "node_id": "MDQ6VXNlcjEyMzAxNzk1", "avatar_url": "https://avatars.githubusercontent.com/u/12301795?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThinkOpenly", "html_url": "https://github.com/ThinkOpenly", "followers_url": "https://api.github.com/users/ThinkOpenly/followers", "following_url": "https://api.github.com/users/ThinkOpenly/following{/other_user}", "gists_url": "https://api.github.com/users/ThinkOpenly/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThinkOpenly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThinkOpenly/subscriptions", "organizations_url": "https://api.github.com/users/ThinkOpenly/orgs", "repos_url": "https://api.github.com/users/ThinkOpenly/repos", "events_url": "https://api.github.com/users/ThinkOpenly/events{/privacy}", "received_events_url": "https://api.github.com/users/ThinkOpenly/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eccbd7fcee5bbfc47731e8de83c44eee2e3dcc4b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eccbd7fcee5bbfc47731e8de83c44eee2e3dcc4b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eccbd7fcee5bbfc47731e8de83c44eee2e3dcc4b"}], "stats": {"total": 17, "additions": 6, "deletions": 11}, "files": [{"sha": "1cf158c69097ded2cd9deed6c92f994e6d77cf4a", "filename": "gcc/testsuite/g++.target/powerpc/pr65240-1.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-1.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=small -mno-fp-in-toc -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mno-fp-in-toc -Wno-return-type\" } */\n+/* { dg-additional-options \"-mcmodel=small\" { target lp64 } } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "32d1c799b0db890af8ee68eb1b8f7225e6572196", "filename": "gcc/testsuite/g++.target/powerpc/pr65240-2.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-2.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=small -mfp-in-toc -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mfp-in-toc -Wno-return-type\" } */\n+/* { dg-additional-options \"-mcmodel=small\" { target lp64 } } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "02567647f304c36fb5c4a30329eb6fce36d454b3", "filename": "gcc/testsuite/g++.target/powerpc/pr65240-3.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-3.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,7 +1,7 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n-/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -mcmodel=medium -Wno-return-type\" } */\n+/* { dg-options \"-mdejagnu-cpu=power8 -O3 -ffast-math -Wno-return-type\" } */\n+/* { dg-additional-options \"-mcmodel=medium\" { target lp64 } } */\n \n /* target/65240, compiler got a 'insn does not satisfy its constraints' error.  */\n "}, {"sha": "3f6993aa1cde079e151810a7366ebec1da91578a", "filename": "gcc/testsuite/g++.target/powerpc/pr65240-4.C", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65240-4.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,4 +1,3 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n /* { dg-options \"-mdejagnu-cpu=power7 -O3 -ffast-math -Wno-return-type\" } */"}, {"sha": "3f5c2eaa90994afcb3442cb0fd39d3c0196eb440", "filename": "gcc/testsuite/g++.target/powerpc/pr65242.C", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65242.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65242.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr65242.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,4 +1,3 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-options \"-mdejagnu-cpu=power8 -O3\" } */"}, {"sha": "7d5dd42765fed128d7945ea67e06a957881da305", "filename": "gcc/testsuite/g++.target/powerpc/pr67211.C", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr67211.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr67211.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr67211.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,4 +1,3 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-options \"-mdejagnu-cpu=power7 -mdejagnu-tune=power8 -O3 -w\" } */"}, {"sha": "da550cd14bd68f3325682a10ba291b5aac330159", "filename": "gcc/testsuite/g++.target/powerpc/pr69667.C", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr69667.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr69667.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr69667.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,4 +1,3 @@\n-/* { dg-do compile { target lp64 } } */\n /* { dg-skip-if \"\" { *-*-darwin* } } */\n /* { dg-require-effective-target powerpc_p8vector_ok } */\n /* { dg-options \"-mdejagnu-cpu=power8 -w -std=c++14\" } */"}, {"sha": "7f12c8d5c90a985712e0dfcc4a0c1cb0dcac3df7", "filename": "gcc/testsuite/g++.target/powerpc/pr71294.C", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr71294.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14e678a2c4a76433fd4029568d28530c921e11ee/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr71294.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Fpowerpc%2Fpr71294.C?ref=14e678a2c4a76433fd4029568d28530c921e11ee", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do compile { target lp64 } }\n // { dg-require-effective-target powerpc_p8vector_ok } */\n // { dg-options \"-mdejagnu-cpu=power8 -O3 -fstack-protector\" }\n "}]}