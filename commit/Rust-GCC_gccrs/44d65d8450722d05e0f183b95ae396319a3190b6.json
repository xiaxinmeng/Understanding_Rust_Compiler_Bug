{"sha": "44d65d8450722d05e0f183b95ae396319a3190b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRkNjVkODQ1MDcyMmQwNWUwZjE4M2I5NWFlMzk2MzE5YTMxOTBiNg==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-07-11T22:36:14Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-07-11T22:36:14Z"}, "message": "(libgcc1-asm.a): New target for building libgcc1.a in cross compilers.\n\nFrom-SVN: r7724", "tree": {"sha": "ab4ef16941fc5235c465755cf9c000c6215d8d42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ab4ef16941fc5235c465755cf9c000c6215d8d42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44d65d8450722d05e0f183b95ae396319a3190b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44d65d8450722d05e0f183b95ae396319a3190b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44d65d8450722d05e0f183b95ae396319a3190b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44d65d8450722d05e0f183b95ae396319a3190b6/comments", "author": null, "committer": null, "parents": [{"sha": "012a47cb77ff762418af8c1150637235b447b42a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/012a47cb77ff762418af8c1150637235b447b42a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/012a47cb77ff762418af8c1150637235b447b42a"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "65e3e85527c94cc203275007ce38c2bef077f6d7", "filename": "gcc/Makefile.in", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44d65d8450722d05e0f183b95ae396319a3190b6/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44d65d8450722d05e0f183b95ae396319a3190b6/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=44d65d8450722d05e0f183b95ae396319a3190b6", "patch": "@@ -740,6 +740,32 @@ libgcc1.a: libgcc1.c $(CONFIG_H) $(LIB1FUNCS_EXTRA) config.status\n \tdone\n \tmv tmplibgcc1.a libgcc1.a\n \n+# Build libgcc1.a from assembler source.  LIB1ASMFUNCS is the list of\n+# functions.  LIB1ASMSRC is the name of the source file in the config\n+# subdirectory.\n+libgcc1-asm.a: libgcc2.ready config.status $(srcdir)/config/$(LIB1ASMSRC)\n+\t-rm -f tmplibgcc1.a libgcc1.S\n+\tcp $(srcdir)/config/$(LIB1ASMSRC) libgcc1.S\n+# Actually build it in tmplibgcc1.a, then rename at end,\n+# so that libgcc1-asm.a itself remains nonexistent if compilation is aborted.\n+# -e causes any failing command to make this rule fail.\n+# -e doesn't work in certain shells, so we test $$? as well.\n+# lynx has a broken ar, it always complains when the initial library is\n+# empty, thus this command works only if we don't do -e\n+# There is a trailing backslash (\\) deleted from the following line.\n+#\tset -e;\n+\tfor name in $(LIB1ASMFUNCS); \\\n+\tdo \\\n+\t  echo $${name}; \\\n+\t  $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) $(INCLUDES) -c -DL$${name} libgcc1.S; \\\n+\t  if [ $$? -eq 0 ] ; then true; else exit 1; fi; \\\n+\t  mv libgcc1.o $${name}.o; \\\n+\t  $(AR) $(AR_FLAGS) tmplibgcc1.a $${name}.o; \\\n+\t  rm -f $${name}.o; \\\n+\tdone\n+\t-rm -f libgcc1.S\n+\tmv tmplibgcc1.a libgcc1-asm.a\n+\n # Compiling libgcc2.a requires making sure that cc1, etc. have been compiled.\n # But recompiling cc1 should not force recompilation of libgcc2.a.\n # If you want to force recompilation, delete libgcc2.a."}]}