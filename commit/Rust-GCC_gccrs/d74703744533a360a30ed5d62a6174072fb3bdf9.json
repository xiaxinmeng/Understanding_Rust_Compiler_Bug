{"sha": "d74703744533a360a30ed5d62a6174072fb3bdf9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDc0NzAzNzQ0NTMzYTM2MGEzMGVkNWQ2MmE2MTc0MDcyZmIzYmRmOQ==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2012-02-20T21:22:07Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2012-02-20T21:22:07Z"}, "message": "re PR libstdc++/52300 (Gthreads functions linking error at dynamic linking with libstdc++ when using MinGW.)\n\n       PR libstdc++/52300\n       * gthr.h (GTHREAD_USE_WEAK): Define as zero for mingw.\n\nFrom-SVN: r184406", "tree": {"sha": "c997d4cf62ddb657cffe8dc82cde004b0c3be86e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c997d4cf62ddb657cffe8dc82cde004b0c3be86e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d74703744533a360a30ed5d62a6174072fb3bdf9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d74703744533a360a30ed5d62a6174072fb3bdf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d74703744533a360a30ed5d62a6174072fb3bdf9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d74703744533a360a30ed5d62a6174072fb3bdf9/comments", "author": null, "committer": null, "parents": [{"sha": "0c0c63986e640554a88ce665f07cafa56182e1c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c0c63986e640554a88ce665f07cafa56182e1c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c0c63986e640554a88ce665f07cafa56182e1c4"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "61d9b591702d4e2f7ca700b1fc2c1fcf69a51014", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d74703744533a360a30ed5d62a6174072fb3bdf9/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d74703744533a360a30ed5d62a6174072fb3bdf9/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=d74703744533a360a30ed5d62a6174072fb3bdf9", "patch": "@@ -1,5 +1,8 @@\n 2012-02-20  Kai Tietz  <ktietz@redhat.com>\n \n+\tPR libstdc++/52300\n+\t* gthr.h (GTHREAD_USE_WEAK): Define as zero for mingw.\n+\n \t* config.host (i686-*-mingw*): Set md_unwind_header only for dw2-mode\n \tto w32-unwind.h header.\n "}, {"sha": "03a3ee1d84fcba3142f3b6051532353fe381a4d9", "filename": "libgcc/gthr.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d74703744533a360a30ed5d62a6174072fb3bdf9/libgcc%2Fgthr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d74703744533a360a30ed5d62a6174072fb3bdf9/libgcc%2Fgthr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fgthr.h?ref=d74703744533a360a30ed5d62a6174072fb3bdf9", "patch": "@@ -135,6 +135,14 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n */\n \n #if SUPPORTS_WEAK\n+/* The pe-coff weak support isn't fully compatible to ELF's weak.\n+   For static libraries it might would work, but as we need to deal\n+   with shared versions too, we disable it for mingw-targets.  */\n+#ifdef __MINGW32__\n+#undef GTHREAD_USE_WEAK\n+#define GTHREAD_USE_WEAK 0\n+#endif\n+\n #ifndef GTHREAD_USE_WEAK\n #define GTHREAD_USE_WEAK 1\n #endif"}]}