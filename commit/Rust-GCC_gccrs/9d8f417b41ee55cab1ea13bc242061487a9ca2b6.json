{"sha": "9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ4ZjQxN2I0MWVlNTVjYWIxZWExM2JjMjQyMDYxNDg3YTljYTJiNg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2002-11-10T21:04:24Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2002-11-10T21:04:24Z"}, "message": "jartool.c (add_to_jar): Only compare file to jarfile if jarfile is non-NULL.\n\n\t* jartool.c (add_to_jar): Only compare file to jarfile if jarfile is\n\tnon-NULL.\n\n\t* configure.in (AC_CHECK_HEADERS): Add limits.h.\n\t* configure, config.h.in: Rebuilt.\n\nFrom-SVN: r58990", "tree": {"sha": "966808eadf9ac78e77fba387240bea0f69dbb012", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/966808eadf9ac78e77fba387240bea0f69dbb012"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7bb9f927b80f898e95c9cf3dad93e7af0048c603", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bb9f927b80f898e95c9cf3dad93e7af0048c603", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bb9f927b80f898e95c9cf3dad93e7af0048c603"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "3cf963b1b45e2c68852e55b84b3b72b8cc93f516", "filename": "fastjar/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2FChangeLog?ref=9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "patch": "@@ -1,3 +1,11 @@\n+2002-10-10  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* jartool.c (add_to_jar): Only compare file to jarfile if jarfile is\n+\tnon-NULL.\n+\n+\t* configure.in (AC_CHECK_HEADERS): Add limits.h.\n+\t* configure, config.h.in: Rebuilt.\n+\n 2002-11-07  Tom Tromey  <tromey@redhat.com>\n \n \t* dostime.c: Rewrote from scratch."}, {"sha": "05d0c6ec1f54c7ffa2e25eeb626a68c693d52dd5", "filename": "fastjar/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfig.h.in?ref=9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "patch": "@@ -21,6 +21,9 @@\n /* Define if you have the <stdlib.h> header file.  */\n #undef HAVE_STDLIB_H\n \n+/* Define if you have the <limits.h> header file.  */\n+#undef HAVE_LIMITS_H\n+\n /* Define if you have the <sys/dir.h> header file.  */\n #undef HAVE_SYS_DIR_H\n "}, {"sha": "4cc1b926a700586f0ebf6fcd6628e35d15467940", "filename": "fastjar/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure?ref=9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "patch": "@@ -1691,7 +1691,7 @@ EOF\n \n fi\n \n-for ac_hdr in fcntl.h unistd.h sys/param.h stdlib.h\n+for ac_hdr in fcntl.h unistd.h sys/param.h stdlib.h limits.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6"}, {"sha": "a1e4676a7dc65e27fc4711e5f278cfbfbdf8cf66", "filename": "fastjar/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fconfigure.in?ref=9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "patch": "@@ -24,7 +24,7 @@ dnl Checks for header files.\n AC_HEADER_DIRENT\n AC_HEADER_STDC\n AC_STRUCT_TM\n-AC_CHECK_HEADERS(fcntl.h unistd.h sys/param.h stdlib.h)\n+AC_CHECK_HEADERS(fcntl.h unistd.h sys/param.h stdlib.h limits.h)\n \n dnl Checks for typedefs, structures, and compiler characteristics.\n AC_TYPE_OFF_T"}, {"sha": "cd2efcb109f3e300f4600a2db642c1f67bada775", "filename": "fastjar/jartool.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fjartool.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d8f417b41ee55cab1ea13bc242061487a9ca2b6/fastjar%2Fjartool.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fastjar%2Fjartool.c?ref=9d8f417b41ee55cab1ea13bc242061487a9ca2b6", "patch": "@@ -843,7 +843,7 @@ int add_to_jar(int fd, const char *new_dir, const char *file){\n     }\n   }\n \n-  if(!strcmp(file, jarfile)){\n+  if(jarfile && !strcmp(file, jarfile)){\n     if(verbose)\n       printf(\"skipping: %s\\n\", file);\n     return 0;  /* we don't want to add ourselves.. */\n@@ -924,7 +924,8 @@ int add_to_jar(int fd, const char *new_dir, const char *file){\n     while(!use_explicit_list_only && (de = readdir(dir)) != NULL){\n       if(de->d_name[0] == '.')\n         continue;\n-      if(!strcmp(de->d_name, jarfile)){ /* we don't want to add ourselves.  Believe me */\n+      if(jarfile && !strcmp(de->d_name, jarfile)){\n+\t/* we don't want to add ourselves.  Believe me */\n         if(verbose)\n           printf(\"skipping: %s\\n\", de->d_name);\n         continue;"}]}