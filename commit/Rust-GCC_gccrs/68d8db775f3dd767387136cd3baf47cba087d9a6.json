{"sha": "68d8db775f3dd767387136cd3baf47cba087d9a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjhkOGRiNzc1ZjNkZDc2NzM4NzEzNmNkM2JhZjQ3Y2JhMDg3ZDlhNg==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-06-29T21:40:38Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2010-06-29T21:40:38Z"}, "message": "re PR fortran/44718 (Procedure-pointer name is wrongly regarded as \"external procedure\")\n\n2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44718\n\t* resolve.c (is_external_proc): Prevent procedure pointers from being\n\tregarded as external procedures.\n\n2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/44718\n\t* gfortran.dg/proc_ptr_28.f90: New.\n\nFrom-SVN: r161569", "tree": {"sha": "8e60b5a9f8007667fa7969b5e7dcedfbdefd5183", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e60b5a9f8007667fa7969b5e7dcedfbdefd5183"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68d8db775f3dd767387136cd3baf47cba087d9a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68d8db775f3dd767387136cd3baf47cba087d9a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68d8db775f3dd767387136cd3baf47cba087d9a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68d8db775f3dd767387136cd3baf47cba087d9a6/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d64faec41ba5da430b37ddfdf6bfdafa5cf6d83", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d64faec41ba5da430b37ddfdf6bfdafa5cf6d83", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d64faec41ba5da430b37ddfdf6bfdafa5cf6d83"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "185091320346a0488397b841368ee3275ad3fa93", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=68d8db775f3dd767387136cd3baf47cba087d9a6", "patch": "@@ -1,3 +1,9 @@\n+2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44718\n+\t* resolve.c (is_external_proc): Prevent procedure pointers from being\n+\tregarded as external procedures.\n+\n 2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/44696"}, {"sha": "4e11fc6c3110cf78e357e3e02cdfb0209522f3c7", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=68d8db775f3dd767387136cd3baf47cba087d9a6", "patch": "@@ -2259,6 +2259,7 @@ is_external_proc (gfc_symbol *sym)\n \t&& !(sym->attr.intrinsic\n \t      || gfc_is_intrinsic (sym, sym->attr.subroutine, sym->declared_at))\n \t&& sym->attr.proc != PROC_ST_FUNCTION\n+\t&& !sym->attr.proc_pointer\n \t&& !sym->attr.use_assoc\n \t&& sym->name)\n     return true;"}, {"sha": "4e37174f77ce06387a9a8503f324425774ac2ea2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=68d8db775f3dd767387136cd3baf47cba087d9a6", "patch": "@@ -1,3 +1,8 @@\n+2010-06-29  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/44718\n+\t* gfortran.dg/proc_ptr_28.f90: New.\n+\n 2010-06-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/43801"}, {"sha": "8754d8e298205e5d68c7e451a4b3a58be40c5bb8", "filename": "gcc/testsuite/gfortran.dg/proc_ptr_28.f90", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_28.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68d8db775f3dd767387136cd3baf47cba087d9a6/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_28.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fproc_ptr_28.f90?ref=68d8db775f3dd767387136cd3baf47cba087d9a6", "patch": "@@ -0,0 +1,39 @@\n+! { dg-do compile }\n+!\n+! PR 44718: Procedure-pointer name is wrongly regarded as \"external procedure\"\n+!\n+! Contributed by John McFarland <john.mcfarland@swri.org>\n+\n+MODULE m\n+\n+ IMPLICIT NONE\n+\n+CONTAINS\n+\n+ FUNCTION func(x) RESULT(y)\n+   INTEGER :: x,y\n+   y = x *2\n+ END FUNCTION func\n+\n+ SUBROUTINE sub(x)\n+   INTEGER :: x\n+   PRINT*, x\n+ END SUBROUTINE sub\n+\n+\n+ SUBROUTINE use_func()\n+   PROCEDURE(func), POINTER :: f\n+   INTEGER :: y\n+   f => func\n+   y = f(2)\n+ END SUBROUTINE use_func\n+\n+ SUBROUTINE use_sub()\n+   PROCEDURE(sub), POINTER :: f\n+   f => sub\n+   CALL f(2)\n+ END SUBROUTINE use_sub\n+\n+END MODULE m \n+\n+! { dg-final { cleanup-modules \"m\" } }"}]}