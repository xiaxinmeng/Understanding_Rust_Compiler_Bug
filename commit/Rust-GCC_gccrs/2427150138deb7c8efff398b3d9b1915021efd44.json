{"sha": "2427150138deb7c8efff398b3d9b1915021efd44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQyNzE1MDEzOGRlYjdjOGVmZmYzOThiM2Q5YjE5MTUwMjFlZmQ0NA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-06-08T18:56:00Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-06-08T18:56:00Z"}, "message": "Correct type size comparison.\n\nFrom-SVN: r174814", "tree": {"sha": "d7352ce0a1b992be92518ed5bc68412237a36e6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d7352ce0a1b992be92518ed5bc68412237a36e6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2427150138deb7c8efff398b3d9b1915021efd44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2427150138deb7c8efff398b3d9b1915021efd44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2427150138deb7c8efff398b3d9b1915021efd44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2427150138deb7c8efff398b3d9b1915021efd44/comments", "author": null, "committer": null, "parents": [{"sha": "f419ed5805108254a0fe8176efa7ee55d706fa49", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f419ed5805108254a0fe8176efa7ee55d706fa49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f419ed5805108254a0fe8176efa7ee55d706fa49"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "5dda7916196d63439ff7706c3953463286dd3a35", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2427150138deb7c8efff398b3d9b1915021efd44/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2427150138deb7c8efff398b3d9b1915021efd44/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=2427150138deb7c8efff398b3d9b1915021efd44", "patch": "@@ -754,8 +754,13 @@ Expression::check_bounds(tree val, tree bound_type, tree sofar,\n \tret = NULL_TREE;\n     }\n \n-  if ((TYPE_UNSIGNED(val_type) && !TYPE_UNSIGNED(bound_type))\n-      || TYPE_SIZE(val_type) > TYPE_SIZE(bound_type))\n+  HOST_WIDE_INT val_type_size = int_size_in_bytes(val_type);\n+  HOST_WIDE_INT bound_type_size = int_size_in_bytes(bound_type);\n+  go_assert(val_type_size != -1 && bound_type_size != -1);\n+  if (val_type_size > bound_type_size\n+      || (val_type_size == bound_type_size\n+\t  && TYPE_UNSIGNED(val_type)\n+\t  && !TYPE_UNSIGNED(bound_type)))\n     {\n       tree max = TYPE_MAX_VALUE(bound_type);\n       tree big = fold_build2_loc(loc, GT_EXPR, boolean_type_node, val,"}]}