{"sha": "3484098827a68cd281d00c33657894f926dfff5f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ4NDA5ODgyN2E2OGNkMjgxZDAwYzMzNjU3ODk0ZjkyNmRmZmY1Zg==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gnu.org", "date": "2000-05-20T11:48:03Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-05-20T11:48:03Z"}, "message": "Makefile.in (libgcc.mk): Depend on xgcc$(exeext) for GCC_FOR_TARGET used by MULTILIBS.\n\n* Makefile.in (libgcc.mk): Depend on xgcc$(exeext) for\nGCC_FOR_TARGET used by MULTILIBS.\n* mklibgcc.in: Make sure each .o file depends on the\ndirectory it will be in.\nMake the multilib directory depends libgcc.\n\nFrom-SVN: r34048", "tree": {"sha": "c1c6d42cec17f7454c08cd47faacb101528dbe9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1c6d42cec17f7454c08cd47faacb101528dbe9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3484098827a68cd281d00c33657894f926dfff5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3484098827a68cd281d00c33657894f926dfff5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3484098827a68cd281d00c33657894f926dfff5f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3484098827a68cd281d00c33657894f926dfff5f/comments", "author": null, "committer": null, "parents": [{"sha": "afa098295d5eff12aaa173695f186825b515813b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa098295d5eff12aaa173695f186825b515813b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afa098295d5eff12aaa173695f186825b515813b"}], "stats": {"total": 62, "additions": 48, "deletions": 14}, "files": [{"sha": "713bb3a712f9a22f106450f3d369a9cc14939ad9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3484098827a68cd281d00c33657894f926dfff5f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3484098827a68cd281d00c33657894f926dfff5f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3484098827a68cd281d00c33657894f926dfff5f", "patch": "@@ -1,3 +1,11 @@\n+Sat May 20 08:45:41 2000  H.J. Lu  <hjl@gnu.org>\n+\n+\t* Makefile.in (libgcc.mk): Depend on xgcc$(exeext) for\n+\tGCC_FOR_TARGET used by MULTILIBS.\n+\t* mklibgcc.in: Make sure each .o file depends on the\n+\tdirectory it will be in.\n+\tMake the multilib directory depends libgcc.\n+\n Sat May 20 08:29:28 2000  H.J. Lu  <hjl@gnu.org>\n \n \t* Makefile.in (bootstrap): Unset LANG_LIB2FUNCS for stage 1."}, {"sha": "e74202ddb9f67002afce5cb88aff02e1709c30a9", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3484098827a68cd281d00c33657894f926dfff5f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3484098827a68cd281d00c33657894f926dfff5f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=3484098827a68cd281d00c33657894f926dfff5f", "patch": "@@ -953,7 +953,7 @@ libgcc2.ready: $(GCC_PASSES) stmp-int-hdrs $(STMP_FIXPROTO)\n \n LIB2ADD = $(srcdir)/frame.c $(LIB2FUNCS_EXTRA) $(LANG_LIB2FUNCS)\n \n-libgcc.mk: config.status Makefile mklibgcc $(LIB2ADD)\n+libgcc.mk: config.status Makefile mklibgcc $(LIB2ADD) xgcc$(exeext)\n \tobjext='$(objext)' \\\n \tOLDCC='$(OLDCC)' \\\n \tLIBGCC1='$(LIBGCC1)' \\"}, {"sha": "ed4df6072cac09f5bf2622349734b782485d282e", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 39, "deletions": 13, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3484098827a68cd281d00c33657894f926dfff5f/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3484098827a68cd281d00c33657894f926dfff5f/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=3484098827a68cd281d00c33657894f926dfff5f", "patch": "@@ -92,7 +92,12 @@ case X\"$LIBGCC1\" in\n         flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n         out=\"libgcc/${dir}/${name}${objext}\"\n \n-        echo ${out}: '$(srcdir)/config/$(LIB1ASMSRC)'\n+\tif [ $dir = . ]; then\n+\t  libgccdir=\"libgcc\"\n+\telse\n+\t  libgccdir=\"libgcc/${dir}\"\n+\tfi\n+        echo ${out}: ${libgccdir} '$(srcdir)/config/$(LIB1ASMSRC)'\n \techo \"\t$gcc_compile\" $flags -DL$name -xassembler-with-cpp \\\n \t  -c '$(srcdir)/config/$(LIB1ASMSRC)' -o $out\n       done\n@@ -154,7 +159,12 @@ for name in $LIB2FUNCS; do\n     flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n     out=\"libgcc/${dir}/${name}${objext}\"\n \n-    echo $out: $libgcc2_c_dep\n+    if [ $dir = . ]; then\n+      libgccdir=\"libgcc\"\n+    else\n+      libgccdir=\"libgcc/${dir}\"\n+    fi\n+    echo $out: $libgccdir $libgcc2_c_dep\n     echo \"\t$gcc_compile\" '$(MAYBE_USE_COLLECT2)' $flags -DL$name \\\n       -c '$(srcdir)/libgcc2.c' -o $out\n   done\n@@ -167,7 +177,12 @@ for name in $LIB2FUNCS_EH; do\n     flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n     out=\"libgcc/${dir}/${name}${objext}\"\n \n-    echo $out: $libgcc2_c_dep\n+    if [ $dir = . ]; then\n+      libgccdir=\"libgcc\"\n+    else\n+      libgccdir=\"libgcc/${dir}\"\n+    fi\n+    echo $out: $libgccdir $libgcc2_c_dep\n     echo \"\t$gcc_compile\" '$(MAYBE_USE_COLLECT2)' -fexceptions \\\n       $flags -DL$name -c '$(srcdir)/libgcc2.c' -o $out\n   done\n@@ -181,7 +196,12 @@ if [ \"$FPBIT\" ]; then\n       flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n       out=\"libgcc/${dir}/${name}${objext}\"\n \n-      echo $out: $FPBIT $fpbit_c_dep\n+      if [ $dir = . ]; then\n+\tlibgccdir=\"libgcc\"\n+      else\n+\tlibgccdir=\"libgcc/${dir}\"\n+      fi\n+      echo $out: $libgccdir $FPBIT $fpbit_c_dep\n       echo \"\t$gcc_compile\" -DFINE_GRAINED_LIBRARIES $flags -DL$name \\\n \t-c $FPBIT -o $out\n     done\n@@ -196,7 +216,12 @@ if [ \"$DPBIT\" ]; then\n       flags=`echo ${ml} | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`;\n       out=\"libgcc/${dir}/${name}${objext}\"\n \n-      echo $out: $DPBIT $fpbit_c_dep\n+      if [ $dir = . ]; then\n+\tlibgccdir=\"libgcc\"\n+      else\n+\tlibgccdir=\"libgcc/${dir}\"\n+      fi\n+      echo $out: $libgccdir $DPBIT $fpbit_c_dep\n       echo \"\t$gcc_compile\" -DFINE_GRAINED_LIBRARIES $flags -DL$name \\\n \t-c $DPBIT -o $out\n     done\n@@ -241,7 +266,12 @@ for file in $LIB2ADD; do\n \tflags=\"$flags -xassembler-with-cpp\"\n       fi\n \n-      echo $out: $file\n+      if [ $dir = . ]; then\n+\tlibgccdir=\"libgcc\"\n+      else\n+\tlibgccdir=\"libgcc/${dir}\"\n+      fi\n+      echo $out: $libgccdir $file\n       echo \"\t$gcc_compile\" $flags -c $file -o $out\n     done\n     libgcc2_objs=\"$libgcc2_objs ${oname}${objext}\"\n@@ -275,15 +305,11 @@ done\n echo \"\"\n all=\"\"\n \n+echo \"libgcc:; -mkdir libgcc\"\n for ml in $MULTILIBS; do\n   dir=`echo ${ml} | sed -e 's/;.*$//' -e 's/=/$(EQ)/g'`\n-  if [ $dir = . ]; then\n-    echo \"libgcc:; mkdir libgcc\"\n-    all=\"$all libgcc\"\n-  else\n-    echo \"${dir}:; mkdir ${dir}\"\n-    echo \"libgcc/${dir}:; mkdir libgcc/${dir}\"\n-    all=\"$all libgcc/${dir} ${dir}\"\n+  if [ $dir != . ]; then\n+    echo \"libgcc/${dir}: libgcc; -mkdir libgcc/${dir}\"\n   fi\n   all=\"$all ${dir}/libgcc.a\"\n done"}]}