{"sha": "130423d78931b7e253cc299c7aa3df9494814fe0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTMwNDIzZDc4OTMxYjdlMjUzY2MyOTljN2FhM2RmOTQ5NDgxNGZlMA==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2008-12-17T17:05:05Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2008-12-17T17:05:05Z"}, "message": "re PR middle-end/38556 (Revision 142792 breaks bootstrap)\n\n2008-12-17  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR middle-end/38556\n\t* calls.c (expand_call): Check outgoing_reg_parm_stack_space\n\tonly if REG_PARM_STACK_SPACE is defined.\n\nFrom-SVN: r142794", "tree": {"sha": "9ecd773d8f70d4756103d7af57c47c41c90354fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ecd773d8f70d4756103d7af57c47c41c90354fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/130423d78931b7e253cc299c7aa3df9494814fe0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/130423d78931b7e253cc299c7aa3df9494814fe0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/130423d78931b7e253cc299c7aa3df9494814fe0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/130423d78931b7e253cc299c7aa3df9494814fe0/comments", "author": null, "committer": null, "parents": [{"sha": "0e456625276c293c62302c6c4d38d995e2b59880", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e456625276c293c62302c6c4d38d995e2b59880", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e456625276c293c62302c6c4d38d995e2b59880"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "fae5a0f84ea965358c7e9992ff45c29121468676", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/130423d78931b7e253cc299c7aa3df9494814fe0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/130423d78931b7e253cc299c7aa3df9494814fe0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=130423d78931b7e253cc299c7aa3df9494814fe0", "patch": "@@ -1,10 +1,16 @@\n-2008-12-12  Jan Hubicka  <jh@suse.cz>\n+2008-12-17  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR middle-end/38556\n+\t* calls.c (expand_call): Check outgoing_reg_parm_stack_space\n+\tonly if REG_PARM_STACK_SPACE is defined.\n+\n+2008-12-17  Jan Hubicka  <jh@suse.cz>\n \t    Kai Tietz <kai.tietz@onevision.com>\n \n \t* calls.c (expand_call): Do not sibcall if\n \toutgoing_reg_parm_stack_space does not match.\n \n-2008-12-12  Anatoly Sokolov  <aesok@post.ru>\n+2008-12-16  Anatoly Sokolov  <aesok@post.ru>\n \n \t* config/avr/avr.c (avr_mcu_t): Add attiny87, attiny327, at90pwm81,\n \tatmega16m1, at90scr100, atmega128rfa1, m3000f, m3000s and m3001b"}, {"sha": "f6bc970b71b42aa27e15cebda967526f7dce9e69", "filename": "gcc/calls.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/130423d78931b7e253cc299c7aa3df9494814fe0/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/130423d78931b7e253cc299c7aa3df9494814fe0/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=130423d78931b7e253cc299c7aa3df9494814fe0", "patch": "@@ -2298,10 +2298,12 @@ expand_call (tree exp, rtx target, int ignore)\n \t It does not seem worth the effort since few optimizable\n \t sibling calls will return a structure.  */\n       || structure_value_addr != NULL_RTX\n+#ifdef REG_PARM_STACK_SPACE\n       /* If outgoing reg parm stack space changes, we can not do sibcall.  */\n       || (OUTGOING_REG_PARM_STACK_SPACE (funtype)\n \t  != OUTGOING_REG_PARM_STACK_SPACE (TREE_TYPE (current_function_decl)))\n       || (reg_parm_stack_space != REG_PARM_STACK_SPACE (fndecl))\n+#endif\n       /* Check whether the target is able to optimize the call\n \t into a sibcall.  */\n       || !targetm.function_ok_for_sibcall (fndecl, exp)"}]}