{"sha": "7625e73d5799718ee9cda40a17896a3335e76d6f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYyNWU3M2Q1Nzk5NzE4ZWU5Y2RhNDBhMTc4OTZhMzMzNWU3NmQ2Zg==", "commit": {"author": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-01-29T04:19:01Z"}, "committer": {"name": "Giovanni Bajo", "email": "giovannibajo@gcc.gnu.org", "date": "2004-01-29T04:19:01Z"}, "message": "c-lex.c (c_lex): Rename to...\n\n\t* c-lex.c (c_lex): Rename to...\n\t(c_lex_with_flags): Add new parameter to get CPP flags.\n\t(c_lex): Thunk to c_lex_with_flags while keeping the old interface.\n\t* c-pragma.h (c_lex_with_flags): Declare.\n\nFrom-SVN: r76844", "tree": {"sha": "bdcb6c18c14de6bbdd958a178f077df71d4ad489", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bdcb6c18c14de6bbdd958a178f077df71d4ad489"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7625e73d5799718ee9cda40a17896a3335e76d6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7625e73d5799718ee9cda40a17896a3335e76d6f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7625e73d5799718ee9cda40a17896a3335e76d6f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7625e73d5799718ee9cda40a17896a3335e76d6f/comments", "author": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rasky", "id": 1014109, "node_id": "MDQ6VXNlcjEwMTQxMDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1014109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasky", "html_url": "https://github.com/rasky", "followers_url": "https://api.github.com/users/rasky/followers", "following_url": "https://api.github.com/users/rasky/following{/other_user}", "gists_url": "https://api.github.com/users/rasky/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasky/subscriptions", "organizations_url": "https://api.github.com/users/rasky/orgs", "repos_url": "https://api.github.com/users/rasky/repos", "events_url": "https://api.github.com/users/rasky/events{/privacy}", "received_events_url": "https://api.github.com/users/rasky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55cbf82427f065c3a97c2216e30c4acc8e246ac0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55cbf82427f065c3a97c2216e30c4acc8e246ac0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55cbf82427f065c3a97c2216e30c4acc8e246ac0"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "f3bff56d2faf7977b1187eae40e5078662c19893", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7625e73d5799718ee9cda40a17896a3335e76d6f", "patch": "@@ -1,3 +1,10 @@\n+2004-01-28  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n+\n+\t* c-lex.c (c_lex): Rename to...\n+\t(c_lex_with_flags): Add new parameter to get CPP flags.\n+\t(c_lex): Thunk to c_lex_with_flags while keeping the old interface.\n+\t* c-pragma.h (c_lex_with_flags): Declare.\n+\n 2004-01-28  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/mcore/mcore.c (mcore_external_libcall): Add a"}, {"sha": "4ead0c6e46f452995061d972bb3712effe4bbdee", "filename": "gcc/c-lex.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2Fc-lex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2Fc-lex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lex.c?ref=7625e73d5799718ee9cda40a17896a3335e76d6f", "patch": "@@ -324,7 +324,7 @@ get_nonpadding_token (void)\n }  \n \n int\n-c_lex (tree *value)\n+c_lex_with_flags (tree *value, unsigned char *cpp_flags)\n {\n   const cpp_token *tok;\n   location_t atloc;\n@@ -436,9 +436,17 @@ c_lex (tree *value)\n       c_common_no_more_pch ();\n     }\n \n+  if (cpp_flags)\n+    *cpp_flags = tok->flags;\n   return tok->type;\n }\n \n+int\n+c_lex (tree *value)\n+{\n+  return c_lex_with_flags (value, NULL);\n+}\n+\n /* Returns the narrowest C-visible unsigned type, starting with the\n    minimum specified by FLAGS, that can fit VALUE, or itk_none if\n    there isn't one.  */"}, {"sha": "7158722250d88034291a9f5a18a0b5a5c8ebf70f", "filename": "gcc/c-pragma.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2Fc-pragma.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7625e73d5799718ee9cda40a17896a3335e76d6f/gcc%2Fc-pragma.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-pragma.h?ref=7625e73d5799718ee9cda40a17896a3335e76d6f", "patch": "@@ -55,5 +55,6 @@ extern tree maybe_apply_renaming_pragma (tree, tree);\n extern void add_to_renaming_pragma_list (tree, tree);\n \n extern int c_lex (tree *);\n+extern int c_lex_with_flags (tree *, unsigned char *);\n \n #endif /* GCC_C_PRAGMA_H */"}]}