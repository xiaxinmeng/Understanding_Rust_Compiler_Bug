{"sha": "d632e927760f2fad2c3a0f5072d376beb9e1f701", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDYzMmU5Mjc3NjBmMmZhZDJjM2EwZjUwNzJkMzc2YmViOWUxZjcwMQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-21T21:28:23Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-21T21:28:23Z"}, "message": "(copy_rtx_and_substitute, case USE):\n\nDon't remove a subreg if ORIG had one.\n\nFrom-SVN: r3814", "tree": {"sha": "70ac0181113405293d936abaa186307fa116fdf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/70ac0181113405293d936abaa186307fa116fdf9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d632e927760f2fad2c3a0f5072d376beb9e1f701", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d632e927760f2fad2c3a0f5072d376beb9e1f701", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d632e927760f2fad2c3a0f5072d376beb9e1f701", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d632e927760f2fad2c3a0f5072d376beb9e1f701/comments", "author": null, "committer": null, "parents": [{"sha": "5cb10f0e9753338f38f39d6e6e5317f76167b061", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cb10f0e9753338f38f39d6e6e5317f76167b061", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cb10f0e9753338f38f39d6e6e5317f76167b061"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "95917c8b7c306624483313faaa2344d971e5d560", "filename": "gcc/integrate.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d632e927760f2fad2c3a0f5072d376beb9e1f701/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d632e927760f2fad2c3a0f5072d376beb9e1f701/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=d632e927760f2fad2c3a0f5072d376beb9e1f701", "patch": "@@ -1981,9 +1981,11 @@ copy_rtx_and_substitute (orig, map)\n     case USE:\n     case CLOBBER:\n       /* USE and CLOBBER are ordinary, but we convert (use (subreg foo))\n-\t to (use foo).  */\n+\t to (use foo) if the original insn didn't have a subreg.\n+\t Removing the subreg distorts the VAX movstrhi pattern\n+\t by changing the mode of an operand.  */\n       copy = copy_rtx_and_substitute (XEXP (orig, 0), map);\n-      if (GET_CODE (copy) == SUBREG)\n+      if (GET_CODE (copy) == SUBREG && GET_CODE (XEXP (orig, 0)) != SUBREG)\n \tcopy = SUBREG_REG (copy);\n       return gen_rtx (code, VOIDmode, copy);\n "}]}