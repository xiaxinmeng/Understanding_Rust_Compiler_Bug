{"sha": "c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEwYmZmZDAyZmZjNGQzNWNkMmFhYWY5NDEwZTNmZjNlYjY5NjkzMg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@casey.cygnus.com", "date": "2000-05-11T19:22:53Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-05-11T19:22:53Z"}, "message": "class.c (check_field_decls): Complain about non-static data members with same name as class in class with...\n\n        * class.c (check_field_decls): Complain about non-static data\n        members with same name as class in class with constructor.\n\nFrom-SVN: r33856", "tree": {"sha": "2e25afbafb429444bc7e2ede193a2c071080f184", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e25afbafb429444bc7e2ede193a2c071080f184"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932/comments", "author": null, "committer": null, "parents": [{"sha": "b58c068a646378dace11c00354c9f8132d856304", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b58c068a646378dace11c00354c9f8132d856304", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b58c068a646378dace11c00354c9f8132d856304"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "34834b1ea46cb5b8edaab85c816f365de51e7fc8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "patch": "@@ -1,3 +1,8 @@\n+2000-05-11  Jason Merrill  <jason@casey.cygnus.com>\n+\n+\t* class.c (check_field_decls): Complain about non-static data\n+\tmembers with same name as class in class with constructor.\n+\n 2000-05-10  Jason Merrill  <jason@casey.cygnus.com>\n \n \t* decl.c (grokdeclarator): Allow non-static data members with"}, {"sha": "de9195e3a83f443dfc833429ec83b0390b2f45f0", "filename": "gcc/cp/class.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=c10bffd02ffc4d35cd2aaaf9410e3ff3eb696932", "patch": "@@ -3442,6 +3442,13 @@ check_field_decls (t, access_decls, empty_p,\n \t    |= CLASSTYPE_READONLY_FIELDS_NEED_INIT (type);\n \t}\n \n+      /* Core issue 80: A nonstatic data member is required to have a\n+\t different name from the class iff the class has a\n+\t user-defined constructor.  */\n+      if (DECL_NAME (x) == constructor_name (t)\n+\t  && TYPE_HAS_CONSTRUCTOR (t))\n+\tcp_error_at (\"field `%#D' with same name as class\", x);\n+\n       /* We set DECL_C_BIT_FIELD in grokbitfield.\n \t If the type and width are valid, we'll also set DECL_BIT_FIELD.  */\n       if (DECL_C_BIT_FIELD (x))"}]}