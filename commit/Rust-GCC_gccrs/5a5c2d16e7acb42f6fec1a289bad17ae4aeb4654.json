{"sha": "5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE1YzJkMTZlN2FjYjQyZjZmZWMxYTI4OWJhZDE3YWU0YWViNDY1NA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2017-06-26T10:34:49Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2017-06-26T10:34:49Z"}, "message": "re PR target/81175 (EXC_BAD_ACCESS in ::slpeel_duplicate_current_defs_from_edges(edge, edge, edge, edge) at is-a.h:192)\n\n2017-06-26  Richard Biener  <rguenther@suse.de>\n\n\tPR target/81175\n\t* config/i386/i386.c (ix86_init_mmx_sse_builtins):\n\tUse def_builtin_pure for all gather builtins.\n\n\t* gfortran.dg/pr81175.f: New testcase.\n\nFrom-SVN: r249645", "tree": {"sha": "6c0cd170c1224662082696e19d08f8d11854ef23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c0cd170c1224662082696e19d08f8d11854ef23"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "75f0112f1bb9b671ff4679ec6802bf1cee6696c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75f0112f1bb9b671ff4679ec6802bf1cee6696c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75f0112f1bb9b671ff4679ec6802bf1cee6696c0"}], "stats": {"total": 370, "additions": 202, "deletions": 168}, "files": [{"sha": "75a569701557f138c2a963a726228e998a408a14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "patch": "@@ -1,3 +1,9 @@\n+2017-06-26  Richard Biener  <rguenther@suse.de>\n+\n+\tPR target/81175\n+\t* config/i386/i386.c (ix86_init_mmx_sse_builtins):\n+\tUse def_builtin_pure for all gather builtins.\n+\n 2017-06-26  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/81203"}, {"sha": "5e8d0ff0e3d2084598eb92bdc1c0a06c9b247636", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 168, "deletions": 168, "changes": 336, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "patch": "@@ -32564,134 +32564,134 @@ ix86_init_mmx_sse_builtins (void)\n \t       IX86_BUILTIN_RDRAND64_STEP);\n \n   /* AVX2 */\n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv2df\",\n-\t       V2DF_FTYPE_V2DF_PCDOUBLE_V4SI_V2DF_INT,\n-\t       IX86_BUILTIN_GATHERSIV2DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv2df\",\n+\t\t    V2DF_FTYPE_V2DF_PCDOUBLE_V4SI_V2DF_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV2DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4df\",\n-\t       V4DF_FTYPE_V4DF_PCDOUBLE_V4SI_V4DF_INT,\n-\t       IX86_BUILTIN_GATHERSIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4df\",\n+\t\t    V4DF_FTYPE_V4DF_PCDOUBLE_V4SI_V4DF_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv2df\",\n-\t       V2DF_FTYPE_V2DF_PCDOUBLE_V2DI_V2DF_INT,\n-\t       IX86_BUILTIN_GATHERDIV2DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv2df\",\n+\t\t    V2DF_FTYPE_V2DF_PCDOUBLE_V2DI_V2DF_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV2DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4df\",\n-\t       V4DF_FTYPE_V4DF_PCDOUBLE_V4DI_V4DF_INT,\n-\t       IX86_BUILTIN_GATHERDIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4df\",\n+\t\t    V4DF_FTYPE_V4DF_PCDOUBLE_V4DI_V4DF_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4sf\",\n-\t       V4SF_FTYPE_V4SF_PCFLOAT_V4SI_V4SF_INT,\n-\t       IX86_BUILTIN_GATHERSIV4SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4sf\",\n+\t\t    V4SF_FTYPE_V4SF_PCFLOAT_V4SI_V4SF_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV4SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv8sf\",\n-\t       V8SF_FTYPE_V8SF_PCFLOAT_V8SI_V8SF_INT,\n-\t       IX86_BUILTIN_GATHERSIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv8sf\",\n+\t\t    V8SF_FTYPE_V8SF_PCFLOAT_V8SI_V8SF_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4sf\",\n-\t       V4SF_FTYPE_V4SF_PCFLOAT_V2DI_V4SF_INT,\n-\t       IX86_BUILTIN_GATHERDIV4SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4sf\",\n+\t\t    V4SF_FTYPE_V4SF_PCFLOAT_V2DI_V4SF_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV4SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4sf256\",\n-\t       V4SF_FTYPE_V4SF_PCFLOAT_V4DI_V4SF_INT,\n-\t       IX86_BUILTIN_GATHERDIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4sf256\",\n+\t\t    V4SF_FTYPE_V4SF_PCFLOAT_V4DI_V4SF_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv2di\",\n-\t       V2DI_FTYPE_V2DI_PCINT64_V4SI_V2DI_INT,\n-\t       IX86_BUILTIN_GATHERSIV2DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv2di\",\n+\t\t    V2DI_FTYPE_V2DI_PCINT64_V4SI_V2DI_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV2DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4di\",\n-\t       V4DI_FTYPE_V4DI_PCINT64_V4SI_V4DI_INT,\n-\t       IX86_BUILTIN_GATHERSIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4di\",\n+\t\t    V4DI_FTYPE_V4DI_PCINT64_V4SI_V4DI_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv2di\",\n-\t       V2DI_FTYPE_V2DI_PCINT64_V2DI_V2DI_INT,\n-\t       IX86_BUILTIN_GATHERDIV2DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv2di\",\n+\t\t    V2DI_FTYPE_V2DI_PCINT64_V2DI_V2DI_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV2DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4di\",\n-\t       V4DI_FTYPE_V4DI_PCINT64_V4DI_V4DI_INT,\n-\t       IX86_BUILTIN_GATHERDIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4di\",\n+\t\t    V4DI_FTYPE_V4DI_PCINT64_V4DI_V4DI_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4si\",\n-\t       V4SI_FTYPE_V4SI_PCINT_V4SI_V4SI_INT,\n-\t       IX86_BUILTIN_GATHERSIV4SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv4si\",\n+\t\t    V4SI_FTYPE_V4SI_PCINT_V4SI_V4SI_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV4SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv8si\",\n-\t       V8SI_FTYPE_V8SI_PCINT_V8SI_V8SI_INT,\n-\t       IX86_BUILTIN_GATHERSIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gathersiv8si\",\n+\t\t    V8SI_FTYPE_V8SI_PCINT_V8SI_V8SI_INT,\n+\t\t    IX86_BUILTIN_GATHERSIV8SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4si\",\n-\t       V4SI_FTYPE_V4SI_PCINT_V2DI_V4SI_INT,\n-\t       IX86_BUILTIN_GATHERDIV4SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4si\",\n+\t\t    V4SI_FTYPE_V4SI_PCINT_V2DI_V4SI_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV4SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4si256\",\n-\t       V4SI_FTYPE_V4SI_PCINT_V4DI_V4SI_INT,\n-\t       IX86_BUILTIN_GATHERDIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatherdiv4si256\",\n+\t\t    V4SI_FTYPE_V4SI_PCINT_V4DI_V4SI_INT,\n+\t\t    IX86_BUILTIN_GATHERDIV8SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltsiv4df \",\n-\t       V4DF_FTYPE_V4DF_PCDOUBLE_V8SI_V4DF_INT,\n-\t       IX86_BUILTIN_GATHERALTSIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltsiv4df \",\n+\t\t    V4DF_FTYPE_V4DF_PCDOUBLE_V8SI_V4DF_INT,\n+\t\t    IX86_BUILTIN_GATHERALTSIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltdiv4sf256 \",\n-\t       V8SF_FTYPE_V8SF_PCFLOAT_V4DI_V8SF_INT,\n-\t       IX86_BUILTIN_GATHERALTDIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltdiv4sf256 \",\n+\t\t    V8SF_FTYPE_V8SF_PCFLOAT_V4DI_V8SF_INT,\n+\t\t    IX86_BUILTIN_GATHERALTDIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltsiv4di \",\n-\t       V4DI_FTYPE_V4DI_PCINT64_V8SI_V4DI_INT,\n-\t       IX86_BUILTIN_GATHERALTSIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltsiv4di \",\n+\t\t    V4DI_FTYPE_V4DI_PCINT64_V8SI_V4DI_INT,\n+\t\t    IX86_BUILTIN_GATHERALTSIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltdiv4si256 \",\n-\t       V8SI_FTYPE_V8SI_PCINT_V4DI_V8SI_INT,\n-\t       IX86_BUILTIN_GATHERALTDIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX2, \"__builtin_ia32_gatheraltdiv4si256 \",\n+\t\t    V8SI_FTYPE_V8SI_PCINT_V4DI_V8SI_INT,\n+\t\t    IX86_BUILTIN_GATHERALTDIV8SI);\n \n   /* AVX512F */\n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv16sf\",\n-\t       V16SF_FTYPE_V16SF_PCVOID_V16SI_HI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV16SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv16sf\",\n+\t\t    V16SF_FTYPE_V16SF_PCVOID_V16SI_HI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV16SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv8df\",\n-\t       V8DF_FTYPE_V8DF_PCVOID_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV8DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv8df\",\n+\t\t    V8DF_FTYPE_V8DF_PCVOID_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV8DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv16sf\",\n-\t       V8SF_FTYPE_V8SF_PCVOID_V8DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV16SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv16sf\",\n+\t\t    V8SF_FTYPE_V8SF_PCVOID_V8DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV16SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv8df\",\n-\t       V8DF_FTYPE_V8DF_PCVOID_V8DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV8DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv8df\",\n+\t\t    V8DF_FTYPE_V8DF_PCVOID_V8DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV8DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv16si\",\n-\t       V16SI_FTYPE_V16SI_PCVOID_V16SI_HI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV16SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv16si\",\n+\t\t    V16SI_FTYPE_V16SI_PCVOID_V16SI_HI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV16SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv8di\",\n-\t       V8DI_FTYPE_V8DI_PCVOID_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV8DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gathersiv8di\",\n+\t\t    V8DI_FTYPE_V8DI_PCVOID_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV8DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv16si\",\n-\t       V8SI_FTYPE_V8SI_PCVOID_V8DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV16SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv16si\",\n+\t\t    V8SI_FTYPE_V8SI_PCVOID_V8DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV16SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv8di\",\n-\t       V8DI_FTYPE_V8DI_PCVOID_V8DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV8DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatherdiv8di\",\n+\t\t    V8DI_FTYPE_V8DI_PCVOID_V8DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV8DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltsiv8df \",\n-\t       V8DF_FTYPE_V8DF_PCDOUBLE_V16SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTSIV8DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltsiv8df \",\n+\t\t    V8DF_FTYPE_V8DF_PCDOUBLE_V16SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTSIV8DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltdiv8sf \",\n-\t       V16SF_FTYPE_V16SF_PCFLOAT_V8DI_HI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTDIV16SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltdiv8sf \",\n+\t\t    V16SF_FTYPE_V16SF_PCFLOAT_V8DI_HI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTDIV16SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltsiv8di \",\n-\t       V8DI_FTYPE_V8DI_PCINT64_V16SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTSIV8DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltsiv8di \",\n+\t\t    V8DI_FTYPE_V8DI_PCINT64_V16SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTSIV8DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltdiv8si \",\n-\t       V16SI_FTYPE_V16SI_PCINT_V8DI_HI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTDIV16SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_gatheraltdiv8si \",\n+\t\t    V16SI_FTYPE_V16SI_PCINT_V8DI_HI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTDIV16SI);\n \n   def_builtin (OPTION_MASK_ISA_AVX512F, \"__builtin_ia32_scattersiv16sf\",\n \t       VOID_FTYPE_PVOID_HI_V16SI_V16SF_INT,\n@@ -32726,85 +32726,85 @@ ix86_init_mmx_sse_builtins (void)\n \t       IX86_BUILTIN_SCATTERDIV8DI);\n \n   /* AVX512VL */\n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv2df\",\n-\t       V2DF_FTYPE_V2DF_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV2DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv2df\",\n+\t\t    V2DF_FTYPE_V2DF_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV2DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4df\",\n-\t       V4DF_FTYPE_V4DF_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4df\",\n+\t\t    V4DF_FTYPE_V4DF_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div2df\",\n-\t       V2DF_FTYPE_V2DF_PCVOID_V2DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV2DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div2df\",\n+\t\t    V2DF_FTYPE_V2DF_PCVOID_V2DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV2DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4df\",\n-\t       V4DF_FTYPE_V4DF_PCVOID_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4df\",\n+\t\t    V4DF_FTYPE_V4DF_PCVOID_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4sf\",\n-\t       V4SF_FTYPE_V4SF_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV4SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4sf\",\n+\t\t    V4SF_FTYPE_V4SF_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV4SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv8sf\",\n-\t       V8SF_FTYPE_V8SF_PCVOID_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv8sf\",\n+\t\t    V8SF_FTYPE_V8SF_PCVOID_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4sf\",\n-\t       V4SF_FTYPE_V4SF_PCVOID_V2DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV4SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4sf\",\n+\t\t    V4SF_FTYPE_V4SF_PCVOID_V2DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV4SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div8sf\",\n-\t       V4SF_FTYPE_V4SF_PCVOID_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div8sf\",\n+\t\t    V4SF_FTYPE_V4SF_PCVOID_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv2di\",\n-\t       V2DI_FTYPE_V2DI_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV2DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv2di\",\n+\t\t    V2DI_FTYPE_V2DI_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV2DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4di\",\n-\t       V4DI_FTYPE_V4DI_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4di\",\n+\t\t    V4DI_FTYPE_V4DI_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div2di\",\n-\t       V2DI_FTYPE_V2DI_PCVOID_V2DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV2DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div2di\",\n+\t\t    V2DI_FTYPE_V2DI_PCVOID_V2DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV2DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4di\",\n-\t       V4DI_FTYPE_V4DI_PCVOID_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4di\",\n+\t\t    V4DI_FTYPE_V4DI_PCVOID_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4si\",\n-\t       V4SI_FTYPE_V4SI_PCVOID_V4SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV4SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv4si\",\n+\t\t    V4SI_FTYPE_V4SI_PCVOID_V4SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV4SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv8si\",\n-\t       V8SI_FTYPE_V8SI_PCVOID_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3SIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3siv8si\",\n+\t\t    V8SI_FTYPE_V8SI_PCVOID_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3SIV8SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4si\",\n-\t       V4SI_FTYPE_V4SI_PCVOID_V2DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV4SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div4si\",\n+\t\t    V4SI_FTYPE_V4SI_PCVOID_V2DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV4SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div8si\",\n-\t       V4SI_FTYPE_V4SI_PCVOID_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3DIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3div8si\",\n+\t\t    V4SI_FTYPE_V4SI_PCVOID_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3DIV8SI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altsiv4df \",\n-\t       V4DF_FTYPE_V4DF_PCDOUBLE_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTSIV4DF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altsiv4df \",\n+\t\t    V4DF_FTYPE_V4DF_PCDOUBLE_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTSIV4DF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altdiv8sf \",\n-\t       V8SF_FTYPE_V8SF_PCFLOAT_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTDIV8SF);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altdiv8sf \",\n+\t\t    V8SF_FTYPE_V8SF_PCFLOAT_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTDIV8SF);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altsiv4di \",\n-\t       V4DI_FTYPE_V4DI_PCINT64_V8SI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTSIV4DI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altsiv4di \",\n+\t\t    V4DI_FTYPE_V4DI_PCINT64_V8SI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTSIV4DI);\n \n-  def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altdiv8si \",\n-\t       V8SI_FTYPE_V8SI_PCINT_V4DI_QI_INT,\n-\t       IX86_BUILTIN_GATHER3ALTDIV8SI);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_gather3altdiv8si \",\n+\t\t    V8SI_FTYPE_V8SI_PCINT_V4DI_QI_INT,\n+\t\t    IX86_BUILTIN_GATHER3ALTDIV8SI);\n \n   def_builtin (OPTION_MASK_ISA_AVX512VL, \"__builtin_ia32_scattersiv8sf\",\n \t       VOID_FTYPE_PVOID_QI_V8SI_V8SF_INT,\n@@ -32886,18 +32886,18 @@ ix86_init_mmx_sse_builtins (void)\n \t       IX86_BUILTIN_SCATTERALTDIV16SI);\n \n   /* AVX512PF */\n-  def_builtin (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfdpd\",\n-\t       VOID_FTYPE_QI_V8SI_PCVOID_INT_INT,\n-\t       IX86_BUILTIN_GATHERPFDPD);\n-  def_builtin (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfdps\",\n-\t       VOID_FTYPE_HI_V16SI_PCVOID_INT_INT,\n-\t       IX86_BUILTIN_GATHERPFDPS);\n-  def_builtin (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfqpd\",\n-\t       VOID_FTYPE_QI_V8DI_PCVOID_INT_INT,\n-\t       IX86_BUILTIN_GATHERPFQPD);\n-  def_builtin (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfqps\",\n-\t       VOID_FTYPE_QI_V8DI_PCVOID_INT_INT,\n-\t       IX86_BUILTIN_GATHERPFQPS);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfdpd\",\n+\t\t    VOID_FTYPE_QI_V8SI_PCVOID_INT_INT,\n+\t\t    IX86_BUILTIN_GATHERPFDPD);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfdps\",\n+\t\t    VOID_FTYPE_HI_V16SI_PCVOID_INT_INT,\n+\t\t    IX86_BUILTIN_GATHERPFDPS);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfqpd\",\n+\t\t    VOID_FTYPE_QI_V8DI_PCVOID_INT_INT,\n+\t\t    IX86_BUILTIN_GATHERPFQPD);\n+  def_builtin_pure (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_gatherpfqps\",\n+\t\t    VOID_FTYPE_QI_V8DI_PCVOID_INT_INT,\n+\t\t    IX86_BUILTIN_GATHERPFQPS);\n   def_builtin (OPTION_MASK_ISA_AVX512PF, \"__builtin_ia32_scatterpfdpd\",\n \t       VOID_FTYPE_QI_V8SI_PCVOID_INT_INT,\n \t       IX86_BUILTIN_SCATTERPFDPD);"}, {"sha": "406db5210bd356084114318087a17d6026d5c904", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "patch": "@@ -1,3 +1,8 @@\n+2017-06-26  Richard Biener  <rguenther@suse.de>\n+\n+\tPR target/81175\n+\t* gfortran.dg/pr81175.f: New testcase.\n+\n 2017-06-26  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/81203"}, {"sha": "130ba9c1632308e1cea1fb8c273c68b2c57887a0", "filename": "gcc/testsuite/gfortran.dg/pr81175.f", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr81175.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr81175.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr81175.f?ref=5a5c2d16e7acb42f6fec1a289bad17ae4aeb4654", "patch": "@@ -0,0 +1,23 @@\n+! { dg-do compile }\n+! { dg-options \"-Ofast -fwrapv\" }\n+! { dg-additional-options \"-march=broadwell\" { target x86_64-*-* i?86-*-* } }\n+      SUBROUTINE ECPDRA(IC4C,FP,FQ,G)\n+      IMPLICIT DOUBLE PRECISION (A-H,O-Z)\n+      DIMENSION FP(*),FQ(*),G(*)\n+      DIMENSION CKLU(23,12,12)\n+!\n+      DO 240 I=IAMIN,IAMAX\n+         DO 240 J=JAMIN,MMAX\n+            DO 230 K=1,NPNP\n+               DO 230 L=1,K\n+                  DO 230 MU=1,2*L-1\n+                     CKLTEM= CKLU(MU,L,K)\n+                     IF(IC4C.LE.0) THEN\n+                        IF(ABS(CKLTEM).GT.TOL) SUM= SUM+FP(N)*CKLTEM\n+                     ELSE\n+                        IF(ABS(CKLTEM).GT.TOL) SUM= SUM+FQ(N)*CKLTEM\n+                     END IF\n+  230       N= N+1\n+            G(NN)= G(NN)+DUMJ*SUM\n+  240 NN= NN+1\n+      END"}]}