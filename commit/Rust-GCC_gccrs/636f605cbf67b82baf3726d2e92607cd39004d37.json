{"sha": "636f605cbf67b82baf3726d2e92607cd39004d37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjM2ZjYwNWNiZjY3YjgyYmFmMzcyNmQyZTkyNjA3Y2QzOTAwNGQzNw==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2017-12-14T15:53:36Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2017-12-14T15:53:36Z"}, "message": "[arm] Add -mverbose-cost-dump and de-verbosify cost dumps\n\nThis patch adds an -mverbose-cost-dump option, similar to the one in aarch64.\nIt makes the RTX cost dump print the RTX we're costing in the backend, as well as its cost.\nThis can be distracting in other cost-related RTL dumps like combine's.\n\nSo now we don't dump the backend information by default, but provide the power-user option -mverbose-cost-dump\nto enable the old verbose dumping.\n\nThis option is for GCC developers debugging the compiler only, so no documentation are added.\nIt's also trivially simple in functionality so no test is added either.\n\nBootstrapped and tested on arm-none-linux-gnueabihf.\n\nCommitted to trunk.\n\n\t* config/arm/arm.opt (mverbose-cost-dump): New option.\n\t* config/arm/arm.c (arm_rtx_costs): Use it.\n\nFrom-SVN: r255644", "tree": {"sha": "475f5e5d374a3348bc98cb0b228ff8165a9ff6e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/475f5e5d374a3348bc98cb0b228ff8165a9ff6e9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/636f605cbf67b82baf3726d2e92607cd39004d37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/636f605cbf67b82baf3726d2e92607cd39004d37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/636f605cbf67b82baf3726d2e92607cd39004d37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/636f605cbf67b82baf3726d2e92607cd39004d37/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e2c6cfac8e7b9e92e0d51332d6143dc47a982020", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2c6cfac8e7b9e92e0d51332d6143dc47a982020", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2c6cfac8e7b9e92e0d51332d6143dc47a982020"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "8753aa0e4ec02f1470c2b33f46138611d0d202f8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=636f605cbf67b82baf3726d2e92607cd39004d37", "patch": "@@ -1,3 +1,8 @@\n+2017-12-14  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/arm/arm.opt (mverbose-cost-dump): New option.\n+\t* config/arm/arm.c (arm_rtx_costs): Use it.\n+\n 2017-12-14  Andreas Schwab  <schwab@linux-m68k.org>\n \n \tPR bootstrap/83396"}, {"sha": "9b29a0a154e6beb43cb8463c6ee4cfc7b7a9dc67", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=636f605cbf67b82baf3726d2e92607cd39004d37", "patch": "@@ -11068,7 +11068,7 @@ arm_rtx_costs (rtx x, machine_mode mode ATTRIBUTE_UNUSED, int outer_code,\n \t\t\t\tcurrent_tune->insn_extra_cost,\n \t\t\t\ttotal, speed);\n \n-  if (dump_file && (dump_flags & TDF_DETAILS))\n+  if (dump_file && arm_verbose_cost)\n     {\n       print_rtl_single (dump_file, x);\n       fprintf (dump_file, \"\\n%s cost: %d (%s)\\n\", speed ? \"Hot\" : \"Cold\","}, {"sha": "48f645885981c3f244ed36535d01f8b14bb42719", "filename": "gcc/config/arm/arm.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2Fconfig%2Farm%2Farm.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/636f605cbf67b82baf3726d2e92607cd39004d37/gcc%2Fconfig%2Farm%2Farm.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.opt?ref=636f605cbf67b82baf3726d2e92607cd39004d37", "patch": "@@ -254,6 +254,10 @@ mvectorize-with-neon-double\n Target Report RejectNegative Mask(NEON_VECTORIZE_DOUBLE)\n Use Neon double-word (rather than quad-word) registers for vectorization.\n \n+mverbose-cost-dump\n+Common Undocumented Var(arm_verbose_cost) Init(0)\n+Enable more verbose RTX cost dumps during debug.  For GCC developers use only.\n+\n mword-relocations\n Target Report Var(target_word_relocations) Init(TARGET_DEFAULT_WORD_RELOCATIONS)\n Only generate absolute relocations on word sized values."}]}