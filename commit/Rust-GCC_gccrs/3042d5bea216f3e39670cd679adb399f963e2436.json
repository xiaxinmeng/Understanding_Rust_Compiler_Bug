{"sha": "3042d5bea216f3e39670cd679adb399f963e2436", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzA0MmQ1YmVhMjE2ZjNlMzk2NzBjZDY3OWFkYjM5OWY5NjNlMjQzNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchell@usa.net", "date": "1997-12-15T04:40:01Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-12-15T04:40:01Z"}, "message": "call.c (implicit_conversion): Don't call build_user_type_conversion_1 with a NULL expr, since it will crash.\n\n\t* call.c (implicit_conversion): Don't call\n\tbuild_user_type_conversion_1 with a NULL expr, since it will\n\tcrash.\n\n\t* pt.c (unify): Don't try to unify array bounds if either array is\n\tunbounded.\n\nFrom-SVN: r17095", "tree": {"sha": "29ca97f99698e73b0bec81feffdac9096a63b83e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29ca97f99698e73b0bec81feffdac9096a63b83e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3042d5bea216f3e39670cd679adb399f963e2436", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3042d5bea216f3e39670cd679adb399f963e2436", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3042d5bea216f3e39670cd679adb399f963e2436", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3042d5bea216f3e39670cd679adb399f963e2436/comments", "author": null, "committer": null, "parents": [{"sha": "be296fdb536bbfc8bfc1d4cfd507c1755eba5e31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be296fdb536bbfc8bfc1d4cfd507c1755eba5e31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be296fdb536bbfc8bfc1d4cfd507c1755eba5e31"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "7184927da42f1a3dc40568f0da3c515888a3dd97", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3042d5bea216f3e39670cd679adb399f963e2436", "patch": "@@ -1,3 +1,12 @@\n+Sun Dec 14 20:38:35 1997  Mark Mitchell  <mmitchell@usa.net>\n+\n+\t* call.c (implicit_conversion): Don't call\n+\tbuild_user_type_conversion_1 with a NULL expr, since it will\n+\tcrash. \n+\n+\t* pt.c (unify): Don't try to unify array bounds if either array is\n+\tunbounded.\n+\n Fri Dec 12 16:09:14 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* errfn.c (cp_pedwarn, cp_pedwarn_at, cp_error_at, cp_warning_at): "}, {"sha": "e3c3e5124bf2baaf3421e86634c7a375458a9dfb", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=3042d5bea216f3e39670cd679adb399f963e2436", "patch": "@@ -3318,7 +3318,8 @@ implicit_conversion (to, from, expr, flags)\n \n   if (conv)\n     ;\n-  else if ((IS_AGGR_TYPE (non_reference (from))\n+  else if (expr != NULL_TREE\n+\t   && (IS_AGGR_TYPE (non_reference (from))\n \t    || IS_AGGR_TYPE (non_reference (to)))\n \t   && (flags & LOOKUP_NO_CONVERSION) == 0)\n     {"}, {"sha": "e3bfb34356b6f9f3b6eeae8a442a7cd59c525f66", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3042d5bea216f3e39670cd679adb399f963e2436/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=3042d5bea216f3e39670cd679adb399f963e2436", "patch": "@@ -3873,8 +3873,12 @@ unify (tparms, targs, ntparms, parm, arg, nsubsts, strict)\n     case ARRAY_TYPE:\n       if (TREE_CODE (arg) != ARRAY_TYPE)\n \treturn 1;\n-      if (unify (tparms, targs, ntparms, TYPE_DOMAIN (parm), TYPE_DOMAIN (arg),\n-\t\t nsubsts, strict) != 0)\n+      if ((TYPE_DOMAIN (parm) == NULL_TREE)\n+\t  != (TYPE_DOMAIN (arg) == NULL_TREE))\n+\treturn 1;\n+      if (TYPE_DOMAIN (parm) != NULL_TREE\n+\t  && unify (tparms, targs, ntparms, TYPE_DOMAIN (parm),\n+\t\t    TYPE_DOMAIN (arg), nsubsts, strict) != 0)\n \treturn 1;\n       return unify (tparms, targs, ntparms, TREE_TYPE (parm), TREE_TYPE (arg),\n \t\t    nsubsts, strict);"}]}