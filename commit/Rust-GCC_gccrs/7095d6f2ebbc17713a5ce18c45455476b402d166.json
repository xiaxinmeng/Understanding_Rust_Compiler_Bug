{"sha": "7095d6f2ebbc17713a5ce18c45455476b402d166", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA5NWQ2ZjJlYmJjMTc3MTNhNWNlMThjNDU0NTU0NzZiNDAyZDE2Ng==", "commit": {"author": {"name": "Kirill Yukhin", "email": "kirill.yukhin@intel.com", "date": "2015-09-22T09:47:39Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2015-09-22T09:47:39Z"}, "message": "AVX-512. Fix patterns for kunpck insns.\n\ngcc/\n\t* gcc/config/i386/i386.md (define_insn \"kunpckhi\"): Fix\n\toperand in pattern.\n\t(define_insn \"kunpcksi\"): Ditto. \n\t(define_insn \"kunpckdi\"): Ditto.\n\nFrom-SVN: r228005", "tree": {"sha": "34a241a9f6affbaf49f797fce8030d155b26baa7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34a241a9f6affbaf49f797fce8030d155b26baa7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7095d6f2ebbc17713a5ce18c45455476b402d166", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7095d6f2ebbc17713a5ce18c45455476b402d166", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7095d6f2ebbc17713a5ce18c45455476b402d166", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7095d6f2ebbc17713a5ce18c45455476b402d166/comments", "author": null, "committer": null, "parents": [{"sha": "5febdf54ab76c7147235288398e2ecbca71d25ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5febdf54ab76c7147235288398e2ecbca71d25ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5febdf54ab76c7147235288398e2ecbca71d25ed"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "13db1c933823c05a675aa2df96d7d27afb2bfd3d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7095d6f2ebbc17713a5ce18c45455476b402d166/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7095d6f2ebbc17713a5ce18c45455476b402d166/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7095d6f2ebbc17713a5ce18c45455476b402d166", "patch": "@@ -1,3 +1,10 @@\n+2015-09-22  Kirill Yukhin <kirill.yukhin@intel.com>\n+\n+\t* gcc/config/i386/i386.md (define_insn \"kunpckhi\"): Fix\n+\toperand in pattern.\n+\t(define_insn \"kunpcksi\"): Ditto.\n+\t(define_insn \"kunpckdi\"): Ditto.\n+\n 2015-09-22  Kirill Yukhin <kirill.yukhin@intel.com>\n \n \t* gcc/config/i386/i386.md (define_split not/xor SWI1248x): Use"}, {"sha": "2f8cdb2c7270a84a6ae5861e45f4190c8265ee7d", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7095d6f2ebbc17713a5ce18c45455476b402d166/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7095d6f2ebbc17713a5ce18c45455476b402d166/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=7095d6f2ebbc17713a5ce18c45455476b402d166", "patch": "@@ -8603,7 +8603,7 @@\n   [(set (match_operand:HI 0 \"register_operand\" \"=k\")\n \t(ior:HI\n \t  (ashift:HI\n-\t    (match_operand:HI 1 \"register_operand\" \"k\")\n+\t    (zero_extend:HI (match_operand:QI 1 \"register_operand\" \"k\"))\n \t    (const_int 8))\n \t  (zero_extend:HI (match_operand:QI 2 \"register_operand\" \"k\"))))]\n   \"TARGET_AVX512F\"\n@@ -8616,9 +8616,9 @@\n   [(set (match_operand:SI 0 \"register_operand\" \"=k\")\n \t(ior:SI\n \t  (ashift:SI\n-\t    (match_operand:SI 1 \"register_operand\" \"k\")\n+\t    (zero_extend:SI (match_operand:HI 1 \"register_operand\" \"k\"))\n \t    (const_int 16))\n-\t  (zero_extend:SI (subreg:HI (match_operand:SI 2 \"register_operand\" \"k\") 0))))]\n+\t  (zero_extend:SI (match_operand:HI 2 \"register_operand\" \"k\"))))]\n   \"TARGET_AVX512BW\"\n   \"kunpckwd\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"mode\" \"SI\")])\n@@ -8627,9 +8627,9 @@\n   [(set (match_operand:DI 0 \"register_operand\" \"=k\")\n \t(ior:DI\n \t  (ashift:DI\n-\t    (match_operand:DI 1 \"register_operand\" \"k\")\n+\t    (zero_extend:DI (match_operand:SI 1 \"register_operand\" \"k\"))\n \t    (const_int 32))\n-\t  (zero_extend:DI (subreg:SI (match_operand:DI 2 \"register_operand\" \"k\") 0))))]\n+\t  (zero_extend:DI (match_operand:SI 2 \"register_operand\" \"k\"))))]\n   \"TARGET_AVX512BW\"\n   \"kunpckdq\\t{%2, %1, %0|%0, %1, %2}\"\n   [(set_attr \"mode\" \"DI\")])"}]}