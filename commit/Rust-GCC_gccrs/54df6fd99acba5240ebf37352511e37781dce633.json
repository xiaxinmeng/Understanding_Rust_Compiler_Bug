{"sha": "54df6fd99acba5240ebf37352511e37781dce633", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTRkZjZmZDk5YWNiYTUyNDBlYmYzNzM1MjUxMWUzNzc4MWRjZTYzMw==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2007-10-15T13:57:59Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-10-15T13:57:59Z"}, "message": "gnat_ugn.texi: Add documentation for switches --version and --help for the GNAT tools gnatbind...\n\n2007-10-15  Vincent Celier  <celier@adacore.com>\n\t    Robert Dewar  <dewar@adacore.com>\n\n\t* gnat_ugn.texi: Add documentation for switches --version and --help\n\tfor the GNAT tools gnatbind, gnatlink, gnatmake, gnatchop, gnatname,\n\tgnatxref, gnatfind, gnatls, and gnatclean.\n\tDocument -gnatw.o.\n\tMention attribute Excluded_Source_Dirs\n\tReplace obsolescent attribute Locally_Removed_Files with attribute\n\tExcluded_Source_Files.\n\tImprove documentation of -u (gnatbind)\n\tDocument how to do reliable stack checking for the environmental task\n\ton iVMS.\n\n\t* gnat_rm.texi: Rewrite section about No_Implicit_Dynamic_Code.\n\tDocument attribute Excluded_Source_Files and indicate that attribute\n\tLocally_Removed_Files is obsolescent.\n\nFrom-SVN: r129341", "tree": {"sha": "292b0646fb881ff0a9b21b3fed0a4a582ea7252f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/292b0646fb881ff0a9b21b3fed0a4a582ea7252f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54df6fd99acba5240ebf37352511e37781dce633", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54df6fd99acba5240ebf37352511e37781dce633", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54df6fd99acba5240ebf37352511e37781dce633", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54df6fd99acba5240ebf37352511e37781dce633/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e0aacc92672d35a702586e4c1c9cf2f01d63bcd3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0aacc92672d35a702586e4c1c9cf2f01d63bcd3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0aacc92672d35a702586e4c1c9cf2f01d63bcd3"}], "stats": {"total": 179, "additions": 159, "deletions": 20}, "files": [{"sha": "cf6e9c66bde384518705f5324e82cdc889e836b6", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 26, "deletions": 12, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54df6fd99acba5240ebf37352511e37781dce633/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54df6fd99acba5240ebf37352511e37781dce633/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=54df6fd99acba5240ebf37352511e37781dce633", "patch": "@@ -7780,11 +7780,13 @@ of composite objects and the Max/Min attributes.\n @findex No_Implicit_Dynamic_Code\n This restriction prevents the compiler from building ``trampolines''.\n This is a structure that is built on the stack and contains dynamic\n-code to be executed at run time. A trampoline is needed to indirectly\n-address a nested subprogram (that is a subprogram that is not at the\n-library level). The restriction prevents the use of any of the\n-attributes @code{Address}, @code{Access} or @code{Unrestricted_Access}\n-being applied to a subprogram that is not at the library level.\n+code to be executed at run time. On some targets, a trampoline is\n+built for the following features: @code{Access},\n+@code{Unrestricted_Access}, or @code{Address} of a nested subprogram;\n+nested task bodies; primitive operations of nested tagged types.\n+Trampolines do not work on machines that prevent execution of stack\n+data. For example, on windows systems, enabling DEP (data execution\n+protection) will cause trampolines to raise an exception.\n \n @item No_Implicit_Loops\n @findex No_Implicit_Loops\n@@ -15044,6 +15046,15 @@ If not specified, executables are placed in the object directory.\n Expression must be a list of path names. The attribute\n defines the directories in which the source files for the project are to be\n found. If not specified, source files are found in the project directory.\n+If a string in the list ends with \"/**\", then the directory that precedes\n+\"/**\" and all of its subdirectories (recursively) are included in the list\n+of source directories.\n+\n+@item  Excluded_Source_Dirs\n+Expression must be a list of strings. Each entry designates a directory that\n+is not to be included in the list of source directories of the project.\n+This is normally used when there are strings ending with \"/**\" in the value\n+of attribute Source_Dirs.\n \n @item  Source_Files\n Expression must be a list of file names. The attribute\n@@ -15052,6 +15063,16 @@ as sources for the project. File names are path_names that contain no directory\n information. If the project has no sources the attribute must be declared\n explicitly with an empty list.\n \n+@item  Excluded_Source_Files (Locally_Removed_Files)\n+Expression must be a list of strings that are legal file names.\n+Each file name must designate a source that would normally be a source file\n+in the source directories of the project or, if the project file is an\n+extending project file, inherited by the current project file. It cannot\n+designate an immediate source that is not inherited. Each of the source files\n+in the list are not considered to be sources of the project file: they are not\n+inherited. Attribute Locally_Removed_Files is obsolescent, attribute\n+Excluded_Source_Files is preferred.\n+\n @item  Source_List_File\n Expression must a single path name. The attribute\n defines a text file that contains a list of source file names to be used\n@@ -15186,13 +15207,6 @@ language of the main program.\n Expression must be a string list. Each string designates\n a programming language that is known to GNAT. The strings are case-insensitive.\n \n-@item  Locally_Removed_Files\n-This attribute is legal only in a project file that extends another.\n-Expression must be a list of strings that are legal file names.\n-Each file name must designate a source that would normally be inherited\n-by the current project file. It cannot designate an immediate source that is\n-not inherited. Each of the source files in the list are not considered to\n-be sources of the project file: they are not inherited.\n @end table\n \n @node Attribute References"}, {"sha": "73862deacfc59ae1134d71df65b8f415b720db45", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 133, "deletions": 8, "changes": 141, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54df6fd99acba5240ebf37352511e37781dce633/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54df6fd99acba5240ebf37352511e37781dce633/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=54df6fd99acba5240ebf37352511e37781dce633", "patch": "@@ -4724,6 +4724,7 @@ switch are\n @option{-gnatwd} (implicit dereferencing),\n @option{-gnatwh} (hiding),\n @option{-gnatwl} (elaboration warnings),\n+@option{-gnatw.o} (warn on values set by out parameters ignored)\n and @option{-gnatwt} (tracking of deleted conditional code).\n All other optional warnings are turned on.\n \n@@ -5012,6 +5013,25 @@ This switch suppresses warnings on possibly unintended initialization\n effects of defining address clauses that cause one variable to overlap\n another.\n \n+@item -gnatw.o\n+@emph{Activate warnings on modified but unreferenced out parameters.}\n+@cindex @option{-gnatw.o} (@command{gcc})\n+This switch activates warnings for variables that are modified by using\n+them as actuals for a call to a procedure with an out mode formal, where\n+the resulting assigned value is never read.\n+The warning is suppressed for volatile\n+variables and also for variables that are renamings of other variables\n+or for which an address clause is given.\n+The default is that these warnings are not given. Note that this warning\n+is not included in -gnatwa, it must be activated explicitly.\n+\n+@item -gnatw.O\n+@emph{Disable warnings on modified but unreferenced out parameters.}\n+@cindex @option{-gnatw.O} (@command{gcc})\n+This switch suppresses warnings for variables that are modified by using\n+them as actuals for a call to a procedure with an out mode formal, where\n+the resulting assigned value is never read.\n+\n @item -gnatwp\n @emph{Activate warnings on ineffective pragma Inlines.}\n @cindex @option{-gnatwp} (@command{gcc})\n@@ -7383,6 +7403,15 @@ be presented in subsequent sections.\n @table @option\n @c !sort!\n \n+@item --version\n+@cindex @option{--version} @command{gnatbind}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatbind}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item -a\n @cindex @option{-a} @command{gnatbind}\n Indicates that, if supported by the platform, the adainit procedure should\n@@ -7619,9 +7648,11 @@ scheduling policy to @code{FIFO_Within_Priorities}.\n \n @item ^-u@var{n}^/DYNAMIC_STACK_USAGE=@var{n}^\n @cindex @option{^-u^/DYNAMIC_STACK_USAGE^} (@code{gnatbind})\n-Enable dynamic stack usage, with n result stored and displayed at program\n-termination. Results that can't be stored are displayed on the fly, at task\n-termination. This option is currently not supported on OpenVMS I64 platforms.\n+Enable dynamic stack usage, with @var{n} results stored and displayed\n+at program termination. A result is generated when a task\n+terminates. Results that can't be stored are displayed on the fly, at\n+task termination. This option is currently not supported on Itanium\n+platforms. (See @ref{Dynamic Stack Usage Analysis} for details.)\n \n @item ^-v^/REPORT_ERRORS=VERBOSE^\n @cindex @option{^-v^/REPORT_ERRORS=VERBOSE^} (@code{gnatbind})\n@@ -8297,6 +8328,15 @@ The following switches are available with the @command{gnatlink} utility:\n @table @option\n @c !sort!\n \n+@item --version\n+@cindex @option{--version} @command{gnatlink}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatlink}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-A^/BIND_FILE=ADA^\n @cindex @option{^-A^/BIND_FILE=ADA^} (@command{gnatlink})\n The binder has generated code in Ada. This is the default.\n@@ -8527,6 +8567,16 @@ You may specify any of the following switches to @command{gnatmake}:\n \n @table @option\n @c !sort!\n+\n+@item --version\n+@cindex @option{--version} @command{gnatmake}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatmake}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @ifclear vms\n @item --GCC=@var{compiler_name}\n @cindex @option{--GCC=compiler_name} (@command{gnatmake})\n@@ -10446,6 +10496,15 @@ no source files written\n @table @option\n @c !sort!\n \n+@item --version\n+@cindex @option{--version} @command{gnatchop}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatchop}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-c^/COMPILATION^\n @cindex @option{^-c^/COMPILATION^} (@code{gnatchop})\n Causes @code{gnatchop} to operate in compilation mode, in which\n@@ -10804,6 +10863,15 @@ You may specify any of the following switches to @code{gnatname}:\n @table @option\n @c !sort!\n \n+@item --version\n+@cindex @option{--version} @command{gnatname}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatname}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-c^/CONFIG_FILE=^@file{file}\n @cindex @option{^-c^/CONFIG_FILE^} (@code{gnatname})\n Create a configuration pragmas file @file{file} (instead of the default\n@@ -11714,20 +11782,20 @@ and no longer requires a body: in this case, it is necessary to indicate that\n the inherited body is not part of the sources of the project, otherwise there\n will be a compilation error when compiling the spec.\n \n-For that purpose, the attribute @code{Locally_Removed_Files} is used.\n+For that purpose, the attribute @code{Excluded_Source_Files} is used.\n Its value is a string list: a list of file names.\n \n @smallexample @c @projectfile\n project B extends \"a\" is\n    for Source_Files use (\"pkg.ads\");\n    --  New spec of Pkg does not need a completion\n-   for Locally_Removed_Files use (\"pkg.adb\");\n+   for Excluded_Source_Files use (\"pkg.adb\");\n end B;\n @end smallexample\n \n-Attribute @code{Locally_Removed_Files} may also be used to check if a source\n+Attribute @code{Excluded_Source_Files} may also be used to check if a source\n is still needed: if it is possible to build using @command{gnatmake} when such\n-a source is put in attribute @code{Locally_Removed_Files} of a project P, then\n+a source is put in attribute @code{Excluded_Source_Files} of a project P, then\n it is possible to remove the source completely from a system that includes\n project P.\n \n@@ -12092,7 +12160,9 @@ The following attributes are defined on projects (all are simple attributes):\n @tab string\n @item @code{Exec_Dir}\n @tab string\n-@item @code{Locally_Removed_Files}\n+@item @code{Excluded_Source_Dirs}\n+@tab string list\n+@item @code{Excluded_Source_Files}\n @tab string list\n @item @code{Languages}\n @tab string list\n@@ -14499,6 +14569,15 @@ the source path. If you specify directories, no result is produced.\n The switches can be :\n @table @option\n @c !sort!\n+@item --version\n+@cindex @option{--version} @command{gnatxref}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatxref}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-a^/ALL_FILES^\n @cindex @option{^-a^/ALL_FILES^} (@command{gnatxref})\n If this switch is present, @code{gnatfind} and @code{gnatxref} will parse\n@@ -14656,6 +14735,14 @@ The following switches are available:\n @table @option\n @c !sort!\n \n+@cindex @option{--version} @command{gnatfind}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatfind}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-a^/ALL_FILES^\n @cindex @option{^-a^/ALL_FILES^} (@command{gnatfind})\n If this switch is present, @code{gnatfind} and @code{gnatxref} will parse\n@@ -17513,6 +17600,14 @@ version of the same source that has been modified.\n \n @table @option\n @c !sort!\n+@cindex @option{--version} @command{gnatls}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatls}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-a^/ALL_UNITS^\n @cindex @option{^-a^/ALL_UNITS^} (@code{gnatls})\n Consider all units, including those of the predefined Ada library.\n@@ -17751,6 +17846,14 @@ normal mode is listed, but no file is actually deleted.\n \n @table @option\n @c !sort!\n+@cindex @option{--version} @command{gnatclean}\n+Display Copyright and version, then exit disregarding all other options.\n+\n+@item --help\n+@cindex @option{--help} @command{gnatclean}\n+If @option{--version} was not used, display usage, then exit disregarding\n+all other options.\n+\n @item ^-c^/COMPILER_FILES_ONLY^\n @cindex @option{^-c^/COMPILER_FILES_ONLY^} (@code{gnatclean})\n Only attempt to delete the files produced by the compiler, not those produced\n@@ -19399,6 +19502,7 @@ For the environment task, the stack size depends on\n system defaults and is unknown to the compiler. Stack checking\n may still work correctly if a fixed\n size stack is allocated, but this cannot be guaranteed.\n+@ifclear vms\n To ensure that a clean exception is signalled for stack\n overflow, set the environment variable\n @code{GNAT_STACK_LIMIT} to indicate the maximum\n@@ -19417,6 +19521,27 @@ of stack used by the environment task. If it is necessary to\n increase the amount of stack for the environment task, then this\n is an operating systems issue, and must be addressed with the\n appropriate operating systems commands.\n+@end ifclear\n+@ifset vms\n+To have a fixed size stack in the environment task, the stack must be put\n+in the P0 address space and its size specified.  Use these switches to\n+create a p0 image:\n+\n+@smallexample\n+gnatmake my_progs -largs \"-Wl,--opt=STACK=4000,/p0image\"\n+@end smallexample\n+\n+@noindent\n+The quotes are required to keep case.  The number after @samp{STACK=} is the\n+size of the environmental task stack in pagelets (512 bytes).  In this example\n+the stack size is about 2 megabytes.\n+\n+@noindent\n+A consequence of the @option{/p0image} qualifier is also to makes RMS buffers\n+be placed in P0 space.  Refer to @cite{HP OpenVMS Linker Utility Manual} for\n+more details about the @option{/p0image} qualifier and the @option{stack}\n+option.\n+@end ifset\n \n @node Static Stack Usage Analysis\n @section Static Stack Usage Analysis"}]}