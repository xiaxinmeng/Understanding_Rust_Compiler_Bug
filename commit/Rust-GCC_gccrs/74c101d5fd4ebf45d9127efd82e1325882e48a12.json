{"sha": "74c101d5fd4ebf45d9127efd82e1325882e48a12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzRjMTAxZDVmZDRlYmY0NWQ5MTI3ZWZkODJlMTMyNTg4MmU0OGExMg==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2014-09-18T15:57:06Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2014-09-18T15:57:06Z"}, "message": "re PR target/61360 (ICE: in lra_update_insn_recog_data, at lra.c:1363 with -mtune=bdver4)\n\n2014-09-18  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR target/61360\n\t* lra.c (lra): Call recog_init.\n\n2014-09-18  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR target/61360\n\t* gcc.target/i386/pr61360.c: New.\n\nFrom-SVN: r215358", "tree": {"sha": "96c5f2ec46b587f3702fc950d53369906dbf248e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96c5f2ec46b587f3702fc950d53369906dbf248e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/74c101d5fd4ebf45d9127efd82e1325882e48a12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74c101d5fd4ebf45d9127efd82e1325882e48a12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74c101d5fd4ebf45d9127efd82e1325882e48a12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74c101d5fd4ebf45d9127efd82e1325882e48a12/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b060c2173402c6aa2ad4669317e3a3d61d8759c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b060c2173402c6aa2ad4669317e3a3d61d8759c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b060c2173402c6aa2ad4669317e3a3d61d8759c7"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "3c55ce466932a112fa77188e9b261aebee199b52", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=74c101d5fd4ebf45d9127efd82e1325882e48a12", "patch": "@@ -1,3 +1,8 @@\n+2014-09-18  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR target/61360\n+\t* lra.c (lra): Call recog_init.\n+\n 2014-09-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/62017"}, {"sha": "acec8af93683dff57f00bc051e28ea2ea400e09e", "filename": "gcc/lra.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Flra.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Flra.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra.c?ref=74c101d5fd4ebf45d9127efd82e1325882e48a12", "patch": "@@ -2135,6 +2135,11 @@ lra (FILE *f)\n \n   lra_in_progress = 1;\n \n+  /* The enable attributes can change their values as LRA starts\n+     although it is a bad practice.  To prevent reuse of the outdated\n+     values, clear them.  */\n+  recog_init ();\n+\n   lra_live_range_iter = lra_coalesce_iter = 0;\n   lra_constraint_iter = lra_constraint_iter_after_spill = 0;\n   lra_inheritance_iter = lra_undo_inheritance_iter = 0;"}, {"sha": "de00b32c291bcecf67fd86a7fb9da1f81d483bcc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=74c101d5fd4ebf45d9127efd82e1325882e48a12", "patch": "@@ -1,3 +1,8 @@\n+2014-09-18  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR target/61360\n+\t* gcc.target/i386/pr61360.c: New.\n+\n 2014-09-18  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/62017"}, {"sha": "cbd3a6f6b539e14aaa198908de334d0b8aa01589", "filename": "gcc/testsuite/gcc.target/i386/pr61360.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr61360.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/74c101d5fd4ebf45d9127efd82e1325882e48a12/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr61360.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr61360.c?ref=74c101d5fd4ebf45d9127efd82e1325882e48a12", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=amdfam10 -O2\" } */\n+int a, b, c, e, f, g, h;\n+long *d;\n+__attribute__((cold)) void fn1() {\n+  int i = g | 1;\n+  for (; g; h++) {\n+    for (; a; e++) d[0] = c;\n+    if (0.002 * i) break;\n+    for (; b; f++) d[h] = 0;\n+  }\n+}"}]}