{"sha": "1c22488e18f254dde889e01c72f250be41b9227e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWMyMjQ4OGUxOGYyNTRkZGU4ODllMDFjNzJmMjUwYmU0MWI5MjI3ZQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-09-10T14:42:05Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-09-10T14:42:05Z"}, "message": "error_for_asm and warning_for_asm take const rtx_insn *\n\ngcc/ChangeLog:\n2014-09-10  David Malcolm  <dmalcolm@redhat.com>\n\n\t* final.c (this_is_asm_operands): Strengthen this variable from\n\trtx to const rtx_insn *.\n\t* output.h (this_is_asm_operands): Likewise.\n\t* rtl-error.c (location_for_asm): Strengthen param \"insn\" from\n\tconst_rtx to const rtx_insn *.\n\t(diagnostic_for_asm): Likewise.\n\t* rtl-error.h (error_for_asm): Likewise.\n\t(warning_for_asm): Likewise.\n\nFrom-SVN: r215133", "tree": {"sha": "c68a8dcc34b9744826ef8bc4e707ebafa99ba49c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c68a8dcc34b9744826ef8bc4e707ebafa99ba49c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1c22488e18f254dde889e01c72f250be41b9227e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c22488e18f254dde889e01c72f250be41b9227e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c22488e18f254dde889e01c72f250be41b9227e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c22488e18f254dde889e01c72f250be41b9227e/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d0bffe555ae09d599f8f6202dc6cf511b8c9de48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0bffe555ae09d599f8f6202dc6cf511b8c9de48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0bffe555ae09d599f8f6202dc6cf511b8c9de48"}], "stats": {"total": 34, "additions": 24, "deletions": 10}, "files": [{"sha": "3aaeb0d3f3ce79e0ddae018d79afe8d307461c64", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1c22488e18f254dde889e01c72f250be41b9227e", "patch": "@@ -1,3 +1,14 @@\n+2014-09-10  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* final.c (this_is_asm_operands): Strengthen this variable from\n+\trtx to const rtx_insn *.\n+\t* output.h (this_is_asm_operands): Likewise.\n+\t* rtl-error.c (location_for_asm): Strengthen param \"insn\" from\n+\tconst_rtx to const rtx_insn *.\n+\t(diagnostic_for_asm): Likewise.\n+\t* rtl-error.h (error_for_asm): Likewise.\n+\t(warning_for_asm): Likewise.\n+\n 2014-09-10  David Malcolm  <dmalcolm@redhat.com>\n \n \t* genextract.c (print_header): When writing out insn_extract to"}, {"sha": "9275a487bd8176a11b2162ffb7405bf31755bae8", "filename": "gcc/final.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=1c22488e18f254dde889e01c72f250be41b9227e", "patch": "@@ -151,7 +151,7 @@ extern const int length_unit_log; /* This is defined in insn-attrtab.c.  */\n /* Nonzero while outputting an `asm' with operands.\n    This means that inconsistencies are the user's fault, so don't die.\n    The precise value is the insn being output, to pass to error_for_asm.  */\n-rtx this_is_asm_operands;\n+const rtx_insn *this_is_asm_operands;\n \n /* Number of operands of this insn, for an `asm' with operands.  */\n static unsigned int insn_noperands;"}, {"sha": "8c043a13da708bad6119ccce777ce389a5e3e677", "filename": "gcc/output.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Foutput.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Foutput.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foutput.h?ref=1c22488e18f254dde889e01c72f250be41b9227e", "patch": "@@ -328,7 +328,7 @@ extern rtx_insn *current_output_insn;\n /* Nonzero while outputting an `asm' with operands.\n    This means that inconsistencies are the user's fault, so don't die.\n    The precise value is the insn being output, to pass to error_for_asm.  */\n-extern rtx this_is_asm_operands;\n+extern const rtx_insn *this_is_asm_operands;\n \n /* Carry information from ASM_DECLARE_OBJECT_NAME\n    to ASM_FINISH_DECLARE_OBJECT.  */"}, {"sha": "e8766099d2a8331b7fa7ebc584ae38309d41498f", "filename": "gcc/rtl-error.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Frtl-error.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Frtl-error.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl-error.c?ref=1c22488e18f254dde889e01c72f250be41b9227e", "patch": "@@ -29,12 +29,13 @@ along with GCC; see the file COPYING3.  If not see\n #include \"intl.h\"\n #include \"diagnostic.h\"\n \n-static location_t location_for_asm (const_rtx);\n-static void diagnostic_for_asm (const_rtx, const char *, va_list *, diagnostic_t) ATTRIBUTE_GCC_DIAG(2,0);\n+static location_t location_for_asm (const rtx_insn *);\n+static void diagnostic_for_asm (const rtx_insn *, const char *, va_list *,\n+\t\t\t\tdiagnostic_t) ATTRIBUTE_GCC_DIAG(2,0);\n \n /* Figure the location of the given INSN.  */\n static location_t\n-location_for_asm (const_rtx insn)\n+location_for_asm (const rtx_insn *insn)\n {\n   rtx body = PATTERN (insn);\n   rtx asmop;\n@@ -65,7 +66,7 @@ location_for_asm (const_rtx insn)\n    of the insn INSN.  This is used only when INSN is an `asm' with operands,\n    and each ASM_OPERANDS records its own source file and line.  */\n static void\n-diagnostic_for_asm (const_rtx insn, const char *msg, va_list *args_ptr,\n+diagnostic_for_asm (const rtx_insn *insn, const char *msg, va_list *args_ptr,\n \t\t    diagnostic_t kind)\n {\n   diagnostic_info diagnostic;\n@@ -76,7 +77,7 @@ diagnostic_for_asm (const_rtx insn, const char *msg, va_list *args_ptr,\n }\n \n void\n-error_for_asm (const_rtx insn, const char *gmsgid, ...)\n+error_for_asm (const rtx_insn *insn, const char *gmsgid, ...)\n {\n   va_list ap;\n \n@@ -86,7 +87,7 @@ error_for_asm (const_rtx insn, const char *gmsgid, ...)\n }\n \n void\n-warning_for_asm (const_rtx insn, const char *gmsgid, ...)\n+warning_for_asm (const rtx_insn *insn, const char *gmsgid, ...)\n {\n   va_list ap;\n "}, {"sha": "479e2e5b83545db7b67060ab09852c22226db894", "filename": "gcc/rtl-error.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Frtl-error.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1c22488e18f254dde889e01c72f250be41b9227e/gcc%2Frtl-error.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl-error.h?ref=1c22488e18f254dde889e01c72f250be41b9227e", "patch": "@@ -20,5 +20,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"rtl.h\"\n #include \"diagnostic-core.h\"\n \n-extern void error_for_asm (const_rtx, const char *, ...) ATTRIBUTE_GCC_DIAG(2,3);\n-extern void warning_for_asm (const_rtx, const char *, ...) ATTRIBUTE_GCC_DIAG(2,3);\n+extern void error_for_asm (const rtx_insn *, const char *,\n+\t\t\t   ...) ATTRIBUTE_GCC_DIAG(2,3);\n+extern void warning_for_asm (const rtx_insn *, const char *,\n+\t\t\t     ...) ATTRIBUTE_GCC_DIAG(2,3);"}]}