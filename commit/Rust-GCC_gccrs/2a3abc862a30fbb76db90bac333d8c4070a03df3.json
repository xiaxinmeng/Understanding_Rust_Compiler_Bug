{"sha": "2a3abc862a30fbb76db90bac333d8c4070a03df3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmEzYWJjODYyYTMwZmJiNzZkYjkwYmFjMzMzZDhjNDA3MGEwM2RmMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-01-19T05:09:43Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2018-01-19T05:09:43Z"}, "message": "mksysinfo: use rlimit64 if available when we use getrlimit64\n    \n    This makes no difference on most systems, because <sys/resource.h>\n    renames the type appropriately anyhow, but apparently it makes a\n    difference on AIX.\n    \n    Reviewed-on: https://go-review.googlesource.com/88076\n\nFrom-SVN: r256877", "tree": {"sha": "e0cc622cbd4c4d744c92f6dac58a662fa7612928", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0cc622cbd4c4d744c92f6dac58a662fa7612928"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a3abc862a30fbb76db90bac333d8c4070a03df3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a3abc862a30fbb76db90bac333d8c4070a03df3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a3abc862a30fbb76db90bac333d8c4070a03df3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a3abc862a30fbb76db90bac333d8c4070a03df3/comments", "author": null, "committer": null, "parents": [{"sha": "5d158777580bd4b5ced86df46103010eef39f599", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d158777580bd4b5ced86df46103010eef39f599", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d158777580bd4b5ced86df46103010eef39f599"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "a66fe24dfe2876c122fb7899cd6bec4f4f98f8ab", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a3abc862a30fbb76db90bac333d8c4070a03df3/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a3abc862a30fbb76db90bac333d8c4070a03df3/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=2a3abc862a30fbb76db90bac333d8c4070a03df3", "patch": "@@ -1,4 +1,4 @@\n-bce8720d4eb662f31026e9c7be6ce4d0aeb4ae3b\n+87525458bcd5ab4beb5b95e7d58e3dfdbc1bd478\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "88be5dbb00a7da1cf659b0267377dcf696c7693c", "filename": "libgo/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=2a3abc862a30fbb76db90bac333d8c4070a03df3", "patch": "@@ -674,7 +674,7 @@ s-errno:\n \n sysinfo.go: s-sysinfo; @true\n s-sysinfo: $(srcdir)/mksysinfo.sh gen-sysinfo.go errno.i\n-\tGOOS=$(GOOS) $(SHELL) $(srcdir)/mksysinfo.sh\n+\tGOARCH=$(GOARCH) GOOS=$(GOOS) $(SHELL) $(srcdir)/mksysinfo.sh\n \t$(SHELL) $(srcdir)/mvifdiff.sh tmp-sysinfo.go sysinfo.go\n \t$(STAMP) $@\n "}, {"sha": "471a047f831f2481340dcca1c93acf16589c2b39", "filename": "libgo/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=2a3abc862a30fbb76db90bac333d8c4070a03df3", "patch": "@@ -3241,7 +3241,7 @@ s-errno:\n \n sysinfo.go: s-sysinfo; @true\n s-sysinfo: $(srcdir)/mksysinfo.sh gen-sysinfo.go errno.i\n-\tGOOS=$(GOOS) $(SHELL) $(srcdir)/mksysinfo.sh\n+\tGOARCH=$(GOARCH) GOOS=$(GOOS) $(SHELL) $(srcdir)/mksysinfo.sh\n \t$(SHELL) $(srcdir)/mvifdiff.sh tmp-sysinfo.go sysinfo.go\n \t$(STAMP) $@\n "}, {"sha": "6f7cba72494ad426a90cb499227a7285e2a98461", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a3abc862a30fbb76db90bac333d8c4070a03df3/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=2a3abc862a30fbb76db90bac333d8c4070a03df3", "patch": "@@ -1120,8 +1120,16 @@ if test \"$timex\" != \"\"; then\n fi\n \n # The rlimit struct.\n-grep '^type _rlimit ' gen-sysinfo.go | \\\n-    sed -e 's/_rlimit/Rlimit/' \\\n+# On systems that use syscall/libcall_posix_largefile.go, use rlimit64\n+# if it exists.\n+rlimit=\"_rlimit\"\n+if test \"${GOOS}\" = \"aix\" || test \"${GOOS}\" = \"linux\" || (test \"${GOOS}\" = \"solaris\" && (test \"${GOARCH}\" = \"386\" || test \"${GOARCH}\" = \"sparc\")); then\n+  if grep '^type _rlimit64 ' gen-sysinfo.go > /dev/null 2>&1; then\n+    rlimit=\"_rlimit64\"\n+  fi\n+fi\n+grep \"^type ${rlimit} \" gen-sysinfo.go | \\\n+    sed -e \"s/${rlimit}/Rlimit/\" \\\n       -e 's/rlim_cur/Cur/' \\\n       -e 's/rlim_max/Max/' \\\n     >> ${OUT}\n@@ -1130,7 +1138,13 @@ grep '^type _rlimit ' gen-sysinfo.go | \\\n grep '^const _RLIMIT_' gen-sysinfo.go |\n     sed -e 's/^\\(const \\)_\\(RLIMIT_[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n grep '^const _RLIM_' gen-sysinfo.go |\n+    grep -v '^const _RLIM_INFINITY ' |\n     sed -e 's/^\\(const \\)_\\(RLIM_[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+if test \"${rlimit}\" = \"_rlimit64\" && grep '^const _RLIM64_INFINITY ' gen-sysinfo.go > /dev/null 2>&1; then\n+  echo 'const RLIM_INFINITY = _RLIM64_INFINITY' >> ${OUT}\n+elif grep '^const _RLIM_INFINITY ' gen-sysinfo-go; then\n+  echo 'const RLIM_INFINITY = _RLIM_INFINITY' >> ${OUT}\n+fi\n \n # The sysinfo struct.\n grep '^type _sysinfo ' gen-sysinfo.go | \\"}]}