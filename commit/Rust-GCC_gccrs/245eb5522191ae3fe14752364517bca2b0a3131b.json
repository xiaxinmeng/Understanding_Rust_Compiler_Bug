{"sha": "245eb5522191ae3fe14752364517bca2b0a3131b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ1ZWI1NTIyMTkxYWUzZmUxNDc1MjM2NDUxN2JjYTJiMGEzMTMxYg==", "commit": {"author": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2013-11-06T20:37:45Z"}, "committer": {"name": "Oleg Endo", "email": "olegendo@gcc.gnu.org", "date": "2013-11-06T20:37:45Z"}, "message": "sh.md (addsf3, [...]): Use fp_arith_reg_operand instead of arith_reg_operand.\n\n\t* config/sh/sh.md (addsf3, divsf3, divsf3_i, rsqrtsf2, cmpgtdf_t,\n\tcmpeqdf_t, *ieee_ccmpeqdf_t, negdf2, sqrtdf2, absdf2): Use\n\tfp_arith_reg_operand instead of arith_reg_operand.\n\nFrom-SVN: r204478", "tree": {"sha": "ef56eb4f06e75b928b3c3c8018d173af542064ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef56eb4f06e75b928b3c3c8018d173af542064ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/245eb5522191ae3fe14752364517bca2b0a3131b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/245eb5522191ae3fe14752364517bca2b0a3131b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/245eb5522191ae3fe14752364517bca2b0a3131b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/245eb5522191ae3fe14752364517bca2b0a3131b/comments", "author": null, "committer": null, "parents": [{"sha": "5b67c358c13568de2bb2e325a6a04ac3fed90de9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b67c358c13568de2bb2e325a6a04ac3fed90de9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b67c358c13568de2bb2e325a6a04ac3fed90de9"}], "stats": {"total": 53, "additions": 29, "deletions": 24}, "files": [{"sha": "a86aaac6ce06cc8fd0436da21e26ab3b975ddea8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/245eb5522191ae3fe14752364517bca2b0a3131b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/245eb5522191ae3fe14752364517bca2b0a3131b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=245eb5522191ae3fe14752364517bca2b0a3131b", "patch": "@@ -1,3 +1,9 @@\n+2013-11-06  Oleg Endo  <olegendo@gcc.gnu.org>\n+\n+\t* config/sh/sh.md (addsf3, divsf3, divsf3_i, rsqrtsf2, cmpgtdf_t,\n+\tcmpeqdf_t, *ieee_ccmpeqdf_t, negdf2, sqrtdf2, absdf2): Use\n+\tfp_arith_reg_operand instead of arith_reg_operand.\n+\n 2013-11-06  Oleg Endo  <olegendo@gcc.gnu.org>\n \n \t* config/sh/sh.md (adddi3): Remove empty constraints."}, {"sha": "dd926893166736accc19176a9507f5d7e71bffd6", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 23, "deletions": 24, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/245eb5522191ae3fe14752364517bca2b0a3131b/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/245eb5522191ae3fe14752364517bca2b0a3131b/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=245eb5522191ae3fe14752364517bca2b0a3131b", "patch": "@@ -12202,9 +12202,9 @@ label:\n   [(set_attr \"type\" \"fpscr_toggle\")])\n \n (define_expand \"addsf3\"\n-  [(set (match_operand:SF 0 \"arith_reg_operand\" \"\")\n-\t(plus:SF (match_operand:SF 1 \"arith_reg_operand\" \"\")\n-\t\t (match_operand:SF 2 \"arith_reg_operand\" \"\")))]\n+  [(set (match_operand:SF 0 \"fp_arith_reg_operand\")\n+\t(plus:SF (match_operand:SF 1 \"fp_arith_reg_operand\")\n+\t\t (match_operand:SF 2 \"fp_arith_reg_operand\")))]\n   \"TARGET_SH2E || TARGET_SHMEDIA_FPU\"\n {\n   if (TARGET_SH2E)\n@@ -12451,9 +12451,9 @@ label:\n   [(set_attr \"type\" \"fparith_media\")])\n \n (define_expand \"divsf3\"\n-  [(set (match_operand:SF 0 \"arith_reg_operand\" \"\")\n-\t(div:SF (match_operand:SF 1 \"arith_reg_operand\" \"\")\n-\t\t(match_operand:SF 2 \"arith_reg_operand\" \"\")))]\n+  [(set (match_operand:SF 0 \"fp_arith_reg_operand\")\n+\t(div:SF (match_operand:SF 1 \"fp_arith_reg_operand\")\n+\t\t(match_operand:SF 2 \"fp_arith_reg_operand\")))]\n   \"TARGET_SH2E || TARGET_SHMEDIA_FPU\"\n {\n   if (TARGET_SH2E)\n@@ -12472,9 +12472,9 @@ label:\n   [(set_attr \"type\" \"fdiv_media\")])\n \n (define_insn \"divsf3_i\"\n-  [(set (match_operand:SF 0 \"arith_reg_dest\" \"=f\")\n-\t(div:SF (match_operand:SF 1 \"arith_reg_operand\" \"0\")\n-\t\t (match_operand:SF 2 \"arith_reg_operand\" \"f\")))\n+  [(set (match_operand:SF 0 \"fp_arith_reg_dest\" \"=f\")\n+\t(div:SF (match_operand:SF 1 \"fp_arith_reg_operand\" \"0\")\n+\t\t (match_operand:SF 2 \"fp_arith_reg_operand\" \"f\")))\n    (use (match_operand:PSI 3 \"fpscr_operand\" \"c\"))]\n   \"TARGET_SH2E\"\n   \"fdiv\t%2,%0\"\n@@ -12758,9 +12758,9 @@ label:\n    (set_attr \"fp_mode\" \"single\")])\n \n (define_insn \"rsqrtsf2\"\n-  [(set (match_operand:SF 0 \"register_operand\" \"=f\")\n+  [(set (match_operand:SF 0 \"fp_arith_reg_operand\" \"=f\")\n \t(div:SF (match_operand:SF 1 \"immediate_operand\" \"i\")\n-\t\t(sqrt:SF (match_operand:SF 2 \"register_operand\" \"0\"))))\n+\t\t(sqrt:SF (match_operand:SF 2 \"fp_arith_reg_operand\" \"0\"))))\n    (use (match_operand:PSI 3 \"fpscr_operand\" \"c\"))]\n   \"TARGET_FPU_ANY && TARGET_FSRRA\n    && operands[1] == CONST1_RTX (SFmode)\"\n@@ -13074,8 +13074,8 @@ label:\n \n (define_insn \"cmpgtdf_t\"\n   [(set (reg:SI T_REG)\n-\t(gt:SI (match_operand:DF 0 \"arith_reg_operand\" \"f\")\n-\t       (match_operand:DF 1 \"arith_reg_operand\" \"f\")))\n+\t(gt:SI (match_operand:DF 0 \"fp_arith_reg_operand\" \"f\")\n+\t       (match_operand:DF 1 \"fp_arith_reg_operand\" \"f\")))\n    (use (match_operand:PSI 2 \"fpscr_operand\" \"c\"))]\n   \"(TARGET_SH4 || TARGET_SH2A_DOUBLE)\"\n   \"fcmp/gt\t%1,%0\"\n@@ -13084,8 +13084,8 @@ label:\n \n (define_insn \"cmpeqdf_t\"\n   [(set (reg:SI T_REG)\n-\t(eq:SI (match_operand:DF 0 \"arith_reg_operand\" \"f\")\n-\t       (match_operand:DF 1 \"arith_reg_operand\" \"f\")))\n+\t(eq:SI (match_operand:DF 0 \"fp_arith_reg_operand\" \"f\")\n+\t       (match_operand:DF 1 \"fp_arith_reg_operand\" \"f\")))\n    (use (match_operand:PSI 2 \"fpscr_operand\" \"c\"))]\n   \"(TARGET_SH4 || TARGET_SH2A_DOUBLE)\"\n   \"fcmp/eq\t%1,%0\"\n@@ -13095,8 +13095,8 @@ label:\n (define_insn \"*ieee_ccmpeqdf_t\"\n   [(set (reg:SI T_REG)\n \t(ior:SI (reg:SI T_REG)\n-\t\t(eq:SI (match_operand:DF 0 \"arith_reg_operand\" \"f\")\n-\t\t       (match_operand:DF 1 \"arith_reg_operand\" \"f\"))))\n+\t\t(eq:SI (match_operand:DF 0 \"fp_arith_reg_operand\" \"f\")\n+\t\t       (match_operand:DF 1 \"fp_arith_reg_operand\" \"f\"))))\n    (use (match_operand:PSI 2 \"fpscr_operand\" \"c\"))]\n   \"TARGET_IEEE && (TARGET_SH4 || TARGET_SH2A_DOUBLE)\"\n {\n@@ -13154,10 +13154,9 @@ label:\n   DONE;\n })\n \n-\n (define_expand \"negdf2\"\n-  [(set (match_operand:DF 0 \"arith_reg_operand\" \"\")\n-\t(neg:DF (match_operand:DF 1 \"arith_reg_operand\" \"\")))]\n+  [(set (match_operand:DF 0 \"fp_arith_reg_operand\")\n+\t(neg:DF (match_operand:DF 1 \"fp_arith_reg_operand\")))]\n   \"(TARGET_SH4 || TARGET_SH2A_DOUBLE) || TARGET_SHMEDIA_FPU\"\n {\n   if (TARGET_SH4 || TARGET_SH2A_DOUBLE)\n@@ -13184,8 +13183,8 @@ label:\n    (set_attr \"fp_mode\" \"double\")])\n \n (define_expand \"sqrtdf2\"\n-  [(set (match_operand:DF 0 \"arith_reg_operand\" \"\")\n-\t(sqrt:DF (match_operand:DF 1 \"arith_reg_operand\" \"\")))]\n+  [(set (match_operand:DF 0 \"fp_arith_reg_operand\")\n+\t(sqrt:DF (match_operand:DF 1 \"fp_arith_reg_operand\")))]\n   \"(TARGET_SH4 || TARGET_SH2A_DOUBLE) || TARGET_SHMEDIA_FPU\"\n {\n   if (TARGET_SH4 || TARGET_SH2A_DOUBLE)\n@@ -13212,8 +13211,8 @@ label:\n    (set_attr \"fp_mode\" \"double\")])\n \n (define_expand \"absdf2\"\n-  [(set (match_operand:DF 0 \"arith_reg_operand\" \"\")\n-\t(abs:DF (match_operand:DF 1 \"arith_reg_operand\" \"\")))]\n+  [(set (match_operand:DF 0 \"fp_arith_reg_operand\")\n+\t(abs:DF (match_operand:DF 1 \"fp_arith_reg_operand\")))]\n   \"(TARGET_SH4 || TARGET_SH2A_DOUBLE) || TARGET_SHMEDIA_FPU\"\n {\n   if (TARGET_SH4 || TARGET_SH2A_DOUBLE)"}]}