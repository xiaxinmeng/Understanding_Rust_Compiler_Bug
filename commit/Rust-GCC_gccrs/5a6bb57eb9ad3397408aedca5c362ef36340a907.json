{"sha": "5a6bb57eb9ad3397408aedca5c362ef36340a907", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE2YmI1N2ViOWFkMzM5NzQwOGFlZGNhNWMzNjJlZjM2MzQwYTkwNw==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2007-05-14T23:45:40Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2007-05-14T23:45:40Z"}, "message": "expr.c (cpp_classify_number): Warn about dfp constant for -pedantic.\n\nlibcpp/\n        * expr.c (cpp_classify_number): Warn about dfp constant for -pedantic.\ngcc/testsuite/\n        * gcc.dg/fltconst-pedantic-dfp.c: New test.\n\nFrom-SVN: r124731", "tree": {"sha": "df0bccc33a1c52f690ba0aed1805effa9212b0ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df0bccc33a1c52f690ba0aed1805effa9212b0ad"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a6bb57eb9ad3397408aedca5c362ef36340a907", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6bb57eb9ad3397408aedca5c362ef36340a907", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a6bb57eb9ad3397408aedca5c362ef36340a907", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a6bb57eb9ad3397408aedca5c362ef36340a907/comments", "author": null, "committer": null, "parents": [{"sha": "30e04921873057fd9c85458127e51862d0cf2304", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30e04921873057fd9c85458127e51862d0cf2304", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30e04921873057fd9c85458127e51862d0cf2304"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "159cee585207c877d1373cf01e14dc6ce1f4d507", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bb57eb9ad3397408aedca5c362ef36340a907/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bb57eb9ad3397408aedca5c362ef36340a907/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5a6bb57eb9ad3397408aedca5c362ef36340a907", "patch": "@@ -1,5 +1,7 @@\n 2007-05-14  Janis Johnson  <janis187@us.ibm.com>\n \n+        * expr.c (cpp_classify_number): Warn about dfp constant for -pedantic.\n+\n \tPR c/31924\n \t* gcc.dg/fltconst-1.c: New test.\n "}, {"sha": "d0d1c4c52fc9ef1d2e3eabf370c5b3308788f84a", "filename": "gcc/testsuite/gcc.dg/fltconst-pedantic-dfp.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bb57eb9ad3397408aedca5c362ef36340a907/gcc%2Ftestsuite%2Fgcc.dg%2Ffltconst-pedantic-dfp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bb57eb9ad3397408aedca5c362ef36340a907/gcc%2Ftestsuite%2Fgcc.dg%2Ffltconst-pedantic-dfp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ffltconst-pedantic-dfp.c?ref=5a6bb57eb9ad3397408aedca5c362ef36340a907", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-pedantic\" } */\n+\n+double a = 1.dl;\t/* { dg-warning \"decimal float\" } */\n+double b = 1.df;\t/* { dg-warning \"decimal float\" } */\n+double c = 1.dd;\t/* { dg-warning \"decimal float\" } */"}, {"sha": "31d96e8b6845865f10eba8594b349690f024fc74", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bb57eb9ad3397408aedca5c362ef36340a907/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bb57eb9ad3397408aedca5c362ef36340a907/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=5a6bb57eb9ad3397408aedca5c362ef36340a907", "patch": "@@ -1,5 +1,7 @@\n 2007-05-14  Janis Johnson  <janis187@us.ibm.com>\n \n+        * expr.c (cpp_classify_number): Warn about dfp constant for -pedantic.\n+\n \tPR c/31924\n \t* expr.c (interpret_float_suffix): Check for invalid suffix.\n "}, {"sha": "20090195acc1246b84a31f4a500fbc2cbcb14197", "filename": "libcpp/expr.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a6bb57eb9ad3397408aedca5c362ef36340a907/libcpp%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a6bb57eb9ad3397408aedca5c362ef36340a907/libcpp%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Fexpr.c?ref=5a6bb57eb9ad3397408aedca5c362ef36340a907", "patch": "@@ -273,6 +273,10 @@ cpp_classify_number (cpp_reader *pfile, const cpp_token *token)\n           return CPP_N_INVALID;\n         }\n \n+      if ((result & CPP_N_DFLOAT) && CPP_PEDANTIC (pfile))\n+\tcpp_error (pfile, CPP_DL_PEDWARN,\n+\t\t   \"decimal float constants are a GCC extension\");\n+\n       result |= CPP_N_FLOATING;\n     }\n   else"}]}