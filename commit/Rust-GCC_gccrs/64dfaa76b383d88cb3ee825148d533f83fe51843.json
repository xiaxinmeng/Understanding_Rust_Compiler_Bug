{"sha": "64dfaa76b383d88cb3ee825148d533f83fe51843", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRkZmFhNzZiMzgzZDg4Y2IzZWU4MjUxNDhkNTMzZjgzZmU1MTg0Mw==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@merlin.codesourcery.com", "date": "2001-07-10T16:04:55Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2001-07-10T16:04:55Z"}, "message": "diagnostic.c (finish_diagnostic): Rename to diagnostic_finish.\n\n        * diagnostic.c (finish_diagnostic): Rename to\n        diagnostic_finish. Make it take an 'output_buffer *'.  Adjust\n        calls thourghout.\n\nFrom-SVN: r43905", "tree": {"sha": "e94ee9e6068b28e3d7d1a0726c1f9e9f86da2ac6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e94ee9e6068b28e3d7d1a0726c1f9e9f86da2ac6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64dfaa76b383d88cb3ee825148d533f83fe51843", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64dfaa76b383d88cb3ee825148d533f83fe51843", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64dfaa76b383d88cb3ee825148d533f83fe51843", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64dfaa76b383d88cb3ee825148d533f83fe51843/comments", "author": null, "committer": null, "parents": [{"sha": "8aaf55acebcd09df62ecef78d9fda9f033b7ebcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8aaf55acebcd09df62ecef78d9fda9f033b7ebcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8aaf55acebcd09df62ecef78d9fda9f033b7ebcf"}], "stats": {"total": 29, "additions": 18, "deletions": 11}, "files": [{"sha": "9bdce89d35cbfcdb93126ce39a59eab68065d74e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64dfaa76b383d88cb3ee825148d533f83fe51843/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64dfaa76b383d88cb3ee825148d533f83fe51843/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=64dfaa76b383d88cb3ee825148d533f83fe51843", "patch": "@@ -1,3 +1,9 @@\n+2001-07-10  Gabriel Dos Reis  <gdr@merlin.codesourcery.com>\n+\n+\t* diagnostic.c (finish_diagnostic): Rename to\n+\tdiagnostic_finish. Make it take an 'output_buffer *'.  Adjust\n+\tcalls thourghout.\n+\n 2001-07-10  Jason Merrill  <jason_merrill@redhat.com>\n \n \t* dwarf2out.c (dwarf2out_line): Emit -dA comment even when we have"}, {"sha": "14cd98647ff20ca24c759b2e4fc8549bb350619e", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 12, "deletions": 11, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64dfaa76b383d88cb3ee825148d533f83fe51843/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64dfaa76b383d88cb3ee825148d533f83fe51843/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=64dfaa76b383d88cb3ee825148d533f83fe51843", "patch": "@@ -59,7 +59,7 @@ Boston, MA 02111-1307, USA.  */\n #define diagnostic_msg output_buffer_text_cursor (diagnostic_buffer)\n \n /* Prototypes. */\n-static void finish_diagnostic PARAMS ((void));\n+static void diagnostic_finish PARAMS ((output_buffer *));\n static void output_do_verbatim PARAMS ((output_buffer *,\n                                         const char *, va_list *));\n static void output_buffer_to_stream PARAMS ((output_buffer *));\n@@ -986,7 +986,7 @@ diagnostic_for_decl (decl, msgid, args_ptr, warn)\n       output_buffer_ptr_to_format_args (diagnostic_buffer) = args_ptr;\n       output_buffer_text_cursor (diagnostic_buffer) = _(msgid);\n       format_with_decl (diagnostic_buffer, decl);\n-      finish_diagnostic ();\n+      diagnostic_finish ((output_buffer *)global_dc);\n       output_destroy_prefix (diagnostic_buffer);\n   \n       output_buffer_state (diagnostic_buffer) = os;\n@@ -1068,7 +1068,7 @@ fatal_io_error VPARAMS ((const char *msgid, ...))\n   output_buffer_ptr_to_format_args (diagnostic_buffer) = &ap;\n   output_buffer_text_cursor (diagnostic_buffer) = _(msgid);\n   output_format (diagnostic_buffer);\n-  finish_diagnostic ();\n+  diagnostic_finish ((output_buffer *)global_dc);\n   output_buffer_state (diagnostic_buffer) = os;\n   va_end (ap);\n   exit (FATAL_EXIT_CODE);\n@@ -1176,7 +1176,7 @@ sorry VPARAMS ((const char *msgid, ...))\n   output_buffer_ptr_to_format_args (diagnostic_buffer) = &ap;\n   output_buffer_text_cursor (diagnostic_buffer) = _(msgid);\n   output_format (diagnostic_buffer);\n-  finish_diagnostic ();\n+  diagnostic_finish ((output_buffer *)global_dc);\n   output_buffer_state (diagnostic_buffer) = os;\n   va_end (ap);\n }\n@@ -1537,12 +1537,13 @@ warning VPARAMS ((const char *msgid, ...))\n /* Flush diagnostic_buffer content on stderr.  */\n \n static void\n-finish_diagnostic ()\n+diagnostic_finish (buffer)\n+     output_buffer *buffer;\n {\n-  output_buffer_to_stream (diagnostic_buffer);\n-  clear_diagnostic_info (diagnostic_buffer);\n-  fputc ('\\n', output_buffer_attached_stream (diagnostic_buffer));\n-  fflush (output_buffer_attached_stream (diagnostic_buffer));\n+  output_buffer_to_stream (buffer);\n+  clear_diagnostic_info (buffer);\n+  fputc ('\\n', output_buffer_attached_stream (buffer));\n+  fflush (output_buffer_attached_stream (buffer));\n }\n \n /* Helper subroutine of output_verbatim and verbatim. Do the approriate\n@@ -1628,7 +1629,7 @@ report_diagnostic (dc)\n       (*diagnostic_starter (dc)) (diagnostic_buffer, dc);\n       output_format (diagnostic_buffer);\n       (*diagnostic_finalizer (dc)) (diagnostic_buffer, dc);\n-      finish_diagnostic ();\n+      diagnostic_finish ((output_buffer *)global_dc);\n       output_buffer_state (diagnostic_buffer) = os;\n     }\n \n@@ -1644,7 +1645,7 @@ static void\n error_recursion ()\n {\n   if (diagnostic_lock < 3)\n-    finish_diagnostic ();\n+    diagnostic_finish ((output_buffer *)global_dc);\n \n   fnotice (stderr,\n \t   \"Internal compiler error: Error reporting routines re-entered.\\n\");"}]}