{"sha": "c764f757d53ebb592795f8c59a95e252c51598bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzc2NGY3NTdkNTNlYmI1OTI3OTVmOGM1OWE5NWUyNTJjNTE1OThiYw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-18T22:53:04Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-18T22:53:04Z"}, "message": "(common_mode_defined): New variable.\n\n(output_prolog): Define external common-mode calls.\n\nFrom-SVN: r6817", "tree": {"sha": "b38cbf9543b1d4b31ff71b9456a2e09beb108712", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b38cbf9543b1d4b31ff71b9456a2e09beb108712"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c764f757d53ebb592795f8c59a95e252c51598bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c764f757d53ebb592795f8c59a95e252c51598bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c764f757d53ebb592795f8c59a95e252c51598bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c764f757d53ebb592795f8c59a95e252c51598bc/comments", "author": null, "committer": null, "parents": [{"sha": "8ffd9c51e4d97ff8a7fb9a282a7cb535c51d82f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ffd9c51e4d97ff8a7fb9a282a7cb535c51d82f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ffd9c51e4d97ff8a7fb9a282a7cb535c51d82f1"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "0cadc318cc9d6eb0c1485c6752940f512d505db0", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c764f757d53ebb592795f8c59a95e252c51598bc/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c764f757d53ebb592795f8c59a95e252c51598bc/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=c764f757d53ebb592795f8c59a95e252c51598bc", "patch": "@@ -55,6 +55,8 @@ int rs6000_trunc_used;\n \n static int trunc_defined;\n \n+/* Set to non-zero once AIX common-mode calls have been defined.  */\n+static int common_mode_defined;\n /* Save information from a \"cmpxx\" operation until the branch or scc is\n    emitted.  */\n \n@@ -1422,6 +1424,18 @@ output_prolog (file, size)\n \t       RS6000_ITRUNC, RS6000_UITRUNC);\n       trunc_defined = 1;\n     }\n+  /* Write .extern for AIX common mode routines, if needed.  */\n+  if (! TARGET_POWER && ! TARGET_POWERPC && ! common_mode_defined)\n+    {\n+      fputs (\"\\t.extern __mulh\\n\"\n+\t     \"\\t.extern __mull\\n\"\n+\t     \"\\t.extern __divss\\n\"\n+\t     \"\\t.extern __divus\\n\"\n+\t     \"\\t.extern __quoss\\n\"\n+\t     \"\\t.extern __quous\\n\",\n+\t     file);\n+      common_mode_defined = 1;\n+    }\n \n   /* If we have to call a function to save fpr's, or if we are doing profiling,\n      then we will be using LR.  */"}]}