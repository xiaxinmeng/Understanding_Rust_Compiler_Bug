{"sha": "dd03444ba5ad4ac3f5476084c2028851b5c94cca", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQwMzQ0NGJhNWFkNGFjM2Y1NDc2MDg0YzIwMjg4NTFiNWM5NGNjYQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2017-05-01T11:01:02Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2017-05-01T11:01:02Z"}, "message": "d-demangle.c (dlang_value): Add comment explaining why cases for digits are required.\n\nlibiberty/ChangeLog:\n\n\t* d-demangle.c (dlang_value): Add comment explaining why cases for\n\tdigits are required.\n\t* testsuite/d-demangle-expected: Update integer value tests.\n\nFrom-SVN: r247436", "tree": {"sha": "be24b5f4efd4a2bbc92238f72ce890d94003f059", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/be24b5f4efd4a2bbc92238f72ce890d94003f059"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd03444ba5ad4ac3f5476084c2028851b5c94cca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd03444ba5ad4ac3f5476084c2028851b5c94cca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd03444ba5ad4ac3f5476084c2028851b5c94cca", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd03444ba5ad4ac3f5476084c2028851b5c94cca/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "98bb7ee2da460526effb6cdfcdd242ebe247d7b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98bb7ee2da460526effb6cdfcdd242ebe247d7b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98bb7ee2da460526effb6cdfcdd242ebe247d7b5"}], "stats": {"total": 44, "additions": 27, "deletions": 17}, "files": [{"sha": "7ae475488c4ed25469f0f193165843b26fd90554", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=dd03444ba5ad4ac3f5476084c2028851b5c94cca", "patch": "@@ -1,3 +1,9 @@\n+2017-05-01  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* d-demangle.c (dlang_value): Add comment explaining why cases for\n+\tdigits are required.\n+\t* testsuite/d-demangle-expected: Update integer value tests.\n+\n 2017-05-01  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* d-demangle.c (dlang_parse_symbol): Skip over anonymous symbols."}, {"sha": "4d9b1102b70196a5406ca7cd60dafde432b731de", "filename": "libiberty/d-demangle.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2Fd-demangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2Fd-demangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fd-demangle.c?ref=dd03444ba5ad4ac3f5476084c2028851b5c94cca", "patch": "@@ -1243,6 +1243,10 @@ dlang_value (string *decl, const char *mangled, const char *name, char type)\n       if (*mangled < '0' || *mangled > '9')\n \treturn NULL;\n       /* Fall through */\n+\n+      /* There really should always be an `i' before encoded numbers, but there\n+\t wasn't in early versions of D2, so this case range must remain for\n+\t backwards compatibility.  */\n     case '0': case '1': case '2': case '3': case '4':\n     case '5': case '6': case '7': case '8': case '9':\n       mangled = dlang_parse_integer (decl, mangled, type);"}, {"sha": "c64fcc60c27fcf4d7791e8ff3829152231d8e963", "filename": "libiberty/testsuite/d-demangle-expected", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2Ftestsuite%2Fd-demangle-expected", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd03444ba5ad4ac3f5476084c2028851b5c94cca/libiberty%2Ftestsuite%2Fd-demangle-expected", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Ftestsuite%2Fd-demangle-expected?ref=dd03444ba5ad4ac3f5476084c2028851b5c94cca", "patch": "@@ -698,35 +698,35 @@ _D8demangle13__T4testVPinZv\n demangle.test!(null)\n #\n --format=dlang\n-_D8demangle14__T4testVg123Zv\n+_D8demangle15__T4testVgi123Zv\n demangle.test!(123)\n #\n --format=dlang\n-_D8demangle14__T4testVi123Zv\n+_D8demangle15__T4testVii123Zv\n demangle.test!(123)\n #\n --format=dlang\n-_D8demangle14__T4testVs123Zv\n+_D8demangle15__T4testVsi123Zv\n demangle.test!(123)\n #\n --format=dlang\n-_D8demangle14__T4testVh123Zv\n+_D8demangle15__T4testVhi123Zv\n demangle.test!(123u)\n #\n --format=dlang\n-_D8demangle14__T4testVk123Zv\n+_D8demangle15__T4testVki123Zv\n demangle.test!(123u)\n #\n --format=dlang\n-_D8demangle14__T4testVt123Zv\n+_D8demangle15__T4testVti123Zv\n demangle.test!(123u)\n #\n --format=dlang\n-_D8demangle14__T4testVl123Zv\n+_D8demangle15__T4testVli123Zv\n demangle.test!(123L)\n #\n --format=dlang\n-_D8demangle14__T4testVm123Zv\n+_D8demangle15__T4testVmi123Zv\n demangle.test!(123uL)\n #\n --format=dlang\n@@ -746,35 +746,35 @@ _D8demangle15__T4testVmN123Zv\n demangle.test!(-123uL)\n #\n --format=dlang\n-_D8demangle12__T4testVb1Zv\n+_D8demangle13__T4testVbi1Zv\n demangle.test!(true)\n #\n --format=dlang\n-_D8demangle12__T4testVb0Zv\n+_D8demangle13__T4testVbi0Zv\n demangle.test!(false)\n #\n --format=dlang\n-_D8demangle13__T4testVa10Zv\n+_D8demangle14__T4testVai10Zv\n demangle.test!('\\x0a')\n #\n --format=dlang\n-_D8demangle13__T4testVa32Zv\n+_D8demangle14__T4testVai32Zv\n demangle.test!(' ')\n #\n --format=dlang\n-_D8demangle13__T4testVa65Zv\n+_D8demangle14__T4testVai65Zv\n demangle.test!('A')\n #\n --format=dlang\n-_D8demangle14__T4testVa126Zv\n+_D8demangle15__T4testVai126Zv\n demangle.test!('~')\n #\n --format=dlang\n-_D8demangle15__T4testVu1000Zv\n+_D8demangle16__T4testVui1000Zv\n demangle.test!('\\u03e8')\n #\n --format=dlang\n-_D8demangle17__T4testVw100000Zv\n+_D8demangle18__T4testVwi100000Zv\n demangle.test!('\\U000186a0')\n #\n --format=dlang\n@@ -1076,7 +1076,7 @@ _D8demangle20__T2fnVAiA4i1i2i3i4Z2fnFZv\n demangle.fn!([1, 2, 3, 4]).fn()\n #\n --format=dlang\n-_D8demangle10__T2fnVi1Z2fnFZv\n+_D8demangle11__T2fnVii1Z2fnFZv\n demangle.fn!(1).fn()\n #\n --format=dlang"}]}