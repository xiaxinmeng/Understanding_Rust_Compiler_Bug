{"sha": "a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTFlMjdiNzZkNGM2MGVlZTUxMjFjN2E3Zjg3NzlhNDI1NGUxYTg0NQ==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cygnus.com", "date": "1998-12-23T14:34:18Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "1998-12-23T14:34:18Z"}, "message": "Enable -fleading-underscore for arm-elf builds.\n\nFrom-SVN: r24409", "tree": {"sha": "591281f4e665792009da27f980f08a45d3b3c7c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/591281f4e665792009da27f980f08a45d3b3c7c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/comments", "author": null, "committer": null, "parents": [{"sha": "5a005d9ead24d081423f620a84da54d4a260b001", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a005d9ead24d081423f620a84da54d4a260b001", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a005d9ead24d081423f620a84da54d4a260b001"}], "stats": {"total": 43, "additions": 29, "deletions": 14}, "files": [{"sha": "1da6d68078f0239a6ddd6bd001aafb201c95c9e6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "patch": "@@ -1,3 +1,18 @@\n+Wed Dec 23 10:27:44 1998  Nick Clifton  <nickc@cygnus.com>\n+\n+\t* config/arm/t-arm-elf: Add multiplib option for leading\n+\tunderscores.\n+\n+\t* config/arm/thumb.h (ASM_OUTPUT_LABELREF): Use variable\n+        'user_label_prefix' rather than macro USER_LABEL_PREFIX.\n+\n+\t(thumb_shiftable_const): Use macro 'BASE_REG_CLASS' rather\n+\tthan variable 'reload_address_base_reg_class'.  [Note this\n+\tchange is unrelated to the others in this patch].\n+\n+\t* config/arm/unknown-elf.h (USER_LABEL_PREFIX): Default to no\n+        leading underscore.\n+\n Wed Dec 23 09:51:32 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* alias.c (record_alias_subset): Remove ignored `&'."}, {"sha": "ded20ffe7dda202013ea6927011fd2b7166a1407", "filename": "gcc/config/arm/lib1funcs.asm", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flib1funcs.asm?ref=a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "patch": "@@ -47,6 +47,15 @@ Boston, MA 02111-1307, USA.  */\n #error  __USER_LABEL_PREFIX__ not defined\n #endif\n \n+/* ANSI concatenation macros.  */\n+\n+#define CONCAT1(a, b) CONCAT2(a, b)\n+#define CONCAT2(a, b) a ## b\n+\n+/* Use the right prefix for global labels.  */\n+\n+#define SYM(x) CONCAT1 (__USER_LABEL_PREFIX__, x)\n+\n #ifdef __elf__\n #define __PLT__ (PLT)\n #define TYPE(x) .type SYM(x),function\n@@ -57,15 +66,6 @@ Boston, MA 02111-1307, USA.  */\n #define SIZE(x)\n #endif\n \n-/* ANSI concatenation macros.  */\n-\n-#define CONCAT1(a, b) CONCAT2(a, b)\n-#define CONCAT2(a, b) a ## b\n-\n-/* Use the right prefix for global labels.  */\n-\n-#define SYM(x) CONCAT1 (__USER_LABEL_PREFIX__, x)\n-\n #ifdef L_udivsi3\n \n dividend\t.req\tr0"}, {"sha": "5f57d8098e643bca24c7306c66781201d1307b88", "filename": "gcc/config/arm/t-arm-elf", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Ft-arm-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Ft-arm-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-arm-elf?ref=a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "patch": "@@ -23,8 +23,8 @@ dp-bit.c: $(srcdir)/config/fp-bit.c\n \techo '#endif' >> dp-bit.c\n \tcat $(srcdir)/config/fp-bit.c >> dp-bit.c\n \n-MULTILIB_OPTIONS  = mlittle-endian/mbig-endian mhard-float/msoft-float mapcs-32/mapcs-26\n-MULTILIB_DIRNAMES = le be fpu soft 32bit 26bit\n+MULTILIB_OPTIONS  = mlittle-endian/mbig-endian mhard-float/msoft-float mapcs-32/mapcs-26 fno-leading-underscore/fleading-underscore\n+MULTILIB_DIRNAMES = le be fpu soft 32bit 26bit elf under\n MULTILIB_MATCHES  = \n \n LIBGCC = stmp-multilib"}, {"sha": "be2a0e4d5a9cf280d3e2a69e819de63b133c1256", "filename": "gcc/config/arm/thumb.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Fthumb.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Fthumb.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fthumb.h?ref=a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "patch": "@@ -161,7 +161,7 @@ extern int target_flags;\n \n /* Output a reference to a label.  */\n #define ASM_OUTPUT_LABELREF(STREAM,NAME)  \\\n-  fprintf ((STREAM), \"%s%s\", USER_LABEL_PREFIX, (NAME))\n+  fprintf ((STREAM), \"%s%s\", user_label_prefix, (NAME))\n \n /* This is how to output an assembler line for a numeric constant byte.  */\n #define ASM_OUTPUT_BYTE(STREAM,VALUE)\t\t\t\t\t\\\n@@ -977,7 +977,7 @@ int thumb_shiftable_const ();\n       rtx orig_X = X;\t\t\t\t\t\t\t\\\n       X = copy_rtx (X);\t\t\t\t\t\t\t\\\n       push_reload (orig_X, NULL_RTX, &X, NULL_PTR,\t\t\t\\\n-\t\t   reload_address_base_reg_class,\t\t\t\\\n+\t\t   BASE_REG_CLASS,\t\t\t\t\t\\\n \t\t   Pmode, VOIDmode, 0, 0, OPNUM, TYPE);\t\t\t\\\n       goto WIN;\t\t\t\t\t\t\t\t\\\n     }\t\t\t\t\t\t\t\t\t\\"}, {"sha": "5fa5d726b106821c172bc29c19ad42017c6d41fe", "filename": "gcc/config/arm/unknown-elf.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Funknown-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1e27b76d4c60eee5121c7a7f8779a4254e1a845/gcc%2Fconfig%2Farm%2Funknown-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Funknown-elf.h?ref=a1e27b76d4c60eee5121c7a7f8779a4254e1a845", "patch": "@@ -40,7 +40,7 @@ Boston, MA 02111-1307, USA.  */\n \n #define ENDFILE_SPEC\t\"crtend%O%s\"\n \n-#define USER_LABEL_PREFIX \t\"_\"\t/* FIXME: This ought to be \"\" */\n+#define USER_LABEL_PREFIX \t\"\"\n #define LOCAL_LABEL_PREFIX \t\".\"\n \n #define TEXT_SECTION \"\t\t.text\""}]}