{"sha": "798763075fa686158fc9b40b2e6b3bc57320dd5a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk4NzYzMDc1ZmE2ODYxNThmYzliNDBiMmU2YjNiYzU3MzIwZGQ1YQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2009-09-16T15:04:06Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2009-09-16T15:04:06Z"}, "message": "re PR middle-end/41360 (Revision 151696 breaks gcc.c-torture/compile/builtin_unreachable-1.c)\n\n        PR middle-end/41360\n        * cfgbuild.c (find_bb_boundaries): Re-instate 2009-09-02 barrier fix.\n\nFrom-SVN: r151759", "tree": {"sha": "00b526e6b0899f2c8935d2bf97966bacb064ecf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/00b526e6b0899f2c8935d2bf97966bacb064ecf9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/798763075fa686158fc9b40b2e6b3bc57320dd5a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/798763075fa686158fc9b40b2e6b3bc57320dd5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/798763075fa686158fc9b40b2e6b3bc57320dd5a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/798763075fa686158fc9b40b2e6b3bc57320dd5a/comments", "author": null, "committer": null, "parents": [{"sha": "20faffe76f5c17d2f21a7946be0e19d0f4898b89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20faffe76f5c17d2f21a7946be0e19d0f4898b89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20faffe76f5c17d2f21a7946be0e19d0f4898b89"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "706f3e26de94252f4f249253c08bf2b620b12de6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/798763075fa686158fc9b40b2e6b3bc57320dd5a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/798763075fa686158fc9b40b2e6b3bc57320dd5a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=798763075fa686158fc9b40b2e6b3bc57320dd5a", "patch": "@@ -1,3 +1,8 @@\n+2009-09-16  Richard Henderson  <rth@redhat.com>\n+\n+\tPR middle-end/41360\n+\t* cfgbuild.c (find_bb_boundaries): Re-instate 2009-09-02 barrier fix.\n+\n 2009-09-16  Jakub Jelinek  <jakub@redhat.com>\n \n \t* integrate.c (set_block_abstract_flags): Call"}, {"sha": "5744108b5d4a097785e082de70418b0518836f36", "filename": "gcc/cfgbuild.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/798763075fa686158fc9b40b2e6b3bc57320dd5a/gcc%2Fcfgbuild.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/798763075fa686158fc9b40b2e6b3bc57320dd5a/gcc%2Fcfgbuild.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgbuild.c?ref=798763075fa686158fc9b40b2e6b3bc57320dd5a", "patch": "@@ -477,9 +477,17 @@ find_bb_boundaries (basic_block bb)\n \t  if (code == CODE_LABEL && LABEL_ALT_ENTRY_P (insn))\n \t    make_edge (ENTRY_BLOCK_PTR, bb, 0);\n \t}\n-\n-      if (control_flow_insn_p (insn))\n+      else if (code == BARRIER)\n+\t{\n+\t  /* __builtin_unreachable () may cause a barrier to be emitted in\n+\t     the middle of a BB.  We need to split it in the same manner as\n+\t     if the barrier were preceded by a control_flow_insn_p insn.  */\n+\t  if (!flow_transfer_insn)\n+\t    flow_transfer_insn = prev_nonnote_insn_bb (insn);\n+\t}\n+      else if (control_flow_insn_p (insn))\n \tflow_transfer_insn = insn;\n+\n       if (insn == end)\n \tbreak;\n       insn = NEXT_INSN (insn);"}]}