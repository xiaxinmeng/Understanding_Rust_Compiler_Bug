{"sha": "ba9d67765afcde479d0e77b43e08ae1d54c6144a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmE5ZDY3NzY1YWZjZGU0NzlkMGU3N2I0M2UwOGFlMWQ1NGM2MTQ0YQ==", "commit": {"author": {"name": "Bryce McKinlay", "email": "mckinlay@redhat.com", "date": "2006-04-11T21:56:27Z"}, "committer": {"name": "Bryce McKinlay", "email": "bryce@gcc.gnu.org", "date": "2006-04-11T21:56:27Z"}, "message": "darwin_stop_world.c (GC_push_all_stacks, [...]): Call vm_deallocate to free act_list.\n\n        * darwin_stop_world.c (GC_push_all_stacks, GC_stop_world,\n        GC_start_world): Call vm_deallocate to free act_list. Fix from\n        Bruce Mitchener.\n\nFrom-SVN: r112867", "tree": {"sha": "6d7c2c00dce8422204ec1b71cb214f34eb7a70f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d7c2c00dce8422204ec1b71cb214f34eb7a70f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba9d67765afcde479d0e77b43e08ae1d54c6144a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba9d67765afcde479d0e77b43e08ae1d54c6144a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba9d67765afcde479d0e77b43e08ae1d54c6144a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba9d67765afcde479d0e77b43e08ae1d54c6144a/comments", "author": null, "committer": null, "parents": [{"sha": "58be56ea833ac63b362bb30676ed54e91c1568f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58be56ea833ac63b362bb30676ed54e91c1568f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58be56ea833ac63b362bb30676ed54e91c1568f1"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "936d3bfc2332dab687ab04a9790814b0c79d778f", "filename": "boehm-gc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba9d67765afcde479d0e77b43e08ae1d54c6144a/boehm-gc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba9d67765afcde479d0e77b43e08ae1d54c6144a/boehm-gc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2FChangeLog?ref=ba9d67765afcde479d0e77b43e08ae1d54c6144a", "patch": "@@ -1,3 +1,9 @@\n+2006-04-11  Bryce McKinlay  <mckinlay@redhat.com>\n+\n+\t* darwin_stop_world.c (GC_push_all_stacks, GC_stop_world,\n+\tGC_start_world): Call vm_deallocate to free act_list. Fix from\n+\tBruce Mitchener.\n+\n 2006-03-24  Andreas Tobler  <a.tobler@schweiz.ch>\n \tJohn David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n "}, {"sha": "c2a033d3cc44d2c9e547d39558676bcbc8ff37d2", "filename": "boehm-gc/darwin_stop_world.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba9d67765afcde479d0e77b43e08ae1d54c6144a/boehm-gc%2Fdarwin_stop_world.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba9d67765afcde479d0e77b43e08ae1d54c6144a/boehm-gc%2Fdarwin_stop_world.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/boehm-gc%2Fdarwin_stop_world.c?ref=ba9d67765afcde479d0e77b43e08ae1d54c6144a", "patch": "@@ -249,6 +249,7 @@ void GC_push_all_stacks() {\n #     endif\n       GC_push_all_stack(lo, hi); \n     } /* for(p=GC_threads[i]...) */\n+    vm_deallocate(current_task(), (vm_address_t)act_list, sizeof(thread_t) * listcount);\n }\n #endif /* !DARWIN_DONT_PARSE_STACK */\n \n@@ -392,6 +393,7 @@ void GC_stop_world()\n \tchanges = result;\n \tprev_list = act_list;\n \tprevcount = listcount;\n+        vm_deallocate(current_task(), (vm_address_t)act_list, sizeof(thread_t) * listcount);\n       } while (changes);\n       \n  \n@@ -463,6 +465,7 @@ void GC_start_world()\n \t}\n       }\n     }\n+    vm_deallocate(current_task(), (vm_address_t)act_list, sizeof(thread_t) * listcount);\n #   if DEBUG_THREADS\n      GC_printf0(\"World started\\n\");\n #   endif"}]}