{"sha": "b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQ0ZmI0YzM3YTQ2OTdkZmQ1MGMzNzI4MmM5ZDJlYzJiZDNhYTk1YQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-09T21:18:04Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-01-09T21:18:04Z"}, "message": "cmd/go: Adjust finding gccgo to match current upstream sources.\n\nFrom-SVN: r219406", "tree": {"sha": "e13cc5ba089f13152af01ecac6bf81494a320833", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e13cc5ba089f13152af01ecac6bf81494a320833"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a/comments", "author": null, "committer": null, "parents": [{"sha": "adfac8dfed7bfb048a933241598b003e40b4344c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adfac8dfed7bfb048a933241598b003e40b4344c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adfac8dfed7bfb048a933241598b003e40b4344c"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "36216cea40449dd00f6b9975a06f3aa4987f05ed", "filename": "libgo/go/cmd/go/build.go", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a/libgo%2Fgo%2Fcmd%2Fgo%2Fbuild.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a/libgo%2Fgo%2Fcmd%2Fgo%2Fbuild.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fcmd%2Fgo%2Fbuild.go?ref=b44fb4c37a4697dfd50c37282c9d2ec2bd3aa95a", "patch": "@@ -1783,15 +1783,22 @@ func (gcToolchain) cc(b *builder, p *Package, objdir, ofile, cfile string) error\n // The Gccgo toolchain.\n type gccgoToolchain struct{}\n \n-func (gccgoToolchain) compiler() string {\n-\tif v := os.Getenv(\"GOC\"); v != \"\" {\n-\t\treturn v\n+var gccgoName, gccgoBin string\n+\n+func init() {\n+\tgccgoName = os.Getenv(\"GCCGO\")\n+\tif gccgoName == \"\" {\n+\t\tgccgoName = defaultGCCGO\n \t}\n-\treturn defaultGOC\n+\tgccgoBin, _ = exec.LookPath(gccgoName)\n+}\n+\n+func (gccgoToolchain) compiler() string {\n+\treturn gccgoBin\n }\n \n-func (tools gccgoToolchain) linker() string {\n-\treturn tools.compiler()\n+func (gccgoToolchain) linker() string {\n+\treturn gccgoBin\n }\n \n func (tools gccgoToolchain) gc(b *builder, p *Package, archive, obj string, importArgs []string, gofiles []string) (ofile string, output []byte, err error) {"}]}