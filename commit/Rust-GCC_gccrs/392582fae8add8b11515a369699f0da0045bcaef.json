{"sha": "392582fae8add8b11515a369699f0da0045bcaef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzkyNTgyZmFlOGFkZDhiMTE1MTVhMzY5Njk5ZjBkYTAwNDViY2FlZg==", "commit": {"author": {"name": "Kamil Iskra", "email": "iskra@student.uci.agh.edu.pl", "date": "1998-07-06T21:23:56Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-07-06T21:23:56Z"}, "message": "m68k.c (output_scc_di): Use cmpw #0 instead of tstl when testing address registers on the 68000.\n\n        * m68k.c (output_scc_di): Use cmpw #0 instead of tstl when\n        testing address registers on the 68000.\n\nFrom-SVN: r20963", "tree": {"sha": "4023f9522127bb7970c79e125bb877dea021896c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4023f9522127bb7970c79e125bb877dea021896c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/392582fae8add8b11515a369699f0da0045bcaef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/392582fae8add8b11515a369699f0da0045bcaef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/392582fae8add8b11515a369699f0da0045bcaef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/392582fae8add8b11515a369699f0da0045bcaef/comments", "author": null, "committer": null, "parents": [{"sha": "702d7434a588f6436027d7794428b5bcbbcf3865", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/702d7434a588f6436027d7794428b5bcbbcf3865", "html_url": "https://github.com/Rust-GCC/gccrs/commit/702d7434a588f6436027d7794428b5bcbbcf3865"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "073aadb91505854834238b7d37795345c10a6b9c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/392582fae8add8b11515a369699f0da0045bcaef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/392582fae8add8b11515a369699f0da0045bcaef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=392582fae8add8b11515a369699f0da0045bcaef", "patch": "@@ -1,3 +1,8 @@\n+Mon Jul  6 22:21:56 1998  Kamil Iskra  <iskra@student.uci.agh.edu.pl>\n+\n+\t* m68k.c (output_scc_di): Use cmpw #0 instead of tstl when\n+\ttesting address registers on the 68000.\n+\n Mon Jul  6 22:17:19 1998  Alasdair Baird\t<alasdair@wildcat.demon.co.uk>\n \n \t* jump.c (jump_optimize) Check for CONST_INT before using INTVAL."}, {"sha": "e6a3caba104a300b95652d0e6c4a18d71e9e88a9", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/392582fae8add8b11515a369699f0da0045bcaef/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/392582fae8add8b11515a369699f0da0045bcaef/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=392582fae8add8b11515a369699f0da0045bcaef", "patch": "@@ -1059,11 +1059,25 @@ output_scc_di(op, operand1, operand2, dest)\n     output_asm_insn (\"cmp%.l %2,%0\\n\\tjne %l4\\n\\tcmp%.l %3,%1\", loperands);\n #endif\n #endif\n-  else\n+  else if (TARGET_68020 || TARGET_5200)\n #ifdef MOTOROLA\n     output_asm_insn (\"tst%.l %0\\n\\tjbne %l4\\n\\ttst%.l %1\", loperands);\n #else\n     output_asm_insn (\"tst%.l %0\\n\\tjne %l4\\n\\ttst%.l %1\", loperands);\n+#endif\n+  else\n+#ifdef MOTOROLA\n+#ifdef SGS_CMP_ORDER\n+    output_asm_insn (\"cmp%.w %0,%#0\\n\\tjbne %l4\\n\\tcmp%.w %1,%#0\", loperands);\n+#else\n+    output_asm_insn (\"cmp%.w %#0,%0\\n\\tjbne %l4\\n\\tcmp%.w %#0,%1\", loperands);\n+#endif\n+#else\n+#ifdef SGS_CMP_ORDER\n+    output_asm_insn (\"cmp%.w %0,%#0\\n\\tjne %l4\\n\\tcmp%.w %1,%#0\", loperands);\n+#else\n+    output_asm_insn (\"cmp%.w %#0,%0\\n\\tjne %l4\\n\\tcmp%.w %#0,%1\", loperands);\n+#endif\n #endif\n   loperands[5] = dest;\n   "}]}