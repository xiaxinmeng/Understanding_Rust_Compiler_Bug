{"sha": "e97b5c125c43f264674253b0abe97499bf817c7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTk3YjVjMTI1YzQzZjI2NDY3NDI1M2IwYWJlOTc0OTliZjgxN2M3ZA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-05-24T00:58:56Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-05-24T00:58:56Z"}, "message": "stmt.c (expand_end_bindings): Ignore any elements of VARS that are not VAR_DECLs.\n\n\t* stmt.c (expand_end_bindings): Ignore any elements of VARS that\n\tare not VAR_DECLs.\n\nFrom-SVN: r27118", "tree": {"sha": "c5235803f5ac7b955052205e365e785a157b4c33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5235803f5ac7b955052205e365e785a157b4c33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e97b5c125c43f264674253b0abe97499bf817c7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e97b5c125c43f264674253b0abe97499bf817c7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e97b5c125c43f264674253b0abe97499bf817c7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e97b5c125c43f264674253b0abe97499bf817c7d/comments", "author": null, "committer": null, "parents": [{"sha": "8bcc97de27e9a426f70456fc2c9746f1831e33bd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bcc97de27e9a426f70456fc2c9746f1831e33bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bcc97de27e9a426f70456fc2c9746f1831e33bd"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "2e1f1a685f6b7b57a8fe7b39311805eea8c76bd4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e97b5c125c43f264674253b0abe97499bf817c7d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e97b5c125c43f264674253b0abe97499bf817c7d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e97b5c125c43f264674253b0abe97499bf817c7d", "patch": "@@ -1,3 +1,8 @@\n+Mon May 24 01:02:12 1999  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* stmt.c (expand_end_bindings): Ignore any elements of VARS that\n+\tare not VAR_DECLs.\n+\n Sun May 23 20:31:16 1999  Jeffrey A Law  (law@cygnus.com)\n \n         * loop.c (strength_reduce): Grow reg_single_usage as needed."}, {"sha": "7a7d5670fe0050ef53ced7f16d3e06bbb129e1a1", "filename": "gcc/stmt.c", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e97b5c125c43f264674253b0abe97499bf817c7d/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e97b5c125c43f264674253b0abe97499bf817c7d/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=e97b5c125c43f264674253b0abe97499bf817c7d", "patch": "@@ -3351,8 +3351,11 @@ expand_nl_goto_receivers (thisblock)\n }\n \n /* Generate RTL code to terminate a binding contour.\n-   VARS is the chain of VAR_DECL nodes\n-   for the variables bound in this contour.\n+\n+   VARS is the chain of VAR_DECL nodes for the variables bound in this\n+   contour.  There may actually be other nodes in this chain, but any\n+   nodes other than VAR_DECLS are ignored.\n+\n    MARK_ENDS is nonzero if we should put a note at the beginning\n    and end of this binding contour.\n \n@@ -3389,7 +3392,8 @@ expand_end_bindings (vars, mark_ends, dont_jump_in)\n \n   if (warn_unused)\n     for (decl = vars; decl; decl = TREE_CHAIN (decl))\n-      if (! TREE_USED (decl) && TREE_CODE (decl) == VAR_DECL\n+      if (TREE_CODE (decl) == VAR_DECL \n+\t  && ! TREE_USED (decl)\n \t  && ! DECL_IN_SYSTEM_HEADER (decl)\n \t  && DECL_NAME (decl) && ! DECL_ARTIFICIAL (decl)) \n \twarning_with_decl (decl, \"unused variable `%s'\");\n@@ -3495,11 +3499,8 @@ expand_end_bindings (vars, mark_ends, dont_jump_in)\n \n   if (obey_regdecls)\n     for (decl = vars; decl; decl = TREE_CHAIN (decl))\n-      {\n-\trtx rtl = DECL_RTL (decl);\n-\tif (TREE_CODE (decl) == VAR_DECL && rtl != 0)\n-\t  use_variable (rtl);\n-      }\n+      if (TREE_CODE (decl) == VAR_DECL && DECL_RTL (decl))\n+\tuse_variable (DECL_RTL (decl));\n \n   /* Restore the temporary level of TARGET_EXPRs.  */\n   target_temp_slot_level = thisblock->data.block.target_temp_slot_level;"}]}