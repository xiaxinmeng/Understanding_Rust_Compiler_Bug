{"sha": "35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzVhMjgyZTBiYzI4NWYyYjYyZGQyOTIyMGE2ZWYzYTNlZDg3YTBiMw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-11-16T16:53:50Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-11-16T16:53:50Z"}, "message": "tree-emutls.c (lower_emutls_data): Remove unused bb_freq.\n\n\n\t* tree-emutls.c (lower_emutls_data): Remove unused bb_freq.\n\t(lower_emutls_function_body): Do not compute it.\n\nFrom-SVN: r254836", "tree": {"sha": "fbedd57124aa73e53b8719064b8f00ee975ea934", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbedd57124aa73e53b8719064b8f00ee975ea934"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3/comments", "author": null, "committer": null, "parents": [{"sha": "c2e87766d37a191d9e7559b70b1848312355761c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e87766d37a191d9e7559b70b1848312355761c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2e87766d37a191d9e7559b70b1848312355761c"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "aeb2be820046e4bbb64fadb3d84768e23fbdab81", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "patch": "@@ -1,3 +1,8 @@\n+2017-11-16  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-emutls.c (lower_emutls_data): Remove unused bb_freq.\n+\t(lower_emutls_function_body): Do not compute it.\n+\n 2017-11-16  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-split.c (split_bb_info): Turn time to sreal."}, {"sha": "1f9f53ddc95d21c7ee7d7148037030090c6763b2", "filename": "gcc/tree-emutls.c", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3/gcc%2Ftree-emutls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3/gcc%2Ftree-emutls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-emutls.c?ref=35a282e0bc285f2b62dd29220a6ef3a3ed87a0b3", "patch": "@@ -383,7 +383,6 @@ struct lower_emutls_data\n   struct cgraph_node *builtin_node;\n   tree builtin_decl;\n   basic_block bb;\n-  int bb_freq;\n   location_t loc;\n   gimple_seq seq;\n };\n@@ -622,10 +621,6 @@ lower_emutls_function_body (struct cgraph_node *node)\n \t PHI argument for that edge.  */\n       if (!gimple_seq_empty_p (phi_nodes (d.bb)))\n \t{\n-\t  /* The calls will be inserted on the edges, and the frequencies\n-\t     will be computed during the commit process.  */\n-\t  d.bb_freq = 0;\n-\n \t  nedge = EDGE_COUNT (d.bb->preds);\n \t  for (i = 0; i < nedge; ++i)\n \t    {\n@@ -650,8 +645,6 @@ lower_emutls_function_body (struct cgraph_node *node)\n \t    }\n \t}\n \n-      d.bb_freq = compute_call_stmt_bb_frequency (current_function_decl, d.bb);\n-\n       /* We can re-use any SSA_NAME created during this basic block.  */\n       clear_access_vars ();\n "}]}