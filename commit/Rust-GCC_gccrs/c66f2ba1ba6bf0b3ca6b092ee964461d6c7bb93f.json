{"sha": "c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzY2ZjJiYTFiYTZiZjBiM2NhNmIwOTJlZTk2NDQ2MWQ2YzdiYjkzZg==", "commit": {"author": {"name": "Adam Butcher", "email": "adam@jessamine.co.uk", "date": "2014-03-17T20:02:16Z"}, "committer": {"name": "Adam Butcher", "email": "abutcher@gcc.gnu.org", "date": "2014-03-17T20:02:16Z"}, "message": "re PR c++/60391 ([c++1y] ICE with auto parameter for operator\"\")\n\nFix PR c++/60391\n\n\tPR c++/60391\n\t* parser.c (cp_parser_skip_to_end_of_block_or_statement): Unwind generic\n\tfunction scope as per cp_parser_skip_to_end_of_statement.\n\n\tPR c++/60391\n\t* g++.dg/cpp1y/pr60391.C: New testcase.\n\nFrom-SVN: r208624", "tree": {"sha": "9d8916b55e3777508dc8d964f0ac58fdb4fd4650", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d8916b55e3777508dc8d964f0ac58fdb4fd4650"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/comments", "author": {"login": "abutcher-gh", "id": 10379705, "node_id": "MDQ6VXNlcjEwMzc5NzA1", "avatar_url": "https://avatars.githubusercontent.com/u/10379705?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abutcher-gh", "html_url": "https://github.com/abutcher-gh", "followers_url": "https://api.github.com/users/abutcher-gh/followers", "following_url": "https://api.github.com/users/abutcher-gh/following{/other_user}", "gists_url": "https://api.github.com/users/abutcher-gh/gists{/gist_id}", "starred_url": "https://api.github.com/users/abutcher-gh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abutcher-gh/subscriptions", "organizations_url": "https://api.github.com/users/abutcher-gh/orgs", "repos_url": "https://api.github.com/users/abutcher-gh/repos", "events_url": "https://api.github.com/users/abutcher-gh/events{/privacy}", "received_events_url": "https://api.github.com/users/abutcher-gh/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e318c1e15dd56380235bae7b7eea41301ff5e931", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e318c1e15dd56380235bae7b7eea41301ff5e931", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e318c1e15dd56380235bae7b7eea41301ff5e931"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "a240ad9ec765eb67ddcf3d6ec1b23d7f3469ebc8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "patch": "@@ -1,3 +1,9 @@\n+2014-03-17  Adam Butcher  <adam@jessamine.co.uk>\n+\n+\tPR c++/60391\n+\t* parser.c (cp_parser_skip_to_end_of_block_or_statement): Unwind generic\n+\tfunction scope as per cp_parser_skip_to_end_of_statement.\n+\n 2014-03-17  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/59571"}, {"sha": "519e2090dd29e1a9449def315dfb4a793da52988", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "patch": "@@ -3225,6 +3225,10 @@ cp_parser_skip_to_end_of_block_or_statement (cp_parser* parser)\n {\n   int nesting_depth = 0;\n \n+  /* Unwind generic function template scope if necessary.  */\n+  if (parser->fully_implicit_function_template_p)\n+    finish_fully_implicit_template (parser, /*member_decl_opt=*/0);\n+\n   while (nesting_depth >= 0)\n     {\n       cp_token *token = cp_lexer_peek_token (parser->lexer);"}, {"sha": "a327e94bcd5864fe9e5358778375527c5f7ba2f8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "patch": "@@ -1,3 +1,8 @@\n+2014-03-17  Adam Butcher  <adam@jessamine.co.uk>\n+\n+\tPR c++/60391\n+\t* g++.dg/cpp1y/pr60391.C: New testcase.\n+\n 2014-03-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/60516"}, {"sha": "68746aedf39f943b347aefe14108edbc126193ae", "filename": "gcc/testsuite/g++.dg/cpp1y/pr60391.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fpr60391.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fpr60391.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fpr60391.C?ref=c66f2ba1ba6bf0b3ca6b092ee964461d6c7bb93f", "patch": "@@ -0,0 +1,10 @@\n+// PR c++/60391\n+// { dg-do compile { target c++1y } }\n+// { dg-options \"\" }\n+\n+namespace N\n+{\n+  int operator\"\" _X(auto) {} // { dg-error \"invalid\" }\n+}\n+\n+namespace N {}"}]}