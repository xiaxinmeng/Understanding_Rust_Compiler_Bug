{"sha": "ec221d715c730de2214d2bf4cab8b37633787ff7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMyMjFkNzE1YzczMGRlMjIxNGQyYmY0Y2FiOGIzNzYzMzc4N2ZmNw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-05-22T01:12:13Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-05-22T01:12:13Z"}, "message": "tls.exp, [...]: New directory and files.\n\n        * gcc.dg/tls/tls.exp, gcc.dg/tls/trivial.c, gcc.dg/tls/diag-1.c,\n        gcc.dg/tls/diag-2.c, gcc.dg/tls/init-1.c: New directory and files.\n\nFrom-SVN: r53716", "tree": {"sha": "2363f267a50cd81662c0013864728e3a333a0cc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2363f267a50cd81662c0013864728e3a333a0cc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec221d715c730de2214d2bf4cab8b37633787ff7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec221d715c730de2214d2bf4cab8b37633787ff7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec221d715c730de2214d2bf4cab8b37633787ff7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec221d715c730de2214d2bf4cab8b37633787ff7/comments", "author": null, "committer": null, "parents": [{"sha": "3d78f2e96e29feaff7046c22fdc97aa58bee9688", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d78f2e96e29feaff7046c22fdc97aa58bee9688", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d78f2e96e29feaff7046c22fdc97aa58bee9688"}], "stats": {"total": 87, "additions": 87, "deletions": 0}, "files": [{"sha": "0459deceec65252ac8ebf3140f3543e7ba528b2e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -1,3 +1,8 @@\n+2002-05-21  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.dg/tls/tls.exp, gcc.dg/tls/trivial.c, gcc.dg/tls/diag-1.c,\n+\tgcc.dg/tls/diag-2.c, gcc.dg/tls/init-1.c: New directory and files.\n+\n Tue May 21 14:25:32 2002  Brian R. Gaeke  <brg@dgate.ORG>\n \n \t* g++.dg/other/copy2.C: New test."}, {"sha": "ae4f3d4a3c28c7e9b21f58724078572f5fc2b020", "filename": "gcc/testsuite/gcc.dg/tls/diag-1.c", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-1.c?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -0,0 +1,11 @@\n+/* Valid __thread specifiers.  */\n+\n+__thread int g1;\n+extern __thread int g2;\n+static __thread int g3;\n+\n+void foo()\n+{\n+  extern __thread int l1;\n+  static __thread int l2;\n+}"}, {"sha": "4f2b90b8f7eb806a1f706ede02828762b56a2905", "filename": "gcc/testsuite/gcc.dg/tls/diag-2.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Fdiag-2.c?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -0,0 +1,21 @@\n+/* Invalid __thread specifiers.  */\n+\n+__thread extern int g1;\t\t/* { dg-error \"`__thread' before `extern'\" } */\n+__thread static int g2;\t\t/* { dg-error \"`__thread' before `static'\" } */\n+__thread __thread int g3;\t/* { dg-error \"duplicate `__thread'\" } */\n+typedef __thread int g4;\t/* { dg-error \"multiple storage classes\" } */\n+\n+void foo()\n+{\n+  __thread int l1;\t\t/* { dg-error \"implicitly auto and declared `__thread'\" } */\n+  auto __thread int l2;\t\t/* { dg-error \"multiple storage classes\" } */\n+  __thread extern int l3;\t/* { dg-error \"`__thread' before `extern'\" } */\n+  register __thread int l4;\t/* { dg-error \"multiple storage classes\" } */\n+}\n+\n+__thread void f1 ();\t\t/* { dg-error \"invalid storage class for function\" } */\n+extern __thread void f2 ();\t/* { dg-error \"invalid storage class for function\" } */\n+static __thread void f3 ();\t/* { dg-error \"invalid storage class for function\" } */\n+__thread void f4 () { }\t\t/* { dg-error \"function definition declared `__thread'\" } */\n+\n+void bar(__thread int p1);\t/* { dg-error \"storage class specified for parameter\" } */"}, {"sha": "97258643bf2807b56996fb09c72f594501489947", "filename": "gcc/testsuite/gcc.dg/tls/init-1.c", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Finit-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Finit-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Finit-1.c?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -0,0 +1,4 @@\n+/* Invalid initializations.  */\n+\n+extern __thread int i;\n+int *p = &i;\t/* { dg-error \"initializer element is not constant\" } */"}, {"sha": "4c2627dbcf80b519d830f4dec76616a94b0a61e0", "filename": "gcc/testsuite/gcc.dg/tls/tls.exp", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftls.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftls.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftls.exp?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -0,0 +1,45 @@\n+#   Copyright (C) 2002 Free Software Foundation, Inc.\n+\n+# This program is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2 of the License, or\n+# (at your option) any later version.\n+# \n+# This program is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+# \n+# You should have received a copy of the GNU General Public License\n+# along with this program; if not, write to the Free Software\n+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  \n+\n+# GCC testsuite that uses the `dg.exp' driver.\n+\n+# Load support procs.\n+load_lib gcc-dg.exp\n+\n+# Test for thread-local data supported by the platform.  If it\n+# isn't, everything will fail with the \"not supported\" message.\n+\n+set comp_output [gcc_target_compile \\\n+\t\t\"$srcdir/$subdir/trivial.c\" \"trivial.S\" assembly \"\"]\n+if { [string match \"*not supported*\" $comp_output] } {\n+  return 0\n+}\n+\n+# If a testcase doesn't have special options, use these.\n+global DEFAULT_CFLAGS\n+if ![info exists DEFAULT_CFLAGS] then {\n+    set DEFAULT_CFLAGS \" -ansi -pedantic-errors\"\n+}\n+\n+# Initialize `dg'.\n+dg-init\n+\n+# Main loop.\n+dg-runtest [lsort [glob -nocomplain $srcdir/$subdir/*.\\[cS\\]]] \\\n+        \"\" $DEFAULT_CFLAGS\n+\n+# All done.\n+dg-finish"}, {"sha": "1fd70631f33b78379c81232b8e5e8f8ab1094618", "filename": "gcc/testsuite/gcc.dg/tls/trivial.c", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftrivial.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec221d715c730de2214d2bf4cab8b37633787ff7/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftrivial.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftls%2Ftrivial.c?ref=ec221d715c730de2214d2bf4cab8b37633787ff7", "patch": "@@ -0,0 +1 @@\n+__thread int i;"}]}