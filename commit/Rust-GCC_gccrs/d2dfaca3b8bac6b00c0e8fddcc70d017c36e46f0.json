{"sha": "d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDJkZmFjYTNiOGJhYzZiMDBjMGU4ZmRkY2M3MGQwMTdjMzZlNDZmMA==", "commit": {"author": {"name": "Catherine Moore", "email": "clm@codesourcery.com", "date": "2014-04-16T21:09:30Z"}, "committer": {"name": "Catherine Moore", "email": "clm@gcc.gnu.org", "date": "2014-04-16T21:09:30Z"}, "message": "mips.md (*mov<mode>_internal, [...]): Adjust constraints for microMIPS store patterns.\n\n2014-04-16  Catherine Moore  <clm@codesourcery.com>\n\n\tgcc/\n\t* mips.md (*mov<mode>_internal, *movhi_internal, *movqi_internal):\n\tAdjust constraints for microMIPS store patterns.\n\n\ttestsuite/\n\t* gcc.target/mips/umips-store16-2.c: New test.\n\nFrom-SVN: r209450", "tree": {"sha": "7623f6762101077be44613e06949ae382edda593", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7623f6762101077be44613e06949ae382edda593"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/comments", "author": {"login": "CatherineMoore", "id": 15636327, "node_id": "MDQ6VXNlcjE1NjM2MzI3", "avatar_url": "https://avatars.githubusercontent.com/u/15636327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CatherineMoore", "html_url": "https://github.com/CatherineMoore", "followers_url": "https://api.github.com/users/CatherineMoore/followers", "following_url": "https://api.github.com/users/CatherineMoore/following{/other_user}", "gists_url": "https://api.github.com/users/CatherineMoore/gists{/gist_id}", "starred_url": "https://api.github.com/users/CatherineMoore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CatherineMoore/subscriptions", "organizations_url": "https://api.github.com/users/CatherineMoore/orgs", "repos_url": "https://api.github.com/users/CatherineMoore/repos", "events_url": "https://api.github.com/users/CatherineMoore/events{/privacy}", "received_events_url": "https://api.github.com/users/CatherineMoore/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fcde53d03f7c4338c4cf5a27c56606fa64b8c554", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcde53d03f7c4338c4cf5a27c56606fa64b8c554", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcde53d03f7c4338c4cf5a27c56606fa64b8c554"}], "stats": {"total": 37, "additions": 34, "deletions": 3}, "files": [{"sha": "fe2d1edc1dd4648013ff219decf56e5ac88af715", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "patch": "@@ -1,3 +1,8 @@\n+2014-04-16  Catherine Moore  <clm@codesourcery.com>\n+\n+\t* mips.md (*mov<mode>_internal, *movhi_internal, *movqi_internal):\n+\tAdjust constraints for microMIPS store patterns.\n+\n 2014-04-16  Pitchumani Sivanupandi  <Pitchumani.S@atmel.com>\n \n \t* config/avr/avr-mcus.def: Correct typo for atxmega256a3bu macro."}, {"sha": "f914ab67d8aac60bb6504321ce24c7bc7e7c4459", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "patch": "@@ -4437,7 +4437,7 @@\n \n (define_insn \"*mov<mode>_internal\"\n   [(set (match_operand:IMOVE32 0 \"nonimmediate_operand\" \"=d,!u,!u,d,e,!u,!ks,d,ZS,ZT,m,*f,*f,*d,*m,*d,*z,*a,*d,*B*C*D,*B*C*D,*d,*m\")\n-\t(match_operand:IMOVE32 1 \"move_operand\" \"d,J,Udb7,Yd,Yf,ZT,ZS,m,!ks,!kb,dJ,*d*J,*m,*f,*f,*z,*d,*J*d,*a,*d,*m,*B*C*D,*B*C*D\"))]\n+\t(match_operand:IMOVE32 1 \"move_operand\" \"d,J,Udb7,Yd,Yf,ZT,ZS,m,!ks,!kbJ,dJ,*d*J,*m,*f,*f,*z,*d,*J*d,*a,*d,*m,*B*C*D,*B*C*D\"))]\n   \"!TARGET_MIPS16\n    && (register_operand (operands[0], <MODE>mode)\n        || reg_or_0_operand (operands[1], <MODE>mode))\"\n@@ -4578,7 +4578,7 @@\n \n (define_insn \"*movhi_internal\"\n   [(set (match_operand:HI 0 \"nonimmediate_operand\" \"=d,!u,d,!u,d,ZU,m,*a,*d\")\n-\t(match_operand:HI 1 \"move_operand\"         \"d,J,I,ZU,m,!kb,dJ,*d*J,*a\"))]\n+\t(match_operand:HI 1 \"move_operand\"         \"d,J,I,ZU,m,!kbJ,dJ,*d*J,*a\"))]\n   \"!TARGET_MIPS16\n    && (register_operand (operands[0], HImode)\n        || reg_or_0_operand (operands[1], HImode))\"\n@@ -4654,7 +4654,7 @@\n \n (define_insn \"*movqi_internal\"\n   [(set (match_operand:QI 0 \"nonimmediate_operand\" \"=d,!u,d,!u,d,ZV,m,*a,*d\")\n-\t(match_operand:QI 1 \"move_operand\"         \"d,J,I,ZW,m,!kb,dJ,*d*J,*a\"))]\n+\t(match_operand:QI 1 \"move_operand\"         \"d,J,I,ZW,m,!kbJ,dJ,*d*J,*a\"))]\n   \"!TARGET_MIPS16\n    && (register_operand (operands[0], QImode)\n        || reg_or_0_operand (operands[1], QImode))\""}, {"sha": "8b83cd425ddd9afe6915b23ad54e174583b1ef74", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "patch": "@@ -1,3 +1,7 @@\n+2014-04-16  Catherine Moore  <clm@codesourcery.com>\n+\n+\t* gcc.target/mips/umips-store16-2.c: New test.\n+\n 2014-04-16  Marc Glisse  <marc.glisse@inria.fr>\n \n \t* g++.dg/cpp0x/initlist-vect.C: New file."}, {"sha": "0748edb569284d162609ee1e01c7b8b59381393f", "filename": "gcc/testsuite/gcc.target/mips/umips-store16-2.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-store16-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-store16-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fumips-store16-2.c?ref=d2dfaca3b8bac6b00c0e8fddcc70d017c36e46f0", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-options \"(-mmicromips) -dp\" } */\n+\n+MICROMIPS void\n+f1 (unsigned char *ptr)\n+{\n+  *ptr = 0;\n+}\n+\n+MICROMIPS void\n+f2 (unsigned short *ptr)\n+{\n+  *ptr = 0;\n+}\n+\n+MICROMIPS void\n+f3 (unsigned int *ptr)\n+{\n+  *ptr = 0;\n+}\n+/* { dg-final { scan-assembler \"\\tsb\\t\\\\\\$0,0\\\\(\\\\\\$\\[0-9\\]+\\\\)\\[^\\n\\]*length = 2\" } } */\n+/* { dg-final { scan-assembler \"\\tsh\\t\\\\\\$0,0\\\\(\\\\\\$\\[0-9\\]+\\\\)\\[^\\n\\]*length = 2\" } } */\n+/* { dg-final { scan-assembler \"\\tsw\\t\\\\\\$0,0\\\\(\\\\\\$\\[0-9\\]+\\\\)\\[^\\n\\]*length = 2\" } } */"}]}