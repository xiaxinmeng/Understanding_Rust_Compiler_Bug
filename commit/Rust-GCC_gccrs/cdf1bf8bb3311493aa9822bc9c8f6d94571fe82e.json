{"sha": "cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2RmMWJmOGJiMzMxMTQ5M2FhOTgyMmJjOWM4ZjZkOTQ1NzFmZTgyZQ==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2009-09-27T16:56:57Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2009-09-27T16:56:57Z"}, "message": "loop-iv.c (iv_analyze_op): Use function_invariant_p, not CONSTANT_P, to test for GRD_INVARIANT.\n\n\t* loop-iv.c (iv_analyze_op): Use function_invariant_p, not CONSTANT_P,\n\tto test for GRD_INVARIANT.\n\t(simple_rhs_p): Anything that's function_invariant_p is fine.\n\nFrom-SVN: r152226", "tree": {"sha": "95b8107b77b79331bb1eae28317bfa55077089c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/95b8107b77b79331bb1eae28317bfa55077089c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e/comments", "author": null, "committer": null, "parents": [{"sha": "ee5fe537e8e43cad941c829d174c85d0ebf0233f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee5fe537e8e43cad941c829d174c85d0ebf0233f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee5fe537e8e43cad941c829d174c85d0ebf0233f"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "7a2cce6a6eaa096381ffc72f5a40dc53b802b0ad", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "patch": "@@ -1,3 +1,9 @@\n+2009-09-27  Bernd Schmidt  <bernd.schmidt@analog.com>\n+\n+\t* loop-iv.c (iv_analyze_op): Use function_invariant_p, not CONSTANT_P,\n+\tto test for GRD_INVARIANT.\n+\t(simple_rhs_p): Anything that's function_invariant_p is fine.\n+\n 2009-09-27  Rafael Avila de Espindola  <espindola@google.com>\n \n \t* gengtype.c (main): Use plunge_files instead of plugin_output."}, {"sha": "af25d02ed61d0fefba8f4770b059267f9a363f3f", "filename": "gcc/loop-iv.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e/gcc%2Floop-iv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e/gcc%2Floop-iv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-iv.c?ref=cdf1bf8bb3311493aa9822bc9c8f6d94571fe82e", "patch": "@@ -1120,7 +1120,7 @@ iv_analyze_op (rtx insn, rtx op, struct rtx_iv *iv)\n       print_rtl_single (dump_file, insn);\n     }\n \n-  if (CONSTANT_P (op))\n+  if (function_invariant_p (op))\n     res = GRD_INVARIANT;\n   else if (GET_CODE (op) == SUBREG)\n     {\n@@ -1329,7 +1329,7 @@ simple_rhs_p (rtx rhs)\n {\n   rtx op0, op1;\n \n-  if (CONSTANT_P (rhs)\n+  if (function_invariant_p (rhs)\n       || (REG_P (rhs) && !HARD_REGISTER_P (rhs)))\n     return true;\n "}]}