{"sha": "08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDg3MzVmNTM4Y2Q5NGQ1YmU1ZmExYjhlZTc5YmZhYmM3ZjUzMGE4YQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2018-02-26T20:06:40Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2018-02-26T20:06:40Z"}, "message": "re PR c++/84540 (ICE with alignas in variadic template)\n\n/cp\n2018-02-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/84540\n\t* pt.c (tsubst_attributes): Handle correctly tsubst_attribute\n\treturning NULL_TREE.\n\t(apply_late_template_attributes): Likewise.\n\n/testsuite\n2018-02-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/84540\n\t* g++.dg/cpp0x/alignas14.C: New.\n\t* g++.dg/cpp0x/alignas15.C: Likewise.\n\nFrom-SVN: r258012", "tree": {"sha": "28763431f2806c40cc932242e482d61d55d6d68c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/28763431f2806c40cc932242e482d61d55d6d68c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/comments", "author": null, "committer": null, "parents": [{"sha": "2bb03eb72f5b55edc6deadc2e0320a046d046fa8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bb03eb72f5b55edc6deadc2e0320a046d046fa8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bb03eb72f5b55edc6deadc2e0320a046d046fa8"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "d75f1a834e6c3c52a665953e0caa2b5eac576124", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "patch": "@@ -1,3 +1,10 @@\n+2018-02-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/84540\n+\t* pt.c (tsubst_attributes): Handle correctly tsubst_attribute\n+\treturning NULL_TREE.\n+\t(apply_late_template_attributes): Likewise.\n+\n 2018-02-26  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/84557"}, {"sha": "42fd872d6c0f6a3e6ed865d431f3a1254578e0c0", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "patch": "@@ -10245,9 +10245,8 @@ tsubst_attributes (tree attributes, tree args,\n \t    if (subst != t)\n \t      {\n \t\t*p = subst;\n-\t\tdo\n+\t\twhile (*p)\n \t\t  p = &TREE_CHAIN (*p);\n-\t\twhile (*p);\n \t\t*p = TREE_CHAIN (t);\n \t\tcontinue;\n \t      }\n@@ -10314,9 +10313,8 @@ apply_late_template_attributes (tree *decl_p, tree attributes, int attr_flags,\n \t      *p = TREE_CHAIN (t);\n \t      TREE_CHAIN (t) = NULL_TREE;\n \t      *q = tsubst_attribute (t, decl_p, args, complain, in_decl);\n-\t      do\n+\t      while (*q)\n \t\tq = &TREE_CHAIN (*q);\n-\t      while (*q);\n \t    }\n \t  else\n \t    p = &TREE_CHAIN (t);"}, {"sha": "f050086b8bb07fd6959036ab37e39c19128be613", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "patch": "@@ -1,3 +1,9 @@\n+2018-02-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/84540\n+\t* g++.dg/cpp0x/alignas14.C: New.\n+\t* g++.dg/cpp0x/alignas15.C: Likewise.\n+\n 2018-02-26  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/84557"}, {"sha": "498e9754d8c18a6acb7bacf1e30c776f080b2b42", "filename": "gcc/testsuite/g++.dg/cpp0x/alignas14.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas14.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas14.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas14.C?ref=08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "patch": "@@ -0,0 +1,6 @@\n+// PR c++/84540\n+// { dg-do compile { target c++11 } }\n+\n+template<typename... T> struct alignas(alignof(T)...) A {};\n+\n+A<> a;"}, {"sha": "7244dce5bc1b4c60f5d5cd267e55d232bb16e8e2", "filename": "gcc/testsuite/g++.dg/cpp0x/alignas15.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas15.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08735f538cd94d5be5fa1b8ee79bfabc7f530a8a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas15.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Falignas15.C?ref=08735f538cd94d5be5fa1b8ee79bfabc7f530a8a", "patch": "@@ -0,0 +1,6 @@\n+// PR c++/84540\n+// { dg-do compile { target c++11 } }\n+\n+template<typename... T> struct A { enum alignas(alignof(T)...) E {}; };\n+\n+A<> a;"}]}