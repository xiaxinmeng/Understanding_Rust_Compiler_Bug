{"sha": "ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwZTJhNTFmNDAwNDcxYTY3YmYzOTc5ZmI5ZTMwMzkwZWI3YTM0Yg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-12-16T01:15:14Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-12-16T01:15:14Z"}, "message": "re PR c++/12989 ([new parser] internal compiler error: tree check: expected field_decl)\n\n\tPR c++/12989\n\t* typeck.c (cxx_sizeof_or_alignof_expr): Robustify.\n\n\tPR c++/12989\n\t* g++.dg/expr/sizeof1.C: New test.\n\nFrom-SVN: r74660", "tree": {"sha": "03f06373df56eb113ab148c998294466b7c4e440", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03f06373df56eb113ab148c998294466b7c4e440"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/comments", "author": null, "committer": null, "parents": [{"sha": "48b5158caa2376635b00ff72ea8946b461645696", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48b5158caa2376635b00ff72ea8946b461645696", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48b5158caa2376635b00ff72ea8946b461645696"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "43389e8cbe2240ef9dda78c8b7c92ad1b8816531", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "patch": "@@ -1,5 +1,8 @@\n 2003-12-15  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/12989\n+\t* typeck.c (cxx_sizeof_or_alignof_expr): Robustify.\n+\n \tPR c++/13310\n \t* pt.c (dependent_template_p): Handle OVERLOADs.\n "}, {"sha": "791ba210b1589c9eb84b57734994abfbd96874dd", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "patch": "@@ -1233,6 +1233,7 @@ cxx_sizeof_or_alignof_expr (tree e, enum tree_code op)\n     }\n   \n   if (TREE_CODE (e) == COMPONENT_REF\n+      && TREE_CODE (TREE_OPERAND (e, 1)) == FIELD_DECL\n       && DECL_C_BIT_FIELD (TREE_OPERAND (e, 1)))\n     {\n       error (\"invalid application of `%s' to a bit-field\", op_name);"}, {"sha": "83352dcfb70efab27513e79a99d447443964f86f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "patch": "@@ -1,5 +1,8 @@\n 2003-12-15  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/12989\n+\t* g++.dg/expr/sizeof1.C: New test.\n+\n \tPR c++/13310\n \t* g++.dg/template/crash15.C: New test.\n "}, {"sha": "fa84481fabfb4a2560ac2a33844f0b3db49dd46b", "filename": "gcc/testsuite/g++.dg/expr/sizeof1.C", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fsizeof1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0e2a51f400471a67bf3979fb9e30390eb7a34b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fsizeof1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fsizeof1.C?ref=ea0e2a51f400471a67bf3979fb9e30390eb7a34b", "patch": "@@ -0,0 +1,7 @@\n+// PR c++/12989\n+\n+struct A\n+{\n+  int foo() { return sizeof(bar); } // { dg-error \"\" }\n+  int bar();\n+};"}]}