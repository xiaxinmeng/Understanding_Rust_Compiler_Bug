{"sha": "ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWIxNzcxNWQ5Yjk1OGVjM2QyNzE4NjZjZjJhOGYxYjRhYjc2NDFlYw==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-09-30T12:02:22Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-09-30T12:02:22Z"}, "message": "* mi6.c, mi6a.h, mi6b.h, mi6c.h, mi6d.h, mi6e.h: New test.\n\nFrom-SVN: r45900", "tree": {"sha": "daf8312a9a08162e7b4f4c64adb93fcb76c51833", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/daf8312a9a08162e7b4f4c64adb93fcb76c51833"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/comments", "author": null, "committer": null, "parents": [{"sha": "8c3b269309f3b3651362697d48a3ade54bbddb55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c3b269309f3b3651362697d48a3ade54bbddb55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c3b269309f3b3651362697d48a3ade54bbddb55"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "b4506b43d009ae0ab823f0e2f91a98b18350b189", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -1,3 +1,7 @@\n+2001-09-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* mi6.c, mi6a.h, mi6b.h, mi6c.h, mi6d.h, mi6e.h: New test.\n+\n 2001-09-30  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* gcc.dg/cpp/redef2.c: Add test."}, {"sha": "8895706a49b47954a1313ac149803656d6841fd4", "filename": "gcc/testsuite/gcc.dg/cpp/mi6.c", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6.c?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,44 @@\n+/* Another test case for over-eager multiple include optimization,\n+   where the leading \"#if !defined\" expression is obtained partially,\n+   or wholly, from macros.  Neil Booth, 30 Sep 2001.  */\n+\n+/* { dg-do compile } */\n+/* { dg-options \"\" } */\n+\n+/* Each include file should not be subject to MI optimisation, since\n+   macro definitions can change.  Each header increments the variable\n+   VAR if it is defined.\n+\n+   The first set of inclusions gets the headers into CPP's cache, but\n+   does nothing since VAR is not defined.  The second set should each\n+   increment VAR, since none of the initial set should have been\n+   flagged as optimizable.  */\n+\n+#define EMPTY\n+#define NOT !\n+#define DEFINED defined (macro)\n+#define IND ! defined (macro)\n+\n+#include \"mi6a.h\"\n+#include \"mi6b.h\"\n+#include \"mi6c.h\"\n+#include \"mi6d.h\"\n+#include \"mi6e.h\"\n+\n+#define VAR five\n+\n+int\n+main(void)\n+{\n+  unsigned int five = 0;\n+\n+#include \"mi6a.h\"\n+#include \"mi6b.h\"\n+#include \"mi6c.h\"\n+#include \"mi6d.h\"\n+#include \"mi6e.h\"\n+\n+  if (five != 5)\n+    abort ();\n+  return 0;\n+}"}, {"sha": "b11021c920204f9fb9cc5e7b3240b40cb8b6f0d3", "filename": "gcc/testsuite/gcc.dg/cpp/mi6a.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6a.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6a.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6a.h?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,5 @@\n+#if IND\n+ #ifdef VAR\n+   VAR++;\n+ #endif\n+#endif"}, {"sha": "0d89ddfc726b4026e1353cf7fa26da80b5b3d9b7", "filename": "gcc/testsuite/gcc.dg/cpp/mi6b.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6b.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6b.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6b.h?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,5 @@\n+#if NOT defined (macro)\n+ #ifdef VAR\n+   VAR++;\n+ #endif\n+#endif"}, {"sha": "d19cb54335ff8c260de103559868b68cb6a9019c", "filename": "gcc/testsuite/gcc.dg/cpp/mi6c.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6c.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6c.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6c.h?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,5 @@\n+#if !DEFINED\n+ #ifdef VAR\n+   VAR++;\n+ #endif\n+#endif"}, {"sha": "7cb4b6bcb9ee7ae2dfe2ed198b91535f81c1eff1", "filename": "gcc/testsuite/gcc.dg/cpp/mi6d.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6d.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6d.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6d.h?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,5 @@\n+#if EMPTY !defined (macro)\n+ #ifdef VAR\n+   VAR++;\n+ #endif\n+#endif"}, {"sha": "e60ca442bf4df72652842abf96051f6dd8f2c580", "filename": "gcc/testsuite/gcc.dg/cpp/mi6e.h", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6e.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ab17715d9b958ec3d271866cf2a8f1b4ab7641ec/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6e.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fmi6e.h?ref=ab17715d9b958ec3d271866cf2a8f1b4ab7641ec", "patch": "@@ -0,0 +1,5 @@\n+#if !defined (macro) EMPTY\n+ #ifdef VAR\n+   VAR++;\n+ #endif\n+#endif"}]}