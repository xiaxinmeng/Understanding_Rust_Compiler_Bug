{"sha": "238f2fefbc8c14152b98c0d76878a04f8ea0a389", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM4ZjJmZWZiYzhjMTQxNTJiOThjMGQ3Njg3OGEwNGY4ZWEwYTM4OQ==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "gerald@pfeifer.com", "date": "2004-03-14T22:38:57Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2004-03-14T22:38:57Z"}, "message": "gcc_release (SNAPSHOTS_DIR): New variable.\n\n\t* gcc_release (SNAPSHOTS_DIR): New variable.  Use it.\n\t(announce_snapshot): Use it.\n\nFrom-SVN: r79484", "tree": {"sha": "0f61f1abb44700d2d642d75aa9afe5bfc5742e9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f61f1abb44700d2d642d75aa9afe5bfc5742e9f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/238f2fefbc8c14152b98c0d76878a04f8ea0a389", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/238f2fefbc8c14152b98c0d76878a04f8ea0a389", "html_url": "https://github.com/Rust-GCC/gccrs/commit/238f2fefbc8c14152b98c0d76878a04f8ea0a389", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/238f2fefbc8c14152b98c0d76878a04f8ea0a389/comments", "author": {"login": "GeraldPfeifer", "id": 4573532, "node_id": "MDQ6VXNlcjQ1NzM1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4573532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeraldPfeifer", "html_url": "https://github.com/GeraldPfeifer", "followers_url": "https://api.github.com/users/GeraldPfeifer/followers", "following_url": "https://api.github.com/users/GeraldPfeifer/following{/other_user}", "gists_url": "https://api.github.com/users/GeraldPfeifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeraldPfeifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeraldPfeifer/subscriptions", "organizations_url": "https://api.github.com/users/GeraldPfeifer/orgs", "repos_url": "https://api.github.com/users/GeraldPfeifer/repos", "events_url": "https://api.github.com/users/GeraldPfeifer/events{/privacy}", "received_events_url": "https://api.github.com/users/GeraldPfeifer/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2dd76960886e196bbc8efd5c3d3a01a22fa0da0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dd76960886e196bbc8efd5c3d3a01a22fa0da0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dd76960886e196bbc8efd5c3d3a01a22fa0da0c"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "2646c80a4d965d37d199f99c595d0876cfa3e84c", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/238f2fefbc8c14152b98c0d76878a04f8ea0a389/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/238f2fefbc8c14152b98c0d76878a04f8ea0a389/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=238f2fefbc8c14152b98c0d76878a04f8ea0a389", "patch": "@@ -1,3 +1,8 @@\n+2004-03-14  Gerald Pfeifer  <gerald@pfeifer.com>\n+\n+\t* gcc_release (SNAPSHOTS_DIR): New variable.  Use it.\n+\t(announce_snapshot): Use it.\n+\n 2004-03-14  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* gcc_release (announce_snapshot): Use changedir instead of"}, {"sha": "0b6340f18a7a0a1dee0771f08896cd65fab54371", "filename": "maintainer-scripts/gcc_release", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/238f2fefbc8c14152b98c0d76878a04f8ea0a389/maintainer-scripts%2Fgcc_release", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/238f2fefbc8c14152b98c0d76878a04f8ea0a389/maintainer-scripts%2Fgcc_release", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fgcc_release?ref=238f2fefbc8c14152b98c0d76878a04f8ea0a389", "patch": "@@ -392,7 +392,7 @@ announce_snapshot() {\n   inform \"Updating links and READMEs on the FTP server\"\n   \n   TEXT_DATE=`date --date=$DATE +%B\\ %d,\\ %Y`\n-  changedir ~ftp/pub/gcc/snapshots\n+  changedir \"${SNAPSHOTS_DIR}\"\n   sed -e \"s%@DATE@%$DATE%g\" \\\n     -e \"s%@TEXT_DATE@%$TEXT_DATE%g\" \\\n     -e \"s%@LAST_DATE@%$LAST_DATE%g\" \\\n@@ -416,7 +416,7 @@ announce_snapshot() {\n   inform \"Sending mail\"\n \n   export QMAILHOST=gcc.gnu.org\n-  mail -s \"gcc-ss-${RELEASE} is now available\" gcc@gcc.gnu.org < ~ftp/pub/gcc/snapshots/${RELEASE}/README\n+  mail -s \"gcc-ss-${RELEASE} is now available\" gcc@gcc.gnu.org < ${SNAPSHOTS_DIR}/${RELEASE}/README\n }\n \n ########################################################################\n@@ -440,8 +440,11 @@ CVS_USERNAME=\"${USER}\"\n GCC_HOSTNAME=\"gcc.gnu.org\"\n # The name of the account on the machine to which files are uploaded.\n GCC_USERNAME=\"gccadmin\"\n-# The directory in which the files will be placed.\n-FTP_PATH=\"~ftp/pub/gcc\"\n+# The directory in which the files will be placed (must not use quotes\n+# or ~ftp syntax will break).\n+FTP_PATH=~ftp/pub/gcc\n+# The directory in which snapshots will be placed.\n+SNAPSHOTS_DIR=${FTP_PATH}/snapshots\n \n # The major number for the release.  For release `3.0.2' this would be \n # `3'\n@@ -618,8 +621,7 @@ else\n   # was.\n   if [ $MODE_DIFFS -ne 0 ] && [ $LOCAL -ne 0 ]; then\n     LAST_DATE=`cat ~/.snapshot_date-${BRANCH}`\n-    LAST_DIR=~ftp/pub/gcc/snapshots/${BRANCH}-${LAST_DATE}\n-    OLD_TARS=${LAST_DIR}/gcc-${BRANCH}-${LAST_DATE}.tar.bz2\n+    OLD_TARS=${SNAPSHOTS_DIR}/${BRANCH}-${LAST_DATE}/gcc-${BRANCH}-${LAST_DATE}.tar.bz2\n   fi\n fi\n "}]}