{"sha": "0b73eb812e8455701ef3044839f6de2ee895b15b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGI3M2ViODEyZTg0NTU3MDFlZjMwNDQ4MzlmNmRlMmVlODk1YjE1Yg==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2012-01-31T18:38:43Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-01-31T18:38:43Z"}, "message": "re PR fortran/52029 ([OOP] _copy should be PURE)\n\n2012-01-31  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/52029\n        * class.c (gfc_find_derived_vtab): Mark _copy function as pure.\n\n2012-01-31  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/52029\n        * gfortran.dg/class_49.f90: New.\n\nFrom-SVN: r183770", "tree": {"sha": "0408b5a684895f95331349727330564133a2d3ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0408b5a684895f95331349727330564133a2d3ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0b73eb812e8455701ef3044839f6de2ee895b15b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b73eb812e8455701ef3044839f6de2ee895b15b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b73eb812e8455701ef3044839f6de2ee895b15b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b73eb812e8455701ef3044839f6de2ee895b15b/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2419ff64b9d80647a79da9a6ae40e36e8206d4a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2419ff64b9d80647a79da9a6ae40e36e8206d4a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2419ff64b9d80647a79da9a6ae40e36e8206d4a2"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "a0397cc3c7d2ab8815606e190c1844039223519b", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=0b73eb812e8455701ef3044839f6de2ee895b15b", "patch": "@@ -1,3 +1,8 @@\n+2012-01-31  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/52029\n+\t* class.c (gfc_find_derived_vtab): Mark _copy function as pure.\n+\n 2012-01-31  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/52013"}, {"sha": "0d47979cf2740ef4e4774c07b2c84e8117bdae10", "filename": "gcc/fortran/class.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ffortran%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ffortran%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fclass.c?ref=0b73eb812e8455701ef3044839f6de2ee895b15b", "patch": "@@ -717,6 +717,7 @@ gfc_find_derived_vtab (gfc_symbol *derived)\n \t\t  sub_ns->proc_name = copy;\n \t\t  copy->attr.flavor = FL_PROCEDURE;\n \t\t  copy->attr.subroutine = 1;\n+\t\t  copy->attr.pure = 1;\n \t\t  copy->attr.if_source = IFSRC_DECL;\n \t\t  /* This is elemental so that arrays are automatically\n \t\t     treated correctly by the scalarizer.  */"}, {"sha": "8eb797e19a94519ac7cc37d0dd396f263056c23c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0b73eb812e8455701ef3044839f6de2ee895b15b", "patch": "@@ -1,3 +1,8 @@\n+2012-01-31  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/52029\n+\t* gfortran.dg/class_49.f90: New.\n+\n 2012-01-31  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/52013"}, {"sha": "0c0b2b8019fbbdae1b7a9fdffb658f166d4fbaa0", "filename": "gcc/testsuite/gfortran.dg/class_49.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_49.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b73eb812e8455701ef3044839f6de2ee895b15b/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_49.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_49.f90?ref=0b73eb812e8455701ef3044839f6de2ee895b15b", "patch": "@@ -0,0 +1,11 @@\n+! { dg-do compile }\n+!\n+! PR fortran/52029\n+!\n+\n+elemental subroutine foo()\n+  type t\n+  end type t\n+  class(t), allocatable :: x\n+  if (allocated(x)) i = 5\n+end"}]}