{"sha": "2290e0ece46030d74e8fb6bc67f421fb08186d57", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI5MGUwZWNlNDYwMzBkNzRlOGZiNmJjNjdmNDIxZmIwODE4NmQ1Nw==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@cygnus.com", "date": "1998-01-28T11:46:37Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1998-01-28T11:46:37Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r17532", "tree": {"sha": "20f234281837d116d2283bd399d33e002a2d8fa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20f234281837d116d2283bd399d33e002a2d8fa6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2290e0ece46030d74e8fb6bc67f421fb08186d57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2290e0ece46030d74e8fb6bc67f421fb08186d57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2290e0ece46030d74e8fb6bc67f421fb08186d57", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2290e0ece46030d74e8fb6bc67f421fb08186d57/comments", "author": null, "committer": null, "parents": [{"sha": "86052cc3d8e276609904697ebb3db98cf67c5e11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86052cc3d8e276609904697ebb3db98cf67c5e11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86052cc3d8e276609904697ebb3db98cf67c5e11"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "2b0c5faf5a6db0fe4a7c225252a1146d735a6c14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2290e0ece46030d74e8fb6bc67f421fb08186d57/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2290e0ece46030d74e8fb6bc67f421fb08186d57/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2290e0ece46030d74e8fb6bc67f421fb08186d57", "patch": "@@ -1,3 +1,7 @@\n+Wed Jan 28 11:45:27 1998  Per Bothner  <bothner@cygnus.com>\n+\n+\t* toplev.c (strip_off_ending):  Generalize to endings up to 5 chars.\n+\n Tue Jan 27 23:15:55 1998  Lassi A. Tuura  <lat@iki.fi>\n \n \t* config.sub: More accurate determination of HP processor types."}, {"sha": "39c80ba1fb3c740fb22d92ed54a279b8eade27f9", "filename": "gcc/toplev.c", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2290e0ece46030d74e8fb6bc67f421fb08186d57/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2290e0ece46030d74e8fb6bc67f421fb08186d57/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=2290e0ece46030d74e8fb6bc67f421fb08186d57", "patch": "@@ -2080,20 +2080,23 @@ pipe_closed (signo)\n \n /* Strip off a legitimate source ending from the input string NAME of\n    length LEN.  Rather than having to know the names used by all of\n-   our front ends, we strip off an ending of a period followed by one,\n-   two, or three characters.  */\n+   our front ends, we strip off an ending of a period followed by\n+   up to five characters.  (Java uses \".class\".) */\n \n void\n strip_off_ending (name, len)\n      char *name;\n      int len;\n {\n-  if (len > 2 && name[len - 2] == '.')\n-    name[len - 2] = '\\0';\n-  else if (len > 3 && name[len - 3] == '.')\n-    name[len - 3] = '\\0';\n-  else if (len > 4 && name[len - 4] == '.')\n-    name[len - 4] = '\\0';\n+  int i;\n+  for (i = 2;  i < 6 && len > i;  i++)\n+    {\n+      if (name[len - i] == '.')\n+\t{\n+\t  name[len - i] = '\\0';\n+\t  break;\n+\t}\n+    }\n }\n \n /* Output a quoted string.  */"}]}