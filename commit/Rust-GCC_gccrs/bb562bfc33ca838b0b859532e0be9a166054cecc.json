{"sha": "bb562bfc33ca838b0b859532e0be9a166054cecc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmI1NjJiZmMzM2NhODM4YjBiODU5NTMyZTBiZTlhMTY2MDU0Y2VjYw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-01T01:55:18Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-02-01T01:55:18Z"}, "message": "(i960_function_name_declare): Handle names that start with '*'.\n\nFrom-SVN: r6454", "tree": {"sha": "66e69e8fae73dbab01f244041ffe7ffdbf71802a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/66e69e8fae73dbab01f244041ffe7ffdbf71802a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb562bfc33ca838b0b859532e0be9a166054cecc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb562bfc33ca838b0b859532e0be9a166054cecc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb562bfc33ca838b0b859532e0be9a166054cecc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb562bfc33ca838b0b859532e0be9a166054cecc/comments", "author": null, "committer": null, "parents": [{"sha": "03217a8b989c0eaaf6f799d63ecd6ac30a8c8c51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03217a8b989c0eaaf6f799d63ecd6ac30a8c8c51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03217a8b989c0eaaf6f799d63ecd6ac30a8c8c51"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "d11c625c73a45ab4e1e5cd29a7fb0f0626a14651", "filename": "gcc/config/i960/i960.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb562bfc33ca838b0b859532e0be9a166054cecc/gcc%2Fconfig%2Fi960%2Fi960.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb562bfc33ca838b0b859532e0be9a166054cecc/gcc%2Fconfig%2Fi960%2Fi960.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi960%2Fi960.c?ref=bb562bfc33ca838b0b859532e0be9a166054cecc", "patch": "@@ -901,7 +901,7 @@ i960_function_name_declare (file, name, fndecl)\n   /* Do this after choosing the leaf return register, so it will be listed\n      if one was chosen.  */\n \n-  fprintf (file, \"\\t#  Function '%s'\\n\", name);\n+  fprintf (file, \"\\t#  Function '%s'\\n\", (name[0] == '*' ? &name[1] : name));\n   fprintf (file, \"\\t#  Registers used: \");\n \n   for (i = 0, j = 0; i < FIRST_PSEUDO_REGISTER; i++)\n@@ -925,12 +925,14 @@ i960_function_name_declare (file, name, fndecl)\n       /* Make it a leaf procedure.  */\n \n       if (TREE_PUBLIC (fndecl))\n-\tfprintf (file,\"\\t.globl    %s.lf\\n\", name);\n+\tfprintf (file,\"\\t.globl\\t%s.lf\\n\", (name[0] == '*' ? &name[1] : name));\n \n-      fprintf (file, \"\\t.leafproc\\t_%s,%s.lf\\n\", name, name);\n-      fprintf (file, \"_%s:\\n\", name);\n+      fprintf (file, \"\\t.leafproc\\t\");\n+      assemble_name (file, name);\n+      fprintf (file, \",%s.lf\\n\", (name[0] == '*' ? &name[1] : name));\n+      ASM_OUTPUT_LABEL (file, name);\n       fprintf (file, \"\\tlda    LR%d,g14\\n\", ret_label);\n-      fprintf (file, \"%s.lf:\\n\", name);\n+      fprintf (file, \"%s.lf:\\n\", (name[0] == '*' ? &name[1] : name));\n       fprintf (file, \"\\tmov    g14,g%d\\n\", i960_leaf_ret_reg);\n \n       if (TARGET_C_SERIES)"}]}