{"sha": "96ad5df6db65383330cba79ed823a0256e750033", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTZhZDVkZjZkYjY1MzgzMzMwY2JhNzllZDgyM2EwMjU2ZTc1MDAzMw==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-12-01T20:37:55Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-12-01T20:37:55Z"}, "message": "re PR fortran/78279 (ICE in identical_array_ref, at fortran/dependency.c:104)\n\n2016-12-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/78279\n\t* dependency.c (identical_array_ref): Convert gcc_assert to conditional\n\tand gfc_internal_error.\n\n2016-12-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/78279\n\t* gfortran.dg/pr78279.f90: New test.\n\nFrom-SVN: r243131", "tree": {"sha": "a81f5099fcbd5f2b2672dbceae5854e88be1ef6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a81f5099fcbd5f2b2672dbceae5854e88be1ef6a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/96ad5df6db65383330cba79ed823a0256e750033", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96ad5df6db65383330cba79ed823a0256e750033", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96ad5df6db65383330cba79ed823a0256e750033", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96ad5df6db65383330cba79ed823a0256e750033/comments", "author": null, "committer": null, "parents": [{"sha": "98934fac3bd8fd149387164ac3ee97795a5e6825", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98934fac3bd8fd149387164ac3ee97795a5e6825", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98934fac3bd8fd149387164ac3ee97795a5e6825"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "d410392710010f4056fdcbfd9686cd845621b602", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=96ad5df6db65383330cba79ed823a0256e750033", "patch": "@@ -1,3 +1,9 @@\n+2016-12-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/78279\n+\t* dependency.c (identical_array_ref): Convert gcc_assert to conditional\n+\tand gfc_internal_error.\n+\n 2016-11-30  Andre Vehreschild  <vehre@gcc.gnu.org>\n \n \t* check.c (gfc_check_allocated): By pass the caf_get call and check on"}, {"sha": "4a3c1a793c15aefdb3f6947689d21ccc13ea8530", "filename": "gcc/fortran/dependency.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ffortran%2Fdependency.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ffortran%2Fdependency.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdependency.c?ref=96ad5df6db65383330cba79ed823a0256e750033", "patch": "@@ -101,7 +101,9 @@ identical_array_ref (gfc_array_ref *a1, gfc_array_ref *a2)\n \n   if (a1->type == AR_ELEMENT && a2->type == AR_ELEMENT)\n     {\n-      gcc_assert (a1->dimen == a2->dimen);\n+      if (a1->dimen != a2->dimen)\n+\tgfc_internal_error (\"identical_array_ref(): inconsistent dimensions\");\n+\n       for (i = 0; i < a1->dimen; i++)\n \t{\n \t  if (gfc_dep_compare_expr (a1->start[i], a2->start[i]) != 0)"}, {"sha": "321a48a8eab40a974a5aee9e9fffc441964d2b67", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=96ad5df6db65383330cba79ed823a0256e750033", "patch": "@@ -1,3 +1,8 @@\n+2016-12-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/78279\n+\t* gfortran.dg/pr78279.f90: New test.\n+\n 2016-12-01  David Edelsohn  <dje.gcc@gmail.com>\n \n \t* g++.dg/tls/pr77285-1.C: dg-add-options tls"}, {"sha": "cb0175295a172f568d63a5bec8ab18025a1f3731", "filename": "gcc/testsuite/gfortran.dg/pr78279.f90", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr78279.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/96ad5df6db65383330cba79ed823a0256e750033/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr78279.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr78279.f90?ref=96ad5df6db65383330cba79ed823a0256e750033", "patch": "@@ -0,0 +1,10 @@\n+! { dg-do compile }\n+! { dg-options \"-Ofast\" }\n+program p\n+   integer :: i\n+   real :: z(2,4)\n+   z = 0.0\n+   do i = 1, 3\n+      if ( z(i) > z(1,i+1) ) print *, i   ! { dg-error \"mismatch in array reference\" }\n+   end do\n+end"}]}