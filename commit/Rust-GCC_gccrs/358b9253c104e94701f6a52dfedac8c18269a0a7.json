{"sha": "358b9253c104e94701f6a52dfedac8c18269a0a7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzU4YjkyNTNjMTA0ZTk0NzAxZjZhNTJkZmVkYWM4YzE4MjY5YTBhNw==", "commit": {"author": {"name": "Dodji Seketeli", "email": "dodji@redhat.com", "date": "2012-01-02T17:00:13Z"}, "committer": {"name": "Dodji Seketeli", "email": "dodji@gcc.gnu.org", "date": "2012-01-02T17:00:13Z"}, "message": "PR c++/51462 - ICE in cx_check_missing_mem_inits\n\ngcc/cp/\n\n\tPR c++/51462\n\t* semantics.c (cx_check_missing_mem_inits): Don't assert in case\n\tof error.\n\ngcc/testsuite/\n\n\tPR c++/51462\n\t* g++.dg/cpp0x/constexpr-99.C: New test.\n\nFrom-SVN: r182806", "tree": {"sha": "300d1973c06fcc341b47db22c7e33d997577963f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/300d1973c06fcc341b47db22c7e33d997577963f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/358b9253c104e94701f6a52dfedac8c18269a0a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358b9253c104e94701f6a52dfedac8c18269a0a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/358b9253c104e94701f6a52dfedac8c18269a0a7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358b9253c104e94701f6a52dfedac8c18269a0a7/comments", "author": null, "committer": null, "parents": [{"sha": "7d510a821a48a208b224a0f5e73fb2a3e48a583e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d510a821a48a208b224a0f5e73fb2a3e48a583e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d510a821a48a208b224a0f5e73fb2a3e48a583e"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "23f3ae020a3f1e255d3ff0e0097b55ba2acbf4b0", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=358b9253c104e94701f6a52dfedac8c18269a0a7", "patch": "@@ -1,3 +1,9 @@\n+2012-01-02  Dodji Seketeli  <dodji@redhat.com>\n+\n+\tPR c++/51462\n+\t* semantics.c (cx_check_missing_mem_inits): Don't assert in case\n+    \tof error.\n+\n 2012-01-02  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/20140"}, {"sha": "55b0a0215eaa264b81395ed737f4eb89f9f5692f", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=358b9253c104e94701f6a52dfedac8c18269a0a7", "patch": "@@ -6051,7 +6051,8 @@ cx_check_missing_mem_inits (tree fun, tree body, bool complain)\n \t      /* It's OK to skip a member with a trivial constexpr ctor.\n \t         A constexpr ctor that isn't trivial should have been\n \t         added in by now.  */\n-\t      gcc_checking_assert (!TYPE_HAS_COMPLEX_DFLT (ftype));\n+\t      gcc_checking_assert (!TYPE_HAS_COMPLEX_DFLT (ftype)\n+\t\t\t\t   || errorcount != 0);\n \t      continue;\n \t    }\n \t  error (\"uninitialized member %qD in %<constexpr%> constructor\","}, {"sha": "ad865dbbbe5321780c722fd20c5477861808eeb4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=358b9253c104e94701f6a52dfedac8c18269a0a7", "patch": "@@ -1,3 +1,8 @@\n+2012-01-02  Dodji Seketeli  <dodji@redhat.com>\n+\n+\tPR c++/51462\n+\t* g++.dg/cpp0x/constexpr-99.C: New test.\n+\n 2012-01-02  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/20140"}, {"sha": "13a5ea3e6c2ac46567be040cf17df15304b42b51", "filename": "gcc/testsuite/g++.dg/cpp0x/constexpr-99.C", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-99.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358b9253c104e94701f6a52dfedac8c18269a0a7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-99.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fconstexpr-99.C?ref=358b9253c104e94701f6a52dfedac8c18269a0a7", "patch": "@@ -0,0 +1,13 @@\n+// Origin PR c++/51462\n+// { dg-options \"-std=c++11\" }\n+\n+struct A\n+{\n+  int i = 0;\n+};\n+\n+struct B\n+{\n+  A a;\n+    constexpr B() : a(0) {} // { dg-error \"no matching function\" }\n+};"}]}