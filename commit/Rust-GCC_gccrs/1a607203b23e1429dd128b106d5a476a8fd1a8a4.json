{"sha": "1a607203b23e1429dd128b106d5a476a8fd1a8a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWE2MDcyMDNiMjNlMTQyOWRkMTI4YjEwNmQ1YTQ3NmE4ZmQxYThhNA==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@imgtec.com", "date": "2015-06-02T17:12:16Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2015-06-02T17:12:16Z"}, "message": "test_installed (--target=): New option.\n\n2015-06-02  Steve Ellcey  <sellcey@imgtec.com>\n\n\t* test_installed (--target=): New option.\n\nFrom-SVN: r224034", "tree": {"sha": "c5597f2310f4f256698d91129727befc601a4e1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c5597f2310f4f256698d91129727befc601a4e1a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a607203b23e1429dd128b106d5a476a8fd1a8a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a607203b23e1429dd128b106d5a476a8fd1a8a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a607203b23e1429dd128b106d5a476a8fd1a8a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a607203b23e1429dd128b106d5a476a8fd1a8a4/comments", "author": null, "committer": null, "parents": [{"sha": "c2d474827dbd15616799ea703ea39659d7222dce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2d474827dbd15616799ea703ea39659d7222dce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2d474827dbd15616799ea703ea39659d7222dce"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "f3ccc93d4417be13ee7569a086accae4bccfc6ad", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a607203b23e1429dd128b106d5a476a8fd1a8a4/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a607203b23e1429dd128b106d5a476a8fd1a8a4/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=1a607203b23e1429dd128b106d5a476a8fd1a8a4", "patch": "@@ -1,3 +1,7 @@\n+2015-06-02  Steve Ellcey  <sellcey@imgtec.com>\n+\n+\t* test_installed (--target=): New option.\n+\n 2015-05-30  Mikhail Maltsev  <maltsevm@gmail.com>\n \n \t* gimple.vim: New file."}, {"sha": "54a8396bb46ecb9508041102a3c075513ff2dd7d", "filename": "contrib/test_installed", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a607203b23e1429dd128b106d5a476a8fd1a8a4/contrib%2Ftest_installed", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a607203b23e1429dd128b106d5a476a8fd1a8a4/contrib%2Ftest_installed", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftest_installed?ref=1a607203b23e1429dd128b106d5a476a8fd1a8a4", "patch": "@@ -46,7 +46,7 @@ while true; do\n   case \"$1\" in\n   --with-testsuite=*) testsuite=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n   --srcdir=*) srcdir=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n-\n+  --target=*) target=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n   --prefix=*) prefix=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n   --with-gcc=*) GCC_UNDER_TEST=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n   --with-g++=*) GXX_UNDER_TEST=`echo \"$1\" | sed 's/[^=]*=//'`; shift;;\n@@ -71,6 +71,9 @@ Supported arguments:\n --srcdir=/some/dir            same as --with-testsuite=/some/dir/gcc/testsuite\n                               [deduced from shell-script pathname]\n \n+--target=triplet              The target architecture of the compiler being\n+                              tested if different than the host.\n+\n --prefix=/some/dir            use gcc, g++ and gfortran from /some/dir/bin [PATH]\n --with-gcc=/some/dir/bin/gcc  use specified gcc program [gcc]\n --with-g++=/some/dir/bin/g++  use specified g++ program [g++]\n@@ -112,6 +115,10 @@ set GXX_UNDER_TEST \"${GXX_UNDER_TEST-${prefix}${prefix+/bin/}g++}\"\n set GFORTRAN_UNDER_TEST \"${GFORTRAN_UNDER_TEST-${prefix}${prefix+/bin/}gfortran}\"\n set OBJC_UNDER_TEST \"${OBJC_UNDER_TEST-${prefix}${prefix+/bin/}gcc}\"\n EOF\n+if test x${target} != x; then\n+  echo \"set target_triplet $target\" >> site.exp\n+  echo \"set target_alias $target\" >> site.exp\n+fi\n \n test x\"${GCC_UNDER_TEST}\" = x\"no\" || runtest --tool gcc ${1+\"$@\"}\n test x\"${GXX_UNDER_TEST}\" = x\"no\" || runtest --tool g++ ${1+\"$@\"}"}]}