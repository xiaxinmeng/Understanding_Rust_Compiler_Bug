{"sha": "3dac0de51f62b67c842e8dc1092043ee63c49c7b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2RhYzBkZTUxZjYyYjY3Yzg0MmU4ZGMxMDkyMDQzZWU2M2M0OWM3Yg==", "commit": {"author": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1993-01-15T00:19:10Z"}, "committer": {"name": "Brendan Kehoe", "email": "brendan@gcc.gnu.org", "date": "1993-01-15T00:19:10Z"}, "message": "cccp.c (main): Trim down to the basename of what's to go in PROGNAME.\n\n        * cccp.c (main): Trim down to the basename of what's to go in\n        PROGNAME.\n\nFrom-SVN: r3248", "tree": {"sha": "4ef34e30782df47889d85199bea48f7317ff2509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ef34e30782df47889d85199bea48f7317ff2509"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3dac0de51f62b67c842e8dc1092043ee63c49c7b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3dac0de51f62b67c842e8dc1092043ee63c49c7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3dac0de51f62b67c842e8dc1092043ee63c49c7b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3dac0de51f62b67c842e8dc1092043ee63c49c7b/comments", "author": null, "committer": null, "parents": [{"sha": "96f66730d8fe6f2523ca16c4e5cb632b2011a797", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96f66730d8fe6f2523ca16c4e5cb632b2011a797", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96f66730d8fe6f2523ca16c4e5cb632b2011a797"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "6a7eb59f64705eaaeace0f09724ee200de7aa4ac", "filename": "gcc/cccp.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3dac0de51f62b67c842e8dc1092043ee63c49c7b/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3dac0de51f62b67c842e8dc1092043ee63c49c7b/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=3dac0de51f62b67c842e8dc1092043ee63c49c7b", "patch": "@@ -989,7 +989,10 @@ main (argc, argv)\n \n   signal (SIGPIPE, pipe_closed);\n \n-  progname = argv[0];\n+  p = argv[0] + strlen (argv[0]);\n+  while (p != argv[0] && p[-1] != '/') --p;\n+  progname = p;\n+\n #ifdef VMS\n   {\n     /* Remove directories from PROGNAME.  */"}]}