{"sha": "1763ec9b20c0146a5a47f2259a44db1fbb9c923a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTc2M2VjOWIyMGMwMTQ2YTVhNDdmMjI1OWE0NGRiMWZiYjljOTIzYQ==", "commit": {"author": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-08-20T09:03:10Z"}, "committer": {"name": "Christophe Lyon", "email": "christophe.lyon@linaro.org", "date": "2020-08-20T09:12:58Z"}, "message": "testsuite: Remove test for arm32 in arm_soft_ok\n\nThere is no reason to check for arm32 when checking for\n-mfloat=abi-soft support. Instead this implies skipping some tests\nwhen targetting a thumb-1 cpu, while they pass.\n\nThis patch removes the arm32 check, and uses the same skeleton as\narm_softfp_ok and arm_hard_ok.\n\n2020-08-20  Christophe Lyon  <christophe.lyon@linaro.org>\n\n\tgcc/testsuite/\n\t* lib/target-supports.exp (arm_soft_ok): Remove arm32 check.", "tree": {"sha": "dfd619c55e9eb089e994977f96f2b754e1e32e4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfd619c55e9eb089e994977f96f2b754e1e32e4f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1763ec9b20c0146a5a47f2259a44db1fbb9c923a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1763ec9b20c0146a5a47f2259a44db1fbb9c923a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1763ec9b20c0146a5a47f2259a44db1fbb9c923a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1763ec9b20c0146a5a47f2259a44db1fbb9c923a/comments", "author": null, "committer": null, "parents": [{"sha": "3f678b4c20bb4e3adef7498aacc5519dfe78a894", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f678b4c20bb4e3adef7498aacc5519dfe78a894", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f678b4c20bb4e3adef7498aacc5519dfe78a894"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "c24330a27ab41f38907796187d9cb70b96e54e6d", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1763ec9b20c0146a5a47f2259a44db1fbb9c923a/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1763ec9b20c0146a5a47f2259a44db1fbb9c923a/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=1763ec9b20c0146a5a47f2259a44db1fbb9c923a", "patch": "@@ -3639,13 +3639,11 @@ proc check_effective_target_arm_vect_no_misalign { } {\n # multilibs may be incompatible with this option.\n \n proc check_effective_target_arm_soft_ok { } {\n-    if { [check_effective_target_arm32] } {\n-\treturn [check_no_compiler_messages arm_soft_ok executable {\n-\t    int main() { return 0;}\n+    return [check_no_compiler_messages arm_soft_ok object {\n+\t#include <stdint.h>\n+\tint dummy;\n+\tint main (void) { return 0; }\n \t} \"-mfloat-abi=soft\"]\n-    } else {\n-\treturn 0\n-    }\n }\n \n # Return 1 if this is an ARM target supporting -mfpu=vfp with an"}]}