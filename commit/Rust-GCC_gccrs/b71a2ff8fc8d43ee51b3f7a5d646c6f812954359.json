{"sha": "b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjcxYTJmZjhmYzhkNDNlZTUxYjNmN2E1ZDY0NmM2ZjgxMjk1NDM1OQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-11-15T06:18:36Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-11-15T06:18:36Z"}, "message": "gcse.c (delete_null_pointer_checks_1): Kill unused s_preds argument.\n\n        * gcse.c (delete_null_pointer_checks_1): Kill unused s_preds\n        argument.  All callers changed.\n        (delete_null_pointer_checks_1): No longer need to compute the\n        pred/succ lists.\n\nFrom-SVN: r30529", "tree": {"sha": "1b2790c92978200ca5800a6f1b510122dd24e81a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b2790c92978200ca5800a6f1b510122dd24e81a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359/comments", "author": null, "committer": null, "parents": [{"sha": "89e606c9661b3f674bebc198ece46e9ef1a41c65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89e606c9661b3f674bebc198ece46e9ef1a41c65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89e606c9661b3f674bebc198ece46e9ef1a41c65"}], "stats": {"total": 30, "additions": 8, "deletions": 22}, "files": [{"sha": "4222fd6a5c08aeb151bff606fe36082a391f902e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "patch": "@@ -1,5 +1,10 @@\n Sun Nov 14 23:11:05 1999  Jeffrey A Law  (law@cygnus.com)\n \n+\t* gcse.c (delete_null_pointer_checks_1): Kill unused s_preds\n+\targument.  All callers changed.\n+\t(delete_null_pointer_checks_1): No longer need to compute the\n+\tpred/succ lists.\n+\n \t* gcse.c (pre_expr_reaches_here_p): Kill CHECK_PRE_COM argument.\n \tAll callers changed.\n \t(pre_expr_reaches_here_p_work): Likewise."}, {"sha": "73f83734465a1eac854812dec123d11f597bb0f5", "filename": "gcc/gcse.c", "status": "modified", "additions": 3, "deletions": 22, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b71a2ff8fc8d43ee51b3f7a5d646c6f812954359/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=b71a2ff8fc8d43ee51b3f7a5d646c6f812954359", "patch": "@@ -633,8 +633,7 @@ static int handle_avail_expr\t  PROTO ((rtx, struct expr *));\n static int classic_gcse\t       PROTO ((void));\n static int one_classic_gcse_pass      PROTO ((int));\n static void invalidate_nonnull_info\tPROTO ((rtx, rtx, void *));\n-static void delete_null_pointer_checks_1 PROTO ((int_list_ptr *, int *, \n-\t\t\t\t\t\t sbitmap *, sbitmap *,\n+static void delete_null_pointer_checks_1 PROTO ((int *, sbitmap *, sbitmap *,\n \t\t\t\t\t\t struct null_pointer_info *));\n static rtx process_insert_insn\tPROTO ((struct expr *));\n static int pre_edge_insert\tPROTO ((struct edge_list *, struct expr **));\n@@ -4977,9 +4976,7 @@ invalidate_nonnull_info (x, setter, data)\n    they are not our responsibility to free.  */\n \n static void\n-delete_null_pointer_checks_1 (s_preds, block_reg, nonnull_avin, \n-\t\t\t      nonnull_avout, npi)\n-     int_list_ptr *s_preds;\n+delete_null_pointer_checks_1 (block_reg, nonnull_avin, nonnull_avout, npi)\n      int *block_reg;\n      sbitmap *nonnull_avin;\n      sbitmap *nonnull_avout;\n@@ -5143,8 +5140,6 @@ void\n delete_null_pointer_checks (f)\n      rtx f;\n {\n-  int_list_ptr *s_preds, *s_succs;\n-  int *num_preds, *num_succs;\n   sbitmap *nonnull_avin, *nonnull_avout;\n   int *block_reg;\n   int bb;\n@@ -5179,14 +5174,6 @@ delete_null_pointer_checks (f)\n       return;\n     }\n \n-  /* We need predecessor/successor lists as well as pred/succ counts for\n-     each basic block.  */\n-  s_preds = (int_list_ptr *) gmalloc (n_basic_blocks * sizeof (int_list_ptr));\n-  s_succs = (int_list_ptr *) gmalloc (n_basic_blocks * sizeof (int_list_ptr));\n-  num_preds = (int *) gmalloc (n_basic_blocks * sizeof (int));\n-  num_succs = (int *) gmalloc (n_basic_blocks * sizeof (int));\n-  compute_preds_succs (s_preds, s_succs, num_preds, num_succs);\n-\n   /* We need four bitmaps, each with a bit for each register in each\n      basic block.  */\n   max_reg = max_reg_num ();\n@@ -5238,19 +5225,13 @@ delete_null_pointer_checks (f)\n     {\n       npi.min_reg = reg;\n       npi.max_reg = MIN (reg + regs_per_pass, max_reg);\n-      delete_null_pointer_checks_1 (s_preds, block_reg, nonnull_avin,\n+      delete_null_pointer_checks_1 (block_reg, nonnull_avin,\n \t\t\t\t    nonnull_avout, &npi);\n     }\n \n   /* Free storage allocated by find_basic_blocks.  */\n   free_basic_block_vars (0);\n \n-  /* Free our local predecessor/successor lists. */\n-  free (s_preds);\n-  free (s_succs);\n-  free (num_preds);\n-  free (num_succs);\n-\n   /* Free the table of registers compared at the end of every block.  */\n   free (block_reg);\n "}]}