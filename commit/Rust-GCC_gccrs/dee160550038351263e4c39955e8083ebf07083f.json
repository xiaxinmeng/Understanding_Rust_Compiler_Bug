{"sha": "dee160550038351263e4c39955e8083ebf07083f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVlMTYwNTUwMDM4MzUxMjYzZTRjMzk5NTVlODA4M2ViZjA3MDgzZg==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2012-04-11T22:01:42Z"}, "committer": {"name": "Andreas Schwab", "email": "schwab@gcc.gnu.org", "date": "2012-04-11T22:01:42Z"}, "message": "m68k.md (rotrhi3+1): Name it rotrhi_lowpart.\n\n* gcc/config/m68k/m68k.md (rotrhi3+1): Name it rotrhi_lowpart.\n(bswapsi2): New expander.\n\nFrom-SVN: r186361", "tree": {"sha": "47c3626c654483298a3ef5bd85ce20d1f456081b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/47c3626c654483298a3ef5bd85ce20d1f456081b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dee160550038351263e4c39955e8083ebf07083f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dee160550038351263e4c39955e8083ebf07083f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dee160550038351263e4c39955e8083ebf07083f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dee160550038351263e4c39955e8083ebf07083f/comments", "author": null, "committer": null, "parents": [{"sha": "dcc73abf1f9dfa2689ff4537b4e7f724be535aef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dcc73abf1f9dfa2689ff4537b4e7f724be535aef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dcc73abf1f9dfa2689ff4537b4e7f724be535aef"}], "stats": {"total": 56, "additions": 37, "deletions": 19}, "files": [{"sha": "7c6e79234bef856d4eae561adad881477dd362da", "filename": "gcc/ChangeLog", "status": "modified", "additions": 22, "deletions": 17, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dee160550038351263e4c39955e8083ebf07083f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dee160550038351263e4c39955e8083ebf07083f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dee160550038351263e4c39955e8083ebf07083f", "patch": "@@ -1,3 +1,8 @@\n+2012-04-11  Andreas Schwab  <schwab@linux-m68k.org>\n+\n+\t* config/m68k/m68k.md (rotrhi3+1): Name it rotrhi_lowpart.\n+\t(bswapsi2): New expander.\n+\n 2012-04-11  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/host-linux.c (TRY_EMPTY_VM_SPACE): Defined to\n@@ -10,7 +15,7 @@\n \tDon't call mark_reg_pointer for incompatible pointer sign\n \textension.\n \n-\t* reginfo.c (reg_scan_mark_refs): Call set_reg_attrs_from_value \n+\t* reginfo.c (reg_scan_mark_refs): Call set_reg_attrs_from_value\n \tdirectly.\n \n 2012-04-11  Bernd Schmidt  <bernds@codesourcery.com>\n@@ -159,24 +164,24 @@\n 2012-04-11  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n \n \tPR 24985\n-        * diagnostic.h (show_caret): Declare.\n+\t* diagnostic.h (show_caret): Declare.\n \t(caret_max_width): Declare.\n \t(diagnostic_show_locus): Declare.\n-        * diagnostic.c (diagnostic_initialize): Initialize to false.\n-        (diagnostic_show_locus): New.\n-        (diagnostic_report_diagnostic): Call it.\n+\t* diagnostic.c (diagnostic_initialize): Initialize to false.\n+\t(diagnostic_show_locus): New.\n+\t(diagnostic_report_diagnostic): Call it.\n \t(getenv_columns): New.\n \t(adjust_line): New.\n \t(diagnostic_set_caret_max_width): New.\n-        * input.c (read_line): New.\n+\t* input.c (read_line): New.\n \t(location_get_source_line): New.\n-        * input.h (location_get_source_line): Declare.\n-        * toplev.c (general_init): Initialize show_caret from options.\n-        * dwarf2out.c (gen_producer_string): Handle fdiagnostics-show-caret.\n-        * opts.c (common_handle_option): Likewise.\n+\t* input.h (location_get_source_line): Declare.\n+\t* toplev.c (general_init): Initialize show_caret from options.\n+\t* dwarf2out.c (gen_producer_string): Handle fdiagnostics-show-caret.\n+\t* opts.c (common_handle_option): Likewise.\n \t* pretty-print.h (pp_get_prefix): New.\n \t(pp_base_get_prefix): New.\n-        * common.opt (fdiagnostics-show-caret): New option.\n+\t* common.opt (fdiagnostics-show-caret): New option.\n \t* doc/invoke.texi (fdiagnostics-show-caret): Document it.\n \n 2012-04-11  Richard Guenther  <rguenther@suse.de>\n@@ -304,7 +309,7 @@\n \n \tPR lto/52722\n \tPR lto/51765\n-\tPR lto/52634\t\n+\tPR lto/52634\n \t* lto-cgraph.c (compute_ltrans_boundary): When alias is in the boundary,\n \tadd its target too.\n \t* lto.c (add_references_to_partition): Add also aliased nodes.\n@@ -548,14 +553,14 @@\n 2012-04-03  Sandeep Kumar Singh  <Sandeep.Singh2@kpitcummins.com>\n \n \t* h8300/h8300.c (h8300_current_function_monitor_function_p):\n-\tNew function. Added to check monitor functions. \n-\t(h8300_option_override): Modified to generate error/warning \n-\tmessages for invalid combinations of different command line \n+\tNew function. Added to check monitor functions.\n+\t(h8300_option_override): Modified to generate error/warning\n+\tmessages for invalid combinations of different command line\n \toptions.\n \t* h8300/h8300.md: Generate 'rte' for monitor functions. Do not\n-\tsave EXR on stack for monitor function in case of H8S target \n+\tsave EXR on stack for monitor function in case of H8S target\n \twhen \"-mno-exr\" is passed.\n-\t* h8300/h8300-protos.h \n+\t* h8300/h8300-protos.h\n \t(h8300_current_function_monitor_function_p): Add prototype.\n \t* doc/invoke.texi: Document H8S options.\n "}, {"sha": "8104e75492bbfe2dc0610e538310054955997956", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dee160550038351263e4c39955e8083ebf07083f/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dee160550038351263e4c39955e8083ebf07083f/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=dee160550038351263e4c39955e8083ebf07083f", "patch": "@@ -1,6 +1,6 @@\n ;;- Machine description for GNU compiler, Motorola 68000 Version\n ;;  Copyright (C) 1987, 1988, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2001,\n-;;  2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009\n+;;  2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2012\n ;;  Free Software Foundation, Inc.\n \n ;; This file is part of GCC.\n@@ -5475,7 +5475,7 @@\n   \"!TARGET_COLDFIRE\"\n   \"ror%.w %2,%0\")\n \n-(define_insn \"\"\n+(define_insn \"rotrhi_lowpart\"\n   [(set (strict_low_part (match_operand:HI 0 \"register_operand\" \"+d\"))\n \t(rotatert:HI (match_dup 0)\n \t\t     (match_operand:HI 1 \"general_operand\" \"dI\")))]\n@@ -5495,6 +5495,19 @@\n \t\t     (match_operand:QI 1 \"general_operand\" \"dI\")))]\n   \"!TARGET_COLDFIRE\"\n   \"ror%.b %1,%0\")\n+\n+(define_expand \"bswapsi2\"\n+  [(set (match_operand:SI 0 \"register_operand\")\n+\t(bswap:SI (match_operand:SI 1 \"register_operand\")))]\n+  \"!TARGET_COLDFIRE\"\n+{\n+  rtx x = operands[0];\n+  emit_move_insn (x, operands[1]);\n+  emit_insn (gen_rotrhi_lowpart (gen_lowpart (HImode, x), GEN_INT (8)));\n+  emit_insn (gen_rotlsi3 (x, x, GEN_INT (16)));\n+  emit_insn (gen_rotrhi_lowpart (gen_lowpart (HImode, x), GEN_INT (8)));\n+  DONE;\n+})\n \f\n \n ;; Bit set/clear in memory byte."}]}