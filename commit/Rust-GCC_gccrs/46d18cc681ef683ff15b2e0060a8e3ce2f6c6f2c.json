{"sha": "46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDZkMThjYzY4MWVmNjgzZmYxNWIyZTAwNjBhOGUzY2UyZjZjNmYyYw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-11-13T20:08:16Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-11-13T20:08:16Z"}, "message": "fix\n\nFrom-SVN: r23646", "tree": {"sha": "06f04508a5dbdc6a3738eb8cd7f6992b3d508e9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06f04508a5dbdc6a3738eb8cd7f6992b3d508e9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c/comments", "author": null, "committer": null, "parents": [{"sha": "f99f88e0d00af73f31599ab56b2e83468100b0d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f99f88e0d00af73f31599ab56b2e83468100b0d0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f99f88e0d00af73f31599ab56b2e83468100b0d0"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "48ae6006f10bddf51e62ea69c314ebe48af5e73d", "filename": "gcc/testsuite/g++.old-deja/g++.bugs/900322_01.C", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900322_01.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900322_01.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900322_01.C?ref=46d18cc681ef683ff15b2e0060a8e3ce2f6c6f2c", "patch": "@@ -1,5 +1,7 @@\n // g++ 1.37.1 bug 900322_01\n \n+// ** Old, obsolete commentary:\n+// **************************************************************************\n // The ANSI C standard, in section 3.1.2.5 (first paragraph) differentiates\n // types into three disjoint sets, i.e object types, function types, and\n // incomplete types.\n@@ -19,6 +21,14 @@\n \n // g++ fails to flag all of the indicated statements with errors (even when\n // the -pedantic option is used).\n+// **************************************************************************\n+\n+// The above commentary is wrong.  (jason 1998/11/13)\n+// In fact, the lines marked OK are well-formed; the prohibition is only\n+// against forming array types with multiple unknown bounds.  This prohibition\n+// is found in 8.3.4 [dcl.array].\n+\n+// It is also ill-formed to create an object of incomplete type.\n \n // keywords: incomplete types, arrays, element types\n \n@@ -36,16 +46,16 @@ typedef int_one_d_type int_two_d_type[];// ERROR - invalid declaration\n \n struct s;\n \n-extern struct s extern_s_array [10];\t// ERROR - , XFAIL *-*-*\n-struct s tenative_s_array [10];\t\t// ERROR - caught by g++ \n-static struct s static_s_array [10];\t// ERROR - caught by g++\n+extern struct s extern_s_array [10];\t// OK\n+struct s tenative_s_array [10];\t\t// ERROR - object with incomplete type\n+static struct s static_s_array [10];\t// ERROR - object with incomplete type\n \n-struct s (*pointer_to_s_array) [];\t// ERROR - , XFAIL *-*-*\n+struct s (*pointer_to_s_array) [];\t// OK\n \n-void function_1 (struct s arg []) {\t// ERROR - , XFAIL *-*-*\n+void function_1 (struct s arg []) {\t// OK\n }\n \n typedef struct s s_type;\n-typedef s_type s_one_d_type [10];\t// ERROR - , XFAIL *-*-*\n+typedef s_type s_one_d_type [10];\t// OK\n \n int main () { return 0; }"}]}