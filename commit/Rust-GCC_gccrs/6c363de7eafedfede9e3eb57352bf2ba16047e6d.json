{"sha": "6c363de7eafedfede9e3eb57352bf2ba16047e6d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmMzNjNkZTdlYWZlZGZlZGU5ZTNlYjU3MzUyYmYyYmExNjA0N2U2ZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2003-11-18T17:56:33Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2003-11-18T17:56:33Z"}, "message": "jni.cc (_Jv_JNI_GetStringUTFChars): Fail gracefully if string is null.\n\n\t* jni.cc (_Jv_JNI_GetStringUTFChars): Fail gracefully if string\n\tis null.\n\nFrom-SVN: r73707", "tree": {"sha": "5563e6839de77f226986a446f01a44992d6c0531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5563e6839de77f226986a446f01a44992d6c0531"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6c363de7eafedfede9e3eb57352bf2ba16047e6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c363de7eafedfede9e3eb57352bf2ba16047e6d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c363de7eafedfede9e3eb57352bf2ba16047e6d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c363de7eafedfede9e3eb57352bf2ba16047e6d/comments", "author": null, "committer": null, "parents": [{"sha": "b9c5315018a258574309d05df7f092868b508eae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9c5315018a258574309d05df7f092868b508eae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9c5315018a258574309d05df7f092868b508eae"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "68b32b125bc1720c24e4990eeaf5298cd6fd8a83", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c363de7eafedfede9e3eb57352bf2ba16047e6d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c363de7eafedfede9e3eb57352bf2ba16047e6d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=6c363de7eafedfede9e3eb57352bf2ba16047e6d", "patch": "@@ -1,3 +1,8 @@\n+2003-11-18  Tom Tromey  <tromey@redhat.com>\n+\n+\t* jni.cc (_Jv_JNI_GetStringUTFChars): Fail gracefully if string\n+\tis null.\n+\n 2003-11-17  Graydon Hoare  <graydon@redhat.com>\n \n \t* javax/swing/plaf/basic/BasicDefaults.java: Rewrite to spec."}, {"sha": "007aabc40085a89668b227b5ac37dc21e2e9bc27", "filename": "libjava/jni.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6c363de7eafedfede9e3eb57352bf2ba16047e6d/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6c363de7eafedfede9e3eb57352bf2ba16047e6d/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=6c363de7eafedfede9e3eb57352bf2ba16047e6d", "patch": "@@ -1298,10 +1298,12 @@ static const char *\n (JNICALL _Jv_JNI_GetStringUTFChars) (JNIEnv *env, jstring string, \n                                      jboolean *isCopy)\n {\n-  string = unwrap (string);\n-  jsize len = JvGetStringUTFLength (string);\n   try\n     {\n+      string = unwrap (string);\n+      if (string == NULL)\n+\treturn NULL;\n+      jsize len = JvGetStringUTFLength (string);\n       char *r = (char *) _Jv_Malloc (len + 1);\n       JvGetStringUTFRegion (string, 0, string->length(), r);\n       r[len] = '\\0';"}]}