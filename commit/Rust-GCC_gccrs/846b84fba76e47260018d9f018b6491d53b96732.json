{"sha": "846b84fba76e47260018d9f018b6491d53b96732", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODQ2Yjg0ZmJhNzZlNDcyNjAwMThkOWYwMThiNjQ5MWQ1M2I5NjczMg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2017-11-13T19:07:26Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2017-11-13T19:07:26Z"}, "message": "libcpp: move line typedef and column-numbering comment to top of file\n\nThe description of our 1-based column-numbering convention was in\na non-obvious place withn line-map.h; this patch moves it to the top\nof that header.\n\nlibcpp/ChangeLog:\n\t* include/line-map.h (linenum_type): Move this typedef and the\n\tcomment describing column numbering to near the top of the file.\n\nFrom-SVN: r254703", "tree": {"sha": "eaf090546b663d75935df3bf361aeeec6cb2fec0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eaf090546b663d75935df3bf361aeeec6cb2fec0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/846b84fba76e47260018d9f018b6491d53b96732", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/846b84fba76e47260018d9f018b6491d53b96732", "html_url": "https://github.com/Rust-GCC/gccrs/commit/846b84fba76e47260018d9f018b6491d53b96732", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/846b84fba76e47260018d9f018b6491d53b96732/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4119b2eb4417054c98e0960a5dbe91284bdacdbf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4119b2eb4417054c98e0960a5dbe91284bdacdbf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4119b2eb4417054c98e0960a5dbe91284bdacdbf"}], "stats": {"total": 51, "additions": 28, "deletions": 23}, "files": [{"sha": "35bcef907451c014efbf09f52d2c3e84d520739f", "filename": "libcpp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/846b84fba76e47260018d9f018b6491d53b96732/libcpp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/846b84fba76e47260018d9f018b6491d53b96732/libcpp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2FChangeLog?ref=846b84fba76e47260018d9f018b6491d53b96732", "patch": "@@ -1,3 +1,8 @@\n+2017-11-13  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* include/line-map.h (linenum_type): Move this typedef and the\n+\tcomment describing column numbering to near the top of the file.\n+\n 2017-11-06  Mukesh Kapoor  <mukesh.kapoor@oracle.com>\n \n \tPR c++/80955"}, {"sha": "8b7e5dcd0ae5ce474cc659343057fcc18218a3da", "filename": "libcpp/include/line-map.h", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/846b84fba76e47260018d9f018b6491d53b96732/libcpp%2Finclude%2Fline-map.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/846b84fba76e47260018d9f018b6491d53b96732/libcpp%2Finclude%2Fline-map.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcpp%2Finclude%2Fline-map.h?ref=846b84fba76e47260018d9f018b6491d53b96732", "patch": "@@ -26,6 +26,29 @@ along with this program; see the file COPYING3.  If not see\n #define GTY(x) /* nothing */\n #endif\n \n+/* Both gcc and emacs number source *lines* starting at 1, but\n+   they have differing conventions for *columns*.\n+\n+   GCC uses a 1-based convention for source columns,\n+   whereas Emacs's M-x column-number-mode uses a 0-based convention.\n+\n+   For example, an error in the initial, left-hand\n+   column of source line 3 is reported by GCC as:\n+\n+      some-file.c:3:1: error: ...etc...\n+\n+   On navigating to the location of that error in Emacs\n+   (e.g. via \"next-error\"),\n+   the locus is reported in the Mode Line\n+   (assuming M-x column-number-mode) as:\n+\n+     some-file.c   10%   (3, 0)\n+\n+   i.e. \"3:1:\" in GCC corresponds to \"(3, 0)\" in Emacs.  */\n+\n+/* The type of line numbers.  */\n+typedef unsigned int linenum_type;\n+\n /* Reason for creating a new line map with linemap_add.  LC_ENTER is\n    when including a new file, e.g. a #include directive in C.\n    LC_LEAVE is when reaching a file's end.  LC_RENAME is when a file\n@@ -43,9 +66,6 @@ enum lc_reason\n   /* FIXME: add support for stringize and paste.  */\n };\n \n-/* The type of line numbers.  */\n-typedef unsigned int linenum_type;\n-\n /* The typedef \"source_location\" is a key within the location database,\n    identifying a source location or macro expansion, along with range\n    information, and (optionally) a pointer for use by gcc.\n@@ -1251,26 +1271,6 @@ typedef struct\n   bool sysp;\n } expanded_location;\n \n-/* Both gcc and emacs number source *lines* starting at 1, but\n-   they have differing conventions for *columns*.\n-\n-   GCC uses a 1-based convention for source columns,\n-   whereas Emacs's M-x column-number-mode uses a 0-based convention.\n-\n-   For example, an error in the initial, left-hand\n-   column of source line 3 is reported by GCC as:\n-\n-      some-file.c:3:1: error: ...etc...\n-\n-   On navigating to the location of that error in Emacs\n-   (e.g. via \"next-error\"),\n-   the locus is reported in the Mode Line\n-   (assuming M-x column-number-mode) as:\n-\n-     some-file.c   10%   (3, 0)\n-\n-   i.e. \"3:1:\" in GCC corresponds to \"(3, 0)\" in Emacs.  */\n-\n /* A location within a rich_location: a caret&range, with\n    the caret potentially flagged for display.  */\n "}]}