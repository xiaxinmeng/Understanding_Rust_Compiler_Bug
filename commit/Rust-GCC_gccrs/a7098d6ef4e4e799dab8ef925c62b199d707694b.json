{"sha": "a7098d6ef4e4e799dab8ef925c62b199d707694b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTcwOThkNmVmNGU0ZTc5OWRhYjhlZjkyNWM2MmIxOTlkNzA3Njk0Yg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@adacore.com", "date": "2021-07-14T01:25:56Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gnu.org", "date": "2021-07-14T01:28:25Z"}, "message": "fix typo in attr_fnspec::verify\n\nOdd-numbered indices describing argument access sizes in the fnspec\nstring can only hold 't' or a digit, as tested in the beginning of the\ncase.  When checking that the size-supplying argument does not have\nadditional information associated with it, the test that excludes the\n't' possibility looks for it at the even position in the fnspec\nstring.  Oops.\n\nThis might yield false positives and negatives if a function has a\nfnspec in which an argument uses a 't' access-size, and ('t' - '1')\nhappens to be the index of an argument described in an fnspec string.\nAssuming ASCII encoding, it would take a function with at least 68\narguments described in fnspec.  Still, probably worth fixing.\n\n\nfor  gcc/ChangeLog\n\n\t* tree-ssa-alias.c (attr_fnspec::verify): Fix index in\n\tnon-'t'-sized arg check.", "tree": {"sha": "8b95b2de5afa25aea65e0029bd250357a8d12fca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b95b2de5afa25aea65e0029bd250357a8d12fca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7098d6ef4e4e799dab8ef925c62b199d707694b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7098d6ef4e4e799dab8ef925c62b199d707694b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7098d6ef4e4e799dab8ef925c62b199d707694b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7098d6ef4e4e799dab8ef925c62b199d707694b/comments", "author": null, "committer": null, "parents": [{"sha": "66907e739959ff85490f1711cfd06fdf1e946945", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66907e739959ff85490f1711cfd06fdf1e946945", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66907e739959ff85490f1711cfd06fdf1e946945"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "742a95a549e200efcb5ca2abc9b7b5ce4f08e51a", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7098d6ef4e4e799dab8ef925c62b199d707694b/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7098d6ef4e4e799dab8ef925c62b199d707694b/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=a7098d6ef4e4e799dab8ef925c62b199d707694b", "patch": "@@ -3895,7 +3895,7 @@ attr_fnspec::verify ()\n \t\t    && str[idx] != 'w' && str[idx] != 'W'\n \t\t    && str[idx] != 'o' && str[idx] != 'O')\n \t\t  err = true;\n-\t\tif (str[idx] != 't'\n+\t\tif (str[idx + 1] != 't'\n \t\t    /* Size specified is scalar, so it should be described\n \t\t       by \". \" if specified at all.  */\n \t\t    && (arg_specified_p (str[idx + 1] - '1')"}]}