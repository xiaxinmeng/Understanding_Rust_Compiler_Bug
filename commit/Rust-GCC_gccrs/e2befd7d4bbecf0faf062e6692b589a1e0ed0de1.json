{"sha": "e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTJiZWZkN2Q0YmJlY2YwZmFmMDYyZTY2OTJiNTg5YTFlMGVkMGRlMQ==", "commit": {"author": {"name": "Robert Millan", "email": "robertmh@gnu.org", "date": "2003-10-21T09:52:47Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2003-10-21T09:52:47Z"}, "message": "kfreebsdgnu.h: New.\n\n2003-09-28  Robert Millan  <robertmh@gnu.org>\n\n\t* config/i386/kfreebsdgnu.h: New. i386-*-kfreebsd-gnu definitions.\n\t* config/kfreebsdgnu.h: New. *-*-kfreebsd-gnu definitions.\n\t* config/t-kfreebsd-gnu: New. *-*-kfreebsd-gnu tmake_file.\n\t* config.gcc: Add *-*-kfreebsd*-gnu and i[34567]86-*-kfreebsd*-gnu.\n\nFrom-SVN: r72744", "tree": {"sha": "6bc6663457673c05b20526a6138c2e83091e9f9b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6bc6663457673c05b20526a6138c2e83091e9f9b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/comments", "author": null, "committer": null, "parents": [{"sha": "2426d8dd9e129a0270f152e758380f35ef074bb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2426d8dd9e129a0270f152e758380f35ef074bb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2426d8dd9e129a0270f152e758380f35ef074bb7"}], "stats": {"total": 116, "additions": 116, "deletions": 0}, "files": [{"sha": "372c3bf3beab66919b4794a0b2dfc554b0b78f35", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "patch": "@@ -1,3 +1,10 @@\n+2003-09-28  Robert Millan  <robertmh@gnu.org>\n+\n+\t* config/i386/kfreebsdgnu.h: New. i386-*-kfreebsd-gnu definitions.\n+\t* config/kfreebsdgnu.h: New. *-*-kfreebsd-gnu definitions.\n+\t* config/t-kfreebsd-gnu: New. *-*-kfreebsd-gnu tmake_file.\n+\t* config.gcc: Add *-*-kfreebsd*-gnu and i[34567]86-*-kfreebsd*-gnu.\n+\n 2003-10-21  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* web.c: Fix various comments."}, {"sha": "1446f119712661cd0879aa07eadaf16d824fbba5", "filename": "gcc/config.gcc", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "patch": "@@ -406,6 +406,17 @@ case ${target} in\n   esac\n   fbsd_tm_file=\"${fbsd_tm_file} freebsd-spec.h freebsd.h\"\n   ;;\n+*-*-kfreebsd*-gnu)\n+  # Must come before *-*-gnu*\n+  xm_defines=POSIX # needed for cross-compiling from FreeBSD?\n+  extra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n+  # GNU tools are the only tools.\n+  gas=yes\n+  gnu_ld=yes\n+  case ${enable_threads} in\n+    \"\" | yes | posix) thread_file='posix' ;;\n+  esac\n+  ;;\n *-*-linux*libc1* | *-*-linux*aout*)\n   # Avoid the generic linux case.\n   ;;\n@@ -953,6 +964,12 @@ x86_64-*-linux*)\n \t\t i386/x86-64.h i386/linux64.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux i386/t-linux64\"\n \t;;\n+i[34567]86-*-kfreebsd*-gnu) # must be before i[34567]86-*-gnu*\n+\ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h kfreebsdgnu.h i386/kfreebsdgnu.h\"\n+\ttmake_file=\"t-slibgcc-elf-ver t-kfreebsd-gnu i386/t-crtstuff\"\n+\tfloat_format=i386\n+\tuse_fixproto=no\n+\t;;\n i[34567]86-*-gnu*)\n \t;;\n i[34567]86-pc-msdosdjgpp*)"}, {"sha": "66b231dc809f1119dbf3e9fb89784d5af78d7e72", "filename": "gcc/config/i386/kfreebsdgnu.h", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Fi386%2Fkfreebsdgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Fi386%2Fkfreebsdgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fkfreebsdgnu.h?ref=e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "patch": "@@ -0,0 +1,35 @@\n+/* Definitions for Intel 386 running GNU/KFreeBSD systems with ELF format.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+   Contributed by Bruno Haible.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#undef TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (i386 KFreeBSD/ELF)\");\n+\n+/* FIXME: Is a KFreeBSD-specific fallback mechanism necessary?  */\n+#undef MD_FALLBACK_FRAME_STATE_FOR\n+\n+#undef LINK_SPEC\n+#define LINK_SPEC \"-m elf_i386_fbsd %{shared:-shared} \\\n+  %{!shared: \\\n+    %{!ibcs: \\\n+      %{!static: \\\n+\t%{rdynamic:-export-dynamic} \\\n+\t%{!dynamic-linker:-dynamic-linker /lib/ld.so.1}} \\\n+\t%{static:-static}}}\""}, {"sha": "59a68295c2a29f57e49139564d9c58c35f4e56c4", "filename": "gcc/config/kfreebsdgnu.h", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Fkfreebsdgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Fkfreebsdgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fkfreebsdgnu.h?ref=e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "patch": "@@ -0,0 +1,41 @@\n+/* Definitions for GNU/KFreeBSD systems with ELF format.\n+   Copyright (C) 2002 Free Software Foundation, Inc.\n+   Contributed by Bruno Haible.\n+\n+This file is part of GCC.\n+\n+GCC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GCC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GCC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+#undef WCHAR_TYPE\n+#define WCHAR_TYPE \"int\"\n+\n+#undef TARGET_OS_CPP_BUILTINS\n+#define TARET_OS_CPP_BUILTINS()\t\t\t\t\\\n+  builtin_define (\"__GNU_KFreeBSD__=0\");\t\t\\\n+  builtin_define (\"__gnu_kfreebsd__=0\");\t\t\\\n+  builtin_define (\"__FreeBSD_kernel__=5\");\t\t\\\n+  builtin_define (\"__ELF__\");\t\t\t\t\\\n+  builtin_define_std (\"unix\");\t\t\t\t\\\n+  builtin_assert (\"system=posix\");\n+\n+#undef TARGET_CPU_CPP_BUILTINS\n+#define TARGET_CPU_CPP_BUILTINS()\t\t\t\\\n+  builtin_define (\"__i386__\");\t\t\t\t\\\n+  builtin_define_std (\"i386\");\t\t\t\t\\\n+  builtin_assert (\"cpu=i386\");\t\t\t\t\\\n+  builtin_assert (\"machine=i386\");\n+\n+/* do {} while (0) */"}, {"sha": "a40dc7a568a218ca7e008a9e714727d3a4679494", "filename": "gcc/config/t-kfreebsd-gnu", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Ft-kfreebsd-gnu", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2befd7d4bbecf0faf062e6692b589a1e0ed0de1/gcc%2Fconfig%2Ft-kfreebsd-gnu", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-kfreebsd-gnu?ref=e2befd7d4bbecf0faf062e6692b589a1e0ed0de1", "patch": "@@ -0,0 +1,16 @@\n+# glibc provides a limits.h, which must be combined with gcc's limits.h.\n+LIMITS_H_TEST = true\n+\n+# Compile crtbeginS.o and crtendS.o with pic.\n+CRTSTUFF_T_CFLAGS_S = -fPIC\n+# Compile libgcc2.a with pic.\n+TARGET_LIBGCC2_CFLAGS = -fPIC\n+\n+# Override t-slibgcc-elf-ver to export some libgcc symbols with\n+# the symbol versions that glibc used.\n+SHLIB_MAPFILES += $(srcdir)/config/libgcc-glibc.ver\n+\n+# Use unwind-dw2-fde-glibc\n+LIB2ADDEH = $(srcdir)/unwind-dw2.c $(srcdir)/unwind-dw2-fde-glibc.c \\\n+  $(srcdir)/unwind-sjlj.c\n+LIB2ADDEHDEP = unwind.inc unwind-dw2-fde.h unwind-dw2-fde.c"}]}