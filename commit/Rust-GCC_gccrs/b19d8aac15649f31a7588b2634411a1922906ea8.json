{"sha": "b19d8aac15649f31a7588b2634411a1922906ea8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjE5ZDhhYWMxNTY0OWYzMWE3NTg4YjI2MzQ0MTFhMTkyMjkwNmVhOA==", "commit": {"author": {"name": "Romain Naour", "email": "romain.naour@gmail.com", "date": "2020-06-03T18:30:57Z"}, "committer": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2020-06-03T18:32:53Z"}, "message": "Fix missing dependencies for selftests which occasionally causes failed builds.\n\ngcc/\n\n\t* Makefile.in (SELFTEST_DEPS): Move before including language makefile\n\tfragments.", "tree": {"sha": "cdc1ee1386242b23a795e2aa1978da8740161fe2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cdc1ee1386242b23a795e2aa1978da8740161fe2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b19d8aac15649f31a7588b2634411a1922906ea8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b19d8aac15649f31a7588b2634411a1922906ea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b19d8aac15649f31a7588b2634411a1922906ea8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b19d8aac15649f31a7588b2634411a1922906ea8/comments", "author": {"login": "RomainNaour", "id": 3524784, "node_id": "MDQ6VXNlcjM1MjQ3ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3524784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RomainNaour", "html_url": "https://github.com/RomainNaour", "followers_url": "https://api.github.com/users/RomainNaour/followers", "following_url": "https://api.github.com/users/RomainNaour/following{/other_user}", "gists_url": "https://api.github.com/users/RomainNaour/gists{/gist_id}", "starred_url": "https://api.github.com/users/RomainNaour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RomainNaour/subscriptions", "organizations_url": "https://api.github.com/users/RomainNaour/orgs", "repos_url": "https://api.github.com/users/RomainNaour/repos", "events_url": "https://api.github.com/users/RomainNaour/events{/privacy}", "received_events_url": "https://api.github.com/users/RomainNaour/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ef4e0c35546ba2c897613925c1d2485603ca3ab1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef4e0c35546ba2c897613925c1d2485603ca3ab1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef4e0c35546ba2c897613925c1d2485603ca3ab1"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "be11311b60d1423606cf25f1c177e536c427504d", "filename": "gcc/Makefile.in", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b19d8aac15649f31a7588b2634411a1922906ea8/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b19d8aac15649f31a7588b2634411a1922906ea8/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=b19d8aac15649f31a7588b2634411a1922906ea8", "patch": "@@ -1735,6 +1735,10 @@ $(FULL_DRIVER_NAME): ./xgcc$(exeext)\n \t$(LN_S) $< $@\n \n #\f\n+# SELFTEST_DEPS need to be set before including language makefile fragments.\n+# Otherwise $(SELFTEST_DEPS) is empty when used from <LANG>/Make-lang.in.\n+SELFTEST_DEPS = $(GCC_PASSES) stmp-int-hdrs $(srcdir)/testsuite/selftests\n+\n # Language makefile fragments.\n \n # The following targets define the interface between us and the languages.\n@@ -2010,8 +2014,6 @@ DEVNULL=$(if $(findstring mingw,$(build)),nul,/dev/null)\n SELFTEST_FLAGS = -nostdinc $(DEVNULL) -S -o $(DEVNULL) \\\n \t-fself-test=$(srcdir)/testsuite/selftests\n \n-SELFTEST_DEPS = $(GCC_PASSES) stmp-int-hdrs $(srcdir)/testsuite/selftests\n-\n # Run the selftests during the build once we have a driver and the frontend,\n # so that self-test failures are caught as early as possible.\n # Use \"s-selftest-FE\" to ensure that we only run the selftests if the"}]}