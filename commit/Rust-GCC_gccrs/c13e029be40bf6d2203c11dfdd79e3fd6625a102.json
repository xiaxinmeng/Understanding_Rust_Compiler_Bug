{"sha": "c13e029be40bf6d2203c11dfdd79e3fd6625a102", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEzZTAyOWJlNDBiZjZkMjIwM2MxMWRmZGQ3OWUzZmQ2NjI1YTEwMg==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2009-09-09T19:42:21Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2009-09-09T19:42:21Z"}, "message": "stdint.m4 (GCC_HEADER_STDINT): Revert changes to this macro in the previous two patches.\n\nconfig:\n2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* stdint.m4 (GCC_HEADER_STDINT): Revert changes to this macro in\n\tthe previous two patches.\n\nlibgfortran:\n2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* configure: Regenerate.\n\nlibdecnumber:\n2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n\n\t* configure: Regenerate.\n\nFrom-SVN: r151574", "tree": {"sha": "1a5b1f43c7e7c9e09b6fef27589e611932eb3399", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a5b1f43c7e7c9e09b6fef27589e611932eb3399"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c13e029be40bf6d2203c11dfdd79e3fd6625a102", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c13e029be40bf6d2203c11dfdd79e3fd6625a102", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c13e029be40bf6d2203c11dfdd79e3fd6625a102", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c13e029be40bf6d2203c11dfdd79e3fd6625a102/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ed9d5a4a1a6e2d9660759164556ceaa7dec1da14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ed9d5a4a1a6e2d9660759164556ceaa7dec1da14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ed9d5a4a1a6e2d9660759164556ceaa7dec1da14"}], "stats": {"total": 2842, "additions": 1882, "deletions": 960}, "files": [{"sha": "ceea52ed7828532442cc1caa3d90a6160e18eb72", "filename": "config/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -1,3 +1,8 @@\n+2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* stdint.m4 (GCC_HEADER_STDINT): Revert changes to this macro in\n+\tthe previous two patches.\n+\n 2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* stdint.m4: Store temporary file in $tmp/_GCC_STDINT_H."}, {"sha": "b26b4fc266dbb053428c622902b83bfe73f50934", "filename": "config/stdint.m4", "status": "modified", "additions": 481, "deletions": 32, "changes": 513, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/config%2Fstdint.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/config%2Fstdint.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fstdint.m4?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -12,82 +12,531 @@ AC_REQUIRE([AC_TYPE_UINT64_T])\n AC_REQUIRE([AC_TYPE_UINTMAX_T])\n AC_REQUIRE([AC_TYPE_UINTPTR_T])])\n \n+dnl @synopsis GCC_HEADER_STDINT [( HEADER-TO-GENERATE [, HEADERS-TO-CHECK])]\n+dnl\n+dnl the \"ISO C9X: 7.18 Integer types <stdint.h>\" section requires the\n+dnl existence of an include file <stdint.h> that defines a set of\n+dnl typedefs, especially uint8_t,int32_t,uintptr_t.\n+dnl Many older installations will not provide this file, but some will\n+dnl have the very same definitions in <inttypes.h>. In other enviroments\n+dnl we can use the inet-types in <sys/types.h> which would define the\n+dnl typedefs int8_t and u_int8_t respectivly.\n+dnl\n+dnl This macros will create a local \"_stdint.h\" or the headerfile given as\n+dnl an argument. In many cases that file will pick the definition from a\n+dnl \"#include <stdint.h>\" or \"#include <inttypes.h>\" statement, while\n+dnl in other environments it will provide the set of basic 'stdint's defined:\n+dnl int8_t,uint8_t,int16_t,uint16_t,int32_t,uint32_t,intptr_t,uintptr_t\n+dnl int_least32_t.. int_fast32_t.. intmax_t\n+dnl which may or may not rely on the definitions of other files.\n+dnl\n+dnl Sometimes the stdint.h or inttypes.h headers conflict with sys/types.h,\n+dnl so we test the headers together with sys/types.h and always include it\n+dnl into the generated header (to match the tests with the generated file).\n+dnl Hopefully this is not a big annoyance.\n+dnl\n+dnl If your installed header files require the stdint-types you will want to\n+dnl create an installable file mylib-int.h that all your other installable\n+dnl header may include. So, for a library package named \"mylib\", just use\n+dnl      GCC_HEADER_STDINT(mylib-int.h)\n+dnl in configure.in and install that header file in Makefile.am along with\n+dnl the other headers (mylib.h).  The mylib-specific headers can simply\n+dnl use \"#include <mylib-int.h>\" to obtain the stdint-types.\n+dnl\n+dnl Remember, if the system already had a valid <stdint.h>, the generated\n+dnl file will include it directly. No need for fuzzy HAVE_STDINT_H things...\n+dnl\n+dnl @author  Guido Draheim <guidod@gmx.de>, Paolo Bonzini <bonzini@gnu.org>\n+\n AC_DEFUN([GCC_HEADER_STDINT],\n-[AC_REQUIRE([GCC_STDINT_TYPES])\n-AC_CHECK_TYPES([int_least32_t, int_fast32_t],,,[#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif])\n-\n-m4_define([_GCC_STDINT_H], m4_ifval($1, $1, _stdint.h))\n-m4_if(m4_bmatch(m4_quote(/_GCC_STDINT_H),\n-                /stdint\\.h$, bad,\n-                /inttypes\\.h$, bad, ok), bad,\n-      [m4_fatal([cannot overwrite ]m4_quote(_GCC_STDINT_H))])\n+[m4_define(_GCC_STDINT_H, m4_ifval($1, $1, _stdint.h))\n+\n+inttype_headers=`echo inttypes.h sys/inttypes.h $2 | sed -e 's/,/ /g'`\n+\n+acx_cv_header_stdint=stddef.h\n+acx_cv_header_stdint_kind=\"(already complete)\"\n+for i in stdint.h $inttype_headers; do\n+  unset ac_cv_type_uintptr_t\n+  unset ac_cv_type_uintmax_t\n+  unset ac_cv_type_int_least32_t\n+  unset ac_cv_type_int_fast32_t\n+  unset ac_cv_type_uint64_t\n+  _AS_ECHO_N([looking for a compliant stdint.h in $i, ])\n+  AC_CHECK_TYPE(uintmax_t,[acx_cv_header_stdint=$i],continue,[#include <sys/types.h>\n+#include <$i>])\n+  AC_CHECK_TYPE(uintptr_t,,[acx_cv_header_stdint_kind=\"(mostly complete)\"], [#include <sys/types.h>\n+#include <$i>])\n+  AC_CHECK_TYPE(int_least32_t,,[acx_cv_header_stdint_kind=\"(mostly complete)\"], [#include <sys/types.h>\n+#include <$i>])\n+  AC_CHECK_TYPE(int_fast32_t,,[acx_cv_header_stdint_kind=\"(mostly complete)\"], [#include <sys/types.h>\n+#include <$i>])\n+  AC_CHECK_TYPE(uint64_t,,[acx_cv_header_stdint_kind=\"(lacks uint64_t)\"], [#include <sys/types.h>\n+#include <$i>])\n+  break\n+done\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(lacks uintmax_t)\"\n+  for i in stdint.h $inttype_headers; do\n+    unset ac_cv_type_uintptr_t\n+    unset ac_cv_type_uint32_t\n+    unset ac_cv_type_uint64_t\n+    _AS_ECHO_N([looking for an incomplete stdint.h in $i, ])\n+    AC_CHECK_TYPE(uint32_t,[acx_cv_header_stdint=$i],continue,[#include <sys/types.h>\n+#include <$i>])\n+    AC_CHECK_TYPE(uint64_t,,,[#include <sys/types.h>\n+#include <$i>])\n+    AC_CHECK_TYPE(uintptr_t,,,[#include <sys/types.h>\n+#include <$i>])\n+    break\n+  done\n+fi\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(u_intXX_t style)\"\n+  for i in sys/types.h $inttype_headers; do\n+    unset ac_cv_type_u_int32_t\n+    unset ac_cv_type_u_int64_t\n+    _AS_ECHO_N([looking for u_intXX_t types in $i, ])\n+    AC_CHECK_TYPE(u_int32_t,[acx_cv_header_stdint=$i],continue,[#include <sys/types.h>\n+#include <$i>])\n+    AC_CHECK_TYPE(u_int64_t,,,[#include <sys/types.h>\n+#include <$i>])\n+    break\n+  done\n+fi\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(using manual detection)\"\n+fi\n+\n+test -z \"$ac_cv_type_uintptr_t\" && ac_cv_type_uintptr_t=no\n+test -z \"$ac_cv_type_uint64_t\" && ac_cv_type_uint64_t=no\n+test -z \"$ac_cv_type_u_int64_t\" && ac_cv_type_u_int64_t=no\n+test -z \"$ac_cv_type_int_least32_t\" && ac_cv_type_int_least32_t=no\n+test -z \"$ac_cv_type_int_fast32_t\" && ac_cv_type_int_fast32_t=no\n+\n+# ----------------- Summarize what we found so far\n+\n+AC_MSG_CHECKING([what to include in _GCC_STDINT_H])\n+\n+case `AS_BASENAME(_GCC_STDINT_H)` in\n+  stdint.h) AC_MSG_WARN([are you sure you want it there?]) ;;\n+  inttypes.h) AC_MSG_WARN([are you sure you want it there?]) ;;\n+  *) ;;\n+esac\n+\n+AC_MSG_RESULT($acx_cv_header_stdint $acx_cv_header_stdint_kind)\n+\n+# ----------------- done included file, check C basic types --------\n+\n+# Lacking an uintptr_t?  Test size of void *\n+case \"$acx_cv_header_stdint:$ac_cv_type_uintptr_t\" in\n+  stddef.h:* | *:no) AC_CHECK_SIZEOF(void *) ;;\n+esac\n+\n+# Lacking an uint64_t?  Test size of long\n+case \"$acx_cv_header_stdint:$ac_cv_type_uint64_t:$ac_cv_type_u_int64_t\" in\n+  stddef.h:*:* | *:no:no) AC_CHECK_SIZEOF(long) ;;\n+esac\n+\n+if test $acx_cv_header_stdint = stddef.h; then\n+  # Lacking a good header?  Test size of everything and deduce all types.\n+  AC_CHECK_SIZEOF(int)\n+  AC_CHECK_SIZEOF(short)\n+  AC_CHECK_SIZEOF(char)\n+\n+  AC_MSG_CHECKING(for type equivalent to int8_t)\n+  case \"$ac_cv_sizeof_char\" in\n+    1) acx_cv_type_int8_t=char ;;\n+    *) AC_MSG_ERROR(no 8-bit type, please report a bug)\n+  esac\n+  AC_MSG_RESULT($acx_cv_type_int8_t)\n+\n+  AC_MSG_CHECKING(for type equivalent to int16_t)\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_short\" in\n+    2:*) acx_cv_type_int16_t=int ;;\n+    *:2) acx_cv_type_int16_t=short ;;\n+    *) AC_MSG_ERROR(no 16-bit type, please report a bug)\n+  esac\n+  AC_MSG_RESULT($acx_cv_type_int16_t)\n+\n+  AC_MSG_CHECKING(for type equivalent to int32_t)\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_long\" in\n+    4:*) acx_cv_type_int32_t=int ;;\n+    *:4) acx_cv_type_int32_t=long ;;\n+    *) AC_MSG_ERROR(no 32-bit type, please report a bug)\n+  esac\n+  AC_MSG_RESULT($acx_cv_type_int32_t)\n+fi\n+\n+# These tests are here to make the output prettier\n \n+if test \"$ac_cv_type_uint64_t\" != yes && test \"$ac_cv_type_u_int64_t\" != yes; then\n+  case \"$ac_cv_sizeof_long\" in\n+    8) acx_cv_type_int64_t=long ;;\n+  esac\n+  AC_MSG_CHECKING(for type equivalent to int64_t)\n+  AC_MSG_RESULT(${acx_cv_type_int64_t-'using preprocessor symbols'})\n+fi\n+\n+# Now we can use the above types\n+\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  AC_MSG_CHECKING(for type equivalent to intptr_t)\n+  case $ac_cv_sizeof_void_p in\n+    2) acx_cv_type_intptr_t=int16_t ;;\n+    4) acx_cv_type_intptr_t=int32_t ;;\n+    8) acx_cv_type_intptr_t=int64_t ;;\n+    *) AC_MSG_ERROR(no equivalent for intptr_t, please report a bug)\n+  esac\n+  AC_MSG_RESULT($acx_cv_type_intptr_t)\n+fi\n+\n+# ----------------- done all checks, emit header -------------\n AC_CONFIG_COMMANDS(_GCC_STDINT_H, [\n-cat > $tmp/_GCC_STDINT_H <<EOF\n-#ifndef GCC_GENERATED_STDINT_H\n-#define GCC_GENERATED_STDINT_H 1\n-\n-#include \"config.h\"\n-#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n+if test \"$GCC\" = yes; then\n+  echo \"/* generated for \" `$CC --version | sed 1q` \"*/\" > tmp-stdint.h\n+else\n+  echo \"/* generated for $CC */\" > tmp-stdint.h\n+fi\n+\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #ifndef GCC_GENERATED_STDINT_H\n+  #define GCC_GENERATED_STDINT_H 1\n+\n+  #include <sys/types.h>\n EOF\n \n+if test \"$acx_cv_header_stdint\" != stdint.h; then\n+  echo \"#include <stddef.h>\" >> tmp-stdint.h\n+fi\n+if test \"$acx_cv_header_stdint\" != stddef.h; then\n+  echo \"#include <$acx_cv_header_stdint>\" >> tmp-stdint.h\n+fi\n+\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+  /* glibc uses these symbols as guards to prevent redefinitions.  */\n+  #ifdef __int8_t_defined\n+  #define _INT8_T\n+  #define _INT16_T\n+  #define _INT32_T\n+  #endif\n+  #ifdef __uint32_t_defined\n+  #define _UINT32_T\n+  #endif\n+\n+EOF\n+\n+# ----------------- done header, emit basic int types -------------\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef unsigned $acx_cv_type_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef unsigned $acx_cv_type_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef unsigned $acx_cv_type_int32_t uint32_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #ifndef __int8_t_defined\n+    #define __int8_t_defined\n+    typedef $acx_cv_type_int8_t int8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #ifndef __int16_t_defined\n+    #define __int16_t_defined\n+    typedef $acx_cv_type_int16_t int16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #ifndef __int32_t_defined\n+    #define __int32_t_defined\n+    typedef $acx_cv_type_int32_t int32_t;\n+    #endif\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int32_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* int8_t int16_t int32_t defined by inet code, we do the u_intXX types */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef u_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef u_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef u_int32_t uint32_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Some systems have guard macros to prevent redefinitions, define them.  */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #endif\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #endif\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done basic int types, emit int64_t types ------------\n+if test \"$ac_cv_type_uint64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have good uint64_t and int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have an u_int64_t (and int64_t) */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef u_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+elif test -n \"$acx_cv_type_int64_t\"; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* architecture has a 64-bit type, $acx_cv_type_int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    typedef $acx_cv_type_int64_t int64_t;\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef unsigned $acx_cv_type_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* some common heuristics for int64_t, using compiler-specific tests */\n+    #if defined __STDC_VERSION__ && (__STDC_VERSION__-0) >= 199901L\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #ifndef __int64_t_defined\n+    typedef long long int64_t;\n+    #endif\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    typedef unsigned long long uint64_t;\n+    #endif\n+\n+    #elif defined __GNUC__ && defined (__STDC__) && __STDC__-0\n+    /* NextStep 2.0 cc is really gcc 1.93 but it defines __GNUC__ = 2 and\n+       does not implement __extension__.  But that compiler doesn't define\n+       __GNUC_MINOR__.  */\n+    # if __GNUC__ < 2 || (__NeXT__ && !__GNUC_MINOR__)\n+    # define __extension__\n+    # endif\n+\n+    # ifndef _INT64_T\n+    # define _INT64_T\n+    __extension__ typedef long long int64_t;\n+    # endif\n+    # ifndef _UINT64_T\n+    # define _UINT64_T\n+    __extension__ typedef unsigned long long uint64_t;\n+    # endif\n+\n+    #elif !defined __STRICT_ANSI__\n+    # if defined _MSC_VER || defined __WATCOMC__ || defined __BORLANDC__\n+\n+    #  ifndef _INT64_T\n+    #  define _INT64_T\n+    typedef __int64 int64_t;\n+    #  endif\n+    #  ifndef _UINT64_T\n+    #  define _UINT64_T\n+    typedef unsigned __int64 uint64_t;\n+    #  endif\n+    # endif /* compiler */\n+\n+    #endif /* ANSI version */\n+EOF\n+fi\n+\n+# ------------- done int64_t types, emit intptr types ------------\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intptr_t based on sizeof(void*) = $ac_cv_sizeof_void_p */\n+    #ifndef __uintptr_t_defined\n+    typedef u$acx_cv_type_intptr_t uintptr_t;\n+    #endif\n+    #ifndef __intptr_t_defined\n+    typedef $acx_cv_type_intptr_t  intptr_t;\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done intptr types, emit int_least types ------------\n if test \"$ac_cv_type_int_least32_t\" != yes; then\n-  sed 's/^ *//' >> $tmp/_GCC_STDINT_H <<EOF\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_least types */\n     typedef int8_t     int_least8_t;\n     typedef int16_t    int_least16_t;\n     typedef int32_t    int_least32_t;\n+    #ifdef _INT64_T\n     typedef int64_t    int_least64_t;\n+    #endif\n \n     typedef uint8_t    uint_least8_t;\n     typedef uint16_t   uint_least16_t;\n     typedef uint32_t   uint_least32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t   uint_least64_t;\n+    #endif\n EOF\n fi\n \n+# ------------- done intptr types, emit int_fast types ------------\n if test \"$ac_cv_type_int_fast32_t\" != yes; then\n   dnl NOTE: The following code assumes that sizeof (int) > 1.\n   dnl Fix when strange machines are reported.\n-  sed 's/^ *//' >> $tmp/_GCC_STDINT_H <<EOF\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_fast types.  short is often slow */\n     typedef int8_t       int_fast8_t;\n     typedef int          int_fast16_t;\n     typedef int32_t      int_fast32_t;\n+    #ifdef _INT64_T\n     typedef int64_t      int_fast64_t;\n+    #endif\n \n     typedef uint8_t      uint_fast8_t;\n     typedef unsigned int uint_fast16_t;\n     typedef uint32_t     uint_fast32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t     uint_fast64_t;\n+    #endif\n EOF\n fi\n \n-echo '@%:@endif /* GCC_GENERATED_STDINT_H */' >> $tmp/_GCC_STDINT_H\n+if test \"$ac_cv_type_uintmax_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intmax based on what we found */\n+    #ifdef _INT64_T\n+    typedef int64_t       intmax_t;\n+    #else\n+    typedef long          intmax_t;\n+    #endif\n+    #ifdef _UINT64_T\n+    typedef uint64_t      uintmax_t;\n+    #else\n+    typedef unsigned long uintmax_t;\n+    #endif\n+EOF\n+fi\n+\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #endif /* GCC_GENERATED_STDINT_H */\n+EOF\n \n-if test -r _GCC_STDINT_H && cmp -s $tmp/_GCC_STDINT_H _GCC_STDINT_H; then\n-  rm -f $tmp/_GCC_STDINT_H\n+if test -r ]_GCC_STDINT_H[ && cmp -s tmp-stdint.h ]_GCC_STDINT_H[; then\n+  rm -f tmp-stdint.h\n else\n-  mv -f $tmp/_GCC_STDINT_H _GCC_STDINT_H\n+  mv -f tmp-stdint.h ]_GCC_STDINT_H[\n fi\n \n ], [\n+GCC=\"$GCC\"\n+CC=\"$CC\"\n+acx_cv_header_stdint=\"$acx_cv_header_stdint\"\n+acx_cv_type_int8_t=\"$acx_cv_type_int8_t\"\n+acx_cv_type_int16_t=\"$acx_cv_type_int16_t\"\n+acx_cv_type_int32_t=\"$acx_cv_type_int32_t\"\n+acx_cv_type_int64_t=\"$acx_cv_type_int64_t\"\n+acx_cv_type_intptr_t=\"$acx_cv_type_intptr_t\"\n+ac_cv_type_uintmax_t=\"$ac_cv_type_uintmax_t\"\n+ac_cv_type_uintptr_t=\"$ac_cv_type_uintptr_t\"\n+ac_cv_type_uint64_t=\"$ac_cv_type_uint64_t\"\n+ac_cv_type_u_int64_t=\"$ac_cv_type_u_int64_t\"\n+ac_cv_type_u_int32_t=\"$ac_cv_type_u_int32_t\"\n ac_cv_type_int_least32_t=\"$ac_cv_type_int_least32_t\"\n ac_cv_type_int_fast32_t=\"$ac_cv_type_int_fast32_t\"\n+ac_cv_sizeof_void_p=\"$ac_cv_sizeof_void_p\"\n ])\n \n ])"}, {"sha": "b64e561a0cc3f1fb4f1336b617ce6151c4551f15", "filename": "libdecnumber/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libdecnumber%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libdecnumber%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libdecnumber%2FChangeLog?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -1,3 +1,7 @@\n+2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure: Regenerate.\n+\n 2009-09-08  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* configure: Regenerate."}, {"sha": "75a7b90570f14aa6773804169afed465f31d2bff", "filename": "libdecnumber/configure", "status": "modified", "additions": 621, "deletions": 500, "changes": 1121, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libdecnumber%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libdecnumber%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libdecnumber%2Fconfigure?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -1633,123 +1633,6 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_check_header_compile\n \n-# ac_fn_c_find_intX_t LINENO BITS VAR\n-# -----------------------------------\n-# Finds a signed integer type with width BITS, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_find_intX_t ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for int$2_t\" >&5\n-$as_echo_n \"checking for int$2_t... \" >&6; }\n-if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  eval \"$3=no\"\n-     for ac_type in int$2_t 'int' 'long int' \\\n-\t 'long long int' 'short int' 'signed char'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(0 < ($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 1))];\n-test_array [0] = 0\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 1)\n-\t\t < ($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 2))];\n-test_array [0] = 0\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-\n-else\n-  case $ac_type in #(\n-  int$2_t) :\n-    eval \"$3=yes\" ;; #(\n-  *) :\n-    eval \"$3=\\$ac_type\" ;;\n-esac\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       eval as_val=\\$$3\n-   if test \"x$as_val\" = x\"\"no; then :\n-\n-else\n-  break\n-fi\n-     done\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-\n-} # ac_fn_c_find_intX_t\n-\n-# ac_fn_c_try_link LINENO\n-# -----------------------\n-# Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_link ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext conftest$ac_exeext\n-  if { { ac_try=\"$ac_link\"\n-case \"(($ac_try\" in\n-  *\\\"* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\"\\\"\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\"\"\n-$as_echo \"$ac_try_echo\"; } >&5\n-  (eval \"$ac_link\") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \"$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \"$ac_c_werror_flag\" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest$ac_exeext && {\n-\t test \"$cross_compiling\" = yes ||\n-\t $as_test_x conftest$ac_exeext\n-       }; then :\n-  ac_retval=0\n-else\n-  $as_echo \"$as_me: failed program was:\" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n-  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n-  # interfere with the next link command; also delete a directory that is\n-  # left behind by Apple's compiler.  We do this before executing the actions.\n-  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-  return $ac_retval\n-\n-} # ac_fn_c_try_link\n-\n # ac_fn_c_check_type LINENO TYPE VAR INCLUDES\n # -------------------------------------------\n # Tests whether TYPE exists after having included INCLUDES, setting cache\n@@ -1804,58 +1687,6 @@ $as_echo \"$ac_res\" >&6; }\n \n } # ac_fn_c_check_type\n \n-# ac_fn_c_find_uintX_t LINENO BITS VAR\n-# ------------------------------------\n-# Finds an unsigned integer type with width BITS, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_find_uintX_t ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for uint$2_t\" >&5\n-$as_echo_n \"checking for uint$2_t... \" >&6; }\n-if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  eval \"$3=no\"\n-     for ac_type in uint$2_t 'unsigned int' 'unsigned long int' \\\n-\t 'unsigned long long int' 'unsigned short int' 'unsigned char'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(($ac_type) -1 >> ($2 - 1) == 1)];\n-test_array [0] = 0\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n-  case $ac_type in #(\n-  uint$2_t) :\n-    eval \"$3=yes\" ;; #(\n-  *) :\n-    eval \"$3=\\$ac_type\" ;;\n-esac\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       eval as_val=\\$$3\n-   if test \"x$as_val\" = x\"\"no; then :\n-\n-else\n-  break\n-fi\n-     done\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-\n-} # ac_fn_c_find_uintX_t\n-\n # ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n # --------------------------------------------\n # Tries to find the compile-time value of EXPR in a program that includes\n@@ -3922,408 +3753,412 @@ fi\n \n done\n \n-ac_fn_c_find_intX_t \"$LINENO\" \"8\" \"ac_cv_c_int8_t\"\n-case $ac_cv_c_int8_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int8_t $ac_cv_c_int8_t\n-_ACEOF\n-;;\n-esac\n-\n-ac_fn_c_find_intX_t \"$LINENO\" \"16\" \"ac_cv_c_int16_t\"\n-case $ac_cv_c_int16_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int16_t $ac_cv_c_int16_t\n-_ACEOF\n-;;\n-esac\n-\n-ac_fn_c_find_intX_t \"$LINENO\" \"32\" \"ac_cv_c_int32_t\"\n-case $ac_cv_c_int32_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int32_t $ac_cv_c_int32_t\n-_ACEOF\n-;;\n-esac\n \n-ac_fn_c_find_intX_t \"$LINENO\" \"64\" \"ac_cv_c_int64_t\"\n-case $ac_cv_c_int64_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int64_t $ac_cv_c_int64_t\n-_ACEOF\n-;;\n-esac\n \n+inttype_headers=`echo inttypes.h sys/inttypes.h  | sed -e 's/,/ /g'`\n \n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for long long int\" >&5\n-$as_echo_n \"checking for long long int... \" >&6; }\n-if test \"${ac_cv_type_long_long_int+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n+acx_cv_header_stdint=stddef.h\n+acx_cv_header_stdint_kind=\"(already complete)\"\n+for i in stdint.h $inttype_headers; do\n+  unset ac_cv_type_uintptr_t\n+  unset ac_cv_type_uintmax_t\n+  unset ac_cv_type_int_least32_t\n+  unset ac_cv_type_int_fast32_t\n+  unset ac_cv_type_uint64_t\n+  $as_echo_n \"looking for a compliant stdint.h in $i, \" >&6\n+  ac_fn_c_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintmax_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n+  continue\n+fi\n \n-  /* For now, do not test the preprocessor; as of 2007 there are too many\n-\t implementations with broken preprocessors.  Perhaps this can\n-\t be revisited in 2012.  In the meantime, code should not expect\n-\t #if to work with literals wider than 32 bits.  */\n-      /* Test literals.  */\n-      long long int ll = 9223372036854775807ll;\n-      long long int nll = -9223372036854775807LL;\n-      unsigned long long int ull = 18446744073709551615ULL;\n-      /* Test constant expressions.   */\n-      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)\n-\t\t     ? 1 : -1)];\n-      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1\n-\t\t     ? 1 : -1)];\n-      int i = 63;\n-int\n-main ()\n-{\n-/* Test availability of runtime routines for shift and division.  */\n-      long long int llmax = 9223372036854775807ll;\n-      unsigned long long int ullmax = 18446744073709551615ull;\n-      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)\n-\t      | (llmax / ll) | (llmax % ll)\n-\t      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)\n-\t      | (ullmax / ull) | (ullmax % ull));\n-  ;\n-  return 0;\n-}\n+  ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n \n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  \t\t\tif test \"$cross_compiling\" = yes; then :\n-  ac_cv_type_long_long_int=yes\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <limits.h>\n-\t       #ifndef LLONG_MAX\n-\t       # define HALF \\\n-\t\t\t(1LL << (sizeof (long long int) * CHAR_BIT - 2))\n-\t       # define LLONG_MAX (HALF - 1 + HALF)\n-\t       #endif\n-int\n-main ()\n-{\n-long long int n = 1;\n-\t       int i;\n-\t       for (i = 0; ; i++)\n-\t\t {\n-\t\t   long long int m = n << i;\n-\t\t   if (m >> i != n)\n-\t\t     return 1;\n-\t\t   if (LLONG_MAX / 2 < m)\n-\t\t     break;\n-\t\t }\n-\t       return 0;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n-  ac_cv_type_long_long_int=yes\n else\n-  ac_cv_type_long_long_int=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n fi\n \n+  ac_fn_c_check_type \"$LINENO\" \"int_least32_t\" \"ac_cv_type_int_least32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_int_least32_t\" = x\"\"yes; then :\n+\n else\n-  ac_cv_type_long_long_int=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_long_long_int\" >&5\n-$as_echo \"$ac_cv_type_long_long_int\" >&6; }\n-  if test $ac_cv_type_long_long_int = yes; then\n-\n-$as_echo \"#define HAVE_LONG_LONG_INT 1\" >>confdefs.h\n-\n-  fi\n-\n \n+  ac_fn_c_check_type \"$LINENO\" \"int_fast32_t\" \"ac_cv_type_int_fast32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_int_fast32_t\" = x\"\"yes; then :\n \n-  ac_fn_c_check_type \"$LINENO\" \"intmax_t\" \"ac_cv_type_intmax_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_intmax_t\" = x\"\"yes; then :\n+else\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n+fi\n \n-$as_echo \"#define HAVE_INTMAX_T 1\" >>confdefs.h\n+  ac_fn_c_check_type \"$LINENO\" \"uint64_t\" \"ac_cv_type_uint64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint64_t\" = x\"\"yes; then :\n \n else\n-  test $ac_cv_type_long_long_int = yes \\\n-       && ac_type='long long int' \\\n-       || ac_type='long int'\n-\n-cat >>confdefs.h <<_ACEOF\n-#define intmax_t $ac_type\n-_ACEOF\n+  acx_cv_header_stdint_kind=\"(lacks uint64_t)\"\n+fi\n \n+  break\n+done\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(lacks uintmax_t)\"\n+  for i in stdint.h $inttype_headers; do\n+    unset ac_cv_type_uintptr_t\n+    unset ac_cv_type_uint32_t\n+    unset ac_cv_type_uint64_t\n+    $as_echo_n \"looking for an incomplete stdint.h in $i, \" >&6\n+    ac_fn_c_check_type \"$LINENO\" \"uint32_t\" \"ac_cv_type_uint32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint32_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n+else\n+  continue\n fi\n \n+    ac_fn_c_check_type \"$LINENO\" \"uint64_t\" \"ac_cv_type_uint64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint64_t\" = x\"\"yes; then :\n \n+fi\n \n-  ac_fn_c_check_type \"$LINENO\" \"intptr_t\" \"ac_cv_type_intptr_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_intptr_t\" = x\"\"yes; then :\n+    ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n \n-$as_echo \"#define HAVE_INTPTR_T 1\" >>confdefs.h\n+fi\n \n+    break\n+  done\n+fi\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(u_intXX_t style)\"\n+  for i in sys/types.h $inttype_headers; do\n+    unset ac_cv_type_u_int32_t\n+    unset ac_cv_type_u_int64_t\n+    $as_echo_n \"looking for u_intXX_t types in $i, \" >&6\n+    ac_fn_c_check_type \"$LINENO\" \"u_int32_t\" \"ac_cv_type_u_int32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_u_int32_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n else\n-  for ac_type in 'int' 'long int' 'long long int'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(sizeof (void *) <= sizeof ($ac_type))];\n-test_array [0] = 0\n+  continue\n+fi\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+    ac_fn_c_check_type \"$LINENO\" \"u_int64_t\" \"ac_cv_type_u_int64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_u_int64_t\" = x\"\"yes; then :\n \n-cat >>confdefs.h <<_ACEOF\n-#define intptr_t $ac_type\n-_ACEOF\n+fi\n \n-\t  ac_type=\n+    break\n+  done\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       test -z \"$ac_type\" && break\n-     done\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(using manual detection)\"\n fi\n \n+test -z \"$ac_cv_type_uintptr_t\" && ac_cv_type_uintptr_t=no\n+test -z \"$ac_cv_type_uint64_t\" && ac_cv_type_uint64_t=no\n+test -z \"$ac_cv_type_u_int64_t\" && ac_cv_type_u_int64_t=no\n+test -z \"$ac_cv_type_int_least32_t\" && ac_cv_type_int_least32_t=no\n+test -z \"$ac_cv_type_int_fast32_t\" && ac_cv_type_int_fast32_t=no\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"8\" \"ac_cv_c_uint8_t\"\n-case $ac_cv_c_uint8_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-$as_echo \"#define _UINT8_T 1\" >>confdefs.h\n-\n+# ----------------- Summarize what we found so far\n \n-cat >>confdefs.h <<_ACEOF\n-#define uint8_t $ac_cv_c_uint8_t\n-_ACEOF\n-;;\n-  esac\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking what to include in gstdint.h\" >&5\n+$as_echo_n \"checking what to include in gstdint.h... \" >&6; }\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"16\" \"ac_cv_c_uint16_t\"\n-case $ac_cv_c_uint16_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-\n-cat >>confdefs.h <<_ACEOF\n-#define uint16_t $ac_cv_c_uint16_t\n-_ACEOF\n-;;\n-  esac\n+case `$as_basename -- gstdint.h ||\n+$as_expr X/gstdint.h : '.*/\\([^/][^/]*\\)/*$' \\| \\\n+\t Xgstdint.h : 'X\\(//\\)$' \\| \\\n+\t Xgstdint.h : 'X\\(/\\)' \\| . 2>/dev/null ||\n+$as_echo X/gstdint.h |\n+    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  /^X\\/\\(\\/\\/\\)$/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  /^X\\/\\(\\/\\).*/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  s/.*/./; q'` in\n+  stdint.h) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: are you sure you want it there?\" >&5\n+$as_echo \"$as_me: WARNING: are you sure you want it there?\" >&2;} ;;\n+  inttypes.h) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: are you sure you want it there?\" >&5\n+$as_echo \"$as_me: WARNING: are you sure you want it there?\" >&2;} ;;\n+  *) ;;\n+esac\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"32\" \"ac_cv_c_uint32_t\"\n-case $ac_cv_c_uint32_t in #(\n-  no|yes) ;; #(\n-  *)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_header_stdint $acx_cv_header_stdint_kind\" >&5\n+$as_echo \"$acx_cv_header_stdint $acx_cv_header_stdint_kind\" >&6; }\n \n-$as_echo \"#define _UINT32_T 1\" >>confdefs.h\n+# ----------------- done included file, check C basic types --------\n \n+# Lacking an uintptr_t?  Test size of void *\n+case \"$acx_cv_header_stdint:$ac_cv_type_uintptr_t\" in\n+  stddef.h:* | *:no) # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of void *\" >&5\n+$as_echo_n \"checking size of void *... \" >&6; }\n+if test \"${ac_cv_sizeof_void_p+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (void *))\" \"ac_cv_sizeof_void_p\"        \"$ac_includes_default\"; then :\n \n-cat >>confdefs.h <<_ACEOF\n-#define uint32_t $ac_cv_c_uint32_t\n-_ACEOF\n-;;\n-  esac\n+else\n+  if test \"$ac_cv_type_void_p\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (void *)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_void_p=0\n+   fi\n+fi\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"64\" \"ac_cv_c_uint64_t\"\n-case $ac_cv_c_uint64_t in #(\n-  no|yes) ;; #(\n-  *)\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_void_p\" >&5\n+$as_echo \"$ac_cv_sizeof_void_p\" >&6; }\n \n-$as_echo \"#define _UINT64_T 1\" >>confdefs.h\n \n \n cat >>confdefs.h <<_ACEOF\n-#define uint64_t $ac_cv_c_uint64_t\n+#define SIZEOF_VOID_P $ac_cv_sizeof_void_p\n _ACEOF\n-;;\n-  esac\n \n+ ;;\n+esac\n \n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for unsigned long long int\" >&5\n-$as_echo_n \"checking for unsigned long long int... \" >&6; }\n-if test \"${ac_cv_type_unsigned_long_long_int+set}\" = set; then :\n+# Lacking an uint64_t?  Test size of long\n+case \"$acx_cv_header_stdint:$ac_cv_type_uint64_t:$ac_cv_type_u_int64_t\" in\n+  stddef.h:*:* | *:no:no) # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of long\" >&5\n+$as_echo_n \"checking size of long... \" >&6; }\n+if test \"${ac_cv_sizeof_long+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-  /* For now, do not test the preprocessor; as of 2007 there are too many\n-\t implementations with broken preprocessors.  Perhaps this can\n-\t be revisited in 2012.  In the meantime, code should not expect\n-\t #if to work with literals wider than 32 bits.  */\n-      /* Test literals.  */\n-      long long int ll = 9223372036854775807ll;\n-      long long int nll = -9223372036854775807LL;\n-      unsigned long long int ull = 18446744073709551615ULL;\n-      /* Test constant expressions.   */\n-      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)\n-\t\t     ? 1 : -1)];\n-      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1\n-\t\t     ? 1 : -1)];\n-      int i = 63;\n-int\n-main ()\n-{\n-/* Test availability of runtime routines for shift and division.  */\n-      long long int llmax = 9223372036854775807ll;\n-      unsigned long long int ullmax = 18446744073709551615ull;\n-      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)\n-\t      | (llmax / ll) | (llmax % ll)\n-\t      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)\n-\t      | (ullmax / ull) | (ullmax % ull));\n-  ;\n-  return 0;\n-}\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long))\" \"ac_cv_sizeof_long\"        \"$ac_includes_default\"; then :\n \n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_type_unsigned_long_long_int=yes\n else\n-  ac_cv_type_unsigned_long_long_int=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n+  if test \"$ac_cv_type_long\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (long)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_long=0\n+   fi\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_unsigned_long_long_int\" >&5\n-$as_echo \"$ac_cv_type_unsigned_long_long_int\" >&6; }\n-  if test $ac_cv_type_unsigned_long_long_int = yes; then\n-\n-$as_echo \"#define HAVE_UNSIGNED_LONG_LONG_INT 1\" >>confdefs.h\n-\n-  fi\n \n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long\" >&5\n+$as_echo \"$ac_cv_sizeof_long\" >&6; }\n \n \n-  ac_fn_c_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_uintmax_t\" = x\"\"yes; then :\n-\n-$as_echo \"#define HAVE_UINTMAX_T 1\" >>confdefs.h\n-\n-else\n-  test $ac_cv_type_unsigned_long_long_int = yes \\\n-       && ac_type='unsigned long long int' \\\n-       || ac_type='unsigned long int'\n \n cat >>confdefs.h <<_ACEOF\n-#define uintmax_t $ac_type\n+#define SIZEOF_LONG $ac_cv_sizeof_long\n _ACEOF\n \n-fi\n-\n+ ;;\n+esac\n \n+if test $acx_cv_header_stdint = stddef.h; then\n+  # Lacking a good header?  Test size of everything and deduce all types.\n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of int\" >&5\n+$as_echo_n \"checking size of int... \" >&6; }\n+if test \"${ac_cv_sizeof_int+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (int))\" \"ac_cv_sizeof_int\"        \"$ac_includes_default\"; then :\n \n-  ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n+else\n+  if test \"$ac_cv_type_int\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (int)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_int=0\n+   fi\n+fi\n \n-$as_echo \"#define HAVE_UINTPTR_T 1\" >>confdefs.h\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int\" >&5\n+$as_echo \"$ac_cv_sizeof_int\" >&6; }\n \n-else\n-  for ac_type in 'unsigned int' 'unsigned long int' \\\n-\t'unsigned long long int'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(sizeof (void *) <= sizeof ($ac_type))];\n-test_array [0] = 0\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n \n cat >>confdefs.h <<_ACEOF\n-#define uintptr_t $ac_type\n+#define SIZEOF_INT $ac_cv_sizeof_int\n _ACEOF\n \n-\t  ac_type=\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       test -z \"$ac_type\" && break\n-     done\n-fi\n-\n-\n-\n \n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of short\" >&5\n+$as_echo_n \"checking size of short... \" >&6; }\n+if test \"${ac_cv_sizeof_short+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (short))\" \"ac_cv_sizeof_short\"        \"$ac_includes_default\"; then :\n \n+else\n+  if test \"$ac_cv_type_short\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (short)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_short=0\n+   fi\n+fi\n \n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_short\" >&5\n+$as_echo \"$ac_cv_sizeof_short\" >&6; }\n \n \n \n+cat >>confdefs.h <<_ACEOF\n+#define SIZEOF_SHORT $ac_cv_sizeof_short\n+_ACEOF\n \n \n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of char\" >&5\n+$as_echo_n \"checking size of char... \" >&6; }\n+if test \"${ac_cv_sizeof_char+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (char))\" \"ac_cv_sizeof_char\"        \"$ac_includes_default\"; then :\n \n+else\n+  if test \"$ac_cv_type_char\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (char)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_char=0\n+   fi\n+fi\n \n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_char\" >&5\n+$as_echo \"$ac_cv_sizeof_char\" >&6; }\n \n \n-ac_fn_c_check_type \"$LINENO\" \"int_least32_t\" \"ac_cv_type_int_least32_t\" \"#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n-\"\n-if test \"x$ac_cv_type_int_least32_t\" = x\"\"yes; then :\n \n cat >>confdefs.h <<_ACEOF\n-#define HAVE_INT_LEAST32_T 1\n+#define SIZEOF_CHAR $ac_cv_sizeof_char\n _ACEOF\n \n \n-fi\n-ac_fn_c_check_type \"$LINENO\" \"int_fast32_t\" \"ac_cv_type_int_fast32_t\" \"#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n-\"\n-if test \"x$ac_cv_type_int_fast32_t\" = x\"\"yes; then :\n-\n-cat >>confdefs.h <<_ACEOF\n-#define HAVE_INT_FAST32_T 1\n-_ACEOF\n-\n \n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int8_t\" >&5\n+$as_echo_n \"checking for type equivalent to int8_t... \" >&6; }\n+  case \"$ac_cv_sizeof_char\" in\n+    1) acx_cv_type_int8_t=char ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 8-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int8_t\" >&5\n+$as_echo \"$acx_cv_type_int8_t\" >&6; }\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int16_t\" >&5\n+$as_echo_n \"checking for type equivalent to int16_t... \" >&6; }\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_short\" in\n+    2:*) acx_cv_type_int16_t=int ;;\n+    *:2) acx_cv_type_int16_t=short ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 16-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int16_t\" >&5\n+$as_echo \"$acx_cv_type_int16_t\" >&6; }\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int32_t\" >&5\n+$as_echo_n \"checking for type equivalent to int32_t... \" >&6; }\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_long\" in\n+    4:*) acx_cv_type_int32_t=int ;;\n+    *:4) acx_cv_type_int32_t=long ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 32-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int32_t\" >&5\n+$as_echo \"$acx_cv_type_int32_t\" >&6; }\n fi\n \n+# These tests are here to make the output prettier\n \n+if test \"$ac_cv_type_uint64_t\" != yes && test \"$ac_cv_type_u_int64_t\" != yes; then\n+  case \"$ac_cv_sizeof_long\" in\n+    8) acx_cv_type_int64_t=long ;;\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int64_t\" >&5\n+$as_echo_n \"checking for type equivalent to int64_t... \" >&6; }\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: ${acx_cv_type_int64_t-'using preprocessor symbols'}\" >&5\n+$as_echo \"${acx_cv_type_int64_t-'using preprocessor symbols'}\" >&6; }\n+fi\n+\n+# Now we can use the above types\n+\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to intptr_t\" >&5\n+$as_echo_n \"checking for type equivalent to intptr_t... \" >&6; }\n+  case $ac_cv_sizeof_void_p in\n+    2) acx_cv_type_intptr_t=int16_t ;;\n+    4) acx_cv_type_intptr_t=int32_t ;;\n+    8) acx_cv_type_intptr_t=int64_t ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no equivalent for intptr_t\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_intptr_t\" >&5\n+$as_echo \"$acx_cv_type_intptr_t\" >&6; }\n+fi\n \n-\n-\n+# ----------------- done all checks, emit header -------------\n ac_config_commands=\"$ac_config_commands gstdint.h\"\n \n \n@@ -5716,8 +5551,22 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n # INIT-COMMANDS\n #\n \n+GCC=\"$GCC\"\n+CC=\"$CC\"\n+acx_cv_header_stdint=\"$acx_cv_header_stdint\"\n+acx_cv_type_int8_t=\"$acx_cv_type_int8_t\"\n+acx_cv_type_int16_t=\"$acx_cv_type_int16_t\"\n+acx_cv_type_int32_t=\"$acx_cv_type_int32_t\"\n+acx_cv_type_int64_t=\"$acx_cv_type_int64_t\"\n+acx_cv_type_intptr_t=\"$acx_cv_type_intptr_t\"\n+ac_cv_type_uintmax_t=\"$ac_cv_type_uintmax_t\"\n+ac_cv_type_uintptr_t=\"$ac_cv_type_uintptr_t\"\n+ac_cv_type_uint64_t=\"$ac_cv_type_uint64_t\"\n+ac_cv_type_u_int64_t=\"$ac_cv_type_u_int64_t\"\n+ac_cv_type_u_int32_t=\"$ac_cv_type_u_int32_t\"\n ac_cv_type_int_least32_t=\"$ac_cv_type_int_least32_t\"\n ac_cv_type_int_fast32_t=\"$ac_cv_type_int_fast32_t\"\n+ac_cv_sizeof_void_p=\"$ac_cv_sizeof_void_p\"\n \n \n _ACEOF\n@@ -6271,58 +6120,330 @@ $as_echo \"$as_me: executing $ac_file commands\" >&6;}\n \n   case $ac_file$ac_mode in\n     \"gstdint.h\":C)\n-cat > $tmp/gstdint.h <<EOF\n-#ifndef GCC_GENERATED_STDINT_H\n-#define GCC_GENERATED_STDINT_H 1\n+if test \"$GCC\" = yes; then\n+  echo \"/* generated for \" `$CC --version | sed 1q` \"*/\" > tmp-stdint.h\n+else\n+  echo \"/* generated for $CC */\" > tmp-stdint.h\n+fi\n \n-#include \"config.h\"\n-#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #ifndef GCC_GENERATED_STDINT_H\n+  #define GCC_GENERATED_STDINT_H 1\n+\n+  #include <sys/types.h>\n EOF\n \n+if test \"$acx_cv_header_stdint\" != stdint.h; then\n+  echo \"#include <stddef.h>\" >> tmp-stdint.h\n+fi\n+if test \"$acx_cv_header_stdint\" != stddef.h; then\n+  echo \"#include <$acx_cv_header_stdint>\" >> tmp-stdint.h\n+fi\n+\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+  /* glibc uses these symbols as guards to prevent redefinitions.  */\n+  #ifdef __int8_t_defined\n+  #define _INT8_T\n+  #define _INT16_T\n+  #define _INT32_T\n+  #endif\n+  #ifdef __uint32_t_defined\n+  #define _UINT32_T\n+  #endif\n+\n+EOF\n+\n+# ----------------- done header, emit basic int types -------------\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef unsigned $acx_cv_type_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef unsigned $acx_cv_type_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef unsigned $acx_cv_type_int32_t uint32_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #ifndef __int8_t_defined\n+    #define __int8_t_defined\n+    typedef $acx_cv_type_int8_t int8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #ifndef __int16_t_defined\n+    #define __int16_t_defined\n+    typedef $acx_cv_type_int16_t int16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #ifndef __int32_t_defined\n+    #define __int32_t_defined\n+    typedef $acx_cv_type_int32_t int32_t;\n+    #endif\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int32_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* int8_t int16_t int32_t defined by inet code, we do the u_intXX types */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef u_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef u_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef u_int32_t uint32_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Some systems have guard macros to prevent redefinitions, define them.  */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #endif\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #endif\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done basic int types, emit int64_t types ------------\n+if test \"$ac_cv_type_uint64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have good uint64_t and int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have an u_int64_t (and int64_t) */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef u_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+elif test -n \"$acx_cv_type_int64_t\"; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* architecture has a 64-bit type, $acx_cv_type_int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    typedef $acx_cv_type_int64_t int64_t;\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef unsigned $acx_cv_type_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* some common heuristics for int64_t, using compiler-specific tests */\n+    #if defined __STDC_VERSION__ && (__STDC_VERSION__-0) >= 199901L\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #ifndef __int64_t_defined\n+    typedef long long int64_t;\n+    #endif\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    typedef unsigned long long uint64_t;\n+    #endif\n+\n+    #elif defined __GNUC__ && defined (__STDC__) && __STDC__-0\n+    /* NextStep 2.0 cc is really gcc 1.93 but it defines __GNUC__ = 2 and\n+       does not implement __extension__.  But that compiler doesn't define\n+       __GNUC_MINOR__.  */\n+    # if __GNUC__ < 2 || (__NeXT__ && !__GNUC_MINOR__)\n+    # define __extension__\n+    # endif\n+\n+    # ifndef _INT64_T\n+    # define _INT64_T\n+    __extension__ typedef long long int64_t;\n+    # endif\n+    # ifndef _UINT64_T\n+    # define _UINT64_T\n+    __extension__ typedef unsigned long long uint64_t;\n+    # endif\n+\n+    #elif !defined __STRICT_ANSI__\n+    # if defined _MSC_VER || defined __WATCOMC__ || defined __BORLANDC__\n+\n+    #  ifndef _INT64_T\n+    #  define _INT64_T\n+    typedef __int64 int64_t;\n+    #  endif\n+    #  ifndef _UINT64_T\n+    #  define _UINT64_T\n+    typedef unsigned __int64 uint64_t;\n+    #  endif\n+    # endif /* compiler */\n+\n+    #endif /* ANSI version */\n+EOF\n+fi\n+\n+# ------------- done int64_t types, emit intptr types ------------\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intptr_t based on sizeof(void*) = $ac_cv_sizeof_void_p */\n+    #ifndef __uintptr_t_defined\n+    typedef u$acx_cv_type_intptr_t uintptr_t;\n+    #endif\n+    #ifndef __intptr_t_defined\n+    typedef $acx_cv_type_intptr_t  intptr_t;\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done intptr types, emit int_least types ------------\n if test \"$ac_cv_type_int_least32_t\" != yes; then\n-  sed 's/^ *//' >> $tmp/gstdint.h <<EOF\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_least types */\n     typedef int8_t     int_least8_t;\n     typedef int16_t    int_least16_t;\n     typedef int32_t    int_least32_t;\n+    #ifdef _INT64_T\n     typedef int64_t    int_least64_t;\n+    #endif\n \n     typedef uint8_t    uint_least8_t;\n     typedef uint16_t   uint_least16_t;\n     typedef uint32_t   uint_least32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t   uint_least64_t;\n+    #endif\n EOF\n fi\n \n+# ------------- done intptr types, emit int_fast types ------------\n if test \"$ac_cv_type_int_fast32_t\" != yes; then\n-      sed 's/^ *//' >> $tmp/gstdint.h <<EOF\n+      sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_fast types.  short is often slow */\n     typedef int8_t       int_fast8_t;\n     typedef int          int_fast16_t;\n     typedef int32_t      int_fast32_t;\n+    #ifdef _INT64_T\n     typedef int64_t      int_fast64_t;\n+    #endif\n \n     typedef uint8_t      uint_fast8_t;\n     typedef unsigned int uint_fast16_t;\n     typedef uint32_t     uint_fast32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t     uint_fast64_t;\n+    #endif\n+EOF\n+fi\n+\n+if test \"$ac_cv_type_uintmax_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intmax based on what we found */\n+    #ifdef _INT64_T\n+    typedef int64_t       intmax_t;\n+    #else\n+    typedef long          intmax_t;\n+    #endif\n+    #ifdef _UINT64_T\n+    typedef uint64_t      uintmax_t;\n+    #else\n+    typedef unsigned long uintmax_t;\n+    #endif\n EOF\n fi\n \n-echo '#endif /* GCC_GENERATED_STDINT_H */' >> $tmp/gstdint.h\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #endif /* GCC_GENERATED_STDINT_H */\n+EOF\n \n-if test -r gstdint.h && cmp -s $tmp/gstdint.h gstdint.h; then\n-  rm -f $tmp/gstdint.h\n+if test -r gstdint.h && cmp -s tmp-stdint.h gstdint.h; then\n+  rm -f tmp-stdint.h\n else\n-  mv -f $tmp/gstdint.h gstdint.h\n+  mv -f tmp-stdint.h gstdint.h\n fi\n \n  ;;"}, {"sha": "f46f11a861efb534e0b39a6aa27dcaa08ca1d90f", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -1,3 +1,7 @@\n+2009-09-09  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\t* configure: Regenerate.\n+\n 2009-09-08  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* configure: Regenerate."}, {"sha": "2738f51337dba0f9f383c80aa87510f8bc509bfd", "filename": "libgfortran/configure", "status": "modified", "additions": 767, "deletions": 428, "changes": 1195, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c13e029be40bf6d2203c11dfdd79e3fd6625a102/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=c13e029be40bf6d2203c11dfdd79e3fd6625a102", "patch": "@@ -2127,128 +2127,183 @@ fi\n \n } # ac_fn_c_check_header_mongrel\n \n-# ac_fn_c_find_intX_t LINENO BITS VAR\n-# -----------------------------------\n-# Finds a signed integer type with width BITS, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_find_intX_t ()\n+# ac_fn_c_compute_int LINENO EXPR VAR INCLUDES\n+# --------------------------------------------\n+# Tries to find the compile-time value of EXPR in a program that includes\n+# INCLUDES, setting VAR accordingly. Returns whether the value could be\n+# computed\n+ac_fn_c_compute_int ()\n {\n   as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for int$2_t\" >&5\n-$as_echo_n \"checking for int$2_t... \" >&6; }\n-if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  eval \"$3=no\"\n-     for ac_type in int$2_t 'int' 'long int' \\\n-\t 'long long int' 'short int' 'signed char'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+  if test \"$cross_compiling\" = yes; then\n+    # Depending upon the size, compute the lo and hi bounds.\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$ac_includes_default\n+$4\n int\n main ()\n {\n-static int test_array [1 - 2 * !(0 < ($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 1))];\n+static int test_array [1 - 2 * !(($2) >= 0)];\n test_array [0] = 0\n \n   ;\n   return 0;\n }\n _ACEOF\n if ac_fn_c_try_compile \"$LINENO\"; then :\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+  ac_lo=0 ac_mid=0\n+  while :; do\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$ac_includes_default\n+$4\n int\n main ()\n {\n-static int test_array [1 - 2 * !(($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 1)\n-\t\t < ($ac_type) (((($ac_type) 1 << ($2 - 2)) - 1) * 2 + 2))];\n+static int test_array [1 - 2 * !(($2) <= $ac_mid)];\n test_array [0] = 0\n \n   ;\n   return 0;\n }\n _ACEOF\n if ac_fn_c_try_compile \"$LINENO\"; then :\n-\n+  ac_hi=$ac_mid; break\n else\n-  case $ac_type in #(\n-  int$2_t) :\n-    eval \"$3=yes\" ;; #(\n-  *) :\n-    eval \"$3=\\$ac_type\" ;;\n-esac\n+  as_fn_arith $ac_mid + 1 && ac_lo=$as_val\n+\t\t\tif test $ac_lo -le $ac_mid; then\n+\t\t\t  ac_lo= ac_hi=\n+\t\t\t  break\n+\t\t\tfi\n+\t\t\tas_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+  done\n+else\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !(($2) < 0)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_hi=-1 ac_mid=-1\n+  while :; do\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+int\n+main ()\n+{\n+static int test_array [1 - 2 * !(($2) >= $ac_mid)];\n+test_array [0] = 0\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_compile \"$LINENO\"; then :\n+  ac_lo=$ac_mid; break\n+else\n+  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val\n+\t\t\tif test $ac_mid -le $ac_hi; then\n+\t\t\t  ac_lo= ac_hi=\n+\t\t\t  break\n+\t\t\tfi\n+\t\t\tas_fn_arith 2 '*' $ac_mid && ac_mid=$as_val\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       eval as_val=\\$$3\n-   if test \"x$as_val\" = x\"\"no; then :\n-\n+  done\n else\n-  break\n+  ac_lo= ac_hi=\n fi\n-     done\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n-  eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n-\n-} # ac_fn_c_find_intX_t\n-\n-# ac_fn_c_find_uintX_t LINENO BITS VAR\n-# ------------------------------------\n-# Finds an unsigned integer type with width BITS, setting cache variable VAR\n-# accordingly.\n-ac_fn_c_find_uintX_t ()\n-{\n-  as_lineno=${as_lineno-\"$1\"} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for uint$2_t\" >&5\n-$as_echo_n \"checking for uint$2_t... \" >&6; }\n-if { as_var=$3; eval \"test \\\"\\${$as_var+set}\\\" = set\"; }; then :\n-  $as_echo_n \"(cached) \" >&6\n-else\n-  eval \"$3=no\"\n-     for ac_type in uint$2_t 'unsigned int' 'unsigned long int' \\\n-\t 'unsigned long long int' 'unsigned short int' 'unsigned char'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+# Binary search between lo and hi bounds.\n+while test \"x$ac_lo\" != \"x$ac_hi\"; do\n+  as_fn_arith '(' $ac_hi - $ac_lo ')' / 2 + $ac_lo && ac_mid=$as_val\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n-$ac_includes_default\n+$4\n int\n main ()\n {\n-static int test_array [1 - 2 * !(($ac_type) -1 >> ($2 - 1) == 1)];\n+static int test_array [1 - 2 * !(($2) <= $ac_mid)];\n test_array [0] = 0\n \n   ;\n   return 0;\n }\n _ACEOF\n if ac_fn_c_try_compile \"$LINENO\"; then :\n-  case $ac_type in #(\n-  uint$2_t) :\n-    eval \"$3=yes\" ;; #(\n-  *) :\n-    eval \"$3=\\$ac_type\" ;;\n-esac\n+  ac_hi=$ac_mid\n+else\n+  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val\n fi\n rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       eval as_val=\\$$3\n-   if test \"x$as_val\" = x\"\"no; then :\n+done\n+case $ac_lo in #((\n+?*) eval \"$3=\\$ac_lo\"; ac_retval=0 ;;\n+'') ac_retval=1 ;;\n+esac\n+  else\n+    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+$4\n+static long int longval () { return $2; }\n+static unsigned long int ulongval () { return $2; }\n+#include <stdio.h>\n+#include <stdlib.h>\n+int\n+main ()\n+{\n \n+  FILE *f = fopen (\"conftest.val\", \"w\");\n+  if (! f)\n+    return 1;\n+  if (($2) < 0)\n+    {\n+      long int i = longval ();\n+      if (i != ($2))\n+\treturn 1;\n+      fprintf (f, \"%ld\", i);\n+    }\n+  else\n+    {\n+      unsigned long int i = ulongval ();\n+      if (i != ($2))\n+\treturn 1;\n+      fprintf (f, \"%lu\", i);\n+    }\n+  /* Do not output a trailing newline, as this causes \\r\\n confusion\n+     on some platforms.  */\n+  return ferror (f) || fclose (f) != 0;\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_c_try_run \"$LINENO\"; then :\n+  echo >>conftest.val; read $3 <conftest.val; ac_retval=0\n else\n-  break\n-fi\n-     done\n+  ac_retval=1\n fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_res\" >&5\n-$as_echo \"$ac_res\" >&6; }\n+rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n+  conftest.$ac_objext conftest.beam conftest.$ac_ext\n+rm -f conftest.val\n+\n+  fi\n   eval $as_lineno_stack; test \"x$as_lineno_stack\" = x && { as_lineno=; unset as_lineno;}\n+  return $ac_retval\n \n-} # ac_fn_c_find_uintX_t\n+} # ac_fn_c_compute_int\n \n # ac_fn_c_check_member LINENO AGGR MEMBER VAR INCLUDES\n # ----------------------------------------------------\n@@ -5503,13 +5558,13 @@ if test \"${lt_cv_nm_interface+set}\" = set; then :\n else\n   lt_cv_nm_interface=\"BSD nm\"\n   echo \"int some_variable = 0;\" > conftest.$ac_ext\n-  (eval echo \"\\\"\\$as_me:5506: $ac_compile\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:5561: $ac_compile\\\"\" >&5)\n   (eval \"$ac_compile\" 2>conftest.err)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:5509: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:5564: $NM \\\\\\\"conftest.$ac_objext\\\\\\\"\\\"\" >&5)\n   (eval \"$NM \\\"conftest.$ac_objext\\\"\" 2>conftest.err > conftest.out)\n   cat conftest.err >&5\n-  (eval echo \"\\\"\\$as_me:5512: output\\\"\" >&5)\n+  (eval echo \"\\\"\\$as_me:5567: output\\\"\" >&5)\n   cat conftest.out >&5\n   if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n     lt_cv_nm_interface=\"MS dumpbin\"\n@@ -6714,7 +6769,7 @@ ia64-*-hpux*)\n   ;;\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 6717 \"configure\"' > conftest.$ac_ext\n+  echo '#line 6772 \"configure\"' > conftest.$ac_ext\n   if { { eval echo \"\\\"\\$as_me\\\":${as_lineno-$LINENO}: \\\"$ac_compile\\\"\"; } >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -8248,11 +8303,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:8251: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:8306: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:8255: \\$? = $ac_status\" >&5\n+   echo \"$as_me:8310: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -8587,11 +8642,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:8590: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:8645: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:8594: \\$? = $ac_status\" >&5\n+   echo \"$as_me:8649: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -8692,11 +8747,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:8695: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:8750: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:8699: \\$? = $ac_status\" >&5\n+   echo \"$as_me:8754: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -8747,11 +8802,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:8750: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:8805: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:8754: \\$? = $ac_status\" >&5\n+   echo \"$as_me:8809: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -11156,7 +11211,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11159 \"configure\"\n+#line 11214 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11252,7 +11307,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11255 \"configure\"\n+#line 11310 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -12496,11 +12551,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12499: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12554: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:12503: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12558: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -12595,11 +12650,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12598: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12653: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12602: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12657: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -12647,11 +12702,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:12650: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:12705: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:12654: \\$? = $ac_status\" >&5\n+   echo \"$as_me:12709: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -15007,414 +15062,412 @@ $as_echo \"#define HAVE_COMPLEX_H 1\" >>confdefs.h\n fi\n \n \n-ac_fn_c_find_intX_t \"$LINENO\" \"8\" \"ac_cv_c_int8_t\"\n-case $ac_cv_c_int8_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int8_t $ac_cv_c_int8_t\n-_ACEOF\n-;;\n-esac\n-\n-ac_fn_c_find_intX_t \"$LINENO\" \"16\" \"ac_cv_c_int16_t\"\n-case $ac_cv_c_int16_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int16_t $ac_cv_c_int16_t\n-_ACEOF\n-;;\n-esac\n \n-ac_fn_c_find_intX_t \"$LINENO\" \"32\" \"ac_cv_c_int32_t\"\n-case $ac_cv_c_int32_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int32_t $ac_cv_c_int32_t\n-_ACEOF\n-;;\n-esac\n-\n-ac_fn_c_find_intX_t \"$LINENO\" \"64\" \"ac_cv_c_int64_t\"\n-case $ac_cv_c_int64_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-cat >>confdefs.h <<_ACEOF\n-#define int64_t $ac_cv_c_int64_t\n-_ACEOF\n-;;\n-esac\n \n+inttype_headers=`echo inttypes.h sys/inttypes.h  | sed -e 's/,/ /g'`\n \n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for long long int\" >&5\n-$as_echo_n \"checking for long long int... \" >&6; }\n-if test \"${ac_cv_type_long_long_int+set}\" = set; then :\n-  $as_echo_n \"(cached) \" >&6\n+acx_cv_header_stdint=stddef.h\n+acx_cv_header_stdint_kind=\"(already complete)\"\n+for i in stdint.h $inttype_headers; do\n+  unset ac_cv_type_uintptr_t\n+  unset ac_cv_type_uintmax_t\n+  unset ac_cv_type_int_least32_t\n+  unset ac_cv_type_int_fast32_t\n+  unset ac_cv_type_uint64_t\n+  $as_echo_n \"looking for a compliant stdint.h in $i, \" >&6\n+  ac_fn_c_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintmax_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n else\n-  if test x$gcc_no_link = xyes; then\n-  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n+  continue\n fi\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n \n-  /* For now, do not test the preprocessor; as of 2007 there are too many\n-\t implementations with broken preprocessors.  Perhaps this can\n-\t be revisited in 2012.  In the meantime, code should not expect\n-\t #if to work with literals wider than 32 bits.  */\n-      /* Test literals.  */\n-      long long int ll = 9223372036854775807ll;\n-      long long int nll = -9223372036854775807LL;\n-      unsigned long long int ull = 18446744073709551615ULL;\n-      /* Test constant expressions.   */\n-      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)\n-\t\t     ? 1 : -1)];\n-      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1\n-\t\t     ? 1 : -1)];\n-      int i = 63;\n-int\n-main ()\n-{\n-/* Test availability of runtime routines for shift and division.  */\n-      long long int llmax = 9223372036854775807ll;\n-      unsigned long long int ullmax = 18446744073709551615ull;\n-      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)\n-\t      | (llmax / ll) | (llmax % ll)\n-\t      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)\n-\t      | (ullmax / ull) | (ullmax % ull));\n-  ;\n-  return 0;\n-}\n+  ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n \n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  \t\t\tif test \"$cross_compiling\" = yes; then :\n-  ac_cv_type_long_long_int=yes\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <limits.h>\n-\t       #ifndef LLONG_MAX\n-\t       # define HALF \\\n-\t\t\t(1LL << (sizeof (long long int) * CHAR_BIT - 2))\n-\t       # define LLONG_MAX (HALF - 1 + HALF)\n-\t       #endif\n-int\n-main ()\n-{\n-long long int n = 1;\n-\t       int i;\n-\t       for (i = 0; ; i++)\n-\t\t {\n-\t\t   long long int m = n << i;\n-\t\t   if (m >> i != n)\n-\t\t     return 1;\n-\t\t   if (LLONG_MAX / 2 < m)\n-\t\t     break;\n-\t\t }\n-\t       return 0;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n-  ac_cv_type_long_long_int=yes\n else\n-  ac_cv_type_long_long_int=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n fi\n \n+  ac_fn_c_check_type \"$LINENO\" \"int_least32_t\" \"ac_cv_type_int_least32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_int_least32_t\" = x\"\"yes; then :\n+\n else\n-  ac_cv_type_long_long_int=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_long_long_int\" >&5\n-$as_echo \"$ac_cv_type_long_long_int\" >&6; }\n-  if test $ac_cv_type_long_long_int = yes; then\n-\n-$as_echo \"#define HAVE_LONG_LONG_INT 1\" >>confdefs.h\n-\n-  fi\n-\n \n+  ac_fn_c_check_type \"$LINENO\" \"int_fast32_t\" \"ac_cv_type_int_fast32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_int_fast32_t\" = x\"\"yes; then :\n \n-  ac_fn_c_check_type \"$LINENO\" \"intmax_t\" \"ac_cv_type_intmax_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_intmax_t\" = x\"\"yes; then :\n+else\n+  acx_cv_header_stdint_kind=\"(mostly complete)\"\n+fi\n \n-$as_echo \"#define HAVE_INTMAX_T 1\" >>confdefs.h\n+  ac_fn_c_check_type \"$LINENO\" \"uint64_t\" \"ac_cv_type_uint64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint64_t\" = x\"\"yes; then :\n \n else\n-  test $ac_cv_type_long_long_int = yes \\\n-       && ac_type='long long int' \\\n-       || ac_type='long int'\n-\n-cat >>confdefs.h <<_ACEOF\n-#define intmax_t $ac_type\n-_ACEOF\n+  acx_cv_header_stdint_kind=\"(lacks uint64_t)\"\n+fi\n \n+  break\n+done\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(lacks uintmax_t)\"\n+  for i in stdint.h $inttype_headers; do\n+    unset ac_cv_type_uintptr_t\n+    unset ac_cv_type_uint32_t\n+    unset ac_cv_type_uint64_t\n+    $as_echo_n \"looking for an incomplete stdint.h in $i, \" >&6\n+    ac_fn_c_check_type \"$LINENO\" \"uint32_t\" \"ac_cv_type_uint32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint32_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n+else\n+  continue\n fi\n \n+    ac_fn_c_check_type \"$LINENO\" \"uint64_t\" \"ac_cv_type_uint64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uint64_t\" = x\"\"yes; then :\n \n+fi\n \n-  ac_fn_c_check_type \"$LINENO\" \"intptr_t\" \"ac_cv_type_intptr_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_intptr_t\" = x\"\"yes; then :\n+    ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n \n-$as_echo \"#define HAVE_INTPTR_T 1\" >>confdefs.h\n+fi\n \n+    break\n+  done\n+fi\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(u_intXX_t style)\"\n+  for i in sys/types.h $inttype_headers; do\n+    unset ac_cv_type_u_int32_t\n+    unset ac_cv_type_u_int64_t\n+    $as_echo_n \"looking for u_intXX_t types in $i, \" >&6\n+    ac_fn_c_check_type \"$LINENO\" \"u_int32_t\" \"ac_cv_type_u_int32_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_u_int32_t\" = x\"\"yes; then :\n+  acx_cv_header_stdint=$i\n else\n-  for ac_type in 'int' 'long int' 'long long int'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(sizeof (void *) <= sizeof ($ac_type))];\n-test_array [0] = 0\n+  continue\n+fi\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n+    ac_fn_c_check_type \"$LINENO\" \"u_int64_t\" \"ac_cv_type_u_int64_t\" \"#include <sys/types.h>\n+#include <$i>\n+\"\n+if test \"x$ac_cv_type_u_int64_t\" = x\"\"yes; then :\n \n-cat >>confdefs.h <<_ACEOF\n-#define intptr_t $ac_type\n-_ACEOF\n+fi\n \n-\t  ac_type=\n+    break\n+  done\n fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       test -z \"$ac_type\" && break\n-     done\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  acx_cv_header_stdint_kind=\"(using manual detection)\"\n fi\n \n+test -z \"$ac_cv_type_uintptr_t\" && ac_cv_type_uintptr_t=no\n+test -z \"$ac_cv_type_uint64_t\" && ac_cv_type_uint64_t=no\n+test -z \"$ac_cv_type_u_int64_t\" && ac_cv_type_u_int64_t=no\n+test -z \"$ac_cv_type_int_least32_t\" && ac_cv_type_int_least32_t=no\n+test -z \"$ac_cv_type_int_fast32_t\" && ac_cv_type_int_fast32_t=no\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"8\" \"ac_cv_c_uint8_t\"\n-case $ac_cv_c_uint8_t in #(\n-  no|yes) ;; #(\n-  *)\n-\n-$as_echo \"#define _UINT8_T 1\" >>confdefs.h\n-\n-\n-cat >>confdefs.h <<_ACEOF\n-#define uint8_t $ac_cv_c_uint8_t\n-_ACEOF\n-;;\n-  esac\n-\n-ac_fn_c_find_uintX_t \"$LINENO\" \"16\" \"ac_cv_c_uint16_t\"\n-case $ac_cv_c_uint16_t in #(\n-  no|yes) ;; #(\n-  *)\n+# ----------------- Summarize what we found so far\n \n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking what to include in gstdint.h\" >&5\n+$as_echo_n \"checking what to include in gstdint.h... \" >&6; }\n \n-cat >>confdefs.h <<_ACEOF\n-#define uint16_t $ac_cv_c_uint16_t\n-_ACEOF\n-;;\n-  esac\n+case `$as_basename -- gstdint.h ||\n+$as_expr X/gstdint.h : '.*/\\([^/][^/]*\\)/*$' \\| \\\n+\t Xgstdint.h : 'X\\(//\\)$' \\| \\\n+\t Xgstdint.h : 'X\\(/\\)' \\| . 2>/dev/null ||\n+$as_echo X/gstdint.h |\n+    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  /^X\\/\\(\\/\\/\\)$/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  /^X\\/\\(\\/\\).*/{\n+\t    s//\\1/\n+\t    q\n+\t  }\n+\t  s/.*/./; q'` in\n+  stdint.h) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: are you sure you want it there?\" >&5\n+$as_echo \"$as_me: WARNING: are you sure you want it there?\" >&2;} ;;\n+  inttypes.h) { $as_echo \"$as_me:${as_lineno-$LINENO}: WARNING: are you sure you want it there?\" >&5\n+$as_echo \"$as_me: WARNING: are you sure you want it there?\" >&2;} ;;\n+  *) ;;\n+esac\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"32\" \"ac_cv_c_uint32_t\"\n-case $ac_cv_c_uint32_t in #(\n-  no|yes) ;; #(\n-  *)\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_header_stdint $acx_cv_header_stdint_kind\" >&5\n+$as_echo \"$acx_cv_header_stdint $acx_cv_header_stdint_kind\" >&6; }\n \n-$as_echo \"#define _UINT32_T 1\" >>confdefs.h\n+# ----------------- done included file, check C basic types --------\n \n+# Lacking an uintptr_t?  Test size of void *\n+case \"$acx_cv_header_stdint:$ac_cv_type_uintptr_t\" in\n+  stddef.h:* | *:no) # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of void *\" >&5\n+$as_echo_n \"checking size of void *... \" >&6; }\n+if test \"${ac_cv_sizeof_void_p+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (void *))\" \"ac_cv_sizeof_void_p\"        \"$ac_includes_default\"; then :\n \n-cat >>confdefs.h <<_ACEOF\n-#define uint32_t $ac_cv_c_uint32_t\n-_ACEOF\n-;;\n-  esac\n+else\n+  if test \"$ac_cv_type_void_p\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (void *)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_void_p=0\n+   fi\n+fi\n \n-ac_fn_c_find_uintX_t \"$LINENO\" \"64\" \"ac_cv_c_uint64_t\"\n-case $ac_cv_c_uint64_t in #(\n-  no|yes) ;; #(\n-  *)\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_void_p\" >&5\n+$as_echo \"$ac_cv_sizeof_void_p\" >&6; }\n \n-$as_echo \"#define _UINT64_T 1\" >>confdefs.h\n \n \n cat >>confdefs.h <<_ACEOF\n-#define uint64_t $ac_cv_c_uint64_t\n+#define SIZEOF_VOID_P $ac_cv_sizeof_void_p\n _ACEOF\n-;;\n-  esac\n \n+ ;;\n+esac\n \n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for unsigned long long int\" >&5\n-$as_echo_n \"checking for unsigned long long int... \" >&6; }\n-if test \"${ac_cv_type_unsigned_long_long_int+set}\" = set; then :\n+# Lacking an uint64_t?  Test size of long\n+case \"$acx_cv_header_stdint:$ac_cv_type_uint64_t:$ac_cv_type_u_int64_t\" in\n+  stddef.h:*:* | *:no:no) # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of long\" >&5\n+$as_echo_n \"checking size of long... \" >&6; }\n+if test \"${ac_cv_sizeof_long+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-  if test x$gcc_no_link = xyes; then\n-  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n-fi\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-  /* For now, do not test the preprocessor; as of 2007 there are too many\n-\t implementations with broken preprocessors.  Perhaps this can\n-\t be revisited in 2012.  In the meantime, code should not expect\n-\t #if to work with literals wider than 32 bits.  */\n-      /* Test literals.  */\n-      long long int ll = 9223372036854775807ll;\n-      long long int nll = -9223372036854775807LL;\n-      unsigned long long int ull = 18446744073709551615ULL;\n-      /* Test constant expressions.   */\n-      typedef int a[((-9223372036854775807LL < 0 && 0 < 9223372036854775807ll)\n-\t\t     ? 1 : -1)];\n-      typedef int b[(18446744073709551615ULL <= (unsigned long long int) -1\n-\t\t     ? 1 : -1)];\n-      int i = 63;\n-int\n-main ()\n-{\n-/* Test availability of runtime routines for shift and division.  */\n-      long long int llmax = 9223372036854775807ll;\n-      unsigned long long int ullmax = 18446744073709551615ull;\n-      return ((ll << 63) | (ll >> 63) | (ll < i) | (ll > i)\n-\t      | (llmax / ll) | (llmax % ll)\n-\t      | (ull << 63) | (ull >> 63) | (ull << i) | (ull >> i)\n-\t      | (ullmax / ull) | (ullmax % ull));\n-  ;\n-  return 0;\n-}\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (long))\" \"ac_cv_sizeof_long\"        \"$ac_includes_default\"; then :\n \n-_ACEOF\n-if ac_fn_c_try_link \"$LINENO\"; then :\n-  ac_cv_type_unsigned_long_long_int=yes\n else\n-  ac_cv_type_unsigned_long_long_int=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n+  if test \"$ac_cv_type_long\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (long)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_long=0\n+   fi\n fi\n-{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_type_unsigned_long_long_int\" >&5\n-$as_echo \"$ac_cv_type_unsigned_long_long_int\" >&6; }\n-  if test $ac_cv_type_unsigned_long_long_int = yes; then\n-\n-$as_echo \"#define HAVE_UNSIGNED_LONG_LONG_INT 1\" >>confdefs.h\n \n-  fi\n-\n-\n-\n-  ac_fn_c_check_type \"$LINENO\" \"uintmax_t\" \"ac_cv_type_uintmax_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_uintmax_t\" = x\"\"yes; then :\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_long\" >&5\n+$as_echo \"$ac_cv_sizeof_long\" >&6; }\n \n-$as_echo \"#define HAVE_UINTMAX_T 1\" >>confdefs.h\n \n-else\n-  test $ac_cv_type_unsigned_long_long_int = yes \\\n-       && ac_type='unsigned long long int' \\\n-       || ac_type='unsigned long int'\n \n cat >>confdefs.h <<_ACEOF\n-#define uintmax_t $ac_type\n+#define SIZEOF_LONG $ac_cv_sizeof_long\n _ACEOF\n \n-fi\n-\n+ ;;\n+esac\n \n+if test $acx_cv_header_stdint = stddef.h; then\n+  # Lacking a good header?  Test size of everything and deduce all types.\n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of int\" >&5\n+$as_echo_n \"checking size of int... \" >&6; }\n+if test \"${ac_cv_sizeof_int+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (int))\" \"ac_cv_sizeof_int\"        \"$ac_includes_default\"; then :\n \n-  ac_fn_c_check_type \"$LINENO\" \"uintptr_t\" \"ac_cv_type_uintptr_t\" \"$ac_includes_default\"\n-if test \"x$ac_cv_type_uintptr_t\" = x\"\"yes; then :\n+else\n+  if test \"$ac_cv_type_int\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (int)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_int=0\n+   fi\n+fi\n \n-$as_echo \"#define HAVE_UINTPTR_T 1\" >>confdefs.h\n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_int\" >&5\n+$as_echo \"$ac_cv_sizeof_int\" >&6; }\n \n-else\n-  for ac_type in 'unsigned int' 'unsigned long int' \\\n-\t'unsigned long long int'; do\n-       cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$ac_includes_default\n-int\n-main ()\n-{\n-static int test_array [1 - 2 * !(sizeof (void *) <= sizeof ($ac_type))];\n-test_array [0] = 0\n \n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \"$LINENO\"; then :\n \n cat >>confdefs.h <<_ACEOF\n-#define uintptr_t $ac_type\n+#define SIZEOF_INT $ac_cv_sizeof_int\n _ACEOF\n \n-\t  ac_type=\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-       test -z \"$ac_type\" && break\n-     done\n-fi\n-\n-\n-\n \n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of short\" >&5\n+$as_echo_n \"checking size of short... \" >&6; }\n+if test \"${ac_cv_sizeof_short+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (short))\" \"ac_cv_sizeof_short\"        \"$ac_includes_default\"; then :\n \n+else\n+  if test \"$ac_cv_type_short\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (short)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_short=0\n+   fi\n+fi\n \n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_short\" >&5\n+$as_echo \"$ac_cv_sizeof_short\" >&6; }\n \n \n \n+cat >>confdefs.h <<_ACEOF\n+#define SIZEOF_SHORT $ac_cv_sizeof_short\n+_ACEOF\n \n \n+  # The cast to long int works around a bug in the HP C Compiler\n+# version HP92453-01 B.11.11.23709.GP, which incorrectly rejects\n+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.\n+# This bug is HP SR number 8606223364.\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: checking size of char\" >&5\n+$as_echo_n \"checking size of char... \" >&6; }\n+if test \"${ac_cv_sizeof_char+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+  if ac_fn_c_compute_int \"$LINENO\" \"(long int) (sizeof (char))\" \"ac_cv_sizeof_char\"        \"$ac_includes_default\"; then :\n \n+else\n+  if test \"$ac_cv_type_char\" = yes; then\n+     { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n+$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n+{ as_fn_set_status 77\n+as_fn_error \"cannot compute sizeof (char)\n+See \\`config.log' for more details.\" \"$LINENO\" 5; }; }\n+   else\n+     ac_cv_sizeof_char=0\n+   fi\n+fi\n \n+fi\n+{ $as_echo \"$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_char\" >&5\n+$as_echo \"$ac_cv_sizeof_char\" >&6; }\n \n \n-ac_fn_c_check_type \"$LINENO\" \"int_least32_t\" \"ac_cv_type_int_least32_t\" \"#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n-\"\n-if test \"x$ac_cv_type_int_least32_t\" = x\"\"yes; then :\n \n cat >>confdefs.h <<_ACEOF\n-#define HAVE_INT_LEAST32_T 1\n+#define SIZEOF_CHAR $ac_cv_sizeof_char\n _ACEOF\n \n \n-fi\n-ac_fn_c_check_type \"$LINENO\" \"int_fast32_t\" \"ac_cv_type_int_fast32_t\" \"#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n-\"\n-if test \"x$ac_cv_type_int_fast32_t\" = x\"\"yes; then :\n-\n-cat >>confdefs.h <<_ACEOF\n-#define HAVE_INT_FAST32_T 1\n-_ACEOF\n-\n \n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int8_t\" >&5\n+$as_echo_n \"checking for type equivalent to int8_t... \" >&6; }\n+  case \"$ac_cv_sizeof_char\" in\n+    1) acx_cv_type_int8_t=char ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 8-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int8_t\" >&5\n+$as_echo \"$acx_cv_type_int8_t\" >&6; }\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int16_t\" >&5\n+$as_echo_n \"checking for type equivalent to int16_t... \" >&6; }\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_short\" in\n+    2:*) acx_cv_type_int16_t=int ;;\n+    *:2) acx_cv_type_int16_t=short ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 16-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int16_t\" >&5\n+$as_echo \"$acx_cv_type_int16_t\" >&6; }\n+\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int32_t\" >&5\n+$as_echo_n \"checking for type equivalent to int32_t... \" >&6; }\n+  case \"$ac_cv_sizeof_int:$ac_cv_sizeof_long\" in\n+    4:*) acx_cv_type_int32_t=int ;;\n+    *:4) acx_cv_type_int32_t=long ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no 32-bit type\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_int32_t\" >&5\n+$as_echo \"$acx_cv_type_int32_t\" >&6; }\n fi\n \n+# These tests are here to make the output prettier\n \n+if test \"$ac_cv_type_uint64_t\" != yes && test \"$ac_cv_type_u_int64_t\" != yes; then\n+  case \"$ac_cv_sizeof_long\" in\n+    8) acx_cv_type_int64_t=long ;;\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to int64_t\" >&5\n+$as_echo_n \"checking for type equivalent to int64_t... \" >&6; }\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: ${acx_cv_type_int64_t-'using preprocessor symbols'}\" >&5\n+$as_echo \"${acx_cv_type_int64_t-'using preprocessor symbols'}\" >&6; }\n+fi\n+\n+# Now we can use the above types\n+\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for type equivalent to intptr_t\" >&5\n+$as_echo_n \"checking for type equivalent to intptr_t... \" >&6; }\n+  case $ac_cv_sizeof_void_p in\n+    2) acx_cv_type_intptr_t=int16_t ;;\n+    4) acx_cv_type_intptr_t=int32_t ;;\n+    8) acx_cv_type_intptr_t=int64_t ;;\n+    *) { as_fn_set_status please report a bug\n+as_fn_error \"no equivalent for intptr_t\" \"$LINENO\" 5; }\n+  esac\n+  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $acx_cv_type_intptr_t\" >&5\n+$as_echo \"$acx_cv_type_intptr_t\" >&6; }\n+fi\n \n-\n-\n+# ----------------- done all checks, emit header -------------\n ac_config_commands=\"$ac_config_commands gstdint.h\"\n \n \n@@ -25201,8 +25254,22 @@ fi\n \n \n \n+GCC=\"$GCC\"\n+CC=\"$CC\"\n+acx_cv_header_stdint=\"$acx_cv_header_stdint\"\n+acx_cv_type_int8_t=\"$acx_cv_type_int8_t\"\n+acx_cv_type_int16_t=\"$acx_cv_type_int16_t\"\n+acx_cv_type_int32_t=\"$acx_cv_type_int32_t\"\n+acx_cv_type_int64_t=\"$acx_cv_type_int64_t\"\n+acx_cv_type_intptr_t=\"$acx_cv_type_intptr_t\"\n+ac_cv_type_uintmax_t=\"$ac_cv_type_uintmax_t\"\n+ac_cv_type_uintptr_t=\"$ac_cv_type_uintptr_t\"\n+ac_cv_type_uint64_t=\"$ac_cv_type_uint64_t\"\n+ac_cv_type_u_int64_t=\"$ac_cv_type_u_int64_t\"\n+ac_cv_type_u_int32_t=\"$ac_cv_type_u_int32_t\"\n ac_cv_type_int_least32_t=\"$ac_cv_type_int_least32_t\"\n ac_cv_type_int_fast32_t=\"$ac_cv_type_int_fast32_t\"\n+ac_cv_sizeof_void_p=\"$ac_cv_sizeof_void_p\"\n \n \n _ACEOF\n@@ -26709,58 +26776,330 @@ _LT_EOF\n \n  ;;\n     \"gstdint.h\":C)\n-cat > $tmp/gstdint.h <<EOF\n-#ifndef GCC_GENERATED_STDINT_H\n-#define GCC_GENERATED_STDINT_H 1\n+if test \"$GCC\" = yes; then\n+  echo \"/* generated for \" `$CC --version | sed 1q` \"*/\" > tmp-stdint.h\n+else\n+  echo \"/* generated for $CC */\" > tmp-stdint.h\n+fi\n \n-#include \"config.h\"\n-#include <sys/types.h>\n-#ifdef HAVE_STDINT_H\n-#include <stdint.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-#include <inttypes.h>\n-#endif\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #ifndef GCC_GENERATED_STDINT_H\n+  #define GCC_GENERATED_STDINT_H 1\n+\n+  #include <sys/types.h>\n EOF\n \n+if test \"$acx_cv_header_stdint\" != stdint.h; then\n+  echo \"#include <stddef.h>\" >> tmp-stdint.h\n+fi\n+if test \"$acx_cv_header_stdint\" != stddef.h; then\n+  echo \"#include <$acx_cv_header_stdint>\" >> tmp-stdint.h\n+fi\n+\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+  /* glibc uses these symbols as guards to prevent redefinitions.  */\n+  #ifdef __int8_t_defined\n+  #define _INT8_T\n+  #define _INT16_T\n+  #define _INT32_T\n+  #endif\n+  #ifdef __uint32_t_defined\n+  #define _UINT32_T\n+  #endif\n+\n+EOF\n+\n+# ----------------- done header, emit basic int types -------------\n+if test \"$acx_cv_header_stdint\" = stddef.h; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef unsigned $acx_cv_type_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef unsigned $acx_cv_type_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef unsigned $acx_cv_type_int32_t uint32_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #ifndef __int8_t_defined\n+    #define __int8_t_defined\n+    typedef $acx_cv_type_int8_t int8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #ifndef __int16_t_defined\n+    #define __int16_t_defined\n+    typedef $acx_cv_type_int16_t int16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #ifndef __int32_t_defined\n+    #define __int32_t_defined\n+    typedef $acx_cv_type_int32_t int32_t;\n+    #endif\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int32_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* int8_t int16_t int32_t defined by inet code, we do the u_intXX types */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #ifndef __uint8_t_defined\n+    #define __uint8_t_defined\n+    typedef u_int8_t uint8_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #ifndef __uint16_t_defined\n+    #define __uint16_t_defined\n+    typedef u_int16_t uint16_t;\n+    #endif\n+    #endif\n+\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #ifndef __uint32_t_defined\n+    #define __uint32_t_defined\n+    typedef u_int32_t uint32_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Some systems have guard macros to prevent redefinitions, define them.  */\n+    #ifndef _INT8_T\n+    #define _INT8_T\n+    #endif\n+    #ifndef _INT16_T\n+    #define _INT16_T\n+    #endif\n+    #ifndef _INT32_T\n+    #define _INT32_T\n+    #endif\n+    #ifndef _UINT8_T\n+    #define _UINT8_T\n+    #endif\n+    #ifndef _UINT16_T\n+    #define _UINT16_T\n+    #endif\n+    #ifndef _UINT32_T\n+    #define _UINT32_T\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done basic int types, emit int64_t types ------------\n+if test \"$ac_cv_type_uint64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have good uint64_t and int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #endif\n+EOF\n+elif test \"$ac_cv_type_u_int64_t\" = yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* system headers have an u_int64_t (and int64_t) */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef u_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+elif test -n \"$acx_cv_type_int64_t\"; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* architecture has a 64-bit type, $acx_cv_type_int64_t */\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    typedef $acx_cv_type_int64_t int64_t;\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    #ifndef __uint64_t_defined\n+    #define __uint64_t_defined\n+    typedef unsigned $acx_cv_type_int64_t uint64_t;\n+    #endif\n+    #endif\n+EOF\n+else\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* some common heuristics for int64_t, using compiler-specific tests */\n+    #if defined __STDC_VERSION__ && (__STDC_VERSION__-0) >= 199901L\n+    #ifndef _INT64_T\n+    #define _INT64_T\n+    #ifndef __int64_t_defined\n+    typedef long long int64_t;\n+    #endif\n+    #endif\n+    #ifndef _UINT64_T\n+    #define _UINT64_T\n+    typedef unsigned long long uint64_t;\n+    #endif\n+\n+    #elif defined __GNUC__ && defined (__STDC__) && __STDC__-0\n+    /* NextStep 2.0 cc is really gcc 1.93 but it defines __GNUC__ = 2 and\n+       does not implement __extension__.  But that compiler doesn't define\n+       __GNUC_MINOR__.  */\n+    # if __GNUC__ < 2 || (__NeXT__ && !__GNUC_MINOR__)\n+    # define __extension__\n+    # endif\n+\n+    # ifndef _INT64_T\n+    # define _INT64_T\n+    __extension__ typedef long long int64_t;\n+    # endif\n+    # ifndef _UINT64_T\n+    # define _UINT64_T\n+    __extension__ typedef unsigned long long uint64_t;\n+    # endif\n+\n+    #elif !defined __STRICT_ANSI__\n+    # if defined _MSC_VER || defined __WATCOMC__ || defined __BORLANDC__\n+\n+    #  ifndef _INT64_T\n+    #  define _INT64_T\n+    typedef __int64 int64_t;\n+    #  endif\n+    #  ifndef _UINT64_T\n+    #  define _UINT64_T\n+    typedef unsigned __int64 uint64_t;\n+    #  endif\n+    # endif /* compiler */\n+\n+    #endif /* ANSI version */\n+EOF\n+fi\n+\n+# ------------- done int64_t types, emit intptr types ------------\n+if test \"$ac_cv_type_uintptr_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intptr_t based on sizeof(void*) = $ac_cv_sizeof_void_p */\n+    #ifndef __uintptr_t_defined\n+    typedef u$acx_cv_type_intptr_t uintptr_t;\n+    #endif\n+    #ifndef __intptr_t_defined\n+    typedef $acx_cv_type_intptr_t  intptr_t;\n+    #endif\n+EOF\n+fi\n+\n+# ------------- done intptr types, emit int_least types ------------\n if test \"$ac_cv_type_int_least32_t\" != yes; then\n-  sed 's/^ *//' >> $tmp/gstdint.h <<EOF\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_least types */\n     typedef int8_t     int_least8_t;\n     typedef int16_t    int_least16_t;\n     typedef int32_t    int_least32_t;\n+    #ifdef _INT64_T\n     typedef int64_t    int_least64_t;\n+    #endif\n \n     typedef uint8_t    uint_least8_t;\n     typedef uint16_t   uint_least16_t;\n     typedef uint32_t   uint_least32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t   uint_least64_t;\n+    #endif\n EOF\n fi\n \n+# ------------- done intptr types, emit int_fast types ------------\n if test \"$ac_cv_type_int_fast32_t\" != yes; then\n-      sed 's/^ *//' >> $tmp/gstdint.h <<EOF\n+      sed 's/^ *//' >> tmp-stdint.h <<EOF\n \n     /* Define int_fast types.  short is often slow */\n     typedef int8_t       int_fast8_t;\n     typedef int          int_fast16_t;\n     typedef int32_t      int_fast32_t;\n+    #ifdef _INT64_T\n     typedef int64_t      int_fast64_t;\n+    #endif\n \n     typedef uint8_t      uint_fast8_t;\n     typedef unsigned int uint_fast16_t;\n     typedef uint32_t     uint_fast32_t;\n+    #ifdef _UINT64_T\n     typedef uint64_t     uint_fast64_t;\n+    #endif\n+EOF\n+fi\n+\n+if test \"$ac_cv_type_uintmax_t\" != yes; then\n+  sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+    /* Define intmax based on what we found */\n+    #ifdef _INT64_T\n+    typedef int64_t       intmax_t;\n+    #else\n+    typedef long          intmax_t;\n+    #endif\n+    #ifdef _UINT64_T\n+    typedef uint64_t      uintmax_t;\n+    #else\n+    typedef unsigned long uintmax_t;\n+    #endif\n EOF\n fi\n \n-echo '#endif /* GCC_GENERATED_STDINT_H */' >> $tmp/gstdint.h\n+sed 's/^ *//' >> tmp-stdint.h <<EOF\n+\n+  #endif /* GCC_GENERATED_STDINT_H */\n+EOF\n \n-if test -r gstdint.h && cmp -s $tmp/gstdint.h gstdint.h; then\n-  rm -f $tmp/gstdint.h\n+if test -r gstdint.h && cmp -s tmp-stdint.h gstdint.h; then\n+  rm -f tmp-stdint.h\n else\n-  mv -f $tmp/gstdint.h gstdint.h\n+  mv -f tmp-stdint.h gstdint.h\n fi\n \n  ;;"}]}