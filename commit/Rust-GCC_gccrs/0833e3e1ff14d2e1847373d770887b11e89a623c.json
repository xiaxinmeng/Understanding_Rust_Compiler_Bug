{"sha": "0833e3e1ff14d2e1847373d770887b11e89a623c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDgzM2UzZTFmZjE0ZDJlMTg0NzM3M2Q3NzA4ODdiMTFlODlhNjIzYw==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-01-29T12:58:28Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-01-29T13:01:21Z"}, "message": "change unit of --param max-gcse-memory to kB\n\nThis changes it from bytes to kB since its value is limited to\n2147483648.\n\n2021-01-29  Richard Biener  <rguenther@suse.de>\n\n\t* doc/invoke.texi (--param max-gcse-memory): Document unit\n\tof size.\n\t* gcse.c (gcse_or_cprop_is_too_expensive): Adjust.\n\t* params.opt (--param max-gcse-memory): Adjust default and\n\tdocument unit of size.", "tree": {"sha": "6d04dde819c5a53c0275767e04a3db31d4baee5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d04dde819c5a53c0275767e04a3db31d4baee5f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0833e3e1ff14d2e1847373d770887b11e89a623c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0833e3e1ff14d2e1847373d770887b11e89a623c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0833e3e1ff14d2e1847373d770887b11e89a623c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0833e3e1ff14d2e1847373d770887b11e89a623c/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb52e59e33845152cef6f9042a142a246e9447f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb52e59e33845152cef6f9042a142a246e9447f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb52e59e33845152cef6f9042a142a246e9447f6"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "a89d3859d6d9e17018e49309cefe653f2b9797d6", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=0833e3e1ff14d2e1847373d770887b11e89a623c", "patch": "@@ -13075,7 +13075,7 @@ should be removed when the delay slot code is rewritten to maintain the\n control-flow graph.\n \n @item max-gcse-memory\n-The approximate maximum amount of memory that can be allocated in\n+The approximate maximum amount of memory in @code{kB} that can be allocated in\n order to perform the global common subexpression elimination\n optimization.  If more memory than specified is required, the\n optimization is not done."}, {"sha": "2c81fe4133605ad2f620213ee410e162e8adc4c5", "filename": "gcc/gcse.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=0833e3e1ff14d2e1847373d770887b11e89a623c", "patch": "@@ -4007,14 +4007,14 @@ gcse_or_cprop_is_too_expensive (const char *pass)\n \n   /* If allocating memory for the dataflow bitmaps would take up too much\n      storage it's better just to disable the optimization.  */\n-  if (memory_request > (unsigned HOST_WIDE_INT)param_max_gcse_memory)\n+  if (memory_request / 1024 > (unsigned HOST_WIDE_INT)param_max_gcse_memory)\n     {\n       warning (OPT_Wdisabled_optimization,\n \t       \"%s: %d basic blocks and %d registers; \"\n \t       \"increase %<--param max-gcse-memory%> above \"\n \t       HOST_WIDE_INT_PRINT_UNSIGNED,\n \t       pass, n_basic_blocks_for_fn (cfun), max_reg_num (),\n-\t       memory_request);\n+\t       memory_request / 1024);\n \n       return true;\n     }"}, {"sha": "dff8a331f82e44c1b90e5b9f88ffc61e84f03d2d", "filename": "gcc/params.opt", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fparams.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0833e3e1ff14d2e1847373d770887b11e89a623c/gcc%2Fparams.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.opt?ref=0833e3e1ff14d2e1847373d770887b11e89a623c", "patch": "@@ -514,8 +514,8 @@ Common Joined UInteger Var(param_max_gcse_insertion_ratio) Init(20) Param Optimi\n The maximum ratio of insertions to deletions of expressions in GCSE.\n \n -param=max-gcse-memory=\n-Common Joined UInteger Var(param_max_gcse_memory) Init(134217728) Param Optimization\n-The maximum amount of memory to be allocated by GCSE.\n+Common Joined UInteger Var(param_max_gcse_memory) Init(131072) Param Optimization\n+The maximum amount of memory to be allocated by GCSE, in kilobytes.\n \n -param=max-goto-duplication-insns=\n Common Joined UInteger Var(param_max_goto_duplication_insns) Init(8) Param Optimization"}]}