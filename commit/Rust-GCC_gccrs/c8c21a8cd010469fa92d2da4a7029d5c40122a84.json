{"sha": "c8c21a8cd010469fa92d2da4a7029d5c40122a84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhjMjFhOGNkMDEwNDY5ZmE5MmQyZGE0YTcwMjlkNWM0MDEyMmE4NA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-03-26T18:59:04Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-03-26T18:59:04Z"}, "message": "re PR java/5942 (tree check failure when compiling Classpath with strictfp StrictMath class)\n\n\tFix for PR java/5942:\n\t* parse.y (init_src_parse): Added sanity check.\n\t* parse.h (struct parser_ctxt) [modifier_ctx]: Array has 12\n\telements, not 11.\n\nFrom-SVN: r51398", "tree": {"sha": "eab198f6806cee54744cc3682e0f013f9c4bc976", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eab198f6806cee54744cc3682e0f013f9c4bc976"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8c21a8cd010469fa92d2da4a7029d5c40122a84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8c21a8cd010469fa92d2da4a7029d5c40122a84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8c21a8cd010469fa92d2da4a7029d5c40122a84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8c21a8cd010469fa92d2da4a7029d5c40122a84/comments", "author": null, "committer": null, "parents": [{"sha": "46ff5047273650dd7feac4612ffa4892163b9bae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46ff5047273650dd7feac4612ffa4892163b9bae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46ff5047273650dd7feac4612ffa4892163b9bae"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "8549fcb4a7f52e803de26d6fe576b2ea7e08bad4", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=c8c21a8cd010469fa92d2da4a7029d5c40122a84", "patch": "@@ -1,3 +1,10 @@\n+2002-03-26  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR java/5942:\n+\t* parse.y (init_src_parse): Added sanity check.\n+\t* parse.h (struct parser_ctxt) [modifier_ctx]: Array has 12\n+\telements, not 11.\n+\n 2002-03-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* decl.c (lang_mark_tree): Rename java_mark_tree."}, {"sha": "ded6a7000cfa14751b993a12096074f3a1486546", "filename": "gcc/java/parse.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2Fparse.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2Fparse.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.h?ref=c8c21a8cd010469fa92d2da4a7029d5c40122a84", "patch": "@@ -762,7 +762,7 @@ struct parser_ctxt {\n \n   /* This section is defined only if we compile jc1 */\n #ifndef JC1_LITE\n-  tree modifier_ctx [11];\t    /* WFL of modifiers */\n+  tree modifier_ctx [12];\t    /* WFL of modifiers */\n   tree class_type;\t\t    /* Current class */\n   tree function_decl;\t            /* Current function decl, save/restore */\n "}, {"sha": "e8ef2ef6b2b1a117dbd15a62154b5a219349b4d6", "filename": "gcc/java/parse.y", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8c21a8cd010469fa92d2da4a7029d5c40122a84/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=c8c21a8cd010469fa92d2da4a7029d5c40122a84", "patch": "@@ -16013,6 +16013,10 @@ init_src_parse ()\n {\n   /* Register roots with the garbage collector.  */\n   ggc_add_tree_root (src_parse_roots, ARRAY_SIZE (src_parse_roots));\n+\n+  /* Sanity check; we've been bit by this before.  */\n+  if (ARRAY_SIZE (ctxp->modifier_ctx) != MODIFIER_TK - PUBLIC_TK)\n+    abort ();\n }\n \n \f"}]}