{"sha": "8b70770dc804942b65b4526491af69ecc69b795d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI3MDc3MGRjODA0OTQyYjY1YjQ1MjY0OTFhZjY5ZWNjNjliNzk1ZA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely.gcc@gmail.com", "date": "2013-05-28T21:14:21Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2013-05-28T21:14:21Z"}, "message": "compatibility-chrono.cc (steady_clock::now()): If !_GLIBCXX_USE_GETTIMEOFDAY perform conversion inline instead of calling...\n\n\t* src/c++11/compatibility-chrono.cc (steady_clock::now()): If\n\t!_GLIBCXX_USE_GETTIMEOFDAY perform conversion inline instead of\n\tcalling non-existent from_time_t.\n\nFrom-SVN: r199391", "tree": {"sha": "efbcc6b2e6fe77996e0a31224b32d82c414f1c4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efbcc6b2e6fe77996e0a31224b32d82c414f1c4c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b70770dc804942b65b4526491af69ecc69b795d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b70770dc804942b65b4526491af69ecc69b795d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b70770dc804942b65b4526491af69ecc69b795d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b70770dc804942b65b4526491af69ecc69b795d/comments", "author": null, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36536d79af79b5a252356e79e62b851f3f2bedf9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36536d79af79b5a252356e79e62b851f3f2bedf9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36536d79af79b5a252356e79e62b851f3f2bedf9"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "85e96a382ceda8f4a67dffc62d7669c84f105450", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b70770dc804942b65b4526491af69ecc69b795d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b70770dc804942b65b4526491af69ecc69b795d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=8b70770dc804942b65b4526491af69ecc69b795d", "patch": "@@ -1,3 +1,9 @@\n+2013-05-28  Jonathan Wakely  <jwakely.gcc@gmail.com>\n+\n+\t* src/c++11/compatibility-chrono.cc (steady_clock::now()): If\n+\t!_GLIBCXX_USE_GETTIMEOFDAY perform conversion inline instead of\n+\tcalling non-existent from_time_t.\n+\n 2013-05-28  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config/abi/post/solaris2.10/sparcv9/baseline_symbols.txt:"}, {"sha": "efc32f5ff955f4d123677918241824ac01064f61", "filename": "libstdc++-v3/src/c++11/compatibility-chrono.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b70770dc804942b65b4526491af69ecc69b795d/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fcompatibility-chrono.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b70770dc804942b65b4526491af69ecc69b795d/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fcompatibility-chrono.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fcompatibility-chrono.cc?ref=8b70770dc804942b65b4526491af69ecc69b795d", "patch": "@@ -78,7 +78,10 @@ namespace std _GLIBCXX_VISIBILITY(default)\n \t\t\t\t + chrono::microseconds(tv.tv_usec)));\n #else\n       std::time_t __sec = std::time(0);\n-      return system_clock::from_time_t(__sec);\n+      // This is the conversion done by system_clock::from_time_t(__sec)\n+      typedef chrono::time_point<system_clock, seconds>\t__from;\n+      return time_point_cast<system_clock::duration>\n+\t     (__from(chrono::seconds(__sec)));\n #endif\n     }\n "}]}