{"sha": "4bb6d5fd42cfe938b58575002a79ac332be552ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJiNmQ1ZmQ0MmNmZTkzOGI1ODU3NTAwMmE3OWFjMzMyYmU1NTJhYg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:40:46Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-01-03T15:40:46Z"}, "message": "s-arit64.adb (Double_Divide): Put back changes that got accidentally removed during the previous update (test...\n\n\t* s-arit64.adb (Double_Divide): Put back changes that got accidentally\n\tremoved during the previous update (test properly for case of dividing\n\tlargest negative number by -1, which generates overflow).\n\nFrom-SVN: r92847", "tree": {"sha": "69ac6a51f03e9c01cdff2b69290b007143c2cc8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/69ac6a51f03e9c01cdff2b69290b007143c2cc8f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4bb6d5fd42cfe938b58575002a79ac332be552ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bb6d5fd42cfe938b58575002a79ac332be552ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4bb6d5fd42cfe938b58575002a79ac332be552ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4bb6d5fd42cfe938b58575002a79ac332be552ab/comments", "author": null, "committer": null, "parents": [{"sha": "01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01af9aff566add69b4bd9a5fd0eb2489ba6b19dd"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "fc1d2a0ad5e65e5a9219b66cc4c1a4c38cb77281", "filename": "gcc/ada/s-arit64.adb", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4bb6d5fd42cfe938b58575002a79ac332be552ab/gcc%2Fada%2Fs-arit64.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4bb6d5fd42cfe938b58575002a79ac332be552ab/gcc%2Fada%2Fs-arit64.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-arit64.adb?ref=4bb6d5fd42cfe938b58575002a79ac332be552ab", "patch": "@@ -232,6 +232,19 @@ package body System.Arith_64 is\n       end if;\n \n       Du := Lo (T2) & Lo (T1);\n+\n+      --  Set final signs (RM 4.5.5(27-30))\n+\n+      Den_Pos := (Y < 0) = (Z < 0);\n+\n+      --  Check overflow case of largest negative number divided by 1\n+\n+      if X = Int64'First and then Du = 1 and then not Den_Pos then\n+         Raise_Error;\n+      end if;\n+\n+      --  Perform the actual division\n+\n       Qu := Xu / Du;\n       Ru := Xu rem Du;\n \n@@ -241,10 +254,6 @@ package body System.Arith_64 is\n          Qu := Qu + Uns64'(1);\n       end if;\n \n-      --  Set final signs (RM 4.5.5(27-30))\n-\n-      Den_Pos := (Y < 0) = (Z < 0);\n-\n       --  Case of dividend (X) sign positive\n \n       if X >= 0 then"}]}