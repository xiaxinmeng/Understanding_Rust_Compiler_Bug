{"sha": "c7e04bd6bee064373551293f46e455ff29ba89dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdlMDRiZDZiZWUwNjQzNzM1NTEyOTNmNDZlNDU1ZmYyOWJhODlkYw==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2012-09-15T21:00:38Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2012-09-15T21:00:38Z"}, "message": "vrp82.c: New test.\n\n2012-09-15  Tom de Vries  <tom@codesourcery.com>\n\n\t* gcc.dg/tree-ssa/vrp82.c: New test.\n\t* gcc.dg/tree-ssa/vrp83.c: Same.\n\t* gcc.dg/tree-ssa/vrp84.c: Same.\n\nFrom-SVN: r191352", "tree": {"sha": "976cd4460ac3a7e4f80a676be4927518900b6fb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/976cd4460ac3a7e4f80a676be4927518900b6fb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7e04bd6bee064373551293f46e455ff29ba89dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7e04bd6bee064373551293f46e455ff29ba89dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7e04bd6bee064373551293f46e455ff29ba89dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7e04bd6bee064373551293f46e455ff29ba89dc/comments", "author": null, "committer": null, "parents": [{"sha": "b25d9e22e47f47935cd28c5df552d7bea4a45581", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b25d9e22e47f47935cd28c5df552d7bea4a45581", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b25d9e22e47f47935cd28c5df552d7bea4a45581"}], "stats": {"total": 144, "additions": 144, "deletions": 0}, "files": [{"sha": "6ae64584dc41e9351bfbfc6243eeb3249a378d85", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c7e04bd6bee064373551293f46e455ff29ba89dc", "patch": "@@ -1,3 +1,9 @@\n+2012-09-15  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* gcc.dg/tree-ssa/vrp82.c: New test.\n+\t* gcc.dg/tree-ssa/vrp83.c: Same.\n+\t* gcc.dg/tree-ssa/vrp84.c: Same.\n+\n 2012-09-15  Tom de Vries  <tom@codesourcery.com>\n \n \t* gcc.dg/tree-ssa/vrp80-2.c: Rename to ..."}, {"sha": "8f9b2ff0544d20b06b5c188cec63bbfb89754b65", "filename": "gcc/testsuite/gcc.dg/tree-ssa/vrp82.c", "status": "added", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp82.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp82.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp82.c?ref=c7e04bd6bee064373551293f46e455ff29ba89dc", "patch": "@@ -0,0 +1,57 @@\n+/* { dg-do link } */\n+/* { dg-options \"-O2\" } */\n+\n+extern void link_error (void);\n+\n+void\n+f2 (int c, int b)\n+{\n+  int s = 0;\n+  if (c == 0)\n+    s += 1;\n+  else if (c < 1)\n+    s -= 1;\n+  /* s in [-1, 1].   */\n+  b = (b & 1) + 1;\n+  /* b in range [1, 2].  */\n+  b = s << b;\n+  /* b in range [-4, 4].  */\n+  if (b == -5 || b == 5)\n+    link_error ();\n+}\n+\n+void\n+f3 (int s, int b)\n+{\n+  if (s >> 3 == -2)\n+    {\n+      /* s in range [-16, -9].  */\n+      b = (b & 1) + 1;\n+      /* b in range [1, 2].  */\n+      b = s << b;\n+      /* b in range [bmin << smax, bmax << smin],\n+                    == [-16 << 2, -9 << 1]\n+                    == [-64, -18].  */\n+      if (b == -65 || b == -17)\n+\tlink_error ();\n+    }\n+}\n+\n+void\n+f4 (unsigned int s, unsigned int b)\n+{\n+  s |= ~0xffU;\n+  /* s in [0xffffff00, 0xffffffff].  */\n+  b = (b & 1) + 1;\n+  /* b in [1, 2].  */\n+  b = s << b;\n+  /* s in [0xfffffc00, 0xfffffffe].  */\n+  if (b == ~0x3ffU - 1 || b == ~0x1U + 1)\n+    link_error ();\n+}\n+\n+int\n+main ()\n+{\n+  return 0;\n+}"}, {"sha": "6237adfe944305ad55a90f3827f5201f47dafcf7", "filename": "gcc/testsuite/gcc.dg/tree-ssa/vrp83.c", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp83.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp83.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp83.c?ref=c7e04bd6bee064373551293f46e455ff29ba89dc", "patch": "@@ -0,0 +1,60 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-vrp1\" } */\n+\n+extern void vrp_keep (void);\n+\n+void\n+f2 (int c, int b)\n+{\n+  int s = 0;\n+  if (c == 0)\n+    s += 1;\n+  else if (c < 1)\n+    s -= 1;\n+  /* s in [-1, 1].   */\n+  b = (b & 1) + 1;\n+  /* b in range [1, 2].  */\n+  b = s << b;\n+  /* b in range [-4, 4].  */\n+  if (b == -4)\n+    vrp_keep ();\n+  if (b == 4)\n+    vrp_keep ();\n+}\n+\n+void\n+f3 (int s, int b)\n+{\n+  if (s >> 3 == -2)\n+    {\n+      /* s in range [-16, -9].  */\n+      b = (b & 1) + 1;\n+      /* b in range [1, 2].  */\n+      b =  s << b;\n+      /* b in range [bmin << smax, bmax << smin],\n+                    == [-16 << 2, -9 << 1]\n+                    == [-64, -18].  */\n+      if (b == -64)\n+\tvrp_keep ();\n+      if (b == -18)\n+\tvrp_keep ();\n+    }\n+}\n+\n+void\n+f4 (unsigned int s, unsigned int b)\n+{\n+  s |= ~(0xffU);\n+  /* s in [0xffffff00, 0xffffffff].  */\n+  b = (b & 1) + 1;\n+  /* b in [1, 2].  */\n+  b = s << b;\n+  /* s in [0xfffffc00, 0xfffffffe].  */\n+  if (b == ~0x3ffU)\n+    vrp_keep ();\n+  if (b == ~0x1U)\n+    vrp_keep ();\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"vrp_keep \\\\(\" 6 \"vrp1\"} } */\n+/* { dg-final { cleanup-tree-dump \"vrp1\" } } */"}, {"sha": "8f8dc0d2ebebfdc05fa25b7cdcd113e230012f2e", "filename": "gcc/testsuite/gcc.dg/tree-ssa/vrp84.c", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp84.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7e04bd6bee064373551293f46e455ff29ba89dc/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp84.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fvrp84.c?ref=c7e04bd6bee064373551293f46e455ff29ba89dc", "patch": "@@ -0,0 +1,21 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fdump-tree-vrp1\" } */\n+\n+extern void vrp_keep (void);\n+\n+void\n+f2 (int s, int b)\n+{\n+  if (s > 1)\n+    s = 1;\n+  /* s in [minint, 1].   */\n+  b = (b & 1) + 1;\n+  /* b in range [1, 2].  */\n+  b = s << b;\n+  /* b in range [minint+4, maxint-3].  */\n+  if (b == -2)\n+    vrp_keep ();\n+}\n+\n+/* { dg-final { scan-tree-dump-times \"vrp_keep \\\\(\" 1 \"vrp1\"} } */\n+/* { dg-final { cleanup-tree-dump \"vrp1\" } } */"}]}