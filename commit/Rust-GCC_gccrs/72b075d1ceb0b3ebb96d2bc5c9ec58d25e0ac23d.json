{"sha": "72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzJiMDc1ZDFjZWIwYjNlYmI5NmQyYmM1YzllYzU4ZDI1ZTBhYzIzZA==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2002-07-29T12:41:46Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2002-07-29T12:41:46Z"}, "message": "arm.md (sibcall, [...]): Add RETURN as part of the pattern, remove clobber of LR.\n\n* arm.md (sibcall, sibcall_value): Add RETURN as part of the pattern,\nremove clobber of LR.\n(sibcall_insn, sibcall_value_insn): Update accordingly.\n(sibcall_epilogue): Remove debugging comment from assembler stream.\n\nFrom-SVN: r55836", "tree": {"sha": "94d4a5358a7e2784909df1bb9c16de046774af98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94d4a5358a7e2784909df1bb9c16de046774af98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d/comments", "author": null, "committer": null, "parents": [{"sha": "3f16a8f360923560d9aa0590baa2f18a0b5dd7f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f16a8f360923560d9aa0590baa2f18a0b5dd7f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f16a8f360923560d9aa0590baa2f18a0b5dd7f5"}], "stats": {"total": 24, "additions": 15, "deletions": 9}, "files": [{"sha": "1a105d4659d4f7e425e56a01c88edd4e6f3779a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "patch": "@@ -1,3 +1,10 @@\n+2002-07-29  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm.md (sibcall, sibcall_value): Add RETURN as part of the pattern,\n+\tremove clobber of LR.\n+\t(sibcall_insn, sibcall_value_insn): Update accordingly.\n+\t(sibcall_epilogue): Remove debugging comment from assembler stream.\n+\n 2002-07-29  Gabriel Dos Reis  <gdr@nerim.net>\n \n \t* pretty-print.h: Define more macros."}, {"sha": "9dee56538e4ba28665aa0abd6731ab27a78f1de9", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=72b075d1ceb0b3ebb96d2bc5c9ec58d25e0ac23d", "patch": "@@ -6691,8 +6691,8 @@\n (define_expand \"sibcall\"\n   [(parallel [(call (match_operand 0 \"memory_operand\" \"\")\n \t\t    (match_operand 1 \"general_operand\" \"\"))\n-\t      (use (match_operand 2 \"\" \"\"))\n-\t      (use (reg:SI LR_REGNUM))])]\n+\t      (return)\n+\t      (use (match_operand 2 \"\" \"\"))])]\n   \"TARGET_ARM\"\n   \"\n   {\n@@ -6705,8 +6705,8 @@\n   [(parallel [(set (match_operand 0 \"register_operand\" \"\")\n \t\t   (call (match_operand 1 \"memory_operand\" \"\")\n \t\t\t (match_operand 2 \"general_operand\" \"\")))\n-\t      (use (match_operand 3 \"\" \"\"))\n-\t      (use (reg:SI LR_REGNUM))])]\n+\t      (return)\n+\t      (use (match_operand 3 \"\" \"\"))])]\n   \"TARGET_ARM\"\n   \"\n   {\n@@ -6718,8 +6718,8 @@\n (define_insn \"*sibcall_insn\"\n  [(call (mem:SI (match_operand:SI 0 \"\" \"X\"))\n \t(match_operand 1 \"\" \"\"))\n-  (use (match_operand 2 \"\" \"\"))\n-  (use (reg:SI LR_REGNUM))]\n+  (return)\n+  (use (match_operand 2 \"\" \"\"))]\n   \"TARGET_ARM && GET_CODE (operands[0]) == SYMBOL_REF\"\n   \"*\n   return NEED_PLT_RELOC ? \\\"b%?\\\\t%a0(PLT)\\\" : \\\"b%?\\\\t%a0\\\";\n@@ -6731,8 +6731,8 @@\n  [(set (match_operand 0 \"s_register_operand\" \"=r,f\")\n        (call (mem:SI (match_operand:SI 1 \"\" \"X,X\"))\n \t     (match_operand 2 \"\" \"\")))\n-  (use (match_operand 3 \"\" \"\"))\n-  (use (reg:SI LR_REGNUM))]\n+  (return)\n+  (use (match_operand 3 \"\" \"\"))]\n   \"TARGET_ARM && GET_CODE (operands[1]) == SYMBOL_REF\"\n   \"*\n   return NEED_PLT_RELOC ? \\\"b%?\\\\t%a1(PLT)\\\" : \\\"b%?\\\\t%a1\\\";\n@@ -8656,7 +8656,6 @@\n   [(unspec_volatile [(const_int 0)] VUNSPEC_EPILOGUE)]\n   \"TARGET_ARM\"\n   \"*\n-  output_asm_insn (\\\"%@ Sibcall epilogue\\\", operands);\n   if (USE_RETURN_INSN (FALSE))\n     return output_return_instruction (const_true_rtx, FALSE, FALSE);\n   return arm_output_epilogue (FALSE);"}]}