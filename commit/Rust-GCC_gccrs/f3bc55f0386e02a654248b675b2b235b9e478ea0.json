{"sha": "f3bc55f0386e02a654248b675b2b235b9e478ea0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjNiYzU1ZjAzODZlMDJhNjU0MjQ4YjY3NWIyYjIzNWI5ZTQ3OGVhMA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2013-09-25T16:15:59Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2013-09-25T16:15:59Z"}, "message": "Makefile.in (DRIVER_DEFINES): Use $(and), not shell code, to add -DENABLE_SHARED_LIBGCC.\n\n\t* Makefile.in (DRIVER_DEFINES): Use $(and), not shell code,\n\tto add -DENABLE_SHARED_LIBGCC.\n\t(gcc.o): Don't use subshell.\ngcc/c\n\t* Make-lang.in (c/gccspec.o): Don't use subshell.\ngcc/cp\n\t* Make-lang.in (g++spec.o): Don't use subshell.\ngcc/fortran\n\t* Make-lang.in (gfortranspec.o): Don't use subshell.\ngcc/go\n\t* Make-lang.in (gospec.o): Don't use subshell.\ngcc/java\n\t* Make-lang.in (jvspec.o): Don't use subshell.\n\nFrom-SVN: r202897", "tree": {"sha": "eec5aa181a5c652e670d10c0809b76cea2331765", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eec5aa181a5c652e670d10c0809b76cea2331765"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f3bc55f0386e02a654248b675b2b235b9e478ea0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3bc55f0386e02a654248b675b2b235b9e478ea0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3bc55f0386e02a654248b675b2b235b9e478ea0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3bc55f0386e02a654248b675b2b235b9e478ea0/comments", "author": null, "committer": null, "parents": [{"sha": "c11c795e4bc96a818cb72fab599cdde1810e26ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c11c795e4bc96a818cb72fab599cdde1810e26ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c11c795e4bc96a818cb72fab599cdde1810e26ae"}], "stats": {"total": 46, "additions": 33, "deletions": 13}, "files": [{"sha": "854249539d3772999fce64560ab9fd317cf6543a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,9 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Makefile.in (DRIVER_DEFINES): Use $(and), not shell code,\n+\tto add -DENABLE_SHARED_LIBGCC.\n+\t(gcc.o): Don't use subshell.\n+\n 2013-09-25  Tom Tromey  <tromey@redhat.com>\n \n \t* Makefile.in (OUTPUT_OPTION): Define as \"-o $@\"."}, {"sha": "a3ae57b43c1b05b8a9823f3e7040062d0d1ef11e", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -2089,16 +2089,15 @@ DRIVER_DEFINES = \\\n   -DTOOLDIR_BASE_PREFIX=\\\"$(libsubdir_to_prefix)$(prefix_to_exec_prefix)\\\" \\\n   @TARGET_SYSTEM_ROOT_DEFINE@ \\\n   $(VALGRIND_DRIVER_DEFINES) \\\n-  `test \"X$${SHLIB}\" = \"X\" || test \"@enable_shared@\" != \"yes\" || echo \"-DENABLE_SHARED_LIBGCC\"` \\\n+  $(and $(SHLIB),$(filter yes,@enable_shared@),-DENABLE_SHARED_LIBGCC) \\\n   -DCONFIGURE_SPECS=\"\\\"@CONFIGURE_SPECS@\\\"\"\n \n gcc.o: gcc.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) intl.h multilib.h \\\n     Makefile $(lang_specs_files) specs.h prefix.h $(GCC_H) $(FLAGS_H) \\\n     configargs.h $(OBSTACK_H) $(OPTS_H) $(DIAGNOSTIC_H) $(VEC_H) $(PARAMS_H)\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) \\\n   $(DRIVER_DEFINES) \\\n-  -c $(srcdir)/gcc.c $(OUTPUT_OPTION))\n+  -c $(srcdir)/gcc.c $(OUTPUT_OPTION)\n \n specs.h : s-specs ; @true\n s-specs : Makefile"}, {"sha": "07cd2744ec358da46c08d3a798f86e8bbd44ad5d", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,7 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Make-lang.in (c/gccspec.o): Don't use subshell.\n+\n 2013-09-18  Marek Polacek  <polacek@redhat.com>\n \n \tPR sanitize/58443"}, {"sha": "86deb1d9033075d46ea6c24929cc39bbded2d5b6", "filename": "gcc/c/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fc%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fc%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FMake-lang.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -46,10 +46,9 @@ c: cc1$(exeext)\n # is to cc1 as e.g. g++ is to cc1plus, or gfortran is to f951).\n c/gccspec.o: c/gccspec.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H) $(GCC_H) \\\n     $(OPTS_H)\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) \\\n   $(DRIVER_DEFINES) \\\n-  -c $(srcdir)/c/gccspec.c $(OUTPUT_OPTION))\n+  -c $(srcdir)/c/gccspec.c $(OUTPUT_OPTION)\n \n # The C compiler itself.\n "}, {"sha": "fc43db0b94c0ec2995cf8c0821395e4b954395d3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,7 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Make-lang.in (g++spec.o): Don't use subshell.\n+\n 2013-09-25  Marek Polacek  <polacek@redhat.com>\n \n \tPR c++/58516"}, {"sha": "770f27257c6c4c76438684ddb378f45f5d90432b", "filename": "gcc/cp/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fcp%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fcp%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FMake-lang.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -53,9 +53,8 @@ c++: cc1plus$(exeext)\n \n g++spec.o: $(srcdir)/cp/g++spec.c $(SYSTEM_H) coretypes.h $(TM_H) $(GCC_H) \\\n     $(CONFIG_H) $(OPTS_H)\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(DRIVER_DEFINES) \\\n-\t\t$(INCLUDES) $(srcdir)/cp/g++spec.c)\n+\t\t$(INCLUDES) $(srcdir)/cp/g++spec.c\n \n # Create the compiler driver for g++.\n GXX_OBJS = $(GCC_OBJS) g++spec.o"}, {"sha": "f97532ee80760a32609afbf1889123643e9451ed", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,7 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Make-lang.in (gfortranspec.o): Don't use subshell.\n+\n 2013-09-23  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/58355"}, {"sha": "b738ff4220117046a9ec62aae53af959215c91cb", "filename": "gcc/fortran/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Ffortran%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Ffortran%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FMake-lang.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -78,9 +78,8 @@ fortran: f951$(exeext)\n \n gfortranspec.o: $(srcdir)/fortran/gfortranspec.c $(SYSTEM_H) $(TM_H) $(GCC_H) \\\n \t$(CONFIG_H) coretypes.h intl.h $(OPTS_H)\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(DRIVER_DEFINES) \\\n-\t\t$(INCLUDES) $(srcdir)/fortran/gfortranspec.c)\n+\t\t$(INCLUDES) $(srcdir)/fortran/gfortranspec.c\n \n # Create the compiler driver gfortran.\n GFORTRAN_D_OBJS = $(GCC_OBJS) gfortranspec.o"}, {"sha": "bce1ce51c00381cfcaeeee3708d57581763925e1", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,7 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Make-lang.in (gospec.o): Don't use subshell.\n+\n 2013-08-28  Ian Lance Taylor  <iant@google.com>\n \n \t* go-gcc.cc (Gcc_backend::immutable_struct): Set TREE_PUBLIC if"}, {"sha": "015ed7a03bbfc59c1e59cb5445ea6cea475cb123", "filename": "gcc/go/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fgo%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fgo%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FMake-lang.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -32,9 +32,8 @@ go: go1$(exeext)\n \n gospec.o: $(srcdir)/go/gospec.c $(SYSTEM_H) coretypes.h $(TM_H) $(GCC_H) \\\n     $(CONFIG_H) opts.h\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(DRIVER_DEFINES) \\\n-\t\t$(INCLUDES) $(srcdir)/go/gospec.c)\n+\t\t$(INCLUDES) $(srcdir)/go/gospec.c\n \n GCCGO_OBJS = $(GCC_OBJS) gospec.o\n gccgo$(exeext): $(GCCGO_OBJS) $(EXTRA_GCC_OBJS) libcommon-target.a $(LIBDEPS)"}, {"sha": "78adee9c5bc786f81da6cd3ea618757ea6ab4428", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -1,3 +1,7 @@\n+2013-09-25  Tom Tromey  <tromey@redhat.com>\n+\n+\t* Make-lang.in (jvspec.o): Don't use subshell.\n+\n 2013-06-05  Jan Hubicka  <jh@suse.cz>\n \n \t* class.c (emit_register_classes_in_jcr_section): Use DECL_PRESERVE_P"}, {"sha": "078f6d43379def8edb6dbb8930a4a44dca0d0577", "filename": "gcc/java/Make-lang.in", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fjava%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f3bc55f0386e02a654248b675b2b235b9e478ea0/gcc%2Fjava%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMake-lang.in?ref=f3bc55f0386e02a654248b675b2b235b9e478ea0", "patch": "@@ -57,9 +57,8 @@ JAVA_TARGET_INDEPENDENT_BIN_TOOLS = jcf-dump\n \n jvspec.o: $(srcdir)/java/jvspec.c $(SYSTEM_H) coretypes.h $(TM_H) \\\n   $(GCC_H) $(CONFIG_H) java/jcf.h java/javaop.h $(OPTS_H)\n-\t(SHLIB='$(SHLIB)'; \\\n \t$(COMPILER) -c $(ALL_COMPILERFLAGS) $(ALL_CPPFLAGS) $(DRIVER_DEFINES) \\\n-\t\t$(INCLUDES) $(srcdir)/java/jvspec.c $(OUTPUT_OPTION))\n+\t\t$(INCLUDES) $(srcdir)/java/jvspec.c $(OUTPUT_OPTION)\n \n # Create the compiler driver for $(XGCJ).\n $(XGCJ)$(exeext): $(GCC_OBJS) jvspec.o java/jcf-path.o \\"}]}