{"sha": "38b2a9713feb97b645f4ecec5de23c0051261d6c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhiMmE5NzEzZmViOTdiNjQ1ZjRlY2VjNWRlMjNjMDA1MTI2MWQ2Yw==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@unitus.it", "date": "2003-03-19T12:17:49Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2003-03-19T12:17:49Z"}, "message": "1.cc: Test char not wchar_t.\n\n2003-03-19  Paolo Carlini  <pcarlini@unitus.it>\n\n\t* testsuite/21_strings/char_traits/requirements/char/1.cc:\n\tTest char not wchar_t.\n\nFrom-SVN: r64576", "tree": {"sha": "cc79ca1db2c87005ea0d1b32d3f86180db86b373", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc79ca1db2c87005ea0d1b32d3f86180db86b373"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38b2a9713feb97b645f4ecec5de23c0051261d6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38b2a9713feb97b645f4ecec5de23c0051261d6c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38b2a9713feb97b645f4ecec5de23c0051261d6c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38b2a9713feb97b645f4ecec5de23c0051261d6c/comments", "author": null, "committer": null, "parents": [{"sha": "a37f82190dca6d74e948ac888bb7809922c52ff3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a37f82190dca6d74e948ac888bb7809922c52ff3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a37f82190dca6d74e948ac888bb7809922c52ff3"}], "stats": {"total": 45, "additions": 25, "deletions": 20}, "files": [{"sha": "13a6576e05bdf21f67888b0d734496341233b7d1", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38b2a9713feb97b645f4ecec5de23c0051261d6c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38b2a9713feb97b645f4ecec5de23c0051261d6c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=38b2a9713feb97b645f4ecec5de23c0051261d6c", "patch": "@@ -1,3 +1,8 @@\n+2003-03-19  Paolo Carlini  <pcarlini@unitus.it>\n+\n+\t* testsuite/21_strings/char_traits/requirements/char/1.cc:\n+\tTest char not wchar_t.\n+\n 2003-03-18  Paolo Carlini  <pcarlini@unitus.it>\n \n \t* testsuite/21_strings/basic_string/append/wchar_t/1.cc:"}, {"sha": "6f8eb47373795dd07ca2ae64fdbcc0721a7ded18", "filename": "libstdc++-v3/testsuite/21_strings/char_traits/requirements/char/1.cc", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38b2a9713feb97b645f4ecec5de23c0051261d6c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fchar_traits%2Frequirements%2Fchar%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38b2a9713feb97b645f4ecec5de23c0051261d6c/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fchar_traits%2Frequirements%2Fchar%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fchar_traits%2Frequirements%2Fchar%2F1.cc?ref=38b2a9713feb97b645f4ecec5de23c0051261d6c", "patch": "@@ -26,8 +26,8 @@\n void test01(void)\n {\n   bool test = true;\n-  const std::wstring str_01(L\"zuma beach\");\n-  const std::wstring str_02(L\"montara and ocean beach\");\n+  const std::string str_01(\"zuma beach\");\n+  const std::string str_02(\"montara and ocean beach\");\n  \n   // 21.1.1 character traits requirements\n \n@@ -41,46 +41,46 @@ void test01(void)\n   // pos      == X::pos_type\n   // state    == X::state_type\n \n-  // void X::assign(wchar_t c, wchar_t d)\n+  // void X::assign(char c, char d)\n   // assigns c = d;\n-  wchar_t c1 = L'z';\n-  wchar_t c2 = L'u';\n+  char c1 = 'z';\n+  char c2 = 'u';\n   VERIFY( c1 != c2 );\n-  std::char_traits<wchar_t>::assign(c1,c2);\n-  VERIFY( c1 == L'u' );\n+  std::char_traits<char>::assign(c1,c2);\n+  VERIFY( c1 == 'u' );\n \n   // char* X::move(char* s, const char* p, size_t n)\n   // for each i in [0,n) performs X::assign(s[i], p[i]). Copies\n   // correctly even where p is in [s, s + n), and yields s.   \n-  wchar_t array1[] = {L'z', L'u', L'm', L'a', L' ', L'b', L'e', L'a', L'c', L'h',  0};\n-  const wchar_t str_lit1[] = L\"montara and ocean beach\";\n+  char array1[] = {'z', 'u', 'm', 'a', ' ', 'b', 'e', 'a', 'c', 'h',  0};\n+  const char str_lit1[] = \"montara and ocean beach\";\n   int len = sizeof(str_lit1) + sizeof(array1) - 1; // two terminating chars\n-  wchar_t array2[len];\n+  char array2[len];\n \n   VERIFY( str_lit1[0] == 'm' );\n   c1 = array2[0];\n   c2 = str_lit1[0];\n-  wchar_t c3 = array2[1];\n-  wchar_t c4 = str_lit1[1];\n-  std::char_traits<wchar_t>::move(array2, str_lit1, 0);\n+  char c3 = array2[1];\n+  char c4 = str_lit1[1];\n+  std::char_traits<char>::move(array2, str_lit1, 0);\n   VERIFY( array2[0] == c1 );\n   VERIFY( str_lit1[0] == c2 );\n-  std::char_traits<wchar_t>::move(array2, str_lit1, 1);\n+  std::char_traits<char>::move(array2, str_lit1, 1);\n   VERIFY( array2[0] == c2 );\n   VERIFY( str_lit1[0] == c2 );\n   VERIFY( array2[1] == c3 );\n   VERIFY( str_lit1[1] == c4 );\n-  std::char_traits<wchar_t>::move(array2, str_lit1, 2);\n+  std::char_traits<char>::move(array2, str_lit1, 2);\n   VERIFY( array2[0] == c2 );\n   VERIFY( str_lit1[0] == c2 );\n   VERIFY( array2[1] == c4 );\n   VERIFY( str_lit1[1] == c4 );\n  \n-  wchar_t* pc1 = array1 + 1;\n+  char* pc1 = array1 + 1;\n   c1 = pc1[0];\n   c2 = array1[0];\n   VERIFY( c1 != c2 );\n-  wchar_t* pc2 = std::char_traits<wchar_t>::move(array1, pc1, 0);\n+  char* pc2 = std::char_traits<char>::move(array1, pc1, 0);\n   c3 = pc1[0];\n   c4 = array1[0];\n   VERIFY( c1 == c3 );\n@@ -89,11 +89,11 @@ void test01(void)\n \n   c1 = pc1[0];\n   c2 = array1[0];\n-  wchar_t* pc3 = pc1;\n-  pc2 = std::char_traits<wchar_t>::move(array1, pc1, 10);\n+  char* pc3 = pc1;\n+  pc2 = std::char_traits<char>::move(array1, pc1, 10);\n   c3 = pc1[0];\n   c4 = array1[0];\n-  VERIFY( c1 != c3 ); // underlying wchar_t array changed.\n+  VERIFY( c1 != c3 ); // underlying char array changed.\n   VERIFY( c4 != c3 );\n   VERIFY( pc2 == array1 );\n   VERIFY( pc3 == pc1 ); // but pointers o-tay"}]}