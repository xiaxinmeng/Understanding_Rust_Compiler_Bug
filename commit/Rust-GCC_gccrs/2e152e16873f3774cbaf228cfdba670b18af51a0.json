{"sha": "2e152e16873f3774cbaf228cfdba670b18af51a0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmUxNTJlMTY4NzNmMzc3NGNiYWYyMjhjZmRiYTY3MGIxOGFmNTFhMA==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2008-01-17T20:52:27Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2008-01-17T20:52:27Z"}, "message": "avr.h (LINK_SPEC): Support -mrelax and -mpmem-wrap-around.\n\n\t* config/avr/avr.h (LINK_SPEC): Support -mrelax and -mpmem-wrap-around.\n\t* config/avr/avr.opt (mrelax, mpmem-wrap-around): Add.\n\nFrom-SVN: r131609", "tree": {"sha": "331d4202dbe22cee99b1f3c42c7a35684bafe7ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/331d4202dbe22cee99b1f3c42c7a35684bafe7ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e152e16873f3774cbaf228cfdba670b18af51a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e152e16873f3774cbaf228cfdba670b18af51a0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e152e16873f3774cbaf228cfdba670b18af51a0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e152e16873f3774cbaf228cfdba670b18af51a0/comments", "author": null, "committer": null, "parents": [{"sha": "185082a7b82a6ca848ab81301d2638964a78b815", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/185082a7b82a6ca848ab81301d2638964a78b815", "html_url": "https://github.com/Rust-GCC/gccrs/commit/185082a7b82a6ca848ab81301d2638964a78b815"}], "stats": {"total": 34, "additions": 28, "deletions": 6}, "files": [{"sha": "d00143afc385e37a9dfe23a33970dadc65ee7700", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2e152e16873f3774cbaf228cfdba670b18af51a0", "patch": "@@ -1,3 +1,8 @@\n+2008-01-17  Anatoly Sokolov <aesok@post.ru>\n+\n+\t* config/avr/avr.h (LINK_SPEC): Support -mrelax and -mpmem-wrap-around.\n+\t* config/avr/avr.opt (mrelax, mpmem-wrap-around): Add.\n+\n 2008-01-17  Seongbae Park  <seongbae.park@gmail.com>\n \n \tPR rtl-optimization/34400"}, {"sha": "6b4b372c27c05a1d4b807d2c0e1e3b6b9fa294b2", "filename": "gcc/config/avr/avr.h", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2Fconfig%2Favr%2Favr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2Fconfig%2Favr%2Favr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.h?ref=2e152e16873f3774cbaf228cfdba670b18af51a0", "patch": "@@ -737,12 +737,21 @@ extern int avr_case_values_threshold;\n #define ASM_SPEC \"%{mmcu=avr25:-mmcu=avr2;mmcu=avr35:-mmcu=avr3;\\\n mmcu=*:-mmcu=%*}\"\n \n-#define LINK_SPEC \" %{!mmcu*:-m avr2}\\\n+#define LINK_SPEC \"\\\n+%{mrelax:--relax\\\n+         %{mpmem-wrap-around:%{mmcu=at90usb8*:--pmem-wrap-around=8k}\\\n+                             %{mmcu=atmega16*:--pmem-wrap-around=16k}\\\n+                             %{mmcu=atmega32*|\\\n+                               mmcu=at90can32*:--pmem-wrap-around=32k}\\\n+                             %{mmcu=atmega64*|\\\n+                               mmcu=at90can64*|\\\n+                               mmcu=at90usb64*:--pmem-wrap-around=64k}}}\\\n+%{!mmcu*: -m avr2}\\\n %{mmcu=at90s1200|\\\n   mmcu=attiny11|\\\n   mmcu=attiny12|\\\n   mmcu=attiny15|\\\n-  mmcu=attiny28:-m avr1}\\\n+  mmcu=attiny28: -m avr1}\\\n %{mmcu=attiny22|\\\n   mmcu=attiny26|\\\n   mmcu=at90s2*|\\\n@@ -756,19 +765,19 @@ mmcu=*:-mmcu=%*}\"\n   mmcu=attiny25|\\\n   mmcu=attiny261|\\\n   mmcu=attiny4*|\\\n-  mmcu=attiny8*:-m avr2}\\\n+  mmcu=attiny8*: -m avr2}\\\n %{mmcu=atmega103|\\\n   mmcu=at43*|\\\n   mmcu=at76*|\\\n   mmcu=at90usb82|\\\n-  mmcu=at90usb162:-m avr3}\\\n+  mmcu=at90usb162: -m avr3}\\\n %{mmcu=atmega8*|\\\n   mmcu=atmega48*|\\\n   mmcu=at90pwm1|\\\n   mmcu=at90pwm2|\\\n   mmcu=at90pwm2b|\\\n   mmcu=at90pwm3|\\\n-  mmcu=at90pwm3b:-m avr4}\\\n+  mmcu=at90pwm3b: -m avr4}\\\n %{mmcu=atmega16*|\\\n   mmcu=atmega32*|\\\n   mmcu=atmega406|\\\n@@ -779,7 +788,7 @@ mmcu=*:-mmcu=%*}\"\n   mmcu=at90pwm316|\\\n   mmcu=at90usb64*|\\\n   mmcu=at90usb128*|\\\n-  mmcu=at94k:-m avr5}\\\n+  mmcu=at94k: -m avr5}\\\n %{mmcu=atmega324*|\\\n   mmcu=atmega325*|\\\n   mmcu=atmega328p|\\"}, {"sha": "52382d75b2f3017aacc92622d9798d7f4414cb47", "filename": "gcc/config/avr/avr.opt", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2Fconfig%2Favr%2Favr.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e152e16873f3774cbaf228cfdba670b18af51a0/gcc%2Fconfig%2Favr%2Favr.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.opt?ref=2e152e16873f3774cbaf228cfdba670b18af51a0", "patch": "@@ -58,3 +58,11 @@ Output instruction sizes to the asm file\n mtiny-stack\n Target Report Mask(TINY_STACK)\n Change only the low 8 bits of the stack pointer\n+\n+mrelax\n+Target Report\n+Relax branches\n+\n+mpmem-wrap-around\n+Target Report\n+Make the linker relaxation machine assume that a program counter wrap-around occures."}]}