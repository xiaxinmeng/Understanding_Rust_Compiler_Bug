{"sha": "5540812a4d623975660159172d3cf4241ead8494", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTU0MDgxMmE0ZDYyMzk3NTY2MDE1OTE3MmQzY2Y0MjQxZWFkODQ5NA==", "commit": {"author": {"name": "Piotr Trojanek", "email": "trojanek@adacore.com", "date": "2020-06-25T19:48:51Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2020-10-16T07:31:21Z"}, "message": "[Ada] Unique itypes names for unconstrained array object declaration\n\ngcc/ada/\n\n\t* sem_ch3.adb (Array_Type_Declaration): Create itype with unique\n\tname.", "tree": {"sha": "7d95de97e974c221c6341b80d8b4b0cf014c0bc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d95de97e974c221c6341b80d8b4b0cf014c0bc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5540812a4d623975660159172d3cf4241ead8494", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5540812a4d623975660159172d3cf4241ead8494", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5540812a4d623975660159172d3cf4241ead8494", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5540812a4d623975660159172d3cf4241ead8494/comments", "author": {"login": "ptroja", "id": 161602, "node_id": "MDQ6VXNlcjE2MTYwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/161602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptroja", "html_url": "https://github.com/ptroja", "followers_url": "https://api.github.com/users/ptroja/followers", "following_url": "https://api.github.com/users/ptroja/following{/other_user}", "gists_url": "https://api.github.com/users/ptroja/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptroja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptroja/subscriptions", "organizations_url": "https://api.github.com/users/ptroja/orgs", "repos_url": "https://api.github.com/users/ptroja/repos", "events_url": "https://api.github.com/users/ptroja/events{/privacy}", "received_events_url": "https://api.github.com/users/ptroja/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2c061483126ebd8e3afdb784f150fa16c677ba14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c061483126ebd8e3afdb784f150fa16c677ba14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c061483126ebd8e3afdb784f150fa16c677ba14"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "8fe118b078eb128765063b9ea5e8fc655d8489ff", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5540812a4d623975660159172d3cf4241ead8494/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5540812a4d623975660159172d3cf4241ead8494/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=5540812a4d623975660159172d3cf4241ead8494", "patch": "@@ -6141,7 +6141,12 @@ package body Sem_Ch3 is\n       --  Constrained array case\n \n       if No (T) then\n-         T := Create_Itype (E_Void, P, Related_Id, 'T');\n+         --  We might be creating more than one itype with the same Related_Id,\n+         --  e.g. for an array object definition and its initial value. Give\n+         --  them unique suffixes, because GNATprove require distinct types to\n+         --  have different names.\n+\n+         T := Create_Itype (E_Void, P, Related_Id, 'T', Suffix_Index => -1);\n       end if;\n \n       if Nkind (Def) = N_Constrained_Array_Definition then"}]}