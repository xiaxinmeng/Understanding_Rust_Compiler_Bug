{"sha": "202d59415f19e3bb8a85abca3f79d952f8a4d54c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjAyZDU5NDE1ZjE5ZTNiYjhhODVhYmNhM2Y3OWQ5NTJmOGE0ZDU0Yw==", "commit": {"author": {"name": "Renlin Li", "email": "renlin.li@arm.com", "date": "2014-11-10T17:53:21Z"}, "committer": {"name": "Jiong Wang", "email": "jiwang@gcc.gnu.org", "date": "2014-11-10T17:53:21Z"}, "message": "[PATCH] Partially fix PR61529, bound basic block frequency\n\n  2014-11-10  Renlin Li <Renlin.Li@arm.com>\n\n  PR middle-end/61529\n\n  gcc/\n    * tree-ssa-threadupdate.c (compute_path_counts): Bound path_in_freq.\n\n  gcc/testsuite/\n    * gcc.dg/pr61529.c: New.\n\nFrom-SVN: r217303", "tree": {"sha": "e13c3ceaa56a47f629109a9a6d9f8fcd7fa67357", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e13c3ceaa56a47f629109a9a6d9f8fcd7fa67357"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/202d59415f19e3bb8a85abca3f79d952f8a4d54c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/202d59415f19e3bb8a85abca3f79d952f8a4d54c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/202d59415f19e3bb8a85abca3f79d952f8a4d54c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/202d59415f19e3bb8a85abca3f79d952f8a4d54c/comments", "author": null, "committer": null, "parents": [{"sha": "a25efea0868cef17064a71d76a2fd7d209adc6b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a25efea0868cef17064a71d76a2fd7d209adc6b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a25efea0868cef17064a71d76a2fd7d209adc6b3"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "f29986b66825e7310f9644a935e579296ca8f23d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=202d59415f19e3bb8a85abca3f79d952f8a4d54c", "patch": "@@ -1,3 +1,8 @@\n+2014-11-10  Renlin Li  <renlin.li@arm.com>\n+\n+\tPR middle-end/61529\n+\t* tree-ssa-threadupdate.c (compute_path_counts): Bound path_in_freq.\n+\n 2014-11-10  Thomas Preud'homme  <thomas.preudhomme@arm.com>\n \n \t* expmed.c (expand_shift_1): Expand 8 bit rotate of 16 bit value to"}, {"sha": "ece3d52259b294b603b83e2243f17e8e9453cc1b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=202d59415f19e3bb8a85abca3f79d952f8a4d54c", "patch": "@@ -1,3 +1,8 @@\n+2014-11-10  Renlin Li  <renlin.li@arm.com>\n+\n+\tPR middle-end/61529\n+\t* gcc.dg/pr61529.c: New.\n+\n 2014-11-10  Bernd Schmidt  <bernds@codesourcery.com>\n \n \t* lib/target-supports.exp (check_effective_target_return_address):"}, {"sha": "392239e7158964c12a2d056573d56a228cf74ac0", "filename": "gcc/testsuite/gcc.dg/pr61529.c", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61529.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61529.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr61529.c?ref=202d59415f19e3bb8a85abca3f79d952f8a4d54c", "patch": "@@ -0,0 +1,27 @@\n+/* PR middle-end/61529 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O3\" } */\n+\n+unsigned int a = 0, b = 0;\n+unsigned int c;\n+\n+int\n+main ()\n+{\n+  unsigned int d = 0;\n+  int e[5];\n+\n+  for (; b < 1; b++)\n+    d = 0;\n+  for (; d < 1; d++)\n+    a = 0;\n+  for (; a < 1; a++)\n+    ;\n+\n+  for (c = 0; c < 5; c++)\n+    e[c] = 1;\n+  if (e[0])\n+    c = 0;\n+\n+  return 0;\n+}"}, {"sha": "151ed8395472aa0cc1ffb0b9a35f509e778dba2d", "filename": "gcc/tree-ssa-threadupdate.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftree-ssa-threadupdate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/202d59415f19e3bb8a85abca3f79d952f8a4d54c/gcc%2Ftree-ssa-threadupdate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-threadupdate.c?ref=202d59415f19e3bb8a85abca3f79d952f8a4d54c", "patch": "@@ -734,6 +734,11 @@ compute_path_counts (struct redirection_data *rd,\n             nonpath_count += ein->count;\n         }\n     }\n+\n+  /* This is needed due to insane incoming frequencies.  */\n+  if (path_in_freq > BB_FREQ_MAX)\n+    path_in_freq = BB_FREQ_MAX;\n+\n   BITMAP_FREE (in_edge_srcs);\n \n   /* Now compute the fraction of the total count coming into the first"}]}