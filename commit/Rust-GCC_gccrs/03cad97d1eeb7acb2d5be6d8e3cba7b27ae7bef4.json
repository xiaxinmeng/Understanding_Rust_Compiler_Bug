{"sha": "03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNjYWQ5N2QxZWViN2FjYjJkNWJlNmQ4ZTNjYmE3YjI3YWU3YmVmNA==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-06-07T18:59:34Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-06-07T18:59:34Z"}, "message": "gen-protos.c (progname): New variable (needed by cppalloc.c).\n\n* gen-protos.c (progname):  New variable (needed by cppalloc.c).\n(main):  Set progname.\n\nFrom-SVN: r12212", "tree": {"sha": "6b5bdff2b82419ce7cd33e2cde249e5ca6d9dade", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b5bdff2b82419ce7cd33e2cde249e5ca6d9dade"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4/comments", "author": null, "committer": null, "parents": [{"sha": "b3ea4fcad1264468fc151b27e149589bade96eaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3ea4fcad1264468fc151b27e149589bade96eaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3ea4fcad1264468fc151b27e149589bade96eaf"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "ede40e3d6c9972d0e619b561fc74e882f437cb9a", "filename": "gcc/gen-protos.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4/gcc%2Fgen-protos.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4/gcc%2Fgen-protos.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgen-protos.c?ref=03cad97d1eeb7acb2d5be6d8e3cba7b27ae7bef4", "patch": "@@ -40,6 +40,7 @@ hashf (name, len, hashsize)\n \n int hash_tab[HASH_SIZE];\n int verbose = 0;\n+char *progname;\n \n sstring linebuf;\n \n@@ -63,6 +64,10 @@ main (argc, argv)\n   int next_index = 0;\n   int i, i0;\n \n+  i = strlen (argv[0]);\n+  while (i > 0 && argv[i-1] != '/') --i;\n+  progname = &argv[i];\n+\n   fprintf (outf, \"struct fn_decl std_protos[] = {\\n\");\n \n   for (;;)"}]}