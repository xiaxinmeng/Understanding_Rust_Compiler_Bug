{"sha": "b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNkOWVjZjAwYmE3NTlkYmVmMjMyMTk2OGQ5ZDY2YWE3NTcyZmVkMA==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-08-02T09:45:16Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-08-02T09:45:16Z"}, "message": "pa.c (legitimize_pic_address): Clarify comments.\n\n\n        * pa.c (legitimize_pic_address): Clarify comments.  Do not call the\n        pic_load_label generator directly.\n        * pa.md (pic_load_label): Clarify comments.  Remove modes on operands.\n        No longer a named pattern.\n\nFrom-SVN: r28401", "tree": {"sha": "aaeb714ac6a53e2e6422148358627f953bef00ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaeb714ac6a53e2e6422148358627f953bef00ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/comments", "author": null, "committer": null, "parents": [{"sha": "62cce9f6271cfff04f716a856479b8e8cc768582", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62cce9f6271cfff04f716a856479b8e8cc768582", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62cce9f6271cfff04f716a856479b8e8cc768582"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "e213373257e69b5459619b56192e1c4af10070b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "patch": "@@ -1,3 +1,10 @@\n+Mon Aug  2 03:38:33 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* pa.c (legitimize_pic_address): Clarify comments.  Do not call the\n+\tpic_load_label generator directly.\n+\t* pa.md (pic_load_label): Clarify comments.  Remove modes on operands.\n+\tNo longer a named pattern.\n+\n Mon Aug  2 09:38:10 1999  Nick Clifton  <nickc@cygnus.com>\n \n \t* explow.c (force_reg): Call force_operand if X does not"}, {"sha": "f5873f738dffa972fba90e7fe9bc6afbc38d51c7", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "patch": "@@ -628,7 +628,16 @@ legitimize_pic_address (orig, mode, reg)\n   /* Labels need special handling.  */\n   if (pic_label_operand (orig))\n     {\n-      emit_insn (gen_pic_load_label (reg, orig));\n+      /* We do not want to go through the movXX expanders here since that\n+\t would create recursion.\n+\n+\t Nor do we really want to call a generator for a named pattern\n+\t since that requires multiple patterns if we want to support\n+\t multiple word sizes.\n+\n+\t So instead we just emit the raw set, which avoids the movXX\n+\t expanders completely.  */\n+      emit_insn (gen_rtx_SET (VOIDmode, reg, orig));\n       current_function_uses_pic_offset_table = 1;\n       return reg;\n     }"}, {"sha": "c78692d7dc934f9f4efdc750b9856643a480068d", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3d9ecf00ba759dbef2321968d9d66aa7572fed0/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=b3d9ecf00ba759dbef2321968d9d66aa7572fed0", "patch": "@@ -1568,12 +1568,12 @@\n   [(set_attr \"type\" \"store\")\n    (set_attr \"length\" \"4\")])\n \n-;; For pic\n+;; For loading the address of a label while generating PIC code.\n ;; Note since this pattern can be created at reload time (via movsi), all\n ;; the same rules for movsi apply here.  (no new pseudos, no temporaries).\n-(define_insn \"pic_load_label\"\n-  [(set (match_operand:SI 0 \"register_operand\" \"=a\")\n-\t(match_operand:SI 1 \"pic_label_operand\" \"\"))]\n+(define_insn \"\"\n+  [(set (match_operand 0 \"register_operand\" \"=a\")\n+\t(match_operand 1 \"pic_label_operand\" \"\"))]\n   \"\"\n   \"*\n {"}]}