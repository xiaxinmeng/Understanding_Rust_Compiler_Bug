{"sha": "dccd3a9b62340a2c41b449fb9609bfcebeaf333f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGNjZDNhOWI2MjM0MGEyYzQxYjQ0OWZiOTYwOWJmY2ViZWFmMzMzZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-06T18:26:27Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2013-12-06T18:26:27Z"}, "message": "re PR go/59408 (Many Go tests FAIL with notesleep not on g0)\n\n\tPR go/59408\nruntime: Don't require g != m->g0 in sema notesleep.\n\nFrom-SVN: r205756", "tree": {"sha": "2b1a05a1976cabb612267e1f30991720b732cf35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2b1a05a1976cabb612267e1f30991720b732cf35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dccd3a9b62340a2c41b449fb9609bfcebeaf333f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dccd3a9b62340a2c41b449fb9609bfcebeaf333f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dccd3a9b62340a2c41b449fb9609bfcebeaf333f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dccd3a9b62340a2c41b449fb9609bfcebeaf333f/comments", "author": null, "committer": null, "parents": [{"sha": "20e08dcdd743d07b82d3232df3129f0dd9aa3058", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20e08dcdd743d07b82d3232df3129f0dd9aa3058", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20e08dcdd743d07b82d3232df3129f0dd9aa3058"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "000b9fcf7010349ec76e73a189f1cd46f78d8834", "filename": "libgo/runtime/lock_sema.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dccd3a9b62340a2c41b449fb9609bfcebeaf333f/libgo%2Fruntime%2Flock_sema.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dccd3a9b62340a2c41b449fb9609bfcebeaf333f/libgo%2Fruntime%2Flock_sema.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Flock_sema.c?ref=dccd3a9b62340a2c41b449fb9609bfcebeaf333f", "patch": "@@ -152,8 +152,12 @@ runtime_notesleep(Note *n)\n \n \tm = runtime_m();\n \n+  /* For gccgo it's OK to sleep in non-g0, and it happens in\n+     stoptheworld because we have not implemented preemption.\n+\n \tif(runtime_g() != m->g0)\n \t\truntime_throw(\"notesleep not on g0\");\n+  */\n \n \tif(m->waitsema == 0)\n \t\tm->waitsema = runtime_semacreate();"}]}