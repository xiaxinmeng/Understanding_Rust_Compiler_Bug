{"sha": "0df9da030c424d798044b4081865a68c2b08a5e9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRmOWRhMDMwYzQyNGQ3OTgwNDRiNDA4MTg2NWE2OGMyYjA4YTVlOQ==", "commit": {"author": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2014-04-01T21:14:04Z"}, "committer": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2014-04-01T21:14:04Z"}, "message": "init.c (perform_member_init): Homogenize uninitialized diagnostics.\n\n2014-04-01  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n\n\t* cp/init.c (perform_member_init): Homogenize uninitialized\n\tdiagnostics.\n\n2014-04-01  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n\n        * g++.dg/init/ctor4.C: Adjust.\n\t* g++.dg/init/ctor4-1.C: New.\n\t* g++.dg/cpp0x/defaulted2.C: Adjust.\n\nFrom-SVN: r208998", "tree": {"sha": "84bfee0fda0c66608ef4bf1633a1e95340ffc467", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84bfee0fda0c66608ef4bf1633a1e95340ffc467"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0df9da030c424d798044b4081865a68c2b08a5e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df9da030c424d798044b4081865a68c2b08a5e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0df9da030c424d798044b4081865a68c2b08a5e9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df9da030c424d798044b4081865a68c2b08a5e9/comments", "author": null, "committer": null, "parents": [{"sha": "24991604f284ddfc6463152f5ae16fb3e6a27619", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24991604f284ddfc6463152f5ae16fb3e6a27619", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24991604f284ddfc6463152f5ae16fb3e6a27619"}], "stats": {"total": 123, "additions": 80, "deletions": 43}, "files": [{"sha": "332894f8ab6d15760d51d4d4f3719ffb9a6a4fb4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -1,3 +1,8 @@\n+2014-04-01  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n+\n+\t* cp/init.c (perform_member_init): Homogenize uninitialized\n+\tdiagnostics.\n+\n 2014-04-01  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/60708\n@@ -44,9 +49,9 @@\n 2014-03-26  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/52369\n-\t* cp/method.c (walk_field_subobs): improve the diagnostic\n+\t* cp/method.c (walk_field_subobs): Improve the diagnostic\n \tlocations for both REFERENCE_TYPEs and non-static const members.\n-\t* cp/init.c (diagnose_uninitialized_cst_or_ref_member): use %q#D\n+\t* cp/init.c (diagnose_uninitialized_cst_or_ref_member): Use %q#D\n \tinstead of %qD to be consistent with the c++11 diagnostic.\n \n 2014-03-25  Jason Merrill  <jason@redhat.com>"}, {"sha": "83fd123a75d00c7535d46b078f80421c6242be7b", "filename": "gcc/cp/ChangeLog-2008", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2008", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2008", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog-2008?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -307,8 +307,8 @@\n \t* g++spec.c (LIBSTDCXX_STATIC): New.\n \t(lang_spec_driver): Use LIBSTDCXX_STATIC when not\n \tshared_libgcc.\n-\t\n-2008-11-05  Fabien Chene <fabien.chene@gmail.com>\n+\n+2008-11-05  Fabien Ch\u00eane <fabien@gcc.gnu.org>\n \n \tPR c++/32519\n \t* cp-tree.h: Fix DECL_NONSTATIC_MEMBER_P to handle member template"}, {"sha": "e706b7cb8535d44b0629768015c31baafbf06720", "filename": "gcc/cp/ChangeLog-2010", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2010", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2010", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog-2010?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -3127,13 +3127,13 @@\n \t* typeck.c (cp_build_modify_expr): Complain about assignment to\n \tarray from init list.\n \n-2010-05-10  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-05-10  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/43719\n-\t* decl.c (check_initializer): strip array type before checking for\n+\t* decl.c (check_initializer): Strip array type before checking for\n \tuninitialized const or ref members.\n \n-2010-05-07  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-05-07  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/43951\n \t* init.c (diagnose_uninitialized_cst_or_ref_member_1): Returns the\n@@ -3258,12 +3258,12 @@\n \tPR c++/43779\n \t* typeck.c (warn_args_num): New function.\n \t(convert_arguments): Use warn_args_num to print the diagnostic\n-\tmessages. \n+\tmessages.\n \n-2010-04-29  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-04-29  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/43890\n-\t* init.c (diagnose_uninitialized_cst_or_ref_member): check for\n+\t* init.c (diagnose_uninitialized_cst_or_ref_member): Check for\n \tuser-provided constructor while recursing.\n \n 2010-04-28  Manuel L\u00f3pez-Ib\u00e1\u00f1ez  <manu@gcc.gnu.org>\n@@ -3277,10 +3277,10 @@\n \n \t* init.c (perform_member_init): Check CLASS_TYPE_P.\n \n-2010-04-27  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-04-27  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/29043\n-\t* init.c (perform_member_init): check for uninitialized const or\n+\t* init.c (perform_member_init): Check for uninitialized const or\n \treference members, including array types.\n \n 2010-04-24  Jason Merrill  <jason@redhat.com>\n@@ -3331,7 +3331,7 @@\n \tconvert_like_real.\n \t* cp-tree.h: Adjust.\n \n-2010-04-27  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-04-27  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \t    Jason Merrill  <jason@redhat.com>\n \n \tPR c++/42844\n@@ -3403,7 +3403,7 @@\n \n \t* call.c (type_decays_to): Call cv_unqualified for non-class type.\n \n-2010-04-12  Fabien Chene  <fabien.chene@gmail.com>\n+2010-04-12  Fabien Ch\u00eane  <fabien@gcc.gnu.org>>\n \n \tPR c++/25811\n \t* cp-tree.h (diagnose_uninitialized_cst_or_ref_member): Declare."}, {"sha": "02dde6e787a397e415ba001a5ad4c5747a35f381", "filename": "gcc/cp/ChangeLog-2011", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2011", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2011", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog-2011?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -3511,7 +3511,7 @@\n 2011-05-07  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/48859\n-\t* init.c (diagnose_uninitialized_cst_or_ref_member_1): stop the\n+\t* init.c (diagnose_uninitialized_cst_or_ref_member_1): Stop the\n \trecursion if there is user defined constructor.\n \n 2011-05-09  Jason Merrill  <jason@redhat.com>"}, {"sha": "e63a3f79d1d8d4c6c8260f5646ae53ba262c0a17", "filename": "gcc/cp/ChangeLog-2012", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2012", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2FChangeLog-2012", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog-2012?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -2716,7 +2716,7 @@\n 2012-02-16  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/52126\n-\t* decl.c (xref_basetypes): call dependent_scope_p instead of\n+\t* decl.c (xref_basetypes): Call dependent_scope_p instead of\n \tdependent_type_p.\n \n 2012-02-16  Jason Merrill  <jason@redhat.com>"}, {"sha": "fdc1011f1989e80c8aa6bc8a83a15759e6de1f51", "filename": "gcc/cp/init.c", "status": "modified", "additions": 20, "deletions": 11, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Fcp%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Finit.c?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -694,11 +694,14 @@ perform_member_init (tree member, tree init)\n \t  if (CP_TYPE_CONST_P (type)\n \t      && init == NULL_TREE\n \t      && default_init_uninitialized_part (type))\n-\t    /* TYPE_NEEDS_CONSTRUCTING can be set just because we have a\n-\t       vtable; still give this diagnostic.  */\n-\t    permerror (DECL_SOURCE_LOCATION (current_function_decl),\n-\t\t       \"uninitialized member %qD with %<const%> type %qT\",\n-\t\t       member, type);\n+\t    {\n+\t      /* TYPE_NEEDS_CONSTRUCTING can be set just because we have a\n+\t\t vtable; still give this diagnostic.  */\n+\t      if (permerror (DECL_SOURCE_LOCATION (current_function_decl),\n+\t\t\t     \"uninitialized const member in %q#T\", type))\n+\t\tinform (DECL_SOURCE_LOCATION (member),\n+\t\t\t\"%q#D should be initialized\", member );\n+\t    }\n \t  finish_expr_stmt (build_aggr_init (decl, init, flags,\n \t\t\t\t\t     tf_warning_or_error));\n \t}\n@@ -710,13 +713,19 @@ perform_member_init (tree member, tree init)\n \t  tree core_type;\n \t  /* member traversal: note it leaves init NULL */\n \t  if (TREE_CODE (type) == REFERENCE_TYPE)\n-\t    permerror (DECL_SOURCE_LOCATION (current_function_decl),\n-\t\t       \"uninitialized reference member %qD\",\n-\t\t       member);\n+\t    {\n+\t      if (permerror (DECL_SOURCE_LOCATION (current_function_decl),\n+\t\t\t     \"uninitialized reference member in %q#T\", type))\n+\t\tinform (DECL_SOURCE_LOCATION (member),\n+\t\t\t\"%q#D should be initialized\", member);\n+\t    }\n \t  else if (CP_TYPE_CONST_P (type))\n-\t    permerror (DECL_SOURCE_LOCATION (current_function_decl),\n-\t\t       \"uninitialized member %qD with %<const%> type %qT\",\n-\t\t       member, type);\n+\t    {\n+\t      if (permerror (DECL_SOURCE_LOCATION (current_function_decl),\n+\t\t\t     \"uninitialized const member in %q#T\", type))\n+\t\t  inform (DECL_SOURCE_LOCATION (member),\n+\t\t\t  \"%q#D should be initialized\", member );\n+\t    }\n \n \t  core_type = strip_array_types (type);\n "}, {"sha": "7092fa705493a1ddb1f0f6c4e3ade5a53aef5095", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -1,3 +1,9 @@\n+2014-04-01  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n+\n+        * g++.dg/init/ctor4.C: Adjust.\n+\t* g++.dg/init/ctor4-1.C: New.\n+\t* g++.dg/cpp0x/defaulted2.C: Adjust.\n+\n 2014-04-01  Richard Henderson  <rth@redhat.com>\n \n \tPR target/60704"}, {"sha": "2c354ff448f7b9fe5043031bc0b082f2c8536460", "filename": "gcc/testsuite/ChangeLog-2008", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog-2008", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog-2008", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog-2008?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -1814,7 +1814,7 @@\n \t* gcc.dg/Warray-bounds-5.c: New test.\n \t* gcc.dg/Warray-bounds-6.c: New test.\n \n-2008-11-05  Fabien Chene <fabien.chene@gmail.com>\n+2008-11-05  Fabien Chene <fabien@gcc.gnu.org>\n \n \tPR c++/32519\n \t* g++.dg/template/pr32519.C: New test."}, {"sha": "47f39a3bc4aac0531ae771a146bfd8ad28f333a1", "filename": "gcc/testsuite/ChangeLog-2010", "status": "modified", "additions": 5, "deletions": 11, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog-2010", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2FChangeLog-2010", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog-2010?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -11264,7 +11264,7 @@\n \t* g++.dg/cpp0x/initlist26.C: Adjust.\n \t* g++.dg/cpp0x/initlist28.C: Adjust.\n \n-2010-05-10  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-05-10  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/43719\n \t* g++.dg/init/pr43719.C: New.\n@@ -11389,7 +11389,7 @@\n \t* gnat.dg/sizetype3.ad[sb]: New test.\n \t* gnat.dg/sizetype3_pkg.ads: New helper.\n \n-2010-05-07  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-05-07  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/43951\n \t* g++.dg/init/new29.C: New.\n@@ -11738,12 +11738,6 @@\n \n \t* gcc.dg/tree-ssa/builtin-free.c: New testcase.\n \n-2010-04-29  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n-\n-\tPR c++/43890\n-\t* init.c (diagnose_uninitialized_cst_or_ref_member): check for\n-\tuser-provided constructor while recursing.\n-\n 2010-04-29  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/42274\n@@ -11866,7 +11860,7 @@\n \t* g++.dg/template/pr23510.C: Update.\n \t* lib/prune.exp: Filter out 'recursively instantiated'.\n \n-2010-04-27  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-04-27  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \tPR c++/29043\n \t* g++.dg/init/pr29043.C: New.\n@@ -11898,7 +11892,7 @@\n \t* g++.dg/template/sfinae17.C: New.\n \t* g++.dg/template/sfinae18.C: New.\n \n-2010-04-27  Fabien Ch\u00eane  <fabien.chene@gmail.com>\n+2010-04-27  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \t* g++.dg/init/pr42844.C: New.\n \t* g++.dg/cpp0x/pr42844-2.C: New.\n@@ -12500,7 +12494,7 @@\n \t* g++.dg/cpp0x/lambda/lambda-conv4.C: New.\n \t* g++.dg/cpp0x/lambda/lambda-deduce2.C: New.\n \n-2010-04-12  Fabien Chene  <fabien.chene@gmail.com>\n+2010-04-12  Fabien Chene  <fabien@gcc.gnu.org>\n \n \tPR c++/25811\n \t* g++.dg/init/pr25811.C: New test."}, {"sha": "63be99754cd6d6f7433f3c4844d34f836e5ab55d", "filename": "gcc/testsuite/g++.dg/cpp0x/defaulted2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdefaulted2.C?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -35,7 +35,7 @@ struct D: public C\n \n struct E\n {\n-  const B b;\n+  const B b;\t\t\t// { dg-message \"should be initialized\" }\n   E() { }\t\t\t// { dg-error \"uninitialized\" }\n };\n "}, {"sha": "1333b35f9ddf9c53c94c9f195712388fbc2360a5", "filename": "gcc/testsuite/g++.dg/init/ctor4-1.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4-1.C?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -0,0 +1,21 @@\n+// { dg-do compile }\n+\n+class foo {\n+public:\n+  foo();\n+};\n+\n+class bar: public foo {\t// { dg-error \"uninitialized\" }\n+\t\t   // { dg-message \"implicitly deleted\" \"\" { target c++11 } 8 }\n+private:\n+  int const a; // { dg-message \"should be initialized\" }\n+};\n+\n+foo::foo() {\n+}\n+\n+int main(int argc, char **argv)\n+{\n+  bar x; // { dg-error \"deleted\" \"\" { target c++11 } }\n+\t // { dg-message \"synthesized\" \"\" { target { ! c++11 } } 19 }\n+}"}, {"sha": "21034b6796d0eb43097b1a29e62474ab2ab8c661", "filename": "gcc/testsuite/g++.dg/init/ctor4.C", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df9da030c424d798044b4081865a68c2b08a5e9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Finit%2Fctor4.C?ref=0df9da030c424d798044b4081865a68c2b08a5e9", "patch": "@@ -6,15 +6,17 @@ public:\n   foo();\n };\n \n-class bar: public foo {\t\t// { dg-error \"reference|bar::bar\" }\n+class bar: public foo {\t// { dg-error \"uninitialized\" }\n+\t\t   // { dg-message \"implicitly deleted\" \"\" { target c++11 } 9 }\n private:\n-  int &a;\n+  int &a; // { dg-message \"should be initialized\" }\n };\n \n foo::foo() {\n }\n \n int main(int argc, char **argv)\n {\n-  bar x; // { dg-message \"synthesized|deleted\" }\n+  bar x; // { dg-error \"deleted\" \"\" { target c++11 } }\n+         // { dg-message \"synthesized\" \"\" { target { ! c++11 } } 20 }\n }"}]}