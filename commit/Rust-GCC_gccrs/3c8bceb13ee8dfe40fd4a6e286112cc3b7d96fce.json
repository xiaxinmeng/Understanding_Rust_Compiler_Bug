{"sha": "3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2M4YmNlYjEzZWU4ZGZlNDBmZDRhNmUyODYxMTJjYzNiN2Q5NmZjZQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely.gcc@gmail.com", "date": "2013-11-19T23:22:26Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2013-11-19T23:22:26Z"}, "message": "gnu.ver (_ZNSt11regex_errorC*): Export regex_error constructors.\n\n\t* config/abi/pre/gnu.ver (_ZNSt11regex_errorC*): Export regex_error\n\tconstructors.\n\t* testsuite/20_util/addressof/1.cc: Remove { dg-do compile }.\n\t* testsuite/20_util/allocator_traits/members/destroy.cc: Likewise.\n\t* testsuite/20_util/allocator_traits/members/select.cc: Likewise. Fix\n\tfailure.\n\t* testsuite/28_regex/basic_regex/ctors/extended/cstring.cc: Likewise.\n\t* testsuite/28_regex/init-list.cc: Likewise.\n\t* testsuite/28_regex/regex_error/regex_error.cc: Likewise.\n\t* testsuite/28_regex/sub_match/length.cc: Likewise. Add main.\n\t* testsuite/28_regex/sub_match/cast_char.cc: Likewise. Fix test.\n\t* testsuite/28_regex/sub_match/cast_wchar_t.cc: Likewise.\n\t* testsuite/tr1/7_regular_expressions/regex/cons/char/\n\tc_string_extended.cc: Delete.\n\nFrom-SVN: r205063", "tree": {"sha": "ee256d570a02c1fea73e89f92ae8b4bbad6be30b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee256d570a02c1fea73e89f92ae8b4bbad6be30b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/comments", "author": null, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d73cc4519cdf4a00eb7975e4429cf398456052e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d73cc4519cdf4a00eb7975e4429cf398456052e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d73cc4519cdf4a00eb7975e4429cf398456052e"}], "stats": {"total": 94, "additions": 31, "deletions": 63}, "files": [{"sha": "891e5c56511762f7bf28904d3fe3d17f03c25a07", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -19,6 +19,21 @@\n \t* testsuite/23_containers/vector/allocator/swap.cc: Add elements\n \tbefore swapping.\n \n+\t* config/abi/pre/gnu.ver (_ZNSt11regex_errorC*): Export regex_error\n+\tconstructors.\n+\t* testsuite/20_util/addressof/1.cc: Remove { dg-do compile }.\n+\t* testsuite/20_util/allocator_traits/members/destroy.cc: Likewise.\n+\t* testsuite/20_util/allocator_traits/members/select.cc: Likewise. Fix\n+\tfailure.\n+\t* testsuite/28_regex/basic_regex/ctors/extended/cstring.cc: Likewise.\n+\t* testsuite/28_regex/init-list.cc: Likewise.\n+\t* testsuite/28_regex/regex_error/regex_error.cc: Likewise.\n+\t* testsuite/28_regex/sub_match/length.cc: Likewise. Add main.\n+\t* testsuite/28_regex/sub_match/cast_char.cc: Likewise. Fix test.\n+\t* testsuite/28_regex/sub_match/cast_wchar_t.cc: Likewise.\n+\t* testsuite/tr1/7_regular_expressions/regex/cons/char/\n+\tc_string_extended.cc: Delete.\n+\n 2013-11-19  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/experimental/string_view (_S_max_size): Remove."}, {"sha": "323579399e650a669ce2a7719495f5bf0e9e85d1", "filename": "libstdc++-v3/config/abi/pre/gnu.ver", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fabi%2Fpre%2Fgnu.ver?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1368,6 +1368,9 @@ GLIBCXX_3.4.20 {\n     # std::__throw_out_of_range_fmt(char const*, ...)\n     _ZSt24__throw_out_of_range_fmtPKcz;\n \n+    # std::regex_error::regex_error(std::regex_constants::error_type)\n+    _ZNSt11regex_errorC[01]ENSt15regex_constants10error_typeE;\n+\n } GLIBCXX_3.4.19;\n \n # Symbols in the support library (libsupc++) have their own tag."}, {"sha": "2b32855b72ab0dd84fd8762c83fbf6ea0f290294", "filename": "libstdc++-v3/testsuite/20_util/addressof/1.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Faddressof%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Faddressof%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Faddressof%2F1.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,5 +1,4 @@\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-do compile }\n \n // 2010-05-20  Paolo Carlini  <paolo.carlini@oracle.com>\n "}, {"sha": "56d598a21d1baed5c2b18d6f5ee0d82119e5a2e6", "filename": "libstdc++-v3/testsuite/20_util/allocator_traits/members/destroy.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fdestroy.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fdestroy.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fdestroy.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,5 +1,4 @@\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-do compile }\n \n // Copyright (C) 2011-2013 Free Software Foundation, Inc.\n //"}, {"sha": "2671f18257d89f8052bbff754c5735d56bd5cd18", "filename": "libstdc++-v3/testsuite/20_util/allocator_traits/members/select.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fselect.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fselect.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fallocator_traits%2Fmembers%2Fselect.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,5 +1,4 @@\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-do compile }\n \n // Copyright (C) 2011-2013 Free Software Foundation, Inc.\n //\n@@ -54,7 +53,7 @@ void test01()\n \n void test02()\n {\n-  typedef std::allocator_traits<alloc1<X>> traits_type;\n+  typedef std::allocator_traits<alloc2<X>> traits_type;\n   traits_type::allocator_type a{1};\n   const traits_type::allocator_type& a2\n     = traits_type::select_on_container_copy_construction(a);"}, {"sha": "03c20a4f6dda7accf385a14996660edda74d8ad8", "filename": "libstdc++-v3/testsuite/28_regex/basic_regex/ctors/extended/cstring.cc", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fbasic_regex%2Fctors%2Fextended%2Fcstring.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fbasic_regex%2Fctors%2Fextended%2Fcstring.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fbasic_regex%2Fctors%2Fextended%2Fcstring.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do compile }\n // { dg-options \"-std=c++0x\" }\n \n // 2007-03-12  Stephen M. Webb  <stephen.webb@bregmasoft.com>\n@@ -33,7 +32,7 @@ test01()\n   std::regex re(\"(wee|week)(knights|night)\", std::regex::extended);\n   \n   VERIFY( re.flags() == std::regex::extended );\n-  VERIFY( re.mark_count() == 0 );\n+  VERIFY( re.mark_count() == 2 );\n }\n \n int main()"}, {"sha": "390e715cc34cc4615667fa36083e5486d00b9bd9", "filename": "libstdc++-v3/testsuite/28_regex/init-list.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Finit-list.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Finit-list.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Finit-list.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,5 +1,4 @@\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-do compile }\n \n // Copyright (C) 2008-2013 Free Software Foundation, Inc.\n //"}, {"sha": "253797329cff54924796f9f4b2bc4e295679f01b", "filename": "libstdc++-v3/testsuite/28_regex/regex_error/regex_error.cc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregex_error%2Fregex_error.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregex_error%2Fregex_error.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fregex_error%2Fregex_error.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,5 +1,4 @@\n // { dg-options \"-std=c++0x\" }\n-// { dg-do compile }\n //\n // 2009-06-17  Stephen M. Webb  <stephen.webb@xandros.com>\n //"}, {"sha": "300757e9a2749b517adf5171722a61612ecb2090", "filename": "libstdc++-v3/testsuite/28_regex/sub_match/cast_char.cc", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_char.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_char.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_char.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do compile }\n // { dg-options \"-std=c++0x\" }\n \n //\n@@ -27,9 +26,7 @@\n #include <string>\n #include <testsuite_hooks.h>\n \n-\n-void\n-test01()\n+int main()\n {\n   bool test __attribute__((unused)) = true;\n \n@@ -39,8 +36,8 @@ test01()\n   value_type test_data[] = \"cabbage\";\n \n \tsub_match_type sm;\n-\tsm.first = test_data + 0;\n-\tsm.second  = test_data + sizeof(test_data)/sizeof(value_type);\n+\tsm.first = std::begin(test_data);\n+\tsm.second  = std::end(test_data) - 1;\n \tsm.matched = true;\n \n \tstring_type sm_string = sm;"}, {"sha": "2a5cd3fa0488d41e98fd5a1e07e433c0c7c621da", "filename": "libstdc++-v3/testsuite/28_regex/sub_match/cast_wchar_t.cc", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_wchar_t.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_wchar_t.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Fcast_wchar_t.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do compile }\n // { dg-options \"-std=c++0x\" }\n \n //\n@@ -27,9 +26,7 @@\n #include <string>\n #include <testsuite_hooks.h>\n \n-\n-void\n-test01()\n+int main()\n {\n   bool test __attribute__((unused)) = true;\n \n@@ -39,8 +36,8 @@ test01()\n   value_type test_data[] = L\"cabbage\";\n \n \tsub_match_type sm;\n-\tsm.first = test_data + 0;\n-\tsm.second  = test_data + sizeof(test_data)/sizeof(value_type);\n+\tsm.first = std::begin(test_data);\n+\tsm.second  = std::end(test_data) - 1;\n \tsm.matched = true;\n \n \tstring_type sm_string = sm;"}, {"sha": "7f073e4242b2f2adb736033580be6fb8686cdebc", "filename": "libstdc++-v3/testsuite/28_regex/sub_match/length.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Flength.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Flength.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F28_regex%2Fsub_match%2Flength.cc?ref=3c8bceb13ee8dfe40fd4a6e286112cc3b7d96fce", "patch": "@@ -1,4 +1,3 @@\n-// { dg-do compile }\n // { dg-options \"-std=c++0x\" }\n \n //\n@@ -47,3 +46,8 @@ test01()\n \tVERIFY( sm1.length() == test_len );\n \tVERIFY( sm2.length() == 0 );\n }\n+\n+int main()\n+{\n+  test01();\n+}"}, {"sha": "24fa717d840be0e8bcf2a129a1685833ae23e6c5", "filename": "libstdc++-v3/testsuite/tr1/7_regular_expressions/regex/cons/char/c_string_extended.cc", "status": "removed", "additions": 0, "deletions": 42, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d73cc4519cdf4a00eb7975e4429cf398456052e/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F7_regular_expressions%2Fregex%2Fcons%2Fchar%2Fc_string_extended.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d73cc4519cdf4a00eb7975e4429cf398456052e/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F7_regular_expressions%2Fregex%2Fcons%2Fchar%2Fc_string_extended.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F7_regular_expressions%2Fregex%2Fcons%2Fchar%2Fc_string_extended.cc?ref=2d73cc4519cdf4a00eb7975e4429cf398456052e", "patch": "@@ -1,42 +0,0 @@\n-// { dg-do compile }\n-\n-// 2007-03-12  Stephen M. Webb  <stephen.webb@bregmasoft.com>\n-//\n-// Copyright (C) 2007-2013 Free Software Foundation, Inc.\n-//\n-// This file is part of the GNU ISO C++ Library.  This library is free\n-// software; you can redistribute it and/or modify it under the\n-// terms of the GNU General Public License as published by the\n-// Free Software Foundation; either version 3, or (at your option)\n-// any later version.\n-//\n-// This library is distributed in the hope that it will be useful,\n-// but WITHOUT ANY WARRANTY; without even the implied warranty of\n-// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-// GNU General Public License for more details.\n-//\n-// You should have received a copy of the GNU General Public License along\n-// with this library; see the file COPYING3.  If not see\n-// <http://www.gnu.org/licenses/>.\n-\n-// 7.8.2 basic_regex constructors\n-\n-#include <tr1/regex>\n-#include <testsuite_hooks.h>\n-\n-void\n-test01() \n-{ \n-  bool test __attribute__((unused)) = true;\n-\n-  std::tr1::regex re(\"(wee|week)(knights|night)\", std::tr1::regex::extended);\n-  \n-  VERIFY( re.flags() == std::tr1::regex::extended );\n-  VERIFY( re.mark_count() == 0 );\n-}\n-\n-int main()\n-{\n-  test01();\n-  return 0;\n-}"}]}