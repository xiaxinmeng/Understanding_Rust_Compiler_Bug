{"sha": "b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjNiMDhiYTA0NGYxZTFjMWY2OTA0N2E3YTdjMDIzMTgxYWFmNzFjMQ==", "commit": {"author": {"name": "Matthias Klose", "email": "doko@debian.org", "date": "2007-04-16T20:09:40Z"}, "committer": {"name": "Matthias Klose", "email": "doko@gcc.gnu.org", "date": "2007-04-16T20:09:40Z"}, "message": "configure.tgt (i[456]86-*-linux*): Only add ia32 specific flags if not building with -m64.\n\n2007-04-16  Matthias Klose  <doko@debian.org>\n\n        * configure.tgt (i[456]86-*-linux*): Only add ia32 specific\n        flags if not building with -m64.\n        * testsuite/lib/libgomp-dg.exp (libgomp_init): Don't add -march\n        flag for i?86-*-* targets, if current target matches -m64.\n\nFrom-SVN: r123887", "tree": {"sha": "6aa632189c826787ca91e8b9e62b562488d45aa5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6aa632189c826787ca91e8b9e62b562488d45aa5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1/comments", "author": null, "committer": null, "parents": [{"sha": "52d412e76f503ec4f2911a2582a53e524a70dbf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52d412e76f503ec4f2911a2582a53e524a70dbf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52d412e76f503ec4f2911a2582a53e524a70dbf6"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "8ad5361bfc3c843b059a1d2799fa6130f40bb6fc", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "patch": "@@ -1,3 +1,10 @@\n+2007-04-16  Matthias Klose  <doko@debian.org>\n+\n+\t* configure.tgt (i[456]86-*-linux*): Only add ia32 specific\n+\tflags if not building with -m64.\n+\t* testsuite/lib/libgomp-dg.exp (libgomp_init): Don't add -march\n+\tflag for i?86-*-* targets, if current target matches -m64.\n+\n 2007-04-14  Steve Ellcey  <sje@cup.hp.com>\n \n \t* Makefile.am: Add -I .. to ACLOCAL_AMFLAGS."}, {"sha": "4790d66d8c63bfd4faac8eb8ff13607853bfbab5", "filename": "libgomp/configure.tgt", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1/libgomp%2Fconfigure.tgt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b3b08ba044f1e1c1f69047a7a7c023181aaf71c1/libgomp%2Fconfigure.tgt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.tgt?ref=b3b08ba044f1e1c1f69047a7a7c023181aaf71c1", "patch": "@@ -49,9 +49,14 @@ if test $enable_linux_futex = yes; then\n     # Note that bare i386 is not included here.  We need cmpxchg.\n     i[456]86-*-linux*)\n \tconfig_path=\"linux/x86 linux posix\"\n-\tif test -z \"$with_arch\"; then\n-\t  XCFLAGS=\"${XCFLAGS} -march=i486 -mtune=${target_cpu}\"\n-\tfi\n+\tcase \" ${CC} ${CFLAGS} \" in\n+\t  *\" -m64 \"*)\n+\t    ;;\n+\t  *)\n+\t    if test -z \"$with_arch\"; then\n+\t      XCFLAGS=\"${XCFLAGS} -march=i486 -mtune=${target_cpu}\"\n+\t    fi\n+\tesac\n \t;;\n \n     # Similar jiggery-pokery for x86_64 multilibs, except here we"}]}