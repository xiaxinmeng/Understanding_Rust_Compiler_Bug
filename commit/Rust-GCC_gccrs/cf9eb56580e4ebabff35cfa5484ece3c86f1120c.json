{"sha": "cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Y5ZWI1NjU4MGU0ZWJhYmZmMzVjZmE1NDg0ZWNlM2M4NmYxMTIwYw==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2009-12-03T14:26:46Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2009-12-03T14:26:46Z"}, "message": "linux-atomic.c (SYNC_LOCK_RELEASE): Place memory barrier before the lock release.\n\n\t* arm/linux-atomic.c (SYNC_LOCK_RELEASE): Place memory barrier\n\tbefore the lock release.\n\nFrom-SVN: r154949", "tree": {"sha": "cee4c3991885f7b08b311be973bc810a20c2b461", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cee4c3991885f7b08b311be973bc810a20c2b461"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf9eb56580e4ebabff35cfa5484ece3c86f1120c/comments", "author": null, "committer": null, "parents": [{"sha": "bcaf576b83e0c2332c2f78acb5ec7d060fdbab46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bcaf576b83e0c2332c2f78acb5ec7d060fdbab46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bcaf576b83e0c2332c2f78acb5ec7d060fdbab46"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "258890d1746fc6a78c89c42f431725e338303062", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf9eb56580e4ebabff35cfa5484ece3c86f1120c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf9eb56580e4ebabff35cfa5484ece3c86f1120c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "patch": "@@ -1,3 +1,8 @@\n+2009-12-03  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* arm/linux-atomic.c (SYNC_LOCK_RELEASE): Place memory barrier\n+\tbefore the lock release.\n+\n 2009-12-03  Michael Matz  <matz@suse.de>\n \n \tPR middle-end/38474"}, {"sha": "20ad2960f49644f15952bfc54ba6bad5f1c475f7", "filename": "gcc/config/arm/linux-atomic.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf9eb56580e4ebabff35cfa5484ece3c86f1120c/gcc%2Fconfig%2Farm%2Flinux-atomic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf9eb56580e4ebabff35cfa5484ece3c86f1120c/gcc%2Fconfig%2Farm%2Flinux-atomic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-atomic.c?ref=cf9eb56580e4ebabff35cfa5484ece3c86f1120c", "patch": "@@ -266,8 +266,10 @@ SUBWORD_TEST_AND_SET (char,  1)\n   void HIDDEN\t\t\t\t\t\t\t\t\\\n   __sync_lock_release_##WIDTH (TYPE *ptr)\t\t\t\t\\\n   {\t\t\t\t\t\t\t\t\t\\\n-    *ptr = 0;\t\t\t\t\t\t\t\t\\\n+    /* All writes before this point must be seen before we release\t\\\n+       the lock itself.  */\t\t\t\t\t\t\\\n     __kernel_dmb ();\t\t\t\t\t\t\t\\\n+    *ptr = 0;\t\t\t\t\t\t\t\t\\\n   }\n \n SYNC_LOCK_RELEASE (int,   4)"}]}