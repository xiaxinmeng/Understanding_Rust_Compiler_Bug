{"sha": "d39cd7a1e974515c82a12cc377111f2fd65efe7e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDM5Y2Q3YTFlOTc0NTE1YzgyYTEyY2MzNzcxMTFmMmZkNjVlZmU3ZQ==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1998-01-04T00:10:33Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-04T00:10:33Z"}, "message": "config.sub: Add mingw32 support.\n\n        * config.sub: Add mingw32 support.\n        * configure.in: Likewise.\n        * config/mh-mingw32: New file.\n\nFrom-SVN: r17291", "tree": {"sha": "d47e565d2c5f38bd2f8a624f33bbb5fd8c71f94e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d47e565d2c5f38bd2f8a624f33bbb5fd8c71f94e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d39cd7a1e974515c82a12cc377111f2fd65efe7e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d39cd7a1e974515c82a12cc377111f2fd65efe7e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d39cd7a1e974515c82a12cc377111f2fd65efe7e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d39cd7a1e974515c82a12cc377111f2fd65efe7e/comments", "author": null, "committer": null, "parents": [{"sha": "db0d1ed937f0b96e460df219968ce13fdb195fa2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db0d1ed937f0b96e460df219968ce13fdb195fa2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db0d1ed937f0b96e460df219968ce13fdb195fa2"}], "stats": {"total": 46, "additions": 44, "deletions": 2}, "files": [{"sha": "7410ce65f17fac8f8b92e7bec67258ab9cf705e7", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d39cd7a1e974515c82a12cc377111f2fd65efe7e/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d39cd7a1e974515c82a12cc377111f2fd65efe7e/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=d39cd7a1e974515c82a12cc377111f2fd65efe7e", "patch": "@@ -1,3 +1,9 @@\n+Sun Jan  4 01:06:55 1998  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* config.sub: Add mingw32 support.\n+\t* configure.in: Likewise.\n+\t* config/mh-mingw32: New file.\n+\n Sat Jan  3 12:11:05 1998 Franz Sirl <franz.sirl-kernel@lauterbach.com>\n \n \t* configure.in: Finalize support for {alpha|powerpc}*-*-linux-gnulibc1"}, {"sha": "5e86b84d5f4180e948c86ccfa3f1571f015620f3", "filename": "config.sub", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d39cd7a1e974515c82a12cc377111f2fd65efe7e/config.sub", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d39cd7a1e974515c82a12cc377111f2fd65efe7e/config.sub", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config.sub?ref=d39cd7a1e974515c82a12cc377111f2fd65efe7e", "patch": "@@ -462,6 +462,10 @@ case $basic_machine in\n \t\tbasic_machine=i386-unknown\n \t\tos=-go32\n \t\t;;\n+\ti386-mingw32 | mingw32)\n+\t\tbasic_machine=i386-unknown\n+\t\tos=-mingw32\n+\t\t;;\n \tiris | iris4d)\n \t\tbasic_machine=mips-sgi\n \t\tcase $os in"}, {"sha": "8c4839d89d62dda2c888f75c221a301162ef2815", "filename": "config/mh-mingw32", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d39cd7a1e974515c82a12cc377111f2fd65efe7e/config%2Fmh-mingw32", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d39cd7a1e974515c82a12cc377111f2fd65efe7e/config%2Fmh-mingw32", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fmh-mingw32?ref=d39cd7a1e974515c82a12cc377111f2fd65efe7e", "patch": "@@ -0,0 +1,12 @@\n+# We don't want debugging info in Win32-hosted toolchains.\n+# Accomplish this by overriding CFLAGS.\n+CFLAGS=-O2\n+CXXFLAGS=-O2\n+\n+# We also need to override LIBGCC2_DEBUG_CFLAGS so libgcc2 will be\n+# built without debugging information\n+\n+LIBGCC2_DEBUG_CFLAGS=\n+\n+# custom installation rules for mingw32 (append .exe to binaries, etc.)\n+# INSTALL_DOSREL=install-dosrel"}, {"sha": "68d0d9dd58e67081b059e8c120b5dcc15fdbf661", "filename": "configure.in", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d39cd7a1e974515c82a12cc377111f2fd65efe7e/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d39cd7a1e974515c82a12cc377111f2fd65efe7e/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=d39cd7a1e974515c82a12cc377111f2fd65efe7e", "patch": "@@ -182,6 +182,9 @@ case \"${host}\" in\n   *-cygwin32*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-cygwin32\"\n     ;;\n+  *-mingw32*)\n+    host_makefile_frag=\"${host_makefile_frag} config/mh-mingw32\"\n+    ;;\n   *-windows*)\n     host_makefile_frag=\"${host_makefile_frag} config/mh-windows\"\n     ;;\n@@ -462,6 +465,8 @@ done\n case \"${host}\" in\n \ti[3456]86-*-go32*)\n \t  configdirs=\"$configdirs dosrel\" ;;\n+\ti[3456]86-*-mingw32*)\n+\t  configdirs=\"$configdirs dosrel\" ;;\n \t*-cygwin32*)\n \t  configdirs=\"$configdirs dosrel\" ;;\n esac\n@@ -479,6 +484,10 @@ case \"${host}\" in\n   i[3456]86-*-go32* | i[3456]86-*-msdosdjgpp*)\n     noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db sn gnuserv\"\n \t;;\n+  i[3456]86-*-mingw32*)\n+    # noconfigdirs=\"tcl tk expect dejagnu make texinfo bison patch flex byacc send-pr uudecode dejagnu diff guile perl apache inet itcl tix db sn gnuserv\"\n+     noconfigdirs=\"expect dejagnu cvs autoconf automake send-pr gprof rcs guile perl texinfo apache inet\"\n+\t;;\n   *-*-cygwin32)\n      noconfigdirs=\"expect dejagnu cvs autoconf automake bison send-pr gprof rcs guile perl texinfo apache inet\"\n     ;;\n@@ -564,6 +573,17 @@ case \"${target}\" in\n     # linux has rx in libc\n     skipdirs=\"$skipdirs target-librx\"\n     ;;\n+  i[3456]86-*-mingw32*)\n+    target_configdirs=\"$target_configdirs target-mingw\"\n+    noconfigdirs=\"$noconfigdirs expect target-libgloss\"\n+\n+    # Can't build gdb for cygwin32 if not native.\n+    case \"${host}\" in\n+      i[3456]86-*-mingw32) ;; # keep gdb tcl tk expect etc.\n+      *) noconfigdirs=\"$noconfigdirs gdb tcl tk expect itcl tix db sn gnuserv\"\n+         ;;\n+    esac\n+    ;;    \n   *-*-cygwin32)\n     target_configdirs=\"$target_configdirs target-winsup\"\n     noconfigdirs=\"$noconfigdirs expect target-libgloss\"\n@@ -956,10 +976,10 @@ if [ \"${shared}\" = \"yes\" ]; then\n   esac\n fi\n \n-# If we are building for a cygwin32 host, then set INSTALL_PROGRAM_ARGS to\n+# If we are building for a win32 host, then set INSTALL_PROGRAM_ARGS to\n # -x.  This will cause programs to be installed with .exe extensions.\n case \"${host}\" in\n-*-*-cygwin32*)\n+*-*-cygwin32* | i[3456]86-*-mingw32)\n     sed -e 's/^INSTALL_PROGRAM_ARGS[ \t]*=.*$/INSTALL_PROGRAM_ARGS = -x/' \\\n \tMakefile > Makefile.tem\n     rm -f Makefile"}]}