{"sha": "269ca76f4b95b196558ee8b93828a722ee395196", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY5Y2E3NmY0Yjk1YjE5NjU1OGVlOGI5MzgyOGE3MjJlZTM5NTE5Ng==", "commit": {"author": {"name": "Ilya Enkovich", "email": "enkovich.gnu@gmail.com", "date": "2015-10-15T09:26:39Z"}, "committer": {"name": "Ilya Enkovich", "email": "ienkovich@gcc.gnu.org", "date": "2015-10-15T09:26:39Z"}, "message": "re PR other/66887 (trunk/libmpx/mpxrt/mpxrt.c:158: possible performance problem)\n\nlibmpx/\n\n\tPR other/66887\n\t* mpxrt/mpxrt.c (read_mpx_status_sig): Remove useless code.\n\nFrom-SVN: r228838", "tree": {"sha": "387b86f805e596a403d670ffdc4d20882ad59941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/387b86f805e596a403d670ffdc4d20882ad59941"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/269ca76f4b95b196558ee8b93828a722ee395196", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269ca76f4b95b196558ee8b93828a722ee395196", "html_url": "https://github.com/Rust-GCC/gccrs/commit/269ca76f4b95b196558ee8b93828a722ee395196", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/269ca76f4b95b196558ee8b93828a722ee395196/comments", "author": null, "committer": null, "parents": [{"sha": "1140d42f760982066717a0510bb3fd0fa78db00f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1140d42f760982066717a0510bb3fd0fa78db00f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1140d42f760982066717a0510bb3fd0fa78db00f"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "5e5f77d68a796ec793af8927f3ecfff0c4189f0f", "filename": "libmpx/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269ca76f4b95b196558ee8b93828a722ee395196/libmpx%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269ca76f4b95b196558ee8b93828a722ee395196/libmpx%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmpx%2FChangeLog?ref=269ca76f4b95b196558ee8b93828a722ee395196", "patch": "@@ -1,3 +1,8 @@\n+2015-10-15  Ilya Enkovich  <enkovich.gnu@gmail.com>\n+\n+\tPR other/66887\n+\t* mpxrt/mpxrt.c (read_mpx_status_sig): Remove useless code.\n+\n 2015-07-16  Ilya Enkovich  <enkovich.gnu@gmail.com>\n \n \t* configure.ac: Remove link_mpx."}, {"sha": "c29c5d9a50100f1518d153dcc627e03cb77a3cfb", "filename": "libmpx/mpxrt/mpxrt.c", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/269ca76f4b95b196558ee8b93828a722ee395196/libmpx%2Fmpxrt%2Fmpxrt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/269ca76f4b95b196558ee8b93828a722ee395196/libmpx%2Fmpxrt%2Fmpxrt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmpx%2Fmpxrt%2Fmpxrt.c?ref=269ca76f4b95b196558ee8b93828a722ee395196", "patch": "@@ -152,13 +152,8 @@ xgetbv (uint32_t index)\n static uint64_t\n read_mpx_status_sig (ucontext_t *uctxt)\n {\n-  uint8_t __attribute__ ((__aligned__ (64))) buffer[4096];\n-  struct xsave_struct *xsave_buf = (struct xsave_struct *)buffer;\n-\n-  memset (buffer, 0, sizeof (buffer));\n-  memcpy (buffer,\n-\t  (uint8_t *)uctxt->uc_mcontext.fpregs + XSAVE_OFFSET_IN_FPMEM,\n-\t  sizeof (struct xsave_struct));\n+  uint8_t *regs = (uint8_t *)uctxt->uc_mcontext.fpregs + XSAVE_OFFSET_IN_FPMEM;\n+  struct xsave_struct *xsave_buf = (struct xsave_struct *)regs;\n   return xsave_buf->bndcsr.status_reg;\n }\n "}]}