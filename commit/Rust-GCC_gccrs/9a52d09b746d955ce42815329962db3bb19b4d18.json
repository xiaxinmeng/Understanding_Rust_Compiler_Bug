{"sha": "9a52d09b746d955ce42815329962db3bb19b4d18", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWE1MmQwOWI3NDZkOTU1Y2U0MjgxNTMyOTk2MmRiM2JiMTliNGQxOA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-08-17T04:32:09Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-08-17T04:32:09Z"}, "message": "cvt.c (convert_to_void): Preserve TREE_SIDE_EFFECTS on COMPOUND_EXPRs.\n\n\t* cvt.c (convert_to_void): Preserve TREE_SIDE_EFFECTS\n\ton COMPOUND_EXPRs.\n\nFrom-SVN: r44956", "tree": {"sha": "82671172fd99ac690ae6faffbed4dd4b9bae1fe0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/82671172fd99ac690ae6faffbed4dd4b9bae1fe0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a52d09b746d955ce42815329962db3bb19b4d18", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a52d09b746d955ce42815329962db3bb19b4d18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a52d09b746d955ce42815329962db3bb19b4d18", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a52d09b746d955ce42815329962db3bb19b4d18/comments", "author": null, "committer": null, "parents": [{"sha": "715bdd29f333820829fa846ea8302b8e540b88f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/715bdd29f333820829fa846ea8302b8e540b88f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/715bdd29f333820829fa846ea8302b8e540b88f2"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "441735e7cc9f689a04dd037671fdf004f86ea916", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a52d09b746d955ce42815329962db3bb19b4d18/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a52d09b746d955ce42815329962db3bb19b4d18/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9a52d09b746d955ce42815329962db3bb19b4d18", "patch": "@@ -1,3 +1,8 @@\n+2001-08-16  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* cvt.c (convert_to_void): Preserve TREE_SIDE_EFFECTS\n+\ton COMPOUND_EXPRs.\n+\n 2001-08-14  Richard Henderson  <rth@redhat.com>\n \n \t* class.c, cp-tree.h (build_vfn_ref): Remove."}, {"sha": "f8845b29d7fd44bbf1787f52199b19fc54e4c8f1", "filename": "gcc/cp/cvt.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a52d09b746d955ce42815329962db3bb19b4d18/gcc%2Fcp%2Fcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a52d09b746d955ce42815329962db3bb19b4d18/gcc%2Fcp%2Fcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcvt.c?ref=9a52d09b746d955ce42815329962db3bb19b4d18", "patch": "@@ -950,8 +950,13 @@ convert_to_void (expr, implicit)\n         tree new_op1 = convert_to_void (op1, implicit);\n         \n         if (new_op1 != op1)\n-          expr = build (COMPOUND_EXPR, TREE_TYPE (new_op1),\n-                        TREE_OPERAND (expr, 0), new_op1);\n+\t  {\n+\t    tree t = build (COMPOUND_EXPR, TREE_TYPE (new_op1),\n+\t\t\t    TREE_OPERAND (expr, 0), new_op1);\n+\t    TREE_SIDE_EFFECTS (t) = TREE_SIDE_EFFECTS (expr);\n+\t    expr = t;\n+\t  }\n+\n         break;\n       }\n     "}]}