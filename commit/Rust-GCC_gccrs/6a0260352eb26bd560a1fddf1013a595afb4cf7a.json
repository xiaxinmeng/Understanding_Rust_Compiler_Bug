{"sha": "6a0260352eb26bd560a1fddf1013a595afb4cf7a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmEwMjYwMzUyZWIyNmJkNTYwYTFmZGRmMTAxM2E1OTVhZmI0Y2Y3YQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2012-10-09T23:37:07Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-10-09T23:37:07Z"}, "message": "re PR c++/53307 (internal crash with variadic templates and decltype)\n\n2012-10-10  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/53307\n\t* g++.dg/cpp0x/decltype44.C: New.\n\nFrom-SVN: r192279", "tree": {"sha": "ee0cf0137b550c76c7c175f38be2cf2d8452c410", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee0cf0137b550c76c7c175f38be2cf2d8452c410"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a0260352eb26bd560a1fddf1013a595afb4cf7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a0260352eb26bd560a1fddf1013a595afb4cf7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a0260352eb26bd560a1fddf1013a595afb4cf7a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a0260352eb26bd560a1fddf1013a595afb4cf7a/comments", "author": null, "committer": null, "parents": [{"sha": "b3618b716790fec683f2f6aa14225e8a87a50f3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3618b716790fec683f2f6aa14225e8a87a50f3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3618b716790fec683f2f6aa14225e8a87a50f3b"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "8b024bb012196d87ae760ce93fff6d649f72d4e4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a0260352eb26bd560a1fddf1013a595afb4cf7a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a0260352eb26bd560a1fddf1013a595afb4cf7a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6a0260352eb26bd560a1fddf1013a595afb4cf7a", "patch": "@@ -1,3 +1,8 @@\n+2012-10-10  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/53307\n+\t* g++.dg/cpp0x/decltype44.C: New.\n+\n 2012-10-09  Steve Ellcey  <sellcey@mips.com>\n \n \t* gcc.target/ext_ins.c: Modify f2 to aviod uninitialized data."}, {"sha": "2b2e62213e2eafde2738ab41fa1212de1405ae84", "filename": "gcc/testsuite/g++.dg/cpp0x/decltype44.C", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a0260352eb26bd560a1fddf1013a595afb4cf7a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype44.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a0260352eb26bd560a1fddf1013a595afb4cf7a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype44.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fdecltype44.C?ref=6a0260352eb26bd560a1fddf1013a595afb4cf7a", "patch": "@@ -0,0 +1,44 @@\n+// PR c++/53307\n+// { dg-do compile { target c++11 } }\n+\n+template <class...Ts> struct tuple{};\n+\n+struct funct\n+{\n+  template <class T, class...argTs>\n+  T operator()(T arg1, argTs...)\n+  {\n+    return arg1;\n+  }\n+};\n+\n+template <class...>class test;\n+\n+template < template <class...> class tp,\n+\t   class...arg1Ts,\n+\t   class...arg2Ts> \n+class test<tp<arg1Ts...>, tp<arg2Ts...>>\n+{\n+ public:\n+  template <class func>\n+    auto test_pass(func fun, arg2Ts...arg2s) \n+    -> decltype(fun(arg2s...)) \n+  {\n+    return fun(arg2s...);\n+  }\n+\n+  template <class func, class...arg3Ts>\n+    auto testbug(func fun, arg2Ts...arg2s, arg3Ts...arg3s)\n+    -> decltype(fun(arg2s..., arg3s...)) \n+  {\n+    return fun(arg2s..., arg3s...);\n+  }\n+};\n+\n+int main()\n+{\t\n+  test<tuple<>, tuple<char, int>> t;\n+  t.test_pass (funct(), 'a', 2);\n+  t.testbug (funct(), 'a', 2, \"fine\");\n+  t.testbug (funct(), 'a', 2);\n+}"}]}