{"sha": "5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ0ODI2OGZhZDYxM2JkZjZjZWJjYjM5MzBmM2QyZDI3NWU0YjNmZA==", "commit": {"author": {"name": "Volker Reichelt", "email": "reichelt@igpm.rwth-aachen.de", "date": "2006-07-31T22:52:20Z"}, "committer": {"name": "Volker Reichelt", "email": "reichelt@gcc.gnu.org", "date": "2006-07-31T22:52:20Z"}, "message": "re PR c++/6634 (wrong parsing of \"long long double\")\n\n\tPR c++/6634\n\t* decl.c (grokdeclarator): Check whether \"long\" or \"short\" was\n\tspecified for non-integral types.\n\n\t* g++.dg/parse/long1.C: Add more tests.\n\nFrom-SVN: r115843", "tree": {"sha": "584a32cc3a7ae145adf378e0bf73774725aff877", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/584a32cc3a7ae145adf378e0bf73774725aff877"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/comments", "author": null, "committer": null, "parents": [{"sha": "caade1927f31c76c8a3586913ffa52ac458e4234", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caade1927f31c76c8a3586913ffa52ac458e4234", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caade1927f31c76c8a3586913ffa52ac458e4234"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "4e85be176dbd980237c9742ee5bbfec5c1c22a17", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "patch": "@@ -1,3 +1,9 @@\n+2006-07-31  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/6634\n+\t* decl.c (grokdeclarator): Check whether \"long\" or \"short\" was\n+\tspecified for non-integral types.\n+\n 2006-07-28  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n \n \t* Make-lang.in: Use $(HEADER_H) instead of header.h in dependencies."}, {"sha": "e9cf4b83022ea7aaf516d672fe901b7873cd1b3e", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "patch": "@@ -7198,6 +7198,8 @@ grokdeclarator (const cp_declarator *declarator,\n \terror (\"%<long%> invalid for %qs\", name);\n       else if (short_p && TREE_CODE (type) == REAL_TYPE)\n \terror (\"%<short%> invalid for %qs\", name);\n+      else if ((long_p || short_p) && TREE_CODE (type) != INTEGER_TYPE)\n+\terror (\"%<long%> or %<short%> invalid for %qs\", name);\n       else if ((long_p || short_p) && explicit_char)\n \terror (\"%<long%> or %<short%> specified with char for %qs\", name);\n       else if (long_p && short_p)"}, {"sha": "9887b2cdc4a442b4e03c0fd5c0d8583cc68e03d8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "patch": "@@ -1,3 +1,8 @@\n+2006-07-31  Volker Reichelt  <reichelt@igpm.rwth-aachen.de>\n+\n+\tPR c++/6634\n+\t* g++.dg/parse/long1.C: Add more tests.\n+\n 2006-07-30  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \t* gfortran.dg/lrshift_1.c: New file."}, {"sha": "c22d79117bb85ead9e3f23123d80343aaaa984bc", "filename": "gcc/testsuite/g++.dg/parse/long1.C", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Flong1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d48268fad613bdf6cebcb3930f3d2d275e4b3fd/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Flong1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Flong1.C?ref=5d48268fad613bdf6cebcb3930f3d2d275e4b3fd", "patch": "@@ -5,3 +5,7 @@\n long long double x; // { dg-error \"long long\" }\n long double y;\n long float z;       // { dg-error \"long\" }\n+\n+typedef short void    SV; // { dg-error \"short\" }\n+typedef long struct A LA; // { dg-error \"long\" }\n+typedef short char    SC; // { dg-error \"short\" }"}]}