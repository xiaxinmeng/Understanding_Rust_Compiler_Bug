{"sha": "05a26161b47e20ef03df11724609d82f372a37f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDVhMjYxNjFiNDdlMjBlZjAzZGYxMTcyNDYwOWQ4MmYzNzJhMzdmNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-09-03T13:03:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-09-03T13:03:56Z"}, "message": "re PR target/37436 (arm-cross-g++. internal compiler error: in extract_insn, at recog.c:1990)\n\n\tPR c++/37436\n\t* gimple.h (gimple_has_substatements): GIMPLE_OMP_CRITICAL has\n\tsubstatements.\n\t* tree-inline.c (remap_gimple_stmt): Handle GIMPLE_OMP_CRITICAL.\n\n\t* g++.dg/gomp/pr37436.C: New test.\n\nFrom-SVN: r139937", "tree": {"sha": "969a011521d5e52852f69db9aefe7bab4454aa42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/969a011521d5e52852f69db9aefe7bab4454aa42"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/05a26161b47e20ef03df11724609d82f372a37f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05a26161b47e20ef03df11724609d82f372a37f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05a26161b47e20ef03df11724609d82f372a37f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05a26161b47e20ef03df11724609d82f372a37f7/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a6340be14474c7cdd6637413be9e25f9e5e550d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6340be14474c7cdd6637413be9e25f9e5e550d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6340be14474c7cdd6637413be9e25f9e5e550d1"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "e0275e181f8f7c34b80f92b22b523beecf4b67b9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=05a26161b47e20ef03df11724609d82f372a37f7", "patch": "@@ -1,3 +1,10 @@\n+2008-09-03  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c++/37436\n+\t* gimple.h (gimple_has_substatements): GIMPLE_OMP_CRITICAL has\n+\tsubstatements.\n+\t* tree-inline.c (remap_gimple_stmt): Handle GIMPLE_OMP_CRITICAL.\n+\n 2008-09-03  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \tFrom Michael Frysinger  <michael.frysinger@analog.com>"}, {"sha": "f8af057dfea81235e550afcfaa66822851d1bbdd", "filename": "gcc/gimple.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Fgimple.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Fgimple.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple.h?ref=05a26161b47e20ef03df11724609d82f372a37f7", "patch": "@@ -1052,6 +1052,7 @@ gimple_has_substatements (gimple g)\n     case GIMPLE_OMP_TASK:\n     case GIMPLE_OMP_SECTIONS:\n     case GIMPLE_OMP_SINGLE:\n+    case GIMPLE_OMP_CRITICAL:\n     case GIMPLE_WITH_CLEANUP_EXPR:\n       return true;\n "}, {"sha": "225c99943f76450d2297c4e7e2f309197dd85957", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=05a26161b47e20ef03df11724609d82f372a37f7", "patch": "@@ -1,3 +1,8 @@\n+2008-09-03  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c++/37436\n+\t* g++.dg/gomp/pr37436.C: New test.\n+\n 2008-09-03  Bernd Schmidt  <bernd.schmidt@analog.com>\n \n \tFrom Mike Frysinger  <michael.frysinger@analog.com>"}, {"sha": "e2cfe44de8ef27f2665c692b96dc624677620af4", "filename": "gcc/testsuite/g++.dg/gomp/pr37436.C", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr37436.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr37436.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fpr37436.C?ref=05a26161b47e20ef03df11724609d82f372a37f7", "patch": "@@ -0,0 +1,15 @@\n+// PR c++/37436\n+// { dg-do compile }\n+// { dg-options \"-fopenmp\" }\n+\n+struct A\n+{\n+  A ();\n+  int i;\n+};\n+\n+A::A ()\n+{\n+#pragma omp critical\n+  i++;\n+}"}, {"sha": "3b77c0e68ae6f73d7c7503ffbf25123e026f643f", "filename": "gcc/tree-inline.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftree-inline.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/05a26161b47e20ef03df11724609d82f372a37f7/gcc%2Ftree-inline.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-inline.c?ref=05a26161b47e20ef03df11724609d82f372a37f7", "patch": "@@ -1156,6 +1156,12 @@ remap_gimple_stmt (gimple stmt, copy_body_data *id)\n \t           (s1, gimple_omp_single_clauses (stmt));\n \t  break;\n \n+\tcase GIMPLE_OMP_CRITICAL:\n+\t  s1 = remap_gimple_seq (gimple_omp_body (stmt), id);\n+\t  copy\n+\t    = gimple_build_omp_critical (s1, gimple_omp_critical_name (stmt));\n+\t  break;\n+\n \tdefault:\n \t  gcc_unreachable ();\n \t}"}]}