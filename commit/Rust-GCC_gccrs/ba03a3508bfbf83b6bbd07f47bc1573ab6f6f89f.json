{"sha": "ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmEwM2EzNTA4YmZiZjgzYjZiYmQwN2Y0N2JjMTU3M2FiNmY2Zjg5Zg==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-06-18T17:16:05Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2008-06-18T17:16:05Z"}, "message": "re PR rtl-optimization/35604 (Label references are not updated after edge insertion)\n\n\tPR rtl-optimization/35604\n\t* jump.c (redirect_exp_1): Skip the condition of an IF_THEN_ELSE. We\n\tonly want to change jump destinations, not eventual label comparisons.\n\nFrom-SVN: r136899", "tree": {"sha": "3695e2f0bf42ec6e5a41d786fe2d3f31db37ba93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3695e2f0bf42ec6e5a41d786fe2d3f31db37ba93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f/comments", "author": null, "committer": null, "parents": [{"sha": "fdd7f24186c7cd637e24c657367f270afb3ec431", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdd7f24186c7cd637e24c657367f270afb3ec431", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdd7f24186c7cd637e24c657367f270afb3ec431"}], "stats": {"total": 31, "additions": 23, "deletions": 8}, "files": [{"sha": "842a63bb72b2a224a4168d10922c0720f7074c0d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "patch": "@@ -1,3 +1,10 @@\n+2008-06-18  Uros Bizjak  <ubizjak@gmail.com>\n+\t    Ian Lance Taylor  <iant@google.com>\n+\n+\tPR rtl-optimization/35604\n+\t* jump.c (redirect_exp_1): Skip the condition of an IF_THEN_ELSE. We\n+\tonly want to change jump destinations, not eventual label comparisons.\n+\n 2008-06-16  Jan Hubicka  <jh@suse.cz>\n \n \t* cgraphunit.c (cgraph_expand_pending_functions): Give up at\n@@ -436,8 +443,7 @@\n 2008-06-12  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/36506\n-\t* omp-low.c (expand_omp_sections): Initialize l2 to avoid bogus\n-\twarning.\n+\t* omp-low.c (expand_omp_sections): Initialize l2 to avoid bogus warning.\n \n 2008-06-12  Eric Botcazou  <ebotcazou@adacore.com>\n \n@@ -482,8 +488,8 @@\n \n 2008-06-12  Kai Tietz  <kai.tietz@onevision.com>\n \n-\t* config/i386/i386.c (ix86_compute_frame_layout): Disable red zone for\n-\tw64 abi.\n+\t* config/i386/i386.c (ix86_compute_frame_layout): Disable\n+\tred zone for w64 abi.\n \t(ix86_expand_prologue): Likewise.\n \t(ix86_force_to_memory): Likewise.\n \t(ix86_free_from_memory): Likewise.\n@@ -492,8 +498,7 @@\n \n \tPR target/36425\n \t* config/rs6000/rs6000.c (rs6000_override_options): Set\n-\trs6000_isel conditionally to the absence of comand line\n-\toverride.\n+\trs6000_isel conditionally to the absence of comand line override.\n \t* config/rs6000/linuxspe.h (SUBSUBTARGET_OVERRIDE_OPTIONS):\n \tRemove duplicate rs6000_isel setting.\n \t* config/rs6000/eabispe.h: Ditto.\n@@ -524,7 +529,7 @@\n \tarch_32 and arch_64.\n \n 2008-06-11  Eric Botcazou  <ebotcazou@adacore.com>\n-            Olivier Hainque  <hainque@adacore.com>\n+\t    Olivier Hainque  <hainque@adacore.com>\n \n \t* builtins.c (get_memory_rtx): Accept byte-addressable bitfields.\n \tUse DECL_SIZE_UNIT to retrieve the size of the field.\n@@ -559,7 +564,8 @@\n \tand target endianness differ.\n \n 2008-06-10  Vinodha Ramasamy  <vinodha@google.com>\n-        * value_prob.c (tree_divmod_fixed_value_transform): Use gcov_type.\n+\n+\t* value_prob.c (tree_divmod_fixed_value_transform): Use gcov_type.\n \tAvoid division by 0.\n \t(tree_mod_pow2_value_transform): Likewise.\n \t(tree_ic_transform): Likewise."}, {"sha": "23d183e932cb5f2ddb0616efbce3c34dd6493362", "filename": "gcc/jump.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f/gcc%2Fjump.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f/gcc%2Fjump.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjump.c?ref=ba03a3508bfbf83b6bbd07f47bc1573ab6f6f89f", "patch": "@@ -1327,6 +1327,15 @@ redirect_exp_1 (rtx *loc, rtx olabel, rtx nlabel, rtx insn)\n       return;\n     }\n \n+  if (code == IF_THEN_ELSE)\n+    {\n+      /* Skip the condition of an IF_THEN_ELSE.  We only want to\n+         change jump destinations, not eventual label comparisons.  */\n+      redirect_exp_1 (&XEXP (x, 1), olabel, nlabel, insn);\n+      redirect_exp_1 (&XEXP (x, 2), olabel, nlabel, insn);\n+      return;\n+    }\n+\n   fmt = GET_RTX_FORMAT (code);\n   for (i = GET_RTX_LENGTH (code) - 1; i >= 0; i--)\n     {"}]}