{"sha": "b93ee1bb06d43c0547b4de6f1389deafa28a474c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjkzZWUxYmIwNmQ0M2MwNTQ3YjRkZTZmMTM4OWRlYWZhMjhhNDc0Yw==", "commit": {"author": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-10-25T12:20:19Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-10-25T12:20:19Z"}, "message": "Fix 2 typos in IPA ICF pass\n\n\t* gcc.dg/ipa/ipa-icf-32.c: Removed one scanned pattern.\n\t    Martin Liska  <mliska@suse.cz>\n\n\tPR ipa/78099\n\t* common.opt: Mark flag_ipa_icf_variables as Optimization flag.\n\t* ipa-icf.c (sem_function::get_hash): Add target optimization\n\tnode to hash.\n\nFrom-SVN: r241510", "tree": {"sha": "9c50b069f6317b5844b0e47ced67a3705a4e9e07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c50b069f6317b5844b0e47ced67a3705a4e9e07"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b93ee1bb06d43c0547b4de6f1389deafa28a474c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93ee1bb06d43c0547b4de6f1389deafa28a474c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b93ee1bb06d43c0547b4de6f1389deafa28a474c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b93ee1bb06d43c0547b4de6f1389deafa28a474c/comments", "author": null, "committer": null, "parents": [{"sha": "bc352be13c2bc8dba38e7636f9d021bc13b50c46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc352be13c2bc8dba38e7636f9d021bc13b50c46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc352be13c2bc8dba38e7636f9d021bc13b50c46"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "e0601576db7ca09f1c6e37b54ef1d23048f3b186", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b93ee1bb06d43c0547b4de6f1389deafa28a474c", "patch": "@@ -1,3 +1,11 @@\n+2016-10-25  H.J. Lu  <hongjiu.lu@intel.com>\n+\t    Martin Liska  <mliska@suse.cz>\n+\n+\tPR ipa/78099\n+\t* common.opt: Mark flag_ipa_icf_variables as Optimization flag.\n+\t* ipa-icf.c (sem_function::get_hash): Add target optimization\n+\tnode to hash.\n+\n 2016-10-25  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \tPR target/78041"}, {"sha": "1872d51b417ab8a992f2c192109cdaf72555e362", "filename": "gcc/common.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=b93ee1bb06d43c0547b4de6f1389deafa28a474c", "patch": "@@ -1597,7 +1597,7 @@ Common Report Var(flag_ipa_icf_functions) Optimization\n Perform Identical Code Folding for functions.\n \n fipa-icf-variables\n-Common Report Var(flag_ipa_icf_variables)\n+Common Report Var(flag_ipa_icf_variables) Optimization\n Perform Identical Code Folding for variables.\n \n fipa-reference"}, {"sha": "e8880cb4fe2a9e04e9b7fb6d246156b66c4ca2e7", "filename": "gcc/ipa-icf.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Fipa-icf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Fipa-icf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-icf.c?ref=b93ee1bb06d43c0547b4de6f1389deafa28a474c", "patch": "@@ -300,6 +300,7 @@ sem_function::get_hash (void)\n \t (cl_target_option_hash\n \t   (TREE_TARGET_OPTION (DECL_FUNCTION_SPECIFIC_TARGET (decl))));\n       if (DECL_FUNCTION_SPECIFIC_OPTIMIZATION (decl))\n+\thstate.add_wide_int\n \t (cl_optimization_hash\n \t   (TREE_OPTIMIZATION (DECL_FUNCTION_SPECIFIC_OPTIMIZATION (decl))));\n       hstate.add_flag (DECL_CXX_CONSTRUCTOR_P (decl));"}, {"sha": "c7c233f6c920f32fc607df4947616d211fb945f0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b93ee1bb06d43c0547b4de6f1389deafa28a474c", "patch": "@@ -1,3 +1,7 @@\n+2016-10-25  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc.dg/ipa/ipa-icf-32.c: Removed one scanned pattern.\n+\n 2016-10-25  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \tPR target/78041"}, {"sha": "df11ac5f154dbf11d1a30c0b7fde90e7e4f24678", "filename": "gcc/testsuite/gcc.dg/ipa/ipa-icf-32.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-icf-32.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b93ee1bb06d43c0547b4de6f1389deafa28a474c/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-icf-32.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fipa-icf-32.c?ref=b93ee1bb06d43c0547b4de6f1389deafa28a474c", "patch": "@@ -19,5 +19,4 @@ int main()\n   return foo (0) + bar (0);\n }\n \n-/* { dg-final { scan-ipa-dump \"optimization flags are different\" \"icf\"  } } */\n /* { dg-final { scan-ipa-dump \"Equal symbols: 0\" \"icf\"  } } */"}]}