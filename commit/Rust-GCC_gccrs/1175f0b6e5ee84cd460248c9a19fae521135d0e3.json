{"sha": "1175f0b6e5ee84cd460248c9a19fae521135d0e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTE3NWYwYjZlNWVlODRjZDQ2MDI0OGM5YTE5ZmFlNTIxMTM1ZDBlMw==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-06-19T10:32:08Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2009-06-19T10:32:08Z"}, "message": "[multiple changes]\n\n2009-06-19  Robert Dewar  <dewar@adacore.com>\n\n\t* g-cgi.adb: Minor reformatting\n\n2009-06-19  Eric Botcazou  <ebotcazou@adacore.com>\n\n\t* s-intman-solaris.adb (Notify_Exception): Do not discriminate on the\n\tsignal code for SIGFPE and raise Program_Error for SIGILL.\n\n\t* s-osinte-solaris.ads: Remove signal code constants for SIGFPE.\n\n2009-06-19  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch8.adb (Nvis_Messages): Do not list an entity declared in a\n\tgeneric package if there is a visibility candidate that is declared in\n\ta regular package.\n\nFrom-SVN: r148691", "tree": {"sha": "0585d2a25e513092897376dbaffd0c5da52d3030", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0585d2a25e513092897376dbaffd0c5da52d3030"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1175f0b6e5ee84cd460248c9a19fae521135d0e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1175f0b6e5ee84cd460248c9a19fae521135d0e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1175f0b6e5ee84cd460248c9a19fae521135d0e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1175f0b6e5ee84cd460248c9a19fae521135d0e3/comments", "author": null, "committer": null, "parents": [{"sha": "7e9c61e83e48581f9808b3796f474094aa58e3ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e9c61e83e48581f9808b3796f474094aa58e3ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e9c61e83e48581f9808b3796f474094aa58e3ce"}], "stats": {"total": 80, "additions": 46, "deletions": 34}, "files": [{"sha": "580763e367f01a6ce5ac307cc3eea6e82b41f2ac", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1175f0b6e5ee84cd460248c9a19fae521135d0e3", "patch": "@@ -1,3 +1,20 @@\n+2009-06-19  Robert Dewar  <dewar@adacore.com>\n+\n+\t* g-cgi.adb: Minor reformatting\n+\n+2009-06-19  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* s-intman-solaris.adb (Notify_Exception): Do not discriminate on the\n+\tsignal code for SIGFPE and raise Program_Error for SIGILL.\n+\n+\t* s-osinte-solaris.ads: Remove signal code constants for SIGFPE.\n+\n+2009-06-19  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch8.adb (Nvis_Messages): Do not list an entity declared in a\n+\tgeneric package if there is a visibility candidate that is declared in\n+\ta regular package.\n+\n 2009-06-18  Olivier Hainque  <hainque@adacore.com>\n \n \t* system-aix64.ads: New file."}, {"sha": "dad37381129d9f835585df1bf4e352b30ac54fa2", "filename": "gcc/ada/g-cgi.adb", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fg-cgi.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fg-cgi.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-cgi.adb?ref=1175f0b6e5ee84cd460248c9a19fae521135d0e3", "patch": "@@ -123,8 +123,9 @@ package body GNAT.CGI is\n               (Natural'Value (\"16#\" & S (K + 1 .. K + 2) & '#'));\n             K := K + 3;\n \n+         --  Plus sign is decoded as a space\n+\n          elsif S (K) = '+' then\n-            --  + sign is decoded as a space\n             Result (J) := ' ';\n             K := K + 1;\n "}, {"sha": "170cd82f8daca34e1e756ba43b0548041ab17b12", "filename": "gcc/ada/s-intman-solaris.adb", "status": "modified", "additions": 10, "deletions": 23, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fs-intman-solaris.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fs-intman-solaris.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-intman-solaris.adb?ref=1175f0b6e5ee84cd460248c9a19fae521135d0e3", "patch": "@@ -89,40 +89,27 @@ package body System.Interrupt_Management is\n       info    : access siginfo_t;\n       context : access ucontext_t)\n    is\n+      pragma Unreferenced (info);\n+\n    begin\n       --  Perform the necessary context adjustments prior to a raise\n       --  from a signal handler.\n \n       Adjust_Context_For_Raise (signo, context.all'Address);\n \n-      --  Check that treatment of exception propagation here\n-      --  is consistent with treatment of the abort signal in\n-      --  System.Task_Primitives.Operations.\n+      --  Check that treatment of exception propagation here is consistent with\n+      --  treatment of the abort signal in System.Task_Primitives.Operations.\n \n       case signo is\n          when SIGFPE =>\n-            case info.si_code is\n-               when  FPE_INTDIV |\n-                     FPE_INTOVF |\n-                     FPE_FLTDIV |\n-                     FPE_FLTOVF |\n-                     FPE_FLTUND |\n-                     FPE_FLTRES |\n-                     FPE_FLTINV |\n-                     FPE_FLTSUB =>\n-\n-                  raise Constraint_Error;\n-\n-               when others =>\n-                  pragma Assert (False);\n-                  null;\n-            end case;\n-\n-         when SIGILL | SIGSEGV | SIGBUS  =>\n+            raise Constraint_Error;\n+         when SIGILL =>\n+            raise Program_Error;\n+         when SIGSEGV =>\n+            raise Storage_Error;\n+         when SIGBUS =>\n             raise Storage_Error;\n-\n          when others =>\n-            pragma Assert (False);\n             null;\n       end case;\n    end Notify_Exception;"}, {"sha": "a937f6ea36a3fb96f2c88e6be66e51f1a3d10b1a", "filename": "gcc/ada/s-osinte-solaris.ads", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fs-osinte-solaris.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fs-osinte-solaris.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-osinte-solaris.ads?ref=1175f0b6e5ee84cd460248c9a19fae521135d0e3", "patch": "@@ -7,7 +7,7 @@\n --                                  S p e c                                 --\n --                                                                          --\n --             Copyright (C) 1991-1994, Florida State University            --\n---          Copyright (C) 1995-2008, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1995-2009, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNARL is free software; you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -168,15 +168,6 @@ package System.OS_Interface is\n    --  More analysis is needed, after which these declarations may need to\n    --  be changed.\n \n-   FPE_INTDIV  : constant := 1; --  integer divide by zero\n-   FPE_INTOVF  : constant := 2; --  integer overflow\n-   FPE_FLTDIV  : constant := 3; --  floating point divide by zero\n-   FPE_FLTOVF  : constant := 4; --  floating point overflow\n-   FPE_FLTUND  : constant := 5; --  floating point underflow\n-   FPE_FLTRES  : constant := 6; --  floating point inexact result\n-   FPE_FLTINV  : constant := 7; --  invalid floating point operation\n-   FPE_FLTSUB  : constant := 8; --  subscript out of range\n-\n    type greg_t is new int;\n \n    type gregset_t is array (0 .. 18) of greg_t;"}, {"sha": "4063b12397eebff5cf57e6c3c8c3580ea2fa6108", "filename": "gcc/ada/sem_ch8.adb", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fsem_ch8.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1175f0b6e5ee84cd460248c9a19fae521135d0e3/gcc%2Fada%2Fsem_ch8.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch8.adb?ref=1175f0b6e5ee84cd460248c9a19fae521135d0e3", "patch": "@@ -3694,6 +3694,7 @@ package body Sem_Ch8 is\n       procedure Nvis_Messages is\n          Comp_Unit : Node_Id;\n          Ent       : Entity_Id;\n+         Found     : Boolean := False;\n          Hidden    : Boolean := False;\n          Item      : Node_Id;\n \n@@ -3781,10 +3782,25 @@ package body Sem_Ch8 is\n \n                   if Is_Hidden (Ent) then\n                      Error_Msg_N (\"non-visible (private) declaration#!\", N);\n+\n+                  --  If the entity is declared in a generic package, it\n+                  --  cannot be visible, so there is no point in adding it\n+                  --  to the list of candidates if another homograph from a\n+                  --  non-generic package has been seen.\n+\n+                  elsif Ekind (Scope (Ent)) = E_Generic_Package\n+                    and then Found\n+                  then\n+                     null;\n+\n                   else\n                      Error_Msg_N -- CODEFIX\n                        (\"non-visible declaration#!\", N);\n \n+                     if Ekind (Scope (Ent)) /= E_Generic_Package then\n+                        Found := True;\n+                     end if;\n+\n                      if Is_Compilation_Unit (Ent)\n                        and then\n                          Nkind (Parent (Parent (N))) = N_Use_Package_Clause"}]}