{"sha": "08daa7828efe5443383b2553e964c21aaed17cdf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDhkYWE3ODI4ZWZlNTQ0MzM4M2IyNTUzZTk2NGMyMWFhZWQxN2NkZg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-07-08T07:55:24Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2013-07-08T07:55:24Z"}, "message": "[multiple changes]\n\n2013-07-08  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_ch4.adb: Minor reformatting.\n\n2013-07-08  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch4.adb (Complete_Object_Operation): In ASIS mode, if\n\tthe parent node is a selected component and the analysis as a\n\tcall is successful, set the type of the selector in the parent\n\tnode for subsequent checks, because the rewriting of the node\n\tdoes not take place during pre-analysis.\n\nFrom-SVN: r200761", "tree": {"sha": "8e07c8e54d101174bf9cc82468e145979fcbbc1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e07c8e54d101174bf9cc82468e145979fcbbc1a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/08daa7828efe5443383b2553e964c21aaed17cdf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08daa7828efe5443383b2553e964c21aaed17cdf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08daa7828efe5443383b2553e964c21aaed17cdf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08daa7828efe5443383b2553e964c21aaed17cdf/comments", "author": null, "committer": null, "parents": [{"sha": "8d80ff64373eb64492469fbf4f0bf0043f9e0854", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d80ff64373eb64492469fbf4f0bf0043f9e0854", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d80ff64373eb64492469fbf4f0bf0043f9e0854"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "20c35fa5897037ed40b01fc1f37cb40c911905c2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=08daa7828efe5443383b2553e964c21aaed17cdf", "patch": "@@ -1,3 +1,15 @@\n+2013-07-08  Robert Dewar  <dewar@adacore.com>\n+\n+\t* exp_ch4.adb: Minor reformatting.\n+\n+2013-07-08  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch4.adb (Complete_Object_Operation): In ASIS mode, if\n+\tthe parent node is a selected component and the analysis as a\n+\tcall is successful, set the type of the selector in the parent\n+\tnode for subsequent checks, because the rewriting of the node\n+\tdoes not take place during pre-analysis.\n+\n  2013-07-08  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_ch8.adb, exp_ch3.adb: Minor reformatting."}, {"sha": "46cf44b98dfae74f1039f31cb9743cbe3d23c195", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=08daa7828efe5443383b2553e964c21aaed17cdf", "patch": "@@ -2835,7 +2835,7 @@ package body Exp_Ch4 is\n \n          elsif Ada_Version >= Ada_2012 or else Is_Bounded_String (Typ) then\n \n-            --  if no TSS has been created for the type, check whether there is\n+            --  If no TSS has been created for the type, check whether there is\n             --  a primitive equality declared for it.\n \n             declare"}, {"sha": "530fd007f05d14bd1a771e1398cf5bd02726f347", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/08daa7828efe5443383b2553e964c21aaed17cdf/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=08daa7828efe5443383b2553e964c21aaed17cdf", "patch": "@@ -7200,12 +7200,15 @@ package body Sem_Ch4 is\n          --  For cross-reference purposes, treat the new node as being in\n          --  the source if the original one is. Set entity and type, even\n          --  though they may be overwritten during resolution if overloaded.\n+         --  Perform the same transformation in ASIS mode, because during\n+         --  pre-analysis of a pre/post condition the node will not be\n+         --  rewritten as a call.\n \n          Set_Comes_From_Source (Subprog, Comes_From_Source (N));\n          Set_Comes_From_Source (Call_Node, Comes_From_Source (N));\n \n          if Nkind (N) = N_Selected_Component\n-           and then not Inside_A_Generic\n+           and then (not Inside_A_Generic or ASIS_Mode)\n          then\n             Set_Entity (Selector_Name (N), Entity (Subprog));\n             Set_Etype  (Selector_Name (N), Etype (Entity (Subprog)));"}]}