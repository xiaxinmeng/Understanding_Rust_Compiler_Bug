{"sha": "25abbb9249685c8519d06e1d98cd6803568b6eb7", "node_id": "C_kwDOANBUbNoAKDI1YWJiYjkyNDk2ODVjODUxOWQwNmUxZDk4Y2Q2ODAzNTY4YjZlYjc", "commit": {"author": {"name": "Ilya Lipnitskiy", "email": "ilya.lipnitskiy@gmail.com", "date": "2021-12-02T20:47:11Z"}, "committer": {"name": "Jeff Law", "email": "jeffreyalaw@gmail.com", "date": "2021-12-02T20:47:11Z"}, "message": "[PATCH v2] configure: define TARGET_LIBC_GNUSTACK on musl\n\nmusl only uses PT_GNU_STACK to set default thread stack size and has no\nexecutable stack support[0], so there is no reason not to emit the\n.note.GNU-stack section on musl builds.\n\n[0]: https://lore.kernel.org/all/20190423192534.GN23599@brightrain.aerifal.cx/T/#u\n\ngcc\n\n\t* configure: Regenerate.\n\t* configure.ac: Define TARGET_LIBC_GNUSTACK on musl.", "tree": {"sha": "33b6bd8fce7a4e3a36a2d0324045f7fd99874809", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/33b6bd8fce7a4e3a36a2d0324045f7fd99874809"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25abbb9249685c8519d06e1d98cd6803568b6eb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25abbb9249685c8519d06e1d98cd6803568b6eb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25abbb9249685c8519d06e1d98cd6803568b6eb7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25abbb9249685c8519d06e1d98cd6803568b6eb7/comments", "author": {"login": "lipnitsk", "id": 438785, "node_id": "MDQ6VXNlcjQzODc4NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/438785?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lipnitsk", "html_url": "https://github.com/lipnitsk", "followers_url": "https://api.github.com/users/lipnitsk/followers", "following_url": "https://api.github.com/users/lipnitsk/following{/other_user}", "gists_url": "https://api.github.com/users/lipnitsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/lipnitsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lipnitsk/subscriptions", "organizations_url": "https://api.github.com/users/lipnitsk/orgs", "repos_url": "https://api.github.com/users/lipnitsk/repos", "events_url": "https://api.github.com/users/lipnitsk/events{/privacy}", "received_events_url": "https://api.github.com/users/lipnitsk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JeffreyALaw", "id": 14062506, "node_id": "MDQ6VXNlcjE0MDYyNTA2", "avatar_url": "https://avatars.githubusercontent.com/u/14062506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeffreyALaw", "html_url": "https://github.com/JeffreyALaw", "followers_url": "https://api.github.com/users/JeffreyALaw/followers", "following_url": "https://api.github.com/users/JeffreyALaw/following{/other_user}", "gists_url": "https://api.github.com/users/JeffreyALaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeffreyALaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeffreyALaw/subscriptions", "organizations_url": "https://api.github.com/users/JeffreyALaw/orgs", "repos_url": "https://api.github.com/users/JeffreyALaw/repos", "events_url": "https://api.github.com/users/JeffreyALaw/events{/privacy}", "received_events_url": "https://api.github.com/users/JeffreyALaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "22a982409323feb203401d345488a5a9c18e6733", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22a982409323feb203401d345488a5a9c18e6733", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22a982409323feb203401d345488a5a9c18e6733"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "665a0fceabe47d3bcaa2642a037461470ab72648", "filename": "gcc/configure", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abbb9249685c8519d06e1d98cd6803568b6eb7/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abbb9249685c8519d06e1d98cd6803568b6eb7/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=25abbb9249685c8519d06e1d98cd6803568b6eb7", "patch": "@@ -31381,6 +31381,9 @@ fi\n # Check if the target LIBC handles PT_GNU_STACK.\n gcc_cv_libc_gnustack=unknown\n case \"$target\" in\n+  mips*-*-linux-musl*)\n+    gcc_cv_libc_gnustack=yes\n+    ;;\n   mips*-*-linux*)\n \n if test $glibc_version_major -gt 2 \\"}, {"sha": "51f9022692a9ea569c8a9e26c43c7500f2aa34e1", "filename": "gcc/configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abbb9249685c8519d06e1d98cd6803568b6eb7/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abbb9249685c8519d06e1d98cd6803568b6eb7/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=25abbb9249685c8519d06e1d98cd6803568b6eb7", "patch": "@@ -6963,6 +6963,9 @@ fi\n # Check if the target LIBC handles PT_GNU_STACK.\n gcc_cv_libc_gnustack=unknown\n case \"$target\" in\n+  mips*-*-linux-musl*)\n+    gcc_cv_libc_gnustack=yes\n+    ;;\n   mips*-*-linux*)\n     GCC_GLIBC_VERSION_GTE_IFELSE([2], [31], [gcc_cv_libc_gnustack=yes], )\n     ;;"}]}