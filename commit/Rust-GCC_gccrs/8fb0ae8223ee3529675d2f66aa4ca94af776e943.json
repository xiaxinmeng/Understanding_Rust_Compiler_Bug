{"sha": "8fb0ae8223ee3529675d2f66aa4ca94af776e943", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZiMGFlODIyM2VlMzUyOTY3NWQyZjY2YWE0Y2E5NGFmNzc2ZTk0Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-06-16T19:01:39Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-06-16T19:01:39Z"}, "message": "tree-ssa-loop-ivcanon.c (remove_exits_and_undefined_stmts): Update profile.\n\n\n\t* tree-ssa-loop-ivcanon.c (remove_exits_and_undefined_stmts): Update\n\tprofile.\n\t(try_unroll_loop_completely): Fix reporting.\n\nFrom-SVN: r249275", "tree": {"sha": "acb5a8f464aefa259bee144c6f24c258a12a18fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acb5a8f464aefa259bee144c6f24c258a12a18fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fb0ae8223ee3529675d2f66aa4ca94af776e943", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fb0ae8223ee3529675d2f66aa4ca94af776e943", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fb0ae8223ee3529675d2f66aa4ca94af776e943", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fb0ae8223ee3529675d2f66aa4ca94af776e943/comments", "author": null, "committer": null, "parents": [{"sha": "deca6d60723728562b179f501d3bb3b840e51ebc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deca6d60723728562b179f501d3bb3b840e51ebc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deca6d60723728562b179f501d3bb3b840e51ebc"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "44ef8579998ee3767e06f964353e7a4ec11bd9e6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fb0ae8223ee3529675d2f66aa4ca94af776e943/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fb0ae8223ee3529675d2f66aa4ca94af776e943/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8fb0ae8223ee3529675d2f66aa4ca94af776e943", "patch": "@@ -1,3 +1,9 @@\n+2017-06-16  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* tree-ssa-loop-ivcanon.c (remove_exits_and_undefined_stmts): Update\n+\tprofile.\n+\t(try_unroll_loop_completely): Fix reporting.\n+\n 2017-06-16  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* tree-ssa-tail-merge.c (replace_block_by): Fix profile updating."}, {"sha": "82ad59c42530281689091e36e7d8df87d3269d80", "filename": "gcc/tree-ssa-loop-ivcanon.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fb0ae8223ee3529675d2f66aa4ca94af776e943/gcc%2Ftree-ssa-loop-ivcanon.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fb0ae8223ee3529675d2f66aa4ca94af776e943/gcc%2Ftree-ssa-loop-ivcanon.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivcanon.c?ref=8fb0ae8223ee3529675d2f66aa4ca94af776e943", "patch": "@@ -529,6 +529,8 @@ remove_exits_and_undefined_stmts (struct loop *loop, unsigned int npeeled)\n \t    }\n \t  if (!loop_exit_edge_p (loop, exit_edge))\n \t    exit_edge = EDGE_SUCC (bb, 1);\n+\t  exit_edge->probability = REG_BR_PROB_BASE;\n+\t  exit_edge->count = exit_edge->src->count;\n \t  gcc_checking_assert (loop_exit_edge_p (loop, exit_edge));\n \t  gcond *cond_stmt = as_a <gcond *> (elt->stmt);\n \t  if (exit_edge->flags & EDGE_TRUE_VALUE)\n@@ -853,8 +855,9 @@ try_unroll_loop_completely (struct loop *loop,\n \t\t     loop->num);\n \t  return false;\n \t}\n-      dump_printf_loc (report_flags, locus,\n-                       \"loop turned into non-loop; it never loops.\\n\");\n+      if (!n_unroll)\n+        dump_printf_loc (report_flags, locus,\n+                         \"loop turned into non-loop; it never loops.\\n\");\n \n       initialize_original_copy_tables ();\n       auto_sbitmap wont_exit (n_unroll + 1);"}]}