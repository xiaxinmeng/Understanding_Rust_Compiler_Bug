{"sha": "15288e9a946d0123254e63af7dd5252c9b83acce", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTUyODhlOWE5NDZkMDEyMzI1NGU2M2FmN2RkNTI1MmM5YjgzYWNjZQ==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel@linux.vnet.ibm.com", "date": "2016-02-05T10:10:35Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2016-02-05T10:10:35Z"}, "message": "S/390: Fix 64 bit sibcall\n\nThis fixes a problem revealed during the split-stack work:\nhttps://gcc.gnu.org/ml/gcc-patches/2016-02/msg00322.html\n\ngcc/ChangeLog:\n\n2016-02-05  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n\n\t* config/s390/s390.c (s390_emit_call): Add missing 64 bit check.\n\nFrom-SVN: r233169", "tree": {"sha": "4b03b980c2ce16eeba255d6b81d29acd97595732", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4b03b980c2ce16eeba255d6b81d29acd97595732"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15288e9a946d0123254e63af7dd5252c9b83acce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15288e9a946d0123254e63af7dd5252c9b83acce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15288e9a946d0123254e63af7dd5252c9b83acce", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15288e9a946d0123254e63af7dd5252c9b83acce/comments", "author": null, "committer": null, "parents": [{"sha": "82379bdf028762c0eafece56bd69a687d991765b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82379bdf028762c0eafece56bd69a687d991765b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82379bdf028762c0eafece56bd69a687d991765b"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "b0c092b83f173023a590297ca09c2f608022f553", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15288e9a946d0123254e63af7dd5252c9b83acce/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15288e9a946d0123254e63af7dd5252c9b83acce/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15288e9a946d0123254e63af7dd5252c9b83acce", "patch": "@@ -1,3 +1,7 @@\n+2016-02-05  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n+\n+\t* config/s390/s390.c (s390_emit_call): Add missing 64 bit check.\n+\n 2016-02-05  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n \n \tPR target/69625"}, {"sha": "bca428ab303bd289e900f19d2439c2690d58067b", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15288e9a946d0123254e63af7dd5252c9b83acce/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15288e9a946d0123254e63af7dd5252c9b83acce/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=15288e9a946d0123254e63af7dd5252c9b83acce", "patch": "@@ -12507,7 +12507,7 @@ s390_emit_call (rtx addr_location, rtx tls_call, rtx result_reg,\n          replace the symbol itself with the PLT stub.  */\n       if (flag_pic && !SYMBOL_REF_LOCAL_P (addr_location))\n         {\n-\t  if (retaddr_reg != NULL_RTX)\n+\t  if (TARGET_64BIT || retaddr_reg != NULL_RTX)\n \t    {\n \t      addr_location = gen_rtx_UNSPEC (Pmode,\n \t\t\t\t\t      gen_rtvec (1, addr_location),"}]}