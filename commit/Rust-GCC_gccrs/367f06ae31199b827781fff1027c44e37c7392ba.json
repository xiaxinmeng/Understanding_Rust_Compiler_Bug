{"sha": "367f06ae31199b827781fff1027c44e37c7392ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzY3ZjA2YWUzMTE5OWI4Mjc3ODFmZmYxMDI3YzQ0ZTM3YzczOTJiYQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-10-09T00:21:37Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-10-09T00:21:37Z"}, "message": "re PR c++/34927 (Duplicate error message about abstract class)\n\n2011-10-08  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/34927\n\t* typeck2.c (abstract_virtuals_error_sfinae): Don't produce duplicate\n\tinform messages in case of cloned destructor.\n\nFrom-SVN: r179718", "tree": {"sha": "f0ada36492df3d9d28f13b3e6fdfb0ff5bed4cf6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0ada36492df3d9d28f13b3e6fdfb0ff5bed4cf6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/367f06ae31199b827781fff1027c44e37c7392ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/367f06ae31199b827781fff1027c44e37c7392ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/367f06ae31199b827781fff1027c44e37c7392ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/367f06ae31199b827781fff1027c44e37c7392ba/comments", "author": null, "committer": null, "parents": [{"sha": "6d482d2eaa6e6b57578c530de67edb6b5b3e4f24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d482d2eaa6e6b57578c530de67edb6b5b3e4f24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d482d2eaa6e6b57578c530de67edb6b5b3e4f24"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "2b03e473a956c4b5b8ce294aee7875f669feca3c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/367f06ae31199b827781fff1027c44e37c7392ba/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/367f06ae31199b827781fff1027c44e37c7392ba/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=367f06ae31199b827781fff1027c44e37c7392ba", "patch": "@@ -1,3 +1,9 @@\n+2011-10-08  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/34927\n+\t* typeck2.c (abstract_virtuals_error_sfinae): Don't produce duplicate\n+\tinform messages in case of cloned destructor.\n+\n 2011-10-06  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/39164"}, {"sha": "3accab621333011b63ad5a9480c89990381ed87a", "filename": "gcc/cp/typeck2.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/367f06ae31199b827781fff1027c44e37c7392ba/gcc%2Fcp%2Ftypeck2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/367f06ae31199b827781fff1027c44e37c7392ba/gcc%2Fcp%2Ftypeck2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck2.c?ref=367f06ae31199b827781fff1027c44e37c7392ba", "patch": "@@ -340,7 +340,10 @@ abstract_virtuals_error_sfinae (tree decl, tree type, tsubst_flags_t complain)\n \t      type);\n \n       FOR_EACH_VEC_ELT (tree, pure, ix, fn)\n-\tinform (input_location, \"\\t%+#D\", fn);\n+\tif (! DECL_CLONED_FUNCTION_P (fn)\n+\t    || DECL_COMPLETE_DESTRUCTOR_P (fn))\n+\t  inform (input_location, \"\\t%+#D\", fn);\n+\n       /* Now truncate the vector.  This leaves it non-null, so we know\n \t there are pure virtuals, but empty so we don't list them out\n \t again.  */"}]}