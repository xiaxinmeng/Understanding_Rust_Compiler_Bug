{"sha": "694dd537b964f0a5869c9519f3968a6eddea827a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njk0ZGQ1MzdiOTY0ZjBhNTg2OWM5NTE5ZjM5NjhhNmVkZGVhODI3YQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@oliva.athome.lsd.ic.unicamp.br", "date": "2007-07-09T19:24:23Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2007-07-09T19:24:23Z"}, "message": "revert: re PR debug/23551 (dwarf records for inlines appear incomplete)\n\nRevert:\n2007-07-06  Alexandre Oliva  <aoliva@redhat.com>\nPR debug/23551\n* tree-ssa-copyrename.c (copy_rename_partition_coalesce):\nDisregard DECL_FROM_INLINE.\n\nFrom-SVN: r126492", "tree": {"sha": "1d7b5de48965fa8fb365adadd41cba047a4aa61e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d7b5de48965fa8fb365adadd41cba047a4aa61e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/694dd537b964f0a5869c9519f3968a6eddea827a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694dd537b964f0a5869c9519f3968a6eddea827a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/694dd537b964f0a5869c9519f3968a6eddea827a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/694dd537b964f0a5869c9519f3968a6eddea827a/comments", "author": null, "committer": null, "parents": [{"sha": "13c594155d94f64e49681064ddb1a9e4e02a6562", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13c594155d94f64e49681064ddb1a9e4e02a6562", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13c594155d94f64e49681064ddb1a9e4e02a6562"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "8b3152b9cb7c53ebad09f32c88dfd5fe68536825", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694dd537b964f0a5869c9519f3968a6eddea827a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694dd537b964f0a5869c9519f3968a6eddea827a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=694dd537b964f0a5869c9519f3968a6eddea827a", "patch": "@@ -1,3 +1,11 @@\n+2007-07-09  Alexandre Oliva  <aoliva@oliva.athome.lsd.ic.unicamp.br>\n+\n+\tRevert:\n+\t2007-07-06  Alexandre Oliva  <aoliva@redhat.com>\n+\tPR debug/23551\n+\t* tree-ssa-copyrename.c (copy_rename_partition_coalesce):\n+\tDisregard DECL_FROM_INLINE.\n+\n 2007-07-09  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/27855"}, {"sha": "812ebe195089b5db1af563c0d1e3b1932d90327e", "filename": "gcc/tree-ssa-copyrename.c", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/694dd537b964f0a5869c9519f3968a6eddea827a/gcc%2Ftree-ssa-copyrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/694dd537b964f0a5869c9519f3968a6eddea827a/gcc%2Ftree-ssa-copyrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-copyrename.c?ref=694dd537b964f0a5869c9519f3968a6eddea827a", "patch": "@@ -191,12 +191,20 @@ copy_rename_partition_coalesce (var_map map, tree var1, tree var2, FILE *debug)\n   ign1 = TREE_CODE (root1) == VAR_DECL && DECL_IGNORED_P (root1);\n   ign2 = TREE_CODE (root2) == VAR_DECL && DECL_IGNORED_P (root2);\n \n-  /* Never attempt to coalesce 2 user variables.  */\n+  /* Never attempt to coalesce 2 user variables unless one is an inline \n+     variable.  */\n   if (!ign1 && !ign2)\n     {\n-      if (debug)\n-\tfprintf (debug, \" : 2 different USER vars. No coalesce.\\n\");\n-      return false;\n+      if (DECL_FROM_INLINE (root2))\n+        ign2 = true;\n+      else if (DECL_FROM_INLINE (root1))\n+\tign1 = true;\n+      else \n+\t{\n+\t  if (debug)\n+\t    fprintf (debug, \" : 2 different USER vars. No coalesce.\\n\");\n+\t  return false;\n+\t}\n     }\n \n   /* Don't coalesce if there are two different memory tags.  */"}]}