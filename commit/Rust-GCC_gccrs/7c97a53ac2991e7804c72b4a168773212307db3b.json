{"sha": "7c97a53ac2991e7804c72b4a168773212307db3b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2M5N2E1M2FjMjk5MWU3ODA0YzcyYjRhMTY4NzczMjEyMzA3ZGIzYg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-01-26T23:28:37Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-01-26T23:28:37Z"}, "message": "compiler: Don't crash on invalid array type declarations.\n\n    \n    Fixes golang/go#12937.\n    \n    Reviewed-on: https://go-review.googlesource.com/16233\n\nFrom-SVN: r232857", "tree": {"sha": "57bc3b584cc5debb4b0d25f8d46f35b2e8d3a43b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57bc3b584cc5debb4b0d25f8d46f35b2e8d3a43b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7c97a53ac2991e7804c72b4a168773212307db3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c97a53ac2991e7804c72b4a168773212307db3b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c97a53ac2991e7804c72b4a168773212307db3b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c97a53ac2991e7804c72b4a168773212307db3b/comments", "author": null, "committer": null, "parents": [{"sha": "e4aac1d178008b0c40c0a44baa282d0d8be4e656", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4aac1d178008b0c40c0a44baa282d0d8be4e656", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4aac1d178008b0c40c0a44baa282d0d8be4e656"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "96a1e9ffe55dfdcbd25b5fedc413db447408fd95", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c97a53ac2991e7804c72b4a168773212307db3b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c97a53ac2991e7804c72b4a168773212307db3b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=7c97a53ac2991e7804c72b4a168773212307db3b", "patch": "@@ -1,4 +1,4 @@\n-731941c155214d6158fa800e52ab3225c0b55f73\n+721c778adb8f99d8a6b7795dbad86013ccc9ba91\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "5413cc937fbe1b41f1352348a88b7e36cfc3ad92", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7c97a53ac2991e7804c72b4a168773212307db3b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7c97a53ac2991e7804c72b4a168773212307db3b/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=7c97a53ac2991e7804c72b4a168773212307db3b", "patch": "@@ -2699,6 +2699,15 @@ Gogo::lower_parse_tree()\n {\n   Lower_parse_tree lower_parse_tree(this, NULL);\n   this->traverse(&lower_parse_tree);\n+\n+  // There might be type definitions that involve expressions such as the\n+  // array length.  Make sure to lower these expressions as well.  Otherwise,\n+  // errors hidden within a type can introduce unexpected errors into later\n+  // passes.\n+  for (std::vector<Type*>::iterator p = this->verify_types_.begin();\n+       p != this->verify_types_.end();\n+       ++p)\n+    Type::traverse(*p, &lower_parse_tree);\n }\n \n // Lower a block."}]}