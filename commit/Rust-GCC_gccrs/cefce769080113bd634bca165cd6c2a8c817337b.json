{"sha": "cefce769080113bd634bca165cd6c2a8c817337b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2VmY2U3NjkwODAxMTNiZDYzNGJjYTE2NWNkNmMyYThjODE3MzM3Yg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2013-09-23T16:07:19Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2013-09-23T16:07:19Z"}, "message": "tree-ssa-ccp.c (insert_clobber_before_stack_restore): Recurse on copy assignment statements.\n\n\t* tree-ssa-ccp.c (insert_clobber_before_stack_restore): Recurse on copy\n\tassignment statements.\n\nFrom-SVN: r202833", "tree": {"sha": "015701fa228d16e4a874ad2a6e7719a7dcd177e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/015701fa228d16e4a874ad2a6e7719a7dcd177e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cefce769080113bd634bca165cd6c2a8c817337b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cefce769080113bd634bca165cd6c2a8c817337b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cefce769080113bd634bca165cd6c2a8c817337b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cefce769080113bd634bca165cd6c2a8c817337b/comments", "author": null, "committer": null, "parents": [{"sha": "5303f3a48f33df907225aee6c144e4f3a1a35c7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5303f3a48f33df907225aee6c144e4f3a1a35c7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5303f3a48f33df907225aee6c144e4f3a1a35c7b"}], "stats": {"total": 65, "additions": 64, "deletions": 1}, "files": [{"sha": "a77d7c7670f12d35a3e4421e3116e62b1bda1932", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -1,3 +1,8 @@\n+2013-09-23  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-ssa-ccp.c (insert_clobber_before_stack_restore): Recurse on copy\n+\tassignment statements.\n+\n 2013-09-23  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \t* gimple-pretty-print.c (dump_ssaname_info): New function."}, {"sha": "8a197107f86016c49e5aec0941e5e026e618e45e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -1,3 +1,8 @@\n+2013-09-23  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/opt28.ad[sb]: New test.\n+\t* gnat.dg/opt28_pkg.ads: New helper.\n+\n 2013-09-23  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/58464\n@@ -99,7 +104,7 @@\n \n 2013-09-18  Eric Botcazou  <ebotcazou@adacore.com>\n \n-\t*  gnat.dg/array_bounds_test2.adb: New test.\n+\t* gnat.dg/array_bounds_test2.adb: New test.\n \n 2013-09-18  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n "}, {"sha": "74a4c5c3be91c3e822c41ce8b2f661f4d79ec8c1", "filename": "gcc/testsuite/gnat.dg/opt28.adb", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.adb?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -0,0 +1,31 @@\n+with Opt28_Pkg; use Opt28_Pkg;\n+\n+package body Opt28 is\n+\n+  function Full_Filename (Filename : String) return String is\n+    Path : constant String := \"PATH\";\n+    Posix_Path : constant Posix_String := To_Posix (Path);\n+  begin\n+\n+    declare\n+      M : constant Posix_String := Value_Of (Posix_Path);\n+      N : constant Posix_String (1 .. M'Length) := M;\n+      Var : constant String := To_String (Str => N);\n+      Start_Pos : Natural := 1;\n+      End_Pos   : Natural := 1;\n+    begin\n+      while Start_Pos <= Var'Length loop\n+        End_Pos := Position (Var (Start_Pos .. Var'Length));\n+\n+        if Is_File (To_Posix (Var (Start_Pos .. End_Pos - 1) & Filename)) then\n+          return Var (Start_Pos .. End_Pos - 1) & Filename;\n+        else\n+          Start_Pos := End_Pos + 1;\n+        end if;\n+      end loop;\n+    end;\n+\n+    return \"\";\n+  end;\n+\n+end Opt28;"}, {"sha": "4887c2148459510cb2675a324d41347454383a3b", "filename": "gcc/testsuite/gnat.dg/opt28.ads", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28.ads?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -0,0 +1,8 @@\n+-- { dg-do compile }\n+-- { dg-options \"-O2\" }\n+\n+package Opt28 is\n+\n+  function Full_Filename (Filename : String) return String;\n+\n+end Opt28;"}, {"sha": "c3c32fe1c347027412ed6c7256d1579930aa6695", "filename": "gcc/testsuite/gnat.dg/opt28_pkg.ads", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt28_pkg.ads?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -0,0 +1,11 @@\n+package Opt28_Pkg is\n+\n+  type Posix_String is array (Positive range <>) of aliased Character;\n+\n+  function To_Posix (Str : String) return Posix_String;\n+  function To_String (Str : Posix_String) return String;\n+  function Is_File (Str : Posix_String) return Boolean;\n+  function Value_Of (Name : Posix_String) return Posix_String;\n+  function Position (In_Line : String) return Natural;\n+\n+end Opt28_Pkg;"}, {"sha": "1f044063bb61435a4e5d5fb348843881ac28df89", "filename": "gcc/tree-ssa-ccp.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftree-ssa-ccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cefce769080113bd634bca165cd6c2a8c817337b/gcc%2Ftree-ssa-ccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-ccp.c?ref=cefce769080113bd634bca165cd6c2a8c817337b", "patch": "@@ -1728,6 +1728,9 @@ insert_clobber_before_stack_restore (tree saved_val, tree var,\n \tinsert_clobber_before_stack_restore (gimple_phi_result (stmt), var,\n \t\t\t\t\t     visited);\n       }\n+    else if (gimple_assign_ssa_name_copy_p (stmt))\n+      insert_clobber_before_stack_restore (gimple_assign_lhs (stmt), var,\n+\t\t\t\t\t   visited);\n     else\n       gcc_assert (is_gimple_debug (stmt));\n }"}]}