{"sha": "1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWZkZWI4MmY4ZDEyYjBiMWExMGYxNGJiZDdhOGI5YWRhZDllZmZhNA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2008-09-15T21:56:35Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2008-09-15T21:56:35Z"}, "message": "tree-ssa-alias.c (init_alias_info): Call bitmap_obstack_release in every call starting with the second one...\n\n\t* tree-ssa-alias.c (init_alias_info): Call bitmap_obstack_release\n\tin every call starting with the second one, instead of only when\n\talias_bitmap_obstack.elements != NULL.\n\nFrom-SVN: r140377", "tree": {"sha": "cf64c0e8432e051b51f6b8cbe2a161340f0381fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cf64c0e8432e051b51f6b8cbe2a161340f0381fd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a0044be570e23969f742d62d734ff3dc570af48b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0044be570e23969f742d62d734ff3dc570af48b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0044be570e23969f742d62d734ff3dc570af48b"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "fbb50d0a91bfe60cd23271249f0053b9dbca8bdd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "patch": "@@ -1,5 +1,19 @@\n 2008-09-15  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* tree-ssa-alias.c (init_alias_info): Call bitmap_obstack_release\n+\tin every call starting with the second one, instead of only when\n+\talias_bitmap_obstack.elements != NULL.\n+\n+\t* tree-predcom.c (filter_suitable_components): Free all refs in\n+\tact->refs vector before calling release_component.\n+\t(add_ref_to_chain): Free ref if not adding it to chain->refs.\n+\n+\t* tree-data-ref.c (free_subscripts): Free all subscript objects.\n+\n+\t* tree-loop-linear.c (linear_transform_loops): Initialize\n+\tlambda_obstack only after calling perfect_loop_nest_depth.\n+\tGoto free_and_continue instead of just continue for later failures.\n+\n \tPR middle-end/37479\n \t* doc/invoke.texi: Document -fno-dwarf2-cfi-asm.\n "}, {"sha": "adea68ea4f67c3484b0dcc6a6bf77b9910f3c933", "filename": "gcc/tree-ssa-alias.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4/gcc%2Ftree-ssa-alias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4/gcc%2Ftree-ssa-alias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-alias.c?ref=1fdeb82f8d12b0b1a10f14bbd7a8b9adad9effa4", "patch": "@@ -2067,6 +2067,7 @@ init_alias_info (void)\n   struct alias_info *ai;\n   referenced_var_iterator rvi;\n   tree var;\n+  static bool alias_bitmap_obstack_initialized;\n \n   ai = XCNEW (struct alias_info);\n   ai->ssa_names_visited = sbitmap_alloc (num_ssa_names);\n@@ -2094,9 +2095,10 @@ init_alias_info (void)\n \n   /* Next time, we will need to reset alias information.  */\n   cfun->gimple_df->aliases_computed_p = true;\n-  if (alias_bitmap_obstack.elements != NULL)\n+  if (alias_bitmap_obstack_initialized)\n     bitmap_obstack_release (&alias_bitmap_obstack);    \n   bitmap_obstack_initialize (&alias_bitmap_obstack);\n+  alias_bitmap_obstack_initialized = true;\n \n   return ai;\n }"}]}