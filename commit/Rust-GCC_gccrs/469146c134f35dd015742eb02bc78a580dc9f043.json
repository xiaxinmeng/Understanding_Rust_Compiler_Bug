{"sha": "469146c134f35dd015742eb02bc78a580dc9f043", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY5MTQ2YzEzNGYzNWRkMDE1NzQyZWIwMmJjNzhhNTgwZGM5ZjA0Mw==", "commit": {"author": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2003-08-03T00:48:52Z"}, "committer": {"name": "Kaz Kojima", "email": "kkojima@gcc.gnu.org", "date": "2003-08-03T00:48:52Z"}, "message": "linux.h (SUBTARGET_LINK_SPEC): Don't set rpath.\n\n\t* config/sh/linux.h (SUBTARGET_LINK_SPEC): Don't set rpath.\n\t(LIB_SPEC): Set -lpthread always when -pthread set.  Set -lieee\n\twhen -mieee-fp set and -shared not set.\n\t(SH_FALLBACK_FRAME_FLOAT_STATE): Don't define for SH5.\n\nFrom-SVN: r70112", "tree": {"sha": "6e17303b601e306624e278a859fbfa4495d771b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6e17303b601e306624e278a859fbfa4495d771b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/469146c134f35dd015742eb02bc78a580dc9f043", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/469146c134f35dd015742eb02bc78a580dc9f043", "html_url": "https://github.com/Rust-GCC/gccrs/commit/469146c134f35dd015742eb02bc78a580dc9f043", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/469146c134f35dd015742eb02bc78a580dc9f043/comments", "author": null, "committer": null, "parents": [{"sha": "094838e2c78da6b28e49f6d3b2b66bdd367b1c85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/094838e2c78da6b28e49f6d3b2b66bdd367b1c85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/094838e2c78da6b28e49f6d3b2b66bdd367b1c85"}], "stats": {"total": 24, "additions": 16, "deletions": 8}, "files": [{"sha": "3fe67d0f8bbe9c264f204e2064b1d25866f67416", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/469146c134f35dd015742eb02bc78a580dc9f043/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/469146c134f35dd015742eb02bc78a580dc9f043/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=469146c134f35dd015742eb02bc78a580dc9f043", "patch": "@@ -1,3 +1,10 @@\n+2003-08-02  Kaz Kojima  <kkojima@gcc.gnu.org>\n+\n+\t* config/sh/linux.h (SUBTARGET_LINK_SPEC): Don't set rpath.\n+\t(LIB_SPEC): Set -lpthread always when -pthread set.  Set -lieee\n+\twhen -mieee-fp set and -shared not set.\n+\t(SH_FALLBACK_FRAME_FLOAT_STATE): Don't define for SH5.\n+\n 2003-08-02  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* cppfiles.c (struct _cpp_file): Rename once_only_next to"}, {"sha": "edc7fa6e2c7b8d211c0bcc2332201e256a021d68", "filename": "gcc/config/sh/linux.h", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/469146c134f35dd015742eb02bc78a580dc9f043/gcc%2Fconfig%2Fsh%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/469146c134f35dd015742eb02bc78a580dc9f043/gcc%2Fconfig%2Fsh%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Flinux.h?ref=469146c134f35dd015742eb02bc78a580dc9f043", "patch": "@@ -73,15 +73,16 @@ do { \\\n   \"%{shared:-shared} \\\n    %{!static: \\\n      %{rdynamic:-export-dynamic} \\\n-     %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2} \\\n-     %{!rpath:-rpath /lib}} \\\n+     %{!dynamic-linker:-dynamic-linker /lib/ld-linux.so.2}} \\\n    %{static:-static}\"\n \n #undef LIB_SPEC\n #define LIB_SPEC \\\n-  \"%{shared: -lc} \\\n+  \"%{pthread:-lpthread} \\\n+   %{shared: -lc} \\\n    %{!static:-rpath-link %R/lib:%R/usr/lib} \\\n-   %{!shared: %{pthread:-lthread} \\\n+   %{!shared: \\\n+     %{mieee-fp:-lieee} \\\n      %{profile:-lc_p} %{!profile: -lc}}\"\n \n #if defined(HAVE_LD_EH_FRAME_HDR)\n@@ -170,11 +171,11 @@ do { \\\n #define SH_DWARF_FRAME_FPSCR\t24\n #endif /* defined (__SH5__) */\n \n-#if defined (__SH5__) && __SH5__ != 32\n+#if defined (__SH5__)\n /* MD_FALLBACK_FRAME_STATE_FOR is not yet defined for SHMEDIA.  */\n-#else /* defined (__SH5__) && __SH5__ != 32 */\n+#else /* defined (__SH5__) */\n \n-#if defined (__SH3E__) || defined (__SH4__) || defined (__SH5__)\n+#if defined (__SH3E__) || defined (__SH4__)\n #define SH_FALLBACK_FRAME_FLOAT_STATE(SC, FS, CFA)\t\t\t\\\n   do {\t\t\t\t\t\t\t\t\t\\\n     int i_, r_;\t\t\t\t\t\t\t\t\\\n@@ -274,5 +275,5 @@ do { \\\n     goto SUCCESS;\t\t\t\t\t\t\t\\\n   } while (0)\n \n-#endif /* defined (__SH5__) && __SH5__ != 32 */\n+#endif /* defined (__SH5__) */\n #endif /* IN_LIBGCC2 */"}]}