{"sha": "c297d256e364bf1a1448da25497cda331c755646", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzI5N2QyNTZlMzY0YmYxYTE0NDhkYTI1NDk3Y2RhMzMxYzc1NTY0Ng==", "commit": {"author": {"name": "Evandro Menezes", "email": "e.menezes@samsung.com", "date": "2016-02-15T21:15:49Z"}, "committer": {"name": "Evandro Menezes", "email": "evandro@gcc.gnu.org", "date": "2016-02-15T21:15:49Z"}, "message": "Add support for the FCCMP insn types\n\n2016-01-21  Evandro Menezes  <e.menezes@samsung.com>\n\ngcc/\n\t* config/aarch64/aarch64.md (fccmp): Change insn type.\n\t(fccmpe): Likewise.\n\t* config/aarch64/thunderx.md (thunderx_fcmp): Add \"fccmp{s,d}\" types.\n\t* config/arm/cortex-a53.md (cortex_a53_fpalu): Likewise.\n\t* config/arm/cortex-a57.md (cortex_a57_fp_cmp): Likewise.\n\t* config/arm/xgene1.md (xgene1_fcmp): Likewise.\n\t* config/arm/exynos-m1.md (exynos_m1_fp_ccmp): New insn reservation.\n\t* config/arm/types.md (fccmps): Add new insn type.\n\t(fccmpd): Likewise.\n\nFrom-SVN: r233432", "tree": {"sha": "7b8c9c120e6c85a030236c02ad9b119e3f57e42f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7b8c9c120e6c85a030236c02ad9b119e3f57e42f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c297d256e364bf1a1448da25497cda331c755646", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c297d256e364bf1a1448da25497cda331c755646", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c297d256e364bf1a1448da25497cda331c755646", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c297d256e364bf1a1448da25497cda331c755646/comments", "author": null, "committer": null, "parents": [{"sha": "2bd0a2d6b1b823008e36e1a5833cf520c3807ecc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bd0a2d6b1b823008e36e1a5833cf520c3807ecc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bd0a2d6b1b823008e36e1a5833cf520c3807ecc"}], "stats": {"total": 36, "additions": 29, "deletions": 7}, "files": [{"sha": "54e704226e68f64ce9b710718b380de592c3c171", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -1,3 +1,17 @@\n+2016-02-15  Evandro Menezes  <e.menezes@samsung.com>\n+    \n+\tAdd support for the FCCMP insn types\n+\n+\t* config/aarch64/aarch64.md (fccmp): Change insn type.\n+\t(fccmpe): Likewise.\n+\t* config/aarch64/thunderx.md (thunderx_fcmp): Add \"fccmp{s,d}\" types.\n+\t* config/arm/cortex-a53.md (cortex_a53_fpalu): Likewise.\n+\t* config/arm/cortex-a57.md (cortex_a57_fp_cmp): Likewise.\n+\t* config/arm/xgene1.md (xgene1_fcmp): Likewise.\n+\t* config/arm/exynos-m1.md (exynos_m1_fp_ccmp): New insn reservation.\n+\t* config/arm/types.md (fccmps): Add new insn type.\n+\t(fccmpd): Likewise.\n+\n 2016-02-15  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n \n \t* alias.c (get_alias_set): Fix a typo in comment."}, {"sha": "77bd191856a2fccf08fce4fe2ddc8382506468e1", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -302,7 +302,7 @@\n \t  (unspec:CCFP [(match_operand 5 \"immediate_operand\")] UNSPEC_NZCV)))]\n   \"TARGET_FLOAT\"\n   \"fccmp\\\\t%<s>2, %<s>3, %k5, %m4\"\n-  [(set_attr \"type\" \"fcmp<s>\")]\n+  [(set_attr \"type\" \"fccmp<s>\")]\n )\n \n (define_insn \"fccmpe<mode>\"\n@@ -317,7 +317,7 @@\n \t  (unspec:CCFPE [(match_operand 5 \"immediate_operand\")] UNSPEC_NZCV)))]\n   \"TARGET_FLOAT\"\n   \"fccmpe\\\\t%<s>2, %<s>3, %k5, %m4\"\n-  [(set_attr \"type\" \"fcmp<s>\")]\n+  [(set_attr \"type\" \"fccmp<s>\")]\n )\n \n ;; Expansion of signed mod by a power of 2 using CSNEG."}, {"sha": "058713a2ad98a364d36a3faaf0e93c39cb89adbc", "filename": "gcc/config/aarch64/thunderx.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Faarch64%2Fthunderx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Faarch64%2Fthunderx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Fthunderx.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -156,7 +156,7 @@\n \n (define_insn_reservation \"thunderx_fcmp\" 3\n   (and (eq_attr \"tune\" \"thunderx\")\n-       (eq_attr \"type\" \"fcmps,fcmpd\"))\n+       (eq_attr \"type\" \"fcmps,fcmpd,fccmps,fccmpd\"))\n   \"thunderx_pipe1\")\n \n (define_insn_reservation \"thunderx_fmul\" 6"}, {"sha": "fc60bc26c7caf7e94064d7f292b877b12f333fca", "filename": "gcc/config/arm/cortex-a53.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fcortex-a53.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fcortex-a53.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a53.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -508,8 +508,8 @@\n (define_insn_reservation \"cortex_a53_fpalu\" 5\n   (and (eq_attr \"tune\" \"cortexa53\")\n \t(eq_attr \"type\" \"ffariths, fadds, ffarithd, faddd, fmov,\n-\t\t\tf_cvt, fcmps, fcmpd, fcsel, f_rints, f_rintd,\n-\t\t\tf_minmaxs, f_minmaxd\"))\n+\t\t\tf_cvt, fcmps, fcmpd, fccmps, fccmpd, fcsel,\n+\t\t\tf_rints, f_rintd, f_minmaxs, f_minmaxd\"))\n   \"cortex_a53_slot_any,cortex_a53_fp_alu\")\n \n (define_insn_reservation \"cortex_a53_fconst\" 3"}, {"sha": "37912db464315a0d70835b81991e8e07a4d9db89", "filename": "gcc/config/arm/cortex-a57.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fcortex-a57.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fcortex-a57.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcortex-a57.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -716,7 +716,7 @@\n \n (define_insn_reservation \"cortex_a57_fp_cmp\" 7\n   (and (eq_attr \"tune\" \"cortexa57\")\n-       (eq_attr \"type\" \"fcmps,fcmpd\"))\n+       (eq_attr \"type\" \"fcmps,fcmpd,fccmps,fccmpd\"))\n   \"ca57_cx2\")\n \n (define_insn_reservation \"cortex_a57_fp_arith\" 4"}, {"sha": "2f52b22fb50bd3864f4ccd713eb46ea9ffaec64b", "filename": "gcc/config/arm/exynos-m1.md", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fexynos-m1.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fexynos-m1.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fexynos-m1.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -823,6 +823,11 @@\n        (eq_attr \"type\" \"fcmps, fcmpd\"))\n   \"em1_nmisc\")\n \n+(define_insn_reservation \"exynos_m1_fp_ccmp\" 7\n+  (and (eq_attr \"tune\" \"exynosm1\")\n+       (eq_attr \"type\" \"fccmps, fccmpd\"))\n+  \"(em1_st, em1_nmisc)\")\n+\n (define_insn_reservation \"exynos_m1_fp_sel\" 4\n   (and (eq_attr \"tune\" \"exynosm1\")\n        (eq_attr \"type\" \"fcsel\"))"}, {"sha": "25f79b4d010ae24c14d97d9fead93db1eff42f32", "filename": "gcc/config/arm/types.md", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Ftypes.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Ftypes.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ftypes.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -70,6 +70,7 @@\n ; f_rint[d,s]        double/single floating point rount to integral.\n ; f_store[d,s]       double/single store to memory.  Used for VFP unit.\n ; fadd[d,s]          double/single floating-point scalar addition.\n+; fccmp[d,s]         From ARMv8-A: floating-point conditional compare.\n ; fcmp[d,s]          double/single floating-point compare.\n ; fconst[d,s]        double/single load immediate.\n ; fcsel              From ARMv8-A: Floating-point conditional select.\n@@ -582,6 +583,8 @@\n   f_stores,\\\n   faddd,\\\n   fadds,\\\n+  fccmpd,\\\n+  fccmps,\\\n   fcmpd,\\\n   fcmps,\\\n   fconstd,\\"}, {"sha": "b7aeac6916353f9a02b56821e3df3c2f43fc2946", "filename": "gcc/config/arm/xgene1.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fxgene1.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c297d256e364bf1a1448da25497cda331c755646/gcc%2Fconfig%2Farm%2Fxgene1.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fxgene1.md?ref=c297d256e364bf1a1448da25497cda331c755646", "patch": "@@ -154,7 +154,7 @@\n \n (define_insn_reservation \"xgene1_fcmp\" 10\n   (and (eq_attr \"tune\" \"xgene1\")\n-       (eq_attr \"type\" \"fcmpd,fcmps\"))\n+       (eq_attr \"type\" \"fcmpd,fcmps,fccmpd,fccmps\"))\n   \"xgene1_decode1op,xgene1_fsu+xgene1_fcmp*3\")\n \n (define_insn_reservation \"xgene1_fcsel\" 3"}]}