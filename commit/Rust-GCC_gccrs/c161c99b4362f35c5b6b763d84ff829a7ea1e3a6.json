{"sha": "c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE2MWM5OWI0MzYyZjM1YzViNmI3NjNkODRmZjgyOWE3ZWExZTNhNg==", "commit": {"author": {"name": "Nicola Pero", "email": "nicola@brainstorm.co.uk", "date": "2000-07-29T19:19:43Z"}, "committer": {"name": "Ovidiu Predescu", "email": "ovidiu@gcc.gnu.org", "date": "2000-07-29T19:19:43Z"}, "message": "Added libtool support for building libobjc.\n\nFrom-SVN: r35329", "tree": {"sha": "c3f4335b934f1f8034cbbf98da3742390f3e6cbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c3f4335b934f1f8034cbbf98da3742390f3e6cbc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/comments", "author": null, "committer": null, "parents": [{"sha": "6ed6b84a6f2f4a4303c06b82e3a9e6cebacf9f28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ed6b84a6f2f4a4303c06b82e3a9e6cebacf9f28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ed6b84a6f2f4a4303c06b82e3a9e6cebacf9f28"}], "stats": {"total": 2455, "additions": 2321, "deletions": 134}, "files": [{"sha": "c5f94c614dab337c09f63ccebd55d779c0cd9c9d", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "patch": "@@ -1,3 +1,11 @@\n+Fri Jul 28 08:58:02 2000  Nicola Pero  <nicola@brainstorm.co.uk>\n+\n+\t* configure.in: Added libtool support; build shared libraries \n+\tif --enable-shared was passed on command line.\n+\t* Makefile.in: Modified most compilation commands to use libtool.\n+\t* aclocal.m4: New symbolic link to the ../libtool.m4, from the\n+\tlibtool distribution.\n+\n Sat Jul 29 00:10:21 2000  Ovidiu Predescu  <ovidiu@cup.hp.com>\n \n \t* sarray.c, Object.m: Removed the explicit prototypes for strlen"}, {"sha": "bdea0bbcd425e2b2180fa83e6b9a8c9226727f1c", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 131, "deletions": 99, "changes": 230, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "patch": "@@ -64,6 +64,21 @@ GTHREAD_FLAGS=@GTHREAD_FLAGS@\n ALL_CFLAGS = -I. -I$(srcdir) $(CPPFLAGS) $(DEFS) $(CFLAGS) \\\n \t$(GTHREAD_FLAGS) -DIN_GCC -DIN_TARGET_LIBS\n \n+# Libtool\n+# The following strings describe the version of the obj-C library \n+# begin compiled and compatibility issues.\n+# Please refer to Libtool documentation about how to manage these \n+# numbers.\n+LIBOBJC_VERSION = 1:0:0\n+LIBOBJC_GC_VERSION = 1:0:0\n+# @LIBTOOL@ does not get it right, so we hack it in - FIXME\n+LIBTOOL = ./libtool\n+LIBTOOL_COMPILE = $(LIBTOOL) --mode=compile\n+LIBTOOL_LINK    = $(LIBTOOL) --mode=link \n+LIBTOOL_INSTALL = $(LIBTOOL) --mode=install\n+LIBTOOL_CLEAN   = $(LIBTOOL) --mode=clean\n+#LIBTOOL_UNINSTALL = $(LIBTOOL) --mode=uninstall\n+\n #\n # Define the cc1obj in terms of the CC that is passed on from higher\n # level make. This is needed to make sure we can create runtime-info.h\n@@ -78,15 +93,16 @@ INCLUDES = -I$(srcdir)/objc  -I$(srcdir)/$(MULTISRCTOP)../gcc \\\n \n OBJC_GCFLAGS=-DOBJC_WITH_GC=1\n OBJC_THREAD_FILE=thr-objc\n+OBJC_BOEHM_GC=@OBJC_BOEHM_GC@\n \n .SUFFIXES:\n-.SUFFIXES: .c .m .o\n+.SUFFIXES: .c .m .lo\n \n-.c.o:\n-\t$(CC) -c $(ALL_CFLAGS) $(INCLUDES) $<\n+.c.lo:\n+\t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) $(INCLUDES) $<\n \n-.m.o:\n-\t$(CC) -c $(ALL_CFLAGS) $(INCLUDES) $<\n+.m.lo:\n+\t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) $(INCLUDES) $<\n \n # Flags to pass to a recursive make.\n FLAGS_TO_PASS = \\\n@@ -101,6 +117,7 @@ FLAGS_TO_PASS = \\\n \t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n \t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LIBTOOL=$(LIBTOOL)\" \\\n \t\"LOADLIBES=$(LOADLIBES)\" \\\n \t\"PICFLAG=$(PICFLAG)\" \\\n \t\"RANLIB=$(RANLIB)\" \\\n@@ -111,7 +128,7 @@ FLAGS_TO_PASS = \\\n \t\"libsubdir=$(libsubdir)\" \\\n \t\"tooldir=$(tooldir)\"\n \n-all: libobjc.a @OBJC_BOEHM_GC@\n+all: libobjc.la $(OBJC_BOEHM_GC)\n \t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=all\n \n # User-visible header files.\n@@ -122,111 +139,134 @@ OBJC_H = hash.h objc-list.h sarray.h objc.h objc-api.h \\\n \n # Modules that comprise the runtime library.\n \n-OBJS =    archive.o class.o encoding.o gc.o hash.o init.o linking.o \\\n-\t  misc.o nil_method.o NXConstStr.o Object.o objects.o \\\n-\t  Protocol.o sarray.o selector.o sendmsg.o thr.o \\\n-\t  $(OBJC_THREAD_FILE).o\n+OBJS =    archive.lo class.lo encoding.lo gc.lo hash.lo init.lo linking.lo \\\n+\t  misc.lo nil_method.lo NXConstStr.lo Object.lo objects.lo \\\n+\t  Protocol.lo sarray.lo selector.lo sendmsg.lo thr.lo \\\n+\t  $(OBJC_THREAD_FILE).lo\n \n-OBJS_GC = archive_gc.o class_gc.o encoding_gc.o gc_gc.o hash_gc.o \\\n-\t  init_gc.o linking_gc.o misc_gc.o nil_method_gc.o \\\n-\t  NXConstStr_gc.o Object_gc.o objects_gc.o Protocol_gc.o \\\n-\t  sarray_gc.o selector_gc.o sendmsg_gc.o thr_gc.o \\\n-\t  $(OBJC_THREAD_FILE)_gc.o\n+OBJS_GC = archive_gc.lo class_gc.lo encoding_gc.lo gc_gc.lo hash_gc.lo \\\n+\t  init_gc.lo linking_gc.lo misc_gc.lo nil_method_gc.lo \\\n+\t  NXConstStr_gc.lo Object_gc.lo objects_gc.lo Protocol_gc.lo \\\n+\t  sarray_gc.lo selector_gc.lo sendmsg_gc.lo thr_gc.lo \\\n+\t  $(OBJC_THREAD_FILE)_gc.lo\n \n runtime-info.h: \n-\t\techo \"\" > tmp-runtime\n-\t\techo \"/* This file is automatically generated */\" > $@\n-\t\t$(CC1OBJ) -print-objc-runtime-info tmp-runtime >> $@\n-\t\trm -f tmp-runtime\n+\techo \"\" > tmp-runtime\n+\techo \"/* This file is automatically generated */\" > $@\n+\t$(CC1OBJ) -print-objc-runtime-info tmp-runtime >> $@\n+\trm -f tmp-runtime\n \n-archive_gc.o:\tarchive.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+archive_gc.lo: archive.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c  -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-class_gc.o:\tclass.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+class_gc.lo: class.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-encoding_gc.o:\tencoding.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+encoding_gc.lo: encoding.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-gc.o:\t\tgc.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+gc.lo: gc.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n \n-gc_gc.o:\tgc.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n-\t\t\t$(INCLUDES) $<\n+gc_gc.lo: gc.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-hash_gc.o:\thash.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+hash_gc.lo: hash.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-init_gc.o:\tinit.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+init_gc.lo: init.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-linking.o:\tlinking.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+linking.lo: linking.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-linking_gc.o:\tlinking.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n-\t\t\t$(INCLUDES) $<\n+linking_gc.lo: linking.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n \n-misc_gc.o:\tmisc.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+misc_gc.lo: misc.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) -o $@ $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-nil_method_gc.o: nil_method.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+nil_method_gc.lo: nil_method.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) -o $@ $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-NXConstStr.o:\tNXConstStr.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+NXConstStr.lo: NXConstStr.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-NXConstStr_gc.o: NXConstStr.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n-\t\t\t$(INCLUDES) $<\n+NXConstStr_gc.lo: NXConstStr.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n \n-Object.o:\tObject.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+Object.lo: Object.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-Object_gc.o:\tObject.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n-\t\t\t$(INCLUDES) $<\n+Object_gc.lo: Object.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n \n-objects_gc.o:\tobjects.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+objects_gc.lo: objects.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c $(ALL_CFLAGS) -o $@ $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-Protocol.o:\tProtocol.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+Protocol.lo: Protocol.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-Protocol_gc.o:\tProtocol.m\n-\t\t$(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n-\t\t\t$(INCLUDES) $<\n+Protocol_gc.lo: Protocol.m\n+\t$(LIBTOOL_COMPILE) $(CC) -fgnu-runtime -c -o $@ $(ALL_CFLAGS) \\\n+\t\t$(OBJC_GCFLAGS) $(INCLUDES) $<\n \n-sarray_gc.o:\tsarray.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+sarray_gc.lo: sarray.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-selector_gc.o:\tselector.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+selector_gc.lo: selector.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-sendmsg.o:\tsendmsg.c runtime-info.h\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n+sendmsg.lo: sendmsg.c runtime-info.h\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(INCLUDES) $<\n \n-sendmsg_gc.o:\tsendmsg.c runtime-info.h\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+sendmsg_gc.lo: sendmsg.c runtime-info.h\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-thr_gc.o:\tthr.c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+thr_gc.lo: thr.c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n-$(OBJC_THREAD_FILE)_gc.o: $(OBJC_THREAD_FILE).c\n-\t\t$(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) $(INCLUDES) $<\n+$(OBJC_THREAD_FILE)_gc.lo: $(OBJC_THREAD_FILE).c\n+\t$(LIBTOOL_COMPILE) $(CC) -c -o $@ $(ALL_CFLAGS) $(OBJC_GCFLAGS) \\\n+\t\t$(INCLUDES) $<\n \n doc: info dvi html\n \n-libobjc.a: $(OBJS)\n-\t$(AR) $(AR_FLAGS) $@ $(OBJS)\n-\t$(RANLIB) $@\n+libobjc.la: $(OBJS)\n+\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS) -rpath $(libsubdir) \\\n+\t\t-version-info $(LIBOBJC_VERSION)\n \n-libobjc_gc.a: $(OBJS_GC)\n-\t$(AR) $(AR_FLAGS) $@ $(OBJS_GC)\n-\t$(RANLIB) $@\n+libobjc_gc.la: $(OBJS_GC)\n+\t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS_GC) -rpath $(libsubdir) \\\n+\t\t-version-info $(LIBOBJC_GC_VERSION)\n \n-libobjc_s.a: libobjc.a\n+#\n+# FIXME -- The following part does not fit in the libtool context. \n+# Libtool is supposed to [going to] be able to create a win 32 DLL \n+# without extra code but since I don't have a win machine to test \n+# if it already works, I leave the old code here.\n+#\n+libobjc_s.a: libobjc.la\n \tmv libobjc.a libobjc_s.a\n \n # Create a relocatable DLL\n@@ -243,6 +283,11 @@ libobjc.dll: libobjc_s.a libobjc_entry.o\n \t\t-o libobjc.dll libobjc_s.a libobjc_entry.o -lkernel32\n \t$(DLLTOOL) --dllname libobjc.dll --def $(srcdir)/libobjc.def \\\n \t\t--output-lib libobjc.a\n+#\n+#\n+#\n+#\n+#\n \n info: objc-features.info\n dvi: objc-features.dvi\n@@ -272,25 +317,11 @@ ${srcdir}/configure: configure.in\n install: install-libs copy-headers\n \n install-libs: installdirs\n-\t-if test -f libobjc.a ; then \\\n-\t  rm -f $(libsubdir)/libobjc.a; \\\n-\t  $(INSTALL_DATA) libobjc.a $(libsubdir)/libobjc.a; \\\n-\t  chmod a-x $(libsubdir)/libobjc.a; \\\n-\telse true; fi\n-\t-if test -f libobjc_gc.a ; then \\\n-\t  rm -f $(libsubdir)/libobjc_gc.a; \\\n-\t  $(INSTALL_DATA) libobjc_gc.a $(libsubdir)/libobjc_gc.a; \\\n-\t  chmod a-x $(libsubdir)/libobjc_gc.a; \\\n-\telse true; fi\n-\t-if test -f libobjc_s.a ; then \\\n-\t  rm -f $(libsubdir)/libobjc_s.a; \\\n-\t  $(INSTALL_DATA) libobjc_s.a $(libsubdir)/libobjc_s.a; \\\n-\t  chmod a-x $(libsubdir)/libobjc_s.a; \\\n-\telse true; fi\n-\t  -if test -f libobjc.dll ; then \\\n-\t  rm -f $(bindir)/libobjc.dll; \\\n-\t  $(INSTALL_DATA) libobjc.dll $(bindir)/libobjc.dll; \\\n-\telse true; fi\n+\t$(LIBTOOL_INSTALL) $(INSTALL_DATA) libobjc.la $(libsubdir)/libobjc.la;\n+\tif [ \"$(OBJC_BOEHM_GC)\" ]; then \\\n+\t  $(LIBTOOL_INSTALL) $(INSTALL_DATA) libobjc_gc.la \\\n+\t\t\t\t$(libsubdir)/libobjc_gc.la;\\\n+\tfi\n \n # Copy Objective C headers to installation include directory.\n copy-headers:\n@@ -306,7 +337,8 @@ copy-headers:\n check uninstall install-strip dist installcheck installdirs:\n \n mostlyclean:\n-\t-rm -f runtime-info.h tmp-runtime.s *.o libobjc* xforward \\\n+\t-$(LIBTOOL_CLEAN) rm -f libobjc.la libobjc_gc.la *.lo\n+\t-rm -f runtime-info.h tmp-runtime.s *.o *.lo libobjc* xforward \\\n \t\tfflags *.aux *.cp *.dvi *.fn *.info *.ky *.log *.pg \\\n \t\t*.toc *.tp *.vr *.html libobj.exp\n \t@$(MULTICLEAN) multi-clean DO=mostlyclean"}, {"sha": "05c56ccbaf6fab89eeebda0743fb5a472fae3c75", "filename": "libobjc/aclocal.m4", "status": "added", "additions": 824, "deletions": 0, "changes": 824, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Faclocal.m4?ref=c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "patch": "@@ -0,0 +1,824 @@\n+## libtool.m4 - Configure libtool for the host system. -*-Shell-script-*-\n+## Copyright (C) 1996-1999,2000 Free Software Foundation, Inc.\n+## Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n+##\n+## This program is free software; you can redistribute it and/or modify\n+## it under the terms of the GNU General Public License as published by\n+## the Free Software Foundation; either version 2 of the License, or\n+## (at your option) any later version.\n+##\n+## This program is distributed in the hope that it will be useful, but\n+## WITHOUT ANY WARRANTY; without even the implied warranty of\n+## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+## General Public License for more details.\n+##\n+## You should have received a copy of the GNU General Public License\n+## along with this program; if not, write to the Free Software\n+## Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+##\n+## As a special exception to the GNU General Public License, if you\n+## distribute this file as part of a program that contains a\n+## configuration script generated by Autoconf, you may include it under\n+## the same distribution terms that you use for the rest of that program.\n+\n+# serial 45 AC_PROG_LIBTOOL\n+AC_DEFUN(AC_PROG_LIBTOOL,[AC_REQUIRE([_AC_PROG_LIBTOOL])\n+dnl If AC_PROG_CXX has already been expanded, run AC_LIBTOOL_CXX\n+dnl immediately, otherwise, hook it in at the end of AC_PROG_CXX.\n+  AC_PROVIDE_IFELSE([AC_PROG_CXX],\n+    [AC_LIBTOOL_CXX],\n+    [define([AC_PROG_CXX], defn([AC_PROG_CXX])[AC_LIBTOOL_CXX\n+])])\n+\n+dnl Quote A][M_PROG_GCJ so that aclocal doesn't bring it in needlessly.\n+dnl If either AC_PROG_GCJ or A][M_PROG_GCJ have already been expanded, run\n+dnl AC_LIBTOOL_GCJ immediately, otherwise, hook it in at the end of both.\n+  AC_PROVIDE_IFELSE([AC_PROG_GCJ],\n+    [AC_LIBTOOL_GCJ],\n+    [AC_PROVIDE_IFELSE([A][M_PROG_GCJ],\n+        [AC_LIBTOOL_GCJ],\n+\t[ifdef([AC_PROG_GCJ],\n+\t       [define([AC_PROG_GCJ], defn([AC_PROG_GCJ])[AC_LIBTOOL_GCJ\n+])])\n+\t ifdef([A][M_PROG_GCJ],\n+\t       [define([A][M_PROG_GCJ], defn([A][M_PROG_GCJ])[AC_LIBTOOL_GCJ\n+])])])])])\n+\n+AC_DEFUN(_AC_PROG_LIBTOOL,\n+[AC_REQUIRE([AC_LIBTOOL_SETUP])dnl\n+AC_BEFORE([$0],[AC_LIBTOOL_CXX])dnl\n+AC_BEFORE([$0],[AC_LIBTOOL_GCJ])dnl\n+\n+# Save cache, so that ltconfig can load it\n+AC_CACHE_SAVE\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC=\"$MAGIC\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n+|| AC_MSG_ERROR([libtool configure failed])\n+\n+# Reload cache, that may have been modified by ltconfig\n+AC_CACHE_LOAD\n+\n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+AC_SUBST(LIBTOOL)dnl\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+])\n+\n+AC_DEFUN(AC_LIBTOOL_SETUP,\n+[AC_PREREQ(2.13)dnl\n+AC_REQUIRE([AC_ENABLE_SHARED])dnl\n+AC_REQUIRE([AC_ENABLE_STATIC])dnl\n+AC_REQUIRE([AC_ENABLE_FAST_INSTALL])dnl\n+AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n+AC_REQUIRE([AC_PROG_CC])dnl\n+AC_REQUIRE([AC_PROG_LD])dnl\n+AC_REQUIRE([AC_PROG_LD_RELOAD_FLAG])dnl\n+AC_REQUIRE([AC_PROG_NM])dnl\n+AC_REQUIRE([AC_PROG_LN_S])dnl\n+AC_REQUIRE([AC_DEPLIBS_CHECK_METHOD])dnl\n+# Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n+AC_REQUIRE([AC_OBJEXT])dnl\n+AC_REQUIRE([AC_EXEEXT])dnl\n+dnl\n+\n+# Only perform the check for file, if the check method requires it\n+case \"$deplibs_check_method\" in\n+file_magic*)\n+  if test \"$file_magic_cmd\" = '${MAGIC}'; then\n+    AC_PATH_MAGIC\n+  fi\n+  ;;\n+esac\n+\n+AC_CHECK_TOOL(RANLIB, ranlib, :)\n+AC_CHECK_TOOL(STRIP, strip, :)\n+\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\"--cache-file=$cache_file\"\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+ifdef([AC_PROVIDE_AC_LIBTOOL_DLOPEN],\n+[libtool_flags=\"$libtool_flags --enable-dlopen\"])\n+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n+[libtool_flags=\"$libtool_flags --enable-win32-dll\"])\n+AC_ARG_ENABLE(libtool-lock,\n+  [  --disable-libtool-lock  avoid locking (might break parallel builds)])\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n+\n+AC_ARG_WITH(pic,\n+  [  --with-pic              try to use only PIC/non-PIC objects [default=use both]],\n+     pic_mode=\"$withval\", pic_mode=default)\n+test x\"$pic_mode\" = xyes && libtool_flags=\"$libtool_flags --prefer-pic\"\n+test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n+\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case \"$host\" in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '[#]line __oline__ \"configure\"' > conftest.$ac_ext\n+  if AC_TRY_EVAL(ac_compile); then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -belf\"\n+  AC_CACHE_CHECK([whether the C compiler needs -belf], lt_cv_cc_needs_belf,\n+    [AC_LANG_SAVE\n+     AC_LANG_C\n+     AC_TRY_LINK([],[],[lt_cv_cc_needs_belf=yes],[lt_cv_cc_needs_belf=no])\n+     AC_LANG_RESTORE])\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n+  ;;\n+\n+ifdef([AC_PROVIDE_AC_LIBTOOL_WIN32_DLL],\n+[*-*-cygwin* | *-*-mingw*)\n+  AC_CHECK_TOOL(DLLTOOL, dlltool, false)\n+  AC_CHECK_TOOL(AS, as, false)\n+  AC_CHECK_TOOL(OBJDUMP, objdump, false)\n+\n+  # recent cygwin and mingw systems supply a stub DllMain which the user\n+  # can override, but on older systems we have to supply one\n+  AC_CACHE_CHECK([if libtool should supply DllMain function], lt_cv_need_dllmain,\n+    [AC_TRY_LINK([],\n+      [extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);\n+      DllMain (0, 0, 0);],\n+      [lt_cv_need_dllmain=no],[lt_cv_need_dllmain=yes])])\n+\n+  case \"$host/$CC\" in\n+  *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)\n+    # old mingw systems require \"-dll\" to link a DLL, while more recent ones\n+    # require \"-mdll\"\n+    SAVE_CFLAGS=\"$CFLAGS\"\n+    CFLAGS=\"$CFLAGS -mdll\"\n+    AC_CACHE_CHECK([how to link DLLs], lt_cv_cc_dll_switch,\n+      [AC_TRY_LINK([], [], [lt_cv_cc_dll_switch=-mdll],[lt_cv_cc_dll_switch=-dll])])\n+    CFLAGS=\"$SAVE_CFLAGS\" ;;\n+  *-*-cygwin*)\n+    # cygwin systems need to pass --dll to the linker, and not link\n+    # crt.o which will require a WinMain@16 definition.\n+    lt_cv_cc_dll_switch=\"-Wl,--dll -nostartfiles\" ;;\n+  esac\n+  ;;\n+  ])\n+esac\n+])\n+\n+# AC_LIBTOOL_DLOPEN - enable checks for dlopen support\n+AC_DEFUN(AC_LIBTOOL_DLOPEN, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])])\n+\n+# AC_LIBTOOL_WIN32_DLL - declare package support for building win32 dll's\n+AC_DEFUN(AC_LIBTOOL_WIN32_DLL, [AC_BEFORE([$0], [AC_LIBTOOL_SETUP])])\n+\n+# AC_ENABLE_SHARED - implement the --enable-shared flag\n+# Usage: AC_ENABLE_SHARED[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AC_ENABLE_SHARED, [dnl\n+define([AC_ENABLE_SHARED_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(shared,\n+changequote(<<, >>)dnl\n+<<  --enable-shared[=PKGS]  build shared libraries [default=>>AC_ENABLE_SHARED_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_shared=yes ;;\n+no) enable_shared=no ;;\n+*)\n+  enable_shared=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_shared=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_shared=AC_ENABLE_SHARED_DEFAULT)dnl\n+])\n+\n+# AC_DISABLE_SHARED - set the default shared flag to --disable-shared\n+AC_DEFUN(AC_DISABLE_SHARED, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_SHARED(no)])\n+\n+# AC_ENABLE_STATIC - implement the --enable-static flag\n+# Usage: AC_ENABLE_STATIC[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AC_ENABLE_STATIC, [dnl\n+define([AC_ENABLE_STATIC_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(static,\n+changequote(<<, >>)dnl\n+<<  --enable-static[=PKGS]  build static libraries [default=>>AC_ENABLE_STATIC_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_static=yes ;;\n+no) enable_static=no ;;\n+*)\n+  enable_static=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_static=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_static=AC_ENABLE_STATIC_DEFAULT)dnl\n+])\n+\n+# AC_DISABLE_STATIC - set the default static flag to --disable-static\n+AC_DEFUN(AC_DISABLE_STATIC, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_STATIC(no)])\n+\n+\n+# AC_ENABLE_FAST_INSTALL - implement the --enable-fast-install flag\n+# Usage: AC_ENABLE_FAST_INSTALL[(DEFAULT)]\n+#   Where DEFAULT is either `yes' or `no'.  If omitted, it defaults to\n+#   `yes'.\n+AC_DEFUN(AC_ENABLE_FAST_INSTALL, [dnl\n+define([AC_ENABLE_FAST_INSTALL_DEFAULT], ifelse($1, no, no, yes))dnl\n+AC_ARG_ENABLE(fast-install,\n+changequote(<<, >>)dnl\n+<<  --enable-fast-install[=PKGS]  optimize for fast installation [default=>>AC_ENABLE_FAST_INSTALL_DEFAULT],\n+changequote([, ])dnl\n+[p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_fast_install=yes ;;\n+no) enable_fast_install=no ;;\n+*)\n+  enable_fast_install=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_fast_install=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac],\n+enable_fast_install=AC_ENABLE_FAST_INSTALL_DEFAULT)dnl\n+])\n+\n+# AC_DISABLE_FAST_INSTALL - set the default to --disable-fast-install\n+AC_DEFUN(AC_DISABLE_FAST_INSTALL, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+AC_ENABLE_FAST_INSTALL(no)])\n+\n+# AC_LIBTOOL_PICMODE - implement the --with-pic flag\n+# Usage: AC_LIBTOOL_PICMODE[(MODE)]\n+#   Where MODE is either `yes' or `no'.  If omitted, it defaults to\n+#   `both'.\n+AC_DEFUN(AC_LIBTOOL_PICMODE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+pic_mode=ifelse($#,1,$1,default)])\n+\n+\n+# AC_PATH_TOOL_PREFIX - find a file program which can recognise shared library\n+AC_DEFUN(AC_PATH_TOOL_PREFIX,\n+[AC_MSG_CHECKING([for $1])\n+AC_CACHE_VAL(lt_cv_path_MAGIC,\n+[case \"$MAGIC\" in\n+  /*)\n+  lt_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  ac_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC=\"$MAGIC\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+dnl $ac_dummy forces splitting on constant user-supplied paths.\n+dnl POSIX.2 word splitting is done only on the output of word expansions,\n+dnl not every word.  This closes a longstanding sh security hole.\n+  ac_dummy=\"ifelse([$2], , $PATH, [$2])\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$1; then\n+      lt_cv_path_MAGIC=\"$ac_dir/$1\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase \"$deplibs_check_method\" in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC=\"$lt_cv_path_MAGIC\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n+\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n+\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC=\"$ac_save_MAGIC\"\n+  ;;\n+esac])\n+MAGIC=\"$lt_cv_path_MAGIC\"\n+if test -n \"$MAGIC\"; then\n+  AC_MSG_RESULT($MAGIC)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+])\n+\n+\n+# AC_PATH_MAGIC - find a file program which can recognise a shared library\n+AC_DEFUN(AC_PATH_MAGIC,\n+[AC_REQUIRE([AC_CHECK_TOOL_PREFIX])dnl\n+AC_PATH_TOOL_PREFIX(${ac_tool_prefix}file, /usr/bin:$PATH)\n+if test -z \"$lt_cv_path_MAGIC\"; then\n+  if test -n \"$ac_tool_prefix\"; then\n+    AC_PATH_TOOL_PREFIX(file, /usr/bin:$PATH)\n+  else\n+    MAGIC=:\n+  fi\n+fi\n+])\n+\n+\n+# AC_PROG_LD - find the path to the GNU or non-GNU linker\n+AC_DEFUN(AC_PROG_LD,\n+[AC_ARG_WITH(gnu-ld,\n+[  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]],\n+test \"$withval\" = no || with_gnu_ld=yes, with_gnu_ld=no)\n+AC_REQUIRE([AC_PROG_CC])dnl\n+AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+AC_REQUIRE([AC_CANONICAL_BUILD])dnl\n+ac_prog=ld\n+if test \"$ac_cv_prog_gcc\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  AC_MSG_CHECKING([for ld used by GCC])\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n+  *)\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case \"$ac_prog\" in\n+    # Accept absolute paths.\n+changequote(,)dnl\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n+changequote([,])dnl\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  AC_MSG_CHECKING([for GNU ld])\n+else\n+  AC_MSG_CHECKING([for non-GNU ld])\n+fi\n+AC_CACHE_VAL(ac_cv_path_LD,\n+[if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+\ttest \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi])\n+LD=\"$ac_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  AC_MSG_RESULT($LD)\n+else\n+  AC_MSG_RESULT(no)\n+fi\n+test -z \"$LD\" && AC_MSG_ERROR([no acceptable ld found in \\$PATH])\n+AC_PROG_LD_GNU\n+])\n+\n+AC_DEFUN(AC_PROG_LD_GNU,\n+[AC_CACHE_CHECK([if the linker ($LD) is GNU ld], ac_cv_prog_gnu_ld,\n+[# I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  ac_cv_prog_gnu_ld=yes\n+else\n+  ac_cv_prog_gnu_ld=no\n+fi])\n+with_gnu_ld=$ac_cv_prog_gnu_ld\n+])\n+\n+# AC_PROG_LD_RELOAD_FLAG - find reload flag for linker\n+#   -- PORTME Some linkers may need a different reload flag.\n+AC_DEFUN(AC_PROG_LD_RELOAD_FLAG,\n+[AC_CACHE_CHECK([for $LD option to reload object files], lt_cv_ld_reload_flag,\n+[lt_cv_ld_reload_flag='-r'])\n+reload_flag=$lt_cv_ld_reload_flag\n+test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n+])\n+\n+# AC_DEPLIBS_CHECK_METHOD - how to check for library dependencies\n+#  -- PORTME fill in with the dynamic library characteristics\n+AC_DEFUN(AC_DEPLIBS_CHECK_METHOD,\n+[AC_CACHE_CHECK([how to recognise dependant libraries],\n+lt_cv_deplibs_check_method,\n+[lt_cv_file_magic_cmd='${MAGIC}'\n+lt_cv_file_magic_test_file=\n+lt_cv_deplibs_check_method='unknown'\n+# Need to set the preceding variable on all platforms that support\n+# interlibrary dependencies.\n+# 'none' -- dependencies not supported.\n+# `unknown' -- same as none, but documents that we really don't know.\n+# 'pass_all' -- all dependencies passed with no checks.\n+# 'test_compile' -- check by making test program.\n+# 'file_magic [regex]' -- check by looking for files in library path\n+# which responds to the $file_magic_cmd with a given egrep regex.\n+# If you have `file' or equivalent on your system and you're not sure\n+# whether `pass_all' will *always* work, you probably want this one.\n+\n+case \"$host_os\" in\n+aix4*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+beos*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+bsdi4*)\n+  changequote(,)dnl\n+  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n+  changequote([, ])dnl\n+  lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  ;;\n+\n+cygwin* | mingw*)\n+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n+  lt_cv_file_magic_cmd='${OBJDUMP} -f'\n+  ;;\n+\n+freebsd* )\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    case \"$host_cpu\" in\n+    i*86 )\n+      changequote(,)dnl\n+      lt_cv_deplibs_check_method=='file_magic OpenBSD/i[3-9]86 demand paged shared library'\n+      changequote([, ])dnl\n+      lt_cv_file_magic_cmd=/usr/bin/file\n+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n+      ;;\n+    esac\n+  else\n+    lt_cv_deplibs_check_method=pass_all\n+  fi\n+  ;;\n+\n+gnu*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+hpux10.20*)\n+  # TODO:  Does this work for hpux-11 too?\n+  lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9].[0-9]) shared library'\n+  lt_cv_file_magic_cmd=/usr/bin/file\n+  lt_cv_file_magic_test_file=/usr/lib/libc.sl\n+  ;;\n+\n+irix5* | irix6*)\n+  case \"$host_os\" in\n+  irix5*)\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n+    ;;\n+  *)\n+    case \"$LD\" in\n+    *-32|*\"-32 \") libmagic=32-bit;;\n+    *-n32|*\"-n32 \") libmagic=N32;;\n+    *-64|*\"-64 \") libmagic=64-bit;;\n+    *) libmagic=never-match;;\n+    esac\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    changequote(,)dnl\n+    lt_cv_deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\"\n+    changequote([, ])dnl\n+    ;;\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+# This must be Linux ELF.\n+linux-gnu*)\n+  case \"$host_cpu\" in\n+  alpha* | i*86 | powerpc* | sparc* | ia64* )\n+    lt_cv_deplibs_check_method=pass_all ;;\n+  *)\n+    # glibc up to 2.1.1 does not perform some relocations on ARM\n+    changequote(,)dnl\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )' ;;\n+    changequote([, ])dnl\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`\n+  ;;\n+\n+netbsd*)\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then :\n+  else\n+    changequote(,)dnl\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'\n+    changequote([, ])dnl\n+    lt_cv_file_magic_cmd='/usr/bin/file -L'\n+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+  fi\n+  ;;\n+\n+osf3* | osf4* | osf5*)\n+  # this will be overridden with pass_all, but let us keep it just in case\n+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+sco3.2v5*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+solaris*)\n+  lt_cv_deplibs_check_method=pass_all\n+  lt_cv_file_magic_test_file=/lib/libc.so\n+  ;;\n+\n+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+  case \"$host_vendor\" in\n+  ncr)\n+    lt_cv_deplibs_check_method=pass_all\n+    ;;\n+  motorola)\n+    changequote(,)dnl\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n+    changequote([, ])dnl\n+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+    ;;\n+  esac\n+  ;;\n+esac\n+])\n+file_magic_cmd=$lt_cv_file_magic_cmd\n+deplibs_check_method=$lt_cv_deplibs_check_method\n+])\n+\n+\n+# AC_PROG_NM - find the path to a BSD-compatible name lister\n+AC_DEFUN(AC_PROG_NM,\n+[AC_MSG_CHECKING([for BSD-compatible nm])\n+AC_CACHE_VAL(ac_cv_path_NM,\n+[if test -n \"$NM\"; then\n+  # Let the user override the test.\n+  ac_cv_path_NM=\"$NM\"\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    tmp_nm=$ac_dir/${ac_tool_prefix}nm\n+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then\n+      # Check to see if the nm accepts a BSD-compat flag.\n+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+      #   nm: unknown option \"B\" ignored\n+      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tac_cv_path_NM=\"$tmp_nm -B\"\n+\tbreak\n+      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tac_cv_path_NM=\"$tmp_nm -p\"\n+\tbreak\n+      else\n+\tac_cv_path_NM=${ac_cv_path_NM=\"$tmp_nm\"} # keep the first match, but\n+\tcontinue # so that we can try to find one that supports BSD flags\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n+fi])\n+NM=\"$ac_cv_path_NM\"\n+AC_MSG_RESULT([$NM])\n+])\n+\n+# AC_CHECK_LIBM - check for math library\n+AC_DEFUN(AC_CHECK_LIBM,\n+[AC_REQUIRE([AC_CANONICAL_HOST])dnl\n+LIBM=\n+case \"$host\" in\n+*-*-beos* | *-*-cygwin*)\n+  # These system don't have libm\n+  ;;\n+*-ncr-sysv4.3*)\n+  AC_CHECK_LIB(mw, _mwvalidcheckl, LIBM=\"-lmw\")\n+  AC_CHECK_LIB(m, main, LIBM=\"$LIBM -lm\")\n+  ;;\n+*)\n+  AC_CHECK_LIB(m, main, LIBM=\"-lm\")\n+  ;;\n+esac\n+])\n+\n+# AC_LIBLTDL_CONVENIENCE[(dir)] - sets LIBLTDL to the link flags for\n+# the libltdl convenience library and INCLTDL to the include flags for\n+# the libltdl header and adds --enable-ltdl-convenience to the\n+# configure arguments.  Note that LIBLTDL and INCLTDL are not\n+# AC_SUBSTed, nor is AC_CONFIG_SUBDIRS called.  If DIR is not\n+# provided, it is assumed to be `libltdl'.  LIBLTDL will be prefixed\n+# with '${top_builddir}/' and INCLTDL will be prefixed with\n+# '${top_srcdir}/' (note the single quotes!).  If your package is not\n+# flat and you're not using automake, define top_builddir and\n+# top_srcdir appropriately in the Makefiles.\n+AC_DEFUN(AC_LIBLTDL_CONVENIENCE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+  case \"$enable_ltdl_convenience\" in\n+  no) AC_MSG_ERROR([this package needs a convenience libltdl]) ;;\n+  \"\") enable_ltdl_convenience=yes\n+      ac_configure_args=\"$ac_configure_args --enable-ltdl-convenience\" ;;\n+  esac\n+  LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdlc.la\n+  INCLTDL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])\n+])\n+\n+# AC_LIBLTDL_INSTALLABLE[(dir)] - sets LIBLTDL to the link flags for\n+# the libltdl installable library and INCLTDL to the include flags for\n+# the libltdl header and adds --enable-ltdl-install to the configure\n+# arguments.  Note that LIBLTDL and INCLTDL are not AC_SUBSTed, nor is\n+# AC_CONFIG_SUBDIRS called.  If DIR is not provided and an installed\n+# libltdl is not found, it is assumed to be `libltdl'.  LIBLTDL will\n+# be prefixed with '${top_builddir}/' and INCLTDL will be prefixed\n+# with '${top_srcdir}/' (note the single quotes!).  If your package is\n+# not flat and you're not using automake, define top_builddir and\n+# top_srcdir appropriately in the Makefiles.\n+# In the future, this macro may have to be called after AC_PROG_LIBTOOL.\n+AC_DEFUN(AC_LIBLTDL_INSTALLABLE, [AC_BEFORE([$0],[AC_LIBTOOL_SETUP])dnl\n+  AC_CHECK_LIB(ltdl, main,\n+  [test x\"$enable_ltdl_install\" != xyes && enable_ltdl_install=no],\n+  [if test x\"$enable_ltdl_install\" = xno; then\n+     AC_MSG_WARN([libltdl not installed, but installation disabled])\n+   else\n+     enable_ltdl_install=yes\n+   fi\n+  ])\n+  if test x\"$enable_ltdl_install\" = x\"yes\"; then\n+    ac_configure_args=\"$ac_configure_args --enable-ltdl-install\"\n+    LIBLTDL='${top_builddir}/'ifelse($#,1,[$1],['libltdl'])/libltdl.la\n+    INCLTDL='-I${top_srcdir}/'ifelse($#,1,[$1],['libltdl'])\n+  else\n+    ac_configure_args=\"$ac_configure_args --enable-ltdl-install=no\"\n+    LIBLTDL=\"-lltdl\"\n+    INCLTDL=\n+  fi\n+])\n+\n+# If this macro is not defined by Autoconf, define it here.\n+ifdef([AC_PROVIDE_IFELSE],\n+      [],\n+      [define([AC_PROVIDE_IFELSE],\n+              [ifdef([AC_PROVIDE_$1],\n+                     [$2], [$3])])])\n+\n+# AC_LIBTOOL_CXX - enable support for C++ libraries\n+AC_DEFUN(AC_LIBTOOL_CXX,[AC_REQUIRE([_AC_LIBTOOL_CXX])])\n+AC_DEFUN(_AC_LIBTOOL_CXX,\n+[AC_REQUIRE([AC_PROG_LIBTOOL])\n+AC_REQUIRE([AC_PROG_CXX])\n+AC_REQUIRE([AC_PROG_CXXCPP])\n+LIBTOOL_DEPS=$LIBTOOL_DEPS\" $ac_aux_dir/ltcf-cxx.sh\"\n+lt_save_CC=\"$CC\"\n+lt_save_CFLAGS=\"$CFLAGS\"\n+dnl Make sure LTCC is set to the C compiler, i.e. set LTCC before CC\n+dnl is set to the C++ compiler.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CXX\" CXX=\"$CXX\" CFLAGS=\"$CXXFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC=\"$MAGIC\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" \\\n+file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \\\n+--build=\"$build\" --add-tag=CXX $ac_aux_dir/ltcf-cxx.sh $host \\\n+|| AC_MSG_ERROR([libtool tag configuration failed])\n+CC=\"$lt_save_CC\"\n+CFLAGS=\"$lt_save_CFLAGS\"\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+])\n+\n+# AC_LIBTOOL_GCJ - enable support for GCJ libraries\n+AC_DEFUN(AC_LIBTOOL_GCJ,[AC_REQUIRE([_AC_LIBTOOL_GCJ])])\n+AC_DEFUN(_AC_LIBTOOL_GCJ,\n+[AC_REQUIRE([AC_PROG_LIBTOOL])\n+AC_PROVIDE_IFELSE([AC_PROG_GCJ],[],\n+  [AC_PROVIDE_IFELSE([A][M_PROG_GCJ],[],\n+    [ifdef([AC_PROG_GCJ],[AC_REQUIRE([AC_PROG_GCJ])],\n+       [ifdef([A][M_PROG_GCJ],[AC_REQUIRE([A][M_PROG_GCJ])],\n+         [AC_REQUIRE([A][C_PROG_GCJ_OR_A][M_PROG_GCJ])])])])])\n+LIBTOOL_DEPS=$LIBTOOL_DEPS\" $ac_aux_dir/ltcf-gcj.sh\"\n+lt_save_CC=\"$CC\"\n+lt_save_CFLAGS=\"$CFLAGS\"\n+dnl Make sure LTCC is set to the C compiler, i.e. set LTCC before CC\n+dnl is set to the C++ compiler.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$GCJ\" CFLAGS=\"$GCJFLAGS\" CPPFLAGS=\"\" \\\n+MAGIC=\"$MAGIC\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" \\\n+file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig -o libtool $libtool_flags \\\n+--build=\"$build\" --add-tag=GCJ $ac_aux_dir/ltcf-gcj.sh $host \\\n+|| AC_MSG_ERROR([libtool tag configuration failed])\n+CC=\"$lt_save_CC\"\n+CFLAGS=\"$lt_save_CFLAGS\"\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+])\n+\n+dnl old names\n+AC_DEFUN(AM_PROG_LIBTOOL, [indir([AC_PROG_LIBTOOL])])dnl\n+AC_DEFUN(AM_ENABLE_SHARED, [indir([AC_ENABLE_SHARED], $@)])dnl\n+AC_DEFUN(AM_ENABLE_STATIC, [indir([AC_ENABLE_STATIC], $@)])dnl\n+AC_DEFUN(AM_DISABLE_SHARED, [indir([AC_DISABLE_SHARED], $@)])dnl\n+AC_DEFUN(AM_DISABLE_STATIC, [indir([AC_DISABLE_STATIC], $@)])dnl\n+AC_DEFUN(AM_PROG_LD, [indir([AC_PROG_LD])])dnl\n+AC_DEFUN(AM_PROG_NM, [indir([AC_PROG_NM])])dnl\n+\n+dnl This is just to silence aclocal about the macro not being used\n+ifelse([AC_DISABLE_FAST_INSTALL])dnl"}, {"sha": "132e043ad0a53d984d377f2cd6f779cbeb1ef038", "filename": "libobjc/configure", "status": "modified", "additions": 1350, "deletions": 34, "changes": 1384, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "patch": "@@ -11,6 +11,18 @@\n ac_help=\n ac_default_prefix=/usr/local\n # Any additions from configure.in:\n+ac_help=\"$ac_help\n+  --enable-shared[=PKGS]  build shared libraries [default=no]\"\n+ac_help=\"$ac_help\n+  --enable-static[=PKGS]  build static libraries [default=yes]\"\n+ac_help=\"$ac_help\n+  --enable-fast-install[=PKGS]  optimize for fast installation [default=yes]\"\n+ac_help=\"$ac_help\n+  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\"\n+ac_help=\"$ac_help\n+  --disable-libtool-lock  avoid locking (might break parallel builds)\"\n+ac_help=\"$ac_help\n+  --with-pic              try to use only PIC/non-PIC objects [default=use both]\"\n ac_help=\"$ac_help\n   --enable-objc-gc       enable the use of Boehm's garbage collector with\n                           the GNU Objective-C runtime.\"\n@@ -523,6 +535,68 @@ else\n   ac_n= ac_c='\\c' ac_t=\n fi\n \n+echo $ac_n \"checking for Cygwin environment\"\"... $ac_c\" 1>&6\n+echo \"configure:540: checking for Cygwin environment\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_cygwin'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 545 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+#ifndef __CYGWIN__\n+#define __CYGWIN__ __CYGWIN32__\n+#endif\n+return __CYGWIN__;\n+; return 0; }\n+EOF\n+if { (eval echo configure:556: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_cygwin=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_cygwin=no\n+fi\n+rm -f conftest*\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_cygwin\" 1>&6\n+CYGWIN=\n+test \"$ac_cv_cygwin\" = yes && CYGWIN=yes\n+echo $ac_n \"checking for mingw32 environment\"\"... $ac_c\" 1>&6\n+echo \"configure:573: checking for mingw32 environment\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_mingw32'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 578 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+return __MINGW32__;\n+; return 0; }\n+EOF\n+if { (eval echo configure:585: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_mingw32=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_mingw32=no\n+fi\n+rm -f conftest*\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_mingw32\" 1>&6\n+MINGW32=\n+test \"$ac_cv_mingw32\" = yes && MINGW32=yes\n \n #AC_CONFIG_HEADER(config.h)\n \n@@ -562,7 +636,7 @@ ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.\n compiler_name=cc1obj\n rm -f skip-this-dir\n echo $ac_n \"checking if compiler $compiler_name has been built\"\"... $ac_c\" 1>&6\n-echo \"configure:566: checking if compiler $compiler_name has been built\" >&5\n+echo \"configure:640: checking if compiler $compiler_name has been built\" >&5\n if eval \"test \\\"`echo '$''{'objc_cv_compiler_exists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -593,7 +667,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:597: checking for $ac_word\" >&5\n+echo \"configure:671: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -623,7 +697,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:627: checking for $ac_word\" >&5\n+echo \"configure:701: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -674,7 +748,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:678: checking for $ac_word\" >&5\n+echo \"configure:752: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -706,7 +780,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:710: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:784: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -717,12 +791,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 721 \"configure\"\n+#line 795 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:726: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:800: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -748,12 +822,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:752: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:826: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:757: checking whether we are using GNU C\" >&5\n+echo \"configure:831: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -762,7 +836,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:766: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:840: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -781,7 +855,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:785: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:859: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -821,7 +895,7 @@ else\n   # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:825: checking for $ac_word\" >&5\n+echo \"configure:899: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -861,7 +935,7 @@ fi\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:865: checking for a BSD compatible install\" >&5\n+echo \"configure:939: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -917,7 +991,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n # Sanity check for the cross-compilation case:\n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:921: checking how to run the C preprocessor\" >&5\n+echo \"configure:995: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -932,13 +1006,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 936 \"configure\"\n+#line 1010 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:942: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1016: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -949,13 +1023,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 953 \"configure\"\n+#line 1027 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:959: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1033: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -966,13 +1040,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 970 \"configure\"\n+#line 1044 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:976: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1050: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -998,17 +1072,17 @@ echo \"$ac_t\"\"$CPP\" 1>&6\n \n ac_safe=`echo \"stdio.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for stdio.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1002: checking for stdio.h\" >&5\n+echo \"configure:1076: checking for stdio.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1007 \"configure\"\n+#line 1081 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1012: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1086: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1036,20 +1110,20 @@ fi\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1040: checking for ANSI C header files\" >&5\n+echo \"configure:1114: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1045 \"configure\"\n+#line 1119 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1053: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1127: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1066,7 +1140,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1070 \"configure\"\n+#line 1144 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1084,7 +1158,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1088 \"configure\"\n+#line 1162 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1105,7 +1179,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1109 \"configure\"\n+#line 1183 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1116,7 +1190,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1120: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1194: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1140,10 +1214,10 @@ EOF\n fi\n \n \n-# Determine gthread FLAGS.\n+# Determine CFLAGS for gthread.\n \n-echo $ac_n \"checking for gthread FLAGS\"\"... $ac_c\" 1>&6\n-echo \"configure:1147: checking for gthread FLAGS\" >&5\n+echo $ac_n \"checking for gthread cflags\"\"... $ac_c\" 1>&6\n+echo \"configure:1221: checking for gthread cflags\" >&5\n if eval \"test \\\"`echo '$''{'objc_cv_gthread_flags'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1159,13 +1233,1237 @@ echo \"$ac_t\"\"$objc_cv_gthread_flags\" 1>&6\n GTHREAD_FLAGS=$objc_cv_gthread_flags\n \n \n+# Disable shared libs by default\n+# Check whether --enable-shared or --disable-shared was given.\n+if test \"${enable_shared+set}\" = set; then\n+  enableval=\"$enable_shared\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_shared=yes ;;\n+no) enable_shared=no ;;\n+*)\n+  enable_shared=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_shared=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_shared=no\n+fi\n+\n+# Enable Win32 DLL on MS Windows - FIXME \n+ \n+# Use libtool\n+# Check whether --enable-static or --disable-static was given.\n+if test \"${enable_static+set}\" = set; then\n+  enableval=\"$enable_static\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_static=yes ;;\n+no) enable_static=no ;;\n+*)\n+  enable_static=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_static=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_static=yes\n+fi\n+\n+# Check whether --enable-fast-install or --disable-fast-install was given.\n+if test \"${enable_fast_install+set}\" = set; then\n+  enableval=\"$enable_fast_install\"\n+  p=${PACKAGE-default}\n+case \"$enableval\" in\n+yes) enable_fast_install=yes ;;\n+no) enable_fast_install=no ;;\n+*)\n+  enable_fast_install=no\n+  # Look at the argument we got.  We use all the common list separators.\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}:,\"\n+  for pkg in $enableval; do\n+    if test \"X$pkg\" = \"X$p\"; then\n+      enable_fast_install=yes\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  ;;\n+esac\n+else\n+  enable_fast_install=yes\n+fi\n+\n+\n+# Make sure we can run config.sub.\n+if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :\n+else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n+fi\n+\n+echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n+echo \"configure:1317: checking host system type\" >&5\n+\n+host_alias=$host\n+case \"$host_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE)\n+    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :\n+    else { echo \"configure: error: can not guess host type; you must specify one\" 1>&2; exit 1; }\n+    fi ;;\n+  *) host_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`\n+host_cpu=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+host_vendor=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$host\" 1>&6\n+\n+echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n+echo \"configure:1338: checking build system type\" >&5\n+\n+build_alias=$build\n+case \"$build_alias\" in\n+NONE)\n+  case $nonopt in\n+  NONE) build_alias=$host_alias ;;\n+  *) build_alias=$nonopt ;;\n+  esac ;;\n+esac\n+\n+build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`\n+build_cpu=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+echo \"$ac_t\"\"$build\" 1>&6\n+\n+# Check whether --with-gnu-ld or --without-gnu-ld was given.\n+if test \"${with_gnu_ld+set}\" = set; then\n+  withval=\"$with_gnu_ld\"\n+  test \"$withval\" = no || with_gnu_ld=yes\n+else\n+  with_gnu_ld=no\n+fi\n+\n+ac_prog=ld\n+if test \"$ac_cv_prog_gcc\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  echo $ac_n \"checking for ld used by GCC\"\"... $ac_c\" 1>&6\n+echo \"configure:1367: checking for ld used by GCC\" >&5\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n+  *)\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case \"$ac_prog\" in\n+    # Accept absolute paths.\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  echo $ac_n \"checking for GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1397: checking for GNU ld\" >&5\n+else\n+  echo $ac_n \"checking for non-GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1400: checking for non-GNU ld\" >&5\n+fi\n+if eval \"test \\\"`echo '$''{'ac_cv_path_LD'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      ac_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$ac_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+\ttest \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  ac_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi\n+fi\n+\n+LD=\"$ac_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  echo \"$ac_t\"\"$LD\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+test -z \"$LD\" && { echo \"configure: error: no acceptable ld found in \\$PATH\" 1>&2; exit 1; }\n+echo $ac_n \"checking if the linker ($LD) is GNU ld\"\"... $ac_c\" 1>&6\n+echo \"configure:1435: checking if the linker ($LD) is GNU ld\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_gnu_ld'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  ac_cv_prog_gnu_ld=yes\n+else\n+  ac_cv_prog_gnu_ld=no\n+fi\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_prog_gnu_ld\" 1>&6\n+with_gnu_ld=$ac_cv_prog_gnu_ld\n+\n+\n+echo $ac_n \"checking for $LD option to reload object files\"\"... $ac_c\" 1>&6\n+echo \"configure:1452: checking for $LD option to reload object files\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_ld_reload_flag'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  lt_cv_ld_reload_flag='-r'\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_ld_reload_flag\" 1>&6\n+reload_flag=$lt_cv_ld_reload_flag\n+test -n \"$reload_flag\" && reload_flag=\" $reload_flag\"\n+\n+echo $ac_n \"checking for BSD-compatible nm\"\"... $ac_c\" 1>&6\n+echo \"configure:1464: checking for BSD-compatible nm\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_path_NM'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$NM\"; then\n+  # Let the user override the test.\n+  ac_cv_path_NM=\"$NM\"\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH /usr/ccs/bin /usr/ucb /bin; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    tmp_nm=$ac_dir/${ac_tool_prefix}nm\n+    if test -f $tmp_nm || test -f $tmp_nm$ac_exeext ; then\n+      # Check to see if the nm accepts a BSD-compat flag.\n+      # Adding the `sed 1q' prevents false positives on HP-UX, which says:\n+      #   nm: unknown option \"B\" ignored\n+      if ($tmp_nm -B /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tac_cv_path_NM=\"$tmp_nm -B\"\n+\tbreak\n+      elif ($tmp_nm -p /dev/null 2>&1 | sed '1q'; exit 0) | egrep /dev/null >/dev/null; then\n+\tac_cv_path_NM=\"$tmp_nm -p\"\n+\tbreak\n+      else\n+\tac_cv_path_NM=${ac_cv_path_NM=\"$tmp_nm\"} # keep the first match, but\n+\tcontinue # so that we can try to find one that supports BSD flags\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_path_NM\" && ac_cv_path_NM=nm\n+fi\n+fi\n+\n+NM=\"$ac_cv_path_NM\"\n+echo \"$ac_t\"\"$NM\" 1>&6\n+\n+echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n+echo \"configure:1501: checking whether ln -s works\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_LN_S'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftestdata\n+if ln -s X conftestdata 2>/dev/null\n+then\n+  rm -f conftestdata\n+  ac_cv_prog_LN_S=\"ln -s\"\n+else\n+  ac_cv_prog_LN_S=ln\n+fi\n+fi\n+LN_S=\"$ac_cv_prog_LN_S\"\n+if test \"$ac_cv_prog_LN_S\" = \"ln -s\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+echo $ac_n \"checking how to recognise dependant libraries\"\"... $ac_c\" 1>&6\n+echo \"configure:1522: checking how to recognise dependant libraries\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_deplibs_check_method'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  lt_cv_file_magic_cmd='${MAGIC}'\n+lt_cv_file_magic_test_file=\n+lt_cv_deplibs_check_method='unknown'\n+# Need to set the preceding variable on all platforms that support\n+# interlibrary dependencies.\n+# 'none' -- dependencies not supported.\n+# `unknown' -- same as none, but documents that we really don't know.\n+# 'pass_all' -- all dependencies passed with no checks.\n+# 'test_compile' -- check by making test program.\n+# 'file_magic [regex]' -- check by looking for files in library path\n+# which responds to the $file_magic_cmd with a given egrep regex.\n+# If you have `file' or equivalent on your system and you're not sure\n+# whether `pass_all' will *always* work, you probably want this one.\n+\n+case \"$host_os\" in\n+aix4*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+beos*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+bsdi4*)\n+    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n+    lt_cv_file_magic_cmd='/usr/bin/file -L'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  ;;\n+\n+cygwin* | mingw*)\n+  lt_cv_deplibs_check_method='file_magic file format pei*-i386(.*architecture: i386)?'\n+  lt_cv_file_magic_cmd='${OBJDUMP} -f'\n+  ;;\n+\n+freebsd* )\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then\n+    case \"$host_cpu\" in\n+    i*86 )\n+            lt_cv_deplibs_check_method=='file_magic OpenBSD/i[3-9]86 demand paged shared library'\n+            lt_cv_file_magic_cmd=/usr/bin/file\n+      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n+      ;;\n+    esac\n+  else\n+    lt_cv_deplibs_check_method=pass_all\n+  fi\n+  ;;\n+\n+gnu*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+hpux10.20*)\n+  # TODO:  Does this work for hpux-11 too?\n+  lt_cv_deplibs_check_method='file_magic (s0-90-90-9|PA-RISC0-9.0-9) shared library'\n+  lt_cv_file_magic_cmd=/usr/bin/file\n+  lt_cv_file_magic_test_file=/usr/lib/libc.sl\n+  ;;\n+\n+irix5* | irix6*)\n+  case \"$host_os\" in\n+  irix5*)\n+    # this will be overridden with pass_all, but let us keep it just in case\n+    lt_cv_deplibs_check_method=\"file_magic ELF 32-bit MSB dynamic lib MIPS - version 1\"\n+    ;;\n+  *)\n+    case \"$LD\" in\n+    *-32|*\"-32 \") libmagic=32-bit;;\n+    *-n32|*\"-n32 \") libmagic=N32;;\n+    *-64|*\"-64 \") libmagic=64-bit;;\n+    *) libmagic=never-match;;\n+    esac\n+    # this will be overridden with pass_all, but let us keep it just in case\n+        lt_cv_deplibs_check_method=\"file_magic ELF ${libmagic} MSB mips-[1234] dynamic lib MIPS - version 1\"\n+        ;;\n+  esac\n+  lt_cv_file_magic_test_file=`echo /lib${libsuff}/libc.so*`\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+# This must be Linux ELF.\n+linux-gnu*)\n+  case \"$host_cpu\" in\n+  alpha* | i*86 | powerpc* | sparc* | ia64* )\n+    lt_cv_deplibs_check_method=pass_all ;;\n+  *)\n+    # glibc up to 2.1.1 does not perform some relocations on ARM\n+        lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )' ;;\n+      esac\n+  lt_cv_file_magic_test_file=`echo /lib/libc.so* /lib/libc-*.so`\n+  ;;\n+\n+netbsd*)\n+  if echo __ELF__ | $CC -E - | grep __ELF__ > /dev/null; then :\n+  else\n+        lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB shared object'\n+        lt_cv_file_magic_cmd='/usr/bin/file -L'\n+    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+  fi\n+  ;;\n+\n+osf3* | osf4* | osf5*)\n+  # this will be overridden with pass_all, but let us keep it just in case\n+  lt_cv_deplibs_check_method='file_magic COFF format alpha shared library'\n+  lt_cv_file_magic_test_file=/shlib/libc.so\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+sco3.2v5*)\n+  lt_cv_deplibs_check_method=pass_all\n+  ;;\n+\n+solaris*)\n+  lt_cv_deplibs_check_method=pass_all\n+  lt_cv_file_magic_test_file=/lib/libc.so\n+  ;;\n+\n+sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n+  case \"$host_vendor\" in\n+  ncr)\n+    lt_cv_deplibs_check_method=pass_all\n+    ;;\n+  motorola)\n+        lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n+        lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n+    ;;\n+  esac\n+  ;;\n+esac\n+\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_deplibs_check_method\" 1>&6\n+file_magic_cmd=$lt_cv_file_magic_cmd\n+deplibs_check_method=$lt_cv_deplibs_check_method\n+\n+echo $ac_n \"checking for object suffix\"\"... $ac_c\" 1>&6\n+echo \"configure:1663: checking for object suffix\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_objext'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  rm -f conftest*\n+echo 'int i = 1;' > conftest.$ac_ext\n+if { (eval echo configure:1669: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  for ac_file in conftest.*; do\n+    case $ac_file in\n+    *.c) ;;\n+    *) ac_cv_objext=`echo $ac_file | sed -e s/conftest.//` ;;\n+    esac\n+  done\n+else\n+  { echo \"configure: error: installation or configuration problem; compiler does not work\" 1>&2; exit 1; }\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_objext\" 1>&6\n+OBJEXT=$ac_cv_objext\n+ac_objext=$ac_cv_objext\n+\n+\n+\n+echo $ac_n \"checking for executable suffix\"\"... $ac_c\" 1>&6\n+echo \"configure:1689: checking for executable suffix\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_exeext'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test \"$CYGWIN\" = yes || test \"$MINGW32\" = yes; then\n+  ac_cv_exeext=.exe\n+else\n+  rm -f conftest*\n+  echo 'int main () { return 0; }' > conftest.$ac_ext\n+  ac_cv_exeext=\n+  if { (eval echo configure:1699: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; }; then\n+    for file in conftest.*; do\n+      case $file in\n+      *.c | *.o | *.obj) ;;\n+      *) ac_cv_exeext=`echo $file | sed -e s/conftest//` ;;\n+      esac\n+    done\n+  else\n+    { echo \"configure: error: installation or configuration problem: compiler cannot create executables.\" 1>&2; exit 1; }\n+  fi\n+  rm -f conftest*\n+  test x\"${ac_cv_exeext}\" = x && ac_cv_exeext=no\n+fi\n+fi\n+\n+EXEEXT=\"\"\n+test x\"${ac_cv_exeext}\" != xno && EXEEXT=${ac_cv_exeext}\n+echo \"$ac_t\"\"${ac_cv_exeext}\" 1>&6\n+ac_exeext=$EXEEXT\n+\n+if test $host != $build; then\n+  ac_tool_prefix=${host_alias}-\n+else\n+  ac_tool_prefix=\n+fi\n+\n+# Autoconf 2.13's AC_OBJEXT and AC_EXEEXT macros only works for C compilers!\n+\n+# Only perform the check for file, if the check method requires it\n+case \"$deplibs_check_method\" in\n+file_magic*)\n+  if test \"$file_magic_cmd\" = '${MAGIC}'; then\n+    echo $ac_n \"checking for ${ac_tool_prefix}file\"\"... $ac_c\" 1>&6\n+echo \"configure:1732: checking for ${ac_tool_prefix}file\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  case \"$MAGIC\" in\n+  /*)\n+  lt_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  ac_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC=\"$MAGIC\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/${ac_tool_prefix}file; then\n+      lt_cv_path_MAGIC=\"$ac_dir/${ac_tool_prefix}file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase \"$deplibs_check_method\" in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC=\"$lt_cv_path_MAGIC\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n+\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n+\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC=\"$ac_save_MAGIC\"\n+  ;;\n+esac\n+fi\n+\n+MAGIC=\"$lt_cv_path_MAGIC\"\n+if test -n \"$MAGIC\"; then\n+  echo \"$ac_t\"\"$MAGIC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+if test -z \"$lt_cv_path_MAGIC\"; then\n+  if test -n \"$ac_tool_prefix\"; then\n+    echo $ac_n \"checking for file\"\"... $ac_c\" 1>&6\n+echo \"configure:1794: checking for file\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_path_MAGIC'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  case \"$MAGIC\" in\n+  /*)\n+  lt_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a path.\n+  ;;\n+  ?:/*)\n+  ac_cv_path_MAGIC=\"$MAGIC\" # Let the user override the test with a dos path.\n+  ;;\n+  *)\n+  ac_save_MAGIC=\"$MAGIC\"\n+  IFS=\"${IFS=   }\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"/usr/bin:$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/file; then\n+      lt_cv_path_MAGIC=\"$ac_dir/file\"\n+      if test -n \"$file_magic_test_file\"; then\n+\tcase \"$deplibs_check_method\" in\n+\t\"file_magic \"*)\n+\t  file_magic_regex=\"`expr \\\"$deplibs_check_method\\\" : \\\"file_magic \\(.*\\)\\\"`\"\n+\t  MAGIC=\"$lt_cv_path_MAGIC\"\n+\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n+\t    egrep \"$file_magic_regex\" > /dev/null; then\n+\t    :\n+\t  else\n+\t    cat <<EOF 1>&2\n+\n+*** Warning: the command libtool uses to detect shared libraries,\n+*** $file_magic_cmd, produces output that libtool cannot recognize.\n+*** The result is that libtool may fail to recognize shared libraries\n+*** as such.  This will affect the creation of libtool libraries that\n+*** depend on shared libraries, but programs linked with such libtool\n+*** libraries will work regardless of this problem.  Nevertheless, you\n+*** may want to report the problem to your system manager and/or to\n+*** bug-libtool@gnu.org\n+\n+EOF\n+\t  fi ;;\n+\tesac\n+      fi\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  MAGIC=\"$ac_save_MAGIC\"\n+  ;;\n+esac\n+fi\n+\n+MAGIC=\"$lt_cv_path_MAGIC\"\n+if test -n \"$MAGIC\"; then\n+  echo \"$ac_t\"\"$MAGIC\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+  else\n+    MAGIC=:\n+  fi\n+fi\n+\n+  fi\n+  ;;\n+esac\n+\n+# Extract the first word of \"${ac_tool_prefix}ranlib\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1865: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"${ac_tool_prefix}ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_RANLIB\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"ranlib\", so it can be a program name with args.\n+set dummy ranlib; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1897: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$RANLIB\"; then\n+  ac_cv_prog_RANLIB=\"$RANLIB\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_RANLIB=\"ranlib\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_RANLIB\" && ac_cv_prog_RANLIB=\":\"\n+fi\n+fi\n+RANLIB=\"$ac_cv_prog_RANLIB\"\n+if test -n \"$RANLIB\"; then\n+  echo \"$ac_t\"\"$RANLIB\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  RANLIB=\":\"\n+fi\n+fi\n+\n+# Extract the first word of \"${ac_tool_prefix}strip\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}strip; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1932: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_STRIP=\"${ac_tool_prefix}strip\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+STRIP=\"$ac_cv_prog_STRIP\"\n+if test -n \"$STRIP\"; then\n+  echo \"$ac_t\"\"$STRIP\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_STRIP\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"strip\", so it can be a program name with args.\n+set dummy strip; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:1964: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_STRIP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$STRIP\"; then\n+  ac_cv_prog_STRIP=\"$STRIP\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_STRIP=\"strip\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_STRIP\" && ac_cv_prog_STRIP=\":\"\n+fi\n+fi\n+STRIP=\"$ac_cv_prog_STRIP\"\n+if test -n \"$STRIP\"; then\n+  echo \"$ac_t\"\"$STRIP\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  STRIP=\":\"\n+fi\n+fi\n+\n+\n+# Check for any special flags to pass to ltconfig.\n+libtool_flags=\"--cache-file=$cache_file\"\n+test \"$enable_shared\" = no && libtool_flags=\"$libtool_flags --disable-shared\"\n+test \"$enable_static\" = no && libtool_flags=\"$libtool_flags --disable-static\"\n+test \"$enable_fast_install\" = no && libtool_flags=\"$libtool_flags --disable-fast-install\"\n+test \"$ac_cv_prog_gcc\" = yes && libtool_flags=\"$libtool_flags --with-gcc\"\n+test \"$ac_cv_prog_gnu_ld\" = yes && libtool_flags=\"$libtool_flags --with-gnu-ld\"\n+\n+libtool_flags=\"$libtool_flags --enable-win32-dll\"\n+# Check whether --enable-libtool-lock or --disable-libtool-lock was given.\n+if test \"${enable_libtool_lock+set}\" = set; then\n+  enableval=\"$enable_libtool_lock\"\n+  :\n+fi\n+\n+test \"x$enable_libtool_lock\" = xno && libtool_flags=\"$libtool_flags --disable-lock\"\n+test x\"$silent\" = xyes && libtool_flags=\"$libtool_flags --silent\"\n+\n+# Check whether --with-pic or --without-pic was given.\n+if test \"${with_pic+set}\" = set; then\n+  withval=\"$with_pic\"\n+  pic_mode=\"$withval\"\n+else\n+  pic_mode=default\n+fi\n+\n+test x\"$pic_mode\" = xyes && libtool_flags=\"$libtool_flags --prefer-pic\"\n+test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n+\n+# Some flags need to be propagated to the compiler or linker for good\n+# libtool support.\n+case \"$host\" in\n+*-*-irix6*)\n+  # Find out which ABI we are using.\n+  echo '#line 2031 \"configure\"' > conftest.$ac_ext\n+  if { (eval echo configure:2032: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+    case \"`/usr/bin/file conftest.o`\" in\n+    *32-bit*)\n+      LD=\"${LD-ld} -32\"\n+      ;;\n+    *N32*)\n+      LD=\"${LD-ld} -n32\"\n+      ;;\n+    *64-bit*)\n+      LD=\"${LD-ld} -64\"\n+      ;;\n+    esac\n+  fi\n+  rm -rf conftest*\n+  ;;\n+\n+*-*-sco3.2v5*)\n+  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n+  SAVE_CFLAGS=\"$CFLAGS\"\n+  CFLAGS=\"$CFLAGS -belf\"\n+  echo $ac_n \"checking whether the C compiler needs -belf\"\"... $ac_c\" 1>&6\n+echo \"configure:2053: checking whether the C compiler needs -belf\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_cc_needs_belf'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  \n+     ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+     cat > conftest.$ac_ext <<EOF\n+#line 2066 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2073: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_cc_needs_belf=no\n+fi\n+rm -f conftest*\n+     ac_ext=c\n+# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'\n+ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'\n+cross_compiling=$ac_cv_prog_cc_cross\n+\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_cc_needs_belf\" 1>&6\n+  if test x\"$lt_cv_cc_needs_belf\" != x\"yes\"; then\n+    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n+    CFLAGS=\"$SAVE_CFLAGS\"\n+  fi\n+  ;;\n+\n+*-*-cygwin* | *-*-mingw*)\n+  # Extract the first word of \"${ac_tool_prefix}dlltool\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2103: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"${ac_tool_prefix}dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_DLLTOOL\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"dlltool\", so it can be a program name with args.\n+set dummy dlltool; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2135: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$DLLTOOL\"; then\n+  ac_cv_prog_DLLTOOL=\"$DLLTOOL\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_DLLTOOL=\"dlltool\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_DLLTOOL\" && ac_cv_prog_DLLTOOL=\"false\"\n+fi\n+fi\n+DLLTOOL=\"$ac_cv_prog_DLLTOOL\"\n+if test -n \"$DLLTOOL\"; then\n+  echo \"$ac_t\"\"$DLLTOOL\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  DLLTOOL=\"false\"\n+fi\n+fi\n+\n+  # Extract the first word of \"${ac_tool_prefix}as\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2170: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"${ac_tool_prefix}as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_AS\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"as\", so it can be a program name with args.\n+set dummy as; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2202: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$AS\"; then\n+  ac_cv_prog_AS=\"$AS\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_AS=\"as\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_AS\" && ac_cv_prog_AS=\"false\"\n+fi\n+fi\n+AS=\"$ac_cv_prog_AS\"\n+if test -n \"$AS\"; then\n+  echo \"$ac_t\"\"$AS\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  AS=\"false\"\n+fi\n+fi\n+\n+  # Extract the first word of \"${ac_tool_prefix}objdump\", so it can be a program name with args.\n+set dummy ${ac_tool_prefix}objdump; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2237: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$OBJDUMP\"; then\n+  ac_cv_prog_OBJDUMP=\"$OBJDUMP\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_OBJDUMP=\"${ac_tool_prefix}objdump\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+fi\n+fi\n+OBJDUMP=\"$ac_cv_prog_OBJDUMP\"\n+if test -n \"$OBJDUMP\"; then\n+  echo \"$ac_t\"\"$OBJDUMP\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+\n+if test -z \"$ac_cv_prog_OBJDUMP\"; then\n+if test -n \"$ac_tool_prefix\"; then\n+  # Extract the first word of \"objdump\", so it can be a program name with args.\n+set dummy objdump; ac_word=$2\n+echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n+echo \"configure:2269: checking for $ac_word\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  if test -n \"$OBJDUMP\"; then\n+  ac_cv_prog_OBJDUMP=\"$OBJDUMP\" # Let the user override the test.\n+else\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\":\"\n+  ac_dummy=\"$PATH\"\n+  for ac_dir in $ac_dummy; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f $ac_dir/$ac_word; then\n+      ac_cv_prog_OBJDUMP=\"objdump\"\n+      break\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+  test -z \"$ac_cv_prog_OBJDUMP\" && ac_cv_prog_OBJDUMP=\"false\"\n+fi\n+fi\n+OBJDUMP=\"$ac_cv_prog_OBJDUMP\"\n+if test -n \"$OBJDUMP\"; then\n+  echo \"$ac_t\"\"$OBJDUMP\" 1>&6\n+else\n+  echo \"$ac_t\"\"no\" 1>&6\n+fi\n+\n+else\n+  OBJDUMP=\"false\"\n+fi\n+fi\n+\n+\n+  # recent cygwin and mingw systems supply a stub DllMain which the user\n+  # can override, but on older systems we have to supply one\n+  echo $ac_n \"checking if libtool should supply DllMain function\"\"... $ac_c\" 1>&6\n+echo \"configure:2305: checking if libtool should supply DllMain function\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_need_dllmain'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2310 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+extern int __attribute__((__stdcall__)) DllMain(void*, int, void*);\n+      DllMain (0, 0, 0);\n+; return 0; }\n+EOF\n+if { (eval echo configure:2318: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_need_dllmain=no\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_need_dllmain=yes\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_need_dllmain\" 1>&6\n+\n+  case \"$host/$CC\" in\n+  *-*-cygwin*/gcc*-mno-cygwin*|*-*-mingw*)\n+    # old mingw systems require \"-dll\" to link a DLL, while more recent ones\n+    # require \"-mdll\"\n+    SAVE_CFLAGS=\"$CFLAGS\"\n+    CFLAGS=\"$CFLAGS -mdll\"\n+    echo $ac_n \"checking how to link DLLs\"\"... $ac_c\" 1>&6\n+echo \"configure:2339: checking how to link DLLs\" >&5\n+if eval \"test \\\"`echo '$''{'lt_cv_cc_dll_switch'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 2344 \"configure\"\n+#include \"confdefs.h\"\n+\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:2351: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  lt_cv_cc_dll_switch=-mdll\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  lt_cv_cc_dll_switch=-dll\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$lt_cv_cc_dll_switch\" 1>&6\n+    CFLAGS=\"$SAVE_CFLAGS\" ;;\n+  *-*-cygwin*)\n+    # cygwin systems need to pass --dll to the linker, and not link\n+    # crt.o which will require a WinMain@16 definition.\n+    lt_cv_cc_dll_switch=\"-Wl,--dll -nostartfiles\" ;;\n+  esac\n+  ;;\n+  \n+esac\n+\n+\n+# Save cache, so that ltconfig can load it\n+cat > confcache <<\\EOF\n+# This file is a shell script that caches the results of configure\n+# tests run on this system so they can be shared between configure\n+# scripts and configure runs.  It is not useful on other systems.\n+# If it contains results you don't want to keep, you may remove or edit it.\n+#\n+# By default, configure uses ./config.cache as the cache file,\n+# creating it if it does not exist already.  You can give configure\n+# the --cache-file=FILE option to use a different cache file; that is\n+# what configure does when it calls configure scripts in\n+# subdirectories, so they share the cache.\n+# Giving --cache-file=/dev/null disables caching, for debugging configure.\n+# config.status only pays attention to the cache file if you give it the\n+# --recheck option to rerun configure.\n+#\n+EOF\n+# The following way of writing the cache mishandles newlines in values,\n+# but we know of no workaround that is simple, portable, and efficient.\n+# So, don't put newlines in cache variables' values.\n+# Ultrix sh set writes to stderr and can't be redirected directly,\n+# and sets the high bit in the cache file unless we assign to the vars.\n+(set) 2>&1 |\n+  case `(ac_space=' '; set | grep ac_space) 2>&1` in\n+  *ac_space=\\ *)\n+    # `set' does not quote correctly, so add quotes (double-quote substitution\n+    # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n+    sed -n \\\n+      -e \"s/'/'\\\\\\\\''/g\" \\\n+      -e \"s/^\\\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\\\)=\\\\(.*\\\\)/\\\\1=\\${\\\\1='\\\\2'}/p\"\n+    ;;\n+  *)\n+    # `set' quotes correctly as required by POSIX, so do not add quotes.\n+    sed -n -e 's/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=${\\1=\\2}/p'\n+    ;;\n+  esac >> confcache\n+if cmp -s $cache_file confcache; then\n+  :\n+else\n+  if test -w $cache_file; then\n+    echo \"updating cache $cache_file\"\n+    cat confcache > $cache_file\n+  else\n+    echo \"not updating unwritable cache $cache_file\"\n+  fi\n+fi\n+rm -f confcache\n+\n+\n+# Actually configure libtool.  ac_aux_dir is where install-sh is found.\n+AR=\"$AR\" LTCC=\"$CC\" CC=\"$CC\" CFLAGS=\"$CFLAGS\" CPPFLAGS=\"$CPPFLAGS\" \\\n+MAGIC=\"$MAGIC\" LD=\"$LD\" LDFLAGS=\"$LDFLAGS\" LIBS=\"$LIBS\" \\\n+LN_S=\"$LN_S\" NM=\"$NM\" RANLIB=\"$RANLIB\" STRIP=\"$STRIP\" \\\n+AS=\"$AS\" DLLTOOL=\"$DLLTOOL\" OBJDUMP=\"$OBJDUMP\" \\\n+objext=\"$OBJEXT\" exeext=\"$EXEEXT\" reload_flag=\"$reload_flag\" \\\n+deplibs_check_method=\"$deplibs_check_method\" file_magic_cmd=\"$file_magic_cmd\" \\\n+${CONFIG_SHELL-/bin/sh} $ac_aux_dir/ltconfig --no-reexec \\\n+$libtool_flags --no-verify --build=\"$build\" $ac_aux_dir/ltmain.sh $host \\\n+|| { echo \"configure: error: libtool configure failed\" 1>&2; exit 1; }\n+\n+# Reload cache, that may have been modified by ltconfig\n+if test -r \"$cache_file\"; then\n+  echo \"loading cache $cache_file\"\n+  . $cache_file\n+else\n+  echo \"creating cache $cache_file\"\n+  > $cache_file\n+fi\n+\n+\n+# This can be used to rebuild libtool when needed\n+LIBTOOL_DEPS=\"$ac_aux_dir/ltconfig $ac_aux_dir/ltmain.sh $ac_aux_dir/ltcf-c.sh\"\n+\n+# Always use our own libtool.\n+LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n+\n+# Redirect the config.log output again, so that the ltconfig log is not\n+# clobbered by the next message.\n+exec 5>>./config.log\n+\n+\n+  \n+\n+  \n+\t \n+\n # Check whether --enable-objc-gc or --disable-objc-gc was given.\n if test \"${enable_objc_gc+set}\" = set; then\n   enableval=\"$enable_objc_gc\"\n   if [ x$enable_objc_gc = xno ]; then\n         OBJC_BOEHM_GC=''\n else\n-        OBJC_BOEHM_GC=libobjc_gc.a\n+        OBJC_BOEHM_GC=libobjc_gc.la\n fi\n else\n   OBJC_BOEHM_GC=''\n@@ -1328,6 +2626,24 @@ s%@INSTALL_SCRIPT@%$INSTALL_SCRIPT%g\n s%@INSTALL_DATA@%$INSTALL_DATA%g\n s%@CPP@%$CPP%g\n s%@GTHREAD_FLAGS@%$GTHREAD_FLAGS%g\n+s%@host@%$host%g\n+s%@host_alias@%$host_alias%g\n+s%@host_cpu@%$host_cpu%g\n+s%@host_vendor@%$host_vendor%g\n+s%@host_os@%$host_os%g\n+s%@build@%$build%g\n+s%@build_alias@%$build_alias%g\n+s%@build_cpu@%$build_cpu%g\n+s%@build_vendor@%$build_vendor%g\n+s%@build_os@%$build_os%g\n+s%@LN_S@%$LN_S%g\n+s%@OBJEXT@%$OBJEXT%g\n+s%@EXEEXT@%$EXEEXT%g\n+s%@STRIP@%$STRIP%g\n+s%@DLLTOOL@%$DLLTOOL%g\n+s%@AS@%$AS%g\n+s%@OBJDUMP@%$OBJDUMP%g\n+s%@LIBTOOL@%$LIBTOOL%g\n s%@OBJC_BOEHM_GC@%$OBJC_BOEHM_GC%g\n \n CEOF"}, {"sha": "3fb507d6fcf821d33476cfeea3b423eb9f756619", "filename": "libobjc/configure.in", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c161c99b4362f35c5b6b763d84ff829a7ea1e3a6/libobjc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.in?ref=c161c99b4362f35c5b6b763d84ff829a7ea1e3a6", "patch": "@@ -103,13 +103,20 @@ fi])\n GTHREAD_FLAGS=$objc_cv_gthread_flags\n AC_SUBST(GTHREAD_FLAGS)\n \n+# Disable shared libs by default\n+AC_DISABLE_SHARED\n+# Enable Win32 DLL on MS Windows - FIXME \n+AC_LIBTOOL_WIN32_DLL \n+# Use libtool\n+AC_PROG_LIBTOOL\n+\n AC_ARG_ENABLE(objc-gc,\n [  --enable-objc-gc       enable the use of Boehm's garbage collector with\n                           the GNU Objective-C runtime.],\n if [[[ x$enable_objc_gc = xno ]]]; then\n         OBJC_BOEHM_GC=''\n else\n-        OBJC_BOEHM_GC=libobjc_gc.a\n+        OBJC_BOEHM_GC=libobjc_gc.la\n fi,\n OBJC_BOEHM_GC='')\n AC_SUBST(OBJC_BOEHM_GC)"}]}