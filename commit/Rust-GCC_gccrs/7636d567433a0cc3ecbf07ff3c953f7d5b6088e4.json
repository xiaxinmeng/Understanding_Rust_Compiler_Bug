{"sha": "7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYzNmQ1Njc0MzNhMGNjM2VjYmYwN2ZmM2M5NTNmN2Q1YjYwODhlNA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1997-11-05T00:30:37Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-11-05T00:30:37Z"}, "message": "Fix irix5 build problem resulting from FSF merge.\n\n\t* acconfig.h (HAVE_INTTYPES_H): Undef.\n\t* configure.in (inttypes.h): Check for conflicts between sys/types.h\n\tand inttypes.h, and verify that intmax_t is defined.\n\t* config/mips/x-iris (CC, OPT, OLDCC): Comment out.\n\t* config/mips/x-iris3: Likewise.\n\nFrom-SVN: r16325", "tree": {"sha": "ad4fef880daea602ecd3395632672d3818586a7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad4fef880daea602ecd3395632672d3818586a7d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/comments", "author": null, "committer": null, "parents": [{"sha": "52be7f110c09407aab78a15d36f8f11e101699c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52be7f110c09407aab78a15d36f8f11e101699c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52be7f110c09407aab78a15d36f8f11e101699c5"}], "stats": {"total": 206, "additions": 133, "deletions": 73}, "files": [{"sha": "3a1c4d7cbf7f395c7f1a24cf098400697d59de87", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -1,3 +1,11 @@\n+Tue Nov  4 12:30:28 1997  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* acconfig.h (HAVE_INTTYPES_H): Undef.\n+\t* configure.in (inttypes.h): Check for conflicts between sys/types.h\n+\tand inttypes.h, and verify that intmax_t is defined.\n+\t* config/mips/x-iris (CC, OPT, OLDCC): Comment out.\n+\t* config/mips/x-iris3: Likewise.\n+\n Tue Nov  4 16:07:15 1997  Jeffrey A Law  (law@cygnus.com)\n \n \t* alias.c (find_base_value): When copying arguments, return the"}, {"sha": "bd2acd908948c488d2aa1a54bf4caaad99c4652c", "filename": "gcc/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -1,3 +1,6 @@\n+/* Define if you have a working <inttypes.h> header file.  */\n+#undef HAVE_INTTYPES_H\n+\n /* Whether malloc must be declared even if <stdlib.h> is included.  */\n #undef NEED_DECLARATION_MALLOC\n "}, {"sha": "1244b76114ed1e614e8f646885626fef76a7564d", "filename": "gcc/config.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -1,4 +1,7 @@\n /* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* Define if you have a working <inttypes.h> header file.  */\n+#undef HAVE_INTTYPES_H\n+\n /* Whether malloc must be declared even if <stdlib.h> is included.  */\n #undef NEED_DECLARATION_MALLOC\n \n@@ -23,9 +26,6 @@\n /* Define if you have the strtoul function.  */\n #undef HAVE_STRTOUL\n \n-/* Define if you have the <inttypes.h> header file.  */\n-#undef HAVE_INTTYPES_H\n-\n /* Define if you have the <limits.h> header file.  */\n #undef HAVE_LIMITS_H\n "}, {"sha": "0f04f099f160287a76c602796d5a72f6bbcfceae", "filename": "gcc/config/mips/x-iris", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig%2Fmips%2Fx-iris", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig%2Fmips%2Fx-iris", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-iris?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -9,9 +9,11 @@\n # can use -O2.  Down with fixed size tables!\n # The -cckr is to turn off strict ANSI checking.\n \n-CC\t\t= $(OLDCC)\n-OPT\t\t= -O1\n-OLDCC\t\t= cc -Wf,-XNh2000,-XNg1500 -Olimit 3000 -cckr $(OPT)\n+# These definitions are commented out because they cause trouble with\n+# autoconf.  It is believed that they aren't needed anymore.\n+#CC\t\t= $(OLDCC)\n+#OPT\t\t= -O1\n+#OLDCC\t\t= cc -Wf,-XNh2000,-XNg1500 -Olimit 3000 -cckr $(OPT)\n \n # The bison output files are machine-indep,\n # so different flags for a particular machine are not useful."}, {"sha": "2743ab743d93bb5fd1dd9ddfcda521c3b2febe7f", "filename": "gcc/config/mips/x-iris3", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig%2Fmips%2Fx-iris3", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfig%2Fmips%2Fx-iris3", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-iris3?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -12,9 +12,11 @@\n # the -cckr option, so, lets try without it for all versions of Irix 3.x.\n # The -cckr is to turn off strict ANSI checking.\n \n-CC\t\t= $(OLDCC)\n-OPT\t\t= -O1\n-OLDCC\t\t= cc -Wf,-XNh2000,-XNg1500 -Olimit 3000 $(OPT)\n+# These definitions are commented out because they cause trouble with\n+# autoconf.  It is believed that they aren't needed anymore.\n+#CC\t\t= $(OLDCC)\n+#OPT\t\t= -O1\n+#OLDCC\t\t= cc -Wf,-XNh2000,-XNg1500 -Olimit 3000 $(OPT)\n \n # The bison output files are machine-indep,\n # so different flags for a particular machine are not useful."}, {"sha": "f28b7603bb504ccb89d71beec0767f1b6ce6d076", "filename": "gcc/configure", "status": "modified", "additions": 95, "deletions": 63, "changes": 158, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -67,7 +67,6 @@ mandir='${prefix}/man'\n # Initialize some other variables.\n subdirs=\n MFLAGS= MAKEFLAGS=\n-SHELL=${CONFIG_SHELL-/bin/sh}\n # Maximum number of lines to put in a shell here document.\n ac_max_here_lines=12\n \n@@ -709,7 +708,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:713: checking host system type\" >&5\n+echo \"configure:712: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -730,7 +729,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:734: checking target system type\" >&5\n+echo \"configure:733: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -748,7 +747,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:752: checking build system type\" >&5\n+echo \"configure:751: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -775,7 +774,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:779: checking for $ac_word\" >&5\n+echo \"configure:778: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -804,7 +803,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:808: checking for $ac_word\" >&5\n+echo \"configure:807: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -852,7 +851,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:856: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:855: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -862,11 +861,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 866 \"configure\"\n+#line 865 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:870: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:869: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -886,12 +885,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:890: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:889: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:895: checking whether we are using GNU C\" >&5\n+echo \"configure:894: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -900,7 +899,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:904: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:903: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -915,7 +914,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:919: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:918: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -943,7 +942,7 @@ else\n fi\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:947: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:946: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -976,7 +975,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:980: checking for $ac_word\" >&5\n+echo \"configure:979: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1007,7 +1006,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1011: checking for $ac_word\" >&5\n+echo \"configure:1010: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1040,15 +1039,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1044: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1043: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1052 \"configure\"\n+#line 1051 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1059,7 +1058,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1063: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1062: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1082,7 +1081,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1086: checking whether ln works\" >&5\n+echo \"configure:1085: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1114,7 +1113,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1118: checking whether ln -s works\" >&5\n+echo \"configure:1117: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1148,7 +1147,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1152: checking for $ac_word\" >&5\n+echo \"configure:1151: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1179,7 +1178,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1183: checking for $ac_word\" >&5\n+echo \"configure:1182: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1219,7 +1218,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1223: checking for a BSD compatible install\" >&5\n+echo \"configure:1222: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1273,7 +1272,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1277: checking for $ac_word\" >&5\n+echo \"configure:1276: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1302,7 +1301,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1306: checking for $ac_word\" >&5\n+echo \"configure:1305: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1350,7 +1349,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1354: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1353: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1360,11 +1359,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1364 \"configure\"\n+#line 1363 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1368: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1367: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1384,12 +1383,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1388: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1387: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1393: checking whether we are using GNU C\" >&5\n+echo \"configure:1392: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1398,7 +1397,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1402: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1401: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1413,7 +1412,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1417: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1416: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1441,7 +1440,7 @@ else\n fi\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1445: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1444: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1469,7 +1468,7 @@ fi\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1473: checking how to run the C preprocessor\" >&5\n+echo \"configure:1472: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1484,13 +1483,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1488 \"configure\"\n+#line 1487 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1494: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1493: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1501,13 +1500,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1505 \"configure\"\n+#line 1504 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1511: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1510: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1529,21 +1528,21 @@ else\n fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n-for ac_hdr in inttypes.h limits.h stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h\n+for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1537: checking for $ac_hdr\" >&5\n+echo \"configure:1536: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1542 \"configure\"\n+#line 1541 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1547: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1546: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1570,13 +1569,47 @@ fi\n done\n \n \n+# Use <inttypes.h> only if it exists,\n+# doesn't clash with <sys/types.h>, and declares intmax_t.\n+echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n+echo \"configure:1576: checking for inttypes.h\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 1581 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/types.h>\n+#include <inttypes.h>\n+int main() {\n+intmax_t i = -1;\n+; return 0; }\n+EOF\n+if { (eval echo configure:1589: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  cat >> confdefs.h <<EOF\n+#define HAVE_INTTYPES_H 1\n+EOF\n+\n+   gcc_cv_header_inttypes_h=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_header_inttypes_h=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_header_inttypes_h\" 1>&6\n+\n echo $ac_n \"checking whether malloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1575: checking whether malloc must be declared\" >&5\n+echo \"configure:1608: checking whether malloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1580 \"configure\"\n+#line 1613 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1597,7 +1630,7 @@ int main() {\n char *(*pfn) = (char *(*)) malloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1601: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1634: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_malloc=no\n else\n@@ -1619,12 +1652,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether realloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1623: checking whether realloc must be declared\" >&5\n+echo \"configure:1656: checking whether realloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1628 \"configure\"\n+#line 1661 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1645,7 +1678,7 @@ int main() {\n char *(*pfn) = (char *(*)) realloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1649: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1682: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_realloc=no\n else\n@@ -1667,12 +1700,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether calloc must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1671: checking whether calloc must be declared\" >&5\n+echo \"configure:1704: checking whether calloc must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1676 \"configure\"\n+#line 1709 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1693,7 +1726,7 @@ int main() {\n char *(*pfn) = (char *(*)) calloc\n ; return 0; }\n EOF\n-if { (eval echo configure:1697: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1730: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_calloc=no\n else\n@@ -1715,12 +1748,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether free must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:1719: checking whether free must be declared\" >&5\n+echo \"configure:1752: checking whether free must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1724 \"configure\"\n+#line 1757 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -1741,7 +1774,7 @@ int main() {\n char *(*pfn) = (char *(*)) free\n ; return 0; }\n EOF\n-if { (eval echo configure:1745: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1778: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_decl_needed_free=no\n else\n@@ -1764,12 +1797,12 @@ fi\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1768: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:1801: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1773 \"configure\"\n+#line 1806 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -1781,7 +1814,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1785: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1818: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -1805,12 +1838,12 @@ fi\n for ac_func in strerror strtoul bsearch\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1809: checking for $ac_func\" >&5\n+echo \"configure:1842: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1814 \"configure\"\n+#line 1847 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1833,7 +1866,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1837: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1870: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4901,7 +4934,7 @@ EOF\n # Ultrix sh set writes to stderr and can't be redirected directly,\n # and sets the high bit in the cache file unless we assign to the vars.\n (set) 2>&1 |\n-  case `(ac_space=' '; set) 2>&1 | grep ac_space` in\n+  case `(ac_space=' '; set) 2>&1` in\n   *ac_space=\\ *)\n     # `set' does not quote correctly, so add quotes (double-quote substitution\n     # turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\).\n@@ -4987,7 +5020,6 @@ sed 's/%@/@@/; s/@%/@@/; s/%g\\$/@g/; /@g\\$/s/[\\\\\\\\&%]/\\\\\\\\&/g;\n  s/@@/%@/; s/@@/@%/; s/@g\\$/%g/' > conftest.subs <<\\\\CEOF\n $ac_vpsub\n $extrasub\n-s%@SHELL@%$SHELL%g\n s%@CFLAGS@%$CFLAGS%g\n s%@CPPFLAGS@%$CPPFLAGS%g\n s%@CXXFLAGS@%$CXXFLAGS%g"}, {"sha": "143b005e7f49039aa44b1adfad5d0de1b2c5a709", "filename": "gcc/configure.in", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7636d567433a0cc3ecbf07ff3c953f7d5b6088e4/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=7636d567433a0cc3ecbf07ff3c953f7d5b6088e4", "patch": "@@ -137,7 +137,20 @@ EGCS_PROG_INSTALL\n AC_PROG_CC\n AC_PROG_MAKE_SET\n \n-AC_CHECK_HEADERS(inttypes.h limits.h stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h)\n+AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h)\n+\n+# Use <inttypes.h> only if it exists,\n+# doesn't clash with <sys/types.h>, and declares intmax_t.\n+AC_MSG_CHECKING(for inttypes.h)\n+AC_CACHE_VAL(gcc_cv_header_inttypes_h,\n+[AC_TRY_COMPILE(\n+  [#include <sys/types.h>\n+#include <inttypes.h>],\n+  [intmax_t i = -1;],\n+  [AC_DEFINE_UNQUOTED(HAVE_INTTYPES_H)\n+   gcc_cv_header_inttypes_h=yes],\n+  gcc_cv_header_inttypes_h=no)])\n+AC_MSG_RESULT($gcc_cv_header_inttypes_h)\n \n GCC_NEED_DECLARATION(malloc)\n GCC_NEED_DECLARATION(realloc)"}]}