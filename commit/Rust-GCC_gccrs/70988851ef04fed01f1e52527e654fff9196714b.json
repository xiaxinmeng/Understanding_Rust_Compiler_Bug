{"sha": "70988851ef04fed01f1e52527e654fff9196714b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA5ODg4NTFlZjA0ZmVkMDFmMWU1MjUyN2U2NTRmZmY5MTk2NzE0Yg==", "commit": {"author": {"name": "Fred Fish", "email": "fnf@ninemoons.com", "date": "1997-09-12T00:39:10Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1997-09-12T00:39:10Z"}, "message": "Patches from Fred Fish for systems with sys/varargs.h but not varargs.h.\n\n\t* protoize.c: Include <varargs.h> only if HAVE_VARARGS_H is\n\tdefined.  If not defined, include <sys/varargs.h> if\n\tHAVE_SYS_VARARGS_H is defined.\n\t* configure.in: Test for varargs.h and sys/varargs.h.\n\t* configure: Regenerate with autoconf.\n\t* config.in: Regenerate with autoheader.\n\nFrom-SVN: r15420", "tree": {"sha": "9967e62cae8c7aa4d2496aab83dab8ebbff68935", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9967e62cae8c7aa4d2496aab83dab8ebbff68935"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/70988851ef04fed01f1e52527e654fff9196714b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70988851ef04fed01f1e52527e654fff9196714b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70988851ef04fed01f1e52527e654fff9196714b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70988851ef04fed01f1e52527e654fff9196714b/comments", "author": null, "committer": null, "parents": [{"sha": "f401679ee13670ae1201150c0ac1ff22b7b64f0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f401679ee13670ae1201150c0ac1ff22b7b64f0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f401679ee13670ae1201150c0ac1ff22b7b64f0a"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "4ad04cec69cd7d398cd10fdff448a689ac41d2b3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70988851ef04fed01f1e52527e654fff9196714b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70988851ef04fed01f1e52527e654fff9196714b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=70988851ef04fed01f1e52527e654fff9196714b", "patch": "@@ -1,5 +1,12 @@\n Thu Sep 11 15:48:32 1997  Fred Fish  <fnf@ninemoons.com>\n \n+\t* protoize.c: Include <varargs.h> only if HAVE_VARARGS_H is\n+\tdefined.  If not defined, include <sys/varargs.h> if\n+\tHAVE_SYS_VARARGS_H is defined.\n+\t* configure.in: Test for varargs.h and sys/varargs.h.\n+\t* configure: Regenerate with autoconf.\n+\t* config.in: Regenerate with autoheader.\n+\n \t* cpplib.c (quote_string): Cast first arg of sprintf call\n \tfrom \"unsigned char *\" to \"char *\".\n \t(output_line_command): Ditto."}, {"sha": "8f7b1f25f498fe07445db25b96731347005b18fd", "filename": "gcc/config.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=70988851ef04fed01f1e52527e654fff9196714b", "patch": "@@ -34,8 +34,14 @@\n /* Define if you have the <strings.h> header file.  */\n #undef HAVE_STRINGS_H\n \n+/* Define if you have the <sys/varargs.h> header file.  */\n+#undef HAVE_SYS_VARARGS_H\n+\n /* Define if you have the <time.h> header file.  */\n #undef HAVE_TIME_H\n \n /* Define if you have the <unistd.h> header file.  */\n #undef HAVE_UNISTD_H\n+\n+/* Define if you have the <varargs.h> header file.  */\n+#undef HAVE_VARARGS_H"}, {"sha": "af5e0c8429c4dab50bd3b1e8836e785a76832a94", "filename": "gcc/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=70988851ef04fed01f1e52527e654fff9196714b", "patch": "@@ -1330,7 +1330,7 @@ else\n fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n-for ac_hdr in stddef.h string.h strings.h stdlib.h time.h unistd.h\n+for ac_hdr in stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6"}, {"sha": "f0a4c7f8ad58debc2927832819f1a39a7c965a6d", "filename": "gcc/configure.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=70988851ef04fed01f1e52527e654fff9196714b", "patch": "@@ -134,7 +134,7 @@ AC_PROG_INSTALL\n AC_PROG_CC\n AC_PROG_MAKE_SET\n \n-AC_CHECK_HEADERS(stddef.h string.h strings.h stdlib.h time.h unistd.h)\n+AC_CHECK_HEADERS(stddef.h string.h strings.h stdlib.h time.h unistd.h varargs.h sys/varargs.h)\n \n GCC_NEED_DECLARATION(malloc)\n GCC_NEED_DECLARATION(realloc)"}, {"sha": "3b50836774abc2f9748da0ae2e1d1a2bb3a74391", "filename": "gcc/protoize.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fprotoize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/70988851ef04fed01f1e52527e654fff9196714b/gcc%2Fprotoize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprotoize.c?ref=70988851ef04fed01f1e52527e654fff9196714b", "patch": "@@ -57,7 +57,14 @@ Boston, MA 02111-1307, USA.  */\n #define _POSIX_SOURCE\n #endif\n \n+#ifdef HAVE_VARARGS_H\n #include <varargs.h>\n+#else\n+#ifdef HAVE_SYS_VARARGS_H\n+#include <sys/varargs.h>\n+#endif\n+#endif\n+\n /* On some systems stdio.h includes stdarg.h;\n    we must bring in varargs.h first.  */\n #include <stdio.h>"}]}