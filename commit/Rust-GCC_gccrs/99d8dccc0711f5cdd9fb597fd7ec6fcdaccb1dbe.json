{"sha": "99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTlkOGRjY2MwNzExZjVjZGQ5ZmI1OTdmZDdlYzZmY2RhY2NiMWRiZQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-05-16T01:11:20Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-05-16T01:11:20Z"}, "message": "sol2.h (CPLUSPLUS_CPP_SPEC): Define.\n\n\t* config/sparc/sol2.h (CPLUSPLUS_CPP_SPEC): Define.\n\n\t* porting.texi: Correct documentation about handling\n\t_LARRGEFILE_SOURCE and its ilk.\n\t* config/os/solaris/solaris2.5/bits/os_defines.h: Remove\n\tdefinitions of _XOPEN_SOURCE, _LARGEFILE64_SOURCE, and\n\t__EXTENSIONS__.\n\t* config/os/solaris/solaris2.6/bits/os_defines.h: Likewise.\n\t* config/os/solaris/solaris2.7/bits/os_defines.h: Likewise.\n\nFrom-SVN: r42125", "tree": {"sha": "179dcecdc263001426ecd71f51203108ee9c4883", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/179dcecdc263001426ecd71f51203108ee9c4883"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/comments", "author": null, "committer": null, "parents": [{"sha": "6f4226f843dbf259ca7b49c839252b76f38f754f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f4226f843dbf259ca7b49c839252b76f38f754f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f4226f843dbf259ca7b49c839252b76f38f754f"}], "stats": {"total": 77, "additions": 50, "deletions": 27}, "files": [{"sha": "e1b1c6ab3d8399d4c12b30b11d0437301f7ca14c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -1,3 +1,7 @@\n+2001-05-15  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* config/sparc/sol2.h (CPLUSPLUS_CPP_SPEC): Define.\n+\n 2001-05-15  Geoffrey Keating  <geoffk@redhat.com>\n \n \t* objc/objc-act.c (handle_class_ref): Use rest_of_decl_compilation"}, {"sha": "bf0466d0499b9d0c36d8651addf9363193e9719f", "filename": "gcc/config/sparc/sol2.h", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/gcc%2Fconfig%2Fsparc%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/gcc%2Fconfig%2Fsparc%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2.h?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -35,6 +35,28 @@ Boston, MA 02111-1307, USA.  */\n %{compat-bsd:-iwithprefixbefore ucbinclude -I/usr/ucbinclude} \\\n \"\n \n+/* For C++ we need to add some additional macro definitions required\n+   by the C++ standard library.  */\n+#define CPLUSPLUS_CPP_SPEC \"\\\n+-D_XOPEN_SOURCE=500 -D_LARGEFILE_SOURCE=1 -D_LARGEFILE64_SOURCE=1 \\\n+-D__EXTENSIONS__ \\\n+%{mcypress:} \\\n+%{msparclite:-D__sparclite__} \\\n+%{mf930:-D__sparclite__} %{mf934:-D__sparclite__} \\\n+%{mv8:-D__sparc_v8__} \\\n+%{msupersparc:-D__supersparc__ -D__sparc_v8__} \\\n+%{mcpu=sparclet:-D__sparclet__} %{mcpu=tsc701:-D__sparclet__} \\\n+%{mcpu=sparclite:-D__sparclite__} \\\n+%{mcpu=f930:-D__sparclite__} %{mcpu=f934:-D__sparclite__} \\\n+%{mcpu=v8:-D__sparc_v8__} \\\n+%{mcpu=supersparc:-D__supersparc__ -D__sparc_v8__} \\\n+%{mcpu=hypersparc:-D__hypersparc__ -D__sparc_v8__} \\\n+%{mcpu=sparclite86x:-D__sparclite86x__} \\\n+%{mcpu=v9:-D__sparc_v9__} \\\n+%{mcpu=ultrasparc:-D__sparc_v9__} \\\n+%{!mcpu*:%{!mcypress:%{!msparclite:%{!mf930:%{!mf934:%{!mv8:%{!msupersparc:%(cpp_cpu_default)}}}}}}} \\\n+\"\n+\n /* The sun bundled assembler doesn't accept -Yd, (and neither does gas).\n    It's safe to pass -s always, even if -g is not used. */\n #undef ASM_SPEC"}, {"sha": "c427746f6485e9d050d5782aa3c0b1b2390bbcc1", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -1,3 +1,13 @@\n+2001-05-15  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* porting.texi: Correct documentation about handling\n+\t_LARRGEFILE_SOURCE and its ilk.\n+\t* config/os/solaris/solaris2.5/bits/os_defines.h: Remove\n+\tdefinitions of _XOPEN_SOURCE, _LARGEFILE64_SOURCE, and \n+\t__EXTENSIONS__.\n+\t* config/os/solaris/solaris2.6/bits/os_defines.h: Likewise.\n+\t* config/os/solaris/solaris2.7/bits/os_defines.h: Likewise.\n+\n 2001-05-15  Zack Weinberg  <zackw@stanford.edu>\n \t\n         * testsuite/21_strings/inserters_extractors.cc,"}, {"sha": "4dd1fa21c4655872d7658a8a49adda379b88dead", "filename": "libstdc++-v3/config/os/solaris/solaris2.5/bits/os_defines.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.5%2Fbits%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.5%2Fbits%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.5%2Fbits%2Fos_defines.h?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -31,11 +31,6 @@\n #ifndef _GLIBCPP_OS_DEFINES\n #  define _GLIBCPP_OS_DEFINES\n \n-// Need these to get sane definitions, esp. of 64-bit types and typedefs.\n-#define _XOPEN_SOURCE        500\n-#define _LARGEFILE64_SOURCE  1\n-#define __EXTENSIONS__\n-\n /* System-specific #define, typedefs, corrections, etc, go here.  This\n    file will come before all others. */\n // These are typedefs which libio assumes are already in place (because"}, {"sha": "4dd1fa21c4655872d7658a8a49adda379b88dead", "filename": "libstdc++-v3/config/os/solaris/solaris2.6/bits/os_defines.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.6%2Fbits%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.6%2Fbits%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.6%2Fbits%2Fos_defines.h?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -31,11 +31,6 @@\n #ifndef _GLIBCPP_OS_DEFINES\n #  define _GLIBCPP_OS_DEFINES\n \n-// Need these to get sane definitions, esp. of 64-bit types and typedefs.\n-#define _XOPEN_SOURCE        500\n-#define _LARGEFILE64_SOURCE  1\n-#define __EXTENSIONS__\n-\n /* System-specific #define, typedefs, corrections, etc, go here.  This\n    file will come before all others. */\n // These are typedefs which libio assumes are already in place (because"}, {"sha": "cb0afed3259a6305a5fa531d4fe654e4978d8210", "filename": "libstdc++-v3/config/os/solaris/solaris2.7/bits/os_defines.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.7%2Fbits%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.7%2Fbits%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fsolaris%2Fsolaris2.7%2Fbits%2Fos_defines.h?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -31,12 +31,6 @@\n #ifndef _GLIBCPP_OS_DEFINES\n #  define _GLIBCPP_OS_DEFINES\n \n-// Need these to get sane definitions, esp. of 64-bit types and typedefs.\n-#define _XOPEN_SOURCE        500\n-#define _LARGEFILE_SOURCE    1\n-#define _LARGEFILE64_SOURCE  1\n-#define __EXTENSIONS__\n-\n // These are typedefs which libio assumes are already in place (because\n // they really are, under Linux).\n #define __off_t     off_t"}, {"sha": "1315de3bbe52b2ca1a5a5d37967e2c6ee84cc445", "filename": "libstdc++-v3/porting.texi", "status": "modified", "additions": 14, "deletions": 11, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fporting.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe/libstdc%2B%2B-v3%2Fporting.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fporting.texi?ref=99d8dccc0711f5cdd9fb597fd7ec6fcdaccb1dbe", "patch": "@@ -126,17 +126,20 @@ provide these macros.  Note that this file does not have to include a\n header file that defines @code{off_t}, or the other types; you simply\n have to provide the macros.\n \n-In addition, several libstdc++-v3 source files unconditionally define the macro\n-@code{_POSIX_SOURCE}.  On many systems, defining this macro causes large\n-portions of the C library header files to be eliminated at preprocessing\n-time.  Therefore, you may have to @code{#undef} this macro, or define\n-other macros (like @code{_LARGEFILE_SOURCE} or @code{__EXTENSIONS__}).\n-You won't know what macros to define or undefine at this point; you'll\n-have to try compiling the library and seeing what goes wrong.  If you\n-see errors about calling functions that have not been declared, look in\n-your C library headers to see if the functions are declared there, and\n-then figure out what macros you should but in @file{bits/os_defines.h}\n-to make these declarations available.\n+In addition, several libstdc++-v3 source files unconditionally define\n+the macro @code{_POSIX_SOURCE}.  On many systems, defining this macro\n+causes large portions of the C library header files to be eliminated\n+at preprocessing time.  Therefore, you may have to @code{#undef} this\n+macro, or define other macros (like @code{_LARGEFILE_SOURCE} or\n+@code{__EXTENSIONS__}).  You won't know what macros to define or\n+undefine at this point; you'll have to try compiling the library and\n+seeing what goes wrong.  If you see errors about calling functions\n+that have not been declared, look in your C library headers to see if\n+the functions are declared there, and then figure out what macros you\n+need to define.  You will need to add them to the\n+@code{CPLUSPLUS_CPP_SPEC} macro in the GCC configuration file for your\n+target.  It will not work to simply define these macros in\n+@file{os_defines.h}.\n \n Finally, you should bracket the entire file in an include-guard, like\n this:"}]}