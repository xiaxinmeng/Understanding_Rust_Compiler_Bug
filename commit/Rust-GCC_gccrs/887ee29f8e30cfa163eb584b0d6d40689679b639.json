{"sha": "887ee29f8e30cfa163eb584b0d6d40689679b639", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg3ZWUyOWY4ZTMwY2ZhMTYzZWI1ODRiMGQ2ZDQwNjg5Njc5YjYzOQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-02-01T19:01:49Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2012-02-01T19:01:49Z"}, "message": "2012-02-01  Tobias Burnus\n\n        PR fortran/52059\n        * trans-expr.c (gfc_conv_procedure_call): Add array ref\n        only to variables.\n\n2012-02-01  Tobias Burnus\n\n        PR fortran/52059\n        * gfortran.dg/elemental_function_1.f90: New.\n\nFrom-SVN: r183807", "tree": {"sha": "7e972460c7393e3f569d7eccd0c04aa622008a33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e972460c7393e3f569d7eccd0c04aa622008a33"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/887ee29f8e30cfa163eb584b0d6d40689679b639", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/887ee29f8e30cfa163eb584b0d6d40689679b639", "html_url": "https://github.com/Rust-GCC/gccrs/commit/887ee29f8e30cfa163eb584b0d6d40689679b639", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/887ee29f8e30cfa163eb584b0d6d40689679b639/comments", "author": null, "committer": null, "parents": [{"sha": "c2b13bb66d214425e2c616b34de09111c5b0e3a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b13bb66d214425e2c616b34de09111c5b0e3a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b13bb66d214425e2c616b34de09111c5b0e3a6"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "2a7cc2824d3d6a2f1611228789fd21debb4a94af", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=887ee29f8e30cfa163eb584b0d6d40689679b639", "patch": "@@ -1,3 +1,9 @@\n+2012-02-01  Tobias Burnus\n+\n+\tPR fortran/52059\n+\t* trans-expr.c (gfc_conv_procedure_call): Add array ref\n+\tonly to variables.\n+\n 2012-01-31  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/52024"}, {"sha": "4574c8ea8657c860f15e67ceb518a65347dd9bb2", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=887ee29f8e30cfa163eb584b0d6d40689679b639", "patch": "@@ -3526,7 +3526,7 @@ gfc_conv_procedure_call (gfc_se * se, gfc_symbol * sym,\n \t  gfc_init_se (&parmse, se);\n \t  parm_kind = ELEMENTAL;\n \n-\t  if (se->ss->dimen > 0\n+\t  if (se->ss->dimen > 0 && e->expr_type == EXPR_VARIABLE\n \t      && se->ss->info->data.array.ref == NULL)\n \t    {\n \t      gfc_conv_tmp_array_ref (&parmse);"}, {"sha": "95b1ece95341139345e324437df03793d6e15ee6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=887ee29f8e30cfa163eb584b0d6d40689679b639", "patch": "@@ -1,3 +1,8 @@\n+2012-02-01  Tobias Burnus\n+\n+\tPR fortran/52059\n+\t* gfortran.dg/elemental_function_1.f90: New.\n+\n 2012-02-01  Georg-Johann Lay  <avr@gjlay.de>\n \n \tPR rtl-optimization/51374"}, {"sha": "8f556f4b98edb4dbb570c4417ac21e59b237acb5", "filename": "gcc/testsuite/gfortran.dg/elemental_function_1.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_function_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/887ee29f8e30cfa163eb584b0d6d40689679b639/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_function_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Felemental_function_1.f90?ref=887ee29f8e30cfa163eb584b0d6d40689679b639", "patch": "@@ -0,0 +1,22 @@\n+! { dg-do compile }\n+!\n+! PR fortran/52059\n+!\n+!\n+\n+subroutine baz\n+  real(kind=8) :: a(99), b\n+  interface bar\n+    function bar (x, y)\n+      integer, intent(in) :: x, y\n+      real(kind=8), dimension((y-x)) :: bar\n+    end function bar\n+  end interface\n+  b = 1.0_8\n+  a = foo (bar(0,35) / dble(34), b)\n+contains\n+  elemental real(kind=8) function foo(x, y)\n+    real(kind=8), intent(in) :: x, y\n+    foo = 1\n+  end function foo\n+end subroutine baz"}]}