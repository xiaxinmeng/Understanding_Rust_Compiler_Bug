{"sha": "4a32ef809ace73d7fb581e97e154b325f36ab0b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGEzMmVmODA5YWNlNzNkN2ZiNTgxZTk3ZTE1NGIzMjVmMzZhYjBiOQ==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2013-04-03T15:37:31Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2013-04-03T15:37:31Z"}, "message": "re PR target/56809 (Revision 197266 causes trunk ICE for arm-none-eabi targets)\n\ngcc/\n2013-04-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\tPR target/56809\n\t* config/arm/arm.c (is_jump_table): Use next_active_insn instead of\n\tnext_real_insn.\n\t(thumb1_output_casesi): Likewise.\n\t(thumb2_output_casesi): Likewise.\n\ngcc/testsuite\n2013-04-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\tPR target/56809\n\t* gcc.dg/pr56809.c: New testcase.\n\nFrom-SVN: r197425", "tree": {"sha": "23e754d2ad636430a20854d5e37ca4f967523982", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23e754d2ad636430a20854d5e37ca4f967523982"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a32ef809ace73d7fb581e97e154b325f36ab0b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a32ef809ace73d7fb581e97e154b325f36ab0b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a32ef809ace73d7fb581e97e154b325f36ab0b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a32ef809ace73d7fb581e97e154b325f36ab0b9/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7349ed0585442aa54457ebdfc8c24b94080da2df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7349ed0585442aa54457ebdfc8c24b94080da2df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7349ed0585442aa54457ebdfc8c24b94080da2df"}], "stats": {"total": 53, "additions": 49, "deletions": 4}, "files": [{"sha": "9ce142c7707dc02675f96dd0afdb0c6edf63c5f4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a32ef809ace73d7fb581e97e154b325f36ab0b9", "patch": "@@ -1,3 +1,11 @@\n+2013-04-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\tPR target/56809\n+\t* config/arm/arm.c (is_jump_table): Use next_active_insn instead of\n+\tnext_real_insn.\n+\t(thumb1_output_casesi): Likewise.\n+\t(thumb2_output_casesi): Likewise.\n+\n 2013-04-03  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/56817"}, {"sha": "f5676e0965acef786188690f856e2be604246756", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=4a32ef809ace73d7fb581e97e154b325f36ab0b9", "patch": "@@ -12821,8 +12821,8 @@ is_jump_table (rtx insn)\n   rtx table;\n \n   if (jump_to_label_p (insn)\n-      && ((table = next_real_insn (JUMP_LABEL (insn)))\n-\t  == next_real_insn (insn))\n+      && ((table = next_active_insn (JUMP_LABEL (insn)))\n+\t  == next_active_insn (insn))\n       && table != NULL\n       && JUMP_TABLE_DATA_P (table))\n     return table;\n@@ -25802,7 +25802,7 @@ arm_output_iwmmxt_tinsr (rtx *operands)\n const char *\n thumb1_output_casesi (rtx *operands)\n {\n-  rtx diff_vec = PATTERN (next_real_insn (operands[0]));\n+  rtx diff_vec = PATTERN (next_active_insn (operands[0]));\n \n   gcc_assert (GET_CODE (diff_vec) == ADDR_DIFF_VEC);\n \n@@ -25825,7 +25825,7 @@ thumb1_output_casesi (rtx *operands)\n const char *\n thumb2_output_casesi (rtx *operands)\n {\n-  rtx diff_vec = PATTERN (next_real_insn (operands[2]));\n+  rtx diff_vec = PATTERN (next_active_insn (operands[2]));\n \n   gcc_assert (GET_CODE (diff_vec) == ADDR_DIFF_VEC);\n "}, {"sha": "5e64fa68db9aa7a33d7f0766a056b66885a5bb54", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4a32ef809ace73d7fb581e97e154b325f36ab0b9", "patch": "@@ -1,3 +1,8 @@\n+2013-04-03  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\tPR target/56809\n+\t* gcc.dg/pr56809.c: New testcase.\n+\n 2013-04-03  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/56819"}, {"sha": "3f1f3115c3f601675a09ef0e59dac32f2cca9d18", "filename": "gcc/testsuite/gcc.dg/pr56809.c", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Ftestsuite%2Fgcc.dg%2Fpr56809.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a32ef809ace73d7fb581e97e154b325f36ab0b9/gcc%2Ftestsuite%2Fgcc.dg%2Fpr56809.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr56809.c?ref=4a32ef809ace73d7fb581e97e154b325f36ab0b9", "patch": "@@ -0,0 +1,32 @@\n+/* PR target/56809 */\n+/* { dg-do compile } */\n+/* { dg-options \"-Os\" }  */\n+\n+int\n+foo (int mode, int i)\n+{\n+  int x;\n+\n+  switch (mode)\n+    {\n+    case 0:\n+      x = i + 1;\n+      break;\n+    case 1:\n+      x = i / 2;\n+      break;\n+    case 2:\n+      x = i * 3;\n+      break;\n+    case 3:\n+      x = i + 3;\n+      break;\n+    case 4:\n+      x = i + 5;\n+      break;\n+    default:\n+      x = i - 1;\n+    }\n+\n+  return x;\n+}"}]}