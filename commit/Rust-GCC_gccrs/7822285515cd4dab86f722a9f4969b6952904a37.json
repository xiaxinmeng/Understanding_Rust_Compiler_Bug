{"sha": "7822285515cd4dab86f722a9f4969b6952904a37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzgyMjI4NTUxNWNkNGRhYjg2ZjcyMmE5ZjQ5NjliNjk1MjkwNGEzNw==", "commit": {"author": {"name": "Jojo R", "email": "rjiejie@linux.alibaba.com", "date": "2021-06-21T12:42:43Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2021-06-22T09:14:25Z"}, "message": "RISC-V: Add tune info for T-HEAD C906.\n\n\tgcc/\n\t* config/riscv/riscv.c (thead_c906_tune_info): New.\n\t(riscv_tune_info_table): Use new tune.", "tree": {"sha": "393ac5ed7d85ccf88717197f45eabb54d8cf2488", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/393ac5ed7d85ccf88717197f45eabb54d8cf2488"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7822285515cd4dab86f722a9f4969b6952904a37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7822285515cd4dab86f722a9f4969b6952904a37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7822285515cd4dab86f722a9f4969b6952904a37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7822285515cd4dab86f722a9f4969b6952904a37/comments", "author": {"login": "rjiejie", "id": 71386, "node_id": "MDQ6VXNlcjcxMzg2", "avatar_url": "https://avatars.githubusercontent.com/u/71386?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjiejie", "html_url": "https://github.com/rjiejie", "followers_url": "https://api.github.com/users/rjiejie/followers", "following_url": "https://api.github.com/users/rjiejie/following{/other_user}", "gists_url": "https://api.github.com/users/rjiejie/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjiejie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjiejie/subscriptions", "organizations_url": "https://api.github.com/users/rjiejie/orgs", "repos_url": "https://api.github.com/users/rjiejie/repos", "events_url": "https://api.github.com/users/rjiejie/events{/privacy}", "received_events_url": "https://api.github.com/users/rjiejie/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0e40ea0640aa0b324ec17e72154997468f33bc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0e40ea0640aa0b324ec17e72154997468f33bc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0e40ea0640aa0b324ec17e72154997468f33bc7"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "576960bb37cb5ef406b7c07d6f7ffca5248e2ee5", "filename": "gcc/config/riscv/riscv.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7822285515cd4dab86f722a9f4969b6952904a37/gcc%2Fconfig%2Friscv%2Friscv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7822285515cd4dab86f722a9f4969b6952904a37/gcc%2Fconfig%2Friscv%2Friscv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.c?ref=7822285515cd4dab86f722a9f4969b6952904a37", "patch": "@@ -300,6 +300,19 @@ static const struct riscv_tune_param sifive_7_tune_info = {\n   true,\t\t\t\t\t\t/* slow_unaligned_access */\n };\n \n+/* Costs to use when optimizing for T-HEAD c906.  */\n+static const struct riscv_tune_param thead_c906_tune_info = {\n+  {COSTS_N_INSNS (4), COSTS_N_INSNS (5)}, /* fp_add */\n+  {COSTS_N_INSNS (4), COSTS_N_INSNS (5)}, /* fp_mul */\n+  {COSTS_N_INSNS (20), COSTS_N_INSNS (20)}, /* fp_div */\n+  {COSTS_N_INSNS (4), COSTS_N_INSNS (4)}, /* int_mul */\n+  {COSTS_N_INSNS (6), COSTS_N_INSNS (6)}, /* int_div */\n+  1,            /* issue_rate */\n+  3,            /* branch_cost */\n+  5,            /* memory_cost */\n+  false,            /* slow_unaligned_access */\n+};\n+\n /* Costs to use when optimizing for size.  */\n static const struct riscv_tune_param optimize_size_tune_info = {\n   {COSTS_N_INSNS (1), COSTS_N_INSNS (1)},\t/* fp_add */\n@@ -348,6 +361,7 @@ static const struct riscv_tune_info riscv_tune_info_table[] = {\n   { \"sifive-3-series\", generic, &rocket_tune_info },\n   { \"sifive-5-series\", generic, &rocket_tune_info },\n   { \"sifive-7-series\", sifive_7, &sifive_7_tune_info },\n+  { \"thead-c906\", generic, &thead_c906_tune_info },\n   { \"size\", generic, &optimize_size_tune_info },\n };\n "}]}