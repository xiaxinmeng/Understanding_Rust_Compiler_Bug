{"sha": "3edc4b23d874abeb87567be7239b3bec1036d727", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2VkYzRiMjNkODc0YWJlYjg3NTY3YmU3MjM5YjNiZWMxMDM2ZDcyNw==", "commit": {"author": {"name": "Krister Walfridsson", "email": "cato@df.lth.se", "date": "2003-02-18T20:05:02Z"}, "committer": {"name": "Krister Walfridsson", "email": "kristerw@gcc.gnu.org", "date": "2003-02-18T20:05:02Z"}, "message": "inclhack.def (netbsd_bogus_semicolon): New fix.\n\n2003-02-18  Krister Walfridsson  <cato@df.lth.se>\n\n\t* inclhack.def (netbsd_bogus_semicolon): New fix.\n\t* fixincl.x: Rebuilt.\n\t* tests/base/ctype.h: Update.\n\nFrom-SVN: r63061", "tree": {"sha": "af53f665d9264693cfed9e8943f4c0e68100da0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af53f665d9264693cfed9e8943f4c0e68100da0f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3edc4b23d874abeb87567be7239b3bec1036d727", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3edc4b23d874abeb87567be7239b3bec1036d727", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3edc4b23d874abeb87567be7239b3bec1036d727", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3edc4b23d874abeb87567be7239b3bec1036d727/comments", "author": null, "committer": null, "parents": [{"sha": "080ea642c0b75fe30d551afe5e3ab0ab70e78720", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/080ea642c0b75fe30d551afe5e3ab0ab70e78720", "html_url": "https://github.com/Rust-GCC/gccrs/commit/080ea642c0b75fe30d551afe5e3ab0ab70e78720"}], "stats": {"total": 76, "additions": 73, "deletions": 3}, "files": [{"sha": "c69a4d4bda5261cb39b7d0a0cb0ad35e9b935f8b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3edc4b23d874abeb87567be7239b3bec1036d727", "patch": "@@ -1,3 +1,9 @@\n+2003-02-18  Krister Walfridsson  <cato@df.lth.se>\n+\n+\t* inclhack.def (netbsd_bogus_semicolon): New fix.\n+\t* fixincl.x: Rebuilt.\n+\t* tests/base/ctype.h: Update.\n+\n 2003-02-18  Roger Sayle  <roger@eyesopen.com>\n \n \t* fold-const.c (negate_expr_p): New function to determine whether"}, {"sha": "7a8c5c6326b869403548e790a22f653d6ffaa7ee", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 46, "deletions": 3, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=3edc4b23d874abeb87567be7239b3bec1036d727", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 142 fixup descriptions.\n+ * This file contains 143 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -3015,6 +3015,43 @@ static const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n     \"-e\", \"/OPEN_MAX/s,/\\\\* Max, Max,\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Netbsd_Extra_Semicolon fix\n+ */\n+tSCC zNetbsd_Extra_SemicolonName[] =\n+     \"netbsd_extra_semicolon\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zNetbsd_Extra_SemicolonList[] =\n+  \"|sys/cdefs.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzNetbsd_Extra_SemicolonMachs[] = {\n+        \"*-*-netbsd*\",\n+        (const char*)NULL };\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zNetbsd_Extra_SemicolonSelect0[] =\n+       \"#define[ \\t]*__END_DECLS[ \\t]*};\";\n+\n+#define    NETBSD_EXTRA_SEMICOLON_TEST_CT  1\n+static tTestDesc aNetbsd_Extra_SemicolonTests[] = {\n+  { TT_EGREP,    zNetbsd_Extra_SemicolonSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Netbsd_Extra_Semicolon\n+ */\n+static const char* apzNetbsd_Extra_SemicolonPatch[] = {\n+    \"format\",\n+    \"#define __END_DECLS }\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Next_Math_Prefix fix\n@@ -5608,9 +5645,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          154\n+#define REGEX_COUNT          155\n #define MACH_LIST_SIZE_LIMIT 261\n-#define FIX_COUNT            142\n+#define FIX_COUNT            143\n \n /*\n  *  Enumerate the fixes\n@@ -5690,6 +5727,7 @@ typedef enum {\n     NESTED_AUTH_DES_FIXIDX,\n     NESTED_MOTOROLA_FIXIDX,\n     NESTED_SYS_LIMITS_FIXIDX,\n+    NETBSD_EXTRA_SEMICOLON_FIXIDX,\n     NEXT_MATH_PREFIX_FIXIDX,\n     NEXT_TEMPLATE_FIXIDX,\n     NEXT_VOLITILE_FIXIDX,\n@@ -6131,6 +6169,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      NESTED_SYS_LIMITS_TEST_CT, FD_MACH_ONLY,\n      aNested_Sys_LimitsTests,   apzNested_Sys_LimitsPatch, 0 },\n \n+  {  zNetbsd_Extra_SemicolonName,    zNetbsd_Extra_SemicolonList,\n+     apzNetbsd_Extra_SemicolonMachs,\n+     NETBSD_EXTRA_SEMICOLON_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aNetbsd_Extra_SemicolonTests,   apzNetbsd_Extra_SemicolonPatch, 0 },\n+\n   {  zNext_Math_PrefixName,    zNext_Math_PrefixList,\n      apzNext_Math_PrefixMachs,\n      NEXT_MATH_PREFIX_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "8ebfe1a5765d8915355fa5dc02fbff31a9bfc838", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=3edc4b23d874abeb87567be7239b3bec1036d727", "patch": "@@ -1709,6 +1709,22 @@ fix = {\n };\n \n \n+/*\n+ * NetBSD has a semicolon after the ending '}' for some extern \"C\".\n+ */\n+fix = {\n+    hackname  = netbsd_extra_semicolon;\n+    mach      = *-*-netbsd*;\n+    files     = sys/cdefs.h;\n+    select    = \"#define[ \\t]*__END_DECLS[ \\t]*};\";\n+\n+    c_fix     = format;\n+    c_fix_arg = \"#define __END_DECLS }\";\n+\n+    test_text = \"#define __END_DECLS };\";\n+};\n+\n+\n /*\n  *  NeXT 3.2 adds const prefix to some math functions.\n  *  These conflict with the built-in functions."}, {"sha": "8d95282d272fe018d9c50700ef53a1e3d28d17f0", "filename": "gcc/fixinc/tests/base/sys/cdefs.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Ftests%2Fbase%2Fsys%2Fcdefs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3edc4b23d874abeb87567be7239b3bec1036d727/gcc%2Ffixinc%2Ftests%2Fbase%2Fsys%2Fcdefs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ftests%2Fbase%2Fsys%2Fcdefs.h?ref=3edc4b23d874abeb87567be7239b3bec1036d727", "patch": "@@ -12,3 +12,8 @@\n #if defined( FREEBSD_GCC3_BREAKAGE_CHECK )\n #if __GNUC__ == 2 && __GNUC_MINOR__ >= 7 || __GNUC__ >= 3\n #endif  /* FREEBSD_GCC3_BREAKAGE_CHECK */\n+\n+\n+#if defined( NETBSD_EXTRA_SEMICOLON_CHECK )\n+#define __END_DECLS }\n+#endif  /* NETBSD_EXTRA_SEMICOLON_CHECK */"}]}