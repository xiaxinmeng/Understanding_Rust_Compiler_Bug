{"sha": "b88a94c6034309e1ac64fc4c71db44f5dc474b18", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjg4YTk0YzYwMzQzMDllMWFjNjRmYzRjNzFkYjQ0ZjVkYzQ3NGIxOA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-04-02T01:44:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-04-02T01:44:51Z"}, "message": "inclhack.def (solaris_sys_varargs_h): New.\n\n        * fixinc/inclhack.def (solaris_sys_varargs_h): New.\n        * fixinc/fixincl.x: Rebuild.\n\nFrom-SVN: r51729", "tree": {"sha": "e638724db8708acd22c6361987c03e27e062ed66", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e638724db8708acd22c6361987c03e27e062ed66"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b88a94c6034309e1ac64fc4c71db44f5dc474b18", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b88a94c6034309e1ac64fc4c71db44f5dc474b18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b88a94c6034309e1ac64fc4c71db44f5dc474b18", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b88a94c6034309e1ac64fc4c71db44f5dc474b18/comments", "author": null, "committer": null, "parents": [{"sha": "9b14a23707c6df419d96a696c572a343c0431b19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b14a23707c6df419d96a696c572a343c0431b19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b14a23707c6df419d96a696c572a343c0431b19"}], "stats": {"total": 64, "additions": 62, "deletions": 2}, "files": [{"sha": "f59547c250f6153d4ac67bc65468388beb334114", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b88a94c6034309e1ac64fc4c71db44f5dc474b18", "patch": "@@ -1,3 +1,9 @@\n+2002-04-01  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/1538\n+\t* fixinc/inclhack.def (solaris_sys_varargs_h): New.\n+\t* fixinc/fixincl.x: Rebuild.\n+\n 2002-04-01  Richard Henderson  <rth@redhat.com>\n \n \t* config/ia64/unwind-ia64.c: Include ia64intrin.h."}, {"sha": "18e5d6b564c9ae162bd91f384243d3e925de9970", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 40, "deletions": 2, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=b88a94c6034309e1ac64fc4c71db44f5dc474b18", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 140 fixup descriptions.\n+ * This file contains 141 fixup descriptions.\n  *\n  * See README for more information.\n  *\n@@ -3694,6 +3694,38 @@ static const char* apzSolaris_Stdio_TagPatch[] = { \"sed\",\n     \"-e\", \"s/defined(__cplusplus) && (__cplusplus < 54321L)/0/\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Solaris_Sys_Varargs_H fix\n+ */\n+tSCC zSolaris_Sys_Varargs_HName[] =\n+     \"solaris_sys_varargs_h\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zSolaris_Sys_Varargs_HList[] =\n+  \"|sys/varargs.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzSolaris_Sys_Varargs_HMachs[] = {\n+        \"*-*-solaris*\",\n+        (const char*)NULL };\n+#define SOLARIS_SYS_VARARGS_H_TEST_CT  0\n+#define aSolaris_Sys_Varargs_HTests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Solaris_Sys_Varargs_H\n+ */\n+static const char* apzSolaris_Sys_Varargs_HPatch[] = {\n+\"#ifdef __STDC__\\n\\\n+#include <stdarg.h>\\n\\\n+#else\\n\\\n+#include <varargs.h>\\n\\\n+#endif\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Statsswtch fix\n@@ -5506,7 +5538,7 @@ static const char* apzX11_SprintfPatch[] = {\n  */\n #define REGEX_COUNT          149\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            140\n+#define FIX_COUNT            141\n \n /*\n  *  Enumerate the fixes\n@@ -5605,6 +5637,7 @@ typedef enum {\n     SCO_UTIME_FIXIDX,\n     SOLARIS_MUTEX_INIT_FIXIDX,\n     SOLARIS_STDIO_TAG_FIXIDX,\n+    SOLARIS_SYS_VARARGS_H_FIXIDX,\n     STATSSWTCH_FIXIDX,\n     STDIO_STDARG_H_FIXIDX,\n     STDIO_VA_LIST_FIXIDX,\n@@ -6120,6 +6153,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SOLARIS_STDIO_TAG_TEST_CT, FD_MACH_ONLY,\n      aSolaris_Stdio_TagTests,   apzSolaris_Stdio_TagPatch, 0 },\n \n+  {  zSolaris_Sys_Varargs_HName,    zSolaris_Sys_Varargs_HList,\n+     apzSolaris_Sys_Varargs_HMachs,\n+     SOLARIS_SYS_VARARGS_H_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n+     aSolaris_Sys_Varargs_HTests,   apzSolaris_Sys_Varargs_HPatch, 0 },\n+\n   {  zStatsswtchName,    zStatsswtchList,\n      apzStatsswtchMachs,\n      STATSSWTCH_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,"}, {"sha": "011929cb391684869e6c1c7a11ac084ced3c6896", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b88a94c6034309e1ac64fc4c71db44f5dc474b18/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=b88a94c6034309e1ac64fc4c71db44f5dc474b18", "patch": "@@ -2076,6 +2076,22 @@ fix = {\n };\n \n \n+/*\n+ * Solaris <sys/varargs.h> is a DDK (aka kernel-land) header providing\n+ * the same interface as <stdarg.h>.  No idea why they couldn't have just\n+ * used the standard header.\n+ */\n+fix = {\n+    hackname = solaris_sys_varargs_h;\n+    files    = \"sys/varargs.h\";\n+    mach     = '*-*-solaris*';\n+    replace  = \"#ifdef __STDC__\\n\"\n+\t       \"#include <stdarg.h>\\n\"\n+\t       \"#else\\n\"\n+\t       \"#include <varargs.h>\\n\"\n+\t       \"#endif\\n\";\n+};\n+\n /*\n  *  Sony NEWSOS 5.0 does not support the complete ANSI C standard.\n  */"}]}