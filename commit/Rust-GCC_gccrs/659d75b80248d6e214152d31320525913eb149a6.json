{"sha": "659d75b80248d6e214152d31320525913eb149a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjU5ZDc1YjgwMjQ4ZDZlMjE0MTUyZDMxMzIwNTI1OTEzZWIxNDlhNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-09-22T19:15:37Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-09-22T19:15:37Z"}, "message": "(FPROP): Recognize 80387 or 68881 XFmode format.\n\nFrom-SVN: r5410", "tree": {"sha": "f43fb3dfa9076933fa143e0b67928034ef10b64b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f43fb3dfa9076933fa143e0b67928034ef10b64b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/659d75b80248d6e214152d31320525913eb149a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/659d75b80248d6e214152d31320525913eb149a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/659d75b80248d6e214152d31320525913eb149a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/659d75b80248d6e214152d31320525913eb149a6/comments", "author": null, "committer": null, "parents": [{"sha": "0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0172ca3ffbe5cdec978c0e70ee75e676d0e5646c"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "029fbd2ee9175b82ecd4b0e917d5845ea62e8a0f", "filename": "gcc/enquire.c", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/659d75b80248d6e214152d31320525913eb149a6/gcc%2Fenquire.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/659d75b80248d6e214152d31320525913eb149a6/gcc%2Fenquire.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fenquire.c?ref=659d75b80248d6e214152d31320525913eb149a6", "patch": "@@ -29,6 +29,10 @@\n    Richard Stallman, May 93:\n    In F_check, check NO_LONG_DOUBLE_IO.\n \n+   Changes by Stephen Moshier, installed Sep 93:\n+   (FPROP): Recognize 80387 or 68881 XFmode format.\n+\n+\n    COMPILING\n    With luck and a following wind, just the following will work:\n \tcc enquire.c -o enquire\n@@ -2678,6 +2682,14 @@ int FPROP(bits_per_byte) int bits_per_byte; {\n \tif (f_radix != 10) {\n \t\thidden=0;\n \t\tmantbits=floor_log(2, (Long_double)f_radix)*f_mant_dig;\n+\t\tif (mantbits == 64\n+\t\t    && iexp == 15\n+\t\t    && f_max_exp+f_min_exp > 0 /* ??? f_min_exp may be wrong. */\n+\t\t    && mantbits+iexp+17 == (int)sizeof(Number)*bits_per_byte) {\n+\t\t\tVprintf(\"%sArithmetic probably doesn't use a hidden bit%s\\n\", co, oc);\n+\t\t\tVprintf(\"%sIt's probably 80387 or 68881 extended real%s\\n\", co, oc);\n+\t\t\tgoto is_extended;\n+\t\t}\n \t\tif (mantbits+iexp == (int)sizeof(Number)*bits_per_byte) {\n \t\t\thidden=1;\n \t\t\tVprintf(\"%sArithmetic uses a hidden bit%s\\n\", co, oc);\n@@ -2698,6 +2710,7 @@ int FPROP(bits_per_byte) int bits_per_byte; {\n \t\t\t\t    f_mant_dig==53 ? \"double\" :\n \t\t\t\t    f_mant_dig >53 ? \"extended\" :\n \t\t\t\t\t\t\"some\", oc);\n+is_extended:\n \t\t\tif (f_rounds != 1 || normal) {\n \t\t\t\tVprintf(\"%s   though \", co);\n \t\t\t\tif (f_rounds != 1) {"}]}