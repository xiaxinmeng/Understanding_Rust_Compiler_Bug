{"sha": "87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdjY2JjNWNkZDM4ZmZkNzY1MTVkNmM2ZGY0OGQxNjgwZmYwYjM4MA==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@kss-loka.si", "date": "2006-10-28T09:20:23Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2006-10-28T09:20:23Z"}, "message": "i386.c (output_387_ffreep): Create output from a template string for !HAVE_AS_IX86_FFREEP.\n\n        * config/i386/i386.c (output_387_ffreep): Create output from a\n        template string for !HAVE_AS_IX86_FFREEP.\n\nFrom-SVN: r118101", "tree": {"sha": "94ba421fe2e57d7dae9d752a8559e5abfaf85a93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/94ba421fe2e57d7dae9d752a8559e5abfaf85a93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380/comments", "author": null, "committer": null, "parents": [{"sha": "f356a436f04c20db31d307e2e31e4dab21d0543b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f356a436f04c20db31d307e2e31e4dab21d0543b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f356a436f04c20db31d307e2e31e4dab21d0543b"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "d1d2e4e421d360b1659818353784fa15f206cbe0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "patch": "@@ -1,3 +1,8 @@\n+2006-10-28 Uros Bizjak <uros@kss-loka.si>\n+\n+\t* config/i386/i386.c (output_387_ffreep): Create output from a\n+\ttemplate string for !HAVE_AS_IX86_FFREEP.\n+\t\n 2006-10-27  Eric Christopher  <echristo@apple.com>\n \n \t* config/darwin.c: Fix formatting and grammar."}, {"sha": "14974ff1481eef1c7ec1bb3ecd27d669f080085d", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ccbc5cdd38ffd76515d6c6df48d1680ff0b380/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=87ccbc5cdd38ffd76515d6c6df48d1680ff0b380", "patch": "@@ -8698,17 +8698,15 @@ output_387_ffreep (rtx *operands ATTRIBUTE_UNUSED, int opno)\n #if HAVE_AS_IX86_FFREEP\n     return opno ? \"ffreep\\t%y1\" : \"ffreep\\t%y0\";\n #else\n-    switch (REGNO (operands[opno]))\n-      {\n-      case FIRST_STACK_REG + 0: return \".word\\t0xc0df\";\n-      case FIRST_STACK_REG + 1: return \".word\\t0xc1df\";\n-      case FIRST_STACK_REG + 2: return \".word\\t0xc2df\";\n-      case FIRST_STACK_REG + 3: return \".word\\t0xc3df\";\n-      case FIRST_STACK_REG + 4: return \".word\\t0xc4df\";\n-      case FIRST_STACK_REG + 5: return \".word\\t0xc5df\";\n-      case FIRST_STACK_REG + 6: return \".word\\t0xc6df\";\n-      case FIRST_STACK_REG + 7: return \".word\\t0xc7df\";\n-      }\n+    {\n+      static char retval[] = \".word\\t0xc_df\";\n+      int regno = REGNO (operands[opno]);\n+      \n+      gcc_assert (FP_REGNO_P (regno));\n+\n+      retval[9] = '0' + (regno - FIRST_STACK_REG);\n+      return retval;\n+    }\n #endif\n \n   return opno ? \"fstp\\t%y1\" : \"fstp\\t%y0\";"}]}