{"sha": "b8f4c7380a78248e3a631c1e895e73700aa9eb78", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjhmNGM3MzgwYTc4MjQ4ZTNhNjMxYzFlODk1ZTczNzAwYWE5ZWI3OA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-25T17:46:42Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-03-25T17:46:42Z"}, "message": "(reload): Fix error in last change; only check against group reloads\nand check all reloads.\n\nFrom-SVN: r6866", "tree": {"sha": "40742f8540557d1d4e0fd2eba6f6867381164e3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40742f8540557d1d4e0fd2eba6f6867381164e3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8f4c7380a78248e3a631c1e895e73700aa9eb78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8f4c7380a78248e3a631c1e895e73700aa9eb78", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8f4c7380a78248e3a631c1e895e73700aa9eb78", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8f4c7380a78248e3a631c1e895e73700aa9eb78/comments", "author": null, "committer": null, "parents": [{"sha": "1554cdf5c916be937876b35ef5fc3c094b59a32b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1554cdf5c916be937876b35ef5fc3c094b59a32b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1554cdf5c916be937876b35ef5fc3c094b59a32b"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "4e7a362ee4c87435618d47ee31a574fefbdd3c0d", "filename": "gcc/reload1.c", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8f4c7380a78248e3a631c1e895e73700aa9eb78/gcc%2Freload1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8f4c7380a78248e3a631c1e895e73700aa9eb78/gcc%2Freload1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freload1.c?ref=b8f4c7380a78248e3a631c1e895e73700aa9eb78", "patch": "@@ -1149,12 +1149,21 @@ reload (first, global, dumpfile)\n \t\t  size = CLASS_MAX_NREGS (class, mode);\n \n \t\t  /* If this class doesn't want a group determine if\n-\t\t     we have a nongroup need or a regular need. */\n+\t\t     we have a nongroup need or a regular need.  We have\n+\t\t     a nongroup need if this reload conflicts with a\n+\t\t     group reload whose class intersects with this reload's\n+\t\t     class.  */\n \n \t\t  nongroup_need = 0;\n \t\t  if (size == 1)\n-\t\t    for (j = i + 1; j < n_reloads; j++)\n-\t\t      if (reloads_conflict (i, j)\n+\t\t    for (j = 0; j < n_reloads; j++)\n+\t\t      if ((CLASS_MAX_NREGS (reload_reg_class[j],\n+\t\t\t\t\t    (GET_MODE_SIZE (reload_outmode[i])\n+\t\t\t\t\t     > GET_MODE_SIZE (reload_inmode[i]))\n+\t\t\t\t\t    ? reload_outmode[i]\n+\t\t\t\t\t    : reload_inmode[i])\n+\t\t\t   > 1)\n+\t\t\t  && reloads_conflict (i, j)\n \t\t\t  && reg_classes_intersect_p (class,\n \t\t\t\t\t\t      reload_reg_class[j]))\n \t\t\t{"}]}