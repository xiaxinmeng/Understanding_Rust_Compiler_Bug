{"sha": "b0d1803aff339e17bba2464ef72e7f7c1979f70b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjBkMTgwM2FmZjMzOWUxN2JiYTI0NjRlZjcyZTdmN2MxOTc5ZjcwYg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2010-11-08T16:37:36Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2010-11-08T16:37:36Z"}, "message": "covariant1.C: Fix scan-assembler.\n\n2010-11-08  Steve Ellcey  <sje@cup.hp.com>\n\n\t* gcc/testsuite/g++.dg/abi/covariant1.C: Fix scan-assembler.\n\t* gcc/testsuite/g++.dg/abi/covariant6.C: Ditto.\n\nFrom-SVN: r166440", "tree": {"sha": "eb38c88dd09e284fd1833fb6aff126c570eb9270", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb38c88dd09e284fd1833fb6aff126c570eb9270"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0d1803aff339e17bba2464ef72e7f7c1979f70b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0d1803aff339e17bba2464ef72e7f7c1979f70b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0d1803aff339e17bba2464ef72e7f7c1979f70b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0d1803aff339e17bba2464ef72e7f7c1979f70b/comments", "author": null, "committer": null, "parents": [{"sha": "6684c4438611d08f60b540509e4bd05ae1efbcb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6684c4438611d08f60b540509e4bd05ae1efbcb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6684c4438611d08f60b540509e4bd05ae1efbcb8"}], "stats": {"total": 21, "additions": 13, "deletions": 8}, "files": [{"sha": "30e0dad1da2d08d646179422dc626df105f919c3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b0d1803aff339e17bba2464ef72e7f7c1979f70b", "patch": "@@ -1,3 +1,8 @@\n+2010-11-08  Steve Ellcey  <sje@cup.hp.com>\n+\n+\t* gcc/testsuite/g++.dg/abi/covariant1.C: Fix scan-assembler.\n+\t* gcc/testsuite/g++.dg/abi/covariant6.C: Ditto.\n+\n 2010-11-08  Kai Tietz  <kai.tietz@onevision.com>\n \n         PR target/28627"}, {"sha": "97737ddb94ce6a6e0f91ba4e9beddd13d7210876", "filename": "gcc/testsuite/g++.dg/abi/covariant1.C", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant1.C?ref=b0d1803aff339e17bba2464ef72e7f7c1979f70b", "patch": "@@ -20,7 +20,7 @@ struct c14 :\n \n void c14::f() { }\n \n-// { dg-final { scan-assembler \"_ZTcv0_n12_v0_n16_N3c143f17Ev\" { target ilp32 } } }\n+// { dg-final { scan-assembler \"_ZTcv0_n12_v0_n16_N3c143f17Ev\" { target { ilp32  && { ! { ia64-*-hpux* } } } } } }\n // { dg-final { scan-assembler-not \"_ZTch0_v0_n16_N3c143f17Ev\" } }\n-// { dg-final { scan-assembler \"_ZTcv0_n24_v0_n32_N3c143f17Ev\" { target lp64 } } }\n+// { dg-final { scan-assembler \"_ZTcv0_n24_v0_n32_N3c143f17Ev\" { target { lp64  || { ia64-*-hpux* } } } } }\n // { dg-final { scan-assembler-not \"_ZTch0_v0_n32_N3c143f17Ev\" } }"}, {"sha": "143b4ad36cbbcaf07e70ae187f23a67577702486", "filename": "gcc/testsuite/g++.dg/abi/covariant6.C", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0d1803aff339e17bba2464ef72e7f7c1979f70b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fabi%2Fcovariant6.C?ref=b0d1803aff339e17bba2464ef72e7f7c1979f70b", "patch": "@@ -16,10 +16,10 @@ struct C: B\n C* C::f() { return 0; }\n \n // When we emit C::f, we should emit both thunks: one for B and one for A.\n-// { dg-final { scan-assembler \"_ZTch0_v0_n16_N1C1fEv\" { target ilp32 } } }\n-// { dg-final { scan-assembler \"_ZTch0_v0_n32_N1C1fEv\" { target lp64 } } }\n-// { dg-final { scan-assembler \"_ZTcv0_n12_v0_n16_N1C1fEv\" { target ilp32 } } }\n-// { dg-final { scan-assembler \"_ZTcv0_n24_v0_n32_N1C1fEv\" { target lp64 } } }\n+// { dg-final { scan-assembler \"_ZTch0_v0_n16_N1C1fEv\" { target { ilp32  && { ! { ia64-*-hpux* } } } } } }\n+// { dg-final { scan-assembler \"_ZTch0_v0_n32_N1C1fEv\" { target { lp64  || { ia64-*-hpux* } } } } }\n+// { dg-final { scan-assembler \"_ZTcv0_n12_v0_n16_N1C1fEv\" { target { ilp32  && { ! { ia64-*-hpux* } } } } } }\n+// { dg-final { scan-assembler \"_ZTcv0_n24_v0_n32_N1C1fEv\" { target { lp64  || { ia64-*-hpux* } } } } }\n \n struct D: B\n {\n@@ -30,5 +30,5 @@ struct D: B\n void D::dummy() { }\n \n // When we emit the D vtable, it should refer to the thunk for B.\n-// { dg-final { scan-assembler \"_ZTch0_v0_n16_N1D1fEv\" { target ilp32 } } }\n-// { dg-final { scan-assembler \"_ZTch0_v0_n32_N1D1fEv\" { target lp64 } } }\n+// { dg-final { scan-assembler \"_ZTch0_v0_n16_N1D1fEv\" { target { ilp32  && { ! { ia64-*-hpux* } } } } } }\n+// { dg-final { scan-assembler \"_ZTch0_v0_n32_N1D1fEv\" { target { lp64  || { ia64-*-hpux* } } } } }"}]}