{"sha": "0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGUyOWY3ZTVhZjBkNGI1YzEzNjlmYzUwNTJiOTQ0NzZlYWRkZTgzYw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2010-12-07T19:28:44Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2010-12-07T19:28:44Z"}, "message": "re PR tree-optimization/46805 (ICE: SIGSEGV in optab_for_tree_code (optabs.c:407) with -O -fno-tree-scev-cprop -ftree-vectorize)\n\n\tPR tree-optimization/46805\n\tPR tree-optimization/46833\n\t* go-lang.c (go_langhook_type_for_mode): Handle vector modes.\n\nFrom-SVN: r167563", "tree": {"sha": "2eb0cff40c7533160c5833a9b21ab4fb6a2b0fc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2eb0cff40c7533160c5833a9b21ab4fb6a2b0fc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e29f7e5af0d4b5c1369fc5052b94476eadde83c/comments", "author": null, "committer": null, "parents": [{"sha": "128aaeedf407def236eefa58efa18327e81b72eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/128aaeedf407def236eefa58efa18327e81b72eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/128aaeedf407def236eefa58efa18327e81b72eb"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "380c70955f1c0ee01e16d335abccebf536d2d8ea", "filename": "gcc/go/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e29f7e5af0d4b5c1369fc5052b94476eadde83c/gcc%2Fgo%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e29f7e5af0d4b5c1369fc5052b94476eadde83c/gcc%2Fgo%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2FChangeLog?ref=0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "patch": "@@ -1,3 +1,9 @@\n+2010-12-07  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR tree-optimization/46805\n+\tPR tree-optimization/46833\n+\t* go-lang.c (go_langhook_type_for_mode): Handle vector modes.\n+\n 2010-12-06  Ian Lance Taylor  <iant@google.com>\n \n \tPR other/46789"}, {"sha": "323f8c5331c923ec8d68355bfe6d7610dcf75c14", "filename": "gcc/go/go-lang.c", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e29f7e5af0d4b5c1369fc5052b94476eadde83c/gcc%2Fgo%2Fgo-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e29f7e5af0d4b5c1369fc5052b94476eadde83c/gcc%2Fgo%2Fgo-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgo-lang.c?ref=0e29f7e5af0d4b5c1369fc5052b94476eadde83c", "patch": "@@ -285,6 +285,20 @@ go_langhook_type_for_size (unsigned int bits, int unsignedp)\n static tree\n go_langhook_type_for_mode (enum machine_mode mode, int unsignedp)\n {\n+  /* Go has no vector types.  Build them here.  FIXME: It does not\n+     make sense for the middle-end to ask the frontend for a type\n+     which the frontend does not support.  However, at least for now\n+     it is required.  See PR 46805.  */\n+  if (VECTOR_MODE_P (mode))\n+    {\n+      tree inner;\n+\n+      inner = go_langhook_type_for_mode (GET_MODE_INNER (mode), unsignedp);\n+      if (inner != NULL_TREE)\n+\treturn build_vector_type_for_mode (inner, mode);\n+      return NULL_TREE;\n+    }\n+\n   return go_type_for_mode (mode, unsignedp);\n }\n "}]}