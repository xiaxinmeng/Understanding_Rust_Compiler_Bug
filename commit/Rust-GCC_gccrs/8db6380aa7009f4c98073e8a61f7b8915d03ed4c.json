{"sha": "8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGRiNjM4MGFhNzAwOWY0Yzk4MDczZThhNjFmN2I4OTE1ZDAzZWQ0Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-04-03T19:42:24Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-04-03T19:42:24Z"}, "message": "mksysinfo.sh: Add some more networking constants.\n\nFrom-SVN: r186114", "tree": {"sha": "23c871d18a24bcac380bd21b85b3786ab4e14fe4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/23c871d18a24bcac380bd21b85b3786ab4e14fe4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/comments", "author": null, "committer": null, "parents": [{"sha": "572a2f688699265e32ef87f99317dee5439d0c1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/572a2f688699265e32ef87f99317dee5439d0c1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/572a2f688699265e32ef87f99317dee5439d0c1a"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "aea6ac1b79ed6555a692c94b0b6b094232de6e9b", "filename": "libgo/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfig.h.in?ref=8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "patch": "@@ -72,6 +72,9 @@\n /* Define to 1 if you have the `mknodat' function. */\n #undef HAVE_MKNODAT\n \n+/* Define to 1 if you have the <net/if_arp.h> header file. */\n+#undef HAVE_NET_IF_ARP_H\n+\n /* Define to 1 if you have the <net/if.h> header file. */\n #undef HAVE_NET_IF_H\n "}, {"sha": "34125ec144daa76b26392c23b9938c368e5f0478", "filename": "libgo/configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure?ref=8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "patch": "@@ -14508,7 +14508,7 @@ no)\n   ;;\n esac\n \n-for ac_header in sys/mman.h syscall.h sys/epoll.h sys/ptrace.h sys/syscall.h sys/user.h sys/utsname.h sys/select.h sys/socket.h net/if.h sys/prctl.h sys/mount.h sys/vfs.h sys/statfs.h sys/timex.h sys/sysinfo.h utime.h linux/reboot.h\n+for ac_header in sys/mman.h syscall.h sys/epoll.h sys/ptrace.h sys/syscall.h sys/user.h sys/utsname.h sys/select.h sys/socket.h net/if.h net/if_arp.h sys/prctl.h sys/mount.h sys/vfs.h sys/statfs.h sys/timex.h sys/sysinfo.h utime.h linux/reboot.h\n do :\n   as_ac_Header=`$as_echo \"ac_cv_header_$ac_header\" | $as_tr_sh`\n ac_fn_c_check_header_mongrel \"$LINENO\" \"$ac_header\" \"$as_ac_Header\" \"$ac_includes_default\""}, {"sha": "b47d17d015fe0f901ad6a7205daaedca7e0c2f8f", "filename": "libgo/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fconfigure.ac?ref=8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "patch": "@@ -453,7 +453,7 @@ no)\n   ;;\n esac\n \n-AC_CHECK_HEADERS(sys/mman.h syscall.h sys/epoll.h sys/ptrace.h sys/syscall.h sys/user.h sys/utsname.h sys/select.h sys/socket.h net/if.h sys/prctl.h sys/mount.h sys/vfs.h sys/statfs.h sys/timex.h sys/sysinfo.h utime.h linux/reboot.h)\n+AC_CHECK_HEADERS(sys/mman.h syscall.h sys/epoll.h sys/ptrace.h sys/syscall.h sys/user.h sys/utsname.h sys/select.h sys/socket.h net/if.h net/if_arp.h sys/prctl.h sys/mount.h sys/vfs.h sys/statfs.h sys/timex.h sys/sysinfo.h utime.h linux/reboot.h)\n \n AC_CHECK_HEADERS([linux/filter.h linux/netlink.h linux/rtnetlink.h], [], [],\n [#ifdef HAVE_SYS_SOCKET_H"}, {"sha": "86c2bd7e7cf051949e4716c648c77e7ad7b67af8", "filename": "libgo/mksysinfo.sh", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fmksysinfo.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8db6380aa7009f4c98073e8a61f7b8915d03ed4c/libgo%2Fmksysinfo.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fmksysinfo.sh?ref=8db6380aa7009f4c98073e8a61f7b8915d03ed4c", "patch": "@@ -94,6 +94,9 @@ cat > sysinfo.c <<EOF\n #if defined(HAVE_NET_IF_H)\n #include <net/if.h>\n #endif\n+#if defined(HAVE_NET_IF_ARP_H)\n+#include <net/if_arp.h>\n+#endif\n #if defined(HAVE_SYS_MOUNT_H)\n #include <sys/mount.h>\n #endif\n@@ -211,7 +214,7 @@ if grep '^const ___WALL = ' gen-sysinfo.go >/dev/null 2>&1 \\\n fi\n \n # Networking constants.\n-egrep '^const _(AF|SOCK|SOL|SO|IPPROTO|TCP|IP|IPV6)_' gen-sysinfo.go |\n+egrep '^const _(AF|ARPHRD|SOCK|SOL|SO|IPPROTO|TCP|IP|IPV6)_' gen-sysinfo.go |\n   sed -e 's/^\\(const \\)_\\([^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n grep '^const _SOMAXCONN' gen-sysinfo.go |\n   sed -e 's/^\\(const \\)_\\(SOMAXCONN[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' \\\n@@ -710,6 +713,10 @@ grep '^type _rtgenmsg ' gen-sysinfo.go | \\\n # The routing message flags.\n grep '^const _RTA' gen-sysinfo.go | \\\n     sed -e 's/^\\(const \\)_\\(RTA[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+grep '^const _RTF' gen-sysinfo.go | \\\n+    sed -e 's/^\\(const \\)_\\(RTF[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+grep '^const _RTCF' gen-sysinfo.go | \\\n+    sed -e 's/^\\(const \\)_\\(RTCF[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n grep '^const _RTM' gen-sysinfo.go | \\\n     sed -e 's/^\\(const \\)_\\(RTM[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n \n@@ -938,6 +945,10 @@ grep '^type _sock_fprog ' gen-sysinfo.go | \\\n       -e 's/_sock_filter/SockFilter/' \\\n     >> ${OUT}\n \n+# The GNU/Linux filter flags.\n+grep '^const _BPF_' gen-sysinfo.go | \\\n+  sed -e 's/^\\(const \\)_\\(BPF_[^= ]*\\)\\(.*\\)$/\\1\\2 = _\\2/' >> ${OUT}\n+\n # The Solaris 11 Update 1 _zone_net_addr_t struct.\n grep '^type _zone_net_addr_t ' gen-sysinfo.go | \\\n     sed -e 's/_in6_addr/[16]byte/' \\"}]}