{"sha": "5b79657a115e3b62fc860ad88238e9ab0b0f6395", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI3OTY1N2ExMTVlM2I2MmZjODYwYWQ4ODIzOGU5YWIwYjBmNjM5NQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2013-09-17T15:46:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2013-09-17T15:46:06Z"}, "message": "re PR ipa/58329 (ld: Invalid symbol type for plabel (.libs/libstdc++.lax/libc++11convenience.a/system_error.o, std::error_category::default_error_condition(int) const [clone .localalias.9]).)\n\n\tPR middle-end/58329\n\t* ipa-devirt.c (ipa_devirt): Be ready for symtab_nonoverwritable_alias\n\tto return NULL.\n\t* ipa.c (function_and_variable_visibility): Likewise.\n\t* ipa-profile.c (ipa_profile): Likewise.\n\nFrom-SVN: r202657", "tree": {"sha": "114983054e860912f00de7bb086f99457a71972c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/114983054e860912f00de7bb086f99457a71972c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b79657a115e3b62fc860ad88238e9ab0b0f6395", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b79657a115e3b62fc860ad88238e9ab0b0f6395", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b79657a115e3b62fc860ad88238e9ab0b0f6395", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b79657a115e3b62fc860ad88238e9ab0b0f6395/comments", "author": null, "committer": null, "parents": [{"sha": "27442c2405bc264c435b485db9a13f6061535aa7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27442c2405bc264c435b485db9a13f6061535aa7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27442c2405bc264c435b485db9a13f6061535aa7"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "3f3a1bc3d7cce59169a1f1f5f96a86f74fc830d9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5b79657a115e3b62fc860ad88238e9ab0b0f6395", "patch": "@@ -1,3 +1,11 @@\n+2013-09-17  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR middle-end/58329\n+\t* ipa-devirt.c (ipa_devirt): Be ready for symtab_nonoverwritable_alias\n+\tto return NULL.\n+\t* ipa.c (function_and_variable_visibility): Likewise.\n+\t* ipa-profile.c (ipa_profile): Likewise.\n+\n 2013-09-17  Bernd Edlinger  <bernd.edlinger@hotmail.de>\n \n \tPR ipa/58398"}, {"sha": "85bc5b0652b9e1af1375621e3051ce2ed9643066", "filename": "gcc/ipa-devirt.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa-devirt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa-devirt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-devirt.c?ref=5b79657a115e3b62fc860ad88238e9ab0b0f6395", "patch": "@@ -1098,7 +1098,13 @@ ipa_devirt (void)\n \t\t\t   cgraph_node_name (likely_target),\n \t\t\t   likely_target->symbol.order);\n \t\tif (!symtab_can_be_discarded ((symtab_node) likely_target))\n-\t\t  likely_target = cgraph (symtab_nonoverwritable_alias ((symtab_node)likely_target));\n+\t\t  {\n+\t\t    cgraph_node *alias;\n+\t\t    alias = cgraph (symtab_nonoverwritable_alias\n+\t\t\t\t     ((symtab_node)likely_target));\n+\t\t    if (alias)\n+\t\t      likely_target = alias;\n+\t\t  }\n \t\tnconverted++;\n \t\tupdate = true;\n \t\tcgraph_turn_edge_to_speculative"}, {"sha": "424e4a6b6fee08cee70326b9518702c1dca72125", "filename": "gcc/ipa-profile.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa-profile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa-profile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-profile.c?ref=5b79657a115e3b62fc860ad88238e9ab0b0f6395", "patch": "@@ -625,7 +625,13 @@ ipa_profile (void)\n \t\t\t of N2.  Speculate on the local alias to allow inlining.\n \t\t       */\n \t\t      if (!symtab_can_be_discarded ((symtab_node) n2))\n-\t\t\tn2 = cgraph (symtab_nonoverwritable_alias ((symtab_node)n2));\n+\t\t\t{\n+\t\t\t  cgraph_node *alias;\n+\t\t\t  alias = cgraph (symtab_nonoverwritable_alias\n+\t\t\t\t\t   ((symtab_node)n2));\n+\t\t\t  if (alias)\n+\t\t\t    n2 = alias;\n+\t\t\t}\n \t\t      nconverted++;\n \t\t      cgraph_turn_edge_to_speculative\n \t\t\t(e, n2,"}, {"sha": "67b3bc0f07c4393ab4df5f0cab58da95e7764b03", "filename": "gcc/ipa.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b79657a115e3b62fc860ad88238e9ab0b0f6395/gcc%2Fipa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa.c?ref=5b79657a115e3b62fc860ad88238e9ab0b0f6395", "patch": "@@ -998,7 +998,7 @@ function_and_variable_visibility (bool whole_program)\n \t{\n \t  struct cgraph_node *alias = cgraph (symtab_nonoverwritable_alias ((symtab_node) node));\n \n-\t  if (alias != node)\n+\t  if (alias && alias != node)\n \t    {\n \t      while (node->callers)\n \t\t{"}]}