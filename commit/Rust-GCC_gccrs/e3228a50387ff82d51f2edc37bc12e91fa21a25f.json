{"sha": "e3228a50387ff82d51f2edc37bc12e91fa21a25f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTMyMjhhNTAzODdmZjgyZDUxZjJlZGMzN2JjMTJlOTFmYTIxYTI1Zg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-09-30T23:19:58Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-09-30T23:19:58Z"}, "message": "re PR fortran/66643 (Missing compilation error for formatted data transfer without format)\n\n2016-09-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/66643\n\t* io.c (match_dt_unit): Peek check for missing format.\n\n\t* gfortran.fortran-torture/compile/arrayio.f90: Update test.\n\t* gfortran.fortran-torture/compile/write.f90: Update test.\n\nFrom-SVN: r240686", "tree": {"sha": "ed4f5abca9436ae6c46615fc7fdb47ec85d7fa1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed4f5abca9436ae6c46615fc7fdb47ec85d7fa1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e3228a50387ff82d51f2edc37bc12e91fa21a25f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3228a50387ff82d51f2edc37bc12e91fa21a25f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3228a50387ff82d51f2edc37bc12e91fa21a25f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3228a50387ff82d51f2edc37bc12e91fa21a25f/comments", "author": null, "committer": null, "parents": [{"sha": "5afa955f12d5be0c748e999f18fa5f57881115b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5afa955f12d5be0c748e999f18fa5f57881115b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5afa955f12d5be0c748e999f18fa5f57881115b8"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "e3097249af4d60807057d4f7de67f4ec623df415", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e3228a50387ff82d51f2edc37bc12e91fa21a25f", "patch": "@@ -1,3 +1,8 @@\n+2016-09-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/66643\n+\t* io.c (match_dt_unit): Peek check for missing format.\n+\n 2016-09-30  Fritz Reese  <fritzoreese@gmail.com>\n \n \tPR fortran/77764"}, {"sha": "7c48c491eeb630200548ee871525a60ba9155475", "filename": "gcc/fortran/io.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ffortran%2Fio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ffortran%2Fio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fio.c?ref=e3228a50387ff82d51f2edc37bc12e91fa21a25f", "patch": "@@ -2688,13 +2688,19 @@ static match\n match_dt_unit (io_kind k, gfc_dt *dt)\n {\n   gfc_expr *e;\n+  char c;\n \n   if (gfc_match_char ('*') == MATCH_YES)\n     {\n       if (dt->io_unit != NULL)\n \tgoto conflict;\n \n       dt->io_unit = default_unit (k);\n+\n+      c = gfc_peek_ascii_char ();\n+      if (c == ')')\n+\tgfc_error_now (\"Missing format with default unit at %C\");\n+\n       return MATCH_YES;\n     }\n "}, {"sha": "01a18526be32d2385921e70773d14f8cb313982b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e3228a50387ff82d51f2edc37bc12e91fa21a25f", "patch": "@@ -1,3 +1,9 @@\n+2016-09-30  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/66643\n+\t* gfortran.fortran-torture/compile/arrayio.f90: Update test.\n+\t* gfortran.fortran-torture/compile/write.f90: Update test.\n+\n 2016-09-30  Matthew Wawhab  <matthew.wahab@arm.com>\n \n \t* gcc.target/arm/fp16-aapcs-3.c: Replace arm_fp16_ok with"}, {"sha": "8c333d437d292d3d11bb9641d3ad4dd9f572dd24", "filename": "gcc/testsuite/gfortran.fortran-torture/compile/arrayio.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Farrayio.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Farrayio.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Farrayio.f90?ref=e3228a50387ff82d51f2edc37bc12e91fa21a25f", "patch": "@@ -8,5 +8,5 @@ program arrayio\n       a(:, j) = (/ (i + (j - 1) * 5, i=1,5) /)\n    end do\n \n-   write (*) a\n+   write (*,*) a\n end program"}, {"sha": "82ca8be4bdd4bb69c43ec989bead7facf43be6a7", "filename": "gcc/testsuite/gfortran.fortran-torture/compile/write.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fwrite.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e3228a50387ff82d51f2edc37bc12e91fa21a25f/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fwrite.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.fortran-torture%2Fcompile%2Fwrite.f90?ref=e3228a50387ff82d51f2edc37bc12e91fa21a25f", "patch": "@@ -1,5 +1,5 @@\n ! Program to test simple IO\n program testwrite\n-   write (*) 1\n-   write (*) \"Hello World\"\n+   write (*,*) 1\n+   write (*,*) \"Hello World\"\n end program"}]}