{"sha": "a45c05572191ff9fe6b0f260008a4408453d6a7f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ1YzA1NTcyMTkxZmY5ZmU2YjBmMjYwMDA4YTQ0MDg0NTNkNmE3Zg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-06-04T18:00:47Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-06-04T18:00:47Z"}, "message": "re PR middle-end/48893 (ICE in evaulate_conditions_for_edge at ipa-inline-analysis.c:477)\n\n\tPR tree-optimization/48893\n\tPR tree-optimization/49091\n\tPR tree-optimization/49179\n\t* ipa-inline-analysis.c (evaluate_conditions_for_known_args):\n\tBounds check.\n\n\t* gfortran.dg/pr49179.f90: New testcase\n\nFrom-SVN: r174648", "tree": {"sha": "476529c301eab3847fc3d9016c03f7c11a2de064", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/476529c301eab3847fc3d9016c03f7c11a2de064"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a45c05572191ff9fe6b0f260008a4408453d6a7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a45c05572191ff9fe6b0f260008a4408453d6a7f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a45c05572191ff9fe6b0f260008a4408453d6a7f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a45c05572191ff9fe6b0f260008a4408453d6a7f/comments", "author": null, "committer": null, "parents": [{"sha": "6c6424b3d7fc813396ee33d3d1ebb65d210aecc5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c6424b3d7fc813396ee33d3d1ebb65d210aecc5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c6424b3d7fc813396ee33d3d1ebb65d210aecc5"}], "stats": {"total": 36, "additions": 35, "deletions": 1}, "files": [{"sha": "3082d711c8ca4943c54a742a57129add79c0b3da", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a45c05572191ff9fe6b0f260008a4408453d6a7f", "patch": "@@ -1,3 +1,11 @@\n+2011-06-04  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/48893\n+\tPR tree-optimization/49091\n+\tPR tree-optimization/49179\n+\t* ipa-inline-analysis.c (evaluate_conditions_for_known_args):\n+\tBounds check.\n+\n 2011-06-04  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/48954"}, {"sha": "ccda67de4627543675cf0960617d2ec31af3e7d1", "filename": "gcc/ipa-inline-analysis.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Fipa-inline-analysis.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Fipa-inline-analysis.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-analysis.c?ref=a45c05572191ff9fe6b0f260008a4408453d6a7f", "patch": "@@ -555,9 +555,17 @@ evaluate_conditions_for_known_args (struct cgraph_node *node,\n \n   for (i = 0; VEC_iterate (condition, info->conds, i, c); i++)\n     {\n-      tree val = VEC_index (tree, known_vals, c->operand_num);\n+      tree val;\n       tree res;\n \n+      /* We allow call stmt to have fewer arguments than the callee\n+\t function (especially for K&R style programs).  So bound\n+\t check here.  */\n+      if (c->operand_num < (int)VEC_length (tree, known_vals))\n+        val = VEC_index (tree, known_vals, c->operand_num);\n+      else\n+\tval = NULL;\n+\n       if (!val)\n \t{\n \t  clause |= 1 << (i + predicate_first_dynamic_condition);"}, {"sha": "c4080ff293051ee74d5c2ded1c9223423c866e44", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a45c05572191ff9fe6b0f260008a4408453d6a7f", "patch": "@@ -1,3 +1,10 @@\n+2011-06-04  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR tree-optimization/48893\n+\tPR tree-optimization/49091\n+\tPR tree-optimization/49179\n+\t* gfortran.dg/pr49179.f90: New testcase\n+\n 2011-06-04  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/48954"}, {"sha": "0a86e9e86508f19e9a805999a9be20ff7d23501f", "filename": "gcc/testsuite/gfortran.dg/pr49179.f90", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr49179.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a45c05572191ff9fe6b0f260008a4408453d6a7f/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr49179.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr49179.f90?ref=a45c05572191ff9fe6b0f260008a4408453d6a7f", "patch": "@@ -0,0 +1,11 @@\n+! { dg-options \" -O -findirect-inlining\" }\n+function more_OK (fcn)\n+  character(*) more_OK\n+  character (*), external :: fcn\n+  more_OK = fcn ()\n+end function more_OK\n+  character(4) :: answer\n+  character(4), external :: is_OK, more_OK\n+  answer = more_OK (is_OK)\n+contains\n+END"}]}