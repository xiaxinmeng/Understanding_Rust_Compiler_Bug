{"sha": "20c96b2a12375679431b9c324259986922d3e577", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjBjOTZiMmExMjM3NTY3OTQzMWI5YzMyNDI1OTk4NjkyMmQzZTU3Nw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "1999-08-25T18:37:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-08-25T18:37:05Z"}, "message": "* jvspec.c (lang_specific_driver): Correctly handle --help again.\n\nFrom-SVN: r28869", "tree": {"sha": "ae85fdbe7ee759424794a605d71bcf7dce1a2388", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae85fdbe7ee759424794a605d71bcf7dce1a2388"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/20c96b2a12375679431b9c324259986922d3e577", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20c96b2a12375679431b9c324259986922d3e577", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20c96b2a12375679431b9c324259986922d3e577", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20c96b2a12375679431b9c324259986922d3e577/comments", "author": null, "committer": null, "parents": [{"sha": "e0485b850c63ef2686dd3adcd4f8bbabaaa39fb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0485b850c63ef2686dd3adcd4f8bbabaaa39fb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0485b850c63ef2686dd3adcd4f8bbabaaa39fb1"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "d30c891a60087f7cfe1771d90808f3cfb6955b88", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20c96b2a12375679431b9c324259986922d3e577/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20c96b2a12375679431b9c324259986922d3e577/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=20c96b2a12375679431b9c324259986922d3e577", "patch": "@@ -1,3 +1,7 @@\n+1999-08-25  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* jvspec.c (lang_specific_driver): Correctly handle --help again.\n+\n 1999-08-25  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* gjavah.c (print_name, print_base_classname, utf8_cmp,"}, {"sha": "81b2b5284d9f90befd5435a71f954c6375af0817", "filename": "gcc/java/jvspec.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/20c96b2a12375679431b9c324259986922d3e577/gcc%2Fjava%2Fjvspec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/20c96b2a12375679431b9c324259986922d3e577/gcc%2Fjava%2Fjvspec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjvspec.c?ref=20c96b2a12375679431b9c324259986922d3e577", "patch": "@@ -190,6 +190,9 @@ lang_specific_driver (fn, in_argc, in_argv, in_added_libraries)\n   /* Non-zero if linking is supposed to happen.  */\n   int will_link = 1;\n \n+  /* Non-zero if we want to find the spec file.  */\n+  int want_spec_file = 1;\n+\n   /* The argument we use to specify the spec file.  */\n   char *spec_file = NULL;\n \n@@ -228,7 +231,7 @@ lang_specific_driver (fn, in_argc, in_argv, in_added_libraries)\n \t      added--;\n \t    }\n \t  else if (strcmp (argv[i], \"-fhelp\") == 0)\n-\t    will_link = 0;\n+\t    want_spec_file = 0;\n \t  else if (strcmp (argv[i], \"-v\") == 0)\n \t    {\n \t      saw_verbose_flag = 1;\n@@ -244,6 +247,7 @@ lang_specific_driver (fn, in_argc, in_argv, in_added_libraries)\n \t  else if (strcmp (argv[i], \"-C\") == 0)\n \t    {\n \t      saw_C = 1;\n+\t      want_spec_file = 0;\n #if COMBINE_INPUTS\n \t      combine_inputs = 1;\n #endif\n@@ -459,7 +463,7 @@ lang_specific_driver (fn, in_argc, in_argv, in_added_libraries)\n   /* Read the specs file corresponding to libgcj.\n      If we didn't find the spec file on the -L path, then we hope it\n      is somewhere in the standard install areas.  */\n-  if (! saw_C)\n+  if (want_spec_file)\n     arglist[j++] = spec_file == NULL ? \"-specs=libgcj.spec\" : spec_file;\n \n   if (saw_C)"}]}