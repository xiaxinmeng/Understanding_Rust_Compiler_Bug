{"sha": "a6365e997e0ea5f378e811d4649fd53c55510c69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYzNjVlOTk3ZTBlYTVmMzc4ZTgxMWQ0NjQ5ZmQ1M2M1NTUxMGM2OQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-08-03T22:57:22Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-08-03T22:57:22Z"}, "message": "re PR target/34888 (Stack patterns for AVR not optimal)\n\nPR target/34888\n        * config/avr/avr.md: New splitter for REG_ARGS_SIZE 0.\n\nFrom-SVN: r177300", "tree": {"sha": "a4e798ba3f10202a8a1504f6b63b3e67bf4dd6fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a4e798ba3f10202a8a1504f6b63b3e67bf4dd6fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6365e997e0ea5f378e811d4649fd53c55510c69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6365e997e0ea5f378e811d4649fd53c55510c69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6365e997e0ea5f378e811d4649fd53c55510c69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6365e997e0ea5f378e811d4649fd53c55510c69/comments", "author": null, "committer": null, "parents": [{"sha": "2c4caf0ab956d49f57544fd65c93dbbd60123eff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c4caf0ab956d49f57544fd65c93dbbd60123eff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c4caf0ab956d49f57544fd65c93dbbd60123eff"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "a6f6b56896773a6ebde8bc5e516a8cd8951d700e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6365e997e0ea5f378e811d4649fd53c55510c69/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6365e997e0ea5f378e811d4649fd53c55510c69/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a6365e997e0ea5f378e811d4649fd53c55510c69", "patch": "@@ -1,3 +1,8 @@\n+2011-08-03  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/34888\n+\t* config/avr/avr.md: New splitter for REG_ARGS_SIZE 0.\n+\n 2011-08-03  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/49948"}, {"sha": "b5aa73c55f28e942ba703f027d6d7161f843638e", "filename": "gcc/config/avr/avr.md", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6365e997e0ea5f378e811d4649fd53c55510c69/gcc%2Fconfig%2Favr%2Favr.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6365e997e0ea5f378e811d4649fd53c55510c69/gcc%2Fconfig%2Favr%2Favr.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.md?ref=a6365e997e0ea5f378e811d4649fd53c55510c69", "patch": "@@ -235,6 +235,17 @@\n   DONE;\n })\n \n+;; Notice a special-case when adding N to SP where N results in a\n+;; zero REG_ARGS_SIZE.  This is equivalent to a move from FP.\n+(define_split\n+  [(set (reg:HI REG_SP) (match_operand:HI 0 \"register_operand\" \"\"))]\n+  \"reload_completed\n+   && frame_pointer_needed\n+   && !cfun->calls_alloca\n+   && find_reg_note (insn, REG_ARGS_SIZE, const0_rtx)\"\n+  [(set (reg:HI REG_SP) (reg:HI REG_Y))]\n+  \"\")\n+\n ;;========================================================================\n ;; move byte\n ;; The last alternative (any immediate constant to any register) is"}]}