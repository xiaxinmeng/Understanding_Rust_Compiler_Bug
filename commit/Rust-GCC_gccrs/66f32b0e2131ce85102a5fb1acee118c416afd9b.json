{"sha": "66f32b0e2131ce85102a5fb1acee118c416afd9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjZmMzJiMGUyMTMxY2U4NTEwMmE1ZmIxYWNlZTExOGM0MTZhZmQ5Yg==", "commit": {"author": {"name": "Andrew Benson", "email": "abensonca@gmail.com", "date": "2018-08-22T17:47:53Z"}, "committer": {"name": "Andrew Benson", "email": "abensonca@gcc.gnu.org", "date": "2018-08-22T17:47:53Z"}, "message": "module.c (load_generic_interfaces): Move call to find_symbol() so that only occurs if actually needed.\n\n2018-08-22  Andrew Benson  <abensonca@gmail.com>\n\n        * module.c (load_generic_interfaces): Move call to find_symbol()\n        so that only occurs if actually needed.\n\nFrom-SVN: r263784", "tree": {"sha": "d9eeda0615f4e2099881b8420dcfd9a9562b6fde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9eeda0615f4e2099881b8420dcfd9a9562b6fde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66f32b0e2131ce85102a5fb1acee118c416afd9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66f32b0e2131ce85102a5fb1acee118c416afd9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66f32b0e2131ce85102a5fb1acee118c416afd9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66f32b0e2131ce85102a5fb1acee118c416afd9b/comments", "author": {"login": "abensonca", "id": 7468651, "node_id": "MDQ6VXNlcjc0Njg2NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/7468651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abensonca", "html_url": "https://github.com/abensonca", "followers_url": "https://api.github.com/users/abensonca/followers", "following_url": "https://api.github.com/users/abensonca/following{/other_user}", "gists_url": "https://api.github.com/users/abensonca/gists{/gist_id}", "starred_url": "https://api.github.com/users/abensonca/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abensonca/subscriptions", "organizations_url": "https://api.github.com/users/abensonca/orgs", "repos_url": "https://api.github.com/users/abensonca/repos", "events_url": "https://api.github.com/users/abensonca/events{/privacy}", "received_events_url": "https://api.github.com/users/abensonca/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fe26fd66b05e00fd686c5992d89760991c791f28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe26fd66b05e00fd686c5992d89760991c791f28", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe26fd66b05e00fd686c5992d89760991c791f28"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "88edff3eed6edfa94459e8b2fb84a8cd02517bdb", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66f32b0e2131ce85102a5fb1acee118c416afd9b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66f32b0e2131ce85102a5fb1acee118c416afd9b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=66f32b0e2131ce85102a5fb1acee118c416afd9b", "patch": "@@ -1,3 +1,8 @@\n+2018-08-22  Andrew Benson  <abensonca@gmail.com>\n+\n+\t* module.c (load_generic_interfaces): Move call to find_symbol()\n+\tso that only occurs if actually needed.\n+\n 2018-08-22  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/86888"}, {"sha": "993ea9f16b90331f893166fc5767a24ac37cf6c7", "filename": "gcc/fortran/module.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66f32b0e2131ce85102a5fb1acee118c416afd9b/gcc%2Ffortran%2Fmodule.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66f32b0e2131ce85102a5fb1acee118c416afd9b/gcc%2Ffortran%2Fmodule.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmodule.c?ref=66f32b0e2131ce85102a5fb1acee118c416afd9b", "patch": "@@ -4559,9 +4559,6 @@ load_generic_interfaces (void)\n \t  /* Decide if we need to load this one or not.  */\n \t  p = find_use_name_n (name, &i, false);\n \n-\t  st = find_symbol (gfc_current_ns->sym_root,\n-\t\t\t    name, module_name, 1);\n-\n \t  if (!p || gfc_find_symbol (p, NULL, 0, &sym))\n \t    {\n \t      /* Skip the specific names for these cases.  */\n@@ -4570,6 +4567,9 @@ load_generic_interfaces (void)\n \t      continue;\n \t    }\n \n+\t  st = find_symbol (gfc_current_ns->sym_root,\n+\t\t\t    name, module_name, 1);\n+\n \t  /* If the symbol exists already and is being USEd without being\n \t     in an ONLY clause, do not load a new symtree(11.3.2).  */\n \t  if (!only_flag && st)"}]}