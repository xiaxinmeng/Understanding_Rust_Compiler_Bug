{"sha": "8683f0519256c1428d3ec283aed501b21323390a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY4M2YwNTE5MjU2YzE0MjhkM2VjMjgzYWVkNTAxYjIxMzIzMzkwYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-09-07T13:16:31Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-09-07T13:16:31Z"}, "message": "gimple.c (maybe_fold_reference): Verify that operand is gimple_min_invariant.\n\n\n\t* gimple.c (maybe_fold_reference): Verify that operand is\n\tgimple_min_invariant.\n\t* gcc.c-torture/compile/20100907.c: New testcase.\n\nFrom-SVN: r163948", "tree": {"sha": "b327d1f4ecc22c6b930e396cb8fc3debeba53133", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b327d1f4ecc22c6b930e396cb8fc3debeba53133"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8683f0519256c1428d3ec283aed501b21323390a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8683f0519256c1428d3ec283aed501b21323390a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8683f0519256c1428d3ec283aed501b21323390a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8683f0519256c1428d3ec283aed501b21323390a/comments", "author": null, "committer": null, "parents": [{"sha": "f5e5b46c4b1720ef7ad0971df215885e2429e41c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5e5b46c4b1720ef7ad0971df215885e2429e41c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5e5b46c4b1720ef7ad0971df215885e2429e41c"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "85ea9d492aa1a07b845e418d5884389f58766918", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8683f0519256c1428d3ec283aed501b21323390a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8683f0519256c1428d3ec283aed501b21323390a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8683f0519256c1428d3ec283aed501b21323390a", "patch": "@@ -1,3 +1,8 @@\n+2010-09-07  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gimple.c (maybe_fold_reference): Verify that operand is\n+\tgimple_min_invariant.\n+\n 2010-09-07  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/45569"}, {"sha": "d6e35807d05622431c5eda197541fa2d02b9be66", "filename": "gcc/gimple-fold.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Fgimple-fold.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Fgimple-fold.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-fold.c?ref=8683f0519256c1428d3ec283aed501b21323390a", "patch": "@@ -477,7 +477,8 @@ maybe_fold_reference (tree expr, bool is_lhs)\n   tree result;\n \n   if (!is_lhs\n-      && (result = fold_const_aggregate_ref (expr)))\n+      && (result = fold_const_aggregate_ref (expr))\n+      && is_gimple_min_invariant (result))\n     return result;\n \n   /* ???  We might want to open-code the relevant remaining cases"}, {"sha": "5c04a042904438a87c11f095e84b488675599bda", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8683f0519256c1428d3ec283aed501b21323390a", "patch": "@@ -1,3 +1,7 @@\n+2010-09-07  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcc.c-torture/compile/20100907.c: New testcase.\n+\n 2010-09-07  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/45569"}, {"sha": "2e6cfb9ff9f81b9dbb83d930d9b32ea5c545da58", "filename": "gcc/testsuite/gcc.c-torture/compile/20100907.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20100907.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8683f0519256c1428d3ec283aed501b21323390a/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20100907.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2F20100907.c?ref=8683f0519256c1428d3ec283aed501b21323390a", "patch": "@@ -0,0 +1,9 @@\n+struct a {int a,b;};\n+const static struct a a[1]={{1,2}};\n+struct a b,c;\n+t()\n+{\n+  int idx = 0;\n+  b=a[idx];\n+  c=a[idx];\n+}"}]}