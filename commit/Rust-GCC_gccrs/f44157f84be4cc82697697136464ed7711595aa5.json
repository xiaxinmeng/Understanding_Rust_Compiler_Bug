{"sha": "f44157f84be4cc82697697136464ed7711595aa5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ0MTU3Zjg0YmU0Y2M4MjY5NzY5NzEzNjQ2NGVkNzcxMTU5NWFhNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-08-18T14:29:10Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-08-18T14:29:10Z"}, "message": "re PR target/50009 (Segmentation fault in tree_nop_conversion)\n\n\tPR target/50009\n\t* stor-layout.c (update_alignment_for_field): Don't ICE on\n\tpacked flexible array members if ms_bitfield_layout_p.\n\n\t* gcc.c-torture/compile/pr50009.c: New test.\n\nFrom-SVN: r177860", "tree": {"sha": "fddcb74210d82810ffc46db601a295575dc146eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fddcb74210d82810ffc46db601a295575dc146eb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f44157f84be4cc82697697136464ed7711595aa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f44157f84be4cc82697697136464ed7711595aa5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f44157f84be4cc82697697136464ed7711595aa5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f44157f84be4cc82697697136464ed7711595aa5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2a63286d368fe6b627912d8db5c879e14400c72c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a63286d368fe6b627912d8db5c879e14400c72c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a63286d368fe6b627912d8db5c879e14400c72c"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "0c3c5af5c3e929801d335584f36205e6742be2c8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f44157f84be4cc82697697136464ed7711595aa5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f44157f84be4cc82697697136464ed7711595aa5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f44157f84be4cc82697697136464ed7711595aa5", "patch": "@@ -1,5 +1,9 @@\n 2011-08-18  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR target/50009\n+\t* stor-layout.c (update_alignment_for_field): Don't ICE on\n+\tpacked flexible array members if ms_bitfield_layout_p.\n+\n \tPR target/50092\n \t* config/i386/i386.c (assign_386_stack_local): Call validize_mem\n \ton the result before returning it."}, {"sha": "f15da0ce30f95dc5bf7c01446ca627ecd4de9a07", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=f44157f84be4cc82697697136464ed7711595aa5", "patch": "@@ -1,7 +1,7 @@\n /* C-compiler utilities for types and variables storage layout\n    Copyright (C) 1987, 1988, 1992, 1993, 1994, 1995, 1996, 1996, 1998,\n-   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010\n-   Free Software Foundation, Inc.\n+   1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n+   2011 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -935,7 +935,8 @@ update_alignment_for_field (record_layout_info rli, tree field,\n \t applies if there was an immediately prior, nonzero-size\n \t bitfield.  (That's the way it is, experimentally.) */\n       if ((!is_bitfield && !DECL_PACKED (field))\n-\t  || (!integer_zerop (DECL_SIZE (field))\n+\t  || ((DECL_SIZE (field) == NULL_TREE\n+\t       || !integer_zerop (DECL_SIZE (field)))\n \t      ? !DECL_PACKED (field)\n \t      : (rli->prev_field\n \t\t && DECL_BIT_FIELD_TYPE (rli->prev_field)"}, {"sha": "99345f32dc380da7e55e55a155df4af646199fe1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f44157f84be4cc82697697136464ed7711595aa5", "patch": "@@ -1,5 +1,8 @@\n 2011-08-18  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR target/50009\n+\t* gcc.c-torture/compile/pr50009.c: New test.\n+\n \tPR target/50092\n \t* gcc.dg/torture/pr50092.c: New test.\n "}, {"sha": "ade170c7d4822946e70e512ecb4c899656a2737f", "filename": "gcc/testsuite/gcc.c-torture/compile/pr50009.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50009.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f44157f84be4cc82697697136464ed7711595aa5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50009.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr50009.c?ref=f44157f84be4cc82697697136464ed7711595aa5", "patch": "@@ -0,0 +1,6 @@\n+/* PR target/50009 */\n+\n+struct S {\n+  short a;\n+  short b[];\n+} __attribute__((packed));"}]}