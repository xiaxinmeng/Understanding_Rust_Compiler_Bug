{"sha": "fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmIyYmY2MzE4OTBkZDgxYjljNWE5NTc5ZDBhOTU0YWFhYjllZTRlYw==", "commit": {"author": {"name": "Graham Stott", "email": "grahams@redhat.com", "date": "2002-01-03T05:22:51Z"}, "committer": {"name": "Graham Stott", "email": "grahams@gcc.gnu.org", "date": "2002-01-03T05:22:51Z"}, "message": "mkconfig.sh: Output to config.h...\n\n\n\t* mkconfig.sh: Output to config.h, hconfig.h and tconfig.h\n \tforward defs for struct tags rtx_def, union_tree, rtvec_def\n \talso output corresponding typedefs for rtxm, tree, and rtvcec.\n\n \t* system.h: Move forward defs for struct tags rtx_def, union_tree,\n \trtvec_def along with corresponding typedefs for rtx, tree, and\n \trtvcec to config.h, hconfig.h, tconfig.h\n\nFrom-SVN: r48499", "tree": {"sha": "1439891a388da71d9d3697962f15432fbd3e35a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1439891a388da71d9d3697962f15432fbd3e35a0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/comments", "author": null, "committer": null, "parents": [{"sha": "b9daac31920bd6c26751068a1c40164f49d48224", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9daac31920bd6c26751068a1c40164f49d48224", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9daac31920bd6c26751068a1c40164f49d48224"}], "stats": {"total": 45, "additions": 32, "deletions": 13}, "files": [{"sha": "a230405eac17c6e81fa8713f19ca96886e9f4abe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "patch": "@@ -1,4 +1,14 @@\n-2000-01-03  Graham Stott  <grahams@redhat.com>\n+2002-01-03  Graham Stott  <grahams@redhat.com>\n+\n+\t* mkconfig.sh: Output to config.h, hconfig.h and tconfig.h\n+\tforward defs for struct tags rtx_def, union_tree, rtvec_def\n+\talso output corresponding typedefs for rtxm, tree, and rtvcec.\n+\n+\t* system.h: Move forward defs for struct tags rtx_def, union_tree,\n+\trtvec_def along with corresponding typedefs for rtx, tree, and\n+\trtvcec to config.h, hconfig.h, tconfig.h\n+\n+2002-01-03  Graham Stott  <grahams@redhat.com>\n \n \t* tree.h: Update copyright date.\n \t(IS_EXPR_CODE_CLASS): Add parenthesis."}, {"sha": "b63e40a7087435feb727fa72ec8d324b22b985a0", "filename": "gcc/mkconfig.sh", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2Fmkconfig.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2Fmkconfig.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmkconfig.sh?ref=fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "patch": "@@ -35,6 +35,27 @@ if [ -n \"$HEADERS\" ]; then\n     esac\n fi\n \n+# Provide three core typedefs used by everything, if we are compiling\n+# GCC.  These used to be found in rtl.h and tree.h, but this is no\n+# longer practical. Providing these in config.h/tconfig.h/hconfig.h\n+# rather than system.h allows the typedefs to be used anywhere in GCC.\n+case $output in \n+    *config.h | *hconfig.h | *tconfig.h)\n+        echo \"#ifdef IN_GCC\"\n+        echo \"/* Provide three core typedefs used by everything, if we are compiling\"\n+        echo \"   GCC.  These used to be found in rtl.h and tree.h, but this is no\"\n+        echo \"   longer practical.  Providing these here rather that system.h allows\"\n+        echo \"   the typedefs to be used everywhere within GCC. */\"\n+        echo \"struct rtx_def;\"\n+        echo \"typedef struct rtx_def *rtx;\"\n+        echo \"struct rtvec_def;\"\n+        echo \"typedef struct rtvec_def *rtvec;\"\n+        echo \"union tree_node;\"\n+        echo \"typedef union tree_node *tree;\"\n+        echo \"#endif\"\n+        ;;\n+esac\n+\n if [ -n \"$HEADERS\" ]; then\n     echo '#ifdef IN_GCC'\n     for file in $HEADERS; do"}, {"sha": "ccccae767ceb099a6c6033133327ae0c573c9224", "filename": "gcc/system.h", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=fb2bf631890dd81b9c5a9579d0a954aaab9ee4ec", "patch": "@@ -557,18 +557,6 @@ typedef char _Bool;\n #define TRUE true\n #define FALSE false\n \n-/* Provide three core typedefs used by everything, if we are compiling\n-   GCC.  These used to be found in rtl.h and tree.h, but this is no\n-   longer practical.  */\n-#ifdef IN_GCC\n-struct rtx_def;\n-struct rtvec_def;\n-union tree_node;\n-typedef struct rtx_def *rtx;\n-typedef struct rtvec_def *rtvec;\n-typedef union tree_node *tree;\n-#endif\n-\n /* As the last action in this file, we poison the identifiers that\n    shouldn't be used.  Note, luckily gcc-3.0's token-based integrated\n    preprocessor won't trip on poisoned identifiers that arrive from"}]}