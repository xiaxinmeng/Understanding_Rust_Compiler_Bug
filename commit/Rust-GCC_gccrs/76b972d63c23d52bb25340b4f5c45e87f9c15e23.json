{"sha": "76b972d63c23d52bb25340b4f5c45e87f9c15e23", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzZiOTcyZDYzYzIzZDUyYmIyNTM0MGI0ZjVjNDVlODdmOWMxNWUyMw==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2007-01-14T15:38:18Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2007-01-14T15:38:18Z"}, "message": "ld-symbolic.m4: New.\n\nconfig/\n\n2007-01-14  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* ld-symbolic.m4: New.\n\nlibjava/\n\n2007-01-14  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* Makefile.am (libgcj_la_LDFLAGS): Add\n\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS).\n\t(libgcj_tools_la_LDFLAGS): Likewise.\n\t(libgcj_bc_la_LDFLAGS): Likewise.\n\t* Makefile.in: Regenerated.\n\n\t* configure.ac: Use ACX_PROG_LD_GNU_SYMBOLIC.  Set\n\tLIBGCJ_LD_SYMBOLIC_FUNCTIONS to $SYMBOLIC_LDFLAGS.  Set\n\tlibgcj_ld_symbolic to $SYMBOLIC_LDFLAGS if it isn't set.\n\tSubstitute LIBGCJ_LD_SYMBOLIC_FUNCTIONS.\n\t* configure: Regenerated.\n\t* aclocal.m4: Likewise.\n\t* gcj/Makefile.in: Likewise.\n\t* include/Makefile.in: Likewise.\n\t* testsuite/Makefile.in: Likewise.\n\nFrom-SVN: r120773", "tree": {"sha": "ea1d5087ddb4d800e3325325d953392f72507ce3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea1d5087ddb4d800e3325325d953392f72507ce3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76b972d63c23d52bb25340b4f5c45e87f9c15e23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76b972d63c23d52bb25340b4f5c45e87f9c15e23", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76b972d63c23d52bb25340b4f5c45e87f9c15e23", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76b972d63c23d52bb25340b4f5c45e87f9c15e23/comments", "author": null, "committer": null, "parents": [{"sha": "c89686a895de9490e7be5c47865cb5cd3fc0401e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c89686a895de9490e7be5c47865cb5cd3fc0401e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c89686a895de9490e7be5c47865cb5cd3fc0401e"}], "stats": {"total": 181, "additions": 162, "deletions": 19}, "files": [{"sha": "bf596163c93f61c65a62b101c69a89f17a94e86c", "filename": "config/ChangeLog", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -1,7 +1,11 @@\n+2007-01-14  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* ld-symbolic.m4: New.\n+\n 2007-01-11  Paolo Bonzini  <bonzini@gnu.org>\n \n-        * warnings.m4: Use m4_expand_once to clear the AC_SUBST'ed variable.\n-        (ACX_PROG_CC_WARNINGS_ARE_ERRORS): Fix typo.  Add optional 2nd argument.\n+\t* warnings.m4: Use m4_expand_once to clear the AC_SUBST'ed variable.\n+\t(ACX_PROG_CC_WARNINGS_ARE_ERRORS): Fix typo.  Add optional 2nd argument.\n \n 2007-01-11  Paolo Bonzini  <bonzini@gnu.org>\n "}, {"sha": "16d64f9ad383c8e08d4490bc897eb5ea2b01ce3e", "filename": "config/ld-symbolic.m4", "status": "added", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/config%2Fld-symbolic.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/config%2Fld-symbolic.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fld-symbolic.m4?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -0,0 +1,45 @@\n+dnl Copyright (C) 2007 Free Software Foundation, Inc.\n+dnl This file is free software, distributed under the terms of the GNU\n+dnl General Public License.  As a special exception to the GNU General\n+dnl Public License, this file may be distributed as part of a program\n+dnl that contains a configuration script generated by Autoconf, under\n+dnl the same distribution terms as the rest of that program.\n+\n+dnl Set SYMBOLIC_LDFLAGS to -Bsymbolic-functions for GNU linker if it\n+dnl is supported.\n+AC_DEFUN([ACX_PROG_LD_GNU_SYMBOLIC],\n+[AC_CACHE_CHECK([if the GNU linker ($LD) supports -Bsymbolic-functions],\n+acl_cv_prog_gnu_ld_symbolic, [\n+acl_cv_prog_gnu_ld_symbolic=no\n+AC_REQUIRE([AC_LIB_PROG_LD_GNU])\n+if test x\"$with_gnu_ld\" = x\"yes\"; then\n+  if $LD --help 2>&1 </dev/null | grep Bsymbolic-functions 1>&5; then\n+    acl_cv_prog_gnu_ld_symbolic=yes\n+  fi\n+fi])\n+if test x\"$acl_cv_prog_gnu_ld_symbolic\" = x\"yes\"; then\n+  SYMBOLIC_LDFLAGS=\"-Wl,-Bsymbolic-functions\"\n+else\n+  SYMBOLIC_LDFLAGS=''\n+fi\n+])\n+\n+dnl Set DYNAMIC_LIST_CPP_NEW_LDFLAGS to --dynamic-list-cpp-new for GNU\n+dnl linker if it is supported.\n+AC_DEFUN([ACX_PROG_LD_GNU_DYNAMIC_LIST_CPP_NEW],\n+[AC_CACHE_CHECK([if the GNU linker ($LD) supports --dynamic-list-cpp-new],\n+acl_cv_prog_gnu_ld_dynamic_list_cpp_new, [\n+acl_cv_prog_gnu_ld_dynamic_list_cpp_new=no\n+AC_REQUIRE([ACX_PROG_LD_GNU_SYMBOLIC])\n+if test x\"$with_gnu_ld\" = x\"yes\" -a \\\n+\tx\"$acl_cv_prog_gnu_ld_symbolic\" = x\"yes\"; then\n+  if $LD --help 2>&1 </dev/null | grep dynamic-list-cpp-new 1>&5; then\n+    acl_cv_prog_gnu_ld_dynamic_list_cpp_new=yes\n+  fi\n+fi])\n+if test x\"$acl_cv_prog_gnu_ld_dynamic_list_cpp_new\" = x\"yes\"; then\n+   DYNAMIC_LIST_CPP_NEW_LDFLAGS=\"$SYMBOLIC_LDFLAGS -Wl,--dynamic-list-cpp-new\"\n+else\n+   DYNAMIC_LIST_CPP_NEW_LDFLAGS=''\n+fi\n+])"}, {"sha": "af4a1a7cfbaefe22a10e27a4c46435f6c8960cb9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -1,3 +1,21 @@\n+2007-01-14  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* Makefile.am (libgcj_la_LDFLAGS): Add\n+\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS).\n+\t(libgcj_tools_la_LDFLAGS): Likewise.\n+\t(libgcj_bc_la_LDFLAGS): Likewise.\n+\t* Makefile.in: Regenerated.\n+\n+\t* configure.ac: Use ACX_PROG_LD_GNU_SYMBOLIC.  Set\n+\tLIBGCJ_LD_SYMBOLIC_FUNCTIONS to $SYMBOLIC_LDFLAGS.  Set\n+\tlibgcj_ld_symbolic to $SYMBOLIC_LDFLAGS if it isn't set.\n+\tSubstitute LIBGCJ_LD_SYMBOLIC_FUNCTIONS.\n+\t* configure: Regenerated.\n+\t* aclocal.m4: Likewise.\n+\t* gcj/Makefile.in: Likewise.\n+\t* include/Makefile.in: Likewise.\n+\t* testsuite/Makefile.in: Likewise.\n+\n 2007-01-12  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \t* sysdep/sh/locks.h (read_barrier): New."}, {"sha": "a8b2fffc255f1ceb89f27705abea6b9e7d834188", "filename": "libjava/Makefile.am", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -230,7 +230,8 @@ xlib_nat_files = $(xlib_nat_source_files:.cc=.lo)\n ## The mysterious backslash in the grep pattern is consumed by make.\n libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) $(THREADLDFLAGS) $(THREADLIBS) \\\n \t$(LIBLTDL) $(SYS_ZLIBS) \\\n-\t-version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n+\t-version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n+\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n libgcj_la_LIBADD = \\\n \tclasspath/native/fdlibm/libfdlibm.la \\\n \tjava/lang/Object.lo \\\n@@ -256,7 +257,8 @@ EXTRA_libgcj_la_SOURCES = java/lang/Object.java\n libgcj_tools_la_SOURCES = classpath/tools/tools.zip\n libgcj_tools_la_GCJFLAGS = $(AM_GCJFLAGS) -findirect-dispatch -fno-indirect-classes  -fsource-filename=$(here)/classpath/tools/all-classes.lst\n libgcj_tools_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n- -version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n+ -version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n+ $(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n libgcj_tools_la_DEPENDENCIES = libgcj.la libgcj.spec\n libgcj_tools_la_LINK = $(LIBLINK)\n \n@@ -299,7 +301,8 @@ lib_gnu_awt_xlib_la_LINK = $(LIBLINK)\n ##\n ## This lets us have one soname in BC objects and another in C++ ABI objects.\n libgcj_bc_la_SOURCES = libgcj_bc.c\n-libgcj_bc_la_LDFLAGS = -rpath $(toolexeclibdir) -no-static -version-info 1:0:0\n+libgcj_bc_la_LDFLAGS = -rpath $(toolexeclibdir) -no-static -version-info 1:0:0 \\\n+\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n libgcj_bc_la_LIBADD = libgcj.la\n libgcj_bc_la_DEPENDENCIES = libgcj.la\n libgcj_bc_la_LINK = $(LIBLINK)"}, {"sha": "0f052e67b9d30a6ddbe38aaef1cb0f1975727ae5", "filename": "libjava/Makefile.in", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -83,6 +83,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/gxx-include-dir.m4 \\\n \t$(top_srcdir)/../config/iconv.m4 \\\n \t$(top_srcdir)/../config/lcmessage.m4 \\\n+\t$(top_srcdir)/../config/ld-symbolic.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/lib-ld.m4 \\\n \t$(top_srcdir)/../config/lib-link.m4 \\\n@@ -619,6 +620,7 @@ LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n LIBGCJ_JAVAFLAGS = @LIBGCJ_JAVAFLAGS@\n LIBGCJ_LD_SYMBOLIC = @LIBGCJ_LD_SYMBOLIC@\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS = @LIBGCJ_LD_SYMBOLIC_FUNCTIONS@\n LIBGCJ_SPEC = @LIBGCJ_SPEC@\n LIBICONV = @LIBICONV@\n LIBLTDL = @LIBLTDL@\n@@ -872,7 +874,8 @@ xlib_nat_files = $(xlib_nat_source_files:.cc=.lo)\n # certain linuxthread functions get linked:\n libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) $(THREADLDFLAGS) $(THREADLIBS) \\\n \t$(LIBLTDL) $(SYS_ZLIBS) \\\n-\t-version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n+\t-version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n+\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n \n libgcj_la_LIBADD = \\\n \tclasspath/native/fdlibm/libfdlibm.la \\\n@@ -896,7 +899,8 @@ EXTRA_libgcj_la_SOURCES = java/lang/Object.java\n libgcj_tools_la_SOURCES = classpath/tools/tools.zip\n libgcj_tools_la_GCJFLAGS = $(AM_GCJFLAGS) -findirect-dispatch -fno-indirect-classes  -fsource-filename=$(here)/classpath/tools/all-classes.lst\n libgcj_tools_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n- -version-info `grep -v '^\\#' $(srcdir)/libtool-version`\n+ -version-info `grep -v '^\\#' $(srcdir)/libtool-version` \\\n+ $(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n \n libgcj_tools_la_DEPENDENCIES = libgcj.la libgcj.spec\n libgcj_tools_la_LINK = $(LIBLINK)\n@@ -923,7 +927,9 @@ lib_gnu_awt_xlib_la_LDFLAGS = ../libstdc++-v3/src/libstdc++.la \\\n \n lib_gnu_awt_xlib_la_LINK = $(LIBLINK)\n libgcj_bc_la_SOURCES = libgcj_bc.c\n-libgcj_bc_la_LDFLAGS = -rpath $(toolexeclibdir) -no-static -version-info 1:0:0\n+libgcj_bc_la_LDFLAGS = -rpath $(toolexeclibdir) -no-static -version-info 1:0:0 \\\n+\t$(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n+\n libgcj_bc_la_LIBADD = libgcj.la\n libgcj_bc_la_DEPENDENCIES = libgcj.la\n libgcj_bc_la_LINK = $(LIBLINK)"}, {"sha": "2834609a6bc5455b865d20d48d4fd8dba4a5f3a9", "filename": "libjava/aclocal.m4", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Faclocal.m4?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -909,6 +909,7 @@ m4_include([../config/enable.m4])\n m4_include([../config/gxx-include-dir.m4])\n m4_include([../config/iconv.m4])\n m4_include([../config/lcmessage.m4])\n+m4_include([../config/ld-symbolic.m4])\n m4_include([../config/lead-dot.m4])\n m4_include([../config/lib-ld.m4])\n m4_include([../config/lib-link.m4])"}, {"sha": "5306074894f5db1ee8f05bb5de55484c29461aa9", "filename": "libjava/configure", "status": "modified", "additions": 63, "deletions": 11, "changes": 74, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -310,7 +310,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB JAR ZIP UNZIP BASH_JAR_TRUE BASH_JAR_FALSE MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE X_AWT_TRUE X_AWT_FALSE GCJ_FOR_ECJX GCJH host_exeext INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE ECJ_BUILD_JAR ECJ_JAR BUILD_ECJ1_TRUE BUILD_ECJ1_FALSE INSTALL_ECJ_JAR_TRUE INSTALL_ECJ_JAR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADSTARTFILESPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE USE_LIBGCJ_BC_TRUE USE_LIBGCJ_BC_FALSE LIBGCJ_SPEC HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV LIBMAGIC PKG_CONFIG GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE ENABLE_SHARED_TRUE ENABLE_SHARED_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB JAR ZIP UNZIP BASH_JAR_TRUE BASH_JAR_FALSE MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJ_LD_SYMBOLIC_FUNCTIONS LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE X_AWT_TRUE X_AWT_FALSE GCJ_FOR_ECJX GCJH host_exeext INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE ECJ_BUILD_JAR ECJ_JAR BUILD_ECJ1_TRUE BUILD_ECJ1_FALSE INSTALL_ECJ_JAR_TRUE INSTALL_ECJ_JAR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADSTARTFILESPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE USE_LIBGCJ_BC_TRUE USE_LIBGCJ_BC_FALSE LIBGCJ_SPEC HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV LIBMAGIC PKG_CONFIG GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE ENABLE_SHARED_TRUE ENABLE_SHARED_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -4332,10 +4332,55 @@ libgcj_javaflags=\n \n . ${srcdir}/configure.host\n \n+echo \"$as_me:$LINENO: checking if the linker ($LD) is GNU ld\" >&5\n+echo $ECHO_N \"checking if the linker ($LD) is GNU ld... $ECHO_C\" >&6\n+if test \"${acl_cv_prog_gnu_ld+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  acl_cv_prog_gnu_ld=yes\n+else\n+  acl_cv_prog_gnu_ld=no\n+fi\n+fi\n+echo \"$as_me:$LINENO: result: $acl_cv_prog_gnu_ld\" >&5\n+echo \"${ECHO_T}$acl_cv_prog_gnu_ld\" >&6\n+with_gnu_ld=$acl_cv_prog_gnu_ld\n+\n+echo \"$as_me:$LINENO: checking if the GNU linker ($LD) supports -Bsymbolic-functions\" >&5\n+echo $ECHO_N \"checking if the GNU linker ($LD) supports -Bsymbolic-functions... $ECHO_C\" >&6\n+if test \"${acl_cv_prog_gnu_ld_symbolic+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+acl_cv_prog_gnu_ld_symbolic=no\n+\n+if test x\"$with_gnu_ld\" = x\"yes\"; then\n+  if $LD --help 2>&1 </dev/null | grep Bsymbolic-functions 1>&5; then\n+    acl_cv_prog_gnu_ld_symbolic=yes\n+  fi\n+fi\n+fi\n+echo \"$as_me:$LINENO: result: $acl_cv_prog_gnu_ld_symbolic\" >&5\n+echo \"${ECHO_T}$acl_cv_prog_gnu_ld_symbolic\" >&6\n+if test x\"$acl_cv_prog_gnu_ld_symbolic\" = x\"yes\"; then\n+  SYMBOLIC_LDFLAGS=\"-Wl,-Bsymbolic-functions\"\n+else\n+  SYMBOLIC_LDFLAGS=''\n+fi\n+\n+libgcj_ld_symbolic_functions=$SYMBOLIC_LDFLAGS\n+if test -z \"$libgcj_ld_symbolic\"; then\n+  libgcj_ld_symbolic=$SYMBOLIC_LDFLAGS\n+fi\n+\n LIBGCJ_CFLAGS=\"${libgcj_cflags}\"\n LIBGCJ_CXXFLAGS=\"${libgcj_cxxflags}\"\n LIBGCJ_JAVAFLAGS=\"${libgcj_javaflags}\"\n LIBGCJ_LD_SYMBOLIC=\"${libgcj_ld_symbolic}\"\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS=\"${libgcj_ld_symbolic_functions}\"\n+\n \n \n \n@@ -5971,7 +6016,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 5974 \"configure\"' > conftest.$ac_ext\n+  echo '#line 6019 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -7013,7 +7058,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 7016 \"configure\"\n+#line 7061 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -7813,7 +7858,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lXt $LIBS\"\n+  LIBS=\"-lX11 $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n@@ -16773,12 +16818,17 @@ if test \"${have_tls+set}\" = set; then\n else\n \n     if test \"$cross_compiling\" = yes; then\n-  cat >conftest.$ac_ext <<_ACEOF\n-__thread int foo;\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int main() { return a = b; }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -16792,7 +16842,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -16805,7 +16855,8 @@ sed 's/^/| /' conftest.$ac_ext >&5\n \n have_tls=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n \n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -17964,6 +18015,7 @@ s,@LIBGCJ_CFLAGS@,$LIBGCJ_CFLAGS,;t t\n s,@LIBGCJ_CXXFLAGS@,$LIBGCJ_CXXFLAGS,;t t\n s,@LIBGCJ_JAVAFLAGS@,$LIBGCJ_JAVAFLAGS,;t t\n s,@LIBGCJ_LD_SYMBOLIC@,$LIBGCJ_LD_SYMBOLIC,;t t\n+s,@LIBGCJ_LD_SYMBOLIC_FUNCTIONS@,$LIBGCJ_LD_SYMBOLIC_FUNCTIONS,;t t\n s,@LIBGCJDEBUG@,$LIBGCJDEBUG,;t t\n s,@TOOLKIT@,$TOOLKIT,;t t\n s,@XLIB_AWT_TRUE@,$XLIB_AWT_TRUE,;t t"}, {"sha": "d0d207e0c036e88b61e5bf85130ca1da3f87b754", "filename": "libjava/configure.ac", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -173,14 +173,22 @@ libgcj_javaflags=\n \n . ${srcdir}/configure.host\n \n+ACX_PROG_LD_GNU_SYMBOLIC\n+libgcj_ld_symbolic_functions=$SYMBOLIC_LDFLAGS\n+if test -z \"$libgcj_ld_symbolic\"; then\n+  libgcj_ld_symbolic=$SYMBOLIC_LDFLAGS\n+fi\n+\n LIBGCJ_CFLAGS=\"${libgcj_cflags}\"\n LIBGCJ_CXXFLAGS=\"${libgcj_cxxflags}\"\n LIBGCJ_JAVAFLAGS=\"${libgcj_javaflags}\"\n LIBGCJ_LD_SYMBOLIC=\"${libgcj_ld_symbolic}\"\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS=\"${libgcj_ld_symbolic_functions}\"\n AC_SUBST(LIBGCJ_CFLAGS)\n AC_SUBST(LIBGCJ_CXXFLAGS)\n AC_SUBST(LIBGCJ_JAVAFLAGS)\n AC_SUBST(LIBGCJ_LD_SYMBOLIC)\n+AC_SUBST(LIBGCJ_LD_SYMBOLIC_FUNCTIONS)\n \n # Only use libltdl for non-newlib builds.\n if test \"x${with_newlib}\" = \"x\" || test \"x${with_newlib}\" = \"xno\"; then"}, {"sha": "cabcdeaf0ed2907b43f86930f07dc547c0f29b01", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -48,6 +48,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/gxx-include-dir.m4 \\\n \t$(top_srcdir)/../config/iconv.m4 \\\n \t$(top_srcdir)/../config/lcmessage.m4 \\\n+\t$(top_srcdir)/../config/ld-symbolic.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/lib-ld.m4 \\\n \t$(top_srcdir)/../config/lib-link.m4 \\\n@@ -166,6 +167,7 @@ LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n LIBGCJ_JAVAFLAGS = @LIBGCJ_JAVAFLAGS@\n LIBGCJ_LD_SYMBOLIC = @LIBGCJ_LD_SYMBOLIC@\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS = @LIBGCJ_LD_SYMBOLIC_FUNCTIONS@\n LIBGCJ_SPEC = @LIBGCJ_SPEC@\n LIBICONV = @LIBICONV@\n LIBLTDL = @LIBLTDL@"}, {"sha": "9613016fa1f159bdd2135ab002710bd861a10ce6", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -47,6 +47,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/gxx-include-dir.m4 \\\n \t$(top_srcdir)/../config/iconv.m4 \\\n \t$(top_srcdir)/../config/lcmessage.m4 \\\n+\t$(top_srcdir)/../config/ld-symbolic.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/lib-ld.m4 \\\n \t$(top_srcdir)/../config/lib-link.m4 \\\n@@ -165,6 +166,7 @@ LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n LIBGCJ_JAVAFLAGS = @LIBGCJ_JAVAFLAGS@\n LIBGCJ_LD_SYMBOLIC = @LIBGCJ_LD_SYMBOLIC@\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS = @LIBGCJ_LD_SYMBOLIC_FUNCTIONS@\n LIBGCJ_SPEC = @LIBGCJ_SPEC@\n LIBICONV = @LIBICONV@\n LIBLTDL = @LIBLTDL@"}, {"sha": "9709040e970c853cd71922964f7a73bfdf925302", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76b972d63c23d52bb25340b4f5c45e87f9c15e23/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=76b972d63c23d52bb25340b4f5c45e87f9c15e23", "patch": "@@ -45,6 +45,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n \t$(top_srcdir)/../config/gxx-include-dir.m4 \\\n \t$(top_srcdir)/../config/iconv.m4 \\\n \t$(top_srcdir)/../config/lcmessage.m4 \\\n+\t$(top_srcdir)/../config/ld-symbolic.m4 \\\n \t$(top_srcdir)/../config/lead-dot.m4 \\\n \t$(top_srcdir)/../config/lib-ld.m4 \\\n \t$(top_srcdir)/../config/lib-link.m4 \\\n@@ -154,6 +155,7 @@ LIBGCJ_CFLAGS = @LIBGCJ_CFLAGS@\n LIBGCJ_CXXFLAGS = @LIBGCJ_CXXFLAGS@\n LIBGCJ_JAVAFLAGS = @LIBGCJ_JAVAFLAGS@\n LIBGCJ_LD_SYMBOLIC = @LIBGCJ_LD_SYMBOLIC@\n+LIBGCJ_LD_SYMBOLIC_FUNCTIONS = @LIBGCJ_LD_SYMBOLIC_FUNCTIONS@\n LIBGCJ_SPEC = @LIBGCJ_SPEC@\n LIBICONV = @LIBICONV@\n LIBLTDL = @LIBLTDL@"}]}