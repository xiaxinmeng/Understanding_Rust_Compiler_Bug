{"sha": "11ffae58473472766960b2f6c59108e331a9eba7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFmZmFlNTg0NzM0NzI3NjY5NjBiMmY2YzU5MTA4ZTMzMWE5ZWJhNw==", "commit": {"author": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2020-01-29T20:12:46Z"}, "committer": {"name": "Marek Polacek", "email": "polacek@redhat.com", "date": "2020-01-29T20:19:38Z"}, "message": "c++: Add new test [PR88092]\n\nThis test got fixed by r10-1976-gdaaa6fcc70ffe66bd56f5819ad4ee78fecd54bb6\nso let's add it to the testsuite.\n\n\tPR c++/88092\n\t* g++.dg/cpp2a/nontype-class31.C: New test.", "tree": {"sha": "b76f08daa9aaa967b2726b29db7a7142d5b1ee2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b76f08daa9aaa967b2726b29db7a7142d5b1ee2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11ffae58473472766960b2f6c59108e331a9eba7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11ffae58473472766960b2f6c59108e331a9eba7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11ffae58473472766960b2f6c59108e331a9eba7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11ffae58473472766960b2f6c59108e331a9eba7/comments", "author": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mpolacek", "id": 10496300, "node_id": "MDQ6VXNlcjEwNDk2MzAw", "avatar_url": "https://avatars.githubusercontent.com/u/10496300?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpolacek", "html_url": "https://github.com/mpolacek", "followers_url": "https://api.github.com/users/mpolacek/followers", "following_url": "https://api.github.com/users/mpolacek/following{/other_user}", "gists_url": "https://api.github.com/users/mpolacek/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpolacek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpolacek/subscriptions", "organizations_url": "https://api.github.com/users/mpolacek/orgs", "repos_url": "https://api.github.com/users/mpolacek/repos", "events_url": "https://api.github.com/users/mpolacek/events{/privacy}", "received_events_url": "https://api.github.com/users/mpolacek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0de349f108d963219bd59aa374a68c15355236be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0de349f108d963219bd59aa374a68c15355236be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0de349f108d963219bd59aa374a68c15355236be"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "a8d563b1205c8e93dbf168d7f1e98f23d75d28a2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11ffae58473472766960b2f6c59108e331a9eba7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11ffae58473472766960b2f6c59108e331a9eba7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=11ffae58473472766960b2f6c59108e331a9eba7", "patch": "@@ -1,3 +1,8 @@\n+2020-01-29  Marek Polacek  <polacek@redhat.com>\n+\n+\tPR c++/88092\n+\t* g++.dg/cpp2a/nontype-class31.C: New test.\n+\n 2020-01-29  Jeff Law  <law@redhat.com\n \n \tPR tree-optimization/89689"}, {"sha": "329b3129e1b17064f9d76c77bcf0d735146aa740", "filename": "gcc/testsuite/g++.dg/cpp2a/nontype-class31.C", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11ffae58473472766960b2f6c59108e331a9eba7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fnontype-class31.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11ffae58473472766960b2f6c59108e331a9eba7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fnontype-class31.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp2a%2Fnontype-class31.C?ref=11ffae58473472766960b2f6c59108e331a9eba7", "patch": "@@ -0,0 +1,19 @@\n+// PR c++/88092\n+// { dg-do compile { target c++2a } }\n+\n+template<typename T>\n+struct S {\n+ constexpr S(...) { }\n+};\n+\n+template <typename T> S(T) -> S<T>;\n+\n+template <S s> struct foo { };\n+\n+template <S s>\n+void fn ()\n+{\n+  auto t = s;\n+  foo<t> f1;\n+  foo<s> f2;\n+}"}]}