{"sha": "ea08fcdc9403743570d9a278bf91f4a5491373b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwOGZjZGM5NDAzNzQzNTcwZDlhMjc4YmY5MWY0YTU0OTEzNzNiNg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-06T07:56:23Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-06T07:56:23Z"}, "message": "exp_disp (Expand_Interface_Conversion): Freeze the entity associated with the target interface before expanding the...\n\n2008-08-06  Javier Miranda  <miranda@adacore.com>\n\n\t* exp_disp (Expand_Interface_Conversion): Freeze the entity associated\n\twith the target interface before expanding the code of the interface\n\tconversion.\n\nFrom-SVN: r138766", "tree": {"sha": "46ebcc292a89c73b603133ea051a8496c6a0e814", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46ebcc292a89c73b603133ea051a8496c6a0e814"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea08fcdc9403743570d9a278bf91f4a5491373b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea08fcdc9403743570d9a278bf91f4a5491373b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea08fcdc9403743570d9a278bf91f4a5491373b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea08fcdc9403743570d9a278bf91f4a5491373b6/comments", "author": null, "committer": null, "parents": [{"sha": "fa961f76ef7ce0b972797d55968d9f3ce04cee45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fa961f76ef7ce0b972797d55968d9f3ce04cee45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fa961f76ef7ce0b972797d55968d9f3ce04cee45"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "80d4385182c8ad02513199418fbb6000a10b5fe1", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea08fcdc9403743570d9a278bf91f4a5491373b6/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea08fcdc9403743570d9a278bf91f4a5491373b6/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=ea08fcdc9403743570d9a278bf91f4a5491373b6", "patch": "@@ -1,3 +1,20 @@\n+2008-08-06  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch3.adb (Process_Discriminants): diagnose redundant or improper\n+\tnull exclusion in a discriminant declaration\n+\n+\t* sem_ch8.adb (Analyze_Object_Renaming): diagnose null exclusion\n+\tindicators when type is not an access type.\n+\n+\t* sem_ch12.adb (Formal_Object_Declaration): diagnose null exclusion\n+\tindicators when type is not an access type.\n+\n+2008-08-06  Javier Miranda  <miranda@adacore.com>\n+\n+\t* exp_disp (Expand_Interface_Conversion): Freeze the entity associated\n+\twith the target interface before expanding the code of the interface\n+\tconversion.\n+\n 2008-08-05  Ed Schonberg  <schonberg@adacore.com>\n \n \t* freeze.adb:"}, {"sha": "9ce2e74c9b0c8b3060f93e231108f21c3d0b516d", "filename": "gcc/ada/exp_disp.adb", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea08fcdc9403743570d9a278bf91f4a5491373b6/gcc%2Fada%2Fexp_disp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea08fcdc9403743570d9a278bf91f4a5491373b6/gcc%2Fada%2Fexp_disp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_disp.adb?ref=ea08fcdc9403743570d9a278bf91f4a5491373b6", "patch": "@@ -773,6 +773,11 @@ package body Exp_Disp is\n          Iface_Typ := Corresponding_Record_Type (Iface_Typ);\n       end if;\n \n+      --  Freeze the entity associated with the target interface to have\n+      --  available the attribute Access_Disp_Table.\n+\n+      Freeze_Before (N, Iface_Typ);\n+\n       pragma Assert (not Is_Static\n         or else (not Is_Class_Wide_Type (Iface_Typ)\n                   and then Is_Interface (Iface_Typ)));"}]}