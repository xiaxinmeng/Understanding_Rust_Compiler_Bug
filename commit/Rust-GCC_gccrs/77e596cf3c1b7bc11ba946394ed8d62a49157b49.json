{"sha": "77e596cf3c1b7bc11ba946394ed8d62a49157b49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdlNTk2Y2YzYzFiN2JjMTFiYTk0NjM5NGVkOGQ2MmE0OTE1N2I0OQ==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-02-28T15:47:26Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2020-02-28T16:55:58Z"}, "message": "libstdc++: Also disable caching of reverse_view::begin() for common_ranges\n\nWhen the underlying range models common_range, then reverse_view::begin() is\nalready O(1) without caching.  So we should disable the cache in this case too.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/ranges (reverse_view::_S_needs_cached_begin): Set to false\n\twhenever the underlying range models common_range.", "tree": {"sha": "6b6a0525d9558bd1e6a2c1f5b09f83b0e4e5dad0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b6a0525d9558bd1e6a2c1f5b09f83b0e4e5dad0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77e596cf3c1b7bc11ba946394ed8d62a49157b49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77e596cf3c1b7bc11ba946394ed8d62a49157b49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77e596cf3c1b7bc11ba946394ed8d62a49157b49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77e596cf3c1b7bc11ba946394ed8d62a49157b49/comments", "author": null, "committer": null, "parents": [{"sha": "08bf7bde9f2987b1c623d272cc71fc14a1622442", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08bf7bde9f2987b1c623d272cc71fc14a1622442", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08bf7bde9f2987b1c623d272cc71fc14a1622442"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "0feef87cce67f23df787fcec16eed961f8686382", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e596cf3c1b7bc11ba946394ed8d62a49157b49/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e596cf3c1b7bc11ba946394ed8d62a49157b49/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=77e596cf3c1b7bc11ba946394ed8d62a49157b49", "patch": "@@ -1,5 +1,8 @@\n 2020-02-28  Patrick Palka  <ppalka@redhat.com>\n \n+\t* include/std/ranges (reverse_view::_S_needs_cached_begin): Set to false\n+\twhenever the underlying range models common_range.\n+\n \t* include/std/ranges (__detail::_CachedPosition): New struct.\n \t(views::filter_view::_S_needs_cached_begin): New member variable.\n \t(views::filter_view::_M_cached_begin): New member variable."}, {"sha": "19d3da950e70c55e6fc9d0a4e8e01f9543e40763", "filename": "libstdc++-v3/include/std/ranges", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e596cf3c1b7bc11ba946394ed8d62a49157b49/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e596cf3c1b7bc11ba946394ed8d62a49157b49/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges?ref=77e596cf3c1b7bc11ba946394ed8d62a49157b49", "patch": "@@ -3177,7 +3177,8 @@ namespace views\n     private:\n       _Vp _M_base = _Vp();\n \n-      static constexpr bool _S_needs_cached_begin = !random_access_range<_Vp>;\n+      static constexpr bool _S_needs_cached_begin\n+\t= !common_range<_Vp> && !random_access_range<_Vp>;\n       [[no_unique_address]]\n \t__detail::__maybe_empty_t<_S_needs_cached_begin,\n \t\t\t\t  __detail::_CachedPosition<_Vp>> _M_cached_begin;"}]}