{"sha": "689ff841b4de850cb9f31fad4e9a217b682b593f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg5ZmY4NDFiNGRlODUwY2I5ZjMxZmFkNGU5YTIxN2I2ODJiNTkzZg==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2011-02-07T21:46:10Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2011-02-07T21:46:10Z"}, "message": "re PR target/47558 (163267 breaks exception traceback in xplor-nih)\n\n2011-02-07  Iain Sandoe  <iains@gcc.gnu.org>\n\n\tPR target/47558\n\t* config/darwin10.h (LINK_GCC_C_SEQUENCE_SPEC): Put -lSystem first\n\ton 10.6 and later to ensure that we always use the unwinder from\n\tthe system.  Only add -no_compact_unwind when tarteting darwin\n\t10.6 or later.\n\nFrom-SVN: r169905", "tree": {"sha": "05434d8dc339dc8185f2f959bbd612eac9ad459b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05434d8dc339dc8185f2f959bbd612eac9ad459b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/689ff841b4de850cb9f31fad4e9a217b682b593f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/689ff841b4de850cb9f31fad4e9a217b682b593f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/689ff841b4de850cb9f31fad4e9a217b682b593f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/689ff841b4de850cb9f31fad4e9a217b682b593f/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "821014aafd47b48adc1ea3fd02b90bda6d64cfd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/821014aafd47b48adc1ea3fd02b90bda6d64cfd5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/821014aafd47b48adc1ea3fd02b90bda6d64cfd5"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "205c781208d39a28647967325889a18a2ed3cb31", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/689ff841b4de850cb9f31fad4e9a217b682b593f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/689ff841b4de850cb9f31fad4e9a217b682b593f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=689ff841b4de850cb9f31fad4e9a217b682b593f", "patch": "@@ -1,3 +1,11 @@\n+2011-02-07  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\tPR target/47558\n+\t* config/darwin10.h (LINK_GCC_C_SEQUENCE_SPEC): Put -lSystem first\n+\ton 10.6 and later to ensure that we always use the unwinder from\n+\tthe system.  Only add -no_compact_unwind when tarteting darwin\n+\t10.6 or later.\n+\n 2011-02-07  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR target/46997"}, {"sha": "5c205945cdcf59bf88ca7993884ca01e9e3f8f43", "filename": "gcc/config/darwin10.h", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/689ff841b4de850cb9f31fad4e9a217b682b593f/gcc%2Fconfig%2Fdarwin10.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/689ff841b4de850cb9f31fad4e9a217b682b593f/gcc%2Fconfig%2Fdarwin10.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin10.h?ref=689ff841b4de850cb9f31fad4e9a217b682b593f", "patch": "@@ -1,5 +1,5 @@\n /* Target definitions for Darwin (Mac OS X) systems.\n-   Copyright (C) 2009, 2010 Free Software Foundation, Inc.\n+   Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n    Contributed by Jack Howarth <howarth@bromo.med.uc.edu>.\n \n This file is part of GCC.\n@@ -18,8 +18,15 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n+#undef LIB_SPEC\n+#define LIB_SPEC \"%{!static: -lSystem }\"\n+\n /* Fix PR41260 by passing -no_compact_unwind on darwin10 and later until\n-unwinder in libSystem is fixed to digest new epilog unwinding notes. */\n+   unwinder in libSystem is fixed to digest new epilog unwinding notes.\n \n-#undef LIB_SPEC\n-#define LIB_SPEC \"%{!static:-no_compact_unwind -lSystem}\"\n+   Fix PR47558 by linking against libSystem ahead of libgcc_ext. */\n+#undef  LINK_GCC_C_SEQUENCE_SPEC\n+#define LINK_GCC_C_SEQUENCE_SPEC \\\n+\"%:version-compare(>= 10.6 mmacosx-version-min= -no_compact_unwind) \\\n+   %{!static:%{!static-libgcc: \\\n+      %:version-compare(>= 10.6 mmacosx-version-min= -lSystem) } } %G %L\""}]}