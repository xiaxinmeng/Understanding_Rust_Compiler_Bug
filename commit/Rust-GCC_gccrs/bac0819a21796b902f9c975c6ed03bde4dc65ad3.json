{"sha": "bac0819a21796b902f9c975c6ed03bde4dc65ad3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmFjMDgxOWEyMTc5NmI5MDJmOWM5NzVjNmVkMDNiZGU0ZGM2NWFkMw==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2005-03-18T11:50:53Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-03-18T11:50:53Z"}, "message": "par.adb (Par): Improved msg for attempt to recompile predefined unit\n\n2005-03-17  Robert Dewar  <dewar@adacore.com>\n\n\t* par.adb (Par): Improved msg for attempt to recompile predefined unit\n\nFrom-SVN: r96672", "tree": {"sha": "5a584fee50bf529723f9b124dcac9813b990d2a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a584fee50bf529723f9b124dcac9813b990d2a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bac0819a21796b902f9c975c6ed03bde4dc65ad3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bac0819a21796b902f9c975c6ed03bde4dc65ad3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bac0819a21796b902f9c975c6ed03bde4dc65ad3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bac0819a21796b902f9c975c6ed03bde4dc65ad3/comments", "author": null, "committer": null, "parents": [{"sha": "7b8ee2f629801241697a61ef140df073f551d330", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8ee2f629801241697a61ef140df073f551d330", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b8ee2f629801241697a61ef140df073f551d330"}], "stats": {"total": 60, "additions": 37, "deletions": 23}, "files": [{"sha": "290ad0b74da242d911e3b1a9eaaf23c05ff4d4ad", "filename": "gcc/ada/par.adb", "status": "modified", "additions": 37, "deletions": 23, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bac0819a21796b902f9c975c6ed03bde4dc65ad3/gcc%2Fada%2Fpar.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bac0819a21796b902f9c975c6ed03bde4dc65ad3/gcc%2Fada%2Fpar.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar.adb?ref=bac0819a21796b902f9c975c6ed03bde4dc65ad3", "patch": "@@ -1318,9 +1318,9 @@ begin\n                end if;\n             end;\n \n-            --  Here if we are not skipping a file in multiple unit per file\n-            --  mode. Parse the unit that we are interested in. Note that in\n-            --  check syntax mode we are interested in all units in the file.\n+         --  Here if we are not skipping a file in multiple unit per file\n+         --  mode. Parse the unit that we are interested in. Note that in\n+         --  check syntax mode we are interested in all units in the file.\n \n          else\n             declare\n@@ -1355,33 +1355,47 @@ begin\n \n                      Name := Uname (Uname'First .. Uname'Last - 2);\n \n-                     if (Name = \"ada\"                    or else\n-                         Name = \"calendar\"               or else\n-                         Name = \"interfaces\"             or else\n-                         Name = \"system\"                 or else\n-                         Name = \"machine_code\"           or else\n-                         Name = \"unchecked_conversion\"   or else\n-                         Name = \"unchecked_deallocation\"\n-                           or else (Name'Length > 4\n-                                     and then\n-                                       Name (Name'First .. Name'First + 3) =\n-                                                                 \"ada.\")\n-                           or else (Name'Length > 11\n-                                     and then\n-                                       Name (Name'First .. Name'First + 10) =\n-                                                                 \"interfaces.\")\n-                           or else (Name'Length > 7\n-                                     and then\n-                                       Name (Name'First .. Name'First + 6) =\n-                                                                 \"system.\"))\n+                     if Name = \"ada\"                    or else\n+                        Name = \"calendar\"               or else\n+                        Name = \"interfaces\"             or else\n+                        Name = \"system\"                 or else\n+                        Name = \"machine_code\"           or else\n+                        Name = \"unchecked_conversion\"   or else\n+                        Name = \"unchecked_deallocation\"\n+                     then\n+                        Error_Msg\n+                          (\"language defined units may not be recompiled\",\n+                           Sloc (Unit (Comp_Unit_Node)));\n+\n+                     elsif Name'Length > 4\n+                       and then\n+                         Name (Name'First .. Name'First + 3) = \"ada.\"\n+                     then\n+                        Error_Msg\n+                          (\"descendents of package Ada \" &\n+                             \"may not be compiled\",\n+                           Sloc (Unit (Comp_Unit_Node)));\n+\n+                     elsif Name'Length > 11\n+                       and then\n+                         Name (Name'First .. Name'First + 10) = \"interfaces.\"\n+                     then\n+                        Error_Msg\n+                          (\"descendents of package Interfaces \" &\n+                             \"may not be compiled\",\n+                           Sloc (Unit (Comp_Unit_Node)));\n+\n+                     elsif Name'Length > 7\n+                       and then Name (Name'First .. Name'First + 6) = \"system.\"\n                        and then Name /= \"system.rpc\"\n                        and then\n                          (Name'Length < 11\n                             or else Name (Name'First .. Name'First + 10) /=\n                                                                  \"system.rpc.\")\n                      then\n                         Error_Msg\n-                          (\"language defined units may not be recompiled\",\n+                          (\"descendents of package System \" &\n+                             \"may not be compiled\",\n                            Sloc (Unit (Comp_Unit_Node)));\n                      end if;\n                   end;"}]}