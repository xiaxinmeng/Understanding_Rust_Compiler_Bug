{"sha": "c60d0736dff72af730261483945b1a7cfd2a0021", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzYwZDA3MzZkZmY3MmFmNzMwMjYxNDgzOTQ1YjFhN2NmZDJhMDAyMQ==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:27Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@linux-mips.org", "date": "2020-12-05T18:26:27Z"}, "message": "PDP11: Use `const_double_zero' to express double zero constant\n\nWe do not define a comparison operation between floating-point and\ninteger data, including integer zero constant.  Consequently the RTL\ninstruction stream presented to the post-reload comparison elimination\npass will include, where applicable, floating-point comparison insns\nagainst `const_double:DF 0.0 [0x0.0p+0]' rather than `const_int 0 [0]',\nmeaning that the latter expression will not match when used in machine\ndescription.\n\nUse `const_double_zero' then for the relevant patterns to match the\nintended RTL instructions.\n\n\tgcc/\n\t* config/pdp11/pdp11.md (fcc_cc, fcc_ccnz): Use\n\t`const_double_zero' to express double zero constant.", "tree": {"sha": "77fb68b8bd9ff8b8d564a9ad36bb51236b87e882", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77fb68b8bd9ff8b8d564a9ad36bb51236b87e882"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c60d0736dff72af730261483945b1a7cfd2a0021", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c60d0736dff72af730261483945b1a7cfd2a0021", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c60d0736dff72af730261483945b1a7cfd2a0021", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c60d0736dff72af730261483945b1a7cfd2a0021/comments", "author": null, "committer": null, "parents": [{"sha": "20ab43b5cad6ac69a70b01489be0adf98bd421ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20ab43b5cad6ac69a70b01489be0adf98bd421ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20ab43b5cad6ac69a70b01489be0adf98bd421ba"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "cdef49f397960e3f7705408a1d57d2dbaff90ace", "filename": "gcc/config/pdp11/pdp11.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c60d0736dff72af730261483945b1a7cfd2a0021/gcc%2Fconfig%2Fpdp11%2Fpdp11.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c60d0736dff72af730261483945b1a7cfd2a0021/gcc%2Fconfig%2Fpdp11%2Fpdp11.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.md?ref=c60d0736dff72af730261483945b1a7cfd2a0021", "patch": "@@ -105,15 +105,15 @@\n    (clobber (reg FCC_REGNUM))]\n   \"\"\n   [(set (reg:CC FCC_REGNUM)\n-\t(compare:CC (match_dup 1) (const_int 0)))\n+\t(compare:CC (match_dup 1) (const_double_zero)))\n    (set (match_dup 0) (match_dup 1))])\n \n (define_subst \"fcc_ccnz\"\n   [(set (match_operand 0 \"\") (match_operand 1 \"\"))\n    (clobber (reg FCC_REGNUM))]\n   \"\"\n   [(set (reg:CCNZ FCC_REGNUM)\n-\t(compare:CCNZ (match_dup 1) (const_int 0)))\n+\t(compare:CCNZ (match_dup 1) (const_double_zero)))\n    (set (match_dup 0) (match_dup 1))])\n \n (define_subst_attr \"cc_cc\" \"cc_cc\" \"_nocc\" \"_cc\")"}]}