{"sha": "1371378157db76d104fa5b919c270a46924aa501", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTM3MTM3ODE1N2RiNzZkMTA0ZmE1YjkxOWMyNzBhNDY5MjRhYTUwMQ==", "commit": {"author": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1995-02-06T21:51:57Z"}, "committer": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1995-02-06T21:51:57Z"}, "message": "(RTX_COSTS): Rewrite.\n\nFrom-SVN: r8878", "tree": {"sha": "4ea4d14b6f2c5c5f17b31e9bc0d96993cac08467", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ea4d14b6f2c5c5f17b31e9bc0d96993cac08467"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1371378157db76d104fa5b919c270a46924aa501", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1371378157db76d104fa5b919c270a46924aa501", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1371378157db76d104fa5b919c270a46924aa501", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1371378157db76d104fa5b919c270a46924aa501/comments", "author": null, "committer": null, "parents": [{"sha": "a343d371519a5ce6b70c33a9f63f49f6661ea816", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a343d371519a5ce6b70c33a9f63f49f6661ea816", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a343d371519a5ce6b70c33a9f63f49f6661ea816"}], "stats": {"total": 33, "additions": 21, "deletions": 12}, "files": [{"sha": "9fc65dde29594c872041d934c09c2f277a9cd0c3", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 21, "deletions": 12, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1371378157db76d104fa5b919c270a46924aa501/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1371378157db76d104fa5b919c270a46924aa501/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=1371378157db76d104fa5b919c270a46924aa501", "patch": "@@ -1388,18 +1388,27 @@ while (0)\n /* Provide the costs of a rtl expression.  This is in the body of a\n    switch on CODE. */\n \n-#define RTX_COSTS(X,CODE,OUTER_CODE)\t\t\t\\\n-  case MULT:\t\t\t\t\t\t\\\n-    return COSTS_N_INSNS (10);\t\t\t\t\\\n-  case DIV:\t\t\t\t\t\t\\\n-  case UDIV:\t\t\t\t\t\t\\\n-  case MOD:\t\t\t\t\t\t\\\n-  case UMOD:\t\t\t\t\t\t\\\n-    return COSTS_N_INSNS (40);\t\t\t\t\\\n-  case PLUS:\t\t\t\t\t\t\\\n-    if (GET_CODE (XEXP (X, 0)) == REG\t\t\t\\\n-        && GET_CODE (XEXP (X, 1)) == CONST_INT)\t\t\\\n-      return 1;\t\t\t\t\t\t\\\n+#define RTX_COSTS(X,CODE,OUTER_CODE)\t\t\t\t\\\n+  case MULT:\t\t\t\t\t\t\t\\\n+    return COSTS_N_INSNS (20);\t\t\t\t\t\\\n+  case DIV:\t\t\t\t\t\t\t\\\n+  case UDIV:\t\t\t\t\t\t\t\\\n+  case MOD:\t\t\t\t\t\t\t\\\n+  case UMOD:\t\t\t\t\t\t\t\\\n+    return COSTS_N_INSNS (20);\t\t\t\t\t\\\n+  case ASHIFTRT:\t\t\t\t\t\t\\\n+  case LSHIFTRT:\t\t\t\t\t\t\\\n+  case ASHIFT:\t\t\t\t\t\t\t\\\n+    return (4 + rtx_cost (XEXP (X, 0), OUTER_CODE)\t\t\\\n+\t    + rtx_cost (XEXP (X, 1), OUTER_CODE));\t\t\\\n+  case PLUS:\t\t\t\t\t\t\t\\\n+    if (GET_CODE (XEXP (X, 0)) == MULT\t\t\t\t\\\n+\t&& GET_CODE (XEXP (XEXP (X, 0), 1)) == CONST_INT\t\\\n+\t&& (INTVAL (XEXP (XEXP (X, 0), 1)) == 2\t\t\t\\\n+\t    || INTVAL (XEXP (XEXP (X, 0), 1)) == 4\t\t\\\n+\t    || INTVAL (XEXP (XEXP (X, 0), 1)) == 8))\t\t\\\n+      return (2 + rtx_cost (XEXP (XEXP (X, 0), 0), OUTER_CODE)\t\\\n+\t      + rtx_cost (XEXP (X, 1), OUTER_CODE));\t\t\\\n     break;\n \n "}]}