{"sha": "b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdmNTVjOGUzNTk4MWM1ZjJjYjdjNjVkN2Q2OWY1OGUwMmFiMGJjZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-09T19:41:05Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-09-09T19:41:05Z"}, "message": "compiler: don't use predeclared location for implicit runtime import\n    \n    For the main package we add an implicit import of the runtime package,\n    to ensure that it is initialized.  That import used the predeclared\n    location, which caused various tests, notably Named_type::is_builtin,\n    to treat these imported names as builtin.  Start using a real location,\n    so that those tests do the right thing.\n    \n    By the way, this implicit import is a partial cause of golang/go#19773.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/194337\n\nFrom-SVN: r275540", "tree": {"sha": "0c66de448e004c928c6b138b17ca7d331c73e72d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c66de448e004c928c6b138b17ca7d331c73e72d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd/comments", "author": null, "committer": null, "parents": [{"sha": "4f0eaba24dfb46dd4b45251231fdf006a70888c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f0eaba24dfb46dd4b45251231fdf006a70888c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f0eaba24dfb46dd4b45251231fdf006a70888c5"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "79349d792ee6d74ffb94a0548ee3238dada41c22", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "patch": "@@ -1,4 +1,4 @@\n-28c9053b3d507bef7bd56cb01c6b22deea354cdd\n+17bef47f464983fd8513f88f3f159d28e2423e79\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "f6a8e7ad8eb16afb9442e6ef9956ab238739df36", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=b7f55c8e35981c5f2cb7c65d7d69f58e02ab0bcd", "patch": "@@ -2589,9 +2589,11 @@ Gogo::define_global_names()\n   if (this->is_main_package())\n     {\n       // Every Go program has to import the runtime package, so that\n-      // it is properly initialized.\n+      // it is properly initialized.  We can't use\n+      // predeclared_location here as it will cause runtime functions\n+      // to appear to be builtin functions.\n       this->import_package(\"runtime\", \"_\", false, false,\n-\t\t\t   Linemap::predeclared_location());\n+\t\t\t   this->package_->location());\n     }\n \n   for (Bindings::const_declarations_iterator p ="}]}