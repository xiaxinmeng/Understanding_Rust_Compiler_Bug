{"sha": "b513d0fe8266b0051907f492624470dc2ccce470", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjUxM2QwZmU4MjY2YjAwNTE5MDdmNDkyNjI0NDcwZGMyY2NjZTQ3MA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2012-06-19T22:08:49Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2012-06-19T22:08:49Z"}, "message": "spe.md (*mov_si<mode>_e500_subreg0): Rename to mov_si<mode>_e500_subreg0.\n\n\t* config/rs6000/spe.md (*mov_si<mode>_e500_subreg0): Rename to\n\tmov_si<mode>_e500_subreg0.\n\t(*mov_si<mode>_e500_subreg0_elf_low)\n\t(*mov_si<mode>_e500_subreg4_elf_low): New patterns.\n\ntestsuite:\n\t* gcc.c-torture/compile/vector-5.c,\n\tgcc.c-torture/compile/vector-6.c: New tests.\n\nFrom-SVN: r188795", "tree": {"sha": "1fc5ab62ae372a822878578abe650a606e19e87c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1fc5ab62ae372a822878578abe650a606e19e87c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b513d0fe8266b0051907f492624470dc2ccce470", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b513d0fe8266b0051907f492624470dc2ccce470", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b513d0fe8266b0051907f492624470dc2ccce470", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b513d0fe8266b0051907f492624470dc2ccce470/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f49278e65eb8259aa7c0703a32553f0ebc133047", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f49278e65eb8259aa7c0703a32553f0ebc133047", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f49278e65eb8259aa7c0703a32553f0ebc133047"}], "stats": {"total": 57, "additions": 55, "deletions": 2}, "files": [{"sha": "77e029e14144002c58b0cf02091639acf134425e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b513d0fe8266b0051907f492624470dc2ccce470", "patch": "@@ -1,3 +1,10 @@\n+2012-06-19  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* config/rs6000/spe.md (*mov_si<mode>_e500_subreg0): Rename to\n+\tmov_si<mode>_e500_subreg0.\n+\t(*mov_si<mode>_e500_subreg0_elf_low)\n+\t(*mov_si<mode>_e500_subreg4_elf_low): New patterns.\n+\n 2012-06-19  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/alpha.c: Include params.h."}, {"sha": "43cdbfa92f269282e0c9fdfb56df55c2351438a3", "filename": "gcc/config/rs6000/spe.md", "status": "modified", "additions": 29, "deletions": 2, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Fconfig%2Frs6000%2Fspe.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Fconfig%2Frs6000%2Fspe.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fspe.md?ref=b513d0fe8266b0051907f492624470dc2ccce470", "patch": "@@ -1,5 +1,5 @@\n ;; e500 SPE description\n-;; Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009\n+;; Copyright (C) 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2011, 2012\n ;; Free Software Foundation, Inc.\n ;; Contributed by Aldy Hernandez (aldy@quesejoda.com)\n \n@@ -2329,7 +2329,7 @@\n   \"evmergehi %0,%1,%1\\;mr %L0,%1\\;evmergehi %Y0,%L1,%L1\\;mr %Z0,%L1\"\n   [(set_attr \"length\" \"16\")])\n \n-(define_insn \"*mov_si<mode>_e500_subreg0\"\n+(define_insn \"mov_si<mode>_e500_subreg0\"\n   [(set (subreg:SI (match_operand:SPE64TF 0 \"register_operand\" \"+r,&r\") 0)\n \t(match_operand:SI 1 \"input_operand\" \"r,m\"))]\n   \"(TARGET_E500_DOUBLE && (<MODE>mode == DFmode || <MODE>mode == TFmode))\n@@ -2339,6 +2339,24 @@\n    evmergelohi %0,%0,%0\\;{l%U1%X1|lwz%U1%X1} %0,%1\\;evmergelohi %0,%0,%0\"\n   [(set_attr \"length\" \"4,12\")])\n \n+(define_insn_and_split \"*mov_si<mode>_e500_subreg0_elf_low\"\n+  [(set (subreg:SI (match_operand:SPE64TF 0 \"register_operand\" \"+r\") 0)\n+\t(lo_sum:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n+\t\t   (match_operand 2 \"\" \"\")))]\n+  \"((TARGET_E500_DOUBLE && (<MODE>mode == DFmode || <MODE>mode == TFmode))\n+    || (TARGET_SPE && <MODE>mode != DFmode && <MODE>mode != TFmode))\n+   && TARGET_ELF && !TARGET_64BIT && can_create_pseudo_p ()\"\n+  \"#\"\n+  \"&& 1\"\n+  [(pc)]\n+{\n+  rtx tmp = gen_reg_rtx (SImode);\n+  emit_insn (gen_elf_low (tmp, operands[1], operands[2]));\n+  emit_insn (gen_mov_si<mode>_e500_subreg0 (operands[0], tmp));\n+  DONE;\n+}\n+  [(set_attr \"length\" \"8\")])\n+\n ;; ??? Could use evstwwe for memory stores in some cases, depending on\n ;; the offset.\n (define_insn \"*mov_si<mode>_e500_subreg0_2\"\n@@ -2360,6 +2378,15 @@\n    mr %0,%1\n    {l%U1%X1|lwz%U1%X1} %0,%1\")\n \n+(define_insn \"*mov_si<mode>_e500_subreg4_elf_low\"\n+  [(set (subreg:SI (match_operand:SPE64TF 0 \"register_operand\" \"+r\") 4)\n+\t(lo_sum:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r\")\n+\t\t   (match_operand 2 \"\" \"\")))]\n+  \"((TARGET_E500_DOUBLE && (<MODE>mode == DFmode || <MODE>mode == TFmode))\n+    || (TARGET_SPE && <MODE>mode != DFmode && <MODE>mode != TFmode))\n+   && TARGET_ELF && !TARGET_64BIT\"\n+  \"{ai|addic} %0,%1,%K2\")\n+\n (define_insn \"*mov_si<mode>_e500_subreg4_2\"\n   [(set (match_operand:SI 0 \"rs6000_nonimmediate_operand\" \"+r,m\")\n \t(subreg:SI (match_operand:SPE64TF 1 \"register_operand\" \"r,r\") 4))]"}, {"sha": "c82c0ab1a0016660df693cf8f802fe2443587cfe", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b513d0fe8266b0051907f492624470dc2ccce470", "patch": "@@ -1,3 +1,8 @@\n+2012-06-19  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* gcc.c-torture/compile/vector-5.c,\n+\tgcc.c-torture/compile/vector-6.c: New tests.\n+\n 2012-06-19  Richard Henderson  <rth@redhat.com>\n \n \t* gcc.target/i386/pr33329.c: Change multiplier constant to 12345."}, {"sha": "30a4f859402418a6f72b205a1f21f10729097217", "filename": "gcc/testsuite/gcc.c-torture/compile/vector-5.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-5.c?ref=b513d0fe8266b0051907f492624470dc2ccce470", "patch": "@@ -0,0 +1,7 @@\n+typedef int v2si __attribute__((__vector_size__(8)));\n+\n+v2si\n+f (int x)\n+{\n+  return (v2si) { x, (__INTPTR_TYPE__) \"\" };\n+}"}, {"sha": "7694d36632788b53d976d922d3bc1db6743592c9", "filename": "gcc/testsuite/gcc.c-torture/compile/vector-6.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b513d0fe8266b0051907f492624470dc2ccce470/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fvector-6.c?ref=b513d0fe8266b0051907f492624470dc2ccce470", "patch": "@@ -0,0 +1,7 @@\n+typedef int v2si __attribute__((__vector_size__(8)));\n+\n+v2si\n+f (int x)\n+{\n+  return (v2si) { (__INTPTR_TYPE__) \"\", x };\n+}"}]}