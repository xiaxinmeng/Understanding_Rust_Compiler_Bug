{"sha": "c850a642e1dfd3a15335d86976015c4a5064b5df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yzg1MGE2NDJlMWRmZDNhMTUzMzVkODY5NzYwMTVjNGE1MDY0YjVkZg==", "commit": {"author": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2020-07-20T06:41:04Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2020-07-21T06:28:16Z"}, "message": "testsuite: Add signal checking for signal related testcase in analyzer.\n\n - Verifed on RISC-V and x86.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/analyzer/signal-1.c: Add dg-require-effective-target\n\tsignal.\n\t* gcc.dg/analyzer/signal-2.c: Ditto.\n\t* gcc.dg/analyzer/signal-3.c: Ditto.\n\t* gcc.dg/analyzer/signal-4a.c: Ditto.\n\t* gcc.dg/analyzer/signal-4b.c: Ditto.\n\t* gcc.dg/analyzer/signal-5.c: Ditto.\n\t* gcc.dg/analyzer/signal-6.c: Ditto.\n\t* gcc.dg/analyzer/signal-exit.c: Ditto.", "tree": {"sha": "8e32e9721bc2adac6e7126451b15ca48409ecb16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8e32e9721bc2adac6e7126451b15ca48409ecb16"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c850a642e1dfd3a15335d86976015c4a5064b5df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c850a642e1dfd3a15335d86976015c4a5064b5df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c850a642e1dfd3a15335d86976015c4a5064b5df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c850a642e1dfd3a15335d86976015c4a5064b5df/comments", "author": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ef4cf87a7c7f36c1fe523e4d71bbb4846ab0c35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2ef4cf87a7c7f36c1fe523e4d71bbb4846ab0c35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2ef4cf87a7c7f36c1fe523e4d71bbb4846ab0c35"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "43f911ba648b3028f6ae6a84441678c3476cd594", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-1.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,6 +1,7 @@\n /* Example of a bad call within a signal handler.\n    'handler' calls 'custom_logger' which calls 'fprintf', and 'fprintf' is\n    not allowed from a signal handler.  */\n+/* { dg-require-effective-target signal } */\n \n #include <stdio.h>\n #include <signal.h>"}, {"sha": "d047c677c419e54258e3c8cd14ab059ada77788f", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-2.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,6 +1,7 @@\n /* Example of a bad call within a signal handler.\n    'handler' calls 'custom_logger' which calls 'fprintf', and 'fprintf' is\n    not allowed from a signal handler.  */\n+/* { dg-require-effective-target signal } */\n \n #include <stdio.h>\n #include <signal.h>"}, {"sha": "f5072b52f08b051fb9bf5042f9da327c694a60d0", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-3.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-require-effective-target signal } */\n #include <stdio.h>\n #include <signal.h>\n #include <stdlib.h>"}, {"sha": "4ee6f0e7d0e0204acd5c12a40fb6837ffcc46a70", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-4a.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4a.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -2,6 +2,7 @@\n \n /* { dg-options \"-fanalyzer -fdiagnostics-show-line-numbers -fdiagnostics-path-format=inline-events -fdiagnostics-show-caret\" } */\n /* { dg-enable-nn-line-numbers \"\" } */\n+/* { dg-require-effective-target signal } */\n \n #include <stdio.h>\n #include <signal.h>"}, {"sha": "cb1e7e475ae37d97c847dba026fad299c357d980", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-4b.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4b.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4b.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-4b.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -2,6 +2,7 @@\n \n /* { dg-options \"-fanalyzer -fdiagnostics-show-line-numbers -fdiagnostics-path-format=inline-events -fdiagnostics-show-caret\" } */\n /* { dg-enable-nn-line-numbers \"\" } */\n+/* { dg-require-effective-target signal } */\n \n #include <stdio.h>\n #include <signal.h>"}, {"sha": "81ac812ebbd35f692b24417b22f33c72a15f114c", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-5.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-5.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,4 +1,5 @@\n /* Example of other bad calls within a signal handler.  */\n+/* { dg-require-effective-target signal } */\n \n #include <stdlib.h>\n #include <signal.h>"}, {"sha": "ea2290c4296a011edd823feb76733bbb4f943c7b", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-6.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-6.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,3 +1,4 @@\n+/* { dg-require-effective-target signal } */\n #include <stdio.h>\n #include <signal.h>\n "}, {"sha": "41a819b838c88bc4432462782c4c2d62b4def77e", "filename": "gcc/testsuite/gcc.dg/analyzer/signal-exit.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-exit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c850a642e1dfd3a15335d86976015c4a5064b5df/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-exit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fanalyzer%2Fsignal-exit.c?ref=c850a642e1dfd3a15335d86976015c4a5064b5df", "patch": "@@ -1,6 +1,7 @@\n /* Example of a bad call within a signal handler with replacement\n    alternative.  'handler' calls 'exit', and 'exit' is not allowed\n    from a signal handler.  But '_exit' is allowed.  */\n+/* { dg-require-effective-target signal } */\n \n #include <signal.h>\n #include <stdlib.h>"}]}