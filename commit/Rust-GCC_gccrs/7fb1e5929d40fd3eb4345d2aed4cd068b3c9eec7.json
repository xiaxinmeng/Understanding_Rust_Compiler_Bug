{"sha": "7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZiMWU1OTI5ZDQwZmQzZWI0MzQ1ZDJhZWQ0Y2QwNjhiM2M5ZWVjNw==", "commit": {"author": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2012-12-05T07:34:17Z"}, "committer": {"name": "Bernhard Reutner-Fischer", "email": "aldot@gcc.gnu.org", "date": "2012-12-05T07:34:17Z"}, "message": "validate_failures.py: also ignore .git\n\n2012-12-01  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n\n\t* testsuite-management/validate_failures.py\n\t(IsInterestingResult): Only strip line a second time if we did split.\n\tRephrase return statement while at it.\n\t(CollectSumFiles): Also ignore .git directory.\n\nFrom-SVN: r194182", "tree": {"sha": "8ee177b1c32cb11bb01fd5c55af4d9c34a8db915", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ee177b1c32cb11bb01fd5c55af4d9c34a8db915"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7/comments", "author": null, "committer": null, "parents": [{"sha": "3eb9e389a6460b6bd9400a3f4acf88fb2e258e07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3eb9e389a6460b6bd9400a3f4acf88fb2e258e07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3eb9e389a6460b6bd9400a3f4acf88fb2e258e07"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "6bb903cecfc60164010bc02d6d79c32a2a7e2733", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "patch": "@@ -1,3 +1,10 @@\n+2012-12-01  Bernhard Reutner-Fischer  <aldot@gcc.gnu.org>\n+\n+\t* testsuite-management/validate_failures.py\n+\t(IsInterestingResult): Only strip line a second time if we did split.\n+\tRephrase return statement while at it.\n+\t(CollectSumFiles): Also ignore .git directory.\n+\n 2012-12-03  Diego Novillo  <dnovillo@google.com>\n \n \t* testsuite-management/validate_failures.py: Fix stale"}, {"sha": "ec51de91b6b1107d88acc8a1b7451df2413fb1ef", "filename": "contrib/testsuite-management/validate_failures.py", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7/contrib%2Ftestsuite-management%2Fvalidate_failures.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7/contrib%2Ftestsuite-management%2Fvalidate_failures.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftestsuite-management%2Fvalidate_failures.py?ref=7fb1e5929d40fd3eb4345d2aed4cd068b3c9eec7", "patch": "@@ -209,11 +209,8 @@ def IsInterestingResult(line):\n   \"\"\"Return True if line is one of the summary lines we care about.\"\"\"\n   if '|' in line:\n     (_, line) = line.split('|', 1)\n-  line = line.strip()\n-  for result in _VALID_TEST_RESULTS:\n-    if line.startswith(result):\n-      return True\n-  return False\n+    line = line.strip()\n+  return any(line.startswith(result) for result in _VALID_TEST_RESULTS)\n \n \n def IsInclude(line):\n@@ -307,8 +304,9 @@ def GetManifest(manifest_path):\n def CollectSumFiles(builddir):\n   sum_files = []\n   for root, dirs, files in os.walk(builddir):\n-    if '.svn' in dirs:\n-      dirs.remove('.svn')\n+    for ignored in ('.svn', '.git'):\n+      if ignored in dirs:\n+        dirs.remove(ignored)\n     for fname in files:\n       if fname.endswith('.sum'):\n         sum_files.append(os.path.join(root, fname))"}]}