{"sha": "5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWExNWFmNjI5NTYyOWZlM2FkOTVhM2Q5M2FhN2ZmY2E3ZmM2NWEwMA==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2001-10-26T01:26:05Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2001-10-26T01:26:05Z"}, "message": "sem_util.adb (Defining_Entity): in case of error...\n\n\t* sem_util.adb (Defining_Entity): in case of error, attach created\n        entity to specification, so that semantic analysis can proceed.\n\nFrom-SVN: r46515", "tree": {"sha": "8371c1fcd7ad57bc729608649408a4b24cc21d22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8371c1fcd7ad57bc729608649408a4b24cc21d22"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00/comments", "author": null, "committer": null, "parents": [{"sha": "2b881d53906eb372048ed36769ca95e3469affa6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b881d53906eb372048ed36769ca95e3469affa6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b881d53906eb372048ed36769ca95e3469affa6"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "ecb970a0e8b943007291acb84c9535c7c899b658", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "patch": "@@ -1,3 +1,8 @@\n+2001-10-25  Ed Schonberg <schonber@gnat.com>\n+\n+\t* sem_util.adb (Defining_Entity): in case of error, attach created \n+        entity to specification, so that semantic analysis can proceed.\n+\n 2001-10-25  Robert Dewar <dewar@gnat.com>\n \n \t* sem_util.adb "}, {"sha": "7bc2b9230c0d3bd161291427b4b595b751260d41", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a15af6295629fe3ad95a3d93aa7ffca7fc65a00/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=5a15af6295629fe3ad95a3d93aa7ffca7fc65a00", "patch": "@@ -1103,7 +1103,8 @@ package body Sem_Util is\n    ---------------------\n \n    function Defining_Entity (N : Node_Id) return Entity_Id is\n-      K : constant Node_Kind := Nkind (N);\n+      K   : constant Node_Kind := Nkind (N);\n+      Err : Entity_Id := Empty;\n \n    begin\n       case K is\n@@ -1178,13 +1179,16 @@ package body Sem_Util is\n                if Nkind (Nam) in N_Entity then\n                   return Nam;\n \n-               --  For Error, make up a name so we can continue\n+               --  For Error, make up a name and attach to declaration\n+               --  so we can continue semantic analysis\n \n                elsif Nam = Error then\n-                  return\n+                  Err :=\n                     Make_Defining_Identifier (Sloc (N),\n                       Chars => New_Internal_Name ('T'));\n+                  Set_Defining_Unit_Name (N, Err);\n \n+                  return Err;\n                --  If not an entity, get defining identifier\n \n                else"}]}