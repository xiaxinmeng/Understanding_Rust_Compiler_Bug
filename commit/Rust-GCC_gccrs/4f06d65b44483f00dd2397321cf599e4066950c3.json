{"sha": "4f06d65b44483f00dd2397321cf599e4066950c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGYwNmQ2NWI0NDQ4M2YwMGRkMjM5NzMyMWNmNTk5ZTQwNjY5NTBjMw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2007-04-29T05:10:22Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2007-04-29T05:10:22Z"}, "message": "re PR fortran/31711 (was \"rhs array is changed while assiging to same lhs array\")\n\n2007-04-29  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/31711\n\t* trans-array.c (gfc_conv_resolve_dependencies): Create a temp\n\twhenever a dependency is found.\n\n2007-04-29  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/31711\n\t* gfortran.dg/dependency_21.f90: New test.\n\nFrom-SVN: r124269", "tree": {"sha": "11549f2341c1d06579bf77fc3a920ae6e8098c82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/11549f2341c1d06579bf77fc3a920ae6e8098c82"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f06d65b44483f00dd2397321cf599e4066950c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f06d65b44483f00dd2397321cf599e4066950c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f06d65b44483f00dd2397321cf599e4066950c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f06d65b44483f00dd2397321cf599e4066950c3/comments", "author": null, "committer": null, "parents": [{"sha": "d10fb73e919c22a50a241b33b6a0d10aa752f70a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d10fb73e919c22a50a241b33b6a0d10aa752f70a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d10fb73e919c22a50a241b33b6a0d10aa752f70a"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "6bba251dc48bdcf192898d6ea34b4fa8ee851795", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=4f06d65b44483f00dd2397321cf599e4066950c3", "patch": "@@ -1,3 +1,9 @@\n+2007-04-29  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/31711\n+\t* trans-array.c (gfc_conv_resolve_dependencies): Create a temp\n+\twhenever a dependency is found.\n+\n 2007-04-28  Tobias Schl\ufffdter  <tobi@gcc.gnu.org>\n \n \t* options.c (gfc_handle_option): Ensure requested free form line"}, {"sha": "92fd67cccf5074ba9ba3009b1ee996fc35445f4d", "filename": "gcc/fortran/trans-array.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ffortran%2Ftrans-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ffortran%2Ftrans-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-array.c?ref=4f06d65b44483f00dd2397321cf599e4066950c3", "patch": "@@ -3001,6 +3001,8 @@ gfc_conv_resolve_dependencies (gfc_loopinfo * loop, gfc_ss * dest,\n \t  rref = ss->expr->ref;\n \n \t  nDepend = gfc_dep_resolver (lref, rref);\n+\t  if (nDepend == 1)\n+\t    break;\n #if 0\n \t  /* TODO : loop shifting.  */\n \t  if (nDepend == 1)"}, {"sha": "c064f174fc5b9cb8f0aba85ccdced392912ece98", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4f06d65b44483f00dd2397321cf599e4066950c3", "patch": "@@ -1,3 +1,8 @@\n+2007-04-29  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/31711\n+\t* gfortran.dg/dependency_21.f90: New test.\n+\n 2007-04-27  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \t* gfortran.dg/secnds.f: Use real*8."}, {"sha": "ca25458f7f27073742b3897e02b0818028d659da", "filename": "gcc/testsuite/gfortran.dg/dependency_21.f90", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_21.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f06d65b44483f00dd2397321cf599e4066950c3/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_21.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdependency_21.f90?ref=4f06d65b44483f00dd2397321cf599e4066950c3", "patch": "@@ -0,0 +1,21 @@\n+! { dg-do run }\n+! Test the fix for PR31711 in which the dependency in the assignment\n+! at line 18 was detected and then ignored.\n+!\n+! Contributed by Tobias Ivarsson <thobes@gmail.com>\n+!\n+program laplsolv\n+  IMPLICIT NONE\n+  integer, parameter                  :: n = 2\n+  double precision,dimension(0:n+1, 0:n+1) :: T\n+  integer                             :: i\n+\n+  T=0.0\n+  T(0:n+1 , 0)     = 1.0\n+  T(0:n+1 , n+1)   = 1.0\n+  T(n+1   , 0:n+1) = 2.0\n+\n+  T(1:n,1)=(T(0:n-1,1)+T(1:n,1+1)+1d0)\n+\n+  if (any (T(1:n,1) .ne. 1d0 )) call abort ()\n+end program laplsolv"}]}