{"sha": "2224729c890681365d1844e102d7db114e2251cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjIyNDcyOWM4OTA2ODEzNjVkMTg0NGUxMDJkN2RiMTE0ZTIyNTFjYw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2020-11-26T14:58:24Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2020-12-15T11:41:57Z"}, "message": "[Ada] Small adjustment to System.Val_Real\n\ngcc/ada/\n\n\t* libgnat/s-valrea.adb (Integer_to_Real): Always use Extra.", "tree": {"sha": "550dde9322ea2e475c478585798c1fa802522298", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/550dde9322ea2e475c478585798c1fa802522298"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2224729c890681365d1844e102d7db114e2251cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2224729c890681365d1844e102d7db114e2251cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2224729c890681365d1844e102d7db114e2251cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2224729c890681365d1844e102d7db114e2251cc/comments", "author": null, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7d07d75d69d8d145329b6a81db1fc74f4e3c812b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d07d75d69d8d145329b6a81db1fc74f4e3c812b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d07d75d69d8d145329b6a81db1fc74f4e3c812b"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "a4afc90bb738a24d72c913191f7ca19d12ba049d", "filename": "gcc/ada/libgnat/s-valrea.adb", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2224729c890681365d1844e102d7db114e2251cc/gcc%2Fada%2Flibgnat%2Fs-valrea.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2224729c890681365d1844e102d7db114e2251cc/gcc%2Fada%2Flibgnat%2Fs-valrea.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-valrea.adb?ref=2224729c890681365d1844e102d7db114e2251cc", "patch": "@@ -82,13 +82,12 @@ package body System.Val_Real is\n          System.Float_Control.Reset;\n       end if;\n \n-      --  Take into account the extra digit near the limit to avoid anomalies\n+      --  Take into account the extra digit\n \n-      if Extra > 0 and then Val <= Precision_Limit / Uns (Base) then\n-         R_Val := Num (Val * Uns (Base)) + Num (Extra);\n+      R_Val := Num (Val);\n+      if Extra > 0 then\n+         R_Val := R_Val * Num (Base) + Num (Extra);\n          S := S - 1;\n-      else\n-         R_Val := Num (Val);\n       end if;\n \n       --  Compute the final value"}]}