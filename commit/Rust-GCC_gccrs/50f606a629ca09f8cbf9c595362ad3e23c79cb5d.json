{"sha": "50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTBmNjA2YTYyOWNhMDlmOGNiZjljNTk1MzYyYWQzZTIzYzc5Y2I1ZA==", "commit": {"author": {"name": "Ben Elliston", "email": "bje@au.ibm.com", "date": "2006-11-03T00:56:35Z"}, "committer": {"name": "Ben Elliston", "email": "bje@gcc.gnu.org", "date": "2006-11-03T00:56:35Z"}, "message": "tree-ssa.c (warn_uninit): Use expand_location variables for locus and declaration locus.\n\n\t* tree-ssa.c (warn_uninit): Use expand_location variables for\n\tlocus and declaration locus.\n\nFrom-SVN: r118444", "tree": {"sha": "7394653e361edf95d8a4d36f93702c6763ec4ca7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7394653e361edf95d8a4d36f93702c6763ec4ca7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50f606a629ca09f8cbf9c595362ad3e23c79cb5d/comments", "author": null, "committer": null, "parents": [{"sha": "bf821e6ad510185ae959fd7787bd068b2aa0bd3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf821e6ad510185ae959fd7787bd068b2aa0bd3f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf821e6ad510185ae959fd7787bd068b2aa0bd3f"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "189604c5c398690ab5969d7772dd7cb59e9b28b4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50f606a629ca09f8cbf9c595362ad3e23c79cb5d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50f606a629ca09f8cbf9c595362ad3e23c79cb5d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "patch": "@@ -1,3 +1,8 @@\n+2006-11-02  Ben Elliston  <bje@au.ibm.com>\n+\n+\t* tree-ssa.c (warn_uninit): Use expand_location variables for\n+\tlocus and declaration locus.\n+\n 2006-11-02  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \tPR target/27405"}, {"sha": "b90916f877d73bd85ffb27cddba3615615724eeb", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50f606a629ca09f8cbf9c595362ad3e23c79cb5d/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50f606a629ca09f8cbf9c595362ad3e23c79cb5d/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "patch": "@@ -1154,7 +1154,8 @@ warn_uninit (tree t, const char *gmsgid, void *data)\n   tree var = SSA_NAME_VAR (t);\n   tree def = SSA_NAME_DEF_STMT (t);\n   tree context = (tree) data;\n-  location_t *locus, *fun_locus;\n+  location_t *locus;\n+  expanded_location xloc, floc;\n \n   /* Default uses (indicated by an empty definition statement),\n      are uninitialized.  */\n@@ -1178,10 +1179,11 @@ warn_uninit (tree t, const char *gmsgid, void *data)\n \t   ? EXPR_LOCUS (context)\n \t   : &DECL_SOURCE_LOCATION (var));\n   warning (0, gmsgid, locus, var);\n-  fun_locus = &DECL_SOURCE_LOCATION (cfun->decl);\n-  if (locus->file != fun_locus->file\n-      || locus->line < fun_locus->line\n-      || locus->line > cfun->function_end_locus.line)\n+  xloc = expand_location (*locus);\n+  floc = expand_location (DECL_SOURCE_LOCATION (cfun->decl));\n+  if (xloc.file != floc.file\n+      || xloc.line < floc.line\n+      || xloc.line > LOCATION_LINE (cfun->function_end_locus))\n     inform (\"%J%qD was declared here\", var, var);\n \n   TREE_NO_WARNING (var) = 1;"}]}