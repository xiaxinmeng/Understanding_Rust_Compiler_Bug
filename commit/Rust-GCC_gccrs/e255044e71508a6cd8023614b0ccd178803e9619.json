{"sha": "e255044e71508a6cd8023614b0ccd178803e9619", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI1NTA0NGU3MTUwOGE2Y2Q4MDIzNjE0YjBjY2QxNzg4MDNlOTYxOQ==", "commit": {"author": {"name": "John David Anglin", "email": "dave.anglin@nrc-cnrc.gc.ca", "date": "2012-12-25T17:57:35Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2012-12-25T17:57:35Z"}, "message": "re PR target/53789 (ICE in gen_reg_rtx, at emit-rtl.c:864/865 when compiling GNU MPFR on parisc)\n\n\tPR target/53789\n\t* config/pa/pa.md (movsi): Reject expansion of TLS symbol references\n\tafter reload starts.\n\nFrom-SVN: r194714", "tree": {"sha": "c153fa1c541c6b370522c41960b28ad3ed44de8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c153fa1c541c6b370522c41960b28ad3ed44de8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e255044e71508a6cd8023614b0ccd178803e9619", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e255044e71508a6cd8023614b0ccd178803e9619", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e255044e71508a6cd8023614b0ccd178803e9619", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e255044e71508a6cd8023614b0ccd178803e9619/comments", "author": null, "committer": null, "parents": [{"sha": "1eb4a0c95320d9e1c10bf6b278b3c283b079b1e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1eb4a0c95320d9e1c10bf6b278b3c283b079b1e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1eb4a0c95320d9e1c10bf6b278b3c283b079b1e7"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "1c43d8a1bb65aceaebae12a8817772f68f523f9e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e255044e71508a6cd8023614b0ccd178803e9619/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e255044e71508a6cd8023614b0ccd178803e9619/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e255044e71508a6cd8023614b0ccd178803e9619", "patch": "@@ -1,3 +1,9 @@\n+2012-12-25  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n+\n+\tPR target/53789\n+\t* config/pa/pa.md (movsi): Reject expansion of TLS symbol references\n+\tafter reload starts.\n+\n 2012-12-22  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/54728"}, {"sha": "5cef94bc00e15e32c6162a91e48c10c9d4db4ad0", "filename": "gcc/config/pa/pa.md", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e255044e71508a6cd8023614b0ccd178803e9619/gcc%2Fconfig%2Fpa%2Fpa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e255044e71508a6cd8023614b0ccd178803e9619/gcc%2Fconfig%2Fpa%2Fpa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.md?ref=e255044e71508a6cd8023614b0ccd178803e9619", "patch": "@@ -2094,6 +2094,12 @@\n   \"\"\n   \"\n {\n+  /* A TLS symbol reference is not a valid move source operand.\n+     pa_emit_move_sequence can only handle them prior to reload.\n+     There is also no way to reload a TLS symbol reference, so\n+     we must reject them after reload starts.  */\n+  if (PA_SYMBOL_REF_TLS_P (operands[1]) && !can_create_pseudo_p ())\n+    FAIL;\n   if (pa_emit_move_sequence (operands, SImode, 0))\n     DONE;\n }\")"}]}