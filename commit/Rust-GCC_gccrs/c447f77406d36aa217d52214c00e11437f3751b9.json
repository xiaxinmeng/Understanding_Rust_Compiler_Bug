{"sha": "c447f77406d36aa217d52214c00e11437f3751b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ0N2Y3NzQwNmQzNmFhMjE3ZDUyMjE0YzAwZTExNDM3ZjM3NTFiOQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2007-07-04T10:07:21Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2007-07-04T10:07:21Z"}, "message": "config.gcc (arm-wrs-vxworks): Don't include svr4.h.\n\ngcc/\n\t* config.gcc (arm-wrs-vxworks): Don't include svr4.h.\n\t* config/vxworks.h (PTRDIFF_TYPE, SIZE_TYPE, TARGET_POSIX_IO): Define.\n\t* config/arm/vxworks.h (ASM_SPEC): Delete.\n\t(SUBTARGET_EXTRA_ASM_SPEC): Define.\n\nFrom-SVN: r126310", "tree": {"sha": "10da92654ce52fdbb8b9dfd049e91539bb014529", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10da92654ce52fdbb8b9dfd049e91539bb014529"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c447f77406d36aa217d52214c00e11437f3751b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c447f77406d36aa217d52214c00e11437f3751b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c447f77406d36aa217d52214c00e11437f3751b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c447f77406d36aa217d52214c00e11437f3751b9/comments", "author": null, "committer": null, "parents": [{"sha": "f8827b1fff2ab6ad1cbc30b4ee10128f7b17d09b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8827b1fff2ab6ad1cbc30b4ee10128f7b17d09b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8827b1fff2ab6ad1cbc30b4ee10128f7b17d09b"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "8ecbb2c2faeacd404201d6836abdac7805d51c73", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c447f77406d36aa217d52214c00e11437f3751b9", "patch": "@@ -1,3 +1,10 @@\n+2007-07-04  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* config.gcc (arm-wrs-vxworks): Don't include svr4.h.\n+\t* config/vxworks.h (PTRDIFF_TYPE, SIZE_TYPE, TARGET_POSIX_IO): Define.\n+\t* config/arm/vxworks.h (ASM_SPEC): Delete.\n+\t(SUBTARGET_EXTRA_ASM_SPEC): Define.\n+\n 2007-07-04  Sebastian Pop  <sebpop@gmail.com>\n \n \t* tree-data-ref.h (data_dependence_relation): New flag reversed_p."}, {"sha": "38ba1dfee880fa6dd61aff05b3af45488ca26c9f", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=c447f77406d36aa217d52214c00e11437f3751b9", "patch": "@@ -700,7 +700,7 @@ arm-semi-aof | armel-semi-aof)\n \ttmake_file=\"arm/t-arm arm/t-semi\"\n \t;;\n arm-wrs-vxworks)\n-\ttm_file=\"elfos.h svr4.h arm/elf.h arm/aout.h ${tm_file} vx-common.h vxworks.h arm/vxworks.h\"\n+\ttm_file=\"elfos.h arm/elf.h arm/aout.h ${tm_file} vx-common.h vxworks.h arm/vxworks.h\"\n \ttmake_file=\"${tmake_file} arm/t-arm arm/t-vxworks\"\n \t;;\n arm*-*-freebsd*|strongarm*-*-freebsd*)"}, {"sha": "58fea14f9854827e62aeef7d3d1135d907d5af8d", "filename": "gcc/config/arm/vxworks.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig%2Farm%2Fvxworks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig%2Farm%2Fvxworks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvxworks.h?ref=c447f77406d36aa217d52214c00e11437f3751b9", "patch": "@@ -76,10 +76,8 @@ Boston, MA 02110-1301, USA.  */\n #define VXWORKS_ENDIAN_SPEC \\\n   \"%{mbig-endian|t4be|t4tbe|t5be|t5tbe|txscalebe:-EB}\"\n \n-/* The -Q options from svr4.h aren't understood and must be removed.  */\n-#undef  ASM_SPEC\n-#define ASM_SPEC \\\n-  \"%{v:-V} %{n} %{T} %{Ym,*} %{Yd,*} %{Wa,*:%*} \" VXWORKS_ENDIAN_SPEC\n+#undef SUBTARGET_EXTRA_ASM_SPEC\n+#define SUBTARGET_EXTRA_ASM_SPEC VXWORKS_ENDIAN_SPEC\n \n #undef LINK_SPEC\n #define LINK_SPEC VXWORKS_LINK_SPEC \" \" VXWORKS_ENDIAN_SPEC"}, {"sha": "2535b7af87a3a31b42c576e7ba15428b39f6ecbf", "filename": "gcc/config/vxworks.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig%2Fvxworks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c447f77406d36aa217d52214c00e11437f3751b9/gcc%2Fconfig%2Fvxworks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvxworks.h?ref=c447f77406d36aa217d52214c00e11437f3751b9", "patch": "@@ -106,6 +106,16 @@ extern void vxworks_asm_out_destructor (rtx symbol, int priority);\n #undef VXWORKS_GOTT_INDEX\n #define VXWORKS_GOTT_INDEX \"__GOTT_INDEX__\"\n \n+/* As for svr4.h (which not all VxWorks targets include). */\n+#undef PTRDIFF_TYPE\n+#define PTRDIFF_TYPE \"int\"\n+\n+#undef SIZE_TYPE\n+#define SIZE_TYPE \"unsigned int\"\n+\n+/* Both kernels and RTPs have the facilities required by this macro.  */\n+#define TARGET_POSIX_IO\n+\n /* A VxWorks implementation of TARGET_OS_CPP_BUILTINS.  */\n #define VXWORKS_OS_CPP_BUILTINS()\t\t\t\t\t\\\n   do\t\t\t\t\t\t\t\t\t\\"}]}