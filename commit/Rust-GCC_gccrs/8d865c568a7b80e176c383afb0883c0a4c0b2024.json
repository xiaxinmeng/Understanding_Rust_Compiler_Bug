{"sha": "8d865c568a7b80e176c383afb0883c0a4c0b2024", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ4NjVjNTY4YTdiODBlMTc2YzM4M2FmYjA4ODNjMGE0YzBiMjAyNA==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2011-01-25T06:46:43Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2011-01-25T06:46:43Z"}, "message": "Pass 0 as the number of parameters to PIP when testing for integer feasibility.\n\n2011-01-25  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-dependences.c (build_lexicographical_constraint): Remove the\n\tgdim parameter.\n\t(build_lexicographical_constraint): Adjust call to ppl_powerset_is_empty.\n\t(dependence_polyhedron): Same.\n\t(graphite_legal_transform_dr): Same.\n\t(graphite_carried_dependence_level_k): Same.\n\t* graphite-ppl.c (ppl_powerset_is_empty): Remove the nb_params parameter.\n\t* graphite-ppl.h (ppl_powerset_is_empty): Adjust declaration.\n\nFrom-SVN: r169209", "tree": {"sha": "e6ee73f80ee8bdceb97688e5e131adc303443de9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e6ee73f80ee8bdceb97688e5e131adc303443de9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d865c568a7b80e176c383afb0883c0a4c0b2024", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d865c568a7b80e176c383afb0883c0a4c0b2024", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d865c568a7b80e176c383afb0883c0a4c0b2024", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d865c568a7b80e176c383afb0883c0a4c0b2024/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50034a3643a48cf80224a61f73d71c61dc65d65b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50034a3643a48cf80224a61f73d71c61dc65d65b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50034a3643a48cf80224a61f73d71c61dc65d65b"}], "stats": {"total": 64, "additions": 34, "deletions": 30}, "files": [{"sha": "061bc611d3ddc9b5f46505449f8aacd07fd88e95", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8d865c568a7b80e176c383afb0883c0a4c0b2024", "patch": "@@ -1,3 +1,14 @@\n+2011-01-25  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-dependences.c (build_lexicographical_constraint): Remove the\n+\tgdim parameter.\n+\t(build_lexicographical_constraint): Adjust call to ppl_powerset_is_empty.\n+\t(dependence_polyhedron): Same.\n+\t(graphite_legal_transform_dr): Same.\n+\t(graphite_carried_dependence_level_k): Same.\n+\t* graphite-ppl.c (ppl_powerset_is_empty): Remove the nb_params parameter.\n+\t* graphite-ppl.h (ppl_powerset_is_empty): Adjust declaration.\n+\n 2011-01-25  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-sese-to-poly.c"}, {"sha": "5a1ed004a6ea9332d7b3ef77606fad97bf66456e", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=8d865c568a7b80e176c383afb0883c0a4c0b2024", "patch": "@@ -1,3 +1,14 @@\n+2011-01-17  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-dependences.c (build_lexicographical_constraint): Remove the\n+\tgdim parameter.\n+\t(build_lexicographical_constraint): Adjust call to ppl_powerset_is_empty.\n+\t(dependence_polyhedron): Same.\n+\t(graphite_legal_transform_dr): Same.\n+\t(graphite_carried_dependence_level_k): Same.\n+\t* graphite-ppl.c (ppl_powerset_is_empty): Remove the nb_params parameter.\n+\t* graphite-ppl.h (ppl_powerset_is_empty): Adjust declaration.\n+\n 2011-01-15  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-sese-to-poly.c"}, {"sha": "58549b74285a26b06b67f34096ff9b42deb1830c", "filename": "gcc/graphite-dependences.c", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-dependences.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-dependences.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-dependences.c?ref=8d865c568a7b80e176c383afb0883c0a4c0b2024", "patch": "@@ -360,14 +360,13 @@ build_pairwise_scheduling (graphite_dim_t dim,\n    the BAG polyhedron: T1|I1|T2|I2|S1|S2|G.  When DIRECTION is set to\n    1, compute the direct dependence from PDR1 to PDR2, and when\n    DIRECTION is -1, compute the reversed dependence relation, from\n-   PDR2 to PDR1.  GDIM is the number of parameters in the scop.  */\n+   PDR2 to PDR1.  */\n \n static ppl_Pointset_Powerset_C_Polyhedron_t\n build_lexicographical_constraint (ppl_Pointset_Powerset_C_Polyhedron_t bag,\n \t\t\t\t  graphite_dim_t dim,\n \t\t\t\t  graphite_dim_t tdim,\n \t\t\t\t  graphite_dim_t offset,\n-\t\t\t\t  graphite_dim_t gdim,\n \t\t\t\t  int direction)\n {\n   graphite_dim_t i;\n@@ -378,7 +377,7 @@ build_lexicographical_constraint (ppl_Pointset_Powerset_C_Polyhedron_t bag,\n   lex = build_pairwise_scheduling (dim, 0, offset, direction);\n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (lex, bag);\n \n-  if (!ppl_powerset_is_empty (lex, gdim))\n+  if (!ppl_powerset_is_empty (lex))\n     ppl_Pointset_Powerset_C_Polyhedron_upper_bound_assign (res, lex);\n \n   ppl_delete_Pointset_Powerset_C_Polyhedron (lex);\n@@ -391,13 +390,13 @@ build_lexicographical_constraint (ppl_Pointset_Powerset_C_Polyhedron_t bag,\n       ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (bag, sceq);\n       ppl_delete_Pointset_Powerset_C_Polyhedron (sceq);\n \n-      if (ppl_powerset_is_empty (bag, gdim))\n+      if (ppl_powerset_is_empty (bag))\n \tbreak;\n \n       lex = build_pairwise_scheduling (dim, i + 1, offset, direction);\n       ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (lex, bag);\n \n-      if (!ppl_powerset_is_empty (lex, gdim))\n+      if (!ppl_powerset_is_empty (lex))\n \tppl_Pointset_Powerset_C_Polyhedron_upper_bound_assign (res, lex);\n \n       ppl_delete_Pointset_Powerset_C_Polyhedron (lex);\n@@ -477,11 +476,11 @@ dependence_polyhedron (poly_dr_p pdr1, poly_dr_p pdr2,\n   ppl_delete_Pointset_Powerset_C_Polyhedron (idr2);\n   ppl_delete_Pointset_Powerset_C_Polyhedron (dreq);\n \n-  if (ppl_powerset_is_empty (res, gdim))\n+  if (ppl_powerset_is_empty (res))\n     return NULL;\n \n   lex = build_lexicographical_constraint (res, dim, MIN (tdim1, tdim2),\n-\t\t\t\t\t  tdim1 + ddim1, gdim, direction);\n+\t\t\t\t\t  tdim1 + ddim1, direction);\n   ppl_delete_Pointset_Powerset_C_Polyhedron (res);\n \n   return lex;\n@@ -671,8 +670,7 @@ graphite_legal_transform_dr (poly_dr_p pdr1, poly_dr_p pdr2)\n   ppl_insert_dimensions_pointset (pt, otdim1 + ttdim1 + ddim1, otdim2);\n \n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (po_temp, pt);\n-  is_empty_p = ppl_powerset_is_empty (po_temp,\n-\t\t\t\t      scop_nb_params (PBB_SCOP (pbb1)));\n+  is_empty_p = ppl_powerset_is_empty (po_temp);\n \n   ppl_delete_Pointset_Powerset_C_Polyhedron (po_temp);\n   free_poly_ddr (tpddr);\n@@ -773,8 +771,7 @@ graphite_carried_dependence_level_k (poly_dr_p pdr1, poly_dr_p pdr2,\n   eqpp = build_pairwise_scheduling (dim, level, tdim1 + ddim1, 1);\n \n   ppl_Pointset_Powerset_C_Polyhedron_intersection_assign (eqpp, po);\n-  empty_p = ppl_powerset_is_empty\n-    (eqpp, scop_nb_params (PBB_SCOP (PDR_PBB (pdr1))));\n+  empty_p = ppl_powerset_is_empty (eqpp);\n \n   ppl_delete_Pointset_Powerset_C_Polyhedron (eqpp);\n   free_poly_ddr (pddr);"}, {"sha": "9762ca46770bbc8b39f7135999d23d64ac89d50d", "filename": "gcc/graphite-ppl.c", "status": "modified", "additions": 3, "deletions": 18, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-ppl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-ppl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-ppl.c?ref=8d865c568a7b80e176c383afb0883c0a4c0b2024", "patch": "@@ -516,35 +516,22 @@ debug_gmp_value (mpz_t val)\n }\n \n /* Checks for integer feasibility: returns true when the powerset\n-   polyhedron PS has no integer solutions.  NB_PARAMS is the number of\n-   dimensions used as parameters in PS.  If DIM is the dimension of\n-   PS, the parameter dimensions are in between DIM - NB_PARAMS and\n-   DIM.  */\n+   polyhedron PS has no integer solutions.  */\n \n bool\n-ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t ps,\n-\t\t       int nb_params ATTRIBUTE_UNUSED)\n+ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t ps)\n {\n   ppl_PIP_Problem_t pip;\n   ppl_dimension_type d;\n   ppl_const_Constraint_System_t pcs;\n   ppl_Constraint_System_const_iterator_t first, last;\n   ppl_Pointset_Powerset_C_Polyhedron_iterator_t it, end;\n-  int i;\n   bool has_integer_solutions = false;\n-  ppl_dimension_type *ds;\n-  int dim_first_parameter;\n \n   if (ppl_Pointset_Powerset_C_Polyhedron_is_empty (ps))\n     return true;\n \n   ppl_Pointset_Powerset_C_Polyhedron_space_dimension (ps, &d);\n-  dim_first_parameter = d - nb_params;\n-  ds = (ppl_dimension_type *) XNEWVEC (ppl_dimension_type, nb_params);\n-\n-  for (i = 0; i < nb_params; i++)\n-    ds[i] = dim_first_parameter + i;\n-\n   ppl_new_Constraint_System_const_iterator (&first);\n   ppl_new_Constraint_System_const_iterator (&last);\n   ppl_new_Pointset_Powerset_C_Polyhedron_iterator (&it);\n@@ -562,7 +549,7 @@ ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t ps,\n       ppl_Constraint_System_begin (pcs, first);\n       ppl_Constraint_System_end (pcs, last);\n \n-      ppl_new_PIP_Problem_from_constraints (&pip, d, first, last, nb_params, ds);\n+      ppl_new_PIP_Problem_from_constraints (&pip, d, first, last, 0, NULL);\n       has_integer_solutions |= ppl_PIP_Problem_is_satisfiable (pip);\n \n       ppl_delete_PIP_Problem (pip);\n@@ -572,8 +559,6 @@ ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t ps,\n   ppl_delete_Constraint_System_const_iterator (last);\n   ppl_delete_Pointset_Powerset_C_Polyhedron_iterator (it);\n   ppl_delete_Pointset_Powerset_C_Polyhedron_iterator (end);\n-  if (ds)\n-    free (ds);\n \n   return !has_integer_solutions;\n }"}, {"sha": "695d01f3425a3c26c967cb6e74dd702a122adc2e", "filename": "gcc/graphite-ppl.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-ppl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d865c568a7b80e176c383afb0883c0a4c0b2024/gcc%2Fgraphite-ppl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-ppl.h?ref=8d865c568a7b80e176c383afb0883c0a4c0b2024", "patch": "@@ -47,7 +47,7 @@ void ppl_min_for_le_pointset (ppl_Pointset_Powerset_C_Polyhedron_t,\n ppl_Constraint_t ppl_build_relation (int, int, int, int,\n \t\t\t\t     enum ppl_enum_Constraint_Type);\n void debug_gmp_value (mpz_t);\n-bool ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t, int);\n+bool ppl_powerset_is_empty (ppl_Pointset_Powerset_C_Polyhedron_t);\n \n \n /* Assigns to RES the value of the INTEGER_CST T.  */"}]}