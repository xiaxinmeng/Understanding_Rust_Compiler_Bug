{"sha": "27ba97a67a5e468317b3316224e82f4f7b680b71", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjdiYTk3YTY3YTVlNDY4MzE3YjMzMTYyMjRlODJmNGY3YjY4MGI3MQ==", "commit": {"author": {"name": "Aaron Sawdey", "email": "acsawdey@linux.vnet.ibm.com", "date": "2017-04-08T16:10:26Z"}, "committer": {"name": "Aaron Sawdey", "email": "acsawdey@gcc.gnu.org", "date": "2017-04-08T16:10:26Z"}, "message": "re PR rtl-optimization/80358 (ICE (cc1 killed) building glib with -O3 on powerpc64le-linux-gnu)\n\n2017-04-08  Aaron Sawdey  <acsawdey@linux.vnet.ibm.com>\n\n\tPR target/80358\n\t* config/rs6000/rs6000.c (expand_block_compare): Fix boundary check.\n\nFrom-SVN: r246784", "tree": {"sha": "2440f4dc7cd048eef095a9d7f6375ec91f0af758", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2440f4dc7cd048eef095a9d7f6375ec91f0af758"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/27ba97a67a5e468317b3316224e82f4f7b680b71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27ba97a67a5e468317b3316224e82f4f7b680b71", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27ba97a67a5e468317b3316224e82f4f7b680b71", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27ba97a67a5e468317b3316224e82f4f7b680b71/comments", "author": null, "committer": null, "parents": [{"sha": "38f540cb00704a9b5f9eab06ab9d45691a5665e1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38f540cb00704a9b5f9eab06ab9d45691a5665e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38f540cb00704a9b5f9eab06ab9d45691a5665e1"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "b1e034596dad4df4d06a305b953454ea708d081a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27ba97a67a5e468317b3316224e82f4f7b680b71/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27ba97a67a5e468317b3316224e82f4f7b680b71/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=27ba97a67a5e468317b3316224e82f4f7b680b71", "patch": "@@ -1,3 +1,8 @@\n+2017-04-08  Aaron Sawdey  <acsawdey@linux.vnet.ibm.com>\n+\n+\tPR target/80358\n+\t* config/rs6000/rs6000.c (expand_block_compare): Fix boundary check.\n+\n 2017-04-07  Pat Haugen  <pthaugen@us.ibm.com>\n \n \t* rs6000/rs6000.c (vec_load_pendulum): Rename..."}, {"sha": "880c3eea1d8cae4bacf5505cf7f7c9fd2a636d06", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/27ba97a67a5e468317b3316224e82f4f7b680b71/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/27ba97a67a5e468317b3316224e82f4f7b680b71/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=27ba97a67a5e468317b3316224e82f4f7b680b71", "patch": "@@ -19672,8 +19672,9 @@ expand_block_compare (rtx operands[])\n   unsigned int load_mode_size = GET_MODE_SIZE (load_mode);\n \n   /* We don't want to generate too much code.  */\n-  if (ROUND_UP (bytes, load_mode_size) / load_mode_size\n-      > (unsigned HOST_WIDE_INT) rs6000_block_compare_inline_limit)\n+  unsigned HOST_WIDE_INT max_bytes =\n+    load_mode_size * (unsigned HOST_WIDE_INT) rs6000_block_compare_inline_limit;\n+  if (!IN_RANGE (bytes, 1, max_bytes))\n     return false;\n \n   bool generate_6432_conversion = false;"}]}