{"sha": "57e6b981a37579907ae8a63aef3a78fa76cadfb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdlNmI5ODFhMzc1Nzk5MDdhZThhNjNhZWYzYTc4ZmE3NmNhZGZiOA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@linux.vnet.ibm.com", "date": "2017-09-26T18:50:23Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "2017-09-26T18:50:23Z"}, "message": "vsx.md (vsx_xscvdpspn): Eliminate useless alternative constraint.\n\n2017-09-26  Michael Meissner  <meissner@linux.vnet.ibm.com>\n\n\t* config/rs6000/vsx.md (vsx_xscvdpspn): Eliminate useless\n\talternative constraint.\n\t(vsx_xscvspdpn): Likewise.\n\t(vsx_xscvspdpn_scalar): Likewise.\n\nFrom-SVN: r253213", "tree": {"sha": "e1b3f5f7bfb2c2598e4d5f230756edb824e4dd6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1b3f5f7bfb2c2598e4d5f230756edb824e4dd6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57e6b981a37579907ae8a63aef3a78fa76cadfb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57e6b981a37579907ae8a63aef3a78fa76cadfb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57e6b981a37579907ae8a63aef3a78fa76cadfb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57e6b981a37579907ae8a63aef3a78fa76cadfb8/comments", "author": null, "committer": null, "parents": [{"sha": "2f448503d619f753f0bd6ecb1ac95e36bd080f1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f448503d619f753f0bd6ecb1ac95e36bd080f1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f448503d619f753f0bd6ecb1ac95e36bd080f1e"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "54acc7810f70e769ff6954cd17ad4e6e629aa482", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57e6b981a37579907ae8a63aef3a78fa76cadfb8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57e6b981a37579907ae8a63aef3a78fa76cadfb8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=57e6b981a37579907ae8a63aef3a78fa76cadfb8", "patch": "@@ -16,6 +16,11 @@\n \tinstruction instead of FRSP and XSCVDPSPN.\n \t* config/rs6000/vsx.md (vsx_xscvspdp_scalar2): Move insn so that\n \tit is adjacent to the other XSCVSPDP insns.\n+\t(vsx_xscvdpsp_scalar): Use \"ww\" constraint instead of \"f\" to allow\n+\tSFmode to be in traditional Altivec registers.\n+\t(vsx_xscvdpspn): Eliminate useless alternative constraint.\n+\t(vsx_xscvspdpn): Likewise.\n+\t(vsx_xscvspdpn_scalar): Likewise.\n \n 2017-09-26  Martin Jambor  <mjambor@suse.cz>\n "}, {"sha": "e21801abb46db69e6da39a541059de30ed79f7db", "filename": "gcc/config/rs6000/vsx.md", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57e6b981a37579907ae8a63aef3a78fa76cadfb8/gcc%2Fconfig%2Frs6000%2Fvsx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57e6b981a37579907ae8a63aef3a78fa76cadfb8/gcc%2Fconfig%2Frs6000%2Fvsx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fvsx.md?ref=57e6b981a37579907ae8a63aef3a78fa76cadfb8", "patch": "@@ -1803,32 +1803,32 @@\n ;; format of scalars is actually DF.\n (define_insn \"vsx_xscvdpsp_scalar\"\n   [(set (match_operand:V4SF 0 \"vsx_register_operand\" \"=wa\")\n-\t(unspec:V4SF [(match_operand:SF 1 \"vsx_register_operand\" \"f\")]\n+\t(unspec:V4SF [(match_operand:SF 1 \"vsx_register_operand\" \"ww\")]\n \t\t     UNSPEC_VSX_CVSPDP))]\n   \"VECTOR_UNIT_VSX_P (V4SFmode)\"\n   \"xscvdpsp %x0,%x1\"\n   [(set_attr \"type\" \"fp\")])\n \n ;; ISA 2.07 xscvdpspn/xscvspdpn that does not raise an error on signalling NaNs\n (define_insn \"vsx_xscvdpspn\"\n-  [(set (match_operand:V4SF 0 \"vsx_register_operand\" \"=ww,?ww\")\n-\t(unspec:V4SF [(match_operand:DF 1 \"vsx_register_operand\" \"wd,wa\")]\n+  [(set (match_operand:V4SF 0 \"vsx_register_operand\" \"=ww\")\n+\t(unspec:V4SF [(match_operand:DF 1 \"vsx_register_operand\" \"ws\")]\n \t\t     UNSPEC_VSX_CVDPSPN))]\n   \"TARGET_XSCVDPSPN\"\n   \"xscvdpspn %x0,%x1\"\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"vsx_xscvspdpn\"\n-  [(set (match_operand:DF 0 \"vsx_register_operand\" \"=ws,?ws\")\n-\t(unspec:DF [(match_operand:V4SF 1 \"vsx_register_operand\" \"wf,wa\")]\n+  [(set (match_operand:DF 0 \"vsx_register_operand\" \"=ws\")\n+\t(unspec:DF [(match_operand:V4SF 1 \"vsx_register_operand\" \"wa\")]\n \t\t   UNSPEC_VSX_CVSPDPN))]\n   \"TARGET_XSCVSPDPN\"\n   \"xscvspdpn %x0,%x1\"\n   [(set_attr \"type\" \"fp\")])\n \n (define_insn \"vsx_xscvdpspn_scalar\"\n-  [(set (match_operand:V4SF 0 \"vsx_register_operand\" \"=wf,?wa\")\n-\t(unspec:V4SF [(match_operand:SF 1 \"vsx_register_operand\" \"ww,ww\")]\n+  [(set (match_operand:V4SF 0 \"vsx_register_operand\" \"=wa\")\n+\t(unspec:V4SF [(match_operand:SF 1 \"vsx_register_operand\" \"ww\")]\n \t\t     UNSPEC_VSX_CVDPSPN))]\n   \"TARGET_XSCVDPSPN\"\n   \"xscvdpspn %x0,%x1\""}]}