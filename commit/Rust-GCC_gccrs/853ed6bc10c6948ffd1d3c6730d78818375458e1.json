{"sha": "853ed6bc10c6948ffd1d3c6730d78818375458e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODUzZWQ2YmMxMGM2OTQ4ZmZkMWQzYzY3MzBkNzg4MTgzNzU0NThlMQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2017-06-08T14:27:45Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2017-06-08T14:27:45Z"}, "message": "PR libstdc++/81017 add noexcept to std::function move operations\n\n\tPR libstdc++/81017\n\t* include/bits/std_function.h (function::function(function&&))\n\t(function::operator=(funtion&&)): Add noexcept.\n\t* testsuite/20_util/function/assign/move.cc: Check for noexcept.\n\t* testsuite/20_util/function/cons/move.cc: Likewise.\n\nFrom-SVN: r249018", "tree": {"sha": "7a463069bf00a2a81d2e1d8e1fcb7cc9006a350c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a463069bf00a2a81d2e1d8e1fcb7cc9006a350c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/853ed6bc10c6948ffd1d3c6730d78818375458e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/853ed6bc10c6948ffd1d3c6730d78818375458e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/853ed6bc10c6948ffd1d3c6730d78818375458e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/853ed6bc10c6948ffd1d3c6730d78818375458e1/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b6bc904227e2dae47f178e4d5468931669df197", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b6bc904227e2dae47f178e4d5468931669df197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b6bc904227e2dae47f178e4d5468931669df197"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "6896c15fa6e71b97d1f884c70633af87bcb7605a", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=853ed6bc10c6948ffd1d3c6730d78818375458e1", "patch": "@@ -1,3 +1,11 @@\n+2017-06-08  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/81017\n+\t* include/bits/std_function.h (function::function(function&&))\n+\t(function::operator=(funtion&&)): Add noexcept.\n+\t* testsuite/20_util/function/assign/move.cc: Check for noexcept.\n+\t* testsuite/20_util/function/cons/move.cc: Likewise.\n+\n 2017-06-07  Jonathan Wakely  <jwakely@redhat.com>\n \n \t* include/bits/regex.h (basic_regex): Add deduction guide from P0433."}, {"sha": "a9ba7567b33c4caf5a19acd78f3d0592ee806477", "filename": "libstdc++-v3/include/bits/std_function.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstd_function.h?ref=853ed6bc10c6948ffd1d3c6730d78818375458e1", "patch": "@@ -438,7 +438,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n        *  The newly-created %function contains the target of @a __x\n        *  (if it has one).\n        */\n-      function(function&& __x) : _Function_base()\n+      function(function&& __x) noexcept : _Function_base()\n       {\n \t__x.swap(*this);\n       }\n@@ -495,7 +495,7 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n        *  object, then this operation will not throw an %exception.\n        */\n       function&\n-      operator=(function&& __x)\n+      operator=(function&& __x) noexcept\n       {\n \tfunction(std::move(__x)).swap(*this);\n \treturn *this;"}, {"sha": "8658527fce45ff264a24c17eeb5fe58eeccd9b8b", "filename": "libstdc++-v3/testsuite/20_util/function/assign/move.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fassign%2Fmove.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fassign%2Fmove.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fassign%2Fmove.cc?ref=853ed6bc10c6948ffd1d3c6730d78818375458e1", "patch": "@@ -38,11 +38,12 @@ void test01()\n   fo2 = (std::move(fo));\n   VERIFY( static_cast<bool>(fo2) );\n   VERIFY( fo2() == 2 );\n+\n+  static_assert(std::is_nothrow_move_assignable<function>::value,\n+\t\t\"PR libstdc++/81017\");\n }\n \n int main()\n {\n   test01();\n-\n-  return 0;\n }"}, {"sha": "7dbc511d3268ee43f10c9530d982f8ef38349499", "filename": "libstdc++-v3/testsuite/20_util/function/cons/move.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fcons%2Fmove.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/853ed6bc10c6948ffd1d3c6730d78818375458e1/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fcons%2Fmove.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ffunction%2Fcons%2Fmove.cc?ref=853ed6bc10c6948ffd1d3c6730d78818375458e1", "patch": "@@ -36,11 +36,12 @@ void test01()\n   function fo2(std::move(fo));\n   VERIFY( static_cast<bool>(fo2) );\n   VERIFY( fo2() == 2 );\n+\n+  static_assert(std::is_nothrow_move_constructible<function>::value,\n+\t\t\"PR libstdc++/81017\");\n }\n \n int main()\n {\n   test01();\n-\n-  return 0;\n }"}]}