{"sha": "75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzVjOGFhYzNjZWU3ZjFhN2VkYTJjNThmOWI1OWNlNDkyNTUwOTg2Mg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2015-11-29T19:48:45Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2015-11-29T19:48:45Z"}, "message": "re PR c++/67581 (ICE on transparent union with -g enabled on x86_64-linux-gnu (verify_type failed))\n\n\n\tPR c/67581\n\t* g++.dg/torture/pr67581.C: New testcase.\n\t* c-family/c-common.c (handle_transparent_union_attribute): Update\n\talso type variants.\n\nFrom-SVN: r231048", "tree": {"sha": "c620df6b9184101f5be4bb8599bdba16dc12c9f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c620df6b9184101f5be4bb8599bdba16dc12c9f5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/comments", "author": null, "committer": null, "parents": [{"sha": "7f091e1c5a1919da45cb80f7677c48649999abb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f091e1c5a1919da45cb80f7677c48649999abb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f091e1c5a1919da45cb80f7677c48649999abb1"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "f8fa0b2b376aeed7e50d8e03cb83005fad2f21bb", "filename": "gcc/c-family/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Fc-family%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Fc-family%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2FChangeLog?ref=75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "patch": "@@ -1,3 +1,9 @@\n+2015-11-29  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR c/67581\n+\t* c-common.c (handle_transparent_union_attribute): Update\n+\talso type variants.\n+\n 2015-11-27  Martin Liska  <mliska@suse.cz>\n \n \tPR c++/68312"}, {"sha": "369574f44de697220bb91cf0d4a0a82431a117fd", "filename": "gcc/c-family/c-common.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Fc-family%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Fc-family%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-common.c?ref=75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "patch": "@@ -7787,7 +7787,8 @@ handle_transparent_union_attribute (tree *node, tree name,\n \t  *node = type = build_duplicate_type (type);\n \t}\n \n-      TYPE_TRANSPARENT_AGGR (type) = 1;\n+      for (tree t = TYPE_MAIN_VARIANT (type); t; t = TYPE_NEXT_VARIANT (t))\n+        TYPE_TRANSPARENT_AGGR (t) = 1;\n       return NULL_TREE;\n     }\n "}, {"sha": "a4419b8acb45d75f6bfbd02591df2b860347b8a8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "patch": "@@ -1,3 +1,8 @@\n+2015-11-29  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR c/67581\n+\t* g++.dg/torture/pr67581.C: New testcase.\n+\n 2015-11-27  Richard Biener  <rguenther@suse.de>\n \n \tPR tree-optimization/68559"}, {"sha": "8089c1fcb2ee8eda355cb5b04032de657d152fa9", "filename": "gcc/testsuite/g++.dg/torture/pr67581.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr67581.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/75c8aac3cee7f1a7eda2c58f9b59ce4925509862/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr67581.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr67581.C?ref=75c8aac3cee7f1a7eda2c58f9b59ce4925509862", "patch": "@@ -0,0 +1,6 @@\n+/* { dg-do compile } */\n+union U \n+{\n+  int x; \n+  float y;\n+} __attribute__ ((__transparent_union__));"}]}