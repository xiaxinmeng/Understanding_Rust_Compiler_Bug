{"sha": "f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU0MWE0ODEyN2ExOTQwZGNlOGRjOGY0OGQ4OGNjYjA0YWEyYTMxZQ==", "commit": {"author": {"name": "Kyrylo Tkachov", "email": "kyrylo.tkachov@arm.com", "date": "2013-10-17T16:49:49Z"}, "committer": {"name": "Kyrylo Tkachov", "email": "ktkachov@gcc.gnu.org", "date": "2013-10-17T16:49:49Z"}, "message": "aarch64.c (aarch64_print_operand): Handle 'c'.\n\n[gcc/]\n2013-10-17  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\t* config/aarch64/aarch64.c (aarch64_print_operand): Handle 'c'.\n\n[gcc/testsuite/]\n2013-10-17  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n\n\t* gcc.target/aarch64/c-output-template.c: New testcase.\n\t* gcc.target/aarch64/c-output-template-2.c: Likewise.\n\t* gcc.target/aarch64/c-output-template-3.c: Likewise.\n\nFrom-SVN: r203779", "tree": {"sha": "9282b64ec45581031c7b86c53e3b7a5df88a7cde", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9282b64ec45581031c7b86c53e3b7a5df88a7cde"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/comments", "author": {"login": "ktkachov-arm", "id": 74917949, "node_id": "MDQ6VXNlcjc0OTE3OTQ5", "avatar_url": "https://avatars.githubusercontent.com/u/74917949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ktkachov-arm", "html_url": "https://github.com/ktkachov-arm", "followers_url": "https://api.github.com/users/ktkachov-arm/followers", "following_url": "https://api.github.com/users/ktkachov-arm/following{/other_user}", "gists_url": "https://api.github.com/users/ktkachov-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ktkachov-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ktkachov-arm/subscriptions", "organizations_url": "https://api.github.com/users/ktkachov-arm/orgs", "repos_url": "https://api.github.com/users/ktkachov-arm/repos", "events_url": "https://api.github.com/users/ktkachov-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/ktkachov-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "51bb310d15b97ad1a2c1eedf8a6792663c493947", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51bb310d15b97ad1a2c1eedf8a6792663c493947", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51bb310d15b97ad1a2c1eedf8a6792663c493947"}], "stats": {"total": 75, "additions": 75, "deletions": 0}, "files": [{"sha": "3888c9a1bc7e8e95939f69956c830126cfa9a64e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -1,3 +1,7 @@\n+2013-10-17  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_print_operand): Handle 'c'.\n+\n 2013-10-17  Marcus Shawcroft  <marcus.shawcroft@arm.com>\n \n \t* config/aarch64/aarch64.c (aarch64_preferred_reload_class): Adjust"}, {"sha": "d553af87dc667edb6824c513943cf72eb07fe9d4", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -3440,6 +3440,32 @@ aarch64_print_operand (FILE *f, rtx x, char code)\n {\n   switch (code)\n     {\n+    /* An integer or symbol address without a preceding # sign.  */\n+    case 'c':\n+      switch (GET_CODE (x))\n+\t{\n+\tcase CONST_INT:\n+\t  fprintf (f, HOST_WIDE_INT_PRINT_DEC, INTVAL (x));\n+\t  break;\n+\n+\tcase SYMBOL_REF:\n+\t  output_addr_const (f, x);\n+\t  break;\n+\n+\tcase CONST:\n+\t  if (GET_CODE (XEXP (x, 0)) == PLUS\n+\t      && GET_CODE (XEXP (XEXP (x, 0), 0)) == SYMBOL_REF)\n+\t    {\n+\t      output_addr_const (f, x);\n+\t      break;\n+\t    }\n+\t  /* Fall through.  */\n+\n+\tdefault:\n+\t  output_operand_lossage (\"Unsupported operand for code '%c'\", code);\n+\t}\n+      break;\n+\n     case 'e':\n       /* Print the sign/zero-extend size as a character 8->b, 16->h, 32->w.  */\n       {"}, {"sha": "a3bd224b63d7d2c2036be079466a385cefbe1664", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -1,3 +1,9 @@\n+2013-10-17  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n+\n+\t* gcc.target/aarch64/c-output-template.c: New testcase.\n+\t* gcc.target/aarch64/c-output-template-2.c: Likewise.\n+\t* gcc.target/aarch64/c-output-template-3.c: Likewise.\n+\n 2013-10-17  Michael Hudson-Doyle  <michael.hudson@linaro.org>\n \n \t* gcc/testsuite/lib/target-supports.exp"}, {"sha": "16ff58d9e283c93d26492d9138a82822536da2eb", "filename": "gcc/testsuite/gcc.target/aarch64/c-output-template-2.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-2.c?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+\n+struct tracepoint {\n+    int dummy;\n+    int state;\n+};\n+static struct tracepoint tp;\n+\n+void\n+test (void)\n+{\n+    __asm__ (\"@ %c0\" : : \"i\" (&tp));\n+}\n+\n+/* { dg-final { scan-assembler \"@ tp\" } } */"}, {"sha": "e332fe18fb9e4da20e48207ee89451a6eb9fefae", "filename": "gcc/testsuite/gcc.target/aarch64/c-output-template-3.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template-3.c?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -0,0 +1,15 @@\n+/* { dg-do compile } */\n+\n+struct tracepoint {\n+    int dummy;\n+    int state;\n+};\n+static struct tracepoint tp;\n+\n+void\n+test (void)\n+{\n+    __asm__ (\"@ %c0\" : : \"i\" (&tp.state));\n+}\n+\n+/* { dg-final { scan-assembler \"@ tp\\\\+4\" } } */"}, {"sha": "1b67c9169e346061f4568742554ab9589062b13d", "filename": "gcc/testsuite/gcc.target/aarch64/c-output-template.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f541a48127a1940dce8dc8f48d88ccb04aa2a31e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fc-output-template.c?ref=f541a48127a1940dce8dc8f48d88ccb04aa2a31e", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do compile } */\n+\n+void\n+test (void)\n+{\n+    __asm__ (\"@ %c0\" : : \"i\" (42));\n+}\n+\n+/* { dg-final { scan-assembler \"@ 42\" } } */"}]}