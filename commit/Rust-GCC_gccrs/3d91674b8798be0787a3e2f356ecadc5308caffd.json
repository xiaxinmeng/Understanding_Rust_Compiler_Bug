{"sha": "3d91674b8798be0787a3e2f356ecadc5308caffd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q5MTY3NGI4Nzk4YmUwNzg3YTNlMmYzNTZlY2FkYzUzMDhjYWZmZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-13T11:50:22Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-13T11:50:22Z"}, "message": "(subsi3): Merge alternatives.\n\n(comparison patterns): Eliminate generation of \"sfi.\"; no such instruction\nexists.\n\nFrom-SVN: r5151", "tree": {"sha": "a1cbfc87838ed027d389b7823aee679ae2a733b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1cbfc87838ed027d389b7823aee679ae2a733b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d91674b8798be0787a3e2f356ecadc5308caffd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d91674b8798be0787a3e2f356ecadc5308caffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d91674b8798be0787a3e2f356ecadc5308caffd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d91674b8798be0787a3e2f356ecadc5308caffd/comments", "author": null, "committer": null, "parents": [{"sha": "fd5d5b94a1a2b798724fd7d92f309ecac8c2eb34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd5d5b94a1a2b798724fd7d92f309ecac8c2eb34", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd5d5b94a1a2b798724fd7d92f309ecac8c2eb34"}], "stats": {"total": 76, "additions": 34, "deletions": 42}, "files": [{"sha": "fd18904152c97bc282c4c2bbc5d2c9bd04b7c006", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 34, "deletions": 42, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d91674b8798be0787a3e2f356ecadc5308caffd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d91674b8798be0787a3e2f356ecadc5308caffd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=3d91674b8798be0787a3e2f356ecadc5308caffd", "patch": "@@ -236,13 +236,11 @@\n   \"sfi %0,%1,-1\")\n \n (define_insn \"\"\n-  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n-\t(minus:SI (match_operand:SI 1 \"reg_or_short_operand\" \"r,I\")\n-\t\t  (match_operand:SI 2 \"gpc_reg_operand\" \"r,r\")))]\n+  [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n+\t(minus:SI (match_operand:SI 1 \"reg_or_short_operand\" \"rI\")\n+\t\t  (match_operand:SI 2 \"gpc_reg_operand\" \"r\")))]\n   \"\"\n-  \"@\n-   sf %0,%2,%1\n-   sfi %0,%2,%1\")\n+  \"sf%I1 %0,%2,%1\")\n \n (define_insn \"\"\n   [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x\")\n@@ -4188,38 +4186,34 @@\n  [(set_attr \"length\" \"12\")])\n \n (define_insn \"\"\n-  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x,x,x\")\n+  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x\")\n \t(compare:CC\n-\t (plus:SI (ltu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_neg_short_operand\" \"r,r,P,P\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,I,r,I\"))\n+\t (plus:SI (ltu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_neg_short_operand\" \"r,P\"))\n+\t\t  (match_operand:SI 3 \"gpc_reg_operand\" \"r,r\"))\n \t (const_int 0)))\n-   (clobber (match_scratch:SI 4 \"=&r,r,&r,r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n   \"\"\n   \"@\n-   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf%I3. %4,%4,%3\n-   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf%I3. %4,%4,%3\n-   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf%I3. %4,%4,%3\n-   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf%I3. %4,%4,%3\"\n+   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf. %4,%4,%3\n+   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf. %4,%4,%3\"\n   [(set_attr \"type\" \"compare\")\n    (set_attr \"length\" \"12\")])\n \n (define_insn \"\"\n-  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x,x,x\")\n+  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x\")\n \t(compare:CC\n-\t (plus:SI (ltu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_neg_short_operand\" \"r,r,P,P\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,I,r,I\"))\n+\t (plus:SI (ltu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_neg_short_operand\" \"r,P\"))\n+\t\t  (match_operand:SI 3 \"gpc_reg_operand\" \"r,r\"))\n \t (const_int 0)))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r,r,r\")\n+   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n \t(plus:SI (ltu:SI (match_dup 1) (match_dup 2)) (match_dup 3)))\n-   (clobber (match_scratch:SI 4 \"=&r,r,&r,r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n   \"\"\n   \"@\n-   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n-   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n-   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n-   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n+   sf %4,%2,%1\\;sfe %4,%4,%4\\;sf. %0,%4,%3\n+   ai %4,%1,%n2\\;sfe %4,%4,%4\\;sf. %0,%4,%3\"\n   [(set_attr \"type\" \"compare\")\n    (set_attr \"length\" \"12\")])\n \n@@ -4644,38 +4638,36 @@\n   [(set_attr \"length\" \"8,12,12\")])\n \n (define_insn \"\"\n-  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x,x\")\n+  [(set (match_operand:CC 0 \"cc_reg_operand\" \"=x,x\")\n \t(compare:CC\n-\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r,rI\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,r,I\"))\n+\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r\"))\n+\t\t  (match_operand:SI 3 \"gpc_reg_operand\" \"r,r\"))\n \t (const_int 0)))\n-   (clobber (match_scratch:SI 4 \"=&r,&r,&r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n   \"\"\n   \"@\n    ai %4,%1,%k2\\;aze. %0,%3\n-   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n-   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf. %0,%4,%3\"\n   [(set_attr \"type\" \"compare\")\n-   (set_attr \"length\" \"8,12,12\")])\n+   (set_attr \"length\" \"8,12\")])\n \n (define_insn \"\"\n-  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x,x\")\n+  [(set (match_operand:CC 5 \"cc_reg_operand\" \"=x,x\")\n \t(compare:CC\n-\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r,r\")\n-\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r,rI\"))\n-\t\t  (match_operand:SI 3 \"reg_or_short_operand\" \"r,r,I\"))\n+\t (plus:SI (gtu:SI (match_operand:SI 1 \"gpc_reg_operand\" \"r,r\")\n+\t\t\t  (match_operand:SI 2 \"reg_or_short_operand\" \"I,r\"))\n+\t\t  (match_operand:SI 3 \"gpc_reg_operand\" \"r,r\"))\n \t (const_int 0)))\n-   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r,r\")\n+   (set (match_operand:SI 0 \"gpc_reg_operand\" \"=r,r\")\n \t(plus:SI (gtu:SI (match_dup 1) (match_dup 2)) (match_dup 3)))\n-   (clobber (match_scratch:SI 4 \"=&r,&r,&r\"))]\n+   (clobber (match_scratch:SI 4 \"=&r,&r\"))]\n   \"\"\n   \"@\n    ai %4,%1,%k2\\;aze. %0,%3\n-   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\n-   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf%I3. %0,%4,%3\"\n+   sf%I2 %4,%1,%2\\;sfe %4,%4,%4\\;sf. %0,%4,%3\"\n   [(set_attr \"type\" \"compare\")\n-   (set_attr \"length\" \"8,12,12\")])\n+   (set_attr \"length\" \"8,12\")])\n \n (define_insn \"\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")"}]}