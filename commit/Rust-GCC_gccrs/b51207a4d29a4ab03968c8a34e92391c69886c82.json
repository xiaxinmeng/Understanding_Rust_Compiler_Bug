{"sha": "b51207a4d29a4ab03968c8a34e92391c69886c82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjUxMjA3YTRkMjlhNGFiMDM5NjhjOGEzNGU5MjM5MWM2OTg4NmM4Mg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-01-17T21:45:29Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-01-17T21:45:29Z"}, "message": "fixlib.c: Add copyright notice.\n\n\t* fixinc/fixlib.c: Add copyright notice.\n\t(compile_re): New function.\n\t* fixinc/fixlib.h: Prototype compile_re.\n\n\t* fixinc/fixfixes.c, fixinc/fixtests.c, fixinc/fixincl.c:\n\tUse compile_re to compile regular expressions.\n\n\t* fixinc/fixincl.c (egrep_test): Don't bother asking regexec\n\twhere the pattern matched.\n\n\t* fixinc/inclhack.def (sun_memcpy): Move to AAB_sun_memcpy,\n\tuse 'replace'.\n\t(ultrix_ansi_compat): Likewise.\n\t(interactv_add1): Rename to 'isc_omits_with_stdc', remove shell test,\n\tadd egrep test.\n\t(interactv_add2, interactv_add3): Delete.\n\t(x11_sprintf): Don't use filename glob.\n\t* fixinc/fixincl.x, fixinc/inclhack.sh, fixinc/fixincl.sh:\n\tRegenerate.\n\nFrom-SVN: r31474", "tree": {"sha": "eb8d5bb67e01ca5f5c9b7fbe503fe8f52efafc50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eb8d5bb67e01ca5f5c9b7fbe503fe8f52efafc50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b51207a4d29a4ab03968c8a34e92391c69886c82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b51207a4d29a4ab03968c8a34e92391c69886c82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b51207a4d29a4ab03968c8a34e92391c69886c82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b51207a4d29a4ab03968c8a34e92391c69886c82/comments", "author": null, "committer": null, "parents": [{"sha": "051e6fd745109c9de4d707ccd949722904a74987", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/051e6fd745109c9de4d707ccd949722904a74987", "html_url": "https://github.com/Rust-GCC/gccrs/commit/051e6fd745109c9de4d707ccd949722904a74987"}], "stats": {"total": 906, "additions": 391, "deletions": 515}, "files": [{"sha": "b701c05ccc213187d4a85c133ace309a0a717ba8", "filename": "gcc/fixinc/fixfixes.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixfixes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixfixes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixfixes.c?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -3,7 +3,7 @@\n \n    Test to see if a particular fix should be applied to a header file.\n \n-   Copyright (C) 1997, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n \n = = = = = = = = = = = = = = = = = = = = = = = = =\n \n@@ -191,9 +191,8 @@ FIX_PROC_HEAD( else_endif_label_fix )\n   char* pz_next = (char*)NULL;\n   regmatch_t match[2];\n \n-  re_set_syntax (RE_SYNTAX_EGREP);\n-  (void)re_compile_pattern (label_pat, sizeof (label_pat)-1,\n-                            &label_re);\n+  compile_re (label_pat, &label_re, 1,\n+\t      \"label pattern\", \"else_endif_label_fix\");\n \n   for (;;) /* entire file */\n     {"}, {"sha": "9c40cde20e8d38264f6c6c9018fa992f0fb27124", "filename": "gcc/fixinc/fixincl.c", "status": "modified", "additions": 8, "deletions": 32, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.c?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -3,7 +3,7 @@\n    files which are fixed to work correctly with ANSI C and placed in a\n    directory that GNU C will search.\n \n-   Copyright (C) 1997, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -533,8 +533,6 @@ load_file ( fname )\n void\n run_compiles ()\n {\n-  tSCC z_bad_comp[] = \"fixincl ERROR:  cannot compile %s regex for %s\\n\\\n-\\texpr = `%s'\\n\\terror %s\\n\";\n   tFixDesc *p_fixd = fixDescList;\n   int fix_ct = FIX_COUNT;\n   tTestDesc *p_test;\n@@ -550,26 +548,13 @@ run_compiles ()\n       exit (EXIT_FAILURE);\n     }\n \n-  /*  Make sure re_compile_pattern does not stumble across invalid\n-      data */\n+  /*  Make sure compile_re does not stumble across invalid data */\n \n   memset ( (void*)p_re, '\\0', REGEX_COUNT * sizeof (regex_t) );\n   memset ( (void*)&incl_quote_re, '\\0', sizeof (regex_t) );\n \n-  /*  The patterns we search for are all egrep patterns.\n-      In the shell version of this program, we invoke egrep\n-      with the supplied pattern.  Here, we will run\n-      re_compile_pattern, but it must be using the same rules.  */\n-\n-  re_set_syntax (RE_SYNTAX_EGREP);\n-  pz_err = re_compile_pattern (incl_quote_pat, sizeof (incl_quote_pat)-1,\n-                              &incl_quote_re);\n-  if (pz_err != (char *) NULL)\n-    {\n-      fprintf (stderr, z_bad_comp, \"quoted include\", \"run_compiles\",\n-               incl_quote_pat, pz_err);\n-      exit (EXIT_FAILURE);\n-    }\n+  compile_re (incl_quote_pat, &incl_quote_re, 1,\n+\t      \"quoted include\", \"run_compiles\");\n \n   /* FOR every fixup, ...  */\n   do\n@@ -669,16 +654,9 @@ run_compiles ()\n                 }\n \n               p_test->p_test_regex = p_re++;\n-              pz_err = re_compile_pattern (p_test->pz_test_text,\n-                                          strlen (p_test->pz_test_text),\n-                                          p_test->p_test_regex);\n-              if (pz_err != (char *) NULL)\n-                {\n-                  fprintf (stderr, z_bad_comp, \"select test\", p_fixd->fix_name,\n-                           p_test->pz_test_text, pz_err);\n-                  exit (EXIT_FAILURE);\n-                }\n-            }\n+\t      compile_re (p_test->pz_test_text, p_test->p_test_regex, 0,\n+\t\t\t  \"select test\", p_fixd->fix_name);\n+\t    }\n           p_test++;\n         }\n     }\n@@ -815,14 +793,12 @@ egrep_test (pz_data, p_test)\n      char *pz_data;\n      tTestDesc *p_test;\n {\n-  regmatch_t match;\n-\n #ifdef DEBUG\n   if (p_test->p_test_regex == 0)\n     fprintf (stderr, \"fixincl ERROR RE not compiled:  `%s'\\n\",\n              p_test->pz_test_text);\n #endif\n-  if (regexec (p_test->p_test_regex, pz_data, 1, &match, 0) == 0)\n+  if (regexec (p_test->p_test_regex, pz_data, 0, 0, 0) == 0)\n     return APPLY_FIX;\n   return SKIP_FIX;\n }"}, {"sha": "809c807b8b759285ad13ae9ac2bca4e474536526", "filename": "gcc/fixinc/fixincl.sh", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.sh?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -6,11 +6,11 @@\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n #\n-# This script contains 114 fixup scripts.\n+# This script contains 112 fixup scripts.\n #\n # See README-fixinc for more information.\n #\n-#  fixincludes copyright (c) 1999 The Free Software Foundation, Inc.\n+#  fixincludes copyright (c) 2000 The Free Software Foundation, Inc.\n #\n # fixincludes is free software.\n # "}, {"sha": "c3bdc589363a9de417159d0b0cb1a586c76b68db", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 188, "deletions": 272, "changes": 460, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -5,11 +5,11 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 114 fixup descriptions.\n+ * This file contains 112 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n- *  inclhack copyright (c) 1999 The Free Software Foundation, Inc.\n+ *  inclhack copyright (c) 2000 The Free Software Foundation, Inc.\n  *\n  *  inclhack is free software.\n  *  \n@@ -455,11 +455,63 @@ const char* apzAab_Fd_Zero_Selectbits_HPatch[] = {\n #endif /* _SELECTBITS_H_WRAPPER */\\n\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Aab_Sun_Memcpy fix\n+ */\n+#define AAB_SUN_MEMCPY_FIXIDX            10\n+tSCC zAab_Sun_MemcpyName[] =\n+     \"Aab_Sun_Memcpy\";\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zAab_Sun_MemcpyList[] =\n+  \"|memory.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzAab_Sun_MemcpyMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zAab_Sun_MemcpySelect0[] =\n+       \"/\\\\*\\t@\\\\(#\\\\)(head/memory.h\\t50.1\\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\\t)\\\\*/\";\n+\n+#define    AAB_SUN_MEMCPY_TEST_CT  1\n+tTestDesc aAab_Sun_MemcpyTests[] = {\n+  { TT_EGREP,    zAab_Sun_MemcpySelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Aab_Sun_Memcpy\n+ */\n+const char* apzAab_Sun_MemcpyPatch[] = {\n+\"/* This file was generated by fixincludes */\\n\\\n+#ifndef __memory_h__\\n\\\n+#define __memory_h__\\n\\\n+\\n\\\n+#ifdef __STDC__\\n\\\n+extern void *memccpy();\\n\\\n+extern void *memchr();\\n\\\n+extern void *memcpy();\\n\\\n+extern void *memset();\\n\\\n+#else\\n\\\n+extern char *memccpy();\\n\\\n+extern char *memchr();\\n\\\n+extern char *memcpy();\\n\\\n+extern char *memset();\\n\\\n+#endif /* __STDC__ */\\n\\\n+\\n\\\n+extern int memcmp();\\n\\\n+\\n\\\n+#endif /* __memory_h__ */\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Aab_Svr4_Replace_Byteorder fix\n  */\n-#define AAB_SVR4_REPLACE_BYTEORDER_FIXIDX 10\n+#define AAB_SVR4_REPLACE_BYTEORDER_FIXIDX 11\n tSCC zAab_Svr4_Replace_ByteorderName[] =\n      \"Aab_Svr4_Replace_Byteorder\";\n /*\n@@ -630,11 +682,45 @@ ntohs (unsigned int __arg)\\n\\\n #endif\\n\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Aab_Ultrix_Ansi_Compat fix\n+ */\n+#define AAB_ULTRIX_ANSI_COMPAT_FIXIDX    12\n+tSCC zAab_Ultrix_Ansi_CompatName[] =\n+     \"Aab_Ultrix_Ansi_Compat\";\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zAab_Ultrix_Ansi_CompatList[] =\n+  \"|ansi_compat.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzAab_Ultrix_Ansi_CompatMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zAab_Ultrix_Ansi_CompatSelect0[] =\n+       \"ULTRIX\";\n+\n+#define    AAB_ULTRIX_ANSI_COMPAT_TEST_CT  1\n+tTestDesc aAab_Ultrix_Ansi_CompatTests[] = {\n+  { TT_EGREP,    zAab_Ultrix_Ansi_CompatSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Aab_Ultrix_Ansi_Compat\n+ */\n+const char* apzAab_Ultrix_Ansi_CompatPatch[] = {\n+\"/* This file intentionally left blank.  */\\n\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Aix_Syswait fix\n  */\n-#define AIX_SYSWAIT_FIXIDX               11\n+#define AIX_SYSWAIT_FIXIDX               13\n tSCC zAix_SyswaitName[] =\n      \"Aix_Syswait\";\n /*\n@@ -669,7 +755,7 @@ struct rusage;\\n\",\n  *\n  *  Description of Aix_Volatile fix\n  */\n-#define AIX_VOLATILE_FIXIDX              12\n+#define AIX_VOLATILE_FIXIDX              14\n tSCC zAix_VolatileName[] =\n      \"Aix_Volatile\";\n /*\n@@ -703,7 +789,7 @@ const char* apzAix_VolatilePatch[] = { \"sed\",\n  *\n  *  Description of Alpha_Getopt fix\n  */\n-#define ALPHA_GETOPT_FIXIDX              13\n+#define ALPHA_GETOPT_FIXIDX              15\n tSCC zAlpha_GetoptName[] =\n      \"Alpha_Getopt\";\n /*\n@@ -737,7 +823,7 @@ const char* apzAlpha_GetoptPatch[] = { \"sed\",\n  *\n  *  Description of Alpha_Parens fix\n  */\n-#define ALPHA_PARENS_FIXIDX              14\n+#define ALPHA_PARENS_FIXIDX              16\n tSCC zAlpha_ParensName[] =\n      \"Alpha_Parens\";\n /*\n@@ -771,7 +857,7 @@ const char* apzAlpha_ParensPatch[] = { \"sed\",\n  *\n  *  Description of Alpha_Sbrk fix\n  */\n-#define ALPHA_SBRK_FIXIDX                15\n+#define ALPHA_SBRK_FIXIDX                17\n tSCC zAlpha_SbrkName[] =\n      \"Alpha_Sbrk\";\n /*\n@@ -805,7 +891,7 @@ const char* apzAlpha_SbrkPatch[] = { \"sed\",\n  *\n  *  Description of Arm_Norcroft_Hint fix\n  */\n-#define ARM_NORCROFT_HINT_FIXIDX         16\n+#define ARM_NORCROFT_HINT_FIXIDX         18\n tSCC zArm_Norcroft_HintName[] =\n      \"Arm_Norcroft_Hint\";\n /*\n@@ -839,7 +925,7 @@ const char* apzArm_Norcroft_HintPatch[] = { \"sed\",\n  *\n  *  Description of Arm_Wchar fix\n  */\n-#define ARM_WCHAR_FIXIDX                 17\n+#define ARM_WCHAR_FIXIDX                 19\n tSCC zArm_WcharName[] =\n      \"Arm_Wchar\";\n /*\n@@ -874,7 +960,7 @@ const char* apzArm_WcharPatch[] = { \"sed\",\n  *\n  *  Description of Aux_Asm fix\n  */\n-#define AUX_ASM_FIXIDX                   18\n+#define AUX_ASM_FIXIDX                   20\n tSCC zAux_AsmName[] =\n      \"Aux_Asm\";\n /*\n@@ -908,7 +994,7 @@ const char* apzAux_AsmPatch[] = { \"sed\",\n  *\n  *  Description of Avoid_Bool fix\n  */\n-#define AVOID_BOOL_FIXIDX                19\n+#define AVOID_BOOL_FIXIDX                21\n tSCC zAvoid_BoolName[] =\n      \"Avoid_Bool\";\n /*\n@@ -953,7 +1039,7 @@ const char* apzAvoid_BoolPatch[] = { \"sed\",\n  *\n  *  Description of Bad_Struct_Term fix\n  */\n-#define BAD_STRUCT_TERM_FIXIDX           20\n+#define BAD_STRUCT_TERM_FIXIDX           22\n tSCC zBad_Struct_TermName[] =\n      \"Bad_Struct_Term\";\n /*\n@@ -987,7 +1073,7 @@ const char* apzBad_Struct_TermPatch[] = { \"sed\",\n  *\n  *  Description of Badquote fix\n  */\n-#define BADQUOTE_FIXIDX                  21\n+#define BADQUOTE_FIXIDX                  23\n tSCC zBadquoteName[] =\n      \"Badquote\";\n /*\n@@ -1013,7 +1099,7 @@ const char* apzBadquotePatch[] = { \"sed\",\n  *\n  *  Description of Bad_Lval fix\n  */\n-#define BAD_LVAL_FIXIDX                  22\n+#define BAD_LVAL_FIXIDX                  24\n tSCC zBad_LvalName[] =\n      \"Bad_Lval\";\n /*\n@@ -1047,7 +1133,7 @@ const char* apzBad_LvalPatch[] = { \"sed\",\n  *\n  *  Description of Broken_Assert_Stdio fix\n  */\n-#define BROKEN_ASSERT_STDIO_FIXIDX       23\n+#define BROKEN_ASSERT_STDIO_FIXIDX       25\n tSCC zBroken_Assert_StdioName[] =\n      \"Broken_Assert_Stdio\";\n /*\n@@ -1089,7 +1175,7 @@ const char* apzBroken_Assert_StdioPatch[] = { \"sed\",\n  *\n  *  Description of Broken_Assert_Stdlib fix\n  */\n-#define BROKEN_ASSERT_STDLIB_FIXIDX      24\n+#define BROKEN_ASSERT_STDLIB_FIXIDX      26\n tSCC zBroken_Assert_StdlibName[] =\n      \"Broken_Assert_Stdlib\";\n /*\n@@ -1133,7 +1219,7 @@ const char* apzBroken_Assert_StdlibPatch[] = { \"sed\",\n  *\n  *  Description of Bsd43_Io_Macros fix\n  */\n-#define BSD43_IO_MACROS_FIXIDX           25\n+#define BSD43_IO_MACROS_FIXIDX           27\n tSCC zBsd43_Io_MacrosName[] =\n      \"Bsd43_Io_Macros\";\n /*\n@@ -1167,7 +1253,7 @@ const char* apzBsd43_Io_MacrosPatch[] = { \"sed\",\n  *\n  *  Description of Dec_Intern_Asm fix\n  */\n-#define DEC_INTERN_ASM_FIXIDX            26\n+#define DEC_INTERN_ASM_FIXIDX            28\n tSCC zDec_Intern_AsmName[] =\n      \"Dec_Intern_Asm\";\n /*\n@@ -1196,7 +1282,7 @@ const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n  *\n  *  Description of No_Double_Slash fix\n  */\n-#define NO_DOUBLE_SLASH_FIXIDX           27\n+#define NO_DOUBLE_SLASH_FIXIDX           29\n tSCC zNo_Double_SlashName[] =\n      \"No_Double_Slash\";\n /*\n@@ -1227,7 +1313,7 @@ const char* apzNo_Double_SlashPatch[] = {\"no_double_slash\",\n  *\n  *  Description of Ecd_Cursor fix\n  */\n-#define ECD_CURSOR_FIXIDX                28\n+#define ECD_CURSOR_FIXIDX                30\n tSCC zEcd_CursorName[] =\n      \"Ecd_Cursor\";\n /*\n@@ -1253,7 +1339,7 @@ const char* apzEcd_CursorPatch[] = { \"sed\",\n  *\n  *  Description of Sco5_Stat_Wrappers fix\n  */\n-#define SCO5_STAT_WRAPPERS_FIXIDX        29\n+#define SCO5_STAT_WRAPPERS_FIXIDX        31\n tSCC zSco5_Stat_WrappersName[] =\n      \"Sco5_Stat_Wrappers\";\n /*\n@@ -1289,7 +1375,7 @@ extern \\\"C\\\"\\\\\\n\\\n  *\n  *  Description of End_Else_Label fix\n  */\n-#define END_ELSE_LABEL_FIXIDX            30\n+#define END_ELSE_LABEL_FIXIDX            32\n tSCC zEnd_Else_LabelName[] =\n      \"End_Else_Label\";\n /*\n@@ -1320,7 +1406,7 @@ const char* apzEnd_Else_LabelPatch[] = {\"else_endif_label\",\n  *\n  *  Description of Hp_Inline fix\n  */\n-#define HP_INLINE_FIXIDX                 31\n+#define HP_INLINE_FIXIDX                 33\n tSCC zHp_InlineName[] =\n      \"Hp_Inline\";\n /*\n@@ -1355,7 +1441,7 @@ const char* apzHp_InlinePatch[] = { \"sed\",\n  *\n  *  Description of Hp_Sysfile fix\n  */\n-#define HP_SYSFILE_FIXIDX                32\n+#define HP_SYSFILE_FIXIDX                34\n tSCC zHp_SysfileName[] =\n      \"Hp_Sysfile\";\n /*\n@@ -1389,7 +1475,7 @@ const char* apzHp_SysfilePatch[] = { \"sed\",\n  *\n  *  Description of Cxx_Unready fix\n  */\n-#define CXX_UNREADY_FIXIDX               33\n+#define CXX_UNREADY_FIXIDX               35\n tSCC zCxx_UnreadyName[] =\n      \"Cxx_Unready\";\n /*\n@@ -1431,7 +1517,7 @@ extern \\\"C\\\" {\\\\\\n\\\n  *\n  *  Description of Hpux_Maxint fix\n  */\n-#define HPUX_MAXINT_FIXIDX               34\n+#define HPUX_MAXINT_FIXIDX               36\n tSCC zHpux_MaxintName[] =\n      \"Hpux_Maxint\";\n /*\n@@ -1460,7 +1546,7 @@ const char* apzHpux_MaxintPatch[] = { \"sed\",\n  *\n  *  Description of Hpux_Systime fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              35\n+#define HPUX_SYSTIME_FIXIDX              37\n tSCC zHpux_SystimeName[] =\n      \"Hpux_Systime\";\n /*\n@@ -1494,7 +1580,7 @@ const char* apzHpux_SystimePatch[] = { \"sed\",\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n  */\n-#define HPUX8_BOGUS_INLINES_FIXIDX       36\n+#define HPUX8_BOGUS_INLINES_FIXIDX       38\n tSCC zHpux8_Bogus_InlinesName[] =\n      \"Hpux8_Bogus_Inlines\";\n /*\n@@ -1531,7 +1617,7 @@ const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n  *\n  *  Description of Hpux11_Uint32_C fix\n  */\n-#define HPUX11_UINT32_C_FIXIDX           37\n+#define HPUX11_UINT32_C_FIXIDX           39\n tSCC zHpux11_Uint32_CName[] =\n      \"Hpux11_Uint32_C\";\n /*\n@@ -1563,116 +1649,38 @@ const char* apzHpux11_Uint32_CPatch[] = { \"sed\",\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Interactv_Add1 fix\n+ *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define INTERACTV_ADD1_FIXIDX            38\n-tSCC zInteractv_Add1Name[] =\n-     \"Interactv_Add1\";\n+#define ISC_OMITS_WITH_STDC_FIXIDX       40\n+tSCC zIsc_Omits_With_StdcName[] =\n+     \"Isc_Omits_With_Stdc\";\n /*\n  *  File name selection pattern\n  */\n-tSCC zInteractv_Add1List[] =\n+tSCC zIsc_Omits_With_StdcList[] =\n   \"|stdio.h|math.h|ctype.h|sys/limits.h|sys/fcntl.h|sys/dirent.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzInteractv_Add1Machs (const char**)NULL\n+#define apzIsc_Omits_With_StdcMachs (const char**)NULL\n \n /*\n- *  perform the 'test' shell command - do fix on success\n+ *  content selection pattern - do fix if pattern found\n  */\n-tSCC zInteractv_Add1Test0[] =\n-       \" -d /etc/conf/kconfig.d\";\n-tSCC zInteractv_Add1Test1[] =\n-       \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n+tSCC zIsc_Omits_With_StdcSelect0[] =\n+       \"defined(__STDC__) && !defined(_POSIX_SOURCE)\";\n \n-#define    INTERACTV_ADD1_TEST_CT  2\n-tTestDesc aInteractv_Add1Tests[] = {\n-  { TT_TEST,     zInteractv_Add1Test0,   0 /* unused */ },\n-  { TT_TEST,     zInteractv_Add1Test1,   0 /* unused */ }, };\n+#define    ISC_OMITS_WITH_STDC_TEST_CT  1\n+tTestDesc aIsc_Omits_With_StdcTests[] = {\n+  { TT_EGREP,    zIsc_Omits_With_StdcSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Interactv_Add1\n+ *  Fix Command Arguments for Isc_Omits_With_Stdc\n  */\n-const char* apzInteractv_Add1Patch[] = { \"sed\",\n+const char* apzIsc_Omits_With_StdcPatch[] = { \"sed\",\n     \"-e\", \"s/!defined(__STDC__) && !defined(_POSIX_SOURCE)/!defined(_POSIX_SOURCE)/\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Interactv_Add2 fix\n- */\n-#define INTERACTV_ADD2_FIXIDX            39\n-tSCC zInteractv_Add2Name[] =\n-     \"Interactv_Add2\";\n-/*\n- *  File name selection pattern\n- */\n-tSCC zInteractv_Add2List[] =\n-  \"|math.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzInteractv_Add2Machs (const char**)NULL\n-\n-/*\n- *  perform the 'test' shell command - do fix on success\n- */\n-tSCC zInteractv_Add2Test0[] =\n-       \" -d /etc/conf/kconfig.d\";\n-tSCC zInteractv_Add2Test1[] =\n-       \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n-\n-#define    INTERACTV_ADD2_TEST_CT  2\n-tTestDesc aInteractv_Add2Tests[] = {\n-  { TT_TEST,     zInteractv_Add2Test0,   0 /* unused */ },\n-  { TT_TEST,     zInteractv_Add2Test1,   0 /* unused */ }, };\n-\n-/*\n- *  Fix Command Arguments for Interactv_Add2\n- */\n-const char* apzInteractv_Add2Patch[] = { \"sed\",\n-    \"-e\", \"s/fmod(double)/fmod(double, double)/\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Interactv_Add3 fix\n- */\n-#define INTERACTV_ADD3_FIXIDX            40\n-tSCC zInteractv_Add3Name[] =\n-     \"Interactv_Add3\";\n-/*\n- *  File name selection pattern\n- */\n-tSCC zInteractv_Add3List[] =\n-  \"|sys/limits.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzInteractv_Add3Machs (const char**)NULL\n-\n-/*\n- *  perform the 'test' shell command - do fix on success\n- */\n-tSCC zInteractv_Add3Test0[] =\n-       \" -d /etc/conf/kconfig.d\";\n-tSCC zInteractv_Add3Test1[] =\n-       \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n-\n-#define    INTERACTV_ADD3_TEST_CT  2\n-tTestDesc aInteractv_Add3Tests[] = {\n-  { TT_TEST,     zInteractv_Add3Test0,   0 /* unused */ },\n-  { TT_TEST,     zInteractv_Add3Test1,   0 /* unused */ }, };\n-\n-/*\n- *  Fix Command Arguments for Interactv_Add3\n- */\n-const char* apzInteractv_Add3Patch[] = { \"sed\",\n-    \"-e\", \"/CHILD_MAX/s,/\\\\* Max, Max,\",\n-    \"-e\", \"/OPEN_MAX/s,/\\\\* Max, Max,\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Io_Def_Quotes fix\n@@ -3087,8 +3095,8 @@ const char* apzStdio_Va_ListPatch[] = { \"sh\", \"-c\",\n       -e 's@ va_list)@ __gnuc_va_list)@' \\\\\\n\\\n       -e 's@ _BSD_VA_LIST_))@ __gnuc_va_list))@' \\\\\\n\\\n       -e 's@ _VA_LIST_));@ __gnuc_va_list));@' \\\\\\n\\\n-      -e 's@ va_list@ __va_list__@' \\\\\\n\\\n-      -e 's@\\\\*va_list@*__va_list__@' \\\\\\n\\\n+      -e 's@ va_list@ __not_va_list__@' \\\\\\n\\\n+      -e 's@\\\\*va_list@*__not_va_list__@' \\\\\\n\\\n       -e 's@ __va_list)@ __gnuc_va_list)@' \\\\\\n\\\n       -e 's@GNUC_VA_LIST@GNUC_Va_LIST@' \\\\\\n\\\n       -e 's@_NEED___VA_LIST@_NEED___Va_LIST@' \\\\\\n\\\n@@ -3232,65 +3240,11 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n     \"-e\", \"s/char\\\\([ \\t]*\\\\*[ \\t]*realloc\\\\)/void\\\\1/g\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Sun_Memcpy fix\n- */\n-#define SUN_MEMCPY_FIXIDX                83\n-tSCC zSun_MemcpyName[] =\n-     \"Sun_Memcpy\";\n-/*\n- *  File name selection pattern\n- */\n-tSCC zSun_MemcpyList[] =\n-  \"|memory.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzSun_MemcpyMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zSun_MemcpySelect0[] =\n-       \"/\\\\*\\t@\\\\(#\\\\)(head/memory.h\\t50.1\\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\\t)\\\\*/\";\n-\n-#define    SUN_MEMCPY_TEST_CT  1\n-tTestDesc aSun_MemcpyTests[] = {\n-  { TT_EGREP,    zSun_MemcpySelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Sun_Memcpy\n- */\n-const char* apzSun_MemcpyPatch[] = { \"sed\",\n-    \"-e\", \"1i\\\\\\n\\\n-/* This file was generated by fixincludes */\\\\\\n\\\n-#ifndef __memory_h__\\\\\\n\\\n-#define __memory_h__\\\\\\n\\\n-\\\\\\n\\\n-#ifdef __STDC__\\\\\\n\\\n-extern void *memccpy();\\\\\\n\\\n-extern void *memchr();\\\\\\n\\\n-extern void *memcpy();\\\\\\n\\\n-extern void *memset();\\\\\\n\\\n-#else\\\\\\n\\\n-extern char *memccpy();\\\\\\n\\\n-extern char *memchr();\\\\\\n\\\n-extern char *memcpy();\\\\\\n\\\n-extern char *memset();\\\\\\n\\\n-#endif /* __STDC__ */\\\\\\n\\\n-\\\\\\n\\\n-extern int memcmp();\\\\\\n\\\n-\\\\\\n\\\n-#endif /* __memory_h__ */\\n\",\n-    \"-e\", \"1,$d\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           84\n+#define SUN_RUSERS_SEMI_FIXIDX           83\n tSCC zSun_Rusers_SemiName[] =\n      \"Sun_Rusers_Semi\";\n /*\n@@ -3324,7 +3278,7 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                85\n+#define SUN_SIGNAL_FIXIDX                84\n tSCC zSun_SignalName[] =\n      \"Sun_Signal\";\n /*\n@@ -3363,7 +3317,7 @@ void\\t(*signal(...))(...);\\\\\\n\\\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            86\n+#define SUN_AUTH_PROTO_FIXIDX            85\n tSCC zSun_Auth_ProtoName[] =\n      \"Sun_Auth_Proto\";\n /*\n@@ -3402,7 +3356,7 @@ const char* apzSun_Auth_ProtoPatch[] = { \"sed\",\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        87\n+#define SUNOS_MATHERR_DECL_FIXIDX        86\n tSCC zSunos_Matherr_DeclName[] =\n      \"Sunos_Matherr_Decl\";\n /*\n@@ -3438,7 +3392,7 @@ struct exception;\\n\",\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              88\n+#define SUNOS_STRLEN_FIXIDX              87\n tSCC zSunos_StrlenName[] =\n      \"Sunos_Strlen\";\n /*\n@@ -3472,7 +3426,7 @@ const char* apzSunos_StrlenPatch[] = { \"sed\",\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  89\n+#define SYSTYPES_FIXIDX                  88\n tSCC zSystypesName[] =\n      \"Systypes\";\n /*\n@@ -3530,7 +3484,7 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n  *\n  *  Description of Systypes_For_Aix fix\n  */\n-#define SYSTYPES_FOR_AIX_FIXIDX          90\n+#define SYSTYPES_FOR_AIX_FIXIDX          89\n tSCC zSystypes_For_AixName[] =\n      \"Systypes_For_Aix\";\n /*\n@@ -3575,7 +3529,7 @@ const char* apzSystypes_For_AixPatch[] = { \"sed\",\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             91\n+#define SYSV68_STRING_FIXIDX             90\n tSCC zSysv68_StringName[] =\n      \"Sysv68_String\";\n /*\n@@ -3611,7 +3565,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       92\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       91\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"Sysz_Stdlib_For_Sun\";\n /*\n@@ -3648,7 +3602,7 @@ const char* apzSysz_Stdlib_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     93\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     92\n tSCC zSysz_Stdtypes_For_SunName[] =\n      \"Sysz_Stdtypes_For_Sun\";\n /*\n@@ -3688,7 +3642,7 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           94\n+#define TINFO_CPLUSPLUS_FIXIDX           93\n tSCC zTinfo_CplusplusName[] =\n      \"Tinfo_Cplusplus\";\n /*\n@@ -3718,47 +3672,11 @@ const char* apzTinfo_CplusplusPatch[] = { \"sed\",\n     \"-e\", \"s/[ \\t]_cplusplus/ __cplusplus/\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Ultrix_Ansi_Compat fix\n- */\n-#define ULTRIX_ANSI_COMPAT_FIXIDX        95\n-tSCC zUltrix_Ansi_CompatName[] =\n-     \"Ultrix_Ansi_Compat\";\n-/*\n- *  File name selection pattern\n- */\n-tSCC zUltrix_Ansi_CompatList[] =\n-  \"|ansi_compat.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzUltrix_Ansi_CompatMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zUltrix_Ansi_CompatSelect0[] =\n-       \"ULTRIX\";\n-\n-#define    ULTRIX_ANSI_COMPAT_TEST_CT  1\n-tTestDesc aUltrix_Ansi_CompatTests[] = {\n-  { TT_EGREP,    zUltrix_Ansi_CompatSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Ultrix_Ansi_Compat\n- */\n-const char* apzUltrix_Ansi_CompatPatch[] = { \"sed\",\n-    \"-e\", \"1i\\\\\\n\\\n-/* This file intentionally left blank. */\\n\",\n-    \"-e\", \"1,$d\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       96\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       94\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"Ultrix_Fix_Fixproto\";\n /*\n@@ -3793,7 +3711,7 @@ struct utsname;\\n\",\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         97\n+#define ULTRIX_ATOF_PARAM_FIXIDX         95\n tSCC zUltrix_Atof_ParamName[] =\n      \"Ultrix_Atof_Param\";\n /*\n@@ -3827,7 +3745,7 @@ const char* apzUltrix_Atof_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              98\n+#define ULTRIX_CONST_FIXIDX              96\n tSCC zUltrix_ConstName[] =\n      \"Ultrix_Const\";\n /*\n@@ -3861,7 +3779,7 @@ const char* apzUltrix_ConstPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              99\n+#define ULTRIX_IFDEF_FIXIDX              97\n tSCC zUltrix_IfdefName[] =\n      \"Ultrix_Ifdef\";\n /*\n@@ -3895,7 +3813,7 @@ const char* apzUltrix_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Cmnt fix\n  */\n-#define ULTRIX_NESTED_CMNT_FIXIDX        100\n+#define ULTRIX_NESTED_CMNT_FIXIDX        98\n tSCC zUltrix_Nested_CmntName[] =\n      \"Ultrix_Nested_Cmnt\";\n /*\n@@ -3921,7 +3839,7 @@ const char* apzUltrix_Nested_CmntPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             101\n+#define ULTRIX_STATIC_FIXIDX             99\n tSCC zUltrix_StaticName[] =\n      \"Ultrix_Static\";\n /*\n@@ -3957,7 +3875,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             102\n+#define UNDEFINE_NULL_FIXIDX             100\n tSCC zUndefine_NullName[] =\n      \"Undefine_Null\";\n /*\n@@ -3998,7 +3916,7 @@ const char* apzUndefine_NullPatch[] = { \"sed\",\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   103\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   101\n tSCC zUnixware7_Byteorder_FixName[] =\n      \"Unixware7_Byteorder_Fix\";\n /*\n@@ -4040,7 +3958,7 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             104\n+#define VA_I960_MACRO_FIXIDX             102\n tSCC zVa_I960_MacroName[] =\n      \"Va_I960_Macro\";\n /*\n@@ -4077,7 +3995,7 @@ const char* apzVa_I960_MacroPatch[] = { \"sed\",\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 105\n+#define VOID_NULL_FIXIDX                 103\n tSCC zVoid_NullName[] =\n      \"Void_Null\";\n /*\n@@ -4111,7 +4029,7 @@ const char* apzVoid_NullPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       106\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       104\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"Vxworks_Gcc_Problem\";\n /*\n@@ -4160,7 +4078,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     107\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     105\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"Vxworks_Needs_Vxtypes\";\n /*\n@@ -4194,7 +4112,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     108\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     106\n tSCC zVxworks_Needs_VxworksName[] =\n      \"Vxworks_Needs_Vxworks\";\n /*\n@@ -4242,7 +4160,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              109\n+#define VXWORKS_TIME_FIXIDX              107\n tSCC zVxworks_TimeName[] =\n      \"Vxworks_Time\";\n /*\n@@ -4292,7 +4210,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\\\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 110\n+#define X11_CLASS_FIXIDX                 108\n tSCC zX11_ClassName[] =\n      \"X11_Class\";\n /*\n@@ -4331,7 +4249,7 @@ const char* apzX11_ClassPatch[] = { \"sed\",\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           111\n+#define X11_CLASS_USAGE_FIXIDX           109\n tSCC zX11_Class_UsageName[] =\n      \"X11_Class_Usage\";\n /*\n@@ -4365,7 +4283,7 @@ const char* apzX11_Class_UsagePatch[] = { \"sed\",\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   112\n+#define X11_NEW_FIXIDX                   110\n tSCC zX11_NewName[] =\n      \"X11_New\";\n /*\n@@ -4405,20 +4323,28 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               113\n+#define X11_SPRINTF_FIXIDX               111\n tSCC zX11_SprintfName[] =\n      \"X11_Sprintf\";\n /*\n  *  File name selection pattern\n  */\n tSCC zX11_SprintfList[] =\n-  \"|X11*/Xmu.h|\";\n+  \"|X11/Xmu.h|X11/Xmu/Xmu.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n #define apzX11_SprintfMachs (const char**)NULL\n-#define X11_SPRINTF_TEST_CT  0\n-#define aX11_SprintfTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zX11_SprintfSelect0[] =\n+       \"sprintf\\\\(\\\\)\";\n+\n+#define    X11_SPRINTF_TEST_CT  1\n+tTestDesc aX11_SprintfTests[] = {\n+  { TT_EGREP,    zX11_SprintfSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for X11_Sprintf\n@@ -4433,9 +4359,9 @@ extern char *\\tsprintf();\\\\\\n\\\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          109\n+#define REGEX_COUNT          105\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            114\n+#define FIX_COUNT            112\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -4488,11 +4414,21 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      AAB_FD_ZERO_SELECTBITS_H_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n      aAab_Fd_Zero_Selectbits_HTests,   apzAab_Fd_Zero_Selectbits_HPatch },\n \n+  {  zAab_Sun_MemcpyName,    zAab_Sun_MemcpyList,\n+     apzAab_Sun_MemcpyMachs, (regex_t*)NULL,\n+     AAB_SUN_MEMCPY_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n+     aAab_Sun_MemcpyTests,   apzAab_Sun_MemcpyPatch },\n+\n   {  zAab_Svr4_Replace_ByteorderName,    zAab_Svr4_Replace_ByteorderList,\n      apzAab_Svr4_Replace_ByteorderMachs, (regex_t*)NULL,\n      AAB_SVR4_REPLACE_BYTEORDER_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n      aAab_Svr4_Replace_ByteorderTests,   apzAab_Svr4_Replace_ByteorderPatch },\n \n+  {  zAab_Ultrix_Ansi_CompatName,    zAab_Ultrix_Ansi_CompatList,\n+     apzAab_Ultrix_Ansi_CompatMachs, (regex_t*)NULL,\n+     AAB_ULTRIX_ANSI_COMPAT_TEST_CT, FD_MACH_ONLY | FD_REPLACEMENT,\n+     aAab_Ultrix_Ansi_CompatTests,   apzAab_Ultrix_Ansi_CompatPatch },\n+\n   {  zAix_SyswaitName,    zAix_SyswaitList,\n      apzAix_SyswaitMachs, (regex_t*)NULL,\n      AIX_SYSWAIT_TEST_CT, FD_MACH_ONLY,\n@@ -4628,20 +4564,10 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HPUX11_UINT32_C_TEST_CT, FD_MACH_ONLY,\n      aHpux11_Uint32_CTests,   apzHpux11_Uint32_CPatch },\n \n-  {  zInteractv_Add1Name,    zInteractv_Add1List,\n-     apzInteractv_Add1Machs, (regex_t*)NULL,\n-     INTERACTV_ADD1_TEST_CT, FD_MACH_ONLY,\n-     aInteractv_Add1Tests,   apzInteractv_Add1Patch },\n-\n-  {  zInteractv_Add2Name,    zInteractv_Add2List,\n-     apzInteractv_Add2Machs, (regex_t*)NULL,\n-     INTERACTV_ADD2_TEST_CT, FD_MACH_ONLY,\n-     aInteractv_Add2Tests,   apzInteractv_Add2Patch },\n-\n-  {  zInteractv_Add3Name,    zInteractv_Add3List,\n-     apzInteractv_Add3Machs, (regex_t*)NULL,\n-     INTERACTV_ADD3_TEST_CT, FD_MACH_ONLY,\n-     aInteractv_Add3Tests,   apzInteractv_Add3Patch },\n+  {  zIsc_Omits_With_StdcName,    zIsc_Omits_With_StdcList,\n+     apzIsc_Omits_With_StdcMachs, (regex_t*)NULL,\n+     ISC_OMITS_WITH_STDC_TEST_CT, FD_MACH_ONLY,\n+     aIsc_Omits_With_StdcTests,   apzIsc_Omits_With_StdcPatch },\n \n   {  zIo_Def_QuotesName,    zIo_Def_QuotesList,\n      apzIo_Def_QuotesMachs, (regex_t*)NULL,\n@@ -4853,11 +4779,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      SUN_MALLOC_TEST_CT, FD_MACH_ONLY,\n      aSun_MallocTests,   apzSun_MallocPatch },\n \n-  {  zSun_MemcpyName,    zSun_MemcpyList,\n-     apzSun_MemcpyMachs, (regex_t*)NULL,\n-     SUN_MEMCPY_TEST_CT, FD_MACH_ONLY,\n-     aSun_MemcpyTests,   apzSun_MemcpyPatch },\n-\n   {  zSun_Rusers_SemiName,    zSun_Rusers_SemiList,\n      apzSun_Rusers_SemiMachs, (regex_t*)NULL,\n      SUN_RUSERS_SEMI_TEST_CT, FD_MACH_ONLY,\n@@ -4913,11 +4834,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      TINFO_CPLUSPLUS_TEST_CT, FD_MACH_ONLY,\n      aTinfo_CplusplusTests,   apzTinfo_CplusplusPatch },\n \n-  {  zUltrix_Ansi_CompatName,    zUltrix_Ansi_CompatList,\n-     apzUltrix_Ansi_CompatMachs, (regex_t*)NULL,\n-     ULTRIX_ANSI_COMPAT_TEST_CT, FD_MACH_ONLY,\n-     aUltrix_Ansi_CompatTests,   apzUltrix_Ansi_CompatPatch },\n-\n   {  zUltrix_Fix_FixprotoName,    zUltrix_Fix_FixprotoList,\n      apzUltrix_Fix_FixprotoMachs, (regex_t*)NULL,\n      ULTRIX_FIX_FIXPROTO_TEST_CT, FD_MACH_ONLY,"}, {"sha": "190f49db03f92ff341ab8cd069c1aa711a842b40", "filename": "gcc/fixinc/fixlib.c", "status": "modified", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixlib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixlib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixlib.c?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -1,4 +1,27 @@\n \n+/* Install modified versions of certain ANSI-incompatible system header\n+   files which are fixed to work correctly with ANSI C and placed in a\n+   directory that GNU C will search.\n+\n+   Copyright (C) 1999, 2000 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n #include \"fixlib.h\"\n \n /* * * * * * * * * * * * *\n@@ -128,3 +151,39 @@ is_cxx_header (fname, text)\n \n   return BOOL_FALSE;\n }\n+\n+/* * * * * * * * * * * * *\n+ \n+   Compile one regular expression pattern for later use.  PAT contains\n+   the pattern, RE points to a regex_t structure (which should have\n+   been bzeroed).  MATCH is 1 if we need to know where the regex\n+   matched, 0 if not. If regcomp fails, prints an error message and\n+   aborts; E1 and E2 are strings to shove into the error message.\n+\n+   The patterns we search for are all egrep patterns.\n+   REG_EXTENDED|REG_NEWLINE produces identical regex syntax/semantics\n+   to egrep (verified from 4.4BSD Programmer's Reference Manual).  */\n+void\n+compile_re( pat, re, match, e1, e2 )\n+     tCC *pat;\n+     regex_t *re;\n+     int match;\n+     tCC *e1;\n+     tCC *e2;\n+{\n+  tSCC z_bad_comp[] = \"fixincl ERROR:  cannot compile %s regex for %s\\n\\\n+\\texpr = `%s'\\n\\terror %s\\n\";\n+  int flags, err;\n+\n+  flags = (match ? REG_EXTENDED|REG_NEWLINE\n+\t   : REG_EXTENDED|REG_NEWLINE|REG_NOSUB);\n+  err = regcomp (re, pat, flags);\n+\n+  if (err)\n+    {\n+      char rerrbuf[1024];\n+      regerror (err, re, rerrbuf, 1024);\n+      fprintf (stderr, z_bad_comp, e1, e2, pat, rerrbuf);\n+      exit (EXIT_FAILURE);\n+    }\n+}"}, {"sha": "76cb3a9ecefe34d50952086066e82a34fa935070", "filename": "gcc/fixinc/fixlib.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixlib.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixlib.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixlib.h?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -3,7 +3,7 @@\n    files which are fixed to work correctly with ANSI C and placed in a\n    directory that GNU C will search.\n \n-   Copyright (C) 1997, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -97,5 +97,6 @@ typedef int apply_fix_p_t;  /* Apply Fix Predicate Type */\n  */\n char * load_file_data _P_(( FILE* fp ));\n t_bool is_cxx_header  _P_(( tCC* filename, tCC* filetext ));\n-\n+void   compile_re     _P_(( tCC* pat, regex_t* re, int match,\n+\t\t\t    tCC *e1, tCC *e2 ));\n #endif /* FIXINCLUDES_FIXLIB_H */"}, {"sha": "941b1ee18155579a261ca9d24d8e24244ac4bf47", "filename": "gcc/fixinc/fixtests.c", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixtests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Ffixtests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixtests.c?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -3,7 +3,7 @@\n \n    Test to see if a particular fix should be applied to a header file.\n \n-   Copyright (C) 1997, 1998, 1999 Free Software Foundation, Inc.\n+   Copyright (C) 1997-1999, 2000 Free Software Foundation, Inc.\n \n = = = = = = = = = = = = = = = = = = = = = = = = =\n \n@@ -164,9 +164,8 @@ TEST_FOR_FIX_PROC_HEAD( else_endif_label_test )\n   if (! compiled)\n     {\n       compiled++;\n-      re_set_syntax (RE_SYNTAX_EGREP);\n-      (void)re_compile_pattern (label_pat, sizeof (label_pat)-1,\n-                                &label_re);\n+      compile_re (label_pat, &label_re, 1,\n+\t\t  \"label pattern\", \"else_endif_label_test\");\n     }\n \n   for (;;) /* entire file */"}, {"sha": "d26c7d718d4d711290bd3c6df6805d3d5c00a940", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 60, "deletions": 80, "changes": 140, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -282,6 +282,45 @@ fix = {\n };\n \n \n+/*\n+ *  Fix non-ANSI memcpy declaration that conflicts with gcc's builtin\n+ *  declaration on Sun OS 4.x.  We must only fix this on Sun OS 4.x, because\n+ *  many other systems have similar text but correct versions of the file.\n+ *  To ensure only Sun's is fixed, we grep for a likely unique string.\n+ *  Fix also on sysV68 R3V7.1 (head/memory.h\\t50.1\\t )\n+ */\n+fix = {\n+    hackname = AAB_sun_memcpy;\n+    files    = memory.h;\n+    select = \"/\\\\*\\t@\\\\(#\\\\)\"\n+             \"(head/memory.h\\t50.1\\t \"\n+             \"|memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\\t)\\\\*/\";\n+\n+    replace =\n+'/* This file was generated by fixincludes */\n+\\#ifndef __memory_h__\n+\\#define __memory_h__\n+\n+\\#ifdef __STDC__\n+extern void *memccpy();\n+extern void *memchr();\n+extern void *memcpy();\n+extern void *memset();\n+\\#else\n+extern char *memccpy();\n+extern char *memchr();\n+extern char *memcpy();\n+extern char *memset();\n+\\#endif /* __STDC__ */\n+\n+extern int memcmp();\n+\n+\\#endif /* __memory_h__ */\n+';\n+\n+};\n+\n+\n /*\n  *  Completely replace <sys/byteorder.h>; with a file that implements gcc's\n  *  optimized byteswapping.  Restricted to \"SVR4\" machines until either\n@@ -468,6 +507,17 @@ fix = {\n #endif\n \n \n+/*\n+ *  Cancel out ansi_compat.h on Ultrix.  Replace it with an empty file.\n+ */\n+fix = {\n+    hackname = AAB_ultrix_ansi_compat;\n+    files    = ansi_compat.h;\n+    select   = ULTRIX;\n+    replace  = \"/* This file intentionally left blank.  */\\n\";\n+};\n+\n+\n /*\n  *  sys/wait.h on AIX 3.2.5 puts the declaration of wait3 before the definition\n  *  of struct rusage, so the prototype (added by fixproto) causes havoc.\n@@ -898,18 +948,13 @@ fix = {\n };\n \n /*\n- *  Determine if we're on Interactive Unix 2.2 or later, in which case we\n- *  need to fix some additional files.  This is the same test for ISC that\n- *  Autoconf uses.  On Interactive 2.2, certain traditional Unix\n- *  definitions (notably getc and putc in stdio.h) are omitted if __STDC__\n- *  is defined, not just if _POSIX_SOURCE is defined.  This makes it\n+ *  On Interactive Unix 2.2, certain traditional Unix definitions\n+ *  (notably getc and putc in stdio.h) are omitted if __STDC__ is\n+ *  defined, not just if _POSIX_SOURCE is defined.  This makes it\n  *  impossible to compile any nontrivial program except with -posix.\n  */\n fix = {\n-    hackname = interactv_add1;\n-\n-    test   = \" -d /etc/conf/kconfig.d\";\n-    test   = ' -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\"';\n+    hackname = isc_omits_with_stdc;\n \n     files  = \"stdio.h\";\n     files  = \"math.h\";\n@@ -918,33 +963,12 @@ fix = {\n     files  = \"sys/fcntl.h\";\n     files  = \"sys/dirent.h\";\n \n+    select = \"defined\\(__STDC__\\) && !defined\\(_POSIX_SOURCE\\)\";\n+    \n     sed    = \"s/!defined(__STDC__) && !defined(_POSIX_SOURCE)/\"\n                \"!defined(_POSIX_SOURCE)/\";\n };\n \n-fix = {\n-    hackname = interactv_add2;\n-\n-    test   = \" -d /etc/conf/kconfig.d\";\n-    test   = ' -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\"';\n-\n-    files  = math.h;\n-    sed    = \"s/fmod(double)/fmod(double, double)/\";\n-};\n-\n-fix = {\n-    hackname = interactv_add3;\n-\n-    test   = \" -d /etc/conf/kconfig.d\";\n-    test   = ' -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\"';\n-\n-    files  = sys/limits.h;\n-\n-    sed    = \"/CHILD_MAX/s,/\\\\* Max, Max,\";\n-    sed    = \"/OPEN_MAX/s,/\\\\* Max, Max,\";\n-};\n-\n-\n /*\n  *  Fix various _IO* defines, but do *not* quote the characters cgxtf.\n  */\n@@ -1837,41 +1861,6 @@ fix = {\n };\n \n \n-/*\n- *  Fix non-ANSI memcpy declaration that conflicts with gcc's builtin\n- *  declaration on Sun OS 4.x.  We must only fix this on Sun OS 4.x, because\n- *  many other systems have similar text but correct versions of the file.\n- *  To ensure only Sun's is fixed, we grep for a likely unique string.\n- *  Fix also on sysV68 R3V7.1 (head/memory.h\\t50.1\\t )\n- */\n-fix = {\n-    hackname = sun_memcpy;\n-    files    = memory.h;\n-    select = \"/\\\\*\\t@\\\\(#\\\\)\"\n-             \"(head/memory.h\\t50.1\\t \"\n-             \"|memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\\t)\\\\*/\";\n-\n-    sed    = \"1i\\\\\\n/* This file was generated by fixincludes */\\\\\\n\"\n-             \"#ifndef __memory_h__\\\\\\n\"\n-             \"#define __memory_h__\\\\\\n\\\\\\n\"\n-             \"#ifdef __STDC__\\\\\\n\"\n-             \"extern void *memccpy();\\\\\\n\"\n-             \"extern void *memchr();\\\\\\n\"\n-             \"extern void *memcpy();\\\\\\n\"\n-             \"extern void *memset();\\\\\\n\"\n-             \"#else\\\\\\n\"\n-             \"extern char *memccpy();\\\\\\n\"\n-             \"extern char *memchr();\\\\\\n\"\n-             \"extern char *memcpy();\\\\\\n\"\n-             \"extern char *memset();\\\\\\n\"\n-             \"#endif /* __STDC__ */\\\\\\n\\\\\\n\"\n-             \"extern int memcmp();\\\\\\n\\\\\\n\"\n-             \"#endif /* __memory_h__ */\\n\";\n-\n-    sed    = \"1,$d\";\n-};\n-\n-\n /*\n  *  Check for yet more missing ';' in struct (in SunOS 4.0.x)\n  */\n@@ -2455,18 +2444,6 @@ fix = {\n };\n \n \n-/*\n- *  Cancel out ansi_compat.h on Ultrix.  Replace it with empty file.\n- */\n-fix = {\n-    hackname = ultrix_ansi_compat;\n-    files    = ansi_compat.h;\n-    select   = ULTRIX;\n-    sed      = \"1i\\\\\\n/* This file intentionally left blank. */\\n\";\n-    sed      = \"1,$d\";\n-};\n-\n-\n /*\n  * Ultrix V4.[35] puts the declaration of uname before the definition\n  * of struct utsname, so the prototype (added by fixproto) causes havoc.\n@@ -2758,7 +2735,10 @@ fix = {\n  */\n fix = {\n     hackname = x11_sprintf;\n-    files    = X11*/Xmu.h;\n+    files    = X11/Xmu.h;\n+    files    = X11/Xmu/Xmu.h;\n+    select   = 'sprintf\\(\\)';\n+\n     sed      = \"s,^extern char \\\\*\\tsprintf();$,#ifndef __STDC__\\\\\\n\"\n                \"extern char *\\tsprintf();\\\\\\n\"\n                \"#endif /* !defined __STDC__ */,\";"}, {"sha": "b3a3386716c97944483cc0067bacc1c9b11ee2ea", "filename": "gcc/fixinc/inclhack.sh", "status": "modified", "additions": 65, "deletions": 119, "changes": 184, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Finclhack.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b51207a4d29a4ab03968c8a34e92391c69886c82/gcc%2Ffixinc%2Finclhack.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.sh?ref=b51207a4d29a4ab03968c8a34e92391c69886c82", "patch": "@@ -6,11 +6,11 @@\n # files which are fixed to work correctly with ANSI C and placed in a\n # directory that GNU C will search.\n #\n-# This script contains 114 fixup scripts.\n+# This script contains 112 fixup scripts.\n #\n # See README-fixinc for more information.\n #\n-#  fixincludes copyright (c) 1999 The Free Software Foundation, Inc.\n+#  fixincludes copyright (c) 2000 The Free Software Foundation, Inc.\n #\n # fixincludes is free software.\n # \n@@ -658,6 +658,42 @@ _EOF_\n     esac\n \n \n+    #\n+    # Fix Aab_Sun_Memcpy\n+    #\n+    case \"${file}\" in ./memory.h )\n+    if ( test -n \"`egrep '/\\\\*\t@\\\\(#\\\\)(head/memory.h\t50.1\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\t)\\\\*/' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n+    echo \"AAB_sun_memcpy replacing file ${file}\" >&2\n+    cat > ${DESTFILE} << '_EOF_'\n+/* This file was generated by fixincludes */\n+#ifndef __memory_h__\n+#define __memory_h__\n+\n+#ifdef __STDC__\n+extern void *memccpy();\n+extern void *memchr();\n+extern void *memcpy();\n+extern void *memset();\n+#else\n+extern char *memccpy();\n+extern char *memchr();\n+extern char *memcpy();\n+extern char *memset();\n+#endif /* __STDC__ */\n+\n+extern int memcmp();\n+\n+#endif /* __memory_h__ */\n+\n+_EOF_\n+    continue\n+\n+    fi # end of select 'if'\n+    ;; # case end for file name test\n+    esac\n+\n+\n     #\n     # Fix Aab_Svr4_Replace_Byteorder\n     #\n@@ -823,6 +859,24 @@ _EOF_\n     esac\n \n \n+    #\n+    # Fix Aab_Ultrix_Ansi_Compat\n+    #\n+    case \"${file}\" in ./ansi_compat.h )\n+    if ( test -n \"`egrep 'ULTRIX' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n+    echo \"AAB_ultrix_ansi_compat replacing file ${file}\" >&2\n+    cat > ${DESTFILE} << '_EOF_'\n+/* This file intentionally left blank.  */\n+\n+_EOF_\n+    continue\n+\n+    fi # end of select 'if'\n+    ;; # case end for file name test\n+    esac\n+\n+\n     #\n     # Fix Aix_Syswait\n     #\n@@ -1461,19 +1515,18 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix Interactv_Add1\n+    # Fix Isc_Omits_With_Stdc\n     #\n     case \"${file}\" in ./stdio.h | \\\n \t./math.h | \\\n \t./ctype.h | \\\n \t./sys/limits.h | \\\n \t./sys/fcntl.h | \\\n \t./sys/dirent.h )\n-    if ( test '('  -d /etc/conf/kconfig.d ')' -a \\\n-              '('  -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\" ')'\n+    if ( test -n \"`egrep 'defined(__STDC__) && !defined(_POSIX_SOURCE)' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n-      interactv_add1\"\n+      isc_omits_with_stdc\"\n     if [ ! -r ${DESTFILE} ]\n     then infile=${file}\n     else infile=${DESTFILE} ; fi \n@@ -1482,52 +1535,7 @@ extern \"C\" {\\\n           < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n-    fi # end of test expression 'if'\n-    ;; # case end for file name test\n-    esac\n-\n-\n-    #\n-    # Fix Interactv_Add2\n-    #\n-    case \"${file}\" in ./math.h )\n-    if ( test '('  -d /etc/conf/kconfig.d ')' -a \\\n-              '('  -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\" ')'\n-       ) > /dev/null 2>&1 ; then\n-    fixlist=\"${fixlist}\n-      interactv_add2\"\n-    if [ ! -r ${DESTFILE} ]\n-    then infile=${file}\n-    else infile=${DESTFILE} ; fi \n-\n-    sed -e 's/fmod(double)/fmod(double, double)/' \\\n-          < $infile > ${DESTDIR}/fixinc.tmp\n-    rm -f ${DESTFILE}\n-    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n-    fi # end of test expression 'if'\n-    ;; # case end for file name test\n-    esac\n-\n-\n-    #\n-    # Fix Interactv_Add3\n-    #\n-    case \"${file}\" in ./sys/limits.h )\n-    if ( test '('  -d /etc/conf/kconfig.d ')' -a \\\n-              '('  -n \"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\" ')'\n-       ) > /dev/null 2>&1 ; then\n-    fixlist=\"${fixlist}\n-      interactv_add3\"\n-    if [ ! -r ${DESTFILE} ]\n-    then infile=${file}\n-    else infile=${DESTFILE} ; fi \n-\n-    sed -e '/CHILD_MAX/s,/\\* Max, Max,' \\\n-        -e '/OPEN_MAX/s,/\\* Max, Max,' \\\n-          < $infile > ${DESTDIR}/fixinc.tmp\n-    rm -f ${DESTFILE}\n-    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n-    fi # end of test expression 'if'\n+    fi # end of select 'if'\n     ;; # case end for file name test\n     esac\n \n@@ -2616,48 +2624,6 @@ typedef __regmatch_t\tregmatch_t;\n     esac\n \n \n-    #\n-    # Fix Sun_Memcpy\n-    #\n-    case \"${file}\" in ./memory.h )\n-    if ( test -n \"`egrep '/\\\\*\t@\\\\(#\\\\)(head/memory.h\t50.1\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\t)\\\\*/' ${file}`\"\n-       ) > /dev/null 2>&1 ; then\n-    fixlist=\"${fixlist}\n-      sun_memcpy\"\n-    if [ ! -r ${DESTFILE} ]\n-    then infile=${file}\n-    else infile=${DESTFILE} ; fi \n-\n-    sed -e '1i\\\n-/* This file was generated by fixincludes */\\\n-#ifndef __memory_h__\\\n-#define __memory_h__\\\n-\\\n-#ifdef __STDC__\\\n-extern void *memccpy();\\\n-extern void *memchr();\\\n-extern void *memcpy();\\\n-extern void *memset();\\\n-#else\\\n-extern char *memccpy();\\\n-extern char *memchr();\\\n-extern char *memcpy();\\\n-extern char *memset();\\\n-#endif /* __STDC__ */\\\n-\\\n-extern int memcmp();\\\n-\\\n-#endif /* __memory_h__ */\n-' \\\n-        -e '1,$d' \\\n-          < $infile > ${DESTDIR}/fixinc.tmp\n-    rm -f ${DESTFILE}\n-    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n-    fi # end of select 'if'\n-    ;; # case end for file name test\n-    esac\n-\n-\n     #\n     # Fix Sun_Rusers_Semi\n     #\n@@ -2984,30 +2950,6 @@ extern unsigned int\\\n     esac\n \n \n-    #\n-    # Fix Ultrix_Ansi_Compat\n-    #\n-    case \"${file}\" in ./ansi_compat.h )\n-    if ( test -n \"`egrep 'ULTRIX' ${file}`\"\n-       ) > /dev/null 2>&1 ; then\n-    fixlist=\"${fixlist}\n-      ultrix_ansi_compat\"\n-    if [ ! -r ${DESTFILE} ]\n-    then infile=${file}\n-    else infile=${DESTFILE} ; fi \n-\n-    sed -e '1i\\\n-/* This file intentionally left blank. */\n-' \\\n-        -e '1,$d' \\\n-          < $infile > ${DESTDIR}/fixinc.tmp\n-    rm -f ${DESTFILE}\n-    mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n-    fi # end of select 'if'\n-    ;; # case end for file name test\n-    esac\n-\n-\n     #\n     # Fix Ultrix_Fix_Fixproto\n     #\n@@ -3454,7 +3396,10 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\n     #\n     # Fix X11_Sprintf\n     #\n-    case \"${file}\" in ./X11*/Xmu.h )\n+    case \"${file}\" in ./X11/Xmu.h | \\\n+\t./X11/Xmu/Xmu.h )\n+    if ( test -n \"`egrep 'sprintf\\\\(\\\\)' ${file}`\"\n+       ) > /dev/null 2>&1 ; then\n     fixlist=\"${fixlist}\n       x11_sprintf\"\n     if [ ! -r ${DESTFILE} ]\n@@ -3467,6 +3412,7 @@ extern char *\tsprintf();\\\n           < $infile > ${DESTDIR}/fixinc.tmp\n     rm -f ${DESTFILE}\n     mv -f ${DESTDIR}/fixinc.tmp ${DESTFILE}\n+    fi # end of select 'if'\n     ;; # case end for file name test\n     esac\n     #  IF the output has been removed OR it is unchanged,"}]}