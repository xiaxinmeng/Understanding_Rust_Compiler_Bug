{"sha": "d2692ef86e8ea0191975319469e8b1b3b2a846d4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI2OTJlZjg2ZThlYTAxOTE5NzUzMTk0NjllOGIxYjNiMmE4NDZkNA==", "commit": {"author": {"name": "Donn Terry", "email": "donn@interix.com", "date": "1999-04-23T15:04:07Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-04-23T15:04:07Z"}, "message": "alpha.c (alpha_initialize_trampoline): Add covert_memory_address calls as needed.\n\n        * alpha.c (alpha_initialize_trampoline): Add covert_memory_address\n        calls as needed.\n\nFrom-SVN: r26604", "tree": {"sha": "0a5ad276cd21176cc03e38b8d9c821ef2afd689a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0a5ad276cd21176cc03e38b8d9c821ef2afd689a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d2692ef86e8ea0191975319469e8b1b3b2a846d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2692ef86e8ea0191975319469e8b1b3b2a846d4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2692ef86e8ea0191975319469e8b1b3b2a846d4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2692ef86e8ea0191975319469e8b1b3b2a846d4/comments", "author": null, "committer": null, "parents": [{"sha": "98283b420840f82d9b2bf6c22c49c720d24b4e81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/98283b420840f82d9b2bf6c22c49c720d24b4e81", "html_url": "https://github.com/Rust-GCC/gccrs/commit/98283b420840f82d9b2bf6c22c49c720d24b4e81"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "eeeab3c5a1027217a7f22c56631f53e8bc787b16", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2692ef86e8ea0191975319469e8b1b3b2a846d4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2692ef86e8ea0191975319469e8b1b3b2a846d4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d2692ef86e8ea0191975319469e8b1b3b2a846d4", "patch": "@@ -2,6 +2,9 @@ Fri Apr 23 14:57:33 1999  Donn Terry  <donn@interix.com>\n \n \t* alpha32.h (INITIALIZE_TRAMPOLINE): Get offsets right.\n \n+\t* alpha.c (alpha_initialize_trampoline): Add covert_memory_address\n+\tcalls as needed.\n+\n Fri Apr 23 14:36:47 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.c (alpha_expand_prologue): Don't negate frame size"}, {"sha": "9ccdb914ccf9e7241875eb9d29685e647cc9d1d6", "filename": "gcc/config/alpha/alpha.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d2692ef86e8ea0191975319469e8b1b3b2a846d4/gcc%2Fconfig%2Falpha%2Falpha.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d2692ef86e8ea0191975319469e8b1b3b2a846d4/gcc%2Fconfig%2Falpha%2Falpha.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.c?ref=d2692ef86e8ea0191975319469e8b1b3b2a846d4", "patch": "@@ -2949,10 +2949,14 @@ alpha_initialize_trampoline (tramp, fnaddr, cxt, fnofs, cxtofs, jmpofs)\n      int fnofs, cxtofs, jmpofs;\n {\n   rtx temp, temp1, addr;\n-  /* ??? Something is wrong with VMS codegen in that we get aborts when\n-     using ptr_mode.  Hack around it for now.  */\n+  /* VMS really uses DImode pointers in memory at this point.  */\n   enum machine_mode mode = TARGET_OPEN_VMS ? Pmode : ptr_mode;\n \n+#ifdef POINTERS_EXTEND_UNSIGNED\n+  fnaddr = convert_memory_address (mode, fnaddr);\n+  cxt = convert_memory_address (mode, cxt);\n+#endif\n+\n   /* Store function address and CXT.  */\n   addr = memory_address (mode, plus_constant (tramp, fnofs));\n   emit_move_insn (gen_rtx (MEM, mode, addr), fnaddr);"}]}