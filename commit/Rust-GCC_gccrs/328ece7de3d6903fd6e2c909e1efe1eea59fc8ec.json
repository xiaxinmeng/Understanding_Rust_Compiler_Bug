{"sha": "328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI4ZWNlN2RlM2Q2OTAzZmQ2ZTJjOTA5ZTFlZmUxZWVhNTlmYzhlYw==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2012-08-02T18:30:02Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2012-08-02T18:30:02Z"}, "message": "array.c (gfc_copy_array_ref): Don't copy the offset field.\n\n\t* array.c (gfc_copy_array_ref): Don't copy the offset field.\n\t* expr.c (find_array_section): Ignore the offset field.\n\t* trans-expr.c (gfc_find_interface_mapping_to_ref): Don't apply\n\tany interface mapping to the offset field.\n\t* gfortran.h (struct gfc_array_ref): Remove the offset field.\n\nFrom-SVN: r190092", "tree": {"sha": "f10adb4ae49ac21653756591623e2d9073bbf81f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f10adb4ae49ac21653756591623e2d9073bbf81f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/comments", "author": null, "committer": null, "parents": [{"sha": "a8da72b86c262f75d65665c3803a658d8089a679", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a8da72b86c262f75d65665c3803a658d8089a679", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a8da72b86c262f75d65665c3803a658d8089a679"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "979f28cb985f951b0164502a89cd2c9dbd61d17f", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "patch": "@@ -1,3 +1,11 @@\n+2012-08-02  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\t* array.c (gfc_copy_array_ref): Don't copy the offset field.\n+\t* expr.c (find_array_section): Ignore the offset field.\n+\t* trans-expr.c (gfc_find_interface_mapping_to_ref): Don't apply\n+\tany interface mapping to the offset field.\n+\t* gfortran.h (struct gfc_array_ref): Remove the offset field.\n+\n 2012-08-02  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/54147"}, {"sha": "f23d0bc7888cfb3fd0d82b16027adb1448bbd257", "filename": "gcc/fortran/array.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Farray.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Farray.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Farray.c?ref=328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "patch": "@@ -50,8 +50,6 @@ gfc_copy_array_ref (gfc_array_ref *src)\n       dest->stride[i] = gfc_copy_expr (src->stride[i]);\n     }\n \n-  dest->offset = gfc_copy_expr (src->offset);\n-\n   return dest;\n }\n "}, {"sha": "aeb224f176776397fb7f54bfbb82489ef657b391", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "patch": "@@ -1490,13 +1490,10 @@ find_array_section (gfc_expr *expr, gfc_ref *ref)\n \n   /* Now clock through the array reference, calculating the index in\n      the source constructor and transferring the elements to the new\n-     constructor.  */  \n+     constructor.  */\n   for (idx = 0; idx < (int) mpz_get_si (nelts); idx++)\n     {\n-      if (ref->u.ar.offset)\n-\tmpz_set (ptr, ref->u.ar.offset->value.integer);\n-      else\n-\tmpz_init_set_ui (ptr, 0);\n+      mpz_init_set_ui (ptr, 0);\n \n       incr_ctr = true;\n       for (d = 0; d < rank; d++)"}, {"sha": "b6e29758cf1dcddf76d226efad545b2ab171ff2b", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "patch": "@@ -1515,8 +1515,6 @@ typedef struct gfc_array_ref\n     *stride[GFC_MAX_DIMENSIONS];\n \n   enum gfc_array_ref_dimen_type dimen_type[GFC_MAX_DIMENSIONS];\n-\n-  struct gfc_expr *offset;\n }\n gfc_array_ref;\n "}, {"sha": "2603995aff08767e5d4e5346c86e886d3c295e00", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/328ece7de3d6903fd6e2c909e1efe1eea59fc8ec/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=328ece7de3d6903fd6e2c909e1efe1eea59fc8ec", "patch": "@@ -2806,7 +2806,6 @@ gfc_apply_interface_mapping_to_ref (gfc_interface_mapping * mapping,\n \t    gfc_apply_interface_mapping_to_expr (mapping, ref->u.ar.end[n]);\n \t    gfc_apply_interface_mapping_to_expr (mapping, ref->u.ar.stride[n]);\n \t  }\n-\tgfc_apply_interface_mapping_to_expr (mapping, ref->u.ar.offset);\n \tbreak;\n \n       case REF_COMPONENT:"}]}