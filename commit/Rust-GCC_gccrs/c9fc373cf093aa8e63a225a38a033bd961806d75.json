{"sha": "c9fc373cf093aa8e63a225a38a033bd961806d75", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzlmYzM3M2NmMDkzYWE4ZTYzYTIyNWEzOGEwMzNiZDk2MTgwNmQ3NQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1999-10-28T18:29:10Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1999-10-28T18:29:10Z"}, "message": "Fix stdarg bugs with MIPS EABI that caused newlib/libstdc++ build failures.\n\n\t* config/mips/mips.c (mips_va_arg): Delete gen_jump as emit_jump arg.\n\t(function_arg_pass_by_reference): Check for a NULL pointer in cum.\n\nFrom-SVN: r30245", "tree": {"sha": "658a591e8f2cb8ac14c3be40cb4c1a0158b8d23e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/658a591e8f2cb8ac14c3be40cb4c1a0158b8d23e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9fc373cf093aa8e63a225a38a033bd961806d75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9fc373cf093aa8e63a225a38a033bd961806d75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9fc373cf093aa8e63a225a38a033bd961806d75", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9fc373cf093aa8e63a225a38a033bd961806d75/comments", "author": null, "committer": null, "parents": [{"sha": "7ab282a5a0880dea9e75e04113676d7e4139d4b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ab282a5a0880dea9e75e04113676d7e4139d4b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ab282a5a0880dea9e75e04113676d7e4139d4b9"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "0cee76fe6e4c602a7fec23c7dde5edf8a9da2d62", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9fc373cf093aa8e63a225a38a033bd961806d75/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9fc373cf093aa8e63a225a38a033bd961806d75/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c9fc373cf093aa8e63a225a38a033bd961806d75", "patch": "@@ -1,5 +1,8 @@\n Thu Oct 28 10:02:00 1999  Jim Wilson  <wilson@cygnus.com>\n \n+\t* config/mips/mips.c (mips_va_arg): Delete gen_jump as emit_jump arg.\n+\t(function_arg_pass_by_reference): Check for a NULL pointer in cum.\n+\n \t* config/i960/i960.c (i960_va_start): New locals base, num.\n \tUse INDIRECT_REF instead of ARRAY_REF on valist.\n \t(i960_va_arg): Use INDIRECT_REF instead of ARRAY_REF on valist."}, {"sha": "dc19e8b44d282e171e029c04ccc9918f59961a7e", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9fc373cf093aa8e63a225a38a033bd961806d75/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9fc373cf093aa8e63a225a38a033bd961806d75/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=c9fc373cf093aa8e63a225a38a033bd961806d75", "patch": "@@ -4199,7 +4199,7 @@ mips_va_arg (valist, type)\n \t      if (r != addr_rtx)\n \t\temit_move_insn (addr_rtx, r);\n \n-\t      emit_jump (gen_jump (lab_over));\n+\t      emit_jump (lab_over);\n \t      emit_barrier ();\n \t      emit_label (lab_false);\n \t    }\n@@ -7447,7 +7447,9 @@ function_arg_pass_by_reference (cum, mode, type, named)\n      ??? This is really a kludge.  We should either fix GCC so that such\n      a situation causes an abort and then do something in the MIPS port\n      to prevent it, or add code to function.c to properly handle the case.  */\n-  if (FUNCTION_ARG (*cum, mode, type, named) != 0\n+  /* ??? cum can be NULL when called from mips_va_arg.  The problem handled\n+     here hopefully is not relevant to mips_va_arg.  */\n+  if (cum && FUNCTION_ARG (*cum, mode, type, named) != 0\n       && MUST_PASS_IN_STACK (mode, type))\n     return 1;\n "}]}