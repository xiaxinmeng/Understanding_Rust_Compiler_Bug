{"sha": "447306fa90a0acc3c8255daae74427e01374d14f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQ3MzA2ZmE5MGEwYWNjM2M4MjU1ZGFhZTc0NDI3ZTAxMzc0ZDE0Zg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-11-20T16:13:47Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-11-20T16:13:47Z"}, "message": "lex.c (rid_to_yy, RID_EXPORT): Make unique keyword.\n\ncp:\n\t* lex.c (rid_to_yy, RID_EXPORT): Make unique keyword.\n\t* parse.y (extdef): Add EXPORT reduction.\n\t* spew.c (yylex): Don't skip export here.\ntestsuite:\n\t* g++.old-deja/g++.pt/export1.C: New test.\n\nFrom-SVN: r37585", "tree": {"sha": "9ece9daeef3840fc2030973735bdec2731f9bfb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ece9daeef3840fc2030973735bdec2731f9bfb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/447306fa90a0acc3c8255daae74427e01374d14f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/447306fa90a0acc3c8255daae74427e01374d14f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/447306fa90a0acc3c8255daae74427e01374d14f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/447306fa90a0acc3c8255daae74427e01374d14f/comments", "author": null, "committer": null, "parents": [{"sha": "462ef1e15017f170e71a73d8b76ae587974e3b9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/462ef1e15017f170e71a73d8b76ae587974e3b9d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/462ef1e15017f170e71a73d8b76ae587974e3b9d"}], "stats": {"total": 48, "additions": 35, "deletions": 13}, "files": [{"sha": "3e6af41fbc5246b905f2ca1f214fc4e9a22d974e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -1,3 +1,9 @@\n+2000-11-20  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* lex.c (rid_to_yy, RID_EXPORT): Make unique keyword.\n+\t* parse.y (extdef): Add EXPORT reduction.\n+\t* spew.c (yylex): Don't skip export here.\n+\n 2000-11-19  Mark Mitchell  <mark@codesourcery.com>\n \n \t* decl.c (init_decl_processing): Correct name of pure virtual"}, {"sha": "b0553e0434f5b62024140f7b59f2ba270137d121", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -544,7 +544,7 @@ const short rid_to_yy[RID_MAX] =\n   /* RID_FRIEND */\tSCSPEC,\n   /* RID_VIRTUAL */\tSCSPEC,\n   /* RID_EXPLICIT */\tSCSPEC,\n-  /* RID_EXPORT */\tSCSPEC,\n+  /* RID_EXPORT */\tEXPORT,\n   /* RID_MUTABLE */\tSCSPEC,\n \n   /* ObjC */"}, {"sha": "13c678b7b2a61436882cf5fb135911805ac8b564", "filename": "gcc/cp/parse.y", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparse.y?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -278,7 +278,7 @@ cp_parse_init ()\n %token NAMESPACE TYPENAME_KEYWORD USING\n %token LEFT_RIGHT TEMPLATE\n %token TYPEID DYNAMIC_CAST STATIC_CAST REINTERPRET_CAST CONST_CAST\n-%token SCOPE\n+%token SCOPE EXPORT\n \n /* Define the operator tokens and their precedences.\n    The value is an integer because, if used, it is the tree code\n@@ -485,6 +485,11 @@ extdef:\n \t\t{ do_pending_inlines (); }\n \t| datadef\n \t\t{ do_pending_inlines (); }\n+\n+\t| EXPORT\n+\t\t{ cp_warning (\"keyword `export' not implemented, and will be ignored\"); }\n+\t  template_def\n+\t\t{ do_pending_inlines (); }\n \t| template_def\n \t\t{ do_pending_inlines (); }\n \t| asm_keyword '(' string ')' ';'"}, {"sha": "0894993a8b6b67d58ad059ceddd1bb5fdf0ce044", "filename": "gcc/cp/spew.c", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Fspew.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Fcp%2Fspew.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fspew.c?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -803,17 +803,6 @@ yylex ()\n \t      consume_token ();\n \t    }\n \t}\n-      /* If export, warn that it's unimplemented and go on. */\n-      else if (nth_token (0)->yylval.ttype == ridpointers[RID_EXPORT])\n-\t{\n-\t  warning (\"keyword 'export' not implemented and will be ignored\");\n-#ifdef SPEW_DEBUG    \n-\t  if (spew_debug)\n-\t    debug_yychar (yychr);\n-#endif\n-\t  consume_token ();\n-\t  goto retry;\n-\t}\n       /* do_aggr needs to know if the previous token was `friend'.  */\n       else if (nth_token (0)->yylval.ttype == ridpointers[RID_FRIEND])\n \tafter_friend = 1;"}, {"sha": "efb25913a33cb04018fc9b170cd69151544cb42c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -1,3 +1,7 @@\n+2000-11-20  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.pt/export1.C: New test.\n+\n 2000-11-20  Jakub Jelinek  <jakub@redhat.com>\n \n \t* gcc.dg/20001117-1.c: New test."}, {"sha": "43f79737c76db1ae72e9f62dcd6cd2d3bd3bdfa2", "filename": "gcc/testsuite/g++.old-deja/g++.pt/export1.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexport1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/447306fa90a0acc3c8255daae74427e01374d14f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexport1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fexport1.C?ref=447306fa90a0acc3c8255daae74427e01374d14f", "patch": "@@ -0,0 +1,18 @@\n+// Build don't link:\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 17 Nov 2000 <nathan@codesourcery.com>\n+\n+\n+// bug 721, we died horribly when export was used wrongly\n+\n+struct test {\n+int export(void);   // ERROR - parse error\n+};\n+\n+int test::export(void) // ERROR - parse error\n+{\n+return 0;\n+}\n+\n+template <class T> class Y;\n+export template <class T> class X;  // WARNING - export not implemented"}]}