{"sha": "0290a292001e43ea718795690a3a14c516aedb42", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDI5MGEyOTIwMDFlNDNlYTcxODc5NTY5MGEzYTE0YzUxNmFlZGI0Mg==", "commit": {"author": {"name": "Maxim Ostapenko", "email": "m.ostapenko@samsung.com", "date": "2016-11-08T22:16:58Z"}, "committer": {"name": "Maxim Ostapenko", "email": "chefmax@gcc.gnu.org", "date": "2016-11-08T22:16:58Z"}, "message": "asan.h (asan_intercepted_p): Handle BUILT_IN_STRCSPN, BUILT_IN_STRPBRK, BUILT_IN_STRSPN and BUILT_IN_STRSTR.\n\ngcc/\n\n\t* asan.h (asan_intercepted_p): Handle BUILT_IN_STRCSPN,\n\tBUILT_IN_STRPBRK, BUILT_IN_STRSPN and BUILT_IN_STRSTR.\n\ngcc/testsuite/\n\n\t* c-c++-common/asan/default_options.h: New file.\n\t* c-c++-common/asan/strcasestr-1.c: New test.\n\t* c-c++-common/asan/strcasestr-2.c: Likewise.\n\t* c-c++-common/asan/strcspn-1.c: Likewise.\n\t* c-c++-common/asan/strcspn-2.c: Likewise.\n\t* c-c++-common/asan/strpbrk-1.c: Likewise.\n\t* c-c++-common/asan/strpbrk-2.c: Likewise.\n\t* c-c++-common/asan/strspn-1.c: Likewise.\n\t* c-c++-common/asan/strspn-2.c: Likewise.\n\t* c-c++-common/asan/strstr-1.c: Likewise.\n\t* c-c++-common/asan/strstr-2.c: Likewise.\n\t* c-c++-common/asan/halt_on_error_suppress_equal_pcs-1.c: Likewise.\n\nFrom-SVN: r241984", "tree": {"sha": "2e047a4a98fee3913c4e614464b1b1d7acd3a86d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e047a4a98fee3913c4e614464b1b1d7acd3a86d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0290a292001e43ea718795690a3a14c516aedb42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0290a292001e43ea718795690a3a14c516aedb42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0290a292001e43ea718795690a3a14c516aedb42", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0290a292001e43ea718795690a3a14c516aedb42/comments", "author": null, "committer": null, "parents": [{"sha": "fbdb92ebffaadd025bf1258c11537d3061cef124", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbdb92ebffaadd025bf1258c11537d3061cef124", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbdb92ebffaadd025bf1258c11537d3061cef124"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "e175a60bb3878e5bc423b26d3cab22c56a1ddff3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0290a292001e43ea718795690a3a14c516aedb42/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0290a292001e43ea718795690a3a14c516aedb42/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0290a292001e43ea718795690a3a14c516aedb42", "patch": "@@ -1,3 +1,8 @@\n+2016-11-09  Maxim Ostapenko  <m.ostapenko@samsung.com>\n+\n+\t* asan.h (asan_intercepted_p): Handle BUILT_IN_STRCSPN,\n+\tBUILT_IN_STRPBRK, BUILT_IN_STRSPN and BUILT_IN_STRSTR.\n+\n 2016-11-09  Maxim Ostapenko  <m.ostapenko@samsung.com>\n \n \t* asan.h (ASAN_STACK_MAGIC_PARTIAL): Remove."}, {"sha": "9cf5904618b09d2076f26122cbfa24f803bb9e29", "filename": "gcc/asan.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0290a292001e43ea718795690a3a14c516aedb42/gcc%2Fasan.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0290a292001e43ea718795690a3a14c516aedb42/gcc%2Fasan.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fasan.h?ref=0290a292001e43ea718795690a3a14c516aedb42", "patch": "@@ -120,6 +120,10 @@ asan_intercepted_p (enum built_in_function fcode)\n \t || fcode == BUILT_IN_STRNCASECMP\n \t || fcode == BUILT_IN_STRNCAT\n \t || fcode == BUILT_IN_STRNCMP\n+\t || fcode == BUILT_IN_STRCSPN\n+\t || fcode == BUILT_IN_STRPBRK\n+\t || fcode == BUILT_IN_STRSPN\n+\t || fcode == BUILT_IN_STRSTR\n \t || fcode == BUILT_IN_STRNCPY;\n }\n "}, {"sha": "d2621864f344b1e781823cc9d635b466f370c093", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0290a292001e43ea718795690a3a14c516aedb42/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0290a292001e43ea718795690a3a14c516aedb42/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0290a292001e43ea718795690a3a14c516aedb42", "patch": "@@ -1,3 +1,18 @@\n+2016-11-09  Maxim Ostapenko  <m.ostapenko@samsung.com>\n+\n+\t* c-c++-common/asan/default_options.h: New file.\n+\t* c-c++-common/asan/strcasestr-1.c: New test.\n+\t* c-c++-common/asan/strcasestr-2.c: Likewise.\n+\t* c-c++-common/asan/strcspn-1.c: Likewise.\n+\t* c-c++-common/asan/strcspn-2.c: Likewise.\n+\t* c-c++-common/asan/strpbrk-1.c: Likewise.\n+\t* c-c++-common/asan/strpbrk-2.c: Likewise.\n+\t* c-c++-common/asan/strspn-1.c: Likewise.\n+\t* c-c++-common/asan/strspn-2.c: Likewise.\n+\t* c-c++-common/asan/strstr-1.c: Likewise.\n+\t* c-c++-common/asan/strstr-2.c: Likewise.\n+\t* c-c++-common/asan/halt_on_error_suppress_equal_pcs-1.c: Likewise.\n+\n 2016-11-09  Maxim Ostapenko  <m.ostapenko@samsung.com>\n \n \t* c-c++-common/asan/null-deref-1.c: Adjust testcase."}]}