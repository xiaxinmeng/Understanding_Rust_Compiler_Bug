{"sha": "2271f9c260f9f6bc9b2edcd2fca348853191b91d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI3MWY5YzI2MGY5ZjZiYzliMmVkY2QyZmNhMzQ4ODUzMTkxYjkxZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-06-20T22:27:04Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-06-20T22:27:04Z"}, "message": "re PR libstdc++/40497 ([C++0x] troubles with std::next / std::prev declarations)\n\n2009-06-20  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/40497\n\t* include/bits/stl_iterator_base_funcs.h (next, prev): Fix the\n\tsignature per the current C++1x draft (N2857).\n\t* testsuite/24_iterators/operations/40497.cc: Add.\n\nFrom-SVN: r148751", "tree": {"sha": "80756b93035e693295383701a3179a3fb55b4e34", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80756b93035e693295383701a3179a3fb55b4e34"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2271f9c260f9f6bc9b2edcd2fca348853191b91d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2271f9c260f9f6bc9b2edcd2fca348853191b91d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2271f9c260f9f6bc9b2edcd2fca348853191b91d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2271f9c260f9f6bc9b2edcd2fca348853191b91d/comments", "author": null, "committer": null, "parents": [{"sha": "cb7a89619d7ac8fcefaab6c20d09bb55b7dc5cee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb7a89619d7ac8fcefaab6c20d09bb55b7dc5cee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb7a89619d7ac8fcefaab6c20d09bb55b7dc5cee"}], "stats": {"total": 56, "additions": 52, "deletions": 4}, "files": [{"sha": "4ab36ce50288af2ded554a39b5b65c30160d5248", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2271f9c260f9f6bc9b2edcd2fca348853191b91d", "patch": "@@ -1,3 +1,10 @@\n+2009-06-20  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/40497\n+\t* include/bits/stl_iterator_base_funcs.h (next, prev): Fix the\n+\tsignature per the current C++1x draft (N2857).\n+\t* testsuite/24_iterators/operations/40497.cc: Add.\n+\n 2009-06-19  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/random.h (_Adaptor): Simplify for _DInputType always"}, {"sha": "88ea8293ba604efe5438dc9893e56065fd06aa3a", "filename": "libstdc++-v3/include/bits/stl_iterator_base_funcs.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_funcs.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_funcs.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_iterator_base_funcs.h?ref=2271f9c260f9f6bc9b2edcd2fca348853191b91d", "patch": "@@ -175,17 +175,17 @@ _GLIBCXX_BEGIN_NAMESPACE(std)\n #ifdef __GXX_EXPERIMENTAL_CXX0X__\n   template<typename _InputIterator>\n     inline _InputIterator \n-    next(_InputIterator __x, typename\n-\t iterator_traits<_InputIterator>::difference_type __n = 1)\n+    next(_InputIterator __x,\n+\t typename _InputIterator::difference_type __n = 1)\n     {\n       std::advance(__x, __n);\n       return __x;\n     }\n \n   template<typename _BidirectionalIterator>\n     inline _BidirectionalIterator \n-    prev(_BidirectionalIterator __x, typename\n-\t iterator_traits<_BidirectionalIterator>::difference_type __n = 1) \n+    prev(_BidirectionalIterator __x,\n+\t typename _BidirectionalIterator::difference_type __n = 1) \n     {\n       std::advance(__x, -__n);\n       return __x;"}, {"sha": "8b476b29114bd3331dda76bff1b1c1793250ea45", "filename": "libstdc++-v3/testsuite/24_iterators/operations/40497.cc", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Foperations%2F40497.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2271f9c260f9f6bc9b2edcd2fca348853191b91d/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Foperations%2F40497.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F24_iterators%2Foperations%2F40497.cc?ref=2271f9c260f9f6bc9b2edcd2fca348853191b91d", "patch": "@@ -0,0 +1,41 @@\n+// { dg-options \"-std=gnu++0x\" }\n+// { dg-do compile }\n+\n+// Copyright (C) 2009 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 3, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING3.  If not see\n+// <http://www.gnu.org/licenses/>.\n+\n+namespace X\n+{\n+  class C { };\n+\n+  template<class T> void next(T) { }\n+  template<class T> void prev(T) { }\n+}\n+\n+using namespace X;\n+\n+#include <string>\n+\n+using namespace std;\n+\n+// libstdc++/40497\n+void test01()\n+{\n+  C c;\n+  next(c);\n+  prev(c);\n+}"}]}