{"sha": "459d4972e8e152ff080e74d4a811f69fc20a413f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDU5ZDQ5NzJlOGUxNTJmZjA4MGU3NGQ0YTgxMWY2OWZjMjBhNDEzZg==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@spamcop.net", "date": "2010-11-25T08:02:13Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2010-11-25T08:02:13Z"}, "message": "re PR bootstrap/45888 (tm.texi generation is not portable, rule is broken)\n\n2010-11-25  Joern Rennecke  <amylaar@spamcop.net>\n\t    Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n\n\tPR bootstrap/45888\n\t* Makefile.in (s-tm-texi): Remove \\r occurences from tmp-tm.texi.\n\tFix target.def pathname in timestamp comparison.\n\nCo-Authored-By: Ralf Wildenhues <Ralf.Wildenhues@gmx.de>\n\nFrom-SVN: r167137", "tree": {"sha": "5f5701d4639286323c47faaa1ffbee794bea1be7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f5701d4639286323c47faaa1ffbee794bea1be7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/459d4972e8e152ff080e74d4a811f69fc20a413f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/459d4972e8e152ff080e74d4a811f69fc20a413f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/459d4972e8e152ff080e74d4a811f69fc20a413f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/459d4972e8e152ff080e74d4a811f69fc20a413f/comments", "author": null, "committer": null, "parents": [{"sha": "604e3ff316fdb7298f3a54912fb6adc2268765f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/604e3ff316fdb7298f3a54912fb6adc2268765f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/604e3ff316fdb7298f3a54912fb6adc2268765f8"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "07fad35d82825ad523edd8984df950ad658a51a6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/459d4972e8e152ff080e74d4a811f69fc20a413f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/459d4972e8e152ff080e74d4a811f69fc20a413f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=459d4972e8e152ff080e74d4a811f69fc20a413f", "patch": "@@ -1,3 +1,10 @@\n+2010-11-25  Joern Rennecke  <amylaar@spamcop.net>\n+\t    Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR bootstrap/45888\n+\t* Makefile.in (s-tm-texi): Remove \\r occurences from tmp-tm.texi.\n+\tFix target.def pathname in timestamp comparison.\n+\n 2010-11-24  Richard Henderson  <rth@redhat.com>\n \n \t* config/ia64/predicates.md (pmpyshr_operand): New."}, {"sha": "3165f101fff2426ce1ba8adfbae9df61c21161c4", "filename": "gcc/Makefile.in", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/459d4972e8e152ff080e74d4a811f69fc20a413f/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/459d4972e8e152ff080e74d4a811f69fc20a413f/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=459d4972e8e152ff080e74d4a811f69fc20a413f", "patch": "@@ -3722,14 +3722,23 @@ s-target-hooks-def-h: build/genhooks$(build_exeext)\n # We use a different pathname here to avoid a circular dependency.\n s-tm-texi: $(srcdir)/doc/../doc/tm.texi\n \n+# The tm.texi we want to compare against / check into svn should have\n+# unix-style line endings.  To make this work on MinGW, remove \\r.\n+# \\r is not portable to Solaris tr, therefore we have a special\n+# case for ASCII.  We use \\r for other encodings like EBCDIC.\n s-tm-texi: build/genhooks$(build_exeext) $(srcdir)/doc/tm.texi.in\n \t$(RUN_GEN) build/genhooks$(build_exeext) \\\n \t\t\t$(srcdir)/doc/tm.texi.in > tmp-tm.texi\n+\tcase `echo X|tr X '\\101'` in \\\n+\t  A) tr -d '\\015' < tmp-tm.texi > tmp2-tm.texi ;; \\\n+ \t  *) tr -d '\\r' < tmp-tm.texi > tmp2-tm.texi ;; \\\n+\tesac\n+\tmv tmp2-tm.texi tmp-tm.texi\n \t$(SHELL) $(srcdir)/../move-if-change tmp-tm.texi tm.texi\n \t@if cmp -s $(srcdir)/doc/tm.texi tm.texi; then \\\n \t  $(STAMP) $@; \\\n \telif test $(srcdir)/doc/tm.texi -nt $(srcdir)/doc/tm.texi.in \\\n-\t  && test $(srcdir)/doc/tm.texi -nt $(srcdir)/doc/target.def; then \\\n+\t  && test $(srcdir)/doc/tm.texi -nt $(srcdir)/target.def; then \\\n \t  echo >&2 ; \\\n \t  echo You should edit $(srcdir)/doc/tm.texi.in rather than $(srcdir)/doc/tm.texi . >&2 ; \\\n \t  false; \\"}]}