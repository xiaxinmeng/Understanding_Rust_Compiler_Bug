{"sha": "3494e738cf975b8220002a25c9de4d616a60ac46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ5NGU3MzhjZjk3NWI4MjIwMDAyYTI1YzlkZTRkNjE2YTYwYWM0Ng==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-05-23T12:20:05Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-05-23T12:20:05Z"}, "message": "ipa-fnsummary.c (estimate_node_size_and_time): Do not sanity check that nonconst implies exec.\n\n\t* ipa-fnsummary.c (estimate_node_size_and_time): Do not sanity check\n\tthat nonconst implies exec.\n\nFrom-SVN: r248366", "tree": {"sha": "e4d22843243ba91a62b378b110a3a43beb809462", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4d22843243ba91a62b378b110a3a43beb809462"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3494e738cf975b8220002a25c9de4d616a60ac46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3494e738cf975b8220002a25c9de4d616a60ac46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3494e738cf975b8220002a25c9de4d616a60ac46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3494e738cf975b8220002a25c9de4d616a60ac46/comments", "author": null, "committer": null, "parents": [{"sha": "0bceb671062a463aadcf0059e19308845d713838", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bceb671062a463aadcf0059e19308845d713838", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bceb671062a463aadcf0059e19308845d713838"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "e5d00ec3bead7ac8cad2d8459ac348b996da46a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3494e738cf975b8220002a25c9de4d616a60ac46/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3494e738cf975b8220002a25c9de4d616a60ac46/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3494e738cf975b8220002a25c9de4d616a60ac46", "patch": "@@ -1,3 +1,8 @@\n+2017-05-23  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* ipa-fnsummary.c (estimate_node_size_and_time): Do not sanity check\n+\tthat nonconst implies exec.\n+\n 2017-05-23  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-inline-analysis.c (cgraph_2edge_hook_list, cgraph_edge_hook_list,"}, {"sha": "0a5abb54780457c8f764d6487694ad21bdee757d", "filename": "gcc/ipa-fnsummary.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3494e738cf975b8220002a25c9de4d616a60ac46/gcc%2Fipa-fnsummary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3494e738cf975b8220002a25c9de4d616a60ac46/gcc%2Fipa-fnsummary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-fnsummary.c?ref=3494e738cf975b8220002a25c9de4d616a60ac46", "patch": "@@ -2738,11 +2738,14 @@ estimate_node_size_and_time (struct cgraph_node *node,\n \n   for (i = 0; vec_safe_iterate (info->size_time_table, i, &e); i++)\n     {\n-      bool nonconst = e->nonconst_predicate.evaluate (possible_truths);\n       bool exec = e->exec_predicate.evaluate (nonspec_possible_truths);\n-      gcc_assert (!nonconst || exec);\n+\n+      /* Because predicates are conservative, it can happen that nonconst is 1\n+\t but exec is 0.  */\n       if (exec)\n         {\n+          bool nonconst = e->nonconst_predicate.evaluate (possible_truths);\n+\n \t  gcc_checking_assert (e->time >= 0);\n \t  gcc_checking_assert (time >= 0);\n "}]}