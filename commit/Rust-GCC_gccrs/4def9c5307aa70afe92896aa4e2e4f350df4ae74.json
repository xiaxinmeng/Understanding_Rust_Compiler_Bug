{"sha": "4def9c5307aa70afe92896aa4e2e4f350df4ae74", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGRlZjljNTMwN2FhNzBhZmU5Mjg5NmFhNGUyZTRmMzUwZGY0YWU3NA==", "commit": {"author": {"name": "Janne Blomqvist", "email": "jblomqvi@cc.hut.fi", "date": "2005-10-12T19:54:59Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2005-10-12T19:54:59Z"}, "message": "unix.c: Remove parts of patch of 2005/10/07 that cause input from the terminal to hang.\n\n2005-10-12  Janne Blomqvist <jblomqvi@cc.hut.fi>\n\n\t* io/unix.c: Remove parts of patch of 2005/10/07 that cause\n\tinput from the terminal to hang.\n\nFrom-SVN: r105324", "tree": {"sha": "946205e270ed3be183176e0e152e2858d3d475fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/946205e270ed3be183176e0e152e2858d3d475fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4def9c5307aa70afe92896aa4e2e4f350df4ae74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4def9c5307aa70afe92896aa4e2e4f350df4ae74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4def9c5307aa70afe92896aa4e2e4f350df4ae74", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4def9c5307aa70afe92896aa4e2e4f350df4ae74/comments", "author": null, "committer": null, "parents": [{"sha": "9f92185eb90aeeba65acd23587eca22a45d6a3e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f92185eb90aeeba65acd23587eca22a45d6a3e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f92185eb90aeeba65acd23587eca22a45d6a3e7"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "34072892ff3c3554c6fdc3601f4cc7b60a07399b", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4def9c5307aa70afe92896aa4e2e4f350df4ae74/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4def9c5307aa70afe92896aa4e2e4f350df4ae74/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=4def9c5307aa70afe92896aa4e2e4f350df4ae74", "patch": "@@ -1,3 +1,8 @@\n+2005-10-12  Janne Blomqvist <jblomqvi@cc.hut.fi>\n+\n+\t* io/unix.c: Remove parts of patch of 2005/10/07 that cause\n+\tinput from the terminal to hang.\n+\n 2005-10-11  Steven G. Kargl  <kargls@comcast.net>\n \n \tPR libgfortran/24313"}, {"sha": "de018af1f032dba5e588dca6a6d2a2182251e1ed", "filename": "libgfortran/io/unix.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4def9c5307aa70afe92896aa4e2e4f350df4ae74/libgfortran%2Fio%2Funix.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4def9c5307aa70afe92896aa4e2e4f350df4ae74/libgfortran%2Fio%2Funix.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Funix.c?ref=4def9c5307aa70afe92896aa4e2e4f350df4ae74", "patch": "@@ -440,7 +440,7 @@ static char *\n fd_alloc_r_at (unix_stream * s, int *len, gfc_offset where)\n {\n   gfc_offset m;\n-  size_t n;\n+  int n;\n \n   if (where == -1)\n     where = s->logical_offset;\n@@ -462,8 +462,8 @@ fd_alloc_r_at (unix_stream * s, int *len, gfc_offset where)\n   if (s->physical_offset != m && lseek (s->fd, m, SEEK_SET) < 0)\n     return NULL;\n \n-  n = s->len - s->active;\n-  if (do_read (s, s->buffer + s->active, &n) != 0)\n+  n = read (s->fd, s->buffer + s->active, s->len - s->active);\n+  if (n < 0)\n     return NULL;\n \n   s->physical_offset = where + n;"}]}