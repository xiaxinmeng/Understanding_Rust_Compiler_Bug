{"sha": "e6d100354317475412161a487ffbcf36582115c5", "node_id": "C_kwDOANBUbNoAKGU2ZDEwMDM1NDMxNzQ3NTQxMjE2MWE0ODdmZmJjZjM2NTgyMTE1YzU", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-21T13:17:43Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-10-21T21:23:00Z"}, "message": "libcody: Avoid double-free\n\nIf the listen call fails then 'goto fail' will jump to that label and\nuse freeaddrinfo again. Set the pointer to null to prevent that.\n\nlibcody/ChangeLog:\n\n\t* netserver.cc (ListenInet6): Set pointer to null after\n\tdeallocation.", "tree": {"sha": "9a23232d30c73bbdb763779027fea2f636516bdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a23232d30c73bbdb763779027fea2f636516bdb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e6d100354317475412161a487ffbcf36582115c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6d100354317475412161a487ffbcf36582115c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e6d100354317475412161a487ffbcf36582115c5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e6d100354317475412161a487ffbcf36582115c5/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1373066a46d8d47abd97e46a005aef3b3dbfe94a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1373066a46d8d47abd97e46a005aef3b3dbfe94a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1373066a46d8d47abd97e46a005aef3b3dbfe94a"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "0499b5790b457e665478c12c09a0f0d63ebc6f14", "filename": "libcody/netserver.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e6d100354317475412161a487ffbcf36582115c5/libcody%2Fnetserver.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e6d100354317475412161a487ffbcf36582115c5/libcody%2Fnetserver.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcody%2Fnetserver.cc?ref=e6d100354317475412161a487ffbcf36582115c5", "patch": "@@ -140,6 +140,7 @@ int ListenInet6 (char const **e, char const *name, int port, unsigned backlog)\n \n  listen:;\n   freeaddrinfo (addrs);\n+  addrs = nullptr;\n \n   if (listen (fd, backlog ? backlog : 17) < 0)\n     {"}]}