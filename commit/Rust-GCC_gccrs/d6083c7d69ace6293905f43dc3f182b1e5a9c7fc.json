{"sha": "d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDYwODNjN2Q2OWFjZTYyOTM5MDVmNDNkYzNmMTgyYjFlNWE5YzdmYw==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2005-02-18T21:11:06Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2005-02-18T21:11:06Z"}, "message": "re PR target/20054 (ICE in change_address_1)\n\nChangeLog:\n\n\tPR target/20054\n\t* config/s390/s390.md (\"*llgt_sidi\", \"*llgt_sidi_split\"): Move to\n\tbefore the \"*llgt_didi\" pattern.\n\ntestsuite/ChangeLog:\n\n\tPR target/20054\n\t* gcc.dg/pr20054.c: New test.\n\nFrom-SVN: r95233", "tree": {"sha": "02761e6cc31244dd7c6e6cc8cd52b233b977ec70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/02761e6cc31244dd7c6e6cc8cd52b233b977ec70"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/comments", "author": null, "committer": null, "parents": [{"sha": "0ae65c915a3fcae67ac5e1c7be4ffa2ad1ac70e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ae65c915a3fcae67ac5e1c7be4ffa2ad1ac70e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ae65c915a3fcae67ac5e1c7be4ffa2ad1ac70e9"}], "stats": {"total": 76, "additions": 55, "deletions": 21}, "files": [{"sha": "8271af270564049ed19b87d0c7a45a3c0dd2991a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "patch": "@@ -1,3 +1,9 @@\n+2005-02-18  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\tPR target/20054\n+\t* config/s390/s390.md (\"*llgt_sidi\", \"*llgt_sidi_split\"): Move to\n+\tbefore the \"*llgt_didi\" pattern.\n+\n 2005-02-18  Jason Merrill  <jason@redhat.com>\n \n \t* gimplify.c (gimplify_modify_expr_rhs) [CALL_EXPR]: Revert again."}, {"sha": "a0b9a3143a0ed8f0f1cad29296778ae27269f44f", "filename": "gcc/config/s390/s390.md", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Fconfig%2Fs390%2Fs390.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Fconfig%2Fs390%2Fs390.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.md?ref=d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "patch": "@@ -2660,6 +2660,27 @@\n ; LLGT-type instructions (zero-extend from 31 bit to 64 bit).\n ;\n \n+(define_insn \"*llgt_sidi\"\n+  [(set (match_operand:DI 0 \"register_operand\" \"=d\")\n+        (and:DI (subreg:DI (match_operand:SI 1 \"memory_operand\" \"m\") 0)\n+\t\t(const_int 2147483647)))]\n+  \"TARGET_64BIT\"\n+  \"llgt\\t%0,%1\"\n+  [(set_attr \"op_type\"  \"RXE\")])\n+\n+(define_insn_and_split \"*llgt_sidi_split\"\n+  [(set (match_operand:DI 0 \"register_operand\" \"=d\")\n+        (and:DI (subreg:DI (match_operand:SI 1 \"memory_operand\" \"m\") 0)\n+\t\t(const_int 2147483647)))\n+   (clobber (reg:CC 33))]\n+  \"TARGET_64BIT\"\n+  \"#\"\n+  \"&& reload_completed\"\n+  [(set (match_dup 0)\n+        (and:DI (subreg:DI (match_dup 1) 0)\n+\t\t(const_int 2147483647)))]\n+  \"\")\n+\n (define_insn \"*llgt_sisi\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=d,d\")\n         (and:SI (match_operand:SI 1 \"nonimmediate_operand\" \"d,m\")\n@@ -2702,27 +2723,6 @@\n                 (const_int 2147483647)))]\n   \"\")\n \n-(define_insn \"*llgt_sidi\"\n-  [(set (match_operand:DI 0 \"register_operand\" \"=d\")\n-        (and:DI (subreg:DI (match_operand:SI 1 \"memory_operand\" \"m\") 0)\n-\t\t(const_int 2147483647)))]\n-  \"TARGET_64BIT\"\n-  \"llgt\\t%0,%1\"\n-  [(set_attr \"op_type\"  \"RXE\")])\n-\n-(define_insn_and_split \"*llgt_sidi_split\"\n-  [(set (match_operand:DI 0 \"register_operand\" \"=d\")\n-        (and:DI (subreg:DI (match_operand:SI 1 \"memory_operand\" \"m\") 0)\n-\t\t(const_int 2147483647)))\n-   (clobber (reg:CC 33))]\n-  \"TARGET_64BIT\"\n-  \"#\"\n-  \"&& reload_completed\"\n-  [(set (match_dup 0)\n-        (and:DI (subreg:DI (match_dup 1) 0)\n-\t\t(const_int 2147483647)))]\n-  \"\")\n-\n ;\n ; zero_extendqidi2 instruction pattern(s)\n ;"}, {"sha": "ecdc105c735ba4c878957824dc2dc81917255294", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "patch": "@@ -1,3 +1,8 @@\n+2005-02-18  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\tPR target/20054\n+\t* gcc.dg/pr20054.c: New test.\n+\n 2005-01-20  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n         PR c++/19508"}, {"sha": "292b856d014cad30e24ebb36f789a32f2a595265", "filename": "gcc/testsuite/gcc.dg/pr20054.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20054.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d6083c7d69ace6293905f43dc3f182b1e5a9c7fc/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20054.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr20054.c?ref=d6083c7d69ace6293905f43dc3f182b1e5a9c7fc", "patch": "@@ -0,0 +1,23 @@\n+\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -fno-strict-aliasing\" } */\n+\n+\n+unsigned int *foo (void);\n+\n+char *\n+bar (double *d)\n+{\n+  return (char *) (d + 1) - sizeof (unsigned int);\n+}\n+\n+char\n+baz (double x)\n+{\n+  unsigned int h = *foo ();\n+  unsigned int l = *(unsigned int *) bar (&x);\n+\n+  return (h & ~0x80000000L) == 0x7FF00000 && l == 0;\n+}\n+\n+"}]}