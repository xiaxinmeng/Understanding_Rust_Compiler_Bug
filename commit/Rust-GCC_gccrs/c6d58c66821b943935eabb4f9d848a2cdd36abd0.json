{"sha": "c6d58c66821b943935eabb4f9d848a2cdd36abd0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzZkNThjNjY4MjFiOTQzOTM1ZWFiYjRmOWQ4NDhhMmNkZDM2YWJkMA==", "commit": {"author": {"name": "Michael Koch", "email": "konqueror@gmx.de", "date": "2002-11-22T10:27:53Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2002-11-22T10:27:53Z"}, "message": "2002-11-22  Michael Koch <konqueror@gmx.de>\n\n\t* include/posix.h:\n\t(_Jv_platform_on_close): Moved out of #ifndef DISBALE_JAVA_NET.\n\t* include/win32.h:\n\t(_Jv_platform_on_close): Moved out of #ifndef DISBALE_JAVA_NET.\n\t(backtrace): Moved out of #ifndef DISBALE_JAVA_NET.\n\nFrom-SVN: r59374", "tree": {"sha": "af2229acbaae8dad77062972ca44b14b3b678302", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af2229acbaae8dad77062972ca44b14b3b678302"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c6d58c66821b943935eabb4f9d848a2cdd36abd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6d58c66821b943935eabb4f9d848a2cdd36abd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c6d58c66821b943935eabb4f9d848a2cdd36abd0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c6d58c66821b943935eabb4f9d848a2cdd36abd0/comments", "author": null, "committer": null, "parents": [{"sha": "fac3e63d64e0813bd043c5483c73991d2ad7296b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fac3e63d64e0813bd043c5483c73991d2ad7296b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fac3e63d64e0813bd043c5483c73991d2ad7296b"}], "stats": {"total": 39, "additions": 24, "deletions": 15}, "files": [{"sha": "be3ade93bf57d30d89e37cef60910932a3841a3f", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c6d58c66821b943935eabb4f9d848a2cdd36abd0", "patch": "@@ -1,3 +1,11 @@\n+2002-11-22  Michael Koch <konqueror@gmx.de>\n+\n+\t* include/posix.h:\n+\t(_Jv_platform_on_close): Moved out of #ifndef DISBALE_JAVA_NET.\n+\t* include/win32.h:\n+\t(_Jv_platform_on_close): Moved out of #ifndef DISBALE_JAVA_NET.\n+\t(backtrace): Moved out of #ifndef DISBALE_JAVA_NET.\n+\n 2002-11-21  Michael Koch <konqueror@gmx.de>\n \n \t* include/posix.h: I put too much into the #ifndef DISABLE_JAVA_NET."}, {"sha": "447cadaf790dc0d44030bd60327fbbb6a22726df", "filename": "libjava/include/posix.h", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2Finclude%2Fposix.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2Finclude%2Fposix.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fposix.h?ref=c6d58c66821b943935eabb4f9d848a2cdd36abd0", "patch": "@@ -49,6 +49,13 @@ extern jlong _Jv_platform_gettimeofday ();\n extern void _Jv_platform_initialize (void);\n extern void _Jv_platform_initProperties (java::util::Properties*);\n \n+inline void\n+_Jv_platform_close_on_exec (jint fd)\n+{\n+  // Ignore errors.\n+  ::fcntl (fd, F_SETFD, FD_CLOEXEC);\n+}\n+\n #ifndef DISABLE_JAVA_NET\n \n static inline int\n@@ -69,13 +76,6 @@ _Jv_close (jint fd)\n   return ::close (fd);\n }\n \n-inline void\n-_Jv_platform_close_on_exec (jint fd)\n-{\n-  // Ignore errors.\n-  ::fcntl (fd, F_SETFD, FD_CLOEXEC);\n-}\n-\n // Avoid macro definitions of bind from system headers, e.g. on\n // Solaris 7 with _XOPEN_SOURCE.  FIXME\n inline int"}, {"sha": "62bc0c33cbba396e9a92d03ca6dd742a667a7109", "filename": "libjava/include/win32.h", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2Finclude%2Fwin32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c6d58c66821b943935eabb4f9d848a2cdd36abd0/libjava%2Finclude%2Fwin32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fwin32.h?ref=c6d58c66821b943935eabb4f9d848a2cdd36abd0", "patch": "@@ -38,6 +38,12 @@ extern void _Jv_platform_initialize (void);\n extern void _Jv_platform_initProperties (java::util::Properties*);\n extern jlong _Jv_platform_gettimeofday ();\n \n+inline void\n+_Jv_platform_close_on_exec (jint)\n+{\n+  // Ignore.\n+}\n+\n #ifndef DISBALE_JAVA_NET\n \n static inline int\n@@ -58,12 +64,6 @@ _Jv_close (jint fd)\n   return ::closesocket (fd);\n }\n \n-inline void\n-_Jv_platform_close_on_exec (jint)\n-{\n-  // Ignore.\n-}\n-\n inline int\n _Jv_bind (int fd, struct sockaddr *addr, int addrlen)\n {\n@@ -93,12 +93,13 @@ _Jv_read(int s, void *buf, int len)\n {\n   return ::recv (s, (char*) buf, len, 0);\n }\n+\n+#endif /* DISBALE_JAVA_NET */\n+\n #define HAVE_BACKTRACE\n \n /* Store up to SIZE return address of the current program state in\n    ARRAY and return the exact number of values stored.  */\n extern int backtrace (void **__array, int __size);\n \n-#endif /* DISBALE_JAVA_NET */\n-\n #endif /* __JV_WIN32_H__ */"}]}