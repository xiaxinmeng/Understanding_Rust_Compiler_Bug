{"sha": "7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I4NzgxYzg2MTdkMzQ2OWU3ZjEyYTZkNmRjMTI1NDJmMTkyZjRkYw==", "commit": {"author": {"name": "Philip Blundell", "email": "pb@nexus.co.uk", "date": "2002-02-19T22:23:56Z"}, "committer": {"name": "Phil Blundell", "email": "pb@gcc.gnu.org", "date": "2002-02-19T22:23:56Z"}, "message": "re PR target/5185 ([ARM] Segmentation fault in final.c)\n\n2002-02-19  Philip Blundell  <pb@nexus.co.uk>\n\n\tPR 5185\n\t* config/arm/arm.h (THUMB_LEGITIMATE_CONSTANT_P): Accept anything\n\tif generating PIC.\n\n\tPR 5054\n\t* config/arm/arm.md (call_insn) [TARGET_THUMB]: Use\n\tarm_is_longcall_p rather than inspecting call-type cookie\n\tdirectly.\n\t(call_value_insn) [TARGET_THUMB]: Likewise.\n\nFrom-SVN: r49879", "tree": {"sha": "047286c81eca6bb00afabcafa64ab58fb181bfaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/047286c81eca6bb00afabcafa64ab58fb181bfaa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/comments", "author": null, "committer": null, "parents": [{"sha": "9b41c370487dfd259898aa0dd996d17ad1c2e1fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b41c370487dfd259898aa0dd996d17ad1c2e1fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b41c370487dfd259898aa0dd996d17ad1c2e1fb"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "45819e6d991a92aa5bd02505cde58736973531a7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "patch": "@@ -1,3 +1,15 @@\n+2002-02-19  Philip Blundell  <pb@nexus.co.uk>\n+\n+\tPR 5185\n+\t* config/arm/arm.h (THUMB_LEGITIMATE_CONSTANT_P): Accept anything\n+\tif generating PIC.\n+\n+\tPR 5054\n+\t* config/arm/arm.md (call_insn) [TARGET_THUMB]: Use\n+\tarm_is_longcall_p rather than inspecting call-type cookie\n+\tdirectly.\n+\t(call_value_insn) [TARGET_THUMB]: Likewise.\n+\n 2002-02-19  Graham Stott  <grahams@redhat.com>\n \n \t* config/i386/i386.c (ix86_expand_builtin): Fix typo."}, {"sha": "c68c86757d4e850205a8eb4f7d5a49f2adf5b337", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "patch": "@@ -1843,7 +1843,8 @@ typedef struct\n #define THUMB_LEGITIMATE_CONSTANT_P(X)\t\\\n  (   GET_CODE (X) == CONST_INT\t\t\\\n   || GET_CODE (X) == CONST_DOUBLE\t\\\n-  || CONSTANT_ADDRESS_P (X))\n+  || CONSTANT_ADDRESS_P (X)\t\t\\\n+  || flag_pic)\n \n #define LEGITIMATE_CONSTANT_P(X)\t\\\n   (TARGET_ARM ? ARM_LEGITIMATE_CONSTANT_P (X) : THUMB_LEGITIMATE_CONSTANT_P (X))"}, {"sha": "d1259d472b7727c08920cf73b953a720c6450a9d", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b8781c8617d3469e7f12a6d6dc12542f192f4dc/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=7b8781c8617d3469e7f12a6d6dc12542f192f4dc", "patch": "@@ -6655,7 +6655,8 @@\n    (use (match_operand 2 \"\" \"\"))\n    (clobber (reg:SI LR_REGNUM))]\n   \"TARGET_THUMB\n-   && operands[2] == const0_rtx && (GET_CODE (operands[0]) == SYMBOL_REF)\"\n+   && GET_CODE (operands[0]) == SYMBOL_REF\n+   && !arm_is_longcall_p (operands[0], INTVAL (operands[2]), 1)\"\n   \"bl\\\\t%a0\"\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"call\")]\n@@ -6668,7 +6669,8 @@\n    (use (match_operand 3 \"\" \"\"))\n    (clobber (reg:SI LR_REGNUM))]\n   \"TARGET_THUMB\n-   && operands[3] == const0_rtx && (GET_CODE (operands[1]) == SYMBOL_REF)\"\n+   && GET_CODE (operands[1]) == SYMBOL_REF\n+   && !arm_is_longcall_p (operands[1], INTVAL (operands[3]), 1)\"\n   \"bl\\\\t%a1\"\n   [(set_attr \"length\" \"4\")\n    (set_attr \"type\" \"call\")]"}]}