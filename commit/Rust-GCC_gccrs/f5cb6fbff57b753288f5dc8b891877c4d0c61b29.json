{"sha": "f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjVjYjZmYmZmNTdiNzUzMjg4ZjVkYzhiODkxODc3YzRkMGM2MWIyOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2008-06-03T18:14:58Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-06-03T18:14:58Z"}, "message": "aliasing1.ad[sb]: New test.\n\n\t* gnat.dg/aliasing1.ad[sb]: New test.\n\t* gnat.dg/aliasing2.ad[sb]: Likewise.\n\nFrom-SVN: r136331", "tree": {"sha": "2bce0b2cc2e141e53f8e7b615c8e98314f1560ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2bce0b2cc2e141e53f8e7b615c8e98314f1560ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/comments", "author": null, "committer": null, "parents": [{"sha": "30783513f05cc8e41828a98d64aefd1e7adc9716", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30783513f05cc8e41828a98d64aefd1e7adc9716", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30783513f05cc8e41828a98d64aefd1e7adc9716"}], "stats": {"total": 72, "additions": 72, "deletions": 0}, "files": [{"sha": "28609e1c3ea7d137a5d19da0023d88e97dd060dc", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "patch": "@@ -1,3 +1,8 @@\n+2008-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/aliasing1.ad[sb]: New test.\n+\t* gnat.dg/aliasing2.ad[sb]: Likewise.\n+\n 2008-06-02  Andy Hutchinson  <hutchinsonandy@aim.com>\n \n \t* gcc.target/avr/avr.exp: Add avr testsuite."}, {"sha": "5d928bbc0c0f58f8838cb28fa9148c984739f688", "filename": "gcc/testsuite/gnat.dg/aliasing1.adb", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.adb?ref=f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "patch": "@@ -0,0 +1,22 @@\n+-- { dg-do compile }\n+-- { dg-options \"-O2 -gnatp -fdump-tree-final_cleanup\" }\n+\n+-- The raise statement must be optimized away by\n+-- virtue of DECL_NONADDRESSABLE_P set on R.I.\n+\n+package body Aliasing1 is\n+\n+  function F (P : Ptr) return Integer is\n+  begin\n+    R.I := 0;\n+    P.all := 1;\n+    if R.I /= 0 then\n+      raise Program_Error;\n+    end if;\n+    return 0;\n+  end;\n+\n+end Aliasing1;\n+\n+-- { dg-final { scan-tree-dump-not \"__gnat_rcheck\" \"final_cleanup\" } }\n+-- { dg-final { cleanup-tree-dump \"final_cleanup\" } }"}, {"sha": "9ebfd6206b445d9d193aee2068c7c8f11b6dd54b", "filename": "gcc/testsuite/gnat.dg/aliasing1.ads", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing1.ads?ref=f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "patch": "@@ -0,0 +1,13 @@\n+package Aliasing1 is\n+\n+  type Rec is record\n+    I : Integer;\n+  end record;\n+\n+  type Ptr is access all Integer;\n+\n+  R : Rec;\n+\n+  function F (P : Ptr) return Integer;\n+\n+end Aliasing1;"}, {"sha": "abfc6e11a3ff994907f8befee600d6bb65d2bdff", "filename": "gcc/testsuite/gnat.dg/aliasing2.adb", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.adb?ref=f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "patch": "@@ -0,0 +1,22 @@\n+-- { dg-do compile }\n+-- { dg-options \"-O2 -gnatp -fdump-tree-final_cleanup\" }\n+\n+-- The raise statement must be optimized away by\n+-- virtue of TYPE_NONALIASED_COMPONENT set on A.\n+\n+package body Aliasing2 is\n+\n+  function F (P : Ptr) return Integer is\n+  begin\n+    A (1) := 0;\n+    P.all := 1;\n+    if A(1) /= 0 then\n+      raise Program_Error;\n+    end if;\n+    return 0;\n+  end;\n+\n+end Aliasing2;\n+\n+-- { dg-final { scan-tree-dump-not \"__gnat_rcheck\" \"final_cleanup\" } }\n+-- { dg-final { cleanup-tree-dump \"final_cleanup\" } }"}, {"sha": "7a7e411fa586268fe87cd6b7c17e62fb1a5b4395", "filename": "gcc/testsuite/gnat.dg/aliasing2.ads", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5cb6fbff57b753288f5dc8b891877c4d0c61b29/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Faliasing2.ads?ref=f5cb6fbff57b753288f5dc8b891877c4d0c61b29", "patch": "@@ -0,0 +1,10 @@\n+package Aliasing2 is\n+\n+  type Arr is Array (1..4) of Integer;\n+  type Ptr is access all Integer;\n+\n+  A : Arr;\n+\n+  function F (P : Ptr) return Integer;\n+\n+end Aliasing2;"}]}