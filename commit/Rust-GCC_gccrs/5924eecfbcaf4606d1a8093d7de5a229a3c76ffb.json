{"sha": "5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkyNGVlY2ZiY2FmNDYwNmQxYTgwOTNkN2RlNWEyMjlhM2M3NmZmYg==", "commit": {"author": {"name": "Ken Raeburn", "email": "raeburn@cygnus.com", "date": "1998-10-07T18:23:51Z"}, "committer": {"name": "Ken Raeburn", "email": "raeburn@gcc.gnu.org", "date": "1998-10-07T18:23:51Z"}, "message": "mips.md (tablejump_internal3, [...]): Tack on a `use' of the table label, so flow analysis will recognize a tablejump.\n\n* config/mips/mips.md (tablejump_internal3, tablejump_internal4 and matching\ndefine_insns): Tack on a `use' of the table label, so flow analysis will\nrecognize a tablejump.\n\nFrom-SVN: r22898", "tree": {"sha": "bafca9f56fa236b39f38776a16ad1b6592d83179", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bafca9f56fa236b39f38776a16ad1b6592d83179"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb/comments", "author": null, "committer": null, "parents": [{"sha": "1bba6199035a12b6a16334a6962d960aa7862e52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bba6199035a12b6a16334a6962d960aa7862e52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bba6199035a12b6a16334a6962d960aa7862e52"}], "stats": {"total": 26, "additions": 18, "deletions": 8}, "files": [{"sha": "fd74fa055206a3b713c64a3a98e8cf6637518806", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "patch": "@@ -1,3 +1,9 @@\n+Wed Oct  7 21:19:46 1998  Ken Raeburn  <raeburn@cygnus.com>\n+\n+\t* config/mips/mips.md (tablejump_internal3, tablejump_internal4\n+\tand matching define_insns): Tack on a `use' of the table label, so\n+\tflow analysis will recognize a tablejump.\n+\n Wed Oct  7 17:33:39 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* gcse.c (pre_insert_insn): Tweek to notice that calls do not"}, {"sha": "c6c187e6dc2d1d34098429f870a25c0c28f6ecfd", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5924eecfbcaf4606d1a8093d7de5a229a3c76ffb/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=5924eecfbcaf4606d1a8093d7de5a229a3c76ffb", "patch": "@@ -8883,9 +8883,10 @@ move\\\\t%0,%z4\\\\n\\\\\n    (set_attr \"length\"\t\"1\")])\n \n (define_expand \"tablejump_internal3\"\n-  [(set (pc)\n-\t(plus:SI (match_operand:SI 0 \"register_operand\" \"d\")\n-\t\t (label_ref:SI (match_operand:SI 1 \"\" \"\"))))]\n+  [(parallel [(set (pc)\n+\t\t   (plus:SI (match_operand:SI 0 \"register_operand\" \"d\")\n+\t\t\t    (label_ref:SI (match_operand:SI 1 \"\" \"\"))))\n+\t      (use (label_ref:SI (match_dup 1)))])]\n   \"\"\n   \"\")\n \n@@ -8942,7 +8943,8 @@ move\\\\t%0,%z4\\\\n\\\\\n (define_insn \"\"\n   [(set (pc)\n \t(plus:SI (match_operand:SI 0 \"register_operand\" \"d\")\n-\t\t (label_ref:SI (match_operand:SI 1 \"\" \"\"))))]\n+\t\t (label_ref:SI (match_operand:SI 1 \"\" \"\"))))\n+   (use (label_ref:SI (match_dup 1)))]\n   \"!(Pmode == DImode) && next_active_insn (insn) != 0\n    && GET_CODE (PATTERN (next_active_insn (insn))) == ADDR_DIFF_VEC\n    && PREV_INSN (next_active_insn (insn)) == operands[1]\"\n@@ -8958,9 +8960,10 @@ move\\\\t%0,%z4\\\\n\\\\\n    (set_attr \"length\"\t\"2\")])\n \n (define_expand \"tablejump_internal4\"\n-  [(set (pc)\n-\t(plus:DI (match_operand:DI 0 \"se_register_operand\" \"d\")\n-\t\t (label_ref:DI (match_operand:SI 1 \"\" \"\"))))]\n+  [(parallel [(set (pc)\n+\t\t   (plus:DI (match_operand:DI 0 \"se_register_operand\" \"d\")\n+\t\t\t    (label_ref:DI (match_operand:SI 1 \"\" \"\"))))\n+\t      (use (label_ref:DI (match_dup 1)))])]\n   \"\"\n   \"\")\n \n@@ -8970,7 +8973,8 @@ move\\\\t%0,%z4\\\\n\\\\\n (define_insn \"\"\n   [(set (pc)\n \t(plus:DI (match_operand:DI 0 \"se_register_operand\" \"d\")\n-\t\t (label_ref:DI (match_operand:SI 1 \"\" \"\"))))]\n+\t\t (label_ref:DI (match_operand:SI 1 \"\" \"\"))))\n+   (use (label_ref:DI (match_dup 1)))]\n   \"Pmode == DImode && next_active_insn (insn) != 0\n    && GET_CODE (PATTERN (next_active_insn (insn))) == ADDR_DIFF_VEC\n    && PREV_INSN (next_active_insn (insn)) == operands[1]\""}]}