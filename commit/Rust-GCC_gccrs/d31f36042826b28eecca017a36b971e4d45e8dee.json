{"sha": "d31f36042826b28eecca017a36b971e4d45e8dee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMxZjM2MDQyODI2YjI4ZWVjY2EwMTdhMzZiOTcxZTRkNDVlOGRlZQ==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2004-11-19T13:12:38Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2004-11-19T13:12:38Z"}, "message": "re PR target/17735 (make stops with \"initializer for integer value is too complicated\" while building an avr-cross compiler)\n\n\tPR target/17735\n\t* varasm.c (default_assemble_integer): Allow pointer-sized values.\n\tExpand comment.\n\nFrom-SVN: r90918", "tree": {"sha": "62a658e9ae3ce3dedccc3292aef5ed146df5c59b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62a658e9ae3ce3dedccc3292aef5ed146df5c59b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d31f36042826b28eecca017a36b971e4d45e8dee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d31f36042826b28eecca017a36b971e4d45e8dee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d31f36042826b28eecca017a36b971e4d45e8dee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d31f36042826b28eecca017a36b971e4d45e8dee/comments", "author": null, "committer": null, "parents": [{"sha": "f4e5280b48245281bf49c197e307a38a8fc82705", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e5280b48245281bf49c197e307a38a8fc82705", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4e5280b48245281bf49c197e307a38a8fc82705"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "93484e0dbae76d1a9999c0835f194e2784dbb926", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31f36042826b28eecca017a36b971e4d45e8dee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31f36042826b28eecca017a36b971e4d45e8dee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d31f36042826b28eecca017a36b971e4d45e8dee", "patch": "@@ -1,3 +1,9 @@\n+2004-11-19  Paul Brook  <paul@codesourcery.com>\n+\n+\tPR target/17735\n+\t* varasm.c (default_assemble_integer): Allow pointer-sized values.\n+\tExpand comment.\n+\n 2004-11-19  Nick Clifton  <nickc@redhat.com>\n \n \t* config/stormy16/stormy16.c (combine_bnp): Add code to handle"}, {"sha": "aaf9e53b22ce5a65400c15f72d66a3ab50621b0b", "filename": "gcc/varasm.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d31f36042826b28eecca017a36b971e4d45e8dee/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d31f36042826b28eecca017a36b971e4d45e8dee/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=d31f36042826b28eecca017a36b971e4d45e8dee", "patch": "@@ -2026,8 +2026,9 @@ default_assemble_integer (rtx x ATTRIBUTE_UNUSED,\n \t\t\t  int aligned_p ATTRIBUTE_UNUSED)\n {\n   const char *op = integer_asm_op (size, aligned_p);\n-  /* Avoid GAS bugs for values > word size.  */\n-  if (size > UNITS_PER_WORD)\n+  /* Avoid GAS bugs for large values.  Specifically negative values whose\n+     absolute value fits in a bfd_vma, but not in a bfd_signed_vma.  */\n+  if (size > UNITS_PER_WORD && size > POINTER_SIZE / BITS_PER_UNIT)\n     return false;\n   return op && (assemble_integer_with_op (op, x), true);\n }"}]}