{"sha": "a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTU3MjBjMDhhMzJlNWE3MTZmM2M1Y2YyNWRjMWU0ZTkwMzgxZGEwNQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2020-05-09T21:08:18Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2020-05-09T21:08:18Z"}, "message": "Add assertion for access attributes\n\n\t* gcc-interface/trans.c (Attribute_to_gnu) <Attr_Access>: Assert\n\tthat the prefix is not a type.", "tree": {"sha": "3a95220a26b7cab95e4c5a206651840e68c817de", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3a95220a26b7cab95e4c5a206651840e68c817de"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5720c08a32e5a716f3c5cf25dc1e4e90381da05/comments", "author": null, "committer": null, "parents": [{"sha": "1e3cabd45d499652abc3bfe28f82a363ed70390d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e3cabd45d499652abc3bfe28f82a363ed70390d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e3cabd45d499652abc3bfe28f82a363ed70390d"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "5e8372658b21f6cb5a7f199066863caff678f209", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5720c08a32e5a716f3c5cf25dc1e4e90381da05/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5720c08a32e5a716f3c5cf25dc1e4e90381da05/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "patch": "@@ -1,3 +1,8 @@\n+2020-05-09  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/trans.c (Attribute_to_gnu) <Attr_Access>: Assert that\n+\tthe prefix is not a type.\n+\n 2020-05-09  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/ada-tree.h (TYPE_PACKED_ARRAY_TYPE_P): Rename into..."}, {"sha": "48c038049565ced364101fa7e40220c2810d4e4a", "filename": "gcc/ada/gcc-interface/trans.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a5720c08a32e5a716f3c5cf25dc1e4e90381da05/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a5720c08a32e5a716f3c5cf25dc1e4e90381da05/gcc%2Fada%2Fgcc-interface%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Ftrans.c?ref=a5720c08a32e5a716f3c5cf25dc1e4e90381da05", "patch": "@@ -2302,6 +2302,9 @@ Attribute_to_gnu (Node_Id gnat_node, tree *gnu_result_type_p, int attribute)\n     case Attr_Access:\n     case Attr_Unchecked_Access:\n     case Attr_Code_Address:\n+      /* Taking the address of a type does not make sense.  */\n+      gcc_assert (TREE_CODE (gnu_prefix) != TYPE_DECL);\n+\n       gnu_result_type = get_unpadded_type (Etype (gnat_node));\n       gnu_result\n \t= build_unary_op (((attribute == Attr_Address"}]}