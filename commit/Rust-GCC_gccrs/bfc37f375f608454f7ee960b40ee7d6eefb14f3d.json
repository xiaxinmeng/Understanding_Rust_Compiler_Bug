{"sha": "bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZjMzdmMzc1ZjYwODQ1NGY3ZWU5NjBiNDBlZTdkNmVlZmIxNGYzZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-04-27T13:22:35Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2017-04-27T13:22:35Z"}, "message": "[multiple changes]\n\n2017-04-27  Yannick Moy  <moy@adacore.com>\n\n\t* gnat1drv.adb (Adjust_Global_Switches): Issue\n\ta warning in GNATprove mode if the runtime library does not\n\tsupport IEEE-754 floats.\n\n2017-04-27  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_prag.adb (Inherit_Class_Wide_Pre): If the parent operation\n\tis itself inherited it does not carry any contract information,\n\tso examine its parent operation which is its Alias.\n\nFrom-SVN: r247332", "tree": {"sha": "210ef3038dbcebc06fa981634abf2c43db15e559", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/210ef3038dbcebc06fa981634abf2c43db15e559"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/comments", "author": null, "committer": null, "parents": [{"sha": "9dd8f36f2310db400fde9ca4b55ebb7791f50ec0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9dd8f36f2310db400fde9ca4b55ebb7791f50ec0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9dd8f36f2310db400fde9ca4b55ebb7791f50ec0"}], "stats": {"total": 43, "additions": 41, "deletions": 2}, "files": [{"sha": "7c4293d27c605db0be3b6e75d3f4386c34b4b622", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "patch": "@@ -1,3 +1,15 @@\n+2017-04-27  Yannick Moy  <moy@adacore.com>\n+\n+\t* gnat1drv.adb (Adjust_Global_Switches): Issue\n+\ta warning in GNATprove mode if the runtime library does not\n+\tsupport IEEE-754 floats.\n+\n+2017-04-27  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_prag.adb (Inherit_Class_Wide_Pre): If the parent operation\n+\tis itself inherited it does not carry any contract information,\n+\tso examine its parent operation which is its Alias.\n+\n 2017-04-27  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_attr.adb (Analyze_Attribute, case 'Image): In Ada2012 the"}, {"sha": "863f227bb0834ff4a3885f2dd80d0b33ee73492d", "filename": "gcc/ada/gnat1drv.adb", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2Fgnat1drv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2Fgnat1drv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat1drv.adb?ref=bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "patch": "@@ -496,6 +496,30 @@ procedure Gnat1drv is\n          --  which is more complex to formally verify than the original source.\n \n          Tagged_Type_Expansion := False;\n+\n+         --  Detect that the runtime library support for floating-point numbers\n+         --  may not be compatible with SPARK analysis of IEEE-754 floats.\n+\n+         if Denorm_On_Target = False then\n+            Write_Line\n+              (\"warning: Run-time library may be configured incorrectly\");\n+            Write_Line\n+              (\"warning: \"\n+               & \"(SPARK analysis requires support for float subnormals)\");\n+\n+         elsif Machine_Rounds_On_Target = False then\n+            Write_Line\n+              (\"warning: Run-time library may be configured incorrectly\");\n+            Write_Line\n+              (\"warning: \"\n+               & \"(SPARK analysis requires support for float rounding)\");\n+\n+         elsif Signed_Zeros_On_Target = False then\n+            Write_Line\n+              (\"warning: Run-time library may be configured incorrectly\");\n+            Write_Line\n+              (\"warning: (SPARK analysis requires support for signed zeros)\");\n+         end if;\n       end if;\n \n       --  Set Configurable_Run_Time mode if system.ads flag set or if the"}, {"sha": "5e90f7b15a0cd9f8cab4ad2b1df6cf2d1489618e", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfc37f375f608454f7ee960b40ee7d6eefb14f3d/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=bfc37f375f608454f7ee960b40ee7d6eefb14f3d", "patch": "@@ -4232,9 +4232,12 @@ package body Sem_Prag is\n \n                --  For a type derived from a generic formal type, the operation\n                --  inheriting the condition is a renaming, not an overriding of\n-               --  the operation of the formal.\n+               --  the operation of the formal. Ditto for an inherited\n+               --  operation which has no explicit contracts.\n \n-               if Is_Generic_Type (Find_Dispatching_Type (Prev)) then\n+               if Is_Generic_Type (Find_Dispatching_Type (Prev))\n+                 or else not Comes_From_Source (Prev)\n+               then\n                   Prev := Alias (Prev);\n                else\n                   Prev := Overridden_Operation (Prev);"}]}