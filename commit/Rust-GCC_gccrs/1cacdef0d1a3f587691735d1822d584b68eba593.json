{"sha": "1cacdef0d1a3f587691735d1822d584b68eba593", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNhY2RlZjBkMWEzZjU4NzY5MTczNWQxODIyZDU4NGI2OGViYTU5Mw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-31T16:08:00Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-31T16:38:27Z"}, "message": "libstdc++: Fix broken autoconf check for O_NONBLOCK\n\nSigned-off-by: Jonathan Wakely <jwakely@redhat.com>\n\nlibstdc++-v3/ChangeLog:\n\n\t* configure.ac: Fix checks for F_GETFL, F_SETFL and O_NONBLOCK.\n\t* configure: Regenerate.", "tree": {"sha": "4ff10b11ca1796ff94c50019f30fc540d3038c60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ff10b11ca1796ff94c50019f30fc540d3038c60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1cacdef0d1a3f587691735d1822d584b68eba593", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cacdef0d1a3f587691735d1822d584b68eba593", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1cacdef0d1a3f587691735d1822d584b68eba593", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1cacdef0d1a3f587691735d1822d584b68eba593/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f63e86f797d82772c62a7475dbc6e881727b666f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f63e86f797d82772c62a7475dbc6e881727b666f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f63e86f797d82772c62a7475dbc6e881727b666f"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "13d52eb0c0ea2d6906dcd9dbcc5178ec8b3048e2", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cacdef0d1a3f587691735d1822d584b68eba593/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cacdef0d1a3f587691735d1822d584b68eba593/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=1cacdef0d1a3f587691735d1822d584b68eba593", "patch": "@@ -76660,20 +76660,20 @@ fi\n \n done\n \n-ac_fn_c_check_decl \"$LINENO\" \"F_GETFL\" \"ac_cv_have_decl_F_GETFL\" \"fcntl.h\n+ac_fn_c_check_decl \"$LINENO\" \"F_GETFL\" \"ac_cv_have_decl_F_GETFL\" \"#include <fcntl.h>\n \"\n if test \"x$ac_cv_have_decl_F_GETFL\" = xyes; then :\n \n fi\n \n-ac_fn_c_check_decl \"$LINENO\" \"F_SETFL\" \"ac_cv_have_decl_F_SETFL\" \"fcntl.h\n+ac_fn_c_check_decl \"$LINENO\" \"F_SETFL\" \"ac_cv_have_decl_F_SETFL\" \"#include <fcntl.h>\n \"\n if test \"x$ac_cv_have_decl_F_SETFL\" = xyes; then :\n \n fi\n \n-if  \"$ac_cv_have_decl_F_GETFL$ac_cv_have_decl_F_SETFL\" = 11 ; then\n-  ac_fn_c_check_decl \"$LINENO\" \"O_NONBLOCK\" \"ac_cv_have_decl_O_NONBLOCK\" \"fcntl.h\n+if test \"$ac_cv_have_decl_F_GETFL$ac_cv_have_decl_F_SETFL\" = yesyes ; then\n+  ac_fn_c_check_decl \"$LINENO\" \"O_NONBLOCK\" \"ac_cv_have_decl_O_NONBLOCK\" \"#include <fcntl.h>\n \"\n if test \"x$ac_cv_have_decl_O_NONBLOCK\" = xyes; then :\n "}, {"sha": "2d68b3672b9631a8bbf20b409724574e64c68fda", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1cacdef0d1a3f587691735d1822d584b68eba593/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1cacdef0d1a3f587691735d1822d584b68eba593/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=1cacdef0d1a3f587691735d1822d584b68eba593", "patch": "@@ -481,10 +481,10 @@ GLIBCXX_CHECK_FILESYSTEM_DEPS\n \n # For Networking TS.\n AC_CHECK_HEADERS([fcntl.h sys/ioctl.h sys/socket.h sys/uio.h poll.h netdb.h arpa/inet.h netinet/in.h netinet/tcp.h])\n-AC_CHECK_DECL(F_GETFL,[],[],[fcntl.h])\n-AC_CHECK_DECL(F_SETFL,[],[],[fcntl.h])\n-if [ \"$ac_cv_have_decl_F_GETFL$ac_cv_have_decl_F_SETFL\" = 11 ]; then\n-  AC_CHECK_DECL(O_NONBLOCK,[],[],[fcntl.h])\n+AC_CHECK_DECL(F_GETFL,,,[#include <fcntl.h>])\n+AC_CHECK_DECL(F_SETFL,,,[#include <fcntl.h>])\n+if test \"$ac_cv_have_decl_F_GETFL$ac_cv_have_decl_F_SETFL\" = yesyes ; then\n+  AC_CHECK_DECL(O_NONBLOCK,,,[#include <fcntl.h>])\n fi\n \n # For Transactional Memory TS"}]}