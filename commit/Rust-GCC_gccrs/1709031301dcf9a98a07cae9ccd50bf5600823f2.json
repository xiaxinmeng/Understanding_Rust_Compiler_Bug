{"sha": "1709031301dcf9a98a07cae9ccd50bf5600823f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTcwOTAzMTMwMWRjZjlhOThhMDdjYWU5Y2NkNTBiZjU2MDA4MjNmMg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@cygnus.com", "date": "2000-04-06T06:48:16Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2000-04-06T06:48:16Z"}, "message": "configure.in (enable_libstdcxx_v3): Add.\n\n\n2000-04-05  Benjamin Kosnik  <bkoz@cygnus.com>\n            Martin v. Loewis  <martin@loewis.home.cs.tu-berlin.de>\n\n        * configure.in (enable_libstdcxx_v3): Add.\n        (target_libs): Add bits here to switch between libstdc++-v2 and\n        libstdc++-v3.\n        * config.if: And this file too.\n        * Makefile.in: Add libstdc++-v3 targets.\n\nCo-Authored-By: Martin v. Loewis <martin@loewis.home.cs.tu-berlin.de>\n\nFrom-SVN: r32963", "tree": {"sha": "0583b6ece3366cf1121c1d59629218e38f50a7c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0583b6ece3366cf1121c1d59629218e38f50a7c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1709031301dcf9a98a07cae9ccd50bf5600823f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1709031301dcf9a98a07cae9ccd50bf5600823f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1709031301dcf9a98a07cae9ccd50bf5600823f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1709031301dcf9a98a07cae9ccd50bf5600823f2/comments", "author": null, "committer": null, "parents": [{"sha": "7822500a66b4885ed39708bf3aeb71e1f7eb4315", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7822500a66b4885ed39708bf3aeb71e1f7eb4315", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7822500a66b4885ed39708bf3aeb71e1f7eb4315"}], "stats": {"total": 55, "additions": 42, "deletions": 13}, "files": [{"sha": "3a982e81c8dc4300a301e70cb20d8205bbbbfb53", "filename": "ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1709031301dcf9a98a07cae9ccd50bf5600823f2/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1709031301dcf9a98a07cae9ccd50bf5600823f2/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=1709031301dcf9a98a07cae9ccd50bf5600823f2", "patch": "@@ -1,3 +1,12 @@\n+2000-04-05  Benjamin Kosnik  <bkoz@cygnus.com>\n+            Martin v. Loewis  <martin@loewis.home.cs.tu-berlin.de>\n+\n+        * configure.in (enable_libstdcxx_v3): Add.\n+        (target_libs): Add bits here to switch between libstdc++-v2 and\n+        libstdc++-v3.\n+        * config.if: And this file too.\n+        * Makefile.in: Add libstdc++-v3 targets.\n+\t\n 2000-04-05  Michael Meissner  <meissner@redhat.com>\n \n \t* config.sub (d30v): Add d30v as a basic machine type."}, {"sha": "40569591fe6b14fa480d0a4030bfdbdb6b5d7ce0", "filename": "Makefile.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1709031301dcf9a98a07cae9ccd50bf5600823f2/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1709031301dcf9a98a07cae9ccd50bf5600823f2/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=1709031301dcf9a98a07cae9ccd50bf5600823f2", "patch": "@@ -772,6 +772,7 @@ INSTALL_X11_MODULES = \\\n ALL_TARGET_MODULES = \\\n \tall-target-libio \\\n \tall-target-libstdc++ \\\n+\tall-target-libstdc++-v3 \\\n \tall-target-librx \\\n \tall-target-libg++ \\\n \tall-target-newlib \\\n@@ -795,6 +796,7 @@ ALL_TARGET_MODULES = \\\n CONFIGURE_TARGET_MODULES = \\\n \tconfigure-target-libio \\\n \tconfigure-target-libstdc++ \\\n+\tconfigure-target-libstdc++-v3 \\\n \tconfigure-target-librx \\\n \tconfigure-target-libg++ \\\n \tconfigure-target-newlib \\\n@@ -818,6 +820,7 @@ CONFIGURE_TARGET_MODULES = \\\n CHECK_TARGET_MODULES = \\\n \tcheck-target-libio \\\n \tcheck-target-libstdc++ \\\n+\tcheck-target-libstdc++-v3 \\\n \tcheck-target-libg++ \\\n \tcheck-target-newlib \\\n \tcheck-target-libf2c \\\n@@ -836,6 +839,7 @@ CHECK_TARGET_MODULES = \\\n INSTALL_TARGET_MODULES = \\\n \tinstall-target-libio \\\n \tinstall-target-libstdc++ \\\n+\tinstall-target-libstdc++-v3 \\\n \tinstall-target-libg++ \\\n \tinstall-target-newlib \\\n \tinstall-target-libf2c \\\n@@ -922,6 +926,7 @@ CLEAN_MODULES = \\\n CLEAN_TARGET_MODULES = \\\n \tclean-target-libio \\\n \tclean-target-libstdc++ \\\n+\tclean-target-libstdc++-v3 \\\n \tclean-target-librx \\\n \tclean-target-libg++ \\\n \tclean-target-newlib \\\n@@ -1634,7 +1639,9 @@ all-target-libjava: configure-target-libjava all-gcc all-zip all-target-newlib a\n configure-target-librx: $(ALL_GCC) configure-target-newlib\n all-target-librx: configure-target-librx\n configure-target-libstdc++: $(ALL_GCC)\n+configure-target-libstdc++-v3: $(ALL_GCC)\n all-target-libstdc++: configure-target-libstdc++ all-gas all-ld all-gcc all-target-libiberty all-target-newlib all-target-libio\n+all-target-libstdc++-v3: configure-target-libstdc++-v3 all-gas all-ld all-gcc all-target-libiberty all-target-newlib \n configure-target-libstub: $(ALL_GCC)\n all-target-libstub: configure-target-libstub\n all-libtool:"}, {"sha": "f8e086de2a888891b89ee789f2e7c04f23e14393", "filename": "config.if", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1709031301dcf9a98a07cae9ccd50bf5600823f2/config.if", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1709031301dcf9a98a07cae9ccd50bf5600823f2/config.if", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config.if?ref=1709031301dcf9a98a07cae9ccd50bf5600823f2", "patch": "@@ -21,9 +21,16 @@ else\n   if_topsrcdir=${top_srcdir}\n fi\n \n-if [ -f ${if_topsrcdir}/libstdc++/Makefile.in ]; then\n+if [ \"${enable_libstdcxx_v3}\" = \"yes\" ] ; then\n+  libstdcxx_srcdir=${if_topsrcdir}/libstdc++-v3\n+else\n+  libstdcxx_srcdir=${if_topsrcdir}/libstdc++\n+fi\n+\n+echo \"${libstdcxx_srcdir} is where\"\n+if [ -f ${libstdcxx_srcdir}/Makefile.in ]; then\n # We check libstdc++ for libstdcxx_interface.\n-libstdcxx_interface=`grep \"^INTERFACE\" ${if_topsrcdir}/libstdc++/Makefile.in | sed 's/INTERFACE[ \t]*=[ \t]*\\(.*\\)/\\1/'`\n+libstdcxx_interface=`grep \"^INTERFACE\" ${libstdcxx_srcdir}/Makefile.in | sed 's/INTERFACE[ \t]*=[ \t]*\\(.*\\)/\\1/'`\n else\n libstdcxx_interface=\n fi"}, {"sha": "c8431d71452b4303ca5a239875150fd97d8d7e03", "filename": "configure.in", "status": "modified", "additions": 17, "deletions": 11, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1709031301dcf9a98a07cae9ccd50bf5600823f2/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1709031301dcf9a98a07cae9ccd50bf5600823f2/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=1709031301dcf9a98a07cae9ccd50bf5600823f2", "patch": "@@ -47,6 +47,13 @@ if [ \"${enable_gdbgui}\" = \"yes\" ] ; then\n \thost_libs=\"${host_libs} libgui\"\n fi\n \n+# Set up configure/Makefile variables if libstdc++-v3 is to be built.\n+if [ \"${enable_libstdcxx_v3}\" = \"yes\" ] ; then\n+        libstdcxx_version=\"target-libstdc++-v3\"\n+else\n+        libstdcxx_version=\"target-libio target-libstdc++\"\n+fi\n+\n # these tools are built for the host environment\n # Note, the powerpc-eabi build depends on sim occurring before gdb in order to\n # know that we are building the simulator.\n@@ -59,9 +66,8 @@ host_tools=\"texinfo byacc flex bison binutils ld gas gcc sim gdb make patch prms\n target_libs=\"target-libiberty \\\n \t\ttarget-libgloss \\\n \t\ttarget-newlib \\\n-\t\ttarget-libio \\\n+\t\t${libstdcxx_version} \\\n \t\ttarget-librx \\\n-\t\ttarget-libstdc++ \\\n \t\ttarget-libg++ \\\n \t\ttarget-libf2c \\\n \t\ttarget-libchill \\\n@@ -561,7 +567,7 @@ esac\n \n case \"${target}\" in\n   *-*-netware)\n-    noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-librx target-newlib target-libiberty target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-newlib target-libiberty target-libgloss\"\n     ;;\n   *-*-rtems*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n@@ -598,11 +604,11 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs tcl tix tk itcl libgui sim\"\n     noconfigdirs=\"$noconfigdirs expect dejagnu\"\n     # the C++ libraries don't build on top of CE's C libraries\n-    noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-libio\"\n+    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version}\"\n     skipdirs=\"$skipdirs target-newlib\"\n     case \"${host}\" in\n       *-*-cygwin*) ;; # keep gdb and readline\n-      *) noconfigdirs=\"$noconfigdirs gdb readline target-libio target-libstdc++ target-libg++\"\n+      *) noconfigdirs=\"$noconfigdirs gdb readline ${libstdcxx_version} target-libg++\"\n \t ;;\n     esac\n     ;;\n@@ -625,7 +631,7 @@ case \"${target}\" in\n     fi\n     ;;\n   c4x-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-libio target-librx target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version}  target-librx target-libgloss\"\n     ;;\n   thumb-*-coff)\n     noconfigdirs=\"$noconfigdirs target-libgloss\"\n@@ -634,7 +640,7 @@ case \"${target}\" in\n     noconfigdirs=\"$noconfigdirs ld target-libgloss\"\n     ;;\n   d10v-*-*)\n-    noconfigdirs=\"$noconfigdirs target-librx target-libg++ target-libstdc++ target-libio target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-librx target-libg++ ${libstdcxx_version} target-libgloss\"\n     ;;\n   fr30-*-elf*)\n     if [ x${is_cross_compiler} != xno ] ; then\n@@ -643,7 +649,7 @@ case \"${target}\" in\n     ;;\n   h8300*-*-* | \\\n   h8500-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-libio target-librx target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version}  target-librx target-libgloss\"\n     ;;\n   hppa*-*-*elf* | \\\n   hppa*-*-lites*)\n@@ -661,7 +667,7 @@ case \"${target}\" in\n     ;;\n   i[3456]86-*-go32* | i[3456]-*-msdosdjgpp*)\n     # but don't build gdb\n-    noconfigdirs=\"$noconfigdirs gdb target-libg++ target-libstdc++ target-libio target-librx\"\n+    noconfigdirs=\"$noconfigdirs gdb target-libg++ ${libstdcxx_version} target-librx\"\n     ;;\n   *-*-linux*)\n     # linux has rx in libc\n@@ -692,7 +698,7 @@ case \"${target}\" in\n     esac\n     ;;    \n   i[3456]86-*-pe)\n-    noconfigdirs=\"$noconfigdirs target-libg++ target-libstdc++ target-libio target-librx target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs target-libg++ ${libstdcxx_version} target-librx target-libgloss\"\n     ;;\n   i[3456]86-*-sco3.2v5*)\n     # The linker does not yet know about weak symbols in COFF,\n@@ -831,7 +837,7 @@ case \"${target}\" in\n     fi\n     ;;\n   v810-*-*)\n-    noconfigdirs=\"$noconfigdirs bfd binutils gas gcc gdb ld target-libio target-libg++ target-libstdc++ opcodes target-libgloss\"\n+    noconfigdirs=\"$noconfigdirs bfd binutils gas gcc gdb ld ${libstdcxx_version} target-libg++ opcodes target-libgloss\"\n     ;;\n   v850-*-*)\n     noconfigdirs=\"$noconfigdirs target-libgloss\""}]}