{"sha": "bbbf49551a0b414d679cba3a24fec5513e0c78ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJiZjQ5NTUxYTBiNDE0ZDY3OWNiYTNhMjRmZWM1NTEzZTBjNzhiYQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2005-02-15T17:17:44Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2005-02-15T17:17:44Z"}, "message": "Makefile.am (libgcj_la_SOURCES): Move all sources ...\n\n        * Makefile.am (libgcj_la_SOURCES): Move all sources ...\n        (libgcj0_convenience_la_SOURCES): ... here.\n        (libgcj_la_LIBADD): Add libgcj0_convenience.la.\n        (libgcj_la_DEPENDENCIES): Include libgcj_la_LIBADD.\n        * Makefile.in: Regenerate.\n\nFrom-SVN: r95066", "tree": {"sha": "7b7d9402f3fe641f15b138ae6861dbfbbd1aafae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7b7d9402f3fe641f15b138ae6861dbfbbd1aafae"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbbf49551a0b414d679cba3a24fec5513e0c78ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbbf49551a0b414d679cba3a24fec5513e0c78ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbbf49551a0b414d679cba3a24fec5513e0c78ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbbf49551a0b414d679cba3a24fec5513e0c78ba/comments", "author": null, "committer": null, "parents": [{"sha": "073aa601932174c64c4bf8654c414d96053ac4c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/073aa601932174c64c4bf8654c414d96053ac4c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/073aa601932174c64c4bf8654c414d96053ac4c8"}], "stats": {"total": 111, "additions": 76, "deletions": 35}, "files": [{"sha": "fa70cfc28548f29f17ba7b03ad3f6e71f2e46180", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=bbbf49551a0b414d679cba3a24fec5513e0c78ba", "patch": "@@ -1,3 +1,11 @@\n+2005-02-15  Richard Henderson  <rth@redhat.com>\n+\n+\t* Makefile.am (libgcj_la_SOURCES): Move all sources ...\n+\t(libgcj0_convenience_la_SOURCES): ... here.\n+\t(libgcj_la_LIBADD): Add libgcj0_convenience.la.\n+\t(libgcj_la_DEPENDENCIES): Include libgcj_la_LIBADD.\n+\t* Makefile.in: Regenerate.\n+\n 2005-02-14  Thomas Fitzsimmons  <fitzsim@redhat.com>\n \n \t* jawt.c: New file."}, {"sha": "03e3450c10e786c4fb40d12374a96fcceed7486e", "filename": "libjava/Makefile.am", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=bbbf49551a0b414d679cba3a24fec5513e0c78ba", "patch": "@@ -213,7 +213,11 @@ libgij_la_LIBADD = -L$(here)/.libs libgcj.la\n libgij_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n         -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC)\n \n-libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n+# Work around libtool wanting to do piece-wise linking with -r.  Using a\n+# convenience library suddenly invokes the --whole-archive path instead.\n+# This allows the build to succeed for targets that allocate multiple got\n+# subsections in the linker, such as Alpha and MIPS.\n+libgcj0_convenience_la_SOURCES = prims.cc jni.cc exception.cc \\\n \tlink.cc defineclass.cc interpret.cc verify.cc \\\n \t$(nat_source_files) $(math_c_source_files) $(java_source_files) \\\n \t$(gnu_xml_source_files) $(built_java_source_files) \\\n@@ -222,9 +226,9 @@ libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n \t$(POSIX_PLATFORM_SRC) $(WIN32_PLATFORM_SRC) $(ECOS_PLATFORM_SRC) \\\n \t$(DARWIN_CRT_SRC) \\\n \t$(POSIX_THREAD_SRC) $(WIN32_THREAD_SRC) $(NO_THREAD_SRC)\n-libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar \\\n-\tjava/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h \\\n-\t$(LIBLTDL) $(LIBFFI) $(ZLIBS) $(GCLIBS) $(propertyo_files)\n+noinst_LTLIBRARIES = libgcj0_convenience.la\n+\n+libgcj_la_SOURCES =\n \n ## Objects from C++ sources in subdirs.\n nat_files = $(nat_source_files:.cc=.lo)\n@@ -239,7 +243,11 @@ libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) $(THREADLDFLAGS) $(THREADLIBS) \\\n libgcj_la_LIBADD = \\\n \texternal/sax/libsax_convenience.la \\\n \texternal/w3c_dom/libw3c_convenience.la \\\n+\tlibgcj0_convenience.la \\\n \t$(LIBFFI) $(ZLIBS) $(GCLIBS) $(propertyo_files)\n+libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar \\\n+\tjava/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h \\\n+\t$(libgcj_la_LIBADD)\n libgcj_la_LINK = $(LIBLINK)\n \n # Gtk/Cairo JNI sources."}, {"sha": "7b311587ccad06327fde4ff612ff591ed4f7101d", "filename": "libjava/Makefile.in", "status": "modified", "additions": 56, "deletions": 31, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbbf49551a0b414d679cba3a24fec5513e0c78ba/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=bbbf49551a0b414d679cba3a24fec5513e0c78ba", "patch": "@@ -17,7 +17,7 @@\n \n \n \n-SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) $(lib_gnu_java_awt_peer_gtk_la_SOURCES) $(libgcj_la_SOURCES) $(libgij_la_SOURCES) $(libjawt_la_SOURCES) $(gcj_dbtool_SOURCES) $(gen_from_JIS_SOURCES) $(gij_SOURCES) $(grmic_SOURCES) $(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n+SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) $(lib_gnu_java_awt_peer_gtk_la_SOURCES) $(libgcj_la_SOURCES) $(libgcj0_convenience_la_SOURCES) $(libgij_la_SOURCES) $(libjawt_la_SOURCES) $(gcj_dbtool_SOURCES) $(gen_from_JIS_SOURCES) $(gij_SOURCES) $(grmic_SOURCES) $(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n \n srcdir = @srcdir@\n top_srcdir = @top_srcdir@\n@@ -95,7 +95,7 @@ am__installdirs = \"$(DESTDIR)$(toolexeclibdir)\" \"$(DESTDIR)$(bindir)\" \\\n \t\"$(DESTDIR)$(bindir)\" \"$(DESTDIR)$(jardir)\" \\\n \t\"$(DESTDIR)$(pkgconfigdir)\" \"$(DESTDIR)$(toolexecmainlibdir)\"\n toolexeclibLTLIBRARIES_INSTALL = $(INSTALL)\n-LTLIBRARIES = $(toolexeclib_LTLIBRARIES)\n+LTLIBRARIES = $(noinst_LTLIBRARIES) $(toolexeclib_LTLIBRARIES)\n am__dirstamp = $(am__leading_dot)dirstamp\n am__objects_1 = gnu/gcj/xlib/Clip.lo gnu/gcj/xlib/Colormap.lo \\\n \tgnu/gcj/xlib/Display.lo gnu/gcj/xlib/Drawable.lo \\\n@@ -327,9 +327,12 @@ am__DEPENDENCIES_2 = gnu/regexp/MessagesBundle.properties.lo \\\n \tgnu/regexp/MessagesBundle_fr.properties.lo \\\n \torg/ietf/jgss/MessagesBundle.properties.lo\n am__DEPENDENCIES_3 = $(am__DEPENDENCIES_2)\n-am__libgcj_la_SOURCES_DIST = prims.cc jni.cc exception.cc link.cc \\\n-\tdefineclass.cc interpret.cc verify.cc gnu/gcj/natCore.cc \\\n-\tgnu/gcj/convert/JIS0208_to_Unicode.cc \\\n+am_libgcj_la_OBJECTS =\n+libgcj_la_OBJECTS = $(am_libgcj_la_OBJECTS)\n+libgcj0_convenience_la_LIBADD =\n+am__libgcj0_convenience_la_SOURCES_DIST = prims.cc jni.cc exception.cc \\\n+\tlink.cc defineclass.cc interpret.cc verify.cc \\\n+\tgnu/gcj/natCore.cc gnu/gcj/convert/JIS0208_to_Unicode.cc \\\n \tgnu/gcj/convert/JIS0212_to_Unicode.cc \\\n \tgnu/gcj/convert/Unicode_to_JIS.cc gnu/gcj/convert/natIconv.cc \\\n \tgnu/gcj/convert/natInput_EUCJIS.cc \\\n@@ -4586,14 +4589,14 @@ am__objects_18 = java/lang/ConcreteProcess.lo \\\n @USING_POSIX_THREADS_TRUE@am__objects_26 = posix-threads.lo\n @USING_WIN32_THREADS_TRUE@am__objects_27 = win32-threads.lo\n @USING_NO_THREADS_TRUE@am__objects_28 = no-threads.lo\n-am_libgcj_la_OBJECTS = prims.lo jni.lo exception.lo link.lo \\\n-\tdefineclass.lo interpret.lo verify.lo $(am__objects_6) \\\n+am_libgcj0_convenience_la_OBJECTS = prims.lo jni.lo exception.lo \\\n+\tlink.lo defineclass.lo interpret.lo verify.lo $(am__objects_6) \\\n \t$(am__objects_7) $(am__objects_16) $(am__objects_17) \\\n \t$(am__objects_18) $(am__objects_19) $(am__objects_20) \\\n \t$(am__objects_21) $(am__objects_22) $(am__objects_23) \\\n \t$(am__objects_24) $(am__objects_25) $(am__objects_26) \\\n \t$(am__objects_27) $(am__objects_28)\n-libgcj_la_OBJECTS = $(am_libgcj_la_OBJECTS)\n+libgcj0_convenience_la_OBJECTS = $(am_libgcj0_convenience_la_OBJECTS)\n am_libgij_la_OBJECTS = gij.lo\n libgij_la_OBJECTS = $(am_libgij_la_OBJECTS)\n libjawt_la_DEPENDENCIES = lib-gnu-java-awt-peer-gtk.la\n@@ -4645,15 +4648,18 @@ LTGCJCOMPILE = $(LIBTOOL) --mode=compile $(GCJ) $(AM_GCJFLAGS) \\\n GCJLD = $(GCJ)\n SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) \\\n \t$(lib_gnu_java_awt_peer_gtk_la_SOURCES) $(libgcj_la_SOURCES) \\\n-\t$(libgij_la_SOURCES) $(libjawt_la_SOURCES) \\\n-\t$(gcj_dbtool_SOURCES) $(gen_from_JIS_SOURCES) $(gij_SOURCES) \\\n-\t$(grmic_SOURCES) $(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n+\t$(libgcj0_convenience_la_SOURCES) $(libgij_la_SOURCES) \\\n+\t$(libjawt_la_SOURCES) $(gcj_dbtool_SOURCES) \\\n+\t$(gen_from_JIS_SOURCES) $(gij_SOURCES) $(grmic_SOURCES) \\\n+\t$(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n DIST_SOURCES = $(lib_gnu_awt_xlib_la_SOURCES) \\\n \t$(am__lib_gnu_java_awt_peer_gtk_la_SOURCES_DIST) \\\n-\t$(am__libgcj_la_SOURCES_DIST) $(libgij_la_SOURCES) \\\n-\t$(libjawt_la_SOURCES) $(gcj_dbtool_SOURCES) \\\n-\t$(am__gen_from_JIS_SOURCES_DIST) $(gij_SOURCES) \\\n-\t$(grmic_SOURCES) $(grmiregistry_SOURCES) $(jv_convert_SOURCES)\n+\t$(libgcj_la_SOURCES) \\\n+\t$(am__libgcj0_convenience_la_SOURCES_DIST) \\\n+\t$(libgij_la_SOURCES) $(libjawt_la_SOURCES) \\\n+\t$(gcj_dbtool_SOURCES) $(am__gen_from_JIS_SOURCES_DIST) \\\n+\t$(gij_SOURCES) $(grmic_SOURCES) $(grmiregistry_SOURCES) \\\n+\t$(jv_convert_SOURCES)\n RECURSIVE_TARGETS = all-recursive check-recursive dvi-recursive \\\n \thtml-recursive info-recursive install-data-recursive \\\n \tinstall-exec-recursive install-info-recursive \\\n@@ -4994,7 +5000,12 @@ libgij_la_LIBADD = -L$(here)/.libs libgcj.la\n libgij_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n         -version-info `grep -v '^\\#' $(srcdir)/libtool-version` $(LIBGCJ_LD_SYMBOLIC)\n \n-libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n+\n+# Work around libtool wanting to do piece-wise linking with -r.  Using a\n+# convenience library suddenly invokes the --whole-archive path instead.\n+# This allows the build to succeed for targets that allocate multiple got\n+# subsections in the linker, such as Alpha and MIPS.\n+libgcj0_convenience_la_SOURCES = prims.cc jni.cc exception.cc \\\n \tlink.cc defineclass.cc interpret.cc verify.cc \\\n \t$(nat_source_files) $(math_c_source_files) $(java_source_files) \\\n \t$(gnu_xml_source_files) $(built_java_source_files) \\\n@@ -5004,10 +5015,8 @@ libgcj_la_SOURCES = prims.cc jni.cc exception.cc \\\n \t$(DARWIN_CRT_SRC) \\\n \t$(POSIX_THREAD_SRC) $(WIN32_THREAD_SRC) $(NO_THREAD_SRC)\n \n-libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar \\\n-\tjava/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h \\\n-\t$(LIBLTDL) $(LIBFFI) $(ZLIBS) $(GCLIBS) $(propertyo_files)\n-\n+noinst_LTLIBRARIES = libgcj0_convenience.la\n+libgcj_la_SOURCES = \n nat_files = $(nat_source_files:.cc=.lo)\n xlib_nat_files = $(xlib_nat_source_files:.cc=.lo)\n \n@@ -5020,8 +5029,13 @@ libgcj_la_LDFLAGS = -rpath $(toolexeclibdir) $(THREADLDFLAGS) $(THREADLIBS) \\\n libgcj_la_LIBADD = \\\n \texternal/sax/libsax_convenience.la \\\n \texternal/w3c_dom/libw3c_convenience.la \\\n+\tlibgcj0_convenience.la \\\n \t$(LIBFFI) $(ZLIBS) $(GCLIBS) $(propertyo_files)\n \n+libgcj_la_DEPENDENCIES = libgcj-@gcc_version@.jar \\\n+\tjava/lang/fdlibm.h java/lang/ieeefp.h java/lang/mprec.h \\\n+\t$(libgcj_la_LIBADD)\n+\n libgcj_la_LINK = $(LIBLINK)\n @GTK_CAIRO_FALSE@gtk_cairo_c_source_files = \n \n@@ -8023,6 +8037,15 @@ libgcj-test.spec: $(top_builddir)/config.status $(srcdir)/libgcj-test.spec.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n gnu/classpath/Configuration.java: $(top_builddir)/config.status $(top_srcdir)/gnu/classpath/Configuration.java.in\n \tcd $(top_builddir) && $(SHELL) ./config.status $@\n+\n+clean-noinstLTLIBRARIES:\n+\t-test -z \"$(noinst_LTLIBRARIES)\" || rm -f $(noinst_LTLIBRARIES)\n+\t@list='$(noinst_LTLIBRARIES)'; for p in $$list; do \\\n+\t  dir=\"`echo $$p | sed -e 's|/[^/]*$$||'`\"; \\\n+\t  test \"$$dir\" != \"$$p\" || dir=.; \\\n+\t  echo \"rm -f \\\"$${dir}/so_locations\\\"\"; \\\n+\t  rm -f \"$${dir}/so_locations\"; \\\n+\tdone\n install-toolexeclibLTLIBRARIES: $(toolexeclib_LTLIBRARIES)\n \t@$(NORMAL_INSTALL)\n \ttest -z \"$(toolexeclibdir)\" || $(mkdir_p) \"$(DESTDIR)$(toolexeclibdir)\"\n@@ -15648,6 +15671,8 @@ sysdep/$(DEPDIR)/$(am__dirstamp):\n \t@: > sysdep/$(DEPDIR)/$(am__dirstamp)\n sysdep/dwarf2-backtrace.lo: sysdep/$(am__dirstamp) \\\n \tsysdep/$(DEPDIR)/$(am__dirstamp)\n+libgcj0_convenience.la: $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_DEPENDENCIES) \n+\t$(GCJLINK)  $(libgcj0_convenience_la_LDFLAGS) $(libgcj0_convenience_la_OBJECTS) $(libgcj0_convenience_la_LIBADD) $(LIBS)\n libgij.la: $(libgij_la_OBJECTS) $(libgij_la_DEPENDENCIES) \n \t$(CXXLINK) -rpath $(toolexeclibdir) $(libgij_la_LDFLAGS) $(libgij_la_OBJECTS) $(libgij_la_LIBADD) $(LIBS)\n libjawt.la: $(libjawt_la_OBJECTS) $(libjawt_la_DEPENDENCIES) \n@@ -25716,8 +25741,8 @@ maintainer-clean-generic:\n clean: clean-recursive\n \n clean-am: clean-binPROGRAMS clean-generic clean-libtool clean-local \\\n-\tclean-noinstPROGRAMS clean-toolexeclibLTLIBRARIES \\\n-\tmostlyclean-am\n+\tclean-noinstLTLIBRARIES clean-noinstPROGRAMS \\\n+\tclean-toolexeclibLTLIBRARIES mostlyclean-am\n \n distclean: distclean-recursive\n \t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n@@ -25776,15 +25801,15 @@ uninstall-info: uninstall-info-recursive\n \n .PHONY: $(RECURSIVE_TARGETS) CTAGS GTAGS all all-am am--refresh check \\\n \tcheck-am clean clean-binPROGRAMS clean-generic clean-libtool \\\n-\tclean-local clean-noinstPROGRAMS clean-recursive \\\n-\tclean-toolexeclibLTLIBRARIES ctags ctags-recursive dist \\\n-\tdist-all dist-bzip2 dist-gzip dist-shar dist-tarZ dist-zip \\\n-\tdistcheck distclean distclean-compile distclean-generic \\\n-\tdistclean-libtool distclean-local distclean-recursive \\\n-\tdistclean-tags distcleancheck distdir distuninstallcheck dvi \\\n-\tdvi-am html html-am info info-am install install-am \\\n-\tinstall-binPROGRAMS install-binSCRIPTS install-data \\\n-\tinstall-data-am install-data-local install-exec \\\n+\tclean-local clean-noinstLTLIBRARIES clean-noinstPROGRAMS \\\n+\tclean-recursive clean-toolexeclibLTLIBRARIES ctags \\\n+\tctags-recursive dist dist-all dist-bzip2 dist-gzip dist-shar \\\n+\tdist-tarZ dist-zip distcheck distclean distclean-compile \\\n+\tdistclean-generic distclean-libtool distclean-local \\\n+\tdistclean-recursive distclean-tags distcleancheck distdir \\\n+\tdistuninstallcheck dvi dvi-am html html-am info info-am \\\n+\tinstall install-am install-binPROGRAMS install-binSCRIPTS \\\n+\tinstall-data install-data-am install-data-local install-exec \\\n \tinstall-exec-am install-info install-info-am install-jarDATA \\\n \tinstall-man install-pkgconfigDATA install-strip \\\n \tinstall-toolexeclibLTLIBRARIES install-toolexecmainlibDATA \\"}]}