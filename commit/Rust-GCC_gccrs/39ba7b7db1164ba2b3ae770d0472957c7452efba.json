{"sha": "39ba7b7db1164ba2b3ae770d0472957c7452efba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzliYTdiN2RiMTE2NGJhMmIzYWU3NzBkMDQ3Mjk1N2M3NDUyZWZiYQ==", "commit": {"author": {"name": "Jan Beulich", "email": "jbeulich@novell.com", "date": "2009-08-28T15:22:18Z"}, "committer": {"name": "Jan Beulich", "email": "jbeulich@gcc.gnu.org", "date": "2009-08-28T15:22:18Z"}, "message": "configure.ac: For in-tree ld...\n\n2009-08-28  Jan Beulich  <jbeulich@novell.com>\n\n\t* configure.ac: For in-tree ld, do a plain version check to\n\tdetermine whether comdat groups are supported.\n\t* configure: Regenerate.\n\nFrom-SVN: r151162", "tree": {"sha": "a5fe753d35fb1728e55fd221d8599ae1b7612044", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5fe753d35fb1728e55fd221d8599ae1b7612044"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39ba7b7db1164ba2b3ae770d0472957c7452efba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39ba7b7db1164ba2b3ae770d0472957c7452efba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39ba7b7db1164ba2b3ae770d0472957c7452efba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39ba7b7db1164ba2b3ae770d0472957c7452efba/comments", "author": null, "committer": null, "parents": [{"sha": "7e49a4b3969b940d0165515374f81c0307965d45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e49a4b3969b940d0165515374f81c0307965d45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e49a4b3969b940d0165515374f81c0307965d45"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "eba4de6a0c42284cd688255b07009be8dd13e026", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39ba7b7db1164ba2b3ae770d0472957c7452efba", "patch": "@@ -1,3 +1,9 @@\n+2009-08-28  Jan Beulich  <jbeulich@novell.com>\n+\n+\t* configure.ac: For in-tree ld, do a plain version check to\n+\tdetermine whether comdat groups are supported.\n+\t* configure: Regenerate.\n+\n 2009-08-28  Olivier Hainque  <hainque@adacore.com>\n \n \t* collect2.c (DO_COLLECT_EXPORT_LIST): New internal macro,"}, {"sha": "dbc7f154a3b778d1c989832a7478ed635fa6a729", "filename": "gcc/configure", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=39ba7b7db1164ba2b3ae770d0472957c7452efba", "patch": "@@ -21294,7 +21294,13 @@ fi\n $as_echo \"$gcc_cv_as_comdat_group_percent\" >&6; }\n \n fi\n-if test $in_tree_ld != yes && test x\"$ld_vers\" != x; then\n+if test $in_tree_ld = yes ; then\n+  comdat_group=no\n+  if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 16 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n+     && test $in_tree_ld_is_elf = yes; then\n+     comdat_group=yes\n+  fi\n+elif test x\"$ld_vers\" != x; then\n   comdat_group=yes\n   if test 0\"$ld_date\" -lt 20050308; then\n     if test -n \"$ld_date\"; then"}, {"sha": "6cc94d883448887353910e3a1b19287b2aa2e586", "filename": "gcc/configure.ac", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39ba7b7db1164ba2b3ae770d0472957c7452efba/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=39ba7b7db1164ba2b3ae770d0472957c7452efba", "patch": "@@ -2393,7 +2393,13 @@ else\n    [elf,2,16,0], [--fatal-warnings],\n    [.section .text,\"axG\",%progbits,.foo,comdat])\n fi\n-if test $in_tree_ld != yes && test x\"$ld_vers\" != x; then\n+if test $in_tree_ld = yes ; then\n+  comdat_group=no\n+  if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 16 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n+     && test $in_tree_ld_is_elf = yes; then\n+     comdat_group=yes\n+  fi\n+elif test x\"$ld_vers\" != x; then\n   comdat_group=yes\n   if test 0\"$ld_date\" -lt 20050308; then\n     if test -n \"$ld_date\"; then"}]}