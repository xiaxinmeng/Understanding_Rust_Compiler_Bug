{"sha": "de907943a5e2c5c869c6af7cf7578e52172bc733", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU5MDc5NDNhNWUyYzVjODY5YzZhZjdjZjc1NzhlNTIxNzJiYzczMw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@nildram.co.uk", "date": "2008-04-17T20:20:13Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2008-04-17T20:20:13Z"}, "message": "re PR rtl-optimization/35838 (FAIL: 22_locale/num_get/get/char/16.cc execution test, and 76 others)\n\ngcc/\n\tPR rtl-optimization/35838\n\t* dse.c (find_shift_sequence): Use subreg_lowpart_offset to work\n\tout the byte offset of the first subreg.\n\nFrom-SVN: r134411", "tree": {"sha": "fd3a82b478110f82a5e0a42f3921e1aed5771e01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd3a82b478110f82a5e0a42f3921e1aed5771e01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de907943a5e2c5c869c6af7cf7578e52172bc733", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de907943a5e2c5c869c6af7cf7578e52172bc733", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de907943a5e2c5c869c6af7cf7578e52172bc733", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de907943a5e2c5c869c6af7cf7578e52172bc733/comments", "author": null, "committer": null, "parents": [{"sha": "c2b814b9ff90dbf5440b5c611cb791a403239723", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2b814b9ff90dbf5440b5c611cb791a403239723", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2b814b9ff90dbf5440b5c611cb791a403239723"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "9e5fcfa4f81baf1b0c1009ebb35e82787c1259f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de907943a5e2c5c869c6af7cf7578e52172bc733/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de907943a5e2c5c869c6af7cf7578e52172bc733/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de907943a5e2c5c869c6af7cf7578e52172bc733", "patch": "@@ -1,3 +1,9 @@\n+2008-04-17  Richard Sandiford  <rsandifo@nildram.co.uk>\n+\n+\tPR rtl-optimization/35838\n+\t* dse.c (find_shift_sequence): Use subreg_lowpart_offset to work\n+\tout the byte offset of the first subreg.\n+\n 2008-04-17  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.md (addti3 splitter): Pass arrays of 3 operands"}, {"sha": "9d19b7071eec4bd40929026bc8ec8b03a0c436f5", "filename": "gcc/dse.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de907943a5e2c5c869c6af7cf7578e52172bc733/gcc%2Fdse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de907943a5e2c5c869c6af7cf7578e52172bc733/gcc%2Fdse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdse.c?ref=de907943a5e2c5c869c6af7cf7578e52172bc733", "patch": "@@ -1446,7 +1446,7 @@ find_shift_sequence (int access_size,\n        new_mode = GET_MODE_WIDER_MODE (new_mode))\n     {\n       rtx target, new_reg, shift_seq, insn, new_lhs;\n-      int cost;\n+      int cost, offset;\n \n       /* Try a wider mode if truncating the store mode to NEW_MODE\n \t requires a real instruction.  */\n@@ -1460,8 +1460,9 @@ find_shift_sequence (int access_size,\n       if (!CONSTANT_P (store_info->rhs)\n \t  && !MODES_TIEABLE_P (new_mode, store_mode))\n \tcontinue;\n+      offset = subreg_lowpart_offset (new_mode, store_mode);\n       new_lhs = simplify_gen_subreg (new_mode, copy_rtx (store_info->rhs),\n-\t\t\t\t     store_mode, 0);\n+\t\t\t\t     store_mode, offset);\n       if (new_lhs == NULL_RTX)\n \tcontinue;\n "}]}