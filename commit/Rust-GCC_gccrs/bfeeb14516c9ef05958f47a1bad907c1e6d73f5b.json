{"sha": "bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZlZWIxNDUxNmM5ZWYwNTk1OGY0N2ExYmFkOTA3YzFlNmQ3M2Y1Yg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-05-18T22:21:08Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-05-18T22:21:08Z"}, "message": "re PR fortran/66045 (ICE on incorrect code with null)\n\n2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/66045\n\t* expr.c (gfc_check_assign):  Check for assignment of NULL() instead\n\tof the (intended) pointer assignment.\n\n2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/66045\n\t* gfortran.dg/null1.f90: New test.\n\nFrom-SVN: r223322", "tree": {"sha": "2c3288212c35e9f12c5eef7eb28f5a94f366f9a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c3288212c35e9f12c5eef7eb28f5a94f366f9a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/comments", "author": null, "committer": null, "parents": [{"sha": "fce523bf9b3c564d41a46a23014538a6534c0917", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fce523bf9b3c564d41a46a23014538a6534c0917", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fce523bf9b3c564d41a46a23014538a6534c0917"}], "stats": {"total": 30, "additions": 26, "deletions": 4}, "files": [{"sha": "a8598a2004a7f7e5f8caa447cb71394f16397c57", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "patch": "@@ -1,3 +1,8 @@\n+2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/66043\n+\t* gfortran.dg/storage_size_6.f90: New tests.\n+\n 2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/66044"}, {"sha": "a0c37566cfbf037d3f86b17e5532cd9bdba28ba6", "filename": "gcc/fortran/expr.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ffortran%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ffortran%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fexpr.c?ref=bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "patch": "@@ -3128,19 +3128,22 @@ gfc_check_assign (gfc_expr *lvalue, gfc_expr *rvalue, int conform)\n \tbad_proc = true;\n \n       /* (ii) The assignment is in the main program; or  */\n-      if (gfc_current_ns->proc_name->attr.is_main_program)\n+      if (gfc_current_ns->proc_name\n+\t  && gfc_current_ns->proc_name->attr.is_main_program)\n \tbad_proc = true;\n \n       /* (iii) A module or internal procedure...  */\n-      if ((gfc_current_ns->proc_name->attr.proc == PROC_INTERNAL\n-\t   || gfc_current_ns->proc_name->attr.proc == PROC_MODULE)\n+      if (gfc_current_ns->proc_name\n+\t  && (gfc_current_ns->proc_name->attr.proc == PROC_INTERNAL\n+\t      || gfc_current_ns->proc_name->attr.proc == PROC_MODULE)\n \t  && gfc_current_ns->parent\n \t  && (!(gfc_current_ns->parent->proc_name->attr.function\n \t\t|| gfc_current_ns->parent->proc_name->attr.subroutine)\n \t      || gfc_current_ns->parent->proc_name->attr.is_main_program))\n \t{\n \t  /* ... that is not a function...  */\n-\t  if (!gfc_current_ns->proc_name->attr.function)\n+\t  if (gfc_current_ns->proc_name\n+\t      && !gfc_current_ns->proc_name->attr.function)\n \t    bad_proc = true;\n \n \t  /* ... or is not an entry and has a different name.  */"}, {"sha": "1ae1f08f49c6bd2eeea57fa4bebdb99d54809080", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "patch": "@@ -1,3 +1,8 @@\n+2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/66045\n+\t* gfortran.dg/null1.f90: New test.\n+\n 2015-05-18  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/66044"}, {"sha": "fc50f414d1f81e02c0444dd00cc9c6b0d793379d", "filename": "gcc/testsuite/gfortran.dg/null1.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ftestsuite%2Fgfortran.dg%2Fnull1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfeeb14516c9ef05958f47a1bad907c1e6d73f5b/gcc%2Ftestsuite%2Fgfortran.dg%2Fnull1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnull1.f90?ref=bfeeb14516c9ef05958f47a1bad907c1e6d73f5b", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do compile }\n+! PR fortran/66045\n+!\n+! Original code from Gerhard Steinmetz\n+! <gerhard dot steinmetz dot fortran at t-online dot de>\n+program p\n+   contains\n+   integer :: null=null() ! { dg-error \"NULL appears on right-hand side\" }\n+end"}]}