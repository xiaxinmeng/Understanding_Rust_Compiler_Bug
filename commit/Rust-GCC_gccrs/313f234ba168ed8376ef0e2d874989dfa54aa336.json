{"sha": "313f234ba168ed8376ef0e2d874989dfa54aa336", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzEzZjIzNGJhMTY4ZWQ4Mzc2ZWYwZTJkODc0OTg5ZGZhNTRhYTMzNg==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2006-11-23T18:49:22Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2006-11-23T18:49:22Z"}, "message": "real.h (real_isinteger): Declare.\n\n2006-11-23  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n\n\t* real.h (real_isinteger): Declare.\n\t* real.c (real_isinteger): Define.\n\t* builtins.c (integer_valued_real_p): Use it.\n\nFrom-SVN: r119130", "tree": {"sha": "df3f642a41dbe83c7c2667bea513265952d3112a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/df3f642a41dbe83c7c2667bea513265952d3112a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/313f234ba168ed8376ef0e2d874989dfa54aa336", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/313f234ba168ed8376ef0e2d874989dfa54aa336", "html_url": "https://github.com/Rust-GCC/gccrs/commit/313f234ba168ed8376ef0e2d874989dfa54aa336", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/313f234ba168ed8376ef0e2d874989dfa54aa336/comments", "author": null, "committer": null, "parents": [{"sha": "05170031abc9baabb16c0f181228bd9343b0bfc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/05170031abc9baabb16c0f181228bd9343b0bfc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/05170031abc9baabb16c0f181228bd9343b0bfc4"}], "stats": {"total": 30, "additions": 21, "deletions": 9}, "files": [{"sha": "0244e455aa35200ced4117561c28e5392c5fd76c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=313f234ba168ed8376ef0e2d874989dfa54aa336", "patch": "@@ -1,3 +1,9 @@\n+2006-11-23  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\t* real.h (real_isinteger): Declare.\n+\t* real.c (real_isinteger): Define.\n+\t* builtins.c (integer_valued_real_p): Use it.\n+\n 2006-11-23  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n \n \tPR c/9072 "}, {"sha": "75b47fb239195fc01de5de8ef99ce76f3e7418bc", "filename": "gcc/builtins.c", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=313f234ba168ed8376ef0e2d874989dfa54aa336", "patch": "@@ -6677,15 +6677,7 @@ integer_valued_real_p (tree t)\n \t     && integer_valued_real_p (TREE_OPERAND (t, 2));\n \n     case REAL_CST:\n-      if (! TREE_CONSTANT_OVERFLOW (t))\n-      {\n-\tREAL_VALUE_TYPE c, cint;\n-\n-\tc = TREE_REAL_CST (t);\n-\treal_trunc (&cint, TYPE_MODE (TREE_TYPE (t)), &c);\n-\treturn real_identical (&c, &cint);\n-      }\n-      break;\n+      return real_isinteger (TREE_REAL_CST_PTR (t), TYPE_MODE (TREE_TYPE (t)));\n \n     case NOP_EXPR:\n       {"}, {"sha": "0d239b3379d02adaa6c602a6b7cc54d05ee31ddc", "filename": "gcc/real.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Freal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Freal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.c?ref=313f234ba168ed8376ef0e2d874989dfa54aa336", "patch": "@@ -4968,3 +4968,14 @@ real_from_mpfr (REAL_VALUE_TYPE *r, mpfr_srcptr m)\n   \n   real_from_string (r, buf);\n }\n+\n+/* Check whether the real constant value given is an integer.  */\n+\n+bool\n+real_isinteger (const REAL_VALUE_TYPE *c, enum machine_mode mode)\n+{\n+  REAL_VALUE_TYPE cint;\n+\n+  real_trunc (&cint, mode, c);\n+  return real_identical (c, &cint);\n+}"}, {"sha": "4198b02aee6e3bdf86f1c2de7e7bab575b1c0a46", "filename": "gcc/real.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Freal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/313f234ba168ed8376ef0e2d874989dfa54aa336/gcc%2Freal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freal.h?ref=313f234ba168ed8376ef0e2d874989dfa54aa336", "patch": "@@ -433,4 +433,7 @@ extern void real_copysign (REAL_VALUE_TYPE *, const REAL_VALUE_TYPE *);\n extern void real_from_mpfr (REAL_VALUE_TYPE *, mpfr_srcptr);\n extern void mpfr_from_real (mpfr_ptr, const REAL_VALUE_TYPE *);\n \n+/* Check whether the real constant value given is an integer.  */\n+extern bool real_isinteger (const REAL_VALUE_TYPE *c, enum machine_mode mode);\n+\n #endif /* ! GCC_REAL_H */"}]}