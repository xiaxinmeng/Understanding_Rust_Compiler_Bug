{"sha": "47742ccdded540d6e157ce49f89ec4148cd27154", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDc3NDJjY2RkZWQ1NDBkNmUxNTdjZTQ5Zjg5ZWM0MTQ4Y2QyNzE1NA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2007-02-02T12:29:31Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-02T12:29:31Z"}, "message": "configure.ac (libjava_cv_anon_version_script): New test.\n\n\t* configure.ac (libjava_cv_anon_version_script): New test.\n\t(ANONVERSCRIPT): New AM_CONDITIONAL.\n\t* configure: Rebuilt.\n\t* Makefile.am (extra_ldflags_libjava): Link with -Wl,--version-script\n\tif ANONVERSCRIPT.\n\t* Makefile.in: Rebuilt.\n\t(libgcj_la_DEPENDENCIES): Depend on libgcj.ver.\n\t* libgcj.ver: New file.\n\nFrom-SVN: r121499", "tree": {"sha": "1a629cc62a7b629f1442691db1f2ab7af5223c58", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a629cc62a7b629f1442691db1f2ab7af5223c58"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47742ccdded540d6e157ce49f89ec4148cd27154", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47742ccdded540d6e157ce49f89ec4148cd27154", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47742ccdded540d6e157ce49f89ec4148cd27154", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47742ccdded540d6e157ce49f89ec4148cd27154/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8aaf4681da0697653119fb541aef303da5b0aaaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8aaf4681da0697653119fb541aef303da5b0aaaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8aaf4681da0697653119fb541aef303da5b0aaaf"}], "stats": {"total": 178, "additions": 151, "deletions": 27}, "files": [{"sha": "cf997ac2becf0740e0b773bc1f9b0fae9fa0ebdd", "filename": "libjava/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -1,3 +1,14 @@\n+2007-02-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* configure.ac (libjava_cv_anon_version_script): New test.\n+\t(ANONVERSCRIPT): New AM_CONDITIONAL.\n+\t* configure: Rebuilt.\n+\t* Makefile.am (extra_ldflags_libjava): Link with -Wl,--version-script\n+\tif ANONVERSCRIPT.\n+\t* Makefile.in: Rebuilt.\n+\t(libgcj_la_DEPENDENCIES): Depend on libgcj.ver.\n+\t* libgcj.ver: New file.\n+\n 2007-02-01  David Daney  <ddaney@avtrex.com>\n \n \t* scripts/makemake.tcl: Replace gnu/xml build with build of all"}, {"sha": "0e7d91a804249d51505dbc84d282b49af48d8d67", "filename": "libjava/Makefile.am", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -101,6 +101,10 @@ GCJ_WITH_FLAGS = $(GCJ) --encoding=UTF-8 -Wno-deprecated\n \n extra_ldflags_libjava = @extra_ldflags_libjava@\n \n+if ANONVERSCRIPT\n+extra_ldflags_libjava += -Wl,--version-script=$(srcdir)/libgcj.ver\n+endif\n+\n GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) \\\n           $(LDFLAGS) -o $@\n GCJ_FOR_ECJX = @GCJ_FOR_ECJX@\n@@ -246,6 +250,9 @@ libgcj_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\\n \tjava/process-$(PLATFORM).lo \\\n \t$(all_packages_source_files:.list=.lo) \\\n \t$(LIBLTDL) $(libgcj_la_LIBADD)\n+if ANONVERSCRIPT\n+libgcj_la_DEPENDENCIES += $(srcdir)/libgcj.ver\n+endif\n libgcj_la_LINK = $(LIBLINK)\n \n ## A hack to make sure the various gcj-related macros, like"}, {"sha": "59b85a9fed5a634ca82fce37667288466df76a61", "filename": "libjava/Makefile.in", "status": "modified", "additions": 26, "deletions": 25, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -53,15 +53,17 @@ target_triplet = @target@\n @NATIVE_TRUE@\tgrmid$(EXEEXT) gserialver$(EXEEXT) \\\n @NATIVE_TRUE@\tgtnameserv$(EXEEXT)\n @BUILD_ECJ1_TRUE@libexecsub_PROGRAMS = ecjx$(EXEEXT)\n-@USING_GCC_TRUE@am__append_5 = $(WARNINGS)\n-@USING_BOEHMGC_TRUE@am__append_6 = boehm.cc\n-@USING_NOGC_TRUE@am__append_7 = nogc.cc\n-@USING_POSIX_PLATFORM_TRUE@am__append_8 = posix.cc\n-@USING_WIN32_PLATFORM_TRUE@am__append_9 = win32.cc\n-@USING_DARWIN_CRT_TRUE@am__append_10 = darwin.cc\n-@USING_POSIX_THREADS_TRUE@am__append_11 = posix-threads.cc\n-@USING_WIN32_THREADS_TRUE@am__append_12 = win32-threads.cc\n-@USING_NO_THREADS_TRUE@am__append_13 = no-threads.cc\n+@ANONVERSCRIPT_TRUE@am__append_5 = -Wl,--version-script=$(srcdir)/libgcj.ver\n+@USING_GCC_TRUE@am__append_6 = $(WARNINGS)\n+@USING_BOEHMGC_TRUE@am__append_7 = boehm.cc\n+@USING_NOGC_TRUE@am__append_8 = nogc.cc\n+@USING_POSIX_PLATFORM_TRUE@am__append_9 = posix.cc\n+@USING_WIN32_PLATFORM_TRUE@am__append_10 = win32.cc\n+@USING_DARWIN_CRT_TRUE@am__append_11 = darwin.cc\n+@USING_POSIX_THREADS_TRUE@am__append_12 = posix-threads.cc\n+@USING_WIN32_THREADS_TRUE@am__append_13 = win32-threads.cc\n+@USING_NO_THREADS_TRUE@am__append_14 = no-threads.cc\n+@ANONVERSCRIPT_TRUE@am__append_15 = $(srcdir)/libgcj.ver\n DIST_COMMON = README $(am__configure_deps) $(srcdir)/../compile \\\n \t$(srcdir)/../config.guess $(srcdir)/../config.sub \\\n \t$(srcdir)/../depcomp $(srcdir)/../install-sh \\\n@@ -73,8 +75,8 @@ DIST_COMMON = README $(am__configure_deps) $(srcdir)/../compile \\\n \t$(top_srcdir)/scripts/jar.in COPYING ChangeLog NEWS THANKS\n @MAINTAINER_MODE_TRUE@@NATIVE_TRUE@noinst_PROGRAMS =  \\\n @MAINTAINER_MODE_TRUE@@NATIVE_TRUE@\tgen-from-JIS$(EXEEXT)\n-@NATIVE_TRUE@@USE_LIBGCJ_BC_TRUE@am__append_14 = libgcj_bc.la\n-@XLIB_AWT_TRUE@am__append_15 = $(xlib_nat_headers)\n+@NATIVE_TRUE@@USE_LIBGCJ_BC_TRUE@am__append_16 = libgcj_bc.la\n+@XLIB_AWT_TRUE@am__append_17 = $(xlib_nat_headers)\n subdir = .\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n@@ -545,6 +547,8 @@ ALLOCA = @ALLOCA@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+ANONVERSCRIPT_FALSE = @ANONVERSCRIPT_FALSE@\n+ANONVERSCRIPT_TRUE = @ANONVERSCRIPT_TRUE@\n AR = @AR@\n AS = @AS@\n AUTOCONF = @AUTOCONF@\n@@ -738,7 +742,7 @@ build_vendor = @build_vendor@\n datadir = @datadir@\n dbexecdir = @dbexecdir@\n exec_prefix = @exec_prefix@\n-extra_ldflags_libjava = @extra_ldflags_libjava@\n+extra_ldflags_libjava = @extra_ldflags_libjava@ $(am__append_5)\n gxx_include_dir = @gxx_include_dir@\n here = @here@\n host = @host@\n@@ -849,7 +853,7 @@ AM_GCJFLAGS = \\\n \t--encoding=UTF-8 \\\n \t-Wno-deprecated -fbootstrap-classes\n \n-AM_CFLAGS = @LIBGCJ_CFLAGS@ $(am__append_5)\n+AM_CFLAGS = @LIBGCJ_CFLAGS@ $(am__append_6)\n PEDANTIC_CFLAGS = -ansi -pedantic -Wall -Wno-long-long\n JCFLAGS = -g\n JC1FLAGS = @LIBGCJ_JAVAFLAGS@ $(GCJFLAGS)\n@@ -870,9 +874,9 @@ libgij_la_LDFLAGS = -rpath $(toolexeclibdir) \\\n \n libgcj_la_SOURCES = prims.cc jni.cc jvmti.cc exception.cc \\\n \tstacktrace.cc link.cc defineclass.cc interpret.cc verify.cc \\\n-\t$(nat_source_files) $(am__append_6) $(am__append_7) \\\n-\t$(am__append_8) $(am__append_9) $(am__append_10) \\\n-\t$(am__append_11) $(am__append_12) $(am__append_13)\n+\t$(nat_source_files) $(am__append_7) $(am__append_8) \\\n+\t$(am__append_9) $(am__append_10) $(am__append_11) \\\n+\t$(am__append_12) $(am__append_13) $(am__append_14)\n nat_files = $(nat_source_files:.cc=.lo)\n xlib_nat_files = $(xlib_nat_source_files:.cc=.lo)\n \n@@ -893,13 +897,10 @@ libgcj_la_LIBADD = \\\n \t$(propertyo_files) \\\n \t$(LIBFFI) $(ZLIBS) $(GCLIBS)\n \n-libgcj_la_DEPENDENCIES = libgcj-$(gcc_version).jar \\\n-\tjava/lang/Object.lo \\\n-\tjava/lang/Class.lo \\\n-\tjava/process-$(PLATFORM).lo \\\n-\t$(all_packages_source_files:.list=.lo) \\\n-\t$(LIBLTDL) $(libgcj_la_LIBADD)\n-\n+libgcj_la_DEPENDENCIES = libgcj-$(gcc_version).jar java/lang/Object.lo \\\n+\tjava/lang/Class.lo java/process-$(PLATFORM).lo \\\n+\t$(all_packages_source_files:.list=.lo) $(LIBLTDL) \\\n+\t$(libgcj_la_LIBADD) $(am__append_15)\n libgcj_la_LINK = $(LIBLINK)\n EXTRA_libgcj_la_SOURCES = java/lang/Object.java\n libgcj_tools_la_SOURCES = classpath/tools/tools.zip\n@@ -7836,7 +7837,7 @@ ECJX_BASE_FLAGS = -findirect-dispatch \\\n @NATIVE_TRUE@ecjx_LDADD = -L$(here)/.libs libgcj.la\n @NATIVE_FALSE@ecjx_DEPENDENCIES = \n @NATIVE_TRUE@ecjx_DEPENDENCIES = libgcj.la libgcj.spec \\\n-@NATIVE_TRUE@\t$(am__append_14)\n+@NATIVE_TRUE@\t$(am__append_16)\n gappletviewer_SOURCES = \n gappletviewer_LDFLAGS = --main=gnu.classpath.tools.appletviewer.Main \\\n \t-rpath $(toolexeclibdir) -shared-libgcc $(THREADLDFLAGS)\n@@ -8027,7 +8028,7 @@ gnu/gcj/xlib/natXImage.cc \\\n gnu/gcj/xlib/natXUnmapEvent.cc\n \n sourcesdir = $(jardir)\n-headers_to_make = $(nat_headers) $(am__append_15)\n+headers_to_make = $(nat_headers) $(am__append_17)\n \n # Work around what appears to be a GNU make bug handling MAKEFLAGS\n # values defined in terms of make variables, as is the case for CC and"}, {"sha": "c879e57dd0030c52ace7521be62935727e527531", "filename": "libjava/configure", "status": "modified", "additions": 87, "deletions": 2, "changes": 89, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -310,7 +310,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir multi_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB JAR ZIP UNZIP MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJ_LD_SYMBOLIC_FUNCTIONS LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE X_AWT_TRUE X_AWT_FALSE GCJ_FOR_ECJX GCJH host_exeext INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE ECJ_BUILD_JAR ECJ_JAR BUILD_ECJ1_TRUE BUILD_ECJ1_FALSE INSTALL_ECJ_JAR_TRUE INSTALL_ECJ_JAR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADSTARTFILESPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE USE_LIBGCJ_BC_TRUE USE_LIBGCJ_BC_FALSE LIBGCJ_SPEC HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV PKG_CONFIG GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE ENABLE_SHARED_TRUE ENABLE_SHARED_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_libsubdir build_subdir host_subdir target_subdir multi_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS LD ac_ct_LD AR ac_ct_AR RANLIB ac_ct_RANLIB JAR ZIP UNZIP MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJ_LD_SYMBOLIC_FUNCTIONS LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE X_AWT_TRUE X_AWT_FALSE GCJ_FOR_ECJX GCJH host_exeext INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE ECJ_BUILD_JAR ECJ_JAR BUILD_ECJ1_TRUE BUILD_ECJ1_FALSE INSTALL_ECJ_JAR_TRUE INSTALL_ECJ_JAR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADSTARTFILESPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE USE_LIBGCJ_BC_TRUE USE_LIBGCJ_BC_FALSE LIBGCJ_SPEC HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV PKG_CONFIG GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE ENABLE_SHARED_TRUE ENABLE_SHARED_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir dbexecdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES ANONVERSCRIPT_TRUE ANONVERSCRIPT_FALSE LD_START_STATIC_SPEC LD_FINISH_STATIC_SPEC here LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -7868,7 +7868,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lXt $LIBS\"\n+  LIBS=\"-lX11 $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n@@ -17054,6 +17054,82 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+# See if linker supports anonymous version scripts.\n+echo \"$as_me:$LINENO: checking whether ld supports anonymous version scripts\" >&5\n+echo $ECHO_N \"checking whether ld supports anonymous version scripts... $ECHO_C\" >&6\n+if test \"${libjava_cv_anon_version_script+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  save_CFLAGS=\"$CFLAGS\"; save_LDFLAGS=\"$LDFLAGS\"\n+   libjava_cv_anon_version_script=no\n+   CFLAGS=\"$CFLAGS -fPIC\"; LDFLAGS=\"$LDFLAGS -shared -Wl,--version-script,conftest.map\"\n+   echo '{ global: globalsymb*; local: *; };' > conftest.map\n+   if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+void globalsymbol (void) {} void localsymbol (void) {}\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  libjava_cv_anon_version_script=yes\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+   CFLAGS=\"$save_CFLAGS\"; LDFLAGS=\"$save_LDFLAGS\"\n+\n+fi\n+echo \"$as_me:$LINENO: result: $libjava_cv_anon_version_script\" >&5\n+echo \"${ECHO_T}$libjava_cv_anon_version_script\" >&6\n+\n+\n+if test \"$libjava_cv_anon_version_script\" = yes; then\n+  ANONVERSCRIPT_TRUE=\n+  ANONVERSCRIPT_FALSE='#'\n+else\n+  ANONVERSCRIPT_TRUE='#'\n+  ANONVERSCRIPT_FALSE=\n+fi\n+\n+\n # Check if linker supports static linking on a per library basis\n LD_START_STATIC_SPEC=\n LD_FINISH_STATIC_SPEC=\n@@ -17347,6 +17423,13 @@ echo \"$as_me: error: conditional \\\"NEEDS_DATA_START\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n+if test -z \"${ANONVERSCRIPT_TRUE}\" && test -z \"${ANONVERSCRIPT_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"ANONVERSCRIPT\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&5\n+echo \"$as_me: error: conditional \\\"ANONVERSCRIPT\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n \n : ${CONFIG_STATUS=./config.status}\n ac_clean_files_save=$ac_clean_files\n@@ -18134,6 +18217,8 @@ s,@libstdcxx_incdir@,$libstdcxx_incdir,;t t\n s,@ALLOCA@,$ALLOCA,;t t\n s,@PERL@,$PERL,;t t\n s,@SYSDEP_SOURCES@,$SYSDEP_SOURCES,;t t\n+s,@ANONVERSCRIPT_TRUE@,$ANONVERSCRIPT_TRUE,;t t\n+s,@ANONVERSCRIPT_FALSE@,$ANONVERSCRIPT_FALSE,;t t\n s,@LD_START_STATIC_SPEC@,$LD_START_STATIC_SPEC,;t t\n s,@LD_FINISH_STATIC_SPEC@,$LD_FINISH_STATIC_SPEC,;t t\n s,@here@,$here,;t t"}, {"sha": "95d8cef2479fc8916467d52cfa24c120975f66f5", "filename": "libjava/configure.ac", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -1553,6 +1553,19 @@ GCC_CHECK_TLS\n # For _Unwind_GetIPInfo.\n GCC_CHECK_UNWIND_GETIPINFO\n \n+# See if linker supports anonymous version scripts.\n+AC_CACHE_CHECK([whether ld supports anonymous version scripts],\n+  [libjava_cv_anon_version_script],\n+  [save_CFLAGS=\"$CFLAGS\"; save_LDFLAGS=\"$LDFLAGS\"\n+   libjava_cv_anon_version_script=no\n+   CFLAGS=\"$CFLAGS -fPIC\"; LDFLAGS=\"$LDFLAGS -shared -Wl,--version-script,conftest.map\"\n+   echo '{ global: globalsymb*; local: *; };' > conftest.map\n+   AC_TRY_LINK(void globalsymbol (void) {} void localsymbol (void) {},,\n+\t       [libjava_cv_anon_version_script=yes], [])\n+   CFLAGS=\"$save_CFLAGS\"; LDFLAGS=\"$save_LDFLAGS\"\n+  ])\n+AM_CONDITIONAL(ANONVERSCRIPT, test \"$libjava_cv_anon_version_script\" = yes)\n+\n # Check if linker supports static linking on a per library basis\n LD_START_STATIC_SPEC=\n LD_FINISH_STATIC_SPEC="}, {"sha": "344600c8206bb2395499792b34cf9d01f7f4d3ce", "filename": "libjava/libgcj.ver", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Flibgcj.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47742ccdded540d6e157ce49f89ec4148cd27154/libjava%2Flibgcj.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Flibgcj.ver?ref=47742ccdded540d6e157ce49f89ec4148cd27154", "patch": "@@ -0,0 +1,7 @@\n+# Anonymous GNU ld version script to hide boehm-gc, libffi and fdlibm\n+# symbols in libgcj.so.\n+\n+{\n+  global: Jv*; _Jv_*; __gcj_personality_v0; _Z*;\n+  local: *;\n+};"}]}