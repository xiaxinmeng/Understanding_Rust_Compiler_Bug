{"sha": "601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjAxYWE2OGZkOWZiZmE1NzE2ZjU1ZjI4ZTQ2MjFjZDVkYjI1MTliNQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-01-15T15:52:28Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-01-15T15:52:28Z"}, "message": "format.c (parse_format): Set limit on size of format strings that will be cached.\n\n2010-01-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* io/format.c (parse_format): Set limit on size of format strings that\n\twill be cached.\n\nFrom-SVN: r155939", "tree": {"sha": "6789f0adc8213a5b1a45147e509f7575f9794ec7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6789f0adc8213a5b1a45147e509f7575f9794ec7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/601aa68fd9fbfa5716f55f28e4621cd5db2519b5/comments", "author": null, "committer": null, "parents": [{"sha": "1b8b9e1988139eedbd39a5bcee3ccacdd813132d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b8b9e1988139eedbd39a5bcee3ccacdd813132d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b8b9e1988139eedbd39a5bcee3ccacdd813132d"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "0b24143c2b9fee071fc075a95b432a08f695201f", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/601aa68fd9fbfa5716f55f28e4621cd5db2519b5/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/601aa68fd9fbfa5716f55f28e4621cd5db2519b5/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "patch": "@@ -1,3 +1,8 @@\n+2010-01-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* io/format.c (parse_format): Set limit on size of format strings that\n+\twill be cached.\n+\n 2010-01-05  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure: Regenerate."}, {"sha": "13516d2f8a6b7aabd87c81b0c989944459e156fe", "filename": "libgfortran/io/format.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/601aa68fd9fbfa5716f55f28e4621cd5db2519b5/libgfortran%2Fio%2Fformat.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/601aa68fd9fbfa5716f55f28e4621cd5db2519b5/libgfortran%2Fio%2Fformat.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fformat.c?ref=601aa68fd9fbfa5716f55f28e4621cd5db2519b5", "patch": "@@ -1212,13 +1212,18 @@ revert (st_parameter_dt *dtp)\n \n /* parse_format()-- Parse a format string.  */\n \n+#define FORMAT_CACHE_STRING_LIMIT 256\n+\n void\n parse_format (st_parameter_dt *dtp)\n {\n   format_data *fmt;\n   bool format_cache_ok;\n \n-  format_cache_ok = !is_internal_unit (dtp);\n+  /* Don't cache for internal units and set an arbitrary limit on the size of\n+     format strings we will cache.  (Avoids memory issues.)  */\n+  format_cache_ok = !is_internal_unit (dtp)\n+\t\t    && (dtp->format_len < FORMAT_CACHE_STRING_LIMIT );\n \n   /* Lookup format string to see if it has already been parsed.  */\n   if (format_cache_ok)"}]}