{"sha": "9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTk1NmFkNGQxNDczNmUyYWIxNzVjZDRkZDI2YjlhNDMxNWE3YTk3NQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-10-21T19:32:20Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-10-21T19:32:20Z"}, "message": "re PR target/50813 (gcc.dg/torture/vshuf-{v4di,v8si}.c fail on AVX target)\n\n\tPR target/50813\n\t* config/i386/i386.c (expand_vec_perm_even_odd_1): Handle\n\tV4DImode and V8SImode for !TARGET_AVX2.\n\n\t* gcc.dg/torture/vshuf-32.inc: Add broadcast permutation\n\tfrom element other than first and reverse permutation.\n\t* gcc.dg/torture/vshuf-16.inc: Likewise.\n\t* gcc.dg/torture/vshuf-8.inc: Likewise.\n\t* gcc.dg/torture/vshuf-4.inc: Likewise.\n\nFrom-SVN: r180311", "tree": {"sha": "844361b01dbfe3d3caa117ee6cc8a3401f4e1517", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/844361b01dbfe3d3caa117ee6cc8a3401f4e1517"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f561ef0f49c397e6cf62f234752445a9168f1367", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f561ef0f49c397e6cf62f234752445a9168f1367", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f561ef0f49c397e6cf62f234752445a9168f1367"}], "stats": {"total": 51, "additions": 47, "deletions": 4}, "files": [{"sha": "5d077c353e50b767dda8d4470d8676c695575c69", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -1,3 +1,9 @@\n+2011-10-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/50813\n+\t* config/i386/i386.c (expand_vec_perm_even_odd_1): Handle\n+\tV4DImode and V8SImode for !TARGET_AVX2.\n+\n 2011-10-21  Bernd Schmidt  <bernds@codesourcery.com>\n \n \tPR bootstrap/50825"}, {"sha": "df1a206f2d1573ebe4afc25ffbe0a1a7fca5e1eb", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -36023,6 +36023,16 @@ expand_vec_perm_even_odd_1 (struct expand_vec_perm_d *d, unsigned odd)\n       return expand_vec_perm_vpshufb2_vpermq_even_odd (d);\n \n     case V4DImode:\n+      if (!TARGET_AVX2)\n+\t{\n+\t  struct expand_vec_perm_d d_copy = *d;\n+\t  d_copy.vmode = V4DFmode;\n+\t  d_copy.target = gen_lowpart (V4DFmode, d->target);\n+\t  d_copy.op0 = gen_lowpart (V4DFmode, d->op0);\n+\t  d_copy.op1 = gen_lowpart (V4DFmode, d->op1);\n+\t  return expand_vec_perm_even_odd_1 (&d_copy, odd);\n+\t}\n+\n       t1 = gen_reg_rtx (V4DImode);\n       t2 = gen_reg_rtx (V4DImode);\n \n@@ -36039,6 +36049,16 @@ expand_vec_perm_even_odd_1 (struct expand_vec_perm_d *d, unsigned odd)\n       break;\n \n     case V8SImode:\n+      if (!TARGET_AVX2)\n+\t{\n+\t  struct expand_vec_perm_d d_copy = *d;\n+\t  d_copy.vmode = V8SFmode;\n+\t  d_copy.target = gen_lowpart (V8SFmode, d->target);\n+\t  d_copy.op0 = gen_lowpart (V8SFmode, d->op0);\n+\t  d_copy.op1 = gen_lowpart (V8SFmode, d->op1);\n+\t  return expand_vec_perm_even_odd_1 (&d_copy, odd);\n+\t}\n+\n       t1 = gen_reg_rtx (V8SImode);\n       t2 = gen_reg_rtx (V8SImode);\n "}, {"sha": "85aff916d9fab25dffef85eb41a22e30d55fa0a1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -1,3 +1,12 @@\n+2011-10-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/50813\n+\t* gcc.dg/torture/vshuf-32.inc: Add broadcast permutation\n+\tfrom element other than first and reverse permutation.\n+\t* gcc.dg/torture/vshuf-16.inc: Likewise.\n+\t* gcc.dg/torture/vshuf-8.inc: Likewise.\n+\t* gcc.dg/torture/vshuf-4.inc: Likewise.\n+\n 2011-10-21  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/31423"}, {"sha": "89ef544a11ab19fc748e4fcde89d72060a8d4416", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-16.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-16.inc?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -17,7 +17,9 @@ T (13,\t23, 11, 15, 9, 0, 14, 8, 12, 10, 13, 19, 11, 2, 26, 24, 30) \\\n T (14,\t25, 5, 17, 1, 9, 15, 21, 7, 28, 2, 18, 13, 30, 14, 10, 4) \\\n T (15,\t1, 30, 27, 31, 9, 18, 25, 12, 7, 4, 2, 16, 25, 20, 10, 3) \\\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30) \\\n-T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31)\n+T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31) \\\n+T (18,\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3) \\\n+T (19,\t15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\n #define EXPTESTS \\\n T (116,\t28, 13, 27, 11, 21, 1, 5, 22, 29, 14, 15, 6, 3, 10, 16, 30) \\\n T (117,\t22, 26, 1, 13, 29, 3, 18, 18, 11, 21, 12, 28, 19, 5, 7, 4) \\"}, {"sha": "bbeebaabeeb5f26edc18ec4c7af00ca01fa95b4b", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-32.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-32.inc?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -17,7 +17,9 @@ T (13,\t7, 51, 13, 61, 25, 4, 19, 58, 35, 33, 29, 15, 40, 2, 39, 16, 38, 3, 54, 6\n T (14,\t22, 53, 28, 42, 45, 38, 49, 13, 54, 61, 21, 52, 7, 16, 34, 9, 1, 43, 62, 43, 35, 50, 47, 58, 20, 3, 30, 15, 37, 53, 43, 36) \\\n T (15,\t2, 43, 49, 34, 28, 35, 29, 36, 51, 9, 17, 48, 10, 37, 45, 21, 52, 19, 25, 33, 60, 31, 30, 42, 12, 26, 27, 46, 5, 40, 14, 36) \\\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 56, 58, 60, 62) \\\n-T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63)\n+T (17,\t1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63) \\\n+T (18,\t3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3) \\\n+T (19,\t31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0)\n #define EXPTESTS \\\n T (116,\t13, 38, 47, 3, 17, 8, 38, 20, 59, 61, 39, 26, 7, 49, 63, 43, 57, 16, 40, 19, 4, 32, 27, 7, 52, 19, 46, 55, 36, 41, 48, 6) \\\n T (117,\t39, 35, 59, 20, 56, 18, 58, 63, 57, 14, 2, 16, 5, 61, 35, 4, 53, 9, 52, 51, 27, 33, 61, 12, 3, 35, 36, 40, 37, 7, 45, 42) \\"}, {"sha": "94bdb777dfef375972ec821e319aed8b39c04078", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-4.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-4.inc?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -17,7 +17,9 @@ T (13,\t2, 3, 0, 4) \\\n T (14,\t7, 6, 4, 2) \\\n T (15,\t6, 1, 3, 4) \\\n T (16,\t0, 2, 4, 6) \\\n-T (17,\t1, 3, 5, 7)\n+T (17,\t1, 3, 5, 7) \\\n+T (18,\t3, 3, 3, 3) \\\n+T (19,\t3, 2, 1, 0)\n #define EXPTESTS \\\n T (116,\t1, 2, 4, 3) \\\n T (117,\t7, 3, 3, 0) \\"}, {"sha": "66586fabe73e613fe026ac869d019910bcd2cbcb", "filename": "gcc/testsuite/gcc.dg/torture/vshuf-8.inc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9956ad4d14736e2ab175cd4dd26b9a4315a7a975/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fvshuf-8.inc?ref=9956ad4d14736e2ab175cd4dd26b9a4315a7a975", "patch": "@@ -17,7 +17,9 @@ T (13,\t14, 8, 12, 3, 13, 9, 5, 4) \\\n T (14,\t15, 3, 13, 6, 14, 12, 10, 0) \\\n T (15,\t0, 5, 11, 7, 4, 6, 14, 1) \\\n T (16,\t0, 2, 4, 6, 8, 10, 12, 14) \\\n-T (17,\t1, 3, 5, 7, 9, 11, 13, 15)\n+T (17,\t1, 3, 5, 7, 9, 11, 13, 15) \\\n+T (18,\t3, 3, 3, 3, 3, 3, 3, 3) \\\n+T (19,\t7, 6, 5, 4, 3, 2, 1, 0)\n #define EXPTESTS \\\n T (116,\t9, 3, 9, 4, 7, 0, 0, 6) \\\n T (117,\t4, 14, 12, 8, 9, 6, 0, 10) \\"}]}