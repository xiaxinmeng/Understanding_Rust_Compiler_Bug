{"sha": "2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "node_id": "C_kwDOANBUbNoAKDJlOWIyYWIzYjViZjZlNGEwYmRhYmZlYjczNTgyMDZiMTgyNTNlM2M", "commit": {"author": {"name": "Claire Dross", "email": "dross@adacore.com", "date": "2022-05-24T14:37:18Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-07-04T07:45:52Z"}, "message": "[Ada] Update the documentation of functional containers\n\nFunctional containers are now controlled. Update the documentation\naccordingly.\n\ngcc/ada/\n\n\t* doc/gnat_rm/the_gnat_library.rst: Functional vectors, sets,\n\tand maps are now controlled.\n\t* gnat_rm.texi: Regenerate.", "tree": {"sha": "7bfa28c0de0803e768ceb56af274cc7c9542b779", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bfa28c0de0803e768ceb56af274cc7c9542b779"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c/comments", "author": {"login": "clairedross", "id": 8180017, "node_id": "MDQ6VXNlcjgxODAwMTc=", "avatar_url": "https://avatars.githubusercontent.com/u/8180017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clairedross", "html_url": "https://github.com/clairedross", "followers_url": "https://api.github.com/users/clairedross/followers", "following_url": "https://api.github.com/users/clairedross/following{/other_user}", "gists_url": "https://api.github.com/users/clairedross/gists{/gist_id}", "starred_url": "https://api.github.com/users/clairedross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clairedross/subscriptions", "organizations_url": "https://api.github.com/users/clairedross/orgs", "repos_url": "https://api.github.com/users/clairedross/repos", "events_url": "https://api.github.com/users/clairedross/events{/privacy}", "received_events_url": "https://api.github.com/users/clairedross/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82b63eb0f30333b3c59e8f37c4007cb6fd3fe0f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82b63eb0f30333b3c59e8f37c4007cb6fd3fe0f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82b63eb0f30333b3c59e8f37c4007cb6fd3fe0f9"}], "stats": {"total": 80, "additions": 38, "deletions": 42}, "files": [{"sha": "85044f341d0b5a70277b75d38e3b505c62cd20c9", "filename": "gcc/ada/doc/gnat_rm/the_gnat_library.rst", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fthe_gnat_library.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fthe_gnat_library.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_rm%2Fthe_gnat_library.rst?ref=2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "patch": "@@ -285,17 +285,16 @@ specification of this unit is compatible with SPARK 2014.\n .. index:: Functional sets\n \n This child of ``Ada.Containers`` defines immutable sets. These containers are\n-unbounded and may contain indefinite elements. Furthermore, to be usable in\n-every context, they are neither controlled nor limited. As they are functional,\n-that is, no primitives are provided which would allow modifying an existing\n-container, these containers can still be used safely.\n+unbounded and may contain indefinite elements. Their API features functions\n+creating new containers from existing ones. To remain reasonably efficient,\n+their implementation involves sharing between data-structures. As they are\n+functional, that is, no primitives are provided which would allow modifying an\n+existing container, these containers can still be used safely.\n \n-Their API features functions creating new containers from existing ones.\n-As a consequence, these containers are highly inefficient. They are also\n-memory consuming, as the allocated memory is not reclaimed when the container\n-is no longer referenced. Thus, they should in general be used in ghost code\n-and annotations, so that they can be removed from the final executable. The\n-specification of this unit is compatible with SPARK 2014.\n+These containers are controlled so that the allocated memory can be reclaimed\n+when the container is no longer referenced. Thus, they cannot directly be used\n+in contexts where controlled types are not supported.\n+The specification of this unit is compatible with SPARK 2014.\n \n .. _`Ada.Containers.Functional_Maps_(a-cofuma.ads)`:\n \n@@ -307,17 +306,16 @@ specification of this unit is compatible with SPARK 2014.\n .. index:: Functional maps\n \n This child of ``Ada.Containers`` defines immutable maps. These containers are\n-unbounded and may contain indefinite elements. Furthermore, to be usable in\n-every context, they are neither controlled nor limited. As they are functional,\n-that is, no primitives are provided which would allow modifying an existing\n-container, these containers can still be used safely.\n-\n-Their API features functions creating new containers from existing ones.\n-As a consequence, these containers are highly inefficient. They are also\n-memory consuming, as the allocated memory is not reclaimed when the container\n-is no longer referenced. Thus, they should in general be used in ghost code\n-and annotations, so that they can be removed from the final executable. The\n-specification of this unit is compatible with SPARK 2014.\n+unbounded and may contain indefinite elements. Their API features functions\n+creating new containers from existing ones. To remain reasonably efficient,\n+their implementation involves sharing between data-structures. As they are\n+functional, that is, no primitives are provided which would allow modifying an\n+existing container, these containers can still be used safely.\n+\n+These containers are controlled so that the allocated memory can be reclaimed\n+when the container is no longer referenced. Thus, they cannot directly be used\n+in contexts where controlled types are not supported.\n+The specification of this unit is compatible with SPARK 2014.\n \n .. _`Ada.Containers.Bounded_Holders_(a-coboho.ads)`:\n "}, {"sha": "a8939121f79d3df48502051eb2f570880c9530b6", "filename": "gcc/ada/gnat_rm.texi", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c/gcc%2Fada%2Fgnat_rm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c/gcc%2Fada%2Fgnat_rm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_rm.texi?ref=2e9b2ab3b5bf6e4a0bdabfeb7358206b18253e3c", "patch": "@@ -23520,17 +23520,16 @@ specification of this unit is compatible with SPARK 2014.\n @geindex Functional sets\n \n This child of @code{Ada.Containers} defines immutable sets. These containers are\n-unbounded and may contain indefinite elements. Furthermore, to be usable in\n-every context, they are neither controlled nor limited. As they are functional,\n-that is, no primitives are provided which would allow modifying an existing\n-container, these containers can still be used safely.\n+unbounded and may contain indefinite elements. Their API features functions\n+creating new containers from existing ones. To remain reasonably efficient,\n+their implementation involves sharing between data-structures. As they are\n+functional, that is, no primitives are provided which would allow modifying an\n+existing container, these containers can still be used safely.\n \n-Their API features functions creating new containers from existing ones.\n-As a consequence, these containers are highly inefficient. They are also\n-memory consuming, as the allocated memory is not reclaimed when the container\n-is no longer referenced. Thus, they should in general be used in ghost code\n-and annotations, so that they can be removed from the final executable. The\n-specification of this unit is compatible with SPARK 2014.\n+These containers are controlled so that the allocated memory can be reclaimed\n+when the container is no longer referenced. Thus, they cannot directly be used\n+in contexts where controlled types are not supported.\n+The specification of this unit is compatible with SPARK 2014.\n \n @node Ada Containers Functional_Maps a-cofuma ads,Ada Containers Bounded_Holders a-coboho ads,Ada Containers Functional_Sets a-cofuse ads,The GNAT Library\n @anchor{gnat_rm/the_gnat_library ada-containers-functional-maps-a-cofuma-ads}@anchor{2f4}@anchor{gnat_rm/the_gnat_library id16}@anchor{2f5}\n@@ -23542,17 +23541,16 @@ specification of this unit is compatible with SPARK 2014.\n @geindex Functional maps\n \n This child of @code{Ada.Containers} defines immutable maps. These containers are\n-unbounded and may contain indefinite elements. Furthermore, to be usable in\n-every context, they are neither controlled nor limited. As they are functional,\n-that is, no primitives are provided which would allow modifying an existing\n-container, these containers can still be used safely.\n-\n-Their API features functions creating new containers from existing ones.\n-As a consequence, these containers are highly inefficient. They are also\n-memory consuming, as the allocated memory is not reclaimed when the container\n-is no longer referenced. Thus, they should in general be used in ghost code\n-and annotations, so that they can be removed from the final executable. The\n-specification of this unit is compatible with SPARK 2014.\n+unbounded and may contain indefinite elements. Their API features functions\n+creating new containers from existing ones. To remain reasonably efficient,\n+their implementation involves sharing between data-structures. As they are\n+functional, that is, no primitives are provided which would allow modifying an\n+existing container, these containers can still be used safely.\n+\n+These containers are controlled so that the allocated memory can be reclaimed\n+when the container is no longer referenced. Thus, they cannot directly be used\n+in contexts where controlled types are not supported.\n+The specification of this unit is compatible with SPARK 2014.\n \n @node Ada Containers Bounded_Holders a-coboho ads,Ada Command_Line Environment a-colien ads,Ada Containers Functional_Maps a-cofuma ads,The GNAT Library\n @anchor{gnat_rm/the_gnat_library ada-containers-bounded-holders-a-coboho-ads}@anchor{2f6}@anchor{gnat_rm/the_gnat_library id17}@anchor{2f7}"}]}