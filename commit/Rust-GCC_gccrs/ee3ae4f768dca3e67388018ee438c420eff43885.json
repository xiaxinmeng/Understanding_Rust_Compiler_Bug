{"sha": "ee3ae4f768dca3e67388018ee438c420eff43885", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWUzYWU0Zjc2OGRjYTNlNjczODgwMThlZTQzOGM0MjBlZmY0Mzg4NQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-12-12T09:38:56Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-12-12T09:38:56Z"}, "message": "re PR libgcc/55451 (FAIL: gcc.dg/fixed-point/unary.c)\n\n\tPR libgcc/55451\n\t* fixed-bit.c (FIXED_SSADD, FIXED_SSSUB, FIXED_SSNEG): Avoid\n\tundefined signed overflows.\n\nFrom-SVN: r194439", "tree": {"sha": "4987c888aa436f9bb7c2a6b24dc960bd3d0a5118", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4987c888aa436f9bb7c2a6b24dc960bd3d0a5118"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee3ae4f768dca3e67388018ee438c420eff43885", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee3ae4f768dca3e67388018ee438c420eff43885", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee3ae4f768dca3e67388018ee438c420eff43885", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee3ae4f768dca3e67388018ee438c420eff43885/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4c052539b6f9b5c5332d01e7dbc2c04e2477db85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c052539b6f9b5c5332d01e7dbc2c04e2477db85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c052539b6f9b5c5332d01e7dbc2c04e2477db85"}], "stats": {"total": 35, "additions": 17, "deletions": 18}, "files": [{"sha": "95b95b1d19399d559c13ef9c2fa4781162e22ba0", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3ae4f768dca3e67388018ee438c420eff43885/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3ae4f768dca3e67388018ee438c420eff43885/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=ee3ae4f768dca3e67388018ee438c420eff43885", "patch": "@@ -1,3 +1,9 @@\n+2012-12-12  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR libgcc/55451\n+\t* fixed-bit.c (FIXED_SSADD, FIXED_SSSUB, FIXED_SSNEG): Avoid\n+\tundefined signed overflows.\n+\n 2012-12-09  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/55344"}, {"sha": "71243c1295a6da2cdbbeb9fbaea88321e70d65db", "filename": "libgcc/fixed-bit.c", "status": "modified", "additions": 11, "deletions": 18, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3ae4f768dca3e67388018ee438c420eff43885/libgcc%2Ffixed-bit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3ae4f768dca3e67388018ee438c420eff43885/libgcc%2Ffixed-bit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Ffixed-bit.c?ref=ee3ae4f768dca3e67388018ee438c420eff43885", "patch": "@@ -1,5 +1,5 @@\n /* This is a software fixed-point library.\n-   Copyright (C) 2007, 2009, 2011 Free Software Foundation, Inc.\n+   Copyright (C) 2007, 2009, 2011, 2012 Free Software Foundation, Inc.\n \n This file is part of GCC.\n \n@@ -80,15 +80,14 @@ FIXED_SSADD (FIXED_C_TYPE a, FIXED_C_TYPE b)\n   INT_C_TYPE x, y, z;\n   memcpy (&x, &a, FIXED_SIZE);\n   memcpy (&y, &b, FIXED_SIZE);\n-  z = x + y;\n+  z = x + (UINT_C_TYPE) y;\n   if ((((x ^ y) >> I_F_BITS) & 1) == 0)\n     {\n       if (((z ^ x) >> I_F_BITS) & 1)\n         {\n-          z = 1;\n-          z = z << I_F_BITS;\n-          if (x >= 0)\n-            z--;\n+\t  z = ((UINT_C_TYPE) 1) << I_F_BITS;\n+\t  if (x >= 0)\n+\t    z -= (UINT_C_TYPE) 1;\n         }\n     }\n #if HAVE_PADDING_BITS\n@@ -152,15 +151,14 @@ FIXED_SSSUB (FIXED_C_TYPE a, FIXED_C_TYPE b)\n   INT_C_TYPE x, y, z;\n   memcpy (&x, &a, FIXED_SIZE);\n   memcpy (&y, &b, FIXED_SIZE);\n-  z = x - y;\n+  z = x - (UINT_C_TYPE) y;\n   if (((x ^ y) >> I_F_BITS) & 1)\n     {\n       if (((z ^ x) >> I_F_BITS) & 1)\n         {\n-          z = 1;\n-          z = z << I_F_BITS;\n-          if (x >= 0)\n-            z--;\n+\t  z = ((UINT_C_TYPE) 1) << I_F_BITS;\n+\t  if (x >= 0)\n+\t    z -= (UINT_C_TYPE) 1;\n         }\n     }\n #if HAVE_PADDING_BITS\n@@ -569,16 +567,11 @@ FIXED_SSNEG (FIXED_C_TYPE a)\n   INT_C_TYPE x, y, z;\n   memcpy (&y, &a, FIXED_SIZE);\n   x = 0;\n-  z = x - y;\n+  z = x - (UINT_C_TYPE) y;\n   if (((x ^ y) >> I_F_BITS) & 1)\n     {\n       if (((z ^ x) >> I_F_BITS) & 1)\n-        {\n-          z = 1;\n-          z = z << I_F_BITS;\n-          if (x >= 0)\n-            z--;\n-        }\n+\tz = (((UINT_C_TYPE) 1) << I_F_BITS) - 1;\n     }\n #if HAVE_PADDING_BITS\n   z = z << PADDING_BITS;"}]}