{"sha": "b7b5203d98d56d5015a13727dd807412bd1559a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdiNTIwM2Q5OGQ1NmQ1MDE1YTEzNzI3ZGQ4MDc0MTJiZDE1NTlhMg==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-05-11T09:25:30Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-05-11T09:25:30Z"}, "message": "tree-affine.h (aff_combination_type): New interface.\n\n\t* tree-affine.h (aff_combination_type): New interface.\n\t(aff_combination_zero_p): Remove static.\n\t(aff_combination_const_p): New interface.\n\t(aff_combination_singleton_var_p): New interfaces.\n\nFrom-SVN: r247883", "tree": {"sha": "96f95cca74e8bee61c794b7412cb64037c9af7d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96f95cca74e8bee61c794b7412cb64037c9af7d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7b5203d98d56d5015a13727dd807412bd1559a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b5203d98d56d5015a13727dd807412bd1559a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7b5203d98d56d5015a13727dd807412bd1559a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7b5203d98d56d5015a13727dd807412bd1559a2/comments", "author": null, "committer": null, "parents": [{"sha": "7581ce9a1ad6df9c8998a3c74256837a1ff6f7cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7581ce9a1ad6df9c8998a3c74256837a1ff6f7cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7581ce9a1ad6df9c8998a3c74256837a1ff6f7cc"}], "stats": {"total": 32, "additions": 31, "deletions": 1}, "files": [{"sha": "3bfd958ab958892cb3a26c0127eeb564c5d23a62", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b5203d98d56d5015a13727dd807412bd1559a2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b5203d98d56d5015a13727dd807412bd1559a2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b7b5203d98d56d5015a13727dd807412bd1559a2", "patch": "@@ -1,3 +1,10 @@\n+2017-05-11  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-affine.h (aff_combination_type): New interface.\n+\t(aff_combination_zero_p): Remove static.\n+\t(aff_combination_const_p): New interface.\n+\t(aff_combination_singleton_var_p): New interfaces.\n+\n 2017-05-11  Richard Biener  <rguenther@suse.de>\n \n \t* tree-ssa-pre.c (eliminate_dom_walker::before_dom_children):"}, {"sha": "c775ad874d22598d728b5cdd87b18040fc9ea1c4", "filename": "gcc/tree-affine.h", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7b5203d98d56d5015a13727dd807412bd1559a2/gcc%2Ftree-affine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7b5203d98d56d5015a13727dd807412bd1559a2/gcc%2Ftree-affine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-affine.h?ref=b7b5203d98d56d5015a13727dd807412bd1559a2", "patch": "@@ -88,8 +88,15 @@ bool aff_comb_cannot_overlap_p (aff_tree *, const widest_int &,\n /* Debugging functions.  */\n void debug_aff (aff_tree *);\n \n+/* Return AFF's type.  */\n+inline tree\n+aff_combination_type (aff_tree *aff)\n+{\n+  return aff->type;\n+}\n+\n /* Return true if AFF is actually ZERO.  */\n-static inline bool\n+inline bool\n aff_combination_zero_p (aff_tree *aff)\n {\n   if (!aff)\n@@ -101,4 +108,20 @@ aff_combination_zero_p (aff_tree *aff)\n   return false;\n }\n \n+/* Return true if AFF is actually const.  */\n+inline bool\n+aff_combination_const_p (aff_tree *aff)\n+{\n+  return (aff == NULL || aff->n == 0);\n+}\n+\n+/* Return true iff AFF contains one (negated) singleton variable.  Users need\n+   to make sure AFF points to a valid combination.  */\n+inline bool\n+aff_combination_singleton_var_p (aff_tree *aff)\n+{\n+  return (aff->n == 1\n+\t  && aff->offset == 0\n+\t  && (aff->elts[0].coef == 1 || aff->elts[0].coef == -1));\n+}\n #endif /* GCC_TREE_AFFINE_H */"}]}