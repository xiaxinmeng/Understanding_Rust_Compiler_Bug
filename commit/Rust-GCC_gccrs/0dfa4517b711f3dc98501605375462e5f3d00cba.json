{"sha": "0dfa4517b711f3dc98501605375462e5f3d00cba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRmYTQ1MTdiNzExZjNkYzk4NTAxNjA1Mzc1NDYyZTVmM2QwMGNiYQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-09-16T23:22:39Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1994-09-16T23:22:39Z"}, "message": "(global_alloc): Mark regs assigned to SCRATCH as used by more than\njust local alloc.\n\nFrom-SVN: r8091", "tree": {"sha": "24d95c10333ef5976d975a4114607c978e79ad8f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24d95c10333ef5976d975a4114607c978e79ad8f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0dfa4517b711f3dc98501605375462e5f3d00cba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dfa4517b711f3dc98501605375462e5f3d00cba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0dfa4517b711f3dc98501605375462e5f3d00cba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0dfa4517b711f3dc98501605375462e5f3d00cba/comments", "author": null, "committer": null, "parents": [{"sha": "2c793b325101980a9ff28757fac1d8d583494479", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c793b325101980a9ff28757fac1d8d583494479", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c793b325101980a9ff28757fac1d8d583494479"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "ff86feca1f1917db6e64687c935ee2f5ab7165ee", "filename": "gcc/global.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0dfa4517b711f3dc98501605375462e5f3d00cba/gcc%2Fglobal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0dfa4517b711f3dc98501605375462e5f3d00cba/gcc%2Fglobal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fglobal.c?ref=0dfa4517b711f3dc98501605375462e5f3d00cba", "patch": "@@ -446,6 +446,18 @@ global_alloc (file)\n     if (regs_ever_live[i])\n       local_reg_n_refs[i] = 0;\n \n+  /* Likewise for regs used in a SCRATCH.  */\n+  for (i = 0; i < scratch_list_length; i++)\n+    if (scratch_list[i])\n+      {\n+\tint regno = REGNO (scratch_list[i]);\n+\tint lim = regno + HARD_REGNO_NREGS (regno, GET_MODE (scratch_list[i]));\n+\tint j;\n+\n+\tfor (j = regno; j < lim; j++)\n+\t  local_reg_n_refs[j] = 0;\n+      }\n+\t\n   /* Allocate the space for the conflict and preference tables and\n      initialize them.  */\n "}]}