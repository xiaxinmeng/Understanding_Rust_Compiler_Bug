{"sha": "246ff1aef6e70580ad567c59d63f122aa3c2924a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ2ZmYxYWVmNmU3MDU4MGFkNTY3YzU5ZDYzZjEyMmFhM2MyOTI0YQ==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-12-05T11:25:23Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2012-12-05T11:25:23Z"}, "message": "[multiple changes]\n\n2012-12-05  Robert Dewar  <dewar@adacore.com>\n\n\t* par_sco.adb, sem_prag.adb, put_scos.adb, get_scos.adb: Minor\n\treformatting.\n\n2012-12-05  Ed Schonberg  <schonberg@adacore.com>\n\n\t* sem_ch3.adb: Code clean up.\n\nFrom-SVN: r194217", "tree": {"sha": "71a0f2e712ade39645c4471f3bed3ad2442bec05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71a0f2e712ade39645c4471f3bed3ad2442bec05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/246ff1aef6e70580ad567c59d63f122aa3c2924a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/246ff1aef6e70580ad567c59d63f122aa3c2924a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/246ff1aef6e70580ad567c59d63f122aa3c2924a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/246ff1aef6e70580ad567c59d63f122aa3c2924a/comments", "author": null, "committer": null, "parents": [{"sha": "f957d41e036fd9cfa7bce9ec7e432e6b5cafea33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f957d41e036fd9cfa7bce9ec7e432e6b5cafea33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f957d41e036fd9cfa7bce9ec7e432e6b5cafea33"}], "stats": {"total": 53, "additions": 40, "deletions": 13}, "files": [{"sha": "2898d2cb4113f6c11eb0de20b91da66c228f3a09", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -1,3 +1,12 @@\n+2012-12-05  Robert Dewar  <dewar@adacore.com>\n+\n+\t* par_sco.adb, sem_prag.adb, put_scos.adb, get_scos.adb: Minor\n+\treformatting.\n+\n+2012-12-05  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* sem_ch3.adb: Code clean up.\n+\n 2012-12-05  Arnaud Charlet  <charlet@adacore.com>\n \n \t* gcc-interface/Make-lang.in: Update dependencies."}, {"sha": "170f5b5623bfb6d983d8fabc73df907b419913c9", "filename": "gcc/ada/get_scos.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fget_scos.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fget_scos.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fget_scos.adb?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -398,6 +398,7 @@ begin\n                   Name_Len := Name_Len + 1;\n                   Name_Buffer (Name_Len) := Getc;\n                end loop;\n+\n                Nam := Name_Find;\n \n             else"}, {"sha": "c2c522cb52094702a2bb5aee98a5911ac23a50b6", "filename": "gcc/ada/par_sco.adb", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fpar_sco.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fpar_sco.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fpar_sco.adb?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -829,6 +829,7 @@ package body Par_SCO is\n                SCO_Index := SCO_Index + 1;\n             end loop;\n          end if;\n+\n          SCO_Index := SCO_Index + 1;\n       end loop;\n "}, {"sha": "de44c45d008c77469a780ff50519c11beeb4d0ca", "filename": "gcc/ada/put_scos.adb", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fput_scos.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fput_scos.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fput_scos.adb?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -23,9 +23,9 @@\n --                                                                          --\n ------------------------------------------------------------------------------\n \n-with Namet;   use Namet;\n-with Opt;     use Opt;\n-with SCOs;    use SCOs;\n+with Namet; use Namet;\n+with Opt;   use Opt;\n+with SCOs;  use SCOs;\n \n procedure Put_SCOs is\n    Current_SCO_Unit : SCO_Unit_Index := 0;\n@@ -250,8 +250,7 @@ begin\n \n                      loop\n                         declare\n-                           T : SCO_Table_Entry\n-                                 renames SCO_Table.Table (Start);\n+                           T : SCO_Table_Entry renames SCO_Table.Table (Start);\n \n                         begin\n                            Write_Info_Char (' ');"}, {"sha": "5745746ce00d312a6ce4d4254f06198360b99a18", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 21, "deletions": 7, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -1192,7 +1192,8 @@ package body Sem_Ch3 is\n             --  In ASIS mode, the access_to_subprogram may be analyzed twice,\n             --  when it is part of an unconstrained type and subtype expansion\n             --  is disabled. To avoid back-end problems with shared profiles,\n-            --  use previous subprogram type as the designated type.\n+            --  use previous subprogram type as the designated type, and then\n+            --  remove scope added above.\n \n             if ASIS_Mode\n               and then Present (Scope (Defining_Identifier (F)))\n@@ -1201,6 +1202,7 @@ package body Sem_Ch3 is\n                Init_Size_Align              (T_Name);\n                Set_Directly_Designated_Type (T_Name,\n                  Scope (Defining_Identifier (F)));\n+               End_Scope;\n                return;\n             end if;\n \n@@ -4993,10 +4995,20 @@ package body Sem_Ch3 is\n                      Scope_Stack.Table (Scope_Stack.Last);\n \n       Anon : constant Entity_Id := Make_Temporary (Loc, 'S');\n-      Acc  : Node_Id;\n+\n+      Acc : Node_Id;\n+      --  Access definition in declaration\n+\n       Comp : Node_Id;\n+      --  Object definition or formal definition with an access definition\n+\n       Decl : Node_Id;\n-      P    : Node_Id;\n+      --  Declaration of anonymous access to subprogram type\n+\n+      Spec : Node_Id;\n+      --  Original specification in access to subprogram\n+\n+      P : Node_Id;\n \n    begin\n       Set_Is_Internal (Anon);\n@@ -5032,10 +5044,12 @@ package body Sem_Ch3 is\n             raise Program_Error;\n       end case;\n \n-      Decl := Make_Full_Type_Declaration (Loc,\n-                Defining_Identifier => Anon,\n-                Type_Definition   =>\n-                  Copy_Separate_Tree (Access_To_Subprogram_Definition (Acc)));\n+      Spec := Access_To_Subprogram_Definition (Acc);\n+\n+      Decl :=\n+        Make_Full_Type_Declaration (Loc,\n+          Defining_Identifier => Anon,\n+          Type_Definition     => Relocate_Node (Spec));\n \n       Mark_Rewrite_Insertion (Decl);\n "}, {"sha": "b44df5ad1502869a42410e549896d957e76995fd", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/246ff1aef6e70580ad567c59d63f122aa3c2924a/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=246ff1aef6e70580ad567c59d63f122aa3c2924a", "patch": "@@ -1960,7 +1960,7 @@ package body Sem_Prag is\n \n             if Nkind (Stmt) = N_Block_Statement then\n                if (No (Declarations (Stmt))\n-                     or else List_Containing (Prev) /= Declarations (Stmt))\n+                    or else List_Containing (Prev) /= Declarations (Stmt))\n                  and then\n                    List_Containing (Prev) /=\n                      Statements (Handled_Statement_Sequence (Stmt))\n@@ -7013,6 +7013,9 @@ package body Sem_Prag is\n \n          --  pragma Assume (boolean_EXPRESSION);\n \n+         --  This should share pragma Assert code ???\n+         --  Run-time check is missing completely ???\n+\n          when Pragma_Assume => Assume : declare\n          begin\n             GNAT_Pragma;"}]}