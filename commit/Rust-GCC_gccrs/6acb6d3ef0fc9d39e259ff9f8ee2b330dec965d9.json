{"sha": "6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmFjYjZkM2VmMGZjOWQzOWUyNTlmZjlmOGVlMmIzMzBkZWM5NjVkOQ==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2002-07-16T19:39:27Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2002-07-16T19:39:27Z"}, "message": "long_double.h (FIXUNS_TRUNCTFDI2_LIBCALL): New define.\n\n\t* gcc/config/pa/long_double.h (FIXUNS_TRUNCTFDI2_LIBCALL): New define.\n\t(fixunstfdi_libfunc): Change to use FIXUNS_TRUNCTFDI2_LIBCALL.\n\t* gcc/config/pa/quadlib.c (_U_Qfcnvfxt_quad_to_udbl): New function.\n\nFrom-SVN: r55490", "tree": {"sha": "3f1e7800e1902256ac38a84963a25cbb06fa3a28", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f1e7800e1902256ac38a84963a25cbb06fa3a28"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/comments", "author": null, "committer": null, "parents": [{"sha": "5d7c281902771a6de24a387f3c759e966e3be8ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d7c281902771a6de24a387f3c759e966e3be8ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d7c281902771a6de24a387f3c759e966e3be8ad"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "80873770c5f2d79e7753a040e2ae705213fbaee0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "patch": "@@ -1,3 +1,8 @@\n+2002-07-16  Steve Ellcey  <sje@cup.hp.com>\n+\t* gcc/config/pa/long_double.h (FIXUNS_TRUNCTFDI2_LIBCALL): New define.\n+\t(fixunstfdi_libfunc): Change to use FIXUNS_TRUNCTFDI2_LIBCALL.\n+\t* gcc/config/pa/quadlib.c (_U_Qfcnvfxt_quad_to_udbl): New function.\n+\n 2002-07-16  Ian Dall  <ian@sibyl.beware.dropbear.id.au>\n \n \t* doc/invoke.texi (NS32K Options): Document -mieee-compare option"}, {"sha": "5d2c6199bc8580eaa1a4d50669b950762b5dc992", "filename": "gcc/config/pa/long_double.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2Fconfig%2Fpa%2Flong_double.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2Fconfig%2Fpa%2Flong_double.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Flong_double.h?ref=6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of long double support for GNU compiler.\n-   Copyright (C) 2000 Free Software Foundation, Inc.\n+   Copyright (C) 2000, 2002 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -42,6 +42,7 @@ Boston, MA 02111-1307, USA.  */\n #define FIX_TRUNCTFSI2_LIBCALL \\\n   (TARGET_64BIT ? \"__U_Qfcnvfxt_quad_to_sgl\" : \"_U_Qfcnvfxt_quad_to_sgl\")\n #define FIXUNS_TRUNCTFSI2_LIBCALL \"_U_Qfcnvfxt_quad_to_usgl\"\n+#define FIXUNS_TRUNCTFDI2_LIBCALL \"_U_Qfcnvfxt_quad_to_udbl\"\n #define FIX_TRUNCTFDI2_LIBCALL \"_U_Qfcnvfxt_quad_to_dbl\"\n #define EQTF2_LIBCALL \"_U_Qfeq\"\n #define NETF2_LIBCALL \"_U_Qfne\"\n@@ -80,7 +81,7 @@ Boston, MA 02111-1307, USA.  */\n     fixtfsi_libfunc = gen_rtx_SYMBOL_REF (Pmode, FIX_TRUNCTFSI2_LIBCALL);\\\n     fixtfdi_libfunc = gen_rtx_SYMBOL_REF (Pmode, FIX_TRUNCTFDI2_LIBCALL);\\\n     fixunstfsi_libfunc = gen_rtx_SYMBOL_REF (Pmode, FIXUNS_TRUNCTFSI2_LIBCALL);\\\n-    fixunstfdi_libfunc = gen_rtx_SYMBOL_REF (Pmode, FIX_TRUNCTFDI2_LIBCALL);  \\\n+    fixunstfdi_libfunc = gen_rtx_SYMBOL_REF (Pmode, FIXUNS_TRUNCTFDI2_LIBCALL);\\\n     eqtf2_libfunc = gen_rtx_SYMBOL_REF (Pmode, EQTF2_LIBCALL);\t\t\\\n     netf2_libfunc = gen_rtx_SYMBOL_REF (Pmode, NETF2_LIBCALL);\t\t\\\n     gttf2_libfunc = gen_rtx_SYMBOL_REF (Pmode, GTTF2_LIBCALL);\t\t\\"}, {"sha": "05d632a25c637bb1450d920001d07ceb5e8aae39", "filename": "gcc/config/pa/quadlib.c", "status": "modified", "additions": 18, "deletions": 1, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2Fconfig%2Fpa%2Fquadlib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9/gcc%2Fconfig%2Fpa%2Fquadlib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fquadlib.c?ref=6acb6d3ef0fc9d39e259ff9f8ee2b330dec965d9", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for long double support.\n-   Copyright (C) 2000 Free Software Foundation, Inc.\n+   Copyright (C) 2000, 2002 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -42,6 +42,7 @@ long double _U_Qfneg (long double);\n int __U_Qfcnvfxt_quad_to_sgl (long double);\n #endif\n unsigned int _U_Qfcnvfxt_quad_to_usgl(long double);\n+unsigned long long _U_Qfcnvfxt_quad_to_udbl(long double);\n \n int\n _U_Qfeq (long double a, long double b)\n@@ -114,3 +115,19 @@ _U_Qfcnvfxt_quad_to_usgl(long double a)\n   extern long long _U_Qfcnvfxt_quad_to_dbl (long double a);\n   return (unsigned int) _U_Qfcnvfxt_quad_to_dbl (a);\n }\n+\n+/* HP only has signed conversion in library, so need to synthesize an\n+   unsigned version */\n+typedef union {\n+    long long unsigned int u[2];\n+    long double d[1];\n+} quad_type;\n+\n+unsigned long long\n+_U_Qfcnvfxt_quad_to_udbl(long double a)\n+{\n+  extern quad_type _U_Qfcnvfxt_quad_to_quad (long double a);\n+  quad_type u;\n+  u = _U_Qfcnvfxt_quad_to_quad(a);\n+  return u.u[1];\n+}"}]}