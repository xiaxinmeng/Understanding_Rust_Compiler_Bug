{"sha": "f000294dcdaccb2e65a565299189781a185df6d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjAwMDI5NGRjZGFjY2IyZTY1YTU2NTI5OTE4OTc4MWExODVkZjZkNg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-01-31T07:56:07Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-01-31T07:56:07Z"}, "message": "cpplib.c (T_ELIF): Move to STDC89, not that it matters.\n\n        * cpplib.c (T_ELIF): Move to STDC89, not that it matters.\n        (_cpp_handle_directive): Suggest not using #elif with -Wtraditional.\n\nFrom-SVN: r39368", "tree": {"sha": "161db8322774ceb1d9bb51392b88a49908492157", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/161db8322774ceb1d9bb51392b88a49908492157"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f000294dcdaccb2e65a565299189781a185df6d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f000294dcdaccb2e65a565299189781a185df6d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f000294dcdaccb2e65a565299189781a185df6d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f000294dcdaccb2e65a565299189781a185df6d6/comments", "author": null, "committer": null, "parents": [{"sha": "fd793c7a43adb98e4559e60f07329ad0225eedcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd793c7a43adb98e4559e60f07329ad0225eedcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd793c7a43adb98e4559e60f07329ad0225eedcb"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "f7ad2b0476d9d62fb2fe73a226375dc017d8ed92", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f000294dcdaccb2e65a565299189781a185df6d6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f000294dcdaccb2e65a565299189781a185df6d6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f000294dcdaccb2e65a565299189781a185df6d6", "patch": "@@ -1,3 +1,8 @@\n+2001-01-31  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+        * cpplib.c (T_ELIF): Move to STDC89, not that it matters.\n+        (_cpp_handle_directive): Suggest not using #elif with -Wtraditional.\n+\n 2001-01-31  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n         * cpphash.h (struct cpp_reader): New saved_flags."}, {"sha": "da6e39758b0b0eb2da18e710624f9c38af5579e6", "filename": "gcc/cpplib.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f000294dcdaccb2e65a565299189781a185df6d6/gcc%2Fcpplib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f000294dcdaccb2e65a565299189781a185df6d6/gcc%2Fcpplib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.c?ref=f000294dcdaccb2e65a565299189781a185df6d6", "patch": "@@ -128,7 +128,7 @@ D(else,\t\tT_ELSE,\t\tKANDR,     COND)\t   /*   9863 */ \\\n D(ifndef,\tT_IFNDEF,\tKANDR,     COND | IF_COND) /*   9675 */ \\\n D(undef,\tT_UNDEF,\tKANDR,     IN_I)\t   /*   4837 */ \\\n D(line,\t\tT_LINE,\t\tKANDR,     IN_I)\t   /*   2465 */ \\\n-D(elif,\t\tT_ELIF,\t\tKANDR,     COND)\t   /*    610 */ \\\n+D(elif,\t\tT_ELIF,\t\tSTDC89,    COND)\t   /*    610 */ \\\n D(error,\tT_ERROR,\tSTDC89,    0)\t\t   /*    475 */ \\\n D(pragma,\tT_PRAGMA,\tSTDC89,    IN_I)\t   /*    195 */ \\\n D(warning,\tT_WARNING,\tEXTENSION, 0)\t\t   /*     22 */ \\\n@@ -321,7 +321,10 @@ _cpp_handle_directive (pfile, indented)\n \t     conditional blocks.  */\n \t  if (CPP_WTRADITIONAL (pfile))\n \t    {\n-\t      if (indented && dir->origin == KANDR)\n+\t      if (dir == &dtable[T_ELIF])\n+\t\tcpp_warning (pfile,\n+\t\t\t     \"suggest not using #elif in traditional C\");\n+\t      else if (indented && dir->origin == KANDR)\n \t\tcpp_warning (pfile,\n \t\t\t     \"traditional C ignores #%s with the # indented\",\n \t\t\t     dir->name);"}]}