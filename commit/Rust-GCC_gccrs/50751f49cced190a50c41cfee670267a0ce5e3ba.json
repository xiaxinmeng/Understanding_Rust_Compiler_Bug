{"sha": "50751f49cced190a50c41cfee670267a0ce5e3ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA3NTFmNDljY2VkMTkwYTUwYzQxY2ZlZTY3MDI2N2EwY2U1ZTNiYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-12-11T10:40:08Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-12-11T10:40:08Z"}, "message": "decl.c (gnat_to_gnu_entity): If there is an alignment set on a renaming...\n\n\t* gcc-interface/decl.c (gnat_to_gnu_entity) <object>: If there is an\n\talignment set on a renaming, assert that the renamed object is aligned\n\tenough as to make it possible to honor it.\n\nFrom-SVN: r182201", "tree": {"sha": "b0625d492701e61a8aed9a3aa36c3f1be853a8af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0625d492701e61a8aed9a3aa36c3f1be853a8af"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/50751f49cced190a50c41cfee670267a0ce5e3ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50751f49cced190a50c41cfee670267a0ce5e3ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50751f49cced190a50c41cfee670267a0ce5e3ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50751f49cced190a50c41cfee670267a0ce5e3ba/comments", "author": null, "committer": null, "parents": [{"sha": "5d74133f84d1a113c009ba3beb9dcdfc8c8283a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d74133f84d1a113c009ba3beb9dcdfc8c8283a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d74133f84d1a113c009ba3beb9dcdfc8c8283a9"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "e8ce2e6902caa21a806ced51c6215deac8bc55d2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50751f49cced190a50c41cfee670267a0ce5e3ba/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50751f49cced190a50c41cfee670267a0ce5e3ba/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=50751f49cced190a50c41cfee670267a0ce5e3ba", "patch": "@@ -1,3 +1,9 @@\n+2011-12-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (gnat_to_gnu_entity) <object>: If there is an\n+\talignment set on a renaming, assert that the renamed object is aligned\n+\tenough as to make it possible to honor it.\n+\n 2011-12-11  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/trans.c (gigi): Initialize the linemap earlier."}, {"sha": "aecbd76b9839b0500147906b99f7cd6675b46215", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/50751f49cced190a50c41cfee670267a0ce5e3ba/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/50751f49cced190a50c41cfee670267a0ce5e3ba/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=50751f49cced190a50c41cfee670267a0ce5e3ba", "patch": "@@ -1008,6 +1008,17 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \t\t\tsaved = true;\n \t\t\tannotate_object (gnat_entity, gnu_type, NULL_TREE,\n \t\t\t\t\t false, false);\n+\t\t\t/* This assertion will fail if the renamed object\n+\t\t\t   isn't aligned enough as to make it possible to\n+\t\t\t   honor the alignment set on the renaming.  */\n+\t\t\tif (align)\n+\t\t\t  {\n+\t\t\t    unsigned int renamed_align\n+\t\t\t      = DECL_P (gnu_decl)\n+\t\t\t\t? DECL_ALIGN (gnu_decl)\n+\t\t\t\t: TYPE_ALIGN (TREE_TYPE (gnu_decl));\n+\t\t\t    gcc_assert (renamed_align >= align);\n+\t\t\t  }\n \t\t\tbreak;\n \t\t      }\n "}]}