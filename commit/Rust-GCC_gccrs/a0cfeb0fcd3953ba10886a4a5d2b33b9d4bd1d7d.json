{"sha": "a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBjZmViMGZjZDM5NTNiYTEwODg2YTRhNWQyYjMzYjlkNGJkMWQ3ZA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2006-05-16T03:49:57Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2006-05-16T03:49:57Z"}, "message": "crtstuff.c (__dso_handle): Set section from TARGET_LBIGCC_SDATA_SECTION if defined.\n\n* crtstuff.c (__dso_handle): Set section from\nTARGET_LBIGCC_SDATA_SECTION if defined.\n* doc/tm.text (TARGET_LIBGCC_SDATA_SECTION): Document.\n* config/mips/mips.h (TARGET_LIBGCC_SDATA_SECTION): Define.\n\nFrom-SVN: r113817", "tree": {"sha": "cfd3b76308f46b91f774d8dfb0c75c7af4068478", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cfd3b76308f46b91f774d8dfb0c75c7af4068478"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/comments", "author": null, "committer": null, "parents": [{"sha": "2102802062c79ec73a99143d9daab7174b4b12fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2102802062c79ec73a99143d9daab7174b4b12fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2102802062c79ec73a99143d9daab7174b4b12fe"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "f01eebdae816c02b75423e9843f6b626adf5485b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "patch": "@@ -1,3 +1,10 @@\n+2006-05-16  DJ Delorie  <dj@redhat.com>\n+\n+\t* crtstuff.c (__dso_handle): Set section from\n+\tTARGET_LBIGCC_SDATA_SECTION if defined.\n+\t* doc/tm.text (TARGET_LIBGCC_SDATA_SECTION): Document.\n+\t* config/mips/mips.h (TARGET_LIBGCC_SDATA_SECTION): Define.\n+\n 2006-05-16  Danny Smith  <dannysmith@users.sourceforge.net>\n \n         PR target/27599"}, {"sha": "f0fe41193a0d1ca262b01167a56a576a296a8caa", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "patch": "@@ -466,6 +466,8 @@ extern const struct mips_rtx_cost_data *mips_cost;\n #endif\n #endif /* IN_LIBGCC2 */\n \n+#define TARGET_LIBGCC_SDATA_SECTION \".sdata\"\n+\n #ifndef MULTILIB_ENDIAN_DEFAULT\n #if TARGET_ENDIAN_DEFAULT == 0\n #define MULTILIB_ENDIAN_DEFAULT \"EL\""}, {"sha": "8fdc021d019f10337a62383ed55f94948b2e4546", "filename": "gcc/crtstuff.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fcrtstuff.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fcrtstuff.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcrtstuff.c?ref=a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "patch": "@@ -225,6 +225,9 @@ STATIC void *__JCR_LIST__[]\n    in one DSO or the main program is not used in another object.  The\n    dynamic linker takes care of this.  */\n \n+#ifdef TARGET_LIBGCC_SDATA_SECTION\n+extern void *__dso_handle __attribute__ ((__section__ (TARGET_LIBGCC_SDATA_SECTION)));\n+#endif\n #ifdef HAVE_GAS_HIDDEN\n extern void *__dso_handle __attribute__ ((__visibility__ (\"hidden\")));\n #endif"}, {"sha": "af1b21c422b69a162ae4b07a97084492f9ea676d", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=a0cfeb0fcd3953ba10886a4a5d2b33b9d4bd1d7d", "patch": "@@ -6217,6 +6217,18 @@ registers initialized in the function prologue or to ensure that\n constant pools don't end up too far way in the text section.\n @end defmac\n \n+@defmac TARGET_LIBGCC_SDATA_SECTION\n+If defined, a string which names the section into which small\n+variables defined in crtstuff and libgcc should go.  This is useful\n+when the target has options for optimizing access to small data, and\n+you want the crtstuff and libgcc routines to be conservative in what\n+they expect of your application yet liberal in what your application\n+expects.  For example, for targets with a @code{.sdata} section (like\n+MIPS), you could compile crtstuff with @code{-G 0} so that it doesn't\n+require small data support from your application, but use this macro\n+to put small data into @code{.sdata} so that your application can\n+access these variables whether it uses small data or not.\n+\n @defmac FORCE_CODE_SECTION_ALIGN\n If defined, an ASM statement that aligns a code section to some\n arbitrary boundary.  This is used to force all fragments of the"}]}