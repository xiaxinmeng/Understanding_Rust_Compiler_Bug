{"sha": "19dc6d015261862f1335587ab362f79a89dfc0c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTlkYzZkMDE1MjYxODYyZjEzMzU1ODdhYjM2MmY3OWE4OWRmYzBjOQ==", "commit": {"author": {"name": "Nicola Pero", "email": "nicola.pero@meta-innovation.com", "date": "2010-09-23T22:21:39Z"}, "committer": {"name": "Nicola Pero", "email": "nicola@gcc.gnu.org", "date": "2010-09-23T22:21:39Z"}, "message": "In gcc/:\n\n        * c-typeck.c (convert_arguments): Use warning 'too many arguments\n        to method [methodname]' for an Objective-C method instead of the\n        less satisfactory 'too many arguments to function' (with no method\n        name).\nIn gcc/cp/:\n        * typeck.c (warn_args_num): Use warning 'too many arguments to\n        method [methodname]' for an Objective-C method instead of the less\n        satisfactory 'too many arguments to function' (with no method\n        name).\nIn gcc/testsuite/:\n        * obj-c++.dg/too-many-args.mm: New file.\n        Merge from 'apple/trunk' branch on FSF servers.\n\n        2006-03-27 Fariborz Jahanian <fjahanian@apple.com>\n\n        Radar 4491608\n        * objc.dg/too-many-args.m: New\n\nFrom-SVN: r164573", "tree": {"sha": "680cb9863c1843acf4a5ee0d2815beb43af9ab54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/680cb9863c1843acf4a5ee0d2815beb43af9ab54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19dc6d015261862f1335587ab362f79a89dfc0c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19dc6d015261862f1335587ab362f79a89dfc0c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19dc6d015261862f1335587ab362f79a89dfc0c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19dc6d015261862f1335587ab362f79a89dfc0c9/comments", "author": {"login": "Nico-31415", "id": 94470564, "node_id": "U_kgDOBaGBpA", "avatar_url": "https://avatars.githubusercontent.com/u/94470564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nico-31415", "html_url": "https://github.com/Nico-31415", "followers_url": "https://api.github.com/users/Nico-31415/followers", "following_url": "https://api.github.com/users/Nico-31415/following{/other_user}", "gists_url": "https://api.github.com/users/Nico-31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nico-31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nico-31415/subscriptions", "organizations_url": "https://api.github.com/users/Nico-31415/orgs", "repos_url": "https://api.github.com/users/Nico-31415/repos", "events_url": "https://api.github.com/users/Nico-31415/events{/privacy}", "received_events_url": "https://api.github.com/users/Nico-31415/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "452648a89bd6f147245b795ac2880f34075685fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/452648a89bd6f147245b795ac2880f34075685fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/452648a89bd6f147245b795ac2880f34075685fa"}], "stats": {"total": 69, "additions": 65, "deletions": 4}, "files": [{"sha": "d23732f7ea6067ed7740e38c9e2588af7b07d7f9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -1,3 +1,10 @@\n+2010-09-24  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\t* c-typeck.c (convert_arguments): Use warning 'too many arguments\n+\tto method [methodname]' for an Objective-C method instead of the\n+\tless satisfactory 'too many arguments to function' (with no method\n+\tname).\n+\n 2010-09-23  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* tree-flow.h (execute_update_addresses_taken): Remove parameter."}, {"sha": "065e9b802c76edadb4a4fa4fd52763aa45ab15f5", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -2897,8 +2897,13 @@ convert_arguments (tree typelist, VEC(tree,gc) *values,\n \n       if (type == void_type_node)\n \t{\n-\t  error_at (input_location,\n-\t\t    \"too many arguments to function %qE\", function);\n+\t  if (selector)\n+\t    error_at (input_location,\n+\t\t      \"too many arguments to method %qE\", selector);\n+\t  else\n+\t    error_at (input_location,\n+\t\t      \"too many arguments to function %qE\", function);\n+\n \t  if (fundecl && !DECL_BUILT_IN (fundecl))\n \t    inform (DECL_SOURCE_LOCATION (fundecl), \"declared here\");\n \t  return parmnum;"}, {"sha": "95613b05047b0306ea3c7ef6f8b5fda774065a4c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -1,3 +1,10 @@\n+2010-09-24  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\t* typeck.c (warn_args_num): Use warning 'too many arguments to\n+\tmethod [methodname]' for an Objective-C method instead of the less\n+\tsatisfactory 'too many arguments to function' (with no method\n+\tname).\n+\n 2010-09-21  Jason Merrill  <jason@redhat.com>\n \n \t* mangle.c (write_expression) [SCOPE_REF]: Only do -fabi-version=1"}, {"sha": "019c51eed856dd4f4e1cdc2baeb71560e85b31d9", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -3428,8 +3428,17 @@ warn_args_num (location_t loc, tree fndecl, bool too_many_p)\n \t      \"declared here\");\n     }\n   else\n-    error_at (loc, too_many_p ? G_(\"too many arguments to function\")\n-\t\t      \t      : G_(\"too few arguments to function\"));\n+    {\n+      if (c_dialect_objc ()  &&  objc_message_selector ())\n+\terror_at (loc,\n+\t\t  too_many_p \n+\t\t  ? G_(\"too many arguments to method %q#D\")\n+\t\t  : G_(\"too few arguments to method %q#D\"),\n+\t\t  objc_message_selector ());\n+      else\n+\terror_at (loc, too_many_p ? G_(\"too many arguments to function\")\n+\t\t                  : G_(\"too few arguments to function\"));\n+    }\n }\n \n /* Convert the actual parameter expressions in the list VALUES to the"}, {"sha": "649c269979f0ee12e1674866ac1d6404313ab01f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -1,3 +1,16 @@\n+2010-09-24  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\t* obj-c++.dg/too-many-args.mm: New file.\n+\n+2010-09-24  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\tMerge from 'apple/trunk' branch on FSF servers.\n+\n+\t2006-03-27 Fariborz Jahanian <fjahanian@apple.com>\n+\n+\tRadar 4491608\n+\t* objc.dg/too-many-args.m: New\n+\n 2010-09-23  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/45744"}, {"sha": "6fee1b31bd538fa65f83920d91524d1a61a22798", "filename": "gcc/testsuite/obj-c++.dg/too-many-args.mm", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftoo-many-args.mm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftoo-many-args.mm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobj-c%2B%2B.dg%2Ftoo-many-args.mm?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+\n+@interface SomeClass\n++ method:(int)foo;\n+@end\n+\n+int main(void) {\n+    [SomeClass method:3, 4];\t/* { dg-error \"too many arguments to method \\\\'method:\\\\'\" } */\n+    return 0;\n+}"}, {"sha": "6fee1b31bd538fa65f83920d91524d1a61a22798", "filename": "gcc/testsuite/objc.dg/too-many-args.m", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2Fobjc.dg%2Ftoo-many-args.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19dc6d015261862f1335587ab362f79a89dfc0c9/gcc%2Ftestsuite%2Fobjc.dg%2Ftoo-many-args.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Ftoo-many-args.m?ref=19dc6d015261862f1335587ab362f79a89dfc0c9", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do compile } */\n+\n+@interface SomeClass\n++ method:(int)foo;\n+@end\n+\n+int main(void) {\n+    [SomeClass method:3, 4];\t/* { dg-error \"too many arguments to method \\\\'method:\\\\'\" } */\n+    return 0;\n+}"}]}