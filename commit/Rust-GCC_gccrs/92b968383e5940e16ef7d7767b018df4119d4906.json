{"sha": "92b968383e5940e16ef7d7767b018df4119d4906", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTJiOTY4MzgzZTU5NDBlMTZlZjdkNzc2N2IwMThkZjQxMTlkNDkwNg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-10-20T19:14:09Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-10-20T19:14:09Z"}, "message": "except.c (expand_exception_blocks): Call do_pending_stack_adust.\n\n\t* except.c (expand_exception_blocks): Call do_pending_stack_adust.\n\t(expand_end_catch_block): Likewise.\n\t(expand_end_eh_spec): Likewise.\n\nFrom-SVN: r16106", "tree": {"sha": "a298bcf2f9bd894953184b9cffc55a2df3b5eced", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a298bcf2f9bd894953184b9cffc55a2df3b5eced"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/92b968383e5940e16ef7d7767b018df4119d4906", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b968383e5940e16ef7d7767b018df4119d4906", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92b968383e5940e16ef7d7767b018df4119d4906", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92b968383e5940e16ef7d7767b018df4119d4906/comments", "author": null, "committer": null, "parents": [{"sha": "92eca6404c697e48a0be9ce9d083ecd4c6732e01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/92eca6404c697e48a0be9ce9d083ecd4c6732e01", "html_url": "https://github.com/Rust-GCC/gccrs/commit/92eca6404c697e48a0be9ce9d083ecd4c6732e01"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "30c8a4040e05271d7bad5ee9a4850a78076e1f6f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b968383e5940e16ef7d7767b018df4119d4906/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b968383e5940e16ef7d7767b018df4119d4906/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=92b968383e5940e16ef7d7767b018df4119d4906", "patch": "@@ -1,3 +1,9 @@\n+Mon Oct 20 12:06:34 1997  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* except.c (expand_exception_blocks): Call do_pending_stack_adust.\n+\t(expand_end_catch_block): Likewise.\n+\t(expand_end_eh_spec): Likewise.\n+\n Mon Oct 20 11:44:20 1997  Mark Mitchell  <mmitchell@usa.net>\n \n \t* decl.c (duplicate_decls): Handle template specializations"}, {"sha": "fe0a1b5e0385a0f9dcdf3ee6cab493a8bee2ffbc", "filename": "gcc/cp/except.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/92b968383e5940e16ef7d7767b018df4119d4906/gcc%2Fcp%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/92b968383e5940e16ef7d7767b018df4119d4906/gcc%2Fcp%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexcept.c?ref=92b968383e5940e16ef7d7767b018df4119d4906", "patch": "@@ -560,6 +560,7 @@ expand_end_catch_block ()\n   TREE_TYPE (t) = void_type_node;\n   RTL_EXPR_RTL (t) = const0_rtx;\n   TREE_SIDE_EFFECTS (t) = 1;\n+  do_pending_stack_adjust ();\n   start_sequence_for_rtl_expr (t);\n \n   if (exceptions_via_longjmp)\n@@ -581,6 +582,7 @@ expand_end_catch_block ()\n       expand_internal_throw (DECL_RTL (top_label_entry (&caught_return_label_stack)));\n     }\n \n+  do_pending_stack_adjust ();\n   RTL_EXPR_SEQUENCE (t) = get_insns ();\n   end_sequence ();\n \n@@ -925,6 +927,7 @@ expand_end_eh_spec (raises)\n   TREE_TYPE (expr) = void_type_node;\n   RTL_EXPR_RTL (expr) = const0_rtx;\n   TREE_SIDE_EFFECTS (expr) = 1;\n+  do_pending_stack_adjust ();\n   start_sequence_for_rtl_expr (expr);\n   cont = gen_label_rtx ();\n   emit_move_insn (ret, gen_rtx (LABEL_REF, Pmode, cont));\n@@ -934,6 +937,7 @@ expand_end_eh_spec (raises)\n   do_function_call (Terminate, NULL_TREE, NULL_TREE);\n   assemble_external (TREE_OPERAND (Terminate, 0));\n   emit_barrier ();\n+  do_pending_stack_adjust ();\n   RTL_EXPR_SEQUENCE (expr) = get_insns ();\n   end_sequence ();\n   \n@@ -943,6 +947,7 @@ expand_end_eh_spec (raises)\n   TREE_TYPE (expr) = void_type_node;\n   RTL_EXPR_RTL (expr) = const0_rtx;\n   TREE_SIDE_EFFECTS (expr) = 1;\n+  do_pending_stack_adjust ();\n   start_sequence_for_rtl_expr (expr);\n \n   cont = gen_label_rtx ();\n@@ -987,6 +992,7 @@ expand_end_eh_spec (raises)\n   emit_indirect_jump (ret);\n   emit_label (end);\n   \n+  do_pending_stack_adjust ();\n   RTL_EXPR_SEQUENCE (expr) = get_insns ();\n   end_sequence ();\n   \n@@ -1000,8 +1006,10 @@ expand_end_eh_spec (raises)\n void\n expand_exception_blocks ()\n {\n+  do_pending_stack_adjust ();\n   push_to_sequence (catch_clauses);\n   expand_leftover_cleanups ();\n+  do_pending_stack_adjust ();\n   catch_clauses = get_insns ();\n   end_sequence ();\n \n@@ -1012,8 +1020,10 @@ expand_exception_blocks ()\n   if (TYPE_RAISES_EXCEPTIONS (TREE_TYPE (current_function_decl)))\n     {\n      expand_end_eh_spec (TYPE_RAISES_EXCEPTIONS (TREE_TYPE (current_function_decl)));\n+     do_pending_stack_adjust ();\n      push_to_sequence (catch_clauses);\n      expand_leftover_cleanups ();\n+     do_pending_stack_adjust ();\n      catch_clauses = get_insns ();\n      end_sequence ();\n     }"}]}