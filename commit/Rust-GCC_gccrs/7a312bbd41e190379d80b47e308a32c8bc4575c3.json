{"sha": "7a312bbd41e190379d80b47e308a32c8bc4575c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EzMTJiYmQ0MWUxOTAzNzlkODBiNDdlMzA4YTMyYzhiYzQ1NzVjMw==", "commit": {"author": {"name": "Pedro Alves", "email": "palves@redhat.com", "date": "2017-03-27T14:23:49Z"}, "committer": {"name": "Pedro Alves", "email": "palves@gcc.gnu.org", "date": "2017-03-27T14:23:49Z"}, "message": "cplus_demangle_fill_component: Handle DEMANGLE_COMPONENT_RVALUE_REFERENCE\n\nThis patch almost a decade ago:\n\n...\n    2007-08-31  Douglas Gregor  <doug.gregor@gmail.com>\n\n        * cp-demangle.c (d_dump): Handle\n        DEMANGLE_COMPONENT_RVALUE_REFERENCE.\n        (d_make_comp): Ditto.\n...\n\n... missed doing the same change to cplus_demangle_fill_component that\nwas done to d_make_comp.  I.e., teach it to only validate that we're\nnot passing in a \"right\" subtree.  GDB has recently (finally) learned\nabout rvalue references, and a change to make it use\ncplus_demangle_fill_component more ran into an assertion because of\nthis.\n\n(GDB is the only user of cplus_demangle_fill_component in both the gcc\nand binutils-gdb trees.)\n\nlibiberty/ChangeLog:\n2017-03-27  Pedro Alves  <palves@redhat.com>\n\n\t* cp-demint.c (cplus_demangle_fill_component): Handle\n\tDEMANGLE_COMPONENT_RVALUE_REFERENCE.\n\nFrom-SVN: r246502", "tree": {"sha": "b08c45120ba4d29d33598aeae306c2670c8d87e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b08c45120ba4d29d33598aeae306c2670c8d87e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a312bbd41e190379d80b47e308a32c8bc4575c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a312bbd41e190379d80b47e308a32c8bc4575c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a312bbd41e190379d80b47e308a32c8bc4575c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a312bbd41e190379d80b47e308a32c8bc4575c3/comments", "author": {"login": "palves", "id": 1202913, "node_id": "MDQ6VXNlcjEyMDI5MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1202913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/palves", "html_url": "https://github.com/palves", "followers_url": "https://api.github.com/users/palves/followers", "following_url": "https://api.github.com/users/palves/following{/other_user}", "gists_url": "https://api.github.com/users/palves/gists{/gist_id}", "starred_url": "https://api.github.com/users/palves/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/palves/subscriptions", "organizations_url": "https://api.github.com/users/palves/orgs", "repos_url": "https://api.github.com/users/palves/repos", "events_url": "https://api.github.com/users/palves/events{/privacy}", "received_events_url": "https://api.github.com/users/palves/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "819df7815634caf606a3d212ca4cba6a93acafd0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/819df7815634caf606a3d212ca4cba6a93acafd0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/819df7815634caf606a3d212ca4cba6a93acafd0"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "f6318e2acf214d15d1abbdac7b478fdacef82894", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a312bbd41e190379d80b47e308a32c8bc4575c3/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a312bbd41e190379d80b47e308a32c8bc4575c3/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=7a312bbd41e190379d80b47e308a32c8bc4575c3", "patch": "@@ -1,3 +1,8 @@\n+2017-03-27  Pedro Alves  <palves@redhat.com>\n+\n+\t* cp-demint.c (cplus_demangle_fill_component): Handle\n+\tDEMANGLE_COMPONENT_RVALUE_REFERENCE.\n+\n 2017-03-12  Mark Wielaard  <mark@klomp.org>\n \n \t* cp-demangle.c (cplus_demangle_fill_name): Initialize"}, {"sha": "158b90a1500325e0ee53143e0cde1706e67c556b", "filename": "libiberty/cp-demint.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a312bbd41e190379d80b47e308a32c8bc4575c3/libiberty%2Fcp-demint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a312bbd41e190379d80b47e308a32c8bc4575c3/libiberty%2Fcp-demint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcp-demint.c?ref=7a312bbd41e190379d80b47e308a32c8bc4575c3", "patch": "@@ -106,6 +106,7 @@ cplus_demangle_fill_component (struct demangle_component *p,\n     case DEMANGLE_COMPONENT_CONST_THIS:\n     case DEMANGLE_COMPONENT_POINTER:\n     case DEMANGLE_COMPONENT_REFERENCE:\n+    case DEMANGLE_COMPONENT_RVALUE_REFERENCE:\n     case DEMANGLE_COMPONENT_COMPLEX:\n     case DEMANGLE_COMPONENT_IMAGINARY:\n     case DEMANGLE_COMPONENT_VENDOR_TYPE:"}]}