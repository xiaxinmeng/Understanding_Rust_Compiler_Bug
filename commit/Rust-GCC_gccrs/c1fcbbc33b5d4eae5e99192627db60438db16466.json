{"sha": "c1fcbbc33b5d4eae5e99192627db60438db16466", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzFmY2JiYzMzYjVkNGVhZTVlOTkxOTI2MjdkYjYwNDM4ZGIxNjQ2Ng==", "commit": {"author": {"name": "Ranjit Mathew", "email": "rmathew@hotmail.com", "date": "2004-04-25T04:19:13Z"}, "committer": {"name": "Ranjit Mathew", "email": "rmathew@gcc.gnu.org", "date": "2004-04-25T04:19:13Z"}, "message": "jacks.exp (gcj_jacks_write): Explicitly limit the maximum heap size to avoid unnecessary thrashing.\n\n\t* testsuite/libjava.jacks/jacks.exp (gcj_jacks_write): Explicitly\n\tlimit the maximum heap size to avoid unnecessary thrashing.\n\nFrom-SVN: r81156", "tree": {"sha": "252e30e01a9c57549a1c3a7726b0956a58400c87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/252e30e01a9c57549a1c3a7726b0956a58400c87"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1fcbbc33b5d4eae5e99192627db60438db16466", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1fcbbc33b5d4eae5e99192627db60438db16466", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1fcbbc33b5d4eae5e99192627db60438db16466", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1fcbbc33b5d4eae5e99192627db60438db16466/comments", "author": null, "committer": null, "parents": [{"sha": "ececf1b9193288e70953b7fa6378e6f4f801c5b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ececf1b9193288e70953b7fa6378e6f4f801c5b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ececf1b9193288e70953b7fa6378e6f4f801c5b1"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "3cb21bdbd9f157479dbf81e6ad3d304024b645be", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1fcbbc33b5d4eae5e99192627db60438db16466/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1fcbbc33b5d4eae5e99192627db60438db16466/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c1fcbbc33b5d4eae5e99192627db60438db16466", "patch": "@@ -1,3 +1,8 @@\n+2004-04-25  Ranjit Mathew  <rmathew@hotmail.com>\n+\t\n+\t* testsuite/libjava.jacks/jacks.exp (gcj_jacks_write): Explicitly\n+\tlimit the maximum heap size to avoid unnecessary thrashing.\n+\n 2004-04-24  Jerry Quinn  <jlquinn@optonline.net>\n \n \t* java/text/CollationElementIterator.java (reset): Reset"}, {"sha": "679c7f584089849ab190f193cdf5e474bf2c495e", "filename": "libjava/testsuite/libjava.jacks/jacks.exp", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1fcbbc33b5d4eae5e99192627db60438db16466/libjava%2Ftestsuite%2Flibjava.jacks%2Fjacks.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1fcbbc33b5d4eae5e99192627db60438db16466/libjava%2Ftestsuite%2Flibjava.jacks%2Fjacks.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flibjava.jacks%2Fjacks.exp?ref=c1fcbbc33b5d4eae5e99192627db60438db16466", "patch": "@@ -28,7 +28,12 @@ proc gcj_jacks_write {filename} {\n   puts $fd \"set JAVA_CLASSPATH \\\"$libgcj_jar\\\"\"\n   puts $fd \"set JAVAC_FLAGS [list $rest]\"\n   puts $fd \"set JAVA [list [libjava_find_gij]]\"\n-  puts $fd \"set JAVA_FLAGS \\\"\\\"\"\n+\n+  # Without an explicit limit on the heap size, tests depending on\n+  # an OutOfMemoryError (e.g. \"15.9.4-runtime-creation-2\") can result\n+  # in a lot of unnecessary thrashing.\n+  puts $fd \"set JAVA_FLAGS \\\"-mx=64m\\\"\"\n+\n   puts $fd \"set JAVAC_ENCODING_FLAG --encoding=\"\n   puts $fd \"set tcltest::testConstraints(encoding) 1\"\n   puts $fd \"set tcltest::testConstraints(gcj) 1\""}]}