{"sha": "37a46828a752531a6794329f21d582f25fc23358", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzdhNDY4MjhhNzUyNTMxYTY3OTQzMjlmMjFkNTgyZjI1ZmMyMzM1OA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2004-02-19T21:49:45Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2004-02-19T21:49:45Z"}, "message": "opts.c (decode_options): Don't use DEFAULT_SHORT_ENUMS.\n\n\t* opts.c (decode_options): Don't use DEFAULT_SHORT_ENUMS.\n\t* system.h (DEFAULT_SHORT_ENUMS): Poison.\n\t* config/cris/cris.h: Remove a comment about\n\tDEFAULT_SHORT_ENUMS.\n\t* config/ip2k/ip2k.h: Likewise.\n\t* doc/tm.texi (DEFAULT_SHORT_ENUMS): Remove.\n\nFrom-SVN: r78122", "tree": {"sha": "463481e670e9c236d9d5069bd9278dca247eaee5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/463481e670e9c236d9d5069bd9278dca247eaee5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/37a46828a752531a6794329f21d582f25fc23358", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37a46828a752531a6794329f21d582f25fc23358", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37a46828a752531a6794329f21d582f25fc23358", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37a46828a752531a6794329f21d582f25fc23358/comments", "author": null, "committer": null, "parents": [{"sha": "f9c887ac068686a6b368ad3c1432ad8ba1d0b201", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9c887ac068686a6b368ad3c1432ad8ba1d0b201", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9c887ac068686a6b368ad3c1432ad8ba1d0b201"}], "stats": {"total": 33, "additions": 11, "deletions": 22}, "files": [{"sha": "ad25e759afc60bb27cfe3905d162b1ca28aa0c76", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -1,3 +1,12 @@\n+2004-02-19  Kazu Hirata  <kazu@cs.umass.edu>\n+\n+\t* opts.c (decode_options): Don't use DEFAULT_SHORT_ENUMS.\n+\t* system.h (DEFAULT_SHORT_ENUMS): Poison.\n+\t* config/cris/cris.h: Remove a comment about\n+\tDEFAULT_SHORT_ENUMS.\n+\t* config/ip2k/ip2k.h: Likewise.\n+\t* doc/tm.texi (DEFAULT_SHORT_ENUMS): Remove.\n+\n 2004-02-19  Zack Weinberg  <zack@codesourcery.com>\n \n \t* config/ia64/ia64.c (ia64_function_arg): In big-endian mode,"}, {"sha": "10147b272590f46371d25c86398e760bf70bbe17", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -567,8 +567,6 @@ extern int target_flags;\n /* For compatibility and historical reasons, a char should be signed.  */\n #define DEFAULT_SIGNED_CHAR 1\n \n-/* No DEFAULT_SHORT_ENUMS, please.  */\n-\n /* Note that WCHAR_TYPE_SIZE is used in cexp.y,\n    where TARGET_SHORT is not available.  */\n #undef WCHAR_TYPE"}, {"sha": "4685d030c1c0fa5edb0d5f1d77e91c3d90d6d8e0", "filename": "gcc/config/ip2k/ip2k.h", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fconfig%2Fip2k%2Fip2k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fconfig%2Fip2k%2Fip2k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fip2k%2Fip2k.h?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -108,12 +108,6 @@ extern int target_flags;\n \n #define DEFAULT_SIGNED_CHAR 1\n \n-/* #define DEFAULT_SHORT_ENUMS\t1\n-   This was the default for the IP2k but gcc has a bug (as of 17th May\n-   2001) in the way that library calls to the memory checker functions\n-   are issues that screws things up if an enum is not equivalent to\n-   an int.  */\n-\n #define SIZE_TYPE \"unsigned int\"\n \n #define PTRDIFF_TYPE \"int\""}, {"sha": "f8e39a7dda122d0114c714128cc1d71c964fbe72", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -1605,15 +1605,6 @@ always override this default with the options @option{-fsigned-char}\n and @option{-funsigned-char}.\n @end defmac\n \n-@defmac DEFAULT_SHORT_ENUMS\n-A C expression to determine whether to give an @code{enum} type\n-only as many bytes as it takes to represent the range of possible values\n-of that type.  A nonzero value means to do that; a zero value means all\n-@code{enum} types should be allocated like @code{int}.\n-\n-If you don't define the macro, the default is 0.\n-@end defmac\n-\n @defmac SIZE_TYPE\n A C expression for a string describing the name of the data type to use\n for size values.  The typedef name @code{size_t} is defined using the"}, {"sha": "b25ba430f18761d7548d58feed989f8e93d15aaa", "filename": "gcc/opts.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fopts.c?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -594,10 +594,6 @@ decode_options (unsigned int argc, const char **argv)\n \n   /* Initialize whether `char' is signed.  */\n   flag_signed_char = DEFAULT_SIGNED_CHAR;\n-#ifdef DEFAULT_SHORT_ENUMS\n-  /* Initialize how much space enums occupy, by default.  */\n-  flag_short_enums = DEFAULT_SHORT_ENUMS;\n-#endif\n \n   /* Initialize target_flags before OPTIMIZATION_OPTIONS so the latter can\n      modify it.  */"}, {"sha": "644dfe9edf8bb3c8aed3a232ab8b4c63e63b72f3", "filename": "gcc/system.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/37a46828a752531a6794329f21d582f25fc23358/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=37a46828a752531a6794329f21d582f25fc23358", "patch": "@@ -636,7 +636,8 @@ typedef char _Bool;\n \tPROMOTED_MODE EXPAND_BUILTIN_VA_END\t\t\t\t   \\\n \tLINKER_DOES_NOT_WORK_WITH_DWARF2 FUNCTION_ARG_KEEP_AS_REFERENCE\t   \\\n \tGIV_SORT_CRITERION MAX_LONG_TYPE_SIZE MAX_LONG_DOUBLE_TYPE_SIZE\t   \\\n-\tMAX_WCHAR_TYPE_SIZE GCOV_TYPE_SIZE SHARED_SECTION_ASM_OP\n+\tMAX_WCHAR_TYPE_SIZE GCOV_TYPE_SIZE SHARED_SECTION_ASM_OP\t   \\\n+\tDEFAULT_SHORT_ENUMS\n \n /* Hooks that are no longer used.  */\n  #pragma GCC poison LANG_HOOKS_FUNCTION_MARK LANG_HOOKS_FUNCTION_FREE\t\\"}]}