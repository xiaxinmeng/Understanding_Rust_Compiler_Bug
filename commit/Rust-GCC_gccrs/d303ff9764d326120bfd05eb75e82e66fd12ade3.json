{"sha": "d303ff9764d326120bfd05eb75e82e66fd12ade3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDMwM2ZmOTc2NGQzMjYxMjBiZmQwNWViNzVlODJlNjZmZDEyYWRlMw==", "commit": {"author": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2015-02-04T20:02:21Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2015-02-04T20:02:21Z"}, "message": "Actually check in the fix\n\nFrom-SVN: r220416", "tree": {"sha": "c06ea3aa98c46eede58a656ea99558d44917aae4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c06ea3aa98c46eede58a656ea99558d44917aae4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d303ff9764d326120bfd05eb75e82e66fd12ade3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d303ff9764d326120bfd05eb75e82e66fd12ade3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d303ff9764d326120bfd05eb75e82e66fd12ade3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d303ff9764d326120bfd05eb75e82e66fd12ade3/comments", "author": null, "committer": null, "parents": [{"sha": "7489140d7d894778c5776cf7277af35b28d19d1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7489140d7d894778c5776cf7277af35b28d19d1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7489140d7d894778c5776cf7277af35b28d19d1a"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "64eec4a003c81db7815fcd3f9e2dca66a99daaad", "filename": "gcc/lra-eliminations.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d303ff9764d326120bfd05eb75e82e66fd12ade3/gcc%2Flra-eliminations.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d303ff9764d326120bfd05eb75e82e66fd12ade3/gcc%2Flra-eliminations.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flra-eliminations.c?ref=d303ff9764d326120bfd05eb75e82e66fd12ade3", "patch": "@@ -182,6 +182,8 @@ setup_can_eliminate (struct lra_elim_table *ep, bool value)\n   if (! value\n       && ep->from == FRAME_POINTER_REGNUM && ep->to == STACK_POINTER_REGNUM)\n     frame_pointer_needed = 1;\n+  if (!frame_pointer_needed)\n+    REGNO_POINTER_ALIGN (HARD_FRAME_POINTER_REGNUM) = 0;\n }\n \n /* Map: eliminable \"from\" register -> its current elimination,"}, {"sha": "bc87d8549286d283d89a449f87c77171b431b9c2", "filename": "gcc/testsuite/gcc.target/i386/pr64905.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d303ff9764d326120bfd05eb75e82e66fd12ade3/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr64905.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d303ff9764d326120bfd05eb75e82e66fd12ade3/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr64905.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr64905.c?ref=d303ff9764d326120bfd05eb75e82e66fd12ade3", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-do compile { target { ! ia32 } } } */\n+/* { dg-options \"-Os -ffixed-rax -ffixed-rbx -ffixed-rcx -ffixed-rdx -ffixed-rdi -ffixed-rsi -ffixed-r8 -ffixed-r9 -ffixed-r10 -ffixed-r11 -ffixed-r12 -ffixed-r13 -ffixed-r14 -ffixed-r15\" } */\n+/* { dg-final { scan-assembler-not \"movl\\[ \\t\\]0\\\\(%.*\\\\), %.*\" } } */\n+\n+typedef unsigned short uint16_t;\n+uint16_t a_global;\n+\n+void __attribute__ ((noinline))\n+function (uint16_t **a_p)\n+{\n+  // unaligned access by address in %rbp: mov    0x0(%rbp),%ebp\n+  a_global = **a_p;\n+}\n+\n+int main(int argc, char **argv)\n+{\n+  uint16_t array [4] = { 1, 2, 3, 4 };\n+  uint16_t *array_elem_p = &array [3];\n+\n+  function (&array_elem_p);\n+  return 0;\n+}"}]}