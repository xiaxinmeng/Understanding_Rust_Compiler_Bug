{"sha": "f30b3d2891cef9803badb3f85d739c0fcfafd585", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjMwYjNkMjg5MWNlZjk4MDNiYWRiM2Y4NWQ3MzljMGZjZmFmZDU4NQ==", "commit": {"author": {"name": "Prathamesh Kulkarni", "email": "prathamesh.kulkarni@linaro.org", "date": "2019-10-01T17:10:01Z"}, "committer": {"name": "Prathamesh Kulkarni", "email": "prathamesh3492@gcc.gnu.org", "date": "2019-10-01T17:10:01Z"}, "message": "tree-if-conv.c (tree_if_conversion): Move call to ifcvt_local_dce after local CSE.\n\n2019-10-01  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n\n\t* tree-if-conv.c (tree_if_conversion): Move call to ifcvt_local_dce\n\tafter local CSE.\n\nFrom-SVN: r276417", "tree": {"sha": "0e20192c43efd63d1b2c98981f55d565a607abf2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e20192c43efd63d1b2c98981f55d565a607abf2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f30b3d2891cef9803badb3f85d739c0fcfafd585", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30b3d2891cef9803badb3f85d739c0fcfafd585", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f30b3d2891cef9803badb3f85d739c0fcfafd585", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f30b3d2891cef9803badb3f85d739c0fcfafd585/comments", "author": null, "committer": null, "parents": [{"sha": "0b92cf305dcf34387a8e2564e55ca8948df3b47a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b92cf305dcf34387a8e2564e55ca8948df3b47a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b92cf305dcf34387a8e2564e55ca8948df3b47a"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "08951d94f50681cd6721f87f8930a3e08df61cf6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30b3d2891cef9803badb3f85d739c0fcfafd585/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30b3d2891cef9803badb3f85d739c0fcfafd585/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f30b3d2891cef9803badb3f85d739c0fcfafd585", "patch": "@@ -1,3 +1,8 @@\n+2019-10-01  Prathamesh Kulkarni  <prathamesh.kulkarni@linaro.org>\n+\n+\t* tree-if-conv.c (tree_if_conversion): Move call to ifcvt_local_dce\n+\tafter local CSE.\n+\n 2019-10-01  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* doc/invoke.texi (early-inlining-insns-O2): Document."}, {"sha": "822aae5b83f40b643c8ee795b4d91367e0d893cb", "filename": "gcc/tree-if-conv.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f30b3d2891cef9803badb3f85d739c0fcfafd585/gcc%2Ftree-if-conv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f30b3d2891cef9803badb3f85d739c0fcfafd585/gcc%2Ftree-if-conv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-if-conv.c?ref=f30b3d2891cef9803badb3f85d739c0fcfafd585", "patch": "@@ -3060,9 +3060,6 @@ tree_if_conversion (class loop *loop, vec<gimple *> *preds)\n      on-the-fly.  */\n   combine_blocks (loop);\n \n-  /* Delete dead predicate computations.  */\n-  ifcvt_local_dce (loop->header);\n-\n   /* Perform local CSE, this esp. helps the vectorizer analysis if loads\n      and stores are involved.  CSE only the loop body, not the entry\n      PHIs, those are to be kept in sync with the non-if-converted copy.\n@@ -3071,6 +3068,9 @@ tree_if_conversion (class loop *loop, vec<gimple *> *preds)\n   bitmap_set_bit (exit_bbs, single_exit (loop)->dest->index);\n   bitmap_set_bit (exit_bbs, loop->latch->index);\n   todo |= do_rpo_vn (cfun, loop_preheader_edge (loop), exit_bbs);\n+\n+  /* Delete dead predicate computations.  */\n+  ifcvt_local_dce (loop->header);\n   BITMAP_FREE (exit_bbs);\n \n   todo |= TODO_cleanup_cfg;"}]}