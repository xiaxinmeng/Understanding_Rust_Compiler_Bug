{"sha": "97b69e514a011eb1c529281c355d61399956edb4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTdiNjllNTE0YTAxMWViMWM1MjkyODFjMzU1ZDYxMzk5OTU2ZWRiNA==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "dan@debian.org", "date": "2004-07-25T17:01:49Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2004-07-25T17:01:49Z"}, "message": "regmove.c (optimize_reg_copy_1): Don't try to replace call-used hard registers.\n\n\t* regmove.c (optimize_reg_copy_1): Don't try to replace call-used\n\thard registers.\n\nFrom-SVN: r85149", "tree": {"sha": "005f8e1bbe2b08856b76f9db9bfcb47eafa7b01f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/005f8e1bbe2b08856b76f9db9bfcb47eafa7b01f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/97b69e514a011eb1c529281c355d61399956edb4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97b69e514a011eb1c529281c355d61399956edb4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97b69e514a011eb1c529281c355d61399956edb4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97b69e514a011eb1c529281c355d61399956edb4/comments", "author": null, "committer": null, "parents": [{"sha": "a9315f66908276a6430488a208777f8eae6c77e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9315f66908276a6430488a208777f8eae6c77e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9315f66908276a6430488a208777f8eae6c77e4"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "55be14e1c484a80c593d4fa0d2f4c09f4200e7d7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97b69e514a011eb1c529281c355d61399956edb4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97b69e514a011eb1c529281c355d61399956edb4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=97b69e514a011eb1c529281c355d61399956edb4", "patch": "@@ -1,3 +1,8 @@\n+2004-07-25  Daniel Jacobowitz  <dan@debian.org>\n+\n+\t* regmove.c (optimize_reg_copy_1): Don't try to replace call-used\n+\thard registers.\n+\n 2004-07-25  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* tree-ssa-operands.c (get_stmt_operands, get_expr_operands):"}, {"sha": "5bd6f40e21f8d3501b0a7089874520b7e9d7961b", "filename": "gcc/regmove.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/97b69e514a011eb1c529281c355d61399956edb4/gcc%2Fregmove.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/97b69e514a011eb1c529281c355d61399956edb4/gcc%2Fregmove.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregmove.c?ref=97b69e514a011eb1c529281c355d61399956edb4", "patch": "@@ -431,6 +431,9 @@ optimize_reg_copy_1 (rtx insn, rtx dest, rtx src)\n \t  || (sregno < FIRST_PSEUDO_REGISTER\n \t      && asm_noperands (PATTERN (p)) >= 0\n \t      && reg_overlap_mentioned_p (src, PATTERN (p)))\n+\t  /* Don't change hard registers used by a call.  */\n+\t  || (CALL_P (p) && sregno < FIRST_PSEUDO_REGISTER\n+\t      && find_reg_fusage (p, USE, src))\n \t  /* Don't change a USE of a register.  */\n \t  || (GET_CODE (PATTERN (p)) == USE\n \t      && reg_overlap_mentioned_p (src, XEXP (PATTERN (p), 0))))"}]}