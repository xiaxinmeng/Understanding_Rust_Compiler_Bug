{"sha": "45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDVlNGUxZTk1ODVhOWEwNDM3YzdiN2VlYWFkNTUyYjc3ZjlkMjliMw==", "commit": {"author": {"name": "Greta Yorsh", "email": "greta.yorsh@arm.com", "date": "2013-02-15T13:27:11Z"}, "committer": {"name": "Greta Yorsh", "email": "gretay@gcc.gnu.org", "date": "2013-02-15T13:27:11Z"}, "message": "interrupt-1.c: Fix for thumb mode.\n\n2012-02-15  Greta Yorsh  <Greta.Yorsh@arm.com>\n\n        * gcc.target/arm/interrupt-1.c: Fix for thumb mode.\n        * gcc.target/arm/interrupt-2.c: Likewise.\n\nFrom-SVN: r196076", "tree": {"sha": "787836adf4bdb9b60225c76988e3579b2156776d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/787836adf4bdb9b60225c76988e3579b2156776d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/comments", "author": null, "committer": null, "parents": [{"sha": "711db0a61dbaabd31de82202297478c632840f95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711db0a61dbaabd31de82202297478c632840f95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/711db0a61dbaabd31de82202297478c632840f95"}], "stats": {"total": 34, "additions": 13, "deletions": 21}, "files": [{"sha": "cbee8ae7e79db71b42a192b701ae2c98c22d2a96", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "patch": "@@ -1,3 +1,8 @@\n+2012-02-15  Greta Yorsh  <Greta.Yorsh@arm.com>\n+\n+        * gcc.target/arm/interrupt-1.c: Fix for thumb mode.\n+        * gcc.target/arm/interrupt-2.c: Likewise.\n+\n 2013-02-15  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/56318"}, {"sha": "a38424228cf9571aacf757ed02bf95aadeeeef20", "filename": "gcc/testsuite/gcc.target/arm/interrupt-1.c", "status": "modified", "additions": 4, "deletions": 10, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-1.c?ref=45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "patch": "@@ -1,23 +1,17 @@\n /* Verify that prologue and epilogue are correct for functions with\n    __attribute__ ((interrupt)).  */\n /* { dg-do compile } */\n-/* { dg-options \"-O0\" } */\n+/* { dg-require-effective-target arm_nothumb } */\n+/* { dg-options \"-O0 -marm\" } */\n \n-/* This test is not valid when -mthumb.  We just cheat.  */\n-#ifndef __thumb__\n+/* This test is not valid when -mthumb.  */\n extern void bar (int);\n extern void foo (void) __attribute__ ((interrupt(\"IRQ\")));\n \n void foo ()\n {\n   bar (0);\n }\n-#else\n-void foo ()\n-{\n-  asm (\"stmfd\\tsp!, {r0, r1, r2, r3, r4, fp, ip, lr}\");\n-  asm (\"ldmfd\\tsp!, {r0, r1, r2, r3, r4, fp, ip, pc}^\");\n-}\n-#endif\n+\n /* { dg-final { scan-assembler \"stmfd\\tsp!, {r0, r1, r2, r3, r4, fp, ip, lr}\" } } */\n /* { dg-final { scan-assembler \"ldmfd\\tsp!, {r0, r1, r2, r3, r4, fp, ip, pc}\\\\^\" } } */"}, {"sha": "61d313053675e3f628b6f51ae63eda40d498af9a", "filename": "gcc/testsuite/gcc.target/arm/interrupt-2.c", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Finterrupt-2.c?ref=45e4e1e9585a9a0437c7b7eeaad552b77f9d29b3", "patch": "@@ -1,26 +1,19 @@\n /* Verify that prologue and epilogue are correct for functions with\n    __attribute__ ((interrupt)).  */\n /* { dg-do compile } */\n-/* { dg-options \"-O1\" } */\n+/* { dg-require-effective-target arm_nothumb } */\n+/* { dg-options \"-O1 -marm\" } */\n \n-/* This test is not valid when -mthum.  We just cheat.  */\n-#ifndef __thumb__\n+/* This test is not valid when -mthumb.  */\n extern void bar (int);\n extern void test (void) __attribute__((__interrupt__));\n \n int foo;\n void test()\n {\n-  funcptrs(foo);\n+  bar (foo);\n   foo = 0;\n }\n-#else\n-void test ()\n-{\n-  asm (\"stmfd\\tsp!, {r0, r1, r2, r3, r4, r5, ip, lr}\");\n-  asm (\"ldmfd\\tsp!, {r0, r1, r2, r3, r4, r5, ip, pc}^\");\n-}\n-#endif\n \n /* { dg-final { scan-assembler \"stmfd\\tsp!, {r0, r1, r2, r3, r4, r5, ip, lr}\" } } */\n /* { dg-final { scan-assembler \"ldmfd\\tsp!, {r0, r1, r2, r3, r4, r5, ip, pc}\\\\^\" } } */"}]}