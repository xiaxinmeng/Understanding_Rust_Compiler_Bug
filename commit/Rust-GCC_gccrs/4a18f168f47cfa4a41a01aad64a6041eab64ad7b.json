{"sha": "4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGExOGYxNjhmNDdjZmE0YTQxYTAxYWFkNjRhNjA0MWVhYjY0YWQ3Yg==", "commit": {"author": {"name": "Bin Bin Lv", "email": "shlb@linux.ibm.com", "date": "2020-03-19T16:10:44Z"}, "committer": {"name": "Bin Bin Lv", "email": "shlb@linux.ibm.com", "date": "2020-03-20T03:32:44Z"}, "message": "[rs6000] Rewrite the declaration of a variable\n\nRewrite the declaration of toc_section from the source file rs6000.c to its\nheader file for standardizing the code.\n\nBootstrap and regression were done on powerpc64le-linux-gnu (LE) with no\nregressions.\n\ngcc/ChangeLog\n\n2020-03-20  Bin Bin Lv  <shlb.linux.ibm.com>\n\n\t* config/rs6000/rs6000-internal.h (toc_section): Remove the\n\tdeclaration.\n\t* config/rs6000/rs6000.h (toc_section): Add the declaration.\n\t* config/rs6000/rs6000.c (toc_section): Remove the declaration.", "tree": {"sha": "447f4e16dc810742d203f92e9b63450f8599b31f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/447f4e16dc810742d203f92e9b63450f8599b31f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/comments", "author": null, "committer": null, "parents": [{"sha": "94e2418780f1d13235f3e2e6e5c09dbe821c1ce3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94e2418780f1d13235f3e2e6e5c09dbe821c1ce3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94e2418780f1d13235f3e2e6e5c09dbe821c1ce3"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "9caef013a719fc0b3a93e5427476dcb7728131d1", "filename": "gcc/config/rs6000/rs6000-internal.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000-internal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000-internal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000-internal.h?ref=4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "patch": "@@ -64,7 +64,6 @@ typedef struct rs6000_stack {\n extern int need_toc_init;\n extern char toc_label_name[10];\n extern int rs6000_pic_labelno;\n-extern section *toc_section;\n \n #ifdef USING_ELFOS_H\n extern const char *rs6000_machine;"}, {"sha": "4ecf9726877ecc38cb00b86a142c3716adf534bb", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "patch": "@@ -181,7 +181,6 @@ static GTY(()) section *tls_private_data_section;\n static GTY(()) section *read_only_private_data_section;\n static GTY(()) section *sdata2_section;\n \n-extern GTY(()) section *toc_section;\n section *toc_section = 0;\n \n /* Describe the vector unit used for modes.  */"}, {"sha": "1adc371d70f783a23ddc74ed0575b8f8894d929b", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a18f168f47cfa4a41a01aad64a6041eab64ad7b/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=4a18f168f47cfa4a41a01aad64a6041eab64ad7b", "patch": "@@ -2492,6 +2492,7 @@ extern GTY(()) tree rs6000_builtin_decls[RS6000_BUILTIN_COUNT];\n #ifndef USED_FOR_TARGET\n extern GTY(()) tree builtin_mode_to_type[MAX_MACHINE_MODE][2];\n extern GTY(()) tree altivec_builtin_mask_for_load;\n+extern GTY(()) section *toc_section;\n \n /* A C structure for machine-specific, per-function data.\n    This is added to the cfun structure.  */"}]}