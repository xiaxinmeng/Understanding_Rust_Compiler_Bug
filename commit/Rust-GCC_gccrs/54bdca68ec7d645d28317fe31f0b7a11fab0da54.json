{"sha": "54bdca68ec7d645d28317fe31f0b7a11fab0da54", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTRiZGNhNjhlYzdkNjQ1ZDI4MzE3ZmUzMWYwYjdhMTFmYWIwZGE1NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-10-15T09:34:49Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-10-15T09:34:49Z"}, "message": "re PR libstdc++/33771 (FAIL: 17_intro/headers/c++1998/all.cc (test for excess errors))\n\n2007-10-15  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR libstdc++/33771\n\tPR libstdc++/33773\n\t* testsuite/21_strings/headers/cwchar/macros.cc: Guard test with\n\t_GLIBCXX_HAVE_WCHAR_H.\n\t* testsuite/21_strings/headers/cwctype/macros.cc: Likewise with\n\t_GLIBCXX_HAVE_WCTYPE_H.\n\t* testsuite/17_intro/headers/c++200x/all.cc: Guard inclusions\n\tof <wchar.h> and <wctype.h>.\n\t* testsuite/17_intro/headers/c++200x/all_multiple_inclusion.cc:\n\tLikewise.\n\t* testsuite/17_intro/headers/c++1998/all.cc: Likewise.\n\t* testsuite/17_intro/headers/c++1998/all_multiple_inclusion.cc:\n\tLikewise.\n\nFrom-SVN: r129313", "tree": {"sha": "fb9aa57c48b2d49491ea1081f49066c0a6841f76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb9aa57c48b2d49491ea1081f49066c0a6841f76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/54bdca68ec7d645d28317fe31f0b7a11fab0da54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54bdca68ec7d645d28317fe31f0b7a11fab0da54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/54bdca68ec7d645d28317fe31f0b7a11fab0da54", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/54bdca68ec7d645d28317fe31f0b7a11fab0da54/comments", "author": null, "committer": null, "parents": [{"sha": "64520bdc184659160eee1d8eda9dc6a3babc5209", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64520bdc184659160eee1d8eda9dc6a3babc5209", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64520bdc184659160eee1d8eda9dc6a3babc5209"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "6416734276a1b876089e7f96dcc312ddc1205755", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++1998/all.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -61,8 +61,12 @@\n #include <stdlib.h>\n #include <string.h>\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>"}, {"sha": "831616b9512d0127164fff3abc801f3b854dac7b", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++1998/all_multiple_inclusion.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_multiple_inclusion.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_multiple_inclusion.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_multiple_inclusion.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -61,8 +61,12 @@\n #include <stdlib.h>\n #include <string.h>\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>\n@@ -136,8 +140,12 @@\n #include <stdlib.h>\n #include <string.h>\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>"}, {"sha": "753f08e007785e6865de69ae3c1b6a91f259a8b0", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++200x/all.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -82,8 +82,12 @@\n #include <tgmath.h>\n #endif\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>"}, {"sha": "9aa802c7041e4bb9291668d268a4b19fe2429c45", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++200x/all_multiple_inclusion.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall_multiple_inclusion.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall_multiple_inclusion.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B200x%2Fall_multiple_inclusion.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -82,8 +82,12 @@\n #include <tgmath.h>\n #endif\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>\n@@ -188,8 +192,12 @@\n #include <tgmath.h>\n #endif\n #include <time.h>\n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n #include <wchar.h>\n+#endif\n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n #include <wctype.h>\n+#endif\n \n // \"C++\" headers\n #include <algorithm>"}, {"sha": "b80db00bb547d8fa17a01cc719f9335bd69bf910", "filename": "libstdc++-v3/testsuite/21_strings/headers/cwchar/macros.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwchar%2Fmacros.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwchar%2Fmacros.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwchar%2Fmacros.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -20,6 +20,8 @@\n \n #include <cwchar>\n \n+#ifdef _GLIBCXX_HAVE_WCHAR_H\n+\n namespace gnu\n {\n #ifndef NULL\n@@ -38,3 +40,5 @@ namespace gnu\n     #error \"WEOF_must_be_a_macro\"\n #endif\n }\n+\n+#endif"}, {"sha": "ae2e401919287baab73a12007630edb55a103034", "filename": "libstdc++-v3/testsuite/21_strings/headers/cwctype/macros.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwctype%2Fmacros.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/54bdca68ec7d645d28317fe31f0b7a11fab0da54/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwctype%2Fmacros.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F21_strings%2Fheaders%2Fcwctype%2Fmacros.cc?ref=54bdca68ec7d645d28317fe31f0b7a11fab0da54", "patch": "@@ -20,9 +20,13 @@\n \n #include <cwctype>\n \n+#ifdef _GLIBCXX_HAVE_WCTYPE_H\n+\n namespace gnu\n {\n #ifndef WEOF\n     #error \"WEOF_must_be_a_macro\"\n #endif\n }\n+\n+#endif"}]}