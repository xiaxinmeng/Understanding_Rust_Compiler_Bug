{"sha": "ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZjMWU3YjJlOWIxZmI3ZmVlZjFjMTU4ZjQ0MmFmYzMyNzI5YzdmMQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-01-11T16:28:49Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-01-11T16:28:49Z"}, "message": "* fixincludes: Wrap rpc/types.h in extern \"C\", for osf2.0.\n\nFrom-SVN: r10961", "tree": {"sha": "d5d837f4bd6dfc687a962bdd6b7962fa50f8d0ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5d837f4bd6dfc687a962bdd6b7962fa50f8d0ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1/comments", "author": null, "committer": null, "parents": [{"sha": "f9da1f35792bae30bf9ba032211a973aef3c437f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9da1f35792bae30bf9ba032211a973aef3c437f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9da1f35792bae30bf9ba032211a973aef3c437f"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "9ef8566794ee4c53f1acb706da37cb8054f86eed", "filename": "gcc/fixincludes", "status": "modified", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=ffc1e7b2e9b1fb7feef1c158f442afc32729c7f1", "patch": "@@ -1782,6 +1782,41 @@ if [ -r ${LIB}/$file ]; then\n   fi\n fi\n \n+# rpc/types.h on OSF1/2.0 is not C++ ready, even though NO_IMPLICIT_EXTERN_C\n+# is defined for the alpha.  The problem is the declaration of malloc.\n+file=rpc/types.h\n+ls -l $file ${LIB}/$file\n+if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+  mkdir ${LIB}/rpc 2>/dev/null\n+  cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+  chmod +w ${LIB}/$file 2>/dev/null\n+  chmod a+r ${LIB}/$file 2>/dev/null\n+fi\n+if [ -r ${LIB}/$file ]; then\n+  if egrep '\"C\"' ${LIB}/$file >/dev/null 2>&1; then\n+    true\n+  else\n+    echo Fixing $file\n+    echo '#ifdef __cplusplus\n+extern \"C\" {\n+#endif' > ${LIB}/${file}.sed\n+    cat ${LIB}/${file} >> ${LIB}/${file}.sed\n+    echo '#ifdef __cplusplus\n+}\n+#endif' >> ${LIB}/${file}.sed \n+    rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n+    if cmp $file ${LIB}/$file >/dev/null 2>&1; then\n+      rm -f ${LIB}/$file\n+    else\n+      # Find any include directives that use \"file\".\n+      for include in `egrep '^[       ]*#[    ]*include[      ]*\"[^/]' ${LIB}/$file | sed -e 's/^[    ]*#[    ]*include[      ]*\"\\([^\"]*\\)\".*$/\\1/'`; do\n+        dir=`echo $file | sed -e s'|/[^/]*$||'`\n+        required=\"$required ${INPUT} $dir/$include ${LIB}/$dir/$include\"\n+      done\n+    fi\n+  fi\n+fi\n+\n # In limits.h, put #ifndefs around things that are supposed to be defined\n # in float.h to avoid redefinition errors if float.h is included first.\n # On HP/UX this patch does not work, because on HP/UX limits.h uses"}]}