{"sha": "608e1e0cf78d66dd36e947885281cfa45e929120", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjA4ZTFlMGNmNzhkNjZkZDM2ZTk0Nzg4NTI4MWNmYTQ1ZTkyOTEyMA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-09T13:08:31Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2004-04-09T13:08:31Z"}, "message": "Makefile.in: Remove toolexecdir, glibcpp_toolexecdir (unused).\n\n\t* Makefile.in: Remove toolexecdir, glibcpp_toolexecdir (unused).\n\tReplace glibcpp_toolexeclibdir with toolexeclibdir.\n\t* configure.in: Remove glibcpp_toolexecdir (unused).\n\tReplace glibcpp_toolexeclibdir with toolexeclibdir.  Don't generate\n\tconfig.h or stamp-h (unused).  Move one comment to the right place.\n\t* configure: Regenerate.\n\t* config.h.in: Remove (unused).\n\nFrom-SVN: r80554", "tree": {"sha": "7e0aa10907f5a1fc1fc724283104bea19479db1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e0aa10907f5a1fc1fc724283104bea19479db1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/608e1e0cf78d66dd36e947885281cfa45e929120", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608e1e0cf78d66dd36e947885281cfa45e929120", "html_url": "https://github.com/Rust-GCC/gccrs/commit/608e1e0cf78d66dd36e947885281cfa45e929120", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608e1e0cf78d66dd36e947885281cfa45e929120/comments", "author": null, "committer": null, "parents": [{"sha": "88b169605ac4b8211f72f8854b8edb473e47d44d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88b169605ac4b8211f72f8854b8edb473e47d44d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88b169605ac4b8211f72f8854b8edb473e47d44d"}], "stats": {"total": 393, "additions": 66, "deletions": 327}, "files": [{"sha": "03b4c2191f97baf5c44a386a541c65ab1128e251", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=608e1e0cf78d66dd36e947885281cfa45e929120", "patch": "@@ -1,5 +1,13 @@\n 2004-04-09  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n+\t* Makefile.in: Remove toolexecdir, glibcpp_toolexecdir (unused).\n+\tReplace glibcpp_toolexeclibdir with toolexeclibdir.\n+\t* configure.in: Remove glibcpp_toolexecdir (unused).\n+\tReplace glibcpp_toolexeclibdir with toolexeclibdir.  Don't generate\n+\tconfig.h or stamp-h (unused).  Move one comment to the right place.\n+\t* configure: Regenerate.\n+\t* config.h.in: Remove (unused).\n+\n \t* config.h.in: Regenerate with autoheader.\n \n \t* Makefile.in: Remove (unused) gcc_version_trigger."}, {"sha": "ffa4ad64f27175d808e3da897a9a44f295d3bf12", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=608e1e0cf78d66dd36e947885281cfa45e929120", "patch": "@@ -36,9 +36,7 @@ target_noncanonical = @target_noncanonical@\n gcc_version = @gcc_version@\n top_srcdir = @top_srcdir@\n toplevel_srcdir = @toplevel_srcdir@\n-toolexecdir = @glibcpp_toolexecdir@\n-glibcpp_toolexecdir = @glibcpp_toolexecdir@\n-glibcpp_toolexeclibdir = @glibcpp_toolexeclibdir@\n+toolexeclibdir = @toolexeclibdir@\n \n top_builddir = .\n \n@@ -255,12 +253,12 @@ doc: info dvi html\n \n libobjc.la: $(OBJS)\n \t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS) \\\n-\t\t-rpath $(glibcpp_toolexeclibdir) \\\n+\t\t-rpath $(toolexeclibdir) \\\n \t\t-version-info $(LIBOBJC_VERSION)\n \n libobjc_gc.la: $(OBJS_GC)\n \t$(LIBTOOL_LINK) $(CC) -o $@ $(OBJS_GC) \\\n-\t\t-rpath $(glibcpp_toolexeclibdir) \\\n+\t\t-rpath $(toolexeclibdir) \\\n \t\t-version-info $(LIBOBJC_GC_VERSION)\n \n #\n@@ -311,14 +309,14 @@ ${srcdir}/configure: configure.in\n install: install-libs install-headers\n \n install-libs: installdirs\n-\t$(SHELL) $(toplevel_srcdir)/mkinstalldirs $(DESTDIR)$(glibcpp_toolexeclibdir)\n-\t$(LIBTOOL_INSTALL) $(INSTALL) libobjc.la $(DESTDIR)$(glibcpp_toolexeclibdir);\n+\t$(SHELL) $(toplevel_srcdir)/mkinstalldirs $(DESTDIR)$(toolexeclibdir)\n+\t$(LIBTOOL_INSTALL) $(INSTALL) libobjc.la $(DESTDIR)$(toolexeclibdir);\n \tif [ \"$(OBJC_BOEHM_GC)\" ]; then \\\n \t  $(LIBTOOL_INSTALL) $(INSTALL) libobjc_gc.la \\\n-\t\t\t\t$(DESTDIR)$(glibcpp_toolexeclibdir);\\\n+\t\t\t\t$(DESTDIR)$(toolexeclibdir);\\\n \tfi\n \t$(MULTIDO) $(FLAGS_TO_PASS) multi-do DO=\"$@\"\n-\t@-$(LIBTOOL) --mode=finish $(DESTDIR)$(glibcpp_toolexeclibdir)\n+\t@-$(LIBTOOL) --mode=finish $(DESTDIR)$(toolexeclibdir)\n \n # Copy Objective C headers to installation include directory.\n install-headers:"}, {"sha": "3a0096320667351d4cf11e5578e121271534c18d", "filename": "libobjc/config.h.in", "status": "removed", "additions": 0, "deletions": 49, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/88b169605ac4b8211f72f8854b8edb473e47d44d/libobjc%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/88b169605ac4b8211f72f8854b8edb473e47d44d/libobjc%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfig.h.in?ref=88b169605ac4b8211f72f8854b8edb473e47d44d", "patch": "@@ -1,49 +0,0 @@\n-/* config.h.in.  Generated from configure.in by autoheader.  */\n-\n-/* Define to 1 if you have the <inttypes.h> header file. */\n-#undef HAVE_INTTYPES_H\n-\n-/* Define to 1 if you have the <memory.h> header file. */\n-#undef HAVE_MEMORY_H\n-\n-/* Define to 1 if you have the <sched.h> header file. */\n-#undef HAVE_SCHED_H\n-\n-/* Define to 1 if you have the <stdint.h> header file. */\n-#undef HAVE_STDINT_H\n-\n-/* Define to 1 if you have the <stdlib.h> header file. */\n-#undef HAVE_STDLIB_H\n-\n-/* Define to 1 if you have the <strings.h> header file. */\n-#undef HAVE_STRINGS_H\n-\n-/* Define to 1 if you have the <string.h> header file. */\n-#undef HAVE_STRING_H\n-\n-/* Define to 1 if you have the <sys/stat.h> header file. */\n-#undef HAVE_SYS_STAT_H\n-\n-/* Define to 1 if you have the <sys/types.h> header file. */\n-#undef HAVE_SYS_TYPES_H\n-\n-/* Define to 1 if you have the <unistd.h> header file. */\n-#undef HAVE_UNISTD_H\n-\n-/* Define to the address where bug reports for this package should be sent. */\n-#undef PACKAGE_BUGREPORT\n-\n-/* Define to the full name of this package. */\n-#undef PACKAGE_NAME\n-\n-/* Define to the full name and version of this package. */\n-#undef PACKAGE_STRING\n-\n-/* Define to the one symbol short name of this package. */\n-#undef PACKAGE_TARNAME\n-\n-/* Define to the version of this package. */\n-#undef PACKAGE_VERSION\n-\n-/* Define to 1 if you have the ANSI C header files. */\n-#undef STDC_HEADERS"}, {"sha": "405b0ee8de9d3b8671ce5a4c128975ac56075d75", "filename": "libobjc/configure", "status": "modified", "additions": 43, "deletions": 255, "changes": 298, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=608e1e0cf78d66dd36e947885281cfa45e929120", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS VERSION OBJC_BOEHM_GC toplevel_srcdir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_builddir glibcpp_srcdir gcc_version gcc_version_trigger glibcpp_toolexecdir glibcpp_toolexeclibdir glibcpp_prefixdir CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS VERSION OBJC_BOEHM_GC toplevel_srcdir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version toolexeclibdir glibcpp_prefixdir CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1311,8 +1311,6 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n-          ac_config_headers=\"$ac_config_headers config.h\"\n-\n \n # We need the following definitions because AC_PROG_LIBTOOL relies on them\n PACKAGE=libobjc\n@@ -1538,54 +1536,47 @@ esac\n \n \n \n-# Export build and source directories.\n+# Export source directory.\n # These need to be absolute paths, yet at the same time need to\n # canonicalize only relative paths, because then amd will not unmount\n # drives. Thus the use of PWDCMD: set it to 'pawd' or 'amq -w' if using amd.\n-glibcpp_builddir=`${PWDCMD-pwd}`\n case $srcdir in\n   \\\\/$* | ?:\\\\/*) glibcpp_srcdir=${srcdir} ;;\n   *) glibcpp_srcdir=`cd \"$srcdir\" && ${PWDCMD-pwd} || echo \"$srcdir\"` ;;\n esac\n \n \n-\n # Process the option \"--enable-version-specific-runtime-libs\"\n gcc_version_trigger=${srcdir}/../gcc/version.c\n gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([^ \\\"]*\\)[ \\\"].*/\\1/'`\n gcc_version=`echo ${gcc_version_full} | sed -e 's/\\(^ *\\) .*/\\1/'`\n \n \n-\n-# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Calculate toolexeclibdir\n case ${version_specific_libs} in\n   yes)\n     # Need the gcc compiler version to know where to install libraries\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n-    glibcpp_toolexecdir='$(libdir)/gcc/$(target_noncanonical)'\n-    glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n        test x\"$with_cross_host\" != x\"no\"; then\n-      glibcpp_toolexecdir='$(exec_prefix)/$(target_noncanonical)'\n-      glibcpp_toolexeclibdir='$(toolexecdir)/lib'\n-    else\n       # Install a library built with a cross compiler in tooldir, not libdir.\n-      glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_noncanonical)'\n-      glibcpp_toolexeclibdir='$(libdir)'\n+      toolexeclibdir='$(toolexecdir)/lib'\n+    else\n+      toolexeclibdir='$(libdir)'\n     fi\n     multi_os_directory=`$CC -print-multi-os-directory`\n     case $multi_os_directory in\n       .) ;; # Avoid trailing /.\n-      *) glibcpp_toolexeclibdir=$glibcpp_toolexeclibdir/$multi_os_directory ;;\n+      *) toolexeclibdir=$toolexeclibdir/$multi_os_directory ;;\n     esac\n     ;;\n esac\n \n \n-\n glibcpp_prefixdir=${prefix}\n \n \n@@ -3617,7 +3608,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 3620 \"configure\"' > conftest.$ac_ext\n+  echo '#line 3611 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -5009,7 +5000,38 @@ s/^[^=]*=[\t ]*$//;\n }'\n fi\n \n-DEFS=-DHAVE_CONFIG_H\n+# Transform confdefs.h into DEFS.\n+# Protect against shell expansion while executing Makefile rules.\n+# Protect against Makefile macro expansion.\n+#\n+# If the first sed substitution is executed (which looks for macros that\n+# take arguments), then we branch to the quote section.  Otherwise,\n+# look for a macro that doesn't take arguments.\n+cat >confdef2opt.sed <<\\_ACEOF\n+t clear\n+: clear\n+s,^[\t ]*#[\t ]*define[\t ][\t ]*\\([^\t (][^\t (]*([^)]*)\\)[\t ]*\\(.*\\),-D\\1=\\2,g\n+t quote\n+s,^[\t ]*#[\t ]*define[\t ][\t ]*\\([^\t ][^\t ]*\\)[\t ]*\\(.*\\),-D\\1=\\2,g\n+t quote\n+d\n+: quote\n+s,[\t `~#$^&*(){}\\\\|;'\"<>?],\\\\&,g\n+s,\\[,\\\\&,g\n+s,\\],\\\\&,g\n+s,\\$,$$,g\n+p\n+_ACEOF\n+# We use echo to avoid assuming a particular line-breaking character.\n+# The extra dot is to prevent the shell from consuming trailing\n+# line-breaks from the sub-command output.  A line-break within\n+# single-quotes doesn't work because, if this script is created in a\n+# platform that uses two characters for line-breaks (e.g., DOS), tr\n+# would break.\n+ac_LF_and_DOT=`echo; echo .`\n+DEFS=`sed -n -f confdef2opt.sed confdefs.h | tr \"$ac_LF_and_DOT\" ' .'`\n+rm -f confdef2opt.sed\n+\n \n ac_libobjs=\n ac_ltlibobjs=\n@@ -5343,15 +5365,10 @@ Usage: $0 [OPTIONS] [FILE]...\n       --recheck    update $as_me by reconfiguring in the same conditions\n   --file=FILE[:TEMPLATE]\n \t\t   instantiate the configuration file FILE\n-  --header=FILE[:TEMPLATE]\n-\t\t   instantiate the configuration header FILE\n \n Configuration files:\n $config_files\n \n-Configuration headers:\n-$config_headers\n-\n Configuration commands:\n $config_commands\n \n@@ -5481,7 +5498,6 @@ do\n   # Handling of arguments.\n   \"Makefile\" ) CONFIG_FILES=\"$CONFIG_FILES Makefile\" ;;\n   \"default\" ) CONFIG_COMMANDS=\"$CONFIG_COMMANDS default\" ;;\n-  \"config.h\" ) CONFIG_HEADERS=\"$CONFIG_HEADERS config.h\" ;;\n   *) { { echo \"$as_me:$LINENO: error: invalid argument: $ac_config_target\" >&5\n echo \"$as_me: error: invalid argument: $ac_config_target\" >&2;}\n    { (exit 1); exit 1; }; };;\n@@ -5494,7 +5510,6 @@ done\n # bizarre bug on SunOS 4.1.3.\n if $ac_need_defaults; then\n   test \"${CONFIG_FILES+set}\" = set || CONFIG_FILES=$config_files\n-  test \"${CONFIG_HEADERS+set}\" = set || CONFIG_HEADERS=$config_headers\n   test \"${CONFIG_COMMANDS+set}\" = set || CONFIG_COMMANDS=$config_commands\n fi\n \n@@ -5583,12 +5598,9 @@ s,@target_cpu@,$target_cpu,;t t\n s,@target_vendor@,$target_vendor,;t t\n s,@target_os@,$target_os,;t t\n s,@target_noncanonical@,$target_noncanonical,;t t\n-s,@glibcpp_builddir@,$glibcpp_builddir,;t t\n s,@glibcpp_srcdir@,$glibcpp_srcdir,;t t\n s,@gcc_version@,$gcc_version,;t t\n-s,@gcc_version_trigger@,$gcc_version_trigger,;t t\n-s,@glibcpp_toolexecdir@,$glibcpp_toolexecdir,;t t\n-s,@glibcpp_toolexeclibdir@,$glibcpp_toolexeclibdir,;t t\n+s,@toolexeclibdir@,$toolexeclibdir,;t t\n s,@glibcpp_prefixdir@,$glibcpp_prefixdir,;t t\n s,@CC@,$CC,;t t\n s,@CFLAGS@,$CFLAGS,;t t\n@@ -5857,229 +5869,6 @@ done\n _ACEOF\n cat >>$CONFIG_STATUS <<\\_ACEOF\n \n-#\n-# CONFIG_HEADER section.\n-#\n-\n-# These sed commands are passed to sed as \"A NAME B NAME C VALUE D\", where\n-# NAME is the cpp macro being defined and VALUE is the value it is being given.\n-#\n-# ac_d sets the value in \"#define NAME VALUE\" lines.\n-ac_dA='s,^\\([\t ]*\\)#\\([\t ]*define[\t ][\t ]*\\)'\n-ac_dB='[\t ].*$,\\1#\\2'\n-ac_dC=' '\n-ac_dD=',;t'\n-# ac_u turns \"#undef NAME\" without trailing blanks into \"#define NAME VALUE\".\n-ac_uA='s,^\\([\t ]*\\)#\\([\t ]*\\)undef\\([\t ][\t ]*\\)'\n-ac_uB='$,\\1#\\2define\\3'\n-ac_uC=' '\n-ac_uD=',;t'\n-\n-for ac_file in : $CONFIG_HEADERS; do test \"x$ac_file\" = x: && continue\n-  # Support \"outfile[:infile[:infile...]]\", defaulting infile=\"outfile.in\".\n-  case $ac_file in\n-  - | *:- | *:-:* ) # input from stdin\n-\tcat >$tmp/stdin\n-\tac_file_in=`echo \"$ac_file\" | sed 's,[^:]*:,,'`\n-\tac_file=`echo \"$ac_file\" | sed 's,:.*,,'` ;;\n-  *:* ) ac_file_in=`echo \"$ac_file\" | sed 's,[^:]*:,,'`\n-\tac_file=`echo \"$ac_file\" | sed 's,:.*,,'` ;;\n-  * )   ac_file_in=$ac_file.in ;;\n-  esac\n-\n-  test x\"$ac_file\" != x- && { echo \"$as_me:$LINENO: creating $ac_file\" >&5\n-echo \"$as_me: creating $ac_file\" >&6;}\n-\n-  # First look for the input files in the build tree, otherwise in the\n-  # src tree.\n-  ac_file_inputs=`IFS=:\n-    for f in $ac_file_in; do\n-      case $f in\n-      -) echo $tmp/stdin ;;\n-      [\\\\/$]*)\n-\t # Absolute (can't be DOS-style, as IFS=:)\n-\t test -f \"$f\" || { { echo \"$as_me:$LINENO: error: cannot find input file: $f\" >&5\n-echo \"$as_me: error: cannot find input file: $f\" >&2;}\n-   { (exit 1); exit 1; }; }\n-\t # Do quote $f, to prevent DOS paths from being IFS'd.\n-\t echo \"$f\";;\n-      *) # Relative\n-\t if test -f \"$f\"; then\n-\t   # Build tree\n-\t   echo \"$f\"\n-\t elif test -f \"$srcdir/$f\"; then\n-\t   # Source tree\n-\t   echo \"$srcdir/$f\"\n-\t else\n-\t   # /dev/null tree\n-\t   { { echo \"$as_me:$LINENO: error: cannot find input file: $f\" >&5\n-echo \"$as_me: error: cannot find input file: $f\" >&2;}\n-   { (exit 1); exit 1; }; }\n-\t fi;;\n-      esac\n-    done` || { (exit 1); exit 1; }\n-  # Remove the trailing spaces.\n-  sed 's/[\t ]*$//' $ac_file_inputs >$tmp/in\n-\n-_ACEOF\n-\n-# Transform confdefs.h into two sed scripts, `conftest.defines' and\n-# `conftest.undefs', that substitutes the proper values into\n-# config.h.in to produce config.h.  The first handles `#define'\n-# templates, and the second `#undef' templates.\n-# And first: Protect against being on the right side of a sed subst in\n-# config.status.  Protect against being in an unquoted here document\n-# in config.status.\n-rm -f conftest.defines conftest.undefs\n-# Using a here document instead of a string reduces the quoting nightmare.\n-# Putting comments in sed scripts is not portable.\n-#\n-# `end' is used to avoid that the second main sed command (meant for\n-# 0-ary CPP macros) applies to n-ary macro definitions.\n-# See the Autoconf documentation for `clear'.\n-cat >confdef2sed.sed <<\\_ACEOF\n-s/[\\\\&,]/\\\\&/g\n-s,[\\\\$`],\\\\&,g\n-t clear\n-: clear\n-s,^[\t ]*#[\t ]*define[\t ][\t ]*\\([^\t (][^\t (]*\\)\\(([^)]*)\\)[\t ]*\\(.*\\)$,${ac_dA}\\1${ac_dB}\\1\\2${ac_dC}\\3${ac_dD},gp\n-t end\n-s,^[\t ]*#[\t ]*define[\t ][\t ]*\\([^\t ][^\t ]*\\)[\t ]*\\(.*\\)$,${ac_dA}\\1${ac_dB}\\1${ac_dC}\\2${ac_dD},gp\n-: end\n-_ACEOF\n-# If some macros were called several times there might be several times\n-# the same #defines, which is useless.  Nevertheless, we may not want to\n-# sort them, since we want the *last* AC-DEFINE to be honored.\n-uniq confdefs.h | sed -n -f confdef2sed.sed >conftest.defines\n-sed 's/ac_d/ac_u/g' conftest.defines >conftest.undefs\n-rm -f confdef2sed.sed\n-\n-# This sed command replaces #undef with comments.  This is necessary, for\n-# example, in the case of _POSIX_SOURCE, which is predefined and required\n-# on some systems where configure will not decide to define it.\n-cat >>conftest.undefs <<\\_ACEOF\n-s,^[\t ]*#[\t ]*undef[\t ][\t ]*[a-zA-Z_][a-zA-Z_0-9]*,/* & */,\n-_ACEOF\n-\n-# Break up conftest.defines because some shells have a limit on the size\n-# of here documents, and old seds have small limits too (100 cmds).\n-echo '  # Handle all the #define templates only if necessary.' >>$CONFIG_STATUS\n-echo '  if grep \"^[\t ]*#[\t ]*define\" $tmp/in >/dev/null; then' >>$CONFIG_STATUS\n-echo '  # If there are no defines, we may have an empty if/fi' >>$CONFIG_STATUS\n-echo '  :' >>$CONFIG_STATUS\n-rm -f conftest.tail\n-while grep . conftest.defines >/dev/null\n-do\n-  # Write a limited-size here document to $tmp/defines.sed.\n-  echo '  cat >$tmp/defines.sed <<CEOF' >>$CONFIG_STATUS\n-  # Speed up: don't consider the non `#define' lines.\n-  echo '/^[\t ]*#[\t ]*define/!b' >>$CONFIG_STATUS\n-  # Work around the forget-to-reset-the-flag bug.\n-  echo 't clr' >>$CONFIG_STATUS\n-  echo ': clr' >>$CONFIG_STATUS\n-  sed ${ac_max_here_lines}q conftest.defines >>$CONFIG_STATUS\n-  echo 'CEOF\n-  sed -f $tmp/defines.sed $tmp/in >$tmp/out\n-  rm -f $tmp/in\n-  mv $tmp/out $tmp/in\n-' >>$CONFIG_STATUS\n-  sed 1,${ac_max_here_lines}d conftest.defines >conftest.tail\n-  rm -f conftest.defines\n-  mv conftest.tail conftest.defines\n-done\n-rm -f conftest.defines\n-echo '  fi # grep' >>$CONFIG_STATUS\n-echo >>$CONFIG_STATUS\n-\n-# Break up conftest.undefs because some shells have a limit on the size\n-# of here documents, and old seds have small limits too (100 cmds).\n-echo '  # Handle all the #undef templates' >>$CONFIG_STATUS\n-rm -f conftest.tail\n-while grep . conftest.undefs >/dev/null\n-do\n-  # Write a limited-size here document to $tmp/undefs.sed.\n-  echo '  cat >$tmp/undefs.sed <<CEOF' >>$CONFIG_STATUS\n-  # Speed up: don't consider the non `#undef'\n-  echo '/^[\t ]*#[\t ]*undef/!b' >>$CONFIG_STATUS\n-  # Work around the forget-to-reset-the-flag bug.\n-  echo 't clr' >>$CONFIG_STATUS\n-  echo ': clr' >>$CONFIG_STATUS\n-  sed ${ac_max_here_lines}q conftest.undefs >>$CONFIG_STATUS\n-  echo 'CEOF\n-  sed -f $tmp/undefs.sed $tmp/in >$tmp/out\n-  rm -f $tmp/in\n-  mv $tmp/out $tmp/in\n-' >>$CONFIG_STATUS\n-  sed 1,${ac_max_here_lines}d conftest.undefs >conftest.tail\n-  rm -f conftest.undefs\n-  mv conftest.tail conftest.undefs\n-done\n-rm -f conftest.undefs\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF\n-  # Let's still pretend it is `configure' which instantiates (i.e., don't\n-  # use $as_me), people would be surprised to read:\n-  #    /* config.h.  Generated by config.status.  */\n-  if test x\"$ac_file\" = x-; then\n-    echo \"/* Generated by configure.  */\" >$tmp/config.h\n-  else\n-    echo \"/* $ac_file.  Generated by configure.  */\" >$tmp/config.h\n-  fi\n-  cat $tmp/in >>$tmp/config.h\n-  rm -f $tmp/in\n-  if test x\"$ac_file\" != x-; then\n-    if diff $ac_file $tmp/config.h >/dev/null 2>&1; then\n-      { echo \"$as_me:$LINENO: $ac_file is unchanged\" >&5\n-echo \"$as_me: $ac_file is unchanged\" >&6;}\n-    else\n-      ac_dir=`(dirname \"$ac_file\") 2>/dev/null ||\n-$as_expr X\"$ac_file\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\"$ac_file\" : 'X\\(//\\)[^/]' \\| \\\n-\t X\"$ac_file\" : 'X\\(//\\)$' \\| \\\n-\t X\"$ac_file\" : 'X\\(/\\)' \\| \\\n-\t .     : '\\(.\\)' 2>/dev/null ||\n-echo X\"$ac_file\" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\/\\)[^/].*/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\/\\)$/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\).*/{ s//\\1/; q; }\n-  \t  s/.*/./; q'`\n-      { if $as_mkdir_p; then\n-    mkdir -p \"$ac_dir\"\n-  else\n-    as_dir=\"$ac_dir\"\n-    as_dirs=\n-    while test ! -d \"$as_dir\"; do\n-      as_dirs=\"$as_dir $as_dirs\"\n-      as_dir=`(dirname \"$as_dir\") 2>/dev/null ||\n-$as_expr X\"$as_dir\" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\"$as_dir\" : 'X\\(//\\)[^/]' \\| \\\n-\t X\"$as_dir\" : 'X\\(//\\)$' \\| \\\n-\t X\"$as_dir\" : 'X\\(/\\)' \\| \\\n-\t .     : '\\(.\\)' 2>/dev/null ||\n-echo X\"$as_dir\" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\/\\)[^/].*/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\/\\)$/{ s//\\1/; q; }\n-  \t  /^X\\(\\/\\).*/{ s//\\1/; q; }\n-  \t  s/.*/./; q'`\n-    done\n-    test ! -n \"$as_dirs\" || mkdir $as_dirs\n-  fi || { { echo \"$as_me:$LINENO: error: cannot create directory \\\"$ac_dir\\\"\" >&5\n-echo \"$as_me: error: cannot create directory \\\"$ac_dir\\\"\" >&2;}\n-   { (exit 1); exit 1; }; }; }\n-\n-      rm -f $ac_file\n-      mv $tmp/config.h $ac_file\n-    fi\n-  else\n-    cat $tmp/config.h\n-    rm -f $tmp/config.h\n-  fi\n-done\n-_ACEOF\n-cat >>$CONFIG_STATUS <<\\_ACEOF\n-\n #\n # CONFIG_COMMANDS section.\n #\n@@ -6192,8 +5981,7 @@ esac\n   { echo \"$as_me:$LINENO: executing $ac_dest commands\" >&5\n echo \"$as_me: executing $ac_dest commands\" >&6;}\n   case $ac_dest in\n-    default ) test -z \"$CONFIG_HEADERS\" || echo timestamp > stamp-h\n-if test -n \"$CONFIG_FILES\"; then\n+    default ) if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile"}, {"sha": "6f7e765b55fa8431d0bf3b1586bb09035519be93", "filename": "libobjc/configure.in", "status": "modified", "additions": 8, "deletions": 14, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/608e1e0cf78d66dd36e947885281cfa45e929120/libobjc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.in?ref=608e1e0cf78d66dd36e947885281cfa45e929120", "patch": "@@ -23,7 +23,6 @@\n AC_PREREQ(2.59)\n AC_INIT\n AC_CONFIG_SRCDIR([objc/objc.h])\n-AC_CONFIG_HEADER(config.h)\n \n # We need the following definitions because AC_PROG_LIBTOOL relies on them\n PACKAGE=libobjc\n@@ -125,34 +124,30 @@ gcc_version_full=`grep version_string ${gcc_version_trigger} | sed -e 's/.*\\\"\\([\n gcc_version=`echo ${gcc_version_full} | sed -e 's/\\([^ ]*\\) .*/\\1/'`\n AC_SUBST(gcc_version)\n \n-# Calculate glibcpp_toolexecdir, glibcpp_toolexeclibdir\n+# Calculate toolexeclibdir\n case ${version_specific_libs} in\n   yes)\n     # Need the gcc compiler version to know where to install libraries\n     # and header files if --enable-version-specific-runtime-libs option\n     # is selected.\n-    glibcpp_toolexecdir='$(libdir)/gcc/$(target_noncanonical)'\n-    glibcpp_toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n+    toolexeclibdir='$(toolexecdir)/'${gcc_version}'$(MULTISUBDIR)'\n     ;;\n   no)\n     if test -n \"$with_cross_host\" &&\n        test x\"$with_cross_host\" != x\"no\"; then\n-      glibcpp_toolexecdir='$(exec_prefix)/$(target_noncanonical)'\n-      glibcpp_toolexeclibdir='$(toolexecdir)/lib'\n-    else\n       # Install a library built with a cross compiler in tooldir, not libdir.\n-      glibcpp_toolexecdir='$(libdir)/gcc-lib/$(target_noncanonical)'\n-      glibcpp_toolexeclibdir='$(libdir)'\n+      toolexeclibdir='$(toolexecdir)/lib'\n+    else\n+      toolexeclibdir='$(libdir)'\n     fi\n     multi_os_directory=`$CC -print-multi-os-directory`\n     case $multi_os_directory in\n       .) ;; # Avoid trailing /.\n-      *) glibcpp_toolexeclibdir=$glibcpp_toolexeclibdir/$multi_os_directory ;;\n+      *) toolexeclibdir=$toolexeclibdir/$multi_os_directory ;;\n     esac\n     ;;\n esac\n-AC_SUBST(glibcpp_toolexecdir)\n-AC_SUBST(glibcpp_toolexeclibdir)\n+AC_SUBST(toolexeclibdir)\n \n glibcpp_prefixdir=${prefix}\n AC_SUBST(glibcpp_prefixdir)\n@@ -218,8 +213,7 @@ AC_SUBST(GTHREAD_FLAGS)\n AC_CONFIG_FILES([Makefile])\n \n AC_CONFIG_COMMANDS([default],\n-[[test -z \"$CONFIG_HEADERS\" || echo timestamp > stamp-h\n-if test -n \"$CONFIG_FILES\"; then\n+[[if test -n \"$CONFIG_FILES\"; then\n   if test -n \"${with_target_subdir}\"; then\n     # FIXME: We shouldn't need to set ac_file\n     ac_file=Makefile"}]}