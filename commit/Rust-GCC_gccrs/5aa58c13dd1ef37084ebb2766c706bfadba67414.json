{"sha": "5aa58c13dd1ef37084ebb2766c706bfadba67414", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWFhNThjMTNkZDFlZjM3MDg0ZWJiMjc2NmM3MDZiZmFkYmE2NzQxNA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-26T22:06:56Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-03-26T22:06:56Z"}, "message": "(multiply/multiplu/mulm/mulmu insns): These clobber Q.\n\nFrom-SVN: r3885", "tree": {"sha": "ed740c5808e1baa0b4a7d3e246d95c91a57852b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed740c5808e1baa0b4a7d3e246d95c91a57852b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5aa58c13dd1ef37084ebb2766c706bfadba67414", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa58c13dd1ef37084ebb2766c706bfadba67414", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5aa58c13dd1ef37084ebb2766c706bfadba67414", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa58c13dd1ef37084ebb2766c706bfadba67414/comments", "author": null, "committer": null, "parents": [{"sha": "cc5ae869302448c8d22d706b4f1d938e79396b70", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc5ae869302448c8d22d706b4f1d938e79396b70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc5ae869302448c8d22d706b4f1d938e79396b70"}], "stats": {"total": 47, "additions": 29, "deletions": 18}, "files": [{"sha": "07a2b73baf3f271055a69975d8731c160c3cf6fc", "filename": "gcc/config/a29k/a29k.md", "status": "modified", "additions": 29, "deletions": 18, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa58c13dd1ef37084ebb2766c706bfadba67414/gcc%2Fconfig%2Fa29k%2Fa29k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa58c13dd1ef37084ebb2766c706bfadba67414/gcc%2Fconfig%2Fa29k%2Fa29k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fa29k.md?ref=5aa58c13dd1ef37084ebb2766c706bfadba67414", "patch": "@@ -1115,7 +1115,8 @@\n (define_insn \"mulsi3\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(mult:SI (match_operand:SI 1 \"gpc_reg_operand\" \"%r\")\n-\t\t (match_operand:SI 2 \"gpc_reg_operand\" \"r\")))]\n+\t\t (match_operand:SI 2 \"gpc_reg_operand\" \"r\")))\n+   (clobber (match_scratch:SI 3 \"=&q\"))]\n   \"\"\n   \"multiply %0,%1,%2\")\n \n@@ -1124,7 +1125,8 @@\n \t(subreg:SI\n \t (mult:DI\n \t  (sign_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"%r\"))\n-\t  (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))) 0))]\n+\t  (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))) 0))\n+   (clobber (match_scratch:SI 3 \"=&q\"))]\n   \"\"\n   \"multm %0,%1,%2\")\n \n@@ -1133,51 +1135,60 @@\n \t(subreg:SI\n \t (mult:DI\n \t  (zero_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"%r\"))\n-\t  (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))) 0))]\n+\t  (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))) 0))\n+   (clobber (match_scratch:SI 3 \"=&q\"))]\n   \"\"\n   \"multmu %0,%1,%2\")\n \n (define_insn \"mulsidi3\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=r\")\n \t(mult:DI (sign_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"r\"))\n-\t\t (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))))]\n+\t\t (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))))\n+   (clobber (match_scratch:SI 3 \"=&q\"))]\n   \"\"\n   \"multiply %L0,%1,%2\\;multm %0,%1,%2\"\n   [(set_attr \"type\" \"multi\")])\n \n (define_split\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"\")\n \t(mult:DI (sign_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"\"))\n-\t\t (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"\"))))]\n+\t\t (sign_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"\"))))\n+   (clobber (reg:SI 180))]\n   \"reload_completed\"\n-  [(set (match_dup 3)\n-\t(mult:SI (match_dup 1) (match_dup 2)))\n-   (set (match_dup 4)\n-\t(subreg:SI (mult:DI\n-\t\t    (sign_extend:DI (match_dup 1))\n-\t\t    (sign_extend:DI (match_dup 2))) 0))]\n+  [(parallel [(set (match_dup 3)\n+\t\t   (mult:SI (match_dup 1) (match_dup 2)))\n+\t      (clobber (reg:SI 180))])\n+   (parallel [(set (match_dup 4)\n+\t\t   (subreg:SI (mult:DI\n+\t\t\t       (sign_extend:DI (match_dup 1))\n+\t\t\t       (sign_extend:DI (match_dup 2))) 0))\n+\t      (clobber (reg:SI 180))])]\n   \"\n { operands[3] = operand_subword (operands[0], 1, 1, DImode);\n   operands[4] = operand_subword (operands[1], 0, 1, DImode); } \")\n \t\t\t    \n (define_insn \"umulsidi3\"\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=r\")\n \t(mult:DI (zero_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"r\"))\n-\t\t (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))))]\n+\t\t (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"r\"))))\n+   (clobber (match_scratch:SI 3 \"=&q\"))]\n   \"\"\n   \"multiplu %L0,%1,%2\\;multmu %0,%1,%2\"\n   [(set_attr \"type\" \"multi\")])\n \n (define_split\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"\")\n \t(mult:DI (zero_extend:DI (match_operand:SI 1 \"gpc_reg_operand\" \"\"))\n-\t\t (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"\"))))]\n+\t\t (zero_extend:DI (match_operand:SI 2 \"gpc_reg_operand\" \"\"))))\n+   (clobber (reg:SI 180))]\n   \"reload_completed\"\n-  [(set (match_dup 3)\n-\t(mult:SI (match_dup 1) (match_dup 2)))\n-   (set (match_dup 4)\n-\t(subreg:SI (mult:DI (zero_extend:DI (match_dup 1))\n-\t\t\t    (zero_extend:DI (match_dup 2))) 0))]\n+  [(parallel [(set (match_dup 3)\n+\t\t   (mult:SI (match_dup 1) (match_dup 2)))\n+\t      (clobber (reg:SI 180))])\n+   (parallel [(set (match_dup 4)\n+\t\t   (subreg:SI (mult:DI (zero_extend:DI (match_dup 1))\n+\t\t\t\t       (zero_extend:DI (match_dup 2))) 0))\n+\t      (clobber (reg:SI 180))])]\n   \"\n { operands[3] = operand_subword (operands[0], 1, 1, DImode);\n   operands[4] = operand_subword (operands[1], 0, 1, DImode); } \")"}]}