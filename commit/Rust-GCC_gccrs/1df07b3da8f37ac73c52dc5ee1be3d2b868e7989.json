{"sha": "1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRmMDdiM2RhOGYzN2FjNzNjNTJkYzVlZTFiZTNkMmI4NjhlNzk4OQ==", "commit": {"author": {"name": "Wilco Dijkstra", "email": "wdijkstr@arm.com", "date": "2017-10-30T18:01:59Z"}, "committer": {"name": "Wilco Dijkstra", "email": "wilco@gcc.gnu.org", "date": "2017-10-30T18:01:59Z"}, "message": "backport: unnecessary duplication and repeating bugs like PR78439 due to changes being applied only to one of the duplicates.\n\nMerge the movdi_vfp_cortexa8 pattern into movdi_vfp and remove it to avoid\nunnecessary duplication and repeating bugs like PR78439 due to changes being\napplied only to one of the duplicates.\n\n    gcc/\n        * config/arm/vfp.md (movdi_vfp): Merge changes from movdi_vfp_cortexa8.\n        * (movdi_vfp_cortexa8): Remove pattern.\n\nFrom-SVN: r254233", "tree": {"sha": "04c1026047fb68f5f106c38a81e22e77a0220a69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04c1026047fb68f5f106c38a81e22e77a0220a69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989/comments", "author": null, "committer": null, "parents": [{"sha": "863db6b6b267b6a3101707f284631d0e969de992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863db6b6b267b6a3101707f284631d0e969de992", "html_url": "https://github.com/Rust-GCC/gccrs/commit/863db6b6b267b6a3101707f284631d0e969de992"}], "stats": {"total": 65, "additions": 12, "deletions": 53}, "files": [{"sha": "b7f5101068ba6841b145fdedbf7663b34db5b841", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "patch": "@@ -1,3 +1,8 @@\n+2017-10-30  Wilco Dijkstra  <wdijkstr@arm.com>\n+\n+\t* config/arm/vfp.md (movdi_vfp): Merge changes from movdi_vfp_cortexa8.\n+\t* (movdi_vfp_cortexa8): Remove pattern.\n+\n 2017-10-30  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* doc/install.texi (Specific, alpha*-*-*): Remove DEC OSF/1"}, {"sha": "a541413c263285870f74c4b22605f32e5b4245e6", "filename": "gcc/config/arm/vfp.md", "status": "modified", "additions": 7, "deletions": 53, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989/gcc%2Fconfig%2Farm%2Fvfp.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1df07b3da8f37ac73c52dc5ee1be3d2b868e7989/gcc%2Fconfig%2Farm%2Fvfp.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fvfp.md?ref=1df07b3da8f37ac73c52dc5ee1be3d2b868e7989", "patch": "@@ -304,9 +304,9 @@\n ;; DImode moves\n \n (define_insn \"*movdi_vfp\"\n-  [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r,r,r,r,q,q,m,w,r,w,w, Uv\")\n+  [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r,r,r,r,q,q,m,w,!r,w,w, Uv\")\n        (match_operand:DI 1 \"di_operand\"              \"r,rDa,Db,Dc,mi,mi,q,r,w,w,Uvi,w\"))]\n-  \"TARGET_32BIT && TARGET_HARD_FLOAT && arm_tune != TARGET_CPU_cortexa8\n+  \"TARGET_32BIT && TARGET_HARD_FLOAT\n    && (   register_operand (operands[0], DImode)\n        || register_operand (operands[1], DImode))\n    && !(TARGET_NEON && CONST_INT_P (operands[1])\n@@ -339,71 +339,25 @@\n     }\n   \"\n   [(set_attr \"type\" \"multiple,multiple,multiple,multiple,load_8,load_8,store_8,f_mcrr,f_mrrc,ffarithd,f_loadd,f_stored\")\n-   (set (attr \"length\") (cond [(eq_attr \"alternative\" \"1,4,5,6\") (const_int 8)\n+   (set (attr \"length\") (cond [(eq_attr \"alternative\" \"1\") (const_int 8)\n                               (eq_attr \"alternative\" \"2\") (const_int 12)\n                               (eq_attr \"alternative\" \"3\") (const_int 16)\n+\t\t\t      (eq_attr \"alternative\" \"4,5,6\")\n+\t\t\t       (symbol_ref \"arm_count_output_move_double_insns (operands) * 4\")\n                               (eq_attr \"alternative\" \"9\")\n                                (if_then_else\n                                  (match_test \"TARGET_VFP_SINGLE\")\n                                  (const_int 8)\n                                  (const_int 4))]\n                               (const_int 4)))\n+   (set_attr \"predicable\"    \"yes\")\n    (set_attr \"arm_pool_range\"     \"*,*,*,*,1020,4096,*,*,*,*,1020,*\")\n    (set_attr \"thumb2_pool_range\"     \"*,*,*,*,1018,4094,*,*,*,*,1018,*\")\n    (set_attr \"neg_pool_range\" \"*,*,*,*,1004,0,*,*,*,*,1004,*\")\n+   (set (attr \"ce_count\") (symbol_ref \"get_attr_length (insn) / 4\"))\n    (set_attr \"arch\"           \"t2,any,any,any,a,t2,any,any,any,any,any,any\")]\n )\n \n-(define_insn \"*movdi_vfp_cortexa8\"\n-  [(set (match_operand:DI 0 \"nonimmediate_di_operand\" \"=r,r,r,r,q,q,m,w,!r,w,w, Uv\")\n-\t(match_operand:DI 1 \"di_operand\"\t\t\"r,rDa,Db,Dc,mi,mi,q,r,w,w,Uvi,w\"))]\n-  \"TARGET_32BIT && TARGET_HARD_FLOAT && arm_tune == TARGET_CPU_cortexa8\n-    && (   register_operand (operands[0], DImode)\n-        || register_operand (operands[1], DImode))\n-    && !(TARGET_NEON && CONST_INT_P (operands[1])\n-\t && neon_immediate_valid_for_move (operands[1], DImode, NULL, NULL))\"\n-  \"*\n-  switch (which_alternative)\n-    {\n-    case 0: \n-    case 1:\n-    case 2:\n-    case 3:\n-      return \\\"#\\\";\n-    case 4:\n-    case 5:\n-    case 6:\n-      return output_move_double (operands, true, NULL);\n-    case 7:\n-      return \\\"vmov%?\\\\t%P0, %Q1, %R1\\\\t%@ int\\\";\n-    case 8:\n-      return \\\"vmov%?\\\\t%Q0, %R0, %P1\\\\t%@ int\\\";\n-    case 9:\n-      return \\\"vmov%?.f64\\\\t%P0, %P1\\\\t%@ int\\\";\n-    case 10: case 11:\n-      return output_move_vfp (operands);\n-    default:\n-      gcc_unreachable ();\n-    }\n-  \"\n-  [(set_attr \"type\" \"multiple,multiple,multiple,multiple,load_8,load_8,store_8,f_mcrr,f_mrrc,ffarithd,f_loadd,f_stored\")\n-   (set (attr \"length\") (cond [(eq_attr \"alternative\" \"1\") (const_int 8)\n-                               (eq_attr \"alternative\" \"2\") (const_int 12)\n-                               (eq_attr \"alternative\" \"3\") (const_int 16)\n-                               (eq_attr \"alternative\" \"4,5,6\") \n-\t\t\t       (symbol_ref \n-\t\t\t\t\"arm_count_output_move_double_insns (operands) \\\n-                                 * 4\")]\n-                              (const_int 4)))\n-   (set_attr \"predicable\"    \"yes\")\n-   (set_attr \"arm_pool_range\"     \"*,*,*,*,1018,4094,*,*,*,*,1018,*\")\n-   (set_attr \"thumb2_pool_range\"     \"*,*,*,*,1018,4094,*,*,*,*,1018,*\")\n-   (set_attr \"neg_pool_range\" \"*,*,*,*,1004,0,*,*,*,*,1004,*\")\n-   (set (attr \"ce_count\") \n-\t(symbol_ref \"get_attr_length (insn) / 4\"))\n-   (set_attr \"arch\"           \"t2,any,any,any,a,t2,any,any,any,any,any,any\")]\n- )\n-\n ;; HFmode moves\n \n (define_insn \"*movhf_vfp_fp16\""}]}