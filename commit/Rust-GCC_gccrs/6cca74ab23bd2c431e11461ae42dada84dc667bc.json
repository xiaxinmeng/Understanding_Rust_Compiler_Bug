{"sha": "6cca74ab23bd2c431e11461ae42dada84dc667bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmNjYTc0YWIyM2JkMmM0MzFlMTE0NjFhZTQyZGFkYTg0ZGM2NjdiYw==", "commit": {"author": {"name": "Greg McGary", "email": "gkm@gnu.org", "date": "1998-04-17T16:35:07Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-04-17T16:35:07Z"}, "message": "* emit-rtl.c (gen_highpart): initialize `word' properly for pseudo.\n\nFrom-SVN: r19271", "tree": {"sha": "cc6c41ce1ae9c962e9c0a5be1f3ed22e9ea29a10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc6c41ce1ae9c962e9c0a5be1f3ed22e9ea29a10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6cca74ab23bd2c431e11461ae42dada84dc667bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cca74ab23bd2c431e11461ae42dada84dc667bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6cca74ab23bd2c431e11461ae42dada84dc667bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6cca74ab23bd2c431e11461ae42dada84dc667bc/comments", "author": null, "committer": null, "parents": [{"sha": "4daa9c14297ebb5fb84a1f47510ef102f805593c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4daa9c14297ebb5fb84a1f47510ef102f805593c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4daa9c14297ebb5fb84a1f47510ef102f805593c"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "23a0e8fb4a184ef2bf28fb17b9d9f167bedebc0d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cca74ab23bd2c431e11461ae42dada84dc667bc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cca74ab23bd2c431e11461ae42dada84dc667bc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6cca74ab23bd2c431e11461ae42dada84dc667bc", "patch": "@@ -1,3 +1,7 @@\n+Fri Apr 17 16:35:35 1998  Greg McGary  <gkm@gnu.org>\n+\n+\t* emit-rtl.c (gen_highpart): initialize `word' properly for pseudo.\n+\n Fri Apr 17 14:30:37 1998  John Carr <jfc@mit.edu>\n \n \t* emit-rtl.c (operand_subword_force): If a register can not be"}, {"sha": "aafc41c28ebad8f9936bc7659b1ca72a725f0320", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6cca74ab23bd2c431e11461ae42dada84dc667bc/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6cca74ab23bd2c431e11461ae42dada84dc667bc/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=6cca74ab23bd2c431e11461ae42dada84dc667bc", "patch": "@@ -1011,18 +1011,24 @@ gen_highpart (mode, x)\n     }\n   else if (GET_CODE (x) == REG)\n     {\n-      int word = 0;\n+      int word;\n \n       /* Let the backend decide how many registers to skip.  This is needed\n          in particular for sparc64 where fp regs are smaller than a word.  */\n       /* ??? Note that subregs are now ambiguous, in that those against\n-\t pseudos are sized by the Word Size, while those against hard\n+\t pseudos are sized by the word size, while those against hard\n \t regs are sized by the underlying register size.  Better would be\n \t to always interpret the subreg offset parameter as bytes or bits.  */\n \n-      if (! WORDS_BIG_ENDIAN && REGNO (x) < FIRST_PSEUDO_REGISTER)\n+      if (WORDS_BIG_ENDIAN)\n+\tword = 0;\n+      else if (REGNO (x) < FIRST_PSEUDO_REGISTER)\n \tword = (HARD_REGNO_NREGS (REGNO (x), GET_MODE (x))\n \t\t- HARD_REGNO_NREGS (REGNO (x), mode));\n+      else\n+\tword = ((GET_MODE_SIZE (GET_MODE (x))\n+\t\t - MAX (GET_MODE_SIZE (mode), UNITS_PER_WORD))\n+\t\t/ UNITS_PER_WORD);\n \n       if (REGNO (x) < FIRST_PSEUDO_REGISTER\n \t  /* integrate.c can't handle parts of a return value register.  */"}]}