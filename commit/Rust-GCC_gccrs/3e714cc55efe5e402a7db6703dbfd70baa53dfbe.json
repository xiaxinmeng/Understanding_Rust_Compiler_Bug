{"sha": "3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "node_id": "C_kwDOANBUbNoAKDNlNzE0Y2M1NWVmZTVlNDAyYTdkYjY3MDNkYmZkNzBiYWE1M2RmYmU", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-12-08T20:58:34Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2021-12-15T14:49:59Z"}, "message": "configure: Account CXXFLAGS in gcc-plugin.m4.\n\nWe now use a C++ compiler so that we need to process\nCXXFLAGS as well as CFLAGS in the gcc-plugin config\nfragment.\n\nSigned-off-by: Iain Sandoe <iain@sandoe.co.uk>\n\nconfig/ChangeLog:\n\n\t* gcc-plugin.m4: Save and process CXXFLAGS.\n\ngcc/ChangeLog:\n\n\t* configure: Regenerate.\n\nlibcc1/ChangeLog:\n\n\t* configure: Regenerate.", "tree": {"sha": "4de3eeae1a8d67cbc017e18e9eb84a3fc2d1c22d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4de3eeae1a8d67cbc017e18e9eb84a3fc2d1c22d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "308d688bebdd1f29cb82c7d0e09b43e57c581659", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/308d688bebdd1f29cb82c7d0e09b43e57c581659", "html_url": "https://github.com/Rust-GCC/gccrs/commit/308d688bebdd1f29cb82c7d0e09b43e57c581659"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "7ee342fe5fead4dd48f12d184b7a0e28baa25e74", "filename": "config/gcc-plugin.m4", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/config%2Fgcc-plugin.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/config%2Fgcc-plugin.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fgcc-plugin.m4?ref=3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "patch": "@@ -91,14 +91,18 @@ AC_DEFUN([GCC_ENABLE_PLUGINS],\n      # Check that we can build shared objects with -fPIC -shared\n      saved_LDFLAGS=\"$LDFLAGS\"\n      saved_CFLAGS=\"$CFLAGS\"\n+     saved_CXXFLAGS=\"$CXXFLAGS\"\n      case \"${host}\" in\n        *-*-darwin*)\n \t CFLAGS=`echo $CFLAGS | sed s/-mdynamic-no-pic//g`\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=`echo $CXXFLAGS | sed s/-mdynamic-no-pic//g`\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -shared -undefined dynamic_lookup\"\n        ;;\n        *)\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -fPIC -shared\"\n        ;;\n      esac\n@@ -113,6 +117,7 @@ AC_DEFUN([GCC_ENABLE_PLUGINS],\n      fi\n      LDFLAGS=\"$saved_LDFLAGS\"\n      CFLAGS=\"$saved_CFLAGS\"\n+     CXXFLAGS=\"$saved_CXXFLAGS\"\n \n      # If plugin support had been requested but not available, fail.\n      if test x\"$enable_plugin\" = x\"no\" ; then"}, {"sha": "5470987b62fde60c966511702afd526a5a105598", "filename": "gcc/configure", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "patch": "@@ -32038,14 +32038,18 @@ fi\n      # Check that we can build shared objects with -fPIC -shared\n      saved_LDFLAGS=\"$LDFLAGS\"\n      saved_CFLAGS=\"$CFLAGS\"\n+     saved_CXXFLAGS=\"$CXXFLAGS\"\n      case \"${host}\" in\n        *-*-darwin*)\n \t CFLAGS=`echo $CFLAGS | sed s/-mdynamic-no-pic//g`\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=`echo $CXXFLAGS | sed s/-mdynamic-no-pic//g`\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -shared -undefined dynamic_lookup\"\n        ;;\n        *)\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -fPIC -shared\"\n        ;;\n      esac\n@@ -32077,6 +32081,7 @@ rm -f core conftest.err conftest.$ac_objext \\\n      fi\n      LDFLAGS=\"$saved_LDFLAGS\"\n      CFLAGS=\"$saved_CFLAGS\"\n+     CXXFLAGS=\"$saved_CXXFLAGS\"\n \n      # If plugin support had been requested but not available, fail.\n      if test x\"$enable_plugin\" = x\"no\" ; then"}, {"sha": "01cfb2806da6d369419855386ee8970368cc5318", "filename": "libcc1/configure", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/libcc1%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3e714cc55efe5e402a7db6703dbfd70baa53dfbe/libcc1%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Fconfigure?ref=3e714cc55efe5e402a7db6703dbfd70baa53dfbe", "patch": "@@ -15141,14 +15141,18 @@ fi\n      # Check that we can build shared objects with -fPIC -shared\n      saved_LDFLAGS=\"$LDFLAGS\"\n      saved_CFLAGS=\"$CFLAGS\"\n+     saved_CXXFLAGS=\"$CXXFLAGS\"\n      case \"${host}\" in\n        *-*-darwin*)\n \t CFLAGS=`echo $CFLAGS | sed s/-mdynamic-no-pic//g`\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=`echo $CXXFLAGS | sed s/-mdynamic-no-pic//g`\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -shared -undefined dynamic_lookup\"\n        ;;\n        *)\n \t CFLAGS=\"$CFLAGS -fPIC\"\n+\t CXXFLAGS=\"$CXXFLAGS -fPIC\"\n \t LDFLAGS=\"$LDFLAGS -fPIC -shared\"\n        ;;\n      esac\n@@ -15180,6 +15184,7 @@ rm -f core conftest.err conftest.$ac_objext \\\n      fi\n      LDFLAGS=\"$saved_LDFLAGS\"\n      CFLAGS=\"$saved_CFLAGS\"\n+     CXXFLAGS=\"$saved_CXXFLAGS\"\n \n      # If plugin support had been requested but not available, fail.\n      if test x\"$enable_plugin\" = x\"no\" ; then"}]}