{"sha": "fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmJkZWVhYWM1MzlkOWNmNjM1YTVkNmJmNjIyZDE2NmY3N2U3NjJkNQ==", "commit": {"author": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2013-04-04T19:21:01Z"}, "committer": {"name": "Janus Weil", "email": "janus@gcc.gnu.org", "date": "2013-04-04T19:21:01Z"}, "message": "re PR fortran/40881 ([F03] warn for obsolescent features)\n\n2013-04-04  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40881\n\t* match.c (gfc_match_return): Remove standard notification.\n\t* primary.c (gfc_match_actual_arglist): Add standard notification.\n\n\n2013-04-04  Janus Weil  <janus@gcc.gnu.org>\n\n\tPR fortran/40881\n\t* gfortran.dg/altreturn_1.f90: Add -std=gnu.\n\t* gfortran.dg/altreturn_4.f90: Ditto.\n\t* gfortran.dg/altreturn_3.f90: Replace -std=legacy by -std=gnu.\n\t* gfortran.dg/altreturn_5.f90: Ditto.\n\t* gfortran.dg/altreturn_6.f90: Ditto.\n\t* gfortran.dg/altreturn_7.f90: Ditto.\n\nFrom-SVN: r197495", "tree": {"sha": "0c9fb7f88c1f82b655859b318a75484cc385cb3f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c9fb7f88c1f82b655859b318a75484cc385cb3f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/comments", "author": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "janusw", "id": 484108, "node_id": "MDQ6VXNlcjQ4NDEwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/484108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/janusw", "html_url": "https://github.com/janusw", "followers_url": "https://api.github.com/users/janusw/followers", "following_url": "https://api.github.com/users/janusw/following{/other_user}", "gists_url": "https://api.github.com/users/janusw/gists{/gist_id}", "starred_url": "https://api.github.com/users/janusw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/janusw/subscriptions", "organizations_url": "https://api.github.com/users/janusw/orgs", "repos_url": "https://api.github.com/users/janusw/repos", "events_url": "https://api.github.com/users/janusw/events{/privacy}", "received_events_url": "https://api.github.com/users/janusw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3465257612a4b23668d6e6c22404024a5885da0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3465257612a4b23668d6e6c22404024a5885da0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3465257612a4b23668d6e6c22404024a5885da0b"}], "stats": {"total": 83, "additions": 51, "deletions": 32}, "files": [{"sha": "669235055352bc50e4f317d1e7b8714a1ecd5f43", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,3 +1,9 @@\n+2013-04-04  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40881\n+\t* match.c (gfc_match_return): Remove standard notification.\n+\t* primary.c (gfc_match_actual_arglist): Add standard notification.\n+\n 2013-04-04  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/50269"}, {"sha": "be8740cbbfc89536c3b4f4bd04a8f2b8caca617a", "filename": "gcc/fortran/match.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2Fmatch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2Fmatch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fmatch.c?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -4040,10 +4040,6 @@ gfc_match_return (void)\n       goto cleanup;\n     }\n \n-  if (gfc_notify_std (GFC_STD_F95_OBS, \"Alternate RETURN \"\n-\t\t      \"at %C\") == FAILURE)\n-    return MATCH_ERROR;\n-\n   if (gfc_current_form == FORM_FREE)\n     {\n       /* The following are valid, so we can't require a blank after the"}, {"sha": "6664dd2a3f1b8c430e3af0472a87a270b27837ae", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1719,6 +1719,10 @@ gfc_match_actual_arglist (int sub_flag, gfc_actual_arglist **argp)\n \t  if (m != MATCH_YES)\n \t    goto cleanup;\n \n+\t  if (gfc_notify_std (GFC_STD_F95_OBS, \"Alternate-return argument \"\n+\t      \"at %C\") == FAILURE)\n+\t    goto cleanup;\n+\n \t  tail->label = label;\n \t  goto next;\n \t}"}, {"sha": "175977573e48669f9d894d23f48f624a5888caaf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,3 +1,13 @@\n+2013-04-04  Janus Weil  <janus@gcc.gnu.org>\n+\n+\tPR fortran/40881\n+\t* gfortran.dg/altreturn_1.f90: Add -std=gnu.\n+\t* gfortran.dg/altreturn_4.f90: Ditto.\n+\t* gfortran.dg/altreturn_3.f90: Replace -std=legacy by -std=gnu.\n+\t* gfortran.dg/altreturn_5.f90: Ditto.\n+\t* gfortran.dg/altreturn_6.f90: Ditto.\n+\t* gfortran.dg/altreturn_7.f90: Ditto.\n+\n 2013-04-04  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* lib/target-supports.exp (check_effective_target_arm_v8_neon_hw):"}, {"sha": "7ec77c178f5d7dda61a91ea57b363a4cbee8de86", "filename": "gcc/testsuite/gfortran.dg/altreturn_1.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_1.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,4 +1,6 @@\n ! { dg-do compile }\n+! { dg-options \"-std=gnu\" }\n+\n        subroutine foo (a)\n        real t, a, baz\n        call bar (*10)"}, {"sha": "c445159872f3356cc0221b8b32bc46b4dc1ebd00", "filename": "gcc/testsuite/gfortran.dg/altreturn_3.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_3.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do run }\n-! { dg-options \"-std=legacy\" }\n+! { dg-options \"-std=gnu\" }\n !\n ! Tests the fix for PR30236, which was due to alternate returns\n ! in generic interfaces causing a segfault.  They now work"}, {"sha": "7375544d2032139dcf3f716999317983eb5dc4b9", "filename": "gcc/testsuite/gfortran.dg/altreturn_4.f90", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_4.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,4 +1,6 @@\n ! { dg-do compile }\n+! { dg-options \"-std=gnu\" }\n+!\n ! Tests the fix for PR28172, in which an ICE would result from\n ! the contained call with an alternate retrun.\n "}, {"sha": "a552d3904ac1b07dce4b2da188149b984e3049e1", "filename": "gcc/testsuite/gfortran.dg/altreturn_5.f90", "status": "modified", "additions": 24, "deletions": 25, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_5.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_5.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_5.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,33 +1,32 @@\n-! { dg-do run }\n-! { dg-options \"-std=legacy\" }\n-!\n-! Tests the fix for PR31483, in which dummy argument procedures\n-! produced an ICE if they had an alternate return.\n-!\n-! Contributed by Mathias Fr\ufffdhlich <M.Froehlich@science-computing.de>\n-\n-      SUBROUTINE R (i, *, *)\n-      INTEGER i\n-      RETURN i\n-      END\n-\n+! { dg-do run }\r\n+! { dg-options \"-std=gnu\" }\r\n+!\r\n+! Tests the fix for PR31483, in which dummy argument procedures\r\n+! produced an ICE if they had an alternate return.\r\n+!\r\n+! Contributed by Mathias Fr\ufffdhlich <M.Froehlich@science-computing.de>\r\n+\r\n+      SUBROUTINE R (i, *, *)\r\n+      INTEGER i\r\n+      RETURN i\r\n+      END\r\n+\r\n       SUBROUTINE PHLOAD (READER, i, res)\r\n       IMPLICIT NONE\r\n-      EXTERNAL         READER\n-      integer i\n+      EXTERNAL         READER\r\n+      integer i\r\n       character(3) res\r\n       CALL READER (i, *1, *2)\r\n- 1    res = \"one\"\n+ 1    res = \"one\"\r\n       return\r\n- 2    res = \"two\"\n+ 2    res = \"two\"\r\n       return\r\n-      END\n-\n-      EXTERNAL R\n-      character(3) res\r\n-      call PHLOAD (R, 1, res)\n-      if (res .ne. \"one\") call abort ()\n-      CALL PHLOAD (R, 2, res)\n-      if (res .ne. \"two\") call abort ()\n       END\r\n \r\n+      EXTERNAL R\r\n+      character(3) res\r\n+      call PHLOAD (R, 1, res)\r\n+      if (res .ne. \"one\") call abort ()\r\n+      CALL PHLOAD (R, 2, res)\r\n+      if (res .ne. \"two\") call abort ()\r\n+      END\r"}, {"sha": "82bb46df12c037e21885029f025ec340770ad8ab", "filename": "gcc/testsuite/gfortran.dg/altreturn_6.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_6.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_6.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_6.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do compile }\n-! { dg-options \"-std=legacy\" }\n+! { dg-options \"-std=gnu\" }\n !\n ! PR 32938\n subroutine r (*)"}, {"sha": "522d767794378f5af187b1e3cd7bdadb5feffe38", "filename": "gcc/testsuite/gfortran.dg/altreturn_7.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_7.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fbdeeaac539d9cf635a5d6bf622d166f77e762d5/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_7.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Faltreturn_7.f90?ref=fbdeeaac539d9cf635a5d6bf622d166f77e762d5", "patch": "@@ -1,5 +1,5 @@\n ! { dg-do compile }\n-! { dg-options \"-std=legacy\" }\n+! { dg-options \"-std=gnu\" }\n !\n ! PR 40848: [4.5 Regression] ICE with alternate returns\n !"}]}