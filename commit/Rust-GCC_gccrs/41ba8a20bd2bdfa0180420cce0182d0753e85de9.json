{"sha": "41ba8a20bd2bdfa0180420cce0182d0753e85de9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFiYThhMjBiZDJiZGZhMDE4MDQyMGNjZTAxODJkMDc1M2U4NWRlOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2002-03-31T11:50:43Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-03-31T11:50:43Z"}, "message": "elf.h (ASM_OUTPUT_DEF): Tidy.\n\n        * config/alpha/elf.h (ASM_OUTPUT_DEF): Tidy.\n        (ASM_OUTPUT_DEF_FROM_DECLS): New.\n\n        * gcc.dg/special/alias-2.c: New.\n        * gcc.dg/special/ecos.exp: Run it.\n\nFrom-SVN: r51650", "tree": {"sha": "ce09c76db1f36957c598aac2bd4e81c863f38597", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce09c76db1f36957c598aac2bd4e81c863f38597"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41ba8a20bd2bdfa0180420cce0182d0753e85de9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ba8a20bd2bdfa0180420cce0182d0753e85de9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41ba8a20bd2bdfa0180420cce0182d0753e85de9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41ba8a20bd2bdfa0180420cce0182d0753e85de9/comments", "author": null, "committer": null, "parents": [{"sha": "a7648399b2519aa5ee3a0887a274b43b61242008", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7648399b2519aa5ee3a0887a274b43b61242008", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7648399b2519aa5ee3a0887a274b43b61242008"}], "stats": {"total": 72, "additions": 67, "deletions": 5}, "files": [{"sha": "04e7f56e6018a83fa0896ef728f672fb210a5449", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=41ba8a20bd2bdfa0180420cce0182d0753e85de9", "patch": "@@ -1,3 +1,9 @@\n+2002-03-31  Richard Henderson  <rth@redhat.com>\n+\n+\tPR target/3997\n+\t* config/alpha/elf.h (ASM_OUTPUT_DEF): Tidy.\n+\t(ASM_OUTPUT_DEF_FROM_DECLS): New.\n+\n 2002-03-31  Richard Henderson  <rth@redhat.com>\n \n \t* libgcc2.c (__bb_exit_func): Make static."}, {"sha": "05853c2e1088a6921027310544c6df2b89876ebd", "filename": "gcc/config/alpha/elf.h", "status": "modified", "additions": 26, "deletions": 5, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Fconfig%2Falpha%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Fconfig%2Falpha%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Felf.h?ref=41ba8a20bd2bdfa0180420cce0182d0753e85de9", "patch": "@@ -483,11 +483,32 @@ do {\t\t\t\t\t\t\t\t\t\\\n /* This is how we tell the assembler that two symbols have the same value.  */\n \n #undef  ASM_OUTPUT_DEF\n-#define ASM_OUTPUT_DEF(FILE, NAME1, NAME2) \\\n-  do { assemble_name(FILE, NAME1); \t \\\n-       fputs(\" = \", FILE);\t\t \\\n-       assemble_name(FILE, NAME2);\t \\\n-       fputc('\\n', FILE); } while (0)\n+#define ASM_OUTPUT_DEF(FILE, ALIAS, NAME)\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\\\n+    assemble_name(FILE, ALIAS);\t\t\t\t\t\\\n+    fputs(\" = \", FILE);\t\t\t\t\t\t\\\n+    assemble_name(FILE, NAME);\t\t\t\t\t\\\n+    fputc('\\n', FILE);\t\t\t\t\t\t\\\n+  } while (0)\n+\n+#undef  ASM_OUTPUT_DEF_FROM_DECLS\n+#define ASM_OUTPUT_DEF_FROM_DECLS(FILE, DECL, TARGET)\t\t\\\n+  do {\t\t\t\t\t\t\t\t\\\n+    const char *alias = XSTR (XEXP (DECL_RTL (DECL), 0), 0);\t\\\n+    const char *name = IDENTIFIER_POINTER (TARGET);\t\t\\\n+    if (TREE_CODE (DECL) == FUNCTION_DECL)\t\t\t\\\n+      {\t\t\t\t\t\t\t\t\\\n+\tfputc ('$', FILE);\t\t\t\t\t\\\n+\tassemble_name (FILE, alias);\t\t\t\t\\\n+\tfputs (\"..ng = $\", FILE);\t\t\t\t\\\n+\tassemble_name (FILE, name);\t\t\t\t\\\n+\tfputs (\"..ng\\n\", FILE);\t\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\\\n+    assemble_name(FILE, alias);\t\t\t\t\t\\\n+    fputs(\" = \", FILE);\t\t\t\t\t\t\\\n+    assemble_name(FILE, name);\t\t\t\t\t\\\n+    fputc('\\n', FILE);\t\t\t\t\t\t\\\n+  } while (0)\n \n /* The following macro defines the format used to output the second\n    operand of the .type assembler directive.  Different svr4 assemblers"}, {"sha": "cec193ebe19ae203ed46df7f60bbc86f25a628f8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=41ba8a20bd2bdfa0180420cce0182d0753e85de9", "patch": "@@ -1,3 +1,8 @@\n+2002-03-31  Richard Henderson  <rth@redhat.com>\n+\n+\t* gcc.dg/special/alias-2.c: New.\n+\t* gcc.dg/special/ecos.exp: Run it.\n+\n 2002-03-31  Richard Henderson  <rth@redhat.com>\n \n \t* gcc.dg/va-arg-1.c: Expect warnings, not errors."}, {"sha": "5dd9f537cb0abc8f0d27e33c5da1f9f6ce1e9770", "filename": "gcc/testsuite/gcc.dg/special/alias-2.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Falias-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Falias-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Falias-2.c?ref=41ba8a20bd2bdfa0180420cce0182d0753e85de9", "patch": "@@ -0,0 +1,18 @@\n+/* PR 3997 */\n+/* { dg-do run } */\n+\n+extern void abort (void);\n+extern void exit (int);\n+\n+void foo(void)\n+{\n+  exit(0);\n+}\n+\n+static void bar(void) __attribute__((alias(\"foo\")));\n+\n+int main()\n+{\n+  bar();\n+  abort ();\n+}"}, {"sha": "b8875023ae1f5ef293fca9b51021f560ea0798ee", "filename": "gcc/testsuite/gcc.dg/special/ecos.exp", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41ba8a20bd2bdfa0180420cce0182d0753e85de9/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fspecial%2Fecos.exp?ref=41ba8a20bd2bdfa0180420cce0182d0753e85de9", "patch": "@@ -93,6 +93,18 @@ switch [check_alias_available \"$srcdir/$subdir/alias-1.c\"] {\n }\n dg-finish\n \n+###########\n+# alias-2.c\n+###########\n+\n+dg-init\n+switch [check_alias_available \"$srcdir/$subdir/alias-2.c\"] {\n+    yes     { dg-runtest \"$srcdir/$subdir/alias-2.c\" \"\" \"\" }\n+    no      { unsupported \"alias-2.c\" }\n+    default { fail \"alias-2.c\" }\n+}\n+dg-finish\n+\n ###########\n # wkali-1.c\n ###########"}]}