{"sha": "b77f37445e014f2423fc2359b426384adec4b89c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjc3ZjM3NDQ1ZTAxNGYyNDIzZmMyMzU5YjQyNjM4NGFkZWM0Yjg5Yw==", "commit": {"author": {"name": "Christian Ehrhardt", "email": "ehrhardt@mathematik.uni-ulm.de", "date": "2002-11-25T19:04:57Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2002-11-25T19:04:57Z"}, "message": "re PR c/8639 (simple integer arithmetic expression broken)\n\n        PR c/8639\n        * fold-const.c (extract_muldiv): Don't propagate division unless\n        both arguments are multiples of C.\n\t* gcc.c-torture/execute/20021119-1.c: New.\n\nFrom-SVN: r59466", "tree": {"sha": "4e94d5151ec5acc085330dd79d49753135c2b16a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4e94d5151ec5acc085330dd79d49753135c2b16a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b77f37445e014f2423fc2359b426384adec4b89c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b77f37445e014f2423fc2359b426384adec4b89c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b77f37445e014f2423fc2359b426384adec4b89c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b77f37445e014f2423fc2359b426384adec4b89c/comments", "author": null, "committer": null, "parents": [{"sha": "f815521c75452a0fa9e36f0b5980a5b959f5e4c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f815521c75452a0fa9e36f0b5980a5b959f5e4c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f815521c75452a0fa9e36f0b5980a5b959f5e4c3"}], "stats": {"total": 31, "additions": 27, "deletions": 4}, "files": [{"sha": "967ba8dd811a6962c8d1f9589b383afb93e00cef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b77f37445e014f2423fc2359b426384adec4b89c", "patch": "@@ -1,3 +1,9 @@\n+2002-11-25  Christian Ehrhardt  <ehrhardt@mathematik.uni-ulm.de>\n+\n+\tPR c/8639\n+\t* fold-const.c (extract_muldiv): Don't propagate division unless\n+\tboth arguments are multiples of C.\n+\n 2002-11-25  Andrew Haley  <aph@redhat.com>\n \n         * libgcc-std.ver (_Unwind_Find_Enclosing_Function): Add."}, {"sha": "a7556f438e525cf453bd4a71058d6a2eb542dd01", "filename": "gcc/fold-const.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=b77f37445e014f2423fc2359b426384adec4b89c", "patch": "@@ -4178,10 +4178,10 @@ extract_muldiv (t, c, code, wide_type)\n       t2 = extract_muldiv (op1, c, code, wide_type);\n       if (t1 != 0 && t2 != 0\n \t  && (code == MULT_EXPR\n-\t      /* If not multiplication, we can only do this if either operand\n-\t\t is divisible by c.  */\n-\t      || multiple_of_p (ctype, op0, c)\n-\t      || multiple_of_p (ctype, op1, c)))\n+\t      /* If not multiplication, we can only do this if both operands\n+\t\t are divisible by c.  */\n+\t      || (multiple_of_p (ctype, op0, c)\n+\t          && multiple_of_p (ctype, op1, c))))\n \treturn fold (build (tcode, ctype, convert (ctype, t1),\n \t\t\t    convert (ctype, t2)));\n "}, {"sha": "c4ef460d45af82102dd222cdf33fc5c3b2014173", "filename": "gcc/testsuite/gcc.c-torture/execute/20021119-1.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20021119-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b77f37445e014f2423fc2359b426384adec4b89c/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20021119-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20021119-1.c?ref=b77f37445e014f2423fc2359b426384adec4b89c", "patch": "@@ -0,0 +1,17 @@\n+/* PR 8639.  */\n+\n+extern void abort(void);\n+\n+int foo (int i)\n+{\n+  int r;\n+  r = (80 - 4 * i) / 20;\n+  return r;\n+}\n+    \n+int main ()\n+{\n+  if (foo (1) != 3)\n+    abort ();\n+  return 0;\n+}"}]}