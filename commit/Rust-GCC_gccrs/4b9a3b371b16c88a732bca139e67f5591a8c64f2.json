{"sha": "4b9a3b371b16c88a732bca139e67f5591a8c64f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGI5YTNiMzcxYjE2Yzg4YTczMmJjYTEzOWU2N2Y1NTkxYThjNjRmMg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-07-29T18:35:54Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-07-29T18:35:54Z"}, "message": "stmtexpr2.C (alt1): Rename from expected.\n\n        * g++.dg/ext/stmtexpr2.C (alt1): Rename from expected.\n        (alt2, which): New.\n        (Check): Accept either alternative.\n\nFrom-SVN: r85313", "tree": {"sha": "7a070a8e7cffc57affa59131bafca9dccee1974d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7a070a8e7cffc57affa59131bafca9dccee1974d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b9a3b371b16c88a732bca139e67f5591a8c64f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b9a3b371b16c88a732bca139e67f5591a8c64f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b9a3b371b16c88a732bca139e67f5591a8c64f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b9a3b371b16c88a732bca139e67f5591a8c64f2/comments", "author": null, "committer": null, "parents": [{"sha": "b3b7f0c9df7e6952c7d8b26770b035c23722c746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b7f0c9df7e6952c7d8b26770b035c23722c746", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3b7f0c9df7e6952c7d8b26770b035c23722c746"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "c0b972c54d21b9ddd86d3beeb474ec3c031ba91d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b9a3b371b16c88a732bca139e67f5591a8c64f2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b9a3b371b16c88a732bca139e67f5591a8c64f2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4b9a3b371b16c88a732bca139e67f5591a8c64f2", "patch": "@@ -2,6 +2,10 @@\n \n \t* g++.dg/template/sizeof8.C: Don't assume 32bit pointers.\n \n+\t* g++.dg/ext/stmtexpr2.C (alt1): Rename from expected.\n+\t(alt2, which): New.\n+\t(Check): Accept either alternative.\n+\n 2004-07-29  Mark Mitchell  <mark@codesourcery.com>\n \n \t* g++.dg/abi/inline1.C: New test."}, {"sha": "5301103d46d6d7f7a926b59293d73ea1816d9d0c", "filename": "gcc/testsuite/g++.dg/ext/stmtexpr2.C", "status": "modified", "additions": 17, "deletions": 5, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b9a3b371b16c88a732bca139e67f5591a8c64f2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fstmtexpr2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b9a3b371b16c88a732bca139e67f5591a8c64f2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fstmtexpr2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fstmtexpr2.C?ref=4b9a3b371b16c88a732bca139e67f5591a8c64f2", "patch": "@@ -4,19 +4,31 @@\n extern \"C\" int printf (char const *, ...);\n extern \"C\" void abort ();\n \n-static unsigned int expected[] = {\n-  11, 10, 21, 110, 111, 121\n-};\n+// There are two alternate legal renderings.\n+static unsigned int alt1[] = { 11, 10, 21, 110, 111, 121 };\n+static unsigned int alt2[] = { 10, 11, 21, 111, 110, 121 };\n+\n static unsigned int pointer = 0;\n+static unsigned int *which;\n \n static void Check (unsigned t, unsigned i, void const *ptr, char const *name)\n {\n   printf (\"%d %d %p %s\\n\", t, i, ptr, name);\n \n-  if (pointer > sizeof(expected)/sizeof(expected[0]))\n+  if (pointer > sizeof(alt1)/sizeof(alt1[0]))\n     abort ();\n-  if (t + i != expected[pointer++])\n+  if (pointer == 0)\n+    {\n+      if (t + i == alt1[0])\n+\twhich = &alt1[0];\n+      else if (t + i == alt2[0])\n+\twhich = &alt2[0];\n+      else\n+\tabort ();\n+    }\n+  else if (t + i != which[pointer])\n     abort ();\n+  pointer++;\n }\n \n struct A "}]}