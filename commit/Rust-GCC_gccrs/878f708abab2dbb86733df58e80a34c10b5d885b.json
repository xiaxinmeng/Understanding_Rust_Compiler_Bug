{"sha": "878f708abab2dbb86733df58e80a34c10b5d885b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc4ZjcwOGFiYWIyZGJiODY3MzNkZjU4ZTgwYTM0YzEwYjVkODg1Yg==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2010-10-26T12:48:29Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-10-26T12:48:29Z"}, "message": "sem_ch3.adb, [...]: Minor reformatting.\n\n2010-10-26  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_ch3.adb, sem_ch4.adb, sem_disp.adb, switch-c.adb: Minor\n\treformatting.\n\t* gnat_ugn.texi: Document -gnateP switch.\n\nFrom-SVN: r165953", "tree": {"sha": "04b4fabf31c9b8095d2ae48547d47d1a5ebaa82b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04b4fabf31c9b8095d2ae48547d47d1a5ebaa82b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/878f708abab2dbb86733df58e80a34c10b5d885b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/878f708abab2dbb86733df58e80a34c10b5d885b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/878f708abab2dbb86733df58e80a34c10b5d885b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/878f708abab2dbb86733df58e80a34c10b5d885b/comments", "author": null, "committer": null, "parents": [{"sha": "ce09f8b3f240994d4f9ecc2e95e8e0bbd78eb3f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ce09f8b3f240994d4f9ecc2e95e8e0bbd78eb3f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ce09f8b3f240994d4f9ecc2e95e8e0bbd78eb3f5"}], "stats": {"total": 36, "additions": 27, "deletions": 9}, "files": [{"sha": "20a067cea7aea443b206a9a4de40ee5fef0027e9", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -1,3 +1,9 @@\n+2010-10-26  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_ch3.adb, sem_ch4.adb, sem_disp.adb, switch-c.adb: Minor\n+\treformatting.\n+\t* gnat_ugn.texi: Document -gnateP switch.\n+\n 2010-10-26  Robert Dewar  <dewar@adacore.com>\n \n \t* opt.ads (Treat_Categorization_Errors_As_Warnings): New flag"}, {"sha": "2e65144e43354c11f1919fa9652bcf85a27c2244", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -4144,6 +4144,14 @@ Specify a preprocessing data file\n @end ifclear\n (@pxref{Integrated Preprocessing}).\n \n+@item -gnateP\n+@cindex @option{-gnateP} (@command{gcc})\n+Turn categorization dependency errors into warnings.\n+Ada requires that units that WITH one another have compatible categories, for\n+example a Pure unit cannto WITH a Preelaborate unit. If this switch is used,\n+these errors become warnings (which can be ignored, or suppressed in the usual\n+manner). This can be useful in some specialized circumstances such as the\n+temporary use of special test software.\n @item -gnateS\n @cindex @option{-gnateS} (@command{gcc})\n Generate SCO (Source Coverage Obligation) information in the ALI"}, {"sha": "3dde575c7aa86675133f2494fb1dd31c9c92a0d1", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -1588,8 +1588,8 @@ package body Sem_Ch3 is\n                      Derived_Type => Tagged_Type,\n                      Parent_Type  => Iface);\n                   Set_Alias (New_Subp, Prim);\n-                  Set_Is_Abstract_Subprogram (New_Subp,\n-                    Is_Abstract_Subprogram (Prim));\n+                  Set_Is_Abstract_Subprogram\n+                    (New_Subp, Is_Abstract_Subprogram (Prim));\n                end if;\n \n                Derive_Subprogram"}, {"sha": "829d0140acc49b03b05200b25d93f87a36edda43", "filename": "gcc/ada/sem_ch4.adb", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch4.adb?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -2155,9 +2155,7 @@ package body Sem_Ch4 is\n \n       P_T := Base_Type (Etype (P));\n \n-      if Is_Entity_Name (P)\n-        and then Present (Entity (P))\n-      then\n+      if Is_Entity_Name (P) and then Present (Entity (P)) then\n          U_N := Entity (P);\n \n          if Is_Type (U_N) then"}, {"sha": "d52e59f19ef487360d72879d77850e4d2242692d", "filename": "gcc/ada/sem_disp.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_disp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fsem_disp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_disp.adb?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -1818,7 +1818,7 @@ package body Sem_Disp is\n             end if;\n \n             --  Check if E covers the interface primitive (includes case in\n-            --  which E is an inherited private primitive)\n+            --  which E is an inherited private primitive).\n \n             if Is_Interface_Conformant (Tagged_Type, Iface_Prim, E) then\n                return E;"}, {"sha": "a1919e9c7261ffdc9b256b9817b8c68d5ea7319b", "filename": "gcc/ada/switch-c.adb", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fswitch-c.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/878f708abab2dbb86733df58e80a34c10b5d885b/gcc%2Fada%2Fswitch-c.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fswitch-c.adb?ref=878f708abab2dbb86733df58e80a34c10b5d885b", "patch": "@@ -567,7 +567,13 @@ package body Switch.C is\n                Set_GNAT_Mode_Warnings;\n                Set_GNAT_Style_Check_Options;\n \n-               --  Other special modes set by -gnatg\n+               --  Suppress categorization errors. The run-time has several\n+               --  instances of violations of the categorization errors (e.g.\n+               --  Pure units withing Preelaborate units. These violations are\n+               --  harmless in the cases where we intend them, and we suppress\n+               --  the warnings with Warnings (Off). In cases where we do not\n+               --  intend the violation, warnings are errors in -gnatg mode\n+               --  anyway, so we will still get an error.\n \n                Treat_Categorization_Errors_As_Warnings := True;\n \n@@ -929,8 +935,8 @@ package body Switch.C is\n \n             when 'X' =>\n                Ptr := Ptr + 1;\n-               Extensions_Allowed := True;\n-               Ada_Version := Ada_Version_Type'Last;\n+               Extensions_Allowed   := True;\n+               Ada_Version          := Ada_Version_Type'Last;\n                Ada_Version_Explicit := Ada_Version_Type'Last;\n \n             --  Processing for y switch"}]}