{"sha": "7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I5YmU1YzdjYmIzMWIwYWFkN2NhMmNlM2IwZDMxYjMyMmFhMmQ0Mg==", "commit": {"author": {"name": "Devang Patel", "email": "dpatel@apple.com", "date": "2002-08-08T23:14:19Z"}, "committer": {"name": "Devang Patel", "email": "dpatel@gcc.gnu.org", "date": "2002-08-08T23:14:19Z"}, "message": "objc-act.c (build_selector_translation_table): Issue warning...\n\n\n        * objc/objc-act.c (build_selector_translation_table): Issue\n\twarning, when  -Wselector is used,if method for which selector\n\tis being created does not exist.\n\nTestsuite:\n\t*objc.dg/selector-1.m: New test\n\nFrom-SVN: r56142", "tree": {"sha": "1c3d5900b372fd225e1625f1a80348962ade8465", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c3d5900b372fd225e1625f1a80348962ade8465"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/comments", "author": null, "committer": null, "parents": [{"sha": "6fde981568f348315bc0ba2b656c0a0b94f27b31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6fde981568f348315bc0ba2b656c0a0b94f27b31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6fde981568f348315bc0ba2b656c0a0b94f27b31"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "7c22cb673c19587802f2d82b57c6deb07ec1311d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "patch": "@@ -1,3 +1,8 @@\n+2002-08-08  Devang Patel  <dpatel@apple.com>\n+\t* objc/objc-act.c (build_selector_translation_table): Issue warning, \n+\twhen  -Wselector is used,if method for which selector is being \n+\tcreated does not exist.\n+\t\n 2002-08-08  Stephen Clarke <stephen.clarke@superh.com>\n \n \t* config/sh/sh.c (prepare_move_operands): Only call"}, {"sha": "c16e57c79339de837fe806e6ab227ecc55c7fc49", "filename": "gcc/objc/objc-act.c", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Fobjc%2Fobjc-act.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Fobjc%2Fobjc-act.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-act.c?ref=7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "patch": "@@ -1886,6 +1886,32 @@ build_selector_translation_table ()\n     {\n       tree expr;\n \n+      if (warn_selector && objc_implementation_context)\n+      {\n+        tree method_chain;\n+        bool found = false;\n+        for (method_chain = meth_var_names_chain;\n+             method_chain;\n+             method_chain = TREE_CHAIN (method_chain))\n+          {\n+            if (TREE_VALUE (method_chain) == TREE_VALUE (chain))\n+              {\n+                found = true;\n+                break;\n+              }\n+          }\n+        if (!found)\n+          {\n+            /* Adjust line number for warning message.  */\n+            int save_lineno = lineno;\n+            if (flag_next_runtime && TREE_PURPOSE (chain))\n+              lineno = DECL_SOURCE_LINE (TREE_PURPOSE (chain));\n+            warning (\"creating selector for non existant method %s\",\n+                     IDENTIFIER_POINTER (TREE_VALUE (chain)));\n+            lineno = save_lineno;\n+          }\n+      }\n+\n       expr = build_selector (TREE_VALUE (chain));\n \n       if (flag_next_runtime)"}, {"sha": "07c3a50b94f35d0d9ab772a7613f3372e2c9fcfd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "patch": "@@ -1,3 +1,6 @@\n+2002-08-08  Devang Patel  <dpatel@apple.com>\n+\t*objc.dg/selector-1.m : New test\n+\t\n 2002-08-08  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* g++.dg/abi/bitfield4.c: New test."}, {"sha": "b23cc90a284b210ad4b86ad52ba94d6300b31e42", "filename": "gcc/testsuite/objc.dg/selector-1.m", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Ftestsuite%2Fobjc.dg%2Fselector-1.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42/gcc%2Ftestsuite%2Fobjc.dg%2Fselector-1.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fobjc.dg%2Fselector-1.m?ref=7b9be5c7cbb31b0aad7ca2ce3b0d31b322aa2d42", "patch": "@@ -0,0 +1,26 @@\n+/* Test warning for non existing selectors.  */\n+/* Contributed by Devang Patel <dpatel@apple.com>.  */\n+/* { dg-options \"-Wselector -fnext-runtime\" } */\n+/* { dg-do compile } */\n+\n+typedef struct objc_object { struct objc_class *class_pointer; } *id;\n+typedef struct objc_selector    *SEL;\n+\n+@interface Foo\n+- (void) foo;\n+- (void) bar;\n+@end\n+\n+@implementation Foo\n+- (void) bar\n+{\n+}\n+\n+- (void) foo\n+{\n+  SEL a,b,c;\n+  a = @selector(b1ar); /* { dg-warning \"creating selector for non existant method b1ar\" } */\n+  b = @selector(bar);\n+}\n+@end\n+"}]}