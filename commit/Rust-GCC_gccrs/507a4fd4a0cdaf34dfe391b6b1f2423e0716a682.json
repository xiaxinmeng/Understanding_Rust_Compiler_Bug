{"sha": "507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTA3YTRmZDRhMGNkYWYzNGRmZTM5MWI2YjFmMjQyM2UwNzE2YTY4Mg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2007-02-09T20:40:56Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2007-02-09T20:40:56Z"}, "message": "* sysdep/alpha/locks.h (read_barrier): New.\n\nFrom-SVN: r121774", "tree": {"sha": "6fd9de8c6d16c00cb6faaa80e80f6cf3b2af51fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fd9de8c6d16c00cb6faaa80e80f6cf3b2af51fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "html_url": "https://github.com/Rust-GCC/gccrs/commit/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682/comments", "author": null, "committer": null, "parents": [{"sha": "999ffb1a4b306ac65f47444ba5e2e63fb897c6c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/999ffb1a4b306ac65f47444ba5e2e63fb897c6c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/999ffb1a4b306ac65f47444ba5e2e63fb897c6c1"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "49b0567e673fb2a900f0e3b3488bed99f43ade4b", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "patch": "@@ -1,3 +1,7 @@\n+2007-02-09  Richard Henderson  <rth@redhat.com>\n+\n+\t* sysdep/alpha/locks.h (read_barrier): New.\n+\n 2007-02-09  Keith Seitz  <keiths@redhat.com>\n \n \t* gnu/classpath/jdwp/VMVirtualMachine.java"}, {"sha": "a6b4394080bf3799a7d9fa75341f9feeb49f9256", "filename": "libjava/sysdep/alpha/locks.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682/libjava%2Fsysdep%2Falpha%2Flocks.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/507a4fd4a0cdaf34dfe391b6b1f2423e0716a682/libjava%2Fsysdep%2Falpha%2Flocks.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fsysdep%2Falpha%2Flocks.h?ref=507a4fd4a0cdaf34dfe391b6b1f2423e0716a682", "patch": "@@ -50,6 +50,14 @@ compare_and_swap_release(volatile obj_addr_t *addr,\n   return compare_and_swap(addr, old, new_val);\n }\n \n+// Ensure that subsequent instructions do not execute on stale\n+// data that was loaded from memory before the barrier.\n+inline static void\n+read_barrier()\n+{\n+  __asm__ __volatile__(\"mb\" : : : \"memory\");\n+}\n+\n // Ensure that prior stores to memory are completed with respect to other\n // processors.\n inline static void"}]}