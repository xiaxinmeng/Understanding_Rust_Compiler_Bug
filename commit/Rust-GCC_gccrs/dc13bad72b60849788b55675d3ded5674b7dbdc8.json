{"sha": "dc13bad72b60849788b55675d3ded5674b7dbdc8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGMxM2JhZDcyYjYwODQ5Nzg4YjU1Njc1ZDNkZWQ1Njc0YjdkYmRjOA==", "commit": {"author": {"name": "Eli Zaretskii", "email": "eliz@is.elta.co.il", "date": "2000-08-21T16:28:18Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-08-21T16:28:18Z"}, "message": "prevent the deletion of a file before it is read on DOS\n\nFrom-SVN: r35848", "tree": {"sha": "bbe3ebb1a31e2a19d43171faf0e762b47cad7544", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bbe3ebb1a31e2a19d43171faf0e762b47cad7544"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc13bad72b60849788b55675d3ded5674b7dbdc8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc13bad72b60849788b55675d3ded5674b7dbdc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc13bad72b60849788b55675d3ded5674b7dbdc8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc13bad72b60849788b55675d3ded5674b7dbdc8/comments", "author": null, "committer": null, "parents": [{"sha": "ddd32db02d42cff54b0c92dd0722d7193cc8cb8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddd32db02d42cff54b0c92dd0722d7193cc8cb8b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddd32db02d42cff54b0c92dd0722d7193cc8cb8b"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "a9f64a4c3013252bcfdfbcf025b06f0ae47b9b4a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc13bad72b60849788b55675d3ded5674b7dbdc8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc13bad72b60849788b55675d3ded5674b7dbdc8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dc13bad72b60849788b55675d3ded5674b7dbdc8", "patch": "@@ -1,3 +1,9 @@\n+2000-08-05  Eli Zaretskii  <eliz@is.elta.co.il>\n+\n+\t* fixinc/fixincl.c (fix_with_system): Pipe the output of\n+\t\"external\" fixes through `cat', to avoid truncating the input\n+\tfile by redirection.\n+\n 2000-08-21  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/i386/i386.md (lea_general_1): Copy insn condition to split"}, {"sha": "9736537cbad38b296684ff42ecd8aa30ff6ffe6d", "filename": "gcc/fixinc/fixincl.c", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc13bad72b60849788b55675d3ded5674b7dbdc8/gcc%2Ffixinc%2Ffixincl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc13bad72b60849788b55675d3ded5674b7dbdc8/gcc%2Ffixinc%2Ffixincl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.c?ref=dc13bad72b60849788b55675d3ded5674b7dbdc8", "patch": "@@ -914,10 +914,13 @@ fix_with_system (p_fixd, pz_fix_file, pz_file_source, pz_temp_file)\n       /* Don't use the \"src > dstX; rm -f dst; mv -f dstX dst\" trick:\n \t dst is a temporary file anyway, so we know there's no other\n \t file by that name; and DOS's system(3) doesn't mind to\n-\t clobber existing file in redirection.  Besides, with DOS 8+3\n-\t limited file namespace, we can easily lose if dst already has\n-\t an extension that is 3 or more characters long.  */\n-      tSCC   z_cmd_fmt[] = \" %s > %s\";\n+         clobber existing file in redirection.  Besides, with DOS 8+3\n+         limited file namespace, we can easily lose if dst already has\n+         an extension that is 3 or more characters long.\n+         The following bizarre use of 'cat' only works on DOS boxes.\n+         It is causing the file to be dropped into a temporary file for\n+         'cat' to read (pipes do not work on DOS).  */\n+      tSCC   z_cmd_fmt[] = \" %s | cat > %s\";\n       tCC**  ppArgs = p_fixd->patch_args;\n \n       argsize = sizeof( z_cmd_fmt ) + strlen( pz_temp_file )"}]}