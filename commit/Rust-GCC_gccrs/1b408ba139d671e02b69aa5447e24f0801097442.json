{"sha": "1b408ba139d671e02b69aa5447e24f0801097442", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWI0MDhiYTEzOWQ2NzFlMDJiNjlhYTU0NDdlMjRmMDgwMTA5NzQ0Mg==", "commit": {"author": {"name": "Sterling Augustine", "email": "sterling@gcc.gnu.org", "date": "2010-05-27T21:10:54Z"}, "committer": {"name": "Sterling Augustine", "email": "sterling@gcc.gnu.org", "date": "2010-05-27T21:10:54Z"}, "message": "invoke.texi (xtensa options): Add -mforce-no-pic.\n\n2010-05-27 Sterling Augustine <sterling@tensilica.com>\n\n        * doc/invoke.texi (xtensa options): Add -mforce-no-pic.\n        * config/xtensa/xtensa.c (override_options): Check\n          TARGET_FORCE_NO_PIC and set flag_pic.\n        * config/xtensa/xtensa.opt: Document -mforce-no-pic\n\nFrom-SVN: r159950", "tree": {"sha": "08e9791311e16dd98c8a9cfdd2c00720fbb6f26d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08e9791311e16dd98c8a9cfdd2c00720fbb6f26d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b408ba139d671e02b69aa5447e24f0801097442", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b408ba139d671e02b69aa5447e24f0801097442", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b408ba139d671e02b69aa5447e24f0801097442", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b408ba139d671e02b69aa5447e24f0801097442/comments", "author": null, "committer": null, "parents": [{"sha": "0bc25dd001075ffc6fd0b926a91912f52a251fc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bc25dd001075ffc6fd0b926a91912f52a251fc8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bc25dd001075ffc6fd0b926a91912f52a251fc8"}], "stats": {"total": 11653, "additions": 11653, "deletions": 0}, "files": [{"sha": "c32fcc3f9af55c054cc3acdbb3c1e27960a69b01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11640, "deletions": 0, "changes": 11640, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1b408ba139d671e02b69aa5447e24f0801097442"}, {"sha": "76e872dddb36852e7409c8732facd447c8f481f1", "filename": "gcc/config/xtensa/xtensa.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fconfig%2Fxtensa%2Fxtensa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.c?ref=1b408ba139d671e02b69aa5447e24f0801097442", "patch": "@@ -2109,6 +2109,8 @@ override_options (void)\n   if (flag_pic && TARGET_CONST16)\n     error (\"-f%s is not supported with CONST16 instructions\",\n \t   (flag_pic > 1 ? \"PIC\" : \"pic\"));\n+  else if (TARGET_FORCE_NO_PIC)\n+    flag_pic = 0;\n   else if (XTENSA_ALWAYS_PIC)\n     {\n       if (TARGET_CONST16)"}, {"sha": "18f8bf3aae1166bee1a1b07f6b6dcf9b52f7d35a", "filename": "gcc/config/xtensa/xtensa.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fconfig%2Fxtensa%2Fxtensa.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fconfig%2Fxtensa%2Fxtensa.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.opt?ref=1b408ba139d671e02b69aa5447e24f0801097442", "patch": "@@ -26,6 +26,10 @@ mfused-madd\n Target Report Mask(FUSED_MADD)\n Enable fused multiply/add and multiply/subtract FP instructions\n \n+mforce-no-pic\n+Target Report Mask(FORCE_NO_PIC)\n+Disable position-independent code (PIC) for use in OS kernel code\n+\n mlongcalls\n Target\n Use indirect CALLXn instructions for large programs"}, {"sha": "17b1b3fdb80d287294cf84e76f69b0dd1cc13352", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b408ba139d671e02b69aa5447e24f0801097442/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=1b408ba139d671e02b69aa5447e24f0801097442", "patch": "@@ -889,6 +889,7 @@ See i386 and x86-64 Options.\n @emph{Xtensa Options}\n @gccoptlist{-mconst16 -mno-const16 @gol\n -mfused-madd  -mno-fused-madd @gol\n+-mforce-no-pic @gol\n -mserialize-volatile  -mno-serialize-volatile @gol\n -mtext-section-literals  -mno-text-section-literals @gol\n -mtarget-align  -mno-target-align @gol\n@@ -17082,6 +17083,12 @@ When this option is enabled, GCC inserts @code{MEMW} instructions before\n The default is @option{-mserialize-volatile}.  Use\n @option{-mno-serialize-volatile} to omit the @code{MEMW} instructions.\n \n+@item -mforce-no-pic\n+@opindex mforce-no-pic\n+For targets, like GNU/Linux, where all user-mode Xtensa code must be\n+position-independent code (PIC), this option disables PIC for compiling\n+kernel code.\n+\n @item -mtext-section-literals\n @itemx -mno-text-section-literals\n @opindex mtext-section-literals"}]}