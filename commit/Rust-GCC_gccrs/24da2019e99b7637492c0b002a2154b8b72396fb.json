{"sha": "24da2019e99b7637492c0b002a2154b8b72396fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjRkYTIwMTllOTliNzYzNzQ5MmMwYjAwMmEyMTU0YjhiNzIzOTZmYg==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2011-03-17T22:02:00Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2011-03-17T22:02:00Z"}, "message": "v850.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n\n\t* config/v850/v850.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n\t* config/v850/v850-protos.h (v850_output_addr_const_extra): Remove.\n\t* config/v850/v850.c (v850_output_addr_const_extra): Make static.\n\tChange return type to bool.\n\t(TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA): Define.\n\nFrom-SVN: r171117", "tree": {"sha": "f8e4052d3d6193f9cb55590a23ffdb133cdc5e21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8e4052d3d6193f9cb55590a23ffdb133cdc5e21"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24da2019e99b7637492c0b002a2154b8b72396fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24da2019e99b7637492c0b002a2154b8b72396fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24da2019e99b7637492c0b002a2154b8b72396fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24da2019e99b7637492c0b002a2154b8b72396fb/comments", "author": null, "committer": null, "parents": [{"sha": "c598e5fa54f472696d5d50e2ba4991a3cec62dd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c598e5fa54f472696d5d50e2ba4991a3cec62dd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c598e5fa54f472696d5d50e2ba4991a3cec62dd1"}], "stats": {"total": 32, "additions": 19, "deletions": 13}, "files": [{"sha": "8fe2386135f6d115ee0e34e43ab46c56cdbf955c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=24da2019e99b7637492c0b002a2154b8b72396fb", "patch": "@@ -1,3 +1,11 @@\n+2011-03-17  Anatoly Sokolov  <aesok@post.ru>\n+\n+\t* config/v850/v850.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n+\t* config/v850/v850-protos.h (v850_output_addr_const_extra): Remove.\n+\t* config/v850/v850.c (v850_output_addr_const_extra): Make static.\n+\tChange return type to bool.\n+\t(TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA): Define.\n+\n 2011-03-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR debug/48163"}, {"sha": "1f8b7f1bf362e09bacd230554582d137f2250bd2", "filename": "gcc/config/v850/v850-protos.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850-protos.h?ref=24da2019e99b7637492c0b002a2154b8b72396fb", "patch": "@@ -1,5 +1,5 @@\n /* Prototypes for v850.c functions used in the md file & elsewhere.\n-   Copyright (C) 1999, 2000, 2002, 2004, 2005, 2007, 2010\n+   Copyright (C) 1999, 2000, 2002, 2004, 2005, 2007, 2010, 2011\n    Free Software Foundation, Inc.\n \n    This file is part of GCC.\n@@ -33,7 +33,6 @@ extern int    compute_frame_size            (int, long *);\n extern void   v850_init_expanders           (void);\n \n #ifdef RTX_CODE\n-extern int    v850_output_addr_const_extra  (FILE *, rtx);\n extern rtx    v850_return_addr              (int);\n extern const char *output_move_single       (rtx *);\n extern void   notice_update_cc              (rtx, rtx);"}, {"sha": "4fbdceb05c5e0770454b55ede302af03ccb1bad9", "filename": "gcc/config/v850/v850.c", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.c?ref=24da2019e99b7637492c0b002a2154b8b72396fb", "patch": "@@ -1,6 +1,6 @@\n /* Subroutines for insn-output.c for NEC V850 series\n    Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005,\n-   2006, 2007, 2008, 2009, 2010 Free Software Foundation, Inc.\n+   2006, 2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.\n    Contributed by Jeff Law (law@cygnus.com).\n \n    This file is part of GCC.\n@@ -795,13 +795,13 @@ v850_print_operand_punct_valid_p (unsigned char code)\n    the truncate and just emit the difference of the two labels.  The\n    .hword directive will automatically handle the truncation for us.\n    \n-   Returns 1 if rtx was handled, 0 otherwise.  */\n+   Returns true if rtx was handled, false otherwise.  */\n \n-int\n+static bool\n v850_output_addr_const_extra (FILE * file, rtx x)\n {\n   if (GET_CODE (x) != TRUNCATE)\n-    return 0;\n+    return false;\n \n   x = XEXP (x, 0);\n \n@@ -814,10 +814,10 @@ v850_output_addr_const_extra (FILE * file, rtx x)\n       && GET_CODE (XEXP (x, 0)) == LABEL_REF\n       && GET_CODE (XEXP (XEXP (x, 0), 0)) == CODE_LABEL\n       && INSN_DELETED_P (XEXP (XEXP (x, 0), 0)))\n-    return 1;\n+    return true;\n \n   output_addr_const (file, x);\n-  return 1;\n+  return true;\n }\n \f\n /* Return appropriate code to load up a 1, 2, or 4 integer/floating\n@@ -3138,6 +3138,9 @@ static const struct attribute_spec v850_attribute_table[] =\n #undef  TARGET_PRINT_OPERAND_PUNCT_VALID_P\n #define TARGET_PRINT_OPERAND_PUNCT_VALID_P v850_print_operand_punct_valid_p\n \n+#undef TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA\n+#define TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA v850_output_addr_const_extra\n+\n #undef  TARGET_ATTRIBUTE_TABLE\n #define TARGET_ATTRIBUTE_TABLE v850_attribute_table\n "}, {"sha": "c21f8204b8ee729c069e0d5542e13c933c9d2817", "filename": "gcc/config/v850/v850.h", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24da2019e99b7637492c0b002a2154b8b72396fb/gcc%2Fconfig%2Fv850%2Fv850.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fv850%2Fv850.h?ref=24da2019e99b7637492c0b002a2154b8b72396fb", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler. NEC V850 series\n    Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005,\n-   2007, 2008, 2009, 2010  Free Software Foundation, Inc.\n+   2007, 2008, 2009, 2010, 2011  Free Software Foundation, Inc.\n    Contributed by Jeff Law (law@cygnus.com).\n \n    This file is part of GCC.\n@@ -748,10 +748,6 @@ typedef enum\n #undef  USER_LABEL_PREFIX\n #define USER_LABEL_PREFIX \"_\"\n \n-#define OUTPUT_ADDR_CONST_EXTRA(FILE, X, FAIL)  \\\n-  if (! v850_output_addr_const_extra (FILE, X)) \\\n-     goto FAIL\n-\n /* This says how to output the assembler to define a global\n    uninitialized but not common symbol.  */\n "}]}