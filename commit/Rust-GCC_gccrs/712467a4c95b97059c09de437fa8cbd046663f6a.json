{"sha": "712467a4c95b97059c09de437fa8cbd046663f6a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzEyNDY3YTRjOTViOTcwNTljMDlkZTQzN2ZhOGNiZDA0NjY2M2Y2YQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2002-09-13T21:47:22Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2002-09-13T21:47:22Z"}, "message": "pt.c (unify, ARRAY_TYPE): Element type can be more qualified.\n\ncp:\n\t* pt.c (unify, ARRAY_TYPE): Element type can be more qualified.\ntestsuite:\n\t* g++.dg/template/deduce1.C: New test.\n\nFrom-SVN: r57120", "tree": {"sha": "5a445ad19242301c5ad05e9d614ae622c3bbd199", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a445ad19242301c5ad05e9d614ae622c3bbd199"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/712467a4c95b97059c09de437fa8cbd046663f6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/712467a4c95b97059c09de437fa8cbd046663f6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/712467a4c95b97059c09de437fa8cbd046663f6a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/712467a4c95b97059c09de437fa8cbd046663f6a/comments", "author": null, "committer": null, "parents": [{"sha": "32b4f6f42ab798717813254ce9a2087f6573522c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32b4f6f42ab798717813254ce9a2087f6573522c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32b4f6f42ab798717813254ce9a2087f6573522c"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "33729f4a7a9bc24e64b86cb7ce68c20fc1788527", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=712467a4c95b97059c09de437fa8cbd046663f6a", "patch": "@@ -1,3 +1,7 @@\n+2002-09-13  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* pt.c (unify, ARRAY_TYPE): Element type can be more qualified.\n+\n 2002-09-13  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* decl.c: Fix comment formatting."}, {"sha": "17e92f32246f4a9f88cf5963afbee06f33f20467", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=712467a4c95b97059c09de437fa8cbd046663f6a", "patch": "@@ -8921,7 +8921,7 @@ unify (tparms, targs, parm, arg, strict)\n \t\t    TYPE_DOMAIN (arg), UNIFY_ALLOW_NONE) != 0)\n \treturn 1;\n       return unify (tparms, targs, TREE_TYPE (parm), TREE_TYPE (arg),\n-\t\t    UNIFY_ALLOW_NONE);\n+\t\t    strict & UNIFY_ALLOW_MORE_CV_QUAL);\n \n     case REAL_TYPE:\n     case COMPLEX_TYPE:"}, {"sha": "5bd1e4032f94764861edd1ec84a2b05f8ec60e2f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=712467a4c95b97059c09de437fa8cbd046663f6a", "patch": "@@ -1,3 +1,7 @@\n+2002-09-13  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.dg/template/deduce1.C: New test.\n+\n 2002-09-13  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* gcc.c-torture/execute/simd-1.c: Force all use of int to"}, {"sha": "262c4fe86e58e372ae3431d2ec8d7d6c6cee9478", "filename": "gcc/testsuite/g++.dg/template/deduce1.C", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fdeduce1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/712467a4c95b97059c09de437fa8cbd046663f6a/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fdeduce1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fdeduce1.C?ref=712467a4c95b97059c09de437fa8cbd046663f6a", "patch": "@@ -0,0 +1,25 @@\n+// { dg-do run }\n+\n+// Copyright (C) 2002 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 13 Sep 2002 <nathan@codesourcery.com>\n+\n+template <typename T> int Foo (T const *)\n+{\n+  return 1;\n+}\n+template <typename T> int Foo (T const &)\n+{\n+  return 2;\n+}\n+template <typename T, __SIZE_TYPE__ I> int Foo (T const (&ref)[I])\n+{\n+  return 0;\n+}\n+\n+int main ()\n+{\n+  static int array[4] = {};\n+  \n+  return Foo (array);\n+}\n+"}]}