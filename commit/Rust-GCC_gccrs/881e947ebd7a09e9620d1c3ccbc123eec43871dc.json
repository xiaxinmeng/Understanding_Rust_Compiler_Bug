{"sha": "881e947ebd7a09e9620d1c3ccbc123eec43871dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODgxZTk0N2ViZDdhMDllOTYyMGQxYzNjY2JjMTIzZWVjNDM4NzFkYw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-12-06T19:21:32Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2018-12-06T19:21:32Z"}, "message": "Fix PR libstdc++/64883 Darwin headers use always_inline so don't test that\n    \n    Because darwin system headers use always_inline rather than\n    __always_inline__ the libstdc++ test will fail, even if our headers only\n    use the reserved form of the attribute. Don't test it on Darwin, and\n    assume that testing on other targets will catch any accidental misuses\n    in libstdc++ headers.\n \n2018-12-06  Jonathan Wakely  <jwakely@redhat.com>\n\t    Iain Sandoe  <iain@sandoe.co.uk>\n\n            PR libstdc++/64883\n            * testsuite/17_intro/headers/c++1998/all_attributes.cc: Don't test\n            always_inline on Darwin.\n            * testsuite/17_intro/headers/c++2011/all_attributes.cc: Likewise.\n            * testsuite/17_intro/headers/c++2014/all_attributes.cc: Likewise.\n            * testsuite/17_intro/headers/c++2017/all_attributes.cc: Likewise.\n            * testsuite/17_intro/headers/c++2020/all_attributes.cc: Likewise.\n\n\nCo-Authored-By: Iain Sandoe <iain@sandoe.co.uk>\n\nFrom-SVN: r266863", "tree": {"sha": "0ec4024cfeb2dac6e7b52632b6d8d82d42ffd339", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ec4024cfeb2dac6e7b52632b6d8d82d42ffd339"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/881e947ebd7a09e9620d1c3ccbc123eec43871dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/881e947ebd7a09e9620d1c3ccbc123eec43871dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/881e947ebd7a09e9620d1c3ccbc123eec43871dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/881e947ebd7a09e9620d1c3ccbc123eec43871dc/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e384094ac2e3bf7bac69453fb0579fa8a7c35b3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e384094ac2e3bf7bac69453fb0579fa8a7c35b3e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e384094ac2e3bf7bac69453fb0579fa8a7c35b3e"}], "stats": {"total": 27, "additions": 19, "deletions": 8}, "files": [{"sha": "72feab11d9dc0cd6f7ac911db060ba13f749b009", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -1,3 +1,14 @@\n+2018-12-06  Jonathan Wakely  <jwakely@redhat.com>\n+\t    Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\tPR libstdc++/64883\n+\t* testsuite/17_intro/headers/c++1998/all_attributes.cc: Don't test\n+\talways_inline on Darwin.\n+\t* testsuite/17_intro/headers/c++2011/all_attributes.cc: Likewise.\n+\t* testsuite/17_intro/headers/c++2014/all_attributes.cc: Likewise.\n+\t* testsuite/17_intro/headers/c++2017/all_attributes.cc: Likewise.\n+\t* testsuite/17_intro/headers/c++2020/all_attributes.cc: Likewise.\n+\n 2018-12-03  Edward Smith-Rowland  <3dw4rd@verizon.net>\n \n \tPR libstdc++/88341 - Complex norm doesn't compile with C++11"}, {"sha": "0e7dcf736f247dee24c02c562958ce475f9c2294", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++1998/all_attributes.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B1998%2Fall_attributes.cc?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -21,9 +21,9 @@\n // Ensure the library only uses the __name__ form for attributes.\n // Don't test 'const' because it is reserved anyway.\n #define abi_tag 1\n-#define always_inline 1\n #ifndef __APPLE__\n // darwin headers use these, see PR 64883\n+# define always_inline 1\n # define deprecated 1\n # define noreturn 1\n # define visibility 1"}, {"sha": "82f372d8294a0f6471da2b70c60b0390e2eda250", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++2011/all_attributes.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2011%2Fall_attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2011%2Fall_attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2011%2Fall_attributes.cc?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -21,11 +21,11 @@\n // Ensure the library only uses the __name__ form for attributes.\n // Don't test 'const' and 'noreturn' because they are reserved anyway.\n #define abi_tag 1\n-#define always_inline 1\n #ifndef __APPLE__\n // darwin headers use these, see PR 64883\n-# define visibility 1\n+# define always_inline 1\n # define deprecated 1\n+# define visibility 1\n #endif\n #define packed 1\n #define pure 1"}, {"sha": "d6cc2c9f9db89c1c4071d3e5b8bdc3a5772a14b8", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++2014/all_attributes.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2014%2Fall_attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2014%2Fall_attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2014%2Fall_attributes.cc?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -21,9 +21,9 @@\n // Ensure the library only uses the __name__ form for attributes.\n // Don't test 'const' and 'noreturn' because they are reserved anyway.\n #define abi_tag 1\n-#define always_inline 1\n #ifndef __APPLE__\n // darwin headers use these, see PR 64883\n+# define always_inline 1\n # define deprecated 1\n # define visibility 1\n #endif"}, {"sha": "a6eff0cc04c2accb15b5deadcda1db116f1264a6", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++2017/all_attributes.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2017%2Fall_attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2017%2Fall_attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2017%2Fall_attributes.cc?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -21,9 +21,9 @@\n // Ensure the library only uses the __name__ form for attributes.\n // Don't test 'const' and 'noreturn' because they are reserved anyway.\n #define abi_tag 1\n-#define always_inline 1\n #ifndef __APPLE__\n-// darwin headers use this, see PR 64883\n+// darwin headers use these, see PR 64883\n+# define always_inline 1\n # define visibility 1\n #endif\n #define packed 1"}, {"sha": "2eb46ea36f82bcd10a4719e8af027ba4e479706d", "filename": "libstdc++-v3/testsuite/17_intro/headers/c++2020/all_attributes.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2020%2Fall_attributes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/881e947ebd7a09e9620d1c3ccbc123eec43871dc/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2020%2Fall_attributes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F17_intro%2Fheaders%2Fc%2B%2B2020%2Fall_attributes.cc?ref=881e947ebd7a09e9620d1c3ccbc123eec43871dc", "patch": "@@ -21,9 +21,9 @@\n // Ensure the library only uses the __name__ form for attributes.\n // Don't test 'const' and 'noreturn' because they are reserved anyway.\n #define abi_tag 1\n-#define always_inline 1\n #ifndef __APPLE__\n-// darwin headers use this, see PR 64883\n+// darwin headers use these, see PR 64883\n+# define always_inline 1\n # define visibility 1\n #endif\n #define packed 1"}]}