{"sha": "3621d5ec1db7d5088320465877cb97082141f8e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYyMWQ1ZWMxZGI3ZDUwODgzMjA0NjU4NzdjYjk3MDgyMTQxZjhlNQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2009-10-07T16:36:43Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2009-10-07T16:36:43Z"}, "message": "cgraph.c (cgraph_node_can_be_local): Handle externally visible nodes correctly.\n\n\t* cgraph.c (cgraph_node_can_be_local): Handle externally visible nodes\n\tcorrectly.\n\nFrom-SVN: r152532", "tree": {"sha": "8d44193126b0e58b978c363ad1b4310858955c38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8d44193126b0e58b978c363ad1b4310858955c38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3621d5ec1db7d5088320465877cb97082141f8e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3621d5ec1db7d5088320465877cb97082141f8e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3621d5ec1db7d5088320465877cb97082141f8e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3621d5ec1db7d5088320465877cb97082141f8e5/comments", "author": null, "committer": null, "parents": [{"sha": "f8921d7ddfff1ccf3718d7fb82821ff0dff98708", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8921d7ddfff1ccf3718d7fb82821ff0dff98708", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8921d7ddfff1ccf3718d7fb82821ff0dff98708"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "213f4b61368014b2e45fffd10294748ec9e7b191", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3621d5ec1db7d5088320465877cb97082141f8e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3621d5ec1db7d5088320465877cb97082141f8e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3621d5ec1db7d5088320465877cb97082141f8e5", "patch": "@@ -1,3 +1,8 @@\n+2009-10-06  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cgraph.c (cgraph_node_can_be_local): Handle externally visible nodes\n+\tcorrectly.\n+\n 2009-10-06  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/i386.md (*lea_1_rex64, *lea_1, *lea_1_zext,"}, {"sha": "01fbb9a85d79610e7761127cdcb80f7c332238f3", "filename": "gcc/cgraph.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3621d5ec1db7d5088320465877cb97082141f8e5/gcc%2Fcgraph.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3621d5ec1db7d5088320465877cb97082141f8e5/gcc%2Fcgraph.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraph.c?ref=3621d5ec1db7d5088320465877cb97082141f8e5", "patch": "@@ -1983,7 +1983,8 @@ cgraph_add_new_function (tree fndecl, bool lowered)\n bool\n cgraph_node_can_be_local_p (struct cgraph_node *node)\n {\n-  return !node->needed;\n+  return (!node->needed\n+  \t  && (DECL_COMDAT (node->decl) || !node->local.externally_visible));\n }\n \n /* Bring NODE local.  */"}]}