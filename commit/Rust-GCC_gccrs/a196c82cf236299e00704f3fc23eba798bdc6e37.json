{"sha": "a196c82cf236299e00704f3fc23eba798bdc6e37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTE5NmM4MmNmMjM2Mjk5ZTAwNzA0ZjNmYzIzZWJhNzk4YmRjNmUzNw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2019-03-13T09:15:02Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2019-03-13T09:15:02Z"}, "message": "re PR sanitizer/80953 (Support libsanitizer on Solaris)\n\n\tPR sanitizer/80953\n\tMerge from LLVM revision 355979\n\t* asan/asan_globals.c (GetGlobalsForAddress): Use internal_memcpy to\n\tcopy Global objects for SPARC with GCC.\n\nFrom-SVN: r269640", "tree": {"sha": "c968ca32f7a714dddfc9950d802691a4a75795e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c968ca32f7a714dddfc9950d802691a4a75795e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a196c82cf236299e00704f3fc23eba798bdc6e37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a196c82cf236299e00704f3fc23eba798bdc6e37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a196c82cf236299e00704f3fc23eba798bdc6e37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a196c82cf236299e00704f3fc23eba798bdc6e37/comments", "author": null, "committer": null, "parents": [{"sha": "36b50aeb4e6f4ed3ab12346c7d3d18215f1acf7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36b50aeb4e6f4ed3ab12346c7d3d18215f1acf7a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36b50aeb4e6f4ed3ab12346c7d3d18215f1acf7a"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "4815db0c22c5ee991baa82d6be58746d09413d11", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a196c82cf236299e00704f3fc23eba798bdc6e37/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a196c82cf236299e00704f3fc23eba798bdc6e37/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=a196c82cf236299e00704f3fc23eba798bdc6e37", "patch": "@@ -1,3 +1,10 @@\n+2019-03-13  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR sanitizer/80953\n+\tMerge from LLVM revision 355979\n+\t* asan/asan_globals.c (GetGlobalsForAddress): Use internal_memcpy to\n+\tcopy Global objects for SPARC with GCC.\n+\n 2019-03-13  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR sanitizer/80953"}, {"sha": "10f090940fe3ca829b7d20846cbae6b1977fe9e9", "filename": "libsanitizer/asan/asan_globals.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a196c82cf236299e00704f3fc23eba798bdc6e37/libsanitizer%2Fasan%2Fasan_globals.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a196c82cf236299e00704f3fc23eba798bdc6e37/libsanitizer%2Fasan%2Fasan_globals.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Fasan%2Fasan_globals.cc?ref=a196c82cf236299e00704f3fc23eba798bdc6e37", "patch": "@@ -112,7 +112,11 @@ int GetGlobalsForAddress(uptr addr, Global *globals, u32 *reg_sites,\n     if (flags()->report_globals >= 2)\n       ReportGlobal(g, \"Search\");\n     if (IsAddressNearGlobal(addr, g)) {\n+#if defined(__GNUC__) && defined(__sparc__)\n+      internal_memcpy(&globals[res], &g, sizeof(g));\n+#else\n       globals[res] = g;\n+#endif\n       if (reg_sites)\n         reg_sites[res] = FindRegistrationSite(&g);\n       res++;"}]}