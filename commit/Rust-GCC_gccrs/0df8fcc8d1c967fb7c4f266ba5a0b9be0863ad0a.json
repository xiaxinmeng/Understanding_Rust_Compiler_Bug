{"sha": "0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGRmOGZjYzhkMWM5NjdmYjdjNGYyNjZiYTVhMGI5YmUwODYzYWQwYQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-09-03T14:23:05Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2010-09-03T14:23:05Z"}, "message": "re PR target/45476 (libgcc should contain TCmode functions)\n\nlibgcc/ChangeLog:\n\n\tPR target/45476\n\t* Makefile.in (sifuncs, difuncs, tifuncs): Filter out\n\tLIB2FUNCS_EXCLUDE functions.\n\ngcc/ChangeLog:\n\n\tPR target/45476\n\t* config/i386/t-darwin (LIB2FUNCS_EXCLUDE): New.\n\t* config/i386/darwin.h (LIBGCC2_HAS_TF_MODE,\n\tLIBGCC2_TF_CEXT, TF_SIZE): New defines.\n\ngcc/testsuite/ChangeLog:\n\n\tPR target/45476\n\t* gcc.target/i386/float128-1.c: Enable for all x86 targets.\n\t* gcc.target/i386/float128-2.c: Ditto.\n\nFrom-SVN: r163819", "tree": {"sha": "359a9f77f38264baf4c5337935fd38609f8c0cc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/359a9f77f38264baf4c5337935fd38609f8c0cc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/comments", "author": null, "committer": null, "parents": [{"sha": "ac364a48dba28a7ff62730bad2d1cde92b694607", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac364a48dba28a7ff62730bad2d1cde92b694607", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac364a48dba28a7ff62730bad2d1cde92b694607"}], "stats": {"total": 44, "additions": 36, "deletions": 8}, "files": [{"sha": "2a2d82d9a8f616c6bc90368d69b2a64c82c4ecd0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -1,3 +1,11 @@\n+2010-09-03  Uros Bizjak  <ubizjak@gmail.com>\n+\t    Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\tPR target/45476\n+\t* config/i386/t-darwin (LIB2FUNCS_EXCLUDE): New.\n+\t* config/i386/darwin.h (LIBGCC2_HAS_TF_MODE,\n+\tLIBGCC2_TF_CEXT, TF_SIZE): New defines.\n+\n 2010-09-03  Richard Guenther  <rguenther@suse.de>\n \n \t* lto-streamer-out.c (output_function): Output function\n@@ -29,13 +37,13 @@\n \tinitializer folding.\n \t* ipa.c (ipa_discover_readonly_nonaddressable_var,\n \tfunction_and_variable_visibility): Compute const_value_known.\n-\t* gimple-fold.c (get_symbol_constant_value): Use varpool for initializer\n-\tfolding.\n+\t* gimple-fold.c (get_symbol_constant_value): Use varpool for\n+\tinitializer folding.\n \t* varpool.c (varpool_decide_const_value_known): New function.\n \n 2010-09-03  Uros Bizjak  <ubizjak@gmail.com>\n \n-\t* config/i386/i386.md: Remove empty prepartion statements\n+\t* config/i386/i386.md: Remove empty preparation statements\n \tfrom splitters.\n \n 2010-09-03  Jan Hubicka  <jh@suse.cz>"}, {"sha": "cd3158c0b6af2f36d1b401f2de67b61276a42c12", "filename": "gcc/config/i386/darwin.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Fconfig%2Fi386%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Fconfig%2Fi386%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdarwin.h?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -148,6 +148,12 @@ extern int darwin_emit_branch_islands;\n \n #define SHIFT_DOUBLE_OMITS_COUNT 0\n \n+/* Put all *tf routines in libgcc.  */\n+#undef LIBGCC2_HAS_TF_MODE\n+#define LIBGCC2_HAS_TF_MODE 1\n+#define LIBGCC2_TF_CEXT q\n+#define TF_SIZE 113\n+\n #undef TARGET_ASM_FILE_END\n #define TARGET_ASM_FILE_END darwin_file_end\n "}, {"sha": "22323e4abee2b150f4472f155ca3075fe64b354d", "filename": "gcc/config/i386/t-darwin", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Fconfig%2Fi386%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Fconfig%2Fi386%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-darwin?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -2,3 +2,4 @@ MULTILIB_OPTIONS = m64\n MULTILIB_DIRNAMES = x86_64\n LIB2_SIDITI_CONV_FUNCS=yes\n LIB2FUNCS_EXTRA = $(srcdir)/config/darwin-64.c\n+LIB2FUNCS_EXCLUDE = _fixtfdi _fixunstfdi _floatditf _floatunditf"}, {"sha": "8df8979b42b6231dd9ad366b6547ce8e5b8cdd0a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -1,3 +1,9 @@\n+2010-09-03  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/45476\n+\t* gcc.target/i386/float128-1.c: Enable for all x86 targets.\n+\t* gcc.target/i386/float128-2.c: Ditto.\n+\n 2010-09-03  Daniel Kraft  <d@domob.eu>\n \n \tPR fortran/34162"}, {"sha": "76f5dba5032b8c38e41fc660690935b18cd398b5", "filename": "gcc/testsuite/gcc.target/i386/float128-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-1.c?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-do run { target *-*-linux* } } */\n+/* { dg-do run } */\n /* { dg-options \"-O2 -msse2\" } */\n /* { dg-require-effective-target sse2 } */\n "}, {"sha": "ae899ab23fa26e982751076958e4a3e2812a47b7", "filename": "gcc/testsuite/gcc.target/i386/float128-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Ffloat128-2.c?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -1,6 +1,6 @@\n /* PR target/36710 */\n \n-/* { dg-do run { target *-*-linux* *-*-darwin* } } */\n+/* { dg-do run } */\n /* { dg-options \"-Os -msse2\" } */\n /* { dg-require-effective-target sse2 } */\n "}, {"sha": "245f2a0297f6b620306c0ebbf3d96ec266ad486b", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -1,3 +1,10 @@\n+2010-09-03  Uros Bizjak  <ubizjak@gmail.com>\n+\t    Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\tPR target/45476\n+\t* Makefile.in (sifuncs, difuncs, tifuncs): Filter out\n+\tLIB2FUNCS_EXCLUDE functions.\n+\n 2010-09-03  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n \n \t* configure.ac: Use the GCC_AC_ENABLE_DECIMAL_FLOAT macro."}, {"sha": "cbca5532f2e68574f04d1e25cd577b72a4760de4", "filename": "libgcc/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/libgcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a/libgcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FMakefile.in?ref=0df8fcc8d1c967fb7c4f266ba5a0b9be0863ad0a", "patch": "@@ -385,9 +385,9 @@ ifneq ($(LIB2_SIDITI_CONV_FUNCS),)\n # functions are built with a wordsize of 4; the TImode functions are\n # built with the same labels, but a wordsize of 8.\n \n-sifuncs = $(subst XX,si,$(swfloatfuncs))\n-difuncs = $(subst XX,di,$(dwfloatfuncs))\n-tifuncs = $(subst XX,ti,$(dwfloatfuncs))\n+sifuncs := $(filter-out $(LIB2FUNCS_EXCLUDE),$(subst XX,si,$(swfloatfuncs)))\n+difuncs := $(filter-out $(LIB2FUNCS_EXCLUDE),$(subst XX,di,$(dwfloatfuncs)))\n+tifuncs := $(filter-out $(LIB2FUNCS_EXCLUDE),$(subst XX,ti,$(dwfloatfuncs)))\n \n iter-items := $(sifuncs) $(difuncs) $(tifuncs)\n iter-labels := $(sifuncs) $(difuncs) $(difuncs)"}]}