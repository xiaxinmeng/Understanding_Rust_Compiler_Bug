{"sha": "26bda00088e819ebd7d90b562d21c33ffd6a97a5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZiZGEwMDA4OGU4MTllYmQ3ZDkwYjU2MmQyMWMzM2ZmZDZhOTdhNQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-06T14:39:51Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-02-06T14:39:51Z"}, "message": "PR libfortran\n\n2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libfortran\n\t* io/transfer.c (read_sf): Handle EOR and EOF conditions for\n\tADVANCE=\"no\" with PAD=\"yes\" or PAD=\"no\".\n\nFrom-SVN: r156540", "tree": {"sha": "d35d48b459f465cd90ff8223cc48ff8ea36e0026", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d35d48b459f465cd90ff8223cc48ff8ea36e0026"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26bda00088e819ebd7d90b562d21c33ffd6a97a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26bda00088e819ebd7d90b562d21c33ffd6a97a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26bda00088e819ebd7d90b562d21c33ffd6a97a5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26bda00088e819ebd7d90b562d21c33ffd6a97a5/comments", "author": null, "committer": null, "parents": [{"sha": "b761dbe6a1213b8b212ffda15b95c59f3f12147f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b761dbe6a1213b8b212ffda15b95c59f3f12147f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b761dbe6a1213b8b212ffda15b95c59f3f12147f"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "be54763e96f5d57d4aee39f2982aac69d2b7997a", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26bda00088e819ebd7d90b562d21c33ffd6a97a5/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26bda00088e819ebd7d90b562d21c33ffd6a97a5/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=26bda00088e819ebd7d90b562d21c33ffd6a97a5", "patch": "@@ -1,3 +1,9 @@\n+2010-02-06  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libfortran\n+\t* io/transfer.c (read_sf): Handle EOR and EOF conditions for\n+\tADVANCE=\"no\" with PAD=\"yes\" or PAD=\"no\".\n+\n 2010-02-03  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR libfortran/42901"}, {"sha": "e627a1c7590f04e836c463f03c391231ecac705b", "filename": "libgfortran/io/transfer.c", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26bda00088e819ebd7d90b562d21c33ffd6a97a5/libgfortran%2Fio%2Ftransfer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26bda00088e819ebd7d90b562d21c33ffd6a97a5/libgfortran%2Fio%2Ftransfer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Ftransfer.c?ref=26bda00088e819ebd7d90b562d21c33ffd6a97a5", "patch": "@@ -305,7 +305,20 @@ read_sf (st_parameter_dt *dtp, int * length, int no_error)\n   if (lorig > *length && !dtp->u.p.sf_seen_eor && !seen_comma)\n     {\n       if (n > 0 || no_error)\n-        dtp->u.p.at_eof = 1;\n+        {\n+\t  if (dtp->u.p.advance_status == ADVANCE_NO)\n+\t    {\n+\t      if (dtp->u.p.current_unit->pad_status == PAD_NO)\n+\t        {\n+\t\t  hit_eof (dtp);\n+\t\t  return NULL;\n+\t\t}\n+\t      else\n+\t\tdtp->u.p.eor_condition = 1;\n+\t    }\n+\t  else\n+\t    dtp->u.p.at_eof = 1;\n+\t}\n       else\n         {\n           hit_eof (dtp);"}]}