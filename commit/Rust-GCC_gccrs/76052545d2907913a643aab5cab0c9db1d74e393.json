{"sha": "76052545d2907913a643aab5cab0c9db1d74e393", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYwNTI1NDVkMjkwNzkxM2E2NDNhYWI1Y2FiMGM5ZGIxZDc0ZTM5Mw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2017-06-03T08:23:22Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-06-03T08:23:22Z"}, "message": "configure.ac (*-*-linux-android*): Set target_makefile_frag.\n\n\t* configure.ac (*-*-linux-android*): Set target_makefile_frag.\n\t* configure: Regenerate.\nconfig/\n\t* mt-android: New file.\nlibstdc++-v3/\n\t* src/filesystem/dir.cc (fs::_Dir::advance): Use std::exchange.\n\nFrom-SVN: r248853", "tree": {"sha": "38cacb67fb886e83c8bfa38a8478fdd14acc3858", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38cacb67fb886e83c8bfa38a8478fdd14acc3858"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/76052545d2907913a643aab5cab0c9db1d74e393", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76052545d2907913a643aab5cab0c9db1d74e393", "html_url": "https://github.com/Rust-GCC/gccrs/commit/76052545d2907913a643aab5cab0c9db1d74e393", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/76052545d2907913a643aab5cab0c9db1d74e393/comments", "author": null, "committer": null, "parents": [{"sha": "2474f48f738cbbdce18f4ded7afd7e57d8b1dcc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2474f48f738cbbdce18f4ded7afd7e57d8b1dcc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2474f48f738cbbdce18f4ded7afd7e57d8b1dcc4"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "4794e5e3c52e0a2c0fb76e732a2aa3d1974ea4aa", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -1,3 +1,8 @@\n+2017-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* configure.ac (*-*-linux-android*): Set target_makefile_frag.\n+\t* configure: Regenerate.\n+\n 2017-05-31  Martin Liska  <mliska@suse.cz>\n \n \t* configure.ac: Add handling of stage2_werror_flags to"}, {"sha": "4d54353500745aca78e6d8fd86fec8963e57c812", "filename": "config/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -1,3 +1,7 @@\n+2017-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* mt-android: New file.\n+\n 2017-02-13  Richard Biener  <rguenther@suse.de>\n \n \t* isl.m4: Remove support for ISL 0.14."}, {"sha": "0db854f81d4c10f29c073498de31f9b9f9381da9", "filename": "config/mt-android", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/config%2Fmt-android", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/config%2Fmt-android", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Fmt-android?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -0,0 +1 @@\n+CXXFLAGS_FOR_TARGET += -D_GNU_SOURCE -fexceptions -frtti"}, {"sha": "084986f475e6ade045c58b57ef22b49b7770a0ff", "filename": "configure", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -6930,6 +6930,9 @@ case \"${target}\" in\n   nios2-*-elf*)\n     target_makefile_frag=\"config/mt-nios2-elf\"\n     ;;\n+  *-*-linux-android*)\n+    target_makefile_frag=\"config/mt-android\"\n+    ;;\n   *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n     target_makefile_frag=\"config/mt-gnu\"\n     ;;"}, {"sha": "0cf052b2c756eadd2e105ac61966e9f855afe315", "filename": "configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -2521,6 +2521,9 @@ case \"${target}\" in\n   nios2-*-elf*)\n     target_makefile_frag=\"config/mt-nios2-elf\"\n     ;;\n+  *-*-linux-android*)\n+    target_makefile_frag=\"config/mt-android\"\n+    ;;\n   *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | *-*-kopensolaris*-gnu)\n     target_makefile_frag=\"config/mt-gnu\"\n     ;;"}, {"sha": "1f8ac8a267e039cf7a52f53acdc8dd6b8c5b7a96", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -1,3 +1,7 @@\n+2017-06-03  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* src/filesystem/dir.cc (fs::_Dir::advance): Use std::exchange.\n+\n 2017-06-02  Jonathan Wakely  <jwakely@redhat.com>\n \n \tPR libstdc++/80624"}, {"sha": "9aecd8042a5d991c83298f88eb149bb62c2f9ee4", "filename": "libstdc++-v3/src/filesystem/dir.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/76052545d2907913a643aab5cab0c9db1d74e393/libstdc%2B%2B-v3%2Fsrc%2Ffilesystem%2Fdir.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/76052545d2907913a643aab5cab0c9db1d74e393/libstdc%2B%2B-v3%2Fsrc%2Ffilesystem%2Fdir.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Ffilesystem%2Fdir.cc?ref=76052545d2907913a643aab5cab0c9db1d74e393", "patch": "@@ -146,7 +146,8 @@ fs::_Dir::advance(error_code* ec, directory_options options)\n \n   int err = std::exchange(errno, 0);\n   const auto entp = readdir(dirp);\n-  std::swap(errno, err);\n+  // std::swap cannot be used with Bionic's errno\n+  err = std::exchange(errno, err);\n \n   if (entp)\n     {"}]}