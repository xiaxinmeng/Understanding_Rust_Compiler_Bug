{"sha": "513305f1598cc0bbb73e892e4d272a592f2d08c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTEzMzA1ZjE1OThjYzBiYmI3M2U4OTJlNGQyNzJhNTkyZjJkMDhjMw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-11-08T18:53:59Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-11-08T18:53:59Z"}, "message": "New test case.\n\nFrom-SVN: r90280", "tree": {"sha": "043363f7b590168825ebdfa4db7b7fad25f1b010", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/043363f7b590168825ebdfa4db7b7fad25f1b010"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/513305f1598cc0bbb73e892e4d272a592f2d08c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/513305f1598cc0bbb73e892e4d272a592f2d08c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/513305f1598cc0bbb73e892e4d272a592f2d08c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/513305f1598cc0bbb73e892e4d272a592f2d08c3/comments", "author": null, "committer": null, "parents": [{"sha": "5e74a4ebf70eae09241e779146d3c94f03d0679e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e74a4ebf70eae09241e779146d3c94f03d0679e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e74a4ebf70eae09241e779146d3c94f03d0679e"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "538f2dd8eb5ba7655ded1669917766144a609317", "filename": "gcc/testsuite/gcc.dg/20041106-1.c", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/513305f1598cc0bbb73e892e4d272a592f2d08c3/gcc%2Ftestsuite%2Fgcc.dg%2F20041106-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/513305f1598cc0bbb73e892e4d272a592f2d08c3/gcc%2Ftestsuite%2Fgcc.dg%2F20041106-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20041106-1.c?ref=513305f1598cc0bbb73e892e4d272a592f2d08c3", "patch": "@@ -0,0 +1,31 @@\n+/* { dg-do run { target *-*-linux* *-*-solaris* } } */\n+/* { dg-options -O2 } */\n+\n+#include <sys/types.h>\n+#include <sys/mman.h>\n+#include <unistd.h>\n+#include <stdlib.h>\n+\n+struct S { long x __attribute__((packed)); };\n+volatile long sink;\n+\n+void foo (struct S *s)\n+{\n+  sink = s->x;\n+}\n+\n+int main ()\n+{\n+  size_t ps = getpagesize ();\n+  char *ptr, *page;\n+  struct S *s;\n+\n+  ptr = malloc (3*ps);\n+  page = (char *)(((size_t)ptr + (ps - 1)) & -ps);\n+  munmap (page + ps, ps);\n+\n+  s = (struct S *)(page + ps - sizeof(struct S));\n+  foo(s);\n+\n+  return 0;\n+}"}]}