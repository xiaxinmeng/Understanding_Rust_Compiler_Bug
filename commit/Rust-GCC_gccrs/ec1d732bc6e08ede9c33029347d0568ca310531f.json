{"sha": "ec1d732bc6e08ede9c33029347d0568ca310531f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWMxZDczMmJjNmUwOGVkZTljMzMwMjkzNDdkMDU2OGNhMzEwNTMxZg==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-09-27T00:19:06Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-09-27T00:19:06Z"}, "message": "re PR ipa/62121 (ICE: Segmentation fault in ipa-devirt.c:997)\n\n\n\tPR ipa/62121\n\t* ipa-polymorphic-call.c (ipa_polymorphic_call_context::restrict_to_inner_class):\n\tfix pasto in checking array size.\n\n\t* g++.dg/torture/pr62121.C: New testcase.\n\nFrom-SVN: r215655", "tree": {"sha": "7fa13bcb0d321647fa8ad89c27ffffe9bde8fe46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7fa13bcb0d321647fa8ad89c27ffffe9bde8fe46"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec1d732bc6e08ede9c33029347d0568ca310531f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec1d732bc6e08ede9c33029347d0568ca310531f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec1d732bc6e08ede9c33029347d0568ca310531f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec1d732bc6e08ede9c33029347d0568ca310531f/comments", "author": null, "committer": null, "parents": [{"sha": "ee5bd6c8fd290b4fcb4ceeb79eb5361780ecf19b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee5bd6c8fd290b4fcb4ceeb79eb5361780ecf19b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee5bd6c8fd290b4fcb4ceeb79eb5361780ecf19b"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "203e1f53e07607cbedcb956d16b0656594ef6352", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec1d732bc6e08ede9c33029347d0568ca310531f", "patch": "@@ -1,3 +1,9 @@\n+2014-09-26  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR ipa/62121\n+\t* ipa-polymorphic-call.c (ipa_polymorphic_call_context::restrict_to_inner_class):\n+\tfix pasto in checking array size.\n+\n 2014-09-26  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR middle-end/35545"}, {"sha": "e682b2b45ddd36be9cc7ff706d6c8d70cb5a0188", "filename": "gcc/ipa-polymorphic-call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Fipa-polymorphic-call.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Fipa-polymorphic-call.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-polymorphic-call.c?ref=ec1d732bc6e08ede9c33029347d0568ca310531f", "patch": "@@ -327,7 +327,7 @@ ipa_polymorphic_call_context::restrict_to_inner_class (tree expected_type)\n \t      && (cur_offset\n \t\t  + (expected_type ? tree_to_uhwi (TYPE_SIZE (expected_type))\n \t\t     : 0)\n-\t\t  > tree_to_uhwi (TYPE_SIZE (type))))\n+\t\t  > tree_to_uhwi (TYPE_SIZE (subtype))))\n \t    goto no_useful_type_info;\n \n \t  cur_offset = new_offset;"}, {"sha": "e3396c54a81e0c3a3e390c99b85e85a0be8d5b5d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ec1d732bc6e08ede9c33029347d0568ca310531f", "patch": "@@ -1,3 +1,8 @@\n+2014-09-26  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR ipa/62121\n+\t* g++.dg/torture/pr62121.C: New testcase.\n+\n 2014-09-26  Jan Hubicka  <hubicka@ucw.cz>\n \n \tPR middle-end/35545"}, {"sha": "de1196a62e196ce10d2c93288f8ec18c8f03b9c5", "filename": "gcc/testsuite/g++.dg/torture/pr62121.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62121.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec1d732bc6e08ede9c33029347d0568ca310531f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62121.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftorture%2Fpr62121.C?ref=ec1d732bc6e08ede9c33029347d0568ca310531f", "patch": "@@ -0,0 +1,12 @@\n+// { dg-do compile }\n+class A\n+{\n+  virtual double operator()();\n+};\n+class B : A\n+{\n+public:\n+  double operator()();\n+};\n+extern B a[];\n+int b = a[0]();"}]}