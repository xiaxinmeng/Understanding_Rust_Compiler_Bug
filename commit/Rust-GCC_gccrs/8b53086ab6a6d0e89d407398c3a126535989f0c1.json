{"sha": "8b53086ab6a6d0e89d407398c3a126535989f0c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI1MzA4NmFiNmE2ZDBlODlkNDA3Mzk4YzNhMTI2NTM1OTg5ZjBjMQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-04-28T19:42:41Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2020-04-28T19:45:00Z"}, "message": "libphobos: Fix multilib powerpc64 builds\n\nMultilibs should not have been split up as two logically different CPU,\nso at configure time, powerpc64 was being detected, but none of the\n32-bit support files were being compiled in.\n\nlibphobos/ChangeLog:\n\n\tPR d/94825\n\t* configure: Regenerate.\n\t* libdruntime/Makefile.am (DRUNTIME_SOURCES_CONFIGURED): Add both\n\tswitchcontext.S and callwithstack.S if DRUNTIME_CPU_POWERPC.\n\t* libdruntime/Makefile.in: Regenerate.\n\t* libdruntime/config/powerpc/switchcontext.S: Add !__PPC64__ guards.\n\t* libdruntime/config/powerpc64/callwithstack.S: Add __PPC64__ guards.\n\t* m4/druntime/cpu.m4 (DRUNTIME_CPU_SOURCES): Define DRUNTIME_CPU_POWER\n\tfor all powerpc biarchs.  Remove DRUNTIME_CPU_POWER64 conditional.", "tree": {"sha": "ae126d1846c0d0375a079b9ef84ad5f5ff1be025", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae126d1846c0d0375a079b9ef84ad5f5ff1be025"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b53086ab6a6d0e89d407398c3a126535989f0c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b53086ab6a6d0e89d407398c3a126535989f0c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b53086ab6a6d0e89d407398c3a126535989f0c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b53086ab6a6d0e89d407398c3a126535989f0c1/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bce54ed494fd0e61f41986e2bdbcfb2d2a3a1cf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bce54ed494fd0e61f41986e2bdbcfb2d2a3a1cf1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bce54ed494fd0e61f41986e2bdbcfb2d2a3a1cf1"}], "stats": {"total": 160, "additions": 74, "deletions": 86}, "files": [{"sha": "a4e209d8615013f0b292b68731bb5828945285db", "filename": "libphobos/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2FChangeLog?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -1,3 +1,15 @@\n+2020-04-28  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\tPR d/94825\n+\t* configure: Regenerate.\n+\t* libdruntime/Makefile.am (DRUNTIME_SOURCES_CONFIGURED): Add both\n+\tswitchcontext.S and callwithstack.S if DRUNTIME_CPU_POWERPC.\n+\t* libdruntime/Makefile.in: Regenerate.\n+\t* libdruntime/config/powerpc/switchcontext.S: Add !__PPC64__ guards.\n+\t* libdruntime/config/powerpc64/callwithstack.S: Add __PPC64__ guards.\n+\t* m4/druntime/cpu.m4 (DRUNTIME_CPU_SOURCES): Define DRUNTIME_CPU_POWER\n+\tfor all powerpc biarchs.  Remove DRUNTIME_CPU_POWER64 conditional.\n+\n 2020-04-27  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* libdruntime/Makefile.am (DRUNTIME_DSOURCES_LINUX): Remove"}, {"sha": "e461c7442b29fef77abd759a7037484d9489fa61", "filename": "libphobos/configure", "status": "modified", "additions": 3, "deletions": 20, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fconfigure?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -692,8 +692,6 @@ DRUNTIME_CPU_SYSTEMZ_FALSE\n DRUNTIME_CPU_SYSTEMZ_TRUE\n DRUNTIME_CPU_X86_FALSE\n DRUNTIME_CPU_X86_TRUE\n-DRUNTIME_CPU_POWERPC64_FALSE\n-DRUNTIME_CPU_POWERPC64_TRUE\n DRUNTIME_CPU_POWERPC_FALSE\n DRUNTIME_CPU_POWERPC_TRUE\n DRUNTIME_CPU_MIPS_FALSE\n@@ -11649,7 +11647,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11652 \"configure\"\n+#line 11650 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11755,7 +11753,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11758 \"configure\"\n+#line 11756 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -13991,12 +13989,9 @@ fi\n                ;;\n       mips*)   druntime_target_cpu_parsed=\"mips\"\n                ;;\n-      powerpc|powerpcle)\n+      powerpc*)\n                druntime_target_cpu_parsed=\"powerpc\"\n                ;;\n-      powerpc64|powerpc64le)\n-               druntime_target_cpu_parsed=\"powerpc64\"\n-               ;;\n       i[34567]86|x86_64)\n                druntime_target_cpu_parsed=\"x86\"\n                ;;\n@@ -14039,14 +14034,6 @@ else\n   DRUNTIME_CPU_POWERPC_FALSE=\n fi\n \n-   if test \"$druntime_target_cpu_parsed\" = \"powerpc64\"; then\n-  DRUNTIME_CPU_POWERPC64_TRUE=\n-  DRUNTIME_CPU_POWERPC64_FALSE='#'\n-else\n-  DRUNTIME_CPU_POWERPC64_TRUE='#'\n-  DRUNTIME_CPU_POWERPC64_FALSE=\n-fi\n-\n    if test \"$druntime_target_cpu_parsed\" = \"x86\"; then\n   DRUNTIME_CPU_X86_TRUE=\n   DRUNTIME_CPU_X86_FALSE='#'\n@@ -15605,10 +15592,6 @@ if test -z \"${DRUNTIME_CPU_POWERPC_TRUE}\" && test -z \"${DRUNTIME_CPU_POWERPC_FAL\n   as_fn_error $? \"conditional \\\"DRUNTIME_CPU_POWERPC\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n fi\n-if test -z \"${DRUNTIME_CPU_POWERPC64_TRUE}\" && test -z \"${DRUNTIME_CPU_POWERPC64_FALSE}\"; then\n-  as_fn_error $? \"conditional \\\"DRUNTIME_CPU_POWERPC64\\\" was never defined.\n-Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n-fi\n if test -z \"${DRUNTIME_CPU_X86_TRUE}\" && test -z \"${DRUNTIME_CPU_X86_FALSE}\"; then\n   as_fn_error $? \"conditional \\\"DRUNTIME_CPU_X86\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5"}, {"sha": "e1dc24c660bed3d9eaea2a525930772551af379d", "filename": "libphobos/libdruntime/Makefile.am", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2FMakefile.am?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -81,10 +81,8 @@ if DRUNTIME_CPU_MIPS\n     DRUNTIME_SOURCES_CONFIGURED += config/mips/switchcontext.S\n endif\n if DRUNTIME_CPU_POWERPC\n-    DRUNTIME_SOURCES_CONFIGURED += config/powerpc/switchcontext.S\n-endif\n-if DRUNTIME_CPU_POWERPC64\n-    DRUNTIME_SOURCES_CONFIGURED += config/powerpc64/callwithstack.S\n+    DRUNTIME_SOURCES_CONFIGURED += config/powerpc/callwithstack.S \\\n+\t\t\t\t   config/powerpc/switchcontext.S\n endif\n if DRUNTIME_CPU_X86\n if DRUNTIME_OS_MINGW"}, {"sha": "694de3e0b434308c6fc7f1dea341bdaca4e387a1", "filename": "libphobos/libdruntime/Makefile.in", "status": "modified", "additions": 48, "deletions": 56, "changes": 104, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2FMakefile.in?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -123,12 +123,13 @@ target_triplet = @target@\n @DRUNTIME_CPU_AARCH64_TRUE@am__append_11 = config/aarch64/switchcontext.S\n @DRUNTIME_CPU_ARM_TRUE@am__append_12 = config/arm/switchcontext.S\n @DRUNTIME_CPU_MIPS_TRUE@am__append_13 = config/mips/switchcontext.S\n-@DRUNTIME_CPU_POWERPC_TRUE@am__append_14 = config/powerpc/switchcontext.S\n-@DRUNTIME_CPU_POWERPC64_TRUE@am__append_15 = config/powerpc64/callwithstack.S\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__append_16 = config/mingw/switchcontext.S\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__append_17 = config/x86/switchcontext.S\n-@DRUNTIME_CPU_SYSTEMZ_TRUE@am__append_18 = config/systemz/get_tls_offset.S\n-@DRUNTIME_CPU_S390_TRUE@am__append_19 = config/s390/get_tls_offset.S\n+@DRUNTIME_CPU_POWERPC_TRUE@am__append_14 = config/powerpc/callwithstack.S \\\n+@DRUNTIME_CPU_POWERPC_TRUE@\t\t\t\t   config/powerpc/switchcontext.S\n+\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__append_15 = config/mingw/switchcontext.S\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__append_16 = config/x86/switchcontext.S\n+@DRUNTIME_CPU_SYSTEMZ_TRUE@am__append_17 = config/systemz/get_tls_offset.S\n+@DRUNTIME_CPU_S390_TRUE@am__append_18 = config/s390/get_tls_offset.S\n subdir = libdruntime\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../config/acx.m4 \\\n@@ -440,46 +441,44 @@ am__objects_21 = core/sys/solaris/dlfcn.lo core/sys/solaris/elf.lo \\\n @DRUNTIME_CPU_AARCH64_TRUE@am__objects_23 = config/aarch64/libgdruntime_la-switchcontext.lo\n @DRUNTIME_CPU_ARM_TRUE@am__objects_24 = config/arm/libgdruntime_la-switchcontext.lo\n @DRUNTIME_CPU_MIPS_TRUE@am__objects_25 = config/mips/libgdruntime_la-switchcontext.lo\n-@DRUNTIME_CPU_POWERPC_TRUE@am__objects_26 = config/powerpc/libgdruntime_la-switchcontext.lo\n-@DRUNTIME_CPU_POWERPC64_TRUE@am__objects_27 = config/powerpc64/libgdruntime_la-callwithstack.lo\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__objects_28 = config/mingw/libgdruntime_la-switchcontext.lo\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__objects_29 = config/x86/libgdruntime_la-switchcontext.lo\n-@DRUNTIME_CPU_SYSTEMZ_TRUE@am__objects_30 = config/systemz/libgdruntime_la-get_tls_offset.lo\n-@DRUNTIME_CPU_S390_TRUE@am__objects_31 = config/s390/libgdruntime_la-get_tls_offset.lo\n-am__objects_32 = $(am__objects_4) $(am__objects_6) $(am__objects_8) \\\n+@DRUNTIME_CPU_POWERPC_TRUE@am__objects_26 = config/powerpc/libgdruntime_la-callwithstack.lo \\\n+@DRUNTIME_CPU_POWERPC_TRUE@\tconfig/powerpc/libgdruntime_la-switchcontext.lo\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__objects_27 = config/mingw/libgdruntime_la-switchcontext.lo\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__objects_28 = config/x86/libgdruntime_la-switchcontext.lo\n+@DRUNTIME_CPU_SYSTEMZ_TRUE@am__objects_29 = config/systemz/libgdruntime_la-get_tls_offset.lo\n+@DRUNTIME_CPU_S390_TRUE@am__objects_30 = config/s390/libgdruntime_la-get_tls_offset.lo\n+am__objects_31 = $(am__objects_4) $(am__objects_6) $(am__objects_8) \\\n \t$(am__objects_10) $(am__objects_12) $(am__objects_14) \\\n \t$(am__objects_16) $(am__objects_18) $(am__objects_20) \\\n \t$(am__objects_22) $(am__objects_23) $(am__objects_24) \\\n \t$(am__objects_25) $(am__objects_26) $(am__objects_27) \\\n-\t$(am__objects_28) $(am__objects_29) $(am__objects_30) \\\n-\t$(am__objects_31)\n-am__objects_33 = gcc/config.lo gcc/libbacktrace.lo\n-am__objects_34 = $(am__objects_1) $(am__objects_2) $(am__objects_32) \\\n-\t$(am__objects_33)\n-am_libgdruntime_la_OBJECTS = $(am__objects_34)\n+\t$(am__objects_28) $(am__objects_29) $(am__objects_30)\n+am__objects_32 = gcc/config.lo gcc/libbacktrace.lo\n+am__objects_33 = $(am__objects_1) $(am__objects_2) $(am__objects_31) \\\n+\t$(am__objects_32)\n+am_libgdruntime_la_OBJECTS = $(am__objects_33)\n libgdruntime_la_OBJECTS = $(am_libgdruntime_la_OBJECTS)\n am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)\n-am__objects_35 = core/stdc/libgdruntime_convenience_la-errno_.lo\n-@DRUNTIME_CPU_AARCH64_TRUE@am__objects_36 = config/aarch64/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_ARM_TRUE@am__objects_37 = config/arm/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_MIPS_TRUE@am__objects_38 = config/mips/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_POWERPC_TRUE@am__objects_39 = config/powerpc/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_POWERPC64_TRUE@am__objects_40 = config/powerpc64/libgdruntime_convenience_la-callwithstack.lo\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__objects_41 = config/mingw/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__objects_42 = config/x86/libgdruntime_convenience_la-switchcontext.lo\n-@DRUNTIME_CPU_SYSTEMZ_TRUE@am__objects_43 = config/systemz/libgdruntime_convenience_la-get_tls_offset.lo\n-@DRUNTIME_CPU_S390_TRUE@am__objects_44 = config/s390/libgdruntime_convenience_la-get_tls_offset.lo\n-am__objects_45 = $(am__objects_4) $(am__objects_6) $(am__objects_8) \\\n+am__objects_34 = core/stdc/libgdruntime_convenience_la-errno_.lo\n+@DRUNTIME_CPU_AARCH64_TRUE@am__objects_35 = config/aarch64/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_ARM_TRUE@am__objects_36 = config/arm/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_MIPS_TRUE@am__objects_37 = config/mips/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_POWERPC_TRUE@am__objects_38 = config/powerpc/libgdruntime_convenience_la-callwithstack.lo \\\n+@DRUNTIME_CPU_POWERPC_TRUE@\tconfig/powerpc/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_TRUE@am__objects_39 = config/mingw/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_X86_TRUE@@DRUNTIME_OS_MINGW_FALSE@am__objects_40 = config/x86/libgdruntime_convenience_la-switchcontext.lo\n+@DRUNTIME_CPU_SYSTEMZ_TRUE@am__objects_41 = config/systemz/libgdruntime_convenience_la-get_tls_offset.lo\n+@DRUNTIME_CPU_S390_TRUE@am__objects_42 = config/s390/libgdruntime_convenience_la-get_tls_offset.lo\n+am__objects_43 = $(am__objects_4) $(am__objects_6) $(am__objects_8) \\\n \t$(am__objects_10) $(am__objects_12) $(am__objects_14) \\\n \t$(am__objects_16) $(am__objects_18) $(am__objects_20) \\\n-\t$(am__objects_22) $(am__objects_36) $(am__objects_37) \\\n-\t$(am__objects_38) $(am__objects_39) $(am__objects_40) \\\n-\t$(am__objects_41) $(am__objects_42) $(am__objects_43) \\\n-\t$(am__objects_44)\n-am__objects_46 = $(am__objects_1) $(am__objects_35) $(am__objects_45) \\\n-\t$(am__objects_33)\n-am__objects_47 = $(am__objects_46)\n-am_libgdruntime_convenience_la_OBJECTS = $(am__objects_47)\n+\t$(am__objects_22) $(am__objects_35) $(am__objects_36) \\\n+\t$(am__objects_37) $(am__objects_38) $(am__objects_39) \\\n+\t$(am__objects_40) $(am__objects_41) $(am__objects_42)\n+am__objects_44 = $(am__objects_1) $(am__objects_34) $(am__objects_43) \\\n+\t$(am__objects_32)\n+am__objects_45 = $(am__objects_44)\n+am_libgdruntime_convenience_la_OBJECTS = $(am__objects_45)\n libgdruntime_convenience_la_OBJECTS =  \\\n \t$(am_libgdruntime_convenience_la_OBJECTS)\n AM_V_P = $(am__v_P_@AM_V@)\n@@ -741,7 +740,7 @@ DRUNTIME_SOURCES_CONFIGURED = $(am__append_1) $(am__append_2) \\\n \t$(am__append_9) $(am__append_10) $(am__append_11) \\\n \t$(am__append_12) $(am__append_13) $(am__append_14) \\\n \t$(am__append_15) $(am__append_16) $(am__append_17) \\\n-\t$(am__append_18) $(am__append_19)\n+\t$(am__append_18)\n \n # Provide __start_minfo, __stop_minfo if linker doesn't.\n @DRUNTIME_OS_MINFO_BRACKETING_FALSE@DRTSTUFF = gcc/drtbegin.o gcc/drtend.o\n@@ -1749,13 +1748,10 @@ config/mips/libgdruntime_la-switchcontext.lo:  \\\n config/powerpc/$(am__dirstamp):\n \t@$(MKDIR_P) config/powerpc\n \t@: > config/powerpc/$(am__dirstamp)\n+config/powerpc/libgdruntime_la-callwithstack.lo:  \\\n+\tconfig/powerpc/$(am__dirstamp)\n config/powerpc/libgdruntime_la-switchcontext.lo:  \\\n \tconfig/powerpc/$(am__dirstamp)\n-config/powerpc64/$(am__dirstamp):\n-\t@$(MKDIR_P) config/powerpc64\n-\t@: > config/powerpc64/$(am__dirstamp)\n-config/powerpc64/libgdruntime_la-callwithstack.lo:  \\\n-\tconfig/powerpc64/$(am__dirstamp)\n config/mingw/$(am__dirstamp):\n \t@$(MKDIR_P) config/mingw\n \t@: > config/mingw/$(am__dirstamp)\n@@ -1789,10 +1785,10 @@ config/arm/libgdruntime_convenience_la-switchcontext.lo:  \\\n \tconfig/arm/$(am__dirstamp)\n config/mips/libgdruntime_convenience_la-switchcontext.lo:  \\\n \tconfig/mips/$(am__dirstamp)\n+config/powerpc/libgdruntime_convenience_la-callwithstack.lo:  \\\n+\tconfig/powerpc/$(am__dirstamp)\n config/powerpc/libgdruntime_convenience_la-switchcontext.lo:  \\\n \tconfig/powerpc/$(am__dirstamp)\n-config/powerpc64/libgdruntime_convenience_la-callwithstack.lo:  \\\n-\tconfig/powerpc64/$(am__dirstamp)\n config/mingw/libgdruntime_convenience_la-switchcontext.lo:  \\\n \tconfig/mingw/$(am__dirstamp)\n config/x86/libgdruntime_convenience_la-switchcontext.lo:  \\\n@@ -1817,8 +1813,6 @@ mostlyclean-compile:\n \t-rm -f config/mips/*.lo\n \t-rm -f config/powerpc/*.$(OBJEXT)\n \t-rm -f config/powerpc/*.lo\n-\t-rm -f config/powerpc64/*.$(OBJEXT)\n-\t-rm -f config/powerpc64/*.lo\n \t-rm -f config/s390/*.$(OBJEXT)\n \t-rm -f config/s390/*.lo\n \t-rm -f config/systemz/*.$(OBJEXT)\n@@ -1927,12 +1921,12 @@ config/arm/libgdruntime_la-switchcontext.lo: config/arm/switchcontext.S\n config/mips/libgdruntime_la-switchcontext.lo: config/mips/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/mips/libgdruntime_la-switchcontext.lo `test -f 'config/mips/switchcontext.S' || echo '$(srcdir)/'`config/mips/switchcontext.S\n \n+config/powerpc/libgdruntime_la-callwithstack.lo: config/powerpc/callwithstack.S\n+\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc/libgdruntime_la-callwithstack.lo `test -f 'config/powerpc/callwithstack.S' || echo '$(srcdir)/'`config/powerpc/callwithstack.S\n+\n config/powerpc/libgdruntime_la-switchcontext.lo: config/powerpc/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc/libgdruntime_la-switchcontext.lo `test -f 'config/powerpc/switchcontext.S' || echo '$(srcdir)/'`config/powerpc/switchcontext.S\n \n-config/powerpc64/libgdruntime_la-callwithstack.lo: config/powerpc64/callwithstack.S\n-\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc64/libgdruntime_la-callwithstack.lo `test -f 'config/powerpc64/callwithstack.S' || echo '$(srcdir)/'`config/powerpc64/callwithstack.S\n-\n config/mingw/libgdruntime_la-switchcontext.lo: config/mingw/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/mingw/libgdruntime_la-switchcontext.lo `test -f 'config/mingw/switchcontext.S' || echo '$(srcdir)/'`config/mingw/switchcontext.S\n \n@@ -1954,12 +1948,12 @@ config/arm/libgdruntime_convenience_la-switchcontext.lo: config/arm/switchcontex\n config/mips/libgdruntime_convenience_la-switchcontext.lo: config/mips/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_convenience_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/mips/libgdruntime_convenience_la-switchcontext.lo `test -f 'config/mips/switchcontext.S' || echo '$(srcdir)/'`config/mips/switchcontext.S\n \n+config/powerpc/libgdruntime_convenience_la-callwithstack.lo: config/powerpc/callwithstack.S\n+\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_convenience_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc/libgdruntime_convenience_la-callwithstack.lo `test -f 'config/powerpc/callwithstack.S' || echo '$(srcdir)/'`config/powerpc/callwithstack.S\n+\n config/powerpc/libgdruntime_convenience_la-switchcontext.lo: config/powerpc/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_convenience_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc/libgdruntime_convenience_la-switchcontext.lo `test -f 'config/powerpc/switchcontext.S' || echo '$(srcdir)/'`config/powerpc/switchcontext.S\n \n-config/powerpc64/libgdruntime_convenience_la-callwithstack.lo: config/powerpc64/callwithstack.S\n-\t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_convenience_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/powerpc64/libgdruntime_convenience_la-callwithstack.lo `test -f 'config/powerpc64/callwithstack.S' || echo '$(srcdir)/'`config/powerpc64/callwithstack.S\n-\n config/mingw/libgdruntime_convenience_la-switchcontext.lo: config/mingw/switchcontext.S\n \t$(AM_V_CPPAS)$(LIBTOOL) $(AM_V_lt) $(libgdruntime_convenience_la_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS) -c -o config/mingw/libgdruntime_convenience_la-switchcontext.lo `test -f 'config/mingw/switchcontext.S' || echo '$(srcdir)/'`config/mingw/switchcontext.S\n \n@@ -1997,7 +1991,6 @@ clean-libtool:\n \t-rm -rf config/mingw/.libs config/mingw/_libs\n \t-rm -rf config/mips/.libs config/mips/_libs\n \t-rm -rf config/powerpc/.libs config/powerpc/_libs\n-\t-rm -rf config/powerpc64/.libs config/powerpc64/_libs\n \t-rm -rf config/s390/.libs config/s390/_libs\n \t-rm -rf config/systemz/.libs config/systemz/_libs\n \t-rm -rf config/x86/.libs config/x86/_libs\n@@ -2152,7 +2145,6 @@ distclean-generic:\n \t-rm -f config/mingw/$(am__dirstamp)\n \t-rm -f config/mips/$(am__dirstamp)\n \t-rm -f config/powerpc/$(am__dirstamp)\n-\t-rm -f config/powerpc64/$(am__dirstamp)\n \t-rm -f config/s390/$(am__dirstamp)\n \t-rm -f config/systemz/$(am__dirstamp)\n \t-rm -f config/x86/$(am__dirstamp)"}, {"sha": "0752c5d0322c4bfac402595e468970f675be1af5", "filename": "libphobos/libdruntime/config/powerpc/callwithstack.S", "status": "renamed", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fcallwithstack.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fcallwithstack.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fcallwithstack.S?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -24,6 +24,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"../common/threadasm.S\"\n \n+#if defined(__PPC64__)\n+\n #if defined(_CALL_ELF) && _CALL_ELF == 2\n #define USE_ABI_2\n #define LINKAGE_SZ   32\n@@ -166,3 +168,5 @@ _D4core6thread18callWithStackShellFNbMDFNbPvZvZv:\n .Lend:\n     .size _D4core6thread18callWithStackShellFNbMDFNbPvZvZv, .Lend-.L._D4core6thread18callWithStackShellFNbMDFNbPvZvZv\n     .cfi_endproc\n+\n+#endif /* defined(__PPC64__) */", "previous_filename": "libphobos/libdruntime/config/powerpc64/callwithstack.S"}, {"sha": "0a6cc2439429a7f03809010a8ebbe3c90908a49d", "filename": "libphobos/libdruntime/config/powerpc/switchcontext.S", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fswitchcontext.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fswitchcontext.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fconfig%2Fpowerpc%2Fswitchcontext.S?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -24,6 +24,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"../common/threadasm.S\"\n \n+#if !defined(__PPC64__)\n+\n /**\n  * Performs a context switch.\n  *\n@@ -148,3 +150,5 @@ CSYM(_fiber_switchContext):\n     blr\n     .cfi_endproc\n     .size CSYM(_fiber_switchContext),.-CSYM(_fiber_switchContext)\n+\n+#endif /* !defined(__PPC64__) */"}, {"sha": "db3a92c15fa930361ceada2af1363326ac199d09", "filename": "libphobos/m4/druntime/cpu.m4", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Fm4%2Fdruntime%2Fcpu.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b53086ab6a6d0e89d407398c3a126535989f0c1/libphobos%2Fm4%2Fdruntime%2Fcpu.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Fm4%2Fdruntime%2Fcpu.m4?ref=8b53086ab6a6d0e89d407398c3a126535989f0c1", "patch": "@@ -17,12 +17,9 @@ AC_DEFUN([DRUNTIME_CPU_SOURCES],\n                ;;\n       mips*)   druntime_target_cpu_parsed=\"mips\"\n                ;;\n-      powerpc|powerpcle)\n+      powerpc*)\n                druntime_target_cpu_parsed=\"powerpc\"\n                ;;\n-      powerpc64|powerpc64le)\n-               druntime_target_cpu_parsed=\"powerpc64\"\n-               ;;\n       i[[34567]]86|x86_64)\n                druntime_target_cpu_parsed=\"x86\"\n                ;;\n@@ -41,8 +38,6 @@ AC_DEFUN([DRUNTIME_CPU_SOURCES],\n                  [test \"$druntime_target_cpu_parsed\" = \"mips\"])\n   AM_CONDITIONAL([DRUNTIME_CPU_POWERPC],\n                  [test \"$druntime_target_cpu_parsed\" = \"powerpc\"])\n-  AM_CONDITIONAL([DRUNTIME_CPU_POWERPC64],\n-                 [test \"$druntime_target_cpu_parsed\" = \"powerpc64\"])\n   AM_CONDITIONAL([DRUNTIME_CPU_X86],\n                  [test \"$druntime_target_cpu_parsed\" = \"x86\"])\n   AM_CONDITIONAL([DRUNTIME_CPU_SYSTEMZ],"}]}