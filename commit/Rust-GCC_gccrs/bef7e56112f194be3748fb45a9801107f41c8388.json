{"sha": "bef7e56112f194be3748fb45a9801107f41c8388", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVmN2U1NjExMmYxOTRiZTM3NDhmYjQ1YTk4MDExMDdmNDFjODM4OA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-02-02T10:18:49Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-02-02T10:18:49Z"}, "message": "pr63316.c: Use dg-skip-if instead of dg-options.\n\n\t* c-c++-common/asan/pr63316.c: Use dg-skip-if instead of dg-options.\n\t* c-c++-common/asan/misalign-1.c: Likewise.\n\t* c-c++-common/asan/misalign-2.c: Likewise.\n\t* g++.dg/asan/pr69276.C: Add dg-skip-if, remove dg-additional-options.\n\t* gcc.dg/asan/pr66314.c: Remove -Os from dg-options, add dg-skip-if.\n\t* gcc.dg/asan/use-after-scope-3.c: Use dg-skip-if instead of dg-options.\n\t* gcc.dg/asan/use-after-scope-9.c: Add dg-skip-if, remove -O2 and\n\tadd -ffat-lto-objects from/to dg-additional-options.\n\t* gcc.dg/asan/use-after-scope-10.c: Add dg-skip-if, remove -O2 from\n\tdg-additional-options.\n\nFrom-SVN: r245121", "tree": {"sha": "d0e08c1fe33c1b438a70ed4947f5391261b4ddda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0e08c1fe33c1b438a70ed4947f5391261b4ddda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bef7e56112f194be3748fb45a9801107f41c8388", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef7e56112f194be3748fb45a9801107f41c8388", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bef7e56112f194be3748fb45a9801107f41c8388", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bef7e56112f194be3748fb45a9801107f41c8388/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9f11a4a76fc9c05d1030aca90e43efe13d314739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f11a4a76fc9c05d1030aca90e43efe13d314739", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f11a4a76fc9c05d1030aca90e43efe13d314739"}], "stats": {"total": 30, "additions": 22, "deletions": 8}, "files": [{"sha": "fe055b2caf731ca83b2aa398640254bb197d8580", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,5 +1,16 @@\n 2017-02-02  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* c-c++-common/asan/pr63316.c: Use dg-skip-if instead of dg-options.\n+\t* c-c++-common/asan/misalign-1.c: Likewise.\n+\t* c-c++-common/asan/misalign-2.c: Likewise.\n+\t* g++.dg/asan/pr69276.C: Add dg-skip-if, remove dg-additional-options.\n+\t* gcc.dg/asan/pr66314.c: Remove -Os from dg-options, add dg-skip-if.\n+\t* gcc.dg/asan/use-after-scope-3.c: Use dg-skip-if instead of dg-options.\n+\t* gcc.dg/asan/use-after-scope-9.c: Add dg-skip-if, remove -O2 and\n+\tadd -ffat-lto-objects from/to dg-additional-options.\n+\t* gcc.dg/asan/use-after-scope-10.c: Add dg-skip-if, remove -O2 from\n+\tdg-additional-options.\n+\n \tPR target/79197\n \t* gcc.target/powerpc/pr79197.c: New test.\n \t* gcc.c-torture/compile/pr79197.c: New test."}, {"sha": "c38acd564aae93f220be1cd1c1cf97b294a1e7fc", "filename": "gcc/testsuite/c-c++-common/asan/misalign-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-1.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target { ilp32 || lp64 } } } */\n-/* { dg-options \"-O2\" } */\n+/* { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O2\" } } */\n /* { dg-additional-options \"-fno-omit-frame-pointer\" { target *-*-darwin* } } */\n /* { dg-shouldfail \"asan\" } */\n "}, {"sha": "099a3b8e2c8bbc26b4209e6100ab7268915155dc", "filename": "gcc/testsuite/c-c++-common/asan/misalign-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fmisalign-2.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do run { target { ilp32 || lp64 } } } */\n-/* { dg-options \"-O2\" } */\n+/* { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O2\" } } */\n /* { dg-additional-options \"-fno-omit-frame-pointer\" { target *-*-darwin* } } */\n /* { dg-shouldfail \"asan\" } */\n "}, {"sha": "d243edc8e974bf62025ac11dffc5b6bff7bcf240", "filename": "gcc/testsuite/c-c++-common/asan/pr63316.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fpr63316.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fpr63316.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fasan%2Fpr63316.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,6 +1,6 @@\n /* PR sanitizer/63316 */\n /* { dg-do run } */\n-/* { dg-options \"-fsanitize=address -O2\" } */\n+/* { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O2\" } } */\n \n #ifdef __cplusplus\n extern \"C\" {"}, {"sha": "1347fae78a68e6a6122d2be649d897e605454f97", "filename": "gcc/testsuite/g++.dg/asan/pr69276.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fasan%2Fpr69276.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fasan%2Fpr69276.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fasan%2Fpr69276.C?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,6 +1,6 @@\n /* { dg-do run } */\n /* { dg-shouldfail \"asan\" } */\n-/* { dg-additional-options \"-O0 -fno-lto\" } */\n+/* { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O0\" } } */\n \n #include <stdlib.h>\n "}, {"sha": "956e5d34faea7bf9666c0ecfef750a0f32cc1a92", "filename": "gcc/testsuite/gcc.dg/asan/pr66314.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fpr66314.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fpr66314.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fpr66314.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n-/* { dg-options \"-std=gnu89 -Os -fprofile-arcs -fno-sanitize=all -fsanitize=kernel-address\" } */\n+/* { dg-options \"-std=gnu89 -fprofile-arcs -fno-sanitize=all -fsanitize=kernel-address\" } */\n+/* { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-Os\" } } */\n \n char *a;\n int d;"}, {"sha": "60f45768019fc5ce47a5ffd28ae8ee7260a301a3", "filename": "gcc/testsuite/gcc.dg/asan/use-after-scope-10.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-10.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,6 +1,7 @@\n // { dg-do run }\n // { dg-shouldfail \"asan\" }\n-// { dg-additional-options \"-O2 -fdump-tree-asan1\" }\n+// { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O2\" } }\n+// { dg-additional-options \"-fdump-tree-asan1\" }\n \n int\n main (int argc, char **argv)"}, {"sha": "ddf3c04eb456bbb8ba87628a565c59422b39f43f", "filename": "gcc/testsuite/gcc.dg/asan/use-after-scope-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-3.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,6 +1,6 @@\n // { dg-do run }\n // { dg-shouldfail \"asan\" }\n-// { dg-additional-options \"-O0\" }\n+// { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O0\" } }\n \n int\n main (void)"}, {"sha": "edc1ab21f884100fb5cf0e00edcfb1dd790b8bcc", "filename": "gcc/testsuite/gcc.dg/asan/use-after-scope-9.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bef7e56112f194be3748fb45a9801107f41c8388/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fasan%2Fuse-after-scope-9.c?ref=bef7e56112f194be3748fb45a9801107f41c8388", "patch": "@@ -1,6 +1,7 @@\n // { dg-do run }\n // { dg-shouldfail \"asan\" }\n-// { dg-additional-options \"-O2 -fdump-tree-asan1\" }\n+// { dg-skip-if \"\" { *-*-* }  { \"*\" } { \"-O2\" } }\n+// { dg-additional-options \"-fdump-tree-asan1 -ffat-lto-objects\" }\n \n int\n main (int argc, char **argv)"}]}