{"sha": "d3c268abbda900e9fd2202fb19154a186183a8e8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNjMjY4YWJiZGE5MDBlOWZkMjIwMmZiMTkxNTRhMTg2MTgzYThlOA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2012-05-20T09:42:42Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2012-05-20T09:42:42Z"}, "message": "utils.c (gnat_write_global_declarations): Put a name on the dummy global variable.\n\n\t* gcc-interface/utils.c (gnat_write_global_declarations): Put a name\n\ton the dummy global variable.\n\nFrom-SVN: r187692", "tree": {"sha": "968063c6d6263a490823fbf54ece5f5c6d0ecb96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/968063c6d6263a490823fbf54ece5f5c6d0ecb96"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3c268abbda900e9fd2202fb19154a186183a8e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c268abbda900e9fd2202fb19154a186183a8e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3c268abbda900e9fd2202fb19154a186183a8e8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c268abbda900e9fd2202fb19154a186183a8e8/comments", "author": null, "committer": null, "parents": [{"sha": "4fe4de900d862ceb966a7a6f6d24b29fbbe5ff22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4fe4de900d862ceb966a7a6f6d24b29fbbe5ff22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4fe4de900d862ceb966a7a6f6d24b29fbbe5ff22"}], "stats": {"total": 44, "additions": 43, "deletions": 1}, "files": [{"sha": "744f6eb89b9a70da92f707cc2cea194bf24071ad", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -1,3 +1,8 @@\n+2012-05-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/utils.c (gnat_write_global_declarations): Put a name\n+\ton the dummy global variable.\n+\n 2012-05-19  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (Has_Thiscall_Convention): New macro."}, {"sha": "36012a6ed91f8d22e901b0c1510bacecce532474", "filename": "gcc/ada/gcc-interface/utils.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Fada%2Fgcc-interface%2Futils.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Fada%2Fgcc-interface%2Futils.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Futils.c?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -5586,8 +5586,12 @@ gnat_write_global_declarations (void)\n   if (!VEC_empty (tree, types_used_by_cur_var_decl))\n     {\n       struct varpool_node *node;\n+      char *label;\n+\n+      ASM_FORMAT_PRIVATE_NAME (label, first_global_object_name, 0);\n       dummy_global\n-\t= build_decl (BUILTINS_LOCATION, VAR_DECL, NULL_TREE, void_type_node);\n+\t= build_decl (BUILTINS_LOCATION, VAR_DECL, get_identifier (label),\n+\t\t      void_type_node);\n       TREE_STATIC (dummy_global) = 1;\n       TREE_ASM_WRITTEN (dummy_global) = 1;\n       node = varpool_node (dummy_global);"}, {"sha": "0e4edf5ca2e97ee0722e091db4cafeb3bc72acf3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -1,3 +1,8 @@\n+2012-05-20  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/lto13.adb: New test.\n+\t* gnat.dg/lto13_pkg.ad[sb]: New helper.\n+\n 2012-05-18  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/specs/lto12.ads: New test."}, {"sha": "7c7fe16043fdcc1013b8775cc176232ec8c6d541", "filename": "gcc/testsuite/gnat.dg/lto13.adb", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto13.adb?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -0,0 +1,9 @@\n+-- { dg-do link }\n+-- { dg-options \"-g -flto\" { target lto } }\n+\n+with Lto13_Pkg; use Lto13_Pkg;\n+\n+procedure Lto13 is\n+begin\n+  Proc;\n+end;"}, {"sha": "f8b5057a15e88dbee505be037e11adfee519ca91", "filename": "gcc/testsuite/gnat.dg/lto13_pkg.adb", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.adb?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -0,0 +1,10 @@\n+package body Lto13_Pkg is\n+\n+  procedure Proc is\n+  begin\n+    raise Constraint_Error;\n+  end;\n+\n+  type T is null record;\n+\n+end Lto13_Pkg;"}, {"sha": "ce91d1c018c754dae50ea2bbafcb757e322355d7", "filename": "gcc/testsuite/gnat.dg/lto13_pkg.ads", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c268abbda900e9fd2202fb19154a186183a8e8/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Flto13_pkg.ads?ref=d3c268abbda900e9fd2202fb19154a186183a8e8", "patch": "@@ -0,0 +1,9 @@\n+package Lto13_Pkg is\n+\n+  procedure Proc;\n+\n+private\n+\n+  type T;\n+\n+end Lto13_Pkg;"}]}