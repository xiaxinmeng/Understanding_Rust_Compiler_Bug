{"sha": "ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWU5MjFkZGYyMTM4ZjM1Y2FlNTgyZWY3ZmExM2UyMmVhYTllY2U1MA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2005-01-29T00:47:57Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2005-01-29T00:47:57Z"}, "message": "re PR c++/19667 (ICE on (very trivial) invalid)\n\n\tPR c++/19667\n\t* g++.dg/template/crash32.C: New test.\n\n\tPR c++/19667\n\t* pt.c (redeclare_class_template): Robustify.\n\nFrom-SVN: r94402", "tree": {"sha": "0ad196682cc080d530a01779ae7a98032c00d680", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0ad196682cc080d530a01779ae7a98032c00d680"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/comments", "author": null, "committer": null, "parents": [{"sha": "8f43f502deef1c38af5e1e7ea7e09ce211be2448", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f43f502deef1c38af5e1e7ea7e09ce211be2448", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f43f502deef1c38af5e1e7ea7e09ce211be2448"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "077113c61dead142ed785221fe988249ae895d2f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "patch": "@@ -1,3 +1,8 @@\n+2005-01-28  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/19667\n+\t* pt.c (redeclare_class_template): Robustify.\n+\n 2005-01-27  Steven Bosscher  <stevenb@suse.de>\n \n \t* decl.c (finish_case_label): Use SWITCH_STMT accessor macros"}, {"sha": "176e6a3a9e929c20e19ff9e02742eb0c15fb71d4", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "patch": "@@ -3236,6 +3236,13 @@ redeclare_class_template (tree type, tree parms)\n        type.  */\n     return;\n \n+  if (!parms)\n+    {\n+      error (\"template specifiers not specified in declaration of %qD\",\n+\t     tmpl);\n+      return;\n+    }\n+\n   parms = INNERMOST_TEMPLATE_PARMS (parms);\n   tmpl_parms = DECL_INNERMOST_TEMPLATE_PARMS (tmpl);\n "}, {"sha": "06c06d3a3d6196b1b112f64f4dcb706cf771ec3b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "patch": "@@ -1,3 +1,8 @@\n+2005-01-28  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/19667\n+\t* g++.dg/template/crash32.C: New test.\n+\n 2005-01-28  Ian Lance Taylor  <ian@airs.com>\n \n \tPR middle-end/16558"}, {"sha": "a8363512e9478a8e04e89170e117413b566066c3", "filename": "gcc/testsuite/g++.dg/template/crash32.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash32.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee921ddf2138f35cae582ef7fa13e22eaa9ece50/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash32.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash32.C?ref=ee921ddf2138f35cae582ef7fa13e22eaa9ece50", "patch": "@@ -0,0 +1,9 @@\n+// PR c++/19667\n+\n+struct integral_constant { };\n+\n+template<typename _Tp>\n+struct is_function : public integral_constant { }; // { dg-error \"previous\" }\n+\n+template<>\n+struct is_function : public integral_constant { }; // { dg-error \"\" }"}]}