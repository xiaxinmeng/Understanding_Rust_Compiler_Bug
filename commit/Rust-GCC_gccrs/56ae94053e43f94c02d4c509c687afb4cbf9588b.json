{"sha": "56ae94053e43f94c02d4c509c687afb4cbf9588b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZhZTk0MDUzZTQzZjk0YzAyZDRjNTA5YzY4N2FmYjRjYmY5NTg4Yg==", "commit": {"author": {"name": "Nick Clifton", "email": "nickc@cambridge.redhat.com", "date": "2002-03-25T19:17:40Z"}, "committer": {"name": "Nick Clifton", "email": "nickc@gcc.gnu.org", "date": "2002-03-25T19:17:40Z"}, "message": "Fixes for PR bootstrap/3591, target/5676:\n\n* configure.in (mcore-pe): Disable the configuration of\n  libstdc++-v3 since exceptions are not supported.\n* config/mcore/mcore.h (CC1_SPEC): Define only if not already\n  defined.  Do not disable exceptions or rtti.\n* config/mcore/mcore-pe.h (CC1_SPEC): Define before including\n  mcore.h.  Disable exceptions and rtti, since they are not\n  supported by EPOC.\n\nFrom-SVN: r51326", "tree": {"sha": "f5cbccaa7e4a41e4db268240c81888cfe8056baf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f5cbccaa7e4a41e4db268240c81888cfe8056baf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56ae94053e43f94c02d4c509c687afb4cbf9588b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ae94053e43f94c02d4c509c687afb4cbf9588b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56ae94053e43f94c02d4c509c687afb4cbf9588b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ae94053e43f94c02d4c509c687afb4cbf9588b/comments", "author": null, "committer": null, "parents": [{"sha": "c88770e9dfa1b4c4175e39a3a62264c8bcb0043b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c88770e9dfa1b4c4175e39a3a62264c8bcb0043b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c88770e9dfa1b4c4175e39a3a62264c8bcb0043b"}], "stats": {"total": 33, "additions": 29, "deletions": 4}, "files": [{"sha": "80061943188ecacd7e016715269379bfcf636c48", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -1,3 +1,9 @@\n+2002-03-24  Nick Clifton  <nickc@cambridge.redhat.com>\n+\n+\tFix for: PR bootstrap/3591, target/5676\n+\t* configure.in (mcore-pe): Disable the configuration of\n+\tlibstdc++-v3 since exceptions are not supported.\n+\n 2002-03-20  Anthony Green  <green@redhat.com>\n \n \t* configure.in: Enable libgcj for xscale-elf target."}, {"sha": "e4380a559e0dc31988e8e489b8dd85e25e433104", "filename": "configure.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -866,6 +866,11 @@ case \"${target}\" in\n \t   target_configdirs=\"${target_configdirs} target-bsp target-cygmon\"\n     fi\n     ;;\n+  mcore-*-pe*)\n+  # The EPOC C++ environment does not support exceptions or rtti,\n+  # and so building libstdc++-v3 tends not to always work.\n+    noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n+    ;;\n   mmix-*-*)\n     noconfigdirs=\"$noconfigdirs ${libgcj}\"\n     ;;"}, {"sha": "22a7cfd32054a4c5369bf3456f7aecf490d60bca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -1,3 +1,12 @@\n+2002-03-25  Nick Clifton  <nickc@cambridge.redhat.com>\n+\n+\tFixes for: PR bootstrap/3591, target/5676\n+\t* config/mcore/mcore.h (CC1_SPEC): Define only if not already\n+\tdefined.  Do not disable exceptions or rtti.\n+\t* config/mcore/mcore-pe.h (CC1_SPEC): Define before including\n+\tmcore.h.  Disable exceptions and rtti, since they are not\n+\tsupported by EPOC.\n+\n 2002-03-25  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* c-decl.c (maybe_build_cleanup): Remove."}, {"sha": "efd90871451b4891e49df7913980c2e7f6e18308", "filename": "gcc/config/mcore/mcore-pe.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Fmcore-pe.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Fmcore-pe.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmcore%2Fmcore-pe.h?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -24,6 +24,10 @@ Boston, MA 02111-1307, USA.  */\n \n #define SUBTARGET_CPP_PREDEFINES \" -D__pe__\"\n \n+/* The MCore ABI says that bitfields are unsigned by default.  */\n+/* The EPOC C++ environment does not support exceptions.  */\n+#define CC1_SPEC \"-funsigned-bitfields %{!DIN_GCC:-fno-rtti} %{!DIN_GCC:-fno-exceptions}\"\n+\n #include \"svr3.h\"\n #include \"mcore/mcore.h\"\n #include \"dbxcoff.h\""}, {"sha": "22fee8450d042271210dfb6270dfa1153945a122", "filename": "gcc/config/mcore/mcore.h", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Fmcore.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Fmcore.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmcore%2Fmcore.h?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -178,9 +178,10 @@ extern const char * mcore_stack_increment_string;\n      N_(\"Maximum amount for a single stack increment operation\")}\t\\\n }\n \n-/* The MCore ABI says that bitfields are unsigned by default. */\n-/* The EPOC C++ environment does not support exceptions.  */\n-#define CC1_SPEC \"-funsigned-bitfields %{!DIN_GCC:-fno-rtti} %{!DIN_GCC:-fno-exceptions}\"\n+#ifndef CC1_SPEC\n+/* The MCore ABI says that bitfields are unsigned by default.  */\n+#define CC1_SPEC \"-funsigned-bitfields\"\n+#endif\n \n /* What options are we going to default to specific settings when\n    -O* happens; the user can subsequently override these settings."}, {"sha": "294f40475a78e988fd925e1416088f7e1e916a98", "filename": "gcc/config/mcore/t-mcore-pe", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Ft-mcore-pe", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56ae94053e43f94c02d4c509c687afb4cbf9588b/gcc%2Fconfig%2Fmcore%2Ft-mcore-pe", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmcore%2Ft-mcore-pe?ref=56ae94053e43f94c02d4c509c687afb4cbf9588b", "patch": "@@ -30,7 +30,7 @@ MULTILIB_MATCHES     =\n MULTILIB_EXTRA_OPTS  = \n MULTILIB_EXCEPTIONS  =\n \n-EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o\n+# EXTRA_MULTILIB_PARTS = crtbegin.o crtend.o\n LIBGCC               = stmp-multilib\n INSTALL_LIBGCC       = install-multilib\n "}]}