{"sha": "18970372c2159a1ad63e58f1683a01d2bcf3a86f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTg5NzAzNzJjMjE1OWExYWQ2M2U1OGYxNjgzYTAxZDJiY2YzYTg2Zg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2011-07-11T09:35:35Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-07-11T09:35:35Z"}, "message": "sparc.md (save_register_window_1): Rename to...\n\n\t* config/sparc/sparc.md (save_register_window_1): Rename to...\n\t(window_save): ...this.\n\t* config/sparc/sparc.c (emit_save_register_window): Rename to...\n\t(emit_window_save): ...this.\n\t(sparc_expand_prologue): Adjust to above renaming.\n\nFrom-SVN: r176138", "tree": {"sha": "d4c9f1b065bdcf81f04ad003d8550bcef028ac6c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4c9f1b065bdcf81f04ad003d8550bcef028ac6c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/18970372c2159a1ad63e58f1683a01d2bcf3a86f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18970372c2159a1ad63e58f1683a01d2bcf3a86f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18970372c2159a1ad63e58f1683a01d2bcf3a86f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18970372c2159a1ad63e58f1683a01d2bcf3a86f/comments", "author": null, "committer": null, "parents": [{"sha": "790f025f3437b664c6dd02a12bdc05074345ac18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/790f025f3437b664c6dd02a12bdc05074345ac18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/790f025f3437b664c6dd02a12bdc05074345ac18"}], "stats": {"total": 28, "additions": 17, "deletions": 11}, "files": [{"sha": "03eb93b30936411eb1e1673f5518873123ae1533", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=18970372c2159a1ad63e58f1683a01d2bcf3a86f", "patch": "@@ -1,3 +1,11 @@\n+2011-07-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* config/sparc/sparc.md (save_register_window_1): Rename to...\n+\t(window_save): ...this.\n+\t* config/sparc/sparc.c (emit_save_register_window): Rename to...\n+\t(emit_window_save): ...this.\n+\t(sparc_expand_prologue): Adjust to above renaming.\n+\n 2011-07-10  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* config/i386/i386.c (ix86_trampoline_init): Use movl instead"}, {"sha": "a65b83665069937406aa9437e0ed477e08160b04", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=18970372c2159a1ad63e58f1683a01d2bcf3a86f", "patch": "@@ -4590,14 +4590,12 @@ emit_save_or_restore_local_in_regs (rtx base, int offset, sorr_act_t action)\n \t\t\t     save_local_or_in_reg_p, action, SORR_ADVANCE);\n }\n \n-/* Generate a save_register_window insn.  */\n+/* Emit a window_save insn.  */\n \n static rtx\n-emit_save_register_window (rtx increment)\n+emit_window_save (rtx increment)\n {\n-  rtx insn;\n-\n-  insn = emit_insn (gen_save_register_window_1 (increment));\n+  rtx insn = emit_insn (gen_window_save (increment));\n   RTX_FRAME_RELATED_P (insn) = 1;\n \n   /* The incoming return address (%o7) is saved in %i7.  */\n@@ -4716,18 +4714,18 @@ sparc_expand_prologue (void)\n       rtx size_int_rtx = GEN_INT (-size);\n \n       if (size <= 4096)\n-\temit_save_register_window (size_int_rtx);\n+\temit_window_save (size_int_rtx);\n       else if (size <= 8192)\n \t{\n-\t  emit_save_register_window (GEN_INT (-4096));\n+\t  emit_window_save (GEN_INT (-4096));\n \t  /* %sp is not the CFA register anymore.  */\n \t  emit_insn (gen_stack_pointer_inc (GEN_INT (4096 - size)));\n \t}\n       else\n \t{\n \t  rtx size_rtx = gen_rtx_REG (Pmode, 1);\n \t  emit_move_insn (size_rtx, size_int_rtx);\n-\t  emit_save_register_window (size_rtx);\n+\t  emit_window_save (size_rtx);\n \t}\n     }\n "}, {"sha": "7d5d6dc441097018dc3d10ee59bc97bf28c61f6c", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/18970372c2159a1ad63e58f1683a01d2bcf3a86f/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=18970372c2159a1ad63e58f1683a01d2bcf3a86f", "patch": "@@ -6276,10 +6276,10 @@\n   DONE;\n })\n \n-;; The \"save register window\" insn is modelled as follows.  The dwarf2\n-;; information is manually added in emit_save_register_window in sparc.c.\n+;; The \"register window save\" insn is modelled as follows.  The dwarf2\n+;; information is manually added in emit_window_save.\n \n-(define_insn \"save_register_window_1\"\n+(define_insn \"window_save\"\n   [(unspec_volatile\n \t[(match_operand 0 \"arith_operand\" \"rI\")]\n \tUNSPECV_SAVEW)]"}]}