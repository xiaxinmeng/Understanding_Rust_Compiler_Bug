{"sha": "2641277312bc2d48062484c04bde8f867cf3977e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY0MTI3NzMxMmJjMmQ0ODA2MjQ4NGMwNGJkZThmODY3Y2YzOTc3ZQ==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel@linux.vnet.ibm.com", "date": "2017-10-04T11:56:28Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2017-10-04T11:56:28Z"}, "message": "Enable vect_float with S/390 VXE and adjust testcases\n\nThe target supports routines provide vect_double and vect_float but\nthese do not appear to be used consequently in the vect testcases.\nWith z13 we only have support for vector double but with z14 also for\nvector float.  This patch adds vect_float to the testcases using the\nfloat data type and make the vect_float target check to return 1 only\non z14.\n\ngcc/testsuite/ChangeLog:\n\n2017-10-04  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n\n\t* lib/target-supports.exp (check_effective_target_vect_float):\n\tReturn 1 being on a S/390 with VXE.\n\t* gcc.dg/vect/pr31699.c: Require vec_float.\n\t* gcc.dg/vect/pr61194.c: Likewise.\n\t* gcc.dg/vect/pr65947-10.c: Likewise.\n\t* gcc.dg/vect/pr66142.c: Likewise.\n\t* gcc.dg/vect/slp-10.c: Likewise.\n\t* gcc.dg/vect/slp-11c.c: Likewise.\n\t* gcc.dg/vect/slp-12b.c: Likewise.\n\t* gcc.dg/vect/slp-18.c: Likewise.\n\t* gcc.dg/vect/slp-33.c: Likewise.\n\t* gcc.dg/vect/slp-cond-2-big-array.c: Likewise.\n\t* gcc.dg/vect/slp-cond-2.c: Likewise.\n\t* gcc.dg/vect/vect-cond-10.c: Likewise.\n\t* gcc.dg/vect/vect-cond-8.c: Likewise.\n\t* gcc.dg/vect/vect-cond-9.c: Likewise.\n\t* gcc.dg/vect/vect-float-extend-1.c: Likewise.\n\t* gcc.dg/vect/vect-float-truncate-1.c: Likewise.\n\nFrom-SVN: r253403", "tree": {"sha": "f60b6fa82dcddeb59385d65fe0738fec6090a75d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f60b6fa82dcddeb59385d65fe0738fec6090a75d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2641277312bc2d48062484c04bde8f867cf3977e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2641277312bc2d48062484c04bde8f867cf3977e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2641277312bc2d48062484c04bde8f867cf3977e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2641277312bc2d48062484c04bde8f867cf3977e/comments", "author": null, "committer": null, "parents": [{"sha": "ebb4badd5ef46bf2b37ac541ee20550ea36dce69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebb4badd5ef46bf2b37ac541ee20550ea36dce69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebb4badd5ef46bf2b37ac541ee20550ea36dce69"}], "stats": {"total": 45, "additions": 42, "deletions": 3}, "files": [{"sha": "50f82c5e9a803f267cc4a66a03a44ee1f834536e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,3 +1,24 @@\n+2017-10-04  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n+\n+\t* lib/target-supports.exp (check_effective_target_vect_float):\n+\tReturn 1 being on a S/390 with VXE.\n+\t* gcc.dg/vect/pr31699.c: Require vec_float.\n+\t* gcc.dg/vect/pr61194.c: Likewise.\n+\t* gcc.dg/vect/pr65947-10.c: Likewise.\n+\t* gcc.dg/vect/pr66142.c: Likewise.\n+\t* gcc.dg/vect/slp-10.c: Likewise.\n+\t* gcc.dg/vect/slp-11c.c: Likewise.\n+\t* gcc.dg/vect/slp-12b.c: Likewise.\n+\t* gcc.dg/vect/slp-18.c: Likewise.\n+\t* gcc.dg/vect/slp-33.c: Likewise.\n+\t* gcc.dg/vect/slp-cond-2-big-array.c: Likewise.\n+\t* gcc.dg/vect/slp-cond-2.c: Likewise.\n+\t* gcc.dg/vect/vect-cond-10.c: Likewise.\n+\t* gcc.dg/vect/vect-cond-8.c: Likewise.\n+\t* gcc.dg/vect/vect-cond-9.c: Likewise.\n+\t* gcc.dg/vect/vect-float-extend-1.c: Likewise.\n+\t* gcc.dg/vect/vect-float-truncate-1.c: Likewise.\n+\n 2017-10-04  Thomas Schwinge  <thomas@codesourcery.com>\n \n \tPR tree-optimization/82374"}, {"sha": "7ec4dfe770a8ce0f98c6ff46e6f301e88b63fc0e", "filename": "gcc/testsuite/gcc.dg/vect/pr31699.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr31699.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr31699.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr31699.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-require-effective-target vect_double } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdlib.h>\n #include <stdarg.h>"}, {"sha": "8421367577278cdf5762327d83cdc4a0e65c9411", "filename": "gcc/testsuite/gcc.dg/vect/pr61194.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr61194.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr61194.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr61194.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n \n #include \"tree-vect.h\"\n "}, {"sha": "321cb8c9211cf2ae98c22e1cdf72069b452ea409", "filename": "gcc/testsuite/gcc.dg/vect/pr65947-10.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr65947-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr65947-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr65947-10.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_condition } */\n+/* { dg-require-effective-target vect_float } */\n \n #include \"tree-vect.h\"\n "}, {"sha": "8c79f290767ae7d3a46a9e25d88c8ee8eaab2b24", "filename": "gcc/testsuite/gcc.dg/vect/pr66142.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr66142.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr66142.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fpr66142.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -41,4 +41,4 @@ foo (float *a, float *b, float *c)\n   *a = z;\n }\n \n-/* { dg-final { scan-tree-dump-times \"vectorized 1 loops in function\" 1 \"vect\" { target vect_condition } } } */\n+/* { dg-final { scan-tree-dump-times \"vectorized 1 loops in function\" 1 \"vect\" { target { vect_condition && vect_float } } } } */"}, {"sha": "61c5d3c5119628977104c5c58d4a9d8b423944a9", "filename": "gcc/testsuite/gcc.dg/vect/slp-10.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-10.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_int } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "bdcf434ce31ebc1df5f7cfecb5051ebc71af3aed", "filename": "gcc/testsuite/gcc.dg/vect/slp-11c.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-11c.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-11c.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-11c.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_int } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "48e78651a6dca24de91a1f36d0cd757e18f7c1b8", "filename": "gcc/testsuite/gcc.dg/vect/slp-12b.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-12b.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-12b.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-12b.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_uintfloat_cvt } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "ed426a344985d1e205f7a94f72f86954a77b3d92", "filename": "gcc/testsuite/gcc.dg/vect/slp-18.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-18.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-18.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-18.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_int } */\n+/* { dg-require-effective-target vect_float } */\n /* { dg-require-effective-target vect_intfloat_cvt } */\n \n #include <stdarg.h>"}, {"sha": "ad74daf5dce7dd75d7c6b51f4e4f89ac59fd6606", "filename": "gcc/testsuite/gcc.dg/vect/slp-33.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-33.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-33.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-33.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_int } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "57cc67ee121108bcc5ccaaee0dca5085264c8818", "filename": "gcc/testsuite/gcc.dg/vect/slp-cond-2-big-array.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2-big-array.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2-big-array.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2-big-array.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,6 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n+\n #include \"tree-vect.h\"\n \n #define N 128"}, {"sha": "7350695ece0f53e36de861c4e7724ebf36ff6b76", "filename": "gcc/testsuite/gcc.dg/vect/slp-cond-2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-cond-2.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,6 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n+\n #include \"tree-vect.h\"\n \n #define N 32"}, {"sha": "1a18800850a1f2337e359c7852c2702862bd6037", "filename": "gcc/testsuite/gcc.dg/vect/vect-cond-10.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-10.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-10.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-10.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n /* { dg-additional-options \"-fno-ipa-icf\" } */\n \n #include \"tree-vect.h\""}, {"sha": "224251d0cf50a6b57b934bc4b9bcd2396c545c82", "filename": "gcc/testsuite/gcc.dg/vect/vect-cond-8.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-8.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n \n #include \"tree-vect.h\"\n "}, {"sha": "c03ed96d62fe21290cc4fc02e25ac7cb43832634", "filename": "gcc/testsuite/gcc.dg/vect/vect-cond-9.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-9.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-9.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-cond-9.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_cond_mixed } */\n+/* { dg-require-effective-target vect_float } */\n /* { dg-additional-options \"-fno-ipa-icf\" } */\n \n #include \"tree-vect.h\""}, {"sha": "867fe203a6df3edf18282c1703f2ee9f2cba17df", "filename": "gcc/testsuite/gcc.dg/vect/vect-float-extend-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-extend-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-extend-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-extend-1.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_double } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "30d3a83721b4a69144af4190cd957dd3ed10796a", "filename": "gcc/testsuite/gcc.dg/vect/vect-float-truncate-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-truncate-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-truncate-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fvect-float-truncate-1.c?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -1,4 +1,5 @@\n /* { dg-require-effective-target vect_double } */\n+/* { dg-require-effective-target vect_float } */\n \n #include <stdarg.h>\n #include \"tree-vect.h\""}, {"sha": "5949da432032d0e58ba1f38a0003b9d74885143b", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2641277312bc2d48062484c04bde8f867cf3977e/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=2641277312bc2d48062484c04bde8f867cf3977e", "patch": "@@ -5211,7 +5211,9 @@ proc check_effective_target_vect_float { } {\n \t     || [istarget aarch64*-*-*]\n \t     || ([istarget mips*-*-*]\n \t\t && [et-is-effective-target mips_msa])\n-\t     || [is-effective-target arm_neon] } {\n+\t     || [is-effective-target arm_neon]\n+\t     || ([istarget s390*-*-*]\n+\t\t && [check_effective_target_s390_vxe]) } {\n \t    set et_vect_float_saved($et_index) 1\n \t}\n     }"}]}