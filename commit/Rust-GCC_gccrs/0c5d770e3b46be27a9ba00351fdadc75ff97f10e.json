{"sha": "0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM1ZDc3MGUzYjQ2YmUyN2E5YmEwMDM1MWZkYWRjNzVmZjk3ZjEwZQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2011-01-09T12:41:33Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2011-01-09T12:41:33Z"}, "message": "re PR c/46902 (gcc.dg/plugin/plugindir*.c gives ICEs on powerpc-apple-darwin9)\n\n\n\tPR gcc/46902\n\tPR testsuite/46912\n\t* plugin.c: Move include of dlfcn.h from here...\n\t* system.h: ... to here.\n\nFrom-SVN: r168611", "tree": {"sha": "bec947dc3d9b40739c6aa9483adc0bc42e052059", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bec947dc3d9b40739c6aa9483adc0bc42e052059"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b52956be02218c3fda87f05f821e971879df83e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52956be02218c3fda87f05f821e971879df83e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b52956be02218c3fda87f05f821e971879df83e5"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "0bb8b7ea1c1d31474238feeb9a591fda2e515450", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "patch": "@@ -1,4 +1,11 @@\n-2010-01-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+2011-01-09  Iain Sandoe  <iains@gcc.gnu.org>\n+\n+\tPR gcc/46902\n+\tPR testsuite/46912\n+\t* plugin.c: Move include of dlfcn.h from here...\n+\t* system.h: ... to here.\n+\n+2011-01-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* doc/cpp.texi (C++ Named Operators): Fix markup for header\n \tfile name."}, {"sha": "c93daed055d7a346053b218b13d07b093d15393a", "filename": "gcc/plugin.c", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2Fplugin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2Fplugin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fplugin.c?ref=0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "patch": "@@ -22,15 +22,6 @@ along with GCC; see the file COPYING3.  If not see\n \n #include \"config.h\"\n #include \"system.h\"\n-\n-/* If plugin support is not enabled, do not try to execute any code\n-   that may reference libdl.  The generic code is still compiled in to\n-   avoid including too many conditional compilation paths in the rest\n-   of the compiler.  */\n-#ifdef ENABLE_PLUGIN\n-#include <dlfcn.h>\n-#endif\n-\n #include \"coretypes.h\"\n #include \"diagnostic-core.h\"\n #include \"tree.h\""}, {"sha": "0bf9b92568510d900dceeca1fb76e97e1f5d08ee", "filename": "gcc/system.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c5d770e3b46be27a9ba00351fdadc75ff97f10e/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=0c5d770e3b46be27a9ba00351fdadc75ff97f10e", "patch": "@@ -583,6 +583,11 @@ extern int vsnprintf(char *, size_t, const char *, va_list);\n # endif\n #endif\n \n+#if defined (ENABLE_PLUGIN) && defined (HAVE_DLFCN_H)\n+/* If plugin support is enabled, we could use libdl.  */\n+#include <dlfcn.h>\n+#endif\n+\n /* Get libiberty declarations.  */\n #include \"libiberty.h\"\n "}]}