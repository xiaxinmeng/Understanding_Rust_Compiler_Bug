{"sha": "7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Q5ZjJkZjI2MzdlZTE5ZTVjOWEzM2YxYTgzYzg0MzY0MjA5YjAyYQ==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@integrable-solutions.net", "date": "2003-02-25T14:11:59Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2003-02-25T14:11:59Z"}, "message": "decl.c (add_binding): Time TV_NAME_LOOKUP.\n\n      * decl.c (add_binding): Time TV_NAME_LOOKUP.\n      (push_class_binding): Likewise.\n      (set_namespace_binding): Likewise.\n\nFrom-SVN: r63410", "tree": {"sha": "780972bcc98a15076a226be442aad816c4857d0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/780972bcc98a15076a226be442aad816c4857d0d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7d9f2df2637ee19e5c9a33f1a83c84364209b02a/comments", "author": {"login": "cxx-undef", "id": 5528103, "node_id": "MDQ6VXNlcjU1MjgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5528103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cxx-undef", "html_url": "https://github.com/cxx-undef", "followers_url": "https://api.github.com/users/cxx-undef/followers", "following_url": "https://api.github.com/users/cxx-undef/following{/other_user}", "gists_url": "https://api.github.com/users/cxx-undef/gists{/gist_id}", "starred_url": "https://api.github.com/users/cxx-undef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cxx-undef/subscriptions", "organizations_url": "https://api.github.com/users/cxx-undef/orgs", "repos_url": "https://api.github.com/users/cxx-undef/repos", "events_url": "https://api.github.com/users/cxx-undef/events{/privacy}", "received_events_url": "https://api.github.com/users/cxx-undef/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4cf8cbf05abdf033d2397b5ce0d27ead34bd0376", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4cf8cbf05abdf033d2397b5ce0d27ead34bd0376", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4cf8cbf05abdf033d2397b5ce0d27ead34bd0376"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "3f4c7f69f24fec092a7328a2d7f7899a329bae1c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d9f2df2637ee19e5c9a33f1a83c84364209b02a/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d9f2df2637ee19e5c9a33f1a83c84364209b02a/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "patch": "@@ -1,3 +1,9 @@\n+2003-02-24 Gabriel Dos Reis  <gdr@integrable-solutions.net>\n+\n+      * decl.c (add_binding): Time TV_NAME_LOOKUP.\n+      (push_class_binding): Likewise.\n+      (set_namespace_binding): Likewise.\n+\n 2003-02-24  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/9836"}, {"sha": "b249e5c0314862b39a587a77d28750227edeafb2", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7d9f2df2637ee19e5c9a33f1a83c84364209b02a/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7d9f2df2637ee19e5c9a33f1a83c84364209b02a/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=7d9f2df2637ee19e5c9a33f1a83c84364209b02a", "patch": "@@ -935,6 +935,7 @@ add_binding (tree id, tree decl)\n   tree binding = IDENTIFIER_BINDING (id);\n   int ok = 1;\n \n+  timevar_push (TV_NAME_LOOKUP);\n   if (TREE_CODE (decl) == TYPE_DECL && DECL_ARTIFICIAL (decl))\n     /* The new name is the type name.  */\n     BINDING_TYPE (binding) = decl;\n@@ -991,7 +992,7 @@ add_binding (tree id, tree decl)\n       ok = 0;\n     }\n \n-  return ok;\n+  POP_TIMEVAR_AND_RETURN (TV_NAME_LOOKUP, ok);\n }\n \n /* Add DECL to the list of things declared in B.  */\n@@ -1071,6 +1072,7 @@ push_class_binding (tree id, tree decl)\n   tree binding = IDENTIFIER_BINDING (id);\n   tree context;\n \n+  timevar_push (TV_NAME_LOOKUP);\n   /* Note that we declared this value so that we can issue an error if\n      this is an invalid redeclaration of a name already used for some\n      other purpose.  */\n@@ -1113,7 +1115,7 @@ push_class_binding (tree id, tree decl)\n        in this class.  */\n     INHERITED_VALUE_BINDING_P (binding) = 1;\n \n-  return result;\n+  POP_TIMEVAR_AND_RETURN (TV_NAME_LOOKUP, result);\n }\n \n /* Remove the binding for DECL which should be the innermost binding\n@@ -2114,6 +2116,7 @@ set_namespace_binding (tree name, tree scope, tree val)\n {\n   tree b;\n \n+  timevar_push (TV_NAME_LOOKUP);\n   if (scope == NULL_TREE)\n     scope = global_namespace;\n \n@@ -2123,11 +2126,12 @@ set_namespace_binding (tree name, tree scope, tree val)\n       if (b == NULL_TREE || TREE_CODE (b) != CPLUS_BINDING)\n \t{\n \t  IDENTIFIER_NAMESPACE_BINDINGS (name) = val;\n-\t  return;\n+          POP_TIMEVAR_AND_RETURN (TV_NAME_LOOKUP, (void)0);\n \t}\n     }\n   b = binding_for_name (name, scope);\n   BINDING_VALUE (b) = val;\n+  timevar_pop (TV_NAME_LOOKUP);\n }\n \n /* Push into the scope of the NAME namespace.  If NAME is NULL_TREE, then we"}]}