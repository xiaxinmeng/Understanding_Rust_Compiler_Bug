{"sha": "f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjM4MDk1ZjNlZWZiMjIwOGYxYzNjZDc5MTkxZTVhODJlYjAxN2NiMA==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2009-03-16T13:23:13Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2009-03-16T13:23:13Z"}, "message": "configure.ac (--with-host-libstdcxx): New option.\n\n\t* configure.ac (--with-host-libstdcxx): New option.\n\t* configure: Regenerate.\n\ngcc/doc:\n\t* doc/install.texi (--with-host-libstdcxx): Document.\n\nFrom-SVN: r144881", "tree": {"sha": "d31663e2d5b73ecd6a69d626fe539ee2a8f21894", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d31663e2d5b73ecd6a69d626fe539ee2a8f21894"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d495ef5a6c5f858d208c21fd1c6e27c9fa0337cf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d495ef5a6c5f858d208c21fd1c6e27c9fa0337cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d495ef5a6c5f858d208c21fd1c6e27c9fa0337cf"}], "stats": {"total": 60, "additions": 52, "deletions": 8}, "files": [{"sha": "9abb3425fba9da443fa733fefd7614f80bd69833", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "patch": "@@ -1,3 +1,8 @@\n+2009-03-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure.ac (--with-host-libstdcxx): New option.\n+\t* configure: Regenerate.\n+\n 2009-03-12  Joern Rennecke <joern.rennecke@arc.com>\n \n \t* MAINTAINERS:  Move myself into the write after approval list."}, {"sha": "fc95fec84505c825bd03d4b92a65c4ef0b6eaac6", "filename": "configure", "status": "modified", "additions": 21, "deletions": 4, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "patch": "@@ -969,6 +969,8 @@ Optional Packages:\n                           plus --with-gmp-lib=PATH/lib\n   --with-gmp-include=PATH specify directory for installed GMP include files\n   --with-gmp-lib=PATH     specify directory for the installed GMP library\n+  --with-host-libstdcxx=L Use linker arguments L to link with libstdc++\n+                          when linking with PPL\n   --with-ppl=PATH         Specify prefix directory for the installed PPL package\n                           Equivalent to --with-ppl-include=PATH/include\n                           plus --with-ppl-lib=PATH/lib\n@@ -4808,11 +4810,26 @@ fi\n \n \n \n+# Allow host libstdc++ to be specified for static linking with PPL.\n+\n+# Check whether --with-host-libstdcxx or --without-host-libstdcxx was given.\n+if test \"${with_host_libstdcxx+set}\" = set; then\n+  withval=\"$with_host_libstdcxx\"\n+\n+fi;\n+\n+case $with_host_libstdcxx in\n+  no|yes)\n+    { { echo \"$as_me:$LINENO: error: -with-host-libstdcxx needs an argument\" >&5\n+echo \"$as_me: error: -with-host-libstdcxx needs an argument\" >&2;}\n+   { (exit 1); exit 1; }; }\n+    ;;\n+esac\n \n # Check for PPL\n ppl_major_version=0\n ppl_minor_version=10\n-ppllibs=\" -lppl_c -lppl -lgmpxx \"\n+ppllibs=\" -lppl_c -lppl -lgmpxx $with_host_libstdcxx \"\n pplinc=\n \n \n@@ -4839,7 +4856,7 @@ case $with_ppl in\n     ppllibs=\n     ;;\n   *)\n-    ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx\"\n+    ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx $with_host_libstdcxx\"\n     pplinc=\"-I$with_ppl/include $pplinc\"\n     LIBS=\"$ppllibs $LIBS\"\n     ;;\n@@ -4848,11 +4865,11 @@ if test \"x$with_ppl_include\" != x; then\n   pplinc=\"-I$with_ppl_include $pplinc\"\n fi\n if test \"x$with_ppl_lib\" != x; then\n-  ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx\"\n+  ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx $with_host_libstdcxx\"\n   LIBS=\"$ppllibs $LIBS\"\n fi\n if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl; then\n-  ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\n+  ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\"$with_host_libstdcxx \"\n   pplinc='-I$$r/$(HOST_SUBDIR)/ppl/include -I$$s/ppl/include '\n   LIBS=\"$ppllibs $LIBS\"\n fi"}, {"sha": "9ac0824a5ed95aff397bdf2dc4b763856b3e761a", "filename": "configure.ac", "status": "modified", "additions": 13, "deletions": 4, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "patch": "@@ -1315,11 +1315,20 @@ fi\n AC_SUBST(gmplibs)\n AC_SUBST(gmpinc)\n \n+# Allow host libstdc++ to be specified for static linking with PPL.\n+AC_ARG_WITH(host-libstdcxx, [  --with-host-libstdcxx=L Use linker arguments L to link with libstdc++\n+                          when linking with PPL])\n+\n+case $with_host_libstdcxx in\n+  no|yes)\n+    AC_MSG_ERROR([-with-host-libstdcxx needs an argument])\n+    ;;\n+esac\n \n # Check for PPL\n ppl_major_version=0\n ppl_minor_version=10\n-ppllibs=\" -lppl_c -lppl -lgmpxx \"\n+ppllibs=\" -lppl_c -lppl -lgmpxx $with_host_libstdcxx \"\n pplinc=\n \n AC_ARG_WITH(ppl, [  --with-ppl=PATH         Specify prefix directory for the installed PPL package\n@@ -1333,7 +1342,7 @@ case $with_ppl in\n     ppllibs=\n     ;;\n   *)\n-    ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx\"\n+    ppllibs=\"-L$with_ppl/lib -lppl_c -lppl -lgmpxx $with_host_libstdcxx\"\n     pplinc=\"-I$with_ppl/include $pplinc\"\n     LIBS=\"$ppllibs $LIBS\"\n     ;;\n@@ -1342,11 +1351,11 @@ if test \"x$with_ppl_include\" != x; then\n   pplinc=\"-I$with_ppl_include $pplinc\"\n fi\n if test \"x$with_ppl_lib\" != x; then\n-  ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx\"\n+  ppllibs=\"-L$with_ppl_lib -lppl_c -lppl -lgmpxx $with_host_libstdcxx\"\n   LIBS=\"$ppllibs $LIBS\"\n fi\n if test \"x$with_ppl$with_ppl_include$with_ppl_lib\" = x && test -d ${srcdir}/ppl; then\n-  ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\n+  ppllibs='-L$$r/$(HOST_SUBDIR)/ppl/.libs -L$$r/$(HOST_SUBDIR)/ppl/_libs -lppl_c -lppl -lgmpxx '\"$with_host_libstdcxx \"\n   pplinc='-I$$r/$(HOST_SUBDIR)/ppl/include -I$$s/ppl/include '\n   LIBS=\"$ppllibs $LIBS\"\n fi"}, {"sha": "20483782ae869d424678fa6606657447748f141c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "patch": "@@ -1,3 +1,7 @@\n+2009-03-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* doc/install.texi (--with-host-libstdcxx): Document.\n+\n 2009-03-14  Anatoly Sokolov  <aesok@post.ru>\n \n \tPR target/34299"}, {"sha": "6bdfbece981f7fb6c26da672d45e5d3ba7879c69", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f38095f3eefb2208f1c3cd79191e5a82eb017cb0/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=f38095f3eefb2208f1c3cd79191e5a82eb017cb0", "patch": "@@ -1476,6 +1476,15 @@ you can explicitly specify the directory where they are installed\n shorthand assumptions are not correct, you can use the explicit\n include and lib options directly.\n \n+@item --with-host-libstdcxx=@var{linker-args}\n+If you are linking with a static copy of PPL, you can use this option\n+to specify how the linker should find the standard C++ library used\n+internally by PPL.  Typical values of @var{linker-args} might be\n+@samp{-lstdc++} or @samp{-Wl,-Bstatic,-lstdc++,-Bdynamic -lm}.  If you are\n+linking with a shared copy of PPL, you probably do not need this\n+option; shared library dependencies will cause the linker to search\n+for the standard C++ library automatically.\n+\n @item --with-debug-prefix-map=@var{map}\n Convert source directory names using @option{-fdebug-prefix-map} when\n building runtime libraries.  @samp{@var{map}} is a space-separated"}]}