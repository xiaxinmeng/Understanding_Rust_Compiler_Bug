{"sha": "3fe99aa5ce65c870729c680bdea7534f5bac0603", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ZlOTlhYTVjZTY1Yzg3MDcyOWM2ODBiZGVhNzUzNGY1YmFjMDYwMw==", "commit": {"author": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2014-04-04T15:19:07Z"}, "committer": {"name": "Fabien Ch\u00eane", "email": "fabien@gcc.gnu.org", "date": "2014-04-04T15:19:07Z"}, "message": "class.c (find_abi_tags_r): Check for the return of warning before emitting a note.\n\n2014-04-04  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n\n\t* class.c (find_abi_tags_r): Check for the return of warning\n\tbefore emitting a note.\n\t(one_inherited_ctor): Likewise.\n\nFrom-SVN: r209118", "tree": {"sha": "ea6a5b3100617659aac2a879f9416a751bc0abe6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea6a5b3100617659aac2a879f9416a751bc0abe6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3fe99aa5ce65c870729c680bdea7534f5bac0603", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fe99aa5ce65c870729c680bdea7534f5bac0603", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fe99aa5ce65c870729c680bdea7534f5bac0603", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fe99aa5ce65c870729c680bdea7534f5bac0603/comments", "author": null, "committer": null, "parents": [{"sha": "610c8ef0a420e5267cbccd5a4509f0ce3095e14c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/610c8ef0a420e5267cbccd5a4509f0ce3095e14c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/610c8ef0a420e5267cbccd5a4509f0ce3095e14c"}], "stats": {"total": 34, "additions": 21, "deletions": 13}, "files": [{"sha": "e0955691e5084a83f42fed50da7e5d15b5ae6f1a", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fe99aa5ce65c870729c680bdea7534f5bac0603/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fe99aa5ce65c870729c680bdea7534f5bac0603/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=3fe99aa5ce65c870729c680bdea7534f5bac0603", "patch": "@@ -1,3 +1,9 @@\n+2014-04-04  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n+\n+\t* class.c (find_abi_tags_r): Check for the return of warning\n+\tbefore emitting a note.\n+\t(one_inherited_ctor): Likewise.\n+\n 2014-04-04  Fabien Ch\u00eane  <fabien@gcc.gnu.org>\n \n \t* decl.c (duplicate_decls): Check for the return of permerror"}, {"sha": "9d6d1260337ceb596845ed3a2a8bd93d4cc36e88", "filename": "gcc/cp/class.c", "status": "modified", "additions": 15, "deletions": 13, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fe99aa5ce65c870729c680bdea7534f5bac0603/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fe99aa5ce65c870729c680bdea7534f5bac0603/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=3fe99aa5ce65c870729c680bdea7534f5bac0603", "patch": "@@ -1385,19 +1385,21 @@ find_abi_tags_r (tree *tp, int *walk_subtrees, void *data)\n \t      /* Otherwise we're diagnosing missing tags.  */\n \t      else if (TYPE_P (p->subob))\n \t\t{\n-\t\t  warning (OPT_Wabi_tag, \"%qT does not have the %E abi tag \"\n-\t\t\t   \"that base %qT has\", p->t, tag, p->subob);\n-\t\t  inform (location_of (p->subob), \"%qT declared here\",\n-\t\t\t  p->subob);\n+\t\t  if (warning (OPT_Wabi_tag, \"%qT does not have the %E abi tag \"\n+\t\t\t       \"that base %qT has\", p->t, tag, p->subob))\n+\t\t    inform (location_of (p->subob), \"%qT declared here\",\n+\t\t\t    p->subob);\n \t\t}\n \t      else\n \t\t{\n-\t\t  warning (OPT_Wabi_tag, \"%qT does not have the %E abi tag \"\n-\t\t\t   \"that %qT (used in the type of %qD) has\",\n-\t\t\t   p->t, tag, *tp, p->subob);\n-\t\t  inform (location_of (p->subob), \"%qD declared here\",\n-\t\t\t  p->subob);\n-\t\t  inform (location_of (*tp), \"%qT declared here\", *tp);\n+\t\t  if (warning (OPT_Wabi_tag, \"%qT does not have the %E abi tag \"\n+\t\t\t       \"that %qT (used in the type of %qD) has\",\n+\t\t\t       p->t, tag, *tp, p->subob))\n+\t\t    {\n+\t\t      inform (location_of (p->subob), \"%qD declared here\",\n+\t\t\t      p->subob);\n+\t\t      inform (location_of (*tp), \"%qT declared here\", *tp);\n+\t\t    }\n \t\t}\n \t    }\n \t}\n@@ -3083,9 +3085,9 @@ one_inherited_ctor (tree ctor, tree t)\n   one_inheriting_sig (t, ctor, new_parms, i);\n   if (parms == NULL_TREE)\n     {\n-      warning (OPT_Winherited_variadic_ctor,\n-\t       \"the ellipsis in %qD is not inherited\", ctor);\n-      inform (DECL_SOURCE_LOCATION (ctor), \"%qD declared here\", ctor);\n+      if (warning (OPT_Winherited_variadic_ctor,\n+\t\t   \"the ellipsis in %qD is not inherited\", ctor))\n+\tinform (DECL_SOURCE_LOCATION (ctor), \"%qD declared here\", ctor);\n     }\n }\n "}]}