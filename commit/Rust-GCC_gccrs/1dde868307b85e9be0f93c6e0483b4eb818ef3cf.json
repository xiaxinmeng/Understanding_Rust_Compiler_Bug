{"sha": "1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRkZTg2ODMwN2I4NWU5YmUwZjkzYzZlMDQ4M2I0ZWI4MThlZjNjZg==", "commit": {"author": {"name": "Brooks Moses", "email": "brooks.moses@codesourcery.com", "date": "2006-11-15T03:52:03Z"}, "committer": {"name": "Brooks Moses", "email": "brooks@gcc.gnu.org", "date": "2006-11-15T03:52:03Z"}, "message": "gfortran.h (GFC_MAX_LINE): Remove constant definition.\n\n* gfortran.h (GFC_MAX_LINE): Remove constant definition.\n(gfc_option_t): Clarify comments.\n* options.c: Set default line length limits to actual default\nvalues, rather than flag values.\n* scanner.c: Eliminate checking and handling of the\nfixed/free_line_length flag values.\n\nFrom-SVN: r118842", "tree": {"sha": "48bf955c5a301ae0a43b653d35cd27e7c36b6821", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/48bf955c5a301ae0a43b653d35cd27e7c36b6821"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/comments", "author": null, "committer": null, "parents": [{"sha": "4887aa7174404d3fa35104ffba53ad4dc613b474", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4887aa7174404d3fa35104ffba53ad4dc613b474", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4887aa7174404d3fa35104ffba53ad4dc613b474"}], "stats": {"total": 60, "additions": 28, "deletions": 32}, "files": [{"sha": "709bc4b8e70b760a037a28d14b83d3863c0f0485", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "patch": "@@ -1,3 +1,12 @@\n+2006-11-14  Brooks Moses  <brooks.moses@codesourcery.com>\n+ \n+ \t* gfortran.h (GFC_MAX_LINE): Remove constant definition.\n+ \t(gfc_option_t): Clarify comments.\n+ \t* options.c: Set default line length limits to actual default\n+ \tvalues, rather than flag values.\n+ \t* scanner.c: Eliminate checking and handling of the\n+ \tfixed/free_line_length flag values.\n+\n 2006-11-14  Brooks Moses  <brooks.moses@codesourcery.com>\n  \n  \t* lang.opt: Remove -fno-backend option."}, {"sha": "cf0dabfc81d0dbb063e372d27e788c94f772d877", "filename": "gcc/fortran/gfortran.h", "status": "modified", "additions": 8, "deletions": 13, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Fgfortran.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Fgfortran.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fgfortran.h?ref=1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "patch": "@@ -55,8 +55,7 @@ char *alloca ();\n \n /* Major control parameters.  */\n \n-#define GFC_MAX_SYMBOL_LEN 63\n-#define GFC_MAX_LINE 132\t/* Characters beyond this are not seen.  */\n+#define GFC_MAX_SYMBOL_LEN 63   /* Must be at least 63 for F2003.  */\n #define GFC_MAX_DIMENSIONS 7\t/* Maximum dimensions in an array.  */\n #define GFC_LETTERS 26\t\t/* Number of letters in the alphabet.  */\n \n@@ -1602,20 +1601,16 @@ typedef struct\n {\n   char *module_dir;\n   gfc_source_form source_form;\n-  /* When fixed_line_length or free_line_length are 0, the whole line is used.\n-\n-     Default is -1, the maximum line length mandated by the respective source\n-     form is used:\n-     for FORM_FREE GFC_MAX_LINE (132)\n-     else 72.\n-\n-     If fixed_line_length or free_line_length is not 0 nor -1 then the user has\n-     requested a specific line-length.\n+  /* Maximum line lengths in fixed- and free-form source, respectively.\n+     When fixed_line_length or free_line_length are 0, the whole line is used,\n+     regardless of length.\n \n      If the user requests a fixed_line_length <7 then gfc_init_options()\n      emits a fatal error.  */\n-  int fixed_line_length; /* maximum line length in fixed-form.  */\n-  int free_line_length; /* maximum line length in free-form.  */\n+  int fixed_line_length;\n+  int free_line_length;\n+  /* Maximum number of continuation lines in fixed- and free-form source,\n+     respectively.  */\n   int max_continue_fixed;\n   int max_continue_free;\n   int max_identifier_length;"}, {"sha": "6afcaa4173bb0c0418624d38f88c183cec95f7e9", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "patch": "@@ -46,8 +46,8 @@ gfc_init_options (unsigned int argc ATTRIBUTE_UNUSED,\n   gfc_source_file = NULL;\n   gfc_option.module_dir = NULL;\n   gfc_option.source_form = FORM_UNKNOWN;\n-  gfc_option.fixed_line_length = -1;\n-  gfc_option.free_line_length = -1;\n+  gfc_option.fixed_line_length = 72;\n+  gfc_option.free_line_length = 132;\n   gfc_option.max_continue_fixed = 19;\n   gfc_option.max_continue_free = 39;\n   gfc_option.max_identifier_length = GFC_MAX_SYMBOL_LEN;"}, {"sha": "92ee3661480a699a4f2c0150b1f96a9eb01c0f80", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 9, "deletions": 17, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1dde868307b85e9be0f93c6e0483b4eb818ef3cf/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=1dde868307b85e9be0f93c6e0483b4eb818ef3cf", "patch": "@@ -956,33 +956,25 @@ load_line (FILE * input, char **pbuf, int *pbuflen)\n   int seen_printable = 0, seen_ampersand = 0;\n   char *buffer;\n \n-  /* Determine the maximum allowed line length.\n-     The default for free-form is GFC_MAX_LINE, for fixed-form or for\n-     unknown form it is 72. Refer to the documentation in gfc_option_t.  */\n+  /* Determine the maximum allowed line length.  */\n   if (gfc_current_form == FORM_FREE)\n-    {\n-      if (gfc_option.free_line_length == -1)\n-\tmaxlen = GFC_MAX_LINE;\n-      else\n-\tmaxlen = gfc_option.free_line_length;\n-    }\n+    maxlen = gfc_option.free_line_length;\n   else if (gfc_current_form == FORM_FIXED)\n-    {\n-      if (gfc_option.fixed_line_length == -1)\n-\tmaxlen = 72;\n-      else\n-\tmaxlen = gfc_option.fixed_line_length;\n-    }\n+    maxlen = gfc_option.fixed_line_length;\n   else\n     maxlen = 72;\n \n   if (*pbuf == NULL)\n     {\n-      /* Allocate the line buffer, storing its length into buflen.  */\n+      /* Allocate the line buffer, storing its length into buflen.\n+\t Note that if maxlen==0, indicating that arbitrary-length lines\n+\t are allowed, the buffer will be reallocated if this length is\n+\t insufficient; since 132 characters is the length of a standard\n+\t free-form line, we use that as a starting guess.  */\n       if (maxlen > 0)\n \tbuflen = maxlen;\n       else\n-\tbuflen = GFC_MAX_LINE;\n+\tbuflen = 132;\n \n       *pbuf = gfc_getmem (buflen + 1);\n     }"}]}