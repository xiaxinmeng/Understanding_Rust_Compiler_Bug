{"sha": "ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWUzYWFiNjgyNmY3ZGJmZTBmMWE1MDljYjQyOWY0YTRkNzU1ZjM4Yg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-06-19T17:58:54Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-06-19T17:58:54Z"}, "message": "re PR fortran/87907 (ICE in resolve_contained_fntype, at fortran/resolve.c:587)\n\n2019-06-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/87907\n\t* resolve.c (resolve_contained_fntype): Do not dereference a NULL\n\tpointer.\n\n2019-06-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/87907\n\t* gfortran.dg/pr87907.f90: New testcase.\n\nFrom-SVN: r272480", "tree": {"sha": "d487aab5b7ba40c4f3349db9718045ab30c1b4dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d487aab5b7ba40c4f3349db9718045ab30c1b4dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/comments", "author": null, "committer": null, "parents": [{"sha": "33f0ad50f48cefeec7f3136e30229c9f85bbd372", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33f0ad50f48cefeec7f3136e30229c9f85bbd372", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33f0ad50f48cefeec7f3136e30229c9f85bbd372"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "62edba78f61c1534924a256661eb86860ab65c10", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "patch": "@@ -1,3 +1,9 @@\n+2019-06-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/87907\n+\t* resolve.c (resolve_contained_fntype): Do not dereference a NULL\n+\tpointer.\n+\n 2019-06-19  Jim MacArthur  <jim.macarthur@codethink.co.uk>\n \t    Mark Eggleston  <mark.eggleston@codethink.com>\n \t"}, {"sha": "afa4e5c2ccfd0030cf26fc807ebdeeb65abd3c8e", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "patch": "@@ -583,6 +583,9 @@ resolve_contained_fntype (gfc_symbol *sym, gfc_namespace *ns)\n       || sym->attr.entry_master)\n     return;\n \n+  if (!sym->result)\n+    return;\n+\n   /* Try to find out of what the return type is.  */\n   if (sym->result->ts.type == BT_UNKNOWN && sym->result->ts.interface == NULL)\n     {"}, {"sha": "aa41d2aac3824b78638396d24740f4956ec2d2f3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "patch": "@@ -1,3 +1,8 @@\n+2019-06-19  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/87907\n+\t* gfortran.dg/pr87907.f90: New testcase.\n+\n 2019-06-19  Wilco Dijkstra  <wdijkstr@arm.com>\n \n \tPR middle-end/84521"}, {"sha": "0fe4e5090d257ba199f7feadf2930974752e1b57", "filename": "gcc/testsuite/gfortran.dg/pr87907.f90", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr87907.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr87907.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr87907.f90?ref=ee3aab6826f7dbfe0f1a509cb429f4a4d755f38b", "patch": "@@ -0,0 +1,23 @@\n+! { dg-do compile }\n+! PR fortran/pr87907\n+! Original testcase contributed by Gerhard Stienmetz <gscfq at t-online dot de>\n+module m\n+   interface\n+      module function g(x) result(z)\n+         integer, intent(in) :: x\n+         integer, allocatable :: z\n+      end\n+   end interface\n+end\n+\n+submodule(m) m2\n+   contains\n+      subroutine g(x)   ! { dg-error \"mismatch in argument\" }\n+      end\n+end\n+\n+program p\n+   use m                ! { dg-error \"has a type\" }\n+   integer :: x = 3\n+   call g(x)            ! { dg-error \"which is not consistent with\" }\n+end"}]}