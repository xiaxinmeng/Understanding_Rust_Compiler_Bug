{"sha": "377017c49155f173328262a193d66acdd7c33e73", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc3MDE3YzQ5MTU1ZjE3MzMyODI2MmExOTNkNjZhY2RkN2MzM2U3Mw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-03T21:33:37Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-08-03T21:33:37Z"}, "message": "(code_to_optab): New variable.\n\n(init_optab): Initialize it.\n\nFrom-SVN: r5062", "tree": {"sha": "604f3967593db112cb0186bec55d6aa50f56491f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/604f3967593db112cb0186bec55d6aa50f56491f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/377017c49155f173328262a193d66acdd7c33e73", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/377017c49155f173328262a193d66acdd7c33e73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/377017c49155f173328262a193d66acdd7c33e73", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/377017c49155f173328262a193d66acdd7c33e73/comments", "author": null, "committer": null, "parents": [{"sha": "9c951f801eb46c7d39a1ba1f9bf7ce473edca22b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c951f801eb46c7d39a1ba1f9bf7ce473edca22b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c951f801eb46c7d39a1ba1f9bf7ce473edca22b"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "71e29a7ea0d4b8a64a0af1ba7ef8ac6769821214", "filename": "gcc/optabs.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/377017c49155f173328262a193d66acdd7c33e73/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/377017c49155f173328262a193d66acdd7c33e73/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=377017c49155f173328262a193d66acdd7c33e73", "patch": "@@ -91,6 +91,9 @@ enum insn_code fixtab[NUM_MACHINE_MODES][NUM_MACHINE_MODES][2];\n enum insn_code fixtrunctab[NUM_MACHINE_MODES][NUM_MACHINE_MODES][2];\n enum insn_code floattab[NUM_MACHINE_MODES][NUM_MACHINE_MODES][2];\n \n+/* Contains the optab used for each rtx code.  */\n+optab code_to_optab[NUM_RTX_CODE + 1];\n+\n /* SYMBOL_REF rtx's for the library functions that are called\n    implicitly and not via optabs.  */\n \n@@ -3404,6 +3407,10 @@ init_optab (code)\n       op->handlers[i].insn_code = CODE_FOR_nothing;\n       op->handlers[i].libfunc = 0;\n     }\n+\n+  if (code != UNKNOWN)\n+    code_to_optab[(int) code] = op;\n+\n   return op;\n }\n "}]}