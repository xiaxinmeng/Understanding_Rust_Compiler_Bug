{"sha": "f5b39f907f7a2d53a9506fdeafb99078315531eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjViMzlmOTA3ZjdhMmQ1M2E5NTA2ZmRlYWZiOTkwNzgzMTU1MzFlYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2017-12-15T11:30:56Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-12-15T11:30:56Z"}, "message": "re PR target/66488 (segfault on sizeof(long) < sizeof(void*) and large GCC memory usage)\n\n2017-12-15  Eric Botcazou  <ebotcazou@adacore.com>\n\n        PR target/66488\n        * ggc-page.c (HOST_BITS_PER_PTR): Do not define here...\n        * hwint.h (HOST_BITS_PER_PTR): ...but here instead.\n        * config/i386/xm-mingw32.h (HOST_BITS_PER_PTR): Delete.\n\nFrom-SVN: r255687", "tree": {"sha": "d3a60c3ccd8e9a20607fe169c396e18e46ae37a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3a60c3ccd8e9a20607fe169c396e18e46ae37a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5b39f907f7a2d53a9506fdeafb99078315531eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5b39f907f7a2d53a9506fdeafb99078315531eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5b39f907f7a2d53a9506fdeafb99078315531eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5b39f907f7a2d53a9506fdeafb99078315531eb/comments", "author": null, "committer": null, "parents": [{"sha": "25ea36594733d8f13be3f0982c9bfe58f51c6319", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25ea36594733d8f13be3f0982c9bfe58f51c6319", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25ea36594733d8f13be3f0982c9bfe58f51c6319"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "3ae3a32965b5cf622b714164efe264c07519f992", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f5b39f907f7a2d53a9506fdeafb99078315531eb", "patch": "@@ -1,3 +1,10 @@\n+2017-12-15  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR target/66488\n+\t* ggc-page.c (HOST_BITS_PER_PTR): Do not define here...\n+\t* hwint.h (HOST_BITS_PER_PTR): ...but here instead.\n+\t* config/i386/xm-mingw32.h (HOST_BITS_PER_PTR): Delete.\n+\n 2017-12-15  Julia Koval  <julia.koval@intel.com>\n \n \t* config/i386/i386-builtin.def (__builtin_ia32_vaesenclast_v16qi,"}, {"sha": "d4d63f583223955b3a976ec470f730d6e2799486", "filename": "gcc/config/i386/xm-mingw32.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-mingw32.h?ref=f5b39f907f7a2d53a9506fdeafb99078315531eb", "patch": "@@ -37,8 +37,3 @@ along with GCC; see the file COPYING3.  If not see\n    \"long long\" values.  Instead, we use \"I64\".  */\n #define HOST_LONG_LONG_FORMAT \"I64\"\n #endif\n-\n-/* this is to prevent gcc-heap.c from assuming sizeof(long) == sizeof(intptr_t) */\n-#ifdef __x86_64__\n-#\tdefine HOST_BITS_PER_PTR 64\n-#endif"}, {"sha": "854d310e0bac284ced2b64916400295badb8a925", "filename": "gcc/ggc-page.c", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fggc-page.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fggc-page.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-page.c?ref=f5b39f907f7a2d53a9506fdeafb99078315531eb", "patch": "@@ -91,11 +91,6 @@ along with GCC; see the file COPYING3.  If not see\n      3: Object allocations as well.\n      4: Object marks as well.  */\n #define GGC_DEBUG_LEVEL (0)\n-\f\n-#ifndef HOST_BITS_PER_PTR\n-#define HOST_BITS_PER_PTR  HOST_BITS_PER_LONG\n-#endif\n-\n \f\n /* A two-level tree is used to look up the page-entry for a given\n    pointer.  Two chunks of the pointer's bits are extracted to index"}, {"sha": "e5fa33fc60201862b823a04a73a5cdc24744fa92", "filename": "gcc/hwint.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fhwint.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5b39f907f7a2d53a9506fdeafb99078315531eb/gcc%2Fhwint.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhwint.h?ref=f5b39f907f7a2d53a9506fdeafb99078315531eb", "patch": "@@ -14,6 +14,7 @@\n #define HOST_BITS_PER_SHORT (CHAR_BIT * SIZEOF_SHORT)\n #define HOST_BITS_PER_INT   (CHAR_BIT * SIZEOF_INT)\n #define HOST_BITS_PER_LONG  (CHAR_BIT * SIZEOF_LONG)\n+#define HOST_BITS_PER_PTR   (CHAR_BIT * SIZEOF_VOID_P)\n \n /* The string that should be inserted into a printf style format to\n    indicate a \"long\" operand.  */"}]}