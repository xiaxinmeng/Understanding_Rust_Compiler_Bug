{"sha": "2d16708fa186148ca13f375c18e05abb806508eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQxNjcwOGZhMTg2MTQ4Y2ExM2YzNzVjMThlMDVhYmI4MDY1MDhlYg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-06-01T10:51:15Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2017-06-01T10:51:15Z"}, "message": "re PR ada/80921 (cross compiling fails to build Ada shared libraries)\n\n\tPR ada/80921\n\t* configure.ac (default_gnatlib_target): Remove bogus condition.\n\t(have_getipinfo): Tweak.\n\t* configure: Regenerate.\n\nFrom-SVN: r248785", "tree": {"sha": "b0da6bbe0781512661a8ba3f8846af72d3b1e933", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b0da6bbe0781512661a8ba3f8846af72d3b1e933"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d16708fa186148ca13f375c18e05abb806508eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d16708fa186148ca13f375c18e05abb806508eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d16708fa186148ca13f375c18e05abb806508eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d16708fa186148ca13f375c18e05abb806508eb/comments", "author": null, "committer": null, "parents": [{"sha": "ac853c9071ab9a8df483c26fe8672732546c51ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac853c9071ab9a8df483c26fe8672732546c51ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac853c9071ab9a8df483c26fe8672732546c51ab"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "9ddec4676e3be302c48ce28a07653fe4745bf5c7", "filename": "libada/ChangeLog", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d16708fa186148ca13f375c18e05abb806508eb/libada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d16708fa186148ca13f375c18e05abb806508eb/libada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FChangeLog?ref=2d16708fa186148ca13f375c18e05abb806508eb", "patch": "@@ -1,3 +1,10 @@\n+2017-06-01  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\tPR ada/80921\n+\t* configure.ac (default_gnatlib_target): Remove bogus condition.\n+\t(have_getipinfo): Tweak.\n+\t* configure: Regenerate.\n+\n 2017-05-22  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* configure.ac: Add check for sys/capability.h header.\n@@ -11,7 +18,7 @@\n \t* configure.ac: Add GCC_BASE_VER.\n \t* Makefile.in (version): Use @get_gcc_base_ver@ instead of cat to get\n \tversion from BASE-VER file.\n-\t* configure: Regenerated.\n+\t* configure: Regenerate.\n \n 2017-01-04  Alan Modra  <amodra@gmail.com>\n "}, {"sha": "76b39921e7273323ff839636cd0b148ae4673263", "filename": "libada/configure", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d16708fa186148ca13f375c18e05abb806508eb/libada%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d16708fa186148ca13f375c18e05abb806508eb/libada%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2Fconfigure?ref=2d16708fa186148ca13f375c18e05abb806508eb", "patch": "@@ -3201,9 +3201,7 @@ fi\n \n \n # Determine what to build for 'gnatlib'\n-if test $build = $target \\\n-   && test ${enable_shared} = yes ; then\n-  # Note that build=target is almost certainly the wrong test; FIXME\n+if test ${enable_shared} = yes; then\n   default_gnatlib_target=\"gnatlib-shared\"\n else\n   default_gnatlib_target=\"gnatlib-plain\"\n@@ -3247,9 +3245,10 @@ $as_echo \"#define HAVE_GETIPINFO 1\" >>confdefs.h\n \n   fi\n \n-have_getipinfo=\n if test x$have_unwind_getipinfo = xyes; then\n   have_getipinfo=-DHAVE_GETIPINFO\n+else\n+  have_getipinfo=\n fi\n \n "}, {"sha": "bcab9840281543f7b228e9809ba8ef581062ebc1", "filename": "libada/configure.ac", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d16708fa186148ca13f375c18e05abb806508eb/libada%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d16708fa186148ca13f375c18e05abb806508eb/libada%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2Fconfigure.ac?ref=2d16708fa186148ca13f375c18e05abb806508eb", "patch": "@@ -127,9 +127,7 @@ AC_PROG_AWK\n AC_PROG_LN_S\n \n # Determine what to build for 'gnatlib'\n-if test $build = $target \\\n-   && test ${enable_shared} = yes ; then\n-  # Note that build=target is almost certainly the wrong test; FIXME\n+if test ${enable_shared} = yes; then\n   default_gnatlib_target=\"gnatlib-shared\"\n else\n   default_gnatlib_target=\"gnatlib-plain\"\n@@ -138,15 +136,16 @@ AC_SUBST([default_gnatlib_target])\n \n # Check for _Unwind_GetIPInfo\n GCC_CHECK_UNWIND_GETIPINFO\n-have_getipinfo=\n if test x$have_unwind_getipinfo = xyes; then\n   have_getipinfo=-DHAVE_GETIPINFO\n+else\n+  have_getipinfo=\n fi\n-AC_SUBST(have_getipinfo)\n+AC_SUBST([have_getipinfo])\n \n # Check for <sys/capability.h>\n AC_CHECK_HEADER([sys/capability.h], have_capability=-DHAVE_CAPABILITY, have_capability=)\n-AC_SUBST(have_capability)\n+AC_SUBST([have_capability])\n \n # Determine what GCC version number to use in filesystem paths.\n GCC_BASE_VER"}]}