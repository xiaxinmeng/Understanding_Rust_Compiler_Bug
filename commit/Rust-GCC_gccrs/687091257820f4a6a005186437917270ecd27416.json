{"sha": "687091257820f4a6a005186437917270ecd27416", "node_id": "C_kwDOANBUbNoAKDY4NzA5MTI1NzgyMGY0YTZhMDA1MTg2NDM3OTE3MjcwZWNkMjc0MTY", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-01-27T13:17:28Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-03-10T11:06:19Z"}, "message": "Add 'gfortran.dg/goacc-gomp/pr102330-{1,2,3}.f90' [PR102330]\n\n..., currently XFAILed with 'dg-ice'.\n\n\tPR middle-end/102330\n\tgcc/testsuite/\n\t* gfortran.dg/goacc-gomp/pr102330-1.f90: New file.\n\t* gfortran.dg/goacc-gomp/pr102330-2.f90: Likewise.\n\t* gfortran.dg/goacc-gomp/pr102330-3.f90: Likewise.", "tree": {"sha": "4689404248fe1972be8e87fb009f7a74f7dbb923", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4689404248fe1972be8e87fb009f7a74f7dbb923"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/687091257820f4a6a005186437917270ecd27416", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/687091257820f4a6a005186437917270ecd27416", "html_url": "https://github.com/Rust-GCC/gccrs/commit/687091257820f4a6a005186437917270ecd27416", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/687091257820f4a6a005186437917270ecd27416/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d9dc3dd74eddd192bec1ac6f4d6548a81deb9a5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d9dc3dd74eddd192bec1ac6f4d6548a81deb9a5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d9dc3dd74eddd192bec1ac6f4d6548a81deb9a5"}], "stats": {"total": 62, "additions": 62, "deletions": 0}, "files": [{"sha": "fba8c718dc2f59e08fe3e55e9937d6a92207e3f2", "filename": "gcc/testsuite/gfortran.dg/goacc-gomp/pr102330-1.f90", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-1.f90?ref=687091257820f4a6a005186437917270ecd27416", "patch": "@@ -0,0 +1,20 @@\n+! { dg-additional-options -fchecking }\n+! { dg-ice TODO }\n+\n+! { dg-additional-options -fopt-info-omp-note }\n+\n+! { dg-additional-options --param=openacc-privatization=noisy }\n+\n+program p\n+  !$omp master taskloop simd\n+  do i = 1, 8\n+  end do\n+  !$acc parallel loop ! { dg-line l_compute1 }\n+  ! { dg-note {variable 'i' in 'private' clause is candidate for adjusting OpenACC privatization level} {} { target *-*-* } l_compute1 }\n+  do i = 1, 8\n+  end do\n+end\n+! { dg-bogus {Error: non-register as LHS of binary operation} TODO { target { ! offloading_enabled } xfail *-*-* } .-1 }\n+! { dg-bogus {error: non-register as LHS of binary operation} TODO { target offloading_enabled xfail *-*-* } .-2 }\n+! TODO See PR101551 for 'offloading_enabled' differences.\n+! { dg-excess-errors ICE }"}, {"sha": "7a1ce8b088c69cf330ff2cc2f16001a6c704df4e", "filename": "gcc/testsuite/gfortran.dg/goacc-gomp/pr102330-2.f90", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-2.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-2.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-2.f90?ref=687091257820f4a6a005186437917270ecd27416", "patch": "@@ -0,0 +1,20 @@\n+! { dg-additional-options -fchecking }\n+! { dg-ice TODO }\n+\n+! { dg-additional-options -fopt-info-omp-note }\n+\n+! { dg-additional-options --param=openacc-privatization=noisy }\n+\n+program p\n+  !$omp taskloop lastprivate(i)\n+  do i = 1, 8\n+  end do\n+  !$acc parallel loop ! { dg-line l_compute1 }\n+  ! { dg-note {variable 'i' in 'private' clause is candidate for adjusting OpenACC privatization level} {} { target *-*-* } l_compute1 }\n+  do i = 1, 8\n+  end do\n+end\n+! { dg-bogus {Error: non-register as LHS of binary operation} TODO { target { ! offloading_enabled } xfail *-*-* } .-1 }\n+! { dg-bogus {error: non-register as LHS of binary operation} TODO { target offloading_enabled xfail *-*-* } .-2 }\n+! TODO See PR101551 for 'offloading_enabled' differences.\n+! { dg-excess-errors ICE }"}, {"sha": "b8b1479c7ea574e4210cffee903c58821712c8ea", "filename": "gcc/testsuite/gfortran.dg/goacc-gomp/pr102330-3.f90", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/687091257820f4a6a005186437917270ecd27416/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc-gomp%2Fpr102330-3.f90?ref=687091257820f4a6a005186437917270ecd27416", "patch": "@@ -0,0 +1,22 @@\n+! { dg-additional-options -fchecking }\n+! { dg-ice TODO }\n+\n+! { dg-additional-options -fopt-info-omp-note }\n+\n+! { dg-additional-options --param=openacc-privatization=noisy }\n+\n+program p\n+  i = 0\n+  !$omp task shared(i)\n+  i = 1\n+  !$omp end task\n+  !$omp taskwait\n+  !$acc parallel loop ! { dg-line l_compute1 }\n+  ! { dg-note {variable 'i' in 'private' clause is candidate for adjusting OpenACC privatization level} {} { target *-*-* } l_compute1 }\n+  do i = 1, 8\n+  end do\n+end\n+! { dg-bogus {Error: non-register as LHS of binary operation} TODO { target { ! offloading_enabled } xfail *-*-* } .-1 }\n+! { dg-bogus {error: non-register as LHS of binary operation} TODO { target offloading_enabled xfail *-*-* } .-2 }\n+! TODO See PR101551 for 'offloading_enabled' differences.\n+! { dg-excess-errors ICE }"}]}