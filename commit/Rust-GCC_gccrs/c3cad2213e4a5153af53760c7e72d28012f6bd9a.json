{"sha": "c3cad2213e4a5153af53760c7e72d28012f6bd9a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNjYWQyMjEzZTRhNTE1M2FmNTM3NjBjN2U3MmQyODAxMmY2YmQ5YQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1998-10-19T10:44:52Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-19T10:44:52Z"}, "message": "libgcc2.c (eh_context_static): Do not call malloc to allocate the static eh_context structure.\n\n        * libgcc2.c (eh_context_static): Do not call malloc to allocate the\n        static eh_context structure.\n\nFrom-SVN: r23175", "tree": {"sha": "19d796ead42a16a0e6601e4e131690933a612a61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19d796ead42a16a0e6601e4e131690933a612a61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3cad2213e4a5153af53760c7e72d28012f6bd9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3cad2213e4a5153af53760c7e72d28012f6bd9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3cad2213e4a5153af53760c7e72d28012f6bd9a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3cad2213e4a5153af53760c7e72d28012f6bd9a/comments", "author": null, "committer": null, "parents": [{"sha": "b1fc873cc23de79ce54a9070f55cb26189ad6f0d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1fc873cc23de79ce54a9070f55cb26189ad6f0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1fc873cc23de79ce54a9070f55cb26189ad6f0d"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "b52a9adcedac5054fdc9c7120fbc1caa9b3e5d46", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3cad2213e4a5153af53760c7e72d28012f6bd9a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3cad2213e4a5153af53760c7e72d28012f6bd9a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c3cad2213e4a5153af53760c7e72d28012f6bd9a", "patch": "@@ -1,3 +1,8 @@\n+Mon Oct 19 11:40:56 1998  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* libgcc2.c (eh_context_static): Do not call malloc to allocate the\n+\tstatic eh_context structure.\n+\n Mon Oct 19 10:45:40 1998  Bernd Schmidt <crux@pool.informatik.rwth-aachen.de> \n \n \t* combine.c (recog_for_combine): Lose PADDED_SCRATCHES arg.  All"}, {"sha": "21b72af0db642588129bb18b5b8d4a84a33e19a2", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3cad2213e4a5153af53760c7e72d28012f6bd9a/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3cad2213e4a5153af53760c7e72d28012f6bd9a/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=c3cad2213e4a5153af53760c7e72d28012f6bd9a", "patch": "@@ -3178,10 +3178,15 @@ eh_context_initialize ()\n static struct eh_context *\n eh_context_static ()\n {\n-  static struct eh_context *eh;\n-  if (! eh)\n-    eh = new_eh_context ();\n-  return eh;\n+  static struct eh_context eh;\n+  static int initialized;\n+  if (! initialized)\n+    {\n+      initialized = 1;\n+      memset (&eh, 0, sizeof eh);\n+      eh.dynamic_handler_chain = top_elt;\n+    }\n+  return &eh;\n }\n \n #if __GTHREADS"}]}