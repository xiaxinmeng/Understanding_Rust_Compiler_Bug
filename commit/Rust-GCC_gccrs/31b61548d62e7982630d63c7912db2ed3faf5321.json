{"sha": "31b61548d62e7982630d63c7912db2ed3faf5321", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzFiNjE1NDhkNjJlNzk4MjYzMGQ2M2M3OTEyZGIyZWQzZmFmNTMyMQ==", "commit": {"author": {"name": "Vladimir Makarov", "email": "vmakarov@redhat.com", "date": "2017-01-17T16:11:55Z"}, "committer": {"name": "Vladimir Makarov", "email": "vmakarov@gcc.gnu.org", "date": "2017-01-17T16:11:55Z"}, "message": "re PR target/79058 (ARM: internal compiler error: in extract_constrain_insn, at recog.c:2213)\n\n2017-01-17  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR target/79058\n\t* ira-conflicts.c (ira_build_conflicts): Update total conflict\n\thard regs for inner regno.\n\n2017-01-17  Vladimir Makarov  <vmakarov@redhat.com>\n\n\tPR target/79058\n\t* gcc.target/arm/pr79058.c: New.\n\nFrom-SVN: r244535", "tree": {"sha": "0e86084fee69421a3044c3164bd62aa363026cd4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e86084fee69421a3044c3164bd62aa363026cd4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/31b61548d62e7982630d63c7912db2ed3faf5321", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b61548d62e7982630d63c7912db2ed3faf5321", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31b61548d62e7982630d63c7912db2ed3faf5321", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31b61548d62e7982630d63c7912db2ed3faf5321/comments", "author": {"login": "vnmakarov", "id": 9855671, "node_id": "MDQ6VXNlcjk4NTU2NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/9855671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vnmakarov", "html_url": "https://github.com/vnmakarov", "followers_url": "https://api.github.com/users/vnmakarov/followers", "following_url": "https://api.github.com/users/vnmakarov/following{/other_user}", "gists_url": "https://api.github.com/users/vnmakarov/gists{/gist_id}", "starred_url": "https://api.github.com/users/vnmakarov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vnmakarov/subscriptions", "organizations_url": "https://api.github.com/users/vnmakarov/orgs", "repos_url": "https://api.github.com/users/vnmakarov/repos", "events_url": "https://api.github.com/users/vnmakarov/events{/privacy}", "received_events_url": "https://api.github.com/users/vnmakarov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c549996eed68bbe0da8bebc900503e99a2fb7b52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c549996eed68bbe0da8bebc900503e99a2fb7b52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c549996eed68bbe0da8bebc900503e99a2fb7b52"}], "stats": {"total": 31, "additions": 29, "deletions": 2}, "files": [{"sha": "cc05d2c9c2c55e59ff9a7aecd8de59563658870d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=31b61548d62e7982630d63c7912db2ed3faf5321", "patch": "@@ -1,3 +1,9 @@\n+2017-01-17  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR target/79058\n+\t* ira-conflicts.c (ira_build_conflicts): Update total conflict\n+\thard regs for inner regno.\n+\n 2017-01-17  Martin Liska  <mliska@suse.cz>\n \n \tPR ipa/71207"}, {"sha": "57dba151d8d9beec38166bda6b139c4983596483", "filename": "gcc/ira-conflicts.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Fira-conflicts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Fira-conflicts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-conflicts.c?ref=31b61548d62e7982630d63c7912db2ed3faf5321", "patch": "@@ -787,8 +787,12 @@ ira_build_conflicts (void)\n \t\t   if (outer_regno < 0\n \t\t       || !in_hard_reg_set_p (reg_class_contents[aclass],\n \t\t\t\t\t      outer_mode, outer_regno))\n-\t\t     SET_HARD_REG_BIT (OBJECT_CONFLICT_HARD_REGS (obj),\n-\t\t\t\t       inner_regno);\n+\t\t     {\n+\t\t       SET_HARD_REG_BIT (OBJECT_TOTAL_CONFLICT_HARD_REGS (obj),\n+\t\t\t\t\t inner_regno);\n+\t\t       SET_HARD_REG_BIT (OBJECT_CONFLICT_HARD_REGS (obj),\n+\t\t\t\t\t inner_regno);\n+\t\t     }\n \t\t}\n \t    }\n "}, {"sha": "0eda15b930b0d7fa67ad63fa8b85f5ad27d26753", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=31b61548d62e7982630d63c7912db2ed3faf5321", "patch": "@@ -1,3 +1,8 @@\n+2017-01-17  Vladimir Makarov  <vmakarov@redhat.com>\n+\n+\tPR target/79058\n+\t* gcc.target/arm/pr79058.c: New.\n+\n 2017-01-17  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/71854"}, {"sha": "f2841f514df36c2f56f23cb690d56a9a13fb9184", "filename": "gcc/testsuite/gcc.target/arm/pr79058.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr79058.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/31b61548d62e7982630d63c7912db2ed3faf5321/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr79058.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fpr79058.c?ref=31b61548d62e7982630d63c7912db2ed3faf5321", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-skip-if \"do not override -mcpu\" { *-*-* } { \"-mcpu=*\" } { \"-mcpu=arm7tdmi\" } } */\n+/* { dg-options \"-Os -mbig-endian -mcpu=arm7tdmi\" } */\n+\n+enum { NILFS_SEGMENT_USAGE_ACTIVE, NILFS_SEGMENT_USAGE_DIRTY } a;\n+\n+void fn2 (long long);\n+\n+void fn1() {\n+  int b = a & 1 << NILFS_SEGMENT_USAGE_DIRTY;\n+  fn2 (b ? (long long) -1 : 0);\n+}"}]}