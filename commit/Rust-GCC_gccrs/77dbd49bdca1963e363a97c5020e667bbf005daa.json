{"sha": "77dbd49bdca1963e363a97c5020e667bbf005daa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdkYmQ0OWJkY2ExOTYzZTM2M2E5N2M1MDIwZTY2N2JiZjAwNWRhYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2007-01-20T00:30:19Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2007-01-20T00:30:19Z"}, "message": "decl2.c (start_objects, [...]): Do not make the functions uninlinable.\n\n\n\t* decl2.c (start_objects, start_static_storage_duration_function):\n\tDo not make the functions uninlinable.\n\nFrom-SVN: r120992", "tree": {"sha": "9a7ac3868da3d5d4e118caceae8acb3117c32946", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a7ac3868da3d5d4e118caceae8acb3117c32946"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77dbd49bdca1963e363a97c5020e667bbf005daa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77dbd49bdca1963e363a97c5020e667bbf005daa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77dbd49bdca1963e363a97c5020e667bbf005daa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77dbd49bdca1963e363a97c5020e667bbf005daa/comments", "author": null, "committer": null, "parents": [{"sha": "f03b515897bb72e5bba8868844e1d05d23f647b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f03b515897bb72e5bba8868844e1d05d23f647b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f03b515897bb72e5bba8868844e1d05d23f647b5"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "9e09bb242dfedfff162191066101a066ead368d3", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77dbd49bdca1963e363a97c5020e667bbf005daa/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77dbd49bdca1963e363a97c5020e667bbf005daa/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=77dbd49bdca1963e363a97c5020e667bbf005daa", "patch": "@@ -1,3 +1,8 @@\n+2007-01-20  Jan Hubicka  <jh@suse.cz>\n+\n+\t* decl2.c (start_objects, start_static_storage_duration_function):\n+\tDo not make the functions uninlinable.\n+\n 2007-01-17  Ian Lance Taylor  <iant@google.com>\n \n \t* class.c (add_method): Call VEC_reserve_exact rather than passing"}, {"sha": "69c260ca75863911a769ab176b8bc6265ab6cc7f", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77dbd49bdca1963e363a97c5020e667bbf005daa/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77dbd49bdca1963e363a97c5020e667bbf005daa/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=77dbd49bdca1963e363a97c5020e667bbf005daa", "patch": "@@ -2340,13 +2340,6 @@ start_objects (int method_type, int initp)\n \n   body = begin_compound_stmt (BCS_FN_BODY);\n \n-  /* We cannot allow these functions to be elided, even if they do not\n-     have external linkage.  And, there's no point in deferring\n-     compilation of these functions; they're all going to have to be\n-     out anyhow.  */\n-  DECL_INLINE (current_function_decl) = 0;\n-  DECL_UNINLINABLE (current_function_decl) = 1;\n-\n   return body;\n }\n \n@@ -2444,6 +2437,7 @@ start_static_storage_duration_function (unsigned count)\n \t\t\t       type);\n   TREE_PUBLIC (ssdf_decl) = 0;\n   DECL_ARTIFICIAL (ssdf_decl) = 1;\n+  DECL_INLINE (ssdf_decl) = 1;\n \n   /* Put this function in the list of functions to be called from the\n      static constructors and destructors.  */\n@@ -2497,11 +2491,6 @@ start_static_storage_duration_function (unsigned count)\n   /* Set up the scope of the outermost block in the function.  */\n   body = begin_compound_stmt (BCS_FN_BODY);\n \n-  /* This function must not be deferred because we are depending on\n-     its compilation to tell us what is TREE_SYMBOL_REFERENCED.  */\n-  DECL_INLINE (ssdf_decl) = 0;\n-  DECL_UNINLINABLE (ssdf_decl) = 1;\n-\n   return body;\n }\n "}]}