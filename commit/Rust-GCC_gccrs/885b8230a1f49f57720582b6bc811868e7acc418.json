{"sha": "885b8230a1f49f57720582b6bc811868e7acc418", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODg1YjgyMzBhMWY0OWY1NzcyMDU4MmI2YmM4MTE4NjhlN2FjYzQxOA==", "commit": {"author": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2017-09-26T18:32:16Z"}, "committer": {"name": "Thomas Koenig", "email": "tkoenig@gcc.gnu.org", "date": "2017-09-26T18:32:16Z"}, "message": "frontend-passes.c (do_subscript): Don't do anything if inside an associate list.\n\n2017-09-26  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\t* frontend-passes.c (do_subscript): Don't do anything\n\tif inside an associate list.\n\n2017-09-26  Thomas Koenig  <tkoenig@gcc.gnu.org>\n\n\t* gfortran.dg/gomp/associate1.f90: Remove unnecessary\n\twarning from associate construct and do loop.\n\nFrom-SVN: r253211", "tree": {"sha": "e5690293ec6d8c3458d0076d2e948e90f23cdb10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5690293ec6d8c3458d0076d2e948e90f23cdb10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/885b8230a1f49f57720582b6bc811868e7acc418", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/885b8230a1f49f57720582b6bc811868e7acc418", "html_url": "https://github.com/Rust-GCC/gccrs/commit/885b8230a1f49f57720582b6bc811868e7acc418", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/885b8230a1f49f57720582b6bc811868e7acc418/comments", "author": null, "committer": null, "parents": [{"sha": "6c1f23fff1c23c17d9a6599e0855743474ff9f57", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c1f23fff1c23c17d9a6599e0855743474ff9f57", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c1f23fff1c23c17d9a6599e0855743474ff9f57"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "ae4fba63b3c885750c82811f997cf0f80ddd53f8", "filename": "gcc/fortran/frontend-passes.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/885b8230a1f49f57720582b6bc811868e7acc418/gcc%2Ffortran%2Ffrontend-passes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/885b8230a1f49f57720582b6bc811868e7acc418/gcc%2Ffortran%2Ffrontend-passes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ffrontend-passes.c?ref=885b8230a1f49f57720582b6bc811868e7acc418", "patch": "@@ -2484,6 +2484,10 @@ do_subscript (gfc_expr **e)\n   if (v->expr_type == EXPR_CONSTANT)\n     return 0;\n \n+  /* Wrong warnings will be generated in an associate list.  */\n+  if (in_assoc_list)\n+    return 0;\n+\n   for (ref = v->ref; ref; ref = ref->next)\n     {\n       if (ref->type == REF_ARRAY && ref->u.ar.type == AR_ELEMENT)"}, {"sha": "abc5ae95a0d1c55de3fdd1c4b31af35f119cac4b", "filename": "gcc/testsuite/gfortran.dg/gomp/associate1.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/885b8230a1f49f57720582b6bc811868e7acc418/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fassociate1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/885b8230a1f49f57720582b6bc811868e7acc418/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fassociate1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fassociate1.f90?ref=885b8230a1f49f57720582b6bc811868e7acc418", "patch": "@@ -14,7 +14,7 @@ program associate1\n   type(dt) :: b(3)\n   i = 1\n   j = 2\n-  associate(k => v, l => a(i, j), m => a(i, :)) ! { dg-warning \"out of bounds\" }\n+  associate(k => v, l => a(i, j), m => a(i, :))\n   associate(n => b(j)%c(:, :)%i, o => a, p => b)\n !$omp parallel shared (l)\t! { dg-error \"ASSOCIATE name\" }\n !$omp end parallel\n@@ -75,7 +75,7 @@ program associate1\n   end do\n   k = 1\n !$omp simd linear (k : 2)\t! { dg-error \"ASSOCIATE name\" }\n-  do i = 1, 10 ! { dg-warning \"out of bounds\" }\n+  do i = 1, 10\n     k = k + 2\n   end do\n   end associate"}]}