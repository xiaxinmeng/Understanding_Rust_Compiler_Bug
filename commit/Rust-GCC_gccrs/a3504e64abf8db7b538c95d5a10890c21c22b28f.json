{"sha": "a3504e64abf8db7b538c95d5a10890c21c22b28f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM1MDRlNjRhYmY4ZGI3YjUzOGM5NWQ1YTEwODkwYzIxYzIyYjI4Zg==", "commit": {"author": {"name": "Feng Wang", "email": "fengwang@gcc.gnu.org", "date": "2005-06-24T03:23:04Z"}, "committer": {"name": "Feng Wang", "email": "fengwang@gcc.gnu.org", "date": "2005-06-24T03:23:04Z"}, "message": "simplify.c (gfc_simplify_modulo): Don't clear before get result.\n\n2005-06-24  Feng Wang  <fengwang@nudt.edu.cn>\n\n        * simplify.c (gfc_simplify_modulo): Don't clear before get result.\n\n\n2005-06-24  Feng Wang  <fengwang@nudt.edu.cn>\n\n        * gfortran.dg/simplify_modulo.f90: New.\n\nFrom-SVN: r101288", "tree": {"sha": "a35309ed7895a855626c6b72c80455f9d5e29992", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a35309ed7895a855626c6b72c80455f9d5e29992"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a3504e64abf8db7b538c95d5a10890c21c22b28f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3504e64abf8db7b538c95d5a10890c21c22b28f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3504e64abf8db7b538c95d5a10890c21c22b28f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3504e64abf8db7b538c95d5a10890c21c22b28f/comments", "author": null, "committer": null, "parents": [{"sha": "b8807f054bddc0e4014e5879f0fac331cc1a7768", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8807f054bddc0e4014e5879f0fac331cc1a7768", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8807f054bddc0e4014e5879f0fac331cc1a7768"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "99a232e1592bc5b7b2a5157c710062254726d5c6", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=a3504e64abf8db7b538c95d5a10890c21c22b28f", "patch": "@@ -1,4 +1,8 @@\n-2005-06-22 Paul Brook  <paul@codesourcery.com>\n+2005-06-24  Feng Wang  <fengwang@nudt.edu.cn>\n+\n+\t* simplify.c (gfc_simplify_modulo): Don't clear before get result.\n+\n+2005-06-22  Paul Brook  <paul@codesourcery.com>\n \n \tPR fortran/21034\n \t* symbol.c (gfc_is_var_automatic): New function."}, {"sha": "fc3a9cb9aac67a10fc03d3801701e291ec3935fd", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=a3504e64abf8db7b538c95d5a10890c21c22b28f", "patch": "@@ -2231,12 +2231,11 @@ gfc_simplify_modulo (gfc_expr * a, gfc_expr * p)\n       mpfr_div (quot, a->value.real, p->value.real, GFC_RND_MODE);\n       mpfr_floor (iquot, quot);\n       mpfr_mul (term, iquot, p->value.real, GFC_RND_MODE);\n+      mpfr_sub (result->value.real, a->value.real, term, GFC_RND_MODE);\n \n       mpfr_clear (quot);\n       mpfr_clear (iquot);\n       mpfr_clear (term);\n-\n-      mpfr_sub (result->value.real, a->value.real, term, GFC_RND_MODE);\n       break;\n \n     default:"}, {"sha": "413f381bea2daf34a5eb8a79d2073881b6ae2179", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a3504e64abf8db7b538c95d5a10890c21c22b28f", "patch": "@@ -1,3 +1,7 @@\n+2005-06-24  Feng Wang  <fengwang@nudt.edu.cn>\n+\n+\t* gfortran.dg/simplify_modulo.f90: New.\n+\n 2005-06-24  Jan Hubicka  <jh@suse.cz>\n \n \t* gcc.dg/tree-ssa/20040210-1.c: Fix for unit-at-a-time"}, {"sha": "550a3adb9c73555e177b66b6fecdd39e616cedbc", "filename": "gcc/testsuite/gfortran.dg/simplify_modulo.f90", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ftestsuite%2Fgfortran.dg%2Fsimplify_modulo.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a3504e64abf8db7b538c95d5a10890c21c22b28f/gcc%2Ftestsuite%2Fgfortran.dg%2Fsimplify_modulo.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fsimplify_modulo.f90?ref=a3504e64abf8db7b538c95d5a10890c21c22b28f", "patch": "@@ -0,0 +1,5 @@\n+! { dg-do run }\n+\n+if (modulo (-8., -5.) .ne. -3.) call abort ()\n+\n+end"}]}