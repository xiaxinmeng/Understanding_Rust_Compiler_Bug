{"sha": "344e498c7c4a74003f21ce605b499e1d14180561", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ0ZTQ5OGM3YzRhNzQwMDNmMjFjZTYwNWI0OTllMWQxNDE4MDU2MQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-05-26T17:47:25Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-05-26T17:47:25Z"}, "message": "class.c (build_vtable_entry_ref): Correct usage of get_vtbl_decl_for_binfo.\n\n\t* class.c (build_vtable_entry_ref): Correct usage of\n\tget_vtbl_decl_for_binfo.\n\nFrom-SVN: r34195", "tree": {"sha": "9e8a126624a3c74d820e58e1053be78a5d90568c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e8a126624a3c74d820e58e1053be78a5d90568c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/344e498c7c4a74003f21ce605b499e1d14180561", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/344e498c7c4a74003f21ce605b499e1d14180561", "html_url": "https://github.com/Rust-GCC/gccrs/commit/344e498c7c4a74003f21ce605b499e1d14180561", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/344e498c7c4a74003f21ce605b499e1d14180561/comments", "author": null, "committer": null, "parents": [{"sha": "cab8bde98e943c8bd7b01ea71848ceb24ec60b45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cab8bde98e943c8bd7b01ea71848ceb24ec60b45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cab8bde98e943c8bd7b01ea71848ceb24ec60b45"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "656ce2aab1db414b48fa349c3850ac27a20a9656", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=344e498c7c4a74003f21ce605b499e1d14180561", "patch": "@@ -1,5 +1,8 @@\n 2000-05-26  Mark Mitchell  <mark@codesourcery.com>\n \n+\t* class.c (build_vtable_entry_ref): Correct usage of\n+\tget_vtbl_decl_for_binfo.\n+\n \t* decl2.c (grokclassfn): Set DECL_LANGUAGE here.\n \t* method.c (implicitly_declare_fn): Not here.\n "}, {"sha": "2fbdeb4dde4eca2faa27ec6e806f5065c19a4f6c", "filename": "gcc/cp/class.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=344e498c7c4a74003f21ce605b499e1d14180561", "patch": "@@ -485,7 +485,9 @@ build_vtable_entry_ref (basetype, vtbl, idx)\n   static char asm_stmt[] = \".vtable_entry %c0, %c1\";\n   tree s, i, i2;\n \n-  s = build_unary_op (ADDR_EXPR, get_vtbl_decl_for_binfo (basetype), 0);\n+  s = build_unary_op (ADDR_EXPR, \n+\t\t      get_vtbl_decl_for_binfo (TYPE_BINFO (basetype)), \n+\t\t      0);\n   s = build_tree_list (build_string (1, \"s\"), s);\n \n   i = build_array_ref (vtbl, idx);"}, {"sha": "789e3166fb40bda5c41d3a29c2f05001a6259b5b", "filename": "gcc/testsuite/g++.old-deja/g++.other/crash18.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash18.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/344e498c7c4a74003f21ce605b499e1d14180561/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash18.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fcrash18.C?ref=344e498c7c4a74003f21ce605b499e1d14180561", "patch": "@@ -0,0 +1,14 @@\n+// Build don't link:\n+// Special g++ Options: -fvtable-gc\n+// Origin: Mark Mitchell <mitchell@codesourcery.com>\n+\n+struct S {\n+  virtual void f ();\n+};\n+\n+S* s;\n+\n+void g ()\n+{\n+  s->f ();\n+}"}]}