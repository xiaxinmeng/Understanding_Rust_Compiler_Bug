{"sha": "009cf8e01097581fa5a2f9306441ff8c0b03297e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDA5Y2Y4ZTAxMDk3NTgxZmE1YTJmOTMwNjQ0MWZmOGMwYjAzMjk3ZQ==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-03-02T00:41:51Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1994-03-02T00:41:51Z"}, "message": "(all floating point): If -msoft-float, don't allow any\nfloating point builtin operations.\n\nFrom-SVN: r6689", "tree": {"sha": "846eced60ddb59120dc66765ace3861c56e33bb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/846eced60ddb59120dc66765ace3861c56e33bb9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/009cf8e01097581fa5a2f9306441ff8c0b03297e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/009cf8e01097581fa5a2f9306441ff8c0b03297e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/009cf8e01097581fa5a2f9306441ff8c0b03297e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/009cf8e01097581fa5a2f9306441ff8c0b03297e/comments", "author": null, "committer": null, "parents": [{"sha": "97f57b11d418c8a989c6f2ff21294a29b68f5ca6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97f57b11d418c8a989c6f2ff21294a29b68f5ca6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97f57b11d418c8a989c6f2ff21294a29b68f5ca6"}], "stats": {"total": 52, "additions": 26, "deletions": 26}, "files": [{"sha": "11ea2102a8af677028bbfef47c235d08e1d062d0", "filename": "gcc/config/a29k/a29k.md", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/009cf8e01097581fa5a2f9306441ff8c0b03297e/gcc%2Fconfig%2Fa29k%2Fa29k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/009cf8e01097581fa5a2f9306441ff8c0b03297e/gcc%2Fconfig%2Fa29k%2Fa29k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fa29k.md?ref=009cf8e01097581fa5a2f9306441ff8c0b03297e", "patch": "@@ -277,61 +277,61 @@\n (define_insn \"fix_truncsfsi2\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(fix:SI (match_operand:SF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,3,0,1\")\n \n (define_insn \"fix_truncdfsi2\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(fix:SI (match_operand:DF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,3,0,2\")\n \n (define_insn \"fixuns_truncsfsi2\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(unsigned_fix:SI (match_operand:SF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,1,3,0,1\")\n \n (define_insn \"fixuns_truncdfsi2\"\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n \t(unsigned_fix:SI (match_operand:DF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,1,3,0,2\")\n \n (define_insn \"truncdfsf2\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=r\")\n \t(float_truncate:SF (match_operand:DF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,4,1,2\")\n \n (define_insn \"extendsfdf2\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(float_extend:DF (match_operand:SF 1 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,4,2,1\")\n \n (define_insn \"floatsisf2\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=r\")\n \t(float:SF (match_operand:SI 1 \"gpc_reg_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,4,1,0\")\n \n (define_insn \"floatsidf2\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(float:DF (match_operand:SI 1 \"gpc_reg_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,0,4,2,0\")\n \n (define_insn \"floatunssisf2\"\n   [(set (match_operand:SF 0 \"register_operand\" \"=r\")\n \t(unsigned_float:SF (match_operand:SI 1 \"gpc_reg_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,1,4,1,0\")\n \n (define_insn \"floatunssidf2\"\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(unsigned_float:DF (match_operand:SI 1 \"gpc_reg_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"convert %0,%1,1,4,2,0\")\n \f\n ;; CPxxx, DEQ, DGT, DGE, FEQ, FGT, FGE\n@@ -348,7 +348,7 @@\n \t(match_operator 3 \"fp_comparison_operator\"\n \t\t\t[(match_operand:SF 1 \"register_operand\" \"r\")\n \t\t\t (match_operand:SF 2 \"register_operand\" \"r\")]))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"f%J3 %0,%1,%2\"\n   [(set_attr \"type\" \"fadd\")])\n \n@@ -357,7 +357,7 @@\n \t(match_operator 3 \"fp_comparison_operator\"\n \t\t\t[(match_operand:DF 1 \"register_operand\" \"r\")\n \t\t\t (match_operand:DF 2 \"register_operand\" \"r\")]))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"d%J3 %0,%1,%2\"\n   [(set_attr \"type\" \"fadd\")])\n \f\n@@ -366,7 +366,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"\")\n \t(plus:DF (match_operand:DF 1 \"register_operand\" \"\")\n \t\t (match_operand:DF 2 \"register_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -392,7 +392,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(div:DF (match_operand:DF 1 \"register_operand\" \"=r\")\n \t\t(match_operand:DF 2 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"ddiv %0,%1,%2\"\n   [(set_attr \"type\" \"ddiv\")])\n \f\n@@ -535,7 +535,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"\")\n \t(mult:DF (match_operand:DF 1 \"register_operand\" \"\")\n \t\t (match_operand:DF 2 \"register_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -561,7 +561,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(minus:DF (match_operand:DF 1 \"register_operand\" \"r\")\n \t\t  (match_operand:DF 2 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -731,7 +731,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"\")\n \t(plus:SF (match_operand:SF 1 \"register_operand\" \"\")\n \t\t (match_operand:SF 2 \"register_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -757,7 +757,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"=r\")\n \t(div:SF (match_operand:SF 1 \"register_operand\" \"=r\")\n \t\t(match_operand:SF 2 \"register_operand\" \"r\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"fdiv %0,%1,%2\"\n   [(set_attr \"type\" \"fdiv\")])\n \n@@ -766,7 +766,7 @@\n   [(set (match_operand:DF 0 \"register_operand\" \"=r\")\n \t(mult:DF (float_extend:DF (match_operand:SF 1 \"register_operand\" \"%r\"))\n \t\t (float_extend:DF (match_operand:SF 2 \"register_operand\" \"r\"))))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"fdmul %0,%1,%2\")\n \n ;; FMAC/FMSM\n@@ -847,7 +847,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"\")\n \t(mult:SF (match_operand:SF 1 \"register_operand\" \"\")\n \t\t (match_operand:SF 2 \"register_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -873,7 +873,7 @@\n   [(set (match_operand:SF 0 \"register_operand\" \"\")\n \t(minus:SF (match_operand:SF 1 \"register_operand\" \"\")\n \t\t  (match_operand:SF 2 \"register_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\")\n \n (define_insn \"\"\n@@ -1531,7 +1531,7 @@\n   [(parallel [(set (match_operand:SF 0 \"register_operand\" \"\")\n \t\t   (neg:SF (match_operand:SF 1 \"register_operand\" \"\")))\n \t      (clobber (match_scratch:SI 2 \"\"))])]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\n {\n   rtx result;\n@@ -1559,7 +1559,7 @@\n   [(parallel [(set (match_operand:DF 0 \"register_operand\" \"\")\n \t\t   (neg:DF (match_operand:DF 1 \"register_operand\" \"\")))\n \t      (clobber (match_scratch:SI 2 \"\"))])]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\n {\n   rtx result;\n@@ -2430,7 +2430,7 @@\n   [(set (cc0)\n \t(compare (match_operand:SF 0 \"gpc_reg_operand\" \"\")\n \t\t (match_operand:SF 1 \"gpc_reg_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\n {\n   a29k_compare_op0 = operands[0];\n@@ -2443,7 +2443,7 @@\n   [(set (cc0)\n \t(compare (match_operand:DF 0 \"gpc_reg_operand\" \"\")\n \t\t (match_operand:DF 1 \"gpc_reg_operand\" \"\")))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\n {\n   a29k_compare_op0 = operands[0];\n@@ -2663,7 +2663,7 @@\n \t       (match_operand 2 \"gpc_reg_operand\" \"\")))\n    (set (match_operand:SI 0 \"gpc_reg_operand\" \"\")\n \t(ge:SI (match_dup 3) (const_int 0)))]\n-  \"\"\n+  \"! TARGET_SOFT_FLOAT\"\n   \"\n { operands[3] = gen_reg_rtx (SImode);\n }\");"}]}