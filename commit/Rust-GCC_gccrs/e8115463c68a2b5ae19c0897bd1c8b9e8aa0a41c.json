{"sha": "e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgxMTU0NjNjNjhhMmI1YWUxOWMwODk3YmQxYzhiOWU4YWEwYTQxYw==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2003-05-05T23:09:47Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2003-05-05T23:09:47Z"}, "message": "struct-by-value-1_main.c: New test file.\n\n2003-05-05  Janis Johnson  <janis187@us.ibm.com>\n\n\t* gcc.dg/compat/struct-by-value-1_main.c: New test file.\n\t* gcc.dg/compat/struct-by-value-1_x.c: New test file.\n\t* gcc.dg/compat/struct-by-value-1_y.c: New test file.\n\t* gcc.dg/compat/struct-by-value-2_main.c: New test file.\n\t* gcc.dg/compat/struct-by-value-2_x.c: New test file.\n\t* gcc.dg/compat/struct-by-value-2_y.c: New test file.\n\t* gcc.dg/compat/struct-by-value-3_main.c: New test file.\n\t* gcc.dg/compat/struct-by-value-3_x.c: New test file.\n\t* gcc.dg/compat/struct-by-value-3_y.c: New test file.\n\t* gcc.dg/compat/struct-by-value-4_main.c: New test file.\n\t* gcc.dg/compat/struct-by-value-4_x.c: New test file.\n\t* gcc.dg/compat/struct-by-value-4_y.c: New test file.\n\t* gcc.dg/compat/struct-by-value-5_main.c: New test file.\n\t* gcc.dg/compat/struct-by-value-5_x.c: New test file.\n\t* gcc.dg/compat/struct-by-value-5_y.c: New test file.\n\nFrom-SVN: r66509", "tree": {"sha": "d6147feec6dba9b84548c544bb4c4af54d29af2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d6147feec6dba9b84548c544bb4c4af54d29af2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/comments", "author": null, "committer": null, "parents": [{"sha": "8846710195765eba5e23afeea36956fb2ae35e26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8846710195765eba5e23afeea36956fb2ae35e26", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8846710195765eba5e23afeea36956fb2ae35e26"}], "stats": {"total": 2182, "additions": 2182, "deletions": 0}, "files": [{"sha": "a2e5159aed73e0bedf6aa79a066f9b270f89ab44", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -11,6 +11,22 @@\n \t* gcc.dg/compat/scalar-by-value-2_x.c: New test file.\n \t* gcc.dg/compat/scalar-by-value-2_y.c: New test file.\n \n+\t* gcc.dg/compat/struct-by-value-1_main.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-1_x.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-1_y.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-2_main.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-2_x.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-2_y.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-3_main.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-3_x.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-3_y.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-4_main.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-4_x.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-4_y.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-5_main.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-5_x.c: New test file.\n+\t* gcc.dg/compat/struct-by-value-5_y.c: New test file.\n+\n 2003-05-05  Zack Weinberg  <zack@codesourcery.com>\n \n \t* gcc.dg/const-elim-1.c, gcc.dg/const-elim-2.c: New testcases."}, {"sha": "d2f9de505f247c02265043dd5276298a7d97d529", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-1_main.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_main.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,12 @@\n+/* Test structure passing by value, using a test from gcc.dg.\n+   Each struct that is passed contains an array of unsigned char.  */\n+\n+extern void struct_by_value_1_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_1_x ();\n+  exit (0);\n+}"}, {"sha": "692af0d2b45348e58468a924f95ec1a3478cf5d8", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-1_x.c", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_x.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,63 @@\n+#define T(N)\t\t\t\t\t\t\t\\\n+struct S##N { unsigned char i[N]; };\t\t\t\t\\\n+struct S##N g1s##N, g2s##N, g3s##N;\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##N (struct S##N *p, int i);\t\t\t\\\n+extern void checkg##N (void);\t\t\t\t\t\\\n+extern void test##N (struct S##N s1,\t\t\t\t\\\n+    struct S##N s2, struct S##N s3);\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+check##N (struct S##N x, int i)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    if (x.i[j] != i + j) abort ();\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##N (struct S##N s1, struct S##N s2)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##N (s1, g2s##N, s2);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  init##N (&g1s##N, 64);\t\t\t\t\t\\\n+  init##N (&g2s##N, 128);\t\t\t\t\t\\\n+  init##N (&g3s##N, 192);\t\t\t\t\t\\\n+  checkg##N ();\t\t\t\t\t\t\t\\\n+  test##N (g1s##N, g2s##N, g3s##N);\t\t\t\t\\\n+  test2_##N (g1s##N, g3s##N);\t\t\t\t\t\\\n+}\n+\n+extern void abort (void);\n+\n+T(0) T(1) T(2) T(3) T(4) T(5) T(6) T(7)\n+T(8) T(9) T(10) T(11) T(12) T(13) T(14) T(15)\n+T(16) T(17) T(18) T(19) T(20) T(21) T(22) T(23)\n+T(24) T(25) T(26) T(27) T(28) T(29) T(30) T(31)\n+T(32) T(33) T(34) T(35) T(36) T(37) T(38) T(39)\n+T(40) T(41) T(42) T(43) T(44) T(45) T(46) T(47)\n+T(48) T(49) T(50) T(51) T(52) T(53) T(54) T(55)\n+T(56) T(57) T(58) T(59) T(60) T(61) T(62) T(63)\n+\n+#undef T\n+\n+void\n+struct_by_value_1_x ()\n+{\n+#define T(N) testit##N ();\n+\n+T(0) T(1) T(2) T(3) T(4) T(5) T(6) T(7)\n+T(8) T(9) T(10) T(11) T(12) T(13) T(14) T(15)\n+T(16) T(17) T(18) T(19) T(20) T(21) T(22) T(23)\n+T(24) T(25) T(26) T(27) T(28) T(29) T(30) T(31)\n+T(32) T(33) T(34) T(35) T(36) T(37) T(38) T(39)\n+T(40) T(41) T(42) T(43) T(44) T(45) T(46) T(47)\n+T(48) T(49) T(50) T(51) T(52) T(53) T(54) T(55)\n+T(56) T(57) T(58) T(59) T(60) T(61) T(62) T(63)\n+\n+#undef T\n+}"}, {"sha": "72eb05a647f31fc1ab556a802858e34968eec4c1", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-1_y.c", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-1_y.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,40 @@\n+#define T(N)\t\t\t\t\t\t\t\\\n+struct S##N { unsigned char i[N]; };\t\t\t\t\\\n+extern struct S##N g1s##N, g2s##N, g3s##N;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##N (struct S##N x, int i);\t\t\t\\\n+extern void test2_##N (struct S##N s1, struct S##N s2);\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+init##N (struct S##N *p, int i)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    p->i[j] = i + j;\t\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##N (g1s##N, 64);\t\t\t\t\t\\\n+  check##N (g2s##N, 128);\t\t\t\t\t\\\n+  check##N (g3s##N, 192);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##N (struct S##N s1, struct S##N s2,\t\t\t\\\n+\t\t\t struct S##N s3)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##N (s1, 64);\t\t\t\t\t\t\\\n+  check##N (s2, 128);\t\t\t\t\t\t\\\n+  check##N (s3, 192);\t\t\t\t\t\t\\\n+}\n+\n+T(0) T(1) T(2) T(3) T(4) T(5) T(6) T(7)\n+T(8) T(9) T(10) T(11) T(12) T(13) T(14) T(15)\n+T(16) T(17) T(18) T(19) T(20) T(21) T(22) T(23)\n+T(24) T(25) T(26) T(27) T(28) T(29) T(30) T(31)\n+T(32) T(33) T(34) T(35) T(36) T(37) T(38) T(39)\n+T(40) T(41) T(42) T(43) T(44) T(45) T(46) T(47)\n+T(48) T(49) T(50) T(51) T(52) T(53) T(54) T(55)\n+T(56) T(57) T(58) T(59) T(60) T(61) T(62) T(63)"}, {"sha": "621c65460b6e79de94dbc4482c6d25f8d00d9032", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-2_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_main.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument list.\n+   This test is based on one contributed by Alan Modra.  */\n+\n+extern void struct_by_value_2_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_2_x ();\n+  exit (0);\n+}"}, {"sha": "79c47ce028293baa2e361361156628b1839e785b", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-2_x.c", "status": "added", "additions": 221, "deletions": 0, "changes": 221, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_x.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,221 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define T(N, NAME, TYPE)\t\t\t\t\t\\\n+struct S##NAME##N { TYPE i[N]; };\t\t\t\t\\\n+struct S##NAME##N g1s##NAME##N, g2s##NAME##N;\t\t\t\\\n+struct S##NAME##N g3s##NAME##N, g4s##NAME##N;\t\t\t\\\n+struct S##NAME##N g5s##NAME##N, g6s##NAME##N;\t\t\t\\\n+struct S##NAME##N g7s##NAME##N, g8s##NAME##N;\t\t\t\\\n+struct S##NAME##N g9s##NAME##N, g10s##NAME##N;\t\t\t\\\n+struct S##NAME##N g11s##NAME##N, g12s##NAME##N;\t\t\t\\\n+struct S##NAME##N g13s##NAME##N, g14s##NAME##N;\t\t\t\\\n+struct S##NAME##N g15s##NAME##N, g16s##NAME##N;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##NAME##N (struct S##NAME##N *p, int i);\t\\\n+extern void checkg##NAME##N (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##NAME##N (struct S##NAME##N s1, struct S##NAME##N s2,\t\\\n+\t       struct S##NAME##N s3, struct S##NAME##N s4,\t\\\n+\t       struct S##NAME##N s5, struct S##NAME##N s6,\t\\\n+\t       struct S##NAME##N s7, struct S##NAME##N s8,\t\\\n+\t       struct S##NAME##N s9, struct S##NAME##N s10,\t\\\n+\t       struct S##NAME##N s11, struct S##NAME##N s12,\t\\\n+\t       struct S##NAME##N s13, struct S##NAME##N s14,\t\\\n+\t       struct S##NAME##N s15, struct S##NAME##N s16);\t\\\n+extern void testva##NAME##N (int n, ...);\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test2_##NAME##N (struct S##NAME##N s1, struct S##NAME##N s2,\t\\\n+\t\t struct S##NAME##N s3, struct S##NAME##N s4,\t\\\n+\t\t struct S##NAME##N s5, struct S##NAME##N s6,\t\\\n+\t\t struct S##NAME##N s7, struct S##NAME##N s8);\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+check##NAME##N (struct S##NAME##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    if (p->i[j] != (TYPE) (i + j))\t\t\t\t\\\n+      {\t\t\t\t\t\t\t\t\\\n+\tDEBUG_NL;\t\t\t\t\t\t\\\n+\tabort ();\t\t\t\t\t\t\\\n+      }\t\t\t\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##NAME##N (struct S##NAME##N s1, struct S##NAME##N s2,\t\\\n+\t\t struct S##NAME##N s3, struct S##NAME##N s4,\t\\\n+\t\t struct S##NAME##N s5, struct S##NAME##N s6,\t\\\n+\t\t struct S##NAME##N s7, struct S##NAME##N s8)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##NAME##N (s1, g2s##NAME##N, s2, g4s##NAME##N,\t\t\\\n+\t\t s3, g6s##NAME##N, s4, g8s##NAME##N,\t\t\\\n+\t\t s5, g10s##NAME##N, s6, g12s##NAME##N,\t\t\\\n+\t\t s7, g14s##NAME##N, s8, g16s##NAME##N);\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##NAME##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#NAME \"[\" #N \"]\");\t\t\t\t\\\n+  init##NAME##N  ( &g1s##NAME##N,  1*16);\t\t\t\\\n+  init##NAME##N  ( &g2s##NAME##N,  2*16);\t\t\t\\\n+  init##NAME##N  ( &g3s##NAME##N,  3*16);\t\t\t\\\n+  init##NAME##N  ( &g4s##NAME##N,  4*16);\t\t\t\\\n+  init##NAME##N  ( &g5s##NAME##N,  5*16);\t\t\t\\\n+  init##NAME##N  ( &g6s##NAME##N,  6*16);\t\t\t\\\n+  init##NAME##N  ( &g7s##NAME##N,  7*16);\t\t\t\\\n+  init##NAME##N  ( &g8s##NAME##N,  8*16);\t\t\t\\\n+  init##NAME##N  ( &g9s##NAME##N,  9*16);\t\t\t\\\n+  init##NAME##N  (&g10s##NAME##N, 10*16);\t\t\t\\\n+  init##NAME##N  (&g11s##NAME##N, 11*16);\t\t\t\\\n+  init##NAME##N  (&g12s##NAME##N, 12*16);\t\t\t\\\n+  init##NAME##N  (&g13s##NAME##N, 13*16);\t\t\t\\\n+  init##NAME##N  (&g14s##NAME##N, 14*16);\t\t\t\\\n+  init##NAME##N  (&g15s##NAME##N, 15*16);\t\t\t\\\n+  init##NAME##N  (&g16s##NAME##N, 16*16);\t\t\t\\\n+  checkg##NAME##N ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##NAME##N (g1s##NAME##N, g2s##NAME##N,\t\t\t\\\n+\t\t g3s##NAME##N, g4s##NAME##N,\t\t\t\\\n+\t\t g5s##NAME##N, g6s##NAME##N,\t\t\t\\\n+\t\t g7s##NAME##N, g8s##NAME##N,\t\t\t\\\n+\t\t g9s##NAME##N, g10s##NAME##N,\t\t\t\\\n+\t\t g11s##NAME##N, g12s##NAME##N,\t\t\t\\\n+\t\t g13s##NAME##N, g14s##NAME##N,\t\t\t\\\n+\t\t g15s##NAME##N, g16s##NAME##N);\t\t\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##NAME##N (16,\t\t\t\t\t\t\\\n+\t\t   g1s##NAME##N, g2s##NAME##N,\t\t\t\\\n+\t\t   g3s##NAME##N, g4s##NAME##N,\t\t\t\\\n+\t\t   g5s##NAME##N, g6s##NAME##N,\t\t\t\\\n+\t\t   g7s##NAME##N, g8s##NAME##N,\t\t\t\\\n+\t\t   g9s##NAME##N, g10s##NAME##N,\t\t\t\\\n+\t\t   g11s##NAME##N, g12s##NAME##N,\t\t\\\n+\t\t   g13s##NAME##N, g14s##NAME##N,\t\t\\\n+\t\t   g15s##NAME##N, g16s##NAME##N);\t\t\\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##NAME##N (g1s##NAME##N, g3s##NAME##N,\t\t\t\\\n+\t\t   g5s##NAME##N, g7s##NAME##N,\t\t\t\\\n+\t\t   g9s##NAME##N, g11s##NAME##N,\t\t\t\\\n+\t\t   g13s##NAME##N, g15s##NAME##N);\t\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+extern void abort (void);\n+\n+T(0, uc, unsigned char)\n+T(1, uc, unsigned char)\n+T(2, uc, unsigned char)\n+T(3, uc, unsigned char)\n+T(4, uc, unsigned char)\n+T(5, uc, unsigned char)\n+T(6, uc, unsigned char)\n+T(7, uc, unsigned char)\n+T(8, uc, unsigned char)\n+T(9, uc, unsigned char)\n+T(10, uc, unsigned char)\n+T(11, uc, unsigned char)\n+T(12, uc, unsigned char)\n+T(13, uc, unsigned char)\n+T(14, uc, unsigned char)\n+T(15, uc, unsigned char)\n+T(0, us, unsigned short)\n+T(1, us, unsigned short)\n+T(2, us, unsigned short)\n+T(3, us, unsigned short)\n+T(4, us, unsigned short)\n+T(5, us, unsigned short)\n+T(6, us, unsigned short)\n+T(7, us, unsigned short)\n+T(8, us, unsigned short)\n+T(9, us, unsigned short)\n+T(10, us, unsigned short)\n+T(11, us, unsigned short)\n+T(12, us, unsigned short)\n+T(13, us, unsigned short)\n+T(14, us, unsigned short)\n+T(15, us, unsigned short)\n+T(0, ui, unsigned int)\n+T(1, ui, unsigned int)\n+T(2, ui, unsigned int)\n+T(3, ui, unsigned int)\n+T(4, ui, unsigned int)\n+T(5, ui, unsigned int)\n+T(6, ui, unsigned int)\n+T(7, ui, unsigned int)\n+T(8, ui, unsigned int)\n+T(9, ui, unsigned int)\n+T(10, ui, unsigned int)\n+T(11, ui, unsigned int)\n+T(12, ui, unsigned int)\n+T(13, ui, unsigned int)\n+T(14, ui, unsigned int)\n+T(15, ui, unsigned int)\n+\n+#undef T\n+\n+void\n+struct_by_value_2_x ()\n+{\n+#define T(N, NAME, TYPE) testit##NAME##N ();\n+\n+T(0, uc, unsigned char)\n+T(1, uc, unsigned char)\n+T(2, uc, unsigned char)\n+T(3, uc, unsigned char)\n+T(4, uc, unsigned char)\n+T(5, uc, unsigned char)\n+T(6, uc, unsigned char)\n+T(7, uc, unsigned char)\n+T(8, uc, unsigned char)\n+T(9, uc, unsigned char)\n+T(10, uc, unsigned char)\n+T(11, uc, unsigned char)\n+T(12, uc, unsigned char)\n+T(13, uc, unsigned char)\n+T(14, uc, unsigned char)\n+T(15, uc, unsigned char)\n+T(0, us, unsigned short)\n+T(1, us, unsigned short)\n+T(2, us, unsigned short)\n+T(3, us, unsigned short)\n+T(4, us, unsigned short)\n+T(5, us, unsigned short)\n+T(6, us, unsigned short)\n+T(7, us, unsigned short)\n+T(8, us, unsigned short)\n+T(9, us, unsigned short)\n+T(10, us, unsigned short)\n+T(11, us, unsigned short)\n+T(12, us, unsigned short)\n+T(13, us, unsigned short)\n+T(14, us, unsigned short)\n+T(15, us, unsigned short)\n+T(0, ui, unsigned int)\n+T(1, ui, unsigned int)\n+T(2, ui, unsigned int)\n+T(3, ui, unsigned int)\n+T(4, ui, unsigned int)\n+T(5, ui, unsigned int)\n+T(6, ui, unsigned int)\n+T(7, ui, unsigned int)\n+T(8, ui, unsigned int)\n+T(9, ui, unsigned int)\n+T(10, ui, unsigned int)\n+T(11, ui, unsigned int)\n+T(12, ui, unsigned int)\n+T(13, ui, unsigned int)\n+T(14, ui, unsigned int)\n+T(15, ui, unsigned int)\n+\n+#undef T\n+}"}, {"sha": "1e843853d0dc5335a3008ed88c5daf4faf8afe13", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-2_y.c", "status": "added", "additions": 178, "deletions": 0, "changes": 178, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-2_y.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,178 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+#define T(N, NAME, TYPE)\t\t\t\t\t\\\n+struct S##NAME##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern struct S##NAME##N g1s##NAME##N, g2s##NAME##N;\t\t\\\n+extern struct S##NAME##N g3s##NAME##N, g4s##NAME##N;\t\t\\\n+extern struct S##NAME##N g5s##NAME##N, g6s##NAME##N;\t\t\\\n+extern struct S##NAME##N g7s##NAME##N, g8s##NAME##N;\t\t\\\n+extern struct S##NAME##N g9s##NAME##N, g10s##NAME##N;\t\t\\\n+extern struct S##NAME##N g11s##NAME##N, g12s##NAME##N;\t\t\\\n+extern struct S##NAME##N g13s##NAME##N, g14s##NAME##N;\t\t\\\n+extern struct S##NAME##N g15s##NAME##N, g16s##NAME##N;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##NAME##N (struct S##NAME##N *p, int i);\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test2_##NAME##N (struct S##NAME##N s1, struct S##NAME##N s2,\t\\\n+\t\t struct S##NAME##N s3, struct S##NAME##N s4,\t\\\n+\t\t struct S##NAME##N s5, struct S##NAME##N s6,\t\\\n+\t\t struct S##NAME##N s7, struct S##NAME##N s8);\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+init##NAME##N (struct S##NAME##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    p->i[j] = i + j;\t\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##NAME##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##NAME##N ( &g1s##NAME##N,  1*16);\t\t\t\\\n+  check##NAME##N ( &g2s##NAME##N,  2*16);\t\t\t\\\n+  check##NAME##N ( &g3s##NAME##N,  3*16);\t\t\t\\\n+  check##NAME##N ( &g4s##NAME##N,  4*16);\t\t\t\\\n+  check##NAME##N ( &g5s##NAME##N,  5*16);\t\t\t\\\n+  check##NAME##N ( &g6s##NAME##N,  6*16);\t\t\t\\\n+  check##NAME##N ( &g7s##NAME##N,  7*16);\t\t\t\\\n+  check##NAME##N ( &g8s##NAME##N,  8*16);\t\t\t\\\n+  check##NAME##N ( &g9s##NAME##N,  9*16);\t\t\t\\\n+  check##NAME##N (&g10s##NAME##N, 10*16);\t\t\t\\\n+  check##NAME##N (&g11s##NAME##N, 11*16);\t\t\t\\\n+  check##NAME##N (&g12s##NAME##N, 12*16);\t\t\t\\\n+  check##NAME##N (&g13s##NAME##N, 13*16);\t\t\t\\\n+  check##NAME##N (&g14s##NAME##N, 14*16);\t\t\t\\\n+  check##NAME##N (&g15s##NAME##N, 15*16);\t\t\t\\\n+  check##NAME##N (&g16s##NAME##N, 16*16);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##NAME##N (struct S##NAME##N s1, struct S##NAME##N s2,\t\\\n+\t       struct S##NAME##N s3, struct S##NAME##N s4,\t\\\n+\t       struct S##NAME##N s5, struct S##NAME##N s6,\t\\\n+\t       struct S##NAME##N s7, struct S##NAME##N s8,\t\\\n+\t       struct S##NAME##N s9, struct S##NAME##N s10,\t\\\n+\t       struct S##NAME##N s11, struct S##NAME##N s12,\t\\\n+\t       struct S##NAME##N s13, struct S##NAME##N s14,\t\\\n+\t       struct S##NAME##N s15, struct S##NAME##N s16)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s1, 1*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s2, 2*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s3, 3*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s4, 4*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s5, 5*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s6, 6*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s7, 7*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s8, 8*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s9, 9*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s10, 10*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s11, 11*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s12, 12*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s13, 13*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s14, 14*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s15, 15*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##NAME##N (&s16, 16*16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##NAME##N (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  struct S##NAME##N t = va_arg (ap, struct S##NAME##N);\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##NAME##N (&t, (i+1)*16);\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+T(0, uc, unsigned char)\n+T(1, uc, unsigned char)\n+T(2, uc, unsigned char)\n+T(3, uc, unsigned char)\n+T(4, uc, unsigned char)\n+T(5, uc, unsigned char)\n+T(6, uc, unsigned char)\n+T(7, uc, unsigned char)\n+T(8, uc, unsigned char)\n+T(9, uc, unsigned char)\n+T(10, uc, unsigned char)\n+T(11, uc, unsigned char)\n+T(12, uc, unsigned char)\n+T(13, uc, unsigned char)\n+T(14, uc, unsigned char)\n+T(15, uc, unsigned char)\n+T(0, us, unsigned short)\n+T(1, us, unsigned short)\n+T(2, us, unsigned short)\n+T(3, us, unsigned short)\n+T(4, us, unsigned short)\n+T(5, us, unsigned short)\n+T(6, us, unsigned short)\n+T(7, us, unsigned short)\n+T(8, us, unsigned short)\n+T(9, us, unsigned short)\n+T(10, us, unsigned short)\n+T(11, us, unsigned short)\n+T(12, us, unsigned short)\n+T(13, us, unsigned short)\n+T(14, us, unsigned short)\n+T(15, us, unsigned short)\n+T(0, ui, unsigned int)\n+T(1, ui, unsigned int)\n+T(2, ui, unsigned int)\n+T(3, ui, unsigned int)\n+T(4, ui, unsigned int)\n+T(5, ui, unsigned int)\n+T(6, ui, unsigned int)\n+T(7, ui, unsigned int)\n+T(8, ui, unsigned int)\n+T(9, ui, unsigned int)\n+T(10, ui, unsigned int)\n+T(11, ui, unsigned int)\n+T(12, ui, unsigned int)\n+T(13, ui, unsigned int)\n+T(14, ui, unsigned int)\n+T(15, ui, unsigned int)"}, {"sha": "86fb4a36646654bfed241f5d34d12dd1a7c74389", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-3_main.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_main.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,14 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument list.  All struct members are scalar\n+   integral types, and the structs are \"small\": 1, 2, 4, 8, and 12\n+   bytes for LP64.  */\n+\n+extern void struct_by_value_3_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_3_x ();\n+  exit (0);\n+}"}, {"sha": "596a420ff4bc29dd73c03b91fe952712e99440f8", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-3_x.c", "status": "added", "additions": 212, "deletions": 0, "changes": 212, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_x.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,212 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define T(TYPE)\t\t\t\t\t\t\t\\\n+TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\t\\\n+TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, int i);\t\t\t\\\n+extern void checkg##TYPE (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16);\t\t\\\n+extern void testva##TYPE (int n, ...);\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\\\n+\t      TYPE s5, TYPE s6, TYPE s7, TYPE s8)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE (s1, g2s##TYPE, s2, g4s##TYPE,\t\t\t\\\n+\t      s3, g6s##TYPE, s4, g8s##TYPE,\t\t\t\\\n+\t      s5, g10s##TYPE, s6, g12s##TYPE,\t\t\t\\\n+\t      s7, g14s##TYPE, s8, g16s##TYPE);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE);\t\t\t\t\t\t\\\n+  init##TYPE  ( &g1s##TYPE,  1);\t\t\t\t\\\n+  init##TYPE  ( &g2s##TYPE,  2);\t\t\t\t\\\n+  init##TYPE  ( &g3s##TYPE,  3);\t\t\t\t\\\n+  init##TYPE  ( &g4s##TYPE,  4);\t\t\t\t\\\n+  init##TYPE  ( &g5s##TYPE,  5);\t\t\t\t\\\n+  init##TYPE  ( &g6s##TYPE,  6);\t\t\t\t\\\n+  init##TYPE  ( &g7s##TYPE,  7);\t\t\t\t\\\n+  init##TYPE  ( &g8s##TYPE,  8);\t\t\t\t\\\n+  init##TYPE  ( &g9s##TYPE,  9);\t\t\t\t\\\n+  init##TYPE  (&g10s##TYPE, 10);\t\t\t\t\\\n+  init##TYPE  (&g11s##TYPE, 11);\t\t\t\t\\\n+  init##TYPE  (&g12s##TYPE, 12);\t\t\t\t\\\n+  init##TYPE  (&g13s##TYPE, 13);\t\t\t\t\\\n+  init##TYPE  (&g14s##TYPE, 14);\t\t\t\t\\\n+  init##TYPE  (&g15s##TYPE, 15);\t\t\t\t\\\n+  init##TYPE  (&g16s##TYPE, 16);\t\t\t\t\\\n+  checkg##TYPE ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE (g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t      g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t      g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t      g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE);\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE (1,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (2,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE);\t\t\t\t\\\n+  testva##TYPE (3,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE);\t\t\\\n+  testva##TYPE (4,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE);\t\\\n+  testva##TYPE (5,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (6,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE);\t\t\t\t\\\n+  testva##TYPE (7,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE);\t\t\\\n+  testva##TYPE (8,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE);\t\\\n+  testva##TYPE (9,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (10,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE);\t\t\t\t\\\n+  testva##TYPE (11,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE);\t\t\\\n+  testva##TYPE (12,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE);\t\\\n+  testva##TYPE (13,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (14,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE);\t\t\t\\\n+  testva##TYPE (15,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE);\t\t\\\n+  testva##TYPE (16,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE); \\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE (g1s##TYPE, g3s##TYPE, g5s##TYPE, g7s##TYPE,\t\\\n+\t\tg9s##TYPE, g11s##TYPE, g13s##TYPE, g15s##TYPE);\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { char c; short s; } Scs;\n+typedef struct { int i; char c; } Sic;\n+typedef struct { char c; int i; } Sci;\n+typedef struct { short s; int i; } Ssi;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+typedef struct { short s; char c; int i; } Ssci;\n+typedef struct { short s; int i; char c; } Ssic;\n+typedef struct { int i; short s; char c; } Sisc;\n+typedef struct { int i; char c; short s; } Sics;\n+\n+extern void abort (void);\n+\n+void checkSc (Sc x, int i) { if (x.c != (char)i) { DEBUG_NL; abort (); } }\n+void checkSs (Ss x, int i) { if (x.s != i) { DEBUG_NL; abort (); } }\n+void checkSi (Si x, int i) { if (x.i != i) { DEBUG_NL; abort (); } }\n+void checkSsc (Ssc x, int i)\n+{ if (x.s != i || x.c != (char)i+1) { DEBUG_NL; abort (); } }\n+void checkScs (Scs x, int i)\n+{ if (x.c != (char)i || x.s != i+1) { DEBUG_NL; abort (); } }\n+void checkSsi (Ssi x, int i)\n+{ if (x.s != i || x.i != i+1) { DEBUG_NL; abort (); } }\n+void checkSis (Sis x, int i)\n+{ if (x.i != i || x.s != i+1) { DEBUG_NL; abort (); } }\n+void checkSic (Sic x, int i)\n+{ if (x.i != i || x.c != (char)i+1) { DEBUG_NL; abort (); } }\n+void checkSci (Sci x, int i)\n+{ if (x.c != (char)i || x.i != i+1) { DEBUG_NL; abort (); } }\n+void checkScsi (Scsi x, int i)\n+{ if (x.c != (char)i || x.s != i+1 || x.i != i+2) { DEBUG_NL; abort (); } }\n+void checkScis (Scis x, int i)\n+{ if (x.c != (char)i || x.i != i+1 || x.s != i+2) { DEBUG_NL; abort (); } }\n+void checkSsci (Ssci x, int i)\n+{ if (x.s != i || x.c != (char)i+1 || x.i != i+2) { DEBUG_NL; abort (); } }\n+void checkSsic (Ssic x, int i)\n+{ if (x.s != i || x.i != i+1 || x.c != (char)i+2) { DEBUG_NL; abort (); } }\n+void checkSisc (Sisc x, int i)\n+{ if (x.i != i || x.s != i+1 || x.c != (char)i+2) { DEBUG_NL; abort (); } }\n+void checkSics (Sics x, int i)\n+{ if (x.i != i || x.c != (char)i+1 || x.s != i+2) { DEBUG_NL; abort (); } }\n+\n+T(Sc)\n+T(Ss)\n+T(Si)\n+T(Scs)\n+T(Ssc)\n+T(Sic)\n+T(Sci)\n+T(Ssi)\n+T(Sis)\n+T(Scsi)\n+T(Scis)\n+T(Ssci)\n+T(Ssic)\n+T(Sisc)\n+T(Sics)\n+\n+#undef T\n+\n+void\n+struct_by_value_3_x ()\n+{\n+#define T(TYPE) testit##TYPE ();\n+\n+T(Sc)\n+T(Ss)\n+T(Si)\n+T(Scs)\n+T(Ssc)\n+T(Sic)\n+T(Sci)\n+T(Ssi)\n+T(Sis)\n+T(Scsi)\n+T(Scis)\n+T(Ssci)\n+T(Ssic)\n+T(Sisc)\n+T(Sics)\n+\n+#undef T\n+}"}, {"sha": "4181c325c733cc9bf6c54c6fc567df12d3658589", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-3_y.c", "status": "added", "additions": 168, "deletions": 0, "changes": 168, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-3_y.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,168 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { char c; short s; } Scs;\n+typedef struct { int i; char c; } Sic;\n+typedef struct { char c; int i; } Sci;\n+typedef struct { short s; int i; } Ssi;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+typedef struct { short s; char c; int i; } Ssci;\n+typedef struct { short s; int i; char c; } Ssic;\n+typedef struct { int i; short s; char c; } Sisc;\n+typedef struct { int i; char c; short s; } Sics;\n+\n+extern void checkSc (Sc x, int i);\n+extern void checkSs (Ss x, int i);\n+extern void checkSi (Si x, int i);\n+extern void checkSsc (Ssc x, int i);\n+extern void checkScs (Scs x, int i);\n+extern void checkSsi (Ssi x, int i);\n+extern void checkSis (Sis x, int i);\n+extern void checkSic (Sic x, int i);\n+extern void checkSci (Sci x, int i);\n+extern void checkScsi (Scsi x, int i);\n+extern void checkScis (Scis x, int i);\n+extern void checkSsci (Ssci x, int i);\n+extern void checkSsic (Ssic x, int i);\n+extern void checkSisc (Sisc x, int i);\n+extern void checkSics (Sics x, int i);\n+\n+void initSc (Sc *p, int i) { p->c = (char)i; }\n+void initSs (Ss *p, int i) { p->s = i; }\n+void initSi (Si *p, int i) { p->i = i; }\n+void initSsc (Ssc *p, int i) { p->s = i; p->c = (char)i+1; }\n+void initScs (Scs *p, int i) { p->c = (char)i; p->s = i+1; }\n+void initSsi (Ssi *p, int i) { p->s = i; p->i = i+1; }\n+void initSis (Sis *p, int i) { p->i = i; p->s = i+1; }\n+void initSic (Sic *p, int i) { p->i = i; p->c = (char)i+1; }\n+void initSci (Sci *p, int i) { p->c = (char)i; p->i = i+1; }\n+void initScsi (Scsi *p, int i) { p->c = (char)i; p->s = i+1; p->i = i+2; }\n+void initScis (Scis *p, int i) { p->c = (char)i; p->i = i+1; p->s = i+2; }\n+void initSsci (Ssci *p, int i) { p->s = i; p->c = (char)i+1; p->i = i+2; }\n+void initSsic (Ssic *p, int i) { p->s = i; p->i = i+1; p->c = (char)i+2; }\n+void initSisc (Sisc *p, int i) { p->i = i; p->s = i+1; p->c = (char)i+2; }\n+void initSics (Sics *p, int i) { p->i = i; p->c = (char)i+1; p->s = i+2; }\n+\n+#define T(TYPE)\t\t\t\t\t\t\t\\\n+extern TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+extern TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+extern TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\\\n+extern TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE (  g1s##TYPE,  1);\t\t\t\t\\\n+  check##TYPE (  g2s##TYPE,  2);\t\t\t\t\\\n+  check##TYPE (  g3s##TYPE,  3);\t\t\t\t\\\n+  check##TYPE (  g4s##TYPE,  4);\t\t\t\t\\\n+  check##TYPE (  g5s##TYPE,  5);\t\t\t\t\\\n+  check##TYPE (  g6s##TYPE,  6);\t\t\t\t\\\n+  check##TYPE (  g7s##TYPE,  7);\t\t\t\t\\\n+  check##TYPE (  g8s##TYPE,  8);\t\t\t\t\\\n+  check##TYPE (  g9s##TYPE,  9);\t\t\t\t\\\n+  check##TYPE ( g10s##TYPE, 10);\t\t\t\t\\\n+  check##TYPE ( g11s##TYPE, 11);\t\t\t\t\\\n+  check##TYPE ( g12s##TYPE, 12);\t\t\t\t\\\n+  check##TYPE ( g13s##TYPE, 13);\t\t\t\t\\\n+  check##TYPE ( g14s##TYPE, 14);\t\t\t\t\\\n+  check##TYPE ( g15s##TYPE, 15);\t\t\t\t\\\n+  check##TYPE ( g16s##TYPE, 16);\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s1, 1);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s2, 2);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s3, 3);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s4, 4);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s5, 5);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s6, 6);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s7, 7);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s8, 8);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s9, 9);\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s10, 10);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s11, 11);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s12, 12);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s13, 13);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s14, 14);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s15, 15);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s16, 16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  TYPE t = va_arg (ap, TYPE);\t\t\t\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE (t, i+1);\t\t\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+T(Sc)\n+T(Ss)\n+T(Si)\n+T(Ssc)\n+T(Scs)\n+T(Sic)\n+T(Sci)\n+T(Ssi)\n+T(Sis)\n+T(Scsi)\n+T(Scis)\n+T(Ssci)\n+T(Ssic)\n+T(Sisc)\n+T(Sics)"}, {"sha": "22b92d7ac18889863b1b495d7b2cef66381b388d", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_main.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument list.  Each struct contains an array\n+   of small structs:  1, 2, 4, 8, and 12 bytes for LP64.  */ \n+\n+extern void struct_by_value_4_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_4_x ();\n+  exit (0);\n+}"}, {"sha": "9ff53ef8a1112137b11eb05da3b3d684faf26435", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_x.c", "status": "added", "additions": 370, "deletions": 0, "changes": 370, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_x.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,370 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\t\\\n+struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, int i);\t\t\t\\\n+extern void checkg##TYPE##N (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16);\t\\\n+extern void testva##TYPE##N (int n, ...);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+init##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    init##TYPE(&p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i)\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int j;\t\t\t\t\t\t\t\\\n+  for (j = 0; j < N; j++)\t\t\t\t\t\\\n+    check##TYPE(p->i[j], i+j);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t\t struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t\t struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t\t struct S##TYPE##N s7, struct S##TYPE##N s8)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE##N (s1, g2s##TYPE##N, s2, g4s##TYPE##N,\t\t\\\n+\t\t s3, g6s##TYPE##N, s4, g8s##TYPE##N,\t\t\\\n+\t\t s5, g10s##TYPE##N, s6, g12s##TYPE##N,\t\t\\\n+\t\t s7, g14s##TYPE##N, s8, g16s##TYPE##N);\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE \"[\" #N \"]\");\t\t\t\t\\\n+  init##TYPE##N  ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  init##TYPE##N  ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  init##TYPE##N  ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  init##TYPE##N  ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  init##TYPE##N  ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  init##TYPE##N  ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  init##TYPE##N  ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  init##TYPE##N  ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  init##TYPE##N  ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  init##TYPE##N  (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  init##TYPE##N  (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  init##TYPE##N  (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  init##TYPE##N  (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  init##TYPE##N  (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  init##TYPE##N  (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  init##TYPE##N  (&g16s##TYPE##N, 16*16);\t\t\t\\\n+  checkg##TYPE##N ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE##N (g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t g11s##TYPE##N, g12s##TYPE##N,\t\t\t\\\n+\t\t g13s##TYPE##N, g14s##TYPE##N,\t\t\t\\\n+\t\t g15s##TYPE##N, g16s##TYPE##N);\t\t\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE##N (16,\t\t\t\t\t\t\\\n+\t\t   g1s##TYPE##N, g2s##TYPE##N,\t\t\t\\\n+\t\t   g3s##TYPE##N, g4s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g6s##TYPE##N,\t\t\t\\\n+\t\t   g7s##TYPE##N, g8s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g10s##TYPE##N,\t\t\t\\\n+\t\t   g11s##TYPE##N, g12s##TYPE##N,\t\t\\\n+\t\t   g13s##TYPE##N, g14s##TYPE##N,\t\t\\\n+\t\t   g15s##TYPE##N, g16s##TYPE##N);\t\t\\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE##N (g1s##TYPE##N, g3s##TYPE##N,\t\t\t\\\n+\t\t   g5s##TYPE##N, g7s##TYPE##N,\t\t\t\\\n+\t\t   g9s##TYPE##N, g11s##TYPE##N,\t\t\t\\\n+\t\t   g13s##TYPE##N, g15s##TYPE##N);\t\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+extern void abort (void);\n+\n+void checkSc (Sc x, int i) { if (x.c != i/16) { DEBUG_NL; abort (); } }\n+void checkSs (Ss x, int i) { if (x.s != i) { DEBUG_NL; abort (); } }\n+void checkSi (Si x, int i) { if (x.i != i) { DEBUG_NL; abort (); } }\n+void checkSsc (Ssc x, int i)\n+{ if (x.s != i || x.c != (i/16)+1) { DEBUG_NL; abort (); } }\n+void checkSis (Sis x, int i)\n+{ if (x.i != i || x.s != i+1) { DEBUG_NL; abort (); } }\n+void checkScsi (Scsi x, int i)\n+{ if (x.c != i/16 || x.s != i+1 || x.i != i+2) { DEBUG_NL; abort (); } }\n+void checkScis (Scis x, int i)\n+{ if (x.c != i/16 || x.i != i+1 || x.s != i+2) { DEBUG_NL; abort (); } }\n+\n+T(0, Sc)\n+T(1, Sc)\n+T(2, Sc)\n+T(3, Sc)\n+T(4, Sc)\n+T(5, Sc)\n+T(6, Sc)\n+T(7, Sc)\n+T(8, Sc)\n+T(9, Sc)\n+T(10, Sc)\n+T(11, Sc)\n+T(12, Sc)\n+T(13, Sc)\n+T(14, Sc)\n+T(15, Sc)\n+T(0, Ss)\n+T(1, Ss)\n+T(2, Ss)\n+T(3, Ss)\n+T(4, Ss)\n+T(5, Ss)\n+T(6, Ss)\n+T(7, Ss)\n+T(8, Ss)\n+T(9, Ss)\n+T(10, Ss)\n+T(11, Ss)\n+T(12, Ss)\n+T(13, Ss)\n+T(14, Ss)\n+T(15, Ss)\n+T(0, Si)\n+T(1, Si)\n+T(2, Si)\n+T(3, Si)\n+T(4, Si)\n+T(5, Si)\n+T(6, Si)\n+T(7, Si)\n+T(8, Si)\n+T(9, Si)\n+T(10, Si)\n+T(11, Si)\n+T(12, Si)\n+T(13, Si)\n+T(14, Si)\n+T(15, Si)\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)\n+\n+#undef T\n+\n+void\n+struct_by_value_4_x ()\n+{\n+#define T(N, TYPE) testit##TYPE##N ();\n+\n+T(0, Sc)\n+T(1, Sc)\n+T(2, Sc)\n+T(3, Sc)\n+T(4, Sc)\n+T(5, Sc)\n+T(6, Sc)\n+T(7, Sc)\n+T(8, Sc)\n+T(9, Sc)\n+T(10, Sc)\n+T(11, Sc)\n+T(12, Sc)\n+T(13, Sc)\n+T(14, Sc)\n+T(15, Sc)\n+T(0, Ss)\n+T(1, Ss)\n+T(2, Ss)\n+T(3, Ss)\n+T(4, Ss)\n+T(5, Ss)\n+T(6, Ss)\n+T(7, Ss)\n+T(8, Ss)\n+T(9, Ss)\n+T(10, Ss)\n+T(11, Ss)\n+T(12, Ss)\n+T(13, Ss)\n+T(14, Ss)\n+T(15, Ss)\n+T(0, Si)\n+T(1, Si)\n+T(2, Si)\n+T(3, Si)\n+T(4, Si)\n+T(5, Si)\n+T(6, Si)\n+T(7, Si)\n+T(8, Si)\n+T(9, Si)\n+T(10, Si)\n+T(11, Si)\n+T(12, Si)\n+T(13, Si)\n+T(14, Si)\n+T(15, Si)\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)\n+\n+#undef T\n+}"}, {"sha": "e1239d35ee741af90e73697c7561e7ce0eb295fa", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-4_y.c", "status": "added", "additions": 247, "deletions": 0, "changes": 247, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-4_y.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,247 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+typedef struct { char c; } Sc;\n+typedef struct { short s; } Ss;\n+typedef struct { int i; } Si;\n+typedef struct { short s; char c; } Ssc;\n+typedef struct { int i; short s; } Sis;\n+typedef struct { char c; short s; int i; } Scsi;\n+typedef struct { char c; int i; short s; } Scis;\n+\n+void initSc (Sc *p, int i) { p->c = i/16; }\n+void initSs (Ss *p, int i) { p->s = i; }\n+void initSi (Si *p, int i) { p->i = i; }\n+void initSsc (Ssc *p, int i) { p->s = i; p->c = (i/16)+1; }\n+void initSis (Sis *p, int i) { p->i = i; p->s = i+1; }\n+void initScsi (Scsi *p, int i) { p->c = i/16; p->s = i+1; p->i = i+2; }\n+void initScis (Scis *p, int i) { p->c = i/16; p->i = i+1; p->s = i+2; }\n+\n+#define T(N, TYPE)\t\t\t\t\t\t\\\n+struct S##TYPE##N { TYPE i[N]; };\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern struct S##TYPE##N g1s##TYPE##N, g2s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g3s##TYPE##N, g4s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g5s##TYPE##N, g6s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g7s##TYPE##N, g8s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g9s##TYPE##N, g10s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g11s##TYPE##N, g12s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g13s##TYPE##N, g14s##TYPE##N;\t\t\\\n+extern struct S##TYPE##N g15s##TYPE##N, g16s##TYPE##N;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, int i);\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+check##TYPE##N (struct S##TYPE##N *p, int i);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE##N (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE##N ( &g1s##TYPE##N,  1*16);\t\t\t\\\n+  check##TYPE##N ( &g2s##TYPE##N,  2*16);\t\t\t\\\n+  check##TYPE##N ( &g3s##TYPE##N,  3*16);\t\t\t\\\n+  check##TYPE##N ( &g4s##TYPE##N,  4*16);\t\t\t\\\n+  check##TYPE##N ( &g5s##TYPE##N,  5*16);\t\t\t\\\n+  check##TYPE##N ( &g6s##TYPE##N,  6*16);\t\t\t\\\n+  check##TYPE##N ( &g7s##TYPE##N,  7*16);\t\t\t\\\n+  check##TYPE##N ( &g8s##TYPE##N,  8*16);\t\t\t\\\n+  check##TYPE##N ( &g9s##TYPE##N,  9*16);\t\t\t\\\n+  check##TYPE##N (&g10s##TYPE##N, 10*16);\t\t\t\\\n+  check##TYPE##N (&g11s##TYPE##N, 11*16);\t\t\t\\\n+  check##TYPE##N (&g12s##TYPE##N, 12*16);\t\t\t\\\n+  check##TYPE##N (&g13s##TYPE##N, 13*16);\t\t\t\\\n+  check##TYPE##N (&g14s##TYPE##N, 14*16);\t\t\t\\\n+  check##TYPE##N (&g15s##TYPE##N, 15*16);\t\t\t\\\n+  check##TYPE##N (&g16s##TYPE##N, 16*16);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE##N (struct S##TYPE##N s1, struct S##TYPE##N s2,\t\\\n+\t       struct S##TYPE##N s3, struct S##TYPE##N s4,\t\\\n+\t       struct S##TYPE##N s5, struct S##TYPE##N s6,\t\\\n+\t       struct S##TYPE##N s7, struct S##TYPE##N s8,\t\\\n+\t       struct S##TYPE##N s9, struct S##TYPE##N s10,\t\\\n+\t       struct S##TYPE##N s11, struct S##TYPE##N s12,\t\\\n+\t       struct S##TYPE##N s13, struct S##TYPE##N s14,\t\\\n+\t       struct S##TYPE##N s15, struct S##TYPE##N s16)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s1, 1*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s2, 2*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s3, 3*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s4, 4*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s5, 5*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s6, 6*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s7, 7*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s8, 8*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s9, 9*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s10, 10*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s11, 11*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s12, 12*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s13, 13*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s14, 14*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s15, 15*16);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE##N (&s16, 16*16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE##N (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  struct S##TYPE##N t = va_arg (ap, struct S##TYPE##N);\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE##N (&t, (i+1)*16);\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+T(0, Sc)\n+T(1, Sc)\n+T(2, Sc)\n+T(3, Sc)\n+T(4, Sc)\n+T(5, Sc)\n+T(6, Sc)\n+T(7, Sc)\n+T(8, Sc)\n+T(9, Sc)\n+T(10, Sc)\n+T(11, Sc)\n+T(12, Sc)\n+T(13, Sc)\n+T(14, Sc)\n+T(15, Sc)\n+T(0, Ss)\n+T(1, Ss)\n+T(2, Ss)\n+T(3, Ss)\n+T(4, Ss)\n+T(5, Ss)\n+T(6, Ss)\n+T(7, Ss)\n+T(8, Ss)\n+T(9, Ss)\n+T(10, Ss)\n+T(11, Ss)\n+T(12, Ss)\n+T(13, Ss)\n+T(14, Ss)\n+T(15, Ss)\n+T(0, Si)\n+T(1, Si)\n+T(2, Si)\n+T(3, Si)\n+T(4, Si)\n+T(5, Si)\n+T(6, Si)\n+T(7, Si)\n+T(8, Si)\n+T(9, Si)\n+T(10, Si)\n+T(11, Si)\n+T(12, Si)\n+T(13, Si)\n+T(14, Si)\n+T(15, Si)\n+T(0, Ssc)\n+T(1, Ssc)\n+T(2, Ssc)\n+T(3, Ssc)\n+T(4, Ssc)\n+T(5, Ssc)\n+T(6, Ssc)\n+T(7, Ssc)\n+T(8, Ssc)\n+T(9, Ssc)\n+T(10, Ssc)\n+T(11, Ssc)\n+T(12, Ssc)\n+T(13, Ssc)\n+T(14, Ssc)\n+T(15, Ssc)\n+T(0, Sis)\n+T(1, Sis)\n+T(2, Sis)\n+T(3, Sis)\n+T(4, Sis)\n+T(5, Sis)\n+T(6, Sis)\n+T(7, Sis)\n+T(8, Sis)\n+T(9, Sis)\n+T(10, Sis)\n+T(11, Sis)\n+T(12, Sis)\n+T(13, Sis)\n+T(14, Sis)\n+T(15, Sis)\n+T(0, Scsi)\n+T(1, Scsi)\n+T(2, Scsi)\n+T(3, Scsi)\n+T(4, Scsi)\n+T(5, Scsi)\n+T(6, Scsi)\n+T(7, Scsi)\n+T(8, Scsi)\n+T(9, Scsi)\n+T(10, Scsi)\n+T(11, Scsi)\n+T(12, Scsi)\n+T(13, Scsi)\n+T(14, Scsi)\n+T(15, Scsi)\n+T(0, Scis)\n+T(1, Scis)\n+T(2, Scis)\n+T(3, Scis)\n+T(4, Scis)\n+T(5, Scis)\n+T(6, Scis)\n+T(7, Scis)\n+T(8, Scis)\n+T(9, Scis)\n+T(10, Scis)\n+T(11, Scis)\n+T(12, Scis)\n+T(13, Scis)\n+T(14, Scis)\n+T(15, Scis)"}, {"sha": "34123612e254156140516996f5dad377b22d0459", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_main.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_main.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,13 @@\n+/* Test structures passed by value, including to a function with a\n+   variable-length argument lists.  All struct members are floating\n+   point scalars.  */\n+\n+extern void struct_by_value_5_x (void);\n+extern void exit (int);\n+\n+int\n+main ()\n+{\n+  struct_by_value_5_x ();\n+  exit (0);\n+}"}, {"sha": "3b2f3b28fe9a1e1ec93df6a8fcfd6e2e7f909e62", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_x.c", "status": "added", "additions": 349, "deletions": 0, "changes": 349, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_x.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,349 @@\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void checkS##NAME##1 (S##NAME##1 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y) { DEBUG_NL; DEBUG_NL; abort (); } }\t\t\\\n+void checkS##NAME##2 (S##NAME##2 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 ) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##3 (S##NAME##3 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 )\t\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##4 (S##NAME##4 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3)\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##5 (S##NAME##5 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##6 (S##NAME##6 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##7 (S##NAME##7 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##8 (S##NAME##8 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##9 (S##NAME##9 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##10 (S##NAME##10 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9)\t\t\\\n+   { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##11 (S##NAME##11 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##12 (S##NAME##12 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##13 (S##NAME##13 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12)\t\t\\\n+    { DEBUG_NL; abort (); } }\t\t\t\t\t\\\n+void checkS##NAME##14 (S##NAME##14 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13) { DEBUG_NL; abort (); } }\t\t\t\\\n+void checkS##NAME##15 (S##NAME##15 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14) { DEBUG_NL; abort (); } }\t\\\n+void checkS##NAME##16 (S##NAME##16 x, TYPEM y)\t\t\t\\\n+{ if (x.a != y || x.b != y+1 || x.c != y+2 || x.d != y+3\t\\\n+      || x.e != y+4 || x.f != y+5 || x.g != y+6\t\t\t\\\n+      || x.h != y+7 || x.i != y+8 || x.j != y+9\t\t\t\\\n+      || x.k != y+10 || x.l != y+11 || x.m != y+12\t\t\\\n+      || x.n != y+13 || x.o != y+14 || x.p != y+15)\t\t\\\n+    { DEBUG_NL; abort (); } }\n+\n+#define T(TYPE,MTYPE)\t\t\t\t\t\t\\\n+TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\t\\\n+TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void init##TYPE (TYPE *p, MTYPE x);\t\t\t\\\n+extern void checkg##TYPE (void);\t\t\t\t\\\n+extern void\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16);\t\t\\\n+extern void testva##TYPE (int n, ...);\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test2_##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\\\n+\t      TYPE s5, TYPE s6, TYPE s7, TYPE s8)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  test##TYPE (s1, g2s##TYPE, s2, g4s##TYPE,\t\t\t\\\n+\t      s3, g6s##TYPE, s4, g8s##TYPE,\t\t\t\\\n+\t      s5, g10s##TYPE, s6, g12s##TYPE,\t\t\t\\\n+\t      s7, g14s##TYPE, s8, g16s##TYPE);\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testit##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (#TYPE);\t\t\t\t\t\t\\\n+  init##TYPE  ( &g1s##TYPE,  (MTYPE)1);\t\t\t\t\\\n+  init##TYPE  ( &g2s##TYPE,  (MTYPE)2);\t\t\t\t\\\n+  init##TYPE  ( &g3s##TYPE,  (MTYPE)3);\t\t\t\t\\\n+  init##TYPE  ( &g4s##TYPE,  (MTYPE)4);\t\t\t\t\\\n+  init##TYPE  ( &g5s##TYPE,  (MTYPE)5);\t\t\t\t\\\n+  init##TYPE  ( &g6s##TYPE,  (MTYPE)6);\t\t\t\t\\\n+  init##TYPE  ( &g7s##TYPE,  (MTYPE)7);\t\t\t\t\\\n+  init##TYPE  ( &g8s##TYPE,  (MTYPE)8);\t\t\t\t\\\n+  init##TYPE  ( &g9s##TYPE,  (MTYPE)9);\t\t\t\t\\\n+  init##TYPE  (&g10s##TYPE, (MTYPE)10);\t\t\t\t\\\n+  init##TYPE  (&g11s##TYPE, (MTYPE)11);\t\t\t\t\\\n+  init##TYPE  (&g12s##TYPE, (MTYPE)12);\t\t\t\t\\\n+  init##TYPE  (&g13s##TYPE, (MTYPE)13);\t\t\t\t\\\n+  init##TYPE  (&g14s##TYPE, (MTYPE)14);\t\t\t\t\\\n+  init##TYPE  (&g15s##TYPE, (MTYPE)15);\t\t\t\t\\\n+  init##TYPE  (&g16s##TYPE, (MTYPE)16);\t\t\t\t\\\n+  checkg##TYPE ();\t\t\t\t\t\t\\\n+  DEBUG_FPUTS (\" test\");\t\t\t\t\t\\\n+  test##TYPE (g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t      g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t      g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t      g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE);\t\\\n+  DEBUG_FPUTS (\" testva\");\t\t\t\t\t\\\n+  testva##TYPE (1,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (2,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE);\t\t\t\t\\\n+  testva##TYPE (3,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE);\t\t\\\n+  testva##TYPE (4,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE);\t\\\n+  testva##TYPE (5,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (6,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE);\t\t\t\t\\\n+  testva##TYPE (7,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE);\t\t\\\n+  testva##TYPE (8,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE);\t\\\n+  testva##TYPE (9,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (10,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE);\t\t\t\t\\\n+  testva##TYPE (11,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE);\t\t\\\n+  testva##TYPE (12,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE);\t\\\n+  testva##TYPE (13,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE);\t\t\t\t\t\\\n+  testva##TYPE (14,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE);\t\t\t\\\n+  testva##TYPE (15,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE);\t\t\\\n+  testva##TYPE (16,\t\t\t\t\t\t\\\n+\t\tg1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE,\t\\\n+\t\tg5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE,\t\\\n+\t\tg9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE,\t\\\n+\t\tg13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE); \\\n+  DEBUG_FPUTS (\" test2\");\t\t\t\t\t\\\n+  test2_##TYPE (g1s##TYPE, g3s##TYPE, g5s##TYPE, g7s##TYPE,\t\\\n+\t\tg9s##TYPE, g11s##TYPE, g13s##TYPE, g15s##TYPE);\t\\\n+  DEBUG_NL;\t\t\t\t\t\t\t\\\n+}\n+\n+extern void abort (void);\n+\n+X(f, float)\n+X(d, double)\n+X(ld, long double)\n+\n+T(Sf1, float)\n+T(Sf2, float)\n+T(Sf3, float)\n+T(Sf4, float)\n+T(Sf5, float)\n+T(Sf6, float)\n+T(Sf7, float)\n+T(Sf8, float)\n+T(Sf9, float)\n+T(Sf10, float)\n+T(Sf11, float)\n+T(Sf12, float)\n+T(Sf13, float)\n+T(Sf14, float)\n+T(Sf15, float)\n+T(Sf16, float)\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)\n+\n+#undef T\n+\n+void\n+struct_by_value_5_x ()\n+{\n+#define T(TYPE, MTYPE) testit##TYPE ();\n+\n+T(Sf1, float)\n+T(Sf2, float)\n+T(Sf3, float)\n+T(Sf4, float)\n+T(Sf5, float)\n+T(Sf6, float)\n+T(Sf7, float)\n+T(Sf8, float)\n+T(Sf9, float)\n+T(Sf10, float)\n+T(Sf11, float)\n+T(Sf12, float)\n+T(Sf13, float)\n+T(Sf14, float)\n+T(Sf15, float)\n+T(Sf16, float)\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)\n+\n+#undef T\n+}"}, {"sha": "5242c0460c2b83fa833b682c9da0f95ed794830d", "filename": "gcc/testsuite/gcc.dg/compat/struct-by-value-5_y.c", "status": "added", "additions": 253, "deletions": 0, "changes": 253, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcompat%2Fstruct-by-value-5_y.c?ref=e8115463c68a2b5ae19c0897bd1c8b9e8aa0a41c", "patch": "@@ -0,0 +1,253 @@\n+#include <stdarg.h>\n+\n+#ifdef DBG\n+#include <stdio.h>\n+#define DEBUG_FPUTS(x) fputs (x, stdout)\n+#define DEBUG_DOT putc ('.', stdout)\n+#define DEBUG_NL putc ('\\n', stdout)\n+#else\n+#define DEBUG_FPUTS(x)\n+#define DEBUG_DOT\n+#define DEBUG_NL\n+#endif\n+\n+/* Turn off checking for variable arguments with -DSKIPVA.  */\n+#ifdef SKIPVA\n+const int test_va = 0;\n+#else\n+const int test_va = 1;\n+#endif\n+\n+#define X(NAME,TYPEM)\t\t\t\t\t\t\\\n+typedef struct { TYPEM a; } S##NAME##1;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; } S##NAME##2;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; } S##NAME##3;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; }\t\t\\\n+\t       S##NAME##4;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e; }\t\\\n+\t       S##NAME##5;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+  \t\t TYPEM f; } S##NAME##6;\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; } S##NAME##7;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; } S##NAME##8;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; }\t\t\\\n+\t       S##NAME##9;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j; }\t\\\n+\t       S##NAME##10;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; } S##NAME##11;\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; } S##NAME##12;\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; } S##NAME##13;\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; }\t\t\\\n+\t        S##NAME##14;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o; }\t\\\n+\t       S##NAME##15;\t\t\t\t\t\\\n+typedef struct { TYPEM a; TYPEM b; TYPEM c; TYPEM d; TYPEM e;\t\\\n+\t\t TYPEM f; TYPEM g; TYPEM h; TYPEM i; TYPEM j;\t\\\n+\t\t TYPEM k; TYPEM l; TYPEM m; TYPEM n; TYPEM o;\t\\\n+\t\t TYPEM p; } S##NAME##16;\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void initS##NAME##1 (S##NAME##1 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; }\t\t\t\t\t\t\t\\\n+void initS##NAME##2 (S##NAME##2 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; }\t\t\t\t\t\\\n+void initS##NAME##3 (S##NAME##3 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; }\t\t\t\t\\\n+void initS##NAME##4 (S##NAME##4 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; }\t\t\\\n+void initS##NAME##5 (S##NAME##5 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4; }\t\\\n+void initS##NAME##6 (S##NAME##6 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; }\t\t\t\t\t\t\t\\\n+void initS##NAME##7 (S##NAME##7 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; }\t\t\t\t\t\\\n+void initS##NAME##8 (S##NAME##8 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; }\t\t\t\t\\\n+void initS##NAME##9 (S##NAME##9 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; }\t\t\\\n+void initS##NAME##10 (S##NAME##10 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9; }\t\\\n+void initS##NAME##11 (S##NAME##11 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; }\t\t\t\t\t\t\\\n+void initS##NAME##12 (S##NAME##12 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; }\t\t\t\t\t\\\n+void initS##NAME##13 (S##NAME##13 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; }\t\t\t\\\n+void initS##NAME##14 (S##NAME##14 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13; }\t\t\\\n+void initS##NAME##15 (S##NAME##15 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; }\t\t\t\t\t\t\\\n+void initS##NAME##16 (S##NAME##16 *p, TYPEM y)\t\t\t\\\n+{ p->a = y; p->b = y+1; p->c = y+2; p->d = y+3; p->e = y+4;\t\\\n+  p->f = y+5; p->g = y+6; p->h = y+7; p->i = y+8; p->j = y+9;\t\\\n+  p->k = y+10; p->l = y+11; p->m = y+12; p->n = y+13;\t\t\\\n+  p->o = y+14; p->p = y+15; }\n+\n+#define T(TYPE,TYPE2)\t\t\t\t\t\t\\\n+extern TYPE g1s##TYPE, g2s##TYPE, g3s##TYPE, g4s##TYPE;\t\t\\\n+extern TYPE g5s##TYPE, g6s##TYPE, g7s##TYPE, g8s##TYPE;\t\t\\\n+extern TYPE g9s##TYPE, g10s##TYPE, g11s##TYPE, g12s##TYPE;\t\\\n+extern TYPE g13s##TYPE, g14s##TYPE, g15s##TYPE, g16s##TYPE;\t\\\n+\t\t\t\t\t\t\t\t\\\n+extern void check##TYPE (TYPE x, TYPE2 y);\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+checkg##TYPE (void)\t\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  check##TYPE (  g1s##TYPE,  (TYPE2)1);\t\t\t\t\\\n+  check##TYPE (  g2s##TYPE,  (TYPE2)2);\t\t\t\t\\\n+  check##TYPE (  g3s##TYPE,  (TYPE2)3);\t\t\t\t\\\n+  check##TYPE (  g4s##TYPE,  (TYPE2)4);\t\t\t\t\\\n+  check##TYPE (  g5s##TYPE,  (TYPE2)5);\t\t\t\t\\\n+  check##TYPE (  g6s##TYPE,  (TYPE2)6);\t\t\t\t\\\n+  check##TYPE (  g7s##TYPE,  (TYPE2)7);\t\t\t\t\\\n+  check##TYPE (  g8s##TYPE,  (TYPE2)8);\t\t\t\t\\\n+  check##TYPE (  g9s##TYPE,  (TYPE2)9);\t\t\t\t\\\n+  check##TYPE ( g10s##TYPE, (TYPE2)10);\t\t\t\t\\\n+  check##TYPE ( g11s##TYPE, (TYPE2)11);\t\t\t\t\\\n+  check##TYPE ( g12s##TYPE, (TYPE2)12);\t\t\t\t\\\n+  check##TYPE ( g13s##TYPE, (TYPE2)13);\t\t\t\t\\\n+  check##TYPE ( g14s##TYPE, (TYPE2)14);\t\t\t\t\\\n+  check##TYPE ( g15s##TYPE, (TYPE2)15);\t\t\t\t\\\n+  check##TYPE ( g16s##TYPE, (TYPE2)16);\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+test##TYPE (TYPE s1, TYPE s2, TYPE s3, TYPE s4,\t\t\t\\\n+\t    TYPE s5, TYPE s6, TYPE s7, TYPE s8,\t\t\t\\\n+\t    TYPE s9, TYPE s10, TYPE s11, TYPE s12,\t\t\\\n+\t    TYPE s13, TYPE s14, TYPE s15, TYPE s16)\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s1, (TYPE2)1);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s2, (TYPE2)2);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s3, (TYPE2)3);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s4, (TYPE2)4);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s5, (TYPE2)5);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s6, (TYPE2)6);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s7, (TYPE2)7);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s8, (TYPE2)8);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s9, (TYPE2)9);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s10, (TYPE2)10);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s11, (TYPE2)11);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s12, (TYPE2)12);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s13, (TYPE2)13);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s14, (TYPE2)14);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s15, (TYPE2)15);\t\t\t\t\t\\\n+  DEBUG_DOT;\t\t\t\t\t\t\t\\\n+  check##TYPE (s16, (TYPE2)16);\t\t\t\t\t\\\n+}\t\t\t\t\t\t\t\t\\\n+\t\t\t\t\t\t\t\t\\\n+void\t\t\t\t\t\t\t\t\\\n+testva##TYPE (int n, ...)\t\t\t\t\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  int i;\t\t\t\t\t\t\t\\\n+  va_list ap;\t\t\t\t\t\t\t\\\n+  if (test_va)\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      va_start (ap, n);\t\t\t\t\t\t\\\n+      for (i = 0; i < n; i++)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\t\\\n+\t  TYPE t = va_arg (ap, TYPE);\t\t\t\t\\\n+\t  DEBUG_DOT;\t\t\t\t\t\t\\\n+\t  check##TYPE (t, (TYPE2)i+1);\t\t\t\t\\\n+\t}\t\t\t\t\t\t\t\\\n+      va_end (ap);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+}\n+\n+X(f, float)\n+X(d, double)\n+X(ld, long double)\n+\n+T(Sf1, float)\n+T(Sf2, float)\n+T(Sf3, float)\n+T(Sf4, float)\n+T(Sf5, float)\n+T(Sf6, float)\n+T(Sf7, float)\n+T(Sf8, float)\n+T(Sf9, float)\n+T(Sf10, float)\n+T(Sf11, float)\n+T(Sf12, float)\n+T(Sf13, float)\n+T(Sf14, float)\n+T(Sf15, float)\n+T(Sf16, float)\n+T(Sd1, double)\n+T(Sd2, double)\n+T(Sd3, double)\n+T(Sd4, double)\n+T(Sd5, double)\n+T(Sd6, double)\n+T(Sd7, double)\n+T(Sd8, double)\n+T(Sd9, double)\n+T(Sd10, double)\n+T(Sd11, double)\n+T(Sd12, double)\n+T(Sd13, double)\n+T(Sd14, double)\n+T(Sd15, double)\n+T(Sd16, double)\n+T(Sld1, long double)\n+T(Sld2, long double)\n+T(Sld3, long double)\n+T(Sld4, long double)\n+T(Sld5, long double)\n+T(Sld6, long double)\n+T(Sld7, long double)\n+T(Sld8, long double)\n+T(Sld9, long double)\n+T(Sld10, long double)\n+T(Sld11, long double)\n+T(Sld12, long double)\n+T(Sld13, long double)\n+T(Sld14, long double)\n+T(Sld15, long double)\n+T(Sld16, long double)"}]}