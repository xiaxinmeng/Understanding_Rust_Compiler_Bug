{"sha": "285baa062b5e9e5757e1dee8856af6b210918789", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjg1YmFhMDYyYjVlOWU1NzU3ZTFkZWU4ODU2YWY2YjIxMDkxODc4OQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-06-04T01:33:03Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-06-04T01:33:03Z"}, "message": "error.c (dump_expr): Clean up NEW_EXPR case.\n\n\t* error.c (dump_expr): Clean up NEW_EXPR case.\n\t* tree.c (mapcar): Support NEW_EXPR.\n\t* error.c (dump_expr): Support NEW_EXPR.\n\t* decl2.c (arg_assoc_type): Return 0 for LANG_TYPE.\n\nFrom-SVN: r20218", "tree": {"sha": "7c6eb92cb6464b354079d1ffafd37d7cad944feb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7c6eb92cb6464b354079d1ffafd37d7cad944feb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/285baa062b5e9e5757e1dee8856af6b210918789", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/285baa062b5e9e5757e1dee8856af6b210918789", "html_url": "https://github.com/Rust-GCC/gccrs/commit/285baa062b5e9e5757e1dee8856af6b210918789", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/285baa062b5e9e5757e1dee8856af6b210918789/comments", "author": null, "committer": null, "parents": [{"sha": "6035f0aed86df4e731b88a96b1eee8e45644e3c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6035f0aed86df4e731b88a96b1eee8e45644e3c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6035f0aed86df4e731b88a96b1eee8e45644e3c4"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "d14af595478548a67bfc3aac3186a4d1fd629b89", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=285baa062b5e9e5757e1dee8856af6b210918789", "patch": "@@ -1,3 +1,17 @@\n+1998-06-04  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* error.c (dump_expr): Clean up NEW_EXPR case.\n+\n+1998-06-04  Martin von L\ufffdwis  <loewis@informatik.hu-berlin.de>\n+\n+\t* tree.c (mapcar): Support NEW_EXPR.\n+\n+\t* error.c (dump_expr): Support NEW_EXPR.\n+\n+1998-06-04  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* decl2.c (arg_assoc_type): Return 0 for LANG_TYPE.\n+\n 1998-06-03  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* method.c (make_thunk): Use overload machinery to make name."}, {"sha": "dc800da4b8514af9448590412b8bf3759a611bab", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=285baa062b5e9e5757e1dee8856af6b210918789", "patch": "@@ -4208,6 +4208,7 @@ arg_assoc_type (k, type)\n     case COMPLEX_TYPE:\n     case CHAR_TYPE:\n     case BOOLEAN_TYPE:\n+    case LANG_TYPE:\n       return 0;\n     case RECORD_TYPE:\n       if (TYPE_PTRMEMFUNC_P (type))"}, {"sha": "75194615bdf644d90f33cc77675ce5382e0e70c4", "filename": "gcc/cp/error.c", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=285baa062b5e9e5757e1dee8856af6b210918789", "patch": "@@ -1341,6 +1341,33 @@ dump_expr (t, nop)\n       }\n       break;\n \n+    case NEW_EXPR:\n+      {\n+\ttree type = TREE_OPERAND (t, 1);\n+\tif (NEW_EXPR_USE_GLOBAL (t))\n+\t  OB_PUTS (\"::\");\n+\tOB_PUTS (\"new \");\n+\tif (TREE_OPERAND (t, 0))\n+\t  {\n+\t    OB_PUTC ('(');\n+\t    dump_expr_list (TREE_OPERAND (t, 0));\n+\t    OB_PUTS (\") \");\n+\t  }\n+\tif (TREE_CODE (type) == ARRAY_REF)\n+\t  type = build_cplus_array_type\n+\t    (TREE_OPERAND (type, 0),\n+\t     build_index_type (size_binop (MINUS_EXPR, TREE_OPERAND (type, 1),\n+\t\t\t\t\t   integer_one_node)));\n+\tdump_type (type, 0);\n+\tif (TREE_OPERAND (t, 2))\n+\t  {\n+\t    OB_PUTC ('(');\n+\t    dump_expr_list (TREE_OPERAND (t, 2));\n+\t    OB_PUTC (')');\n+\t  }\n+      }\n+      break;\n+\n     case TARGET_EXPR:\n       /* Note that this only works for G++ target exprs.  If somebody\n \t builds a general TARGET_EXPR, there's no way to represent that"}, {"sha": "685645a846912f724d5c589e440fb0102fe2a3bf", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/285baa062b5e9e5757e1dee8856af6b210918789/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=285baa062b5e9e5757e1dee8856af6b210918789", "patch": "@@ -1754,6 +1754,13 @@ mapcar (t, func)\n       TREE_OPERAND (t, 2) = NULL_TREE;\n       return t;\n \n+    case NEW_EXPR:\n+      t = copy_node (t);\n+      TREE_OPERAND (t, 0) = mapcar (TREE_OPERAND (t, 0), func);\n+      TREE_OPERAND (t, 1) = mapcar (TREE_OPERAND (t, 1), func);\n+      TREE_OPERAND (t, 2) = mapcar (TREE_OPERAND (t, 2), func);\n+      return t;\n+\n     case RECORD_TYPE:\n       if (TYPE_PTRMEMFUNC_P (t))\n \treturn build_ptrmemfunc_type"}]}