{"sha": "8edb8dc817480a2496c58727439a4c8254ff09eb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGVkYjhkYzgxNzQ4MGEyNDk2YzU4NzI3NDM5YTRjODI1NGZmMDllYg==", "commit": {"author": {"name": "Pavel Chupin", "email": "pavel.v.chupin@intel.com", "date": "2013-08-20T08:31:40Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2013-08-20T08:31:40Z"}, "message": "Fix LIB_SPEC for systems without libpthread.\n\n\t* config/gnu-user.h: Introduce GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC.\n\t* config/arm/linux-eabi.h: Use GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC\n\tfor Android.\n\t* config/i386/linux-common.h: Likewise.\n\t* config/mips/linux-common.h: Likewise.\n\nFrom-SVN: r201871", "tree": {"sha": "99eb61036f5a0bc6b7b7389bd4c7af34d3264d53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/99eb61036f5a0bc6b7b7389bd4c7af34d3264d53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8edb8dc817480a2496c58727439a4c8254ff09eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8edb8dc817480a2496c58727439a4c8254ff09eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8edb8dc817480a2496c58727439a4c8254ff09eb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8edb8dc817480a2496c58727439a4c8254ff09eb/comments", "author": null, "committer": null, "parents": [{"sha": "d71ff3faa157470cb3425c7009ccddc335919ab3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d71ff3faa157470cb3425c7009ccddc335919ab3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d71ff3faa157470cb3425c7009ccddc335919ab3"}], "stats": {"total": 26, "additions": 20, "deletions": 6}, "files": [{"sha": "0c7561ba9bb3372a92bae36cd6db3efd14607473", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8edb8dc817480a2496c58727439a4c8254ff09eb", "patch": "@@ -1,3 +1,13 @@\n+2013-08-20  Pavel Chupin  <pavel.v.chupin@intel.com>\n+\n+\tFix LIB_SPEC for systems without libpthread.\n+\n+\t* config/gnu-user.h: Introduce GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC.\n+\t* config/arm/linux-eabi.h: Use GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC\n+\tfor Android.\n+\t* config/i386/linux-common.h: Likewise.\n+\t* config/mips/linux-common.h: Likewise.\n+\n 2013-08-20  Zhouyi Zhou <yizhouzhou@ict.ac.cn>\n \n \t* tree-ssa-ccp.c (get_default_value): Remove redundant condition"}, {"sha": "c6e686bf7338c50f7c74cd54cce27f59a19d5969", "filename": "gcc/config/arm/linux-eabi.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Farm%2Flinux-eabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Farm%2Flinux-eabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-eabi.h?ref=8edb8dc817480a2496c58727439a4c8254ff09eb", "patch": "@@ -99,7 +99,7 @@\n #undef  LIB_SPEC\n #define LIB_SPEC\t\t\t\t\t\t\t\\\n   LINUX_OR_ANDROID_LD (GNU_USER_TARGET_LIB_SPEC,\t\t\t\\\n-\t\t       GNU_USER_TARGET_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n+\t\t    GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n \n #undef\tSTARTFILE_SPEC\n #define STARTFILE_SPEC \\"}, {"sha": "6f6915842b9efca14d252abef6b96e170b789c4c", "filename": "gcc/config/gnu-user.h", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fgnu-user.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fgnu-user.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fgnu-user.h?ref=8edb8dc817480a2496c58727439a4c8254ff09eb", "patch": "@@ -82,10 +82,14 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #undef CPLUSPLUS_CPP_SPEC\n #define CPLUSPLUS_CPP_SPEC \"-D_GNU_SOURCE %(cpp)\"\n \n-#define GNU_USER_TARGET_LIB_SPEC \\\n-  \"%{pthread:-lpthread} \\\n-   %{shared:-lc} \\\n+#define GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC \\\n+  \"%{shared:-lc} \\\n    %{!shared:%{mieee-fp:-lieee} %{profile:-lc_p}%{!profile:-lc}}\"\n+\n+#define GNU_USER_TARGET_LIB_SPEC \\\n+  \"%{pthread:-lpthread} \" \\\n+  GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC\n+\n #undef  LIB_SPEC\n #define LIB_SPEC GNU_USER_TARGET_LIB_SPEC\n "}, {"sha": "52f0baf202ee975e2f4acdae493638735f21571b", "filename": "gcc/config/i386/linux-common.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fi386%2Flinux-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fi386%2Flinux-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux-common.h?ref=8edb8dc817480a2496c58727439a4c8254ff09eb", "patch": "@@ -40,7 +40,7 @@ along with GCC; see the file COPYING3.  If not see\n #undef  LIB_SPEC\n #define LIB_SPEC \\\n   LINUX_OR_ANDROID_LD (GNU_USER_TARGET_LIB_SPEC, \\\n-\t\t       GNU_USER_TARGET_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n+\t\t    GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n \n #undef  STARTFILE_SPEC\n #define STARTFILE_SPEC \\"}, {"sha": "ebc67a28d90391322b70d08a7b925e6ef7a33e51", "filename": "gcc/config/mips/linux-common.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fmips%2Flinux-common.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8edb8dc817480a2496c58727439a4c8254ff09eb/gcc%2Fconfig%2Fmips%2Flinux-common.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Flinux-common.h?ref=8edb8dc817480a2496c58727439a4c8254ff09eb", "patch": "@@ -44,7 +44,7 @@ along with GCC; see the file COPYING3.  If not see\n #undef  LIB_SPEC\n #define LIB_SPEC\t\t\t\t\t\t\t\\\n   LINUX_OR_ANDROID_LD (GNU_USER_TARGET_LIB_SPEC,\t\t\t\\\n-\t\t       GNU_USER_TARGET_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n+\t\t    GNU_USER_TARGET_NO_PTHREADS_LIB_SPEC \" \" ANDROID_LIB_SPEC)\n \n #undef  STARTFILE_SPEC\n #define STARTFILE_SPEC\t\t\t\t\t\t\t\\"}]}