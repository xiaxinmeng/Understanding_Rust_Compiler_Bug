{"sha": "c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhhYjJjZmFmZjczNTJlNTRkZjkxN2FjZTFjZTkxZTljY2Q4MjUwNg==", "commit": {"author": {"name": "Dodji Seketeli", "email": "dodji@redhat.com", "date": "2013-02-06T08:18:26Z"}, "committer": {"name": "Dodji Seketeli", "email": "dodji@gcc.gnu.org", "date": "2013-02-06T08:18:26Z"}, "message": "Add missing explicit instantiation for std::lower_bound template\n\nSince commit r195676[1], it looks like\nlibstdc++-v3/src/c++11/hashtable_c++0x.cc is missing an explicit\ninstantiation for std::lower_bound.  This leads to libstdc++.so having\nthe symbol for that (missing) instantiation be undefined, thus\npreventing executables from being linked with libstdc++.\n\nThe patchlet below seems to fixed the issue for me.\n\nBoostrapped and tested on x86_64-unknown-linux-gnu.\n\n[1]:\n\n    commit bc36b44c7cb0e5e97ac807b8fb17507e0fb09008\n    Author: fdumont <fdumont@138bc75d-0d04-0410-961f-82ee72b054a4>\n    Date:   Fri Feb 1 20:44:41 2013 +0000\n\n\t2013-02-01  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n\n\t    * include/bits/hashtable_policy.h\n\t    (_Prime_rehash_policy::_M_next_bkt)\n\t    (_Prime_rehash_policy::_M_need_rehash): Move definition...\n\t    * src/c++11/hashtable_c++0x.cc: ... here.\n\t    * src/shared/hashtable-aux.cc: Remove c++config.h include.\n\t    * config/abi/gnu.ver (GLIBCXX_3.4.18): Export _Prime_rehash_policy\n\t    symbols.\n\n\tgit-svn-id: svn+ssh://gcc.gnu.org/svn/gcc/trunk@195676 138bc75d-0d04-0410-961f-82ee72b054a4\n\nlibstdc++-v3/ChangeLog\n\n\t* libstdc++-v3/src/c++11/hashtable_c++0x.cc (namespace std): Add\n\tmissing instantiation for std::lower_bound template.\n\nFrom-SVN: r195783", "tree": {"sha": "61367319d60feeb5b07ef6e39d8ca63cd8ebdf69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61367319d60feeb5b07ef6e39d8ca63cd8ebdf69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8ab2cfaff7352e54df917ace1ce91e9ccd82506/comments", "author": null, "committer": null, "parents": [{"sha": "ea48c8a0264d397509944ff69ec5d2289663243a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea48c8a0264d397509944ff69ec5d2289663243a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea48c8a0264d397509944ff69ec5d2289663243a"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "a898d7773728ed618d310191ac94390761646dae", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8ab2cfaff7352e54df917ace1ce91e9ccd82506/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8ab2cfaff7352e54df917ace1ce91e9ccd82506/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "patch": "@@ -1,3 +1,9 @@\n+2013-02-04  Dodji Seketeli  <dodji@redhat.com>\n+\n+\tAdd missing explicit instantiation for std::lower_bound template\n+\t* libstdc++-v3/src/c++11/hashtable_c++0x.cc (namespace std): Add\n+\tmissing instantiation for std::lower_bound template.\n+\n 2013-02-04  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n \n \t* include/bits/functional_hash.h (std::__is_fast_hash<>): New."}, {"sha": "b6a56bcc809cc34fa155626c228f10f43ef0477d", "filename": "libstdc++-v3/src/c++11/hashtable_c++0x.cc", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8ab2cfaff7352e54df917ace1ce91e9ccd82506/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fhashtable_c%2B%2B0x.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8ab2cfaff7352e54df917ace1ce91e9ccd82506/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fhashtable_c%2B%2B0x.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fc%2B%2B11%2Fhashtable_c%2B%2B0x.cc?ref=c8ab2cfaff7352e54df917ace1ce91e9ccd82506", "patch": "@@ -94,4 +94,11 @@ namespace __detail\n \n _GLIBCXX_END_NAMESPACE_VERSION\n } // namespace __detail\n+\n+ // Instantiations.\n+ template\n+ const unsigned long*\n+ lower_bound<const unsigned long*, size_t>(const unsigned long*,\n+\t\t\t\t\t   const unsigned long*,\n+\t\t\t\t\t   const size_t&);\n } // namespace std"}]}