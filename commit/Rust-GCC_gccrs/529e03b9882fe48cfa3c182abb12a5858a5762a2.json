{"sha": "529e03b9882fe48cfa3c182abb12a5858a5762a2", "node_id": "C_kwDOANBUbNoAKDUyOWUwM2I5ODgyZmU0OGNmYTNjMTgyYWJiMTJhNTg1OGE1NzYyYTI", "commit": {"author": {"name": "Lulu Cheng", "email": "chenglulu@loongson.cn", "date": "2023-02-20T08:47:11Z"}, "committer": {"name": "Lulu Cheng", "email": "chenglulu@loongson.cn", "date": "2023-02-27T01:05:11Z"}, "message": "LoongArch: Change the value of macro TRY_EMPTY_VM_SPACE from 0x8000000000 to 0x1000000000.\n\nThe PCH mechanism first tries to map the .gch file to the virtual memory\nspace pointed to by TRY_EMPTY_VM_SPACE during the compilation process.\n\nThe original value of TRY_EMPTY_VM_SPACE macro is 0x8000000000,\nbut like la464 only has 40 bits of virtual address space, this value\njust exceeds the address range.\n\nIf we want to support chips with less than 40 bits virtual addresses,\nthen the value of this macro needs to be set small. I think setting\nthis value small will increase the probability of virtual address\nmapping failure. And the purpose of pch is to make compilation faster,\nbut I think we rarely compile on embedded systems. So this situation\nmay not be within our consideration.\n\nSo change the value of this macro to 0x1000000000.\n\ngcc/ChangeLog:\n\n\t* config/host-linux.cc (TRY_EMPTY_VM_SPACE): Modify the value of\n\tthe macro to 0x1000000000.", "tree": {"sha": "9471165757fdaaf3cd4a8e352e53dd8e2b236fe8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9471165757fdaaf3cd4a8e352e53dd8e2b236fe8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/529e03b9882fe48cfa3c182abb12a5858a5762a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/529e03b9882fe48cfa3c182abb12a5858a5762a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/529e03b9882fe48cfa3c182abb12a5858a5762a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/529e03b9882fe48cfa3c182abb12a5858a5762a2/comments", "author": {"login": "chenglulu326", "id": 88083425, "node_id": "MDQ6VXNlcjg4MDgzNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/88083425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenglulu326", "html_url": "https://github.com/chenglulu326", "followers_url": "https://api.github.com/users/chenglulu326/followers", "following_url": "https://api.github.com/users/chenglulu326/following{/other_user}", "gists_url": "https://api.github.com/users/chenglulu326/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenglulu326/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenglulu326/subscriptions", "organizations_url": "https://api.github.com/users/chenglulu326/orgs", "repos_url": "https://api.github.com/users/chenglulu326/repos", "events_url": "https://api.github.com/users/chenglulu326/events{/privacy}", "received_events_url": "https://api.github.com/users/chenglulu326/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chenglulu326", "id": 88083425, "node_id": "MDQ6VXNlcjg4MDgzNDI1", "avatar_url": "https://avatars.githubusercontent.com/u/88083425?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenglulu326", "html_url": "https://github.com/chenglulu326", "followers_url": "https://api.github.com/users/chenglulu326/followers", "following_url": "https://api.github.com/users/chenglulu326/following{/other_user}", "gists_url": "https://api.github.com/users/chenglulu326/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenglulu326/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenglulu326/subscriptions", "organizations_url": "https://api.github.com/users/chenglulu326/orgs", "repos_url": "https://api.github.com/users/chenglulu326/repos", "events_url": "https://api.github.com/users/chenglulu326/events{/privacy}", "received_events_url": "https://api.github.com/users/chenglulu326/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2cd665b1a939c97fbf053d998cf687943bc07e47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2cd665b1a939c97fbf053d998cf687943bc07e47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2cd665b1a939c97fbf053d998cf687943bc07e47"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "d1aa7ab28ca016b1b7df81d0ca8e84b6c4fc12c0", "filename": "gcc/config/host-linux.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/529e03b9882fe48cfa3c182abb12a5858a5762a2/gcc%2Fconfig%2Fhost-linux.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/529e03b9882fe48cfa3c182abb12a5858a5762a2/gcc%2Fconfig%2Fhost-linux.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fhost-linux.cc?ref=529e03b9882fe48cfa3c182abb12a5858a5762a2", "patch": "@@ -99,7 +99,7 @@\n #elif defined(__riscv) && defined (__LP64__)\n # define TRY_EMPTY_VM_SPACE\t0x1000000000\n #elif defined(__loongarch__) && defined(__LP64__)\n-# define TRY_EMPTY_VM_SPACE\t0x8000000000\n+# define TRY_EMPTY_VM_SPACE\t0x1000000000\n #else\n # define TRY_EMPTY_VM_SPACE\t0\n #endif"}]}