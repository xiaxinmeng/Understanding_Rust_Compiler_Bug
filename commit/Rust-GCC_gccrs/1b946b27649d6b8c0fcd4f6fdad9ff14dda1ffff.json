{"sha": "1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWI5NDZiMjc2NDlkNmI4YzBmY2Q0ZjZmZGFkOWZmMTRkZGExZmZmZg==", "commit": {"author": {"name": "David S. Miller", "email": "davem@davemloft.net", "date": "2011-09-26T21:09:06Z"}, "committer": {"name": "David S. Miller", "email": "davem@gcc.gnu.org", "date": "2011-09-26T21:09:06Z"}, "message": "Add rdgsr, edge, and pixel-compare VIS tests.\n\ngcc/testsuite/\n\n\t* gcc.target/sparc/rdgsr.c: New test.\n\t* gcc.target/sparc/edge.c: New test.\n\t* gcc.target/sparc/fcmp.c: New test.\n\nFrom-SVN: r179215", "tree": {"sha": "1d396ebe3cce77f445fd0402ade1f09773d7e1b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d396ebe3cce77f445fd0402ade1f09773d7e1b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/comments", "author": {"login": "davem330", "id": 1053866, "node_id": "MDQ6VXNlcjEwNTM4NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1053866?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davem330", "html_url": "https://github.com/davem330", "followers_url": "https://api.github.com/users/davem330/followers", "following_url": "https://api.github.com/users/davem330/following{/other_user}", "gists_url": "https://api.github.com/users/davem330/gists{/gist_id}", "starred_url": "https://api.github.com/users/davem330/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davem330/subscriptions", "organizations_url": "https://api.github.com/users/davem330/orgs", "repos_url": "https://api.github.com/users/davem330/repos", "events_url": "https://api.github.com/users/davem330/events{/privacy}", "received_events_url": "https://api.github.com/users/davem330/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "caa06916332c09b639863c5021aaa1c1a4b40988", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caa06916332c09b639863c5021aaa1c1a4b40988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caa06916332c09b639863c5021aaa1c1a4b40988"}], "stats": {"total": 104, "additions": 104, "deletions": 0}, "files": [{"sha": "14476085743696516cc5f078bba4d03819e27235", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "patch": "@@ -1,6 +1,9 @@\n 2011-09-26  David S. Miller  <davem@davemloft.net>\n \n \t* gcc.target/sparc/wrgsr.c: New test.\n+\t* gcc.target/sparc/rdgsr.c: New test.\n+\t* gcc.target/sparc/edge.c: New test.\n+\t* gcc.target/sparc/fcmp.c: New test.\n \n 2011-09-26  Janus Weil  <janus@gcc.gnu.org>\n "}, {"sha": "fcd7104d7d9d421756cc67022535e722ece6e185", "filename": "gcc/testsuite/gcc.target/sparc/edge.c", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Fedge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Fedge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Fedge.c?ref=1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "patch": "@@ -0,0 +1,39 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -mcpu=ultrasparc -mvis\" } */\n+\n+int test_edge8 (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge8 (p1, p2);\n+}\n+\n+int test_edge8l (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge8l (p1, p2);\n+}\n+\n+int test_edge16 (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge16 (p1, p2);\n+}\n+\n+int test_edge16l (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge16l (p1, p2);\n+}\n+\n+int test_edge32 (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge32 (p1, p2);\n+}\n+\n+int test_edge32l (void *p1, void *p2)\n+{\n+  return __builtin_vis_edge32l (p1, p2);\n+}\n+\n+/* { dg-final { scan-assembler \"edge8\\t%\" } } */\n+/* { dg-final { scan-assembler \"edge8l\\t%\" } } */\n+/* { dg-final { scan-assembler \"edge16\\t%\" } } */\n+/* { dg-final { scan-assembler \"edge16l\\t%\" } } */\n+/* { dg-final { scan-assembler \"edge32\\t%\" } } */\n+/* { dg-final { scan-assembler \"edge32l\\t%\" } } */"}, {"sha": "42b5bdcad3d227b2f3156da295557904efd3774f", "filename": "gcc/testsuite/gcc.target/sparc/fcmp.c", "status": "added", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Ffcmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Ffcmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Ffcmp.c?ref=1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "patch": "@@ -0,0 +1,53 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-mcpu=ultrasparc -mvis\" } */\n+typedef int vec32 __attribute__((vector_size(8)));\n+typedef short vec16 __attribute__((vector_size(8)));\n+\n+int test_fcmple16 (vec16 a, vec16 b)\n+{\n+  return __builtin_vis_fcmple16 (a, b);\n+}\n+\n+int test_fcmple32 (vec32 a, vec32 b)\n+{\n+  return __builtin_vis_fcmple32 (a, b);\n+}\n+\n+int test_fcmpne16 (vec16 a, vec16 b)\n+{\n+  return __builtin_vis_fcmpne16 (a, b);\n+}\n+\n+int test_fcmpne32 (vec32 a, vec32 b)\n+{\n+  return __builtin_vis_fcmpne32 (a, b);\n+}\n+\n+int test_fcmpgt16 (vec16 a, vec16 b)\n+{\n+  return __builtin_vis_fcmpgt16 (a, b);\n+}\n+\n+int test_fcmpgt32 (vec32 a, vec32 b)\n+{\n+  return __builtin_vis_fcmpgt32 (a, b);\n+}\n+\n+int test_fcmpeq16 (vec16 a, vec16 b)\n+{\n+  return __builtin_vis_fcmpeq16 (a, b);\n+}\n+\n+int test_fcmpeq32 (vec32 a, vec32 b)\n+{\n+  return __builtin_vis_fcmpeq32 (a, b);\n+}\n+\n+/* { dg-final { scan-assembler \"fcmple16\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmple32\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpne16\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpne32\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpgt16\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpgt32\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpeq16\\t%\" } } */\n+/* { dg-final { scan-assembler \"fcmpeq32\\t%\" } } */"}, {"sha": "e67bdaccdedf12c19210516845078d37e0c35362", "filename": "gcc/testsuite/gcc.target/sparc/rdgsr.c", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Frdgsr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Frdgsr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fsparc%2Frdgsr.c?ref=1b946b27649d6b8c0fcd4f6fdad9ff14dda1ffff", "patch": "@@ -0,0 +1,9 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -mcpu=ultrasparc -mvis\" } */\n+\n+long get_gsr (void)\n+{\n+\treturn __builtin_vis_read_gsr ();\n+}\n+\n+/* { dg-final { scan-assembler \"rd\\t%gsr\" } } */"}]}