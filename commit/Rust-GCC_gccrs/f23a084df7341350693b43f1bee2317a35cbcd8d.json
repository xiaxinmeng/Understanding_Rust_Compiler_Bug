{"sha": "f23a084df7341350693b43f1bee2317a35cbcd8d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjIzYTA4NGRmNzM0MTM1MDY5M2I0M2YxYmVlMjMxN2EzNWNiY2Q4ZA==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-06-05T17:01:31Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-06-05T17:01:31Z"}, "message": "gnu.h: Undef TARGET_OS_CPP_BUILTINS.\n\nconfig:\n\t* alpha/gnu.h: Undef TARGET_OS_CPP_BUILTINS.\n\t* i386/beos-elf.h: Use TARGET_OS_CPP_BUILTINS rather than\n\tCPP_PREDEFINES and part of CPP_SPEC.\n\ti386/freebsd-aout.h, i386/gas.h, i386/gnu.h, i386/linux-aout.h,\n\ti386/linux.h, i386/moss.h, i386/xm-vsta.h: Similarly.\n\nFrom-SVN: r54286", "tree": {"sha": "5ceb7f827fd279587802dbcf6d2e5bf81649bfc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ceb7f827fd279587802dbcf6d2e5bf81649bfc0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f23a084df7341350693b43f1bee2317a35cbcd8d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f23a084df7341350693b43f1bee2317a35cbcd8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f23a084df7341350693b43f1bee2317a35cbcd8d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f23a084df7341350693b43f1bee2317a35cbcd8d/comments", "author": null, "committer": null, "parents": [{"sha": "b80ee165bdf5173d9a4f55f41b11a2ceaaae4c18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b80ee165bdf5173d9a4f55f41b11a2ceaaae4c18", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b80ee165bdf5173d9a4f55f41b11a2ceaaae4c18"}], "stats": {"total": 149, "additions": 114, "deletions": 35}, "files": [{"sha": "d6c942ab23d78583e391164ddb934768693ac1da", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -1,3 +1,12 @@\n+2002-06-05  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+config:\n+\t* alpha/gnu.h: Undef TARGET_OS_CPP_BUILTINS.\n+\t* i386/beos-elf.h: Use TARGET_OS_CPP_BUILTINS rather than\n+\tCPP_PREDEFINES and part of CPP_SPEC.\n+\ti386/freebsd-aout.h, i386/gas.h, i386/gnu.h, i386/linux-aout.h,\n+\ti386/linux.h, i386/moss.h, i386/xm-vsta.h: Similarly.\n+\n Wed Jun  5 15:20:58 CEST 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* reg-stack.c (reg_to_stack): Do not call find_basic_blocks."}, {"sha": "7f9c2e2edecb4101a90afbbd59a4775c0b830a2f", "filename": "gcc/config/i386/beos-elf.h", "status": "modified", "additions": 19, "deletions": 10, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fbeos-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fbeos-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fbeos-elf.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -67,17 +67,26 @@ Boston, MA 02111-1307, USA.  */\n    \n #undef WCHAR_TYPE_SIZE\n #define WCHAR_TYPE_SIZE 16\n-    \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__ELF__ -D__BEOS__ -D__INTEL__ -D_X86_=1 \\\n--D__stdcall=__attribute__((__stdcall__)) \\\n--D__cdecl=__attribute__((__cdecl__)) \\\n--D__declspec(x)=__attribute__((x)) \\\n--Asystem=beos\"\n-\n-#undef CPP_SPEC\n-#define CPP_SPEC \"%{!no-fPIC:%{!no-fpic:-D__PIC__ -D__pic__}}\"\n \n+#define TARGET_OS_CPP_BUILTINS()\t\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__BEOS__\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__INTEL__\");\t\t\t\t\t\\\n+\tbuiltin_define (\"_X86_\");\t\t\t\t\t\\\n+\tbuiltin_define (\"__stdcall=__attribute__((__stdcall__))\");\t\\\n+\tbuiltin_define (\"__cdecl=__attribute__((__cdecl__))\");\t\t\\\n+\tbuiltin_define (\"__declspec(x)=__attribute__((x))\");\t\t\\\n+\tbuiltin_assert (\"system=beos\");\t\t\t\t\t\\\n+\tif (flag_pic)\t\t\t\t\t\t\t\\\n+\t  {\t\t\t\t\t\t\t\t\\\n+\t    builtin_define (\"__PIC__\");\t\t\t\t\t\\\n+\t    builtin_define (\"__pic__\");\t\t\t\t\t\\\n+\t  }\t\t\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+    \n /* BeOS uses lots of multichars, so don't warn about them unless the\n    user explicitly asks for the warnings with -Wmultichar.  Note that\n    CC1_SPEC is used for both cc1 and cc1plus.  */"}, {"sha": "c5ce80a1118d8816df9a897cc591f8fe2e1b5f83", "filename": "gcc/config/i386/freebsd-aout.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Ffreebsd-aout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Ffreebsd-aout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ffreebsd-aout.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -37,9 +37,16 @@ Boston, MA 02111-1307, USA.  */\n    defaults.h works.  */\n #undef ASM_PREFERRED_EH_DATA_FORMAT\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-Dunix -D__FreeBSD__\\\n- -Asystem=unix -Asystem=bsd -Asystem=FreeBSD\"\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define (\"__FreeBSD__\");\t\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\\\n+\tbuiltin_assert (\"system=bsd\");\t\t\\\n+\tbuiltin_assert (\"system=FreeBSD\");\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n \n /* Like the default, except no -lg.  */\n #define LIB_SPEC \"%{!shared:%{!pg:-lc}%{pg:-lc_p}}\""}, {"sha": "1f9de018821acfea747b1d3b79efb897269c9316", "filename": "gcc/config/i386/gas.h", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fgas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fgas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgas.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -45,11 +45,6 @@ Boston, MA 02111-1307, USA.  */\n \n #define SDB_DEBUGGING_INFO\n \n-/* Specify predefined symbols in preprocessor.  */\n-\n-#define CPP_PREDEFINES \"-Dunix\"\n-#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE}\"\n-\n /* Allow #sccs in preprocessor.  */\n \n #define SCCS_DIRECTIVE"}, {"sha": "acf2d3fdac828d49492ef494650f683deff5ebd9", "filename": "gcc/config/i386/gnu.h", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fgnu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fgnu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fgnu.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -3,14 +3,29 @@\n #undef TARGET_VERSION\n #define TARGET_VERSION fprintf (stderr, \" (i386 GNU)\");\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__ELF__ -DMACH -Asystem=mach \\\n-  -Dunix -Asystem=unix -Asystem=posix -D__gnu_hurd__ -D__GNU__ -Asystem=gnu\"\n+#undef TARGET_OS_CPP_BUILTINS /* config.gcc includes i386/linux.h.  */\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"MACH\");\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\\\n+\tbuiltin_define (\"__GNU__\");\t\t\\\n+\tbuiltin_define (\"__gnu_hurd__\");\t\\\n+\tbuiltin_assert (\"system=gnu\");\t\t\\\n+\tbuiltin_assert (\"system=mach\");\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+\tbuiltin_assert (\"system=unix\");\t\t\\\n+\tif (flag_pic)\t\t\t\t\\\n+\t  {\t\t\t\t\t\\\n+\t    builtin_define (\"__PIC__\");\t\t\\\n+\t    builtin_define (\"__pic__\");\t\t\\\n+\t  }\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n \n #undef CPP_SPEC\n-#define CPP_SPEC \"\\\n-  %{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} \\\n-  %{posix:-D_POSIX_SOURCE} %{bsd:-D_BSD_SOURCE}\"\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{bsd:-D_BSD_SOURCE}\"\n \n #undef CC1_SPEC\n #define CC1_SPEC \"%(cc1_cpu)\""}, {"sha": "783b8a946edbb786b82ea673850534faa977cba4", "filename": "gcc/config/i386/linux-aout.h", "status": "modified", "additions": 15, "deletions": 5, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Flinux-aout.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Flinux-aout.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux-aout.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -23,13 +23,23 @@ Boston, MA 02111-1307, USA.  */\n #undef ASM_COMMENT_START\n #define ASM_COMMENT_START \"#\"\n \n-/* Specify predefined symbols in preprocessor.  */\n-\n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-Dunix -D__gnu_linux__ -Dlinux -Asystem=posix\"\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"linux\");\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+\tif (flag_pic)\t\t\t\t\\\n+\t  {\t\t\t\t\t\\\n+\t    builtin_define (\"__PIC__\");\t\t\\\n+\t    builtin_define (\"__pic__\");\t\t\\\n+\t  }\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n \n #undef CPP_SPEC\n-#define CPP_SPEC \"%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}\"\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE}\"\n \n #undef SIZE_TYPE\n #define SIZE_TYPE \"unsigned int\""}, {"sha": "3bc20fe54105a420c0f1d19c428a1c5dbedb98f1", "filename": "gcc/config/i386/linux.h", "status": "modified", "additions": 17, "deletions": 4, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Flinux.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -80,14 +80,27 @@ Boston, MA 02111-1307, USA.  */\n #undef WCHAR_TYPE_SIZE\n #define WCHAR_TYPE_SIZE BITS_PER_WORD\n     \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__ELF__ -Dunix -D__gnu_linux__ -Dlinux -Asystem=posix\"\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"linux\");\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\\\n+\tbuiltin_define (\"__gnu_linux__\");\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+\tif (flag_pic)\t\t\t\t\\\n+\t  {\t\t\t\t\t\\\n+\t    builtin_define (\"__PIC__\");\t\t\\\n+\t    builtin_define (\"__pic__\");\t\t\\\n+\t  }\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n \n #undef CPP_SPEC\n #ifdef USE_GNULIBC_1\n-#define CPP_SPEC \"%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE}\"\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE}\"\n #else\n-#define CPP_SPEC \"%{fPIC:-D__PIC__ -D__pic__} %{fpic:-D__PIC__ -D__pic__} %{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\"\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE} %{pthread:-D_REENTRANT}\"\n #endif\n \n #undef CC1_SPEC"}, {"sha": "642c625a3950bca64a5087341ec88f5f8b8ae4e7", "filename": "gcc/config/i386/moss.h", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fmoss.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fmoss.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmoss.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -19,8 +19,20 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__ELF__ -Dmoss -Asystem=posix\"\n+#undef TARGET_OS_CPP_BUILTINS /* config.gcc includes i386/linux.h.  */\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"moss\");\t\t\\\n+\tbuiltin_define (\"__ELF__\");\t\t\\\n+\tbuiltin_assert (\"system=posix\");\t\\\n+\tif (flag_pic)\t\t\t\t\\\n+\t  {\t\t\t\t\t\\\n+\t    builtin_define (\"__PIC__\");\t\t\\\n+\t    builtin_define (\"__pic__\");\t\t\\\n+\t  }\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n \n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC  \"crt0.o%s\""}, {"sha": "53943eaf7dadb1928b21d1de0babc16dfb725746", "filename": "gcc/config/i386/xm-vsta.h", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fxm-vsta.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f23a084df7341350693b43f1bee2317a35cbcd8d/gcc%2Fconfig%2Fi386%2Fxm-vsta.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fxm-vsta.h?ref=f23a084df7341350693b43f1bee2317a35cbcd8d", "patch": "@@ -1,2 +1,11 @@\n /* Use semicolons to separate elements of a path.  */\n #define PATH_SEPARATOR ';'\n+\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+\tbuiltin_define_std (\"unix\");\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n+#define CPP_SPEC \"%{posix:-D_POSIX_SOURCE}\""}]}