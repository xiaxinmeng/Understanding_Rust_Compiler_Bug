{"sha": "79589c4d8bb8829579557f76b4e8974247b78895", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Nzk1ODljNGQ4YmI4ODI5NTc5NTU3Zjc2YjRlODk3NDI0N2I3ODg5NQ==", "commit": {"author": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-05-16T14:01:34Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-05-16T14:01:34Z"}, "message": "added several \"test_text\" attributes; changed several fixes to use `c_fix = format'\nand  re-alphabetized the fixes\n\nFrom-SVN: r33930", "tree": {"sha": "a68e310a1bb2d5ac3f9f4ee0b355d69687797aed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a68e310a1bb2d5ac3f9f4ee0b355d69687797aed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79589c4d8bb8829579557f76b4e8974247b78895", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79589c4d8bb8829579557f76b4e8974247b78895", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79589c4d8bb8829579557f76b4e8974247b78895", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79589c4d8bb8829579557f76b4e8974247b78895/comments", "author": null, "committer": null, "parents": [{"sha": "789f3ce3ddeaceb33651879e546310f994f5c4df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/789f3ce3ddeaceb33651879e546310f994f5c4df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/789f3ce3ddeaceb33651879e546310f994f5c4df"}], "stats": {"total": 2263, "additions": 1303, "deletions": 960}, "files": [{"sha": "9618d96eb83b9991d04422022358060660e57b9c", "filename": "gcc/fixinc/check.diff", "status": "modified", "additions": 252, "deletions": 7, "changes": 259, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Fcheck.diff", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Fcheck.diff", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fcheck.diff?ref=79589c4d8bb8829579557f76b4e8974247b78895", "patch": "@@ -128,7 +128,7 @@\n *** inc/curses.h\n --- res/curses.h\n ***************\n-*** 1,11 ****\n+*** 1,16 ****\n   \n   \n   #ifndef AVOID_BOOL_CHECK\n@@ -140,7 +140,12 @@\n   #ifndef BAD_STRUCT_TERM_CHECK\n ! typedef struct term;\n   #endif  /* BAD_STRUCT_TERM_CHECK */\n---- 1,15 ----\n+  \n+  \n+  #ifndef LYNX_VOID_INT_CHECK\n+! # define\tvoid\tint \t/* curses foiled again */\n+  #endif  /* LYNX_VOID_INT_CHECK */\n+--- 1,20 ----\n   \n   \n   #ifndef AVOID_BOOL_CHECK\n@@ -156,6 +161,41 @@\n   #ifndef BAD_STRUCT_TERM_CHECK\n ! struct term;\n   #endif  /* BAD_STRUCT_TERM_CHECK */\n+  \n+  \n+  #ifndef LYNX_VOID_INT_CHECK\n+! /* curses foiled again */\n+  #endif  /* LYNX_VOID_INT_CHECK */\n+*** inc/fcntl.h\n+--- res/fcntl.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #ifndef LYNXOS_FCNTL_PROTO_CHECK\n+! extern int fcntl(int, int, int);\n+  #endif  /* LYNXOS_FCNTL_PROTO_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #ifndef LYNXOS_FCNTL_PROTO_CHECK\n+! extern int fcntl(int, int, ...);\n+  #endif  /* LYNXOS_FCNTL_PROTO_CHECK */\n+*** inc/inttypes.h\n+--- res/inttypes.h\n+***************\n+*** 2,6 ****\n+  \n+  #ifndef HPUX11_UINT32_C_CHECK\n+  #define CONCAT_U__(__c)\t__CONCAT__(__c,u)\n+! #define UINT32_C(__c)\t__CONCAT__(__CONCAT_U__(__c),l)\n+  #endif  /* HPUX11_UINT32_C_CHECK */\n+--- 2,6 ----\n+  \n+  #ifndef HPUX11_UINT32_C_CHECK\n+  #define CONCAT_U__(__c)\t__CONCAT__(__c,u)\n+! #define UINT32_C(__c) __CONCAT__(__c,ul)\n+  #endif  /* HPUX11_UINT32_C_CHECK */\n *** inc/libgen.h\n --- res/libgen.h\n ***************\n@@ -173,10 +213,22 @@\n ! #define something _FOOsomething\n   #define mumble _FOOmumble\n   #endif  /* BAD_LVAL_CHECK */\n+*** inc/limits.h\n+--- res/limits.h\n+***************\n+*** 1,5 ****\n+--- 1,7 ----\n+  \n+  \n+  #ifndef LIMITS_IFNDEFS_CHECK\n++ #ifndef DBL_DIG\n+   #\tdefine\tDBL_DIG \t 0  /* somthin' */\n++ #endif\n+  #endif  /* LIMITS_IFNDEFS_CHECK */\n *** inc/math.h\n --- res/math.h\n ***************\n-*** 1,10 ****\n+*** 1,35 ****\n   \n   \n   #ifndef BROKEN_CABS_CHECK\n@@ -187,7 +239,32 @@\n   #endif\n   #endif  /* BROKEN_CABS_CHECK */\n   \n---- 1,14 ----\n+  \n+  #ifndef FIX_HEADER_BREAKAGE_CHECK\n+! extern double floor(), ceil(), fmod(), fabs();\n+  #endif  /* FIX_HEADER_BREAKAGE_CHECK */\n+  \n+  \n+  #ifndef HPUX8_BOGUS_INLINES_CHECK\n+! inline int abs(int v) { return (v>=0)?v:-v; }\n+! inline double sqr(double v) { return v**0.5; }\n+  #endif  /* HPUX8_BOGUS_INLINES_CHECK */\n+  \n+  \n+  #ifndef ISC_FMOD_CHECK\n+! extern double\tfmod(double);\n+  #endif  /* ISC_FMOD_CHECK */\n+  \n+  \n+  #ifndef M88K_BAD_HYPOT_OPT_CHECK\n+  extern double hypot();\n+  #endif  /* M88K_BAD_HYPOT_OPT_CHECK */\n+  \n+  \n+  #ifndef MATH_EXCEPTION_CHECK\n+  typedef struct exception t_math_exception;\n+  #endif  /* MATH_EXCEPTION_CHECK */\n+--- 1,56 ----\n + #ifndef FIXINC_MATH_EXCEPTION_CHECK\n + #define FIXINC_MATH_EXCEPTION_CHECK 1\n + \n@@ -202,9 +279,40 @@\n   #endif\n   #endif  /* BROKEN_CABS_CHECK */\n   \n-***************\n-*** 12,14 ****\n---- 16,23 ----\n+  \n+  #ifndef FIX_HEADER_BREAKAGE_CHECK\n+! extern double floor(), ceil(), fmod(), fabs _PARAMS((double));\n+  #endif  /* FIX_HEADER_BREAKAGE_CHECK */\n+  \n+  \n+  #ifndef HPUX8_BOGUS_INLINES_CHECK\n+! extern \"C\" int abs(int);\n+! \n+  #endif  /* HPUX8_BOGUS_INLINES_CHECK */\n+  \n+  \n+  #ifndef ISC_FMOD_CHECK\n+! extern double\tfmod(double, double);\n+  #endif  /* ISC_FMOD_CHECK */\n+  \n+  \n+  #ifndef M88K_BAD_HYPOT_OPT_CHECK\n+  extern double hypot();\n++ /* Workaround a stupid Motorola optimization if one\n++    of x or y is 0.0 and the other is negative!  */\n++ #ifdef __STDC__\n++ static __inline__ double fake_hypot (double x, double y)\n++ #else\n++ static __inline__ double fake_hypot (x, y)\n++ \tdouble x, y;\n++ #endif\n++ {\n++ \treturn fabs (hypot (x, y));\n++ }\n++ #define hypot\tfake_hypot\n+  #endif  /* M88K_BAD_HYPOT_OPT_CHECK */\n+  \n+  \n   #ifndef MATH_EXCEPTION_CHECK\n   typedef struct exception t_math_exception;\n   #endif  /* MATH_EXCEPTION_CHECK */\n@@ -213,6 +321,77 @@\n + #endif\n + \n + #endif  /* FIXINC_MATH_EXCEPTION_CHECK */\n+*** inc/netinet/ip.h\n+--- res/netinet/ip.h\n+***************\n+*** 4,10 ****\n+  struct mumble {\n+    union {\n+      int x;\n+!   }\n+  }; /* mumbled struct */\n+  \n+  #endif  /* IP_MISSING_SEMI_CHECK */\n+--- 4,10 ----\n+  struct mumble {\n+    union {\n+      int x;\n+!   };\n+  }; /* mumbled struct */\n+  \n+  #endif  /* IP_MISSING_SEMI_CHECK */\n+*** inc/rpc/auth.h\n+--- res/rpc/auth.h\n+***************\n+*** 1,5 ****\n+--- 1,6 ----\n+  \n+  \n+  #ifndef STRUCT_SOCKADDR_CHECK\n++ struct sockaddr;\n+  extern AUTH* authdes_create( struct sockaddr* );\n+  #endif  /* STRUCT_SOCKADDR_CHECK */\n+*** inc/rpc/rpc.h\n+--- res/rpc/rpc.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #ifndef NESTED_AUTH_DES_CHECK\n+! /*#include <rpc/auth_des.h> /* skip this */\n+  #endif  /* NESTED_AUTH_DES_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #ifndef NESTED_AUTH_DES_CHECK\n+! /*#include <rpc/auth_des.h> */ /* skip this */\n+  #endif  /* NESTED_AUTH_DES_CHECK */\n+*** inc/rpc/xdr.h\n+--- res/rpc/xdr.h\n+***************\n+*** 1,5 ****\n+--- 1,6 ----\n+  \n+  \n+  #ifndef STRUCT_FILE_CHECK\n++ struct __file_s;\n+  extern void xdrstdio_create( struct __file_s* );\n+  #endif  /* STRUCT_FILE_CHECK */\n+*** inc/sparc/asm_linkage.h\n+--- res/sparc/asm_linkage.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #ifndef KANDR_CONCAT_CHECK\n+! #define __CONCAT__(a,b) a/**/b\n+  #endif  /* KANDR_CONCAT_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #ifndef KANDR_CONCAT_CHECK\n+! #define __CONCAT__(a,b) a##b\n+  #endif  /* KANDR_CONCAT_CHECK */\n *** inc/stdio.h\n --- res/stdio.h\n ***************\n@@ -327,6 +506,21 @@\n   extern int foo;\n   #endif\n   #endif  /* ALPHA_PARENS_CHECK */\n+*** inc/sys/asm.h\n+--- res/sys/asm.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #ifndef IRIX_ASM_APOSTROPHE_CHECK\n+! # and we're on vacation\n+  #endif  /* IRIX_ASM_APOSTROPHE_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #ifndef IRIX_ASM_APOSTROPHE_CHECK\n+! # and we are on vacation\n+  #endif  /* IRIX_ASM_APOSTROPHE_CHECK */\n *** inc/sys/file.h\n --- res/sys/file.h\n ***************\n@@ -342,6 +536,25 @@\n   #ifndef HP_SYSFILE_CHECK\n ! extern void foo(struct file *, ...); /* HPUX_SOURCE - bad varargs */\n   #endif  /* HP_SYSFILE_CHECK */\n+*** inc/sys/limits.h\n+--- res/sys/limits.h\n+***************\n+*** 2,8 ****\n+  \n+  #ifndef NESTED_SYS_LIMITS_CHECK\n+  /*\n+! #define CHILD_MAX 20 /* Max, Max, ... */ /*\n+! #define OPEN_MAX  20 /* Max, Max, ... */\n+  \n+  #endif  /* NESTED_SYS_LIMITS_CHECK */\n+--- 2,8 ----\n+  \n+  #ifndef NESTED_SYS_LIMITS_CHECK\n+  /*\n+! #define CHILD_MAX 20  Max, Max, ... */ /*\n+! #define OPEN_MAX  20  Max, Max, ... */\n+  \n+  #endif  /* NESTED_SYS_LIMITS_CHECK */\n *** inc/sys/mman.h\n --- res/sys/mman.h\n ***************\n@@ -426,6 +639,21 @@\n   # include \"../machine/dontfix.h\"\n ! # include <machine/psl.h>\n   #endif  /* HP_INLINE_CHECK */\n+*** inc/sys/stat.h\n+--- res/sys/stat.h\n+***************\n+*** 1,5 ****\n+  \n+  \n+  #ifndef M88K_BAD_S_IF_CHECK\n+! #define S_ISREG(m) (m & S_IFREG) /* is regular? */\n+  #endif  /* M88K_BAD_S_IF_CHECK */\n+--- 1,5 ----\n+  \n+  \n+  #ifndef M88K_BAD_S_IF_CHECK\n+! #define S_ISREG(m) (((m) & S_IFMT) == S_IFREG) /* is regular? */\n+  #endif  /* M88K_BAD_S_IF_CHECK */\n *** inc/sys/time.h\n --- res/sys/time.h\n ***************\n@@ -441,6 +669,23 @@\n   #ifndef HPUX_SYSTIME_CHECK\n ! struct sigevent;\n   #endif  /* HPUX_SYSTIME_CHECK */\n+*** inc/sys/types.h\n+--- res/sys/types.h\n+***************\n+*** 1,6 ****\n+  \n+  \n+  #ifndef IRIX_MULTILINE_CMNT_CHECK\n+! /* we check the type of the result\n+! // of the sizeof something.  This is a bad test :-( */\n+  #endif  /* IRIX_MULTILINE_CMNT_CHECK */\n+--- 1,6 ----\n+  \n+  \n+  #ifndef IRIX_MULTILINE_CMNT_CHECK\n+! /* we check the type of the result */\n+! // /* of the sizeof something.  This is a bad test :-( */\n+  #endif  /* IRIX_MULTILINE_CMNT_CHECK */\n *** inc/sys/wait.h\n --- res/sys/wait.h\n ***************"}, {"sha": "e8b60826c7db6bd771d4314f8c396674f7d96a55", "filename": "gcc/fixinc/check.tpl", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Fcheck.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Fcheck.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fcheck.tpl?ref=79589c4d8bb8829579557f76b4e8974247b78895", "patch": "@@ -21,7 +21,7 @@ export TARGET_MACHINE DESTDIR SRCDIR FIND_BASE VERBOSE\n mkdir ${DESTDIR} ${SRCDIR}\n \n ( cd ${SRCDIR}\n-  mkdir sys X11 Xm sundev sunwindow )\n+  mkdir netinet rpc sparc sundev sunwindow sys X11 Xm )\n \n [=\n "}, {"sha": "d3ad7910550030553427d900318fbf246660feb4", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 737, "deletions": 678, "changes": 1415, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=79589c4d8bb8829579557f76b4e8974247b78895", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 118 fixup descriptions.\n+ * This file contains 119 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -1083,11 +1083,46 @@ const char* apzAvoid_BoolPatch[] = { \"sed\",\n #endif\\n\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Bad_Lval fix\n+ */\n+#define BAD_LVAL_FIXIDX                  22\n+tSCC zBad_LvalName[] =\n+     \"bad_lval\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zBad_LvalList[] =\n+  \"|libgen.h|dirent.h|ftw.h|grp.h|ndbm.h|pthread.h|pwd.h|signal.h|standards.h|stdlib.h|string.h|stropts.h|time.h|unistd.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzBad_LvalMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zBad_LvalSelect0[] =\n+       \"^[ \\t]*#[ \\t]*pragma[ \\t]+extern_prefix\";\n+\n+#define    BAD_LVAL_TEST_CT  1\n+tTestDesc aBad_LvalTests[] = {\n+  { TT_EGREP,    zBad_LvalSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Bad_Lval\n+ */\n+const char* apzBad_LvalPatch[] = { \"sed\",\n+    \"-e\", \"s/^[ \\t]*#[ \\t]*define[ \\t][ \\t]*\\\\([^(]*\\\\)\\\\(([^)]*)\\\\)[ \\t]*\\\\(_.*\\\\)\\\\1\\\\2[ \\t]*$/#define \\\\1 \\\\3\\\\1/\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Bad_Struct_Term fix\n  */\n-#define BAD_STRUCT_TERM_FIXIDX           22\n+#define BAD_STRUCT_TERM_FIXIDX           23\n tSCC zBad_Struct_TermName[] =\n      \"bad_struct_term\";\n \n@@ -1122,7 +1157,7 @@ const char* apzBad_Struct_TermPatch[] = { \"sed\",\n  *\n  *  Description of Badquote fix\n  */\n-#define BADQUOTE_FIXIDX                  23\n+#define BADQUOTE_FIXIDX                  24\n tSCC zBadquoteName[] =\n      \"badquote\";\n \n@@ -1145,41 +1180,6 @@ const char* apzBadquotePatch[] = { \"sed\",\n     \"-e\", \"s/doesn't/does not/\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Bad_Lval fix\n- */\n-#define BAD_LVAL_FIXIDX                  24\n-tSCC zBad_LvalName[] =\n-     \"bad_lval\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zBad_LvalList[] =\n-  \"|libgen.h|dirent.h|ftw.h|grp.h|ndbm.h|pthread.h|pwd.h|signal.h|standards.h|stdlib.h|string.h|stropts.h|time.h|unistd.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzBad_LvalMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zBad_LvalSelect0[] =\n-       \"^[ \\t]*#[ \\t]*pragma[ \\t]+extern_prefix\";\n-\n-#define    BAD_LVAL_TEST_CT  1\n-tTestDesc aBad_LvalTests[] = {\n-  { TT_EGREP,    zBad_LvalSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Bad_Lval\n- */\n-const char* apzBad_LvalPatch[] = { \"sed\",\n-    \"-e\", \"s/^[ \\t]*#[ \\t]*define[ \\t][ \\t]*\\\\([^(]*\\\\)\\\\(([^)]*)\\\\)[ \\t]*\\\\(_.*\\\\)\\\\1\\\\2[ \\t]*$/#define \\\\1 \\\\3\\\\1/\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Broken_Assert_Stdio fix\n@@ -1306,258 +1306,293 @@ const char* apzBroken_CabsPatch[] = { \"sed\",\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Dec_Intern_Asm fix\n+ *  Description of Ctrl_Quotes_Def fix\n  */\n-#define DEC_INTERN_ASM_FIXIDX            28\n-tSCC zDec_Intern_AsmName[] =\n-     \"dec_intern_asm\";\n+#define CTRL_QUOTES_DEF_FIXIDX           28\n+tSCC zCtrl_Quotes_DefName[] =\n+     \"ctrl_quotes_def\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zDec_Intern_AsmList[] =\n-  \"|c_asm.h|\";\n+#define zCtrl_Quotes_DefList (char*)NULL\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzDec_Intern_AsmMachs (const char**)NULL\n-#define DEC_INTERN_ASM_TEST_CT  0\n-#define aDec_Intern_AsmTests   (tTestDesc*)NULL\n+#define apzCtrl_Quotes_DefMachs (const char**)NULL\n \n /*\n- *  Fix Command Arguments for Dec_Intern_Asm\n+ *  content selection pattern - do fix if pattern found\n  */\n-const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n-    \"-e\", \"/^[ \\t]*float[ \\t]*fasm/i\\\\\\n\\\n-#ifdef __DECC\\n\",\n-    \"-e\", \"/^[ \\t]*#[ \\t]*pragma[ \\t]*intrinsic([ \\t]*dasm/a\\\\\\n\\\n-#endif\\n\",\n+tSCC zCtrl_Quotes_DefSelect0[] =\n+       \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n+\n+#define    CTRL_QUOTES_DEF_TEST_CT  1\n+tTestDesc aCtrl_Quotes_DefTests[] = {\n+  { TT_EGREP,    zCtrl_Quotes_DefSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Ctrl_Quotes_Def\n+ */\n+const char* apzCtrl_Quotes_DefPatch[] = {\n+    \"char_macro_def\",\n+    \"CTRL\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Ecd_Cursor fix\n+ *  Description of Ctrl_Quotes_Use fix\n  */\n-#define ECD_CURSOR_FIXIDX                29\n-tSCC zEcd_CursorName[] =\n-     \"ecd_cursor\";\n+#define CTRL_QUOTES_USE_FIXIDX           29\n+tSCC zCtrl_Quotes_UseName[] =\n+     \"ctrl_quotes_use\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zEcd_CursorList[] =\n-  \"|sunwindow/win_lock.h|sunwindow/win_cursor.h|\";\n+#define zCtrl_Quotes_UseList (char*)NULL\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzEcd_CursorMachs (const char**)NULL\n-#define ECD_CURSOR_TEST_CT  0\n-#define aEcd_CursorTests   (tTestDesc*)NULL\n+#define apzCtrl_Quotes_UseMachs (const char**)NULL\n \n /*\n- *  Fix Command Arguments for Ecd_Cursor\n+ *  content selection pattern - do fix if pattern found\n  */\n-const char* apzEcd_CursorPatch[] = { \"sed\",\n-    \"-e\", \"s/ecd.cursor/ecd_cursor/\",\n+tSCC zCtrl_Quotes_UseSelect0[] =\n+       \"define[ \\t]+[A-Z0-9_]+[ \\t]+[A-Z0-9_]+CTRL[ \\t]*\\\\( *[^,']\";\n+\n+#define    CTRL_QUOTES_USE_TEST_CT  1\n+tTestDesc aCtrl_Quotes_UseTests[] = {\n+  { TT_EGREP,    zCtrl_Quotes_UseSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Ctrl_Quotes_Use\n+ */\n+const char* apzCtrl_Quotes_UsePatch[] = {\n+    \"char_macro_use\",\n+    \"CTRL\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hp_Inline fix\n+ *  Description of Cxx_Unready fix\n  */\n-#define HP_INLINE_FIXIDX                 30\n-tSCC zHp_InlineName[] =\n-     \"hp_inline\";\n+#define CXX_UNREADY_FIXIDX               30\n+tSCC zCxx_UnreadyName[] =\n+     \"cxx_unready\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHp_InlineList[] =\n-  \"|sys/spinlock.h|\";\n+tSCC zCxx_UnreadyList[] =\n+  \"|sys/mman.h|rpc/types.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHp_InlineMachs (const char**)NULL\n+#define apzCxx_UnreadyMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zHp_InlineSelect0[] =\n-       \"include.*\\\"\\\\.\\\\./machine/\";\n+tSCC zCxx_UnreadySelect0[] =\n+       \"[^#]+malloc.*;\";\n \n-#define    HP_INLINE_TEST_CT  1\n-tTestDesc aHp_InlineTests[] = {\n-  { TT_EGREP,    zHp_InlineSelect0, (regex_t*)NULL }, };\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zCxx_UnreadyBypass0[] =\n+       \"\\\"C\\\"|__BEGIN_DECLS\";\n+\n+#define    CXX_UNREADY_TEST_CT  2\n+tTestDesc aCxx_UnreadyTests[] = {\n+  { TT_NEGREP,   zCxx_UnreadyBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zCxx_UnreadySelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Hp_Inline\n+ *  Fix Command Arguments for Cxx_Unready\n  */\n-const char* apzHp_InlinePatch[] = { \"sed\",\n-    \"-e\", \"s,\\\"../machine/inline.h\\\",<machine/inline.h>,\",\n-    \"-e\", \"s,\\\"../machine/psl.h\\\",<machine/psl.h>,\",\n+const char* apzCxx_UnreadyPatch[] = {\n+    \"wrap\",\n+    \"#ifdef __cplusplus\\n\\\n+extern \\\"C\\\" {\\n\\\n+#endif\\n\",\n+    \"#ifdef __cplusplus\\n\\\n+}\\n\\\n+#endif\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hp_Sysfile fix\n+ *  Description of Dec_Intern_Asm fix\n  */\n-#define HP_SYSFILE_FIXIDX                31\n-tSCC zHp_SysfileName[] =\n-     \"hp_sysfile\";\n+#define DEC_INTERN_ASM_FIXIDX            31\n+tSCC zDec_Intern_AsmName[] =\n+     \"dec_intern_asm\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHp_SysfileList[] =\n-  \"|sys/file.h|\";\n+tSCC zDec_Intern_AsmList[] =\n+  \"|c_asm.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHp_SysfileMachs (const char**)NULL\n+#define apzDec_Intern_AsmMachs (const char**)NULL\n+#define DEC_INTERN_ASM_TEST_CT  0\n+#define aDec_Intern_AsmTests   (tTestDesc*)NULL\n \n /*\n- *  content selection pattern - do fix if pattern found\n+ *  Fix Command Arguments for Dec_Intern_Asm\n  */\n-tSCC zHp_SysfileSelect0[] =\n-       \"HPUX_SOURCE\";\n+const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n+    \"-e\", \"/^[ \\t]*float[ \\t]*fasm/i\\\\\\n\\\n+#ifdef __DECC\\n\",\n+    \"-e\", \"/^[ \\t]*#[ \\t]*pragma[ \\t]*intrinsic([ \\t]*dasm/a\\\\\\n\\\n+#endif\\n\",\n+    (char*)NULL };\n \n-#define    HP_SYSFILE_TEST_CT  1\n-tTestDesc aHp_SysfileTests[] = {\n-  { TT_EGREP,    zHp_SysfileSelect0, (regex_t*)NULL }, };\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Ecd_Cursor fix\n+ */\n+#define ECD_CURSOR_FIXIDX                32\n+tSCC zEcd_CursorName[] =\n+     \"ecd_cursor\";\n \n /*\n- *  Fix Command Arguments for Hp_Sysfile\n+ *  File name selection pattern\n  */\n-const char* apzHp_SysfilePatch[] = { \"sed\",\n-    \"-e\", \"s/(\\\\.\\\\.\\\\.)/(struct file *, ...)/\",\n+tSCC zEcd_CursorList[] =\n+  \"|sunwindow/win_lock.h|sunwindow/win_cursor.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzEcd_CursorMachs (const char**)NULL\n+#define ECD_CURSOR_TEST_CT  0\n+#define aEcd_CursorTests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Ecd_Cursor\n+ */\n+const char* apzEcd_CursorPatch[] = { \"sed\",\n+    \"-e\", \"s/ecd.cursor/ecd_cursor/\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Cxx_Unready fix\n+ *  Description of Fix_Header_Breakage fix\n  */\n-#define CXX_UNREADY_FIXIDX               32\n-tSCC zCxx_UnreadyName[] =\n-     \"cxx_unready\";\n+#define FIX_HEADER_BREAKAGE_FIXIDX       33\n+tSCC zFix_Header_BreakageName[] =\n+     \"fix_header_breakage\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zCxx_UnreadyList[] =\n-  \"|sys/mman.h|rpc/types.h|\";\n+tSCC zFix_Header_BreakageList[] =\n+  \"|math.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzCxx_UnreadyMachs (const char**)NULL\n+tSCC* apzFix_Header_BreakageMachs[] = {\n+        \"m88k-motorola-sysv3*\",\n+        (const char*)NULL };\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zCxx_UnreadySelect0[] =\n-       \"[^#]+malloc.*;\";\n+tSCC zFix_Header_BreakageSelect0[] =\n+       \"extern double floor\\\\(\\\\), ceil\\\\(\\\\), fmod\\\\(\\\\), fabs\\\\(\\\\);\";\n \n-/*\n- *  content bypass pattern - skip fix if pattern found\n- */\n-tSCC zCxx_UnreadyBypass0[] =\n-       \"\\\"C\\\"|__BEGIN_DECLS\";\n-\n-#define    CXX_UNREADY_TEST_CT  2\n-tTestDesc aCxx_UnreadyTests[] = {\n-  { TT_NEGREP,   zCxx_UnreadyBypass0, (regex_t*)NULL },\n-  { TT_EGREP,    zCxx_UnreadySelect0, (regex_t*)NULL }, };\n+#define    FIX_HEADER_BREAKAGE_TEST_CT  1\n+tTestDesc aFix_Header_BreakageTests[] = {\n+  { TT_EGREP,    zFix_Header_BreakageSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Cxx_Unready\n+ *  Fix Command Arguments for Fix_Header_Breakage\n  */\n-const char* apzCxx_UnreadyPatch[] = {\n-    \"wrap\",\n-    \"#ifdef __cplusplus\\n\\\n-extern \\\"C\\\" {\\n\\\n-#endif\\n\",\n-    \"#ifdef __cplusplus\\n\\\n-}\\n\\\n-#endif\\n\",\n+const char* apzFix_Header_BreakagePatch[] = {\n+    \"format\",\n+    \"extern double floor(), ceil(), fmod(), fabs _PARAMS((double));\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hpux_Maxint fix\n+ *  Description of Hp_Inline fix\n  */\n-#define HPUX_MAXINT_FIXIDX               33\n-tSCC zHpux_MaxintName[] =\n-     \"hpux_maxint\";\n+#define HP_INLINE_FIXIDX                 34\n+tSCC zHp_InlineName[] =\n+     \"hp_inline\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHpux_MaxintList[] =\n-  \"|sys/param.h|\";\n+tSCC zHp_InlineList[] =\n+  \"|sys/spinlock.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHpux_MaxintMachs (const char**)NULL\n+#define apzHp_InlineMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zHpux_MaxintSelect0[] =\n-       \"^#[ \\t]*define[ \\t]*MAXINT[ \\t]\";\n+tSCC zHp_InlineSelect0[] =\n+       \"include.*\\\"\\\\.\\\\./machine/\";\n \n-#define    HPUX_MAXINT_TEST_CT  1\n-tTestDesc aHpux_MaxintTests[] = {\n-  { TT_EGREP,    zHpux_MaxintSelect0, (regex_t*)NULL }, };\n+#define    HP_INLINE_TEST_CT  1\n+tTestDesc aHp_InlineTests[] = {\n+  { TT_EGREP,    zHp_InlineSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Hpux_Maxint\n+ *  Fix Command Arguments for Hp_Inline\n  */\n-const char* apzHpux_MaxintPatch[] = { \"sed\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\\\n-#ifndef MAXINT\\n\",\n-    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n+const char* apzHp_InlinePatch[] = { \"sed\",\n+    \"-e\", \"s,\\\"../machine/inline.h\\\",<machine/inline.h>,\",\n+    \"-e\", \"s,\\\"../machine/psl.h\\\",<machine/psl.h>,\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Hpux_Systime fix\n+ *  Description of Hp_Sysfile fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              34\n-tSCC zHpux_SystimeName[] =\n-     \"hpux_systime\";\n+#define HP_SYSFILE_FIXIDX                35\n+tSCC zHp_SysfileName[] =\n+     \"hp_sysfile\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zHpux_SystimeList[] =\n-  \"|sys/time.h|\";\n+tSCC zHp_SysfileList[] =\n+  \"|sys/file.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzHpux_SystimeMachs (const char**)NULL\n+#define apzHp_SysfileMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zHpux_SystimeSelect0[] =\n-       \"^extern struct sigevent;\";\n+tSCC zHp_SysfileSelect0[] =\n+       \"HPUX_SOURCE\";\n \n-#define    HPUX_SYSTIME_TEST_CT  1\n-tTestDesc aHpux_SystimeTests[] = {\n-  { TT_EGREP,    zHpux_SystimeSelect0, (regex_t*)NULL }, };\n+#define    HP_SYSFILE_TEST_CT  1\n+tTestDesc aHp_SysfileTests[] = {\n+  { TT_EGREP,    zHp_SysfileSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Hpux_Systime\n+ *  Fix Command Arguments for Hp_Sysfile\n  */\n-const char* apzHpux_SystimePatch[] = { \"sed\",\n-    \"-e\", \"s/^extern struct sigevent;/struct sigevent;/\",\n+const char* apzHp_SysfilePatch[] = { \"sed\",\n+    \"-e\", \"s/(\\\\.\\\\.\\\\.)/(struct file *, ...)/\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n  */\n-#define HPUX8_BOGUS_INLINES_FIXIDX       35\n+#define HPUX8_BOGUS_INLINES_FIXIDX       36\n tSCC zHpux8_Bogus_InlinesName[] =\n      \"hpux8_bogus_inlines\";\n \n@@ -1595,7 +1630,7 @@ const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n  *\n  *  Description of Hpux11_Uint32_C fix\n  */\n-#define HPUX11_UINT32_C_FIXIDX           36\n+#define HPUX11_UINT32_C_FIXIDX           37\n tSCC zHpux11_Uint32_CName[] =\n      \"hpux11_uint32_c\";\n \n@@ -1622,15 +1657,16 @@ tTestDesc aHpux11_Uint32_CTests[] = {\n /*\n  *  Fix Command Arguments for Hpux11_Uint32_C\n  */\n-const char* apzHpux11_Uint32_CPatch[] = { \"sed\",\n-    \"-e\", \"s/^#define UINT32_C(__c)\\\\([ \\t]*\\\\)__CONCAT__(__CONCAT_U__(__c),l)/#define UINT32_C(__c)\\\\1__CONCAT__(__c,ul)/\",\n+const char* apzHpux11_Uint32_CPatch[] = {\n+    \"format\",\n+    \"#define UINT32_C(__c) __CONCAT__(__c,ul)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define ISC_OMITS_WITH_STDC_FIXIDX       37\n+#define ISC_OMITS_WITH_STDC_FIXIDX       38\n tSCC zIsc_Omits_With_StdcName[] =\n      \"isc_omits_with_stdc\";\n \n@@ -1657,15 +1693,16 @@ tTestDesc aIsc_Omits_With_StdcTests[] = {\n /*\n  *  Fix Command Arguments for Isc_Omits_With_Stdc\n  */\n-const char* apzIsc_Omits_With_StdcPatch[] = { \"sed\",\n-    \"-e\", \"s/!defined(__STDC__) && !defined(_POSIX_SOURCE)/!defined(_POSIX_SOURCE)/\",\n+const char* apzIsc_Omits_With_StdcPatch[] = {\n+    \"format\",\n+    \"!defined(_POSIX_SOURCE)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Io_Quotes_Def fix\n  */\n-#define IO_QUOTES_DEF_FIXIDX             38\n+#define IO_QUOTES_DEF_FIXIDX             39\n tSCC zIo_Quotes_DefName[] =\n      \"io_quotes_def\";\n \n@@ -1700,7 +1737,7 @@ const char* apzIo_Quotes_DefPatch[] = {\n  *\n  *  Description of Io_Quotes_Use fix\n  */\n-#define IO_QUOTES_USE_FIXIDX             39\n+#define IO_QUOTES_USE_FIXIDX             40\n tSCC zIo_Quotes_UseName[] =\n      \"io_quotes_use\";\n \n@@ -1733,213 +1770,117 @@ const char* apzIo_Quotes_UsePatch[] = {\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Ctrl_Quotes_Def fix\n- */\n-#define CTRL_QUOTES_DEF_FIXIDX           40\n-tSCC zCtrl_Quotes_DefName[] =\n-     \"ctrl_quotes_def\";\n-\n-/*\n- *  File name selection pattern\n- */\n-#define zCtrl_Quotes_DefList (char*)NULL\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzCtrl_Quotes_DefMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zCtrl_Quotes_DefSelect0[] =\n-       \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n-\n-#define    CTRL_QUOTES_DEF_TEST_CT  1\n-tTestDesc aCtrl_Quotes_DefTests[] = {\n-  { TT_EGREP,    zCtrl_Quotes_DefSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Ctrl_Quotes_Def\n- */\n-const char* apzCtrl_Quotes_DefPatch[] = {\n-    \"char_macro_def\",\n-    \"CTRL\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Ctrl_Quotes_Use fix\n- */\n-#define CTRL_QUOTES_USE_FIXIDX           41\n-tSCC zCtrl_Quotes_UseName[] =\n-     \"ctrl_quotes_use\";\n-\n-/*\n- *  File name selection pattern\n- */\n-#define zCtrl_Quotes_UseList (char*)NULL\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzCtrl_Quotes_UseMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zCtrl_Quotes_UseSelect0[] =\n-       \"define[ \\t]+[A-Z0-9_]+[ \\t]+[A-Z0-9_]+CTRL[ \\t]*\\\\( *[^,']\";\n-\n-#define    CTRL_QUOTES_USE_TEST_CT  1\n-tTestDesc aCtrl_Quotes_UseTests[] = {\n-  { TT_EGREP,    zCtrl_Quotes_UseSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Ctrl_Quotes_Use\n- */\n-const char* apzCtrl_Quotes_UsePatch[] = {\n-    \"char_macro_use\",\n-    \"CTRL\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Ip_Missing_Semi fix\n+ *  Description of Hpux_Maxint fix\n  */\n-#define IP_MISSING_SEMI_FIXIDX           42\n-tSCC zIp_Missing_SemiName[] =\n-     \"ip_missing_semi\";\n+#define HPUX_MAXINT_FIXIDX               41\n+tSCC zHpux_MaxintName[] =\n+     \"hpux_maxint\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zIp_Missing_SemiList[] =\n-  \"|netinet/ip.h|\";\n+tSCC zHpux_MaxintList[] =\n+  \"|sys/param.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzIp_Missing_SemiMachs (const char**)NULL\n+#define apzHpux_MaxintMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n- */\n-tSCC zIp_Missing_SemiSelect0[] =\n-       \"}$\";\n-\n-#define    IP_MISSING_SEMI_TEST_CT  1\n-tTestDesc aIp_Missing_SemiTests[] = {\n-  { TT_EGREP,    zIp_Missing_SemiSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Ip_Missing_Semi\n- */\n-const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n-    \"-e\", \"/^struct/,/^};/s/}$/};/\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Irix_Multiline_Cmnt fix\n- */\n-#define IRIX_MULTILINE_CMNT_FIXIDX       43\n-tSCC zIrix_Multiline_CmntName[] =\n-     \"irix_multiline_cmnt\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zIrix_Multiline_CmntList[] =\n-  \"|sys/types.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzIrix_Multiline_CmntMachs (const char**)NULL\n-#define IRIX_MULTILINE_CMNT_TEST_CT  0\n-#define aIrix_Multiline_CmntTests   (tTestDesc*)NULL\n+ */\n+tSCC zHpux_MaxintSelect0[] =\n+       \"^#[ \\t]*define[ \\t]*MAXINT[ \\t]\";\n+\n+#define    HPUX_MAXINT_TEST_CT  1\n+tTestDesc aHpux_MaxintTests[] = {\n+  { TT_EGREP,    zHpux_MaxintSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Irix_Multiline_Cmnt\n+ *  Fix Command Arguments for Hpux_Maxint\n  */\n-const char* apzIrix_Multiline_CmntPatch[] = { \"sed\",\n-    \"-e\", \"s@type of the result@type of the result */@\",\n-    \"-e\", \"s@of the sizeof@/* of the sizeof@\",\n+const char* apzHpux_MaxintPatch[] = { \"sed\",\n+    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\\\n+#ifndef MAXINT\\n\",\n+    \"-e\", \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\\\n+#endif\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Irix_Sockaddr fix\n+ *  Description of Hpux_Systime fix\n  */\n-#define IRIX_SOCKADDR_FIXIDX             44\n-tSCC zIrix_SockaddrName[] =\n-     \"irix_sockaddr\";\n+#define HPUX_SYSTIME_FIXIDX              42\n+tSCC zHpux_SystimeName[] =\n+     \"hpux_systime\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zIrix_SockaddrList[] =\n-  \"|rpc/auth.h|\";\n+tSCC zHpux_SystimeList[] =\n+  \"|sys/time.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzIrix_SockaddrMachs (const char**)NULL\n+#define apzHpux_SystimeMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zIrix_SockaddrSelect0[] =\n-       \"authdes_create.*struct sockaddr\";\n-\n-/*\n- *  content bypass pattern - skip fix if pattern found\n- */\n-tSCC zIrix_SockaddrBypass0[] =\n-       \"<sys/socket.h>\";\n+tSCC zHpux_SystimeSelect0[] =\n+       \"^extern struct sigevent;\";\n \n-#define    IRIX_SOCKADDR_TEST_CT  2\n-tTestDesc aIrix_SockaddrTests[] = {\n-  { TT_NEGREP,   zIrix_SockaddrBypass0, (regex_t*)NULL },\n-  { TT_EGREP,    zIrix_SockaddrSelect0, (regex_t*)NULL }, };\n+#define    HPUX_SYSTIME_TEST_CT  1\n+tTestDesc aHpux_SystimeTests[] = {\n+  { TT_EGREP,    zHpux_SystimeSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Irix_Sockaddr\n+ *  Fix Command Arguments for Hpux_Systime\n  */\n-const char* apzIrix_SockaddrPatch[] = { \"sed\",\n-    \"-e\", \"/authdes_create.*struct sockaddr/i\\\\\\n\\\n-struct sockaddr;\\n\",\n+const char* apzHpux_SystimePatch[] = { \"sed\",\n+    \"-e\", \"s/^extern struct sigevent;/struct sigevent;/\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Irix_Struct__File fix\n+ *  Description of Ip_Missing_Semi fix\n  */\n-#define IRIX_STRUCT__FILE_FIXIDX         45\n-tSCC zIrix_Struct__FileName[] =\n-     \"irix_struct__file\";\n+#define IP_MISSING_SEMI_FIXIDX           43\n+tSCC zIp_Missing_SemiName[] =\n+     \"ip_missing_semi\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zIrix_Struct__FileList[] =\n-  \"|rpc/xdr.h|\";\n+tSCC zIp_Missing_SemiList[] =\n+  \"|netinet/ip.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzIrix_Struct__FileMachs (const char**)NULL\n-#define IRIX_STRUCT__FILE_TEST_CT  0\n-#define aIrix_Struct__FileTests   (tTestDesc*)NULL\n+#define apzIp_Missing_SemiMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zIp_Missing_SemiSelect0[] =\n+       \"}$\";\n+\n+#define    IP_MISSING_SEMI_TEST_CT  1\n+tTestDesc aIp_Missing_SemiTests[] = {\n+  { TT_EGREP,    zIp_Missing_SemiSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Irix_Struct__File\n+ *  Fix Command Arguments for Ip_Missing_Semi\n  */\n-const char* apzIrix_Struct__FilePatch[] = { \"sed\",\n-    \"-e\", \"/xdrstdio_create.*struct __file_s/i\\\\\\n\\\n-struct __file_s;\\n\",\n+const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n+    \"-e\", \"/^struct/,/^};/s/}$/};/\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Irix_Asm_Apostrophe fix\n  */\n-#define IRIX_ASM_APOSTROPHE_FIXIDX       46\n+#define IRIX_ASM_APOSTROPHE_FIXIDX       44\n tSCC zIrix_Asm_ApostropheName[] =\n      \"irix_asm_apostrophe\";\n \n@@ -1966,116 +1907,81 @@ tTestDesc aIrix_Asm_ApostropheTests[] = {\n /*\n  *  Fix Command Arguments for Irix_Asm_Apostrophe\n  */\n-const char* apzIrix_Asm_ApostrophePatch[] = { \"sed\",\n-    \"-e\", \"/^[ \\t]*#/s/\\\\([Ww]e\\\\)'re/\\\\1 are/\",\n-    (char*)NULL };\n-\n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Isc_Fmod fix\n- */\n-#define ISC_FMOD_FIXIDX                  47\n-tSCC zIsc_FmodName[] =\n-     \"isc_fmod\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zIsc_FmodList[] =\n-  \"|math.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzIsc_FmodMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zIsc_FmodSelect0[] =\n-       \"fmod\\\\(double\\\\)\";\n-\n-#define    ISC_FMOD_TEST_CT  1\n-tTestDesc aIsc_FmodTests[] = {\n-  { TT_EGREP,    zIsc_FmodSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Isc_Fmod\n- */\n-const char* apzIsc_FmodPatch[] = { \"sed\",\n-    \"-e\", \"s/fmod(double)/fmod(double, double)/\",\n+const char* apzIrix_Asm_ApostrophePatch[] = {\n+    \"format\",\n+    \"%1 are\",\n+    \"^([ \\t]*#.*[Ww]e)'re\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Motorola_Nested fix\n+ *  Description of Irix_Multiline_Cmnt fix\n  */\n-#define MOTOROLA_NESTED_FIXIDX           48\n-tSCC zMotorola_NestedName[] =\n-     \"motorola_nested\";\n+#define IRIX_MULTILINE_CMNT_FIXIDX       45\n+tSCC zIrix_Multiline_CmntName[] =\n+     \"irix_multiline_cmnt\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zMotorola_NestedList[] =\n-  \"|limits.h|sys/limits.h|\";\n+tSCC zIrix_Multiline_CmntList[] =\n+  \"|sys/types.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzMotorola_NestedMachs[] = {\n-        \"m68k-motorola-sysv*\",\n-        (const char*)NULL };\n-#define MOTOROLA_NESTED_TEST_CT  0\n-#define aMotorola_NestedTests   (tTestDesc*)NULL\n+#define apzIrix_Multiline_CmntMachs (const char**)NULL\n+#define IRIX_MULTILINE_CMNT_TEST_CT  0\n+#define aIrix_Multiline_CmntTests   (tTestDesc*)NULL\n \n /*\n- *  Fix Command Arguments for Motorola_Nested\n+ *  Fix Command Arguments for Irix_Multiline_Cmnt\n  */\n-const char* apzMotorola_NestedPatch[] = { \"sed\",\n-    \"-e\", \"s@^\\\\(#undef[ \\t][ \\t]*PIPE_BUF[ \\t]*/\\\\* max # bytes atomic in write to a\\\\)$@\\\\1 */@\",\n-    \"-e\", \"s@\\\\(/\\\\*#define\\tHUGE_VAL\\t3.40282346638528860e+38 \\\\)\\\\(/\\\\*error value returned by Math lib\\\\*/\\\\)$@\\\\1*/ \\\\2@\",\n+const char* apzIrix_Multiline_CmntPatch[] = { \"sed\",\n+    \"-e\", \"s@type of the result@type of the result */@\",\n+    \"-e\", \"s@of the sizeof@/* of the sizeof@\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Isc_Sys_Limits fix\n+ *  Description of Isc_Fmod fix\n  */\n-#define ISC_SYS_LIMITS_FIXIDX            49\n-tSCC zIsc_Sys_LimitsName[] =\n-     \"isc_sys_limits\";\n+#define ISC_FMOD_FIXIDX                  46\n+tSCC zIsc_FmodName[] =\n+     \"isc_fmod\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zIsc_Sys_LimitsList[] =\n-  \"|sys/limits.h|\";\n+tSCC zIsc_FmodList[] =\n+  \"|math.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzIsc_Sys_LimitsMachs (const char**)NULL\n+#define apzIsc_FmodMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zIsc_Sys_LimitsSelect0[] =\n-       \"CHILD_MAX\";\n+tSCC zIsc_FmodSelect0[] =\n+       \"fmod\\\\(double\\\\)\";\n \n-#define    ISC_SYS_LIMITS_TEST_CT  1\n-tTestDesc aIsc_Sys_LimitsTests[] = {\n-  { TT_EGREP,    zIsc_Sys_LimitsSelect0, (regex_t*)NULL }, };\n+#define    ISC_FMOD_TEST_CT  1\n+tTestDesc aIsc_FmodTests[] = {\n+  { TT_EGREP,    zIsc_FmodSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Isc_Sys_Limits\n+ *  Fix Command Arguments for Isc_Fmod\n  */\n-const char* apzIsc_Sys_LimitsPatch[] = { \"sed\",\n-    \"-e\", \"/CHILD_MAX/s,/\\\\* Max, Max,\",\n-    \"-e\", \"/OPEN_MAX/s,/\\\\* Max, Max,\",\n+const char* apzIsc_FmodPatch[] = {\n+    \"format\",\n+    \"fmod(double, double)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Kandr_Concat fix\n  */\n-#define KANDR_CONCAT_FIXIDX              50\n+#define KANDR_CONCAT_FIXIDX              47\n tSCC zKandr_ConcatName[] =\n      \"kandr_concat\";\n \n@@ -2102,15 +2008,16 @@ tTestDesc aKandr_ConcatTests[] = {\n /*\n  *  Fix Command Arguments for Kandr_Concat\n  */\n-const char* apzKandr_ConcatPatch[] = { \"sed\",\n-    \"-e\", \"s|/\\\\*\\\\*/|##|g\",\n+const char* apzKandr_ConcatPatch[] = {\n+    \"format\",\n+    \"##\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            51\n+#define LIMITS_IFNDEFS_FIXIDX            48\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2137,39 +2044,19 @@ tTestDesc aLimits_IfndefsTests[] = {\n /*\n  *  Fix Command Arguments for Limits_Ifndefs\n  */\n-const char* apzLimits_IfndefsPatch[] = { \"sed\",\n-    \"-e\", \"/[ \\t]FLT_MIN[ \\t]/i\\\\\\n\\\n-#ifndef FLT_MIN\\n\",\n-    \"-e\", \"/[ \\t]FLT_MIN[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[ \\t]FLT_MAX[ \\t]/i\\\\\\n\\\n-#ifndef FLT_MAX\\n\",\n-    \"-e\", \"/[ \\t]FLT_MAX[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[ \\t]FLT_DIG[ \\t]/i\\\\\\n\\\n-#ifndef FLT_DIG\\n\",\n-    \"-e\", \"/[ \\t]FLT_DIG[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[ \\t]DBL_MIN[ \\t]/i\\\\\\n\\\n-#ifndef DBL_MIN\\n\",\n-    \"-e\", \"/[ \\t]DBL_MIN[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[ \\t]DBL_MAX[ \\t]/i\\\\\\n\\\n-#ifndef DBL_MAX\\n\",\n-    \"-e\", \"/[ \\t]DBL_MAX[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/[ \\t]DBL_DIG[ \\t]/i\\\\\\n\\\n-#ifndef DBL_DIG\\n\",\n-    \"-e\", \"/[ \\t]DBL_DIG[ \\t]/a\\\\\\n\\\n-#endif\\n\",\n-    \"-e\", \"/^\\\\(\\\\/\\\\*#define\\tHUGE_VAL\\t3\\\\.[0-9e+]* *\\\\)\\\\/\\\\*/s//\\\\1/\",\n+const char* apzLimits_IfndefsPatch[] = {\n+    \"format\",\n+    \"#ifndef %1\\n\\\n+%0#endif\\n\",\n+    \"^[ \\t]*#[ \\t]*define[ \\t]+((FLT|DBL)_(MIN|MAX|DIG))[ \\t][^\\n\\\n+]*\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             52\n+#define LYNX_VOID_INT_FIXIDX             49\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2187,7 +2074,7 @@ tSCC zLynx_Void_IntList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zLynx_Void_IntSelect0[] =\n-       \"#[ \\t]*define[ \\t]+void[ \\t]+int\";\n+       \"#[ \\t]*define[ \\t]+void[ \\t]+int[ \\t]*\";\n \n #define    LYNX_VOID_INT_TEST_CT  1\n tTestDesc aLynx_Void_IntTests[] = {\n@@ -2196,15 +2083,16 @@ tTestDesc aLynx_Void_IntTests[] = {\n /*\n  *  Fix Command Arguments for Lynx_Void_Int\n  */\n-const char* apzLynx_Void_IntPatch[] = { \"sed\",\n-    \"-e\", \"/#[ \\t]*define[ \\t][ \\t]*void[ \\t]int/d\",\n+const char* apzLynx_Void_IntPatch[] = {\n+    \"format\",\n+    \"\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        53\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        50\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2222,7 +2110,7 @@ tSCC zLynxos_Fcntl_ProtoList[] =\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zLynxos_Fcntl_ProtoSelect0[] =\n-       \"fcntl.*\\\\(int, int, int\\\\)\";\n+       \"fcntl[ \\t]*\\\\(int, int, int\\\\)\";\n \n #define    LYNXOS_FCNTL_PROTO_TEST_CT  1\n tTestDesc aLynxos_Fcntl_ProtoTests[] = {\n@@ -2231,15 +2119,17 @@ tTestDesc aLynxos_Fcntl_ProtoTests[] = {\n /*\n  *  Fix Command Arguments for Lynxos_Fcntl_Proto\n  */\n-const char* apzLynxos_Fcntl_ProtoPatch[] = { \"sed\",\n-    \"-e\", \"s/\\\\(fcntl.*(int, int, \\\\)int)/\\\\1...)/\",\n+const char* apzLynxos_Fcntl_ProtoPatch[] = {\n+    \"format\",\n+    \"%1...)\",\n+    \"(fcntl[ \\t]*\\\\(int, int, )int\\\\)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        54\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        51\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2254,34 +2144,41 @@ tSCC zM88k_Bad_Hypot_OptList[] =\n tSCC* apzM88k_Bad_Hypot_OptMachs[] = {\n         \"m88k-motorola-sysv3*\",\n         (const char*)NULL };\n-#define M88K_BAD_HYPOT_OPT_TEST_CT  0\n-#define aM88k_Bad_Hypot_OptTests   (tTestDesc*)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zM88k_Bad_Hypot_OptSelect0[] =\n+       \"^extern double hypot\\\\(\\\\);\\n\";\n+\n+#define    M88K_BAD_HYPOT_OPT_TEST_CT  1\n+tTestDesc aM88k_Bad_Hypot_OptTests[] = {\n+  { TT_EGREP,    zM88k_Bad_Hypot_OptSelect0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for M88k_Bad_Hypot_Opt\n  */\n-const char* apzM88k_Bad_Hypot_OptPatch[] = { \"sed\",\n-    \"-e\", \"s/extern double floor(), ceil(), fmod(), fabs();/extern double floor(), ceil(), fmod(), fabs _PARAMS((double));/\",\n-    \"-e\", \"/^extern double hypot();$/a\\\\\\n\\\n-\\\\/* Workaround a stupid Motorola optimization if one\\\\\\n\\\n-   of x or y is 0.0 and the other is negative!  *\\\\/\\\\\\n\\\n-#ifdef __STDC__\\\\\\n\\\n-static __inline__ double fake_hypot (double x, double y)\\\\\\n\\\n-#else\\\\\\n\\\n-static __inline__ double fake_hypot (x, y)\\\\\\n\\\n-\\tdouble x, y;\\\\\\n\\\n-#endif\\\\\\n\\\n-{\\\\\\n\\\n-\\treturn fabs (hypot (x, y));\\\\\\n\\\n-}\\\\\\n\\\n+const char* apzM88k_Bad_Hypot_OptPatch[] = {\n+    \"format\",\n+    \"%0/* Workaround a stupid Motorola optimization if one\\n\\\n+   of x or y is 0.0 and the other is negative!  */\\n\\\n+#ifdef __STDC__\\n\\\n+static __inline__ double fake_hypot (double x, double y)\\n\\\n+#else\\n\\\n+static __inline__ double fake_hypot (x, y)\\n\\\n+\\tdouble x, y;\\n\\\n+#endif\\n\\\n+{\\n\\\n+\\treturn fabs (hypot (x, y));\\n\\\n+}\\n\\\n #define hypot\\tfake_hypot\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             55\n+#define M88K_BAD_S_IF_FIXIDX             52\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2301,7 +2198,7 @@ tSCC* apzM88k_Bad_S_IfMachs[] = {\n  *  content selection pattern - do fix if pattern found\n  */\n tSCC zM88k_Bad_S_IfSelect0[] =\n-       \"#define[ \\t]+S_IS[A-Z]*(m)[ \\t]\";\n+       \"#define[ \\t]+S_IS[A-Z]+\\\\(m\\\\)[ \\t]+\\\\(m[ \\t]*&\";\n \n #define    M88K_BAD_S_IF_TEST_CT  1\n tTestDesc aM88k_Bad_S_IfTests[] = {\n@@ -2310,16 +2207,17 @@ tTestDesc aM88k_Bad_S_IfTests[] = {\n /*\n  *  Fix Command Arguments for M88k_Bad_S_If\n  */\n-const char* apzM88k_Bad_S_IfPatch[] = { \"sed\",\n-    \"-e\", \"s/^\\\\(#define[ \\t]*S_IS[A-Z]*(m)\\\\)[ \\t]*(m[ \\t]*&[ \\t]*\\\\(S_IF[A-Z][A-Z][A-Z][A-Z]*\\\\)[ \\t]*)/\\\\1 (((m)\\\\&S_IFMT)==\\\\2)/\",\n-    \"-e\", \"s/^\\\\(#define[ \\t]*S_IS[A-Z]*(m)\\\\)[ \\t]*(m[ \\t]*&[ \\t]*\\\\(0[0-9]*\\\\)[ \\t]*)/\\\\1 (((m)\\\\&S_IFMT)==\\\\2)/\",\n+const char* apzM88k_Bad_S_IfPatch[] = {\n+    \"format\",\n+    \"#define %1(m) (((m) & S_IFMT) == %2)\",\n+    \"#define[ \\t]+(S_IS[A-Z]+)\\\\(m\\\\)[ \\t]+\\\\(m[ \\t]*&[ \\t]*(S_IF[A-Z][A-Z][A-Z]+|0[0-9]+)[ \\t]*\\\\)\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           56\n+#define M88K_MULTI_INCL_FIXIDX           53\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2361,7 +2259,7 @@ const char* apzM88k_Multi_InclPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    57\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    54\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2403,7 +2301,7 @@ const char* apzMachine_Ansi_H_Va_ListPatch[] = { \"sed\",\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              58\n+#define MACHINE_NAME_FIXIDX              55\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2436,7 +2334,7 @@ const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            59\n+#define MATH_EXCEPTION_FIXIDX            56\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2484,7 +2382,7 @@ const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 60\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 57\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2531,7 +2429,7 @@ const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      61\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      58\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2567,29 +2465,131 @@ const char* apzMath_Huge_Val_IfndefPatch[] = { \"sed\",\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Nested_Comment fix\n+ *  Description of Nested_Motorola fix\n+ */\n+#define NESTED_MOTOROLA_FIXIDX           59\n+tSCC zNested_MotorolaName[] =\n+     \"nested_motorola\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zNested_MotorolaList[] =\n+  \"|limits.h|sys/limits.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+tSCC* apzNested_MotorolaMachs[] = {\n+        \"m68k-motorola-sysv*\",\n+        (const char*)NULL };\n+#define NESTED_MOTOROLA_TEST_CT  0\n+#define aNested_MotorolaTests   (tTestDesc*)NULL\n+\n+/*\n+ *  Fix Command Arguments for Nested_Motorola\n+ */\n+const char* apzNested_MotorolaPatch[] = { \"sed\",\n+    \"-e\", \"s@^\\\\(#undef[ \\t][ \\t]*PIPE_BUF[ \\t]*/\\\\* max # bytes atomic in write to a\\\\)$@\\\\1 */@\",\n+    \"-e\", \"s@\\\\(/\\\\*#define\\tHUGE_VAL\\t3.[0-9e+]* \\\\)\\\\(/\\\\*error value returned by Math lib\\\\*/\\\\)$@\\\\1*/ \\\\2@\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Nested_Sys_Limits fix\n+ */\n+#define NESTED_SYS_LIMITS_FIXIDX         60\n+tSCC zNested_Sys_LimitsName[] =\n+     \"nested_sys_limits\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zNested_Sys_LimitsList[] =\n+  \"|sys/limits.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzNested_Sys_LimitsMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zNested_Sys_LimitsSelect0[] =\n+       \"CHILD_MAX\";\n+\n+#define    NESTED_SYS_LIMITS_TEST_CT  1\n+tTestDesc aNested_Sys_LimitsTests[] = {\n+  { TT_EGREP,    zNested_Sys_LimitsSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Nested_Sys_Limits\n+ */\n+const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n+    \"-e\", \"/CHILD_MAX/s,/\\\\* Max, Max,\",\n+    \"-e\", \"/OPEN_MAX/s,/\\\\* Max, Max,\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_COMMENT_FIXIDX            62\n-tSCC zNested_CommentName[] =\n-     \"nested_comment\";\n+#define NESTED_AUTH_DES_FIXIDX           61\n+tSCC zNested_Auth_DesName[] =\n+     \"nested_auth_des\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zNested_CommentList[] =\n+tSCC zNested_Auth_DesList[] =\n   \"|rpc/rpc.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzNested_CommentMachs (const char**)NULL\n-#define NESTED_COMMENT_TEST_CT  0\n-#define aNested_CommentTests   (tTestDesc*)NULL\n+#define apzNested_Auth_DesMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zNested_Auth_DesSelect0[] =\n+       \"(/\\\\*.*rpc/auth_des\\\\.h>.*)/\\\\*\";\n+\n+#define    NESTED_AUTH_DES_TEST_CT  1\n+tTestDesc aNested_Auth_DesTests[] = {\n+  { TT_EGREP,    zNested_Auth_DesSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Nested_Auth_Des\n+ */\n+const char* apzNested_Auth_DesPatch[] = {\n+    \"format\",\n+    \"%1*/ /*\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Nested_Ultrix fix\n+ */\n+#define NESTED_ULTRIX_FIXIDX             62\n+tSCC zNested_UltrixName[] =\n+     \"nested_ultrix\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zNested_UltrixList[] =\n+  \"|rpc/svc.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzNested_UltrixMachs (const char**)NULL\n+#define NESTED_ULTRIX_TEST_CT  0\n+#define aNested_UltrixTests   (tTestDesc*)NULL\n \n /*\n- *  Fix Command Arguments for Nested_Comment\n+ *  Fix Command Arguments for Nested_Ultrix\n  */\n-const char* apzNested_CommentPatch[] = { \"sed\",\n-    \"-e\", \"s@^\\\\(/\\\\*.*rpc/auth_des.h>.*\\\\)/\\\\*@\\\\1*/ /*@\",\n+const char* apzNested_UltrixPatch[] = { \"sed\",\n+    \"-e\", \"s@^\\\\( \\\\*\\tint protocol;  \\\\)/\\\\*@\\\\1*/ /*@\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3077,82 +3077,82 @@ const char* apzRs6000_ParamPatch[] = { \"sed\",\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Sco_Strict_Ansi fix\n+ *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STRICT_ANSI_FIXIDX           76\n-tSCC zSco_Strict_AnsiName[] =\n-     \"sco_strict_ansi\";\n+#define SCO_STATIC_FUNC_FIXIDX           76\n+tSCC zSco_Static_FuncName[] =\n+     \"sco_static_func\";\n \n /*\n  *  File name selection pattern\n  */\n-#define zSco_Strict_AnsiList (char*)NULL\n+tSCC zSco_Static_FuncList[] =\n+  \"|sys/stat.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzSco_Strict_AnsiMachs[] = {\n+tSCC* apzSco_Static_FuncMachs[] = {\n         \"i?86-*-sco3.2*\",\n         (const char*)NULL };\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zSco_Strict_AnsiSelect0[] =\n-       \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n+tSCC zSco_Static_FuncSelect0[] =\n+       \"^static int\";\n \n-#define    SCO_STRICT_ANSI_TEST_CT  1\n-tTestDesc aSco_Strict_AnsiTests[] = {\n-  { TT_EGREP,    zSco_Strict_AnsiSelect0, (regex_t*)NULL }, };\n+#define    SCO_STATIC_FUNC_TEST_CT  1\n+tTestDesc aSco_Static_FuncTests[] = {\n+  { TT_EGREP,    zSco_Static_FuncSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Sco_Strict_Ansi\n+ *  Fix Command Arguments for Sco_Static_Func\n  */\n-const char* apzSco_Strict_AnsiPatch[] = { \"sed\",\n-    \"-e\", \"s/!__STDC__/!defined(__STRICT_ANSI__)/g\",\n+const char* apzSco_Static_FuncPatch[] = { \"sed\",\n+    \"-e\", \"/^static int/i\\\\\\n\\\n+#if __cplusplus\\\\\\n\\\n+extern \\\"C\\\" {\\\\\\n\\\n+#endif /* __cplusplus */\",\n+    \"-e\", \"/^}$/a\\\\\\n\\\n+#if __cplusplus\\\\\\n\\\n+ }\\\\\\n\\\n+#endif /* __cplusplus */\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Sco_Static_Func fix\n+ *  Description of Sco_Strict_Ansi fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           77\n-tSCC zSco_Static_FuncName[] =\n-     \"sco_static_func\";\n+#define SCO_STRICT_ANSI_FIXIDX           77\n+tSCC zSco_Strict_AnsiName[] =\n+     \"sco_strict_ansi\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zSco_Static_FuncList[] =\n-  \"|sys/stat.h|\";\n+#define zSco_Strict_AnsiList (char*)NULL\n /*\n  *  Machine/OS name selection pattern\n  */\n-tSCC* apzSco_Static_FuncMachs[] = {\n+tSCC* apzSco_Strict_AnsiMachs[] = {\n         \"i?86-*-sco3.2*\",\n         (const char*)NULL };\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zSco_Static_FuncSelect0[] =\n-       \"^static int\";\n+tSCC zSco_Strict_AnsiSelect0[] =\n+       \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n \n-#define    SCO_STATIC_FUNC_TEST_CT  1\n-tTestDesc aSco_Static_FuncTests[] = {\n-  { TT_EGREP,    zSco_Static_FuncSelect0, (regex_t*)NULL }, };\n+#define    SCO_STRICT_ANSI_TEST_CT  1\n+tTestDesc aSco_Strict_AnsiTests[] = {\n+  { TT_EGREP,    zSco_Strict_AnsiSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Sco_Static_Func\n+ *  Fix Command Arguments for Sco_Strict_Ansi\n  */\n-const char* apzSco_Static_FuncPatch[] = { \"sed\",\n-    \"-e\", \"/^static int/i\\\\\\n\\\n-#if __cplusplus\\\\\\n\\\n-extern \\\"C\\\" {\\\\\\n\\\n-#endif /* __cplusplus */\",\n-    \"-e\", \"/^}$/a\\\\\\n\\\n-#if __cplusplus\\\\\\n\\\n- }\\\\\\n\\\n-#endif /* __cplusplus */\",\n+const char* apzSco_Strict_AnsiPatch[] = { \"sed\",\n+    \"-e\", \"s/!__STDC__/!defined(__STRICT_ANSI__)/g\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -3344,11 +3344,92 @@ s@VA_LIST@DUMMY_VA_LIST@\\n\\\n s@_Va_LIST@_VA_LIST@\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Struct_File fix\n+ */\n+#define STRUCT_FILE_FIXIDX               83\n+tSCC zStruct_FileName[] =\n+     \"struct_file\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zStruct_FileList[] =\n+  \"|rpc/xdr.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzStruct_FileMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zStruct_FileSelect0[] =\n+       \"^.*xdrstdio_create.*struct __file_s\";\n+\n+#define    STRUCT_FILE_TEST_CT  1\n+tTestDesc aStruct_FileTests[] = {\n+  { TT_EGREP,    zStruct_FileSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Struct_File\n+ */\n+const char* apzStruct_FilePatch[] = {\n+    \"format\",\n+    \"struct __file_s;\\n\\\n+%0\",\n+    (char*)NULL };\n+\n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Struct_Sockaddr fix\n+ */\n+#define STRUCT_SOCKADDR_FIXIDX           84\n+tSCC zStruct_SockaddrName[] =\n+     \"struct_sockaddr\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+tSCC zStruct_SockaddrList[] =\n+  \"|rpc/auth.h|\";\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzStruct_SockaddrMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zStruct_SockaddrSelect0[] =\n+       \"^.*authdes_create.*struct sockaddr\";\n+\n+/*\n+ *  content bypass pattern - skip fix if pattern found\n+ */\n+tSCC zStruct_SockaddrBypass0[] =\n+       \"<sys/socket.h>\";\n+\n+#define    STRUCT_SOCKADDR_TEST_CT  2\n+tTestDesc aStruct_SockaddrTests[] = {\n+  { TT_NEGREP,   zStruct_SockaddrBypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zStruct_SockaddrSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Struct_Sockaddr\n+ */\n+const char* apzStruct_SockaddrPatch[] = {\n+    \"format\",\n+    \"struct sockaddr;\\n\\\n+%0\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            83\n+#define SUN_AUTH_PROTO_FIXIDX            85\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3388,7 +3469,7 @@ const char* apzSun_Auth_ProtoPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           84\n+#define SUN_BOGUS_IFDEF_FIXIDX           86\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3423,7 +3504,7 @@ const char* apzSun_Bogus_IfdefPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Bogus_Ifdef_Sun4c fix\n  */\n-#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     85\n+#define SUN_BOGUS_IFDEF_SUN4C_FIXIDX     87\n tSCC zSun_Bogus_Ifdef_Sun4cName[] =\n      \"sun_bogus_ifdef_sun4c\";\n \n@@ -3458,7 +3539,7 @@ const char* apzSun_Bogus_Ifdef_Sun4cPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              86\n+#define SUN_CATMACRO_FIXIDX              88\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -3498,7 +3579,7 @@ const char* apzSun_CatmacroPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                87\n+#define SUN_MALLOC_FIXIDX                89\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -3528,7 +3609,7 @@ const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           88\n+#define SUN_RUSERS_SEMI_FIXIDX           90\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -3563,7 +3644,7 @@ const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                89\n+#define SUN_SIGNAL_FIXIDX                91\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -3603,7 +3684,7 @@ void\\t(*signal(...))(...);\\\\\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        90\n+#define SUNOS_MATHERR_DECL_FIXIDX        92\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -3640,7 +3721,7 @@ struct exception;\\n\",\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              91\n+#define SUNOS_STRLEN_FIXIDX              93\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -3675,7 +3756,7 @@ const char* apzSunos_StrlenPatch[] = { \"sed\",\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               92\n+#define SVR4_GETCWD_FIXIDX               94\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -3710,7 +3791,7 @@ const char* apzSvr4_GetcwdPatch[] = { \"sed\",\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               93\n+#define SVR4_PROFIL_FIXIDX               95\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -3737,7 +3818,7 @@ const char* apzSvr4_ProfilPatch[] = { \"sed\",\n  *\n  *  Description of Systypes fix\n  */\n-#define SYSTYPES_FIXIDX                  94\n+#define SYSTYPES_FIXIDX                  96\n tSCC zSystypesName[] =\n      \"systypes\";\n \n@@ -3796,7 +3877,7 @@ typedef __SIZE_TYPE__ size_t;\\\\\\n\\\n  *\n  *  Description of Systypes_Stdlib_Size_T fix\n  */\n-#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    95\n+#define SYSTYPES_STDLIB_SIZE_T_FIXIDX    97\n tSCC zSystypes_Stdlib_Size_TName[] =\n      \"systypes_stdlib_size_t\";\n \n@@ -3842,7 +3923,7 @@ const char* apzSystypes_Stdlib_Size_TPatch[] = { \"sed\",\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             96\n+#define SYSV68_STRING_FIXIDX             98\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -3879,7 +3960,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       97\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       99\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -3912,7 +3993,7 @@ const char* apzSysz_Stdlib_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Sysz_Stdtypes_For_Sun fix\n  */\n-#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     98\n+#define SYSZ_STDTYPES_FOR_SUN_FIXIDX     100\n tSCC zSysz_Stdtypes_For_SunName[] =\n      \"sysz_stdtypes_for_sun\";\n \n@@ -3953,7 +4034,7 @@ const char* apzSysz_Stdtypes_For_SunPatch[] = { \"sed\",\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           99\n+#define TINFO_CPLUSPLUS_FIXIDX           101\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -3984,47 +4065,11 @@ const char* apzTinfo_CplusplusPatch[] = { \"sed\",\n     \"-e\", \"s/[ \\t]_cplusplus/ __cplusplus/\",\n     (char*)NULL };\n \n-/* * * * * * * * * * * * * * * * * * * * * * * * * *\n- *\n- *  Description of Ultrix_Fix_Fixproto fix\n- */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       100\n-tSCC zUltrix_Fix_FixprotoName[] =\n-     \"ultrix_fix_fixproto\";\n-\n-/*\n- *  File name selection pattern\n- */\n-tSCC zUltrix_Fix_FixprotoList[] =\n-  \"|sys/utsname.h|\";\n-/*\n- *  Machine/OS name selection pattern\n- */\n-#define apzUltrix_Fix_FixprotoMachs (const char**)NULL\n-\n-/*\n- *  content selection pattern - do fix if pattern found\n- */\n-tSCC zUltrix_Fix_FixprotoSelect0[] =\n-       \"ULTRIX\";\n-\n-#define    ULTRIX_FIX_FIXPROTO_TEST_CT  1\n-tTestDesc aUltrix_Fix_FixprotoTests[] = {\n-  { TT_EGREP,    zUltrix_Fix_FixprotoSelect0, (regex_t*)NULL }, };\n-\n-/*\n- *  Fix Command Arguments for Ultrix_Fix_Fixproto\n- */\n-const char* apzUltrix_Fix_FixprotoPatch[] = { \"sed\",\n-    \"-e\", \"/^[ \\t]*extern[ \\t]*int[ \\t]*uname();$/i\\\\\\n\\\n-struct utsname;\\n\",\n-    (char*)NULL };\n-\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         101\n+#define ULTRIX_ATOF_PARAM_FIXIDX         102\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4059,7 +4104,7 @@ const char* apzUltrix_Atof_ParamPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              102\n+#define ULTRIX_CONST_FIXIDX              103\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4092,71 +4137,80 @@ const char* apzUltrix_ConstPatch[] = { \"sed\",\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Ultrix_Ifdef fix\n+ *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              103\n-tSCC zUltrix_IfdefName[] =\n-     \"ultrix_ifdef\";\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       104\n+tSCC zUltrix_Fix_FixprotoName[] =\n+     \"ultrix_fix_fixproto\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zUltrix_IfdefList[] =\n-  \"|sys/file.h|\";\n+tSCC zUltrix_Fix_FixprotoList[] =\n+  \"|sys/utsname.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzUltrix_IfdefMachs (const char**)NULL\n+#define apzUltrix_Fix_FixprotoMachs (const char**)NULL\n \n /*\n  *  content selection pattern - do fix if pattern found\n  */\n-tSCC zUltrix_IfdefSelect0[] =\n-       \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n+tSCC zUltrix_Fix_FixprotoSelect0[] =\n+       \"ULTRIX\";\n \n-#define    ULTRIX_IFDEF_TEST_CT  1\n-tTestDesc aUltrix_IfdefTests[] = {\n-  { TT_EGREP,    zUltrix_IfdefSelect0, (regex_t*)NULL }, };\n+#define    ULTRIX_FIX_FIXPROTO_TEST_CT  1\n+tTestDesc aUltrix_Fix_FixprotoTests[] = {\n+  { TT_EGREP,    zUltrix_Fix_FixprotoSelect0, (regex_t*)NULL }, };\n \n /*\n- *  Fix Command Arguments for Ultrix_Ifdef\n+ *  Fix Command Arguments for Ultrix_Fix_Fixproto\n  */\n-const char* apzUltrix_IfdefPatch[] = { \"sed\",\n-    \"-e\", \"s/#ifdef KERNEL/#if defined(KERNEL)/\",\n+const char* apzUltrix_Fix_FixprotoPatch[] = { \"sed\",\n+    \"-e\", \"/^[ \\t]*extern[ \\t]*int[ \\t]*uname();$/i\\\\\\n\\\n+struct utsname;\\n\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n- *  Description of Ultrix_Nested_Cmnt fix\n+ *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_NESTED_CMNT_FIXIDX        104\n-tSCC zUltrix_Nested_CmntName[] =\n-     \"ultrix_nested_cmnt\";\n+#define ULTRIX_IFDEF_FIXIDX              105\n+tSCC zUltrix_IfdefName[] =\n+     \"ultrix_ifdef\";\n \n /*\n  *  File name selection pattern\n  */\n-tSCC zUltrix_Nested_CmntList[] =\n-  \"|rpc/svc.h|\";\n+tSCC zUltrix_IfdefList[] =\n+  \"|sys/file.h|\";\n /*\n  *  Machine/OS name selection pattern\n  */\n-#define apzUltrix_Nested_CmntMachs (const char**)NULL\n-#define ULTRIX_NESTED_CMNT_TEST_CT  0\n-#define aUltrix_Nested_CmntTests   (tTestDesc*)NULL\n+#define apzUltrix_IfdefMachs (const char**)NULL\n \n /*\n- *  Fix Command Arguments for Ultrix_Nested_Cmnt\n+ *  content selection pattern - do fix if pattern found\n  */\n-const char* apzUltrix_Nested_CmntPatch[] = { \"sed\",\n-    \"-e\", \"s@^\\\\( \\\\*\\tint protocol;  \\\\)/\\\\*@\\\\1*/ /*@\",\n+tSCC zUltrix_IfdefSelect0[] =\n+       \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n+\n+#define    ULTRIX_IFDEF_TEST_CT  1\n+tTestDesc aUltrix_IfdefTests[] = {\n+  { TT_EGREP,    zUltrix_IfdefSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Ultrix_Ifdef\n+ */\n+const char* apzUltrix_IfdefPatch[] = { \"sed\",\n+    \"-e\", \"s/#ifdef KERNEL/#if defined(KERNEL)/\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             105\n+#define ULTRIX_STATIC_FIXIDX             106\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4193,7 +4247,7 @@ const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             106\n+#define UNDEFINE_NULL_FIXIDX             107\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4239,7 +4293,7 @@ const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Unixware7_Byteorder_Fix fix\n  */\n-#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   107\n+#define UNIXWARE7_BYTEORDER_FIX_FIXIDX   108\n tSCC zUnixware7_Byteorder_FixName[] =\n      \"unixware7_byteorder_fix\";\n \n@@ -4282,7 +4336,7 @@ const char* apzUnixware7_Byteorder_FixPatch[] = { \"sed\",\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             108\n+#define VA_I960_MACRO_FIXIDX             109\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4320,7 +4374,7 @@ const char* apzVa_I960_MacroPatch[] = { \"sed\",\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 109\n+#define VOID_NULL_FIXIDX                 110\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4355,7 +4409,7 @@ const char* apzVoid_NullPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       110\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       111\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4405,7 +4459,7 @@ const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     111\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     112\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -4440,7 +4494,7 @@ const char* apzVxworks_Needs_VxtypesPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     112\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     113\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -4489,7 +4543,7 @@ const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              113\n+#define VXWORKS_TIME_FIXIDX              114\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -4540,7 +4594,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\\\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 114\n+#define X11_CLASS_FIXIDX                 115\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -4580,7 +4634,7 @@ const char* apzX11_ClassPatch[] = { \"sed\",\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           115\n+#define X11_CLASS_USAGE_FIXIDX           116\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -4615,7 +4669,7 @@ const char* apzX11_Class_UsagePatch[] = { \"sed\",\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   116\n+#define X11_NEW_FIXIDX                   117\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -4656,7 +4710,7 @@ const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               117\n+#define X11_SPRINTF_FIXIDX               118\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -4694,9 +4748,9 @@ extern char *\\tsprintf();\\\\\\n\\\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          105\n+#define REGEX_COUNT          109\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            118\n+#define FIX_COUNT            119\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -4809,6 +4863,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      AVOID_BOOL_TEST_CT, FD_MACH_ONLY,\n      aAvoid_BoolTests,   apzAvoid_BoolPatch },\n \n+  {  zBad_LvalName,    zBad_LvalList,\n+     apzBad_LvalMachs,\n+     BAD_LVAL_TEST_CT, FD_MACH_ONLY,\n+     aBad_LvalTests,   apzBad_LvalPatch },\n+\n   {  zBad_Struct_TermName,    zBad_Struct_TermList,\n      apzBad_Struct_TermMachs,\n      BAD_STRUCT_TERM_TEST_CT, FD_MACH_ONLY,\n@@ -4819,11 +4878,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      BADQUOTE_TEST_CT, FD_MACH_ONLY,\n      aBadquoteTests,   apzBadquotePatch },\n \n-  {  zBad_LvalName,    zBad_LvalList,\n-     apzBad_LvalMachs,\n-     BAD_LVAL_TEST_CT, FD_MACH_ONLY,\n-     aBad_LvalTests,   apzBad_LvalPatch },\n-\n   {  zBroken_Assert_StdioName,    zBroken_Assert_StdioList,\n      apzBroken_Assert_StdioMachs,\n      BROKEN_ASSERT_STDIO_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n@@ -4839,6 +4893,21 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      BROKEN_CABS_TEST_CT, FD_MACH_ONLY,\n      aBroken_CabsTests,   apzBroken_CabsPatch },\n \n+  {  zCtrl_Quotes_DefName,    zCtrl_Quotes_DefList,\n+     apzCtrl_Quotes_DefMachs,\n+     CTRL_QUOTES_DEF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aCtrl_Quotes_DefTests,   apzCtrl_Quotes_DefPatch },\n+\n+  {  zCtrl_Quotes_UseName,    zCtrl_Quotes_UseList,\n+     apzCtrl_Quotes_UseMachs,\n+     CTRL_QUOTES_USE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aCtrl_Quotes_UseTests,   apzCtrl_Quotes_UsePatch },\n+\n+  {  zCxx_UnreadyName,    zCxx_UnreadyList,\n+     apzCxx_UnreadyMachs,\n+     CXX_UNREADY_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aCxx_UnreadyTests,   apzCxx_UnreadyPatch },\n+\n   {  zDec_Intern_AsmName,    zDec_Intern_AsmList,\n      apzDec_Intern_AsmMachs,\n      DEC_INTERN_ASM_TEST_CT, FD_MACH_ONLY,\n@@ -4849,6 +4918,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      ECD_CURSOR_TEST_CT, FD_MACH_ONLY,\n      aEcd_CursorTests,   apzEcd_CursorPatch },\n \n+  {  zFix_Header_BreakageName,    zFix_Header_BreakageList,\n+     apzFix_Header_BreakageMachs,\n+     FIX_HEADER_BREAKAGE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aFix_Header_BreakageTests,   apzFix_Header_BreakagePatch },\n+\n   {  zHp_InlineName,    zHp_InlineList,\n      apzHp_InlineMachs,\n      HP_INLINE_TEST_CT, FD_MACH_ONLY,\n@@ -4859,34 +4933,19 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      HP_SYSFILE_TEST_CT, FD_MACH_ONLY,\n      aHp_SysfileTests,   apzHp_SysfilePatch },\n \n-  {  zCxx_UnreadyName,    zCxx_UnreadyList,\n-     apzCxx_UnreadyMachs,\n-     CXX_UNREADY_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aCxx_UnreadyTests,   apzCxx_UnreadyPatch },\n-\n-  {  zHpux_MaxintName,    zHpux_MaxintList,\n-     apzHpux_MaxintMachs,\n-     HPUX_MAXINT_TEST_CT, FD_MACH_ONLY,\n-     aHpux_MaxintTests,   apzHpux_MaxintPatch },\n-\n-  {  zHpux_SystimeName,    zHpux_SystimeList,\n-     apzHpux_SystimeMachs,\n-     HPUX_SYSTIME_TEST_CT, FD_MACH_ONLY,\n-     aHpux_SystimeTests,   apzHpux_SystimePatch },\n-\n   {  zHpux8_Bogus_InlinesName,    zHpux8_Bogus_InlinesList,\n      apzHpux8_Bogus_InlinesMachs,\n      HPUX8_BOGUS_INLINES_TEST_CT, FD_MACH_ONLY,\n      aHpux8_Bogus_InlinesTests,   apzHpux8_Bogus_InlinesPatch },\n \n   {  zHpux11_Uint32_CName,    zHpux11_Uint32_CList,\n      apzHpux11_Uint32_CMachs,\n-     HPUX11_UINT32_C_TEST_CT, FD_MACH_ONLY,\n+     HPUX11_UINT32_C_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aHpux11_Uint32_CTests,   apzHpux11_Uint32_CPatch },\n \n   {  zIsc_Omits_With_StdcName,    zIsc_Omits_With_StdcList,\n      apzIsc_Omits_With_StdcMachs,\n-     ISC_OMITS_WITH_STDC_TEST_CT, FD_MACH_ONLY,\n+     ISC_OMITS_WITH_STDC_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aIsc_Omits_With_StdcTests,   apzIsc_Omits_With_StdcPatch },\n \n   {  zIo_Quotes_DefName,    zIo_Quotes_DefList,\n@@ -4899,84 +4958,64 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      IO_QUOTES_USE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aIo_Quotes_UseTests,   apzIo_Quotes_UsePatch },\n \n-  {  zCtrl_Quotes_DefName,    zCtrl_Quotes_DefList,\n-     apzCtrl_Quotes_DefMachs,\n-     CTRL_QUOTES_DEF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aCtrl_Quotes_DefTests,   apzCtrl_Quotes_DefPatch },\n+  {  zHpux_MaxintName,    zHpux_MaxintList,\n+     apzHpux_MaxintMachs,\n+     HPUX_MAXINT_TEST_CT, FD_MACH_ONLY,\n+     aHpux_MaxintTests,   apzHpux_MaxintPatch },\n \n-  {  zCtrl_Quotes_UseName,    zCtrl_Quotes_UseList,\n-     apzCtrl_Quotes_UseMachs,\n-     CTRL_QUOTES_USE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n-     aCtrl_Quotes_UseTests,   apzCtrl_Quotes_UsePatch },\n+  {  zHpux_SystimeName,    zHpux_SystimeList,\n+     apzHpux_SystimeMachs,\n+     HPUX_SYSTIME_TEST_CT, FD_MACH_ONLY,\n+     aHpux_SystimeTests,   apzHpux_SystimePatch },\n \n   {  zIp_Missing_SemiName,    zIp_Missing_SemiList,\n      apzIp_Missing_SemiMachs,\n      IP_MISSING_SEMI_TEST_CT, FD_MACH_ONLY,\n      aIp_Missing_SemiTests,   apzIp_Missing_SemiPatch },\n \n+  {  zIrix_Asm_ApostropheName,    zIrix_Asm_ApostropheList,\n+     apzIrix_Asm_ApostropheMachs,\n+     IRIX_ASM_APOSTROPHE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aIrix_Asm_ApostropheTests,   apzIrix_Asm_ApostrophePatch },\n+\n   {  zIrix_Multiline_CmntName,    zIrix_Multiline_CmntList,\n      apzIrix_Multiline_CmntMachs,\n      IRIX_MULTILINE_CMNT_TEST_CT, FD_MACH_ONLY,\n      aIrix_Multiline_CmntTests,   apzIrix_Multiline_CmntPatch },\n \n-  {  zIrix_SockaddrName,    zIrix_SockaddrList,\n-     apzIrix_SockaddrMachs,\n-     IRIX_SOCKADDR_TEST_CT, FD_MACH_ONLY,\n-     aIrix_SockaddrTests,   apzIrix_SockaddrPatch },\n-\n-  {  zIrix_Struct__FileName,    zIrix_Struct__FileList,\n-     apzIrix_Struct__FileMachs,\n-     IRIX_STRUCT__FILE_TEST_CT, FD_MACH_ONLY,\n-     aIrix_Struct__FileTests,   apzIrix_Struct__FilePatch },\n-\n-  {  zIrix_Asm_ApostropheName,    zIrix_Asm_ApostropheList,\n-     apzIrix_Asm_ApostropheMachs,\n-     IRIX_ASM_APOSTROPHE_TEST_CT, FD_MACH_ONLY,\n-     aIrix_Asm_ApostropheTests,   apzIrix_Asm_ApostrophePatch },\n-\n   {  zIsc_FmodName,    zIsc_FmodList,\n      apzIsc_FmodMachs,\n-     ISC_FMOD_TEST_CT, FD_MACH_ONLY,\n+     ISC_FMOD_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aIsc_FmodTests,   apzIsc_FmodPatch },\n \n-  {  zMotorola_NestedName,    zMotorola_NestedList,\n-     apzMotorola_NestedMachs,\n-     MOTOROLA_NESTED_TEST_CT, FD_MACH_ONLY,\n-     aMotorola_NestedTests,   apzMotorola_NestedPatch },\n-\n-  {  zIsc_Sys_LimitsName,    zIsc_Sys_LimitsList,\n-     apzIsc_Sys_LimitsMachs,\n-     ISC_SYS_LIMITS_TEST_CT, FD_MACH_ONLY,\n-     aIsc_Sys_LimitsTests,   apzIsc_Sys_LimitsPatch },\n-\n   {  zKandr_ConcatName,    zKandr_ConcatList,\n      apzKandr_ConcatMachs,\n-     KANDR_CONCAT_TEST_CT, FD_MACH_ONLY,\n+     KANDR_CONCAT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aKandr_ConcatTests,   apzKandr_ConcatPatch },\n \n   {  zLimits_IfndefsName,    zLimits_IfndefsList,\n      apzLimits_IfndefsMachs,\n-     LIMITS_IFNDEFS_TEST_CT, FD_MACH_ONLY,\n+     LIMITS_IFNDEFS_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aLimits_IfndefsTests,   apzLimits_IfndefsPatch },\n \n   {  zLynx_Void_IntName,    zLynx_Void_IntList,\n      apzLynx_Void_IntMachs,\n-     LYNX_VOID_INT_TEST_CT, FD_MACH_ONLY,\n+     LYNX_VOID_INT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aLynx_Void_IntTests,   apzLynx_Void_IntPatch },\n \n   {  zLynxos_Fcntl_ProtoName,    zLynxos_Fcntl_ProtoList,\n      apzLynxos_Fcntl_ProtoMachs,\n-     LYNXOS_FCNTL_PROTO_TEST_CT, FD_MACH_ONLY,\n+     LYNXOS_FCNTL_PROTO_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aLynxos_Fcntl_ProtoTests,   apzLynxos_Fcntl_ProtoPatch },\n \n   {  zM88k_Bad_Hypot_OptName,    zM88k_Bad_Hypot_OptList,\n      apzM88k_Bad_Hypot_OptMachs,\n-     M88K_BAD_HYPOT_OPT_TEST_CT, FD_MACH_ONLY,\n+     M88K_BAD_HYPOT_OPT_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aM88k_Bad_Hypot_OptTests,   apzM88k_Bad_Hypot_OptPatch },\n \n   {  zM88k_Bad_S_IfName,    zM88k_Bad_S_IfList,\n      apzM88k_Bad_S_IfMachs,\n-     M88K_BAD_S_IF_TEST_CT, FD_MACH_ONLY,\n+     M88K_BAD_S_IF_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aM88k_Bad_S_IfTests,   apzM88k_Bad_S_IfPatch },\n \n   {  zM88k_Multi_InclName,    zM88k_Multi_InclList,\n@@ -5009,10 +5048,25 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      MATH_HUGE_VAL_IFNDEF_TEST_CT, FD_MACH_ONLY,\n      aMath_Huge_Val_IfndefTests,   apzMath_Huge_Val_IfndefPatch },\n \n-  {  zNested_CommentName,    zNested_CommentList,\n-     apzNested_CommentMachs,\n-     NESTED_COMMENT_TEST_CT, FD_MACH_ONLY,\n-     aNested_CommentTests,   apzNested_CommentPatch },\n+  {  zNested_MotorolaName,    zNested_MotorolaList,\n+     apzNested_MotorolaMachs,\n+     NESTED_MOTOROLA_TEST_CT, FD_MACH_ONLY,\n+     aNested_MotorolaTests,   apzNested_MotorolaPatch },\n+\n+  {  zNested_Sys_LimitsName,    zNested_Sys_LimitsList,\n+     apzNested_Sys_LimitsMachs,\n+     NESTED_SYS_LIMITS_TEST_CT, FD_MACH_ONLY,\n+     aNested_Sys_LimitsTests,   apzNested_Sys_LimitsPatch },\n+\n+  {  zNested_Auth_DesName,    zNested_Auth_DesList,\n+     apzNested_Auth_DesMachs,\n+     NESTED_AUTH_DES_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aNested_Auth_DesTests,   apzNested_Auth_DesPatch },\n+\n+  {  zNested_UltrixName,    zNested_UltrixList,\n+     apzNested_UltrixMachs,\n+     NESTED_ULTRIX_TEST_CT, FD_MACH_ONLY,\n+     aNested_UltrixTests,   apzNested_UltrixPatch },\n \n   {  zNews_Os_RecursionName,    zNews_Os_RecursionList,\n      apzNews_Os_RecursionMachs,\n@@ -5079,16 +5133,16 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      RS6000_PARAM_TEST_CT, FD_MACH_ONLY,\n      aRs6000_ParamTests,   apzRs6000_ParamPatch },\n \n-  {  zSco_Strict_AnsiName,    zSco_Strict_AnsiList,\n-     apzSco_Strict_AnsiMachs,\n-     SCO_STRICT_ANSI_TEST_CT, FD_MACH_ONLY,\n-     aSco_Strict_AnsiTests,   apzSco_Strict_AnsiPatch },\n-\n   {  zSco_Static_FuncName,    zSco_Static_FuncList,\n      apzSco_Static_FuncMachs,\n      SCO_STATIC_FUNC_TEST_CT, FD_MACH_ONLY,\n      aSco_Static_FuncTests,   apzSco_Static_FuncPatch },\n \n+  {  zSco_Strict_AnsiName,    zSco_Strict_AnsiList,\n+     apzSco_Strict_AnsiMachs,\n+     SCO_STRICT_ANSI_TEST_CT, FD_MACH_ONLY,\n+     aSco_Strict_AnsiTests,   apzSco_Strict_AnsiPatch },\n+\n   {  zSco_UtimeName,    zSco_UtimeList,\n      apzSco_UtimeMachs,\n      SCO_UTIME_TEST_CT, FD_MACH_ONLY,\n@@ -5114,6 +5168,16 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      STDIO_VA_LIST_TEST_CT, FD_MACH_ONLY,\n      aStdio_Va_ListTests,   apzStdio_Va_ListPatch },\n \n+  {  zStruct_FileName,    zStruct_FileList,\n+     apzStruct_FileMachs,\n+     STRUCT_FILE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aStruct_FileTests,   apzStruct_FilePatch },\n+\n+  {  zStruct_SockaddrName,    zStruct_SockaddrList,\n+     apzStruct_SockaddrMachs,\n+     STRUCT_SOCKADDR_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aStruct_SockaddrTests,   apzStruct_SockaddrPatch },\n+\n   {  zSun_Auth_ProtoName,    zSun_Auth_ProtoList,\n      apzSun_Auth_ProtoMachs,\n      SUN_AUTH_PROTO_TEST_CT, FD_MACH_ONLY,\n@@ -5199,11 +5263,6 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      TINFO_CPLUSPLUS_TEST_CT, FD_MACH_ONLY,\n      aTinfo_CplusplusTests,   apzTinfo_CplusplusPatch },\n \n-  {  zUltrix_Fix_FixprotoName,    zUltrix_Fix_FixprotoList,\n-     apzUltrix_Fix_FixprotoMachs,\n-     ULTRIX_FIX_FIXPROTO_TEST_CT, FD_MACH_ONLY,\n-     aUltrix_Fix_FixprotoTests,   apzUltrix_Fix_FixprotoPatch },\n-\n   {  zUltrix_Atof_ParamName,    zUltrix_Atof_ParamList,\n      apzUltrix_Atof_ParamMachs,\n      ULTRIX_ATOF_PARAM_TEST_CT, FD_MACH_ONLY,\n@@ -5214,16 +5273,16 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      ULTRIX_CONST_TEST_CT, FD_MACH_ONLY,\n      aUltrix_ConstTests,   apzUltrix_ConstPatch },\n \n+  {  zUltrix_Fix_FixprotoName,    zUltrix_Fix_FixprotoList,\n+     apzUltrix_Fix_FixprotoMachs,\n+     ULTRIX_FIX_FIXPROTO_TEST_CT, FD_MACH_ONLY,\n+     aUltrix_Fix_FixprotoTests,   apzUltrix_Fix_FixprotoPatch },\n+\n   {  zUltrix_IfdefName,    zUltrix_IfdefList,\n      apzUltrix_IfdefMachs,\n      ULTRIX_IFDEF_TEST_CT, FD_MACH_ONLY,\n      aUltrix_IfdefTests,   apzUltrix_IfdefPatch },\n \n-  {  zUltrix_Nested_CmntName,    zUltrix_Nested_CmntList,\n-     apzUltrix_Nested_CmntMachs,\n-     ULTRIX_NESTED_CMNT_TEST_CT, FD_MACH_ONLY,\n-     aUltrix_Nested_CmntTests,   apzUltrix_Nested_CmntPatch },\n-\n   {  zUltrix_StaticName,    zUltrix_StaticList,\n      apzUltrix_StaticMachs,\n      ULTRIX_STATIC_TEST_CT, FD_MACH_ONLY,"}, {"sha": "0cac46d80709716a0879d30ccaf72e4c0861163c", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 313, "deletions": 274, "changes": 587, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79589c4d8bb8829579557f76b4e8974247b78895/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=79589c4d8bb8829579557f76b4e8974247b78895", "patch": "@@ -684,31 +684,6 @@ fix = {\n };\n \n \n-/*\n- *  Fix `typedef struct term;' on hppa1.1-hp-hpux9.\n- */\n-fix = {\n-    hackname = bad_struct_term;\n-    files  = curses.h;\n-    select = \"^[ \\t]*typedef[ \\t]+struct[ \\t]+term[ \\t]*;\";\n-    sed    = \"s/^[ \\t]*typedef[ \\t][ \\t]*\"\n-             \"\\\\(struct[ \\t][ \\t]*term[ \\t]*;[ \\t]*\\\\)$/\\\\1/\";\n-    test_text = 'typedef struct term;';\n-};\n-\n-\n-/*\n- *  Fix one other error in this file:\n- *  a mismatched quote not inside a C comment.\n- */\n-fix = {\n-    hackname = badquote;\n-    files    = sundev/vuid_event.h;\n-    sed      = \"s/doesn't/does not/\";\n-    test_text = \"/* doesn't have matched single quotes */\";\n-};\n-\n-\n /*\n  *  Fix #defines under Alpha OSF/1:\n  *  The following files contain '#pragma extern_prefix \"_FOO\"' followed by\n@@ -748,6 +723,31 @@ fix = {\n };\n \n \n+/*\n+ *  Fix `typedef struct term;' on hppa1.1-hp-hpux9.\n+ */\n+fix = {\n+    hackname = bad_struct_term;\n+    files  = curses.h;\n+    select = \"^[ \\t]*typedef[ \\t]+struct[ \\t]+term[ \\t]*;\";\n+    sed    = \"s/^[ \\t]*typedef[ \\t][ \\t]*\"\n+             \"\\\\(struct[ \\t][ \\t]*term[ \\t]*;[ \\t]*\\\\)$/\\\\1/\";\n+    test_text = 'typedef struct term;';\n+};\n+\n+\n+/*\n+ *  Fix one other error in this file:\n+ *  a mismatched quote not inside a C comment.\n+ */\n+fix = {\n+    hackname = badquote;\n+    files    = sundev/vuid_event.h;\n+    sed      = \"s/doesn't/does not/\";\n+    test_text = \"/* doesn't have matched single quotes */\";\n+};\n+\n+\n /*\n  *  check for broken assert.h that needs stdio.h\n  */\n@@ -796,6 +796,66 @@ fix = {\n };\n \n \n+/*\n+ *  Fix various macros used to define ioctl numbers.\n+ *  The traditional syntax was:\n+ *\n+ *    #define _CTRL(n, x) (('n'<<8)+x)\n+ *    #define TCTRLCFOO _CTRL(T, 1)\n+ *\n+ *  but this does not work with the C standard, which disallows macro\n+ *  expansion inside strings.  We have to rewrite it thus:\n+ *\n+ *    #define _CTRL(n, x) ((n<<8)+x)\n+ *    #define TCTRLCFOO  _CTRL('T', 1)\n+ *\n+ *  The select expressions match too much, but the c_fix code is cautious.\n+ *\n+ *  CTRL might be: CTRL _CTRL ISCTRL BSD43_CTRL ...\n+ */\n+fix = {\n+    hackname  = ctrl_quotes_def;\n+    select    = \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n+    c_fix     = char_macro_def;\n+    c_fix_arg = \"CTRL\";\n+    test_text = \"#define BSD43_CTRL(n, x) (('n'<<8)+x)\";\n+};\n+\n+fix = {\n+    hackname  = ctrl_quotes_use;\n+    select    = \"define[ \\t]+[A-Z0-9_]+[ \\t]+[A-Z0-9_]+CTRL[ \\t]*\\\\( *[^,']\";\n+    c_fix     = char_macro_use;\n+    c_fix_arg = \"CTRL\";\n+    test_text = \"#define TIOCFOO BSD43_CTRL(T, 1)\";\n+};\n+\n+\n+/*\n+ *  sys/mman.h on HP/UX is not C++ ready,\n+ *  even though NO_IMPLICIT_EXTERN_C is defined on HP/UX.\n+ *\n+ *  rpc/types.h on OSF1/2.0 is not C++ ready, even though NO_IMPLICIT_EXTERN_C\n+ *  is defined for the alpha.  The problem is the declaration of malloc.\n+ */\n+fix = {\n+    hackname = cxx_unready;\n+    files    = sys/mman.h;\n+    files    = rpc/types.h;\n+    select   = '[^#]+malloc.*;';  /* Catch any form of declaration\n+\t\t\t\t     not within a macro.  */\n+    bypass   = '\"C\"|__BEGIN_DECLS';\n+\n+    c_fix     = wrap;\n+    c_fix_arg = \"#ifdef __cplusplus\\n\"\n+                \"extern \\\"C\\\" {\\n\"\n+                \"#endif\\n\";\n+    c_fix_arg = \"#ifdef __cplusplus\\n\"\n+                \"}\\n\"\n+                \"#endif\\n\";\n+    test_text = \"extern void* malloc( size_t );\";\n+};\n+\n+\n /*\n  *  Fix <c_asm.h> on Digital UNIX V4.0:\n  *  It contains a prototype for a DEC C internal asm() function,\n@@ -826,6 +886,22 @@ fix = {\n };\n \n \n+/*\n+ *  fix-header doesn't fix fabs' prototype, and I have no idea why.\n+ */\n+fix = {\n+    hackname  = fix_header_breakage;\n+    mach      = \"m88k-motorola-sysv3*\";\n+    files     = \"math.h\";\n+\n+    select    = 'extern double floor\\(\\), ceil\\(\\), fmod\\(\\), fabs\\(\\);';\n+    c_fix     = format;\n+    c_fix_arg =\n+    'extern double floor(), ceil(), fmod(), fabs _PARAMS((double));';\n+    test_text = 'extern double floor(), ceil(), fmod(), fabs();';\n+};\n+\n+\n /*\n  *  Fix HP's use of ../machine/inline.h to refer to\n  *    /usr/include/machine/inline.h\n@@ -854,71 +930,20 @@ fix = {\n };\n \n \n-/*\n- *  sys/mman.h on HP/UX is not C++ ready,\n- *  even though NO_IMPLICIT_EXTERN_C is defined on HP/UX.\n- *\n- *  rpc/types.h on OSF1/2.0 is not C++ ready, even though NO_IMPLICIT_EXTERN_C\n- *  is defined for the alpha.  The problem is the declaration of malloc.\n- */\n-fix = {\n-    hackname = cxx_unready;\n-    files    = sys/mman.h;\n-    files    = rpc/types.h;\n-    select   = '[^#]+malloc.*;';  /* Catch any form of declaration\n-\t\t\t\t     not within a macro.  */\n-    bypass   = '\"C\"|__BEGIN_DECLS';\n-\n-    c_fix     = wrap;\n-    c_fix_arg = \"#ifdef __cplusplus\\n\"\n-                \"extern \\\"C\\\" {\\n\"\n-                \"#endif\\n\";\n-    c_fix_arg = \"#ifdef __cplusplus\\n\"\n-                \"}\\n\"\n-                \"#endif\\n\";\n-    test_text = \"extern void* malloc( size_t );\";\n-};\n-\n-\n-/*\n- *  HPUX 10.x sys/param.h defines MAXINT which clashes with values.h\n- */\n-fix = {\n-    hackname  = hpux_maxint;\n-    files     = sys/param.h;\n-    select    = \"^#[ \\t]*define[ \\t]*MAXINT[ \\t]\";\n-    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\"\n-               \"#ifndef MAXINT\\n\";\n-\n-    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\"\n-               \"#endif\\n\";\n-    test_text = '#define MAXINT 0x7FFFFFFF';\n-};\n-\n-\n-/*\n- *  Fix hpux10.20 <sys/time.h> to avoid invalid forward decl\n- */\n-fix = {\n-    hackname = hpux_systime;\n-    files    = sys/time.h;\n-    select   = \"^extern struct sigevent;\";\n-    sed      = \"s/^extern struct sigevent;/struct sigevent;/\";\n-    test_text = 'extern struct sigevent;';\n-};\n-\n-\n /*\n  *  get rid of bogus inline definitions in HP-UX 8.0\n  */\n fix = {\n     hackname = hpux8_bogus_inlines;\n     files    = math.h;\n     select   = inline;\n-    sed = \"s@inline int abs(int [a-z][a-z]*) {.*}@extern \\\"C\\\" int abs(int);@\";\n+    sed = \"s@inline int abs(int [a-z][a-z]*) {.*}\"\n+           \"@extern \\\"C\\\" int abs(int);@\";\n     sed = \"s@inline double abs(double [a-z][a-z]*) {.*}@@\";\n     sed = \"s@inline int sqr(int [a-z][a-z]*) {.*}@@\";\n     sed = \"s@inline double sqr(double [a-z][a-z]*) {.*}@@\";\n+    test_text = \"inline int abs(int v) { return (v>=0)?v:-v; }\\n\"\n+                \"inline double sqr(double v) { return v**0.5; }\";\n };\n \n \n@@ -937,14 +962,16 @@ fix = {\n  * A more specific solution, the one used here, is to change the UINT32_C\n  * macro to not used macros in the arguments to __CONCAT__.\n  */\n-\n fix = {\n     hackname = hpux11_uint32_c;\n     files    = inttypes.h;\n     select   = \"^#define UINT32_C\\\\(__c\\\\)[ \\t]*\"\n                          \"__CONCAT__\\\\(__CONCAT_U__\\\\(__c\\\\),l\\\\)\";\n-    sed      = \"s/^#define UINT32_C(__c)\\\\([ \\t]*\\\\)__CONCAT__(__CONCAT_U__(__c),l)/#define UINT32_C(__c)\\\\1__CONCAT__(__c,ul)/\";\n+    c_fix    = format;\n     c_fix_arg = '#define UINT32_C(__c) __CONCAT__(__c,ul)';\n+    test_text =\n+    \"#define CONCAT_U__(__c)\\t__CONCAT__(__c,u)\\n\"\n+    \"#define UINT32_C(__c)\\t__CONCAT__(__CONCAT_U__(__c),l)\";\n };\n \n /*\n@@ -956,17 +983,16 @@ fix = {\n fix = {\n     hackname = isc_omits_with_stdc;\n \n-    files  = \"stdio.h\";\n-    files  = \"math.h\";\n-    files  = \"ctype.h\";\n-    files  = \"sys/limits.h\";\n-    files  = \"sys/fcntl.h\";\n-    files  = \"sys/dirent.h\";\n-\n-    select = '!defined\\(__STDC__\\) && !defined\\(_POSIX_SOURCE\\)';\n+    files     = \"stdio.h\";\n+    files     = \"math.h\";\n+    files     = \"ctype.h\";\n+    files     = \"sys/limits.h\";\n+    files     = \"sys/fcntl.h\";\n+    files     = \"sys/dirent.h\";\n \n-    sed    = \"s/!defined(__STDC__) && !defined(_POSIX_SOURCE)/\"\n-               \"!defined(_POSIX_SOURCE)/\";\n+    select    = '!defined\\(__STDC__\\) && !defined\\(_POSIX_SOURCE\\)';\n+    c_fix     = format;\n+    c_fix_arg = '!defined(_POSIX_SOURCE)';\n     test_text = \"#if !defined(__STDC__) && !defined(_POSIX_SOURCE) /* ? ! */\"\n                 \"\\nint foo;\\n#endif\";\n };\n@@ -1004,88 +1030,50 @@ fix = {\n     c_fix_arg = \"IO\";\n     test_text = \"#define TIOCFOO BSD43__IOWR(T, 1)\";\n };\n- \n- \n-/*\n- *  Fix various macros used to define ioctl numbers.\n- *  The traditional syntax was:\n- *\n- *    #define _CTRL(n, x) (('n'<<8)+x)\n- *    #define TCTRLCFOO _CTRL(T, 1)\n- *\n- *  but this does not work with the C standard, which disallows macro\n- *  expansion inside strings.  We have to rewrite it thus:\n- *\n- *    #define _CTRL(n, x) ((n<<8)+x)\n- *    #define TCTRLCFOO  _CTRL('T', 1)\n- *\n- *  The select expressions match too much, but the c_fix code is cautious.\n- *\n- *  CTRL might be: CTRL _CTRL ISCTRL BSD43_CTRL ...\n- */\n-fix = {\n-    hackname  = ctrl_quotes_def;\n-    select    = \"define[ \\t]+[A-Z0-9_]+CTRL\\\\(([a-zA-Z]).*'\\\\1'\";\n-    c_fix     = char_macro_def;\n-    c_fix_arg = \"CTRL\";\n-    test_text = \"#define BSD43_CTRL(n, x) (('n'<<8)+x)\";\n-};\n-\n-fix = {\n-    hackname  = ctrl_quotes_use;\n-    select    = \"define[ \\t]+[A-Z0-9_]+[ \\t]+[A-Z0-9_]+CTRL[ \\t]*\\\\( *[^,']\";\n-    c_fix     = char_macro_use;\n-    c_fix_arg = \"CTRL\";\n-    test_text = \"#define TIOCFOO BSD43_CTRL(T, 1)\";\n-};\n \n \n /*\n- *  Check for missing ';' in struct\n- */\n-fix = {\n-    hackname = ip_missing_semi;\n-    files    = netinet/ip.h;\n-    select   = \"}$\";\n-    sed      = \"/^struct/,/^};/s/}$/};/\";\n-};\n-\n-\n-/*\n- *  Some IRIX header files contain the string \"//\"\n+ *  HPUX 10.x sys/param.h defines MAXINT which clashes with values.h\n  */\n fix = {\n-    hackname = irix_multiline_cmnt;\n-    files    = sys/types.h;\n+    hackname  = hpux_maxint;\n+    files     = sys/param.h;\n+    select    = \"^#[ \\t]*define[ \\t]*MAXINT[ \\t]\";\n+    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/i\\\\\\n\"\n+               \"#ifndef MAXINT\\n\";\n \n-    sed   = \"s@type of the result@type of the result */@\";\n-    sed   = \"s@of the sizeof@/* of the sizeof@\";\n+    sed      = \"/^#[ \\t]*define[ \\t]*MAXINT[ \\t]/a\\\\\\n\"\n+               \"#endif\\n\";\n+    test_text = '#define MAXINT 0x7FFFFFFF';\n };\n \n \n /*\n- *  IRIX 4.0.5 <rpc/auth.h> uses struct sockaddr\n- *  in prototype without previous definition.\n+ *  Fix hpux10.20 <sys/time.h> to avoid invalid forward decl\n  */\n fix = {\n-    hackname = irix_sockaddr;\n-    files    = rpc/auth.h;\n-    select   = \"authdes_create.*struct sockaddr\";\n-    bypass   = \"<sys/socket\\.h>\";\n-    sed      = \"/authdes_create.*struct sockaddr/i\\\\\\n\"\n-               \"struct sockaddr;\\n\";\n+    hackname = hpux_systime;\n+    files    = sys/time.h;\n+    select   = \"^extern struct sigevent;\";\n+    sed      = \"s/^extern struct sigevent;/struct sigevent;/\";\n+    test_text = 'extern struct sigevent;';\n };\n \n \n /*\n- *  IRIX 4.0.5 <rpc/xdr.h> uses struct __file_s\n- *  in prototype without previous definition.\n+ *  Check for missing ';' in struct\n  */\n fix = {\n-    hackname = irix_struct__file;\n-    files = rpc/xdr.h;\n-    sed   = \"/xdrstdio_create.*struct __file_s/i\\\\\\n\"\n-            \"struct __file_s;\\n\";\n+    hackname = ip_missing_semi;\n+    files    = netinet/ip.h;\n+    select   = \"}$\";\n+    sed      = \"/^struct/,/^};/s/}$/};/\";\n+    test_text=\n+    \"struct mumble {\\n\"\n+    \"  union {\\n\"\n+    \"    int x;\\n\"\n+    \"  }\\n\"\n+    \"}; /* mumbled struct */\\n\";\n };\n \n \n@@ -1095,49 +1083,42 @@ fix = {\n  *  unterminated character constant.\n  */\n fix = {\n-    hackname = irix_asm_apostrophe;\n-    files    = sys/asm.h;\n+    hackname  = irix_asm_apostrophe;\n+    files     = sys/asm.h;\n \n-    select   = \"^[ \\t]*#.*[Ww]e're\";\n-    sed      = \"/^[ \\t]*#/s/\\\\([Ww]e\\\\)'re/\\\\1 are/\";\n+    select    = \"^[ \\t]*#.*[Ww]e're\";\n+    c_fix     = format;\n+    c_fix_arg = \"%1 are\";\n+    c_fix_arg = \"^([ \\t]*#.*[Ww]e)'re\";\n+    test_text = \"\\t# and we're on vacation\";\n };\n \n \n /*\n- * Fixing ISC fmod declaration\n+ *  Some IRIX header files contain the string \"//\"\n  */\n fix = {\n-    hackname = isc_fmod;\n-    files    = math.h;\n-    select   = 'fmod\\(double\\)';\n-    sed      = \"s/fmod(double)/fmod(double, double)/\";\n-};\n+    hackname = irix_multiline_cmnt;\n+    files    = sys/types.h;\n \n-  \n-/*\n- * Fix nested comments in Motorola's <limits.h> and <sys/limits.h>\n- */\n-fix = {\n-    hackname = motorola_nested;\n-    mach     = \"m68k-motorola-sysv*\";\n-    files    = limits.h;\n-    files    = sys/limits.h;\n-    sed = \"s@^\\\\(#undef[ \\t][ \\t]*PIPE_BUF[ \\t]*\"\n-                   \"/\\\\* max # bytes atomic in write to a\\\\)$@\\\\1 */@\";\n-    sed = \"s@\\\\(/\\\\*#define\\tHUGE_VAL\\t3.40282346638528860e+38 \\\\)\"\n-          \"\\\\(/\\\\*error value returned by Math lib\\\\*/\\\\)$@\\\\1*/ \\\\2@\";\n+    sed   = \"s@type of the result@type of the result */@\";\n+    sed   = \"s@of the sizeof@/* of the sizeof@\";\n+    test_text =\n+    \"/* we check the type of the result\\n\"\n+    \"// of the sizeof something.  This is a bad test :-( */\";\n };\n \n-  \n+\n /*\n- * Fixing nested comments in ISC <sys/limits.h>\n+ * Fixing ISC fmod declaration\n  */\n fix = {\n-    hackname = isc_sys_limits;\n-    files  = sys/limits.h;\n-    select = CHILD_MAX;\n-    sed    = \"/CHILD_MAX/s,/\\\\* Max, Max,\";\n-    sed    = \"/OPEN_MAX/s,/\\\\* Max, Max,\";\n+    hackname  = isc_fmod;\n+    files     = math.h;\n+    select    = 'fmod\\(double\\)';\n+    c_fix     = format;\n+    c_fix_arg = \"fmod(double, double)\";\n+    test_text = \"extern double\tfmod(double);\";\n };\n \n \n@@ -1166,7 +1147,9 @@ fix = {\n     files  = \"Xm.acorn/XmP.h\";\n     files  = bsd43/bsd43_.h;\n     select = '/\\*\\*/';\n-    sed    = 's|/\\*\\*/|##|g';\n+    c_fix     = format;\n+    c_fix_arg = '##';\n+    test_text = \"#define __CONCAT__(a,b) a/**/b\";\n };\n \n \n@@ -1178,79 +1161,74 @@ fix = {\n  *  comment.  Fortunately, HP/UX already uses #ifndefs in limits.h; if\n  *  we find a #ifndef FLT_MIN we assume that all the required #ifndefs\n  *  are there, and we do not add them ourselves.\n- *  Also fix a nested comment problem in sys/limits.h on Motorola sysV68 R3V7.1\n  */\n fix = {\n     hackname = limits_ifndefs;\n     files  = \"limits.h\";\n     files  = \"sys/limits.h\";\n     bypass = \"ifndef[ \\t]+FLT_MIN\";\n \n-    sed  = \"/[ \\t]FLT_MIN[ \\t]/i\\\\\\n#ifndef FLT_MIN\\n\";\n-    sed  = \"/[ \\t]FLT_MIN[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/[ \\t]FLT_MAX[ \\t]/i\\\\\\n#ifndef FLT_MAX\\n\";\n-    sed  = \"/[ \\t]FLT_MAX[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/[ \\t]FLT_DIG[ \\t]/i\\\\\\n#ifndef FLT_DIG\\n\";\n-    sed  = \"/[ \\t]FLT_DIG[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/[ \\t]DBL_MIN[ \\t]/i\\\\\\n#ifndef DBL_MIN\\n\";\n-    sed  = \"/[ \\t]DBL_MIN[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/[ \\t]DBL_MAX[ \\t]/i\\\\\\n#ifndef DBL_MAX\\n\";\n-    sed  = \"/[ \\t]DBL_MAX[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/[ \\t]DBL_DIG[ \\t]/i\\\\\\n#ifndef DBL_DIG\\n\";\n-    sed  = \"/[ \\t]DBL_DIG[ \\t]/a\\\\\\n#endif\\n\";\n-    sed  = \"/^\\\\(\\\\/\\\\*#define\\tHUGE_VAL\\t3\\\\.[0-9e+]* *\\\\)\\\\/\\\\*/s//\\\\1/\";\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef %1\\n%0#endif\\n\";\n+    c_fix_arg = \"^[ \\t]*#[ \\t]*define[ \\t]+\"\n+                \"((FLT|DBL)_(MIN|MAX|DIG))\"\n+                \"[ \\t][^\\n]*\\n\";\n+    test_text = \" #\\tdefine\\tDBL_DIG \\t 0  /* somthin' */\";\n };\n \n \n /*\n  *  Delete the '#define void int' line from curses.h on Lynx\n  */\n fix = {\n-    hackname = lynx_void_int;\n-    files    = curses.h;\n-    select   = \"#[ \\t]*define[ \\t]+void[ \\t]+int\";\n-    sed      = \"/#[ \\t]*define[ \\t][ \\t]*void[ \\t]int/d\";\n+    hackname  = lynx_void_int;\n+    files     = curses.h;\n+    select    = \"#[ \\t]*define[ \\t]+void[ \\t]+int[ \\t]*\";\n+    c_fix     = format;\n+    c_fix_arg = \"\";\n+    test_text = \"# define\\tvoid\\tint \\t/* curses foiled again */\";\n };\n \n \n /*\n  *  Fix fcntl prototype in fcntl.h on LynxOS.\n  */\n fix = {\n-    hackname = lynxos_fcntl_proto;\n-    files    = fcntl.h;\n-    select   = 'fcntl.*\\(int, int, int\\)';\n-    sed      = 's/\\(fcntl.*(int, int, \\)int)/\\1...)/';\n+    hackname  = lynxos_fcntl_proto;\n+    files     = fcntl.h;\n+    select    = \"fcntl[ \\t]*\" '\\(int, int, int\\)';\n+    c_fix     = format;\n+    c_fix_arg = '%1...)';\n+    c_fix_arg = \"(fcntl[ \\t]*\" '\\(int, int, )int\\)';\n+    test_text = \"extern int fcntl(int, int, int);\";\n };\n \n \n /*\n  *  libm.a on m88k-motorola-sysv3 contains a stupid optimization for\n  *  function hypot(), which returns the second argument without even\n- *  looking at its value, if the other is 0.0.  Another drawback is\n- *  that fix-header doesn't fix fabs' prototype, and I have no idea why.\n+ *  looking at its value, if the other is 0.0.\n  */\n fix = {\n-    hackname = m88k_bad_hypot_opt;\n-    mach     = \"m88k-motorola-sysv3*\";\n-    files    = \"math.h\";\n-\n-    sed = \"s/extern double floor(), ceil(), fmod(), fabs();/\"\n-            \"extern double floor(), ceil(), fmod(), fabs _PARAMS((double));/\";\n-\n-    sed = \"/^extern double hypot();$/a\\\\\\n\"\n-          \"\\\\/* Workaround a stupid Motorola optimization if one\\\\\\n\"\n-          \"   of x or y is 0.0 and the other is negative!  *\\\\/\\\\\\n\"\n-          \"#ifdef __STDC__\\\\\\n\"\n-          \"static __inline__ double fake_hypot (double x, double y)\\\\\\n\"\n-          \"#else\\\\\\n\"\n-          \"static __inline__ double fake_hypot (x, y)\\\\\\n\"\n-          \"\\tdouble x, y;\\\\\\n\"\n-          \"#endif\\\\\\n\"\n-          \"{\\\\\\n\"\n-          \"\\treturn fabs (hypot (x, y));\\\\\\n\"\n-          \"}\\\\\\n\"\n+    hackname  = m88k_bad_hypot_opt;\n+    mach      = \"m88k-motorola-sysv3*\";\n+    files     = \"math.h\";\n+    select    = \"^extern double hypot\\\\(\\\\);\\n\";\n+    c_fix     = format;\n+    c_fix_arg = \"%0\"\n+          \"/* Workaround a stupid Motorola optimization if one\\n\"\n+          \"   of x or y is 0.0 and the other is negative!  */\\n\"\n+          \"#ifdef __STDC__\\n\"\n+          \"static __inline__ double fake_hypot (double x, double y)\\n\"\n+          \"#else\\n\"\n+          \"static __inline__ double fake_hypot (x, y)\\n\"\n+          \"\\tdouble x, y;\\n\"\n+          \"#endif\\n\"\n+          \"{\\n\"\n+          \"\\treturn fabs (hypot (x, y));\\n\"\n+          \"}\\n\"\n           \"#define hypot\\tfake_hypot\\n\";\n+    test_text = \"extern double hypot();\";\n };\n \n \n@@ -1261,15 +1239,15 @@ fix = {\n     hackname = m88k_bad_s_if;\n     mach     = \"m88k-*-sysv3*\";\n     files    = sys/stat.h;\n-    select   = \"#define[ \\t]+S_IS[A-Z]*(m)[ \\t]\";\n+    select   = \"#define[ \\t]+S_IS[A-Z]+\\\\(m\\\\)[ \\t]+\\\\(m[ \\t]*&\";\n \n-    sed = \"s/^\\\\(#define[ \\t]*S_IS[A-Z]*(m)\\\\)[ \\t]*\"\n-            \"(m[ \\t]*&[ \\t]*\\\\(S_IF[A-Z][A-Z][A-Z][A-Z]*\\\\)[ \\t]*)/\"\n-            \"\\\\1 (((m)\\\\&S_IFMT)==\\\\2)/\";\n-\n-    sed = \"s/^\\\\(#define[ \\t]*S_IS[A-Z]*(m)\\\\)[ \\t]*\"\n-            \"(m[ \\t]*&[ \\t]*\\\\(0[0-9]*\\\\)[ \\t]*)/\"\n-            \"\\\\1 (((m)\\\\&S_IFMT)==\\\\2)/\";\n+    c_fix     = format;\n+    c_fix_arg = '#define %1(m) (((m) & S_IFMT) == %2)';\n+    c_fix_arg = \"#define[ \\t]+(S_IS[A-Z]+)\\\\(m\\\\)[ \\t]+\"\n+                  \"\\\\(m[ \\t]*&[ \\t]*\"\n+                    \"(S_IF[A-Z][A-Z][A-Z]+|0[0-9]+)\"\n+                  \"[ \\t]*\\\\)\";\n+    test_text = '#define S_ISREG(m) (m & S_IFREG) /* is regular? */';\n };\n \n \n@@ -1382,13 +1360,55 @@ fix = {\n     sed      = \"/define[ \\t]HUGE_VAL[ \\t]/a\\\\\\n#endif\\n\";\n };\n \n+\n+/*\n+ * Fix nested comments in Motorola's <limits.h> and <sys/limits.h>\n+ */\n+fix = {\n+    hackname = nested_motorola;\n+    mach     = \"m68k-motorola-sysv*\";\n+    files    = limits.h;\n+    files    = sys/limits.h;\n+    sed = \"s@^\\\\(#undef[ \\t][ \\t]*PIPE_BUF[ \\t]*\"\n+                   \"/\\\\* max # bytes atomic in write to a\\\\)$@\\\\1 */@\";\n+    sed = \"s@\\\\(/\\\\*#define\\tHUGE_VAL\\t3.[0-9e+]* \\\\)\"\n+          \"\\\\(/\\\\*error value returned by Math lib\\\\*/\\\\)$@\\\\1*/ \\\\2@\";\n+};\n+\n+\n+/*\n+ * Fixing nested comments in ISC <sys/limits.h>\n+ */\n+fix = {\n+    hackname = nested_sys_limits;\n+    files  = sys/limits.h;\n+    select = CHILD_MAX;\n+    sed    = \"/CHILD_MAX/s,/\\\\* Max, Max,\";\n+    sed    = \"/OPEN_MAX/s,/\\\\* Max, Max,\";\n+    test_text = \"/*\\n#define CHILD_MAX 20 /* Max, Max, ... */ /*\\n\"\n+                \"#define OPEN_MAX  20 /* Max, Max, ... */\\n\";\n+};\n+\n /*\n  *  nested comment\n  */\n fix = {\n-    hackname = nested_comment;\n-    files    = rpc/rpc.h;\n-    sed      = 's@^\\(/\\*.*rpc/auth_des.h>.*\\)/\\*@\\1*/ /*@';\n+    hackname  = nested_auth_des;\n+    files     = rpc/rpc.h;\n+    select    = '(/\\*.*rpc/auth_des\\.h>.*)/\\*';\n+    c_fix     = format;\n+    c_fix_arg = \"%1*/ /*\";\n+    test_text = \"/*#include <rpc/auth_des.h> /* skip this */\";\n+};\n+\n+\n+/*\n+ *  Avoid nested comments on Ultrix 4.3.\n+ */\n+fix = {\n+    hackname = nested_ultrix;\n+    files    = rpc/svc.h;\n+    sed      = \"s@^\\\\( \\\\*\\tint protocol;  \\\\)/\\\\*@\\\\1*/ /*@\";\n };\n \n \n@@ -1578,17 +1598,6 @@ fix = {\n };\n \n \n-/*\n- *  \"!__STDC__\" is \"!defined( __STRICT_ANSI__ )\"\n- */\n-fix = {\n-    hackname = sco_strict_ansi;\n-    mach     = \"i?86-*-sco3.2*\";\n-    select   = \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n-    sed      = 's/!__STDC__/!defined(__STRICT_ANSI__)/g';\n-};\n-\n-\n /*\n  *  The static functions lstat() and fchmod() in <sys/stat.h> \n  *  cause G++ grief since they're not wrapped in \"if __cplusplus\".\n@@ -1614,6 +1623,17 @@ fix = {\n };\n \n \n+/*\n+ *  \"!__STDC__\" is \"!defined( __STRICT_ANSI__ )\"\n+ */\n+fix = {\n+    hackname = sco_strict_ansi;\n+    mach     = \"i?86-*-sco3.2*\";\n+    select   = \"^[ \\t]*#[ \\t]*if.*!__STDC__\";\n+    sed      = 's/!__STDC__/!defined(__STRICT_ANSI__)/g';\n+};\n+\n+\n /*\n  *  Fix prototype declaration of utime in sys/times.h.\n  *  In 3.2v4.0 the const is missing.\n@@ -1763,6 +1783,35 @@ fix = {\n #endif\n \n \n+/*\n+ *  IRIX 4.0.5 <rpc/xdr.h> uses struct __file_s\n+ *  in prototype without previous definition.\n+ */\n+fix = {\n+    hackname  = struct_file;\n+    files     = rpc/xdr.h;\n+    select    = '^.*xdrstdio_create.*struct __file_s';\n+    c_fix     = format;\n+    c_fix_arg = \"struct __file_s;\\n%0\";\n+    test_text = \"extern void xdrstdio_create( struct __file_s* );\";\n+};\n+\n+\n+/*\n+ *  IRIX 4.0.5 <rpc/auth.h> uses struct sockaddr\n+ *  in prototype without previous definition.\n+ */\n+fix = {\n+    hackname  = struct_sockaddr;\n+    files     = rpc/auth.h;\n+    select    = \"^.*authdes_create.*struct sockaddr\";\n+    bypass    = \"<sys/socket\\.h>\";\n+    c_fix     = format;\n+    c_fix_arg = \"struct sockaddr;\\n%0\";\n+    test_text = \"extern AUTH* authdes_create( struct sockaddr* );\";\n+};\n+\n+\n /*\n  *  Apply fix this to all OSs since this problem seems to effect\n  *  more than just SunOS.\n@@ -2394,19 +2443,6 @@ fix = {\n };\n \n \n-/*\n- * Ultrix V4.[35] puts the declaration of uname before the definition\n- * of struct utsname, so the prototype (added by fixproto) causes havoc.\n- */\n-fix = {\n-    hackname = ultrix_fix_fixproto;\n-    files    = sys/utsname.h;\n-    select   = ULTRIX;\n-    sed      = \"/^[ \\t]*extern[ \\t]*int[ \\t]*uname();$/i\\\\\\n\"\n-               \"struct utsname;\\n\";\n-};\n-\n-\n /*\n  *  parameter to atof not const on DECstation Ultrix V4.0 and NEWS-OS 4.2R.\n  */\n@@ -2442,23 +2478,26 @@ fix = {\n \n \n /*\n- *  Check for bad #ifdef line (in Ultrix 4.1)\n+ * Ultrix V4.[35] puts the declaration of uname before the definition\n+ * of struct utsname, so the prototype (added by fixproto) causes havoc.\n  */\n fix = {\n-    hackname = ultrix_ifdef;\n-    select   = \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n-    files    = sys/file.h;\n-    sed      = \"s/#ifdef KERNEL/#if defined(KERNEL)/\";\n+    hackname = ultrix_fix_fixproto;\n+    files    = sys/utsname.h;\n+    select   = ULTRIX;\n+    sed      = \"/^[ \\t]*extern[ \\t]*int[ \\t]*uname();$/i\\\\\\n\"\n+               \"struct utsname;\\n\";\n };\n \n \n /*\n- *  Avoid nested comments on Ultrix 4.3.\n+ *  Check for bad #ifdef line (in Ultrix 4.1)\n  */\n fix = {\n-    hackname = ultrix_nested_cmnt;\n-    files    = rpc/svc.h;\n-    sed      = \"s@^\\\\( \\\\*\\tint protocol;  \\\\)/\\\\*@\\\\1*/ /*@\";\n+    hackname = ultrix_ifdef;\n+    select   = \"#ifdef KERNEL[ \\t]*[^ \\t]\";\n+    files    = sys/file.h;\n+    sed      = \"s/#ifdef KERNEL/#if defined(KERNEL)/\";\n };\n \n "}]}