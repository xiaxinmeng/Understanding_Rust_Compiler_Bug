{"sha": "45dcc026e55601992454c81ff5c171a58a5ac4b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDVkY2MwMjZlNTU2MDE5OTI0NTRjODFmZjVjMTcxYTU4YTVhYzRiOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2004-04-01T16:05:22Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2004-04-01T16:05:22Z"}, "message": "sparc.h (DITF_CONVERSION_LIBFUNCS): Define to 0.\n\n\t* config/sparc/sparc.h (DITF_CONVERSION_LIBFUNCS): Define to 0.\n\t* config/sparc/linux.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n\t* config/sparc/linux64.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n\t* config/sparc/sol2.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n\t(SOLARIS_CONVERSION_LIBFUNCS): Rename to SUN_CONVERSION_LIBFUNCS.\n\t* config/sparc/sparc.c (sparc_init_libfuncs): Initialize optabs\n\twith _Q_qtoll, _Q_qtoull and _Q_lltoq if DITF_CONVERSION_LIBFUNCS.\n\t* config.gcc (sparc-*-linux*): Revert 2004-03-23 change.\n\t* config/sparc/t-linux64 (TARGET_LIBGCC2_CFLAGS): Likewise.\n\t* config/sparc/t-linux: Removed.\n\nFrom-SVN: r80295", "tree": {"sha": "1f090b48bb9308f250d28cb8726358a7039e95c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f090b48bb9308f250d28cb8726358a7039e95c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45dcc026e55601992454c81ff5c171a58a5ac4b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45dcc026e55601992454c81ff5c171a58a5ac4b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45dcc026e55601992454c81ff5c171a58a5ac4b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45dcc026e55601992454c81ff5c171a58a5ac4b9/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0b612185938e178cce2cb547424e27e7d8deeac7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0b612185938e178cce2cb547424e27e7d8deeac7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0b612185938e178cce2cb547424e27e7d8deeac7"}], "stats": {"total": 46, "additions": 35, "deletions": 11}, "files": [{"sha": "fc6662c1af512f81a8feb4f0bd6f2c352bcbd4f8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -1,3 +1,16 @@\n+2004-04-01  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* config/sparc/sparc.h (DITF_CONVERSION_LIBFUNCS): Define to 0.\n+\t* config/sparc/linux.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n+\t* config/sparc/linux64.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n+\t* config/sparc/sol2.h (DITF_CONVERSION_LIBFUNCS): Redefine to 1.\n+\t(SOLARIS_CONVERSION_LIBFUNCS): Rename to SUN_CONVERSION_LIBFUNCS.\n+\t* config/sparc/sparc.c (sparc_init_libfuncs): Initialize optabs\n+\twith _Q_qtoll, _Q_qtoull and _Q_lltoq if DITF_CONVERSION_LIBFUNCS.\n+\t* config.gcc (sparc-*-linux*): Revert 2004-03-23 change.\n+\t* config/sparc/t-linux64 (TARGET_LIBGCC2_CFLAGS): Likewise.\n+\t* config/sparc/t-linux: Removed.\n+\n 2004-04-01  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/14755"}, {"sha": "2bf15f50d953bb60b59392fe1460601efebdf1f1", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -1808,7 +1808,7 @@ sparc-*-elf*)\n \t;;\n sparc-*-linux*)\t\t# SPARC's running GNU/Linux, libc6\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux.h\"\n-\ttmake_file=\"${tmake_file} sparc/t-linux sparc/t-crtfm\"\n+\ttmake_file=\"${tmake_file} sparc/t-crtfm\"\n \t;;\n sparc-*-rtems*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sol2.h sparc/sol2.h sparc/elf.h sparc/rtemself.h rtems.h\""}, {"sha": "ecb473152ae7f4553fc41abfa59a8f4679d1d285", "filename": "gcc/config/sparc/linux.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux.h?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -227,6 +227,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n #define LIBGCC2_LONG_DOUBLE_TYPE_SIZE 64\n #endif\n \n+#undef DITF_CONVERSION_LIBFUNCS\n+#define DITF_CONVERSION_LIBFUNCS 1\n+\n #if !defined(USE_GNULIBC_1) && defined(HAVE_LD_EH_FRAME_HDR)\n #define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n #endif"}, {"sha": "9820156fd07de64ea62806ec605bd2e346bce932", "filename": "gcc/config/sparc/linux64.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Flinux64.h?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -305,6 +305,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n \n /* #define DWARF_OFFSET_SIZE PTR_SIZE */\n \n+#undef DITF_CONVERSION_LIBFUNCS\n+#define DITF_CONVERSION_LIBFUNCS 1\n+\n #if defined(HAVE_LD_EH_FRAME_HDR)\n #define LINK_EH_SPEC \"%{!static:--eh-frame-hdr} \"\n #endif"}, {"sha": "483e89c3fb287c46b256706aaa418decd20d0de6", "filename": "gcc/config/sparc/sol2.h", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2.h?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -143,8 +143,11 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_BUGGY_QP_LIB\n #define TARGET_BUGGY_QP_LIB\t1\n \n-#undef SOLARIS_CONVERSION_LIBFUNCS\n-#define SOLARIS_CONVERSION_LIBFUNCS 1\n+#undef SUN_CONVERSION_LIBFUNCS\n+#define SUN_CONVERSION_LIBFUNCS 1\n+\n+#undef DITF_CONVERSION_LIBFUNCS\n+#define DITF_CONVERSION_LIBFUNCS 1\n \n #undef SUN_INTEGER_MULTIPLY_64\n #define SUN_INTEGER_MULTIPLY_64 1"}, {"sha": "30b789b92172c6dfd0646d78b22ae8ea422ebd6b", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -8082,6 +8082,13 @@ sparc_init_libfuncs (void)\n       set_conv_libfunc (ufix_optab,   SImode, TFmode, \"_Q_qtou\");\n       set_conv_libfunc (sfloat_optab, TFmode, SImode, \"_Q_itoq\");\n \n+      if (DITF_CONVERSION_LIBFUNCS)\n+\t{\n+\t  set_conv_libfunc (sfix_optab,   DImode, TFmode, \"_Q_qtoll\");\n+\t  set_conv_libfunc (ufix_optab,   DImode, TFmode, \"_Q_qtoull\");\n+\t  set_conv_libfunc (sfloat_optab, TFmode, DImode, \"_Q_lltoq\");\n+\t}\n+\n       if (SUN_CONVERSION_LIBFUNCS)\n \t{\n \t  set_conv_libfunc (sfix_optab, DImode, SFmode, \"__ftoll\");"}, {"sha": "58eb4c8e3c301bae8df6166d72f2fc5c7efb365c", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -2255,8 +2255,9 @@ do {                                                                    \\\n /* Assume by default that we do not have the Solaris-specific conversion\n    routines nor 64-bit integer multiply and divide routines.  */\n \n-#define SUN_CONVERSION_LIBFUNCS 0\n-#define SUN_INTEGER_MULTIPLY_64 0\n+#define SUN_CONVERSION_LIBFUNCS \t0\n+#define DITF_CONVERSION_LIBFUNCS\t0\n+#define SUN_INTEGER_MULTIPLY_64 \t0\n \n /* Compute extra cost of moving data between one register class\n    and another.  */"}, {"sha": "30a3ccaf83a52371963ddfa54f7d4a03668d6967", "filename": "gcc/config/sparc/t-linux", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0b612185938e178cce2cb547424e27e7d8deeac7/gcc%2Fconfig%2Fsparc%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0b612185938e178cce2cb547424e27e7d8deeac7/gcc%2Fconfig%2Fsparc%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-linux?ref=0b612185938e178cce2cb547424e27e7d8deeac7", "patch": "@@ -1,2 +0,0 @@\n-# Compile libgcc2.a with pic and IEEE quad long double.\n-TARGET_LIBGCC2_CFLAGS = -fPIC -mlong-double-128"}, {"sha": "3e3fa4cae7e694b0c33bdfb3b33ea0cd0b96c894", "filename": "gcc/config/sparc/t-linux64", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Ft-linux64", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45dcc026e55601992454c81ff5c171a58a5ac4b9/gcc%2Fconfig%2Fsparc%2Ft-linux64", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Ft-linux64?ref=45dcc026e55601992454c81ff5c171a58a5ac4b9", "patch": "@@ -17,7 +17,3 @@ SHLIB_MAPFILES = $(srcdir)/libgcc-std.ver \\\n CRTSTUFF_T_CFLAGS = `if test x$$($(GCC_FOR_TARGET) $(MULTILIB_CFLAGS) \\\n \t\t\t\t -print-multi-os-directory) \\\n \t\t\t= x../lib64; then echo -mcmodel=medany; fi`\n-\n-# Compile libgcc2.a with pic and for -m32 also IEEE quad long double.\n-# -m64 implies -mlong-double-128, so this is no change for 64-bit.\n-TARGET_LIBGCC2_CFLAGS = -fPIC -mlong-double-128"}]}