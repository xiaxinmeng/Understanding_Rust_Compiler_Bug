{"sha": "b6b240edae1d01a0d5746d940a201e635a449360", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZiMjQwZWRhZTFkMDFhMGQ1NzQ2ZDk0MGEyMDFlNjM1YTQ0OTM2MA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2017-10-20T00:30:41Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2017-10-20T00:30:41Z"}, "message": "re PR c++/82308 ([C++17] deduction of template arguments results in internal compiler error)\n\n2017-10-19  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/82308\n\t* g++.dg/cpp1z/class-deduction45.C: New.\n\nFrom-SVN: r253920", "tree": {"sha": "3c591868de4e3cb981993b9e908355151a114e04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c591868de4e3cb981993b9e908355151a114e04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6b240edae1d01a0d5746d940a201e635a449360", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6b240edae1d01a0d5746d940a201e635a449360", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6b240edae1d01a0d5746d940a201e635a449360", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6b240edae1d01a0d5746d940a201e635a449360/comments", "author": null, "committer": null, "parents": [{"sha": "6d2bd9ff82784c83e51492ceb240a852bacc0702", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d2bd9ff82784c83e51492ceb240a852bacc0702", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d2bd9ff82784c83e51492ceb240a852bacc0702"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "4aab328fae3fd68ec9cfad6a017801c4250e8a70", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6b240edae1d01a0d5746d940a201e635a449360/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6b240edae1d01a0d5746d940a201e635a449360/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b6b240edae1d01a0d5746d940a201e635a449360", "patch": "@@ -1,4 +1,9 @@\n-2017-10-18  Uros Bizjak  <ubizjak@gmail.com>\n+2017-10-19  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/82308\n+\t* g++.dg/cpp1z/class-deduction45.C: New.\n+\n+2017-10-19  Uros Bizjak  <ubizjak@gmail.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n \n \tPR target/82618"}, {"sha": "3fe8dd33b79745b8f2fdff2e801f6746f3efd31c", "filename": "gcc/testsuite/g++.dg/cpp1z/class-deduction45.C", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6b240edae1d01a0d5746d940a201e635a449360/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fclass-deduction45.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6b240edae1d01a0d5746d940a201e635a449360/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fclass-deduction45.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1z%2Fclass-deduction45.C?ref=b6b240edae1d01a0d5746d940a201e635a449360", "patch": "@@ -0,0 +1,24 @@\n+// PR c++/82308\n+// { dg-options -std=c++17 }\n+\n+template<typename, unsigned>\n+struct array {};\n+\n+template <unsigned R>\n+class X {\n+public:\n+  using T = array<int, R>;\n+\n+  enum class C : char { A, B };\n+  X(T bounds, C c = C::B) : t(bounds) {}\n+\n+private:\n+  T t;\n+};\n+\n+int main()\n+{\n+  array<int, 2> a;\n+  X    d{a};\n+  X<2> e{a};\n+}"}]}