{"sha": "deda4625f1befb55a52409de2c7eda325b58e195", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVkYTQ2MjVmMWJlZmI1NWE1MjQwOWRlMmM3ZWRhMzI1YjU4ZTE5NQ==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-03-13T07:15:06Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2020-07-01T11:24:16Z"}, "message": "move ILS include to system.h\n\nThis moves ISL system header includes to system.h.\n\n\t* system.h (INCLUDE_ISL): New guarded include.\n\t* graphite-dependences.c: Use it.\n\t* graphite-isl-ast-to-gimple.c: Likewise.\n\t* graphite-optimize-isl.c: Likewise.\n\t* graphite-poly.c: Likewise.\n\t* graphite-scop-detection.c: Likewise.\n\t* graphite-sese-to-poly.c: Likewise.\n\t* graphite.c: Likewise.\n\t* graphite.h: Drop the includes here.", "tree": {"sha": "58bb0957563e1b84e9140cf28a56462f0dbcfcef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58bb0957563e1b84e9140cf28a56462f0dbcfcef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/deda4625f1befb55a52409de2c7eda325b58e195", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deda4625f1befb55a52409de2c7eda325b58e195", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deda4625f1befb55a52409de2c7eda325b58e195", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deda4625f1befb55a52409de2c7eda325b58e195/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4222fd8e94c126dd76fb4c4bc2d69f3262c7bc5a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4222fd8e94c126dd76fb4c4bc2d69f3262c7bc5a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4222fd8e94c126dd76fb4c4bc2d69f3262c7bc5a"}], "stats": {"total": 62, "additions": 28, "deletions": 34}, "files": [{"sha": "b8480217e6d903404c5d59480b61003fad333e41", "filename": "gcc/graphite-dependences.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-dependences.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-dependences.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-dependences.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -19,7 +19,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n "}, {"sha": "81f7b48887ced893799a50e9f0ca45e2e2687195", "filename": "gcc/graphite-isl-ast-to-gimple.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-isl-ast-to-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-isl-ast-to-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-isl-ast-to-gimple.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -18,7 +18,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n "}, {"sha": "f9043f0aeedf7a4cc7c0ff9b598dfb0eb3b058af", "filename": "gcc/graphite-optimize-isl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-optimize-isl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-optimize-isl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-optimize-isl.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -18,7 +18,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n "}, {"sha": "de32ab648ef7e1495b50e59cf481f3ba43e19ea4", "filename": "gcc/graphite-poly.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-poly.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -19,7 +19,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n "}, {"sha": "31f837c11b109bd0f2b8ad861eb660ffc6ce7a0f", "filename": "gcc/graphite-scop-detection.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-scop-detection.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-scop-detection.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-scop-detection.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -19,7 +19,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n "}, {"sha": "afce6f0eb70f654ed0de3589be6db02fccb62056", "filename": "gcc/graphite-sese-to-poly.c", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-sese-to-poly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite-sese-to-poly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-sese-to-poly.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -18,7 +18,7 @@ You should have received a copy of the GNU General Public License\n along with GCC; see the file COPYING3.  If not see\n <http://www.gnu.org/licenses/>.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n \n@@ -46,15 +46,6 @@ along with GCC; see the file COPYING3.  If not see\n #include \"tree-scalar-evolution.h\"\n #include \"domwalk.h\"\n #include \"tree-ssa-propagate.h\"\n-\n-#include <isl/constraint.h>\n-#include <isl/set.h>\n-#include <isl/map.h>\n-#include <isl/union_map.h>\n-#include <isl/constraint.h>\n-#include <isl/aff.h>\n-#include <isl/val.h>\n-\n #include \"graphite.h\"\n \n /* Return an isl identifier for the polyhedral basic block PBB.  */"}, {"sha": "1c702d095008abcd1b17e302d9317ec8c2a86f9f", "filename": "gcc/graphite.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite.c?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -27,7 +27,7 @@ along with GCC; see the file COPYING3.  If not see\n    The wiki page http://gcc.gnu.org/wiki/Graphite contains pointers to\n    the related work.  */\n \n-#define USES_ISL\n+#define INCLUDE_ISL\n \n #include \"config.h\"\n #include \"system.h\""}, {"sha": "8c06b81e32d51509034132ffb5b22025f33c7c01", "filename": "gcc/graphite.h", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fgraphite.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite.h?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -23,22 +23,6 @@ along with GCC; see the file COPYING3.  If not see\n #define GCC_GRAPHITE_POLY_H\n \n #include \"sese.h\"\n-#include <isl/options.h>\n-#include <isl/ctx.h>\n-#include <isl/val.h>\n-#include <isl/set.h>\n-#include <isl/union_set.h>\n-#include <isl/map.h>\n-#include <isl/union_map.h>\n-#include <isl/aff.h>\n-#include <isl/constraint.h>\n-#include <isl/flow.h>\n-#include <isl/ilp.h>\n-#include <isl/schedule.h>\n-#include <isl/ast_build.h>\n-#include <isl/schedule_node.h>\n-#include <isl/id.h>\n-#include <isl/space.h>\n \n typedef struct poly_dr *poly_dr_p;\n "}, {"sha": "5f740e3b82b5307c54cb797c73fae6fc0f6da4c5", "filename": "gcc/system.h", "status": "modified", "additions": 21, "deletions": 2, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deda4625f1befb55a52409de2c7eda325b58e195/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=deda4625f1befb55a52409de2c7eda325b58e195", "patch": "@@ -736,6 +736,27 @@ extern int vsnprintf (char *, size_t, const char *, va_list);\n #endif\n #endif\n \n+#ifdef INCLUDE_ISL\n+#ifdef HAVE_isl\n+#include <isl/options.h>\n+#include <isl/ctx.h>\n+#include <isl/val.h>\n+#include <isl/set.h>\n+#include <isl/union_set.h>\n+#include <isl/map.h>\n+#include <isl/union_map.h>\n+#include <isl/aff.h>\n+#include <isl/constraint.h>\n+#include <isl/flow.h>\n+#include <isl/ilp.h>\n+#include <isl/schedule.h>\n+#include <isl/ast_build.h>\n+#include <isl/schedule_node.h>\n+#include <isl/id.h>\n+#include <isl/space.h>\n+#endif\n+#endif\n+\n /* Redefine abort to report an internal error w/o coredump, and\n    reporting the location of the error in the source file.  */\n extern void fancy_abort (const char *, int, const char *)\n@@ -866,12 +887,10 @@ extern void fancy_abort (const char *, int, const char *)\n    etc don't spuriously fail.  */\n #ifdef IN_GCC\n \n-#ifndef USES_ISL\n #undef calloc\n #undef strdup\n #undef strndup\n  #pragma GCC poison calloc strdup strndup\n-#endif\n \n #if !defined(FLEX_SCANNER) && !defined(YYBISON)\n #undef malloc"}]}