{"sha": "30efe578e7df5edf8e370e09e08bc88dcd449792", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBlZmU1NzhlN2RmNWVkZjhlMzcwZTA5ZTA4YmM4OGRjZDQ0OTc5Mg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-06-03T06:15:25Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2002-06-03T06:15:25Z"}, "message": "i386.h (TARGET_CPU_CPP_BUILTINS): New.\n\n\n\t* config/i386/i386.h (TARGET_CPU_CPP_BUILTINS): New.\n\t(CPP_CPU32_SPEC, CPP_CPU64_SPEC): Kill.\n\t(CPP_CPUCOMMON_SPEC): Rename CPP_CPU_SPEC.\n\nFrom-SVN: r54206", "tree": {"sha": "025bf16aef30cc6aaf4bd9ba74d1f8bb707830a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/025bf16aef30cc6aaf4bd9ba74d1f8bb707830a7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30efe578e7df5edf8e370e09e08bc88dcd449792", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30efe578e7df5edf8e370e09e08bc88dcd449792", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30efe578e7df5edf8e370e09e08bc88dcd449792", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30efe578e7df5edf8e370e09e08bc88dcd449792/comments", "author": null, "committer": null, "parents": [{"sha": "8fd0df91d8abc68b73151756f574d3a511120f90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fd0df91d8abc68b73151756f574d3a511120f90", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fd0df91d8abc68b73151756f574d3a511120f90"}], "stats": {"total": 54, "additions": 27, "deletions": 27}, "files": [{"sha": "4986edbd3ec542db3f90c383869842cb8b17f9c4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30efe578e7df5edf8e370e09e08bc88dcd449792/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30efe578e7df5edf8e370e09e08bc88dcd449792/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=30efe578e7df5edf8e370e09e08bc88dcd449792", "patch": "@@ -1,3 +1,9 @@\n+2002-06-03  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* config/i386/i386.h (TARGET_CPU_CPP_BUILTINS): New.\n+\t(CPP_CPU32_SPEC, CPP_CPU64_SPEC): Kill.\n+\t(CPP_CPUCOMMON_SPEC): Rename CPP_CPU_SPEC.\n+\n 2002-06-03  Jason Thorpe  <thorpej@wasabisystems.com>\n \n \t* config/ns32k/netbsd.h: Update copyright years."}, {"sha": "c7fe8d4df6f03524b12aefb528124e2a59d14881", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 21, "deletions": 27, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30efe578e7df5edf8e370e09e08bc88dcd449792/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30efe578e7df5edf8e370e09e08bc88dcd449792/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=30efe578e7df5edf8e370e09e08bc88dcd449792", "patch": "@@ -473,6 +473,26 @@ extern int x86_prefetch_sse;\n %n`-mno-intel-syntax' is deprecated. Use `-masm=att' instead.\\n}\"\n #endif\n \f\n+/* Target CPU builtins.  */\n+#define TARGET_CPU_CPP_BUILTINS()\t\t\t\\\n+  do\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\\\n+      if (TARGET_64BIT)\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\\\n+\t  builtin_assert (\"cpu=x86_64\");\t\t\\\n+\t  builtin_assert (\"machine=x86_64\");\t\t\\\n+\t  builtin_define (\"__x86_64\");\t\t\t\\\n+\t  builtin_define (\"__x86_64__\");\t\t\\\n+\t}\t\t\t\t\t\t\\\n+      else\t\t\t\t\t\t\\\n+\t{\t\t\t\t\t\t\\\n+\t  builtin_assert (\"cpu=i386\");\t\t\t\\\n+\t  builtin_assert (\"machine=i386\");\t\t\\\n+\t  builtin_define_std (\"i386\");\t\t\t\\\n+\t}\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\\\n+  while (0)\n+\n #define TARGET_CPU_DEFAULT_i386 0\n #define TARGET_CPU_DEFAULT_i486 1\n #define TARGET_CPU_DEFAULT_pentium 2\n@@ -535,14 +555,7 @@ extern int x86_prefetch_sse;\n #endif\n #endif /* CPP_CPU_DEFAULT_SPEC */\n \n-#define CPP_CPU32_SPEC \\\n-  \"-Acpu=i386 -Amachine=i386 %{!ansi:%{!std=c*:%{!std=i*:-Di386}}} -D__i386 \\\n--D__i386__\"\n-\n-#define CPP_CPU64_SPEC \\\n-  \"-Acpu=x86_64 -Amachine=x86_64 -D__x86_64 -D__x86_64__\"\n-\n-#define CPP_CPUCOMMON_SPEC \"\\\n+#define CPP_CPU_SPEC \"\\\n %{march=i386:%{!mcpu*:-D__tune_i386__ }}\\\n %{march=i486:-D__i486 -D__i486__ %{!mcpu*:-D__tune_i486__ }}\\\n %{march=pentium|march=i586:-D__i586 -D__i586__ -D__pentium -D__pentium__ \\\n@@ -589,22 +602,6 @@ extern int x86_prefetch_sse;\n %{march=pentium4: -D__SSE2__ }\\\n %{!march*:%{!mcpu*:%{!m386:%{!m486:%{!mpentium*:%(cpp_cpu_default)}}}}}\"\n \n-#ifndef CPP_CPU_SPEC\n-#ifdef TARGET_BI_ARCH\n-#if TARGET_64BIT_DEFAULT\n-#define CPP_CPU_SPEC \"%{m32:%(cpp_cpu32)}%{!m32:%(cpp_cpu64)} %(cpp_cpucommon)\"\n-#else\n-#define CPP_CPU_SPEC \"%{m64:%(cpp_cpu64)}%{!m64:%(cpp_cpu32)} %(cpp_cpucommon)\"\n-#endif\n-#else\n-#if TARGET_64BIT_DEFAULT\n-#define CPP_CPU_SPEC \"%(cpp_cpu64) %(cpp_cpucommon)\"\n-#else\n-#define CPP_CPU_SPEC \"%(cpp_cpu32) %(cpp_cpucommon)\"\n-#endif\n-#endif\n-#endif\n-\n #ifndef CC1_SPEC\n #define CC1_SPEC \"%(cc1_cpu) \"\n #endif\n@@ -626,9 +623,6 @@ extern int x86_prefetch_sse;\n #define EXTRA_SPECS\t\t\t\t\t\t\t\\\n   { \"cpp_cpu_default\",\tCPP_CPU_DEFAULT_SPEC },\t\t\t\t\\\n   { \"cpp_cpu\",\tCPP_CPU_SPEC },\t\t\t\t\t\t\\\n-  { \"cpp_cpu32\", CPP_CPU32_SPEC },\t\t\t\t\t\\\n-  { \"cpp_cpu64\", CPP_CPU64_SPEC },\t\t\t\t\t\\\n-  { \"cpp_cpucommon\", CPP_CPUCOMMON_SPEC },\t\t\t\t\\\n   { \"cc1_cpu\",  CC1_CPU_SPEC },\t\t\t\t\t\t\\\n   SUBTARGET_EXTRA_SPECS\n \f"}]}