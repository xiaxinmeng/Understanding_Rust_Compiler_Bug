{"sha": "c0420911bde23ea6dd0b18c6051f50f4149476a2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA0MjA5MTFiZGUyM2VhNmRkMGIxOGM2MDUxZjUwZjQxNDk0NzZhMg==", "commit": {"author": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1997-04-07T21:29:09Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "1997-04-07T21:29:09Z"}, "message": "(SUBTARGET_CC1_SPEC): Define.\n\n(STARTFILE_SPEC, LINK_SPEC): Support -static.\n\nFrom-SVN: r13842", "tree": {"sha": "1aadd9227890316166b7bbee62325020c314e655", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1aadd9227890316166b7bbee62325020c314e655"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0420911bde23ea6dd0b18c6051f50f4149476a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0420911bde23ea6dd0b18c6051f50f4149476a2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0420911bde23ea6dd0b18c6051f50f4149476a2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0420911bde23ea6dd0b18c6051f50f4149476a2/comments", "author": null, "committer": null, "parents": [{"sha": "13a61c299d7da9de6e2073441a8094fa4be1307e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13a61c299d7da9de6e2073441a8094fa4be1307e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13a61c299d7da9de6e2073441a8094fa4be1307e"}], "stats": {"total": 44, "additions": 41, "deletions": 3}, "files": [{"sha": "2c6070b426d6228b128da22f594f7cea427f5e87", "filename": "gcc/config/mips/iris6.h", "status": "modified", "additions": 41, "deletions": 3, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0420911bde23ea6dd0b18c6051f50f4149476a2/gcc%2Fconfig%2Fmips%2Firis6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0420911bde23ea6dd0b18c6051f50f4149476a2/gcc%2Fconfig%2Fmips%2Firis6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6.h?ref=c0420911bde23ea6dd0b18c6051f50f4149476a2", "patch": "@@ -34,6 +34,9 @@ Boston, MA 02111-1307, USA.  */\n #undef TARGET_LONG64\n #define TARGET_LONG64\t\t(mips_abi == ABI_64)\n \n+#undef SUBTARGET_CC1_SPEC\n+#define SUBTARGET_CC1_SPEC \"%{static: -mno-abicalls}\"\n+\n /* We must pass -D_LONGLONG always, even when -ansi is used, because irix6\n    system header files require it.  This is OK, because gcc never warns\n    when long long is used in system header files.  Alternatively, we can\n@@ -417,7 +420,7 @@ do {\t\t\t\t\t\t\t\t\t \\\n    on the mipsX option.  */\n #undef STARTFILE_SPEC\n #define STARTFILE_SPEC \\\n-  \"%{!shared: \\\n+  \"%{!static:%{!shared: \\\n      %{mabi=32:%{pg:gcrt1.o%s} \\\n        %{!pg:%{p:mcrt1.o%s libprof1.a%s}%{!p:crt1.o%s}}} \\\n      %{mabi=n32: \\\n@@ -440,7 +443,40 @@ do {\t\t\t\t\t\t\t\t\t \\\n            %{!p:/usr/lib32/mips4/crt1.o%s}}} \\\n        %{!mips4:%{pg:/usr/lib32/mips3/gcrt1.o%s} \\\n          %{!pg:%{p:/usr/lib32/mips3/mcrt1.o%s /usr/lib32/mips3/libprof1.a%s} \\\n-           %{!p:/usr/lib32/mips3/crt1.o%s}}}}} \\\n+           %{!p:/usr/lib32/mips3/crt1.o%s}}}}}} \\\n+   %{static: \\\n+     %{mabi=32:%{pg:/usr/lib/nonshared/gcrt1.o%s} \\\n+       %{!pg:%{p:/usr/lib/nonshared/mcrt1.o%s /usr/lib/nonshared/libprof1.a%s} \\\n+         %{!p:/usr/lib/nonshared/crt1.o%s}}} \\\n+     %{mabi=n32: \\\n+       %{mips4:%{pg:/usr/lib32/mips4/nonshared/gcrt1.o%s} \\\n+         %{!pg:%{p:/usr/lib32/mips4/nonshared/mcrt1.o%s \\\n+             /usr/lib32/mips4/nonshared/libprof1.a%s} \\\n+           %{!p:/usr/lib32/mips4/nonshared/crt1.o%s}}} \\\n+       %{!mips4:%{pg:/usr/lib32/mips3/nonshared/gcrt1.o%s} \\\n+         %{!pg:%{p:/usr/lib32/mips3/nonshared/mcrt1.o%s \\\n+             /usr/lib32/mips3/nonshared/libprof1.a%s} \\\n+           %{!p:/usr/lib32/mips3/nonshared/crt1.o%s}}}} \\\n+     %{mabi=64: \\\n+       %{mips4:%{pg:/usr/lib64/mips4/nonshared/gcrt1.o} \\\n+         %{!pg:%{p:/usr/lib64/mips4/nonshared/mcrt1.o \\\n+             /usr/lib64/mips4/nonshared/libprof1.a} \\\n+           %{!p:/usr/lib64/mips4/nonshared/crt1.o}}} \\\n+       %{!mips4:%{pg:/usr/lib64/mips3/nonshared/gcrt1.o} \\\n+         %{!pg:%{p:/usr/lib64/mips3/nonshared/mcrt1.o \\\n+             /usr/lib64/mips3/nonshared/libprof1.a} \\\n+           %{!p:/usr/lib64/mips3/nonshared/crt1.o}}}} \\\n+     %{!mabi*: \\\n+       %{mips4:%{pg:/usr/lib32/mips4/nonshared/gcrt1.o%s} \\\n+         %{!pg:%{p:/usr/lib32/mips4/nonshared/mcrt1.o%s \\\n+             /usr/lib32/mips4/nonshared/libprof1.a%s} \\\n+           %{!p:/usr/lib32/mips4/nonshared/crt1.o%s}}} \\\n+       %{!mips4:%{pg:/usr/lib32/mips3/nonshared/gcrt1.o%s} \\\n+         %{!pg:%{p:/usr/lib32/mips3/nonshared/mcrt1.o%s \\\n+           /usr/lib32/mips3/nonshared/libprof1.a%s} \\\n+         %{!pg:%{p:/usr/lib32/mips3/nonshared/mcrt1.o%s \\\n+             /usr/lib32/mips3/nonshared/libprof1.a%s} \\\n+           %{!p:/usr/lib32/mips3/nonshared/crt1.o%s}}}}}} \\\n    %{mabi=n32: %{mips4:-L/usr/lib32/mips4} %{!mips4:-L/usr/lib32/mips3} \\\n      -L/usr/lib32} \\\n    %{mabi=64: %{mips4:-L/usr/lib64/mips4} %{!mips4:-L/usr/lib64/mips3} \\\n@@ -479,7 +515,9 @@ do {\t\t\t\t\t\t\t\t\t \\\n %{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} %{mips4} \\\n %{bestGnum} %{shared} %{non_shared} \\\n %{call_shared} %{no_archive} %{exact_version} %{w} \\\n-%{!shared: %{!non_shared: %{!call_shared: -call_shared -no_unresolved}}} \\\n+%{static: -non_shared} \\\n+%{!static: \\\n+  %{!shared: %{!non_shared: %{!call_shared: -call_shared -no_unresolved}}}} \\\n %{rpath} -init __do_global_ctors -fini __do_global_dtors \\\n %{shared:-hidden_symbol __do_global_ctors,__do_global_dtors} \\\n -_SYSTYPE_SVR4 %{mabi=32: -32}%{mabi=n32: -n32}%{mabi=64: -64} %{!mabi*: -n32}\""}]}