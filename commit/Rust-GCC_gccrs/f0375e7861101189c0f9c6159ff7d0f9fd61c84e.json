{"sha": "f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjAzNzVlNzg2MTEwMTE4OWMwZjljNjE1OWZmN2QwZjlmZDYxYzg0ZQ==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2009-06-22T14:04:19Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2009-06-22T14:04:19Z"}, "message": "ChangeLog for gcc\n\n2009-06-22  Kai Tietz  <kai.tietz@onevision.com>\n\n\t* config.gcc: Add for x86 and x64 mingw targets t-fprules-soft\n\tand t-softfp support.\n\t* config/i386/mingw32.h (LIBGCC2_HAS_TF_MODE): Enable TFmode.\n\t(LIBGCC2_TF_CEXT): Define.\n\t(TF_SIZE): Define.\n\nChangeLog for libgcc\n\n2009-06-22  Kai Tietz  <kai.tietz@onevision.com>\n\n\t* config.host: Add soft emulation for x86 and x64 mingw targets.\n\t* config/i386/64/_divtc3.c: Disable for mingw targets usage of\n\t.symver assembly symbol.\n\t* config/i386/64/_multc3.c: Likewise.\n\t* config/i386/64/_powitf2.c: Likewise.\n\t* config/i386/64/eqtf2.c: Likewise.\n\t* config/i386/64/getf2.c: Likewise.\n\t* config/i386/64/letf2.c: Likewise.\n\t* config/i386/64/letf2.c: Likewise.\n\t* config/i386/64/sfp-machine.h (_FP_W_TYPE): Define it\n\tfor x64 mingw target as unsigned long long.\n\t(_FP_WS_TYPE): Define it for x64 mingw target as signed long\n\tlong.\n\t(_FP_I_TYPE): Define it for x64 mingw target as long long.\n\nFrom-SVN: r148798", "tree": {"sha": "394b4627bcbefa076f61363862053b8d80fd8f9e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/394b4627bcbefa076f61363862053b8d80fd8f9e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/comments", "author": null, "committer": null, "parents": [{"sha": "3f53cdbe6721b84b0e0fd82e420921a685108395", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f53cdbe6721b84b0e0fd82e420921a685108395", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f53cdbe6721b84b0e0fd82e420921a685108395"}], "stats": {"total": 37, "additions": 32, "deletions": 5}, "files": [{"sha": "0105fcbd484f9af625e578dca47debcabf3d9121", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -3136,7 +3136,7 @@ case ${target} in\n \ti[34567]86-*-linux* | x86_64-*-linux* | i[34567]86-*-kfreebsd*-gnu | x86_64-*-kfreebsd*-gnu)\n \t\ttmake_file=\"${tmake_file} i386/t-fprules-softfp soft-fp/t-softfp i386/t-linux\"\n \t\t;;\n-\ti[34567]86-*-cygwin*)\n+\ti[34567]86-*-cygwin* | i[34567]86-*-mingw* | x86_64-*-mingw*)\n \t\ttmake_file=\"${tmake_file} i386/t-fprules-softfp soft-fp/t-softfp\"\n \t\t;;\n \tia64*-*-linux*)"}, {"sha": "6043e24cede75bf1483862d9305f37719e7cd619", "filename": "gcc/config/i386/mingw32.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/gcc%2Fconfig%2Fi386%2Fmingw32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/gcc%2Fconfig%2Fi386%2Fmingw32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fmingw32.h?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -123,6 +123,14 @@ along with GCC; see the file COPYING3.  If not see\n #define STANDARD_STARTFILE_PREFIX_2 \"\"\n #endif\n \n+/* Put all *tf routines in libgcc.  */\n+#undef LIBGCC2_HAS_TF_MODE\n+#define LIBGCC2_HAS_TF_MODE 1\n+#undef LIBGCC2_TF_CEXT\n+#define LIBGCC2_TF_CEXT q\n+#undef TF_SIZE\n+#define TF_SIZE 113\n+\n /* Output STRING, a string representing a filename, to FILE.\n    We canonicalize it to be in Unix format (backslashes are replaced\n    forward slashes.  */"}, {"sha": "bdc1b34bd3a5203d4b4588d5b38a4b58742dd208", "filename": "libgcc/config.host", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -571,7 +571,7 @@ case ${host} in\n i[34567]86-*-darwin* | x86_64-*-darwin* | \\\n   i[34567]86-*-kfreebsd*-gnu | x86_64-*-kfreebsd*-gnu | \\\n   i[34567]86-*-linux* | x86_64-*-linux* | \\\n-  i[34567]86-*-cygwin*)\n+  i[34567]86-*-cygwin* | i[34567]86-*-mingw* | x86_64-*-mingw*)\n \tif test \"${host_address}\" = 32; then\n \t\ttmake_file=\"${tmake_file} t-softfp i386/${host_address}/t-fprules-softfp\"\n \tfi"}, {"sha": "0095d245ede828815b25c26d69ca2a620cfac9bd", "filename": "libgcc/config/i386/64/_divtc3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_divtc3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_divtc3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2F_divtc3.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -9,6 +9,8 @@\n #undef __divtc3\n extern __typeof__ (__divtc3_shared) __divtc3_compat __attribute__((alias (\"__divtc3_shared\")));\n \n+#ifndef _WIN32\n asm (\".symver __divtc3_compat,__divtc3@GCC_4.0.0\");\n asm (\".symver __divtc3_shared,__divtc3@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "08b5ee451d03ba0e16b8be18fcdef07715ffdf80", "filename": "libgcc/config/i386/64/_multc3.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_multc3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_multc3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2F_multc3.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -9,6 +9,8 @@\n #undef __multc3\n extern __typeof__ (__multc3_shared) __multc3_compat __attribute__((alias (\"__multc3_shared\")));\n \n+#ifndef _WIN32\n asm (\".symver __multc3_compat,__multc3@GCC_4.0.0\");\n asm (\".symver __multc3_shared,__multc3@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "e8360156b5b911f367e9bb6fd4b3b4338e20f111", "filename": "libgcc/config/i386/64/_powitf2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_powitf2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2F_powitf2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2F_powitf2.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -9,6 +9,8 @@\n #undef __powitf2\n extern __typeof__ (__powitf2_shared) __powitf2_compat __attribute__((alias (\"__powitf2_shared\")));\n \n+#ifndef _WIN32\n asm (\".symver __powitf2_compat,__powitf2@GCC_4.0.0\");\n asm (\".symver __powitf2_shared,__powitf2@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "785c42ad5c632f55ec39520f7793f60f50e7db4d", "filename": "libgcc/config/i386/64/eqtf2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Feqtf2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Feqtf2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Feqtf2.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -8,6 +8,8 @@\n #undef __netf2\n strong_alias (__netf2_shared, __netf2_compat);\n \n+#ifndef _WIN32\n asm (\".symver __netf2_compat,__netf2@GCC_3.0\");\n asm (\".symver __netf2_shared,__netf2@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "280447c1e832b90aa89ac1e2a193b31e824437a8", "filename": "libgcc/config/i386/64/getf2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fgetf2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fgetf2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Fgetf2.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -8,6 +8,8 @@\n #undef __gttf2\n strong_alias (__gttf2_shared, __gttf2_compat);\n \n+#ifndef _WIN32\n asm (\".symver __gttf2_compat,__gttf2@GCC_3.0\");\n asm (\".symver __gttf2_shared,__gttf2@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "81e0881c8448be4d1815896524a5bebe800f73d1", "filename": "libgcc/config/i386/64/letf2.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fletf2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fletf2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Fletf2.c?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -8,6 +8,8 @@\n #undef __lttf2\n strong_alias (__lttf2_shared, __lttf2_compat);\n \n+#ifndef _WIN32\n asm (\".symver __lttf2_compat,__lttf2@GCC_3.0\");\n asm (\".symver __lttf2_shared,__lttf2@@GCC_4.3.0\");\n #endif\n+#endif"}, {"sha": "5adf6dbbaa46d102db963762f46f79203d6141f8", "filename": "libgcc/config/i386/64/sfp-machine.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f0375e7861101189c0f9c6159ff7d0f9fd61c84e/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2F64%2Fsfp-machine.h?ref=f0375e7861101189c0f9c6159ff7d0f9fd61c84e", "patch": "@@ -1,7 +1,14 @@\n #define _FP_W_TYPE_SIZE\t\t64\n-#define _FP_W_TYPE\t\tunsigned long\n-#define _FP_WS_TYPE\t\tsigned long\n-#define _FP_I_TYPE\t\tlong\n+\n+#ifdef _WIN64\n+ #define _FP_W_TYPE\t\tunsigned long long\n+ #define _FP_WS_TYPE\t\tsigned long long\n+ #define _FP_I_TYPE\t\tlong long\n+#else\n+ #define _FP_W_TYPE\t\tunsigned long\n+ #define _FP_WS_TYPE\t\tsigned long\n+ #define _FP_I_TYPE\t\tlong\n+#endif\n \n typedef int TItype __attribute__ ((mode (TI)));\n typedef unsigned int UTItype __attribute__ ((mode (TI)));"}]}