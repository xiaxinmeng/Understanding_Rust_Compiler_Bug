{"sha": "282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjgyZDQyZjJjYjU5MDc5MmViOTlhYThhOGM5ZGQyZjFiNDE3NjNiMQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2011-11-24T07:18:16Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2011-11-24T07:18:16Z"}, "message": "re PR bootstrap/50888 (Bootstrap failure in libjava against latest git glibc)\n\n\tPR bootstrap/50888\n\t* prims.cc: Don't include ctype.h.\n\t(c_isspace): Define.\n\t(next_property_key, next_property_value): Use it instead\n\tof isspace.\n\nFrom-SVN: r181685", "tree": {"sha": "a49df1c45c238595b5457b87626c25e750ec197c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a49df1c45c238595b5457b87626c25e750ec197c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1d551e4dc364d85d94ce159805dc637a4a819f7d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d551e4dc364d85d94ce159805dc637a4a819f7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d551e4dc364d85d94ce159805dc637a4a819f7d"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "e856e4b65d7e0763b99e4f27005d3a2dc3f74e7d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "patch": "@@ -1,3 +1,11 @@\n+2011-11-24  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR bootstrap/50888\n+\t* prims.cc: Don't include ctype.h.\n+\t(c_isspace): Define.\n+\t(next_property_key, next_property_value): Use it instead\n+\tof isspace.\n+\n 2011-11-21  Andreas Tobler  <andreast@fgznet.ch>\n \n \t* configure.ac: Fix FreeBSD 10 detection."}, {"sha": "652cf5b4aa5d0f2726b77c5906af36eccdda62bb", "filename": "libjava/prims.cc", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1/libjava%2Fprims.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/282d42f2cb590792eb99aa8a8c9dd2f1b41763b1/libjava%2Fprims.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fprims.cc?ref=282d42f2cb590792eb99aa8a8c9dd2f1b41763b1", "patch": "@@ -38,7 +38,6 @@ details.  */\n #endif\n \n #ifndef DISABLE_GETENV_PROPERTIES\n-#include <ctype.h>\n #include <java-props.h>\n #define PROCESS_GCJ_PROPERTIES process_gcj_properties()\n #else\n@@ -985,6 +984,8 @@ static java::lang::Thread *main_thread;\n \n #ifndef DISABLE_GETENV_PROPERTIES\n \n+#define c_isspace(c) (memchr (\" \\t\\n\\r\\v\\f\", c, 6) != NULL)\n+\n static char *\n next_property_key (char *s, size_t *length)\n {\n@@ -993,7 +994,7 @@ next_property_key (char *s, size_t *length)\n   JvAssert (s);\n \n   // Skip over whitespace\n-  while (isspace (*s))\n+  while (c_isspace (*s))\n     s++;\n \n   // If we've reached the end, return NULL.  Also return NULL if for\n@@ -1005,7 +1006,7 @@ next_property_key (char *s, size_t *length)\n \n   // Determine the length of the property key.\n   while (s[l] != 0\n-\t && ! isspace (s[l])\n+\t && ! c_isspace (s[l])\n \t && s[l] != ':'\n \t && s[l] != '=')\n     {\n@@ -1027,19 +1028,19 @@ next_property_value (char *s, size_t *length)\n \n   JvAssert (s);\n \n-  while (isspace (*s))\n+  while (c_isspace (*s))\n     s++;\n \n   if (*s == ':'\n       || *s == '=')\n     s++;\n \n-  while (isspace (*s))\n+  while (c_isspace (*s))\n     s++;\n \n   // Determine the length of the property value.\n   while (s[l] != 0\n-\t && ! isspace (s[l])\n+\t && ! c_isspace (s[l])\n \t && s[l] != ':'\n \t && s[l] != '=')\n     {"}]}