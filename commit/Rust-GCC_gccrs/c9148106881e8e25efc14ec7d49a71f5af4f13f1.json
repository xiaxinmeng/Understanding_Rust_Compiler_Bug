{"sha": "c9148106881e8e25efc14ec7d49a71f5af4f13f1", "node_id": "C_kwDOANBUbNoAKGM5MTQ4MTA2ODgxZThlMjVlZmMxNGVjN2Q0OWE3MWY1YWY0ZjEzZjE", "commit": {"author": {"name": "Steve Baird", "email": "baird@adacore.com", "date": "2021-10-21T17:47:06Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2021-11-09T09:44:47Z"}, "message": "[Ada] Add missing regular expression syntax error check\n\ngcc/ada/\n\n\t* libgnat/s-regexp.adb (Compile.Check_Well_Formed_Patern): When\n\ta \"|\" operator is encountered in a pattern, check that it is not\n\tthe last character of the pattern.", "tree": {"sha": "adc387d2b017c7d377df85974eb5e79cb02b726d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/adc387d2b017c7d377df85974eb5e79cb02b726d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c9148106881e8e25efc14ec7d49a71f5af4f13f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9148106881e8e25efc14ec7d49a71f5af4f13f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c9148106881e8e25efc14ec7d49a71f5af4f13f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c9148106881e8e25efc14ec7d49a71f5af4f13f1/comments", "author": {"login": "swbaird", "id": 50751052, "node_id": "MDQ6VXNlcjUwNzUxMDUy", "avatar_url": "https://avatars.githubusercontent.com/u/50751052?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swbaird", "html_url": "https://github.com/swbaird", "followers_url": "https://api.github.com/users/swbaird/followers", "following_url": "https://api.github.com/users/swbaird/following{/other_user}", "gists_url": "https://api.github.com/users/swbaird/gists{/gist_id}", "starred_url": "https://api.github.com/users/swbaird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swbaird/subscriptions", "organizations_url": "https://api.github.com/users/swbaird/orgs", "repos_url": "https://api.github.com/users/swbaird/repos", "events_url": "https://api.github.com/users/swbaird/events{/privacy}", "received_events_url": "https://api.github.com/users/swbaird/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea8726cac5af33305fa81886beb4ab2255f99567", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea8726cac5af33305fa81886beb4ab2255f99567", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea8726cac5af33305fa81886beb4ab2255f99567"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "79e7cda442b9b739fbbbfb1847b1a456e87285cb", "filename": "gcc/ada/libgnat/s-regexp.adb", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c9148106881e8e25efc14ec7d49a71f5af4f13f1/gcc%2Fada%2Flibgnat%2Fs-regexp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c9148106881e8e25efc14ec7d49a71f5af4f13f1/gcc%2Fada%2Flibgnat%2Fs-regexp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fs-regexp.adb?ref=c9148106881e8e25efc14ec7d49a71f5af4f13f1", "patch": "@@ -210,7 +210,7 @@ package body System.Regexp is\n          --  or the last occurrence of an opening curly brace, if Glob=True.\n \n          procedure Raise_Exception_If_No_More_Chars (K : Integer := 0);\n-         --  If no more characters are raised, call Raise_Exception\n+         --  If S(J + 1 .. S'Last)'Length < K then call Raise_Exception\n \n          --------------------------------------\n          -- Raise_Exception_If_No_More_Chars --\n@@ -431,6 +431,9 @@ package body System.Regexp is\n                            & \"applied to a term in regular expression\", J);\n                      end if;\n \n+                     --  A second term must follow\n+                     Raise_Exception_If_No_More_Chars (K => 1);\n+\n                      Past_Elmt := False;\n                      Past_Term := False;\n                   end if;"}]}