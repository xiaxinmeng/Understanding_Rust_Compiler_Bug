{"sha": "104fe9a70c2e38a309a9095c551cf4a5d924a10b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTA0ZmU5YTcwYzJlMzhhMzA5YTkwOTVjNTUxY2Y0YTVkOTI0YTEwYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2007-09-05T00:03:32Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2007-09-05T00:03:32Z"}, "message": "Revert:\n\n\t2007-09-04  Jan Hubicka  <jh@suse.cz>\n\t* tree-tailcall.c (eliminate_tail_call): Expect unrenamed return value.\n\n\t2007-09-04  Richard Guenther  <rguenther@suse.de>\n\t* tree-ssa-operands.c (add_virtual_operand): Only mark\n\tstores as has_volatile_ops if alias information is not available.\n\nFrom-SVN: r128109", "tree": {"sha": "32159d71d357c15aad5495712d85d6f11758fe67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32159d71d357c15aad5495712d85d6f11758fe67"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/104fe9a70c2e38a309a9095c551cf4a5d924a10b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/104fe9a70c2e38a309a9095c551cf4a5d924a10b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/104fe9a70c2e38a309a9095c551cf4a5d924a10b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/104fe9a70c2e38a309a9095c551cf4a5d924a10b/comments", "author": null, "committer": null, "parents": [{"sha": "314b621ed9f5ea54d1be482080909451fd0f355d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/314b621ed9f5ea54d1be482080909451fd0f355d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/314b621ed9f5ea54d1be482080909451fd0f355d"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "59fbd3471967595aaf120fddf265e96c88d4626b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=104fe9a70c2e38a309a9095c551cf4a5d924a10b", "patch": "@@ -1,3 +1,14 @@\n+2007-09-05  Jan Hubicka  <jh@suse.cz>\n+\n+\tRevert:\n+\n+\t2007-09-04  Jan Hubicka  <jh@suse.cz>\n+\t* tree-tailcall.c (eliminate_tail_call): Expect unrenamed return value.\n+\n+\t2007-09-04  Richard Guenther  <rguenther@suse.de>\n+\t* tree-ssa-operands.c (add_virtual_operand): Only mark\n+\tstores as has_volatile_ops if alias information is not available.\n+\n 2007-09-05  Jakub Jelinek  <jakub@redhat.com>\n \n \t* config/rs6000/tramp.asm: Include config.h."}, {"sha": "4996e09e8549602921b01a9f375b0b20358638e9", "filename": "gcc/tree-ssa-operands.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2Ftree-ssa-operands.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2Ftree-ssa-operands.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-operands.c?ref=104fe9a70c2e38a309a9095c551cf4a5d924a10b", "patch": "@@ -1494,8 +1494,7 @@ add_virtual_operand (tree var, stmt_ann_t s_ann, int flags,\n \n   if (aliases == NULL)\n     {\n-      if (!gimple_aliases_computed_p (cfun)\n-\t  && (flags & opf_def))\n+      if (!gimple_aliases_computed_p (cfun))\n         s_ann->has_volatile_ops = true;\n \n       /* The variable is not aliased or it is an alias tag.  */"}, {"sha": "8651b60fc0d8f4de77cb7cf0eba16357d6a0796d", "filename": "gcc/tree-tailcall.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2Ftree-tailcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/104fe9a70c2e38a309a9095c551cf4a5d924a10b/gcc%2Ftree-tailcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-tailcall.c?ref=104fe9a70c2e38a309a9095c551cf4a5d924a10b", "patch": "@@ -800,8 +800,7 @@ eliminate_tail_call (struct tailcall *t)\n \n       /* Result of the call will no longer be defined.  So adjust the\n \t SSA_NAME_DEF_STMT accordingly.  */\n-      if (TREE_CODE (rslt) == SSA_NAME)\n-        SSA_NAME_DEF_STMT (rslt) = build_empty_stmt ();\n+      SSA_NAME_DEF_STMT (rslt) = build_empty_stmt ();\n     }\n \n   bsi_remove (&t->call_bsi, true);"}]}