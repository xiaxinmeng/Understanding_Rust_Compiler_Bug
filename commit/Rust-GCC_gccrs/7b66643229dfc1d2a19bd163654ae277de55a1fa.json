{"sha": "7b66643229dfc1d2a19bd163654ae277de55a1fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2I2NjY0MzIyOWRmYzFkMmExOWJkMTYzNjU0YWUyNzdkZTU1YTFmYQ==", "commit": {"author": {"name": "Francois-Xavier Coudert", "email": "coudert@clipper.ens.fr", "date": "2006-11-18T12:16:42Z"}, "committer": {"name": "Fran\u00e7ois-Xavier Coudert", "email": "fxcoudert@gcc.gnu.org", "date": "2006-11-18T12:16:42Z"}, "message": "re PR fortran/24285 ([4.2 only] format(1000(a,$)))\n\n\tPR fortran/24285\n\n\t* io.c (check_format): Allow dollars everywhere in format, and\n\tissue a warning.\n\n\t* gfortran.dg/dollar_edit_descriptor-3.f: New test.\n\nFrom-SVN: r118971", "tree": {"sha": "9a458c66673ecdbab3ec6ad2f05db2853c3af4e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9a458c66673ecdbab3ec6ad2f05db2853c3af4e8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7b66643229dfc1d2a19bd163654ae277de55a1fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b66643229dfc1d2a19bd163654ae277de55a1fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7b66643229dfc1d2a19bd163654ae277de55a1fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7b66643229dfc1d2a19bd163654ae277de55a1fa/comments", "author": null, "committer": {"login": "fxcoudert", "id": 1980544, "node_id": "MDQ6VXNlcjE5ODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1980544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fxcoudert", "html_url": "https://github.com/fxcoudert", "followers_url": "https://api.github.com/users/fxcoudert/followers", "following_url": "https://api.github.com/users/fxcoudert/following{/other_user}", "gists_url": "https://api.github.com/users/fxcoudert/gists{/gist_id}", "starred_url": "https://api.github.com/users/fxcoudert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fxcoudert/subscriptions", "organizations_url": "https://api.github.com/users/fxcoudert/orgs", "repos_url": "https://api.github.com/users/fxcoudert/repos", "events_url": "https://api.github.com/users/fxcoudert/events{/privacy}", "received_events_url": "https://api.github.com/users/fxcoudert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea574900677516430562377cd7c66cb42e55bfad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea574900677516430562377cd7c66cb42e55bfad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea574900677516430562377cd7c66cb42e55bfad"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "dc4cab9aa5fccf56682f2221b20af27e3939fc54", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7b66643229dfc1d2a19bd163654ae277de55a1fa", "patch": "@@ -1,3 +1,9 @@\n+2006-11-18  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR fortran/24285\n+\t* io.c (check_format): Allow dollars everywhere in format, and\n+\tissue a warning.\n+\n 2006-11-17  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \n \t* gfortran.h (gfc_add_intrinsic_modules_path,"}, {"sha": "adf274ee118949ef301c87dc15c9f41fbc1c6e8d", "filename": "gcc/fortran/io.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ffortran%2Fio.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ffortran%2Fio.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fio.c?ref=7b66643229dfc1d2a19bd163654ae277de55a1fa", "patch": "@@ -510,8 +510,8 @@ check_format (void)\n         return FAILURE;\n       if (t != FMT_RPAREN || level > 0)\n \t{\n-\t  error = _(\"$ must be the last specifier\");\n-\t  goto syntax;\n+\t  gfc_warning (\"$ should be the last specifier in format at %C\");\n+\t  goto optional_comma_1;\n \t}\n \n       goto finished;\n@@ -755,8 +755,9 @@ check_format (void)\n \n optional_comma:\n   /* Optional comma is a weird between state where we've just finished\n-     reading a colon, slash or P descriptor.  */\n+     reading a colon, slash, dollar or P descriptor.  */\n   t = format_lex ();\n+optional_comma_1:\n   switch (t)\n     {\n     case FMT_COMMA:"}, {"sha": "2eff1c87b7e77fcb482a09880735e0cfe1b7090e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7b66643229dfc1d2a19bd163654ae277de55a1fa", "patch": "@@ -1,5 +1,9 @@\n-2006-11-17  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+2006-11-18  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n+\n+\tPR fortran/24285\n+\t* gfortran.dg/dollar_edit_descriptor-3.f: New test.\n \n+2006-11-17  Francois-Xavier Coudert  <coudert@clipper.ens.fr>\n \t* gfortran.dg/use_1.f90: New test.\n \t* gfortran.dg/use_1.f90: New test.\n \t* gfortran.dg/use_1.f90: New test."}, {"sha": "6e5bf6890f22daf767b737f86b609774ed829363", "filename": "gcc/testsuite/gfortran.dg/dollar_edit_descriptor-3.f", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_edit_descriptor-3.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7b66643229dfc1d2a19bd163654ae277de55a1fa/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_edit_descriptor-3.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdollar_edit_descriptor-3.f?ref=7b66643229dfc1d2a19bd163654ae277de55a1fa", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do run }\n+! { dg-options \"-std=gnu\" }\n+! Test for dollar descriptor in the middle of a format\n+300   format(1000(a,$)) ! { dg-warning \"should be the last specifier\" }\n+      write(*,300) \"gee\", \"gee\"\n+      write(*,\"(1000(a,$))\") \"foo\", \"bar\" ! { dg-warning \"should be the last specifier\" }\n+      end\n+! { dg-output \"^geegeefoobar$\" }"}]}