{"sha": "e8e5329d0c32d897927b87db8cba2af9082d103f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThlNTMyOWQwYzMyZDg5NzkyN2I4N2RiOGNiYTJhZjkwODJkMTAzZg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-11T18:31:50Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-11T18:31:50Z"}, "message": "simplify.c (radians_f): Fix mpdr_mod.\n\n2016-10-11  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* simplify.c (radians_f): Fix mpdr_mod.\n\t* ireolce.c (get_degrees): Declare tmp.\n\nFrom-SVN: r241000", "tree": {"sha": "ef943a5c7f31b68b62e8f0a0c1b64f02baa97e26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef943a5c7f31b68b62e8f0a0c1b64f02baa97e26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8e5329d0c32d897927b87db8cba2af9082d103f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8e5329d0c32d897927b87db8cba2af9082d103f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8e5329d0c32d897927b87db8cba2af9082d103f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8e5329d0c32d897927b87db8cba2af9082d103f/comments", "author": null, "committer": null, "parents": [{"sha": "91f2eb13cbb83377acbb194f2eac594caf71d864", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91f2eb13cbb83377acbb194f2eac594caf71d864", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91f2eb13cbb83377acbb194f2eac594caf71d864"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "025bfabb4aae40b822c8bc40e50569eb11483e49", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e8e5329d0c32d897927b87db8cba2af9082d103f", "patch": "@@ -1,3 +1,8 @@\n+2016-10-11  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* simplify.c (radians_f): Fix mpdr_mod.\n+\t* ireolce.c (get_degrees): Declare tmp.\n+\n 2016-10-11  Fritz Reese  <fritzoreese@gmail.com>\n \n \t* lang.opt: New flag -fdec-math."}, {"sha": "4334522c5e6344a24b1a024d3a6c993cc173e8ca", "filename": "gcc/fortran/iresolve.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2Firesolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2Firesolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Firesolve.c?ref=e8e5329d0c32d897927b87db8cba2af9082d103f", "patch": "@@ -2702,6 +2702,7 @@ get_degrees (gfc_expr *rad)\n {\n   gfc_expr *result, *factor;\n   gfc_actual_arglist *mod_args;\n+  mpfr_t tmp;\n \n   gcc_assert (rad->ts.type == BT_REAL);\n "}, {"sha": "18135d2f4a2c7e80b6ef01f7289e1dbe21629b7c", "filename": "gcc/fortran/simplify.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2Fsimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8e5329d0c32d897927b87db8cba2af9082d103f/gcc%2Ffortran%2Fsimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsimplify.c?ref=e8e5329d0c32d897927b87db8cba2af9082d103f", "patch": "@@ -1768,11 +1768,13 @@ degrees_f (mpfr_t x, mp_rnd_t rnd_mode)\n static void\n radians_f (mpfr_t x, mp_rnd_t rnd_mode)\n {\n-    mpfr_t tmp;\n+    mpfr_t tmp, modtmp;\n     mpfr_init (tmp);\n+    mpfr_init (modtmp);\n \n     /* Set x = x % 360 to avoid offsets with large angles.  */\n-    mpfr_fmod_d (tmp, x, 360.0, rnd_mode);\n+    mpfr_set_d (modtmp, 360.0, GFC_RND_MODE);\n+    mpfr_fmod (tmp, x, modtmp, rnd_mode);\n \n     /* Set x = x * pi.  */\n     mpfr_const_pi (tmp, rnd_mode);\n@@ -1782,6 +1784,7 @@ radians_f (mpfr_t x, mp_rnd_t rnd_mode)\n     mpfr_div_d (x, x, 180.0, rnd_mode);\n \n     mpfr_clear (tmp);\n+    mpfr_clear (modtmp);\n }\n \n "}]}