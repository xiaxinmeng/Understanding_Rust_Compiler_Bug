{"sha": "8bd8e1988839e110c99800ad93f49801d6c922f8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGJkOGUxOTg4ODM5ZTExMGM5OTgwMGFkOTNmNDk4MDFkNmM5MjJmOA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-03-29T22:44:35Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-03-29T22:44:35Z"}, "message": "(function_prologue): Put SDB_DEBUGGING_INFO ifdef around code for SDB_DEBUG support.\n\n(function_prologue): Put SDB_DEBUGGING_INFO ifdef around\ncode for SDB_DEBUG support.\n(mips_select_rtx_section, mips_select_section): Change rdata_section\nto READONLY_DATA_SECTION and sdata_section to SMALL_DATA_SECTION.\n\nFrom-SVN: r9250", "tree": {"sha": "dbcf7502b1098a13939b6ffabe8b7586d1acbdc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dbcf7502b1098a13939b6ffabe8b7586d1acbdc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8bd8e1988839e110c99800ad93f49801d6c922f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd8e1988839e110c99800ad93f49801d6c922f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8bd8e1988839e110c99800ad93f49801d6c922f8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8bd8e1988839e110c99800ad93f49801d6c922f8/comments", "author": null, "committer": null, "parents": [{"sha": "3cf6400d10d8ba939fcf30db4a85a1ec56fd27f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cf6400d10d8ba939fcf30db4a85a1ec56fd27f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cf6400d10d8ba939fcf30db4a85a1ec56fd27f1"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "6ecfa2065aaacd5d6cda0f7f6aa1f2890f32d487", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8bd8e1988839e110c99800ad93f49801d6c922f8/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8bd8e1988839e110c99800ad93f49801d6c922f8/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=8bd8e1988839e110c99800ad93f49801d6c922f8", "patch": "@@ -4836,8 +4836,10 @@ function_prologue (file, size)\n \n   ASM_OUTPUT_SOURCE_FILENAME (file, DECL_SOURCE_FILE (current_function_decl));\n \n+#ifdef SDB_DEBUGGING_INFO\n   if (debug_info_level != DINFO_LEVEL_TERSE && write_symbols == SDB_DEBUG)\n     ASM_OUTPUT_SOURCE_LINE (file, DECL_SOURCE_LINE (current_function_decl));\n+#endif\n \n   inside_function = 1;\n   fputs (\"\\t.ent\\t\", file);\n@@ -5406,7 +5408,7 @@ mips_select_rtx_section (mode, x)\n     {\n       /* For embedded applications, always put constants in read-only data,\n \t in order to reduce RAM usage.  */\n-      rdata_section ();\n+      READONLY_DATA_SECTION ();\n     }\n   else\n     {\n@@ -5415,9 +5417,9 @@ mips_select_rtx_section (mode, x)\n      \n       if (GET_MODE_SIZE (mode) <= mips_section_threshold\n \t  && mips_section_threshold > 0)\n-\tsdata_section ();\n+\tSMALL_DATA_SECTION ();\n       else\n-\trdata_section ();\n+\tREADONLY_DATA_SECTION ();\n     }\n }\n \n@@ -5455,9 +5457,9 @@ mips_select_section (decl, reloc)\n \t       && (TREE_CODE (decl) != STRING_CST\n \t\t   || !flag_writable_strings)))\n \t  && ! (flag_pic && reloc))\n-\trdata_section ();\n+\tREADONLY_DATA_SECTION ();\n       else if (size > 0 && size <= mips_section_threshold)\n-\tsdata_section ();\n+\tSMALL_DATA_SECTION ();\n       else\n \tdata_section ();\n     }\n@@ -5467,7 +5469,7 @@ mips_select_section (decl, reloc)\n \t possible, as this gives the best performance.  */\n \n       if (size > 0 && size <= mips_section_threshold)\n-\tsdata_section ();\n+\tSMALL_DATA_SECTION ();\n       else if (((TREE_CODE (decl) == VAR_DECL\n \t\t && TREE_READONLY (decl) && !TREE_SIDE_EFFECTS (decl)\n \t\t && DECL_INITIAL (decl)\n@@ -5478,7 +5480,7 @@ mips_select_section (decl, reloc)\n \t\t    && (TREE_CODE (decl) != STRING_CST\n \t\t\t|| !flag_writable_strings)))\n \t       && ! (flag_pic && reloc))\n-\trdata_section ();\n+\tREADONLY_DATA_SECTION ();\n       else\n \tdata_section ();\n     }"}]}