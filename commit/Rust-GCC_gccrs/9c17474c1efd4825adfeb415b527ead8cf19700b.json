{"sha": "9c17474c1efd4825adfeb415b527ead8cf19700b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWMxNzQ3NGMxZWZkNDgyNWFkZmViNDE1YjUyN2VhZDhjZjE5NzAwYg==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2020-12-01T15:34:11Z"}, "committer": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2020-12-01T19:58:21Z"}, "message": "Darwin, D : Adjust the X spec to cater for duplicate use.\n\nThe '-X' flag is an obsolete spelling for a command to tell the\nlinker to 'strip local symbols'.  This has been the default action\nfor a long time - but, as per the usual GCC approach, although the\nflag is retired, we have not removed it; rather, we just delete it\nin the driver self-spec.\n\nThe D language adds this flag as a front end option (to emit json)\nwhich means that deleting it in the driver disables that function\nin D.\n\nThis patch works around the duplication by removing the unused flag\nin the link_spec instead of the driver self-spec.\n\ngcc/ChangeLog:\n\n\t* config/darwin.h: Remove unused 'X' specs in the link spec\n\trather than driver self-specs.", "tree": {"sha": "1c555ec38a0d7f3b578acd50dea0ed45000773f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1c555ec38a0d7f3b578acd50dea0ed45000773f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c17474c1efd4825adfeb415b527ead8cf19700b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c17474c1efd4825adfeb415b527ead8cf19700b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c17474c1efd4825adfeb415b527ead8cf19700b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c17474c1efd4825adfeb415b527ead8cf19700b/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "efd1d4f8ae2850e5cd8028531dfe4eced628489e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efd1d4f8ae2850e5cd8028531dfe4eced628489e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efd1d4f8ae2850e5cd8028531dfe4eced628489e"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "da40a08443e51a40d35a2e0d4fed0cf0daaedf33", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c17474c1efd4825adfeb415b527ead8cf19700b/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c17474c1efd4825adfeb415b527ead8cf19700b/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=9c17474c1efd4825adfeb415b527ead8cf19700b", "patch": "@@ -135,7 +135,7 @@ extern GTY(()) int darwin_ms_struct;\n \"%{shared:-Zdynamiclib} %<shared\",\t\t\t\t\t\\\n \"%{static:%{Zdynamic:%e conflicting code gen style switches are used}}\",\\\n \"%{y*:%nthe y option is obsolete and ignored} %<y*\",\t\t\t\\\n-\"%<Mach %<X\"\n+\"%<Mach \"\n \n #if LD64_HAS_EXPORT_DYNAMIC\n #define DARWIN_RDYNAMIC \"%{rdynamic:-export_dynamic}\"\n@@ -237,7 +237,7 @@ extern GTY(()) int darwin_ms_struct;\n     DARWIN_NOPIE_SPEC \\\n     DARWIN_RDYNAMIC \\\n     DARWIN_NOCOMPACT_UNWIND \\\n-    \"}}}}}}} %<pie %<no-pie %<rdynamic \"\n+    \"}}}}}}} %<pie %<no-pie %<rdynamic %<X \"\n \n #define DSYMUTIL \"\\ndsymutil\"\n "}]}