{"sha": "edf1b3f3179564a0db848df3691e1b805d87ebd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWRmMWIzZjMxNzk1NjRhMGRiODQ4ZGYzNjkxZTFiODA1ZDg3ZWJkMg==", "commit": {"author": {"name": "Andrew Cagney", "email": "ac131313@redhat.com", "date": "2001-08-01T19:25:18Z"}, "committer": {"name": "Andrew Cagney", "email": "cagney@gcc.gnu.org", "date": "2001-08-01T19:25:18Z"}, "message": "config.gcc: Recognize powerpc-*-netbsd*.\n\n* config.gcc: Recognize powerpc-*-netbsd*.\n* doc/install.texi (Host/target specific installation notes for\nGCC): Mention powerpc-*-netbsd*.\n* config/rs6000/netbsd.h: New file.\n(STANDARD_STARTFILE_PREFIX, LINK_SHLIB_SPEC): Redefine.\n(LIB_DEFAULT_SPEC, STARTFILE_DEFAULT_SPEC): Redefine.\n(ENDFILE_DEFAULT_SPEC, LINK_START_DEFAULT_SPEC): Redefine.\n(LINK_OS_DEFAULT_SPEC, CPP_OS_DEFAULT_SPEC): Redefine.\n(TARGET_VERSION): Redefine.\n* config/rs6000/t-ppccomm (MULTILIB_MATCHES_SYSV): Recognize\nmcall-netbsd as a match for mcall-sysv.\n(EXTRA_MULTILIB_PARTS): Add ncrti$(objext) and ncrtn$(objext).\n(ncrti.S, ncrtn.S): New targets.\n($(T)ncrti$(objext), $(T)ncrtn$(objext)): New targets.\n* config/rs6000/sysv4.h (SUBTARGET_OVERRIDE_OPTIONS): Recognize\n\"netbsd' as a V4 ABI.\n(ASM_SPEC): Check for -mcall-netbsd.\n(CC1_SPEC, CC1_SPEC, LINK_START_SPEC, LINK_OS_SPEC): Ditto.\n(CPP_ENDIAN_SPEC, CPP_SPEC, STARTFILE_SPEC): Ditto.\n(LIB_SPEC, ENDFILE_SPEC): Ditto.\n(LIB_NETBSD_SPEC, STARTFILE_NETBSD_SPEC): Define.\n(ENDFILE_NETBSD_SPEC, LINK_START_NETBSD_SPEC): Define.\n(LINK_OS_NETBSD_SPEC, CPP_OS_NETBSD_SPEC): Define.\n(SUBTARGET_EXTRA_SPECS): Add NetBSD specs.\n* doc/invoke.texi (Option Summary): Add -mcall-netbsd.\n(RS/6000 and PowerPC Options): Mention -mcall-netbsd.\n\nFrom-SVN: r44552", "tree": {"sha": "c68b354c893c42ae0677cea5323bc79727e4e2b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c68b354c893c42ae0677cea5323bc79727e4e2b6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/edf1b3f3179564a0db848df3691e1b805d87ebd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edf1b3f3179564a0db848df3691e1b805d87ebd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edf1b3f3179564a0db848df3691e1b805d87ebd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edf1b3f3179564a0db848df3691e1b805d87ebd2/comments", "author": null, "committer": null, "parents": [{"sha": "bda33a6e0fda1d512e237c306c60d9978e596e24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bda33a6e0fda1d512e237c306c60d9978e596e24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bda33a6e0fda1d512e237c306c60d9978e596e24"}], "stats": {"total": 212, "additions": 196, "deletions": 16}, "files": [{"sha": "46b07fe18c5c259d7b0572a1460ac6c29cf01453", "filename": "gcc/ChangeLog", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -1,3 +1,37 @@\n+2001-07-11  Andrew Cagney  <ac131313@redhat.com>\n+\n+\t* config.gcc: Recognize powerpc-*-netbsd*.\n+\t\n+\t* doc/install.texi (Host/target specific installation notes for\n+\tGCC): Mention powerpc-*-netbsd*.\n+\n+\t* config/rs6000/netbsd.h: New file.\n+\t(STANDARD_STARTFILE_PREFIX, LINK_SHLIB_SPEC): Redefine.\n+\t(LIB_DEFAULT_SPEC, STARTFILE_DEFAULT_SPEC): Redefine.\n+\t(ENDFILE_DEFAULT_SPEC, LINK_START_DEFAULT_SPEC): Redefine.\n+\t(LINK_OS_DEFAULT_SPEC, CPP_OS_DEFAULT_SPEC): Redefine.\n+\t(TARGET_VERSION): Redefine.\n+\n+\t* config/rs6000/t-ppccomm (MULTILIB_MATCHES_SYSV): Recognize\n+\tmcall-netbsd as a match for mcall-sysv.\n+\t(EXTRA_MULTILIB_PARTS): Add ncrti$(objext) and ncrtn$(objext).\n+\t(ncrti.S, ncrtn.S): New targets.\n+\t($(T)ncrti$(objext), $(T)ncrtn$(objext)): New targets.\n+\t\n+\t* config/rs6000/sysv4.h (SUBTARGET_OVERRIDE_OPTIONS): Recognize\n+\t\"netbsd' as a V4 ABI.\n+\t(ASM_SPEC): Check for -mcall-netbsd.\n+\t(CC1_SPEC, CC1_SPEC, LINK_START_SPEC, LINK_OS_SPEC): Ditto.\n+\t(CPP_ENDIAN_SPEC, CPP_SPEC, STARTFILE_SPEC): Ditto.\n+\t(LIB_SPEC, ENDFILE_SPEC): Ditto.\n+\t(LIB_NETBSD_SPEC, STARTFILE_NETBSD_SPEC): Define.\n+\t(ENDFILE_NETBSD_SPEC, LINK_START_NETBSD_SPEC): Define.\n+\t(LINK_OS_NETBSD_SPEC, CPP_OS_NETBSD_SPEC): Define.\n+\t(SUBTARGET_EXTRA_SPECS): Add NetBSD specs.\n+\n+\t* doc/invoke.texi (Option Summary): Add -mcall-netbsd.\n+\t(RS/6000 and PowerPC Options): Mention -mcall-netbsd.\n+\n 2001-08-01  Mark Kettenis  <kettenis@gnu.org>\n \n \t* unwind-pe.h (base_of_encoded_value, read_encoded_value): Define"}, {"sha": "7f694894e0e88e17b7e3e99e00ffbbc80e1be360", "filename": "gcc/config.gcc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -2602,6 +2602,12 @@ powerpc-*-sysv*)\n \textra_headers=ppc-asm.h\n \ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n \t;;\n+powerpc-*-netbsd*)\n+\txm_defines=POSIX\n+\ttm_file=\"${tm_file} svr4.h rs6000/sysv4.h rs6000/netbsd.h\"\n+\ttmake_file=\"rs6000/t-ppcos rs6000/t-ppccomm\"\n+\textra_headers=ppc-asm.h\n+\t;;\n powerpc-*-chorusos*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} svr4.h rs6000/sysv4.h chorus.h\""}, {"sha": "9978db502311919cb16609b35bd61ada3d4d980f", "filename": "gcc/config/rs6000/netbsd.h", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fnetbsd.h?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -0,0 +1,61 @@\n+/* Definitions of target machine for GNU compiler,\n+   for PowerPC NetBSD systems.\n+   Copyright 2001 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 59 Temple Place - Suite 330,\n+Boston, MA 02111-1307, USA.  */\n+\n+/* Under NetBSD, the normal location of the various *crt*.o files is\n+   the /usr/lib directory [from config/netbsd.h].  */\n+\n+#undef STANDARD_STARTFILE_PREFIX\n+#define STANDARD_STARTFILE_PREFIX \"/usr/lib/\"\n+\n+/* FIXME: Should this macro be treated the same as for the other\n+   spec's?  */\n+/* NOTE: -dc and -dp are equivalent yet NetBSD's CC passes both both!\n+   NetBSD's CC also passes -O1 but we can skip that.  NetBSD explictly\n+   sets ``-e _start'', since LD knows this, skip it.  */\n+\n+#undef LINK_SHLIB_SPEC\n+#define LINK_SHLIB_SPEC \"\\\n+%{shared:-shared} \\\n+%{!shared: %{static:-dc -dp -static}} \\\n+%{!shared: %{!static:-dc -dp}} \\\n+\"\n+\n+/* Override the defaults. */\n+#undef LIB_DEFAULT_SPEC\n+#define LIB_DEFAULT_SPEC \"%(lib_netbsd)\"\n+\n+#undef STARTFILE_DEFAULT_SPEC\n+#define STARTFILE_DEFAULT_SPEC \"%(startfile_netbsd)\"\n+\n+#undef ENDFILE_DEFAULT_SPEC\n+#define ENDFILE_DEFAULT_SPEC \"%(endfile_netbsd)\"\n+\n+#undef LINK_START_DEFAULT_SPEC\n+#define LINK_START_DEFAULT_SPEC \"%(link_start_netbsd)\"\n+\n+#undef\tLINK_OS_DEFAULT_SPEC\n+#define LINK_OS_DEFAULT_SPEC \"%(link_os_netbsd)\"\n+\n+#undef\tCPP_OS_DEFAULT_SPEC\n+#define CPP_OS_DEFAULT_SPEC \"%(cpp_os_netbsd)\"\n+\n+#undef TARGET_VERSION\n+#define TARGET_VERSION fprintf (stderr, \" (PowerPC NetBSD/ELF)\");"}, {"sha": "9871d20c1f64839e2a3a7ca1204cc209168be3af", "filename": "gcc/config/rs6000/sysv4.h", "status": "modified", "additions": 52, "deletions": 11, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Fsysv4.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fsysv4.h?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -275,6 +275,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n     rs6000_current_abi = ABI_AIX;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"linux\"))\t\t\t\t\\\n     rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n+  else if (!strcmp (rs6000_abi_name, \"netbsd\"))\t\t\t\t\\\n+    rs6000_current_abi = ABI_V4;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"solaris\"))\t\t\t\\\n     rs6000_current_abi = ABI_SOLARIS;\t\t\t\t\t\\\n   else if (!strcmp (rs6000_abi_name, \"i960-old\"))\t\t\t\\\n@@ -1113,7 +1115,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\\n     %{mcall-solaris: -mlittle -msolaris} \\\n     %{mcall-i960-old: -mlittle} \\\n-    %{mcall-linux: -mbig} }}}}\"\n+    %{mcall-linux: -mbig} \\\n+    %{mcall-netbsd: -mbig} }}}}\"\n \n #define\tCC1_ENDIAN_BIG_SPEC \"\"\n \n@@ -1135,9 +1138,10 @@ do {\t\t\t\t\t\t\t\t\t\\\n     %{mcall-solaris: -mlittle %(cc1_endian_little) } \\\n     %{mcall-i960-old: -mlittle %(cc1_endian_little) } \\\n     %{mcall-linux: -mbig %(cc1_endian_big) } \\\n-    %{!mcall-aixdesc: %{!mcall-solaris: %{!mcall-i960-old: %{!mcall-linux: \\\n+    %{mcall-netbsd: -mbig %(cc1_endian_big) } \\\n+    %{!mcall-aixdesc: %{!mcall-solaris: %{!mcall-i960-old: %{!mcall-linux: %{!mcall-netbsd: \\\n \t    %(cc1_endian_default) \\\n-    }}}} \\\n+    }}}}} \\\n }}}} \\\n %{mcall-solaris: -mregnames } \\\n %{mno-sdata: -msdata=none } \\\n@@ -1146,7 +1150,8 @@ do {\t\t\t\t\t\t\t\t\t\\\n     %{mrelocatable: -meabi } \\\n     %{mcall-solaris: -mno-eabi } \\\n     %{mcall-i960-old: -meabi } \\\n-    %{mcall-linux: -mno-eabi }}} \\\n+    %{mcall-linux: -mno-eabi } \\\n+    %{mcall-netbsd: -mno-eabi }}} \\\n %{msdata: -msdata=default} \\\n %{mno-sdata: -msdata=none} \\\n %{profile: -p}\"\n@@ -1175,8 +1180,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(link_start_mvme) } \\\n %{msim: %(link_start_sim) } \\\n %{mcall-linux: %(link_start_linux) } \\\n+%{mcall-netbsd: %(link_start_netbsd) } \\\n %{mcall-solaris: %(link_start_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(link_start_default) }}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_start_default) }}}}}}}\"\n \n #define LINK_START_DEFAULT_SPEC \"\"\n \n@@ -1230,8 +1236,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(link_os_mvme) } \\\n %{msim: %(link_os_sim) } \\\n %{mcall-linux: %(link_os_linux) } \\\n+%{mcall-netbsd: %(link_os_netbsd) } \\\n %{mcall-solaris: %(link_os_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(link_os_default) }}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(link_os_default) }}}}}}}\"\n \n #define LINK_OS_DEFAULT_SPEC \"\"\n \n@@ -1278,9 +1285,10 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{!mlittle: %{!mlittle-endian: %{!mbig: %{!mbig-endian: \\\n     %{mcall-solaris: %(cpp_endian_solaris) } \\\n     %{mcall-linux: %(cpp_endian_big) } \\\n+    %{mcall-netbsd: %(cpp_endian_big) } \\\n     %{mcall-i960-old: %(cpp_endian_little) } \\\n     %{mcall-aixdesc:  %(cpp_endian_big) } \\\n-    %{!mcall-solaris: %{!mcall-linux: %{!mcall-aixdesc: %(cpp_endian_default) }}}}}}}\"\n+    %{!mcall-solaris: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-aixdesc: %(cpp_endian_default) }}}}}}}}\"\n \n #define\tCPP_ENDIAN_DEFAULT_SPEC \"%(cpp_endian_big)\"\n \n@@ -1292,8 +1300,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(cpp_os_mvme) } \\\n %{msim: %(cpp_os_sim) } \\\n %{mcall-linux: %(cpp_os_linux) } \\\n+%{mcall-netbsd: %(cpp_os_netbsd) } \\\n %{mcall-solaris: %(cpp_os_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(cpp_os_default) }}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(cpp_os_default) }}}}}}}\"\n \n #define\tCPP_OS_DEFAULT_SPEC \"\"\n \n@@ -1305,8 +1314,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(startfile_mvme) } \\\n %{msim: %(startfile_sim) } \\\n %{mcall-linux: %(startfile_linux) } \\\n+%{mcall-netbsd: %(startfile_netbsd) } \\\n %{mcall-solaris: %(startfile_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(startfile_default) }}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(startfile_default) }}}}}}}\"\n \n #define\tSTARTFILE_DEFAULT_SPEC \"\"\n \n@@ -1318,8 +1328,9 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(lib_mvme) } \\\n %{msim: %(lib_sim) } \\\n %{mcall-linux: %(lib_linux) } \\\n+%{mcall-netbsd: %(lib_netbsd) } \\\n %{mcall-solaris: %(lib_solaris) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %(lib_default) }}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %(lib_default) }}}}}}}\"\n \n #define LIB_DEFAULT_SPEC \"\"\n \n@@ -1331,9 +1342,10 @@ do {\t\t\t\t\t\t\t\t\t\\\n %{mmvme: %(endfile_mvme)} \\\n %{msim: %(endfile_sim)} \\\n %{mcall-linux: %(endfile_linux) } \\\n+%{mcall-netbsd: %(endfile_netbsd) } \\\n %{mcall-solaris: %(endfile_solaris)} \\\n %{mvxworks: %(endfile_vxworks) } \\\n-%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-solaris: %{!mvxworks: %(endfile_default) }}}}}}}\"\n+%{!mads: %{!myellowknife: %{!mmvme: %{!msim: %{!mcall-linux: %{!mcall-netbsd: %{!mcall-solaris: %{!mvxworks: %(endfile_default) }}}}}}}}\"\n \n #define\tENDFILE_DEFAULT_SPEC \"\"\n \n@@ -1429,6 +1441,29 @@ do {\t\t\t\t\t\t\t\t\t\\\n -Asystem=unix -Asystem=posix %{pthread:-D_REENTRANT}\"\n #endif\n \n+/* NetBSD support.  */\n+#define LIB_NETBSD_SPEC \"\\\n+%{profile:-lgmon -lc_p} %{!profile:-lc}\"\n+\n+#define\tSTARTFILE_NETBSD_SPEC \"\\\n+ncrti.o%s crt0.o%s \\\n+%{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}\"\n+\n+#define ENDFILE_NETBSD_SPEC \"\\\n+%{!shared:crtend.o%s} %{shared:crtendS.o%s} \\\n+ncrtn.o%s\"\n+\n+#define LINK_START_NETBSD_SPEC \"\\\n+\"\n+\n+#define LINK_OS_NETBSD_SPEC \"\\\n+%{!shared: %{!static: \\\n+  %{rdynamic:-export-dynamic} \\\n+  %{!dynamic-linker:-dynamic-linker /usr/libexec/ld.elf_so}}}\"\n+\n+#define CPP_OS_NETBSD_SPEC \"\\\n+-D__powerpc__ -D__NetBSD__ -D__ELF__ -D__KPRINTF_ATTRIBUTE__\"\n+\n /* Solaris support.  */\n /* For Solaris, Gcc automatically adds in one of the files\n    /usr/ccs/lib/values-Xc.o, /usr/ccs/lib/values-Xa.o, or\n@@ -1524,6 +1559,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"lib_mvme\",\t\t\tLIB_MVME_SPEC },\t\t\t\\\n   { \"lib_sim\",\t\t\tLIB_SIM_SPEC },\t\t\t\t\\\n   { \"lib_linux\",\t\tLIB_LINUX_SPEC },\t\t\t\\\n+  { \"lib_netbsd\",\t\tLIB_NETBSD_SPEC },\t\t\t\\\n   { \"lib_solaris\",\t\tLIB_SOLARIS_SPEC },\t\t\t\\\n   { \"lib_vxworks\",\t\tLIB_VXWORKS_SPEC },\t\t\t\\\n   { \"lib_default\",\t\tLIB_DEFAULT_SPEC },\t\t\t\\\n@@ -1532,6 +1568,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"startfile_mvme\",\t\tSTARTFILE_MVME_SPEC },\t\t\t\\\n   { \"startfile_sim\",\t\tSTARTFILE_SIM_SPEC },\t\t\t\\\n   { \"startfile_linux\",\t\tSTARTFILE_LINUX_SPEC },\t\t\t\\\n+  { \"startfile_netbsd\",\t\tSTARTFILE_NETBSD_SPEC },\t\t\\\n   { \"startfile_solaris\",\tSTARTFILE_SOLARIS_SPEC },\t\t\\\n   { \"startfile_vxworks\",\tSTARTFILE_VXWORKS_SPEC },\t\t\\\n   { \"startfile_default\",\tSTARTFILE_DEFAULT_SPEC },\t\t\\\n@@ -1540,6 +1577,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"endfile_mvme\",\t\tENDFILE_MVME_SPEC },\t\t\t\\\n   { \"endfile_sim\",\t\tENDFILE_SIM_SPEC },\t\t\t\\\n   { \"endfile_linux\",\t\tENDFILE_LINUX_SPEC },\t\t\t\\\n+  { \"endfile_netbsd\",\t\tENDFILE_NETBSD_SPEC },\t\t\t\\\n   { \"endfile_solaris\",\t\tENDFILE_SOLARIS_SPEC },\t\t\t\\\n   { \"endfile_vxworks\",\t\tENDFILE_VXWORKS_SPEC },\t\t\t\\\n   { \"endfile_default\",\t\tENDFILE_DEFAULT_SPEC },\t\t\t\\\n@@ -1552,6 +1590,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"link_start_mvme\",\t\tLINK_START_MVME_SPEC },\t\t\t\\\n   { \"link_start_sim\",\t\tLINK_START_SIM_SPEC },\t\t\t\\\n   { \"link_start_linux\",\t\tLINK_START_LINUX_SPEC },\t\t\\\n+  { \"link_start_netbsd\",\tLINK_START_NETBSD_SPEC },\t\t\\\n   { \"link_start_solaris\",\tLINK_START_SOLARIS_SPEC },\t\t\\\n   { \"link_start_vxworks\",\tLINK_START_VXWORKS_SPEC },\t\t\\\n   { \"link_start_default\",\tLINK_START_DEFAULT_SPEC },\t\t\\\n@@ -1561,6 +1600,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"link_os_mvme\",\t\tLINK_OS_MVME_SPEC },\t\t\t\\\n   { \"link_os_sim\",\t\tLINK_OS_SIM_SPEC },\t\t\t\\\n   { \"link_os_linux\",\t\tLINK_OS_LINUX_SPEC },\t\t\t\\\n+  { \"link_os_netbsd\",\t\tLINK_OS_NETBSD_SPEC },\t\t\t\\\n   { \"link_os_solaris\",\t\tLINK_OS_SOLARIS_SPEC },\t\t\t\\\n   { \"link_os_vxworks\",\t\tLINK_OS_VXWORKS_SPEC },\t\t\t\\\n   { \"link_os_default\",\t\tLINK_OS_DEFAULT_SPEC },\t\t\t\\\n@@ -1577,6 +1617,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n   { \"cpp_os_mvme\",\t\tCPP_OS_MVME_SPEC },\t\t\t\\\n   { \"cpp_os_sim\",\t\tCPP_OS_SIM_SPEC },\t\t\t\\\n   { \"cpp_os_linux\",\t\tCPP_OS_LINUX_SPEC },\t\t\t\\\n+  { \"cpp_os_netbsd\",\t\tCPP_OS_NETBSD_SPEC },\t\t\t\\\n   { \"cpp_os_solaris\",\t\tCPP_OS_SOLARIS_SPEC },\t\t\t\\\n   { \"cpp_os_vxworks\",\t\tCPP_OS_VXWORKS_SPEC },\t\t\t\\\n   { \"cpp_os_default\",\t\tCPP_OS_DEFAULT_SPEC },"}, {"sha": "8b5e8cba142eea89437bc07fcb48f2e4fa90b129", "filename": "gcc/config/rs6000/t-ppccomm", "status": "modified", "additions": 21, "deletions": 4, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Ft-ppccomm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fconfig%2Frs6000%2Ft-ppccomm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-ppccomm?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -33,16 +33,19 @@ MULTILIB_MATCHES_FLOAT\t= msoft-float=mcpu?401 \\\n \t\t\t  msoft-float=mcpu?823 \\\n \t\t\t  msoft-float=mcpu?860\n MULTILIB_MATCHES_ENDIAN\t= mlittle=mlittle-endian mbig=mbig-endian\n-MULTILIB_MATCHES_SYSV\t= mcall-sysv=mcall-sysv-eabi mcall-sysv=mcall-sysv-noeabi mcall-sysv=mcall-linux\n+MULTILIB_MATCHES_SYSV\t= mcall-sysv=mcall-sysv-eabi mcall-sysv=mcall-sysv-noeabi mcall-sysv=mcall-linux mcall-sysv=mcall-netbsd\n \n LIBGCC = stmp-multilib\n INSTALL_LIBGCC = install-multilib\n EXTRA_MULTILIB_PARTS = crtbegin$(objext) crtend$(objext) \\\n   crtbeginS$(objext) crtendS$(objext) \\\n-  ecrti$(objext) ecrtn$(objext) scrt0$(objext) scrti$(objext) scrtn$(objext)\n+  ecrti$(objext) ecrtn$(objext) \\\n+  scrt0$(objext) scrti$(objext) scrtn$(objext) \\\n+  ncrti$(objext) ncrtn$(objext)\n \n-# We build {e,s}crti.o, {e,s}crtn.o, and scrt0.o which serve to add begin and\n-# end labels to all of the special sections used when we link using gcc.\n+# We build {e,s}crti.o, {e,s}crtn.o, and {s,n}crt0.o which serve to\n+# add begin and end labels to all of the special sections used when we\n+# link using gcc.\n \n # Assemble startup files.\n ecrti.S: $(srcdir)/config/rs6000/eabi-ci.asm\n@@ -51,6 +54,14 @@ ecrti.S: $(srcdir)/config/rs6000/eabi-ci.asm\n ecrtn.S: $(srcdir)/config/rs6000/eabi-cn.asm\n \tcat $(srcdir)/config/rs6000/eabi-cn.asm >ecrtn.S\n \n+ncrti.S: $(srcdir)/config/rs6000/sol-ci.asm\n+\tsed -e 's/__init/_init/' -e 's/__fini/_fini/' \\\n+\t\t$(srcdir)/config/rs6000/sol-ci.asm >ncrti.S\n+\n+ncrtn.S: $(srcdir)/config/rs6000/sol-cn.asm\n+\tsed -e 's/__init/_init/' -e 's/__fini/_fini/' \\\n+\t\t$(srcdir)/config/rs6000/sol-cn.asm >ncrtn.S\n+\n scrti.S: $(srcdir)/config/rs6000/sol-ci.asm\n \tcat $(srcdir)/config/rs6000/sol-ci.asm >scrti.S\n \n@@ -67,6 +78,12 @@ $(T)ecrti$(objext): ecrti.S\n $(T)ecrtn$(objext): ecrtn.S\n \t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(INCLUDES) $(MULTILIB_CFLAGS) -c ecrtn.S -o $(T)ecrtn$(objext)\n \n+$(T)ncrti$(objext): ncrti.S\n+\t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(INCLUDES) $(MULTILIB_CFLAGS) -c ncrti.S -o $(T)ncrti$(objext)\n+\n+$(T)ncrtn$(objext): ncrtn.S\n+\t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(INCLUDES) $(MULTILIB_CFLAGS) -c ncrtn.S -o $(T)ncrtn$(objext)\n+\n $(T)scrti$(objext): scrti.S\n \t$(GCC_FOR_TARGET) $(GCC_CFLAGS) $(INCLUDES) $(MULTILIB_CFLAGS) -c scrti.S -o $(T)scrti$(objext)\n "}, {"sha": "892ae0f7a10bb26f6f9484854266012931268106", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -1359,6 +1359,8 @@ GNU Compiler Collection on your machine.\n @item\n @uref{#powerpc-*-linux-gnu*,,powerpc-*-linux-gnu*}\n @item\n+@uref{#powerpc-*-netbsd*,,powerpc-*-netbsd*}\n+@item\n @uref{#powerpc-*-eabiaix,,powerpc-*-eabiaix}\n @item\n @uref{#powerpc-*-eabisim,,powerpc-*-eabisim}\n@@ -2865,6 +2867,15 @@ You will need\n or newer for a working GCC@.  It is strongly recommended to recompile binutils\n if you initially built it with gcc-2.7.2.x.\n \n+@html\n+</p>\n+<hr>\n+@end html\n+@heading @anchor{powerpc-*-netbsd*}powerpc-*-netbsd*\n+PowerPC system in big endian mode running NetBSD@.  To build the\n+documentation you will need Texinfo version 4.0 (NetBSD 1.5.1 included\n+Texinfo version 3.12).\n+\n @html\n </p>\n <hr>\n@@ -2972,6 +2983,11 @@ the @command{pkginfo} command.  To add an optional package, use the\n @command{pkgadd} command.  For further details, see the Solaris\n documentation.\n \n+For Solaris 2.0 and 2.1, GCC needs six packages: @samp{SUNWarc},\n+@samp{SUNWbtool}, @samp{SUNWesu}, @samp{SUNWhea}, @samp{SUNWlibm}, and\n+@samp{SUNWtoo}.\n+\n+=======\n On some versions of Solaris, trying to use the linker and other tools in\n @file{/usr/ucb} to install GCC has been observed to cause trouble.\n For example, the linker may hang indefinitely.  The fix is to remove"}, {"sha": "d51e20105fb23acc10b77ae0edc3fbef5e05ef62", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/edf1b3f3179564a0db848df3691e1b805d87ebd2/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=edf1b3f3179564a0db848df3691e1b805d87ebd2", "patch": "@@ -435,7 +435,7 @@ in the following sections.\n -mstrict-align  -mno-strict-align  -mrelocatable @gol\n -mno-relocatable  -mrelocatable-lib  -mno-relocatable-lib @gol\n -mtoc  -mno-toc -mlittle  -mlittle-endian  -mbig  -mbig-endian @gol\n--mcall-aix  -mcall-sysv  -mprototype  -mno-prototype @gol\n+-mcall-aix -mcall-sysv -mcall-netbsd -mprototype  -mno-prototype @gol\n -msim  -mmvme  -mads  -myellowknife  -memb -msdata @gol\n -msdata=@var{opt}  -mvxworks -G @var{num}}\n \n@@ -6853,6 +6853,11 @@ operating system.\n On System V.4 and embedded PowerPC systems compile code for the\n Linux-based GNU system.\n \n+@item -mcall-netbsd\n+@opindex mcall-netbsd\n+On System V.4 and embedded PowerPC systems compile code for the\n+NetBSD operating system.\n+\n @item -mprototype\n @itemx -mno-prototype\n @opindex mprototype"}]}