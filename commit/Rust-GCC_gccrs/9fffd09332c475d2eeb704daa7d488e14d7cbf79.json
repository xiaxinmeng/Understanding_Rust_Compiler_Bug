{"sha": "9fffd09332c475d2eeb704daa7d488e14d7cbf79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWZmZmQwOTMzMmM0NzVkMmVlYjcwNGRhYTdkNDg4ZTE0ZDdjYmY3OQ==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-23T02:45:46Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1995-06-23T02:45:46Z"}, "message": "(start_function): For pre-parsed functions, layout all of the parm decls again.\n\n(grokvardecl): TREE_PUBLIC depends on DECL_THIS_EXTERN, not DECL_EXTERNAL.\n\nFrom-SVN: r10048", "tree": {"sha": "4c74cd05acd38d725a9a6fde011fac977d365678", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c74cd05acd38d725a9a6fde011fac977d365678"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fffd09332c475d2eeb704daa7d488e14d7cbf79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fffd09332c475d2eeb704daa7d488e14d7cbf79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fffd09332c475d2eeb704daa7d488e14d7cbf79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fffd09332c475d2eeb704daa7d488e14d7cbf79/comments", "author": null, "committer": null, "parents": [{"sha": "3b98dc43ed5e03846cae2cf761f3cdf882fb8c41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b98dc43ed5e03846cae2cf761f3cdf882fb8c41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b98dc43ed5e03846cae2cf761f3cdf882fb8c41"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "7516fef1e5dc91645b2da645e7c468a7f0af80bc", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fffd09332c475d2eeb704daa7d488e14d7cbf79/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fffd09332c475d2eeb704daa7d488e14d7cbf79/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=9fffd09332c475d2eeb704daa7d488e14d7cbf79", "patch": "@@ -7380,7 +7380,7 @@ grokvardecl (type, declarator, specbits, initialized, constp)\n   else if (toplevel_bindings_p ())\n     {\n       TREE_PUBLIC (decl) = (RIDBIT_NOTSETP (RID_STATIC, specbits)\n-\t\t\t    && (DECL_EXTERNAL (decl) || ! constp));\n+\t\t\t    && (DECL_THIS_EXTERN (decl) || ! constp));\n       TREE_STATIC (decl) = ! DECL_EXTERNAL (decl);\n     }\n   /* Not at top level, only `static' makes a static definition.  */\n@@ -11137,6 +11137,14 @@ start_function (declspecs, declarator, raises, pre_parsed_p)\n \n       /* In a fcn definition, arg types must be complete.  */\n       require_complete_types_for_parms (last_function_parms);\n+\n+      /* In case some arg types were completed since the declaration was\n+         parsed, fix up the decls.  */\n+      {\n+\ttree t = last_function_parms;\n+\tfor (; t; t = TREE_CHAIN (t))\n+\t  layout_decl (t, 0);\n+      }\n     }\n   else\n     {"}]}