{"sha": "11b81575c51c02a979588df1e06b73a6db2e38c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTFiODE1NzVjNTFjMDJhOTc5NTg4ZGYxZTA2YjczYTZkYjJlMzhjMQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2020-01-13T18:37:55Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2020-01-13T18:43:28Z"}, "message": "Revert \"contrib: Add in the default push rule which was overridden\"\n\nThis reverts commit b60563a8bf18b5a49431b5913f32f5c5ff8319d9.\n\nDoesn't work as expected.", "tree": {"sha": "3f837476f2ea6c54d96b35a6eef37f2f15a8ea48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3f837476f2ea6c54d96b35a6eef37f2f15a8ea48"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/11b81575c51c02a979588df1e06b73a6db2e38c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11b81575c51c02a979588df1e06b73a6db2e38c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/11b81575c51c02a979588df1e06b73a6db2e38c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/11b81575c51c02a979588df1e06b73a6db2e38c1/comments", "author": null, "committer": null, "parents": [{"sha": "b60563a8bf18b5a49431b5913f32f5c5ff8319d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b60563a8bf18b5a49431b5913f32f5c5ff8319d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b60563a8bf18b5a49431b5913f32f5c5ff8319d9"}], "stats": {"total": 23, "additions": 12, "deletions": 11}, "files": [{"sha": "79956444091570a927b05f5129337f7773647bca", "filename": "contrib/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=11b81575c51c02a979588df1e06b73a6db2e38c1", "patch": "@@ -1,3 +1,12 @@\n+2010-01-13  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tRevert:\n+\t2010-01-13  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* gcc-git-customization.sh: Add back the default rule that\n+\tis lost by adding a custom push rule.\n+\t* git-fetch-vendor.sh: Likewise, also remove '+' from push specs.\n+\n 2010-01-13  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* gcc-git-customization.sh: Add back the default rule that"}, {"sha": "3b9d79d3d38e29475b340e1b94a057f306f33712", "filename": "contrib/gcc-git-customization.sh", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2Fgcc-git-customization.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2Fgcc-git-customization.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc-git-customization.sh?ref=11b81575c51c02a979588df1e06b73a6db2e38c1", "patch": "@@ -68,11 +68,7 @@ echo \"(local branches starting <prefix>/ can be pushed directly to your\"\n ask \"personal area on the gcc server)\" $old_pfx new_pfx\n git config \"gcc-config.userpfx\" \"$new_pfx\"\n \n-# This entry needs to come last, so unset it now, then reset it after the updates.\n-git config --unset \"remote.${upstream}.push\" \"refs/heads/\\\\*:refs/heads/\\\\*\"\n echo \"Setting up tracking for personal namespace $remote_id in remotes/$upstream/${new_pfx}\"\n git config --replace-all \"remote.${upstream}.fetch\" \"+refs/users/${remote_id}/heads/*:refs/remotes/${upstream}/${new_pfx}/*\" \":refs/remotes/${upstream}/${old_pfx}/\"\n git config --replace-all \"remote.${upstream}.fetch\" \"+refs/users/${remote_id}/tags/*:refs/tags/${new_pfx}/*\" \":refs/tags/${old_pfx}/\"\n git config --replace-all \"remote.${upstream}.push\" \"refs/heads/${new_pfx}/*:refs/users/${remote_id}/heads/*\" \"^\\+?refs/heads/${old_pfx}/\"\n-# Re-add the line deleted above.\n-git config --add \"remote.${upstream}.push\" \"refs/heads/*:refs/heads/*\""}, {"sha": "5e1b1f0a8540365a63c4245cddfc7cd76d93191b", "filename": "contrib/git-fetch-vendor.sh", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2Fgit-fetch-vendor.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/11b81575c51c02a979588df1e06b73a6db2e38c1/contrib%2Fgit-fetch-vendor.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgit-fetch-vendor.sh?ref=11b81575c51c02a979588df1e06b73a6db2e38c1", "patch": "@@ -14,13 +14,9 @@ then\n     exit 1\n fi\n \n-# This entry needs to come last, so unset it now, then reset it after the updates.\n-git config --unset \"remote.${upstream}.push\" \"refs/heads/\\\\*:refs/heads/\\\\*\"\n-\n echo \"setting up git to fetch vendor ${vendor} to remotes/${upstream}/${vendor}\"\n-git config --replace-all \"remote.${upstream}.fetch\" \"refs/vendors/${vendor}/heads/*:refs/remotes/${upstream}/${vendor}/*\" \":refs/remotes/${upstream}/${vendor}/\"\n+\n+git config --replace-all \"remote.${upstream}.fetch\" \"+refs/vendors/${vendor}/heads/*:refs/remotes/${upstream}/${vendor}/*\" \":refs/remotes/${upstream}/${vendor}/\"\n git config --replace-all \"remote.${upstream}.fetch\" \"+refs/vendors/${vendor}/tags/*:refs/tags/${vendor}/*\" \":refs/tags/${vendor}/\"\n-git config --replace-all \"remote.${upstream}.push\" \"refs/heads/${vendor}/*:refs/vendors/${vendor}/heads/*\" \"^\\+?refs/heads/${vendor}/\"\n-# Re-add the line deleted above.\n-git config --add \"remote.${upstream}.push\" \"refs/heads/*:refs/heads/*\"\n+git config --replace-all \"remote.${upstream}.push\" \"+refs/heads/${vendor}/*:refs/vendors/${vendor}/heads/*\" \"^\\+refs/heads/${vendor}/\"\n git fetch"}]}