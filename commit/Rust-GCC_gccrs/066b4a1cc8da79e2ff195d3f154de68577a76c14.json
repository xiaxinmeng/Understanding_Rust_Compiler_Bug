{"sha": "066b4a1cc8da79e2ff195d3f154de68577a76c14", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDY2YjRhMWNjOGRhNzllMmZmMTk1ZDNmMTU0ZGU2ODU3N2E3NmMxNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-12-02T10:12:20Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-12-02T10:12:20Z"}, "message": "decl2.c (validate_nonmember_using_decl): Complain about using declarations for class members.\n\n\t* decl2.c (validate_nonmember_using_decl): Complain about using\n\tdeclarations for class members.\n\nFrom-SVN: r24060", "tree": {"sha": "a12aa702427dd1f4bdfa449696a3ad3c2512152f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a12aa702427dd1f4bdfa449696a3ad3c2512152f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/066b4a1cc8da79e2ff195d3f154de68577a76c14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/066b4a1cc8da79e2ff195d3f154de68577a76c14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/066b4a1cc8da79e2ff195d3f154de68577a76c14", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/066b4a1cc8da79e2ff195d3f154de68577a76c14/comments", "author": null, "committer": null, "parents": [{"sha": "b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7f7462b7a23b0e5465e66f1738f3caf22a38b65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7f7462b7a23b0e5465e66f1738f3caf22a38b65"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "336e694d8760b3578ae6917de3ae987b949b4d37", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=066b4a1cc8da79e2ff195d3f154de68577a76c14", "patch": "@@ -1,3 +1,8 @@\n+1998-12-02  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* decl2.c (validate_nonmember_using_decl): Complain about using\n+\tdeclarations for class members.\n+\n 1998-11-29  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* typeck2.c (process_init_constructor): Use same_type_p."}, {"sha": "cf9df28ba0c2f62affc127074af3f40dab3a9abe", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=066b4a1cc8da79e2ff195d3f154de68577a76c14", "patch": "@@ -4690,6 +4690,16 @@ validate_nonmember_using_decl (decl, scope, name)\n     {\n       *scope = TREE_OPERAND (decl, 0);\n       *name = TREE_OPERAND (decl, 1);\n+\n+      /* [namespace.udecl]\n+\n+\t A using-declaration for a class member shall be a\n+\t member-declaration.  */\n+      if (TREE_CODE (*scope) != NAMESPACE_DECL)\n+\t{\n+\t  cp_error (\"`%D' is not a namespace\", *scope);\n+\t  return NULL_TREE;\n+\t}\n     }\n   else if (TREE_CODE (decl) == IDENTIFIER_NODE\n            || TREE_CODE (decl) == TYPE_DECL"}, {"sha": "23943f22a1a34bee4dfd41b4ab366bd26b04712c", "filename": "gcc/testsuite/g++.old-deja/g++.ns/using11.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ns%2Fusing11.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/066b4a1cc8da79e2ff195d3f154de68577a76c14/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ns%2Fusing11.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ns%2Fusing11.C?ref=066b4a1cc8da79e2ff195d3f154de68577a76c14", "patch": "@@ -0,0 +1,9 @@\n+// Build don't link:\n+\n+class joey {\n+public:\n+  typedef int SVec;\n+};\n+\n+using joey::SVec; // ERROR - joey is not a namespace\n+"}]}