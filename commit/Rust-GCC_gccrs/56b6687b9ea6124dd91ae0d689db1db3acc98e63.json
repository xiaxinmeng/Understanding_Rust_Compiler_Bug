{"sha": "56b6687b9ea6124dd91ae0d689db1db3acc98e63", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZiNjY4N2I5ZWE2MTI0ZGQ5MWFlMGQ2ODlkYjFkYjNhY2M5OGU2Mw==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2011-08-06T14:57:52Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2011-08-06T14:57:52Z"}, "message": "Add testcases for PR 47381.\n\n2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR target/47381\n\t* gcc.dg/pr47381-1.c: New.\n\t* gcc.dg/pr47381-2.c: Likewise.\n\t* gcc.target/i386/pr47381.c: Likewise.\n\nFrom-SVN: r177514", "tree": {"sha": "e0053c26ed47d6c2c9063657636f3d5dfaa908df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0053c26ed47d6c2c9063657636f3d5dfaa908df"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56b6687b9ea6124dd91ae0d689db1db3acc98e63", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b6687b9ea6124dd91ae0d689db1db3acc98e63", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56b6687b9ea6124dd91ae0d689db1db3acc98e63", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56b6687b9ea6124dd91ae0d689db1db3acc98e63/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8f2b8cdefe723ec391bdcd8ce4e1931bd71418b6"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "e5f649caa7d319506e35ae422140f7864b9eb102", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=56b6687b9ea6124dd91ae0d689db1db3acc98e63", "patch": "@@ -1,3 +1,10 @@\n+2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR target/47381\n+\t* gcc.dg/pr47381-1.c: New.\n+\t* gcc.dg/pr47381-2.c: Likewise.\n+\t* gcc.target/i386/pr47381.c: Likewise.\n+\n 2011-08-06  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR middle-end/47727"}, {"sha": "738a892083bdfac964dc1f7a6bbf3e55b9362102", "filename": "gcc/testsuite/gcc.dg/pr47381-1.c", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-1.c?ref=56b6687b9ea6124dd91ae0d689db1db3acc98e63", "patch": "@@ -0,0 +1,26 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+typedef unsigned IPos;\n+typedef unsigned char uch;\n+extern uch window[];\n+unsigned max_chain_length;\n+unsigned strstart;\n+int longest_match(IPos cur_match, int len, int best_len)\n+{\n+    unsigned chain_length = max_chain_length;\n+    register uch *scan = window + strstart;\n+    register uch *match;\n+    register uch scan_end1 = scan[best_len-1];\n+    register uch scan_end = scan[best_len];\n+    do {\n+        ;\n+        match = window + cur_match;\n+        if (match[best_len] != scan_end ||\n+            match[best_len-1] != scan_end1 ||\n+            *match != *scan ||\n+            *++match != scan[1]) continue;\n+            best_len = len;\n+    } while ( --chain_length != 0);\n+    return best_len;\n+}"}, {"sha": "8aa7be720a026b354e258112dab6c5b121b33d44", "filename": "gcc/testsuite/gcc.dg/pr47381-2.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr47381-2.c?ref=56b6687b9ea6124dd91ae0d689db1db3acc98e63", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+typedef unsigned long ulg;\n+long block_start;\n+typedef unsigned char uch;\n+extern uch window[];\n+ unsigned strstart;\n+ulg flush_block (char *buf, ulg stored_len, int eof);\n+ulg deflate()\n+{\n+    return flush_block(block_start >= 0L ? (char*)&window[(unsigned)block_start] : (char*)((void *)0), (long)strstart - block_start, (1));\n+}"}, {"sha": "c4b2127c28642c7e9da902beb815fdb8ce9fdd31", "filename": "gcc/testsuite/gcc.target/i386/pr47381.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr47381.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56b6687b9ea6124dd91ae0d689db1db3acc98e63/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr47381.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr47381.c?ref=56b6687b9ea6124dd91ae0d689db1db3acc98e63", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2 -march=atom\" } */\n+\n+struct foo_t {\n+  int limit;\n+} foo[3];\n+void\n+bar () {\n+  int i;\n+  for (i = 0; i < 3; i++) {\n+    __builtin_memset (&foo[i], 0, sizeof(*foo));\n+  }\n+}"}]}