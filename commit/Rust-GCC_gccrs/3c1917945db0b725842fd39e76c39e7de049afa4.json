{"sha": "3c1917945db0b725842fd39e76c39e7de049afa4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2MxOTE3OTQ1ZGIwYjcyNTg0MmZkMzllNzZjMzllN2RlMDQ5YWZhNA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-09-20T17:52:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-09-20T17:52:23Z"}, "message": "re PR go/77625 (go/gofrontend/ast-dump.cc:169:42: error: \u2018new\u2019 of type \u2018std::ofstr eam {aka std::basic_ofstream<char>}\u2019 with extended alignment 16)\n\n\tPR go/77625\n\n    compiler: allocate std::ofstream as a local variable\n    \n    GCC PR 77625 points out a warning about new std::ofstream.  I don't know\n    how that is supposed to work, but in this case the std::ofstream may as\n    well be a local variable anyhow.\n    \n    Reviewed-on: https://go-review.googlesource.com/29435\n\nFrom-SVN: r240279", "tree": {"sha": "24ad686007250c0780f1f0e3ce5bb3da1c01c8cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24ad686007250c0780f1f0e3ce5bb3da1c01c8cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c1917945db0b725842fd39e76c39e7de049afa4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c1917945db0b725842fd39e76c39e7de049afa4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c1917945db0b725842fd39e76c39e7de049afa4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c1917945db0b725842fd39e76c39e7de049afa4/comments", "author": null, "committer": null, "parents": [{"sha": "9b1ba33cf61cc1ca76bacd1eb3a41fe0eb5d12e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b1ba33cf61cc1ca76bacd1eb3a41fe0eb5d12e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b1ba33cf61cc1ca76bacd1eb3a41fe0eb5d12e9"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "48d19462897bbb495220d57087e8b2d1247bc053", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c1917945db0b725842fd39e76c39e7de049afa4/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c1917945db0b725842fd39e76c39e7de049afa4/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=3c1917945db0b725842fd39e76c39e7de049afa4", "patch": "@@ -1,4 +1,4 @@\n-80720773ac1a3433b7de59ffa5c04744123247c3\n+57d120d75be87c2a0da67e750f16929891f1b8f4\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "8dad18c4f05cd09be58f0515cbad7cb23facdc3b", "filename": "gcc/go/gofrontend/ast-dump.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c1917945db0b725842fd39e76c39e7de049afa4/gcc%2Fgo%2Fgofrontend%2Fast-dump.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c1917945db0b725842fd39e76c39e7de049afa4/gcc%2Fgo%2Fgofrontend%2Fast-dump.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fast-dump.cc?ref=3c1917945db0b725842fd39e76c39e7de049afa4", "patch": "@@ -166,24 +166,24 @@ const char* kAstDumpFileExtension = \".dump.ast\";\n void\n Ast_dump_context::dump(Gogo* gogo, const char* basename)\n {\n-  std::ofstream* out = new std::ofstream();\n+  std::ofstream out;\n   std::string dumpname(basename);\n   dumpname += \".dump.ast\";\n-  out->open(dumpname.c_str());\n+  out.open(dumpname.c_str());\n \n-  if (out->fail())\n+  if (out.fail())\n     {\n       error(\"cannot open %s:%m, -fgo-dump-ast ignored\", dumpname.c_str());\n       return;\n     }\n \n   this->gogo_ = gogo;\n-  this->ostream_ = out;\n+  this->ostream_ = &out;\n \n   Ast_dump_traverse_blocks_and_functions adtbf(this);\n   gogo->traverse(&adtbf);\n \n-  out->close();\n+  out.close();\n }\n \n // Dump a textual representation of a type to the"}]}