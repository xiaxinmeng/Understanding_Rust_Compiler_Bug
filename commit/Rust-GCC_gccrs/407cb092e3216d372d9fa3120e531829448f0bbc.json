{"sha": "407cb092e3216d372d9fa3120e531829448f0bbc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDA3Y2IwOTJlMzIxNmQzNzJkOWZhMzEyMGU1MzE4Mjk0NDhmMGJiYw==", "commit": {"author": {"name": "Paul Eggert", "email": "eggert@twinsun.com", "date": "1997-09-27T03:46:35Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-09-27T03:46:35Z"}, "message": "c-typeck.c (build_binary_op): Warn about comparing signed vs unsigned if...\n\n        * c-typeck.c (build_binary_op): Warn about comparing signed vs\n        unsigned if -W is specified and -Wno-sign-compare is not.\n        * c-decl.c (warn_sign_compare): Initialize to -1.\n        (c_decode_option): -Wall no longer implies -Wsign-compare.\n\nFrom-SVN: r15739", "tree": {"sha": "9364040c5ea8353e79b03373275054360d7f64c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9364040c5ea8353e79b03373275054360d7f64c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/407cb092e3216d372d9fa3120e531829448f0bbc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/407cb092e3216d372d9fa3120e531829448f0bbc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/407cb092e3216d372d9fa3120e531829448f0bbc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/407cb092e3216d372d9fa3120e531829448f0bbc/comments", "author": null, "committer": null, "parents": [{"sha": "3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ba104945bc26252fbe5bb6cbeb67a5a33cf90f2"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "993df97020b66efabb4aaa0ca9de25b21ac2bea0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=407cb092e3216d372d9fa3120e531829448f0bbc", "patch": "@@ -1,3 +1,10 @@\n+Fri Sep 26 08:54:59 1997  Paul Eggert  <eggert@twinsun.com>\n+\n+\t* c-typeck.c (build_binary_op): Warn about comparing signed vs\n+\tunsigned if -W is specified and -Wno-sign-compare is not.\n+\t* c-decl.c (warn_sign_compare): Initialize to -1.\n+\t(c_decode_option): -Wall no longer implies -Wsign-compare.\n+\n Fri Sep 26 09:00:13 1997  Andreas Schwab  <schwab@issan.informatik.uni-dortmund.de>\n \n \t* integrate.c (expand_inline_function): Make sure there is at"}, {"sha": "09143e41fce7111c79436530999cf04ce5553f81", "filename": "gcc/c-decl.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=407cb092e3216d372d9fa3120e531829448f0bbc", "patch": "@@ -553,9 +553,10 @@ int warn_missing_braces;\n \n int warn_main;\n \n-/* Warn about comparison of signed and unsigned values.  */\n+/* Warn about comparison of signed and unsigned values.\n+   If -1, neither -Wsign-compare nor -Wno-sign-compare has been specified.  */\n \n-int warn_sign_compare;\n+int warn_sign_compare = -1;\n \n /* Nonzero means `$' can be in an identifier.  */\n \n@@ -758,7 +759,6 @@ c_decode_option (p)\n       warn_char_subscripts = 1;\n       warn_parentheses = 1;\n       warn_missing_braces = 1;\n-      warn_sign_compare = 1;\n       /* We set this to 2 here, but 1 in -Wmain, so -ffreestanding can turn\n \t it off only if it's not explicit.  */\n       warn_main = 2;"}, {"sha": "22843aecc82184f889140776a07296fa0ad8b3b9", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/407cb092e3216d372d9fa3120e531829448f0bbc/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=407cb092e3216d372d9fa3120e531829448f0bbc", "patch": "@@ -2477,7 +2477,8 @@ build_binary_op (code, orig_op0, orig_op1, convert_p)\n \t  converted = 1;\n \t  resultcode = xresultcode;\n \n-\t  if (warn_sign_compare && skip_evaluation == 0)\n+\t  if ((warn_sign_compare < 0 ? extra_warnings : warn_sign_compare != 0)\n+\t      && skip_evaluation == 0)\n \t    {\n \t      int op0_signed = ! TREE_UNSIGNED (TREE_TYPE (orig_op0));\n \t      int op1_signed = ! TREE_UNSIGNED (TREE_TYPE (orig_op1));"}]}