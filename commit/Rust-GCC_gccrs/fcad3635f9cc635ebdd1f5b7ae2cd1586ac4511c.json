{"sha": "fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNhZDM2MzVmOWNjNjM1ZWJkZDFmNWI3YWUyY2QxNTg2YWM0NTExYw==", "commit": {"author": {"name": "Alan Lawrence", "email": "alan.lawrence@arm.com", "date": "2014-09-09T14:08:56Z"}, "committer": {"name": "Alan Lawrence", "email": "alalaw01@gcc.gnu.org", "date": "2014-09-09T14:08:56Z"}, "message": "[AArch64 Testsuite] Add a test of vldN_dup intrinsics\n\n        * gcc.target/aarch64/vldN_dup_1.c: New test.\n\nFrom-SVN: r215078", "tree": {"sha": "503672ed78e32fefb9389f7868ced72ff8e984b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/503672ed78e32fefb9389f7868ced72ff8e984b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c/comments", "author": null, "committer": null, "parents": [{"sha": "a3ea9ab8d081dd33c816c9a18debec563280fc76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3ea9ab8d081dd33c816c9a18debec563280fc76", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3ea9ab8d081dd33c816c9a18debec563280fc76"}], "stats": {"total": 88, "additions": 88, "deletions": 0}, "files": [{"sha": "50510e13cc5eb7a172d1e8c03656f6b13f9f05c8", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "patch": "@@ -1,3 +1,7 @@\n+2014-09-09  Alan Lawrence  <alan.lawrence@arm.com>\n+\n+\t* gcc.target/aarch64/vldN_dup_1.c: New test.\n+\n 2014-09-09  Alan Lawrence  <alan.lawrence@arm.com>\n \n \t* gcc.target/aarch64/vld1-vst1_1.c: Rewrite to test all variants."}, {"sha": "9af0565d617b027f7b2551bb27b6d75fe4c81d5d", "filename": "gcc/testsuite/gcc.target/aarch64/vldN_dup_1.c", "status": "added", "additions": 84, "deletions": 0, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2FvldN_dup_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2FvldN_dup_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2FvldN_dup_1.c?ref=fcad3635f9cc635ebdd1f5b7ae2cd1586ac4511c", "patch": "@@ -0,0 +1,84 @@\n+/* { dg-do run } */\n+/* { dg-options \"-O3 -fno-inline\" } */\n+\n+#include <arm_neon.h>\n+\n+extern void abort (void);\n+\n+#define VARIANTS(VARIANT, STRUCT)\t\\\n+VARIANT (uint8, , 8, _u8, STRUCT)\t\\\n+VARIANT (uint16, , 4, _u16, STRUCT)\t\\\n+VARIANT (uint32, , 2, _u32, STRUCT)\t\\\n+VARIANT (uint64, , 1, _u64, STRUCT)\t\\\n+VARIANT (int8, , 8, _s8, STRUCT)\t\\\n+VARIANT (int16, , 4, _s16, STRUCT)\t\\\n+VARIANT (int32, , 2, _s32, STRUCT)\t\\\n+VARIANT (int64, , 1, _s64, STRUCT)\t\\\n+VARIANT (poly8, , 8, _p8, STRUCT)\t\\\n+VARIANT (poly16, , 4, _p16, STRUCT)\t\\\n+VARIANT (float32, , 2, _f32, STRUCT)\t\\\n+VARIANT (float64, , 1, _f64, STRUCT)\t\\\n+VARIANT (uint8, q, 16, _u8, STRUCT)\t\\\n+VARIANT (uint16, q, 8, _u16, STRUCT)\t\\\n+VARIANT (uint32, q, 4, _u32, STRUCT)\t\\\n+VARIANT (uint64, q, 2, _u64, STRUCT)\t\\\n+VARIANT (int8, q, 16, _s8, STRUCT)\t\\\n+VARIANT (int16, q, 8, _s16, STRUCT)\t\\\n+VARIANT (int32, q, 4, _s32, STRUCT)\t\\\n+VARIANT (int64, q, 2, _s64, STRUCT)\t\\\n+VARIANT (poly8, q, 16, _p8, STRUCT)\t\\\n+VARIANT (poly16, q, 8, _p16, STRUCT)\t\\\n+VARIANT (float32, q, 4, _f32, STRUCT)\t\\\n+VARIANT (float64, q, 2, _f64, STRUCT)\n+\n+#define TESTMETH(BASE, Q, ELTS, SUFFIX, STRUCT)\t\\\n+int\t\t\t\t\t\t\t\t\\\n+test_vld##STRUCT##Q##_dup##SUFFIX (const BASE##_t *data)\t\\\n+{\t\t\t\t\t\t\t\t\\\n+  BASE##_t temp[ELTS];\t\t\t\t\t\t\\\n+  BASE##x##ELTS##x##STRUCT##_t vectors =\t\t\t\\\n+\t\t\t   vld##STRUCT##Q##_dup##SUFFIX (data); \\\n+  int i,j;\t\t\t\t\t\t\t\\\n+  for (i = 0; i < STRUCT; i++)\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\\\n+      vst1##Q##SUFFIX (temp, vectors.val[i]);\t\t\t\\\n+      for (j = 0; j < ELTS; j++)\t\t\t\t\\\n+        if (temp[j] != data[i])\t\t\t\t\t\\\n+          return 1;\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\\\n+  return 0;\t\t\t\t\t\t\t\\\n+}\n+\n+/* Tests of vld2_dup and vld2q_dup.  */\n+VARIANTS (TESTMETH, 2)\n+/* Tests of vld3_dup and vld3q_dup.  */\n+VARIANTS (TESTMETH, 3)\n+/* Tests of vld4_dup and vld4q_dup.  */\n+VARIANTS (TESTMETH, 4)\n+\n+#define CHECK(BASE, Q, ELTS, SUFFIX, STRUCT)\t\t\t\\\n+  if (test_vld##STRUCT##Q##_dup##SUFFIX (BASE ##_data) != 0)\t\\\n+    abort ();\n+\n+int\n+main (int argc, char **argv)\n+{\n+  uint8_t uint8_data[4] = { 7, 11, 13, 17 };\n+  uint16_t uint16_data[4] = { 257, 263, 269, 271 };\n+  uint32_t uint32_data[4] = { 65537, 65539, 65543, 65551 };\n+  uint64_t uint64_data[4] = { 0xdeadbeefcafebabeULL, 0x0123456789abcdefULL,\n+\t\t\t      0xfedcba9876543210LL, 0xdeadbabecafebeefLL };\n+  int8_t int8_data[4] = { -1, 3, -5, 7 };\n+  int16_t int16_data[4] = { 257, -259, 261, -263 };\n+  int32_t int32_data[4] = { 123456789, -987654321, -135792468, 975318642 };\n+  int64_t *int64_data = (int64_t *)uint64_data;\n+  poly8_t poly8_data[4] = { 0, 7, 13, 18, };\n+  poly16_t poly16_data[4] = { 11111, 2222, 333, 44 };\n+  float32_t float32_data[4] = { 3.14159, 2.718, 1.414, 100.0 };\n+  float64_t float64_data[4] = { 1.010010001, 12345.6789, -9876.54321, 1.618 };\n+\n+  VARIANTS (CHECK, 2);\n+  VARIANTS (CHECK, 3);\n+  VARIANTS (CHECK, 4);\n+  return 0;\n+}"}]}