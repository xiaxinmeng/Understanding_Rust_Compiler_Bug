{"sha": "d4ba0ead26158841f25581b7fadeab674518f828", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDRiYTBlYWQyNjE1ODg0MWYyNTU4MWI3ZmFkZWFiNjc0NTE4ZjgyOA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1998-05-12T07:36:02Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1998-05-12T07:36:02Z"}, "message": "Consolidate support for \"String-ification\" into system.h:\n\n        * system.h: Define the STRINGIFY macro here.\n        * protoize.c: Not here.\n        * gengenrtl.c (DEF_RTL_EXPR): Use the STRINGIFY macro.\n\nFrom-SVN: r19696", "tree": {"sha": "2fb587af1efbd13fd4d86070aee5d3a4a36998c6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2fb587af1efbd13fd4d86070aee5d3a4a36998c6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d4ba0ead26158841f25581b7fadeab674518f828", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4ba0ead26158841f25581b7fadeab674518f828", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d4ba0ead26158841f25581b7fadeab674518f828", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d4ba0ead26158841f25581b7fadeab674518f828/comments", "author": null, "committer": null, "parents": [{"sha": "7bc6a9ffaa55bd7593fe04984a46e2dc8f7175b5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bc6a9ffaa55bd7593fe04984a46e2dc8f7175b5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bc6a9ffaa55bd7593fe04984a46e2dc8f7175b5"}], "stats": {"total": 38, "additions": 25, "deletions": 13}, "files": [{"sha": "d225d2e5909ede27d00914da5466214045656410", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d4ba0ead26158841f25581b7fadeab674518f828", "patch": "@@ -1,3 +1,9 @@\n+Tue May 12 10:21:36 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* system.h: Define the STRINGIFY macro here.\n+\t* protoize.c: Not here.\n+\t* gengenrtl.c (DEF_RTL_EXPR): Use the STRINGIFY macro.\n+\n Tue May 12 00:47:33 1998  John Wehle  (john@feith.com)\n \n \t* varasm.c (assemble_variable): Compute the alignment of the data "}, {"sha": "a631c4ee0dfbd0787c886f0748f636b1e851c528", "filename": "gcc/gengenrtl.c", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fgengenrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fgengenrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengenrtl.c?ref=d4ba0ead26158841f25581b7fadeab674518f828", "patch": "@@ -35,11 +35,7 @@ struct rtx_definition\n   const char *enumname, *name, *format;\n };\n \n-#if defined(HAVE_CPP_STRINGIFY) || (defined(__GNUC__) && defined(__STDC__))\n-#define DEF_RTL_EXPR(ENUM, NAME, FORMAT, CLASS) { # ENUM, NAME, FORMAT },\n-#else\n-#define DEF_RTL_EXPR(ENUM, NAME, FORMAT, CLASS) { \"ENUM\", NAME, FORMAT },\n-#endif\n+#define DEF_RTL_EXPR(ENUM, NAME, FORMAT, CLASS) { STRINGIFY(ENUM), NAME, FORMAT },\n \n struct rtx_definition defs[] = \n {  "}, {"sha": "e5048c06709ab526ea67a1b9484b191e54430c76", "filename": "gcc/protoize.c", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fprotoize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fprotoize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprotoize.c?ref=d4ba0ead26158841f25581b7fadeab674518f828", "patch": "@@ -201,14 +201,6 @@ extern size_t   strlen ()\n \n #define NONCONST\n \n-/* Define a STRINGIFY macro that's right for ANSI or traditional C.  */\n-\n-#if defined(HAVE_CPP_STRINGIFY) || (defined(__GNUC__) && defined(__STDC__))\n-#define STRINGIFY(STRING) #STRING\n-#else\n-#define STRINGIFY(STRING) \"STRING\"\n-#endif\n-\n /* Define a default place to find the SYSCALLS.X file.  */\n \n #ifndef STD_PROTO_DIR"}, {"sha": "0107b26362ec25d9e8d7c72e42520c0cf9c6da93", "filename": "gcc/system.h", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fsystem.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d4ba0ead26158841f25581b7fadeab674518f828/gcc%2Fsystem.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsystem.h?ref=d4ba0ead26158841f25581b7fadeab674518f828", "patch": "@@ -249,4 +249,22 @@ void abort ();\n #endif /* USE_SYSTEM_ABORT */\n #endif /* !abort */\n \n+\n+/* Define a STRINGIFY macro that's right for ANSI or traditional C.\n+   HAVE_CPP_STRINGIFY only refers to the stage1 compiler.  Assume that\n+   (non-traditional) gcc used in stage2 or later has this feature.\n+\n+   Note: if the argument passed to STRINGIFY is itself a macro, eg\n+   #define foo bar, STRINGIFY(foo) will produce \"foo\", not \"bar\".\n+   Although the __STDC__ case could be made to expand this via a layer\n+   of indirection, the traditional C case can not do so.  Therefore\n+   this behavior is not supported. */\n+#ifndef STRINGIFY\n+# if defined(HAVE_CPP_STRINGIFY) || (defined(__GNUC__) && defined(__STDC__))\n+#  define STRINGIFY(STRING) #STRING\n+# else\n+#  define STRINGIFY(STRING) \"STRING\"\n+# endif\n+#endif /* ! STRINGIFY */\n+\n #endif /* __GCC_SYSTEM_H__ */"}]}