{"sha": "95ca411e0437d9954a40a2134bba237b1f2ef0fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTVjYTQxMWUwNDM3ZDk5NTRhNDBhMjEzNGJiYTIzN2IxZjJlZjBmYw==", "commit": {"author": {"name": "Yufeng Zhang", "email": "yufeng.zhang@arm.com", "date": "2013-04-10T17:22:02Z"}, "committer": {"name": "Yufeng Zhang", "email": "yufeng@gcc.gnu.org", "date": "2013-04-10T17:22:02Z"}, "message": "aarch64.c (aarch64_print_extension): New function.\n\n\t* config/aarch64/aarch64.c (aarch64_print_extension): New function.\n\t(aarch64_start_file): Use the new function.\n\nFrom-SVN: r197677", "tree": {"sha": "85847b09c0bd7b8f111d3acc16531750ab01f95a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85847b09c0bd7b8f111d3acc16531750ab01f95a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95ca411e0437d9954a40a2134bba237b1f2ef0fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95ca411e0437d9954a40a2134bba237b1f2ef0fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95ca411e0437d9954a40a2134bba237b1f2ef0fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95ca411e0437d9954a40a2134bba237b1f2ef0fc/comments", "author": null, "committer": null, "parents": [{"sha": "6782438df72d659f7ea62b40c274ca95b8a1ea54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6782438df72d659f7ea62b40c274ca95b8a1ea54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6782438df72d659f7ea62b40c274ca95b8a1ea54"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "3c281b4c8768f799e9768fb3e36f8335547b39ef", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95ca411e0437d9954a40a2134bba237b1f2ef0fc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95ca411e0437d9954a40a2134bba237b1f2ef0fc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=95ca411e0437d9954a40a2134bba237b1f2ef0fc", "patch": "@@ -1,3 +1,8 @@\n+2013-04-10  Yufeng Zhang  <yufeng.zhang@arm.com>\n+\n+\t* config/aarch64/aarch64.c (aarch64_print_extension): New function.\n+\t(aarch64_start_file): Use the new function.\n+\n 2013-04-10  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n             Jason Merrill  <jason@redhat.com>\n "}, {"sha": "49016c10adfccde094d461d0ff37e21b40bb7620", "filename": "gcc/config/aarch64/aarch64.c", "status": "modified", "additions": 20, "deletions": 2, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95ca411e0437d9954a40a2134bba237b1f2ef0fc/gcc%2Fconfig%2Faarch64%2Faarch64.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95ca411e0437d9954a40a2134bba237b1f2ef0fc/gcc%2Fconfig%2Faarch64%2Faarch64.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.c?ref=95ca411e0437d9954a40a2134bba237b1f2ef0fc", "patch": "@@ -7079,13 +7079,31 @@ aarch64_split_atomic_op (enum rtx_code code, rtx old_out, rtx new_out, rtx mem,\n   aarch64_emit_unlikely_jump (gen_rtx_SET (VOIDmode, pc_rtx, x));\n }\n \n+static void\n+aarch64_print_extension (void)\n+{\n+  const struct aarch64_option_extension *opt = NULL;\n+\n+  for (opt = all_extensions; opt->name != NULL; opt++)\n+    if ((aarch64_isa_flags & opt->flags_on) == opt->flags_on)\n+      asm_fprintf (asm_out_file, \"+%s\", opt->name);\n+\n+  asm_fprintf (asm_out_file, \"\\n\");\n+}\n+\n static void\n aarch64_start_file (void)\n {\n   if (selected_arch)\n-    asm_fprintf (asm_out_file, \"\\t.arch %s\\n\", selected_arch->name);\n+    {\n+      asm_fprintf (asm_out_file, \"\\t.arch %s\", selected_arch->name);\n+      aarch64_print_extension ();\n+    }\n   else if (selected_cpu)\n-    asm_fprintf (asm_out_file, \"\\t.cpu %s\\n\", selected_cpu->name);\n+    {\n+      asm_fprintf (asm_out_file, \"\\t.cpu %s\", selected_cpu->name);\n+      aarch64_print_extension ();\n+    }\n   default_file_start();\n }\n "}]}