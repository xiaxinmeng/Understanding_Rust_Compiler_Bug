{"sha": "04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDRmNGIyNGM4ZGU3ZGQ0Njc3ZjBjMmY5OGNmODhjYThmNjMxYjgxMQ==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-25T18:11:38Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-25T18:11:38Z"}, "message": "config/microblaze/microblaze.c: Use rtx_insn and rtx_code_label\n\ngcc/\n\t* config/microblaze/microblaze.c (microblaze_call_tls_get_addr):\n\tStrengthen return type and local \"insns\" from rtx to rtx_insn *.\n\t(microblaze_legitimize_tls_address): Likewise for local \"insns\".\n\t(microblaze_block_move_loop): Strengthen local \"label\" from rtx\n\tto rtx_code_label *.\n\t(microblaze_expand_prologue): Strengthen two locals named \"insn\"\n\tfrom rtx to rtx_insn *.\n\t(microblaze_asm_output_mi_thunk): Likewise for local \"insn\".\n\t(microblaze_expand_divide): Likewise for locals \"jump\", \"cjump\",\n\t\"insn\".  Strengthen locals \"div_label\", \"div_end_label\" from rtx\n\tto rtx_code_label *.\n\nFrom-SVN: r214449", "tree": {"sha": "6f48d3ef971ae64ec6056dce43e05ead0f30406e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6f48d3ef971ae64ec6056dce43e05ead0f30406e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "html_url": "https://github.com/Rust-GCC/gccrs/commit/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "aa4a0061bb12f205207feea29e61a4b03146a6fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa4a0061bb12f205207feea29e61a4b03146a6fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa4a0061bb12f205207feea29e61a4b03146a6fe"}], "stats": {"total": 38, "additions": 28, "deletions": 10}, "files": [{"sha": "57bc8519009d2ce0e29c294eb1336f111c77d153", "filename": "gcc/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "patch": "@@ -1,3 +1,17 @@\n+2014-08-25  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* config/microblaze/microblaze.c (microblaze_call_tls_get_addr):\n+\tStrengthen return type and local \"insns\" from rtx to rtx_insn *.\n+\t(microblaze_legitimize_tls_address): Likewise for local \"insns\".\n+\t(microblaze_block_move_loop): Strengthen local \"label\" from rtx\n+\tto rtx_code_label *.\n+\t(microblaze_expand_prologue): Strengthen two locals named \"insn\"\n+\tfrom rtx to rtx_insn *.\n+\t(microblaze_asm_output_mi_thunk): Likewise for local \"insn\".\n+\t(microblaze_expand_divide): Likewise for locals \"jump\", \"cjump\",\n+\t\"insn\".  Strengthen locals \"div_label\", \"div_end_label\" from rtx\n+\tto rtx_code_label *.\n+\n 2014-08-25  David Malcolm  <dmalcolm@redhat.com>\n \n \t* config/mep/mep-protos.h (mep_mulr_source): Strengthen first"}, {"sha": "1504740161219eb044161a8e908624730f1511cc", "filename": "gcc/config/microblaze/microblaze.c", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/04f4b24c8de7dd4677f0c2f98cf88ca8f631b811/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmicroblaze%2Fmicroblaze.c?ref=04f4b24c8de7dd4677f0c2f98cf88ca8f631b811", "patch": "@@ -571,10 +571,11 @@ load_tls_operand (rtx x, rtx reg)\n   return reg;\n }\n \n-static rtx\n+static rtx_insn *\n microblaze_call_tls_get_addr (rtx x, rtx reg, rtx *valuep, int reloc)\n {\n-  rtx insns, tls_entry;\n+  rtx_insn *insns;\n+  rtx tls_entry;\n \n   df_set_regs_ever_live (PIC_OFFSET_TABLE_REGNUM, true);\n \n@@ -598,7 +599,8 @@ microblaze_call_tls_get_addr (rtx x, rtx reg, rtx *valuep, int reloc)\n rtx\n microblaze_legitimize_tls_address(rtx x, rtx reg)\n {\n-  rtx dest, insns, ret, eqv, addend;\n+  rtx dest, ret, eqv, addend;\n+  rtx_insn *insns;\n   enum tls_model model;\n   model = SYMBOL_REF_TLS_MODEL (x);\n \n@@ -1147,7 +1149,8 @@ microblaze_adjust_block_mem (rtx mem, HOST_WIDE_INT length,\n static void\n microblaze_block_move_loop (rtx dest, rtx src, HOST_WIDE_INT length)\n {\n-  rtx label, src_reg, dest_reg, final_src;\n+  rtx_code_label *label;\n+  rtx src_reg, dest_reg, final_src;\n   HOST_WIDE_INT leftover;\n \n   leftover = length % MAX_MOVE_BYTES;\n@@ -2895,7 +2898,7 @@ microblaze_expand_prologue (void)\n     {\n       rtx fsiz_rtx = GEN_INT (fsiz);\n \n-      rtx insn = NULL;\n+      rtx_insn *insn = NULL;\n       insn = emit_insn (gen_subsi3 (stack_pointer_rtx, stack_pointer_rtx,\n \t\t\t\t    fsiz_rtx));\n       if (insn)\n@@ -2922,7 +2925,7 @@ microblaze_expand_prologue (void)\n \n       if (frame_pointer_needed)\n \t{\n-\t  rtx insn = 0;\n+\t  rtx_insn *insn = 0;\n \n \t  insn = emit_insn (gen_movsi (hard_frame_pointer_rtx,\n \t\t\t\t       stack_pointer_rtx));\n@@ -3169,7 +3172,8 @@ microblaze_asm_output_mi_thunk (FILE *file, tree thunk_fndecl ATTRIBUTE_UNUSED,\n         HOST_WIDE_INT delta, HOST_WIDE_INT vcall_offset,\n         tree function)\n {\n-  rtx this_rtx, insn, funexp;\n+  rtx this_rtx, funexp;\n+  rtx_insn *insn;\n \n   reload_completed = 1;\n   epilogue_completed = 1;\n@@ -3474,12 +3478,12 @@ microblaze_expand_divide (rtx operands[])\n   rtx regt1 = gen_reg_rtx (SImode); \n   rtx reg18 = gen_rtx_REG (SImode, R_TMP);\n   rtx regqi = gen_reg_rtx (QImode);\n-  rtx div_label = gen_label_rtx ();\n-  rtx div_end_label = gen_label_rtx ();\n+  rtx_code_label *div_label = gen_label_rtx ();\n+  rtx_code_label *div_end_label = gen_label_rtx ();\n   rtx div_table_rtx = gen_rtx_SYMBOL_REF (QImode,\"_divsi3_table\");\n   rtx mem_rtx;\n   rtx ret;\n-  rtx jump, cjump, insn;\n+  rtx_insn *jump, *cjump, *insn;\n \n   insn = emit_insn (gen_iorsi3 (regt1, operands[1], operands[2]));\n   cjump = emit_jump_insn_after (gen_cbranchsi4 ("}]}