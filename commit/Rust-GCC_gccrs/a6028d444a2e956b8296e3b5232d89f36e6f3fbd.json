{"sha": "a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYwMjhkNDQ0YTJlOTU2YjgyOTZlM2I1MjMyZDg5ZjM2ZTZmM2ZiZA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-11-05T00:37:48Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-11-05T00:37:48Z"}, "message": "reg-stack.c (convert_regs_1): Initialize target_stack->top after verifying an EH edge.\n\n        * reg-stack.c (convert_regs_1): Initialize target_stack->top\n        after verifying an EH edge.\n\nFrom-SVN: r30402", "tree": {"sha": "6fa20841e918a1f169187730f7f9b0fa855fc550", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6fa20841e918a1f169187730f7f9b0fa855fc550"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6028d444a2e956b8296e3b5232d89f36e6f3fbd/comments", "author": null, "committer": null, "parents": [{"sha": "bd695e1e9d018a98de8d09bd855574dc6e183ad9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd695e1e9d018a98de8d09bd855574dc6e183ad9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd695e1e9d018a98de8d09bd855574dc6e183ad9"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "ccaede9af824af8ff6239d0b23ce8852015a8dbb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6028d444a2e956b8296e3b5232d89f36e6f3fbd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6028d444a2e956b8296e3b5232d89f36e6f3fbd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "patch": "@@ -1,4 +1,9 @@\n-Fri Nov  5 19:38:14 1999  Richard Henderson  <rth@cygnus.com>\n+Thu Nov  4 16:36:44 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* reg-stack.c (convert_regs_1): Initialize target_stack->top\n+\tafter verifying an EH edge.\n+\n+Thu Nov  4 16:36:36 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* function.c (diddle_return_value): New.\n \t(expand_function_end): Use it."}, {"sha": "ec7d06997cc7a0680e1975ddc344b5eb8fc619e6", "filename": "gcc/reg-stack.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6028d444a2e956b8296e3b5232d89f36e6f3fbd/gcc%2Freg-stack.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6028d444a2e956b8296e3b5232d89f36e6f3fbd/gcc%2Freg-stack.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freg-stack.c?ref=a6028d444a2e956b8296e3b5232d89f36e6f3fbd", "patch": "@@ -2546,15 +2546,16 @@ convert_regs_1 (file, block)\n \t  HARD_REG_SET tmp;\n \n \t  CLEAR_HARD_REG_SET (tmp);\n-\t  GO_IF_HARD_REG_EQUAL (BLOCK_INFO (e->dest)->stack_in.reg_set,\n-\t\t\t\ttmp, eh1);\n+\t  GO_IF_HARD_REG_EQUAL (target_stack->reg_set, tmp, eh1);\n \t  abort();\n \teh1:\n \n \t  SET_HARD_REG_BIT (tmp, FIRST_STACK_REG);\n-\t  GO_IF_HARD_REG_EQUAL (BLOCK_INFO (e->src)->out_reg_set, tmp, eh2);\n+\t  GO_IF_HARD_REG_EQUAL (regstack.reg_set, tmp, eh2);\n \t  abort();\n-\teh2:;\n+\teh2:\n+\n+\t  target_stack->top = -1;\n \t}\n \n       /* It is better to output directly to the end of the block"}]}