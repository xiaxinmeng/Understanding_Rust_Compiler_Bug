{"sha": "1a129376bbc26d3c30af3c1ae6036e2e1446db40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWExMjkzNzZiYmMyNmQzYzMwYWYzYzFhZTYwMzZlMmUxNDQ2ZGI0MA==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-23T15:16:05Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2021-08-23T15:17:10Z"}, "message": "libstdc++: Add default template argument to basic_istream_view\n\nThe standard shows this default template argument in the <ranges>\nsynopsis, but it was missing in libstdc++.\n\nlibstdc++-v3/ChangeLog:\n\n\t* include/std/ranges (basic_istream_view): Add default template\n\targument.\n\t* testsuite/std/ranges/istream_view.cc: Check it.", "tree": {"sha": "1b2bcbbdfff913db590a4cb6c31c8338705845a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b2bcbbdfff913db590a4cb6c31c8338705845a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a129376bbc26d3c30af3c1ae6036e2e1446db40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a129376bbc26d3c30af3c1ae6036e2e1446db40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a129376bbc26d3c30af3c1ae6036e2e1446db40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a129376bbc26d3c30af3c1ae6036e2e1446db40/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fedadb60b6fc6425387faf4d514b4e8b0e24180e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fedadb60b6fc6425387faf4d514b4e8b0e24180e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fedadb60b6fc6425387faf4d514b4e8b0e24180e"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "b373e4f05c07156029299ba96823b616eec4254e", "filename": "libstdc++-v3/include/std/ranges", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a129376bbc26d3c30af3c1ae6036e2e1446db40/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a129376bbc26d3c30af3c1ae6036e2e1446db40/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges?ref=1a129376bbc26d3c30af3c1ae6036e2e1446db40", "patch": "@@ -679,7 +679,8 @@ namespace views\n \t= requires(basic_istream<_CharT, _Traits>& is, _Val& t) { is >> t; };\n   } // namespace __detail\n \n-  template<movable _Val, typename _CharT, typename _Traits>\n+  template<movable _Val, typename _CharT,\n+\t   typename _Traits = char_traits<_CharT>>\n     requires default_initializable<_Val>\n       && __detail::__stream_extractable<_Val, _CharT, _Traits>\n     class basic_istream_view"}, {"sha": "f5c0c2a6bb01bf92b5bf25bad140a2124be8491f", "filename": "libstdc++-v3/testsuite/std/ranges/istream_view.cc", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a129376bbc26d3c30af3c1ae6036e2e1446db40/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fistream_view.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a129376bbc26d3c30af3c1ae6036e2e1446db40/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fistream_view.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fstd%2Franges%2Fistream_view.cc?ref=1a129376bbc26d3c30af3c1ae6036e2e1446db40", "patch": "@@ -94,6 +94,15 @@ test05()\n     ;\n }\n \n+void\n+test06()\n+{\n+  // Default template argument\n+  using V = std::ranges::basic_istream_view<int, char>;\n+  using W = std::ranges::basic_istream_view<int, char, std::char_traits<char>>;\n+  static_assert( std::is_same_v<V, W> );\n+}\n+\n int\n main()\n {\n@@ -102,4 +111,5 @@ main()\n   test03();\n   test04();\n   test05();\n+  test06();\n }"}]}